import"./chunk-GAL4ENT6.js";var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function bt(){}var zt=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:void 0;function E(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Zt=bt,pt=Promise,Nr=Promise.prototype.then,Qr=Promise.resolve.bind(pt),Yr=Promise.reject.bind(pt);function q(e){return new pt(e)}function w(e){return Qr(e)}function d(e){return Yr(e)}function z(e,t,r){return Nr.call(e,t,r)}function W(e,t,r){z(z(e,t,r),void 0,Zt)}function tt(e,t){W(e,t)}function Xt(e,t){W(e,void 0,t)}function J(e,t,r){return z(e,t,r)}function Se(e){z(e,void 0,Zt)}var er=(()=>{let e=zt&&zt.queueMicrotask;if(typeof e=="function")return e;let t=w(void 0);return r=>z(t,r)})();function Ve(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function X(e,t,r){try{return w(Ve(e,t,r))}catch(o){return d(o)}}var k=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let r=this._back,o=r;r._elements.length===16383&&(o={_elements:[],_next:void 0}),r._elements.push(t),o!==r&&(this._back=o,r._next=o),++this._size}shift(){let t=this._front,r=t,o=this._cursor,n=o+1,i=t._elements,s=i[o];return n===16384&&(r=t._next,n=0),--this._size,this._cursor=n,t!==r&&(this._front=r),i[o]=void 0,s}forEach(t){let r=this._cursor,o=this._front,n=o._elements;for(;!(r===n.length&&o._next===void 0||r===n.length&&(o=o._next,n=o._elements,r=0,n.length===0));)t(n[r]),++r}peek(){let t=this._front,r=this._cursor;return t._elements[r]}};function tr(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?it(e):t._state==="closed"?function(r){it(r),or(r)}(e):rr(e,t._storedError)}function mt(e,t){return K(e._ownerReadableStream,t)}function U(e){e._ownerReadableStream._state==="readable"?yt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){rr(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ne(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function it(e){e._closedPromise=q((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function rr(e,t){it(e),yt(e,t)}function yt(e,t){e._closedPromise_reject!==void 0&&(Se(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function or(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var nr=b("[[AbortSteps]]"),ir=b("[[ErrorSteps]]"),gt=b("[[CancelSteps]]"),wt=b("[[PullSteps]]"),Bt=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Hr=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(t+" is not an object.");var r}function j(e,t){if(typeof e!="function")throw new TypeError(t+" is not a function.")}function ar(e,t){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(e))throw new TypeError(t+" is not an object.")}function F(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function at(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function vt(e){return Number(e)}function Ft(e){return e===0?0:e}function sr(e,t){let r=Number.MAX_SAFE_INTEGER,o=Number(e);if(o=Ft(o),!Bt(o))throw new TypeError(t+" is not a finite number");if(o=function(n){return Ft(Hr(n))}(o),o<0||o>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return Bt(o)&&o!==0?o:0}function St(e,t){if(!$(e))throw new TypeError(t+" is not a ReadableStream.")}function je(e){return new de(e)}function lr(e,t){e._reader._readRequests.push(t)}function Rt(e,t,r){let o=e._reader._readRequests.shift();r?o._closeSteps():o._chunkSteps(t)}function Ge(e){return e._reader._readRequests.length}function ur(e){let t=e._reader;return t!==void 0&&!!V(t)}var de=class{constructor(t){if(F(t,1,"ReadableStreamDefaultReader"),St(t,"First parameter"),D(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");tr(this,t),this._readRequests=new k}get closed(){return V(this)?this._closedPromise:d(Te("closed"))}cancel(t=void 0){return V(this)?this._ownerReadableStream===void 0?d(ne("cancel")):mt(this,t):d(Te("cancel"))}read(){if(!V(this))return d(Te("read"));if(this._ownerReadableStream===void 0)return d(ne("read from"));let t,r,o=q((n,i)=>{t=n,r=i});return Je(this,{_chunkSteps:n=>t({value:n,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:n=>r(n)}),o}releaseLock(){if(!V(this))throw Te("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}}};function V(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Je(e,t){let r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[wt](t)}function Te(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}var Be;Object.defineProperties(de.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(de.prototype,b.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof b.asyncIterator=="symbol"&&(Be={[b.asyncIterator](){return this}},Object.defineProperty(Be,b.asyncIterator,{enumerable:!1}));var st=class{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?J(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let r=()=>this._returnSteps(t);return this._ongoingPromise?J(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return d(ne("iterate"));let r,o,n=q((i,s)=>{r=i,o=s});return Je(t,{_chunkSteps:i=>{this._ongoingPromise=void 0,er(()=>r({value:i,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,U(t),r({value:void 0,done:!0})},_errorSteps:i=>{this._ongoingPromise=void 0,this._isFinished=!0,U(t),o(i)}}),n}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let r=this._reader;if(r._ownerReadableStream===void 0)return d(ne("finish iterating"));if(!this._preventCancel){let o=mt(r,t);return U(r),J(o,()=>({value:t,done:!0}))}return U(r),w({value:t,done:!0})}},cr={next(){return It(this)?this._asyncIteratorImpl.next():d(Lt("next"))},return(e){return It(this)?this._asyncIteratorImpl.return(e):d(Lt("return"))}};function It(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function Lt(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Be!==void 0&&Object.setPrototypeOf(cr,Be);var dr=Number.isNaN||function(e){return e!=e};function fr(e){return!!function(t){return!(typeof t!="number"||dr(t)||t<0)}(e)&&e!==1/0}function lt(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Tt(e,t,r){if(!fr(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function N(e){e._queue=new k,e._queueTotalSize=0}function rt(e){return e.slice()}var fe=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ot(this))throw nt("view");return this._view}respond(t){if(!ot(this))throw nt("respond");if(F(t,1,"respond"),t=sr(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,o){if(o=Number(o),!fr(o))throw new RangeError("bytesWritten must be a finite");Mt(r,o)}(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!ot(this))throw nt("respondWithNewView");if(F(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");(function(r,o){let n=r._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==o.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==o.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=o.buffer,Mt(r,o.byteLength)})(this._associatedReadableByteStreamController,t)}};Object.defineProperties(fe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,b.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var he=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!te(this))throw le("byobRequest");if(this._byobRequest===null&&this._pendingPullIntos.length>0){let t=this._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),o=Object.create(fe.prototype);(function(n,i,s){n._associatedReadableByteStreamController=i,n._view=s})(o,this,r),this._byobRequest=o}return this._byobRequest}get desiredSize(){if(!te(this))throw le("desiredSize");return yr(this)}close(){if(!te(this))throw le("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);(function(r){let o=r._controlledReadableByteStream;if(!(r._closeRequested||o._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){let n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw _e(r,n),n}Fe(r),Re(o)}})(this)}enqueue(t){if(!te(this))throw le("enqueue");if(F(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(o,n){let i=o._controlledReadableByteStream;if(o._closeRequested||i._state!=="readable")return;let s=n.buffer,a=n.byteOffset,l=n.byteLength,u=s;ur(i)?Ge(i)===0?Ae(o,u,a,l):Rt(i,new Uint8Array(u,a,l),!1):qt(i)?(Ae(o,u,a,l),mr(o)):Ae(o,u,a,l),Z(o)})(this,t)}error(t=void 0){if(!te(this))throw le("error");_e(this,t)}[gt](t){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),N(this);let r=this._cancelAlgorithm(t);return Fe(this),r}[wt](t){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0){let n=this._queue.shift();this._queueTotalSize-=n.byteLength,pr(this);let i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return void t._chunkSteps(i)}let o=this._autoAllocateChunkSize;if(o!==void 0){let n;try{n=new ArrayBuffer(o)}catch(s){return void t._errorSteps(s)}let i={buffer:n,byteOffset:0,byteLength:o,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}lr(r,t),Z(this)}};function te(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function ot(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Z(e){if(function(r){let o=r._controlledReadableByteStream;return o._state!=="readable"||r._closeRequested||!r._started?!1:!!(ur(o)&&Ge(o)>0||qt(o)&&gr(o)>0||yr(r)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,W(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Z(e))},r=>{_e(e,r)})}}function ut(e,t){let r=!1;e._state==="closed"&&(r=!0);let o=hr(t);t.readerType==="default"?Rt(e,o,r):function(n,i,s){let a=n._reader,l=a._readIntoRequests.shift();s?l._closeSteps(i):l._chunkSteps(i)}(e,o,r)}function hr(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Ae(e,t,r,o){e._queue.push({buffer:t,byteOffset:r,byteLength:o}),e._queueTotalSize+=o}function _r(e,t){let r=t.elementSize,o=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+n,s=i-i%r,a=n,l=!1;s>o&&(a=s-t.bytesFilled,l=!0);let u=e._queue;for(;a>0;){let m=u.peek(),h=Math.min(a,m.byteLength),S=t.byteOffset+t.bytesFilled;f=t.buffer,_=S,c=m.buffer,y=m.byteOffset,g=h,new Uint8Array(f).set(new Uint8Array(c,y,g),_),m.byteLength===h?u.shift():(m.byteOffset+=h,m.byteLength-=h),e._queueTotalSize-=h,br(e,h,t),a-=h}var f,_,c,y,g;return l}function br(e,t,r){Pt(e),r.bytesFilled+=t}function pr(e){e._queueTotalSize===0&&e._closeRequested?(Fe(e),Re(e._controlledReadableByteStream)):Z(e)}function Pt(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function mr(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();_r(e,t)&&(ct(e),ut(e._controlledReadableByteStream,t))}}function Mt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");(function(o,n){n.buffer=n.buffer;let i=o._controlledReadableByteStream;if(qt(i))for(;gr(i)>0;)ut(i,ct(o))})(e,r)}else(function(o,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(br(o,n,i),i.bytesFilled<i.elementSize)return;ct(o);let s=i.bytesFilled%i.elementSize;if(s>0){let a=i.byteOffset+i.bytesFilled,l=i.buffer.slice(a-s,a);Ae(o,l,0,l.byteLength)}i.buffer=i.buffer,i.bytesFilled-=s,ut(o._controlledReadableByteStream,i),mr(o)})(e,t,r);Z(e)}function ct(e){let t=e._pendingPullIntos.shift();return Pt(e),t}function Fe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _e(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(function(o){Pt(o),o._pendingPullIntos=new k}(e),N(e),Fe(e),Lr(r,t))}function yr(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Ur(e,t,r){let o=Object.create(he.prototype),n=()=>{},i=()=>w(void 0),s=()=>w(void 0);t.start!==void 0&&(n=()=>t.start(o)),t.pull!==void 0&&(i=()=>t.pull(o)),t.cancel!==void 0&&(s=l=>t.cancel(l));let a=t.autoAllocateChunkSize;if(a===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(l,u,f,_,c,y,g){u._controlledReadableByteStream=l,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,N(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=y,u._pullAlgorithm=_,u._cancelAlgorithm=c,u._autoAllocateChunkSize=g,u._pendingPullIntos=new k,l._readableStreamController=u,W(w(f()),()=>{u._started=!0,Z(u)},m=>{_e(u,m)})})(e,o,n,i,s,r,a)}function nt(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function le(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function $t(e,t){e._reader._readIntoRequests.push(t)}function gr(e){return e._reader._readIntoRequests.length}function qt(e){let t=e._reader;return t!==void 0&&!!ue(t)}Object.defineProperties(he.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(he.prototype,b.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var be=class{constructor(t){if(F(t,1,"ReadableStreamBYOBReader"),St(t,"First parameter"),D(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!te(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");tr(this,t),this._readIntoRequests=new k}get closed(){return ue(this)?this._closedPromise:d(Pe("closed"))}cancel(t=void 0){return ue(this)?this._ownerReadableStream===void 0?d(ne("cancel")):mt(this,t):d(Pe("cancel"))}read(t){if(!ue(this))return d(Pe("read"));if(!ArrayBuffer.isView(t))return d(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return d(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return d(new TypeError("view's buffer must have non-zero byteLength"));if(this._ownerReadableStream===void 0)return d(ne("read from"));let r,o,n=q((i,s)=>{r=i,o=s});return function(i,s,a){let l=i._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):function(u,f,_){let c=u._controlledReadableByteStream,y=1;f.constructor!==DataView&&(y=f.constructor.BYTES_PER_ELEMENT);let g=f.constructor,m={buffer:f.buffer,byteOffset:f.byteOffset,byteLength:f.byteLength,bytesFilled:0,elementSize:y,viewConstructor:g,readerType:"byob"};if(u._pendingPullIntos.length>0)return u._pendingPullIntos.push(m),void $t(c,_);if(c._state!=="closed"){if(u._queueTotalSize>0){if(_r(u,m)){let h=hr(m);return pr(u),void _._chunkSteps(h)}if(u._closeRequested){let h=new TypeError("Insufficient bytes to fill elements in the given buffer");return _e(u,h),void _._errorSteps(h)}}u._pendingPullIntos.push(m),$t(c,_),Z(u)}else{let h=new g(m.buffer,m.byteOffset,0);_._closeSteps(h)}}(l._readableStreamController,s,a)}(this,t,{_chunkSteps:i=>r({value:i,done:!1}),_closeSteps:i=>r({value:i,done:!0}),_errorSteps:i=>o(i)}),n}releaseLock(){if(!ue(this))throw Pe("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");U(this)}}};function ue(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Pe(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function pe(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(dr(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ie(e){let{size:t}=e;return t||(()=>1)}function Le(e,t){B(e,t);let r=e?.highWaterMark,o=e?.size;return{highWaterMark:r===void 0?void 0:vt(r),size:o===void 0?void 0:Vr(o,t+" has member 'size' that")}}function Vr(e,t){return j(e,t),r=>vt(e(r))}function Gr(e,t,r){return j(e,r),o=>X(e,t,[o])}function Jr(e,t,r){return j(e,r),()=>X(e,t,[])}function Kr(e,t,r){return j(e,r),o=>Ve(e,t,[o])}function Zr(e,t,r){return j(e,r),(o,n)=>X(e,t,[o,n])}function wr(e,t){if(!re(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(be.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(be.prototype,b.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var me=class{constructor(t={},r={}){t===void 0?t=null:ar(t,"First parameter");let o=Le(r,"Second parameter"),n=function(s,a){B(s,a);let l=s?.abort,u=s?.close,f=s?.start,_=s?.type,c=s?.write;return{abort:l===void 0?void 0:Gr(l,s,a+" has member 'abort' that"),close:u===void 0?void 0:Jr(u,s,a+" has member 'close' that"),start:f===void 0?void 0:Kr(f,s,a+" has member 'start' that"),write:c===void 0?void 0:Zr(c,s,a+" has member 'write' that"),type:_}}(t,"First parameter");if(Sr(this),n.type!==void 0)throw new RangeError("Invalid type is specified");let i=Ie(o);(function(s,a,l,u){let f=Object.create(ie.prototype),_=()=>{},c=()=>w(void 0),y=()=>w(void 0),g=()=>w(void 0);a.start!==void 0&&(_=()=>a.start(f)),a.write!==void 0&&(c=m=>a.write(m,f)),a.close!==void 0&&(y=()=>a.close()),a.abort!==void 0&&(g=m=>a.abort(m)),kr(s,f,_,c,y,g,l,u)})(this,n,pe(o,1),i)}get locked(){if(!re(this))throw Ee("locked");return oe(this)}abort(t=void 0){return re(this)?oe(this)?d(new TypeError("Cannot abort a stream that already has a writer")):Me(this,t):d(Ee("abort"))}close(){return re(this)?oe(this)?d(new TypeError("Cannot close a stream that already has a writer")):A(this)?d(new TypeError("Cannot close an already-closing stream")):Rr(this):d(Ee("close"))}getWriter(){if(!re(this))throw Ee("getWriter");return vr(this)}};function vr(e){return new ye(e)}function Sr(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new k,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function re(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function oe(e){return e._writer!==void 0}function Me(e,t){let r=e._state;if(r==="closed"||r==="errored")return w(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let o=!1;r==="erroring"&&(o=!0,t=void 0);let n=q((i,s)=>{e._pendingAbortRequest={_promise:void 0,_resolve:i,_reject:s,_reason:t,_wasAlreadyErroring:o}});return e._pendingAbortRequest._promise=n,o||Et(e,t),n}function Rr(e){let t=e._state;if(t==="closed"||t==="errored")return d(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=q((i,s)=>{let a={_resolve:i,_reject:s};e._closeRequest=a}),o=e._writer;var n;return o!==void 0&&e._backpressure&&t==="writable"&&jt(o),Tt(n=e._writableStreamController,Cr,0),Ke(n),r}function dt(e,t){e._state!=="writable"?Ct(e):Et(e,t)}function Et(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let o=e._writer;o!==void 0&&Pr(o,t),!function(n){return!(n._inFlightWriteRequest===void 0&&n._inFlightCloseRequest===void 0)}(e)&&r._started&&Ct(e)}function Ct(e){e._state="errored",e._writableStreamController[ir]();let t=e._storedError;if(e._writeRequests.forEach(o=>{o._reject(t)}),e._writeRequests=new k,e._pendingAbortRequest===void 0)return void qe(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void qe(e);W(e._writableStreamController[nr](r._reason),()=>{r._resolve(),qe(e)},o=>{r._reject(o),qe(e)})}function A(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function qe(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Wt(t,e._storedError)}function kt(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?function(o){Ze(o)}(r):jt(r)),e._backpressure=t}Object.defineProperties(me.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(me.prototype,b.toStringTag,{value:"WritableStream",configurable:!0});var ye=class{constructor(t){if(F(t,1,"WritableStreamDefaultWriter"),wr(t,"First parameter"),oe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let r=t._state;if(r==="writable")!A(t)&&t._backpressure?Ze(this):Dt(this),ze(this);else if(r==="erroring")ht(this,t._storedError),ze(this);else if(r==="closed")Dt(this),ze(o=this),Ar(o);else{let n=t._storedError;ht(this,n),jr(this,n)}var o}get closed(){return Q(this)?this._closedPromise:d(Y("closed"))}get desiredSize(){if(!Q(this))throw Y("desiredSize");if(this._ownerWritableStream===void 0)throw ce("desiredSize");return function(t){let r=t._ownerWritableStream,o=r._state;return o==="errored"||o==="erroring"?null:o==="closed"?0:Or(r._writableStreamController)}(this)}get ready(){return Q(this)?this._readyPromise:d(Y("ready"))}abort(t=void 0){return Q(this)?this._ownerWritableStream===void 0?d(ce("abort")):function(r,o){return Me(r._ownerWritableStream,o)}(this,t):d(Y("abort"))}close(){if(!Q(this))return d(Y("close"));let t=this._ownerWritableStream;return t===void 0?d(ce("close")):A(t)?d(new TypeError("Cannot close an already-closing stream")):Tr(this)}releaseLock(){if(!Q(this))throw Y("releaseLock");this._ownerWritableStream!==void 0&&qr(this)}write(t=void 0){return Q(this)?this._ownerWritableStream===void 0?d(ce("write to")):Er(this,t):d(Y("write"))}};function Q(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Tr(e){return Rr(e._ownerWritableStream)}function Xr(e,t){e._closedPromiseState==="pending"?Wt(e,t):function(r,o){jr(r,o)}(e,t)}function Pr(e,t){e._readyPromiseState==="pending"?zr(e,t):function(r,o){ht(r,o)}(e,t)}function qr(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Pr(e,r),Xr(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Er(e,t){let r=e._ownerWritableStream,o=r._writableStreamController,n=function(a,l){try{return a._strategySizeAlgorithm(l)}catch(u){return ft(a,u),1}}(o,t);if(r!==e._ownerWritableStream)return d(ce("write to"));let i=r._state;if(i==="errored")return d(r._storedError);if(A(r)||i==="closed")return d(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return d(r._storedError);let s=function(a){return q((l,u)=>{let f={_resolve:l,_reject:u};a._writeRequests.push(f)})}(r);return function(a,l,u){try{Tt(a,l,u)}catch(_){return void ft(a,_)}let f=a._controlledWritableStream;!A(f)&&f._state==="writable"&&kt(f,Ot(a)),Ke(a)}(o,t,n),s}Object.defineProperties(ye.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(ye.prototype,b.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Cr={},ie=class{constructor(){throw new TypeError("Illegal constructor")}error(t=void 0){if(!function(r){return!(!E(r)||!Object.prototype.hasOwnProperty.call(r,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&Wr(this,t)}[nr](t){let r=this._abortAlgorithm(t);return $e(this),r}[ir](){N(this)}};function kr(e,t,r,o,n,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,N(t),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=o,t._closeAlgorithm=n,t._abortAlgorithm=i;let l=Ot(t);kt(e,l),W(w(r()),()=>{t._started=!0,Ke(t)},u=>{t._started=!0,dt(e,u)})}function $e(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Or(e){return e._strategyHWM-e._queueTotalSize}function Ke(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void Ct(t);if(e._queue.length===0)return;let r=e._queue.peek().value;r===Cr?function(o){let n=o._controlledWritableStream;(function(s){s._inFlightCloseRequest=s._closeRequest,s._closeRequest=void 0})(n),lt(o);let i=o._closeAlgorithm();$e(o),W(i,()=>{(function(s){s._inFlightCloseRequest._resolve(void 0),s._inFlightCloseRequest=void 0,s._state==="erroring"&&(s._storedError=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._resolve(),s._pendingAbortRequest=void 0)),s._state="closed";let a=s._writer;a!==void 0&&Ar(a)})(n)},s=>{(function(a,l){a._inFlightCloseRequest._reject(l),a._inFlightCloseRequest=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._reject(l),a._pendingAbortRequest=void 0),dt(a,l)})(n,s)})}(e):function(o,n){let i=o._controlledWritableStream;(function(a){a._inFlightWriteRequest=a._writeRequests.shift()})(i);let s=o._writeAlgorithm(n);W(s,()=>{(function(l){l._inFlightWriteRequest._resolve(void 0),l._inFlightWriteRequest=void 0})(i);let a=i._state;if(lt(o),!A(i)&&a==="writable"){let l=Ot(o);kt(i,l)}Ke(o)},a=>{i._state==="writable"&&$e(o),function(l,u){l._inFlightWriteRequest._reject(u),l._inFlightWriteRequest=void 0,dt(l,u)}(i,a)})}(e,r)}function ft(e,t){e._controlledWritableStream._state==="writable"&&Wr(e,t)}function Ot(e){return Or(e)<=0}function Wr(e,t){let r=e._controlledWritableStream;$e(e),Et(r,t)}function Ee(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Y(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function ce(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ze(e){e._closedPromise=q((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function jr(e,t){ze(e),Wt(e,t)}function Wt(e,t){e._closedPromise_reject!==void 0&&(Se(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ar(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Ze(e){e._readyPromise=q((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function ht(e,t){Ze(e),zr(e,t)}function Dt(e){Ze(e),jt(e)}function zr(e,t){e._readyPromise_reject!==void 0&&(Se(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function jt(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(ie.prototype,{error:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(ie.prototype,b.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var xt=typeof DOMException<"u"?DOMException:void 0,eo=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(xt)?xt:function(){let e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function Nt(e,t,r,o,n,i){let s=je(e),a=vr(t);e._disturbed=!0;let l=!1,u=w(void 0);return q((f,_)=>{let c;if(i!==void 0){if(c=()=>{let p=new eo("Aborted","AbortError"),R=[];o||R.push(()=>t._state==="writable"?Me(t,p):w(void 0)),n||R.push(()=>e._state==="readable"?K(e,p):w(void 0)),v(()=>Promise.all(R.map(C=>C())),!0,p)},i.aborted)return void c();i.addEventListener("abort",c)}var y,g,m;if(S(e,s._closedPromise,p=>{o?I(!0,p):v(()=>Me(t,p),!0,p)}),S(t,a._closedPromise,p=>{n?I(!0,p):v(()=>K(e,p),!0,p)}),y=e,g=s._closedPromise,m=()=>{r?I():v(()=>function(p){let R=p._ownerWritableStream,C=R._state;return A(R)||C==="closed"?w(void 0):C==="errored"?d(R._storedError):Tr(p)}(a))},y._state==="closed"?m():tt(g,m),A(t)||t._state==="closed"){let p=new TypeError("the destination writable stream closed before all data could be piped to it");n?I(!0,p):v(()=>K(e,p),!0,p)}function h(){let p=u;return z(u,()=>p!==u?h():void 0)}function S(p,R,C){p._state==="errored"?C(p._storedError):Xt(R,C)}function v(p,R,C){function T(){W(p(),()=>L(R,C),P=>L(!0,P))}l||(l=!0,t._state!=="writable"||A(t)?T():tt(h(),T))}function I(p,R){l||(l=!0,t._state!=="writable"||A(t)?L(p,R):tt(h(),()=>L(p,R)))}function L(p,R){qr(a),U(s),i!==void 0&&i.removeEventListener("abort",c),p?_(R):f(void 0)}Se(q((p,R)=>{(function C(T){T?p():z(l?w(!0):z(a._readyPromise,()=>q((P,O)=>{Je(s,{_chunkSteps:M=>{u=z(Er(a,M),void 0,bt),P(!1)},_closeSteps:()=>P(!0),_errorSteps:O})})),C,R)})(!1)}))})}var ae=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ce(this))throw ke("desiredSize");return At(this)}close(){if(!Ce(this))throw ke("close");if(!se(this))throw new TypeError("The stream is not in a state that permits close");we(this)}enqueue(t=void 0){if(!Ce(this))throw ke("enqueue");if(!se(this))throw new TypeError("The stream is not in a state that permits enqueue");return xe(this,t)}error(t=void 0){if(!Ce(this))throw ke("error");x(this,t)}[gt](t){N(this);let r=this._cancelAlgorithm(t);return De(this),r}[wt](t){let r=this._controlledReadableStream;if(this._queue.length>0){let o=lt(this);this._closeRequested&&this._queue.length===0?(De(this),Re(r)):ge(this),t._chunkSteps(o)}else lr(r,t),ge(this)}};function Ce(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function ge(e){if(Br(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,W(e._pullAlgorithm(),()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ge(e))},t=>{x(e,t)})}}function Br(e){let t=e._controlledReadableStream;return!se(e)||!e._started?!1:D(t)&&Ge(t)>0?!0:At(e)>0}function De(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function we(e){if(!se(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(De(e),Re(t))}function xe(e,t){if(!se(e))return;let r=e._controlledReadableStream;if(D(r)&&Ge(r)>0)Rt(r,t,!1);else{let o;try{o=e._strategySizeAlgorithm(t)}catch(n){throw x(e,n),n}try{Tt(e,t,o)}catch(n){throw x(e,n),n}}ge(e)}function x(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(N(e),De(e),Lr(r,t))}function At(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function se(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Fr(e,t,r,o,n,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,N(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=o,t._cancelAlgorithm=n,e._readableStreamController=t,W(w(r()),()=>{t._started=!0,ge(t)},a=>{x(t,a)})}function ke(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function to(e,t,r){return j(e,r),o=>X(e,t,[o])}function ro(e,t,r){return j(e,r),o=>X(e,t,[o])}function oo(e,t,r){return j(e,r),o=>Ve(e,t,[o])}function no(e,t){if((e=""+e)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function io(e,t){if((e=""+e)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Qt(e,t){B(e,t);let r=e?.preventAbort,o=e?.preventCancel,n=e?.preventClose,i=e?.signal;return i!==void 0&&function(s,a){if(!function(l){if(typeof l!="object"||l===null)return!1;try{return typeof l.aborted=="boolean"}catch{return!1}}(s))throw new TypeError(a+" is not an AbortSignal.")}(i,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!o,preventClose:!!n,signal:i}}Object.defineProperties(ae.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(ae.prototype,b.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var G=class{constructor(t={},r={}){t===void 0?t=null:ar(t,"First parameter");let o=Le(r,"Second parameter"),n=function(i,s){B(i,s);let a=i,l=a?.autoAllocateChunkSize,u=a?.cancel,f=a?.pull,_=a?.start,c=a?.type;return{autoAllocateChunkSize:l===void 0?void 0:sr(l,s+" has member 'autoAllocateChunkSize' that"),cancel:u===void 0?void 0:to(u,a,s+" has member 'cancel' that"),pull:f===void 0?void 0:ro(f,a,s+" has member 'pull' that"),start:_===void 0?void 0:oo(_,a,s+" has member 'start' that"),type:c===void 0?void 0:no(c,s+" has member 'type' that")}}(t,"First parameter");if(Ir(this),n.type==="bytes"){if(o.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");Ur(this,n,pe(o,0))}else{let i=Ie(o);(function(s,a,l,u){let f=Object.create(ae.prototype),_=()=>{},c=()=>w(void 0),y=()=>w(void 0);a.start!==void 0&&(_=()=>a.start(f)),a.pull!==void 0&&(c=()=>a.pull(f)),a.cancel!==void 0&&(y=g=>a.cancel(g)),Fr(s,f,_,c,y,l,u)})(this,n,pe(o,1),i)}}get locked(){if(!$(this))throw H("locked");return D(this)}cancel(t=void 0){return $(this)?D(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):K(this,t):d(H("cancel"))}getReader(t=void 0){if(!$(this))throw H("getReader");return function(r,o){B(r,o);let n=r?.mode;return{mode:n===void 0?void 0:io(n,o+" has member 'mode' that")}}(t,"First parameter").mode===void 0?je(this):new be(this)}pipeThrough(t,r={}){if(!$(this))throw H("pipeThrough");F(t,1,"pipeThrough");let o=function(i,s){B(i,s);let a=i?.readable;at(a,"readable","ReadableWritablePair"),St(a,s+" has member 'readable' that");let l=i?.writable;return at(l,"writable","ReadableWritablePair"),wr(l,s+" has member 'writable' that"),{readable:a,writable:l}}(t,"First parameter"),n=Qt(r,"Second parameter");if(D(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(oe(o.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Se(Nt(this,o.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),o.readable}pipeTo(t,r={}){if(!$(this))return d(H("pipeTo"));if(t===void 0)return d("Parameter 1 is required in 'pipeTo'.");if(!re(t))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let o;try{o=Qt(r,"Second parameter")}catch(n){return d(n)}return D(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):oe(t)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Nt(this,t,o.preventClose,o.preventAbort,o.preventCancel,o.signal)}tee(){if(!$(this))throw H("tee");let t=function(r,o){let n=je(r),i,s,a,l,u,f=!1,_=!1,c=!1,y=q(h=>{u=h});function g(){return f||(f=!0,Je(n,{_chunkSteps:h=>{er(()=>{f=!1;let S=h,v=h;_||xe(a._readableStreamController,S),c||xe(l._readableStreamController,v)})},_closeSteps:()=>{f=!1,_||we(a._readableStreamController),c||we(l._readableStreamController),_&&c||u(void 0)},_errorSteps:()=>{f=!1}})),w(void 0)}function m(){}return a=_t(m,g,function(h){if(_=!0,i=h,c){let S=rt([i,s]),v=K(r,S);u(v)}return y}),l=_t(m,g,function(h){if(c=!0,s=h,_){let S=rt([i,s]),v=K(r,S);u(v)}return y}),Xt(n._closedPromise,h=>{x(a._readableStreamController,h),x(l._readableStreamController,h),_&&c||u(void 0)}),[a,l]}(this);return rt(t)}values(t=void 0){if(!$(this))throw H("values");return function(r,o){let n=je(r),i=new st(n,o),s=Object.create(cr);return s._asyncIteratorImpl=i,s}(this,function(r,o){return B(r,o),{preventCancel:!!r?.preventCancel}}(t,"First parameter").preventCancel)}};function _t(e,t,r,o=1,n=()=>1){let i=Object.create(G.prototype);return Ir(i),Fr(i,Object.create(ae.prototype),e,t,r,o,n),i}function Ir(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function $(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function D(e){return e._reader!==void 0}function K(e,t){return e._disturbed=!0,e._state==="closed"?w(void 0):e._state==="errored"?d(e._storedError):(Re(e),J(e._readableStreamController[gt](t),bt))}function Re(e){e._state="closed";let t=e._reader;t!==void 0&&(or(t),V(t)&&(t._readRequests.forEach(r=>{r._closeSteps()}),t._readRequests=new k))}function Lr(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(yt(r,t),V(r)?(r._readRequests.forEach(o=>{o._errorSteps(t)}),r._readRequests=new k):(r._readIntoRequests.forEach(o=>{o._errorSteps(t)}),r._readIntoRequests=new k))}function H(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Mr(e,t){B(e,t);let r=e?.highWaterMark;return at(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:vt(r)}}Object.defineProperties(G.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(G.prototype,b.toStringTag,{value:"ReadableStream",configurable:!0}),typeof b.asyncIterator=="symbol"&&Object.defineProperty(G.prototype,b.asyncIterator,{value:G.prototype.values,writable:!0,configurable:!0});var ao=function(e){return e.byteLength},Ne=class{constructor(t){F(t,1,"ByteLengthQueuingStrategy"),t=Mr(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Ht(this))throw Yt("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ht(this))throw Yt("size");return ao}};function Yt(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ht(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(Ne.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(Ne.prototype,b.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var so=function(){return 1},Qe=class{constructor(t){F(t,1,"CountQueuingStrategy"),t=Mr(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Vt(this))throw Ut("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Vt(this))throw Ut("size");return so}};function Ut(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Vt(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function lo(e,t,r){return j(e,r),o=>X(e,t,[o])}function uo(e,t,r){return j(e,r),o=>Ve(e,t,[o])}function co(e,t,r){return j(e,r),(o,n)=>X(e,t,[o,n])}Object.defineProperties(Qe.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(Qe.prototype,b.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ye=class{constructor(t={},r={},o={}){t===void 0&&(t=null);let n=Le(r,"Second parameter"),i=Le(o,"Third parameter"),s=function(c,y){B(c,y);let g=c?.flush,m=c?.readableType,h=c?.start,S=c?.transform,v=c?.writableType;return{flush:g===void 0?void 0:lo(g,c,y+" has member 'flush' that"),readableType:m,start:h===void 0?void 0:uo(h,c,y+" has member 'start' that"),transform:S===void 0?void 0:co(S,c,y+" has member 'transform' that"),writableType:v}}(t,"First parameter");if(s.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(s.writableType!==void 0)throw new RangeError("Invalid writableType specified");let a=pe(i,0),l=Ie(i),u=pe(n,1),f=Ie(n),_;(function(c,y,g,m,h,S){function v(){return y}function I(T){return function(P,O){let M=P._transformStreamController;return P._backpressure?J(P._backpressureChangePromise,()=>{let ee=P._writable;if(ee._state==="erroring")throw ee._storedError;return Jt(M,O)}):Jt(M,O)}(c,T)}function L(T){return function(P,O){return He(P,O),w(void 0)}(c,T)}function p(){return function(T){let P=T._readable,O=T._transformStreamController,M=O._flushAlgorithm();return $r(O),J(M,()=>{if(P._state==="errored")throw P._storedError;we(P._readableStreamController)},ee=>{throw He(T,ee),P._storedError})}(c)}function R(){return function(T){return Ue(T,!1),T._backpressureChangePromise}(c)}function C(T){return Xe(c,T),w(void 0)}c._writable=function(T,P,O,M,ee=1,xr=()=>1){let et=Object.create(me.prototype);return Sr(et),kr(et,Object.create(ie.prototype),T,P,O,M,ee,xr),et}(v,I,p,L,g,m),c._readable=_t(v,R,C,h,S),c._backpressure=void 0,c._backpressureChangePromise=void 0,c._backpressureChangePromise_resolve=void 0,Ue(c,!0),c._transformStreamController=void 0})(this,q(c=>{_=c}),u,f,a,l),function(c,y){let g=Object.create(ve.prototype),m=S=>{try{return Dr(g,S),w(void 0)}catch(v){return d(v)}},h=()=>w(void 0);y.transform!==void 0&&(m=S=>y.transform(S,g)),y.flush!==void 0&&(h=()=>y.flush(g)),function(S,v,I,L){v._controlledTransformStream=S,S._transformStreamController=v,v._transformAlgorithm=I,v._flushAlgorithm=L}(c,g,m,h)}(this,s),s.start!==void 0?_(s.start(this._transformStreamController)):_(void 0)}get readable(){if(!Gt(this))throw Kt("readable");return this._readable}get writable(){if(!Gt(this))throw Kt("writable");return this._writable}};function Gt(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function He(e,t){x(e._readable._readableStreamController,t),Xe(e,t)}function Xe(e,t){$r(e._transformStreamController),ft(e._writable._writableStreamController,t),e._backpressure&&Ue(e,!1)}function Ue(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=q(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(Ye.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(Ye.prototype,b.toStringTag,{value:"TransformStream",configurable:!0});var ve=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Oe(this))throw We("desiredSize");return At(this._controlledTransformStream._readable._readableStreamController)}enqueue(t=void 0){if(!Oe(this))throw We("enqueue");Dr(this,t)}error(t=void 0){if(!Oe(this))throw We("error");var r;r=t,He(this._controlledTransformStream,r)}terminate(){if(!Oe(this))throw We("terminate");(function(t){let r=t._controlledTransformStream;we(r._readable._readableStreamController),Xe(r,new TypeError("TransformStream terminated"))})(this)}};function Oe(e){return!!E(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function $r(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Dr(e,t){let r=e._controlledTransformStream,o=r._readable._readableStreamController;if(!se(o))throw new TypeError("Readable side is not in a state that permits enqueue");try{xe(o,t)}catch(i){throw Xe(r,i),r._readable._storedError}(function(i){return!Br(i)})(o)!==r._backpressure&&Ue(r,!0)}function Jt(e,t){return J(e._transformAlgorithm(t),void 0,r=>{throw He(e._controlledTransformStream,r),r})}function We(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Kt(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(ve.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof b.toStringTag=="symbol"&&Object.defineProperty(ve.prototype,b.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});export{Ne as ByteLengthQueuingStrategy,Qe as CountQueuingStrategy,he as ReadableByteStreamController,G as ReadableStream,be as ReadableStreamBYOBReader,fe as ReadableStreamBYOBRequest,ae as ReadableStreamDefaultController,de as ReadableStreamDefaultReader,Ye as TransformStream,ve as TransformStreamDefaultController,me as WritableStream,ie as WritableStreamDefaultController,ye as WritableStreamDefaultWriter};
