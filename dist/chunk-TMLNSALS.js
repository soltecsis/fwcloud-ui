import{b as OO,c as RO,d as DO,e as PO,f as FO,g as LO,h as MO}from"./chunk-GFT3X7VS.js";import{a as Q,b as Ee,d as Pb,e as rc,f as Xs,g as he}from"./chunk-GAL4ENT6.js";var jL=Pb((lKe,IK)=>{IK.exports={name:"fwc-dashboard",version:"2.0.6",license:"MIT",scripts:{ng:"ng",start:"ng serve --proxy-config proxy.conf.json",build:"ng version && ng build --configuration production && node createDistVersionFile && node copyDistFiles",fresh_build_start:"clear && rm -rf node_modules package-lock.json build .angular && npm i && npm run build && npm run start",test:"ng test",lint:"ng lint","lint-fix":"ng lint --fix",e2e:"ng e2e"},private:!0,dependencies:{"@angular/animations":"^18.2.13","@angular/cdk":"^18.2.14","@angular/common":"^18.2.8","@angular/compiler":"^18.2.13","@angular/core":"^18.2.13","@angular/forms":"^18.2.13","@angular/platform-browser":"^18.2.13","@angular/platform-browser-dynamic":"^18.2.13","@angular/router":"^18.2.13","@fortawesome/fontawesome-free":"^6.7.1","@ngrx/effects":"^18.1.1","@ngrx/entity":"^18.1.1","@ngrx/store":"^18.1.1","@ngrx/store-devtools":"^18.1.1","@ngx-translate/core":"^16.0.3","chart.js":"^4.4.6","file-saver":"^2.0.5","flag-icons":"^7.2.3","ipaddr.js":"^2.2.0",nanoid:"^5.0.9","ngx-cookie-service":"^18.0.0","ngx-markdown":"^18.1.0","ngx-translate-multi-http-loader":"^18.2.0",openpgp:"^6.0.1",primeflex:"^3.3.1",primeicons:"^7.0.0",primeng:"^17.18.12",rxjs:"^7.8.1","socket.io-client":"^4.8.1","zone.js":"^0.14.10"},devDependencies:{"@angular-devkit/build-angular":"^18.2.12","@angular/cli":"^18.2.12","@angular/compiler-cli":"^18.2.13","@angular/language-service":"^18.2.13","@types/jest":"^29.5.14","@types/mocha":"^10.0.10","@types/node":"^22.10.0","angular-eslint":"18.4.2",eslint:"^9.15.0","fs-extra":"^11.2.0","ts-node":"^10.9.2",tslib:"^2.8.1",typescript:"^5.5.4","typescript-eslint":"8.11.0"}}});var fd=Pb((KT,qT)=>{(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof KT<"u"?n():(n(),i.FileSaver={})})(KT,function(){"use strict";function i(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function n(a,l,c){var u=new XMLHttpRequest;u.open("GET",a),u.responseType="blob",u.onload=function(){s(u.response,l,c)},u.onerror=function(){console.error("could not download file")},u.send()}function e(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function t(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(a,l,c){var u=o.URL||o.webkitURL,g=document.createElement("a");l=l||a.name||"download",g.download=l,g.rel="noopener",typeof a=="string"?(g.href=a,g.origin===location.origin?t(g):e(g.href)?n(a,l,c):t(g,g.target="_blank")):(g.href=u.createObjectURL(a),setTimeout(function(){u.revokeObjectURL(g.href)},4e4),setTimeout(function(){t(g)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(i(a,c),l);else if(e(a))n(a,l,c);else{var u=document.createElement("a");u.href=a,u.target="_blank",setTimeout(function(){t(u)})}}:function(a,l,c,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof a=="string")return n(a,l,c);var g=a.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||g&&_||r)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var x=w.result;x=C?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=x:location=x,u=null},w.readAsDataURL(a)}else{var S=o.URL||o.webkitURL,A=S.createObjectURL(a);u?u.location=A:location.href=A,u=null,setTimeout(function(){S.revokeObjectURL(A)},4e4)}});o.saveAs=s.saveAs=s,typeof qT<"u"&&(qT.exports=s)})});var hg=Pb((YU,pb)=>{(function(i){"use strict";let n="(0?\\d+|0x[a-f0-9]+)",e={fourOctet:new RegExp(`^${n}\\.${n}\\.${n}\\.${n}$`,"i"),threeOctet:new RegExp(`^${n}\\.${n}\\.${n}$`,"i"),twoOctet:new RegExp(`^${n}\\.${n}$`,"i"),longValue:new RegExp(`^${n}$`,"i")},t=new RegExp("^0[0-7]+$","i"),o=new RegExp("^0x[a-f0-9]+$","i"),r="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(r,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${r})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\.${n}\\.${n}\\.${n}(${r})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\.${n}\\.${n}\\.${n}(${r})?$`,"i")};function l(C,w){if(C.indexOf("::")!==C.lastIndexOf("::"))return null;let S=0,A=-1,x=(C.match(a.zoneIndex)||[])[0],D,V;for(x&&(x=x.substring(1),C=C.replace(/%.+$/,""));(A=C.indexOf(":",A+1))>=0;)S++;if(C.substr(0,2)==="::"&&S--,C.substr(-2,2)==="::"&&S--,S>w)return null;for(V=w-S,D=":";V--;)D+="0:";return C=C.replace("::",D),C[0]===":"&&(C=C.slice(1)),C[C.length-1]===":"&&(C=C.slice(0,-1)),w=function(){let X=C.split(":"),ee=[];for(let ae=0;ae<X.length;ae++)ee.push(parseInt(X[ae],16));return ee}(),{parts:w,zoneId:x}}function c(C,w,S,A){if(C.length!==w.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let x=0,D;for(;A>0;){if(D=S-A,D<0&&(D=0),C[x]>>D!==w[x]>>D)return!1;A-=S,x+=1}return!0}function u(C){if(o.test(C))return parseInt(C,16);if(C[0]==="0"&&!isNaN(parseInt(C[1],10))){if(t.test(C))return parseInt(C,8);throw new Error(`ipaddr: cannot parse ${C} as octal`)}return parseInt(C,10)}function g(C,w){for(;C.length<w;)C=`0${C}`;return C}let _={};_.IPv4=function(){function C(w){if(w.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let S,A;for(S=0;S<w.length;S++)if(A=w[S],!(0<=A&&A<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=w}return C.prototype.SpecialRanges={unspecified:[[new C([0,0,0,0]),8]],broadcast:[[new C([255,255,255,255]),32]],multicast:[[new C([224,0,0,0]),4]],linkLocal:[[new C([169,254,0,0]),16]],loopback:[[new C([127,0,0,0]),8]],carrierGradeNat:[[new C([100,64,0,0]),10]],private:[[new C([10,0,0,0]),8],[new C([172,16,0,0]),12],[new C([192,168,0,0]),16]],reserved:[[new C([192,0,0,0]),24],[new C([192,0,2,0]),24],[new C([192,88,99,0]),24],[new C([198,18,0,0]),15],[new C([198,51,100,0]),24],[new C([203,0,113,0]),24],[new C([240,0,0,0]),4]],as112:[[new C([192,175,48,0]),24],[new C([192,31,196,0]),24]],amt:[[new C([192,52,193,0]),24]]},C.prototype.kind=function(){return"ipv4"},C.prototype.match=function(w,S){let A;if(S===void 0&&(A=w,w=A[0],S=A[1]),w.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return c(this.octets,w.octets,8,S)},C.prototype.prefixLengthFromSubnetMask=function(){let w=0,S=!1,A={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},x,D,V;for(x=3;x>=0;x-=1)if(D=this.octets[x],D in A){if(V=A[D],S&&V!==0)return null;V!==8&&(S=!0),w+=V}else return null;return 32-w},C.prototype.range=function(){return _.subnetMatch(this,this.SpecialRanges)},C.prototype.toByteArray=function(){return this.octets.slice(0)},C.prototype.toIPv4MappedAddress=function(){return _.IPv6.parse(`::ffff:${this.toString()}`)},C.prototype.toNormalizedString=function(){return this.toString()},C.prototype.toString=function(){return this.octets.join(".")},C}(),_.IPv4.broadcastAddressFromCIDR=function(C){try{let w=this.parseCIDR(C),S=w[0].toByteArray(),A=this.subnetMaskFromPrefixLength(w[1]).toByteArray(),x=[],D=0;for(;D<4;)x.push(parseInt(S[D],10)|parseInt(A[D],10)^255),D++;return new this(x)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},_.IPv4.isIPv4=function(C){return this.parser(C)!==null},_.IPv4.isValid=function(C){try{return new this(this.parser(C)),!0}catch{return!1}},_.IPv4.isValidCIDR=function(C){try{return this.parseCIDR(C),!0}catch{return!1}},_.IPv4.isValidFourPartDecimal=function(C){return!!(_.IPv4.isValid(C)&&C.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},_.IPv4.networkAddressFromCIDR=function(C){let w,S,A,x,D;try{for(w=this.parseCIDR(C),A=w[0].toByteArray(),D=this.subnetMaskFromPrefixLength(w[1]).toByteArray(),x=[],S=0;S<4;)x.push(parseInt(A[S],10)&parseInt(D[S],10)),S++;return new this(x)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},_.IPv4.parse=function(C){let w=this.parser(C);if(w===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(w)},_.IPv4.parseCIDR=function(C){let w;if(w=C.match(/^(.+)\/(\d+)$/)){let S=parseInt(w[2]);if(S>=0&&S<=32){let A=[this.parse(w[1]),S];return Object.defineProperty(A,"toString",{value:function(){return this.join("/")}}),A}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},_.IPv4.parser=function(C){let w,S,A;if(w=C.match(e.fourOctet))return function(){let x=w.slice(1,6),D=[];for(let V=0;V<x.length;V++)S=x[V],D.push(u(S));return D}();if(w=C.match(e.longValue)){if(A=u(w[1]),A>4294967295||A<0)throw new Error("ipaddr: address outside defined range");return function(){let x=[],D;for(D=0;D<=24;D+=8)x.push(A>>D&255);return x}().reverse()}else return(w=C.match(e.twoOctet))?function(){let x=w.slice(1,4),D=[];if(A=u(x[1]),A>16777215||A<0)throw new Error("ipaddr: address outside defined range");return D.push(u(x[0])),D.push(A>>16&255),D.push(A>>8&255),D.push(A&255),D}():(w=C.match(e.threeOctet))?function(){let x=w.slice(1,5),D=[];if(A=u(x[2]),A>65535||A<0)throw new Error("ipaddr: address outside defined range");return D.push(u(x[0])),D.push(u(x[1])),D.push(A>>8&255),D.push(A&255),D}():null},_.IPv4.subnetMaskFromPrefixLength=function(C){if(C=parseInt(C),C<0||C>32)throw new Error("ipaddr: invalid IPv4 prefix length");let w=[0,0,0,0],S=0,A=Math.floor(C/8);for(;S<A;)w[S]=255,S++;return A<4&&(w[A]=Math.pow(2,C%8)-1<<8-C%8),new this(w)},_.IPv6=function(){function C(w,S){let A,x;if(w.length===16)for(this.parts=[],A=0;A<=14;A+=2)this.parts.push(w[A]<<8|w[A+1]);else if(w.length===8)this.parts=w;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(A=0;A<this.parts.length;A++)if(x=this.parts[A],!(0<=x&&x<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");S&&(this.zoneId=S)}return C.prototype.SpecialRanges={unspecified:[new C([0,0,0,0,0,0,0,0]),128],linkLocal:[new C([65152,0,0,0,0,0,0,0]),10],multicast:[new C([65280,0,0,0,0,0,0,0]),8],loopback:[new C([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new C([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new C([0,0,0,0,0,65535,0,0]),96],discard:[new C([256,0,0,0,0,0,0,0]),64],rfc6145:[new C([0,0,0,0,65535,0,0,0]),96],rfc6052:[new C([100,65435,0,0,0,0,0,0]),96],"6to4":[new C([8194,0,0,0,0,0,0,0]),16],teredo:[new C([8193,0,0,0,0,0,0,0]),32],benchmarking:[new C([8193,2,0,0,0,0,0,0]),48],amt:[new C([8193,3,0,0,0,0,0,0]),32],as112v6:[[new C([8193,4,274,0,0,0,0,0]),48],[new C([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new C([8193,16,0,0,0,0,0,0]),28],orchid2:[new C([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new C([8193,48,0,0,0,0,0,0]),28],reserved:[[new C([8193,0,0,0,0,0,0,0]),23],[new C([8193,3512,0,0,0,0,0,0]),32]]},C.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},C.prototype.kind=function(){return"ipv6"},C.prototype.match=function(w,S){let A;if(S===void 0&&(A=w,w=A[0],S=A[1]),w.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return c(this.parts,w.parts,16,S)},C.prototype.prefixLengthFromSubnetMask=function(){let w=0,S=!1,A={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},x,D;for(let V=7;V>=0;V-=1)if(x=this.parts[V],x in A){if(D=A[x],S&&D!==0)return null;D!==16&&(S=!0),w+=D}else return null;return 128-w},C.prototype.range=function(){return _.subnetMatch(this,this.SpecialRanges)},C.prototype.toByteArray=function(){let w,S=[],A=this.parts;for(let x=0;x<A.length;x++)w=A[x],S.push(w>>8),S.push(w&255);return S},C.prototype.toFixedLengthString=function(){let w=function(){let A=[];for(let x=0;x<this.parts.length;x++)A.push(g(this.parts[x].toString(16),4));return A}.call(this).join(":"),S="";return this.zoneId&&(S=`%${this.zoneId}`),w+S},C.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let w=this.parts.slice(-2),S=w[0],A=w[1];return new _.IPv4([S>>8,S&255,A>>8,A&255])},C.prototype.toNormalizedString=function(){let w=function(){let A=[];for(let x=0;x<this.parts.length;x++)A.push(this.parts[x].toString(16));return A}.call(this).join(":"),S="";return this.zoneId&&(S=`%${this.zoneId}`),w+S},C.prototype.toRFC5952String=function(){let w=/((^|:)(0(:|$)){2,})/g,S=this.toNormalizedString(),A=0,x=-1,D;for(;D=w.exec(S);)D[0].length>x&&(A=D.index,x=D[0].length);return x<0?S:`${S.substring(0,A)}::${S.substring(A+x)}`},C.prototype.toString=function(){return this.toRFC5952String()},C}(),_.IPv6.broadcastAddressFromCIDR=function(C){try{let w=this.parseCIDR(C),S=w[0].toByteArray(),A=this.subnetMaskFromPrefixLength(w[1]).toByteArray(),x=[],D=0;for(;D<16;)x.push(parseInt(S[D],10)|parseInt(A[D],10)^255),D++;return new this(x)}catch(w){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${w})`)}},_.IPv6.isIPv6=function(C){return this.parser(C)!==null},_.IPv6.isValid=function(C){if(typeof C=="string"&&C.indexOf(":")===-1)return!1;try{let w=this.parser(C);return new this(w.parts,w.zoneId),!0}catch{return!1}},_.IPv6.isValidCIDR=function(C){if(typeof C=="string"&&C.indexOf(":")===-1)return!1;try{return this.parseCIDR(C),!0}catch{return!1}},_.IPv6.networkAddressFromCIDR=function(C){let w,S,A,x,D;try{for(w=this.parseCIDR(C),A=w[0].toByteArray(),D=this.subnetMaskFromPrefixLength(w[1]).toByteArray(),x=[],S=0;S<16;)x.push(parseInt(A[S],10)&parseInt(D[S],10)),S++;return new this(x)}catch(V){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${V})`)}},_.IPv6.parse=function(C){let w=this.parser(C);if(w.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(w.parts,w.zoneId)},_.IPv6.parseCIDR=function(C){let w,S,A;if((S=C.match(/^(.+)\/(\d+)$/))&&(w=parseInt(S[2]),w>=0&&w<=128))return A=[this.parse(S[1]),w],Object.defineProperty(A,"toString",{value:function(){return this.join("/")}}),A;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},_.IPv6.parser=function(C){let w,S,A,x,D,V;if(A=C.match(a.deprecatedTransitional))return this.parser(`::ffff:${A[1]}`);if(a.native.test(C))return l(C,8);if((A=C.match(a.transitional))&&(V=A[6]||"",w=A[1],A[1].endsWith("::")||(w=w.slice(0,-1)),w=l(w+V,6),w.parts)){for(D=[parseInt(A[2]),parseInt(A[3]),parseInt(A[4]),parseInt(A[5])],S=0;S<D.length;S++)if(x=D[S],!(0<=x&&x<=255))return null;return w.parts.push(D[0]<<8|D[1]),w.parts.push(D[2]<<8|D[3]),{parts:w.parts,zoneId:w.zoneId}}return null},_.IPv6.subnetMaskFromPrefixLength=function(C){if(C=parseInt(C),C<0||C>128)throw new Error("ipaddr: invalid IPv6 prefix length");let w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,A=Math.floor(C/8);for(;S<A;)w[S]=255,S++;return A<16&&(w[A]=Math.pow(2,C%8)-1<<8-C%8),new this(w)},_.fromByteArray=function(C){let w=C.length;if(w===4)return new _.IPv4(C);if(w===16)return new _.IPv6(C);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},_.isValid=function(C){return _.IPv6.isValid(C)||_.IPv4.isValid(C)},_.isValidCIDR=function(C){return _.IPv6.isValidCIDR(C)||_.IPv4.isValidCIDR(C)},_.parse=function(C){if(_.IPv6.isValid(C))return _.IPv6.parse(C);if(_.IPv4.isValid(C))return _.IPv4.parse(C);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},_.parseCIDR=function(C){try{return _.IPv6.parseCIDR(C)}catch{try{return _.IPv4.parseCIDR(C)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},_.process=function(C){let w=this.parse(C);return w.kind()==="ipv6"&&w.isIPv4MappedAddress()?w.toIPv4Address():w},_.subnetMatch=function(C,w,S){let A,x,D,V;S==null&&(S="unicast");for(x in w)if(Object.prototype.hasOwnProperty.call(w,x)){for(D=w[x],D[0]&&!(D[0]instanceof Array)&&(D=[D]),A=0;A<D.length;A++)if(V=D[A],C.kind()===V[0].kind()&&C.match.apply(C,V))return x}return S},typeof pb<"u"&&pb.exports?pb.exports=_:i.ipaddr=_})(YU)});function kO(i,n){return Object.is(i,n)}var Mo=null,Bh=!1,Sg=1,Qs=Symbol("SIGNAL");function Mi(i){let n=Mo;return Mo=i,n}function NO(){return Mo}function rj(){return Bh}var vu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xg(i){if(Bh)throw new Error("");if(Mo===null)return;Mo.consumerOnSignalRead(i);let n=Mo.nextProducerIndex++;if(Dg(Mo),n<Mo.producerNode.length&&Mo.producerNode[n]!==i&&Uh(Mo)){let e=Mo.producerNode[n];Rg(e,Mo.producerIndexOfThis[n])}Mo.producerNode[n]!==i&&(Mo.producerNode[n]=i,Mo.producerIndexOfThis[n]=Uh(Mo)?HO(i,Mo,n):0),Mo.producerLastReadVersion[n]=i.version}function sj(){Sg++}function VO(i){if(!(Uh(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===Sg)){if(!i.producerMustRecompute(i)&&!Tg(i)){i.dirty=!1,i.lastCleanEpoch=Sg;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Sg}}function BO(i){if(i.liveConsumerNode===void 0)return;let n=Bh;Bh=!0;try{for(let e of i.liveConsumerNode)e.dirty||jO(e)}finally{Bh=n}}function UO(){return Mo?.consumerAllowSignalWrites!==!1}function jO(i){i.dirty=!0,BO(i),i.consumerMarkedDirty?.(i)}function jh(i){return i&&(i.nextProducerIndex=0),Mi(i)}function Eg(i,n){if(Mi(n),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(Uh(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)Rg(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Tg(i){Dg(i);for(let n=0;n<i.producerNode.length;n++){let e=i.producerNode[n],t=i.producerLastReadVersion[n];if(t!==e.version||(VO(e),t!==e.version))return!0}return!1}function Og(i){if(Dg(i),Uh(i))for(let n=0;n<i.producerNode.length;n++)Rg(i.producerNode[n],i.producerIndexOfThis[n]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function HO(i,n,e){if(GO(i),i.liveConsumerNode.length===0&&zO(i))for(let t=0;t<i.producerNode.length;t++)i.producerIndexOfThis[t]=HO(i.producerNode[t],i,t);return i.liveConsumerIndexOfThis.push(e),i.liveConsumerNode.push(n)-1}function Rg(i,n){if(GO(i),i.liveConsumerNode.length===1&&zO(i))for(let t=0;t<i.producerNode.length;t++)Rg(i.producerNode[t],i.producerIndexOfThis[t]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[n]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[n]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,n<i.liveConsumerNode.length){let t=i.liveConsumerIndexOfThis[n],o=i.liveConsumerNode[n];Dg(o),o.producerIndexOfThis[t]=n}}function Uh(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Dg(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function GO(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function zO(i){return i.producerNode!==void 0}function WO(i){let n=Object.create(aj);n.computation=i;let e=()=>{if(VO(n),xg(n),n.value===Ag)throw n.error;return n.value};return e[Qs]=n,e}var Fb=Symbol("UNSET"),Lb=Symbol("COMPUTING"),Ag=Symbol("ERRORED"),aj=Ee(Q({},vu),{value:Fb,dirty:!0,error:null,equal:kO,producerMustRecompute(i){return i.value===Fb||i.value===Lb},producerRecomputeValue(i){if(i.value===Lb)throw new Error("Detected cycle in computations.");let n=i.value;i.value=Lb;let e=jh(i),t;try{t=i.computation()}catch(o){t=Ag,i.error=o}finally{Eg(i,e)}if(n!==Fb&&n!==Ag&&t!==Ag&&i.equal(n,t)){i.value=n;return}i.value=t,i.version++}});function lj(){throw new Error}var $O=lj;function KO(){$O()}function qO(i){$O=i}var cj=null;function YO(i){let n=Object.create(kb);n.value=i;let e=()=>(xg(n),n.value);return e[Qs]=n,e}function Pg(i,n){UO()||KO(),i.equal(i.value,n)||(i.value=n,dj(i))}function JO(i,n){UO()||KO(),Pg(i,n(i.value))}var kb=Ee(Q({},vu),{equal:kO,value:void 0});function dj(i){i.version++,sj(),BO(i),cj?.()}function XO(i,n,e){let t=Object.create(uj);e&&(t.consumerAllowSignalWrites=!0),t.fn=i,t.schedule=n;let o=l=>{t.cleanupFn=l};function r(l){return l.fn===null&&l.schedule===null}function s(l){r(l)||(Og(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Mb)}let a=()=>{if(t.fn===null)return;if(rj())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(t.dirty=!1,t.hasRun&&!Tg(t))return;t.hasRun=!0;let l=jh(t);try{t.cleanupFn(),t.cleanupFn=Mb,t.fn(o)}finally{Eg(t,l)}};return t.ref={notify:()=>jO(t),run:a,cleanup:()=>t.cleanupFn(),destroy:()=>s(t),[Qs]:t},t.ref}var Mb=()=>{},uj=Ee(Q({},vu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule!==null&&i.schedule(i.ref)},hasRun:!1,cleanupFn:Mb});function ii(i){return typeof i=="function"}function sc(i){let e=i(t=>{Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Fg=sc(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((t,o)=>`${o+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Id(i,n){if(i){let e=i.indexOf(n);0<=e&&i.splice(e,1)}}var ro=class i{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:t}=this;if(ii(t))try{t()}catch(r){n=r instanceof Fg?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{QO(r)}catch(s){n=n??[],s instanceof Fg?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Fg(n)}}add(n){var e;if(n&&n!==this)if(this.closed)QO(n);else{if(n instanceof i){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Id(e,n)}remove(n){let{_finalizers:e}=this;e&&Id(e,n),n instanceof i&&n._removeParent(this)}};ro.EMPTY=(()=>{let i=new ro;return i.closed=!0,i})();var Nb=ro.EMPTY;function Lg(i){return i instanceof ro||i&&"closed"in i&&ii(i.remove)&&ii(i.add)&&ii(i.unsubscribe)}function QO(i){ii(i)?i():i.unsubscribe()}var Zs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bu={setTimeout(i,n,...e){let{delegate:t}=bu;return t?.setTimeout?t.setTimeout(i,n,...e):setTimeout(i,n,...e)},clearTimeout(i){let{delegate:n}=bu;return(n?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Mg(i){bu.setTimeout(()=>{let{onUnhandledError:n}=Zs;if(n)n(i);else throw i})}function ea(){}var ZO=Vb("C",void 0,void 0);function e2(i){return Vb("E",void 0,i)}function t2(i){return Vb("N",i,void 0)}function Vb(i,n,e){return{kind:i,value:n,error:e}}var vd=null;function yu(i){if(Zs.useDeprecatedSynchronousErrorHandling){let n=!vd;if(n&&(vd={errorThrown:!1,error:null}),i(),n){let{errorThrown:e,error:t}=vd;if(vd=null,e)throw t}}else i()}function i2(i){Zs.useDeprecatedSynchronousErrorHandling&&vd&&(vd.errorThrown=!0,vd.error=i)}var bd=class extends ro{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Lg(n)&&n.add(this)):this.destination=fj}static create(n,e,t){return new ta(n,e,t)}next(n){this.isStopped?Ub(t2(n),this):this._next(n)}error(n){this.isStopped?Ub(e2(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ub(ZO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pj=Function.prototype.bind;function Bb(i,n){return pj.call(i,n)}var jb=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(t){kg(t)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(t){kg(t)}else kg(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){kg(e)}}},ta=class extends bd{constructor(n,e,t){super();let o;if(ii(n)||!n)o={next:n??void 0,error:e??void 0,complete:t??void 0};else{let r;this&&Zs.useDeprecatedNextContext?(r=Object.create(n),r.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Bb(n.next,r),error:n.error&&Bb(n.error,r),complete:n.complete&&Bb(n.complete,r)}):o=n}this.destination=new jb(o)}};function kg(i){Zs.useDeprecatedSynchronousErrorHandling?i2(i):Mg(i)}function hj(i){throw i}function Ub(i,n){let{onStoppedNotification:e}=Zs;e&&bu.setTimeout(()=>e(i,n))}var fj={closed:!0,next:ea,error:hj,complete:ea};var wu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function or(i){return i}function Hb(...i){return Gb(i)}function Gb(i){return i.length===0?or:i.length===1?i[0]:function(e){return i.reduce((t,o)=>o(t),e)}}var Qt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,o){let r=gj(e)?e:new ta(e,t,o);return yu(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return t=n2(t),new t((o,r)=>{let s=new ta({next:a=>{try{e(a)}catch(l){r(l),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)}[wu](){return this}pipe(...e){return Gb(e)(this)}toPromise(e){return e=n2(e),new e((t,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>t(r))})}}return i.create=n=>new i(n),i})();function n2(i){var n;return(n=i??Zs.Promise)!==null&&n!==void 0?n:Promise}function mj(i){return i&&ii(i.next)&&ii(i.error)&&ii(i.complete)}function gj(i){return i&&i instanceof bd||mj(i)&&Lg(i)}function zb(i){return ii(i?.lift)}function Ot(i){return n=>{if(zb(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(i,n,e,t,o){return new Hh(i,n,e,t,o)}var Hh=class extends bd{constructor(n,e,t,o,r,s){super(n),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Su(){return Ot((i,n)=>{let e=null;i._refCount++;let t=vt(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let o=i._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}var Au=class extends Qt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,zb(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ro;let e=this.getSubject();n.add(this.source.subscribe(vt(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ro.EMPTY)}return n}refCount(){return Su()(this)}};var o2=sc(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class i extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new Ng(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new o2}next(e){yu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}})}error(e){yu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){yu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:o,observers:r}=this;return t||o?Nb:(this.currentObservers=null,r.push(e),new ro(()=>{this.currentObservers=null,Id(r,e)}))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:o,isStopped:r}=this;t?e.error(o):r&&e.complete()}asObservable(){let e=new Qt;return e.source=this,e}}return i.create=(n,e)=>new Ng(n,e),i})(),Ng=class extends Ae{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.next)===null||t===void 0||t.call(e,n)}error(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.error)===null||t===void 0||t.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,t;return(t=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&t!==void 0?t:Nb}};var an=class extends Ae{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}};var Gh={now(){return(Gh.delegate||Date).now()},delegate:void 0};var zh=class extends Ae{constructor(n=1/0,e=1/0,t=Gh){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:s}=this;e||(t.push(n),!o&&t.push(r.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:t,_buffer:o}=this,r=o.slice();for(let s=0;s<r.length&&!n.closed;s+=t?1:2)n.next(r[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:o}=this,r=(o?1:2)*n;if(n<1/0&&r<t.length&&t.splice(0,t.length-r),!o){let s=e.now(),a=0;for(let l=1;l<t.length&&t[l]<=s;l+=2)a=l;a&&t.splice(0,a+1)}}};var Vg=class extends ro{constructor(n,e){super()}schedule(n,e=0){return this}};var Wh={setInterval(i,n,...e){let{delegate:t}=Wh;return t?.setInterval?t.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){let{delegate:n}=Wh;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var xu=class extends Vg{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var t;if(this.closed)return this;this.state=n;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,t=0){return Wh.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return e;e!=null&&Wh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(n,e);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let t=!1,o;try{this.work(n)}catch(r){t=!0,o=r||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Id(t,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Eu=class i{constructor(n,e=i.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}};Eu.now=Gh.now;var Tu=class extends Eu{constructor(n,e=Eu.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let t;this._active=!0;do if(t=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}};var ia=new Tu(xu),r2=ia;var Bg=class extends xu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,t=0){return t!=null&&t>0||t==null&&this.delay>0?super.requestAsyncId(n,e,t):(n.flush(this),0)}};var Ug=class extends Tu{};var Wb=new Ug(Bg);var ko=new Qt(i=>i.complete());function jg(i){return i&&ii(i.schedule)}function $b(i){return i[i.length-1]}function ac(i){return ii($b(i))?i.pop():void 0}function Oa(i){return jg($b(i))?i.pop():void 0}function s2(i,n){return typeof $b(i)=="number"?i.pop():n}function l2(i,n,e,t){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(u){try{c(t.next(u))}catch(g){s(g)}}function l(u){try{c(t.throw(u))}catch(g){s(g)}}function c(u){u.done?r(u.value):o(u.value).then(a,l)}c((t=t.apply(i,n||[])).next())})}function a2(i){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function yd(i){return this instanceof yd?(this.v=i,this):new yd(i)}function c2(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(i,n||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(C){return function(w){return Promise.resolve(w).then(C,g)}}function a(C,w){t[C]&&(o[C]=function(S){return new Promise(function(A,x){r.push([C,S,A,x])>1||l(C,S)})},w&&(o[C]=w(o[C])))}function l(C,w){try{c(t[C](w))}catch(S){_(r[0][3],S)}}function c(C){C.value instanceof yd?Promise.resolve(C.value.v).then(u,g):_(r[0][2],C)}function u(C){l("next",C)}function g(C){l("throw",C)}function _(C,w){C(w),r.shift(),r.length&&l(r[0][0],r[0][1])}}function d2(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],e;return n?n.call(i):(i=typeof a2=="function"?a2(i):i[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(r){e[r]=i[r]&&function(s){return new Promise(function(a,l){s=i[r](s),o(a,l,s.done,s.value)})}}function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}}var Hg=i=>i&&typeof i.length=="number"&&typeof i!="function";function Gg(i){return ii(i?.then)}function zg(i){return ii(i[wu])}function Wg(i){return Symbol.asyncIterator&&ii(i?.[Symbol.asyncIterator])}function $g(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _j(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kg=_j();function qg(i){return ii(i?.[Kg])}function Yg(i){return c2(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:t,done:o}=yield yd(e.read());if(o)return yield yd(void 0);yield yield yd(t)}}finally{e.releaseLock()}})}function Jg(i){return ii(i?.getReader)}function gi(i){if(i instanceof Qt)return i;if(i!=null){if(zg(i))return Cj(i);if(Hg(i))return Ij(i);if(Gg(i))return vj(i);if(Wg(i))return u2(i);if(qg(i))return bj(i);if(Jg(i))return yj(i)}throw $g(i)}function Cj(i){return new Qt(n=>{let e=i[wu]();if(ii(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ij(i){return new Qt(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}function vj(i){return new Qt(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Mg)})}function bj(i){return new Qt(n=>{for(let e of i)if(n.next(e),n.closed)return;n.complete()})}function u2(i){return new Qt(n=>{wj(i,n).catch(e=>n.error(e))})}function yj(i){return u2(Yg(i))}function wj(i,n){var e,t,o,r;return l2(this,void 0,void 0,function*(){try{for(e=d2(i);t=yield e.next(),!t.done;){let s=t.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{t&&!t.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}n.complete()})}function gr(i,n,e,t=0,o=!1){let r=n.schedule(function(){e(),o?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(r),!o)return r}function wd(i,n=0){return Ot((e,t)=>{e.subscribe(vt(t,o=>gr(t,i,()=>t.next(o),n),()=>gr(t,i,()=>t.complete(),n),o=>gr(t,i,()=>t.error(o),n)))})}function Xg(i,n=0){return Ot((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function p2(i,n){return gi(i).pipe(Xg(n),wd(n))}function h2(i,n){return gi(i).pipe(Xg(n),wd(n))}function f2(i,n){return new Qt(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}function m2(i,n){return new Qt(e=>{let t;return gr(e,n,()=>{t=i[Kg](),gr(e,n,()=>{let o,r;try{({value:o,done:r}=t.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>ii(t?.return)&&t.return()})}function Qg(i,n){if(!i)throw new Error("Iterable cannot be null");return new Qt(e=>{gr(e,n,()=>{let t=i[Symbol.asyncIterator]();gr(e,n,()=>{t.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function g2(i,n){return Qg(Yg(i),n)}function _2(i,n){if(i!=null){if(zg(i))return p2(i,n);if(Hg(i))return f2(i,n);if(Gg(i))return h2(i,n);if(Wg(i))return Qg(i,n);if(qg(i))return m2(i,n);if(Jg(i))return g2(i,n)}throw $g(i)}function ln(i,n){return n?_2(i,n):gi(i)}function mt(...i){let n=Oa(i);return ln(i,n)}function os(i,n){let e=ii(i)?i:()=>i,t=o=>o.error(e());return new Qt(n?o=>n.schedule(t,0,o):t)}var lc=class i{constructor(n,e,t){this.kind=n,this.value=e,this.error=t,this.hasValue=n==="N"}observe(n){return Kb(this,n)}do(n,e,t){let{kind:o,value:r,error:s}=this;return o==="N"?n?.(r):o==="E"?e?.(s):t?.()}accept(n,e,t){var o;return ii((o=n)===null||o===void 0?void 0:o.next)?this.observe(n):this.do(n,e,t)}toObservable(){let{kind:n,value:e,error:t}=this,o=n==="N"?mt(e):n==="E"?os(()=>t):n==="C"?ko:0;if(!o)throw new TypeError(`Unexpected notification kind ${n}`);return o}static createNext(n){return new i("N",n)}static createError(n){return new i("E",void 0,n)}static createComplete(){return i.completeNotification}};lc.completeNotification=new lc("C");function Kb(i,n){var e,t,o;let{kind:r,value:s,error:a}=i;if(typeof r!="string")throw new TypeError('Invalid notification, missing "kind"');r==="N"?(e=n.next)===null||e===void 0||e.call(n,s):r==="E"?(t=n.error)===null||t===void 0||t.call(n,a):(o=n.complete)===null||o===void 0||o.call(n)}function ll(i){return!!i&&(i instanceof Qt||ii(i.lift)&&ii(i.subscribe))}var rs=sc(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Sj(i,n){let e=typeof n=="object";return new Promise((t,o)=>{let r=!1,s;i.subscribe({next:a=>{s=a,r=!0},error:o,complete:()=>{r?t(s):e?t(n.defaultValue):o(new rs)}})})}function qb(i,n){let e=typeof n=="object";return new Promise((t,o)=>{let r=new ta({next:s=>{t(s),r.unsubscribe()},error:o,complete:()=>{e?t(n.defaultValue):o(new rs)}});i.subscribe(r)})}function Zg(i){return i instanceof Date&&!isNaN(i)}var Aj=sc(i=>function(e=null){i(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function xj(i,n){let{first:e,each:t,with:o=Ej,scheduler:r=n??ia,meta:s=null}=Zg(i)?{first:i}:typeof i=="number"?{each:i}:i;if(e==null&&t==null)throw new TypeError("No timeout provided.");return Ot((a,l)=>{let c,u,g=null,_=0,C=w=>{u=gr(l,r,()=>{try{c.unsubscribe(),gi(o({meta:s,lastValue:g,seen:_})).subscribe(l)}catch(S){l.error(S)}},w)};c=a.subscribe(vt(l,w=>{u?.unsubscribe(),_++,l.next(g=w),t>0&&C(t)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),g=null})),!_&&C(e!=null?typeof e=="number"?e:+e-r.now():t)})}function Ej(i){throw new Aj(i)}function U(i,n){return Ot((e,t)=>{let o=0;e.subscribe(vt(t,r=>{t.next(i.call(n,r,o++))}))})}var{isArray:Tj}=Array;function Oj(i,n){return Tj(n)?i(...n):i(n)}function e_(i){return U(n=>Oj(i,n))}var{isArray:Rj}=Array,{getPrototypeOf:Dj,prototype:Pj,keys:Fj}=Object;function t_(i){if(i.length===1){let n=i[0];if(Rj(n))return{args:n,keys:null};if(Lj(n)){let e=Fj(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}function Lj(i){return i&&typeof i=="object"&&Dj(i)===Pj}function i_(i,n){return i.reduce((e,t,o)=>(e[t]=n[o],e),{})}function $h(...i){let n=Oa(i),e=ac(i),{args:t,keys:o}=t_(i);if(t.length===0)return ln([],n);let r=new Qt(Mj(t,n,o?s=>i_(o,s):or));return e?r.pipe(e_(e)):r}function Mj(i,n,e=or){return t=>{C2(n,()=>{let{length:o}=i,r=new Array(o),s=o,a=o;for(let l=0;l<o;l++)C2(n,()=>{let c=ln(i[l],n),u=!1;c.subscribe(vt(t,g=>{r[l]=g,u||(u=!0,a--),a||t.next(e(r.slice()))},()=>{--s||t.complete()}))},t)},t)}}function C2(i,n,e){i?gr(e,i,n):n()}function I2(i,n,e,t,o,r,s,a){let l=[],c=0,u=0,g=!1,_=()=>{g&&!l.length&&!c&&n.complete()},C=S=>c<t?w(S):l.push(S),w=S=>{r&&n.next(S),c++;let A=!1;gi(e(S,u++)).subscribe(vt(n,x=>{o?.(x),r?C(x):n.next(x)},()=>{A=!0},void 0,()=>{if(A)try{for(c--;l.length&&c<t;){let x=l.shift();s?gr(n,s,()=>w(x)):w(x)}_()}catch(x){n.error(x)}}))};return i.subscribe(vt(n,C,()=>{g=!0,_()})),()=>{a?.()}}function jn(i,n,e=1/0){return ii(n)?jn((t,o)=>U((r,s)=>n(t,r,o,s))(gi(i(t,o))),e):(typeof n=="number"&&(e=n),Ot((t,o)=>I2(t,o,i,e)))}function Ra(i=1/0){return jn(or,i)}function v2(){return Ra(1)}function na(...i){return v2()(ln(i,Oa(i)))}function Sd(i){return new Qt(n=>{gi(i()).subscribe(n)})}function Kh(...i){let n=ac(i),{args:e,keys:t}=t_(i),o=new Qt(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let g=!1;gi(e[u]).subscribe(vt(r,_=>{g||(g=!0,c--),a[u]=_},()=>l--,void 0,()=>{(!l||!g)&&(c||r.next(t?i_(t,a):a),r.complete())}))}});return n?o.pipe(e_(n)):o}function oa(i=0,n,e=r2){let t=-1;return n!=null&&(jg(n)?e=n:t=n),new Qt(o=>{let r=Zg(i)?+i-e.now():i;r<0&&(r=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=t?this.schedule(void 0,t):o.complete())},r)})}function kj(i=0,n=ia){return i<0&&(i=0),oa(i,i,n)}function Yb(...i){let n=Oa(i),e=s2(i,1/0),t=i;return t.length?t.length===1?gi(t[0]):Ra(e)(ln(t,n)):ko}var{isArray:Nj}=Array;function b2(i){return i.length===1&&Nj(i[0])?i[0]:i}function No(i,n){return Ot((e,t)=>{let o=0;e.subscribe(vt(t,r=>i.call(n,r,o++)&&t.next(r)))})}function Jb(...i){let n=ac(i),e=b2(i);return e.length?new Qt(t=>{let o=e.map(()=>[]),r=e.map(()=>!1);t.add(()=>{o=r=null});for(let s=0;!t.closed&&s<e.length;s++)gi(e[s]).subscribe(vt(t,a=>{if(o[s].push(a),o.every(l=>l.length)){let l=o.map(c=>c.shift());t.next(n?n(...l):l),o.some((c,u)=>!c.length&&r[u])&&t.complete()}},()=>{r[s]=!0,!o[s].length&&t.complete()}));return()=>{o=r=null}}):ko}function y2(i){return Ot((n,e)=>{let t=!1,o=null,r=null,s=!1,a=()=>{if(r?.unsubscribe(),r=null,t){t=!1;let c=o;o=null,e.next(c)}s&&e.complete()},l=()=>{r=null,s&&e.complete()};n.subscribe(vt(e,c=>{t=!0,o=c,r||gi(i(c)).subscribe(r=vt(e,a,l))},()=>{s=!0,(!t||!r||r.closed)&&e.complete()}))})}function Xb(i,n=ia){return y2(()=>oa(i,n))}function $(i){return Ot((n,e)=>{let t=null,o=!1,r;t=n.subscribe(vt(e,void 0,void 0,s=>{r=gi(i(s,$(i)(n))),t?(t.unsubscribe(),t=null,r.subscribe(e)):o=!0})),o&&(t.unsubscribe(),t=null,r.subscribe(e))})}function w2(i,n,e,t,o){return(r,s)=>{let a=e,l=n,c=0;r.subscribe(vt(s,u=>{let g=c++;l=a?i(l,u,g):(a=!0,u),t&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function ra(i,n){return ii(n)?jn(i,n,1):jn(i,1)}function Vj(i){return Ot((n,e)=>{let t=!1,o=null,r=null,s=()=>{if(r?.unsubscribe(),r=null,t){t=!1;let a=o;o=null,e.next(a)}};n.subscribe(vt(e,a=>{r?.unsubscribe(),t=!0,o=a,r=vt(e,s,ea),gi(i(a)).subscribe(r)},()=>{s(),e.complete()},void 0,()=>{o=r=null}))})}function Ou(i,n=ia){return Ot((e,t)=>{let o=null,r=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let c=r;r=null,t.next(c)}};function l(){let c=s+i,u=n.now();if(u<c){o=this.schedule(void 0,c-u),t.add(o);return}a()}e.subscribe(vt(t,c=>{r=c,s=n.now(),o||(o=n.schedule(l,i),t.add(o))},()=>{a(),t.complete()},void 0,()=>{r=o=null}))})}function cc(i){return Ot((n,e)=>{let t=!1;n.subscribe(vt(e,o=>{t=!0,e.next(o)},()=>{t||e.next(i),e.complete()}))})}function rr(i){return i<=0?()=>ko:Ot((n,e)=>{let t=0;n.subscribe(vt(e,o=>{++t<=i&&(e.next(o),i<=t&&e.complete())}))})}function Qb(){return Ot((i,n)=>{i.subscribe(vt(n,ea))})}function Ad(i){return U(()=>i)}function Zb(i,n){return n?e=>na(n.pipe(rr(1),Qb()),e.pipe(Zb(i))):jn((e,t)=>gi(i(e,t)).pipe(rr(1),Ad(e)))}function Bj(i,n=ia){let e=oa(i,n);return Zb(()=>e)}function Uj(){return Ot((i,n)=>{i.subscribe(vt(n,e=>Kb(e,n)))})}function cl(i,n=or){return i=i??jj,Ot((e,t)=>{let o,r=!0;e.subscribe(vt(t,s=>{let a=n(s);(r||!i(o,a))&&(r=!1,o=a,t.next(s))}))})}function jj(i,n){return i===n}function n_(i=Hj){return Ot((n,e)=>{let t=!1;n.subscribe(vt(e,o=>{t=!0,e.next(o)},()=>t?e.complete():e.error(i())))})}function Hj(){return new rs}function S2(i,n){return n?e=>e.pipe(S2((t,o)=>gi(i(t,o)).pipe(U((r,s)=>n(t,r,o,s))))):Ot((e,t)=>{let o=0,r=null,s=!1;e.subscribe(vt(t,a=>{r||(r=vt(t,void 0,()=>{r=null,s&&t.complete()}),gi(i(a,o++)).subscribe(r))},()=>{s=!0,!r&&t.complete()}))})}function dc(i){return Ot((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}function sa(i,n){let e=arguments.length>=2;return t=>t.pipe(i?No((o,r)=>i(o,r,t)):or,rr(1),e?cc(n):n_(()=>new rs))}function Gj(i,n,e,t){return Ot((o,r)=>{let s;!n||typeof n=="function"?s=n:{duration:e,element:s,connector:t}=n;let a=new Map,l=w=>{a.forEach(w),w(r)},c=w=>l(S=>S.error(w)),u=0,g=!1,_=new Hh(r,w=>{try{let S=i(w),A=a.get(S);if(!A){a.set(S,A=t?t():new Ae);let x=C(S,A);if(r.next(x),e){let D=vt(A,()=>{A.complete(),D?.unsubscribe()},void 0,void 0,()=>a.delete(S));_.add(gi(e(x)).subscribe(D))}}A.next(s?s(w):w)}catch(S){c(S)}},()=>l(w=>w.complete()),c,()=>a.clear(),()=>(g=!0,u===0));o.subscribe(_);function C(w,S){let A=new Qt(x=>{u++;let D=S.subscribe(x);return()=>{D.unsubscribe(),--u===0&&g&&_.unsubscribe()}});return A.key=w,A}})}function Ru(i){return i<=0?()=>ko:Ot((n,e)=>{let t=[];n.subscribe(vt(e,o=>{t.push(o),i<t.length&&t.shift()},()=>{for(let o of t)e.next(o);e.complete()},void 0,()=>{t=null}))})}function ey(i,n){let e=arguments.length>=2;return t=>t.pipe(i?No((o,r)=>i(o,r,t)):or,Ru(1),e?cc(n):n_(()=>new rs))}function zj(){return Ot((i,n)=>{i.subscribe(vt(n,e=>{n.next(lc.createNext(e))},()=>{n.next(lc.createComplete()),n.complete()},e=>{n.next(lc.createError(e)),n.complete()}))})}function ty(...i){let n=i.length;if(n===0)throw new Error("list of properties cannot be empty.");return U(e=>{let t=e;for(let o=0;o<n;o++){let r=t?.[i[o]];if(typeof r<"u")t=r;else return}return t})}function qh(i,n){return Ot(w2(i,n,arguments.length>=2,!0))}function ny(i={}){let{connector:n=()=>new Ae,resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=i;return r=>{let s,a,l,c=0,u=!1,g=!1,_=()=>{a?.unsubscribe(),a=void 0},C=()=>{_(),s=l=void 0,u=g=!1},w=()=>{let S=s;C(),S?.unsubscribe()};return Ot((S,A)=>{c++,!g&&!u&&_();let x=l=l??n();A.add(()=>{c--,c===0&&!g&&!u&&(a=iy(w,o))}),x.subscribe(A),!s&&c>0&&(s=new ta({next:D=>x.next(D),error:D=>{g=!0,_(),a=iy(C,e,D),x.error(D)},complete:()=>{u=!0,_(),a=iy(C,t),x.complete()}}),gi(S).subscribe(s))})(r)}}function iy(i,n,...e){if(n===!0){i();return}if(n===!1)return;let t=new ta({next:()=>{t.unsubscribe(),i()}});return gi(n(...e)).subscribe(t)}function Du(i,n,e){let t,o=!1;return i&&typeof i=="object"?{bufferSize:t=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=i:t=i??1/0,ny({connector:()=>new zh(t,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Wj(i){return No((n,e)=>i<=e)}function Yh(...i){let n=Oa(i);return Ot((e,t)=>{(n?na(i,e,n):na(i,e)).subscribe(t)})}function Vo(i,n){return Ot((e,t)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&t.complete();e.subscribe(vt(t,l=>{o?.unsubscribe();let c=0,u=r++;gi(i(l,u)).subscribe(o=vt(t,g=>t.next(n?n(l,g,u,c++):g),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function xd(i){return Ot((n,e)=>{gi(i).subscribe(vt(e,()=>e.complete(),ea)),!e.closed&&n.subscribe(e)})}function yt(i,n=!1){return Ot((e,t)=>{let o=0;e.subscribe(vt(t,r=>{let s=i(r,o++);(s||n)&&t.next(r),!s&&t.complete()}))})}function Ko(i,n,e){let t=ii(i)||n||e?{next:i,error:n,complete:e}:i;return t?Ot((o,r)=>{var s;(s=t.subscribe)===null||s===void 0||s.call(t);let a=!0;o.subscribe(vt(r,l=>{var c;(c=t.next)===null||c===void 0||c.call(t,l),r.next(l)},()=>{var l;a=!1,(l=t.complete)===null||l===void 0||l.call(t),r.complete()},l=>{var c;a=!1,(c=t.error)===null||c===void 0||c.call(t,l),r.error(l)},()=>{var l,c;a&&((l=t.unsubscribe)===null||l===void 0||l.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):or}function oy(...i){let n=ac(i);return Ot((e,t)=>{let o=i.length,r=new Array(o),s=i.map(()=>!1),a=!1;for(let l=0;l<o;l++)gi(i[l]).subscribe(vt(t,c=>{r[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(or))&&(s=null))},ea));e.subscribe(vt(t,l=>{if(a){let c=[l,...r];t.next(n?n(...c):c)}}))})}var _R="https://g.co/ng/security#xss",dt=class extends Error{constructor(n,e){super(q_(n,e)),this.code=n}};function q_(i,n){return`${`NG0${Math.abs(i)}`}${n?": "+n:""}`}var CR=Symbol("InputSignalNode#UNSET"),$j=Ee(Q({},kb),{transformFn:void 0,applyValueToInputSignal(i,n){Pg(i,n)}});function IR(i,n){let e=Object.create($j);e.value=i,e.transformFn=n?.transform;function t(){if(xg(e),e.value===CR)throw new dt(-950,!1);return e.value}return t[Qs]=e,t}function lf(i){return{toString:i}.toString()}var o_="__parameters__";function Kj(i){return function(...e){if(i){let t=i(...e);for(let o in t)this[o]=t[o]}}}function Dw(i,n,e){return lf(()=>{let t=Kj(n);function o(...r){if(this instanceof o)return t.apply(this,r),this;let s=new o(...r);return a.annotation=s,a;function a(l,c,u){let g=l.hasOwnProperty(o_)?l[o_]:Object.defineProperty(l,o_,{value:[]})[o_];for(;g.length<=u;)g.push(null);return(g[u]=g[u]||[]).push(s),l}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=i,o.annotationCls=o,o})}var sr=globalThis;function vn(i){for(let n in i)if(i[n]===vn)return n;throw Error("Could not find renamed property on target object.")}function qj(i,n){for(let e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function Rr(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(Rr).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let n=i.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function Iy(i,n){return i==null||i===""?n===null?"":n:n==null||n===""?i:i+" "+n}var Yj=vn({__forward_ref__:vn});function Dt(i){return i.__forward_ref__=Dt,i.toString=function(){return Rr(this())},i}function Or(i){return vR(i)?i():i}function vR(i){return typeof i=="function"&&i.hasOwnProperty(Yj)&&i.__forward_ref__===Dt}function ue(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function ye(i){return{providers:i.providers||[],imports:i.imports||[]}}function Y_(i){return A2(i,yR)||A2(i,wR)}function bR(i){return Y_(i)!==null}function A2(i,n){return i.hasOwnProperty(n)?i[n]:null}function Jj(i){let n=i&&(i[yR]||i[wR]);return n||null}function x2(i){return i&&(i.hasOwnProperty(E2)||i.hasOwnProperty(Xj))?i[E2]:null}var yR=vn({\u0275prov:vn}),E2=vn({\u0275inj:vn}),wR=vn({ngInjectableDef:vn}),Xj=vn({ngInjectorDef:vn}),Pe=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=ue({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SR(i){return i&&!!i.\u0275providers}var Qj=vn({\u0275cmp:vn}),Zj=vn({\u0275dir:vn}),e7=vn({\u0275pipe:vn}),t7=vn({\u0275mod:vn}),C_=vn({\u0275fac:vn}),Xh=vn({__NG_ELEMENT_ID__:vn}),T2=vn({__NG_ENV_ID__:vn});function Fa(i){return typeof i=="string"?i:i==null?"":String(i)}function i7(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Fa(i)}function n7(i,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${i}`:"";throw new dt(-200,i)}function Pw(i,n){throw new dt(-201,!1)}var Oi=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Oi||{}),vy;function AR(){return vy}function Ur(i){let n=vy;return vy=i,n}function xR(i,n,e){let t=Y_(i);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(e&Oi.Optional)return null;if(n!==void 0)return n;Pw(i,"Injector")}var o7={},Zh=o7,by="__NG_DI_FLAG__",I_="ngTempTokenPath",r7="ngTokenPath",s7=/\n/gm,a7="\u0275",O2="__source",ku;function l7(){return ku}function uc(i){let n=ku;return ku=i,n}function c7(i,n=Oi.Default){if(ku===void 0)throw new dt(-203,!1);return ku===null?xR(i,void 0,n):ku.get(i,n&Oi.Optional?null:void 0,n)}function ie(i,n=Oi.Default){return(AR()||c7)(Or(i),n)}function Te(i,n=Oi.Default){return ie(i,J_(n))}function J_(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function yy(i){let n=[];for(let e=0;e<i.length;e++){let t=Or(i[e]);if(Array.isArray(t)){if(t.length===0)throw new dt(900,!1);let o,r=Oi.Default;for(let s=0;s<t.length;s++){let a=t[s],l=d7(a);typeof l=="number"?l===-1?o=a.token:r|=l:o=a}n.push(ie(o,r))}else n.push(ie(t))}return n}function Fw(i,n){return i[by]=n,i.prototype[by]=n,i}function d7(i){return i[by]}function u7(i,n,e,t){let o=i[I_];throw n[O2]&&o.unshift(n[O2]),i.message=p7(`
`+i.message,o,e,t),i[r7]=o,i[I_]=null,i}function p7(i,n,e,t=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==a7?i.slice(2):i;let o=Rr(n);if(Array.isArray(n))o=n.map(Rr).join(" -> ");else if(typeof n=="object"){let r=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];r.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rr(a)))}o=`{${r.join(", ")}}`}return`${e}${t?"("+t+")":""}[${o}]: ${i.replace(s7,`
  `)}`}var Lw=Fw(Dw("Inject",i=>({token:i})),-1),cf=Fw(Dw("Optional"),8);var X_=Fw(Dw("SkipSelf"),4);function Od(i,n){let e=i.hasOwnProperty(C_);return e?i[C_]:null}function h7(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let o=i[t],r=n[t];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}function f7(i){return i.flat(Number.POSITIVE_INFINITY)}function Mw(i,n){i.forEach(e=>Array.isArray(e)?Mw(e,n):n(e))}function ER(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function v_(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function m7(i,n){let e=[];for(let t=0;t<i;t++)e.push(n);return e}function g7(i,n,e,t){let o=i.length;if(o==n)i.push(e,t);else if(o===1)i.push(t,i[0]),i[0]=e;else{for(o--,i.push(i[o-1],i[o]);o>n;){let r=o-2;i[o]=i[r],o--}i[n]=e,i[n+1]=t}}function df(i,n,e){let t=uf(i,n);return t>=0?i[t|1]=e:(t=~t,g7(i,t,n,e)),t}function ry(i,n){let e=uf(i,n);if(e>=0)return i[e|1]}function uf(i,n){return _7(i,n,1)}function _7(i,n,e){let t=0,o=i.length>>e;for(;o!==t;){let r=t+(o-t>>1),s=i[r<<e];if(n===s)return r<<e;s>n?o=r:t=r+1}return~(o<<e)}var Vu={},jr=[],Rd=new Pe(""),TR=new Pe("",-1),OR=new Pe(""),b_=class{get(n,e=Zh){if(e===Zh){let t=new Error(`NullInjectorError: No provider for ${Rr(n)}!`);throw t.name="NullInjectorError",t}return e}},RR=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(RR||{}),La=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(La||{}),fc=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(fc||{});function C7(i,n,e){let t=i.length;for(;;){let o=i.indexOf(n,e);if(o===-1)return o;if(o===0||i.charCodeAt(o-1)<=32){let r=n.length;if(o+r===t||i.charCodeAt(o+r)<=32)return o}e=o+1}}function wy(i,n,e){let t=0;for(;t<e.length;){let o=e[t];if(typeof o=="number"){if(o!==0)break;t++;let r=e[t++],s=e[t++],a=e[t++];i.setAttribute(n,s,a,r)}else{let r=o,s=e[++t];I7(r)?i.setProperty(n,r,s):i.setAttribute(n,r,s),t++}}return t}function DR(i){return i===3||i===4||i===6}function I7(i){return i.charCodeAt(0)===64}function ef(i,n){if(!(n===null||n.length===0))if(i===null||i.length===0)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){let o=n[t];typeof o=="number"?e=o:e===0||(e===-1||e===2?R2(i,e,o,null,n[++t]):R2(i,e,o,null,null))}}return i}function R2(i,n,e,t,o){let r=0,s=i.length;if(n===-1)s=-1;else for(;r<i.length;){let a=i[r++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=r-1;break}}}for(;r<i.length;){let a=i[r];if(typeof a=="number")break;if(a===e){if(t===null){o!==null&&(i[r+1]=o);return}else if(t===i[r+1]){i[r+2]=o;return}}r++,t!==null&&r++,o!==null&&r++}s!==-1&&(i.splice(s,0,n),r=s+1),i.splice(r++,0,e),t!==null&&i.splice(r++,0,t),o!==null&&i.splice(r++,0,o)}var PR="ng-template";function v7(i,n,e,t){let o=0;if(t){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&C7(n[o+1].toLowerCase(),e,0)!==-1)return!0}else if(kw(i))return!1;if(o=n.indexOf(1,o),o>-1){let r;for(;++o<n.length&&typeof(r=n[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function kw(i){return i.type===4&&i.value!==PR}function b7(i,n,e){let t=i.type===4&&!e?PR:i.value;return n===t}function y7(i,n,e){let t=4,o=i.attrs,r=o!==null?A7(o):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!aa(t)&&!aa(l))return!1;if(s&&aa(l))continue;s=!1,t=l|t&1;continue}if(!s)if(t&4){if(t=2|t&1,l!==""&&!b7(i,l,e)||l===""&&n.length===1){if(aa(t))return!1;s=!0}}else if(t&8){if(o===null||!v7(i,o,l,e)){if(aa(t))return!1;s=!0}}else{let c=n[++a],u=w7(l,o,kw(i),e);if(u===-1){if(aa(t))return!1;s=!0;continue}if(c!==""){let g;if(u>r?g="":g=o[u+1].toLowerCase(),t&2&&c!==g){if(aa(t))return!1;s=!0}}}}return aa(t)||s}function aa(i){return(i&1)===0}function w7(i,n,e,t){if(n===null)return-1;let o=0;if(t||!e){let r=!1;for(;o<n.length;){let s=n[o];if(s===i)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return x7(n,i)}function FR(i,n,e=!1){for(let t=0;t<n.length;t++)if(y7(i,n[t],e))return!0;return!1}function S7(i){let n=i.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function A7(i){for(let n=0;n<i.length;n++){let e=i[n];if(DR(e))return n}return i.length}function x7(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let t=i[e];if(typeof t=="number")return-1;if(t===n)return e;e++}return-1}function E7(i,n){e:for(let e=0;e<n.length;e++){let t=n[e];if(i.length===t.length){for(let o=0;o<i.length;o++)if(i[o]!==t[o])continue e;return!0}}return!1}function D2(i,n){return i?":not("+n.trim()+")":n}function T7(i){let n=i[0],e=1,t=2,o="",r=!1;for(;e<i.length;){let s=i[e];if(typeof s=="string")if(t&2){let a=i[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else t&8?o+="."+s:t&4&&(o+=" "+s);else o!==""&&!aa(s)&&(n+=D2(r,o),o=""),t=s,r=r||!aa(t);e++}return o!==""&&(n+=D2(r,o)),n}function O7(i){return i.map(T7).join(",")}function R7(i){let n=[],e=[],t=1,o=2;for(;t<i.length;){let r=i[t];if(typeof r=="string")o===2?r!==""&&n.push(r,i[++t]):o===8&&e.push(r);else{if(!aa(o))break;o=r}t++}return{attrs:n,classes:e}}function Y(i){return lf(()=>{let n=VR(i),e=Ee(Q({},n),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===RR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||La.Emulated,styles:i.styles||jr,_:null,schemas:i.schemas||null,tView:null,id:""});BR(e);let t=i.dependencies;return e.directiveDefs=y_(t,!1),e.pipeDefs=y_(t,!0),e.id=F7(e),e})}function D7(i){return dl(i)||LR(i)}function P7(i){return i!==null}function we(i){return lf(()=>({type:i.type,bootstrap:i.bootstrap||jr,declarations:i.declarations||jr,imports:i.imports||jr,exports:i.exports||jr,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function P2(i,n){if(i==null)return Vu;let e={};for(let t in i)if(i.hasOwnProperty(t)){let o=i[t],r,s,a=fc.None;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r):(r=o,s=o),n?(e[r]=a!==fc.None?[t,a]:t,n[r]=s):e[r]=t}return e}function lt(i){return lf(()=>{let n=VR(i);return BR(n),n})}function xn(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone===!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function dl(i){return i[Qj]||null}function LR(i){return i[Zj]||null}function MR(i){return i[e7]||null}function kR(i){let n=dl(i)||LR(i)||MR(i);return n!==null?n.standalone:!1}function NR(i,n){let e=i[t7]||null;if(!e&&n===!0)throw new Error(`Type ${Rr(i)} does not have '\u0275mod' property.`);return e}function VR(i){let n={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:i.inputs||Vu,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||jr,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:P2(i.inputs,n),outputs:P2(i.outputs),debugInfo:null}}function BR(i){i.features?.forEach(n=>n(i))}function y_(i,n){if(!i)return null;let e=n?MR:D7;return()=>(typeof i=="function"?i():i).map(t=>e(t)).filter(P7)}function F7(i){let n=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let o of e)n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Xu(i){return{\u0275providers:i}}function L7(...i){return{\u0275providers:UR(!0,i),\u0275fromNgModule:!0}}function UR(i,...n){let e=[],t=new Set,o,r=s=>{e.push(s)};return Mw(n,s=>{let a=s;Sy(a,r,[],t)&&(o||=[],o.push(a))}),o!==void 0&&jR(o,r),e}function jR(i,n){for(let e=0;e<i.length;e++){let{ngModule:t,providers:o}=i[e];Nw(o,r=>{n(r,t)})}}function Sy(i,n,e,t){if(i=Or(i),!i)return!1;let o=null,r=x2(i),s=!r&&dl(i);if(!r&&!s){let l=i.ngModule;if(r=x2(l),r)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=i}let a=t.has(o);if(s){if(a)return!1;if(t.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Sy(c,n,e,t)}}else if(r){if(r.imports!=null&&!a){t.add(o);let c;try{Mw(r.imports,u=>{Sy(u,n,e,t)&&(c||=[],c.push(u))})}finally{}c!==void 0&&jR(c,n)}if(!a){let c=Od(o)||(()=>new o);n({provide:o,useFactory:c,deps:jr},o),n({provide:OR,useValue:o,multi:!0},o),n({provide:Rd,useValue:()=>ie(o),multi:!0},o)}let l=r.providers;if(l!=null&&!a){let c=i;Nw(l,u=>{n(u,c)})}}else return!1;return o!==i&&i.providers!==void 0}function Nw(i,n){for(let e of i)SR(e)&&(e=e.\u0275providers),Array.isArray(e)?Nw(e,n):n(e)}var M7=vn({provide:String,useValue:vn});function HR(i){return i!==null&&typeof i=="object"&&M7 in i}function k7(i){return!!(i&&i.useExisting)}function N7(i){return!!(i&&i.useFactory)}function Bu(i){return typeof i=="function"}function V7(i){return!!i.useClass}var Q_=new Pe(""),p_={},B7={},sy;function Z_(){return sy===void 0&&(sy=new b_),sy}var Dr=class{},tf=class extends Dr{get destroyed(){return this._destroyed}constructor(n,e,t,o){super(),this.parent=e,this.source=t,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xy(n,s=>this.processProvider(s)),this.records.set(TR,Pu(void 0,this)),o.has("environment")&&this.records.set(Dr,Pu(void 0,this));let r=this.records.get(Q_);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(OR,jr,Oi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Mi(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Mi(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=uc(this),t=Ur(void 0),o;try{return n()}finally{uc(e),Ur(t)}}get(n,e=Zh,t=Oi.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(T2))return n[T2](this);t=J_(t);let o,r=uc(this),s=Ur(void 0);try{if(!(t&Oi.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=z7(n)&&Y_(n);c&&this.injectableDefInScope(c)?l=Pu(Ay(n),p_):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=t&Oi.Self?Z_():this.parent;return e=t&Oi.Optional&&e===Zh?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[I_]=a[I_]||[]).unshift(Rr(n)),r)throw a;return u7(a,n,"R3InjectorError",this.source)}else throw a}finally{Ur(s),uc(r)}}resolveInjectorInitializers(){let n=Mi(null),e=uc(this),t=Ur(void 0),o;try{let r=this.get(Rd,jr,Oi.Self);for(let s of r)s()}finally{uc(e),Ur(t),Mi(n)}}toString(){let n=[],e=this.records;for(let t of e.keys())n.push(Rr(t));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new dt(205,!1)}processProvider(n){n=Or(n);let e=Bu(n)?n:Or(n&&n.provide),t=j7(n);if(!Bu(n)&&n.multi===!0){let o=this.records.get(e);o||(o=Pu(void 0,p_,!0),o.factory=()=>yy(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,t)}hydrate(n,e){let t=Mi(null);try{return e.value===p_&&(e.value=B7,e.value=e.factory()),typeof e.value=="object"&&e.value&&G7(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Mi(t)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Or(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Ay(i){let n=Y_(i),e=n!==null?n.factory:Od(i);if(e!==null)return e;if(i instanceof Pe)throw new dt(204,!1);if(i instanceof Function)return U7(i);throw new dt(204,!1)}function U7(i){if(i.length>0)throw new dt(204,!1);let e=Jj(i);return e!==null?()=>e.factory(i):()=>new i}function j7(i){if(HR(i))return Pu(void 0,i.useValue);{let n=GR(i);return Pu(n,p_)}}function GR(i,n,e){let t;if(Bu(i)){let o=Or(i);return Od(o)||Ay(o)}else if(HR(i))t=()=>Or(i.useValue);else if(N7(i))t=()=>i.useFactory(...yy(i.deps||[]));else if(k7(i))t=()=>ie(Or(i.useExisting));else{let o=Or(i&&(i.useClass||i.provide));if(H7(i))t=()=>new o(...yy(i.deps));else return Od(o)||Ay(o)}return t}function Pu(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function H7(i){return!!i.deps}function G7(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function z7(i){return typeof i=="function"||typeof i=="object"&&i instanceof Pe}function xy(i,n){for(let e of i)Array.isArray(e)?xy(e,n):e&&SR(e)?xy(e.\u0275providers,n):n(e)}function Os(i,n){i instanceof tf&&i.assertNotDestroyed();let e,t=uc(i),o=Ur(void 0);try{return n()}finally{uc(t),Ur(o)}}function zR(){return AR()!==void 0||l7()!=null}function e0(i){if(!zR())throw new dt(-203,!1)}function W7(i){let n=sr.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function $7(i){return typeof i=="function"}var fl=0,ni=1,Zt=2,Ir=3,la=4,Gr=5,Uu=6,w_=7,_r=8,ju=9,Ma=10,Qn=11,nf=12,F2=13,Qu=14,ss=15,Dd=16,Fu=17,ul=18,t0=19,WR=20,pc=21,h_=22,Ts=23,Uo=25,$R=1;var Pd=7,S_=8,Hu=9,Cr=10,A_=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(A_||{});function hc(i){return Array.isArray(i)&&typeof i[$R]=="object"}function ml(i){return Array.isArray(i)&&i[$R]===!0}function Vw(i){return(i.flags&4)!==0}function i0(i){return i.componentOffset>-1}function n0(i){return(i.flags&1)===1}function mc(i){return!!i.template}function Ey(i){return(i[Zt]&512)!==0}var Ty=class{constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}};function KR(i,n,e,t){n!==null?n.applyValueToInputSignal(n,t):i[e]=t}function ki(){return qR}function qR(i){return i.type.prototype.ngOnChanges&&(i.setInput=q7),K7}ki.ngInherit=!0;function K7(){let i=JR(this),n=i?.current;if(n){let e=i.previous;if(e===Vu)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function q7(i,n,e,t,o){let r=this.declaredInputs[t],s=JR(i)||Y7(i,{previous:Vu,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[r];a[r]=new Ty(c&&c.currentValue,e,l===Vu),KR(i,n,o,e)}var YR="__ngSimpleChanges__";function JR(i){return i[YR]||null}function Y7(i,n){return i[YR]=n}var L2=null;var Da=function(i,n,e){L2?.(i,n,e)},XR="svg",J7="math";function ka(i){for(;Array.isArray(i);)i=i[fl];return i}function QR(i,n){return ka(n[i])}function Rs(i,n){return ka(n[i.index])}function Bw(i,n){return i.data[n]}function o0(i,n){return i[n]}function Ic(i,n){let e=n[i];return hc(e)?e:e[fl]}function X7(i){return(i[Zt]&4)===4}function Uw(i){return(i[Zt]&128)===128}function Q7(i){return ml(i[Ir])}function gc(i,n){return n==null?null:i[n]}function ZR(i){i[Fu]=0}function eD(i){i[Zt]&1024||(i[Zt]|=1024,Uw(i)&&s0(i))}function Z7(i,n){for(;i>0;)n=n[Qu],i--;return n}function r0(i){return!!(i[Zt]&9216||i[Ts]?.dirty)}function Oy(i){i[Ma].changeDetectionScheduler?.notify(8),i[Zt]&64&&(i[Zt]|=1024),r0(i)&&s0(i)}function s0(i){i[Ma].changeDetectionScheduler?.notify(0);let n=Fd(i);for(;n!==null&&!(n[Zt]&8192||(n[Zt]|=8192,!Uw(n)));)n=Fd(n)}function tD(i,n){if((i[Zt]&256)===256)throw new dt(911,!1);i[pc]===null&&(i[pc]=[]),i[pc].push(n)}function e9(i,n){if(i[pc]===null)return;let e=i[pc].indexOf(n);e!==-1&&i[pc].splice(e,1)}function Fd(i){let n=i[Ir];return ml(n)?n[Ir]:n}var vi={lFrame:uD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iD=!1;function t9(){return vi.lFrame.elementDepthCount}function i9(){vi.lFrame.elementDepthCount++}function n9(){vi.lFrame.elementDepthCount--}function nD(){return vi.bindingsEnabled}function oD(){return vi.skipHydrationRootTNode!==null}function o9(i){return vi.skipHydrationRootTNode===i}function r9(){vi.skipHydrationRootTNode=null}function Ft(){return vi.lFrame.lView}function eo(){return vi.lFrame.tView}function b(i){return vi.lFrame.contextLView=i,i[_r]}function y(i){return vi.lFrame.contextLView=null,i}function ar(){let i=rD();for(;i!==null&&i.type===64;)i=i.parent;return i}function rD(){return vi.lFrame.currentTNode}function s9(){let i=vi.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}function Ud(i,n){let e=vi.lFrame;e.currentTNode=i,e.isParent=n}function jw(){return vi.lFrame.isParent}function Hw(){vi.lFrame.isParent=!1}function a9(){return vi.lFrame.contextLView}function sD(){return iD}function M2(i){iD=i}function ls(){let i=vi.lFrame,n=i.bindingRootIndex;return n===-1&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function aD(){return vi.lFrame.bindingIndex}function l9(i){return vi.lFrame.bindingIndex=i}function Zu(){return vi.lFrame.bindingIndex++}function a0(i){let n=vi.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function c9(){return vi.lFrame.inI18n}function d9(i,n){let e=vi.lFrame;e.bindingIndex=e.bindingRootIndex=i,Ry(n)}function u9(){return vi.lFrame.currentDirectiveIndex}function Ry(i){vi.lFrame.currentDirectiveIndex=i}function p9(i){let n=vi.lFrame.currentDirectiveIndex;return n===-1?null:i[n]}function lD(){return vi.lFrame.currentQueryIndex}function Gw(i){vi.lFrame.currentQueryIndex=i}function h9(i){let n=i[ni];return n.type===2?n.declTNode:n.type===1?i[Gr]:null}function cD(i,n,e){if(e&Oi.SkipSelf){let o=n,r=i;for(;o=o.parent,o===null&&!(e&Oi.Host);)if(o=h9(r),o===null||(r=r[Qu],o.type&10))break;if(o===null)return!1;n=o,i=r}let t=vi.lFrame=dD();return t.currentTNode=n,t.lView=i,!0}function zw(i){let n=dD(),e=i[ni];vi.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function dD(){let i=vi.lFrame,n=i===null?null:i.child;return n===null?uD(i):n}function uD(i){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=n),n}function pD(){let i=vi.lFrame;return vi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var hD=pD;function Ww(){let i=pD();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function f9(i){return(vi.lFrame.contextLView=Z7(i,vi.lFrame.contextLView))[_r]}function Ba(){return vi.lFrame.selectedIndex}function Ld(i){vi.lFrame.selectedIndex=i}function l0(){let i=vi.lFrame;return Bw(i.tView,i.selectedIndex)}function pt(){vi.lFrame.currentNamespace=XR}function m9(){return vi.lFrame.currentNamespace}var fD=!0;function c0(){return fD}function d0(i){fD=i}function g9(i,n,e){let{ngOnChanges:t,ngOnInit:o,ngDoCheck:r}=n.type.prototype;if(t){let s=qR(n);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}o&&(e.preOrderHooks??=[]).push(0-i,o),r&&((e.preOrderHooks??=[]).push(i,r),(e.preOrderCheckHooks??=[]).push(i,r))}function u0(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){let r=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=r;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),u!=null&&(i.destroyHooks??=[]).push(e,u)}}function f_(i,n,e){mD(i,n,3,e)}function m_(i,n,e,t){(i[Zt]&3)===e&&mD(i,n,e,t)}function ay(i,n){let e=i[Zt];(e&3)===n&&(e&=16383,e+=1,i[Zt]=e)}function mD(i,n,e,t){let o=t!==void 0?i[Fu]&65535:0,r=t??-1,s=n.length-1,a=0;for(let l=o;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],t!=null&&a>=t)break}else n[l]<0&&(i[Fu]+=65536),(a<r||r==-1)&&(_9(i,e,n,l),i[Fu]=(i[Fu]&4294901760)+l+2),l++}function k2(i,n){Da(4,i,n);let e=Mi(null);try{n.call(i)}finally{Mi(e),Da(5,i,n)}}function _9(i,n,e,t){let o=e[t]<0,r=e[t+1],s=o?-e[t]:e[t],a=i[s];o?i[Zt]>>14<i[Fu]>>16&&(i[Zt]&3)===n&&(i[Zt]+=16384,k2(a,r)):k2(a,r)}var Nu=-1,Md=class{constructor(n,e,t){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=t}};function C9(i){return i instanceof Md}function I9(i){return(i.flags&8)!==0}function v9(i){return(i.flags&16)!==0}var ly={},Dy=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,t){t=J_(t);let o=this.injector.get(n,ly,t);return o!==ly||e===ly?o:this.parentInjector.get(n,e,t)}};function gD(i){return i!==Nu}function x_(i){return i&32767}function b9(i){return i>>16}function E_(i,n){let e=b9(i),t=n;for(;e>0;)t=t[Qu],e--;return t}var Py=!0;function T_(i){let n=Py;return Py=i,n}var y9=256,_D=y9-1,CD=5,w9=0,Pa={};function S9(i,n,e){let t;typeof e=="string"?t=e.charCodeAt(0)||0:e.hasOwnProperty(Xh)&&(t=e[Xh]),t==null&&(t=e[Xh]=w9++);let o=t&_D,r=1<<o;n.data[i+(o>>CD)]|=r}function O_(i,n){let e=ID(i,n);if(e!==-1)return e;let t=n[ni];t.firstCreatePass&&(i.injectorIndex=n.length,cy(t.data,i),cy(n,null),cy(t.blueprint,null));let o=$w(i,n),r=i.injectorIndex;if(gD(o)){let s=x_(o),a=E_(o,n),l=a[ni].data;for(let c=0;c<8;c++)n[r+c]=a[s+c]|l[s+c]}return n[r+8]=o,r}function cy(i,n){i.push(0,0,0,0,0,0,0,0,n)}function ID(i,n){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||n[i.injectorIndex+8]===null?-1:i.injectorIndex}function $w(i,n){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,t=null,o=n;for(;o!==null;){if(t=SD(o),t===null)return Nu;if(e++,o=o[Qu],t.injectorIndex!==-1)return t.injectorIndex|e<<16}return Nu}function Fy(i,n,e){S9(i,n,e)}function A9(i,n){if(n==="class")return i.classes;if(n==="style")return i.styles;let e=i.attrs;if(e){let t=e.length,o=0;for(;o<t;){let r=e[o];if(DR(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<t&&typeof e[o]=="string";)o++;else{if(r===n)return e[o+1];o=o+2}}}return null}function vD(i,n,e){if(e&Oi.Optional||i!==void 0)return i;Pw(n,"NodeInjector")}function bD(i,n,e,t){if(e&Oi.Optional&&t===void 0&&(t=null),!(e&(Oi.Self|Oi.Host))){let o=i[ju],r=Ur(void 0);try{return o?o.get(n,t,e&Oi.Optional):xR(n,t,e&Oi.Optional)}finally{Ur(r)}}return vD(t,n,e)}function yD(i,n,e,t=Oi.Default,o){if(i!==null){if(n[Zt]&2048&&!(t&Oi.Self)){let s=O9(i,n,e,t,Pa);if(s!==Pa)return s}let r=wD(i,n,e,t,Pa);if(r!==Pa)return r}return bD(n,e,t,o)}function wD(i,n,e,t,o){let r=E9(e);if(typeof r=="function"){if(!cD(n,i,t))return t&Oi.Host?vD(o,e,t):bD(n,e,t,o);try{let s;if(s=r(t),s==null&&!(t&Oi.Optional))Pw(e);else return s}finally{hD()}}else if(typeof r=="number"){let s=null,a=ID(i,n),l=Nu,c=t&Oi.Host?n[ss][Gr]:null;for((a===-1||t&Oi.SkipSelf)&&(l=a===-1?$w(i,n):n[a+8],l===Nu||!V2(t,!1)?a=-1:(s=n[ni],a=x_(l),n=E_(l,n)));a!==-1;){let u=n[ni];if(N2(r,a,u.data)){let g=x9(a,n,e,s,t,c);if(g!==Pa)return g}l=n[a+8],l!==Nu&&V2(t,n[ni].data[a+8]===c)&&N2(r,a,n)?(s=u,a=x_(l),n=E_(l,n)):a=-1}}return o}function x9(i,n,e,t,o,r){let s=n[ni],a=s.data[i+8],l=t==null?i0(a)&&Py:t!=s&&(a.type&3)!==0,c=o&Oi.Host&&r===a,u=g_(a,s,e,l,c);return u!==null?kd(n,s,u,a):Pa}function g_(i,n,e,t,o){let r=i.providerIndexes,s=n.data,a=r&1048575,l=i.directiveStart,c=i.directiveEnd,u=r>>20,g=t?a:a+u,_=o?a+u:c;for(let C=g;C<_;C++){let w=s[C];if(C<l&&e===w||C>=l&&w.type===e)return C}if(o){let C=s[l];if(C&&mc(C)&&C.type===e)return l}return null}function kd(i,n,e,t){let o=i[e],r=n.data;if(C9(o)){let s=o;s.resolving&&n7(i7(r[e]));let a=T_(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ur(s.injectImpl):null,u=cD(i,t,Oi.Default);try{o=i[e]=s.factory(void 0,r,i,t),n.firstCreatePass&&e>=t.directiveStart&&g9(e,r[e],n)}finally{c!==null&&Ur(c),T_(a),s.resolving=!1,hD()}}return o}function E9(i){if(typeof i=="string")return i.charCodeAt(0)||0;let n=i.hasOwnProperty(Xh)?i[Xh]:void 0;return typeof n=="number"?n>=0?n&_D:T9:n}function N2(i,n,e){let t=1<<i;return!!(e[n+(i>>CD)]&t)}function V2(i,n){return!(i&Oi.Self)&&!(i&Oi.Host&&n)}var Td=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return yD(this._tNode,this._lView,n,J_(t),e)}};function T9(){return new Td(ar(),Ft())}function We(i){return lf(()=>{let n=i.prototype.constructor,e=n[C_]||Ly(n),t=Object.prototype,o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==t;){let r=o[C_]||Ly(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function Ly(i){return vR(i)?()=>{let n=Ly(Or(i));return n&&n()}:Od(i)}function O9(i,n,e,t,o){let r=i,s=n;for(;r!==null&&s!==null&&s[Zt]&2048&&!(s[Zt]&512);){let a=wD(r,s,e,t|Oi.Self,Pa);if(a!==Pa)return a;let l=r.parent;if(!l){let c=s[WR];if(c){let u=c.get(e,Pa,t);if(u!==Pa)return u}l=SD(s),s=s[Qu]}r=l}return o}function SD(i){let n=i[ni],e=n.type;return e===2?n.declTNode:e===1?i[Gr]:null}function Kw(i){return A9(ar(),i)}function B2(i,n=null,e=null,t){let o=AD(i,n,e,t);return o.resolveInjectorInitializers(),o}function AD(i,n=null,e=null,t,o=new Set){let r=[e||jr,L7(i)];return t=t||(typeof i=="object"?void 0:Rr(i)),new tf(r,n||Z_(),t||null,o)}var Zn=class i{static{this.THROW_IF_NOT_FOUND=Zh}static{this.NULL=new b_}static create(n,e){if(Array.isArray(n))return B2({name:""},e,n,"");{let t=n.name??"";return B2({name:t},n.parent,n.providers,t)}}static{this.\u0275prov=ue({token:i,providedIn:"any",factory:()=>ie(TR)})}static{this.__NG_ELEMENT_ID__=-1}};var R9=new Pe("");R9.__NG_ELEMENT_ID__=i=>{let n=ar();if(n===null)throw new dt(204,!1);if(n.type&2)return n.value;if(i&Oi.Optional)return null;throw new dt(204,!1)};var D9="ngOriginalError";function dy(i){return i[D9]}var xD=!0,jd=(()=>{class i{static{this.__NG_ELEMENT_ID__=P9}static{this.__NG_ENV_ID__=e=>e}}return i})(),My=class extends jd{constructor(n){super(),this._lView=n}onDestroy(n){return tD(this._lView,n),()=>e9(this._lView,n)}};function P9(){return new My(Ft())}var Ua=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new an(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>new i})}}return i})();var ky=class extends Ae{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,zR()&&(this.destroyRef=Te(jd,{optional:!0})??void 0,this.pendingTasks=Te(Ua,{optional:!0})??void 0)}emit(n){let e=Mi(null);try{super.next(n)}finally{Mi(e)}}subscribe(n,e,t){let o=n,r=e||(()=>null),s=t;if(n&&typeof n=="object"){let l=n;o=l.next?.bind(l),r=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return n instanceof ro&&n.add(a),a}wrapInTimeout(n){return e=>{let t=this.pendingTasks?.add();setTimeout(()=>{n(e),t!==void 0&&this.pendingTasks?.remove(t)})}}},W=ky;function R_(...i){}function ED(i){let n,e;function t(){i=R_;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{i(),t()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{i(),t()})),()=>t()}function U2(i){return queueMicrotask(()=>i()),()=>{i=R_}}var qw="isAngularZone",D_=qw+"_ID",F9=0,It=class i{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new W(!1),this.onMicrotaskEmpty=new W(!1),this.onStable=new W(!1),this.onError=new W(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=xD}=n;if(typeof Zone>"u")throw new dt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&t,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,k9(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qw)===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new dt(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new dt(909,!1)}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,n,L9,R_,R_);try{return r.runTask(s,e,t)}finally{r.cancelTask(s)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}},L9={};function Yw(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function M9(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function n(){ED(()=>{i.callbackScheduled=!1,Ny(i),i.isCheckStableRunning=!0,Yw(i),i.isCheckStableRunning=!1})}i.scheduleInRootZone?Zone.root.run(()=>{n()}):i._outer.run(()=>{n()}),Ny(i)}function k9(i){let n=()=>{M9(i)},e=F9++;i._inner=i._inner.fork({name:"angular",properties:{[qw]:!0,[D_]:e,[D_+e]:!0},onInvokeTask:(t,o,r,s,a,l)=>{if(N9(l))return t.invokeTask(r,s,a,l);try{return j2(i),t.invokeTask(r,s,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&n(),H2(i)}},onInvoke:(t,o,r,s,a,l,c)=>{try{return j2(i),t.invoke(r,s,a,l,c)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!V9(l)&&n(),H2(i)}},onHasTask:(t,o,r,s)=>{t.hasTask(r,s),o===r&&(s.change=="microTask"?(i._hasPendingMicrotasks=s.microTask,Ny(i),Yw(i)):s.change=="macroTask"&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,o,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}function Ny(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function j2(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function H2(i){i._nesting--,Yw(i)}var P_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new W,this.onMicrotaskEmpty=new W,this.onStable=new W,this.onError=new W}run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,o){return n.apply(e,t)}};function N9(i){return TD(i,"__ignore_ng_zone__")}function V9(i){return TD(i,"__scheduler_tick__")}function TD(i,n){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[n]===!0}function B9(i="zone.js",n){return i==="noop"?new P_:i==="zone.js"?new It(n):i}var Na=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&dy(n);for(;e&&dy(e);)e=dy(e);return e||null}},U9=new Pe("",{providedIn:"root",factory:()=>{let i=Te(It),n=Te(Na);return e=>i.runOutsideAngular(()=>n.handleError(e))}});function G2(i,n){return IR(i,n)}function j9(i){return IR(CR,i)}var OD=(G2.required=j9,G2);function H9(){return ep(ar(),Ft())}function ep(i,n){return new Le(Rs(i,n))}var Le=(()=>{class i{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=H9}}return i})();function G9(i){return i instanceof Le?i.nativeElement:i}function z9(){return this._results[Symbol.iterator]()}var Vy=class i{get changes(){return this._changes??=new W}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=i.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=z9)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let t=f7(n);(this._changesDetected=!h7(this._results,t,e))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RD(i){return(i.flags&128)===128}var DD=new Map,W9=0;function $9(){return W9++}function K9(i){DD.set(i[t0],i)}function By(i){DD.delete(i[t0])}var z2="__ngContext__";function _c(i,n){hc(n)?(i[z2]=n[t0],K9(n)):i[z2]=n}function PD(i){return LD(i[nf])}function FD(i){return LD(i[la])}function LD(i){for(;i!==null&&!ml(i);)i=i[la];return i}var Uy;function MD(i){Uy=i}function kD(){if(Uy!==void 0)return Uy;if(typeof document<"u")return document;throw new dt(210,!1)}var p0=new Pe("",{providedIn:"root",factory:()=>q9}),q9="ng",Jw=new Pe(""),Lt=new Pe("",{providedIn:"platform",factory:()=>"unknown"});var OWe=new Pe(""),Xw=new Pe("",{providedIn:"root",factory:()=>kD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Y9="h",J9="b";var X9=()=>null;function Qw(i,n,e=!1){return X9(i,n,e)}var ND=!1,Q9=new Pe("",{providedIn:"root",factory:()=>ND});var r_;function Z9(){if(r_===void 0&&(r_=null,sr.trustedTypes))try{r_=sr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return r_}function h0(i){return Z9()?.createHTML(i)||i}var s_;function VD(){if(s_===void 0&&(s_=null,sr.trustedTypes))try{s_=sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return s_}function W2(i){return VD()?.createHTML(i)||i}function $2(i){return VD()?.createScriptURL(i)||i}var pl=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_R})`}},jy=class extends pl{getTypeName(){return"HTML"}},Hy=class extends pl{getTypeName(){return"Style"}},Gy=class extends pl{getTypeName(){return"Script"}},zy=class extends pl{getTypeName(){return"URL"}},Wy=class extends pl{getTypeName(){return"ResourceURL"}};function cs(i){return i instanceof pl?i.changingThisBreaksApplicationSecurity:i}function gl(i,n){let e=e8(i);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${_R})`)}return e===n}function e8(i){return i instanceof pl&&i.getTypeName()||null}function BD(i){return new jy(i)}function UD(i){return new Hy(i)}function jD(i){return new Gy(i)}function HD(i){return new zy(i)}function GD(i){return new Wy(i)}function t8(i){let n=new Ky(i);return i8()?new $y(n):n}var $y=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(h0(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},Ky=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=h0(n),e}};function i8(){try{return!!new window.DOMParser().parseFromString(h0(""),"text/html")}catch{return!1}}var n8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function f0(i){return i=String(i),i.match(n8)?i:"unsafe:"+i}function _l(i){let n={};for(let e of i.split(","))n[e]=!0;return n}function pf(...i){let n={};for(let e of i)for(let t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}var zD=_l("area,br,col,hr,img,wbr"),WD=_l("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$D=_l("rp,rt"),o8=pf($D,WD),r8=pf(WD,_l("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),s8=pf($D,_l("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),K2=pf(zD,r8,s8,o8),KD=_l("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),a8=_l("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),l8=_l("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),c8=pf(KD,a8,l8),d8=_l("script,style,template"),qy=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,t=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild){o.push(e),e=h8(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=p8(e);if(r){e=r;break}e=o.pop()}}return this.buf.join("")}startElement(n){let e=q2(n).toLowerCase();if(!K2.hasOwnProperty(e))return this.sanitizedSomething=!0,!d8.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let t=n.attributes;for(let o=0;o<t.length;o++){let r=t.item(o),s=r.name,a=s.toLowerCase();if(!c8.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;KD[a]&&(l=f0(l)),this.buf.push(" ",s,'="',Y2(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=q2(n).toLowerCase();K2.hasOwnProperty(e)&&!zD.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Y2(n))}};function u8(i,n){return(i.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function p8(i){let n=i.nextSibling;if(n&&i!==n.previousSibling)throw qD(n);return n}function h8(i){let n=i.firstChild;if(n&&u8(i,n))throw qD(n);return n}function q2(i){let n=i.nodeName;return typeof n=="string"?n:"FORM"}function qD(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var f8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m8=/([^\#-~ |!])/g;function Y2(i){return i.replace(/&/g,"&amp;").replace(f8,function(n){let e=n.charCodeAt(0),t=n.charCodeAt(1);return"&#"+((e-55296)*1024+(t-56320)+65536)+";"}).replace(m8,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var a_;function Zw(i,n){let e=null;try{a_=a_||t8(i);let t=n?String(n):"";e=a_.getInertBodyElement(t);let o=5,r=t;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,t=r,r=e.innerHTML,e=a_.getInertBodyElement(t)}while(t!==r);let a=new qy().sanitizeChildren(J2(e)||e);return h0(a)}finally{if(e){let t=J2(e)||e;for(;t.firstChild;)t.firstChild.remove()}}}function J2(i){return"content"in i&&g8(i)?i.content:null}function g8(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var ds=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(ds||{});function Fi(i){let n=t1();return n?W2(n.sanitize(ds.HTML,i)||""):gl(i,"HTML")?W2(cs(i)):Zw(kD(),Fa(i))}function lr(i){let n=t1();return n?n.sanitize(ds.URL,i)||"":gl(i,"URL")?cs(i):f0(Fa(i))}function e1(i){let n=t1();if(n)return $2(n.sanitize(ds.RESOURCE_URL,i)||"");if(gl(i,"ResourceURL"))return $2(cs(i));throw new dt(904,!1)}function _8(i,n){return n==="src"&&(i==="embed"||i==="frame"||i==="iframe"||i==="media"||i==="script")||n==="href"&&(i==="base"||i==="link")?e1:lr}function YD(i,n,e){return _8(n,e)(i)}function t1(){let i=Ft();return i&&i[Ma].sanitizer}var C8=/^>|^->|<!--|-->|--!>|<!-$/g,I8=/(<|>)/g,v8="\u200B$1\u200B";function b8(i){return i.replace(C8,n=>n.replace(I8,v8))}function y8(i){return i.ownerDocument.defaultView}function m0(i){return i.ownerDocument}function JD(i){return i instanceof Function?i():i}function w8(i){return(i??Te(Zn)).get(Lt)==="browser"}var Va=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Va||{}),S8;function i1(i,n){return S8(i,n)}function Lu(i,n,e,t,o){if(t!=null){let r,s=!1;ml(t)?r=t:hc(t)&&(s=!0,t=t[fl]);let a=ka(t);i===0&&e!==null?o==null?tP(n,e,a):F_(n,e,a,o||null,!0):i===1&&e!==null?F_(n,e,a,o||null,!0):i===2?V8(n,a,s):i===3&&n.destroyNode(a),r!=null&&U8(n,i,r,e,o)}}function A8(i,n){return i.createText(n)}function x8(i,n,e){i.setValue(n,e)}function E8(i,n){return i.createComment(b8(n))}function XD(i,n,e){return i.createElement(n,e)}function T8(i,n){QD(i,n),n[fl]=null,n[Gr]=null}function O8(i,n,e,t,o,r){t[fl]=o,t[Gr]=n,C0(i,t,e,1,o,r)}function QD(i,n){n[Ma].changeDetectionScheduler?.notify(9),C0(i,n,n[Qn],2,null,null)}function R8(i){let n=i[nf];if(!n)return uy(i[ni],i);for(;n;){let e=null;if(hc(n))e=n[nf];else{let t=n[Cr];t&&(e=t)}if(!e){for(;n&&!n[la]&&n!==i;)hc(n)&&uy(n[ni],n),n=n[Ir];n===null&&(n=i),hc(n)&&uy(n[ni],n),e=n&&n[la]}n=e}}function D8(i,n,e,t){let o=Cr+t,r=e.length;t>0&&(e[o-1][la]=n),t<r-Cr?(n[la]=e[o],ER(e,Cr+t,n)):(e.push(n),n[la]=null),n[Ir]=e;let s=n[Dd];s!==null&&e!==s&&ZD(s,n);let a=n[ul];a!==null&&a.insertView(i),Oy(n),n[Zt]|=128}function ZD(i,n){let e=i[Hu],t=n[Ir];if(hc(t))i[Zt]|=A_.HasTransplantedViews;else{let o=t[Ir][ss];n[ss]!==o&&(i[Zt]|=A_.HasTransplantedViews)}e===null?i[Hu]=[n]:e.push(n)}function n1(i,n){let e=i[Hu],t=e.indexOf(n);e.splice(t,1)}function of(i,n){if(i.length<=Cr)return;let e=Cr+n,t=i[e];if(t){let o=t[Dd];o!==null&&o!==i&&n1(o,t),n>0&&(i[e-1][la]=t[la]);let r=v_(i,Cr+n);T8(t[ni],t);let s=r[ul];s!==null&&s.detachView(r[ni]),t[Ir]=null,t[la]=null,t[Zt]&=-129}return t}function g0(i,n){if(!(n[Zt]&256)){let e=n[Qn];e.destroyNode&&C0(i,n,e,3,null,null),R8(n)}}function uy(i,n){if(n[Zt]&256)return;let e=Mi(null);try{n[Zt]&=-129,n[Zt]|=256,n[Ts]&&Og(n[Ts]),F8(i,n),P8(i,n),n[ni].type===1&&n[Qn].destroy();let t=n[Dd];if(t!==null&&ml(n[Ir])){t!==n[Ir]&&n1(t,n);let o=n[ul];o!==null&&o.detachView(i)}By(n)}finally{Mi(e)}}function P8(i,n){let e=i.cleanup,t=n[w_];if(e!==null)for(let r=0;r<e.length-1;r+=2)if(typeof e[r]=="string"){let s=e[r+3];s>=0?t[s]():t[-s].unsubscribe(),r+=2}else{let s=t[e[r+1]];e[r].call(s)}t!==null&&(n[w_]=null);let o=n[pc];if(o!==null){n[pc]=null;for(let r=0;r<o.length;r++){let s=o[r];s()}}}function F8(i,n){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let t=0;t<e.length;t+=2){let o=n[e[t]];if(!(o instanceof Md)){let r=e[t+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],l=r[s+1];Da(4,a,l);try{l.call(a)}finally{Da(5,a,l)}}else{Da(4,o,r);try{r.call(o)}finally{Da(5,o,r)}}}}}function eP(i,n,e){return L8(i,n.parent,e)}function L8(i,n,e){let t=n;for(;t!==null&&t.type&168;)n=t,t=n.parent;if(t===null)return e[fl];{let{componentOffset:o}=t;if(o>-1){let{encapsulation:r}=i.data[t.directiveStart+o];if(r===La.None||r===La.Emulated)return null}return Rs(t,e)}}function F_(i,n,e,t,o){i.insertBefore(n,e,t,o)}function tP(i,n,e){i.appendChild(n,e)}function X2(i,n,e,t,o){t!==null?F_(i,n,e,t,o):tP(i,n,e)}function iP(i,n){return i.parentNode(n)}function M8(i,n){return i.nextSibling(n)}function nP(i,n,e){return N8(i,n,e)}function k8(i,n,e){return i.type&40?Rs(i,e):null}var N8=k8,Q2;function _0(i,n,e,t){let o=eP(i,t,n),r=n[Qn],s=t.parent||n[Gr],a=nP(s,t,n);if(o!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)X2(r,o,e[l],a,!1);else X2(r,o,e,a,!1);Q2!==void 0&&Q2(r,t,n,e,o)}function Jh(i,n){if(n!==null){let e=n.type;if(e&3)return Rs(n,i);if(e&4)return Yy(-1,i[n.index]);if(e&8){let t=n.child;if(t!==null)return Jh(i,t);{let o=i[n.index];return ml(o)?Yy(-1,o):ka(o)}}else{if(e&128)return Jh(i,n.next);if(e&32)return i1(n,i)()||ka(i[n.index]);{let t=oP(i,n);if(t!==null){if(Array.isArray(t))return t[0];let o=Fd(i[ss]);return Jh(o,t)}else return Jh(i,n.next)}}}return null}function oP(i,n){if(n!==null){let t=i[ss][Gr],o=n.projection;return t.projection[o]}return null}function Yy(i,n){let e=Cr+i+1;if(e<n.length){let t=n[e],o=t[ni].firstChild;if(o!==null)return Jh(t,o)}return n[Pd]}function V8(i,n,e){i.removeChild(null,n,e)}function o1(i,n,e,t,o,r,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=t[e.index],l=e.type;if(s&&n===0&&(a&&_c(ka(a),t),e.flags|=2),(e.flags&32)!==32)if(l&8)o1(i,n,e.child,t,o,r,!1),Lu(n,i,o,a,r);else if(l&32){let c=i1(e,t),u;for(;u=c();)Lu(n,i,o,u,r);Lu(n,i,o,a,r)}else l&16?rP(i,n,t,e,o,r):Lu(n,i,o,a,r);e=s?e.projectionNext:e.next}}function C0(i,n,e,t,o,r){o1(e,t,i.firstChild,n,o,r,!1)}function B8(i,n,e){let t=n[Qn],o=eP(i,e,n),r=e.parent||n[Gr],s=nP(r,e,n);rP(t,0,n,e,o,s)}function rP(i,n,e,t,o,r){let s=e[ss],l=s[Gr].projection[t.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Lu(n,i,o,u,r)}else{let c=l,u=s[Ir];RD(t)&&(c.flags|=128),o1(i,n,c,u,o,r,!0)}}function U8(i,n,e,t,o){let r=e[Pd],s=ka(e);r!==s&&Lu(n,i,t,r,o);for(let a=Cr;a<e.length;a++){let l=e[a];C0(l[ni],l,i,n,t,r)}}function j8(i,n,e,t,o){if(n)o?i.addClass(e,t):i.removeClass(e,t);else{let r=t.indexOf("-")===-1?void 0:Va.DashCase;o==null?i.removeStyle(e,t,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=Va.Important),i.setStyle(e,t,o,r))}}function H8(i,n,e){i.setAttribute(n,"style",e)}function sP(i,n,e){e===""?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e)}function aP(i,n,e){let{mergedAttrs:t,classes:o,styles:r}=e;t!==null&&wy(i,n,t),o!==null&&sP(i,n,o),r!==null&&H8(i,n,r)}var vr={};function d(i=1){lP(eo(),Ft(),Ba()+i,!1)}function lP(i,n,e,t){if(!t)if((n[Zt]&3)===3){let r=i.preOrderCheckHooks;r!==null&&f_(n,r,e)}else{let r=i.preOrderHooks;r!==null&&m_(n,r,0,e)}Ld(e)}function v(i,n=Oi.Default){let e=Ft();if(e===null)return ie(i,n);let t=ar();return yD(t,e,Or(i),n)}function cP(){let i="invalid";throw new Error(i)}function dP(i,n,e,t,o,r){let s=Mi(null);try{let a=null;o&fc.SignalBased&&(a=n[t][Qs]),a!==null&&a.transformFn!==void 0&&(r=a.transformFn(r)),o&fc.HasDecoratorInputTransform&&(r=i.inputTransforms[t].call(n,r)),i.setInput!==null?i.setInput(n,a,r,e,t):KR(n,a,t,r)}finally{Mi(s)}}function G8(i,n){let e=i.hostBindingOpCodes;if(e!==null)try{for(let t=0;t<e.length;t++){let o=e[t];if(o<0)Ld(~o);else{let r=o,s=e[++t],a=e[++t];d9(s,r);let l=n[r];a(2,l)}}}finally{Ld(-1)}}function I0(i,n,e,t,o,r,s,a,l,c,u){let g=n.blueprint.slice();return g[fl]=o,g[Zt]=t|4|128|8|64,(c!==null||i&&i[Zt]&2048)&&(g[Zt]|=2048),ZR(g),g[Ir]=g[Qu]=i,g[_r]=e,g[Ma]=s||i&&i[Ma],g[Qn]=a||i&&i[Qn],g[ju]=l||i&&i[ju]||null,g[Gr]=r,g[t0]=$9(),g[Uu]=u,g[WR]=c,g[ss]=n.type==2?i[ss]:g,g}function tp(i,n,e,t,o){let r=i.data[n];if(r===null)r=z8(i,n,e,t,o),c9()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=t,r.attrs=o;let s=s9();r.injectorIndex=s===null?-1:s.injectorIndex}return Ud(r,!0),r}function z8(i,n,e,t,o){let r=rD(),s=jw(),a=s?r:r&&r.parent,l=i.data[n]=J8(i,a,e,n,t,o);return i.firstChild===null&&(i.firstChild=l),r!==null&&(s?r.child==null&&l.parent!==null&&(r.child=l):r.next===null&&(r.next=l,l.prev=r)),l}function uP(i,n,e,t){if(e===0)return-1;let o=n.length;for(let r=0;r<e;r++)n.push(t),i.blueprint.push(t),i.data.push(null);return o}function pP(i,n,e,t,o){let r=Ba(),s=t&2;try{Ld(-1),s&&n.length>Uo&&lP(i,n,Uo,!1),Da(s?2:0,o),e(t,o)}finally{Ld(r),Da(s?3:1,o)}}function r1(i,n,e){if(Vw(n)){let t=Mi(null);try{let o=n.directiveStart,r=n.directiveEnd;for(let s=o;s<r;s++){let a=i.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Mi(t)}}}function s1(i,n,e){nD()&&(iH(i,n,e,Rs(e,n)),(e.flags&64)===64&&mP(i,n,e))}function a1(i,n,e=Rs){let t=n.localNames;if(t!==null){let o=n.index+1;for(let r=0;r<t.length;r+=2){let s=t[r+1],a=s===-1?e(n,i):i[s];i[o++]=a}}}function hP(i){let n=i.tView;return n===null||n.incompleteFirstPass?i.tView=l1(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):n}function l1(i,n,e,t,o,r,s,a,l,c,u){let g=Uo+t,_=g+o,C=W8(g,_),w=typeof c=="function"?c():c;return C[ni]={type:i,blueprint:C,template:e,queries:null,viewQuery:a,declTNode:n,data:C.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:u}}function W8(i,n){let e=[];for(let t=0;t<n;t++)e.push(t<i?null:vr);return e}function $8(i,n,e,t){let r=t.get(Q9,ND)||e===La.ShadowDom,s=i.selectRootElement(n,r);return K8(s),s}function K8(i){q8(i)}var q8=()=>null;function Y8(i,n,e,t){let o=CP(n);o.push(e),i.firstCreatePass&&IP(i).push(t,o.length-1)}function J8(i,n,e,t,o,r){let s=n?n.injectorIndex:-1,a=0;return oD()&&(a|=128),{type:e,index:t,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Z2(i,n,e,t,o){for(let r in n){if(!n.hasOwnProperty(r))continue;let s=n[r];if(s===void 0)continue;t??={};let a,l=fc.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=r;if(o!==null){if(!o.hasOwnProperty(r))continue;c=o[r]}i===0?eR(t,e,c,a,l):eR(t,e,c,a)}return t}function eR(i,n,e,t,o){let r;i.hasOwnProperty(e)?(r=i[e]).push(n,t):r=i[e]=[n,t],o!==void 0&&r.push(o)}function X8(i,n,e){let t=n.directiveStart,o=n.directiveEnd,r=i.data,s=n.attrs,a=[],l=null,c=null;for(let u=t;u<o;u++){let g=r[u],_=e?e.get(g):null,C=_?_.inputs:null,w=_?_.outputs:null;l=Z2(0,g.inputs,u,l,C),c=Z2(1,g.outputs,u,c,w);let S=l!==null&&s!==null&&!kw(n)?hH(l,u,s):null;a.push(S)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function Q8(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function c1(i,n,e,t,o,r,s,a){let l=Rs(n,e),c=n.inputs,u;!a&&c!=null&&(u=c[t])?(u1(i,e,u,t,o),i0(n)&&Z8(e,n.index)):n.type&3?(t=Q8(t),o=s!=null?s(o,n.value||"",t):o,r.setProperty(l,t,o)):n.type&12}function Z8(i,n){let e=Ic(n,i);e[Zt]&16||(e[Zt]|=64)}function d1(i,n,e,t){if(nD()){let o=t===null?null:{"":-1},r=oH(i,e),s,a;r===null?s=a=null:[s,a]=r,s!==null&&fP(i,n,e,s,o,a),o&&rH(e,t,o)}e.mergedAttrs=ef(e.mergedAttrs,e.attrs)}function fP(i,n,e,t,o,r){for(let c=0;c<t.length;c++)Fy(O_(e,n),i,t[c].type);aH(e,i.data.length,t.length);for(let c=0;c<t.length;c++){let u=t[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=uP(i,n,t.length,null);for(let c=0;c<t.length;c++){let u=t[c];e.mergedAttrs=ef(e.mergedAttrs,u.hostAttrs),lH(i,e,n,l,u),sH(l,u,o),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let g=u.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}X8(i,e,r)}function eH(i,n,e,t,o){let r=o.hostBindings;if(r){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~n.index;tH(s)!=a&&s.push(a),s.push(e,t,r)}}function tH(i){let n=i.length;for(;n>0;){let e=i[--n];if(typeof e=="number"&&e<0)return e}return 0}function iH(i,n,e,t){let o=e.directiveStart,r=e.directiveEnd;i0(e)&&cH(n,e,i.data[o+e.componentOffset]),i.firstCreatePass||O_(e,n),_c(t,n);let s=e.initialInputs;for(let a=o;a<r;a++){let l=i.data[a],c=kd(n,i,a,e);if(_c(c,n),s!==null&&pH(n,a-o,c,l,e,s),mc(l)){let u=Ic(e.index,n);u[_r]=kd(n,i,a,e)}}}function mP(i,n,e){let t=e.directiveStart,o=e.directiveEnd,r=e.index,s=u9();try{Ld(r);for(let a=t;a<o;a++){let l=i.data[a],c=n[a];Ry(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nH(l,c)}}finally{Ld(-1),Ry(s)}}function nH(i,n){i.hostBindings!==null&&i.hostBindings(1,n)}function oH(i,n){let e=i.directiveRegistry,t=null,o=null;if(e)for(let r=0;r<e.length;r++){let s=e[r];if(FR(n,s.selectors,!1))if(t||(t=[]),mc(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),t.unshift(...a,s);let l=a.length;Jy(i,n,l)}else t.unshift(s),Jy(i,n,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,t,o),t.push(s)}return t===null?null:[t,o]}function Jy(i,n,e){n.componentOffset=e,(i.components??=[]).push(n.index)}function rH(i,n,e){if(n){let t=i.localNames=[];for(let o=0;o<n.length;o+=2){let r=e[n[o+1]];if(r==null)throw new dt(-301,!1);t.push(n[o],r)}}}function sH(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;mc(n)&&(e[""]=i)}}function aH(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}function lH(i,n,e,t,o){i.data[t]=o;let r=o.factory||(o.factory=Od(o.type,!0)),s=new Md(r,mc(o),v);i.blueprint[t]=s,e[t]=s,eH(i,n,t,uP(i,e,o.hostVars,vr),o)}function cH(i,n,e){let t=Rs(n,i),o=hP(e),r=i[Ma].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=v0(i,I0(i,o,null,s,t,n,null,r.createRenderer(t,e),null,null,null));i[n.index]=a}function dH(i,n,e,t,o,r){let s=Rs(i,n);uH(n[Qn],s,r,i.value,e,t,o)}function uH(i,n,e,t,o,r,s){if(r==null)i.removeAttribute(n,o,e);else{let a=s==null?Fa(r):s(r,t||"",o);i.setAttribute(n,o,a,e)}}function pH(i,n,e,t,o,r){let s=r[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],g=s[a++];dP(t,e,l,c,u,g)}}function hH(i,n,e){let t=null,o=0;for(;o<e.length;){let r=e[o];if(r===0){o+=4;continue}else if(r===5){o+=2;continue}if(typeof r=="number")break;if(i.hasOwnProperty(r)){t===null&&(t=[]);let s=i[r];for(let a=0;a<s.length;a+=3)if(s[a]===n){t.push(r,s[a+1],s[a+2],e[o+1]);break}}o+=2}return t}function gP(i,n,e,t){return[i,!0,0,n,null,t,null,e,null,null]}function _P(i,n){let e=i.contentQueries;if(e!==null){let t=Mi(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=i.data[s];Gw(r),a.contentQueries(2,n[s],s)}}}finally{Mi(t)}}}function v0(i,n){return i[nf]?i[F2][la]=n:i[nf]=n,i[F2]=n,n}function Xy(i,n,e){Gw(0);let t=Mi(null);try{n(i,e)}finally{Mi(t)}}function CP(i){return i[w_]??=[]}function IP(i){return i.cleanup??=[]}function vP(i,n){let e=i[ju],t=e?e.get(Na,null):null;t&&t.handleError(n)}function u1(i,n,e,t,o){for(let r=0;r<e.length;){let s=e[r++],a=e[r++],l=e[r++],c=n[s],u=i.data[s];dP(u,c,t,a,l,o)}}function p1(i,n,e){let t=QR(n,i);x8(i[Qn],t,e)}function fH(i,n){let e=Ic(n,i),t=e[ni];mH(t,e);let o=e[fl];o!==null&&e[Uu]===null&&(e[Uu]=Qw(o,e[ju])),h1(t,e,e[_r])}function mH(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])}function h1(i,n,e){zw(n);try{let t=i.viewQuery;t!==null&&Xy(1,t,e);let o=i.template;o!==null&&pP(i,n,o,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),n[ul]?.finishViewCreation(i),i.staticContentQueries&&_P(i,n),i.staticViewQueries&&Xy(2,i.viewQuery,e);let r=i.components;r!==null&&gH(n,r)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[Zt]&=-5,Ww()}}function gH(i,n){for(let e=0;e<n.length;e++)fH(i,n[e])}function hf(i,n,e,t){let o=Mi(null);try{let r=n.tView,a=i[Zt]&4096?4096:16,l=I0(i,r,e,a,null,n,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),c=i[n.index];l[Dd]=c;let u=i[ul];return u!==null&&(l[ul]=u.createEmbeddedView(r)),h1(r,l,e),l}finally{Mi(o)}}function bP(i,n){let e=Cr+n;if(e<i.length)return i[e]}function Gu(i,n){return!n||n.firstChild===null||RD(i)}function ff(i,n,e,t=!0){let o=n[ni];if(D8(o,n,i,e),t){let s=Yy(e,i),a=n[Qn],l=iP(a,i[Pd]);l!==null&&O8(o,i[Gr],a,n,l,s)}let r=n[Uu];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function yP(i,n){let e=of(i,n);return e!==void 0&&g0(e[ni],e),e}function L_(i,n,e,t,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=n[e.index];r!==null&&t.push(ka(r)),ml(r)&&_H(r,t);let s=e.type;if(s&8)L_(i,n,e.child,t);else if(s&32){let a=i1(e,n),l;for(;l=a();)t.push(l)}else if(s&16){let a=oP(n,e);if(Array.isArray(a))t.push(...a);else{let l=Fd(n[ss]);L_(l[ni],l,a,t,!0)}}e=o?e.projectionNext:e.next}return t}function _H(i,n){for(let e=Cr;e<i.length;e++){let t=i[e],o=t[ni].firstChild;o!==null&&L_(t[ni],t,o,n)}i[Pd]!==i[fl]&&n.push(i[Pd])}var wP=[];function CH(i){return i[Ts]??IH(i)}function IH(i){let n=wP.pop()??Object.create(bH);return n.lView=i,n}function vH(i){i.lView[Ts]!==i&&(i.lView=null,wP.push(i))}var bH=Ee(Q({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{s0(i.lView)},consumerOnSignalRead(){this.lView[Ts]=this}});function yH(i){let n=i[Ts]??Object.create(wH);return n.lView=i,n}var wH=Ee(Q({},vu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let n=Fd(i.lView);for(;n&&!SP(n[ni]);)n=Fd(n);n&&eD(n)},consumerOnSignalRead(){this.lView[Ts]=this}});function SP(i){return i.type!==2}var SH=100;function AP(i,n=!0,e=0){let t=i[Ma],o=t.rendererFactory,r=!1;r||o.begin?.();try{AH(i,e)}catch(s){throw n&&vP(i,s),s}finally{r||(o.end?.(),t.inlineEffectRunner?.flush())}}function AH(i,n){let e=sD();try{M2(!0),Qy(i,n);let t=0;for(;r0(i);){if(t===SH)throw new dt(103,!1);t++,Qy(i,1)}}finally{M2(e)}}function xH(i,n,e,t){let o=n[Zt];if((o&256)===256)return;let r=!1,s=!1;!r&&n[Ma].inlineEffectRunner?.flush(),zw(n);let a=!0,l=null,c=null;r||(SP(i)?(c=CH(n),l=jh(c)):NO()===null?(a=!1,c=yH(n),l=jh(c)):n[Ts]&&(Og(n[Ts]),n[Ts]=null));try{ZR(n),l9(i.bindingStartIndex),e!==null&&pP(i,n,e,2,t);let u=(o&3)===3;if(!r)if(u){let C=i.preOrderCheckHooks;C!==null&&f_(n,C,null)}else{let C=i.preOrderHooks;C!==null&&m_(n,C,0,null),ay(n,0)}if(s||EH(n),xP(n,0),i.contentQueries!==null&&_P(i,n),!r)if(u){let C=i.contentCheckHooks;C!==null&&f_(n,C)}else{let C=i.contentHooks;C!==null&&m_(n,C,1),ay(n,1)}G8(i,n);let g=i.components;g!==null&&TP(n,g,0);let _=i.viewQuery;if(_!==null&&Xy(2,_,t),!r)if(u){let C=i.viewCheckHooks;C!==null&&f_(n,C)}else{let C=i.viewHooks;C!==null&&m_(n,C,2),ay(n,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),n[h_]){for(let C of n[h_])C();n[h_]=null}r||(n[Zt]&=-73)}catch(u){throw r||s0(n),u}finally{c!==null&&(Eg(c,l),a&&vH(c)),Ww()}}function xP(i,n){for(let e=PD(i);e!==null;e=FD(e))for(let t=Cr;t<e.length;t++){let o=e[t];EP(o,n)}}function EH(i){for(let n=PD(i);n!==null;n=FD(n)){if(!(n[Zt]&A_.HasTransplantedViews))continue;let e=n[Hu];for(let t=0;t<e.length;t++){let o=e[t];eD(o)}}}function TH(i,n,e){let t=Ic(n,i);EP(t,e)}function EP(i,n){Uw(i)&&Qy(i,n)}function Qy(i,n){let t=i[ni],o=i[Zt],r=i[Ts],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(r?.dirty&&Tg(r)),s||=!1,r&&(r.dirty=!1),i[Zt]&=-9217,s)xH(t,i,t.template,i[_r]);else if(o&8192){xP(i,1);let a=t.components;a!==null&&TP(i,a,1)}}function TP(i,n,e){for(let t=0;t<n.length;t++)TH(i,n[t],e)}function f1(i,n){let e=sD()?64:1088;for(i[Ma].changeDetectionScheduler?.notify(n);i;){i[Zt]|=e;let t=Fd(i);if(Ey(i)&&!t)return i;i=t}return null}var Nd=class{get rootNodes(){let n=this._lView,e=n[ni];return L_(e,n,e.firstChild,[])}constructor(n,e,t=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_r]}set context(n){this._lView[_r]=n}get destroyed(){return(this._lView[Zt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Ir];if(ml(n)){let e=n[S_],t=e?e.indexOf(this):-1;t>-1&&(of(n,t),v_(e,t))}this._attachedToViewContainer=!1}g0(this._lView[ni],this._lView)}onDestroy(n){tD(this._lView,n)}markForCheck(){f1(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Zt]&=-129}reattach(){Oy(this._lView),this._lView[Zt]|=128}detectChanges(){this._lView[Zt]|=1024,AP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new dt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ey(this._lView),e=this._lView[Dd];e!==null&&!n&&n1(e,this._lView),QD(this._lView[ni],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new dt(902,!1);this._appRef=n;let e=Ey(this._lView),t=this._lView[Dd];t!==null&&!e&&ZD(t,this._lView),Oy(this._lView)}},as=(()=>{class i{static{this.__NG_ELEMENT_ID__=DH}}return i})(),OH=as,RH=class extends OH{constructor(n,e,t){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,t){let o=hf(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:t});return new Nd(o)}};function DH(){return b0(ar(),Ft())}function b0(i,n){return i.type&4?new RH(n,i,ep(i,n)):null}var DWe=new RegExp(`^(\\d+)*(${J9}|${Y9})*(.*)`);var PH=()=>null;function zu(i,n){return PH(i,n)}var Wu=class{},m1=new Pe("",{providedIn:"root",factory:()=>!1});var OP=new Pe(""),RP=new Pe(""),Zy=class{},M_=class{};function FH(i){let n=Error(`No component factory found for ${Rr(i)}.`);return n[LH]=i,n}var LH="ngComponent";var ew=class{resolveComponentFactory(n){throw FH(n)}},Cc=class{static{this.NULL=new ew}},$u=class{},wt=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>MH()}}return i})();function MH(){let i=Ft(),n=ar(),e=Ic(n.index,i);return(hc(e)?e:i)[Qn]}var kH=(()=>{class i{static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>null})}}return i})();function k_(i,n,e){let t=e?i.styles:null,o=e?i.classes:null,r=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")r=a;else if(r==1)o=Iy(o,a);else if(r==2){let l=a,c=n[++s];t=Iy(t,l+": "+c+";")}}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=o:i.classesWithoutHost=o}var N_=class extends Cc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=dl(n);return new Vd(e,this.ngModule)}};function tR(i,n){let e=[];for(let t in i){if(!i.hasOwnProperty(t))continue;let o=i[t];if(o===void 0)continue;let r=Array.isArray(o),s=r?o[0]:o,a=r?o[1]:fc.None;n?e.push({propName:s,templateName:t,isSignal:(a&fc.SignalBased)!==0}):e.push({propName:s,templateName:t})}return e}function NH(i){let n=i.toLowerCase();return n==="svg"?XR:n==="math"?J7:null}var Vd=class extends M_{get inputs(){let n=this.componentDef,e=n.inputTransforms,t=tR(n.inputs,!0);if(e!==null)for(let o of t)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return t}get outputs(){return tR(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=O7(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,t,o){let r=Mi(null);try{o=o||this.ngModule;let s=o instanceof Dr?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Dy(n,s):n,l=a.get($u,null);if(l===null)throw new dt(407,!1);let c=a.get(kH,null),u=a.get(Wu,null),g={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},_=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",w=t?$8(_,t,this.componentDef.encapsulation,a):XD(_,C,NH(C)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let A=null;w!==null&&(A=Qw(w,a,!0));let x=l1(0,null,null,1,0,null,null,null,null,null,null),D=I0(null,x,null,S,null,null,g,_,a,null,A);zw(D);let V,X,ee=null;try{let ae=this.componentDef,me,Ce=null;ae.findHostDirectiveDefs?(me=[],Ce=new Map,ae.findHostDirectiveDefs(ae,me,Ce),me.push(ae)):me=[ae];let be=VH(D,w);ee=BH(be,w,ae,me,D,g,_),X=Bw(x,Uo),w&&HH(_,ae,w,t),e!==void 0&&GH(X,this.ngContentSelectors,e),V=jH(ee,ae,me,Ce,D,[zH]),h1(x,D,null)}catch(ae){throw ee!==null&&By(ee),By(D),ae}finally{Ww()}return new tw(this.componentType,V,ep(X,D),D,X)}finally{Mi(r)}}},tw=class extends Zy{constructor(n,e,t,o,r){super(),this.location=t,this._rootLView=o,this._tNode=r,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Nd(o,void 0,!1),this.componentType=n}setInput(n,e){let t=this._tNode.inputs,o;if(t!==null&&(o=t[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let r=this._rootLView;u1(r[ni],r,o,n,e),this.previousInputValues.set(n,e);let s=Ic(this._tNode.index,r);f1(s,1)}}get injector(){return new Td(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function VH(i,n){let e=i[ni],t=Uo;return i[t]=n,tp(e,t,2,"#host",null)}function BH(i,n,e,t,o,r,s){let a=o[ni];UH(t,i,n,s);let l=null;n!==null&&(l=Qw(n,o[ju]));let c=r.rendererFactory.createRenderer(n,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let g=I0(o,hP(e),null,u,o[i.index],i,r,c,null,null,l);return a.firstCreatePass&&Jy(a,i,t.length-1),v0(o,g),o[i.index]=g}function UH(i,n,e,t){for(let o of i)n.mergedAttrs=ef(n.mergedAttrs,o.hostAttrs);n.mergedAttrs!==null&&(k_(n,n.mergedAttrs,!0),e!==null&&aP(t,e,n))}function jH(i,n,e,t,o,r){let s=ar(),a=o[ni],l=Rs(s,o);fP(a,o,s,e,null,t);for(let u=0;u<e.length;u++){let g=s.directiveStart+u,_=kd(o,a,g,s);_c(_,o)}mP(a,o,s),l&&_c(l,o);let c=kd(o,a,s.directiveStart+s.componentOffset,s);if(i[_r]=o[_r]=c,r!==null)for(let u of r)u(c,n);return r1(a,s,o),c}function HH(i,n,e,t){if(t)wy(i,e,["ng-version","18.2.13"]);else{let{attrs:o,classes:r}=R7(n.selectors[0]);o&&wy(i,e,o),r&&r.length>0&&sP(i,e,r.join(" "))}}function GH(i,n,e){let t=i.projection=[];for(let o=0;o<n.length;o++){let r=e[o];t.push(r!=null?Array.from(r):null)}}function zH(){let i=ar();u0(Ft()[ni],i)}var jo=(()=>{class i{static{this.__NG_ELEMENT_ID__=WH}}return i})();function WH(){let i=ar();return PP(i,Ft())}var $H=jo,DP=class extends $H{constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return ep(this._hostTNode,this._hostLView)}get injector(){return new Td(this._hostTNode,this._hostLView)}get parentInjector(){let n=$w(this._hostTNode,this._hostLView);if(gD(n)){let e=E_(n,this._hostLView),t=x_(n),o=e[ni].data[t+8];return new Td(o,e)}else return new Td(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=iR(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(n,e,t){let o,r;typeof t=="number"?o=t:t!=null&&(o=t.index,r=t.injector);let s=zu(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,Gu(this._hostTNode,s)),a}createComponent(n,e,t,o,r){let s=n&&!$7(n),a;if(s)a=e;else{let w=e||{};a=w.index,t=w.injector,o=w.projectableNodes,r=w.environmentInjector||w.ngModuleRef}let l=s?n:new Vd(dl(n)),c=t||this.parentInjector;if(!r&&l.ngModule==null){let S=(s?c:this.parentInjector).get(Dr,null);S&&(r=S)}let u=dl(l.componentType??{}),g=zu(this._lContainer,u?.id??null),_=g?.firstChild??null,C=l.create(c,o,_,r);return this.insertImpl(C.hostView,a,Gu(this._hostTNode,g)),C}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,t){let o=n._lView;if(Q7(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=o[Ir],c=new DP(l,l[Gr],l[Ir]);c.detach(c.indexOf(n))}}let r=this._adjustIndex(e),s=this._lContainer;return ff(s,o,r,t),n.attachToViewContainerRef(),ER(py(s),r,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=iR(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),t=of(this._lContainer,e);t&&(v_(py(this._lContainer),e),g0(t[ni],t))}detach(n){let e=this._adjustIndex(n,-1),t=of(this._lContainer,e);return t&&v_(py(this._lContainer),e)!=null?new Nd(t):null}_adjustIndex(n,e=0){return n??this.length+e}};function iR(i){return i[S_]}function py(i){return i[S_]||(i[S_]=[])}function PP(i,n){let e,t=n[i.index];return ml(t)?e=t:(e=gP(t,n,null,i),n[i.index]=e,v0(n,e)),qH(e,n,i,t),new DP(e,i,n)}function KH(i,n){let e=i[Qn],t=e.createComment(""),o=Rs(n,i),r=iP(e,o);return F_(e,r,t,M8(e,o),!1),t}var qH=XH,YH=()=>!1;function JH(i,n,e){return YH(i,n,e)}function XH(i,n,e,t){if(i[Pd])return;let o;e.type&8?o=ka(t):o=KH(n,e),i[Pd]=o}var iw=class i{constructor(n){this.queryList=n,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},nw=class i{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let t=n.contentQueries!==null?n.contentQueries[0]:e.length,o=[];for(let r=0;r<t;r++){let s=e.getByIndex(r),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new i(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)g1(n,e).matches!==null&&this.queries[e].setDirty()}},V_=class{constructor(n,e,t=null){this.flags=e,this.read=t,typeof n=="string"?this.predicate=rG(n):this.predicate=n}},ow=class i{constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){let o=e!==null?e.length:0,r=this.getByIndex(t).embeddedTView(n,o);r&&(r.indexInDeclarationView=t,e!==null?e.push(r):e=[r])}return e!==null?new i(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},rw=class i{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new i(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,t=n.parent;for(;t!==null&&t.type&8&&t.index!==e;)t=t.parent;return e===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){let r=t[o];this.matchTNodeWithReadOption(n,e,QH(e,r)),this.matchTNodeWithReadOption(n,e,g_(e,n,r,!1,!1))}else t===as?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,g_(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(t!==null){let o=this.metadata.read;if(o!==null)if(o===Le||o===jo||o===as&&e.type&4)this.addMatch(e.index,-2);else{let r=g_(e,n,o,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,t)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function QH(i,n){let e=i.localNames;if(e!==null){for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1]}return null}function ZH(i,n){return i.type&11?ep(i,n):i.type&4?b0(i,n):null}function eG(i,n,e,t){return e===-1?ZH(n,i):e===-2?tG(i,n,t):kd(i,i[ni],e,n)}function tG(i,n,e){if(e===Le)return ep(n,i);if(e===as)return b0(n,i);if(e===jo)return PP(n,i)}function FP(i,n,e,t){let o=n[ul].queries[t];if(o.matches===null){let r=i.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=r[c];a.push(eG(n,u,s[l+1],e.metadata.read))}}o.matches=a}return o.matches}function sw(i,n,e,t){let o=i.queries.getByIndex(e),r=o.matches;if(r!==null){let s=FP(i,n,o,e);for(let a=0;a<r.length;a+=2){let l=r[a];if(l>0)t.push(s[a/2]);else{let c=r[a+1],u=n[-l];for(let g=Cr;g<u.length;g++){let _=u[g];_[Dd]===_[Ir]&&sw(_[ni],_,c,t)}if(u[Hu]!==null){let g=u[Hu];for(let _=0;_<g.length;_++){let C=g[_];sw(C[ni],C,c,t)}}}}}return t}function iG(i,n){return i[ul].queries[n].queryList}function LP(i,n,e){let t=new Vy((e&4)===4);return Y8(i,n,t,t.destroy),(n[ul]??=new nw).queries.push(new iw(t))-1}function nG(i,n,e){let t=eo();return t.firstCreatePass&&(MP(t,new V_(i,n,e),-1),(n&2)===2&&(t.staticViewQueries=!0)),LP(t,Ft(),n)}function oG(i,n,e,t){let o=eo();if(o.firstCreatePass){let r=ar();MP(o,new V_(n,e,t),r.index),sG(o,i),(e&2)===2&&(o.staticContentQueries=!0)}return LP(o,Ft(),e)}function rG(i){return i.split(",").map(n=>n.trim())}function MP(i,n,e){i.queries===null&&(i.queries=new ow),i.queries.track(new rw(n,e))}function sG(i,n){let e=i.contentQueries||(i.contentQueries=[]),t=e.length?e[e.length-1]:-1;n!==t&&e.push(i.queries.length-1,n)}function g1(i,n){return i.queries.getByIndex(n)}function aG(i,n){let e=i[ni],t=g1(e,n);return t.crossesNgTemplate?sw(e,i,n,[]):FP(e,i,t,n)}var nR=new Set;function Cl(i){nR.has(i)||(nR.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function lG(i){return typeof i=="function"&&i[Qs]!==void 0}function ui(i,n){Cl("NgSignals");let e=YO(i),t=e[Qs];return n?.equal&&(t.equal=n.equal),e.set=o=>Pg(t,o),e.update=o=>JO(t,o),e.asReadonly=cG.bind(e),e}function cG(){let i=this[Qs];if(i.readonlyFn===void 0){let n=()=>this();n[Qs]=i,i.readonlyFn=n}return i.readonlyFn}function kP(i){return lG(i)&&typeof i.set=="function"}function dG(i){let n=[],e=new Map;function t(o){let r=e.get(o);if(!r){let s=i(o);e.set(o,r=s.then(fG))}return r}return B_.forEach((o,r)=>{let s=[];o.templateUrl&&s.push(t(o.templateUrl).then(c=>{o.template=c}));let a=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=a,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let c=o.styles.length,u=o.styleUrls;o.styleUrls.forEach((g,_)=>{a.push(""),s.push(t(g).then(C=>{a[c+_]=C,u.splice(u.indexOf(g),1),u.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(t(o.styleUrl).then(c=>{a.push(c),o.styleUrl=void 0}));let l=Promise.all(s).then(()=>mG(r));n.push(l)}),pG(),Promise.all(n).then(()=>{})}var B_=new Map,uG=new Set;function pG(){let i=B_;return B_=new Map,i}function hG(){return B_.size===0}function fG(i){return typeof i=="string"?i:i.text()}function mG(i){uG.delete(i)}function gG(i){return Object.getPrototypeOf(i.prototype).constructor}function fe(i){let n=gG(i.type),e=!0,t=[i];for(;n;){let o;if(mc(i))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new dt(903,!1);o=n.\u0275dir}if(o){if(e){t.push(o);let s=i;s.inputs=l_(i.inputs),s.inputTransforms=l_(i.inputTransforms),s.declaredInputs=l_(i.declaredInputs),s.outputs=l_(i.outputs);let a=o.hostBindings;a&&bG(i,a);let l=o.viewQuery,c=o.contentQueries;if(l&&IG(i,l),c&&vG(i,c),_G(i,o),qj(i.outputs,o.outputs),mc(o)&&o.data.animation){let u=i.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(i),a===fe&&(e=!1)}}n=Object.getPrototypeOf(n)}CG(t)}function _G(i,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let t=n.inputs[e];if(t!==void 0&&(i.inputs[e]=t,i.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let o=Array.isArray(t)?t[0]:t;if(!n.inputTransforms.hasOwnProperty(o))continue;i.inputTransforms??={},i.inputTransforms[o]=n.inputTransforms[o]}}}function CG(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){let o=i[t];o.hostVars=n+=o.hostVars,o.hostAttrs=ef(o.hostAttrs,e=ef(e,o.hostAttrs))}}function l_(i){return i===Vu?{}:i===jr?[]:i}function IG(i,n){let e=i.viewQuery;e?i.viewQuery=(t,o)=>{n(t,o),e(t,o)}:i.viewQuery=n}function vG(i,n){let e=i.contentQueries;e?i.contentQueries=(t,o,r)=>{n(t,o,r),e(t,o,r)}:i.contentQueries=n}function bG(i,n){let e=i.hostBindings;e?i.hostBindings=(t,o)=>{n(t,o),e(t,o)}:i.hostBindings=n}function Ve(i){let n=i.inputConfig,e={};for(let t in n)if(n.hasOwnProperty(t)){let o=n[t];Array.isArray(o)&&o[3]&&(e[t]=o[3])}i.inputTransforms=e}var hl=class{},rf=class{};function NP(i,n){return new sf(i,n??null,[])}var sf=class extends hl{constructor(n,e,t,o=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new N_(this);let r=NR(n);this._bootstrapComponents=JD(r.bootstrap),this._r3Injector=AD(n,e,[{provide:hl,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver},...t],Rr(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},U_=class extends rf{constructor(n){super(),this.moduleType=n}create(n){return new sf(this.moduleType,n,[])}};function yG(i,n,e){return new sf(i,n,e,!1)}var aw=class extends hl{constructor(n){super(),this.componentFactoryResolver=new N_(this),this.instance=null;let e=new tf([...n.providers,{provide:hl,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],n.parent||Z_(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function y0(i,n,e=null){return new aw({providers:i,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function VP(i){return _1(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function wG(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{let e=i[Symbol.iterator](),t;for(;!(t=e.next()).done;)n(t.value)}}function _1(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function ja(i,n,e){return i[n]=e}function mf(i,n){return i[n]}function Hr(i,n,e){let t=i[n];return Object.is(t,e)?!1:(i[n]=e,!0)}function Ku(i,n,e,t){let o=Hr(i,n,e);return Hr(i,n+1,t)||o}function C1(i,n,e,t,o){let r=Ku(i,n,e,t);return Hr(i,n+2,o)||r}function qu(i,n,e,t,o,r){let s=Ku(i,n,e,t);return Ku(i,n+2,o,r)||s}function SG(i){return(i.flags&32)===32}function AG(i,n,e,t,o,r,s,a,l){let c=n.consts,u=tp(n,i,4,s||null,a||null);d1(n,e,u,gc(c,l)),u0(n,u);let g=u.tView=l1(2,u,t,o,r,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,u),g.queries=n.queries.embeddedTView(u)),u}function j_(i,n,e,t,o,r,s,a,l,c){let u=e+Uo,g=n.firstCreatePass?AG(u,n,i,t,o,r,s,a,l):n.data[u];Ud(g,!1);let _=xG(n,i,g,e);c0()&&_0(n,i,_,g),_c(_,i);let C=gP(_,i,_,g);return i[u]=C,v0(i,C),JH(C,g,i),n0(g)&&s1(n,i,g),l!=null&&a1(i,g,c),g}function I(i,n,e,t,o,r,s,a){let l=Ft(),c=eo(),u=gc(c.consts,r);return j_(l,c,i,n,e,t,o,u,s,a),I}var xG=EG;function EG(i,n,e,t){return d0(!0),n[Qn].createComment("")}var Mu=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Mu||{}),BP=(()=>{class i{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>new i})}}return i})(),lw=class i{constructor(){this.ngZone=Te(It),this.scheduler=Te(Wu),this.errorHandler=Te(Na,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Mu.EarlyRead,Mu.Write,Mu.MixedReadWrite,Mu.Read]}execute(){this.executing=!0;for(let n of i.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(t){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(t)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>new i})}},cw=class{constructor(n,e,t,o){this.impl=n,this.hooks=e,this.once=t,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function I1(i,n){!n?.injector&&e0(I1);let e=n?.injector??Te(Zn);return w8(e)?(Cl("NgAfterNextRender"),OG(i,e,n,!0)):RG}function TG(i,n){if(i instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=i,e}else return[i.earlyRead,i.write,i.mixedReadWrite,i.read]}function OG(i,n,e,t){let o=n.get(BP);o.impl??=n.get(lw);let r=e?.phase??Mu.MixedReadWrite,s=e?.manualCleanup!==!0?n.get(jd):null,a=new cw(o.impl,TG(i,r),t,s);return o.impl.register(a),a}var RG={destroy(){}};function M(i,n,e,t){let o=Ft(),r=Zu();if(Hr(o,r,n)){let s=eo(),a=l0();dH(a,o,i,n,e,t)}return M}function v1(i,n,e,t){return Hr(i,Zu(),e)?n+Fa(e)+t:vr}function DG(i,n,e,t,o,r){let s=aD(),a=Ku(i,s,e,o);return a0(2),a?n+Fa(e)+t+Fa(o)+r:vr}function PG(i,n,e,t,o,r,s,a){let l=aD(),c=C1(i,l,e,o,s);return a0(3),c?n+Fa(e)+t+Fa(o)+r+Fa(s)+a:vr}function c_(i,n){return i<<17|n<<2}function Bd(i){return i>>17&32767}function FG(i){return(i&2)==2}function LG(i,n){return i&131071|n<<17}function dw(i){return i|2}function Yu(i){return(i&131068)>>2}function hy(i,n){return i&-131069|n<<2}function MG(i){return(i&1)===1}function uw(i){return i|1}function kG(i,n,e,t,o,r){let s=r?n.classBindings:n.styleBindings,a=Bd(s),l=Yu(s);i[t]=e;let c=!1,u;if(Array.isArray(e)){let g=e;u=g[1],(u===null||uf(g,u)>0)&&(c=!0)}else u=e;if(o)if(l!==0){let _=Bd(i[a+1]);i[t+1]=c_(_,a),_!==0&&(i[_+1]=hy(i[_+1],t)),i[a+1]=LG(i[a+1],t)}else i[t+1]=c_(a,0),a!==0&&(i[a+1]=hy(i[a+1],t)),a=t;else i[t+1]=c_(l,0),a===0?a=t:i[l+1]=hy(i[l+1],t),l=t;c&&(i[t+1]=dw(i[t+1])),oR(i,u,t,!0),oR(i,u,t,!1),NG(n,u,i,t,r),s=c_(a,l),r?n.classBindings=s:n.styleBindings=s}function NG(i,n,e,t,o){let r=o?i.residualClasses:i.residualStyles;r!=null&&typeof n=="string"&&uf(r,n)>=0&&(e[t+1]=uw(e[t+1]))}function oR(i,n,e,t){let o=i[e+1],r=n===null,s=t?Bd(o):Yu(o),a=!1;for(;s!==0&&(a===!1||r);){let l=i[s],c=i[s+1];VG(l,n)&&(a=!0,i[s+1]=t?uw(c):dw(c)),s=t?Bd(c):Yu(c)}a&&(i[e+1]=t?dw(o):uw(o))}function VG(i,n){return i===null||n==null||(Array.isArray(i)?i[1]:i)===n?!0:Array.isArray(i)&&typeof n=="string"?uf(i,n)>=0:!1}var Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UP(i){return i.substring(Bo.key,Bo.keyEnd)}function BG(i){return i.substring(Bo.value,Bo.valueEnd)}function UG(i){return GP(i),jP(i,Ju(i,0,Bo.textEnd))}function jP(i,n){let e=Bo.textEnd;return e===n?-1:(n=Bo.keyEnd=HG(i,Bo.key=n,e),Ju(i,n,e))}function jG(i){return GP(i),HP(i,Ju(i,0,Bo.textEnd))}function HP(i,n){let e=Bo.textEnd,t=Bo.key=Ju(i,n,e);return e===t?-1:(t=Bo.keyEnd=GG(i,t,e),t=rR(i,t,e,58),t=Bo.value=Ju(i,t,e),t=Bo.valueEnd=zG(i,t,e),rR(i,t,e,59))}function GP(i){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=i.length}function Ju(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function HG(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}function GG(i,n,e){let t;for(;n<e&&((t=i.charCodeAt(n))===45||t===95||(t&-33)>=65&&(t&-33)<=90||t>=48&&t<=57);)n++;return n}function rR(i,n,e,t){return n=Ju(i,n,e),n<e&&n++,n}function zG(i,n,e){let t=-1,o=-1,r=-1,s=n,a=s;for(;s<e;){let l=i.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=sR(i,l,s,e):n===s-4&&r===85&&o===82&&t===76&&l===40?a=s=sR(i,41,s,e):l>32&&(a=s),r=o,o=t,t=l&-33}return a}function sR(i,n,e,t){let o=-1,r=e;for(;r<t;){let s=i.charCodeAt(r++);if(s==n&&o!==92)return r;s==92&&o===92?o=0:o=s}throw new Error}function p(i,n,e){let t=Ft(),o=Zu();if(Hr(t,o,n)){let r=eo(),s=l0();c1(r,s,t,i,n,t[Qn],e,!1)}return p}function pw(i,n,e,t,o){let r=n.inputs,s=o?"class":"style";u1(i,e,r[s],s,t)}function fn(i,n,e){return WP(i,n,e,!1),fn}function Xi(i,n){return WP(i,n,null,!0),Xi}function it(i){b1(qP,WG,i,!1)}function WG(i,n){for(let e=jG(n);e>=0;e=HP(n,e))qP(i,UP(n),BG(n))}function te(i){b1(XG,zP,i,!0)}function zP(i,n){for(let e=UG(n);e>=0;e=jP(n,e))df(i,UP(n),!0)}function WP(i,n,e,t){let o=Ft(),r=eo(),s=a0(2);if(r.firstUpdatePass&&KP(r,i,s,t),n!==vr&&Hr(o,s,n)){let a=r.data[Ba()];YP(r,a,o,o[Qn],i,o[s+1]=ZG(n,e),t,s)}}function b1(i,n,e,t){let o=eo(),r=a0(2);o.firstUpdatePass&&KP(o,null,r,t);let s=Ft();if(e!==vr&&Hr(s,r,e)){let a=o.data[Ba()];if(JP(a,t)&&!$P(o,r)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=Iy(l,e||"")),pw(o,a,s,e,t)}else QG(o,a,s,s[Qn],s[r+1],s[r+1]=JG(i,n,e),t,r)}}function $P(i,n){return n>=i.expandoStartIndex}function KP(i,n,e,t){let o=i.data;if(o[e+1]===null){let r=o[Ba()],s=$P(i,e);JP(r,t)&&n===null&&!s&&(n=!1),n=$G(o,r,n,t),kG(o,r,n,e,s,t)}}function $G(i,n,e,t){let o=p9(i),r=t?n.residualClasses:n.residualStyles;if(o===null)(t?n.classBindings:n.styleBindings)===0&&(e=fy(null,i,n,e,t),e=af(e,n.attrs,t),r=null);else{let s=n.directiveStylingLast;if(s===-1||i[s]!==o)if(e=fy(o,i,n,e,t),r===null){let l=KG(i,n,t);l!==void 0&&Array.isArray(l)&&(l=fy(null,i,n,l[1],t),l=af(l,n.attrs,t),qG(i,n,t,l))}else r=YG(i,n,t)}return r!==void 0&&(t?n.residualClasses=r:n.residualStyles=r),e}function KG(i,n,e){let t=e?n.classBindings:n.styleBindings;if(Yu(t)!==0)return i[Bd(t)]}function qG(i,n,e,t){let o=e?n.classBindings:n.styleBindings;i[Bd(o)]=t}function YG(i,n,e){let t,o=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<o;r++){let s=i[r].hostAttrs;t=af(t,s,e)}return af(t,n.attrs,e)}function fy(i,n,e,t,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=n[a],t=af(t,r.hostAttrs,o),r!==i);)a++;return i!==null&&(e.directiveStylingLast=a),t}function af(i,n,e){let t=e?1:2,o=-1;if(n!==null)for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?o=s:o===t&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),df(i,s,e?!0:n[++r]))}return i===void 0?null:i}function JG(i,n,e){if(e==null||e==="")return jr;let t=[],o=cs(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)i(t,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&i(t,r,o[r]);else typeof o=="string"&&n(t,o);return t}function qP(i,n,e){df(i,n,cs(e))}function XG(i,n,e){let t=String(n);t!==""&&!t.includes(" ")&&df(i,t,e)}function QG(i,n,e,t,o,r,s,a){o===vr&&(o=jr);let l=0,c=0,u=0<o.length?o[0]:null,g=0<r.length?r[0]:null;for(;u!==null||g!==null;){let _=l<o.length?o[l+1]:void 0,C=c<r.length?r[c+1]:void 0,w=null,S;u===g?(l+=2,c+=2,_!==C&&(w=g,S=C)):g===null||u!==null&&u<g?(l+=2,w=u):(c+=2,w=g,S=C),w!==null&&YP(i,n,e,t,w,S,s,a),u=l<o.length?o[l]:null,g=c<r.length?r[c]:null}}function YP(i,n,e,t,o,r,s,a){if(!(n.type&3))return;let l=i.data,c=l[a+1],u=MG(c)?aR(l,n,e,o,Yu(c),s):void 0;if(!H_(u)){H_(r)||FG(c)&&(r=aR(l,null,e,o,a,s));let g=QR(Ba(),e);j8(t,s,g,o,r)}}function aR(i,n,e,t,o,r){let s=n===null,a;for(;o>0;){let l=i[o],c=Array.isArray(l),u=c?l[1]:l,g=u===null,_=e[o+1];_===vr&&(_=g?jr:void 0);let C=g?ry(_,t):u===t?_:void 0;if(c&&!H_(C)&&(C=ry(l,t)),H_(C)&&(a=C,s))return a;let w=i[o+1];o=s?Bd(w):Yu(w)}if(n!==null){let l=r?n.residualClasses:n.residualStyles;l!=null&&(a=ry(l,t))}return a}function H_(i){return i!==void 0}function ZG(i,n){return i==null||i===""||(typeof n=="string"?i=i+n:typeof i=="object"&&(i=Rr(cs(i)))),i}function JP(i,n){return(i.flags&(n?8:16))!==0}function us(i,n,e){let t=Ft(),o=v1(t,i,n,e);b1(df,zP,o,!0)}var hw=class{destroy(n){}updateValue(n,e){}swap(n,e){let t=Math.min(n,e),o=Math.max(n,e),r=this.detach(o);if(o-t>1){let s=this.detach(t);this.attach(t,r),this.attach(o,s)}else this.attach(t,r)}move(n,e){this.attach(e,this.detach(n))}};function my(i,n,e,t,o){return i===e&&Object.is(n,t)?1:Object.is(o(i,n),o(e,t))?-1:0}function ez(i,n,e){let t,o,r=0,s=i.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;r<=s&&r<=l;){let c=i.at(r),u=n[r],g=my(r,c,r,u,e);if(g!==0){g<0&&i.updateValue(r,u),r++;continue}let _=i.at(s),C=n[l],w=my(s,_,l,C,e);if(w!==0){w<0&&i.updateValue(s,C),s--,l--;continue}let S=e(r,c),A=e(s,_),x=e(r,u);if(Object.is(x,A)){let D=e(l,C);Object.is(D,S)?(i.swap(r,s),i.updateValue(s,C),l--,s--):i.move(s,r),i.updateValue(r,u),r++;continue}if(t??=new G_,o??=cR(i,r,s,e),fw(i,t,r,x))i.updateValue(r,u),r++,s++;else if(o.has(x))t.set(S,i.detach(r)),s--;else{let D=i.create(r,n[r]);i.attach(r,D),r++,s++}}for(;r<=l;)lR(i,t,e,r,n[r]),r++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&r<=s;){let u=i.at(r),g=c.value,_=my(r,u,r,g,e);if(_!==0)_<0&&i.updateValue(r,g),r++,c=l.next();else{t??=new G_,o??=cR(i,r,s,e);let C=e(r,g);if(fw(i,t,r,C))i.updateValue(r,g),r++,s++,c=l.next();else if(!o.has(C))i.attach(r,i.create(r,g)),r++,s++,c=l.next();else{let w=e(r,u);t.set(w,i.detach(r)),s--}}}for(;!c.done;)lR(i,t,e,i.length,c.value),c=l.next()}for(;r<=s;)i.destroy(i.detach(s--));t?.forEach(l=>{i.destroy(l)})}function fw(i,n,e,t){return n!==void 0&&n.has(t)?(i.attach(e,n.get(t)),n.delete(t),!0):!1}function lR(i,n,e,t,o){if(fw(i,n,t,e(t,o)))i.updateValue(t,o);else{let r=i.create(t,o);i.attach(t,r)}}function cR(i,n,e,t){let o=new Set;for(let r=n;r<=e;r++)o.add(t(r,i.at(r)));return o}var G_=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let t=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(t);)t=o.get(t);o.set(t,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,t]of this.kvMap)if(n(t,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(t);)t=o.get(t),n(t,e)}}};function G(i,n){Cl("NgControlFlow");let e=Ft(),t=Zu(),o=e[t]!==vr?e[t]:-1,r=o!==-1?z_(e,Uo+o):void 0,s=0;if(Hr(e,t,i)){let a=Mi(null);try{if(r!==void 0&&yP(r,s),i!==-1){let l=Uo+i,c=z_(e,l),u=Cw(e[ni],l),g=zu(c,u.tView.ssrId),_=hf(e,u,n,{dehydratedView:g});ff(c,_,s,Gu(u,g))}}finally{Mi(a)}}else if(r!==void 0){let a=bP(r,s);a!==void 0&&(a[_r]=n)}}var mw=class{constructor(n,e,t){this.lContainer=n,this.$implicit=e,this.$index=t}get $count(){return this.lContainer.length-Cr}};function ho(i,n){return n}var gw=class{constructor(n,e,t){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=t}};function fo(i,n,e,t,o,r,s,a,l,c,u,g,_){Cl("NgControlFlow");let C=Ft(),w=eo(),S=l!==void 0,A=Ft(),x=a?s.bind(A[ss][_r]):s,D=new gw(S,x);A[Uo+i]=D,j_(C,w,i+1,n,e,t,o,gc(w.consts,r)),S&&j_(C,w,i+2,l,c,u,g,gc(w.consts,_))}var _w=class extends hw{constructor(n,e,t){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=t,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Cr}at(n){return this.getLView(n)[_r].$implicit}attach(n,e){let t=e[Uu];this.needsIndexUpdate||=n!==this.length,ff(this.lContainer,e,n,Gu(this.templateTNode,t))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,tz(this.lContainer,n)}create(n,e){let t=zu(this.lContainer,this.templateTNode.tView.ssrId),o=hf(this.hostLView,this.templateTNode,new mw(this.lContainer,e,n),{dehydratedView:t});return this.operationsCounter?.recordCreate(),o}destroy(n){g0(n[ni],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[_r].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[_r].$index=n}getLView(n){return iz(this.lContainer,n)}};function mo(i){let n=Mi(null),e=Ba();try{let t=Ft(),o=t[ni],r=t[e],s=e+1,a=z_(t,s);if(r.liveCollection===void 0){let c=Cw(o,s);r.liveCollection=new _w(a,t,c)}else r.liveCollection.reset();let l=r.liveCollection;if(ez(l,i,r.trackByFn),l.updateIndexes(),r.hasEmptyBlock){let c=Zu(),u=l.length===0;if(Hr(t,c,u)){let g=e+2,_=z_(t,g);if(u){let C=Cw(o,g),w=zu(_,C.tView.ssrId),S=hf(t,C,void 0,{dehydratedView:w});ff(_,S,0,Gu(C,w))}else yP(_,0)}}}finally{Mi(n)}}function z_(i,n){return i[n]}function tz(i,n){return of(i,n)}function iz(i,n){return bP(i,n)}function Cw(i,n){return Bw(i,n)}function nz(i,n,e,t,o,r){let s=n.consts,a=gc(s,o),l=tp(n,i,2,t,a);return d1(n,e,l,gc(s,r)),l.attrs!==null&&k_(l,l.attrs,!1),l.mergedAttrs!==null&&k_(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function f(i,n,e,t){let o=Ft(),r=eo(),s=Uo+i,a=o[Qn],l=r.firstCreatePass?nz(s,r,o,n,e,t):r.data[s],c=oz(r,o,l,a,n,i);o[s]=c;let u=n0(l);return Ud(l,!0),aP(a,c,l),!SG(l)&&c0()&&_0(r,o,c,l),t9()===0&&_c(c,o),i9(),u&&(s1(r,o,l),r1(r,l,o)),t!==null&&a1(o,l),f}function m(){let i=ar();jw()?Hw():(i=i.parent,Ud(i,!1));let n=i;o9(n)&&r9(),n9();let e=eo();return e.firstCreatePass&&(u0(e,i),Vw(i)&&e.queries.elementEnd(i)),n.classesWithoutHost!=null&&I9(n)&&pw(e,n,Ft(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&v9(n)&&pw(e,n,Ft(),n.stylesWithoutHost,!1),m}function E(i,n,e,t){return f(i,n,e,t),m(),E}var oz=(i,n,e,t,o,r)=>(d0(!0),XD(t,o,m9()));function rz(i,n,e,t,o){let r=n.consts,s=gc(r,t),a=tp(n,i,8,"ng-container",s);s!==null&&k_(a,s,!0);let l=gc(r,o);return d1(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function re(i,n,e){let t=Ft(),o=eo(),r=i+Uo,s=o.firstCreatePass?rz(r,o,t,n,e):o.data[r];Ud(s,!0);let a=sz(o,t,s,i);return t[r]=a,c0()&&_0(o,t,a,s),_c(a,t),n0(s)&&(s1(o,t,s),r1(o,s,t)),e!=null&&a1(t,s),re}function se(){let i=ar(),n=eo();return jw()?Hw():(i=i.parent,Ud(i,!1)),n.firstCreatePass&&(u0(n,i),Vw(i)&&n.queries.elementEnd(i)),se}function oe(i,n,e){return re(i,n,e),se(),oe}var sz=(i,n,e,t)=>(d0(!0),E8(n[Qn],""));function k(){return Ft()}var Ed=void 0;function az(i){let n=i,e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var lz=["en",[["a","p"],["AM","PM"],Ed],[["AM","PM"],Ed,Ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ed,"{1} 'at' {0}",Ed],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",az],gy={};function ps(i){let n=cz(i),e=dR(n);if(e)return e;let t=n.split("-")[0];if(e=dR(t),e)return e;if(t==="en")return lz;throw new dt(701,!1)}function dR(i){return i in gy||(gy[i]=sr.ng&&sr.ng.common&&sr.ng.common.locales&&sr.ng.common.locales[i]),gy[i]}var so=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(so||{});function cz(i){return i.toLowerCase().replace(/_/g,"-")}var W_="en-US";var dz=W_;function uz(i){typeof i=="string"&&(dz=i.toLowerCase().replace(/_/g,"-"))}var pz=(i,n,e)=>{};function R(i,n,e,t){let o=Ft(),r=eo(),s=ar();return XP(r,o,o[Qn],s,i,n,t),R}function hz(i,n,e,t){let o=i.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===t){let a=n[w_],l=o[r+2];return a.length>l?a[l]:null}typeof s=="string"&&(r+=2)}return null}function XP(i,n,e,t,o,r,s){let a=n0(t),c=i.firstCreatePass&&IP(i),u=n[_r],g=CP(n),_=!0;if(t.type&3||s){let S=Rs(t,n),A=s?s(S):S,x=g.length,D=s?X=>s(ka(X[t.index])):t.index,V=null;if(!s&&a&&(V=hz(i,n,o,t.index)),V!==null){let X=V.__ngLastListenerFn__||V;X.__ngNextListenerFn__=r,V.__ngLastListenerFn__=r,_=!1}else{r=pR(t,n,u,r),pz(S,o,r);let X=e.listen(A,o,r);g.push(r,X),c&&c.push(o,D,x,x+1)}}else r=pR(t,n,u,r);let C=t.outputs,w;if(_&&C!==null&&(w=C[o])){let S=w.length;if(S)for(let A=0;A<S;A+=2){let x=w[A],D=w[A+1],ee=n[x][D].subscribe(r),ae=g.length;g.push(r,ee),c&&c.push(o,t.index,ae,-(ae+1))}}}function uR(i,n,e,t){let o=Mi(null);try{return Da(6,n,e),e(t)!==!1}catch(r){return vP(i,r),!1}finally{Da(7,n,e),Mi(o)}}function pR(i,n,e,t){return function o(r){if(r===Function)return t;let s=i.componentOffset>-1?Ic(i.index,n):n;f1(s,5);let a=uR(n,e,t,r),l=o.__ngNextListenerFn__;for(;l;)a=uR(n,e,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function h(i=1){return f9(i)}function fz(i,n){let e=null,t=S7(i);for(let o=0;o<n.length;o++){let r=n[o];if(r==="*"){e=o;continue}if(t===null?FR(i,r,!0):E7(t,r))return o}return e}function _i(i){let n=Ft()[ss][Gr];if(!n.projection){let e=i?i.length:1,t=n.projection=m7(e,null),o=t.slice(),r=n.child;for(;r!==null;){if(r.type!==128){let s=i?fz(r,i):0;s!==null&&(o[s]?o[s].projectionNext=r:t[s]=r,o[s]=r)}r=r.next}}}function jt(i,n=0,e,t,o,r){let s=Ft(),a=eo(),l=t?i+1:null;l!==null&&j_(s,a,l,t,o,r,null,e);let c=tp(a,Uo+i,16,null,e||null);c.projection===null&&(c.projection=n),Hw();let g=!s[Uu]||oD();s[ss][Gr].projection[c.projection]===null&&l!==null?mz(s,a,l):g&&(c.flags&32)!==32&&B8(a,s,c)}function mz(i,n,e){let t=Uo+e,o=n.data[t],r=i[t],s=zu(r,o.tView.ssrId),a=hf(i,o,void 0,{dehydratedView:s});ff(r,a,0,Gu(o,s))}function Z(i,n,e){return w0(i,"",n,"",e),Z}function w0(i,n,e,t,o){let r=Ft(),s=v1(r,n,e,t);if(s!==vr){let a=eo(),l=l0();c1(a,l,r,i,s,r[Qn],o,!1)}return w0}function qe(i,n,e,t){oG(i,n,e,t)}function ne(i,n,e){nG(i,n,e)}function K(i){let n=Ft(),e=eo(),t=lD();Gw(t+1);let o=g1(e,t);if(i.dirty&&X7(n)===((o.metadata.flags&2)===2)){if(o.matches===null)i.reset([]);else{let r=aG(n,t);i.reset(r,G9),i.notifyOnChanges()}return!0}return!1}function q(){return iG(Ft(),lD())}function gz(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}function Me(i){let n=a9();return o0(n,Uo+i)}function T(i,n=""){let e=Ft(),t=eo(),o=i+Uo,r=t.firstCreatePass?tp(t,o,1,n,null):t.data[o],s=_z(t,e,r,n,i);e[o]=s,c0()&&_0(t,e,s,r),Ud(r,!1)}var _z=(i,n,e,t,o)=>(d0(!0),A8(n[Qn],t));function H(i){return z("",i,""),H}function z(i,n,e){let t=Ft(),o=v1(t,i,n,e);return o!==vr&&p1(t,Ba(),o),z}function zr(i,n,e,t,o){let r=Ft(),s=DG(r,i,n,e,t,o);return s!==vr&&p1(r,Ba(),s),zr}function ip(i,n,e,t,o,r,s){let a=Ft(),l=PG(a,i,n,e,t,o,r,s);return l!==vr&&p1(a,Ba(),l),ip}function Oe(i,n,e){kP(n)&&(n=n());let t=Ft(),o=Zu();if(Hr(t,o,n)){let r=eo(),s=l0();c1(r,s,t,i,n,t[Qn],e,!1)}return Oe}function De(i,n){let e=kP(i);return e&&i.set(n),e}function Re(i,n){let e=Ft(),t=eo(),o=ar();return XP(t,e,e[Qn],o,i,n),Re}function Cz(i,n,e){let t=eo();if(t.firstCreatePass){let o=mc(i);Iw(e,t.data,t.blueprint,o,!0),Iw(n,t.data,t.blueprint,o,!1)}}function Iw(i,n,e,t,o){if(i=Or(i),Array.isArray(i))for(let r=0;r<i.length;r++)Iw(i[r],n,e,t,o);else{let r=eo(),s=Ft(),a=ar(),l=Bu(i)?i:Or(i.provide),c=GR(i),u=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Bu(i)||!i.multi){let C=new Md(c,o,v),w=Cy(l,n,o?u:u+_,g);w===-1?(Fy(O_(a,s),r,l),_y(r,i,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(C),s.push(C)):(e[w]=C,s[w]=C)}else{let C=Cy(l,n,u+_,g),w=Cy(l,n,u,u+_),S=C>=0&&e[C],A=w>=0&&e[w];if(o&&!A||!o&&!S){Fy(O_(a,s),r,l);let x=bz(o?vz:Iz,e.length,o,t,c);!o&&A&&(e[w].providerFactory=x),_y(r,i,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(x),s.push(x)}else{let x=QP(e[o?w:C],c,!o&&t);_y(r,i,C>-1?C:w,x)}!o&&t&&A&&e[w].componentProviders++}}}function _y(i,n,e,t){let o=Bu(n),r=V7(n);if(o||r){let l=(r?Or(n.useClass):n).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!o&&n.multi){let u=c.indexOf(e);u===-1?c.push(e,[t,l]):c[u+1].push(t,l)}else c.push(e,l)}}}function QP(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function Cy(i,n,e,t){for(let o=e;o<t;o++)if(n[o]===i)return o;return-1}function Iz(i,n,e,t){return vw(this.multi,[])}function vz(i,n,e,t){let o=this.multi,r;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=kd(e,e[ni],this.providerFactory.index,t);r=a.slice(0,s),vw(o,r);for(let l=s;l<a.length;l++)r.push(a[l])}else r=[],vw(o,r);return r}function vw(i,n){for(let e=0;e<i.length;e++){let t=i[e];n.push(t())}return n}function bz(i,n,e,t,o){let r=new Md(i,e,v);return r.multi=[],r.index=n,r.componentProviders=0,QP(r,o,t&&!e),r}function Ge(i,n=[]){return e=>{e.providersResolver=(t,o)=>Cz(t,o?o(i):i,n)}}var yz=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=UR(!1,e.type),o=t.length>0?y0([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ue({token:i,providedIn:"environment",factory:()=>new i(ie(Dr))})}}return i})();function Ze(i){Cl("NgStandalone"),i.getStandaloneInjector=n=>n.get(yz).getOrCreateStandaloneInjector(i)}function Wr(i,n,e){let t=i.\u0275cmp;t.directiveDefs=y_(n,!1),t.pipeDefs=y_(e,!0)}function Ie(i,n,e){let t=ls()+i,o=Ft();return o[t]===vr?ja(o,t,e?n.call(e):n()):mf(o,t)}function J(i,n,e,t){return tF(Ft(),ls(),i,n,e,t)}function Ue(i,n,e,t,o){return iF(Ft(),ls(),i,n,e,t,o)}function Ai(i,n,e,t,o,r){return nF(Ft(),ls(),i,n,e,t,o,r)}function Nn(i,n,e,t,o,r,s){return wz(Ft(),ls(),i,n,e,t,o,r,s)}function Ha(i,n,e,t,o,r,s,a){let l=ls()+i,c=Ft(),u=qu(c,l,e,t,o,r);return Hr(c,l+4,s)||u?ja(c,l+5,a?n.call(a,e,t,o,r,s):n(e,t,o,r,s)):mf(c,l+5)}function ca(i,n,e,t,o,r,s,a,l){let c=ls()+i,u=Ft(),g=qu(u,c,e,t,o,r);return Ku(u,c+4,s,a)||g?ja(u,c+6,l?n.call(l,e,t,o,r,s,a):n(e,t,o,r,s,a)):mf(u,c+6)}function ZP(i,n,e,t,o,r,s,a,l,c){let u=ls()+i,g=Ft(),_=qu(g,u,e,t,o,r);return C1(g,u+4,s,a,l)||_?ja(g,u+7,c?n.call(c,e,t,o,r,s,a,l):n(e,t,o,r,s,a,l)):mf(g,u+7)}function eF(i,n,e,t,o,r,s,a,l,c,u){let g=ls()+i,_=Ft(),C=qu(_,g,e,t,o,r);return qu(_,g+4,s,a,l,c)||C?ja(_,g+8,u?n.call(u,e,t,o,r,s,a,l,c):n(e,t,o,r,s,a,l,c)):mf(_,g+8)}function Hd(i,n,e,t){return Sz(Ft(),ls(),i,n,e,t)}function gf(i,n){let e=i[n];return e===vr?void 0:e}function tF(i,n,e,t,o,r){let s=n+e;return Hr(i,s,o)?ja(i,s+1,r?t.call(r,o):t(o)):gf(i,s+1)}function iF(i,n,e,t,o,r,s){let a=n+e;return Ku(i,a,o,r)?ja(i,a+2,s?t.call(s,o,r):t(o,r)):gf(i,a+2)}function nF(i,n,e,t,o,r,s,a){let l=n+e;return C1(i,l,o,r,s)?ja(i,l+3,a?t.call(a,o,r,s):t(o,r,s)):gf(i,l+3)}function wz(i,n,e,t,o,r,s,a,l){let c=n+e;return qu(i,c,o,r,s,a)?ja(i,c+4,l?t.call(l,o,r,s,a):t(o,r,s,a)):gf(i,c+4)}function Sz(i,n,e,t,o,r){let s=n+e,a=!1;for(let l=0;l<o.length;l++)Hr(i,s++,o[l])&&(a=!0);return a?ja(i,s,t.apply(r,o)):gf(i,s)}function O(i,n){let e=eo(),t,o=i+Uo;e.firstCreatePass?(t=Az(n,e.pipeRegistry),e.data[o]=t,t.onDestroy&&(e.destroyHooks??=[]).push(o,t.onDestroy)):t=e.data[o];let r=t.factory||(t.factory=Od(t.type,!0)),s,a=Ur(v);try{let l=T_(!1),c=r();return T_(l),gz(e,Ft(),o,c),c}finally{Ur(a)}}function Az(i,n){if(n)for(let e=n.length-1;e>=0;e--){let t=n[e];if(i===t.name)return t}}function P(i,n,e){let t=i+Uo,o=Ft(),r=o0(o,t);return y1(o,t)?tF(o,ls(),n,r.transform,e,r):r.transform(e)}function pi(i,n,e,t){let o=i+Uo,r=Ft(),s=o0(r,o);return y1(r,o)?iF(r,ls(),n,s.transform,e,t,s):s.transform(e,t)}function da(i,n,e,t,o){let r=i+Uo,s=Ft(),a=o0(s,r);return y1(s,r)?nF(s,ls(),n,a.transform,e,t,o,a):a.transform(e,t,o)}function y1(i,n){return i[ni].data[n].pure}function bt(i,n){return b0(i,n)}var d_=null;function xz(i){d_!==null&&(i.defaultEncapsulation!==d_.defaultEncapsulation||i.preserveWhitespaces!==d_.preserveWhitespaces)||(d_=i)}var S0=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();var w1=new Pe(""),_f=new Pe(""),A0=(()=>{class i{constructor(e,t,o){this._ngZone=e,this.registry=t,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,S1||(Ez(o),o.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>t.updateCb&&t.updateCb(e)?(clearTimeout(t.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),e()},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,t,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,o){return[]}static{this.\u0275fac=function(t){return new(t||i)(ie(It),ie(x0),ie(_f))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),x0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return S1?.findTestabilityInTree(this,e,t)??null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();function Ez(i){S1=i}var S1;function vc(i){return!!i&&typeof i.then=="function"}function A1(i){return!!i&&typeof i.subscribe=="function"}var E0=new Pe(""),oF=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t}),this.appInits=Te(E0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=o();if(vc(r))e.push(r);else if(A1(r)){let s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(s)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{t()}).catch(o=>{this.reject(o)}),e.length===0&&t(),this.initialized=!0}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),T0=new Pe("");function Tz(){qO(()=>{throw new dt(600,!1)})}function Oz(i){return i.isBoundToModule}var Rz=10;function Dz(i,n,e){try{let t=e();return vc(t)?t.catch(o=>{throw n.runOutsideAngular(()=>i.handleError(o)),o}):t}catch(t){throw n.runOutsideAngular(()=>i.handleError(t)),t}}function rF(i,n){return Array.isArray(n)?n.reduce(rF,i):Q(Q({},i),n)}var ua=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Te(U9),this.afterRenderManager=Te(BP),this.zonelessEnabled=Te(m1),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ae,this.afterTick=new Ae,this.componentTypes=[],this.components=[],this.isStable=Te(Ua).hasPendingTasks.pipe(U(e=>!e)),this._injector=Te(Dr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(t=>{e=this.isStable.subscribe({next:o=>{o&&t()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,t){let o=e instanceof M_;if(!this._injector.get(oF).done){let _=!o&&kR(e),C=!1;throw new dt(405,C)}let s;o?s=e:s=this._injector.get(Cc).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Oz(s)?void 0:this._injector.get(hl),l=t||s.selector,c=s.create(Zn.NULL,[],l,a),u=c.location.nativeElement,g=c.injector.get(w1,null);return g?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),__(this.components,c),g?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new dt(101,!1);let e=Mi(null);try{this._runningTick=!0,this.synchronize()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1,Mi(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get($u,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<Rz;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(t);for(let{_lView:o,notifyErrorHandler:r}of this._views)Pz(o,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>r0(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;__(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let t=this._injector.get(T0,[]);[...this._bootstrapListeners,...t].forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>__(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new dt(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function __(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function Pz(i,n,e,t){if(!e&&!r0(i))return;AP(i,n,e&&!t?0:1)}var bw=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},O0=(()=>{class i{compileModuleSync(e){return new U_(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let t=this.compileModuleSync(e),o=NR(e),r=JD(o.declarations).reduce((s,a)=>{let l=dl(a);return l&&s.push(new Vd(l)),s},[]);return new bw(t,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Fz=new Pe("");function Lz(i,n,e){let t=new U_(e);return Promise.resolve(t)}function hR(i){for(let n=i.length-1;n>=0;n--)if(i[n]!==void 0)return i[n]}var Mz=(()=>{class i{constructor(){this.zone=Te(It),this.changeDetectionScheduler=Te(Wu),this.applicationRef=Te(ua)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kz({ngZoneFactory:i,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return i??=()=>new It(Ee(Q({},sF()),{scheduleInRootZone:e})),[{provide:It,useFactory:i},{provide:Rd,multi:!0,useFactory:()=>{let t=Te(Mz,{optional:!0});return()=>t.initialize()}},{provide:Rd,multi:!0,useFactory:()=>{let t=Te(Nz);return()=>{t.initialize()}}},n===!0?{provide:OP,useValue:!0}:[],{provide:RP,useValue:e??xD}]}function sF(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var Nz=(()=>{class i{constructor(){this.subscription=new ro,this.initialized=!1,this.zone=Te(It),this.pendingTasks=Te(Ua)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{It.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Vz=(()=>{class i{constructor(){this.appRef=Te(ua),this.taskService=Te(Ua),this.ngZone=Te(It),this.zonelessEnabled=Te(m1),this.disableScheduling=Te(OP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ro,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(D_):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Te(RP,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof P_||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let t=this.useMicrotaskScheduler?U2:ED;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>t(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>t(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(D_+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(e),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,U2(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Bz(){return typeof $localize<"u"&&$localize.locale||W_}var Cf=new Pe("",{providedIn:"root",factory:()=>Te(Cf,Oi.Optional|Oi.SkipSelf)||Bz()});var $_=new Pe("");function u_(i){return!i.moduleRef}function Uz(i){let n=u_(i)?i.r3Injector:i.moduleRef.injector,e=n.get(It);return e.run(()=>{u_(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let t=n.get(Na,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:r=>{t.handleError(r)}})}),u_(i)){let r=()=>n.destroy(),s=i.platformInjector.get($_);s.add(r),n.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>i.moduleRef.destroy(),s=i.platformInjector.get($_);s.add(r),i.moduleRef.onDestroy(()=>{__(i.allPlatformModules,i.moduleRef),o.unsubscribe(),s.delete(r)})}return Dz(t,e,()=>{let r=n.get(oF);return r.runInitializers(),r.donePromise.then(()=>{let s=n.get(Cf,W_);if(uz(s||W_),u_(i)){let a=n.get(ua);return i.rootComponent!==void 0&&a.bootstrap(i.rootComponent),a}else return jz(i.moduleRef,i.allPlatformModules),i.moduleRef})})})}function jz(i,n){let e=i.injector.get(ua);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(t=>e.bootstrap(t));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(e);else throw new dt(-403,!1);n.push(i)}var aF=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){let o=t?.scheduleInRootZone,r=()=>B9(t?.ngZone,Ee(Q({},sF({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),s=t?.ignoreChangesOutsideZone,a=[kz({ngZoneFactory:r,ignoreChangesOutsideZone:s}),{provide:Wu,useExisting:Vz}],l=yG(e.moduleType,this.injector,a);return Uz({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,t=[]){let o=rF({},t);return Lz(this.injector,o,e).then(r=>this.bootstrapModuleFactory(r,o))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new dt(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());let e=this._injector.get($_,null);e&&(e.forEach(t=>t()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(t){return new(t||i)(ie(Zn))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})(),Qh=null,lF=new Pe("");function Hz(i){if(Qh&&!Qh.get(lF,!1))throw new dt(400,!1);Tz(),Qh=i;let n=i.get(aF);return Wz(i),n}function x1(i,n,e=[]){let t=`Platform: ${n}`,o=new Pe(t);return(r=[])=>{let s=cF();if(!s||s.injector.get(lF,!1)){let a=[...e,...r,{provide:o,useValue:!0}];i?i(a):Hz(Gz(a,t))}return zz(o)}}function Gz(i=[],n){return Zn.create({name:n,providers:[{provide:Q_,useValue:"platform"},{provide:$_,useValue:new Set([()=>Qh=null])},...i]})}function zz(i){let n=cF();if(!n)throw new dt(401,!1);return n}function cF(){return Qh?.get(aF)??null}function Wz(i){i.get(Jw,null)?.forEach(e=>e())}function If(){return!1}var pe=(()=>{class i{static{this.__NG_ELEMENT_ID__=$z}}return i})();function $z(i){return Kz(ar(),Ft(),(i&16)===16)}function Kz(i,n,e){if(i0(i)&&!e){let t=Ic(i.index,n);return new Nd(t,t)}else if(i.type&175){let t=n[ss];return new Nd(t,n)}return null}var yw=class{constructor(){}supports(n){return VP(n)}create(n){return new ww(n)}},qz=(i,n)=>n,ww=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||qz}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,o=0,r=null;for(;e||t;){let s=!t||e&&e.currentIndex<fR(t,o,r)?e:t,a=fR(s,o,r),l=s.currentIndex;if(s===t)o--,t=t._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{r||(r=[]);let c=a-o,u=l-o;if(c!=u){for(let _=0;_<c;_++){let C=_<r.length?r[_]:r[_]=0,w=C+_;u<=w&&w<c&&(r[_]=C+1)}let g=s.previousIndex;r[g]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!VP(n))throw new dt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,t=!1,o,r,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)r=n[a],s=this._trackByFn(a,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,a),t=!0):(t&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else o=0,wG(n,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),t=!0):(t&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,o){let r;return n===null?r=this._itTail:(r=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(t,o),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,o)):n=this._addAfter(new Sw(e,t),r,o)),n}_verifyReinsertion(n,e,t,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return r!==null?n=this._reinsertAfter(r,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,r=n._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){let o=e===null?this._itHead:e._next;return n._next=o,n._prev=e,o===null?this._itTail=n:o._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new K_),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,t=n._next;return e===null?this._itHead=t:e._next=t,t===null?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new K_),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Sw=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Aw=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;t!==null;t=t._nextDup)if((e===null||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){let e=n._prevDup,t=n._nextDup;return e===null?this._head=t:e._nextDup=t,t===null?this._tail=e:t._prevDup=e,this._head===null}},K_=class{constructor(){this.map=new Map}put(n){let e=n.trackById,t=this.map.get(e);t||(t=new Aw,this.map.set(e,t)),t.add(n)}get(n,e){let t=n,o=this.map.get(t);return o?o.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fR(i,n,e){let t=i.previousIndex;if(t===null)return t;let o=0;return e&&t<e.length&&(o=e[t]),t+n+o}var xw=class{constructor(){}supports(n){return n instanceof Map||_1(n)}create(){return new Ew}},Ew=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||_1(n)))throw new dt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{let r=this._getOrCreateRecordForKey(o,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let o=this._records.get(n);this._maybeAddToChanges(o,e);let r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}let t=new Tw(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}},Tw=class{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function mR(){return new E1([new yw])}var E1=(()=>{class i{static{this.\u0275prov=ue({token:i,providedIn:"root",factory:mR})}constructor(e){this.factories=e}static create(e,t){if(t!=null){let o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||mR()),deps:[[i,new X_,new cf]]}}find(e){let t=this.factories.find(o=>o.supports(e));if(t!=null)return t;throw new dt(901,!1)}}return i})();function gR(){return new T1([new xw])}var T1=(()=>{class i{static{this.\u0275prov=ue({token:i,providedIn:"root",factory:gR})}constructor(e){this.factories=e}static create(e,t){if(t){let o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:t=>i.create(e,t||gR()),deps:[[i,new X_,new cf]]}}find(e){let t=this.factories.find(o=>o.supports(e));if(t)return t;throw new dt(901,!1)}}return i})();var dF=x1(null,"core",[]),uF=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(ie(ua))}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})();function j(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function xe(i,n=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):n}function to(i,n){Cl("NgSignals");let e=WO(i);return n?.equal&&(e[Qs].equal=n.equal),e}function hs(i){let n=Mi(null);try{return i()}finally{Mi(n)}}var Yz=new Pe("",{providedIn:"root",factory:()=>Te(Jz)}),Jz=(()=>{class i{static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>new Ow})}}return i})(),Ow=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Te(Ua),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),this.taskId===null){let e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(n){let e=n.creationZone;this.queues.has(e)||this.queues.set(e,new Set);let t=this.queues.get(e);t.has(n)||(this.queuedEffectCount++,t.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,e]of this.queues)n===null?this.flushQueue(e):n.run(()=>this.flushQueue(e))}flushQueue(n){for(let e of n)n.delete(e),this.queuedEffectCount--,e.run()}},Rw=class{constructor(n,e,t,o,r,s){this.scheduler=n,this.effectFn=e,this.creationZone=t,this.injector=r,this.watcher=XO(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(e){this.injector.get(Na,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Il(i,n){Cl("NgSignals"),!n?.injector&&e0(Il);let e=n?.injector??Te(Zn),t=n?.manualCleanup!==!0?e.get(jd):null,o=new Rw(e.get(Yz),i,typeof Zone>"u"?null:Zone.current,t,e,n?.allowSignalWrites??!1),r=e.get(pe,null,{optional:!0});return!r||!(r._lView[Zt]&8)?o.watcher.notify():(r._lView[h_]??=[]).push(o.watcher.notify),o}function pF(i,n){let e=dl(i),t=n.elementInjector||Z_();return new Vd(e).create(t,n.projectableNodes,n.hostElement,n.environmentInjector)}function hF(i){let n=dl(i);if(!n)return null;let e=new Vd(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var yF=null;function Ga(){return yF}function wF(i){yF??=i}var V0=class{};var ct=new Pe(""),H1=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(Qz),providedIn:"platform"})}}return i})(),SF=new Pe(""),Qz=(()=>{class i extends H1{constructor(){super(),this._doc=Te(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ga().getBaseHref(this._doc)}onPopState(e){let t=Ga().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){let t=Ga().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,o){this._history.pushState(e,t,o)}replaceState(e,t,o){this._history.replaceState(e,t,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>new i,providedIn:"platform"})}}return i})();function G1(i,n){if(i.length==0)return n;if(n.length==0)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?i+n.substring(1):e==1?i+n:i+"/"+n}function fF(i){let n=i.match(/#|\?|$/),e=n&&n.index||i.length,t=e-(i[e-1]==="/"?1:0);return i.slice(0,t)+i.slice(e)}function bl(i){return i&&i[0]!=="?"?"?"+i:i}var Sl=(()=>{class i{historyGo(e){throw new Error("")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(z1),providedIn:"root"})}}return i})(),AF=new Pe(""),z1=(()=>{class i extends Sl{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??Te(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G1(this._baseHref,e)}path(e=!1){let t=this._platformLocation.pathname+bl(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,r){let s=this.prepareExternalUrl(o+bl(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,o,r){let s=this.prepareExternalUrl(o+bl(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(t){return new(t||i)(ie(H1),ie(AF,8))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),xF=(()=>{class i extends Sl{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],t!=null&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){let t=G1(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,r){let s=this.prepareExternalUrl(o+bl(r));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,o,r){let s=this.prepareExternalUrl(o+bl(r));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(t){return new(t||i)(ie(H1),ie(AF,8))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),bc=(()=>{class i{constructor(e){this._subject=new W,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let t=this._locationStrategy.getBaseHref();this._basePath=tW(fF(mF(t))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+bl(t))}normalize(e){return i.stripTrailingSlash(eW(this._basePath,mF(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._locationStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bl(t)),o)}replaceState(e,t="",o=null){this._locationStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+bl(t)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}static{this.normalizeQueryParams=bl}static{this.joinWithSlash=G1}static{this.stripTrailingSlash=fF}static{this.\u0275fac=function(t){return new(t||i)(ie(Sl))}}static{this.\u0275prov=ue({token:i,factory:()=>Zz(),providedIn:"root"})}}return i})();function Zz(){return new bc(ie(Sl))}function eW(i,n){if(!i||!n.startsWith(i))return n;let e=n.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function mF(i){return i.replace(/\/index.html$/,"")}function tW(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var EF=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(EF||{});var Pr=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(Pr||{}),bn=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(bn||{}),fs=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(fs||{}),ms={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function iW(i){return ps(i)[so.LocaleId]}function nW(i,n,e){let t=ps(i),o=[t[so.DayPeriodsFormat],t[so.DayPeriodsStandalone]],r=Ds(o,n);return Ds(r,e)}function oW(i,n,e){let t=ps(i),o=[t[so.DaysFormat],t[so.DaysStandalone]],r=Ds(o,n);return Ds(r,e)}function rW(i,n,e){let t=ps(i),o=[t[so.MonthsFormat],t[so.MonthsStandalone]],r=Ds(o,n);return Ds(r,e)}function sW(i,n){let t=ps(i)[so.Eras];return Ds(t,n)}function R0(i,n){let e=ps(i);return Ds(e[so.DateFormat],n)}function D0(i,n){let e=ps(i);return Ds(e[so.TimeFormat],n)}function P0(i,n){let t=ps(i)[so.DateTimeFormat];return Ds(t,n)}function yl(i,n){let e=ps(i),t=e[so.NumberSymbols][n];if(typeof t>"u"){if(n===ms.CurrencyDecimal)return e[so.NumberSymbols][ms.Decimal];if(n===ms.CurrencyGroup)return e[so.NumberSymbols][ms.Group]}return t}function aW(i,n){return ps(i)[so.NumberFormats][n]}function TF(i){if(!i[so.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[so.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lW(i){let n=ps(i);return TF(n),(n[so.ExtraData][2]||[]).map(t=>typeof t=="string"?O1(t):[O1(t[0]),O1(t[1])])}function cW(i,n,e){let t=ps(i);TF(t);let o=[t[so.ExtraData][0],t[so.ExtraData][1]],r=Ds(o,n)||[];return Ds(r,e)||[]}function Ds(i,n){for(let e=n;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function O1(i){let[n,e]=i.split(":");return{hours:+n,minutes:+e}}var dW=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F0={},uW=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,wl=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(wl||{}),en=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(en||{}),Zi=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(Zi||{});function pW(i,n,e,t){let o=bW(i);n=vl(e,n)||n;let s=[],a;for(;n;)if(a=uW.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=o.getTimezoneOffset();t&&(l=RF(t,l),o=vW(o,t,!0));let c="";return s.forEach(u=>{let g=CW(u);c+=g?g(o,e,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function B0(i,n,e){let t=new Date(0);return t.setFullYear(i,n,e),t.setHours(0,0,0),t}function vl(i,n){let e=iW(i);if(F0[e]??={},F0[e][n])return F0[e][n];let t="";switch(n){case"shortDate":t=R0(i,fs.Short);break;case"mediumDate":t=R0(i,fs.Medium);break;case"longDate":t=R0(i,fs.Long);break;case"fullDate":t=R0(i,fs.Full);break;case"shortTime":t=D0(i,fs.Short);break;case"mediumTime":t=D0(i,fs.Medium);break;case"longTime":t=D0(i,fs.Long);break;case"fullTime":t=D0(i,fs.Full);break;case"short":let o=vl(i,"shortTime"),r=vl(i,"shortDate");t=L0(P0(i,fs.Short),[o,r]);break;case"medium":let s=vl(i,"mediumTime"),a=vl(i,"mediumDate");t=L0(P0(i,fs.Medium),[s,a]);break;case"long":let l=vl(i,"longTime"),c=vl(i,"longDate");t=L0(P0(i,fs.Long),[l,c]);break;case"full":let u=vl(i,"fullTime"),g=vl(i,"fullDate");t=L0(P0(i,fs.Full),[u,g]);break}return t&&(F0[e][n]=t),t}function L0(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(e,t){return n!=null&&t in n?n[t]:e})),i}function pa(i,n,e="-",t,o){let r="";(i<0||o&&i<=0)&&(o?i=-i+1:(i=-i,r=e));let s=String(i);for(;s.length<n;)s="0"+s;return t&&(s=s.slice(s.length-n)),r+s}function hW(i,n){return pa(i,3).substring(0,n)}function So(i,n,e=0,t=!1,o=!1){return function(r,s){let a=fW(i,r);if((e>0||a>-e)&&(a+=e),i===en.Hours)a===0&&e===-12&&(a=12);else if(i===en.FractionalSeconds)return hW(a,n);let l=yl(s,ms.MinusSign);return pa(a,n,l,t,o)}}function fW(i,n){switch(i){case en.FullYear:return n.getFullYear();case en.Month:return n.getMonth();case en.Date:return n.getDate();case en.Hours:return n.getHours();case en.Minutes:return n.getMinutes();case en.Seconds:return n.getSeconds();case en.FractionalSeconds:return n.getMilliseconds();case en.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function En(i,n,e=Pr.Format,t=!1){return function(o,r){return mW(o,r,i,n,e,t)}}function mW(i,n,e,t,o,r){switch(e){case Zi.Months:return rW(n,o,t)[i.getMonth()];case Zi.Days:return oW(n,o,t)[i.getDay()];case Zi.DayPeriods:let s=i.getHours(),a=i.getMinutes();if(r){let c=lW(n),u=cW(n,o,t),g=c.findIndex(_=>{if(Array.isArray(_)){let[C,w]=_,S=s>=C.hours&&a>=C.minutes,A=s<w.hours||s===w.hours&&a<w.minutes;if(C.hours<w.hours){if(S&&A)return!0}else if(S||A)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(g!==-1)return u[g]}return nW(n,o,t)[s<12?0:1];case Zi.Eras:return sW(n,t)[i.getFullYear()<=0?0:1];default:let l=e;throw new Error(`unexpected translation type ${l}`)}}function M0(i){return function(n,e,t){let o=-1*t,r=yl(e,ms.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(i){case wl.Short:return(o>=0?"+":"")+pa(s,2,r)+pa(Math.abs(o%60),2,r);case wl.ShortGMT:return"GMT"+(o>=0?"+":"")+pa(s,1,r);case wl.Long:return"GMT"+(o>=0?"+":"")+pa(s,2,r)+":"+pa(Math.abs(o%60),2,r);case wl.Extended:return t===0?"Z":(o>=0?"+":"")+pa(s,2,r)+":"+pa(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${i}"`)}}}var gW=0,N0=4;function _W(i){let n=B0(i,gW,1).getDay();return B0(i,0,1+(n<=N0?N0:N0+7)-n)}function OF(i){let n=i.getDay(),e=n===0?-3:N0-n;return B0(i.getFullYear(),i.getMonth(),i.getDate()+e)}function R1(i,n=!1){return function(e,t){let o;if(n){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=OF(e),s=_W(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return pa(o,i,yl(t,ms.MinusSign))}}function k0(i,n=!1){return function(e,t){let r=OF(e).getFullYear();return pa(r,i,yl(t,ms.MinusSign),n)}}var D1={};function CW(i){if(D1[i])return D1[i];let n;switch(i){case"G":case"GG":case"GGG":n=En(Zi.Eras,bn.Abbreviated);break;case"GGGG":n=En(Zi.Eras,bn.Wide);break;case"GGGGG":n=En(Zi.Eras,bn.Narrow);break;case"y":n=So(en.FullYear,1,0,!1,!0);break;case"yy":n=So(en.FullYear,2,0,!0,!0);break;case"yyy":n=So(en.FullYear,3,0,!1,!0);break;case"yyyy":n=So(en.FullYear,4,0,!1,!0);break;case"Y":n=k0(1);break;case"YY":n=k0(2,!0);break;case"YYY":n=k0(3);break;case"YYYY":n=k0(4);break;case"M":case"L":n=So(en.Month,1,1);break;case"MM":case"LL":n=So(en.Month,2,1);break;case"MMM":n=En(Zi.Months,bn.Abbreviated);break;case"MMMM":n=En(Zi.Months,bn.Wide);break;case"MMMMM":n=En(Zi.Months,bn.Narrow);break;case"LLL":n=En(Zi.Months,bn.Abbreviated,Pr.Standalone);break;case"LLLL":n=En(Zi.Months,bn.Wide,Pr.Standalone);break;case"LLLLL":n=En(Zi.Months,bn.Narrow,Pr.Standalone);break;case"w":n=R1(1);break;case"ww":n=R1(2);break;case"W":n=R1(1,!0);break;case"d":n=So(en.Date,1);break;case"dd":n=So(en.Date,2);break;case"c":case"cc":n=So(en.Day,1);break;case"ccc":n=En(Zi.Days,bn.Abbreviated,Pr.Standalone);break;case"cccc":n=En(Zi.Days,bn.Wide,Pr.Standalone);break;case"ccccc":n=En(Zi.Days,bn.Narrow,Pr.Standalone);break;case"cccccc":n=En(Zi.Days,bn.Short,Pr.Standalone);break;case"E":case"EE":case"EEE":n=En(Zi.Days,bn.Abbreviated);break;case"EEEE":n=En(Zi.Days,bn.Wide);break;case"EEEEE":n=En(Zi.Days,bn.Narrow);break;case"EEEEEE":n=En(Zi.Days,bn.Short);break;case"a":case"aa":case"aaa":n=En(Zi.DayPeriods,bn.Abbreviated);break;case"aaaa":n=En(Zi.DayPeriods,bn.Wide);break;case"aaaaa":n=En(Zi.DayPeriods,bn.Narrow);break;case"b":case"bb":case"bbb":n=En(Zi.DayPeriods,bn.Abbreviated,Pr.Standalone,!0);break;case"bbbb":n=En(Zi.DayPeriods,bn.Wide,Pr.Standalone,!0);break;case"bbbbb":n=En(Zi.DayPeriods,bn.Narrow,Pr.Standalone,!0);break;case"B":case"BB":case"BBB":n=En(Zi.DayPeriods,bn.Abbreviated,Pr.Format,!0);break;case"BBBB":n=En(Zi.DayPeriods,bn.Wide,Pr.Format,!0);break;case"BBBBB":n=En(Zi.DayPeriods,bn.Narrow,Pr.Format,!0);break;case"h":n=So(en.Hours,1,-12);break;case"hh":n=So(en.Hours,2,-12);break;case"H":n=So(en.Hours,1);break;case"HH":n=So(en.Hours,2);break;case"m":n=So(en.Minutes,1);break;case"mm":n=So(en.Minutes,2);break;case"s":n=So(en.Seconds,1);break;case"ss":n=So(en.Seconds,2);break;case"S":n=So(en.FractionalSeconds,1);break;case"SS":n=So(en.FractionalSeconds,2);break;case"SSS":n=So(en.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=M0(wl.Short);break;case"ZZZZZ":n=M0(wl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=M0(wl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=M0(wl.Long);break;default:return null}return D1[i]=n,n}function RF(i,n){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?n:e}function IW(i,n){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+n),i}function vW(i,n,e){let t=e?-1:1,o=i.getTimezoneOffset(),r=RF(n,o);return IW(i,t*(r-o))}function bW(i){if(gF(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[o,r=1,s=1]=i.split("-").map(a=>+a);return B0(o,r-1,s)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let t;if(t=i.match(dW))return yW(t)}let n=new Date(i);if(!gF(n))throw new Error(`Unable to convert "${i}" into a date`);return n}function yW(i){let n=new Date(0),e=0,t=0,o=i[8]?n.setUTCFullYear:n.setFullYear,r=i[8]?n.setUTCHours:n.setHours;i[9]&&(e=Number(i[9]+i[10]),t=Number(i[9]+i[11])),o.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-e,a=Number(i[5]||0)-t,l=Number(i[6]||0),c=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return r.call(n,s,a,l,c),n}function gF(i){return i instanceof Date&&!isNaN(i.valueOf())}var wW=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_F=22,U0=".",vf="0",SW=";",AW=",",P1="#";function xW(i,n,e,t,o,r,s=!1){let a="",l=!1;if(!isFinite(i))a=yl(e,ms.Infinity);else{let c=RW(i);s&&(c=OW(c));let u=n.minInt,g=n.minFrac,_=n.maxFrac;if(r){let D=r.match(wW);if(D===null)throw new Error(`${r} is not a valid digit info`);let V=D[1],X=D[3],ee=D[5];V!=null&&(u=F1(V)),X!=null&&(g=F1(X)),ee!=null?_=F1(ee):X!=null&&g>_&&(_=g)}DW(c,g,_);let C=c.digits,w=c.integerLen,S=c.exponent,A=[];for(l=C.every(D=>!D);w<u;w++)C.unshift(0);for(;w<0;w++)C.unshift(0);w>0?A=C.splice(w,C.length):(A=C,C=[0]);let x=[];for(C.length>=n.lgSize&&x.unshift(C.splice(-n.lgSize,C.length).join(""));C.length>n.gSize;)x.unshift(C.splice(-n.gSize,C.length).join(""));C.length&&x.unshift(C.join("")),a=x.join(yl(e,t)),A.length&&(a+=yl(e,o)+A.join("")),S&&(a+=yl(e,ms.Exponential)+"+"+S)}return i<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function EW(i,n,e){let t=aW(n,EF.Decimal),o=TW(t,yl(n,ms.MinusSign));return xW(i,o,n,ms.Group,ms.Decimal,e)}function TW(i,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},t=i.split(SW),o=t[0],r=t[1],s=o.indexOf(U0)!==-1?o.split(U0):[o.substring(0,o.lastIndexOf(vf)+1),o.substring(o.lastIndexOf(vf)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(P1));for(let u=0;u<l.length;u++){let g=l.charAt(u);g===vf?e.minFrac=e.maxFrac=u+1:g===P1?e.maxFrac=u+1:e.posSuf+=g}let c=a.split(AW);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){let u=o.length-e.posPre.length-e.posSuf.length,g=r.indexOf(P1);e.negPre=r.substring(0,g).replace(/'/g,""),e.negSuf=r.slice(g+u).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function OW(i){if(i.digits[0]===0)return i;let n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(n===0?i.digits.push(0,0):n===1&&i.digits.push(0),i.integerLen+=2),i}function RW(i){let n=Math.abs(i)+"",e=0,t,o,r,s,a;for((o=n.indexOf(U0))>-1&&(n=n.replace(U0,"")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;n.charAt(r)===vf;r++);if(r===(a=n.length))t=[0],o=1;else{for(a--;n.charAt(a)===vf;)a--;for(o-=r,t=[],s=0;r<=a;r++,s++)t[s]=Number(n.charAt(r))}return o>_F&&(t=t.splice(0,_F-1),e=o-1,o=1),{digits:t,exponent:e,integerLen:o}}function DW(i,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let t=i.digits,o=t.length-i.integerLen,r=Math.min(Math.max(n,o),e),s=r+i.integerLen,a=t[s];if(s>0){t.splice(Math.max(i.integerLen,s));for(let g=s;g<t.length;g++)t[g]=0}else{o=Math.max(0,o),i.integerLen=1,t.length=Math.max(1,s=r+1),t[0]=0;for(let g=1;g<s;g++)t[g]=0}if(a>=5)if(s-1<0){for(let g=0;g>s;g--)t.unshift(0),i.integerLen++;t.unshift(1),i.integerLen++}else t[s-1]++;for(;o<Math.max(0,r);o++)t.push(0);let l=r!==0,c=n+i.integerLen,u=t.reduceRight(function(g,_,C,w){return _=_+g,w[C]=_<10?_:_-10,l&&(w[C]===0&&C>=c?w.pop():l=!1),_>=10?1:0},0);u&&(t.unshift(u),i.integerLen++)}function F1(i){let n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}function j0(i,n){n=encodeURIComponent(n);for(let e of i.split(";")){let t=e.indexOf("="),[o,r]=t==-1?[e,""]:[e.slice(0,t),e.slice(t+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}var L1=/\s+/,CF=[],Fe=(()=>{class i{constructor(e,t){this._ngEl=e,this._renderer=t,this.initialClasses=CF,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(L1):CF}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(L1):e}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(e!=null)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],o=e[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(e,t){e=e.trim(),e.length>0&&e.split(L1).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(wt))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return i})(),DF=(()=>{class i{constructor(e){this._viewContainerRef=e,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(e){return e.ngComponentOutletNgModule!==void 0||e.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(e){return e.ngComponentOutlet!==void 0||e.ngComponentOutletContent!==void 0||e.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(e)}ngOnChanges(e){if(this._needToReCreateComponentInstance(e)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(e)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=NP(this.ngComponentOutletNgModule,IF(t)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(IF(t)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:t,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let e of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(e,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(e){for(let[t,o]of this._inputsUsed)o?(e.setInput(t,this.ngComponentOutletInputs[t]),this._inputsUsed.set(t,!1)):(e.setInput(t,void 0),this._inputsUsed.delete(t))}static{this.\u0275fac=function(t){return new(t||i)(v(jo))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[ki]})}}return i})();function IF(i){return i.get(hl).injector}var M1=class{constructor(n,e,t,o){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ni=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)t.createEmbeddedView(this._template,new M1(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)t.remove(r===null?void 0:r);else if(r!==null){let a=t.get(r);t.move(a,s),vF(a,o)}});for(let o=0,r=t.length;o<r;o++){let a=t.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=t.get(o.currentIndex);vF(r,o)})}static ngTemplateContextGuard(e,t){return!0}static{this.\u0275fac=function(t){return new(t||i)(v(jo),v(as),v(E1))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return i})();function vF(i,n){i.context.$implicit=n.item}var ze=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new k1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bF("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bF("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}static{this.\u0275fac=function(t){return new(t||i)(v(jo),v(as))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return i})(),k1=class{constructor(){this.$implicit=null,this.ngIf=null}};function bF(i,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${Rr(n)}'.`)}var ve=(()=>{class i{constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[o,r]=e.split("."),s=o.indexOf("-")===-1?void 0:Va.DashCase;t!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${t}${r}`:t,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(T1),v(wt))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return i})(),Xe=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=t.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,t,o):!1,get:(e,t,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,o)}})}static{this.\u0275fac=function(t){return new(t||i)(v(jo))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ki]})}}return i})();function bf(i,n){return new dt(2100,!1)}var N1=class{createSubscription(n,e){return hs(()=>n.subscribe({next:e,error:t=>{throw t}}))}dispose(n){hs(()=>n.unsubscribe())}},V1=class{createSubscription(n,e){return n.then(e,t=>{throw t})}dispose(n){}},PW=new V1,FW=new N1,PF=(()=>{class i{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(vc(e))return PW;if(A1(e))return FW;throw bf(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(t){return new(t||i)(v(pe,16))}}static{this.\u0275pipe=xn({name:"async",type:i,pure:!1,standalone:!0})}}return i})(),XWe=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw bf(i,e);return e.toLowerCase()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"lowercase",type:i,pure:!0,standalone:!0})}}return i})();var LW="mediumDate",MW=new Pe(""),kW=new Pe(""),za=(()=>{class i{constructor(e,t,o){this.locale=e,this.defaultTimezone=t,this.defaultOptions=o}transform(e,t,o,r){if(e==null||e===""||e!==e)return null;try{let s=t??this.defaultOptions?.dateFormat??LW,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pW(e,s,r||this.locale,a)}catch(s){throw bf(i,s.message)}}static{this.\u0275fac=function(t){return new(t||i)(v(Cf,16),v(MW,24),v(kW,24))}}static{this.\u0275pipe=xn({name:"date",type:i,pure:!0,standalone:!0})}}return i})();var H0=(()=>{class i{transform(e){return JSON.stringify(e,null,2)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"json",type:i,pure:!1,standalone:!0})}}return i})();var op=(()=>{class i{constructor(e){this._locale=e}transform(e,t,o){if(!NW(e))return null;o||=this._locale;try{let r=VW(e);return EW(r,o,t)}catch(r){throw bf(i,r.message)}}static{this.\u0275fac=function(t){return new(t||i)(v(Cf,16))}}static{this.\u0275pipe=xn({name:"number",type:i,pure:!0,standalone:!0})}}return i})();function NW(i){return!(i==null||i===""||i!==i)}function VW(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new Error(`${i} is not a number`);return i}var G0=(()=>{class i{transform(e,t,o){if(e==null)return null;if(!this.supports(e))throw bf(i,e);return e.slice(t,o)}supports(e){return typeof e=="string"||Array.isArray(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"slice",type:i,pure:!1,standalone:!0})}}return i})();var Be=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})(),W1="browser",BW="server";function rt(i){return i===W1}function z0(i){return i===BW}var FF=(()=>{class i{static{this.\u0275prov=ue({token:i,providedIn:"root",factory:()=>rt(Te(Lt))?new B1(Te(ct),window):new U1})}}return i})(),B1=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=UW(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(t-r[0],o-r[1])}};function UW(i,n){let e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),o=t.currentNode;for(;o;){let r=o.shadowRoot;if(r){let s=r.getElementById(n)||r.querySelector(`[name="${n}"]`);if(s)return s}o=t.nextNode()}}return null}var U1=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},np=class{};var wf=class{},$0=class{},qo=class i{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let o=e.slice(0,t),r=o.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(s):this.headers.set(r,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,t)=>{this.setHeaderEntries(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(n.name,e);let o=(n.op==="a"?this.headers.get(e):void 0)||[];o.push(...t),this.headers.set(e,o);break;case"d":let r=n.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}setHeaderEntries(n,e){let t=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=n.toLowerCase();this.headers.set(o,t),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var K1=class{encodeKey(n){return LF(n)}encodeValue(n){return LF(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function jW(i,n){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,r)),n.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var HW=/%(\d[a-f0-9])/gi,GW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LF(i){return encodeURIComponent(i).replace(HW,(n,e)=>GW[e]??n)}function W0(i){return`${i}`}var Wa=class i{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new K1,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jW(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let t=n.fromObject[e],o=Array.isArray(t)?t.map(W0):[W0(t)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(t=>{let o=n[t];Array.isArray(o)?o.forEach(r=>{e.push({param:t,value:r,op:"a"})}):e.push({param:t,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(W0(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let t=this.map.get(n.param)||[],o=t.indexOf(W0(n.value));o!==-1&&t.splice(o,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var q1=class{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function zW(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function MF(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function kF(i){return typeof Blob<"u"&&i instanceof Blob}function NF(i){return typeof FormData<"u"&&i instanceof FormData}function WW(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var yf=class i{constructor(n,e,t,o){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase();let r;if(zW(this.method)||o?(this.body=t!==void 0?t:null,r=o):r=t,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new qo,this.context??=new q1,!this.params)this.params=new Wa,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||MF(this.body)||kF(this.body)||NF(this.body)||WW(this.body)?this.body:this.body instanceof Wa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NF(this.body)?null:kF(this.body)?this.body.type||null:MF(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Wa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(n={}){let e=n.method||this.method,t=n.url||this.url,o=n.responseType||this.responseType,r=n.transferCache??this.transferCache,s=n.body!==void 0?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress,c=n.headers||this.headers,u=n.params||this.params,g=n.context??this.context;return n.setHeaders!==void 0&&(c=Object.keys(n.setHeaders).reduce((_,C)=>_.set(C,n.setHeaders[C]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((_,C)=>_.set(C,n.setParams[C]),u)),new i(e,t,s,{params:u,headers:c,context:g,reportProgress:l,responseType:o,withCredentials:a,transferCache:r})}},Ps=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Ps||{}),Sf=class{constructor(n,e=200,t="OK"){this.headers=n.headers||new qo,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}},K0=class i extends Sf{constructor(n={}){super(n),this.type=Ps.ResponseHeader}clone(n={}){return new i({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Al=class i extends Sf{constructor(n={}){super(n),this.type=Ps.Response,this.body=n.body!==void 0?n.body:null}clone(n={}){return new i({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},yc=class extends Sf{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},HF=200,$W=204;function $1(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Mt=(()=>{class i{constructor(e){this.handler=e}request(e,t,o={}){let r;if(e instanceof yf)r=e;else{let l;o.headers instanceof qo?l=o.headers:l=new qo(o.headers);let c;o.params&&(o.params instanceof Wa?c=o.params:c=new Wa({fromObject:o.params})),r=new yf(e,t,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=mt(r).pipe(ra(l=>this.handler.handle(l)));if(e instanceof yf||o.observe==="events")return s;let a=s.pipe(No(l=>l instanceof Al));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(U(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(U(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(U(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new Wa().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,$1(o,t))}post(e,t,o={}){return this.request("POST",e,$1(o,t))}put(e,t,o={}){return this.request("PUT",e,$1(o,t))}static{this.\u0275fac=function(t){return new(t||i)(ie(wf))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),KW=/^\)\]\}',?\n/,qW="X-Request-URL";function VF(i){if(i.url)return i.url;let n=qW.toLocaleLowerCase();return i.headers.get(n)}var YW=(()=>{class i{constructor(){this.fetchImpl=Te(Y1,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=Te(It)}handle(e){return new Qt(t=>{let o=new AbortController;return this.doRequest(e,o.signal,t).then(J1,r=>t.error(new yc({error:r}))),()=>o.abort()})}doRequest(e,t,o){return he(this,null,function*(){let r=this.createRequestInit(e),s;try{let C=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,Q({signal:t},r)));JW(C),o.next({type:Ps.Sent}),s=yield C}catch(C){o.error(new yc({error:C,status:C.status??0,statusText:C.statusText,url:e.urlWithParams,headers:C.headers}));return}let a=new qo(s.headers),l=s.statusText,c=VF(s)??e.urlWithParams,u=s.status,g=null;if(e.reportProgress&&o.next(new K0({headers:a,status:u,statusText:l,url:c})),s.body){let C=s.headers.get("content-length"),w=[],S=s.body.getReader(),A=0,x,D,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>he(this,null,function*(){for(;;){let{done:ee,value:ae}=yield S.read();if(ee)break;if(w.push(ae),A+=ae.length,e.reportProgress){D=e.responseType==="text"?(D??"")+(x??=new TextDecoder).decode(ae,{stream:!0}):void 0;let me=()=>o.next({type:Ps.DownloadProgress,total:C?+C:void 0,loaded:A,partialText:D});V?V.run(me):me()}}}));let X=this.concatChunks(w,A);try{let ee=s.headers.get("Content-Type")??"";g=this.parseBody(e,X,ee)}catch(ee){o.error(new yc({error:ee,headers:new qo(s.headers),status:s.status,statusText:s.statusText,url:VF(s)??e.urlWithParams}));return}}u===0&&(u=g?HF:0),u>=200&&u<300?(o.next(new Al({body:g,headers:a,status:u,statusText:l,url:c})),o.complete()):o.error(new yc({error:g,headers:a,status:u,statusText:l,url:c}))})}parseBody(e,t,o){switch(e.responseType){case"json":let r=new TextDecoder().decode(t).replace(KW,"");return r===""?null:JSON.parse(r);case"text":return new TextDecoder().decode(t);case"blob":return new Blob([t],{type:o});case"arraybuffer":return t.buffer}}createRequestInit(e){let t={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((r,s)=>t[r]=s.join(",")),e.headers.has("Accept")||(t.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let r=e.detectContentTypeHeader();r!==null&&(t["Content-Type"]=r)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:o}}concatChunks(e,t){let o=new Uint8Array(t),r=0;for(let s of e)o.set(s,r),r+=s.length;return o}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),Y1=class{};function J1(){}function JW(i){i.then(J1,J1)}function GF(i,n){return n(i)}function XW(i,n){return(e,t)=>n.intercept(e,{handle:o=>i(o,t)})}function QW(i,n,e){return(t,o)=>Os(e,()=>n(t,r=>i(r,o)))}var ZW=new Pe(""),X1=new Pe(""),e$=new Pe(""),zF=new Pe("",{providedIn:"root",factory:()=>!0});function t$(){let i=null;return(n,e)=>{i===null&&(i=(Te(ZW,{optional:!0})??[]).reduceRight(XW,GF));let t=Te(Ua);if(Te(zF)){let r=t.add();return i(n,e).pipe(dc(()=>t.remove(r)))}else return i(n,e)}}var BF=(()=>{class i extends wf{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=Te(Ua),this.contributeToStability=Te(zF)}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(X1),...this.injector.get(e$,[])]));this.chain=t.reduceRight((o,r)=>QW(o,r,this.injector),GF)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(dc(()=>this.pendingTasks.remove(t)))}else return this.chain(e,t=>this.backend.handle(t))}static{this.\u0275fac=function(t){return new(t||i)(ie($0),ie(Dr))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var i$=/^\)\]\}',?\n/;function n$(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var UF=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new dt(-2800,!1);let t=this.xhrFactory;return(t.\u0275loadImpl?ln(t.\u0275loadImpl()):mt(null)).pipe(Vo(()=>new Qt(r=>{let s=t.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,A)=>s.setRequestHeader(S,A.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let S=e.detectContentTypeHeader();S!==null&&s.setRequestHeader("Content-Type",S)}if(e.responseType){let S=e.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let S=s.statusText||"OK",A=new qo(s.getAllResponseHeaders()),x=n$(s)||e.url;return l=new K0({headers:A,status:s.status,statusText:S,url:x}),l},u=()=>{let{headers:S,status:A,statusText:x,url:D}=c(),V=null;A!==$W&&(V=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=V?HF:0);let X=A>=200&&A<300;if(e.responseType==="json"&&typeof V=="string"){let ee=V;V=V.replace(i$,"");try{V=V!==""?JSON.parse(V):null}catch(ae){V=ee,X&&(X=!1,V={error:ae,text:V})}}X?(r.next(new Al({body:V,headers:S,status:A,statusText:x,url:D||void 0})),r.complete()):r.error(new yc({error:V,headers:S,status:A,statusText:x,url:D||void 0}))},g=S=>{let{url:A}=c(),x=new yc({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});r.error(x)},_=!1,C=S=>{_||(r.next(c()),_=!0);let A={type:Ps.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),e.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),r.next(A)},w=S=>{let A={type:Ps.UploadProgress,loaded:S.loaded};S.lengthComputable&&(A.total=S.total),r.next(A)};return s.addEventListener("load",u),s.addEventListener("error",g),s.addEventListener("timeout",g),s.addEventListener("abort",g),e.reportProgress&&(s.addEventListener("progress",C),a!==null&&s.upload&&s.upload.addEventListener("progress",w)),s.send(a),r.next({type:Ps.Sent}),()=>{s.removeEventListener("error",g),s.removeEventListener("abort",g),s.removeEventListener("load",u),s.removeEventListener("timeout",g),e.reportProgress&&(s.removeEventListener("progress",C),a!==null&&s.upload&&s.upload.removeEventListener("progress",w)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(t){return new(t||i)(ie(np))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),WF=new Pe(""),o$="XSRF-TOKEN",r$=new Pe("",{providedIn:"root",factory:()=>o$}),s$="X-XSRF-TOKEN",a$=new Pe("",{providedIn:"root",factory:()=>s$}),q0=class{},l$=(()=>{class i{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=j0(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(t){return new(t||i)(ie(ct),ie(Lt),ie(r$))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function c$(i,n){let e=i.url.toLowerCase();if(!Te(WF)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return n(i);let t=Te(q0).getToken(),o=Te(a$);return t!=null&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,t)})),n(i)}var $F=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}($F||{});function d$(i,n){return{\u0275kind:i,\u0275providers:n}}function u$e(...i){let n=[Mt,UF,BF,{provide:wf,useExisting:BF},{provide:$0,useFactory:()=>Te(YW,{optional:!0})??Te(UF)},{provide:X1,useValue:c$,multi:!0},{provide:WF,useValue:!0},{provide:q0,useClass:l$}];for(let e of i)n.push(...e.\u0275providers);return Xu(n)}var jF=new Pe("");function p$e(){return d$($F.LegacyInterceptors,[{provide:jF,useFactory:t$},{provide:X1,useExisting:jF,multi:!0}])}var eS=class extends V0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tS=class i extends eS{static makeCurrent(){wF(new i)}onAndCancel(n,e,t){return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=u$();return e==null?null:p$(e)}resetBaseElement(){Af=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return j0(document.cookie,n)}},Af=null;function u$(){return Af=Af||document.querySelector("base"),Af?Af.getAttribute("href"):null}function p$(i){return new URL(i,document.baseURI).pathname}var iS=class{addToWindow(n){sr.getAngularTestability=(t,o=!0)=>{let r=n.findTestabilityInTree(t,o);if(r==null)throw new dt(5103,!1);return r},sr.getAllAngularTestabilities=()=>n.getAllTestabilities(),sr.getAllAngularRootElements=()=>n.getAllRootElements();let e=t=>{let o=sr.getAllAngularTestabilities(),r=o.length,s=function(){r--,r==0&&t()};o.forEach(a=>{a.whenStable(s)})};sr.frameworkStabilizers||(sr.frameworkStabilizers=[]),sr.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,t){if(e==null)return null;let o=n.getTestability(e);return o??(t?Ga().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},h$=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),nS=new Pe(""),JF=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(r=>r.supports(e)),!t)throw new dt(5101,!1);return this._eventNameToPlugin.set(e,t),t}static{this.\u0275fac=function(t){return new(t||i)(ie(nS),ie(It))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),Y0=class{constructor(n){this._doc=n}},Q1="ng-app-id",XF=(()=>{class i{constructor(e,t,o,r={}){this.doc=e,this.appId=t,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=z0(r),this.resetHostNodes()}addStyles(e){for(let t of e)this.changeUsageCount(t,1)===1&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(let t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach(o=>o.remove()),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Q1}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach(o=>{o.textContent!=null&&t.set(o.textContent,o)}),t}return null}changeUsageCount(e,t){let o=this.styleRef;if(o.has(e)){let r=o.get(e);return r.usage+=t,r.usage}return o.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let o=this.styleNodesInDOM,r=o?.get(t);if(r?.parentNode===e)return o.delete(t),r.removeAttribute(Q1),r;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=t,this.platformIsServer&&s.setAttribute(Q1,this.appId),e.appendChild(s),s}}addStyleToHost(e,t){let o=this.getStyleElement(e,t),r=this.styleRef,s=r.get(t)?.elements;s?s.push(o):r.set(t,{elements:[o],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(t){return new(t||i)(ie(ct),ie(p0),ie(Xw,8),ie(Lt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),Z1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rS=/%COMP%/g,QF="%COMP%",f$=`_nghost-${QF}`,m$=`_ngcontent-${QF}`,g$=!0,_$=new Pe("",{providedIn:"root",factory:()=>g$});function C$(i){return m$.replace(rS,i)}function I$(i){return f$.replace(rS,i)}function ZF(i,n){return n.map(e=>e.replace(rS,i))}var KF=(()=>{class i{constructor(e,t,o,r,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=z0(a),this.defaultRenderer=new xf(e,s,l,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===La.ShadowDom&&(t=Ee(Q({},t),{encapsulation:La.Emulated}));let o=this.getOrCreateRenderer(e,t);return o instanceof J0?o.applyToHost(e):o instanceof Ef&&o.applyStyles(),o}getOrCreateRenderer(e,t){let o=this.rendererByCompId,r=o.get(t.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(t.encapsulation){case La.Emulated:r=new J0(l,c,t,this.appId,u,s,a,g);break;case La.ShadowDom:return new oS(l,c,e,t,s,a,this.nonce,g);default:r=new Ef(l,c,t,u,s,a,g);break}o.set(t.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(t){return new(t||i)(ie(JF),ie(XF),ie(p0),ie(_$),ie(ct),ie(Lt),ie(It),ie(Xw))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),xf=class{constructor(n,e,t,o){this.eventManager=n,this.doc=e,this.ngZone=t,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Z1[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(qF(n)?n.content:n).appendChild(e)}insertBefore(n,e,t){n&&(qF(n)?n.content:n).insertBefore(e,t)}removeChild(n,e){e.remove()}selectRootElement(n,e){let t=typeof n=="string"?this.doc.querySelector(n):n;if(!t)throw new dt(-5104,!1);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,o){if(o){e=o+":"+e;let r=Z1[o];r?n.setAttributeNS(r,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){let o=Z1[t];o?n.removeAttributeNS(o,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,o){o&(Va.DashCase|Va.Important)?n.style.setProperty(e,t,o&Va.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&Va.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n!=null&&(n[e]=t)}setValue(n,e){n.nodeValue=e}listen(n,e,t){if(typeof n=="string"&&(n=Ga().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(t))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function qF(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var oS=class extends xf{constructor(n,e,t,o,r,s,a,l){super(n,r,s,l),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=ZF(o.id,o.styles);for(let u of c){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=u,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ef=class extends xf{constructor(n,e,t,o,r,s,a,l){super(n,r,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=l?ZF(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},J0=class extends Ef{constructor(n,e,t,o,r,s,a,l){let c=o+"-"+t.id;super(n,e,t,r,s,a,l,c),this.contentAttr=C$(c),this.hostAttr=I$(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}},v$=(()=>{class i extends Y0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}static{this.\u0275fac=function(t){return new(t||i)(ie(ct))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),YF=["alt","control","meta","shift"],b$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y$={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},w$=(()=>{class i extends Y0{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,t,o){let r=i.parseEventName(t),s=i.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ga().onAndCancel(e,r.domEventName,s))}static parseEventName(e){let t=e.toLowerCase().split("."),o=t.shift();if(t.length===0||!(o==="keydown"||o==="keyup"))return null;let r=i._normalizeKey(t.pop()),s="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),s="code."),YF.forEach(c=>{let u=t.indexOf(c);u>-1&&(t.splice(u,1),s+=c+".")}),s+=r,t.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,t){let o=b$[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),YF.forEach(s=>{if(s!==o){let a=y$[s];a(e)&&(r+=s+".")}}),r+=o,r===t)}static eventCallback(e,t,o){return r=>{i.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>t(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(t){return new(t||i)(ie(ct))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function S$(){tS.makeCurrent()}function A$(){return new Na}function x$(){return MD(document),document}var E$=[{provide:Lt,useValue:W1},{provide:Jw,useValue:S$,multi:!0},{provide:ct,useFactory:x$,deps:[]}],x$e=x1(dF,"browser",E$),T$=new Pe(""),O$=[{provide:_f,useClass:iS,deps:[]},{provide:w1,useClass:A0,deps:[It,x0,_f]},{provide:A0,useClass:A0,deps:[It,x0,_f]}],R$=[{provide:Q_,useValue:"root"},{provide:Na,useFactory:A$,deps:[]},{provide:nS,useClass:v$,multi:!0,deps:[ct,It,Lt]},{provide:nS,useClass:w$,multi:!0,deps:[ct]},KF,XF,JF,{provide:$u,useExisting:KF},{provide:np,useClass:h$,deps:[]},[]],E$e=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:p0,useValue:e.appId}]}}static{this.\u0275fac=function(t){return new(t||i)(ie(T$,12))}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({providers:[...R$,...O$],imports:[Be,uF]})}}return i})();var eL=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(t){return new(t||i)(ie(ct))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ha=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:function(t){let o=null;return t?o=new(t||i):o=ie(D$),o},providedIn:"root"})}}return i})(),D$=(()=>{class i extends ha{constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case ds.NONE:return t;case ds.HTML:return gl(t,"HTML")?cs(t):Zw(this._doc,String(t)).toString();case ds.STYLE:return gl(t,"Style")?cs(t):t;case ds.SCRIPT:if(gl(t,"Script"))return cs(t);throw new dt(5200,!1);case ds.URL:return gl(t,"URL")?cs(t):f0(String(t));case ds.RESOURCE_URL:if(gl(t,"ResourceURL"))return cs(t);throw new dt(5201,!1);default:throw new dt(5202,!1)}}bypassSecurityTrustHtml(e){return BD(e)}bypassSecurityTrustStyle(e){return UD(e)}bypassSecurityTrustScript(e){return jD(e)}bypassSecurityTrustUrl(e){return HD(e)}bypassSecurityTrustResourceUrl(e){return GD(e)}static{this.\u0275fac=function(t){return new(t||i)(ie(ct))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var $a=function(i){return i.script="script",i.docker="docker",i.pkg="pkg",i}($a||{});var sp={fwcAppURL:new URL(window.location.href).origin+"/api",fwcAppDocsURL:new URL(window.location.href).origin+"/manual",fwcConsoleLogs:!1,checkUpdates:!0,installMethod:void 0},de=(()=>{class i{constructor(e){this.httpClient=e}static loadConfig(){let e="assets/config/config.json";return new Promise((t,o)=>{let r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET",e,!0),r.onreadystatechange=()=>{if(r.readyState===4){if(i.settings=Object.assign({},sp),r.status===200){try{i.settings=JSON.parse(r.responseText)}catch{}i.settings.fwcAppURL||(i.settings.fwcAppURL=sp.fwcAppURL),i.settings.fwcConsoleLogs||(i.settings.fwcConsoleLogs=sp.fwcConsoleLogs),i.settings.checkUpdates===void 0&&(i.settings.checkUpdates=sp.checkUpdates),i.settings.fwcAppDocsURL===void 0&&(i.settings.fwcAppDocsURL=sp.fwcAppDocsURL),i.settings.installMethod!=null&&!(i.settings.installMethod in $a)&&(i.settings.installMethod=sp.installMethod),t()}if(i.settings.fwcAppURL=i.settings.fwcAppURL.trim(),/^\/\w+$/.exec(i.settings.fwcAppURL)){let s=new URL(window.location.href);i.settings.fwcAppURL=s.origin+i.settings.fwcAppURL}try{new URL(i.settings.fwcAppURL)}catch{return o("Invalid backend URL in configuration file "+e)}i.log("API URL: ",i.settings.fwcAppURL),t()}},r.send(null)})}static log(...e){e.unshift("[ FWCLOUD LOG "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.log.apply(this,e)}static error(...e){e.unshift("[ FWCLOUD ERROR "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.error.apply(this,e)}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var cL=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(t){return new(t||i)(v(wt),v(Le))}}static{this.\u0275dir=lt({type:i})}}return i})(),aC=(()=>{class i extends cL{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,features:[fe]})}}return i})(),Vi=new Pe("");var P$={provide:Vi,useExisting:Dt(()=>Wi),multi:!0};function F$(){let i=Ga()?Ga().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var L$=new Pe(""),Wi=(()=>{class i extends cL{constructor(e,t,o){super(e,t),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!F$())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(t){return new(t||i)(v(wt),v(Le),v(L$,8))}}static{this.\u0275dir=lt({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){t&1&&R("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[Ge([P$]),fe]})}}return i})();function wc(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function dL(i){return i!=null&&typeof i.length=="number"}var Fs=new Pe(""),zd=new Pe(""),M$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ne=class{static min(n){return uL(n)}static max(n){return pL(n)}static required(n){return hL(n)}static requiredTrue(n){return k$(n)}static email(n){return N$(n)}static minLength(n){return V$(n)}static maxLength(n){return fL(n)}static pattern(n){return mL(n)}static nullValidator(n){return Q0(n)}static compose(n){return bL(n)}static composeAsync(n){return yL(n)}};function uL(i){return n=>{if(wc(n.value)||wc(i))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function pL(i){return n=>{if(wc(n.value)||wc(i))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}function hL(i){return wc(i.value)?{required:!0}:null}function k$(i){return i.value===!0?null:{required:!0}}function N$(i){return wc(i.value)||M$.test(i.value)?null:{email:!0}}function V$(i){return n=>wc(n.value)||!dL(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}function fL(i){return n=>dL(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function mL(i){if(!i)return Q0;let n,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),t=>{if(wc(t.value))return null;let o=t.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function Q0(i){return null}function gL(i){return i!=null}function _L(i){return vc(i)?ln(i):i}function CL(i){let n={};return i.forEach(e=>{n=e!=null?Q(Q({},n),e):n}),Object.keys(n).length===0?null:n}function IL(i,n){return n.map(e=>e(i))}function B$(i){return!i.validate}function vL(i){return i.map(n=>B$(n)?n:e=>n.validate(e))}function bL(i){if(!i)return null;let n=i.filter(gL);return n.length==0?null:function(e){return CL(IL(e,n))}}function dS(i){return i!=null?bL(vL(i)):null}function yL(i){if(!i)return null;let n=i.filter(gL);return n.length==0?null:function(e){let t=IL(e,n).map(_L);return Kh(t).pipe(U(CL))}}function uS(i){return i!=null?yL(vL(i)):null}function tL(i,n){return i===null?[n]:Array.isArray(i)?[...i,n]:[i,n]}function wL(i){return i._rawValidators}function SL(i){return i._rawAsyncValidators}function sS(i){return i?Array.isArray(i)?i:[i]:[]}function Z0(i,n){return Array.isArray(i)?i.includes(n):i===n}function iL(i,n){let e=sS(n);return sS(i).forEach(o=>{Z0(e,o)||e.push(o)}),e}function nL(i,n){return sS(n).filter(e=>!Z0(i,e))}var eC=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=dS(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=uS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Fr=class extends eC{get formDirective(){return null}get path(){return null}},cr=class extends eC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tC=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},U$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},K$e=Ee(Q({},U$),{"[class.ng-submitted]":"isSubmitted"}),Gi=(()=>{class i extends tC{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||i)(v(cr,2))}}static{this.\u0275dir=lt({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){t&2&&Xi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[fe]})}}return i})(),Hn=(()=>{class i extends tC{constructor(e){super(e)}static{this.\u0275fac=function(t){return new(t||i)(v(Fr,10))}}static{this.\u0275dir=lt({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){t&2&&Xi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[fe]})}}return i})();var Tf="VALID",X0="INVALID",ap="PENDING",Of="DISABLED",Sc=class{},iC=class extends Sc{constructor(n,e){super(),this.value=n,this.source=e}},Df=class extends Sc{constructor(n,e){super(),this.pristine=n,this.source=e}},Pf=class extends Sc{constructor(n,e){super(),this.touched=n,this.source=e}},lp=class extends Sc{constructor(n,e){super(),this.status=n,this.source=e}},aS=class extends Sc{constructor(n){super(),this.source=n}},lS=class extends Sc{constructor(n){super(),this.source=n}};function pS(i){return(lC(i)?i.validators:i)||null}function j$(i){return Array.isArray(i)?dS(i):i||null}function hS(i,n){return(lC(n)?n.asyncValidators:i)||null}function H$(i){return Array.isArray(i)?uS(i):i||null}function lC(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function AL(i,n,e){let t=i.controls;if(!(n?Object.keys(t):t).length)throw new dt(1e3,"");if(!t[e])throw new dt(1001,"")}function xL(i,n,e){i._forEachChild((t,o)=>{if(e[o]===void 0)throw new dt(1002,"")})}var dp=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=to(()=>this.statusReactive()),this.statusReactive=ui(void 0),this._pristine=to(()=>this.pristineReactive()),this.pristineReactive=ui(!0),this._touched=to(()=>this.touchedReactive()),this.touchedReactive=ui(!1),this._events=new Ae,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return hs(this.statusReactive)}set status(n){hs(()=>this.statusReactive.set(n))}get valid(){return this.status===Tf}get invalid(){return this.status===X0}get pending(){return this.status==ap}get disabled(){return this.status===Of}get enabled(){return this.status!==Of}get pristine(){return hs(this.pristineReactive)}set pristine(n){hs(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return hs(this.touchedReactive)}set touched(n){hs(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(iL(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(iL(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(nL(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(nL(n,this._rawAsyncValidators))}hasValidator(n){return Z0(this._rawValidators,n)}hasAsyncValidator(n){return Z0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Ee(Q({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new Pf(!0,t))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:t})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t),e&&n.emitEvent!==!1&&this._events.next(new Pf(!1,t))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Ee(Q({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new Df(!1,t))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),e&&n.emitEvent!==!1&&this._events.next(new Df(!0,t))}markAsPending(n={}){this.status=ap;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new lp(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Ee(Q({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Of,this.errors=null,this._forEachChild(o=>{o.disable(Ee(Q({},n),{onlySelf:!0}))}),this._updateValue();let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new iC(this.value,t)),this._events.next(new lp(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(Q({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Tf,this._forEachChild(t=>{t.enable(Ee(Q({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Ee(Q({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tf||this.status===ap)&&this._runAsyncValidator(t,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new iC(this.value,e)),this._events.next(new lp(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Ee(Q({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Of:Tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=ap,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let t=_L(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,o)=>t&&t._find(o),this)}getError(n,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,t){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||t)&&this._events.next(new lp(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,t)}_initObservables(){this.valueChanges=new W,this.statusChanges=new W}_calculateStatus(){return this._allControlsDisabled()?Of:this.errors?X0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ap)?ap:this._anyControlsHaveStatus(X0)?X0:Tf}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let t=!this._anyControlsDirty(),o=this.pristine!==t;this.pristine=t,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new Df(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Pf(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){lC(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=j$(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=H$(this._rawAsyncValidators)}},Gd=class extends dp{constructor(n,e,t){super(pS(e),hS(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){xL(this,!0,n),Object.keys(n).forEach(t=>{AL(this,!0,t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(t=>{let o=this.controls[t];o&&o.patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,o)=>{t.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&n(t))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(n,e){let t=n;return this._forEachChild((o,r)=>{t=e(t,o,r)}),t}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var Ho=Gd;var cS=class extends Gd{};var up=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>cC}),cC="always";function dC(i,n){return[...n.path,i]}function Ff(i,n,e=cC){fS(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(i.disabled),z$(i,n),$$(i,n),W$(i,n),G$(i,n)}function nC(i,n,e=!0){let t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),rC(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function oC(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function G$(i,n){if(n.valueAccessor.setDisabledState){let e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function fS(i,n){let e=wL(i);n.validator!==null?i.setValidators(tL(e,n.validator)):typeof e=="function"&&i.setValidators([e]);let t=SL(i);n.asyncValidator!==null?i.setAsyncValidators(tL(t,n.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let o=()=>i.updateValueAndValidity();oC(n._rawValidators,o),oC(n._rawAsyncValidators,o)}function rC(i,n){let e=!1;if(i!==null){if(n.validator!==null){let o=wL(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.validator);r.length!==o.length&&(e=!0,i.setValidators(r))}}if(n.asyncValidator!==null){let o=SL(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.asyncValidator);r.length!==o.length&&(e=!0,i.setAsyncValidators(r))}}}let t=()=>{};return oC(n._rawValidators,t),oC(n._rawAsyncValidators,t),e}function z$(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&EL(i,n)})}function W$(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&EL(i,n),i.updateOn!=="submit"&&i.markAsTouched()})}function EL(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function $$(i,n){let e=(t,o)=>{n.valueAccessor.writeValue(t),o&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function TL(i,n){i==null,fS(i,n)}function K$(i,n){return rC(i,n)}function mS(i,n){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function q$(i){return Object.getPrototypeOf(i.constructor)===aC}function OL(i,n){i._syncPendingControls(),n.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function gS(i,n){if(!n)return null;Array.isArray(n);let e,t,o;return n.forEach(r=>{r.constructor===Wi?e=r:q$(r)?t=r:o=r}),o||t||e||null}function Y$(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}var J$={provide:Fr,useExisting:Dt(()=>_S)},Rf=Promise.resolve(),_S=(()=>{class i extends Fr{get submitted(){return hs(this.submittedReactive)}constructor(e,t,o){super(),this.callSetDisabledState=o,this._submitted=to(()=>this.submittedReactive()),this.submittedReactive=ui(!1),this._directives=new Set,this.ngSubmit=new W,this.form=new Gd({},dS(e),uS(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Rf.then(()=>{let t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Ff(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Rf.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Rf.then(()=>{let t=this._findContainer(e.path),o=new Gd({});TL(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Rf.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Rf.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),OL(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(t){return new(t||i)(v(Fs,10),v(zd,10),v(up,8))}}static{this.\u0275dir=lt({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){t&1&&R("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([J$]),fe]})}}return i})();function oL(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function rL(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var cp=class extends dp{constructor(n=null,e,t){super(pS(e),hS(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(rL(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){oL(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){oL(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){rL(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},_e=cp,X$=i=>i instanceof cp,Q$=(()=>{class i extends Fr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,features:[fe]})}}return i})();var Z$={provide:cr,useExisting:Dt(()=>wn)},sL=Promise.resolve(),wn=(()=>{class i extends cr{constructor(e,t,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cp,this._registered=!1,this.name="",this.update=new W,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=gS(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ff(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){sL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,o=t!==0&&j(t);sL.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?dC(e,this._parent):[e]}static{this.\u0275fac=function(t){return new(t||i)(v(Fr,9),v(Fs,10),v(zd,10),v(Vi,10),v(pe,8),v(up,8))}}static{this.\u0275dir=lt({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([Z$]),fe,ki]})}}return i})(),Gn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=lt({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),eK={provide:Vi,useExisting:Dt(()=>Wd),multi:!0},Wd=(()=>{class i extends aC{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){t&1&&R("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},features:[Ge([eK]),fe]})}}return i})();var CS=new Pe(""),tK={provide:cr,useExisting:Dt(()=>IS)},IS=(()=>{class i extends cr{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,t,o,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this.update=new W,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=gS(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&nC(t,this,!1),Ff(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(t){return new(t||i)(v(Fs,10),v(zd,10),v(Vi,10),v(CS,8),v(up,8))}}static{this.\u0275dir=lt({type:i,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ge([tK]),fe,ki]})}}return i})(),iK={provide:Fr,useExisting:Dt(()=>zn)},zn=(()=>{class i extends Fr{get submitted(){return hs(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,t,o){super(),this.callSetDisabledState=o,this._submitted=to(()=>this._submittedReactive()),this._submittedReactive=ui(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new W,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return Ff(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){nC(e.control||null,e,!1),Y$(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),OL(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new aS(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new lS(this.form))}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,o=this.form.get(e.path);t!==o&&(nC(t||null,e),X$(o)&&(Ff(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);TL(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&K$(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fS(this.form,this),this._oldForm&&rC(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(t){return new(t||i)(v(Fs,10),v(zd,10),v(up,8))}}static{this.\u0275dir=lt({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){t&1&&R("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([iK]),fe,ki]})}}return i})(),nK={provide:Fr,useExisting:Dt(()=>RL)},RL=(()=>{class i extends Q${constructor(e,t,o){super(),this.name=null,this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}_checkParentType(){DL(this._parent)}static{this.\u0275fac=function(t){return new(t||i)(v(Fr,13),v(Fs,10),v(zd,10))}}static{this.\u0275dir=lt({type:i,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Ge([nK]),fe]})}}return i})(),oK={provide:Fr,useExisting:Dt(()=>Lf)},Lf=(()=>{class i extends Fr{constructor(e,t,o){super(),this.name=null,this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dC(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){DL(this._parent)}static{this.\u0275fac=function(t){return new(t||i)(v(Fr,13),v(Fs,10),v(zd,10))}}static{this.\u0275dir=lt({type:i,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Ge([oK]),fe]})}}return i})();function DL(i){return!(i instanceof RL)&&!(i instanceof zn)&&!(i instanceof Lf)}var rK={provide:cr,useExisting:Dt(()=>io)},io=(()=>{class i extends cr{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,t,o,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new W,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=gS(this,r)}ngOnChanges(e){this._added||this._setUpControl(),mS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return dC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(t){return new(t||i)(v(Fr,13),v(Fs,10),v(zd,10),v(Vi,10),v(CS,8))}}static{this.\u0275dir=lt({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([rK]),fe,ki]})}}return i})(),sK={provide:Vi,useExisting:Dt(()=>Ka),multi:!0};function PL(i,n){return i==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${i}: ${n}`.slice(0,50))}function aK(i){return i.split(":")[0]}var Ka=(()=>{class i extends aC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t=this._getOptionId(e),o=PL(t,e);this.setProperty("value",o)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){let t=aK(e);return this._optionMap.has(t)?this._optionMap.get(t):e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){t&1&&R("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ge([sK]),fe]})}}return i})(),Ac=(()=>{class i{constructor(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(PL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(Ka,9))}}static{this.\u0275dir=lt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),lK={provide:Vi,useExisting:Dt(()=>FL),multi:!0};function aL(i,n){return i==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${i}: ${n}`.slice(0,50))}function cK(i){return i.split(":")[0]}var FL=(()=>{class i extends aC{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let t;if(Array.isArray(e)){let o=e.map(r=>this._getOptionId(r));t=(r,s)=>{r._setSelected(o.indexOf(s.toString())>-1)}}else t=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{let o=[],r=t.selectedOptions;if(r!==void 0){let s=r;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=t.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){let t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(let t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){let t=cK(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){t&1&&R("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ge([lK]),fe]})}}return i})(),xc=(()=>{class i{constructor(e,t,o){this._element=e,this._renderer=t,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(aL(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(aL(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(FL,9))}}static{this.\u0275dir=lt({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function dK(i){return typeof i=="number"?i:parseInt(i,10)}function LL(i){return typeof i=="number"?i:parseFloat(i)}var Mf=(()=>{class i{constructor(){this._validator=Q0}ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):Q0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=lt({type:i,features:[ki]})}}return i})(),uK={provide:Fs,useExisting:Dt(()=>vS),multi:!0},vS=(()=>{class i extends Mf{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>LL(e),this.createValidator=e=>pL(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&M("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[Ge([uK]),fe]})}}return i})(),pK={provide:Fs,useExisting:Dt(()=>bS),multi:!0},bS=(()=>{class i extends Mf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>LL(e),this.createValidator=e=>uL(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&M("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[Ge([pK]),fe]})}}return i})(),hK={provide:Fs,useExisting:Dt(()=>kf),multi:!0};var kf=(()=>{class i extends Mf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=j,this.createValidator=e=>hL}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){t&2&&M("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ge([hK]),fe]})}}return i})();var fK={provide:Fs,useExisting:Dt(()=>Ao),multi:!0},Ao=(()=>{class i extends Mf{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>dK(e),this.createValidator=e=>fL(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&M("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ge([fK]),fe]})}}return i})(),mK={provide:Fs,useExisting:Dt(()=>yS),multi:!0},yS=(()=>{class i extends Mf{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>mL(e)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275dir=lt({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&M("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},features:[Ge([mK]),fe]})}}return i})();var ML=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})(),sC=class extends dp{constructor(n,e,t){super(pS(e),hS(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,t={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(n,e={}){let t=this._adjustIndex(n);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){xL(this,!1,n),n.forEach((t,o)=>{AL(this,!1,o),this.at(o).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((t,o)=>{this.at(o)&&this.at(o).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((t,o)=>{t.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,t)=>{n(e,t)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}},fa=sC;function lL(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var gK=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,t=null){let o=this._reduceControls(e),r={};return lL(t)?r=t:t!==null&&(r.validators=t.validator,r.asyncValidators=t.asyncValidator),new Gd(o,r)}record(e,t=null){let o=this._reduceControls(e);return new cS(o,t)}control(e,t,o){let r={};return this.useNonNullable?(lL(t)?r=t:(r.validators=t,r.asyncValidators=o),new cp(e,Ee(Q({},r),{nonNullable:!0}))):new cp(e,t,o)}array(e,t,o){let r=e.map(s=>this._createControl(s));return new sC(r,t,o)}_reduceControls(e){let t={};return Object.keys(e).forEach(o=>{t[o]=this._createControl(e[o])}),t}_createControl(e){if(e instanceof cp)return e;if(e instanceof dp)return e;if(Array.isArray(e)){let t=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,o,r)}else return this.control(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ao=(()=>{class i extends gK{group(e,t=null){return super.group(e,t)}control(e,t,o){return super.control(e,t,o)}array(e,t,o){return super.array(e,t,o)}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ec=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:up,useValue:e.callSetDisabledState??cC}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({imports:[ML]})}}return i})(),wS=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:CS,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:up,useValue:e.callSetDisabledState??cC}]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({imports:[ML]})}}return i})();var Nf=function(i){return i[i.FWACTION_ACCEPT=1]="FWACTION_ACCEPT",i[i.FWACTION_DENY=2]="FWACTION_DENY",i[i.FWACTION_REJECT=3]="FWACTION_REJECT",i[i.FWACTION_ACCOUNTING=4]="FWACTION_ACCOUNTING",i}(Nf||{}),J$e=(()=>{class i{constructor(){this.fwActions=[{id:Nf.FWACTION_DENY,text:"Deny",icon:"&#x270B;",FAicon:"&#xf256;",iconClass:"fa fa-fw fa-hand fwcRed"},{id:Nf.FWACTION_ACCEPT,text:"Accept",icon:"&#x2705;",FAicon:"&#xf00c;",iconClass:"fa fa-fw fa-check fwcBlue"},{id:Nf.FWACTION_REJECT,text:"Reject",icon:"&#x274C;",FAicon:"&#xf00d;",iconClass:"fa fa-fw fa-times fwcRed"},{id:Nf.FWACTION_ACCOUNTING,text:"Accounting",icon:"&#x270D;",FAicon:"&#xf040;",iconClass:"fa fa-fw fa-pencil fwcBlue",disabledOnSpecial:!0}],this.fwActionsItems=this.buildActionsItems(),this.fwActionsItemsSpecial=this.buildActionsItems(1)}getActions(){return this.fwActions}getActionsItems(e){return e?this.fwActionsItemsSpecial:this.fwActionsItems}buildActionsItems(e){let t=[];return this.fwActions.forEach(o=>{(!e||!o.disabledOnSpecial)&&t.push({label:o.text,value:o.id,icon:o.iconClass})}),t}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var pp=class{},kL=(()=>{class i extends pp{getTranslation(e){return mt({})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),Bf=class{},NL=(()=>{class i{handle(e){return e.key}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})();function pC(i,n){if(i===n)return!0;if(i===null||n===null)return!1;if(i!==i&&n!==n)return!0;let e=typeof i,t=typeof n,o,r,s;if(e==t&&e=="object")if(Array.isArray(i)){if(!Array.isArray(n))return!1;if((o=i.length)==n.length){for(r=0;r<o;r++)if(!pC(i[r],n[r]))return!1;return!0}}else{if(Array.isArray(n))return!1;s=Object.create(null);for(r in i){if(!pC(i[r],n[r]))return!1;s[r]=!0}for(r in n)if(!(r in s)&&typeof n[r]<"u")return!1;return!0}return!1}function Tc(i){return typeof i<"u"&&i!==null}function Uf(i){return uC(i)&&!RS(i)}function uC(i){return typeof i=="object"}function RS(i){return Array.isArray(i)}function DS(i){return typeof i=="string"}function _K(i){return typeof i=="function"}function SS(i,n){let e=Object.assign({},i);return uC(i)?(uC(i)&&uC(n)&&Object.keys(n).forEach(t=>{Uf(n[t])?t in i?e[t]=SS(i[t],n[t]):Object.assign(e,{[t]:n[t]}):Object.assign(e,{[t]:n[t]})}),e):SS({},n)}function AS(i,n){let e=n.split(".");n="";do n+=e.shift(),Tc(i)&&Tc(i[n])&&(Uf(i[n])||RS(i[n])||!e.length)?(i=i[n],n=""):e.length?n+=".":i=void 0;while(e.length);return i}function CK(i,n,e){let t=n.split("."),o=i;for(let r=0;r<t.length;r++){let s=t[r];r===t.length-1?o[s]=e:((!o[s]||!Uf(o[s]))&&(o[s]={}),o=o[s])}}var hp=class{},VL=(()=>{class i extends hp{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(DS(e))return this.interpolateString(e,t);if(_K(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(o,r)=>{let s=AS(t,r);return Tc(s)?s:o}):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),fp=class{},BL=(()=>{class i extends fp{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),hC=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new W;onLangChange=new W;onDefaultLangChange=new W},xS=new Pe("ISOALTE_TRANSLATE_SERVICE"),ES=new Pe("USE_DEFAULT_LANG"),TS=new Pe("DEFAULT_LANGUAGE"),OS=new Pe("USE_EXTEND"),Vf=i=>ll(i)?i:mt(i),je=(()=>{class i{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new W;_onLangChange=new W;_onDefaultLangChange=new W;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,t,o,r,s,a=!0,l=!1,c=!1,u){this.store=e,this.currentLoader=t,this.compiler=o,this.parser=r,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=c,u&&this.setDefaultLang(u)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(this.defaultLang==null&&(this.defaultLang=e),t.pipe(rr(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return mt(this.translations[e]);this.currentLang||(this.currentLang=e);let t=this.retrieveTranslations(e);return ll(t)?(t.pipe(rr(1)).subscribe(()=>{this.changeLang(e)}),t):(this.changeLang(e),mt(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(Du(1),rr(1));return this.loadingTranslations=t.pipe(U(o=>this.compiler.compileTranslations(o,e)),Du(1),rr(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[e]=this.extend&&this.translations[e]?Q(Q({},o),this.translations[e]):o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),t}setTranslation(e,t,o=!1){let r=this.compiler.compileTranslations(t,e);(o||this.extend)&&this.translations[e]?this.translations[e]=SS(this.translations[e],r):this.translations[e]=r,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{this.langs.indexOf(t)===-1&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,t,o){let r;if(e&&(r=this.runInterpolation(AS(e,t),o)),r===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.runInterpolation(AS(this.translations[this.defaultLang],t),o)),r===void 0){let s={key:t,translateService:this};typeof o<"u"&&(s.interpolateParams=o),r=this.missingTranslationHandler.handle(s)}return r!==void 0?r:t}runInterpolation(e,t){if(RS(e))return e.map(o=>this.runInterpolation(o,t));if(Uf(e)){let o={};for(let r in e)o[r]=this.runInterpolation(e[r],t);return o}else return this.parser.interpolate(e,t)}getParsedResult(e,t,o){if(t instanceof Array){let r={},s=!1;for(let l of t)r[l]=this.getParsedResultForKey(e,l,o),s=s||ll(r[l]);if(!s)return r;let a=t.map(l=>Vf(r[l]));return Kh(a).pipe(U(l=>{let c={};return l.forEach((u,g)=>{c[t[g]]=u}),c}))}return this.getParsedResultForKey(e,t,o)}get(e,t){if(!Tc(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ra(o=>Vf(this.getParsedResult(o,e,t)))):Vf(this.getParsedResult(this.translations[this.currentLang],e,t))}getStreamOnTranslationChange(e,t){if(!Tc(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return na(Sd(()=>this.get(e,t)),this.onTranslationChange.pipe(Vo(o=>{let r=this.getParsedResult(o.translations,e,t);return Vf(r)})))}stream(e,t){if(!Tc(e)||!e.length)throw new Error('Parameter "key" required');return na(Sd(()=>this.get(e,t)),this.onLangChange.pipe(Vo(o=>{let r=this.getParsedResult(o.translations,e,t);return Vf(r)})))}instant(e,t){if(!Tc(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let o=this.getParsedResult(this.translations[this.currentLang],e,t);return ll(o)?Array.isArray(e)?e.reduce((r,s)=>(r[s]=s,r),{}):e:o}set(e,t,o=this.currentLang){CK(this.translations[o],e,DS(t)?this.compiler.compile(t,o):this.compiler.compileTranslations(t,o)),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(t){return new(t||i)(ie(hC),ie(pp),ie(fp),ie(hp),ie(Bf),ie(ES),ie(xS),ie(OS),ie(TS))};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ht=(()=>{class i{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,t){this.translate=e,this._ref=t}updateValue(e,t,o){let r=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(o){let s=this.translate.getParsedResult(o,e,t);ll(s)?s.subscribe(r):r(s)}this.translate.get(e,t).subscribe(r)}transform(e,...t){if(!e||!e.length)return e;if(pC(e,this.lastKey)&&pC(t,this.lastParams))return this.value;let o;if(Tc(t[0])&&t.length)if(DS(t[0])&&t[0].length){let r=t[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{o=JSON.parse(r)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else Uf(t[0])&&(o=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{this.lastKey&&r.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||i)(v(je,16),v(pe,16))};static \u0275pipe=xn({name:"translate",type:i,pure:!1,standalone:!0});static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})();var UL=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[e.loader||{provide:pp,useClass:kL},e.compiler||{provide:fp,useClass:BL},e.parser||{provide:hp,useClass:VL},e.missingTranslationHandler||{provide:Bf,useClass:NL},hC,{provide:xS,useValue:e.isolate},{provide:ES,useValue:e.useDefaultLang},{provide:OS,useValue:e.extend},{provide:TS,useValue:e.defaultLanguage},je]}}static forChild(e={}){return{ngModule:i,providers:[e.loader||{provide:pp,useClass:kL},e.compiler||{provide:fp,useClass:BL},e.parser||{provide:hp,useClass:VL},e.missingTranslationHandler||{provide:Bf,useClass:NL},{provide:xS,useValue:e.isolate},{provide:ES,useValue:e.useDefaultLang},{provide:OS,useValue:e.extend},{provide:TS,useValue:e.defaultLanguage},je]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})();var mp={name:"prod",production:!0,VERSION:jL().version,socketDebug:!1};var le=class i{static isArray(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}static isObject(n,e=!0){return typeof n=="object"&&!Array.isArray(n)&&n!=null&&(e||Object.keys(n).length!==0)}static equals(n,e,t){return t?this.resolveFieldData(n,t)===this.resolveFieldData(e,t):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),o=Array.isArray(e),r,s,a;if(t&&o){if(s=n.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!this.equalsByValue(n[r],e[r]))return!1;return!0}if(t!=o)return!1;var l=this.isDate(n),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var u=n instanceof RegExp,g=e instanceof RegExp;if(u!=g)return!1;if(u&&g)return n.toString()==e.toString();var _=Object.keys(n);if(s=_.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,_[r]))return!1;for(r=s;r--!==0;)if(a=_[r],!this.equalsByValue(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(e.indexOf(".")==-1)return n[e];{let t=e.split("."),o=n;for(let r=0,s=t.length;r<s;++r){if(o==null)return null;o=o[t[r]]}return o}}else return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,t){let o;n&&e!==t&&(t>=n.length&&(t%=n.length,e%=n.length),n.splice(t,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,t,o){if(t.length>0){let r=!1;for(let s=0;s<t.length;s++)if(this.findIndexInList(t[s],o)>e){t.splice(s,0,n),r=!0;break}r||t.push(n)}else t.push(n)}static findIndexInList(n,e){let t=-1;if(e){for(let o=0;o<e.length;o++)if(e[o]==n){t=o;break}}return t}static contains(n,e){if(n!=null&&e&&e.length){for(let t of e)if(this.equals(n,t))return!0}return!1}static removeAccents(n){return n&&(n=n.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),n}static isDate(n){return Object.prototype.toString.call(n)==="[object Date]"}static isEmpty(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!this.isDate(n)&&typeof n=="object"&&Object.keys(n).length===0}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,e,t,o=1){let r=-1,s=this.isEmpty(n),a=this.isEmpty(e);return s&&a?r=0:s?r=o:a?r=-o:typeof n=="string"&&typeof e=="string"?r=n.localeCompare(e,t,{numeric:!0}):r=n<e?-1:n>e?1:0,r}static sort(n,e,t=1,o,r=1){let s=i.compare(n,e,o,t),a=t;return(i.isEmpty(n)||i.isEmpty(e))&&(a=r===1?t:r),a*s}static merge(n,e){if(!(n==null&&e==null)){{if((n==null||typeof n=="object")&&(e==null||typeof e=="object"))return Q(Q({},n||{}),e||{});if((n==null||typeof n=="string")&&(e==null||typeof e=="string"))return[n||"",e||""].join(" ")}return e||n}}static isPrintableCharacter(n=""){return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}static getItemValue(n,...e){return this.isFunction(n)?n(...e):n}static findLastIndex(n,e){let t=-1;if(this.isNotEmpty(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}static findLast(n,e){let t;if(this.isNotEmpty(n))try{t=n.findLast(e)}catch{t=[...n].reverse().find(e)}return t}static deepEquals(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),o=Array.isArray(e),r,s,a;if(t&&o){if(s=n.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!this.deepEquals(n[r],e[r]))return!1;return!0}if(t!=o)return!1;var l=n instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var u=n instanceof RegExp,g=e instanceof RegExp;if(u!=g)return!1;if(u&&g)return n.toString()==e.toString();var _=Object.keys(n);if(s=_.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,_[r]))return!1;for(r=s;r--!==0;)if(a=_[r],!this.deepEquals(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}},HL=0;function ut(i="pn_id_"){return HL++,`${i}${HL}`}function vK(){let i=[],n=(r,s)=>{let a=i.length>0?i[i.length-1]:{key:r,value:s},l=a.value+(a.key===r?0:s)+2;return i.push({key:r,value:l}),l},e=r=>{i=i.filter(s=>s.value!==r)},t=()=>i.length>0?i[i.length-1].value:0,o=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:o,set:(r,s,a)=>{s&&(s.style.zIndex=String(n(r,a)))},clear:r=>{r&&(e(o(r)),r.style.zIndex="")},getCurrent:()=>t()}}var Yt=vK();var GL=["*"],$d=function(i){return i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL",i}($d||{}),Wt=(()=>{class i{requireConfirmationSource=new Ae;acceptConfirmationSource=new Ae;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})();var Yo=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})(),PS=(()=>{class i{static AND="and";static OR="or"}return i})(),qa=(()=>{class i{filter(e,t,o,r,s){let a=[];if(e)for(let l of e)for(let c of t){let u=le.resolveFieldData(l,c);if(this.filters[r](u,o,s)){a.push(l);break}}return a}filters={startsWith:(e,t,o)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let r=le.removeAccents(t.toString()).toLocaleLowerCase(o);return le.removeAccents(e.toString()).toLocaleLowerCase(o).slice(0,r.length)===r},contains:(e,t,o)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let r=le.removeAccents(t.toString()).toLocaleLowerCase(o);return le.removeAccents(e.toString()).toLocaleLowerCase(o).indexOf(r)!==-1},notContains:(e,t,o)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let r=le.removeAccents(t.toString()).toLocaleLowerCase(o);return le.removeAccents(e.toString()).toLocaleLowerCase(o).indexOf(r)===-1},endsWith:(e,t,o)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let r=le.removeAccents(t.toString()).toLocaleLowerCase(o),s=le.removeAccents(e.toString()).toLocaleLowerCase(o);return s.indexOf(r,s.length-r.length)!==-1},equals:(e,t,o)=>t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():e==t?!0:le.removeAccents(e.toString()).toLocaleLowerCase(o)==le.removeAccents(t.toString()).toLocaleLowerCase(o),notEquals:(e,t,o)=>t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():e==t?!1:le.removeAccents(e.toString()).toLocaleLowerCase(o)!=le.removeAccents(t.toString()).toLocaleLowerCase(o),in:(e,t)=>{if(t==null||t.length===0)return!0;for(let o=0;o<t.length;o++)if(le.equals(e,t[o]))return!0;return!1},between:(e,t)=>t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1],lt:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t,lte:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t,gt:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t,gte:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t,is:(e,t,o)=>this.filters.equals(e,t,o),isNot:(e,t,o)=>this.filters.notEquals(e,t,o),before:(e,t,o)=>this.filters.lt(e,t,o),after:(e,t,o)=>this.filters.gt(e,t,o),dateIs:(e,t)=>t==null?!0:e==null?!1:e.toDateString()===t.toDateString(),dateIsNot:(e,t)=>t==null?!0:e==null?!1:e.toDateString()!==t.toDateString(),dateBefore:(e,t)=>t==null?!0:e==null?!1:e.getTime()<t.getTime(),dateAfter:(e,t)=>{if(t==null)return!0;if(e==null)return!1;let o=new Date(e);return o.setHours(0,0,0,0),o.getTime()>t.getTime()}};register(e,t){this.filters[e]=t}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Kt=(()=>{class i{messageSource=new Ae;clearSource=new Ae;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),Jo=(()=>{class i{clickSource=new Ae;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xt=(()=>{class i{ripple=!1;inputStyle=ui("outlined");overlayOptions={};csp=ui({nonce:void 0});filterMatchModeOptions={text:[Yo.STARTS_WITH,Yo.CONTAINS,Yo.NOT_CONTAINS,Yo.ENDS_WITH,Yo.EQUALS,Yo.NOT_EQUALS],numeric:[Yo.EQUALS,Yo.NOT_EQUALS,Yo.LESS_THAN,Yo.LESS_THAN_OR_EQUAL_TO,Yo.GREATER_THAN,Yo.GREATER_THAN_OR_EQUAL_TO],date:[Yo.DATE_IS,Yo.DATE_IS_NOT,Yo.DATE_BEFORE,Yo.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Ae;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Q(Q({},this.translation),e),this.translationSource.next(this.translation)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ya=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-header"]],standalone:!0,features:[Ze],ngContentSelectors:GL,decls:1,vars:0,template:function(t,o){t&1&&(_i(),jt(0))},encapsulation:2})}return i})(),$r=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-footer"]],standalone:!0,features:[Ze],ngContentSelectors:GL,decls:1,vars:0,template:function(t,o){t&1&&(_i(),jt(0))},encapsulation:2})}return i})(),ge=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(t){return new(t||i)(v(as))};static \u0275dir=lt({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return i})(),$e=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})(),oi=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return i})(),zL=(()=>{class i{dragStartSource=new Ae;dragStopSource=new Ae;dragStart$=this.dragStartSource.asObservable();dragStop$=this.dragStopSource.asObservable();startDrag(e){this.dragStartSource.next(e)}stopDrag(e){this.dragStopSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})();var L=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}static addMultipleClasses(e,t){if(e&&t)if(e.classList){let o=t.trim().split(" ");for(let r=0;r<o.length;r++)e.classList.add(o[r])}else{let o=t.split(" ");for(let r=0;r<o.length;r++)e.className+=" "+o[r]}}static removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,t){e&&t&&[t].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,t){return e&&t?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return this.isElement(e)?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,o=0;for(var r=0;r<t.length;r++){if(t[r]==e)return o;t[r].nodeType==1&&o++}return-1}static indexWithinGroup(e,t){let o=e.parentNode?e.parentNode.childNodes:[],r=0;for(var s=0;s<o.length;s++){if(o[s]==e)return r;o[s].attributes&&o[s].attributes[t]&&o[s].nodeType==1&&r++}return-1}static appendOverlay(e,t,o="self"){o!=="self"&&e&&t&&this.appendChild(e,t)}static alignOverlay(e,t,o="self",r=!0){e&&t&&(r&&(e.style.minWidth=`${i.getOuterWidth(t)}px`),o==="self"?this.relativePosition(e,t):this.absolutePosition(e,t))}static relativePosition(e,t,o=!0){let r=D=>{if(D)return getComputedStyle(D).getPropertyValue("position")==="relative"?D:r(D.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=t.offsetHeight??t.getBoundingClientRect().height,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),g=this.getViewport(),C=r(e)?.getBoundingClientRect()||{top:-1*c,left:-1*u},w,S;l.top+a+s.height>g.height?(w=l.top-C.top-s.height,e.style.transformOrigin="bottom",l.top+w<0&&(w=-1*l.top)):(w=a+l.top-C.top,e.style.transformOrigin="top");let A=l.left+s.width-g.width,x=l.left-C.left;s.width>g.width?S=(l.left-C.left)*-1:A>0?S=x-A:S=l.left-C.left,e.style.top=w+"px",e.style.left=S+"px",o&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(e,t,o=!0){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,a=r.width,l=t.offsetHeight??t.getBoundingClientRect().height,c=t.offsetWidth??t.getBoundingClientRect().width,u=t.getBoundingClientRect(),g=this.getWindowScrollTop(),_=this.getWindowScrollLeft(),C=this.getViewport(),w,S;u.top+l+s>C.height?(w=u.top+g-s,e.style.transformOrigin="bottom",w<0&&(w=g)):(w=l+u.top+g,e.style.transformOrigin="top"),u.left+a>C.width?S=Math.max(0,u.left+_+c-a):S=u.left+_,e.style.top=w+"px",e.style.left=S+"px",o&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}static getScrollableParents(e){let t=[];if(e){let o=this.getParents(e),r=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return r.test(l.getPropertyValue("overflow"))||r.test(l.getPropertyValue("overflowX"))||r.test(l.getPropertyValue("overflowY"))};for(let a of o){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let u of c){let g=this.findSingle(a,u);g&&s(g)&&t.push(g)}}a.nodeType!==9&&s(a)&&t.push(a)}}return t}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let o=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=o?parseFloat(o):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),u=t.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-r-a,g=e.scrollTop,_=e.clientHeight,C=this.getOuterHeight(t);u<0?e.scrollTop=g+u:u+C>_&&(e.scrollTop=g+u-_+C)}static fadeIn(e,t){e.style.opacity=0;let o=+new Date,r=0,s=function(){r=+e.style.opacity.replace(",",".")+(new Date().getTime()-o)/t,e.style.opacity=r,o=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(e,t){var o=1,r=50,s=t,a=r/s;let l=setInterval(()=>{o=o-a,o<=0&&(o=0,clearInterval(l)),e.style.opacity=o},r)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var o=Element.prototype,r=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return r.call(e,t)}static getOuterWidth(e,t){let o=e.offsetWidth;if(t){let r=getComputedStyle(e);o+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return o}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,o=getComputedStyle(e);return t+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),t}static width(e){let t=e.offsetWidth,o=getComputedStyle(e);return t-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,o=getComputedStyle(e);return t+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),t}static getOuterHeight(e,t){let o=e.offsetHeight;if(t){let r=getComputedStyle(e);o+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return o}static getHeight(e){let t=e.offsetHeight,o=getComputedStyle(e);return t-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,o=getComputedStyle(e);return t-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),t}static getViewport(){let e=window,t=document,o=t.documentElement,r=t.getElementsByTagName("body")[0],s=e.innerWidth||o.clientWidth||r.clientWidth,a=e.innerHeight||o.clientHeight||r.clientHeight;return{width:s,height:a}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let o=e.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(t,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return!0;var o=e.indexOf("Trident/");if(o>0){var r=e.indexOf("rv:");return!0}var s=e.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t&&t.el&&t.el.nativeElement)t.el.nativeElement.appendChild(e);else throw"Cannot append "+t+" to "+e}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+t}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let o=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,o){e[t].apply(e,o)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,t){e&&document.activeElement!==e&&e.focus(t)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,t=""){let o=this.find(e,this.getFocusableSelectorString(t)),r=[];for(let s of o){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&r.push(s)}return r}static getFocusableElement(e,t=""){let o=this.findSingle(e,this.getFocusableSelectorString(t));if(o){let r=getComputedStyle(o);if(this.isVisible(o)&&r.display!="none"&&r.visibility!="hidden")return o}return null}static getFirstFocusableElement(e,t=""){let o=this.getFocusableElements(e,t);return o.length>0?o[0]:null}static getLastFocusableElement(e,t){let o=this.getFocusableElements(e,t);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(e,t=!1){let o=i.getFocusableElements(e),r=0;if(o&&o.length>0){let s=o.indexOf(o[0].ownerDocument.activeElement);t?s==-1||s===0?r=o.length-1:r=s-1:s!=-1&&s!==o.length-1&&(r=s+1)}return o[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,t){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return t?.parentElement.parentElement;default:let o=typeof e;if(o==="string")return document.querySelector(e);if(o==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,t){if(e){let o=e.getAttribute(t);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,t={},...o){if(e){let r=document.createElement(e);return this.setAttributes(r,t),r.append(...o),r}}static setAttribute(e,t="",o){this.isElement(e)&&o!==null&&o!==void 0&&e.setAttribute(t,o)}static setAttributes(e,t={}){if(this.isElement(e)){let o=(r,s)=>{let a=e?.$attrs?.[r]?[e?.$attrs?.[r]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let u=typeof c;if(u==="string"||u==="number")l.push(c);else if(u==="object"){let g=Array.isArray(c)?o(r,c):Object.entries(c).map(([_,C])=>r==="style"&&(C||C===0)?`${_.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${C}`:C?_:void 0);l=g.length?l.concat(g.filter(_=>!!_)):l}}return l},a)};Object.entries(t).forEach(([r,s])=>{if(s!=null){let a=r.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):r==="pBind"?this.setAttributes(e,s):(s=r==="class"?[...new Set(o("class",s))].join(" ").trim():r==="style"?o("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[r]=s),e.setAttribute(r,s))}})}}static isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1}}return i})(),xo=class{element;listener;scrollableParents;constructor(n,e=()=>{}){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=L.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var mn=(()=>{class i{autofocus=!1;focused=!1;platformId=Te(Lt);document=Te(ct);host=Te(Le);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){rt(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=L.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=lt({type:i,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",j]},standalone:!0,features:[Ve]})}return i})(),Tn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})();var bK=["*"],gt=(()=>{class i{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let e=le.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",j],styleClass:"styleClass"},standalone:!0,features:[Ve,Ze],ngContentSelectors:bK,decls:1,vars:0,template:function(t,o){t&1&&(_i(),jt(0))},encapsulation:2,changeDetection:0})}return i})();var Lr=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["SpinnerIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var Ri=(()=>{class i{document;platformId;renderer;el;zone;config;constructor(e,t,o,r,s,a){this.document=e,this.platformId=t,this.renderer=o,this.el=r,this.zone=s,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){rt(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let t=this.getInk();if(!t||this.document.defaultView?.getComputedStyle(t,null).display==="none")return;if(L.removeClass(t,"p-ink-active"),!L.getHeight(t)&&!L.getWidth(t)){let a=Math.max(L.getOuterWidth(this.el.nativeElement),L.getOuterHeight(this.el.nativeElement));t.style.height=a+"px",t.style.width=a+"px"}let o=L.getOffset(this.el.nativeElement),r=e.pageX-o.left+this.document.body.scrollTop-L.getWidth(t)/2,s=e.pageY-o.top+this.document.body.scrollLeft-L.getHeight(t)/2;this.renderer.setStyle(t,"top",s+"px"),this.renderer.setStyle(t,"left",r+"px"),L.addClass(t,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&L.removeClass(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let t=0;t<e.length;t++)if(typeof e[t].className=="string"&&e[t].className.indexOf("p-ink")!==-1)return e[t];return null}resetInk(){let e=this.getInk();e&&L.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),L.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,L.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(Le),v(It),v(xt,8))};static \u0275dir=lt({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return i})(),Li=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({})}return i})();var yK=["*"],WL=i=>({class:i});function wK(i,n){i&1&&oe(0)}function SK(i,n){if(i&1&&E(0,"span",8),i&2){let e=h(3);p("ngClass",e.iconClass()),M("aria-hidden",!0)("data-pc-section","loadingicon")}}function AK(i,n){if(i&1&&E(0,"SpinnerIcon",9),i&2){let e=h(3);p("styleClass",e.spinnerIconClass())("spin",!0),M("aria-hidden",!0)("data-pc-section","loadingicon")}}function xK(i,n){if(i&1&&(re(0),I(1,SK,1,3,"span",6)(2,AK,1,4,"SpinnerIcon",7),se()),i&2){let e=h(2);d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function EK(i,n){}function TK(i,n){if(i&1&&I(0,EK,0,0,"ng-template",10),i&2){let e=h(2);p("ngIf",e.loadingIconTemplate)}}function OK(i,n){if(i&1&&(re(0),I(1,xK,3,2,"ng-container",2)(2,TK,1,1,null,5),se()),i&2){let e=h();d(),p("ngIf",!e.loadingIconTemplate),d(),p("ngTemplateOutlet",e.loadingIconTemplate)("ngTemplateOutletContext",J(3,WL,e.iconClass()))}}function RK(i,n){if(i&1&&E(0,"span",8),i&2){let e=h(2);p("ngClass",e.iconClass()),M("data-pc-section","icon")}}function DK(i,n){}function PK(i,n){if(i&1&&I(0,DK,0,0,"ng-template",10),i&2){let e=h(2);p("ngIf",!e.icon&&e.iconTemplate)}}function FK(i,n){if(i&1&&(re(0),I(1,RK,1,2,"span",6)(2,PK,1,1,null,5),se()),i&2){let e=h();d(),p("ngIf",e.icon&&!e.iconTemplate),d(),p("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",J(3,WL,e.iconClass()))}}function LK(i,n){if(i&1&&(f(0,"span",11),T(1),m()),i&2){let e=h();M("aria-hidden",e.icon&&!e.label)("data-pc-section","label"),d(),H(e.label)}}function MK(i,n){if(i&1&&(f(0,"span",8),T(1),m()),i&2){let e=h();te(e.badgeClass),p("ngClass",e.badgeStyleClass()),M("data-pc-section","badge"),d(),H(e.badge)}}var Oc={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},at=(()=>{class i{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Oc);constructor(e,t){this.el=e,this.document=t}ngAfterViewInit(){L.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let e=[Oc.button,Oc.component];return this.icon&&!this.label&&le.isEmpty(this.htmlElement.textContent)&&e.push(Oc.iconOnly),this.loading&&(e.push(Oc.disabled,Oc.loading),!this.icon&&this.label&&e.push(Oc.labelOnly),this.icon&&!this.label&&!le.isEmpty(this.htmlElement.textContent)&&e.push(Oc.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),e}setStyleClass(){let e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(!L.findSingle(this.htmlElement,".p-button-label")&&this.label){let t=this.document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(!L.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let t=this.document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let o=this.label?"p-button-icon-"+this.iconPos:null;o&&L.addClass(t,o);let r=this.getIconClass();r&&L.addMultipleClasses(t,r),this.htmlElement.insertBefore(t,this.htmlElement.firstChild)}}updateLabel(){let e=L.findSingle(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=L.findSingle(this.htmlElement,".p-button-icon"),t=L.findSingle(this.htmlElement,".p-button-label");e?this.iconPos?e.className="p-button-icon "+(t?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(t){return new(t||i)(v(Le),v(ct))};static \u0275dir=lt({type:i,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",j],rounded:[2,"rounded","rounded",j],text:[2,"text","text",j],outlined:[2,"outlined","outlined",j],size:"size",plain:[2,"plain","plain",j]},standalone:!0,features:[Ve]})}return i})(),FS=(()=>{class i{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new W;onFocus=new W;onBlur=new W;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(e){this.el=e}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[t])=>e+` ${t}`,"p-button-loading-icon")}iconClass(){let e={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?e[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(e[this.icon]=!0),e}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275cmp=Y({type:i,selectors:[["p-button"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(t,o){t&2&&Xi("p-disabled",o.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",j],loading:[2,"loading","loading",j],loadingIcon:"loadingIcon",raised:[2,"raised","raised",j],rounded:[2,"rounded","rounded",j],text:[2,"text","text",j],plain:[2,"plain","plain",j],severity:"severity",outlined:[2,"outlined","outlined",j],link:[2,"link","link",j],tabindex:[2,"tabindex","tabindex",xe],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",j]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[Ve,Ze],ngContentSelectors:yK,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(t,o){t&1&&(_i(),f(0,"button",0),R("click",function(s){return o.onClick.emit(s)})("focus",function(s){return o.onFocus.emit(s)})("blur",function(s){return o.onBlur.emit(s)}),jt(1),I(2,wK,1,0,"ng-container",1)(3,OK,3,5,"ng-container",2)(4,FK,3,5,"ng-container",2)(5,LK,2,3,"span",3)(6,MK,2,5,"span",4),m()),t&2&&(p("ngStyle",o.style)("disabled",o.disabled||o.loading)("ngClass",o.buttonClass)("autofocus",o.autofocus),M("type",o.type)("aria-label",o.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",o.tabindex),d(2),p("ngTemplateOutlet",o.contentTemplate),d(),p("ngIf",o.loading),d(),p("ngIf",!o.loading),d(),p("ngIf",!o.contentTemplate&&o.label),d(),p("ngIf",!o.contentTemplate&&o.badge))},dependencies:[ze,Xe,ve,Fe,Ri,mn,Lr],encapsulation:2,changeDetection:0})}return i})(),go=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[FS,$e]})}return i})();var cn=(()=>{class i{el;ngModel;cd;config;variant="outlined";filled;constructor(e,t,o,r){this.el=e,this.ngModel=t,this.cd=o,this.config=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(t){return new(t||i)(v(Le),v(wn,8),v(pe),v(xt))};static \u0275dir=lt({type:i,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,o){t&1&&R("input",function(s){return o.onInput(s)}),t&2&&Xi("p-filled",o.filled)("p-variant-filled",o.variant==="filled"||o.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return i})(),Ls=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var Eo=(()=>{class i{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,o){t&1&&(f(0,"div",0),pt(),f(1,"svg",1),E(2,"circle",2),m()()),t&2&&(p("ngStyle",o.style)("ngClass",o.styleClass),M("aria-label",o.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),d(),fn("animation-duration",o.animationDuration),M("data-pc-section","root"),d(),M("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[Fe,ve],styles:[`@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}
`],encapsulation:2,changeDetection:0})}return i})(),LS=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var Ms=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Ms||{}),dqe="*";function $i(i,n){return{type:Ms.Trigger,name:i,definitions:n,options:{}}}function kt(i,n=null){return{type:Ms.Animate,styles:n,timings:i}}function uqe(i,n=null){return{type:Ms.Sequence,steps:i,options:n}}function Rt(i){return{type:Ms.Style,styles:i,offset:null}}function lo(i,n,e){return{type:Ms.State,name:i,styles:n,options:e}}function Nt(i,n,e=null){return{type:Ms.Transition,expr:i,animation:n,options:e}}function ks(i,n=null){return{type:Ms.Reference,animation:i,options:n}}function pqe(i=null){return{type:Ms.AnimateChild,options:i}}function Ns(i,n=null){return{type:Ms.AnimateRef,animation:i,options:n}}function qL(i,n,e=null){return{type:Ms.Query,selector:i,animation:n,options:e}}function YL(i,n){return{type:Ms.Stagger,timings:i,animation:n}}var $L=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},KL=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish()}),s.onDestroy(()=>{++t==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(t=>{let o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){let n=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},hqe="!";var fC=(()=>{class i{pFocusTrapDisabled=!1;platformId=Te(Lt);host=Te(Le);document=Te(ct);firstHiddenFocusableElement;lastHiddenFocusableElement;ngOnInit(){rt(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}ngOnChanges(e){e.pFocusTrapDisabled&&rt(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let e="0",t=o=>L.createElement("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:e,role:"presentation","data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:o?.bind(this)});this.firstHiddenFocusableElement=t(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=t(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.host.nativeElement.prepend(this.firstHiddenFocusableElement),this.host.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:t,relatedTarget:o}=e,r=o===this.lastHiddenFocusableElement||!this.host.nativeElement?.contains(o)?L.getFirstFocusableElement(t.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;L.focus(r)}onLastHiddenElementFocus(e){let{currentTarget:t,relatedTarget:o}=e,r=o===this.firstHiddenFocusableElement||!this.host.nativeElement?.contains(o)?L.getLastFocusableElement(t.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;L.focus(r)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=lt({type:i,selectors:[["","pFocusTrap",""]],hostAttrs:[1,"p-element"],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",j]},features:[Ve,ki]})}return i})(),mC=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var Ci=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["TimesIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var gp=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var _p=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var kK=["titlebar"],NK=["content"],VK=["footer"],BK=["*",[["p-header"]],[["p-footer"]]],UK=["*","p-header","p-footer"],jK=(i,n,e,t,o,r,s,a,l,c)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter":i,"p-dialog-mask-scrollblocker":n,"p-dialog-left":e,"p-dialog-right":t,"p-dialog-top":o,"p-dialog-top-left":r,"p-dialog-top-right":s,"p-dialog-bottom":a,"p-dialog-bottom-left":l,"p-dialog-bottom-right":c}),HK=(i,n,e,t)=>({"p-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-draggable":n,"p-dialog-resizable":e,"p-dialog-maximized":t}),GK=(i,n)=>({transform:i,transition:n}),zK=i=>({value:"visible",params:i}),WK=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0}),$K=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0}),KK=()=>({"min-width":0});function qK(i,n){i&1&&oe(0)}function YK(i,n){if(i&1&&(re(0),I(1,qK,1,0,"ng-container",10),se()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.headlessTemplate)}}function JK(i,n){if(i&1){let e=k();f(0,"div",15),R("mousedown",function(o){b(e);let r=h(4);return y(r.initResize(o))}),m()}}function XK(i,n){if(i&1&&(f(0,"span",21),T(1),m()),i&2){let e=h(5);p("id",e.ariaLabelledBy),d(),H(e.header)}}function QK(i,n){if(i&1&&(f(0,"span",21),jt(1,1),m()),i&2){let e=h(5);p("id",e.ariaLabelledBy)}}function ZK(i,n){i&1&&oe(0)}function eq(i,n){if(i&1&&E(0,"span",25),i&2){let e=h(6);p("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function tq(i,n){i&1&&E(0,"WindowMaximizeIcon",27),i&2&&p("styleClass","p-dialog-header-maximize-icon")}function iq(i,n){i&1&&E(0,"WindowMinimizeIcon",27),i&2&&p("styleClass","p-dialog-header-maximize-icon")}function nq(i,n){if(i&1&&(re(0),I(1,tq,1,1,"WindowMaximizeIcon",26)(2,iq,1,1,"WindowMinimizeIcon",26),se()),i&2){let e=h(6);d(),p("ngIf",!e.maximized&&!e.maximizeIconTemplate),d(),p("ngIf",e.maximized&&!e.minimizeIconTemplate)}}function oq(i,n){}function rq(i,n){i&1&&I(0,oq,0,0,"ng-template")}function sq(i,n){if(i&1&&(re(0),I(1,rq,1,0,null,10),se()),i&2){let e=h(6);d(),p("ngTemplateOutlet",e.maximizeIconTemplate)}}function aq(i,n){}function lq(i,n){i&1&&I(0,aq,0,0,"ng-template")}function cq(i,n){if(i&1&&(re(0),I(1,lq,1,0,null,10),se()),i&2){let e=h(6);d(),p("ngTemplateOutlet",e.minimizeIconTemplate)}}function dq(i,n){if(i&1){let e=k();f(0,"button",22),R("click",function(){b(e);let o=h(5);return y(o.maximize())})("keydown.enter",function(){b(e);let o=h(5);return y(o.maximize())}),I(1,eq,1,1,"span",23)(2,nq,3,2,"ng-container",24)(3,sq,2,1,"ng-container",24)(4,cq,2,1,"ng-container",24),m()}if(i&2){let e=h(5);p("ngClass",Ie(7,WK)),M("tabindex",e.maximizable?"0":"-1")("aria-label",e.maximizeLabel),d(),p("ngIf",e.maximizeIcon&&!e.maximizeIconTemplate&&!e.minimizeIconTemplate),d(),p("ngIf",!e.maximizeIcon),d(),p("ngIf",!e.maximized),d(),p("ngIf",e.maximized)}}function uq(i,n){if(i&1&&E(0,"span",30),i&2){let e=h(7);p("ngClass",e.closeIcon)}}function pq(i,n){i&1&&E(0,"TimesIcon",27),i&2&&p("styleClass","p-dialog-header-close-icon")}function hq(i,n){if(i&1&&(re(0),I(1,uq,1,1,"span",29)(2,pq,1,1,"TimesIcon",26),se()),i&2){let e=h(6);d(),p("ngIf",e.closeIcon),d(),p("ngIf",!e.closeIcon)}}function fq(i,n){}function mq(i,n){i&1&&I(0,fq,0,0,"ng-template")}function gq(i,n){if(i&1&&(f(0,"span"),I(1,mq,1,0,null,10),m()),i&2){let e=h(6);d(),p("ngTemplateOutlet",e.closeIconTemplate)}}function _q(i,n){if(i&1){let e=k();f(0,"button",28),R("click",function(o){b(e);let r=h(5);return y(r.close(o))})("keydown.enter",function(o){b(e);let r=h(5);return y(r.close(o))}),I(1,hq,3,2,"ng-container",24)(2,gq,2,1,"span",24),m()}if(i&2){let e=h(5);p("ngClass",Ie(6,$K))("ngStyle",Ie(7,KK)),M("aria-label",e.closeAriaLabel)("tabindex",e.closeTabindex),d(),p("ngIf",!e.closeIconTemplate),d(),p("ngIf",e.closeIconTemplate)}}function Cq(i,n){if(i&1){let e=k();f(0,"div",16,3),R("mousedown",function(o){b(e);let r=h(4);return y(r.initDrag(o))}),I(2,XK,2,2,"span",17)(3,QK,2,1,"span",17)(4,ZK,1,0,"ng-container",10),f(5,"div",18),I(6,dq,5,8,"button",19)(7,_q,3,8,"button",20),m()()}if(i&2){let e=h(4);d(2),p("ngIf",!e.headerFacet&&!e.headerTemplate),d(),p("ngIf",e.headerFacet),d(),p("ngTemplateOutlet",e.headerTemplate),d(2),p("ngIf",e.maximizable),d(),p("ngIf",e.closable)}}function Iq(i,n){i&1&&oe(0)}function vq(i,n){i&1&&oe(0)}function bq(i,n){if(i&1&&(f(0,"div",31,4),jt(2,2),I(3,vq,1,0,"ng-container",10),m()),i&2){let e=h(4);d(3),p("ngTemplateOutlet",e.footerTemplate)}}function yq(i,n){if(i&1&&(I(0,JK,1,0,"div",11)(1,Cq,8,5,"div",12),f(2,"div",13,2),jt(4),I(5,Iq,1,0,"ng-container",10),m(),I(6,bq,4,1,"div",14)),i&2){let e=h(3);p("ngIf",e.resizable),d(),p("ngIf",e.showHeader),d(),te(e.contentStyleClass),p("ngClass","p-dialog-content")("ngStyle",e.contentStyle),d(3),p("ngTemplateOutlet",e.contentTemplate),d(),p("ngIf",e.footerFacet||e.footerTemplate)}}function wq(i,n){if(i&1){let e=k();f(0,"div",8,0),R("@animation.start",function(o){b(e);let r=h(2);return y(r.onAnimationStart(o))})("@animation.done",function(o){b(e);let r=h(2);return y(r.onAnimationEnd(o))}),I(2,YK,2,1,"ng-container",9)(3,yq,7,8,"ng-template",null,1,bt),m()}if(i&2){let e=Me(4),t=h(2);te(t.styleClass),p("ngClass",Nn(10,HK,t.rtl,t.draggable,t.resizable,t.maximized))("ngStyle",t.style)("pFocusTrapDisabled",t.focusTrap===!1)("@animation",J(18,zK,Ue(15,GK,t.transformOptions,t.transitionOptions))),M("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0),d(2),p("ngIf",t.headlessTemplate)("ngIfElse",e)}}function Sq(i,n){if(i&1&&(f(0,"div",6),I(1,wq,5,20,"div",7),m()),i&2){let e=h();te(e.maskStyleClass),p("ngStyle",e.maskStyle)("ngClass",Hd(5,jK,[e.modal,e.modal||e.blockScroll,e.position==="left",e.position==="right",e.position==="top",e.position==="topleft"||e.position==="top-left",e.position==="topright"||e.position==="top-right",e.position==="bottom",e.position==="bottomleft"||e.position==="bottom-left",e.position==="bottomright"||e.position==="bottom-right"])),d(),p("ngIf",e.visible)}}var Aq=ks([Rt({transform:"{{transform}}",opacity:0}),kt("{{transition}}")]),xq=ks([kt("{{transition}}",Rt({transform:"{{transform}}",opacity:0}))]),Ht=(()=>{class i{document;platformId;el;renderer;zone;cd;config;header;draggable=!0;resizable=!0;get positionLeft(){return 0}set positionLeft(e){console.log("positionLeft property is deprecated.")}get positionTop(){return 0}set positionTop(e){console.log("positionTop property is deprecated.")}contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;get responsive(){return!1}set responsive(e){console.log("Responsive property is deprecated.")}appendTo;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;get breakpoint(){return 649}set breakpoint(e){console.log("Breakpoint property is not utilized and deprecated, use breakpoints or CSS media queries instead.")}blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=Q({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onShow=new W;onHide=new W;visibleChange=new W;onResizeInit=new W;onResizeEnd=new W;onDragEnd=new W;onMaximize=new W;headerFacet;footerFacet;templates;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;maximizeIconTemplate;closeIconTemplate;minimizeIconTemplate;headlessTemplate;_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=ut();_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;get maximizeLabel(){return this.config.getTranslation(oi.ARIA).maximizeLabel}constructor(e,t,o,r,s,a,l){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.zone=s,this.cd=a,this.config=l,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"maximizeicon":this.maximizeIconTemplate=e.template;break;case"minimizeicon":this.minimizeIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.breakpoints&&this.createStyle()}getAriaLabelledBy(){return this.header!==null?ut()+"_header":null}parseDurationToMilliseconds(e){let t=/([\d\.]+)(ms|s)\b/g,o=0,r;for(;(r=t.exec(e))!==null;){let s=parseFloat(r[1]),a=r[2];a==="ms"?o+=s:a==="s"&&(o+=s*1e3)}if(o!==0)return o}focus(e=this.contentViewChild?.nativeElement){let t=this.parseDurationToMilliseconds(this.transitionOptions),o=L.getFocusableElement(e,"[autofocus]");if(o){this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),t||5)});return}let r=L.getFocusableElement(e);r?this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),t||5)}):this.footerViewChild&&e!==this.footerViewChild.nativeElement&&this.focus(this.footerViewChild.nativeElement)}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&L.blockBodyScroll()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&e.length==1&&L.unblockBodyScroll(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?L.blockBodyScroll():L.unblockBodyScroll()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex&&(Yt.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}createStyle(){if(rt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}initDrag(e){L.hasClass(e.target,"p-dialog-header-icon")||L.hasClass(e.target,"p-dialog-header-close-icon")||L.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",L.addClass(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging){let t=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),r=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),u=parseFloat(l.marginTop),g=a.left+r-c,_=a.top+s-u,C=L.getViewport();this.container.style.position="fixed",this.keepInViewport?(g>=this.minX&&g+t<C.width&&(this._style.left=`${g}px`,this.lastPageX=e.pageX,this.container.style.left=`${g}px`),_>=this.minY&&_+o<C.height&&(this._style.top=`${_}px`,this.lastPageY=e.pageY,this.container.style.top=`${_}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${g}px`,this.lastPageY=e.pageY,this.container.style.top=`${_}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,L.removeClass(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,L.addClass(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,r=L.getOuterWidth(this.container),s=L.getOuterHeight(this.container),a=L.getOuterHeight(this.contentViewChild?.nativeElement),l=r+t,c=s+o,u=this.container.style.minWidth,g=this.container.style.minHeight,_=this.container.getBoundingClientRect(),C=L.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=t,c+=o),(!u||l>parseInt(u))&&_.left+l<C.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!g||c>parseInt(g))&&_.top+c<C.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,L.removeClass(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.window,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.window,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.window,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.window,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{t.key=="Escape"&&this.close(t)})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.wrapper):L.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.moveOnTop(),this.appendContainer(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),!this.modal&&this.blockScroll&&L.addClass(this.document.body,"p-overflow-hidden"),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&L.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck();break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(L.removeClass(this.document.body,"p-overflow-hidden"),this.document.body.style.removeProperty("--scrollbar-width"),this.maximized=!1),this.modal&&this.disableModality(),this.blockScroll&&L.removeClass(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Yt.clear(this.container),this.container=null,this.wrapper=null,this._style=this.originalStyle?Q({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(It),v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-dialog"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,Ya,5),qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.headerFacet=s.first),K(s=q())&&(o.footerFacet=s.first),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(kK,5),ne(NK,5),ne(VK,5)),t&2){let r;K(r=q())&&(o.headerViewChild=r.first),K(r=q())&&(o.contentViewChild=r.first),K(r=q())&&(o.footerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",draggable:[2,"draggable","draggable",j],resizable:[2,"resizable","resizable",j],positionLeft:"positionLeft",positionTop:"positionTop",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",j],closeOnEscape:[2,"closeOnEscape","closeOnEscape",j],dismissableMask:[2,"dismissableMask","dismissableMask",j],rtl:[2,"rtl","rtl",j],closable:[2,"closable","closable",j],responsive:"responsive",appendTo:"appendTo",breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",j],breakpoint:"breakpoint",blockScroll:[2,"blockScroll","blockScroll",j],autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],minX:[2,"minX","minX",xe],minY:[2,"minY","minY",xe],focusOnShow:[2,"focusOnShow","focusOnShow",j],maximizable:[2,"maximizable","maximizable",j],keepInViewport:[2,"keepInViewport","keepInViewport",j],focusTrap:[2,"focusTrap","focusTrap",j],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",visible:"visible",style:"style",position:"position"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[Ve],ngContentSelectors:UK,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["footer",""],[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","","role","dialog",3,"ngClass","ngStyle","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[3,"ngClass","ngStyle"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["role","button","type","button","pRipple","","pButton","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","pRipple","","pButton","",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["role","button","type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["type","button","pRipple","","pButton","",3,"click","keydown.enter","ngClass","ngStyle"],["class","p-dialog-header-close-icon",3,"ngClass",4,"ngIf"],[1,"p-dialog-header-close-icon",3,"ngClass"],[1,"p-dialog-footer"]],template:function(t,o){t&1&&(_i(BK),I(0,Sq,2,16,"div",5)),t&2&&p("ngIf",o.maskVisible)},dependencies:()=>[Fe,ze,Xe,ve,fC,at,Ri,Ci,gp,_p],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[$i("animation",[Nt("void => visible",[Ns(Aq)]),Nt("visible => void",[Ns(xq)])])]},changeDetection:0})}return i})(),MS=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,mC,go,Li,Ci,gp,_p,$e]})}return i})();var Eq=["*"],Tq=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),Oq=(i,n)=>({value:i,params:n});function Rq(i,n){i&1&&oe(0)}function Dq(i,n){i&1&&E(0,"TimesIcon",8),i&2&&p("styleClass","p-overlaypanel-close-icon")}function Pq(i,n){}function Fq(i,n){i&1&&I(0,Pq,0,0,"ng-template")}function Lq(i,n){if(i&1&&(f(0,"span",9),I(1,Fq,1,0,null,3),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.closeIconTemplate)}}function Mq(i,n){if(i&1){let e=k();f(0,"button",5),R("click",function(o){b(e);let r=h(2);return y(r.onCloseClick(o))})("keydown.enter",function(){b(e);let o=h(2);return y(o.hide())}),I(1,Dq,1,1,"TimesIcon",6)(2,Lq,2,1,"span",7),m()}if(i&2){let e=h(2);M("aria-label",e.ariaCloseLabel),d(),p("ngIf",!e.closeIconTemplate),d(),p("ngIf",e.closeIconTemplate)}}function kq(i,n){if(i&1){let e=k();f(0,"div",1),R("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))})("@animation.start",function(o){b(e);let r=h();return y(r.onAnimationStart(o))})("@animation.done",function(o){b(e);let r=h();return y(r.onAnimationEnd(o))}),f(1,"div",2),R("click",function(o){b(e);let r=h();return y(r.onContentClick(o))})("mousedown",function(o){b(e);let r=h();return y(r.onContentClick(o))}),jt(2),I(3,Rq,1,0,"ng-container",3),m(),I(4,Mq,3,3,"button",4),m()}if(i&2){let e=h();te(e.styleClass),p("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",Ue(13,Oq,e.overlayVisible?"open":"close",Ue(10,Tq,e.showTransitionOptions,e.hideTransitionOptions))),M("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),d(3),p("ngTemplateOutlet",e.contentTemplate),d(),p("ngIf",e.showCloseIcon)}}var Kd=(()=>{class i{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new W;onHide=new W;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,t,o,r,s,a,l,c){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.cd=s,this.zone=a,this.config=l,this.overlayService=c}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}this.cd.markForCheck()})}bindDocumentClickListener(){if(rt(this.platformId)&&!this.documentClickListener&&this.dismissable){let e=L.isIOS()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,o=>{!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):L.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&Yt.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),L.absolutePosition(this.container,this.target,!1);let e=L.getOffset(this.container),t=L.getOffset(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),r=0;e.left<t.left&&(r=t.left-e.left-parseFloat(o)*2),this.container?.style.setProperty("--overlayArrowLeft",`${r}px`),e.top<t.top&&(L.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Yt.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=L.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!L.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){if(rt(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){rt(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new xo(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Yt.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(pe),v(It),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],hostBindings:function(t,o){t&1&&R("keydown.escape",function(s){return o.onEscapeKeydown(s)},!1,m0)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",j],showCloseIcon:[2,"showCloseIcon","showCloseIcon",j],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",j],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",xe],focusOnShow:[2,"focusOnShow","focusOnShow",j],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[Ve],ngContentSelectors:Eq,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(t,o){t&1&&(_i(),I(0,kq,5,16,"div",0)),t&2&&p("ngIf",o.render)},dependencies:()=>[Fe,ze,Xe,ve,Ri,Ci],styles:[`@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}
`],encapsulation:2,data:{animation:[$i("animation",[lo("void",Rt({transform:"scaleY(0.8)",opacity:0})),lo("close",Rt({opacity:0})),lo("open",Rt({transform:"translateY(0)",opacity:1})),Nt("void => open",kt("{{showTransitionParams}}")),Nt("open => close",kt("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),kS=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Li,$e,Ci,$e]})}return i})();var On=(()=>{class i{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:ut()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(e,t,o,r,s,a){this.platformId=e,this.el=t,this.zone=o,this.config=r,this.renderer=s,this.viewContainer=a}ngAfterViewInit(){rt(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement)),t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=Q(Q({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(L.hasClass(e.relatedTarget,"p-tooltip")||L.hasClass(e.relatedTarget,"p-tooltip-text")||L.hasClass(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?L.appendChild(this.container,this.el.nativeElement):L.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",t=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),L.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?Yt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Yt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof as){let t=this.viewContainer.createEmbeddedView(e);t.detectChanges(),t.rootNodes.forEach(o=>this.tooltipText.appendChild(o))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),t=e.left+L.getWindowScrollLeft(),o=e.top+L.getWindowScrollTop();return{left:t,top:o}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.activeElement,t=this.getHostOffset(),o=t.left+L.getOuterWidth(e),r=t.top+(L.getOuterHeight(e)-L.getOuterHeight(this.container))/2;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?L.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),t=e.left-L.getOuterWidth(this.container),o=e.top+(L.getOuterHeight(this.el.nativeElement)-L.getOuterHeight(this.container))/2;this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),t=e.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,o=e.top-L.getOuterHeight(this.container);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),t=e.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,o=e.top+L.getOuterHeight(this.el.nativeElement);this.container.style.left=t+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Q(Q({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return L.hasClass(e,"p-inputwrapper")?L.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let t="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?t+" "+this.getOption("tooltipStyleClass"):t}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,o=e.left,r=L.getOuterWidth(this.container),s=L.getOuterHeight(this.container),a=L.getViewport();return o+r>a.width||o<0||t<0||t+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement))}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):L.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Yt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(t){return new(t||i)(v(Lt),v(Le),v(It),v(xt),v(wt),v(jo))};static \u0275dir=lt({type:i,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,o){t&1&&R("keydown.escape",function(s){return o.onPressEscape(s)},!1,m0)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",j],showDelay:[2,"showDelay","showDelay",xe],hideDelay:[2,"hideDelay","hideDelay",xe],life:[2,"life","life",xe],positionTop:[2,"positionTop","positionTop",xe],positionLeft:[2,"positionLeft","positionLeft",xe],autoHide:[2,"autoHide","autoHide",j],fitContent:[2,"fitContent","fitContent",j],hideOnEscape:[2,"hideOnEscape","hideOnEscape",j],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ve,ki]})}return i})(),_o=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var Ki=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["CheckIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var Cp=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[fe,Ze],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1)(3,"path",2)(4,"path",3),m(),f(5,"defs")(6,"clipPath",4),E(7,"rect",5),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(5),p("id",o.pathId))},encapsulation:2})}return i})();var Ip=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["InfoCircleIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var Vs=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["TimesCircleIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();function Nq(i,n){i&1&&E(0,"CheckIcon",4),i&2&&p("styleClass","p-inline-message-icon")}function Vq(i,n){i&1&&E(0,"InfoCircleIcon",4),i&2&&p("styleClass","p-inline-message-icon")}function Bq(i,n){i&1&&E(0,"TimesCircleIcon",4),i&2&&p("styleClass","p-inline-message-icon")}function Uq(i,n){i&1&&E(0,"ExclamationTriangleIcon",4),i&2&&p("styleClass","p-inline-message-icon")}function jq(i,n){if(i&1&&E(0,"span",6),i&2){let e=h(2);p("innerHTML",e.text,Fi)}}function Hq(i,n){if(i&1&&(f(0,"div"),I(1,jq,1,1,"span",5),m()),i&2){let e=h();d(),p("ngIf",!e.escape)}}function Gq(i,n){if(i&1&&(f(0,"span",8),T(1),m()),i&2){let e=h(2);d(),H(e.text)}}function zq(i,n){if(i&1&&I(0,Gq,2,1,"span",7),i&2){let e=h();p("ngIf",e.escape)}}var gC=(()=>{class i{severity;text;escape=!0;style;styleClass;get icon(){return this.severity?this.severity:"info"}get containerClass(){return{[`p-inline-message-${this.severity}`]:this.severity,"p-inline-message-icon-only":this.text==null}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:[2,"escape","escape",j],style:"style",styleClass:"styleClass"},features:[Ve],decls:8,vars:10,consts:[["escapeOut",""],["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"styleClass"],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(t,o){if(t&1&&(f(0,"div",1),I(1,Nq,1,1,"CheckIcon",2)(2,Vq,1,1,"InfoCircleIcon",2)(3,Bq,1,1,"TimesCircleIcon",2)(4,Uq,1,1,"ExclamationTriangleIcon",2)(5,Hq,2,1,"div",3)(6,zq,1,1,"ng-template",null,0,bt),m()),t&2){let r=Me(7);te(o.styleClass),p("ngStyle",o.style)("ngClass",o.containerClass),d(),p("ngIf",o.icon==="success"),d(),p("ngIf",o.icon==="info"),d(),p("ngIf",o.icon==="error"),d(),p("ngIf",o.icon==="warn"),d(),p("ngIf",!o.escape)("ngIfElse",r)}},dependencies:()=>[Fe,ze,ve,Ki,Ip,Vs,Cp],styles:[`@layer primeng{.p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}}
`],encapsulation:2,changeDetection:0})}return i})(),VS=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Ki,Ip,Vs,Cp]})}return i})();var Qo=(()=>{class i{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new W;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(e,t,o,r,s){this.el=e,this.ngModel=t,this.control=o,this.cd=r,this.config=s}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Le),v(wn,8),v(cr,8),v(pe),v(xt))};static \u0275dir=lt({type:i,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(t,o){t&1&&R("input",function(s){return o.onInput(s)}),t&2&&Xi("p-filled",o.filled)("p-inputtextarea-resizable",o.autoResize)("p-variant-filled",o.variant==="filled"||o.config.inputStyle()==="filled")},inputs:{autoResize:[2,"autoResize","autoResize",j],variant:"variant"},outputs:{onResize:"onResize"},features:[Ve]})}return i})(),BS=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var vp=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var Bs=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ChevronRightIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var QL=["*"];function Wq(i,n){i&1&&oe(0)}function $q(i,n){if(i&1&&(re(0),I(1,Wq,1,0,"ng-container",3),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.contentTemplate)}}function Kq(i,n){if(i&1&&(f(0,"div",1),jt(1),I(2,$q,2,1,"ng-container",2),m()),i&2){let e=h();p("hidden",!e.selected),M("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),d(2),p("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}var qq=["content"],Yq=["navbar"],Jq=["prevBtn"],Xq=["nextBtn"],Qq=["inkbar"],Zq=["elementToObserve"],eY=i=>({"p-tabview p-component":!0,"p-tabview-scrollable":i}),tY=(i,n)=>({"p-highlight":i,"p-disabled":n});function iY(i,n){i&1&&E(0,"ChevronLeftIcon"),i&2&&M("aria-hidden",!0)}function nY(i,n){}function oY(i,n){i&1&&I(0,nY,0,0,"ng-template")}function rY(i,n){if(i&1){let e=k();f(0,"button",15,4),R("click",function(){b(e);let o=h();return y(o.navBackward())}),I(2,iY,1,1,"ChevronLeftIcon",16)(3,oY,1,0,null,17),m()}if(i&2){let e=h();M("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),d(2),p("ngIf",!e.previousIconTemplate),d(),p("ngTemplateOutlet",e.previousIconTemplate)}}function sY(i,n){if(i&1&&E(0,"span",26),i&2){let e=h(3).$implicit;p("ngClass",e.leftIcon)}}function aY(i,n){}function lY(i,n){i&1&&I(0,aY,0,0,"ng-template")}function cY(i,n){if(i&1&&(f(0,"span",27),I(1,lY,1,0,null,17),m()),i&2){let e=h(3).$implicit;d(),p("ngTemplateOutlet",e.leftIconTemplate)}}function dY(i,n){if(i&1&&E(0,"span",28),i&2){let e=h(3).$implicit;p("ngClass",e.rightIcon)}}function uY(i,n){}function pY(i,n){i&1&&I(0,uY,0,0,"ng-template")}function hY(i,n){if(i&1&&(f(0,"span",29),I(1,pY,1,0,null,17),m()),i&2){let e=h(3).$implicit;d(),p("ngTemplateOutlet",e.rightIconTemplate)}}function fY(i,n){if(i&1&&(re(0),I(1,sY,1,1,"span",21)(2,cY,2,1,"span",22),f(3,"span",23),T(4),m(),I(5,dY,1,1,"span",24)(6,hY,2,1,"span",25),se()),i&2){let e=h(2).$implicit;d(),p("ngIf",e.leftIcon&&!e.leftIconTemplate),d(),p("ngIf",e.leftIconTemplate),d(2),H(e.header),d(),p("ngIf",e.rightIcon&&!e.rightIconTemplate),d(),p("ngIf",e.rightIconTemplate)}}function mY(i,n){i&1&&oe(0)}function gY(i,n){if(i&1){let e=k();f(0,"TimesIcon",32),R("click",function(o){b(e);let r=h(3).$implicit,s=h();return y(s.close(o,r))}),m()}i&2&&p("styleClass","p-tabview-close")}function _Y(i,n){i&1&&E(0,"span",33)}function CY(i,n){}function IY(i,n){i&1&&I(0,CY,0,0,"ng-template")}function vY(i,n){if(i&1&&(re(0),I(1,gY,1,1,"TimesIcon",30)(2,_Y,1,0,"span",31)(3,IY,1,0,null,17),se()),i&2){let e=h(2).$implicit;d(),p("ngIf",!e.closeIconTemplate),d(),p("ngIf",e.closeIconTemplate),d(),p("ngTemplateOutlet",e.closeIconTemplate)}}function bY(i,n){if(i&1){let e=k();f(0,"li",19)(1,"a",20),R("click",function(o){b(e);let r=h().$implicit,s=h();return y(s.open(o,r))})("keydown",function(o){b(e);let r=h().$implicit,s=h();return y(s.onTabKeyDown(o,r))}),I(2,fY,7,5,"ng-container",16)(3,mY,1,0,"ng-container",17)(4,vY,4,3,"ng-container",16),m()()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h();te(t.headerStyleClass),p("ngClass",Ue(19,tY,t.selected,t.disabled))("ngStyle",t.headerStyle),M("data-p-disabled",t.disabled),d(),p("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),M("id",r.getTabHeaderActionId(t.id))("aria-controls",r.getTabContentId(t.id))("aria-selected",t.selected)("tabindex",t.disabled||!t.selected?"-1":r.tabindex)("aria-disabled",t.disabled)("data-pc-index",o)("data-pc-section","headeraction"),d(),p("ngIf",!t.headerTemplate),d(),p("ngTemplateOutlet",t.headerTemplate),d(),p("ngIf",t.closable)}}function yY(i,n){if(i&1&&I(0,bY,5,22,"li",18),i&2){let e=n.$implicit;p("ngIf",!e.closed)}}function wY(i,n){i&1&&E(0,"ChevronRightIcon"),i&2&&M("aria-hidden",!0)}function SY(i,n){}function AY(i,n){i&1&&I(0,SY,0,0,"ng-template")}function xY(i,n){if(i&1){let e=k();f(0,"button",34,5),R("click",function(){b(e);let o=h();return y(o.navForward())}),I(2,wY,1,1,"ChevronRightIcon",16)(3,AY,1,0,null,17),m()}if(i&2){let e=h();M("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),d(2),p("ngIf",!e.nextIconTemplate),d(),p("ngTemplateOutlet",e.nextIconTemplate)}}var jf=(()=>{class i{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,t,o,r){this.el=t,this.viewContainer=o,this.cd=r,this.tabView=e,this.id=ut()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnDestroy(){this.view=null}static \u0275fac=function(t){return new(t||i)(v(Dt(()=>Hf)),v(Le),v(jo),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-tabPanel"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",j],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",j],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[Ve],ngContentSelectors:QL,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(_i(),I(0,Kq,3,6,"div",0)),t&2&&p("ngIf",!o.closed)},dependencies:[ze,Xe],encapsulation:2})}return i})(),Hf=(()=>{class i{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.tabs&&this.tabs.length&&this._activeIndex!=null&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new W;onClose=new W;activeIndexChange=new W;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,t,o,r){this.platformId=e,this.el=t,this.cd=o,this.renderer=r}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break}})}callResizeObserver(){rt(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=L.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=L.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){rt(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(this.activeIndex!=null&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,t){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":this.onTabHomeKey(e);break;case"End":this.onTabEndKey(e);break;case"PageDown":this.onTabEndKey(e);break;case"PageUp":this.onTabHomeKey(e);break;case"Enter":case"Space":this.open(e,t);break;default:break}}onTabArrowLeftKey(e){let t=this.findPrevHeaderAction(e.target.parentElement),o=L.getAttribute(t,"data-pc-index");t?this.changeFocusedTab(e,t,o):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){let t=this.findNextHeaderAction(e.target.parentElement),o=L.getAttribute(t,"data-pc-index");t?this.changeFocusedTab(e,t,o):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){let t=this.findFirstHeaderAction(),o=L.getAttribute(t,"data-pc-index");this.changeFocusedTab(e,t,o),e.preventDefault()}onTabEndKey(e){let t=this.findLastHeaderAction(),o=L.getAttribute(t,"data-pc-index");this.changeFocusedTab(e,t,o),e.preventDefault()}changeFocusedTab(e,t,o){if(t&&(L.focus(t),t.scrollIntoView({block:"nearest"}),this.selectOnFocus)){let r=this.tabs[o];this.open(e,r)}}findNextHeaderAction(e,t=!1){let o=t?e:e.nextElementSibling;return o?L.getAttribute(o,"data-p-disabled")||L.getAttribute(o,"data-pc-section")==="inkbar"?this.findNextHeaderAction(o):L.findSingle(o,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,t=!1){let o=t?e:e.previousElementSibling;return o?L.getAttribute(o,"data-p-disabled")||L.getAttribute(o,"data-pc-section")==="inkbar"?this.findPrevHeaderAction(o):L.findSingle(o,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.navbar.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.navbar.nativeElement.lastElementChild,t=L.getAttribute(e,"data-pc-section")==="inkbar"?e.previousElementSibling:e;return this.findPrevHeaderAction(t,!0)}open(e,t){if(t.disabled){e&&e.preventDefault();return}if(!t.selected){let o=this.findSelectedTab();o&&(o.selected=!1),this.tabChanged=!0,t.selected=!0;let r=this.findTabIndex(t);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(r),this.onChange.emit({originalEvent:e,index:r}),this.updateScrollBar(r)}e&&e.preventDefault()}close(e,t){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(t),close:()=>{this.closeTab(t)}}):(this.closeTab(t),this.onClose.emit({originalEvent:e,index:this.findTabIndex(t)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let t=0;t<this.tabs.length;t++){let o=this.tabs[t];if(!o.closed&&!e.disabled){o.selected=!0;break}}}e.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let t=-1;for(let o=0;o<this.tabs.length;o++)if(this.tabs[o]==e){t=o;break}return t}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(rt(this.platformId)&&this.navbar){let e=L.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=L.getWidth(e)+"px",this.inkbar.nativeElement.style.left=L.getOffset(e).left-L.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){let t=this.navbar.nativeElement.children[e];t&&t.scrollIntoView({block:"nearest"})}updateButtonState(){let e=this.content.nativeElement,{scrollLeft:t,scrollWidth:o}=e,r=L.getWidth(e);this.backwardIsDisabled=t===0,this.forwardIsDisabled=Math.round(t)===o-r}refreshButtonState(){this.container=L.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=L.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.list.offsetWidth>=this.container.offsetWidth?this.buttonVisible=!0:this.buttonVisible=!1,this.updateButtonState(),this.cd.markForCheck())}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,t)=>t?e+L.getWidth(t):e,0)}navBackward(){let e=this.content.nativeElement,t=L.getWidth(e)-this.getVisibleButtonWidths(),o=e.scrollLeft-t;e.scrollLeft=o<=0?0:o}navForward(){let e=this.content.nativeElement,t=L.getWidth(e)-this.getVisibleButtonWidths(),o=e.scrollLeft+t,r=e.scrollWidth-t;e.scrollLeft=o>=r?r:o}static \u0275fac=function(t){return new(t||i)(v(Lt),v(Le),v(pe),v(wt))};static \u0275cmp=Y({type:i,selectors:[["p-tabView"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,jf,4),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.tabPanels=s),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(qq,5),ne(Yq,5),ne(Jq,5),ne(Xq,5),ne(Qq,5),ne(Zq,5)),t&2){let r;K(r=q())&&(o.content=r.first),K(r=q())&&(o.navbar=r.first),K(r=q())&&(o.prevBtn=r.first),K(r=q())&&(o.nextBtn=r.first),K(r=q())&&(o.inkbar=r.first),K(r=q())&&(o.elementToObserve=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",j],scrollable:[2,"scrollable","scrollable",j],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",j],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",j],tabindex:[2,"tabindex","tabindex",xe]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[Ve],ngContentSelectors:QL,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(t,o){if(t&1){let r=k();_i(),f(0,"div",6)(1,"div",7,0),I(3,rY,4,4,"button",8),f(4,"div",9,1),R("scroll",function(a){return b(r),y(o.onScroll(a))}),f(6,"ul",10,2),I(8,yY,1,1,"ng-template",11),E(9,"li",12,3),m()(),I(11,xY,4,4,"button",13),m(),f(12,"div",14),jt(13),m()()}t&2&&(te(o.styleClass),p("ngClass",J(11,eY,o.scrollable))("ngStyle",o.style),M("data-pc-name","tabview"),d(3),p("ngIf",o.scrollable&&!o.backwardIsDisabled&&o.autoHideButtons),d(),M("data-pc-section","navcontent"),d(2),M("data-pc-section","nav"),d(2),p("ngForOf",o.tabs),d(),M("data-pc-section","inkbar"),d(2),p("ngIf",o.scrollable&&!o.forwardIsDisabled&&o.buttonVisible))},dependencies:()=>[Fe,Ni,ze,Xe,ve,On,Ri,Ci,vp,Bs],styles:[`@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}
`],encapsulation:2,changeDetection:0})}return i})(),US=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,_o,Li,Ci,vp,Bs,$e]})}return i})();var EY=["overlay"],TY=["content"],OY=["*"],RY=(i,n,e,t,o,r,s,a,l,c,u,g,_,C)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":i,"p-overlay-center":n,"p-overlay-top":e,"p-overlay-top-start":t,"p-overlay-top-end":o,"p-overlay-bottom":r,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":g,"p-overlay-right-start":_,"p-overlay-right-end":C}),DY=(i,n,e)=>({showTransitionParams:i,hideTransitionParams:n,transform:e}),PY=i=>({value:"visible",params:i}),FY=i=>({mode:i}),LY=i=>({$implicit:i});function MY(i,n){i&1&&oe(0)}function kY(i,n){if(i&1){let e=k();f(0,"div",3,1),R("click",function(o){b(e);let r=h(2);return y(r.onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){b(e);let r=h(2);return y(r.onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){b(e);let r=h(2);return y(r.onOverlayContentAnimationDone(o))}),jt(2),I(3,MY,1,0,"ng-container",4),m()}if(i&2){let e=h(2);te(e.contentStyleClass),p("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",J(11,PY,Ai(7,DY,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),d(3),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",J(15,LY,J(13,FY,e.overlayMode)))}}function NY(i,n){if(i&1){let e=k();f(0,"div",3,0),R("click",function(){b(e);let o=h();return y(o.onOverlayClick())}),I(2,kY,4,17,"div",2),m()}if(i&2){let e=h();te(e.styleClass),p("ngStyle",e.style)("ngClass",Hd(5,RY,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),d(2),p("ngIf",e.visible)}}var VY={provide:Vi,useExisting:Dt(()=>Gf),multi:!0},BY=ks([Rt({transform:"{{transform}}",opacity:0}),kt("{{showTransitionParams}}")]),UY=ks([kt("{{hideTransitionParams}}",Rt({transform:"{{transform}}",opacity:0}))]),Gf=(()=>{class i{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return le.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return le.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return le.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return le.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new W;onBeforeShow=new W;onShow=new W;onBeforeHide=new W;onHide=new W;onAnimationStart=new W;onAnimationDone=new W;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(rt(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Q(Q({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Q(Q({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,t,o,r,s,a,l,c){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.config=s,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}show(e,t=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&L.focus(this.targetEl),this.modal&&L.addClass(this.document?.body,"p-overflow-hidden")}hide(e,t=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&L.focus(this.targetEl),this.modal&&L.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&L.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Yt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let t=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&this.show(t,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(t,!0),this.modalVisible=!1,this.unbindListeners(),L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Yt.clear(t),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,t){this[e].emit(t),this.options&&this.options[e]&&this.options[e](t),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](t)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let o=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&o}):o)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Yt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(xt),v(Jo),v(pe),v(It))};static \u0275cmp=Y({type:i,selectors:[["p-overlay"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(EY,5),ne(TY,5)),t&2){let r;K(r=q())&&(o.overlayViewChild=r.first),K(r=q())&&(o.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Ge([VY])],ngContentSelectors:OY,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(_i(),I(0,NY,3,20,"div",2)),t&2&&p("ngIf",o.modalVisible)},dependencies:[Fe,ze,Xe,ve],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[$i("overlayContentAnimation",[Nt(":enter",[Ns(BY)]),Nt(":leave",[Ns(UY)])])]},changeDetection:0})}return i})(),bp=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,$e]})}return i})();var jY=["element"],HY=["content"],GY=["*"],zY=(i,n,e)=>({"p-scroller":!0,"p-scroller-inline":i,"p-both-scroll":n,"p-horizontal-scroll":e}),jS=(i,n)=>({$implicit:i,options:n}),WY=i=>({"p-scroller-loading":i}),$Y=i=>({"p-component-overlay":i}),KY=i=>({numCols:i}),tM=i=>({options:i}),qY=()=>({styleClass:"p-scroller-loading-icon"}),YY=(i,n)=>({rows:i,columns:n});function JY(i,n){i&1&&oe(0)}function XY(i,n){if(i&1&&(re(0),I(1,JY,1,0,"ng-container",10),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Ue(2,jS,e.loadedItems,e.getContentOptions()))}}function QY(i,n){i&1&&oe(0)}function ZY(i,n){if(i&1&&(re(0),I(1,QY,1,0,"ng-container",10),se()),i&2){let e=n.$implicit,t=n.index,o=h(3);d(),p("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",Ue(2,jS,e,o.getOptions(t)))}}function eJ(i,n){if(i&1&&(f(0,"div",11,3),I(2,ZY,2,5,"ng-container",12),m()),i&2){let e=h(2);p("ngClass",J(5,WY,e.d_loading))("ngStyle",e.contentStyle),M("data-pc-section","content"),d(2),p("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function tJ(i,n){if(i&1&&E(0,"div",13),i&2){let e=h(2);p("ngStyle",e.spacerStyle),M("data-pc-section","spacer")}}function iJ(i,n){i&1&&oe(0)}function nJ(i,n){if(i&1&&(re(0),I(1,iJ,1,0,"ng-container",10),se()),i&2){let e=n.index,t=h(4);d(),p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(4,tM,t.getLoaderOptions(e,t.both&&J(2,KY,t._numItemsInViewport.cols))))}}function oJ(i,n){if(i&1&&(re(0),I(1,nJ,2,6,"ng-container",15),se()),i&2){let e=h(3);d(),p("ngForOf",e.loaderArr)}}function rJ(i,n){i&1&&oe(0)}function sJ(i,n){if(i&1&&(re(0),I(1,rJ,1,0,"ng-container",10),se()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",J(3,tM,Ie(2,qY)))}}function aJ(i,n){i&1&&E(0,"SpinnerIcon",16),i&2&&(p("styleClass","p-scroller-loading-icon pi-spin"),M("data-pc-section","loadingIcon"))}function lJ(i,n){if(i&1&&I(0,sJ,2,5,"ng-container",6)(1,aJ,1,2,"ng-template",null,5,bt),i&2){let e=Me(2),t=h(3);p("ngIf",t.loaderIconTemplate)("ngIfElse",e)}}function cJ(i,n){if(i&1&&(f(0,"div",14),I(1,oJ,2,1,"ng-container",6)(2,lJ,3,2,"ng-template",null,4,bt),m()),i&2){let e=Me(3),t=h(2);p("ngClass",J(4,$Y,!t.loaderTemplate)),M("data-pc-section","loader"),d(),p("ngIf",t.loaderTemplate)("ngIfElse",e)}}function dJ(i,n){if(i&1){let e=k();re(0),f(1,"div",7,1),R("scroll",function(o){b(e);let r=h();return y(r.onContainerScroll(o))}),I(3,XY,2,5,"ng-container",6)(4,eJ,3,7,"ng-template",null,2,bt)(6,tJ,1,2,"div",8)(7,cJ,4,6,"div",9),m(),se()}if(i&2){let e=Me(5),t=h();d(),te(t._styleClass),p("ngStyle",t._style)("ngClass",Ai(12,zY,t.inline,t.both,t.horizontal)),M("id",t._id)("tabindex",t.tabindex)("data-pc-name","scroller")("data-pc-section","root"),d(2),p("ngIf",t.contentTemplate)("ngIfElse",e),d(3),p("ngIf",t._showSpacer),d(),p("ngIf",!t.loaderDisabled&&t._showLoader&&t.d_loading)}}function uJ(i,n){i&1&&oe(0)}function pJ(i,n){if(i&1&&(re(0),I(1,uJ,1,0,"ng-container",10),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",Ue(5,jS,e.items,Ue(2,YY,e._items,e.loadedColumns)))}}function hJ(i,n){if(i&1&&(jt(0),I(1,pJ,2,8,"ng-container",17)),i&2){let e=h();d(),p("ngIf",e.contentTemplate)}}var Kr=(()=>{class i{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([t,o])=>this[`_${t}`]!==o&&(this[`_${t}`]=o))}onLazyLoad=new W;onScroll=new W;onScrollIndexChange=new W;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;resizeObserver;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(e,t,o,r,s){this.document=e,this.platformId=t,this.renderer=o,this.cd=r,this.zone=s}ngOnInit(){this.setInitialState()}ngOnChanges(e){let t=!1;if(e.loading){let{previousValue:o,currentValue:r}=e.loading;this.lazy&&o!==r&&r!==this.d_loading&&(this.d_loading=r,t=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:o,currentValue:r}=e.numToleratedItems;o!==r&&r!==this.d_numToleratedItems&&(this.d_numToleratedItems=r)}if(e.options){let{previousValue:o,currentValue:r}=e.options;this.lazy&&o?.loading!==r?.loading&&r?.loading!==this.d_loading&&(this.d_loading=r.loading,t=!0),o?.numToleratedItems!==r?.numToleratedItems&&r?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=r.numToleratedItems)}this.initialized&&!t&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){rt(this.platformId)&&!this.initialized&&L.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=L.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=L.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.resizeObserver=new ResizeObserver(()=>this.onResize()),this.resizeObserver.observe(this.elementViewChild?.nativeElement),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||L.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,t="auto"){if(this.both?e.every(r=>r>-1):e>-1){let r=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,g=(x=0,D)=>x<=D?0:x,_=(x,D,V)=>x*D+V,C=(x=0,D=0)=>this.scrollTo({left:x,top:D,behavior:t}),w=this.both?{rows:0,cols:0}:0,S=!1,A=!1;this.both?(w={rows:g(e[0],l[0]),cols:g(e[1],l[1])},C(_(w.cols,u[1],c.left),_(w.rows,u[0],c.top)),A=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,S=w.rows!==r.rows||w.cols!==r.cols):(w=g(e,l),this.horizontal?C(_(w,u,c.left),s):C(a,_(w,u,c.top)),A=this.lastScrollPos!==(this.horizontal?a:s),S=w!==r),this.isRangeChanged=S,A&&(this.first=w)}}scrollInView(e,t,o="auto"){if(t){let{first:r,viewport:s}=this.getRenderedRange(),a=(u=0,g=0)=>this.scrollTo({left:u,top:g,behavior:o}),l=t==="to-start",c=t==="to-end";if(l){if(this.both)s.first.rows-r.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-r.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-r>e){let u=(s.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)s.last.rows-r.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-r.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-r<=e+1){let u=(s.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(e,o)}getRenderedRange(){let e=(r,s)=>s||r?Math.floor(r/(s||r)):0,t=this.first,o=0;if(this.elementViewChild?.nativeElement){let{scrollTop:r,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)t={rows:e(r,this._itemSize[0]),cols:e(s,this._itemSize[1])},o={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:r;t=e(a,this._itemSize),o=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:o}}}calculateNumItems(){let e=this.getContentPosition(),t=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,o=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,r=(c,u)=>u||c?Math.ceil(c/(u||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:r(o,this._itemSize[0]),cols:r(t,this._itemSize[1])}:r(this.horizontal?t:o,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:t}=this.calculateNumItems(),o=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),r=this.first,s=this.both?{rows:o(this.first.rows,e.rows,t[0]),cols:o(this.first.cols,e.cols,t[1],!0)}:o(this.first,e,t);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=t,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:r.cols}:0:r,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,t]=[L.getWidth(this.contentEl),L.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),t!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[o,r]=[L.getWidth(this.elementViewChild.nativeElement),L.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=o<this.defaultWidth?o+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=r<this.defaultHeight?r+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,t=!1){return this._items?Math.min(t?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),o=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:o,top:r,bottom:s,x:t+o,y:r+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,t=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,o=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,r=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(r("height",o),r("width",t)):r("height",o)}}setSpacerSize(){if(this._items){let e=(o,r,s)=>this.spacerStyle=Ee(Q({},this.spacerStyle),{[`${o}`]:r*s+"px"}),t=this._items.length;this.both?(e("height",t,this._itemSize[0]),e("width",this._columns?.length||this._items[1]?.length,this._itemSize[1])):this.horizontal?e("width",this._columns.length||this._items.length,this._itemSize):e("height",t,this._itemSize)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let t=e?e.first:this.first,o=(s,a)=>s*a,r=(s=0,a=0)=>this.contentStyle=Ee(Q({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)r(o(t.cols,this._itemSize[1]),o(t.rows,this._itemSize[0]));else{let s=o(t,this._itemSize);this.horizontal?r(s,0):r(0,s)}}}onScrollPositionChange(e){let t=e.target,o=this.getContentPosition(),r=(A,x)=>A?A>x?A-x:A:0,s=(A,x)=>x||A?Math.floor(A/(x||A)):0,a=(A,x,D,V,X,ee)=>A<=X?X:ee?D-V-X:x+X-1,l=(A,x,D,V,X,ee,ae)=>A<=ee?0:Math.max(0,ae?A<x?D:A-ee:A>x?D:A-2*ee),c=(A,x,D,V,X,ee=!1)=>{let ae=x+V+2*X;return A>=X&&(ae+=X+1),this.getLast(ae,ee)},u=r(t.scrollTop,o.top),g=r(t.scrollLeft,o.left),_=this.both?{rows:0,cols:0}:0,C=this.last,w=!1,S=this.lastScrollPos;if(this.both){let A=this.lastScrollPos.top<=u,x=this.lastScrollPos.left<=g;if(!this._appendOnly||this._appendOnly&&(A||x)){let D={rows:s(u,this._itemSize[0]),cols:s(g,this._itemSize[1])},V={rows:a(D.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:a(D.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],x)};_={rows:l(D.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:l(D.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],x)},C={rows:c(D.rows,_.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(D.cols,_.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},w=_.rows!==this.first.rows||C.rows!==this.last.rows||_.cols!==this.first.cols||C.cols!==this.last.cols||this.isRangeChanged,S={top:u,left:g}}}else{let A=this.horizontal?g:u,x=this.lastScrollPos<=A;if(!this._appendOnly||this._appendOnly&&x){let D=s(A,this._itemSize),V=a(D,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x);_=l(D,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,x),C=c(D,_,this.last,this.numItemsInViewport,this.d_numToleratedItems),w=_!==this.first||C!==this.last||this.isRangeChanged,S=A}}return{first:_,last:C,isRangeChanged:w,scrollPos:S}}onScrollChange(e){let{first:t,last:o,isRangeChanged:r,scrollPos:s}=this.onScrollPositionChange(e);if(r){let a={first:t,last:o};if(this.setContentPosition(a),this.first=t,this.last=o,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(t)){let l={first:this._step?Math.min(this.getPageByFirst(t)*this._step,this.items.length-this._step):t,last:Math.min(this._step?(this.getPageByFirst(t)+1)*this._step:o,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:t}=this.onScrollPositionChange(e);(t||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}unbindResizeListener(){this.resizeObserver&&(this.resizeObserver.unobserve(this.elementViewChild?.nativeElement),this.resizeObserver=null)}onResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.isVisible(this.elementViewChild?.nativeElement)){let[e,t]=[L.getWidth(this.elementViewChild?.nativeElement),L.getHeight(this.elementViewChild?.nativeElement)],[o,r]=[e!==this.defaultWidth,t!==this.defaultHeight];(this.both?o||r:this.horizontal?o:this.vertical?r:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=t,this.contentEl&&(this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl)),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(e,t){return this.options&&this.options[e]?this.options[e](t):this[e].emit(t)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,t)=>this.getLoaderOptions(e,t),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let t=(this._items||[]).length,o=this.both?this.first.rows+e:this.first+e;return{index:o,count:t,first:o===0,last:o===t-1,even:o%2===0,odd:o%2!==0}}getLoaderOptions(e,t){let o=this.loaderArr.length;return Q({index:e,count:o,first:e===0,last:e===o-1,even:e%2===0,odd:e%2!==0},t)}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(pe),v(It))};static \u0275cmp=Y({type:i,selectors:[["p-scroller"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(jY,5),ne(HY,5)),t&2){let r;K(r=q())&&(o.elementViewChild=r.first),K(r=q())&&(o.contentViewChild=r.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[ki],ngContentSelectors:GY,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(t,o){if(t&1&&(_i(),I(0,dJ,8,16,"ng-container",6)(1,hJ,2,1,"ng-template",null,0,bt)),t&2){let r=Me(2);p("ngIf",!o._disabled)("ngIfElse",r)}},dependencies:()=>[Fe,Ni,ze,Xe,ve,Lr],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return i})(),Co=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Lr,$e]})}return i})();var HS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["BlankIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"rect",1),m())},encapsulation:2})}return i})();var Zo=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ChevronDownIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var Us=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["SearchIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var zf=i=>({height:i}),fJ=(i,n,e)=>({"p-dropdown-item":!0,"p-highlight":i,"p-disabled":n,"p-focus":e}),GS=i=>({$implicit:i});function mJ(i,n){i&1&&E(0,"CheckIcon",4),i&2&&p("styleClass","p-dropdown-check-icon")}function gJ(i,n){i&1&&E(0,"BlankIcon",4),i&2&&p("styleClass","p-dropdown-blank-icon")}function _J(i,n){if(i&1&&(re(0),I(1,mJ,1,1,"CheckIcon",3)(2,gJ,1,1,"BlankIcon",3),se()),i&2){let e=h();d(),p("ngIf",e.selected),d(),p("ngIf",!e.selected)}}function CJ(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e,t=h();d(),H((e=t.label)!==null&&e!==void 0?e:"empty")}}function IJ(i,n){i&1&&oe(0)}var vJ=["container"],bJ=["filter"],yJ=["focusInput"],wJ=["editableInput"],SJ=["items"],AJ=["scroller"],xJ=["overlay"],EJ=["firstHiddenFocusableEl"],TJ=["lastHiddenFocusableEl"],OJ=i=>({"max-height":i}),iM=i=>({options:i}),RJ=i=>({"p-variant-filled":i}),nM=(i,n)=>({$implicit:i,options:n}),DJ=()=>({});function PJ(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(2);d(),H(e.label()==="p-emptylabel"?"\xA0":e.label())}}function FJ(i,n){if(i&1&&oe(0,25),i&2){let e=h(2);p("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",J(2,GS,e.selectedOption))}}function LJ(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(3);d(),H(e.label()==="p-emptylabel"?"\xA0":e.label())}}function MJ(i,n){if(i&1&&I(0,LJ,2,1,"span",18),i&2){let e=h(2);p("ngIf",e.isSelectedOptionEmpty())}}function kJ(i,n){if(i&1){let e=k();f(0,"span",23,3),R("focus",function(o){b(e);let r=h();return y(r.onInputFocus(o))})("blur",function(o){b(e);let r=h();return y(r.onInputBlur(o))})("keydown",function(o){b(e);let r=h();return y(r.onKeyDown(o))}),I(2,PJ,2,1,"ng-container",20)(3,FJ,1,4,"ng-container",24)(4,MJ,1,1,"ng-template",null,4,bt),m()}if(i&2){let e,t=Me(5),o=h();p("ngClass",o.inputClass)("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass)("autofocus",o.autofocus),M("aria-disabled",o.disabled)("id",o.inputId)("aria-label",o.ariaLabel||(o.label()==="p-emptylabel"?void 0:o.label()))("aria-labelledby",o.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=o.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",o.overlayVisible?o.id+"_list":null)("tabindex",o.disabled?-1:o.tabindex)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-required",o.required)("required",o.required),d(2),p("ngIf",!o.selectedItemTemplate)("ngIfElse",t),d(),p("ngIf",o.selectedItemTemplate&&!o.isSelectedOptionEmpty())}}function NJ(i,n){if(i&1){let e=k();f(0,"input",26,5),R("input",function(o){b(e);let r=h();return y(r.onEditableInput(o))})("keydown",function(o){b(e);let r=h();return y(r.onKeyDown(o))})("focus",function(o){b(e);let r=h();return y(r.onInputFocus(o))})("blur",function(o){b(e);let r=h();return y(r.onInputBlur(o))}),m()}if(i&2){let e=h();p("ngClass",e.inputClass)("disabled",e.disabled)("autofocus",e.autofocus),M("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function VJ(i,n){if(i&1){let e=k();f(0,"TimesIcon",29),R("click",function(o){b(e);let r=h(2);return y(r.clear(o))}),m()}i&2&&(p("styleClass","p-dropdown-clear-icon"),M("data-pc-section","clearicon"))}function BJ(i,n){}function UJ(i,n){i&1&&I(0,BJ,0,0,"ng-template")}function jJ(i,n){if(i&1){let e=k();f(0,"span",30),R("click",function(o){b(e);let r=h(2);return y(r.clear(o))}),I(1,UJ,1,0,null,31),m()}if(i&2){let e=h(2);M("data-pc-section","clearicon"),d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function HJ(i,n){if(i&1&&(re(0),I(1,VJ,1,2,"TimesIcon",27)(2,jJ,2,2,"span",28),se()),i&2){let e=h();d(),p("ngIf",!e.clearIconTemplate),d(),p("ngIf",e.clearIconTemplate)}}function GJ(i,n){i&1&&oe(0)}function zJ(i,n){if(i&1&&(re(0),I(1,GJ,1,0,"ng-container",31),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function WJ(i,n){if(i&1&&E(0,"span",34),i&2){let e=h(3);p("ngClass","p-dropdown-trigger-icon pi-spin "+e.loadingIcon)}}function $J(i,n){i&1&&E(0,"span",35),i&2&&te("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function KJ(i,n){if(i&1&&(re(0),I(1,WJ,1,1,"span",32)(2,$J,1,2,"span",33),se()),i&2){let e=h(2);d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function qJ(i,n){if(i&1&&(re(0),I(1,zJ,2,1,"ng-container",18)(2,KJ,3,2,"ng-container",18),se()),i&2){let e=h();d(),p("ngIf",e.loadingIconTemplate),d(),p("ngIf",!e.loadingIconTemplate)}}function YJ(i,n){if(i&1&&E(0,"span",39),i&2){let e=h(3);p("ngClass",e.dropdownIcon)}}function JJ(i,n){i&1&&E(0,"ChevronDownIcon",40),i&2&&p("styleClass","p-dropdown-trigger-icon")}function XJ(i,n){if(i&1&&(re(0),I(1,YJ,1,1,"span",37)(2,JJ,1,1,"ChevronDownIcon",38),se()),i&2){let e=h(2);d(),p("ngIf",e.dropdownIcon),d(),p("ngIf",!e.dropdownIcon)}}function QJ(i,n){}function ZJ(i,n){i&1&&I(0,QJ,0,0,"ng-template")}function eX(i,n){if(i&1&&(f(0,"span",41),I(1,ZJ,1,0,null,31),m()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.dropdownIconTemplate)}}function tX(i,n){if(i&1&&I(0,XJ,3,2,"ng-container",18)(1,eX,2,1,"span",36),i&2){let e=h();p("ngIf",!e.dropdownIconTemplate),d(),p("ngIf",e.dropdownIconTemplate)}}function iX(i,n){i&1&&oe(0)}function nX(i,n){i&1&&oe(0)}function oX(i,n){if(i&1&&(re(0),I(1,nX,1,0,"ng-container",48),se()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",J(2,iM,e.filterOptions))}}function rX(i,n){i&1&&E(0,"SearchIcon",40),i&2&&p("styleClass","p-dropdown-filter-icon")}function sX(i,n){}function aX(i,n){i&1&&I(0,sX,0,0,"ng-template")}function lX(i,n){if(i&1&&(f(0,"span",52),I(1,aX,1,0,null,31),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.filterIconTemplate)}}function cX(i,n){if(i&1){let e=k();f(0,"div",49)(1,"input",50,10),R("input",function(o){b(e);let r=h(3);return y(r.onFilterInputChange(o))})("keydown",function(o){b(e);let r=h(3);return y(r.onFilterKeyDown(o))})("blur",function(o){b(e);let r=h(3);return y(r.onFilterBlur(o))}),m(),I(3,rX,1,1,"SearchIcon",38)(4,lX,2,1,"span",51),m()}if(i&2){let e=h(3);d(),p("value",e._filterValue()||"")("ngClass",J(8,RJ,e.variant==="filled"||e.config.inputStyle()==="filled")),M("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),d(2),p("ngIf",!e.filterIconTemplate),d(),p("ngIf",e.filterIconTemplate)}}function dX(i,n){if(i&1){let e=k();f(0,"div",47),R("click",function(o){return b(e),y(o.stopPropagation())}),I(1,oX,2,4,"ng-container",20)(2,cX,5,10,"ng-template",null,9,bt),m()}if(i&2){let e=Me(3),t=h(2);d(),p("ngIf",t.filterTemplate)("ngIfElse",e)}}function uX(i,n){i&1&&oe(0)}function pX(i,n){if(i&1&&I(0,uX,1,0,"ng-container",48),i&2){let e=n.$implicit,t=n.options;h(2);let o=Me(9);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Ue(2,nM,e,t))}}function hX(i,n){i&1&&oe(0)}function fX(i,n){if(i&1&&I(0,hX,1,0,"ng-container",48),i&2){let e=n.options,t=h(4);p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(2,iM,e))}}function mX(i,n){i&1&&(re(0),I(1,fX,1,4,"ng-template",54),se())}function gX(i,n){if(i&1){let e=k();f(0,"p-scroller",53,11),R("onLazyLoad",function(o){b(e);let r=h(2);return y(r.onLazyLoad.emit(o))}),I(2,pX,1,5,"ng-template",22)(3,mX,2,0,"ng-container",18),m()}if(i&2){let e=h(2);it(J(8,zf,e.scrollHeight)),p("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),d(3),p("ngIf",e.loaderTemplate)}}function _X(i,n){i&1&&oe(0)}function CX(i,n){if(i&1&&(re(0),I(1,_X,1,0,"ng-container",48),se()),i&2){h();let e=Me(9),t=h();d(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",Ue(3,nM,t.visibleOptions(),Ie(2,DJ)))}}function IX(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2).$implicit,t=h(3);d(),H(t.getOptionGroupLabel(e.optionGroup))}}function vX(i,n){i&1&&oe(0)}function bX(i,n){if(i&1&&(re(0),f(1,"li",58),I(2,IX,2,1,"span",18)(3,vX,1,0,"ng-container",48),m(),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);d(),p("ngStyle",J(5,zf,r.itemSize+"px")),M("id",s.id+"_"+s.getOptionIndex(o,r)),d(),p("ngIf",!s.groupTemplate),d(),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",J(7,GS,t.optionGroup))}}function yX(i,n){if(i&1){let e=k();re(0),f(1,"p-dropdownItem",59),R("onClick",function(o){b(e);let r=h().$implicit,s=h(3);return y(s.onOptionSelect(o,r))})("onMouseEnter",function(o){b(e);let r=h().index,s=h().options,a=h(2);return y(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))}),m(),se()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);d(),p("id",s.id+"_"+s.getOptionIndex(o,r))("option",t)("checkmark",s.checkmark)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(o,r))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r)))("ariaSetSize",s.ariaSetSize)}}function wX(i,n){if(i&1&&I(0,bX,4,9,"ng-container",18)(1,yX,2,10,"ng-container",18),i&2){let e=n.$implicit,t=h(3);p("ngIf",t.isOptionGroup(e)),d(),p("ngIf",!t.isOptionGroup(e))}}function SX(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(4);d(),z(" ",e.emptyFilterMessageLabel," ")}}function AX(i,n){i&1&&oe(0,null,13)}function xX(i,n){if(i&1&&(f(0,"li",60),I(1,SX,2,1,"ng-container",20)(2,AX,2,0,"ng-container",31),m()),i&2){let e=h().options,t=h(2);p("ngStyle",J(4,zf,e.itemSize+"px")),d(),p("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),d(),p("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function EX(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(4);d(),z(" ",e.emptyMessageLabel," ")}}function TX(i,n){i&1&&oe(0,null,14)}function OX(i,n){if(i&1&&(f(0,"li",60),I(1,EX,2,1,"ng-container",20)(2,TX,2,0,"ng-container",31),m()),i&2){let e=h().options,t=h(2);p("ngStyle",J(4,zf,e.itemSize+"px")),d(),p("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),d(),p("ngTemplateOutlet",t.emptyTemplate)}}function RX(i,n){if(i&1&&(f(0,"ul",55,12),I(2,wX,2,2,"ng-template",56)(3,xX,3,6,"li",57)(4,OX,3,6,"li",57),m()),i&2){let e=n.$implicit,t=n.options,o=h(2);p("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),M("id",o.id+"_list")("aria-label",o.listLabel),d(2),p("ngForOf",e),d(),p("ngIf",o.filterValue&&o.isEmpty()),d(),p("ngIf",!o.filterValue&&o.isEmpty())}}function DX(i,n){i&1&&oe(0)}function PX(i,n){if(i&1){let e=k();f(0,"div",42)(1,"span",43,6),R("focus",function(o){b(e);let r=h();return y(r.onFirstHiddenFocus(o))}),m(),I(3,iX,1,0,"ng-container",31)(4,dX,4,2,"div",44),f(5,"div",45),I(6,gX,4,10,"p-scroller",46)(7,CX,2,6,"ng-container",18)(8,RX,5,7,"ng-template",null,7,bt),m(),I(10,DX,1,0,"ng-container",31),f(11,"span",43,8),R("focus",function(o){b(e);let r=h();return y(r.onLastHiddenFocus(o))}),m()()}if(i&2){let e=h();te(e.panelStyleClass),p("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),d(),M("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),d(2),p("ngTemplateOutlet",e.headerTemplate),d(),p("ngIf",e.filter),d(),p("ngStyle",J(16,OJ,e.virtualScroll?"auto":e.scrollHeight||"auto")),d(),p("ngIf",e.virtualScroll),d(),p("ngIf",!e.virtualScroll),d(3),p("ngTemplateOutlet",e.footerTemplate),d(),M("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var FX={provide:Vi,useExisting:Dt(()=>dr),multi:!0},LX=(()=>{class i{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new W;onMouseEnter=new W;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",j],focused:[2,"focused","focused",j],label:"label",disabled:[2,"disabled","disabled",j],visible:[2,"visible","visible",j],itemSize:[2,"itemSize","itemSize",xe],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",j]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Ve],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,o){t&1&&(f(0,"li",0),R("click",function(s){return o.onOptionClick(s)})("mouseenter",function(s){return o.onOptionMouseEnter(s)}),I(1,_J,3,2,"ng-container",1)(2,CJ,2,1,"span",1)(3,IJ,1,0,"ng-container",2),m()),t&2&&(p("id",o.id)("ngStyle",J(14,zf,o.itemSize+"px"))("ngClass",Ai(16,fJ,o.selected,o.disabled,o.focused)),M("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled),d(),p("ngIf",o.checkmark),d(),p("ngIf",!o.template),d(),p("ngTemplateOutlet",o.template)("ngTemplateOutletContext",J(20,GS,o.option)))},dependencies:()=>[Fe,ze,Xe,ve,Ri,HS,Ki],encapsulation:2})}return i})(),dr=(()=>{class i{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;autoShowPanelOnPrintableCharacterKeyDown=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){le.deepEquals(e,this._options())||this._options.set(e)}onChange=new W;onFilter=new W;onFocus=new W;onBlur=new W;onClick=new W;onShow=new W;onHide=new W;onClear=new W;onLazyLoad=new W;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=ui(null);_placeholder=ui(void 0);modelValue=ui(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=ui(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=ui(-1);labelId;listId;clicked=ui(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(oi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(oi.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(oi.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=to(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let o=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(r=>r.label?r.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:r.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let r=this.options||[],s=[];return r.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>o.includes(u));c.length>0&&s.push(Ee(Q({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return o}return e});label=to(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=e.findIndex(o=>this.isOptionValueEqualsModelValue(o));return t!==-1?this.getOptionLabel(e[t]):this.placeholder()||"p-emptylabel"});filled=to(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=to(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,t,o,r,s,a){this.el=e,this.renderer=t,this.cd=o,this.zone=r,this.filterService=s,this.config=a,Il(()=>{let l=this.modelValue(),c=this.visibleOptions();if(c&&le.isNotEmpty(c)){let u=this.findSelectedOptionIndex();(u!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=c[u])}le.isEmpty(c)&&(l===void 0||this.isModelValueNotSet())&&le.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||ut(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&L.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,t,o=!0,r=!1){if(!this.isSelected(t)){let s=this.getOptionValue(t);this.updateModel(s,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r===!1&&this.onChange.emit({originalEvent:e,value:s})}o&&this.hide(!0)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}updateModel(e,t){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return le.isEmpty(this.selectedOption)}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return le.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let e=this.el.nativeElement.parentElement,t=e?.classList.contains("p-float-label");if(e&&t&&!this.selectedOption){let o=e.querySelector("label");o&&this._placeholder.set(o.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?le.resolveFieldData(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?le.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?le.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?le.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?le.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&this.focusedOptionIndex.set(-1),this.onModelChange(t),this.updateModel(t,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:t})},1),!this.overlayVisible&&le.isNotEmpty(t)&&this.show()}show(e){this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(t),e&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=L.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&setTimeout(()=>{L.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{L.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(e){e.preventDefault()}onKeyDown(e,t){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,t);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&le.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.autoShowPanelOnPrintableCharacterKeyDown&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,t){if(this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus)){let o=this.visibleOptions()[t];this.onOptionSelect(e,o,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let o=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?le.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findLastOptionIndex(){return le.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,t=!1){if(e.altKey&&!t){if(this.focusedOptionIndex()!==-1){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}this.overlayVisible&&this.hide()}else{let o=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,t=!1){if(t){let o=e.currentTarget;e.shiftKey?o.setSelectionRange(0,o.value.length):(o.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,t=!1){if(t){let o=e.currentTarget;if(e.shiftKey)o.setSelectionRange(0,o.value.length);else{let r=o.value.length;o.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,t=!1){!this.editable&&!t&&this.onEnterKey(e)}onEnterKey(e,t=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}!t&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,t=!1){if(!t)if(this.overlayVisible&&this.hasFocusableElements())L.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;L.focus(t)}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(t)}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedOptionIndex()!==-1?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),o=o===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?L.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(pe),v(It),v(qa),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-dropdown"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(vJ,5),ne(bJ,5),ne(yJ,5),ne(wJ,5),ne(SJ,5),ne(AJ,5),ne(xJ,5),ne(EJ,5),ne(TJ,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.filterViewChild=r.first),K(r=q())&&(o.focusInputViewChild=r.first),K(r=q())&&(o.editableInputViewChild=r.first),K(r=q())&&(o.itemsViewChild=r.first),K(r=q())&&(o.scroller=r.first),K(r=q())&&(o.overlayViewChild=r.first),K(r=q())&&(o.firstHiddenFocusableElementOnOverlay=r.first),K(r=q())&&(o.lastHiddenFocusableElementOnOverlay=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-filled",o.filled())("p-inputwrapper-focus",o.focused||o.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",j],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",j],required:[2,"required","required",j],editable:[2,"editable","editable",j],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",xe],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",j],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",j],checkmark:[2,"checkmark","checkmark",j],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",j],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",j],group:[2,"group","group",j],showClear:[2,"showClear","showClear",j],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",j],virtualScroll:[2,"virtualScroll","virtualScroll",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",xe],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",j],selectOnFocus:[2,"selectOnFocus","selectOnFocus",j],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",j],autofocusFilter:[2,"autofocusFilter","autofocusFilter",j],autoShowPanelOnPrintableCharacterKeyDown:[2,"autoShowPanelOnPrintableCharacterKeyDown","autoShowPanelOnPrintableCharacterKeyDown",j],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Ge([FX]),Ve],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(t,o){if(t&1){let r=k();f(0,"div",15,0),R("click",function(a){return b(r),y(o.onContainerClick(a))}),I(2,kJ,6,20,"span",16)(3,NJ,2,8,"input",17)(4,HJ,3,2,"ng-container",18),f(5,"div",19),R("mousedown",function(a){return b(r),y(o.onMouseDown(a))}),I(6,qJ,3,2,"ng-container",20)(7,tX,2,2,"ng-template",null,1,bt),m(),f(9,"p-overlay",21,2),Re("visibleChange",function(a){return b(r),De(o.overlayVisible,a)||(o.overlayVisible=a),y(a)}),R("onAnimationStart",function(a){return b(r),y(o.onOverlayAnimationStart(a))})("onHide",function(){return b(r),y(o.hide())}),I(11,PX,13,18,"ng-template",22),m()()}if(t&2){let r,s=Me(8);te(o.styleClass),p("ngClass",o.containerClass)("ngStyle",o.style),M("id",o.id),d(2),p("ngIf",!o.editable),d(),p("ngIf",o.editable),d(),p("ngIf",o.isVisibleClearIcon),d(),M("aria-expanded",(r=o.overlayVisible)!==null&&r!==void 0?r:!1)("data-pc-section","trigger"),d(),p("ngIf",o.loading)("ngIfElse",s),d(3),Oe("visible",o.overlayVisible),p("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("autoZIndex",o.autoZIndex)("baseZIndex",o.baseZIndex)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Fe,Ni,ze,Xe,ve,Gf,ge,On,Kr,mn,Ci,Zo,Us,LX],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return i})(),Dc=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,bp,$e,_o,Li,Co,Tn,Ci,Zo,Us,HS,Ki,bp,$e,Co]})}return i})();var zS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleDoubleLeftIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var WS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleDoubleRightIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var $S=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleLeftIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var Pc=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleRightIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var KS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleDownIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var qS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["AngleUpIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var MX=["input"],kX=(i,n,e)=>({"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":i,"p-inputnumber-buttons-horizontal":n,"p-inputnumber-buttons-vertical":e}),oM=()=>({"p-inputnumber-button p-inputnumber-button-up":!0}),rM=()=>({"p-inputnumber-button p-inputnumber-button-down":!0});function NX(i,n){if(i&1){let e=k();f(0,"TimesIcon",8),R("click",function(){b(e);let o=h(2);return y(o.clear())}),m()}i&2&&(p("ngClass","p-inputnumber-clear-icon"),M("data-pc-section","clearIcon"))}function VX(i,n){}function BX(i,n){i&1&&I(0,VX,0,0,"ng-template")}function UX(i,n){if(i&1){let e=k();f(0,"span",9),R("click",function(){b(e);let o=h(2);return y(o.clear())}),I(1,BX,1,0,null,10),m()}if(i&2){let e=h(2);M("data-pc-section","clearIcon"),d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function jX(i,n){if(i&1&&(re(0),I(1,NX,1,2,"TimesIcon",6)(2,UX,2,2,"span",7),se()),i&2){let e=h();d(),p("ngIf",!e.clearIconTemplate),d(),p("ngIf",e.clearIconTemplate)}}function HX(i,n){if(i&1&&E(0,"span",14),i&2){let e=h(2);p("ngClass",e.incrementButtonIcon),M("data-pc-section","incrementbuttonicon")}}function GX(i,n){i&1&&E(0,"AngleUpIcon"),i&2&&M("data-pc-section","incrementbuttonicon")}function zX(i,n){}function WX(i,n){i&1&&I(0,zX,0,0,"ng-template")}function $X(i,n){if(i&1&&(re(0),I(1,GX,1,1,"AngleUpIcon",3)(2,WX,1,0,null,10),se()),i&2){let e=h(2);d(),p("ngIf",!e.incrementButtonIconTemplate),d(),p("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function KX(i,n){if(i&1&&E(0,"span",14),i&2){let e=h(2);p("ngClass",e.decrementButtonIcon),M("data-pc-section","decrementbuttonicon")}}function qX(i,n){i&1&&E(0,"AngleDownIcon"),i&2&&M("data-pc-section","decrementbuttonicon")}function YX(i,n){}function JX(i,n){i&1&&I(0,YX,0,0,"ng-template")}function XX(i,n){if(i&1&&(re(0),I(1,qX,1,1,"AngleDownIcon",3)(2,JX,1,0,null,10),se()),i&2){let e=h(2);d(),p("ngIf",!e.decrementButtonIconTemplate),d(),p("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function QX(i,n){if(i&1){let e=k();f(0,"span",11)(1,"button",12),R("mousedown",function(o){b(e);let r=h();return y(r.onUpButtonMouseDown(o))})("mouseup",function(){b(e);let o=h();return y(o.onUpButtonMouseUp())})("mouseleave",function(){b(e);let o=h();return y(o.onUpButtonMouseLeave())})("keydown",function(o){b(e);let r=h();return y(r.onUpButtonKeyDown(o))})("keyup",function(){b(e);let o=h();return y(o.onUpButtonKeyUp())}),I(2,HX,1,2,"span",13)(3,$X,3,2,"ng-container",3),m(),f(4,"button",12),R("mousedown",function(o){b(e);let r=h();return y(r.onDownButtonMouseDown(o))})("mouseup",function(){b(e);let o=h();return y(o.onDownButtonMouseUp())})("mouseleave",function(){b(e);let o=h();return y(o.onDownButtonMouseLeave())})("keydown",function(o){b(e);let r=h();return y(r.onDownButtonKeyDown(o))})("keyup",function(){b(e);let o=h();return y(o.onDownButtonKeyUp())}),I(5,KX,1,2,"span",13)(6,XX,3,2,"ng-container",3),m()()}if(i&2){let e=h();M("data-pc-section","buttonGroup"),d(),te(e.incrementButtonClass),p("ngClass",Ie(17,oM))("disabled",e.disabled),M("aria-hidden",!0)("data-pc-section","incrementbutton"),d(),p("ngIf",e.incrementButtonIcon),d(),p("ngIf",!e.incrementButtonIcon),d(),te(e.decrementButtonClass),p("ngClass",Ie(18,rM))("disabled",e.disabled),M("aria-hidden",!0)("data-pc-section",e.decrementbutton),d(),p("ngIf",e.decrementButtonIcon),d(),p("ngIf",!e.decrementButtonIcon)}}function ZX(i,n){if(i&1&&E(0,"span",14),i&2){let e=h(2);p("ngClass",e.incrementButtonIcon),M("data-pc-section","incrementbuttonicon")}}function eQ(i,n){i&1&&E(0,"AngleUpIcon"),i&2&&M("data-pc-section","incrementbuttonicon")}function tQ(i,n){}function iQ(i,n){i&1&&I(0,tQ,0,0,"ng-template")}function nQ(i,n){if(i&1&&(re(0),I(1,eQ,1,1,"AngleUpIcon",3)(2,iQ,1,0,null,10),se()),i&2){let e=h(2);d(),p("ngIf",!e.incrementButtonIconTemplate),d(),p("ngTemplateOutlet",e.incrementButtonIconTemplate)}}function oQ(i,n){if(i&1){let e=k();f(0,"button",12),R("mousedown",function(o){b(e);let r=h();return y(r.onUpButtonMouseDown(o))})("mouseup",function(){b(e);let o=h();return y(o.onUpButtonMouseUp())})("mouseleave",function(){b(e);let o=h();return y(o.onUpButtonMouseLeave())})("keydown",function(o){b(e);let r=h();return y(r.onUpButtonKeyDown(o))})("keyup",function(){b(e);let o=h();return y(o.onUpButtonKeyUp())}),I(1,ZX,1,2,"span",13)(2,nQ,3,2,"ng-container",3),m()}if(i&2){let e=h();te(e.incrementButtonClass),p("ngClass",Ie(8,oM))("disabled",e.disabled),M("aria-hidden",!0)("data-pc-section","incrementbutton"),d(),p("ngIf",e.incrementButtonIcon),d(),p("ngIf",!e.incrementButtonIcon)}}function rQ(i,n){if(i&1&&E(0,"span",14),i&2){let e=h(2);p("ngClass",e.decrementButtonIcon),M("data-pc-section","decrementbuttonicon")}}function sQ(i,n){i&1&&E(0,"AngleDownIcon"),i&2&&M("data-pc-section","decrementbuttonicon")}function aQ(i,n){}function lQ(i,n){i&1&&I(0,aQ,0,0,"ng-template")}function cQ(i,n){if(i&1&&(re(0),I(1,sQ,1,1,"AngleDownIcon",3)(2,lQ,1,0,null,10),se()),i&2){let e=h(2);d(),p("ngIf",!e.decrementButtonIconTemplate),d(),p("ngTemplateOutlet",e.decrementButtonIconTemplate)}}function dQ(i,n){if(i&1){let e=k();f(0,"button",12),R("mousedown",function(o){b(e);let r=h();return y(r.onDownButtonMouseDown(o))})("mouseup",function(){b(e);let o=h();return y(o.onDownButtonMouseUp())})("mouseleave",function(){b(e);let o=h();return y(o.onDownButtonMouseLeave())})("keydown",function(o){b(e);let r=h();return y(r.onDownButtonKeyDown(o))})("keyup",function(){b(e);let o=h();return y(o.onDownButtonKeyUp())}),I(1,rQ,1,2,"span",13)(2,cQ,3,2,"ng-container",3),m()}if(i&2){let e=h();te(e.decrementButtonClass),p("ngClass",Ie(8,rM))("disabled",e.disabled),M("aria-hidden",!0)("data-pc-section","decrementbutton"),d(),p("ngIf",e.decrementButtonIcon),d(),p("ngIf",!e.decrementButtonIcon)}}var uQ={provide:Vi,useExisting:Dt(()=>YS),multi:!0},YS=(()=>{class i{document;el;cd;injector;config;showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;style;placeholder;size;maxlength;tabindex;title;ariaLabelledBy;ariaLabel;ariaRequired;name;required;autocomplete;min;max;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly=!1;step=1;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;variant="outlined";minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}onInput=new W;onFocus=new W;onBlur=new W;onKeyDown=new W;onClear=new W;input;templates;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar;_group;_minusSign;_currency;_prefix;_suffix;_index;_disabled;ngControl=null;constructor(e,t,o,r,s){this.document=e,this.el=t,this.cd=o,this.injector=r,this.config=s}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(o=>!!e[o])&&this.updateConstructParser()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this.clearIconTemplate=e.template;break;case"incrementbuttonicon":this.incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this.decrementButtonIconTemplate=e.template;break}})}ngOnInit(){this.ngControl=this.injector.get(cr,null,{optional:!0}),this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits??void 0,maximumFractionDigits:this.maxFractionDigits??void 0}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());let e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),t=new Map(e.map((o,r)=>[o,r]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=o=>t.get(o)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,Ee(Q({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}get isBlurUpdateOnMode(){return this.ngControl?.control?.updateOn==="blur"}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let o=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(o=this.prefix+o),this.suffix&&e!=this.suffix&&(o=o+this.suffix),o}return e.toString()}return""}parseValue(e){let t=new RegExp(this._suffix,""),o=new RegExp(this._prefix,""),r=new RegExp(this._currency,""),s=e.replace(t,"").replace(o,"").trim().replace(/\s/g,"").replace(r,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if(s==="-")return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,t,o){if(this.readonly)return;let r=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,o)},r),this.spin(e,o)}spin(e,t){let o=this.step*t,r=this.parseValue(this.input?.nativeElement.value)||0,s=this.validateValue(r+o);this.maxlength&&this.maxlength<this.formatValue(s).length||(this.updateInput(s,null,"spin",null),this.updateModel(e,s),this.handleOnInput(e,r,s))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.disabled||this.clearTimer()}onUpButtonMouseLeave(){this.disabled||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.disabled||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.disabled||this.clearTimer()}onDownButtonMouseLeave(){this.disabled||this.clearTimer()}onDownButtonKeyUp(){this.disabled||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let t=e.target.selectionStart,o=e.target.selectionEnd,r=e.target.value,s=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=t;a<=r.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(r.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=o;a>=0;a--)if(this.isNumeralChar(r.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":s=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s);break;case"Backspace":{if(e.preventDefault(),t===o){if(t==1&&this.prefix||t==r.length&&this.suffix)break;let a=r.charAt(t-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let u=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,s=r.slice(0,t-2)+r.slice(t-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(t-1,t-1):s=r.slice(0,t-1)+r.slice(t);else if(l>0&&t>l){let g=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";s=r.slice(0,t-1)+g+r.slice(t)}else c===1?(s=r.slice(0,t-1)+"0"+r.slice(t),s=this.parseValue(s)>0?s:""):s=r.slice(0,t-1)+r.slice(t)}else this.mode==="currency"&&a.search(this._currency)!=-1&&(s=r.slice(1));this.updateValue(e,s,null,"delete-single")}else s=this.deleteRange(r,t,o),this.updateValue(e,s,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===o){if(t==0&&this.prefix||t==r.length-1&&this.suffix)break;let a=r.charAt(t),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let u=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,s=r.slice(0,t)+r.slice(t+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,u?this.input?.nativeElement.setSelectionRange(t+1,t+1):s=r.slice(0,t)+r.slice(t+1);else if(l>0&&t>l){let g=this.isDecimalMode()&&(this.minFractionDigits||0)<u?"":"0";s=r.slice(0,t)+g+r.slice(t+1)}else c===1?(s=r.slice(0,t)+"0"+r.slice(t+1),s=this.parseValue(s)>0?s:""):s=r.slice(0,t)+r.slice(t+1)}this.updateValue(e,s,null,"delete-back-single")}else s=this.deleteRange(r,t,o),this.updateValue(e,s,null,"delete-range");break;case"Home":this.min&&(this.updateModel(e,this.min),e.preventDefault());break;case"End":this.max&&(this.updateModel(e,this.max),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let t=e.which||e.keyCode,o=String.fromCharCode(t),r=this.isDecimalSign(o),s=this.isMinusSign(o);t!=13&&e.preventDefault(),!r&&e.code==="NumpadDecimal"&&(r=!0,o=this._decimalChar,t=o.charCodeAt(0));let a=this.parseValue(this.input.nativeElement.value+o),l=a!=null?a.toString():"";if(this.maxlength&&this.getSelectedText()?.length==this.maxlength){this.insert(e,o,{isDecimalSign:r,isMinusSign:s});return}this.maxlength&&l.length>this.maxlength||(48<=t&&t<=57||s||r)&&this.insert(e,o,{isDecimalSign:r,isMinusSign:s})}getSelectedText(){return window?.getSelection()?.toString().replaceAll(/[^0-9']/g,"")||""}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let t=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(t){this.maxlength&&(t=t.toString().substring(0,this.maxlength));let o=this.parseValue(t);o!=null&&this.insert(e,o.toString())}}}allowMinusSign(){return this.min==null||this.min<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:r}}getCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let o=e.search(this._minusSign);this._minusSign.lastIndex=0;let r=e.search(this._suffix);this._suffix.lastIndex=0;let s=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:o,suffixCharIndex:r,currencyCharIndex:s}}insert(e,t,o={isDecimalSign:!1,isMinusSign:!1}){let r=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&r!==-1)return;let s=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:u,suffixCharIndex:g,currencyCharIndex:_}=this.getCharIndexes(l),C;if(o.isMinusSign)s===0&&(C=l,(u===-1||a!==0)&&(C=this.insertText(l,t,0,a)),this.updateValue(e,C,t,"insert"));else if(o.isDecimalSign)c>0&&s===c?this.updateValue(e,l,t,"insert"):c>s&&c<a?(C=this.insertText(l,t,s,a),this.updateValue(e,C,t,"insert")):c===-1&&this.maxFractionDigits&&(C=this.insertText(l,t,s,a),this.updateValue(e,C,t,"insert"));else{let w=this.numberFormat.resolvedOptions().maximumFractionDigits,S=s!==a?"range-insert":"insert";if(c>0&&s>c){if(s+t.length-(c+1)<=w){let A=_>=s?_-1:g>=s?g:l.length;C=l.slice(0,s)+t+l.slice(s+t.length,A)+l.slice(A),this.updateValue(e,C,t,S)}}else C=this.insertText(l,t,s,a),this.updateValue(e,C,t,S)}}insertText(e,t,o,r){if((t==="."?t:t.split(".")).length===2){let a=e.slice(o,r).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,o)+this.formatValue(t)+e.slice(r):e||this.formatValue(t)}else return r-o===e.length?this.formatValue(t):o===0?t+e.slice(r):r===e.length?e.slice(0,o)+t:e.slice(0,o)+t+e.slice(r)}deleteRange(e,t,o){let r;return o-t===e.length?r="":t===0?r=e.slice(o):o===e.length?r=e.slice(0,t):r=e.slice(0,t)+e.slice(o),r}initCursor(){let e=this.input?.nativeElement.selectionStart,t=this.input?.nativeElement.selectionEnd,o=this.input?.nativeElement.value,r=o.length,s=null,a=(this.prefixChar||"").length;o=o.replace(this._prefix,""),(e===t||e!==0||t<a)&&(e-=a);let l=o.charAt(e);if(this.isNumeralChar(l))return e+a;let c=e-1;for(;c>=0;)if(l=o.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c--;if(s!==null)this.input?.nativeElement.setSelectionRange(s+1,s+1);else{for(c=e;c<r;)if(l=o.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c++;s!==null&&this.input?.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==L.getSelection()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,t,o,r){let s=this.input?.nativeElement.value,a=null;t!=null&&(a=this.parseValue(t),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,o,r,t),this.handleOnInput(e,s,a))}handleOnInput(e,t,o){this.isValueChanged(t,o)&&(this.input.nativeElement.value=this.formatValue(o),this.input?.nativeElement.setAttribute("aria-valuenow",o),!this.isBlurUpdateOnMode&&this.updateModel(e,o),this.onInput.emit({originalEvent:e,value:o,formattedValue:t}))}isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let o=typeof e=="string"?this.parseValue(e):e;return t!==o}return!1}validateValue(e){return e==="-"||e==null?null:this.min!=null&&e<this.min?this.min:this.max!=null&&e>this.max?this.max:e}updateInput(e,t,o,r){t=t||"";let s=this.input?.nativeElement.value,a=this.formatValue(e),l=s.length;if(a!==r&&(a=this.concatValues(a,r)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let u=this.initCursor()+t.length;this.input.nativeElement.setSelectionRange(u,u)}else{let c=this.input.nativeElement.selectionStart,u=this.input.nativeElement.selectionEnd;if(this.maxlength&&a.length>this.maxlength&&(a=a.slice(0,this.maxlength),c=Math.min(c,this.maxlength),u=Math.min(u,this.maxlength)),this.maxlength&&this.maxlength<a.length)return;this.input.nativeElement.value=a;let g=a.length;if(o==="range-insert"){let _=this.parseValue((s||"").slice(0,c)),w=(_!==null?_.toString():"").split("").join(`(${this.groupChar})?`),S=new RegExp(w,"g");S.test(a);let A=t.split("").join(`(${this.groupChar})?`),x=new RegExp(A,"g");x.test(a.slice(S.lastIndex)),u=S.lastIndex+x.lastIndex,this.input.nativeElement.setSelectionRange(u,u)}else if(g===l)o==="insert"||o==="delete-back-single"?this.input.nativeElement.setSelectionRange(u+1,u+1):o==="delete-single"?this.input.nativeElement.setSelectionRange(u-1,u-1):(o==="delete-range"||o==="spin")&&this.input.nativeElement.setSelectionRange(u,u);else if(o==="delete-back-single"){let _=s.charAt(u-1),C=s.charAt(u),w=l-g,S=this._group.test(C);S&&w===1?u+=1:!S&&this.isNumeralChar(_)&&(u+=-1*w+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(u,u)}else if(s==="-"&&o==="insert"){this.input.nativeElement.setSelectionRange(0,0);let C=this.initCursor()+t.length+1;this.input.nativeElement.setSelectionRange(C,C)}else u=u+(g-l),this.input.nativeElement.setSelectionRange(u,u)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,t){if(e&&t){let o=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?o!==-1?e:e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(o)+this.suffixChar:o!==-1?e.split(this._decimal)[0]+t.slice(o):e}return e}getDecimalLength(e){if(e){let t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let t=this.validateValue(this.parseValue(this.input.nativeElement.value)),o=t?.toString();this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,t),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,t){this.value!==t&&(this.value=t,this.isBlurUpdateOnMode&&this.focused?this.isBlurUpdateOnMode&&this.onModelChange(t):this.onModelChange(t)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return this.value!=null&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(t){return new(t||i)(v(ct),v(Le),v(pe),v(Zn),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-inputNumber"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(MX,5),t&2){let r;K(r=q())&&(o.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-inputnumber-clearable",o.showClear&&o.buttonLayout!="vertical")},inputs:{showButtons:[2,"showButtons","showButtons",j],format:[2,"format","format",j],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:[2,"size","size",xe],maxlength:[2,"maxlength","maxlength",xe],tabindex:[2,"tabindex","tabindex",xe],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",j],name:"name",required:[2,"required","required",j],autocomplete:"autocomplete",min:[2,"min","min",xe],max:[2,"max","max",xe],incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",j],step:[2,"step","step",xe],allowEmpty:[2,"allowEmpty","allowEmpty",j],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",j],variant:"variant",minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>xe(e,null)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>xe(e,null)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",j],autofocus:[2,"autofocus","autofocus",j],disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Ge([uQ]),Ve,ki],decls:7,vars:43,consts:[["input",""],[3,"ngClass","ngStyle"],["pInputText","","role","spinbutton","inputmode","decimal","pAutoFocus","",3,"input","keydown","keypress","paste","click","focus","blur","ngClass","ngStyle","value","disabled","readonly","autofocus"],[4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","","class","p-button-icon-only","tabindex","-1",3,"ngClass","class","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","p-inputnumber-clear-icon",3,"click",4,"ngIf"],[3,"click","ngClass"],[1,"p-inputnumber-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[1,"p-inputnumber-button-group"],["type","button","pButton","","tabindex","-1",1,"p-button-icon-only",3,"mousedown","mouseup","mouseleave","keydown","keyup","ngClass","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,o){if(t&1){let r=k();f(0,"span",1)(1,"input",2,0),R("input",function(a){return b(r),y(o.onUserInput(a))})("keydown",function(a){return b(r),y(o.onInputKeyDown(a))})("keypress",function(a){return b(r),y(o.onInputKeyPress(a))})("paste",function(a){return b(r),y(o.onPaste(a))})("click",function(){return b(r),y(o.onInputClick())})("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))}),m(),I(3,jX,3,2,"ng-container",3)(4,QX,7,19,"span",4)(5,oQ,3,9,"button",5)(6,dQ,3,9,"button",5),m()}t&2&&(te(o.styleClass),p("ngClass",Ai(39,kX,o.showButtons&&o.buttonLayout==="stacked",o.showButtons&&o.buttonLayout==="horizontal",o.showButtons&&o.buttonLayout==="vertical"))("ngStyle",o.style),M("data-pc-name","inputnumber")("data-pc-section","root"),d(),te(o.inputStyleClass),Xi("p-variant-filled",o.variant==="filled"||o.config.inputStyle()==="filled"),p("ngClass","p-inputnumber-input")("ngStyle",o.inputStyle)("value",o.formattedValue())("disabled",o.disabled)("readonly",o.readonly)("autofocus",o.autofocus),M("id",o.inputId)("variant",o.variant)("aria-valuemin",o.min)("aria-valuemax",o.max)("aria-valuenow",o.value)("placeholder",o.placeholder)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("title",o.title)("size",o.size)("name",o.name)("autocomplete",o.autocomplete)("maxlength",o.maxlength)("tabindex",o.tabindex)("aria-required",o.ariaRequired)("required",o.required)("min",o.min)("max",o.max)("data-pc-section","input"),d(2),p("ngIf",o.buttonLayout!="vertical"&&o.showClear&&o.value),d(),p("ngIf",o.showButtons&&o.buttonLayout==="stacked"),d(),p("ngIf",o.showButtons&&o.buttonLayout!=="stacked"),d(),p("ngIf",o.showButtons&&o.buttonLayout!=="stacked"))},dependencies:()=>[Fe,ze,Xe,ve,cn,at,mn,Ci,qS,KS],styles:[`@layer primeng{p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),$f=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Ls,go,Tn,Ci,qS,KS,$e]})}return i})();var _C=i=>({"p-disabled":i}),CC=i=>({$implicit:i}),hQ=i=>({"p-highlight":i});function fQ(i,n){i&1&&oe(0)}function mQ(i,n){if(i&1&&(f(0,"div",15),I(1,fQ,1,0,"ng-container",16),m()),i&2){let e=h(2);M("data-pc-section","start"),d(),p("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",J(3,CC,e.paginatorState))}}function gQ(i,n){if(i&1&&(f(0,"span",17),T(1),m()),i&2){let e=h(2);d(),H(e.currentPageReport)}}function _Q(i,n){i&1&&E(0,"AngleDoubleLeftIcon",19),i&2&&p("styleClass","p-paginator-icon")}function CQ(i,n){}function IQ(i,n){i&1&&I(0,CQ,0,0,"ng-template")}function vQ(i,n){if(i&1&&(f(0,"span",20),I(1,IQ,1,0,null,21),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.firstPageLinkIconTemplate)}}function bQ(i,n){if(i&1){let e=k();f(0,"button",18),R("click",function(o){b(e);let r=h(2);return y(r.changePageToFirst(o))}),I(1,_Q,1,1,"AngleDoubleLeftIcon",6)(2,vQ,2,1,"span",7),m()}if(i&2){let e=h(2);p("disabled",e.isFirstPage()||e.empty())("ngClass",J(5,_C,e.isFirstPage()||e.empty())),M("aria-label",e.getAriaLabel("firstPageLabel")),d(),p("ngIf",!e.firstPageLinkIconTemplate),d(),p("ngIf",e.firstPageLinkIconTemplate)}}function yQ(i,n){i&1&&E(0,"AngleLeftIcon",19),i&2&&p("styleClass","p-paginator-icon")}function wQ(i,n){}function SQ(i,n){i&1&&I(0,wQ,0,0,"ng-template")}function AQ(i,n){if(i&1&&(f(0,"span",20),I(1,SQ,1,0,null,21),m()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.previousPageLinkIconTemplate)}}function xQ(i,n){if(i&1){let e=k();f(0,"button",24),R("click",function(o){let r=b(e).$implicit,s=h(3);return y(s.onPageLinkClick(o,r-1))}),T(1),m()}if(i&2){let e=n.$implicit,t=h(3);p("ngClass",J(4,hQ,e-1==t.getPage())),M("aria-label",t.getPageAriaLabel(e))("aria-current",e-1==t.getPage()?"page":void 0),d(),z(" ",t.getLocalization(e)," ")}}function EQ(i,n){if(i&1&&(f(0,"span",22),I(1,xQ,2,6,"button",23),m()),i&2){let e=h(2);d(),p("ngForOf",e.pageLinks)}}function TQ(i,n){if(i&1&&T(0),i&2){let e=h(3);H(e.currentPageReport)}}function OQ(i,n){i&1&&oe(0)}function RQ(i,n){if(i&1&&I(0,OQ,1,0,"ng-container",16),i&2){let e=n.$implicit,t=h(4);p("ngTemplateOutlet",t.jumpToPageItemTemplate)("ngTemplateOutletContext",J(2,CC,e))}}function DQ(i,n){i&1&&(re(0),I(1,RQ,1,4,"ng-template",28),se())}function PQ(i,n){i&1&&oe(0)}function FQ(i,n){if(i&1&&I(0,PQ,1,0,"ng-container",21),i&2){let e=h(4);p("ngTemplateOutlet",e.dropdownIconTemplate)}}function LQ(i,n){i&1&&I(0,FQ,1,1,"ng-template",29)}function MQ(i,n){if(i&1){let e=k();f(0,"p-dropdown",25),R("onChange",function(o){b(e);let r=h(2);return y(r.onPageDropdownChange(o))}),I(1,TQ,1,1,"ng-template",26)(2,DQ,2,0,"ng-container",27)(3,LQ,1,0,null,27),m()}if(i&2){let e=h(2);p("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),M("aria-label",e.getAriaLabel("jumpToPageDropdownLabel")),d(2),p("ngIf",e.jumpToPageItemTemplate),d(),p("ngIf",e.dropdownIconTemplate)}}function kQ(i,n){i&1&&E(0,"AngleRightIcon",19),i&2&&p("styleClass","p-paginator-icon")}function NQ(i,n){}function VQ(i,n){i&1&&I(0,NQ,0,0,"ng-template")}function BQ(i,n){if(i&1&&(f(0,"span",20),I(1,VQ,1,0,null,21),m()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.nextPageLinkIconTemplate)}}function UQ(i,n){i&1&&E(0,"AngleDoubleRightIcon",19),i&2&&p("styleClass","p-paginator-icon")}function jQ(i,n){}function HQ(i,n){i&1&&I(0,jQ,0,0,"ng-template")}function GQ(i,n){if(i&1&&(f(0,"span",20),I(1,HQ,1,0,null,21),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.lastPageLinkIconTemplate)}}function zQ(i,n){if(i&1){let e=k();f(0,"button",30),R("click",function(o){b(e);let r=h(2);return y(r.changePageToLast(o))}),I(1,UQ,1,1,"AngleDoubleRightIcon",6)(2,GQ,2,1,"span",7),m()}if(i&2){let e=h(2);p("disabled",e.isLastPage()||e.empty())("ngClass",J(5,_C,e.isLastPage()||e.empty())),M("aria-label",e.getAriaLabel("lastPageLabel")),d(),p("ngIf",!e.lastPageLinkIconTemplate),d(),p("ngIf",e.lastPageLinkIconTemplate)}}function WQ(i,n){if(i&1){let e=k();f(0,"p-inputNumber",31),R("ngModelChange",function(o){b(e);let r=h(2);return y(r.changePage(o-1))}),m()}if(i&2){let e=h(2);p("ngModel",e.currentPage())("disabled",e.empty())}}function $Q(i,n){i&1&&oe(0)}function KQ(i,n){if(i&1&&I(0,$Q,1,0,"ng-container",16),i&2){let e=n.$implicit,t=h(4);p("ngTemplateOutlet",t.dropdownItemTemplate)("ngTemplateOutletContext",J(2,CC,e))}}function qQ(i,n){i&1&&(re(0),I(1,KQ,1,4,"ng-template",28),se())}function YQ(i,n){i&1&&oe(0)}function JQ(i,n){if(i&1&&I(0,YQ,1,0,"ng-container",21),i&2){let e=h(4);p("ngTemplateOutlet",e.dropdownIconTemplate)}}function XQ(i,n){i&1&&I(0,JQ,1,1,"ng-template",29)}function QQ(i,n){if(i&1){let e=k();f(0,"p-dropdown",32),Re("ngModelChange",function(o){b(e);let r=h(2);return De(r.rows,o)||(r.rows=o),y(o)}),R("onChange",function(o){b(e);let r=h(2);return y(r.onRppChange(o))}),I(1,qQ,2,0,"ng-container",27)(2,XQ,1,0,null,27),m()}if(i&2){let e=h(2);p("options",e.rowsPerPageItems),Oe("ngModel",e.rows),p("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)("ariaLabel",e.getAriaLabel("rowsPerPageLabel")),d(),p("ngIf",e.dropdownItemTemplate),d(),p("ngIf",e.dropdownIconTemplate)}}function ZQ(i,n){i&1&&oe(0)}function eZ(i,n){if(i&1&&(f(0,"div",33),I(1,ZQ,1,0,"ng-container",16),m()),i&2){let e=h(2);M("data-pc-section","end"),d(),p("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",J(3,CC,e.paginatorState))}}function tZ(i,n){if(i&1){let e=k();f(0,"div",1),I(1,mQ,2,5,"div",2)(2,gQ,2,1,"span",3)(3,bQ,3,7,"button",4),f(4,"button",5),R("click",function(o){b(e);let r=h();return y(r.changePageToPrev(o))}),I(5,yQ,1,1,"AngleLeftIcon",6)(6,AQ,2,1,"span",7),m(),I(7,EQ,2,1,"span",8)(8,MQ,4,8,"p-dropdown",9),f(9,"button",10),R("click",function(o){b(e);let r=h();return y(r.changePageToNext(o))}),I(10,kQ,1,1,"AngleRightIcon",6)(11,BQ,2,1,"span",7),m(),I(12,zQ,3,7,"button",11)(13,WQ,1,2,"p-inputNumber",12)(14,QQ,3,8,"p-dropdown",13)(15,eZ,2,5,"div",14),m()}if(i&2){let e=h();te(e.styleClass),p("ngStyle",e.style)("ngClass","p-paginator p-component"),M("data-pc-section","paginator")("data-pc-section","root"),d(),p("ngIf",e.templateLeft),d(),p("ngIf",e.showCurrentPageReport),d(),p("ngIf",e.showFirstLastIcon),d(),p("disabled",e.isFirstPage()||e.empty())("ngClass",J(25,_C,e.isFirstPage()||e.empty())),M("aria-label",e.getAriaLabel("prevPageLabel")),d(),p("ngIf",!e.previousPageLinkIconTemplate),d(),p("ngIf",e.previousPageLinkIconTemplate),d(),p("ngIf",e.showPageLinks),d(),p("ngIf",e.showJumpToPageDropdown),d(),p("disabled",e.isLastPage()||e.empty())("ngClass",J(27,_C,e.isLastPage()||e.empty())),M("aria-label",e.getAriaLabel("nextPageLabel")),d(),p("ngIf",!e.nextPageLinkIconTemplate),d(),p("ngIf",e.nextPageLinkIconTemplate),d(),p("ngIf",e.showFirstLastIcon),d(),p("ngIf",e.showJumpToPageInput),d(),p("ngIf",e.rowsPerPageOptions),d(),p("ngIf",e.templateRight)}}var IC=(()=>{class i{cd;config;pageLinkSize=5;style;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;appendTo;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(e){this._first=e}onPageChange=new W;templates;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;constructor(e,t){this.cd=e,this.config=t}ngOnInit(){this.updatePaginatorState()}getAriaLabel(e){return this.config.translation.aria?this.config.translation.aria[e]:void 0}getPageAriaLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel.replace(/{page}/g,`${e}`):void 0}getLocalization(e){let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),o=new Map(t.map((r,s)=>[s,r]));return e>9?String(e).split("").map(s=>o.get(Number(s))).join(""):o.get(e)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"firstpagelinkicon":this.firstPageLinkIconTemplate=e.template;break;case"previouspagelinkicon":this.previousPageLinkIconTemplate=e.template;break;case"lastpagelinkicon":this.lastPageLinkIconTemplate=e.template;break;case"nextpagelinkicon":this.nextPageLinkIconTemplate=e.template;break}})}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions(),e.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)typeof e=="object"&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(this.getLocalization(e)),value:e})}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),t=Math.min(this.pageLinkSize,e),o=Math.max(0,Math.ceil(this.getPage()-t/2)),r=Math.min(e-1,o+t-1);var s=this.pageLinkSize-(r-o+1);return o=Math.max(0,o-s),[o,r]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),t=e[0],o=e[1];for(let r=t;r<=o;r++)this.pageLinks.push(r+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let r=0;r<this.getPageCount();r++)this.pageItems.push({label:String(r+1),value:r})}}changePage(e){var t=this.getPageCount();if(e>=0&&e<t){this._first=this.rows*e;var o={page:e,first:this.first,rows:this.rows,pageCount:t};this.updatePageLinks(),this.onPageChange.emit(o),this.updatePaginatorState()}}updateFirst(){let e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,t){this.changePage(t),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(t){return new(t||i)(v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-paginator"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{pageLinkSize:[2,"pageLinkSize","pageLinkSize",xe],style:"style",styleClass:"styleClass",alwaysShow:[2,"alwaysShow","alwaysShow",j],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",appendTo:"appendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",j],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",j],totalRecords:[2,"totalRecords","totalRecords",xe],rows:[2,"rows","rows",xe],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",j],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",j],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[2,"showPageLinks","showPageLinks",j],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[Ve,ki],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass",4,"ngIf"],["class","p-paginator-icon",4,"ngIf"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"click","disabled","ngClass"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ariaLabel","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"click","disabled","ngClass"],[3,"styleClass"],[1,"p-paginator-icon"],[4,"ngTemplateOutlet"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"click","ngClass"],["styleClass","p-paginator-page-options",3,"onChange","options","ngModel","disabled","appendTo","scrollHeight"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"click","disabled","ngClass"],[1,"p-paginator-page-input",3,"ngModelChange","ngModel","disabled"],["styleClass","p-paginator-rpp-options",3,"ngModelChange","onChange","options","ngModel","disabled","appendTo","scrollHeight","ariaLabel"],[1,"p-paginator-right-content"]],template:function(t,o){t&1&&I(0,tZ,16,29,"div",0),t&2&&p("ngIf",o.alwaysShow?!0:o.pageLinks&&o.pageLinks.length>1)},dependencies:()=>[Fe,Ni,ze,Xe,ve,dr,ge,YS,Gi,wn,Ri,zS,WS,$S,Pc],styles:[`@layer primeng{.p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),vC=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Dc,$f,Ec,$e,Li,zS,WS,$S,Pc,Dc,$f,Ec,$e]})}return i})();var JS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ChevronUpIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var XS=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["CalendarIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var iZ=["container"],nZ=["inputfield"],oZ=["contentWrapper"],rZ=[[["p-header"]],[["p-footer"]]],sZ=["p-header","p-footer"],aZ=(i,n,e,t,o)=>({"p-calendar":!0,"p-input-icon-right":i,"p-calendar-w-btn":n,"p-calendar-timeonly":e,"p-calendar-disabled":t,"p-focus":o}),lZ=i=>({clickCallBack:i}),cZ=i=>({"p-datepicker-icon":i}),dZ=(i,n,e,t,o,r)=>({"p-datepicker p-component":!0,"p-datepicker-inline":i,"p-disabled":n,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":t,"p-datepicker-monthpicker":o,"p-datepicker-touch-ui":r}),aM=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),uZ=i=>({value:"visibleTouchUI",params:i}),pZ=i=>({value:"visible",params:i}),QS=i=>({$implicit:i}),hZ=(i,n)=>({"p-datepicker-other-month":i,"p-datepicker-today":n}),fZ=(i,n)=>({"p-highlight p-datepicker-current-day":i,"p-disabled":n}),cM=(i,n)=>({"p-highlight":i,"p-disabled":n}),lM=i=>[i];function mZ(i,n){if(i&1){let e=k();f(0,"TimesIcon",11),R("click",function(){b(e);let o=h(3);return y(o.clear())}),m()}i&2&&p("styleClass","p-calendar-clear-icon")}function gZ(i,n){}function _Z(i,n){i&1&&I(0,gZ,0,0,"ng-template")}function CZ(i,n){if(i&1){let e=k();f(0,"span",12),R("click",function(){b(e);let o=h(3);return y(o.clear())}),I(1,_Z,1,0,null,13),m()}if(i&2){let e=h(3);d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function IZ(i,n){if(i&1&&(re(0),I(1,mZ,1,1,"TimesIcon",9)(2,CZ,2,1,"span",10),se()),i&2){let e=h(2);d(),p("ngIf",!e.clearIconTemplate),d(),p("ngIf",e.clearIconTemplate)}}function vZ(i,n){if(i&1&&E(0,"span",16),i&2){let e=h(3);p("ngClass",e.icon)}}function bZ(i,n){i&1&&E(0,"CalendarIcon")}function yZ(i,n){}function wZ(i,n){i&1&&I(0,yZ,0,0,"ng-template")}function SZ(i,n){if(i&1&&(re(0),I(1,bZ,1,0,"CalendarIcon",7)(2,wZ,1,0,null,13),se()),i&2){let e=h(3);d(),p("ngIf",!e.triggerIconTemplate),d(),p("ngTemplateOutlet",e.triggerIconTemplate)}}function AZ(i,n){if(i&1){let e=k();f(0,"button",14),R("click",function(o){b(e),h();let r=Me(1),s=h();return y(s.onButtonClick(o,r))}),I(1,vZ,1,1,"span",15)(2,SZ,3,2,"ng-container",7),m()}if(i&2){let e,t=h(2);p("disabled",t.disabled),M("aria-label",t.iconButtonAriaLabel)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.panelId:null),d(),p("ngIf",t.icon),d(),p("ngIf",!t.icon)}}function xZ(i,n){if(i&1){let e=k();f(0,"CalendarIcon",19),R("click",function(o){b(e);let r=h(3);return y(r.onButtonClick(o))}),m()}if(i&2){let e=h(3);p("ngClass",J(1,cZ,e.showOnFocus))}}function EZ(i,n){i&1&&oe(0)}function TZ(i,n){if(i&1&&(re(0),I(1,xZ,1,3,"CalendarIcon",17)(2,EZ,1,0,"ng-container",18),se()),i&2){let e=h(2);d(),p("ngIf",!e.inputIconTemplate),d(),p("ngTemplateOutlet",e.inputIconTemplate)("ngTemplateOutletContext",J(3,lZ,e.onButtonClick.bind(e)))}}function OZ(i,n){if(i&1){let e=k();f(0,"input",6,1),R("focus",function(o){b(e);let r=h();return y(r.onInputFocus(o))})("keydown",function(o){b(e);let r=h();return y(r.onInputKeydown(o))})("click",function(){b(e);let o=h();return y(o.onInputClick())})("blur",function(o){b(e);let r=h();return y(r.onInputBlur(o))})("input",function(o){b(e);let r=h();return y(r.onUserInput(o))}),m(),I(2,IZ,3,2,"ng-container",7)(3,AZ,3,6,"button",8)(4,TZ,3,5,"ng-container",7)}if(i&2){let e,t=h();te(t.inputStyleClass),p("value",t.inputFieldValue)("readonly",t.readonlyInput)("ngStyle",t.inputStyle)("placeholder",t.placeholder||"")("disabled",t.disabled)("ngClass",t.inputClass)("autofocus",t.autofocus),M("id",t.inputId)("name",t.name)("required",t.required)("aria-required",t.required)("aria-expanded",(e=t.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",t.overlayVisible?t.panelId:null)("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("tabindex",t.tabindex)("inputmode",t.touchUI?"off":null),d(2),p("ngIf",t.showClear&&!t.disabled&&t.value!=null),d(),p("ngIf",t.showIcon&&t.iconDisplay==="button"),d(),p("ngIf",t.iconDisplay==="input"&&t.showIcon)}}function RZ(i,n){i&1&&oe(0)}function DZ(i,n){i&1&&E(0,"ChevronLeftIcon",40),i&2&&p("styleClass","p-datepicker-prev-icon")}function PZ(i,n){}function FZ(i,n){i&1&&I(0,PZ,0,0,"ng-template")}function LZ(i,n){if(i&1&&(f(0,"span",41),I(1,FZ,1,0,null,13),m()),i&2){let e=h(5);d(),p("ngTemplateOutlet",e.previousIconTemplate)}}function MZ(i,n){if(i&1){let e=k();f(0,"button",38),R("keydown",function(o){b(e);let r=h(4);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(4);return y(r.onPrevButtonClick(o))}),I(1,DZ,1,1,"ChevronLeftIcon",35)(2,LZ,2,1,"span",39),m()}if(i&2){let e=h(4);M("aria-label",e.prevIconAriaLabel),d(),p("ngIf",!e.previousIconTemplate),d(),p("ngIf",e.previousIconTemplate)}}function kZ(i,n){if(i&1){let e=k();f(0,"button",42),R("click",function(o){b(e);let r=h(4);return y(r.switchToMonthView(o))})("keydown",function(o){b(e);let r=h(4);return y(r.onContainerButtonKeydown(o))}),T(1),m()}if(i&2){let e=h().$implicit,t=h(3);p("disabled",t.switchViewButtonDisabled()),M("aria-label",t.getTranslation("chooseMonth")),d(),z(" ",t.getMonthName(e.month)," ")}}function NZ(i,n){if(i&1){let e=k();f(0,"button",43),R("click",function(o){b(e);let r=h(4);return y(r.switchToYearView(o))})("keydown",function(o){b(e);let r=h(4);return y(r.onContainerButtonKeydown(o))}),T(1),m()}if(i&2){let e=h().$implicit,t=h(3);p("disabled",t.switchViewButtonDisabled()),M("aria-label",t.getTranslation("chooseYear")),d(),z(" ",t.getYear(e)," ")}}function VZ(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(5);d(),zr("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function BZ(i,n){i&1&&oe(0)}function UZ(i,n){if(i&1&&(f(0,"span",44),I(1,VZ,2,2,"ng-container",7)(2,BZ,1,0,"ng-container",18),m()),i&2){let e=h(4);d(),p("ngIf",!e.decadeTemplate),d(),p("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",J(3,QS,e.yearPickerValues))}}function jZ(i,n){i&1&&E(0,"ChevronRightIcon",40),i&2&&p("styleClass","p-datepicker-next-icon")}function HZ(i,n){}function GZ(i,n){i&1&&I(0,HZ,0,0,"ng-template")}function zZ(i,n){if(i&1&&(f(0,"span",45),I(1,GZ,1,0,null,13),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.nextIconTemplate)}}function WZ(i,n){if(i&1&&(f(0,"th",51)(1,"span"),T(2),m()()),i&2){let e=h(5);d(2),H(e.getTranslation("weekHeader"))}}function $Z(i,n){if(i&1&&(f(0,"th",52)(1,"span"),T(2),m()()),i&2){let e=n.$implicit;d(2),H(e)}}function KZ(i,n){if(i&1&&(f(0,"td",55)(1,"span",56),T(2),m()()),i&2){let e=h().index,t=h(2).$implicit;d(2),z(" ",t.weekNumbers[e]," ")}}function qZ(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(2).$implicit;d(),H(e.day)}}function YZ(i,n){i&1&&oe(0)}function JZ(i,n){if(i&1&&(re(0),I(1,YZ,1,0,"ng-container",18),se()),i&2){let e=h(2).$implicit,t=h(6);d(),p("ngTemplateOutlet",t.dateTemplate)("ngTemplateOutletContext",J(2,QS,e))}}function XZ(i,n){i&1&&oe(0)}function QZ(i,n){if(i&1&&(re(0),I(1,XZ,1,0,"ng-container",18),se()),i&2){let e=h(2).$implicit,t=h(6);d(),p("ngTemplateOutlet",t.disabledDateTemplate)("ngTemplateOutletContext",J(2,QS,e))}}function ZZ(i,n){if(i&1&&(f(0,"div",59),T(1),m()),i&2){let e=h(2).$implicit;d(),z(" ",e.day," ")}}function eee(i,n){if(i&1){let e=k();re(0),f(1,"span",57),R("click",function(o){b(e);let r=h().$implicit,s=h(6);return y(s.onDateSelect(o,r))})("keydown",function(o){b(e);let r=h().$implicit,s=h(3).index,a=h(3);return y(a.onDateCellKeydown(o,r,s))}),I(2,qZ,2,1,"ng-container",7)(3,JZ,2,4,"ng-container",7)(4,QZ,2,4,"ng-container",7),m(),I(5,ZZ,2,1,"div",58),se()}if(i&2){let e=h().$implicit,t=h(6);d(),p("ngClass",Ue(6,fZ,t.isSelected(e)&&e.selectable,!e.selectable)),M("data-date",t.formatDateKey(t.formatDateMetaToDate(e))),d(),p("ngIf",!t.dateTemplate&&(e.selectable||!t.disabledDateTemplate)),d(),p("ngIf",e.selectable||!t.disabledDateTemplate),d(),p("ngIf",!e.selectable),d(),p("ngIf",t.isSelected(e))}}function tee(i,n){if(i&1&&(f(0,"td",16),I(1,eee,6,9,"ng-container",7),m()),i&2){let e=n.$implicit,t=h(6);p("ngClass",Ue(3,hZ,e.otherMonth,e.today)),M("aria-label",e.day),d(),p("ngIf",e.otherMonth?t.showOtherMonths:!0)}}function iee(i,n){if(i&1&&(f(0,"tr"),I(1,KZ,3,1,"td",53)(2,tee,2,6,"td",54),m()),i&2){let e=n.$implicit,t=h(5);d(),p("ngIf",t.showWeek),d(),p("ngForOf",e)}}function nee(i,n){if(i&1&&(f(0,"div",46)(1,"table",47)(2,"thead")(3,"tr"),I(4,WZ,3,1,"th",48)(5,$Z,3,1,"th",49),m()(),f(6,"tbody"),I(7,iee,3,2,"tr",50),m()()()),i&2){let e=h().$implicit,t=h(3);d(4),p("ngIf",t.showWeek),d(),p("ngForOf",t.weekDays),d(2),p("ngForOf",e.dates)}}function oee(i,n){if(i&1){let e=k();f(0,"div",27)(1,"div",28),I(2,MZ,3,3,"button",29),f(3,"div",30),I(4,kZ,2,3,"button",31)(5,NZ,2,3,"button",32)(6,UZ,3,5,"span",33),m(),f(7,"button",34),R("keydown",function(o){b(e);let r=h(3);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(3);return y(r.onNextButtonClick(o))}),I(8,jZ,1,1,"ChevronRightIcon",35)(9,zZ,2,1,"span",36),m()(),I(10,nee,8,3,"div",37),m()}if(i&2){let e=n.index,t=h(3);d(2),p("ngIf",e===0),d(2),p("ngIf",t.currentView==="date"),d(),p("ngIf",t.currentView!=="year"),d(),p("ngIf",t.currentView==="year"),d(),fn("display",t.numberOfMonths===1||e===t.numberOfMonths-1?"inline-flex":"none"),M("aria-label",t.nextIconAriaLabel),d(),p("ngIf",!t.nextIconTemplate),d(),p("ngIf",t.nextIconTemplate),d(),p("ngIf",t.currentView==="date")}}function ree(i,n){if(i&1&&(f(0,"div",59),T(1),m()),i&2){let e=h().$implicit;d(),z(" ",e," ")}}function see(i,n){if(i&1){let e=k();f(0,"span",62),R("click",function(o){let r=b(e).index,s=h(4);return y(s.onMonthSelect(o,r))})("keydown",function(o){let r=b(e).index,s=h(4);return y(s.onMonthCellKeydown(o,r))}),T(1),I(2,ree,2,1,"div",58),m()}if(i&2){let e=n.$implicit,t=n.index,o=h(4);p("ngClass",Ue(3,cM,o.isMonthSelected(t),o.isMonthDisabled(t))),d(),z(" ",e," "),d(),p("ngIf",o.isMonthSelected(t))}}function aee(i,n){if(i&1&&(f(0,"div",60),I(1,see,3,6,"span",61),m()),i&2){let e=h(3);d(),p("ngForOf",e.monthPickerValues())}}function lee(i,n){if(i&1&&(f(0,"div",59),T(1),m()),i&2){let e=h().$implicit;d(),z(" ",e," ")}}function cee(i,n){if(i&1){let e=k();f(0,"span",65),R("click",function(o){let r=b(e).$implicit,s=h(4);return y(s.onYearSelect(o,r))})("keydown",function(o){let r=b(e).$implicit,s=h(4);return y(s.onYearCellKeydown(o,r))}),T(1),I(2,lee,2,1,"div",58),m()}if(i&2){let e=n.$implicit,t=h(4);p("ngClass",Ue(3,cM,t.isYearSelected(e),t.isYearDisabled(e))),d(),z(" ",e," "),d(),p("ngIf",t.isYearSelected(e))}}function dee(i,n){if(i&1&&(f(0,"div",63),I(1,cee,3,6,"span",64),m()),i&2){let e=h(3);d(),p("ngForOf",e.yearPickerValues())}}function uee(i,n){if(i&1&&(re(0),f(1,"div",23),I(2,oee,11,10,"div",24),m(),I(3,aee,2,1,"div",25)(4,dee,2,1,"div",26),se()),i&2){let e=h(2);d(2),p("ngForOf",e.months),d(),p("ngIf",e.currentView==="month"),d(),p("ngIf",e.currentView==="year")}}function pee(i,n){i&1&&E(0,"ChevronUpIcon")}function hee(i,n){}function fee(i,n){i&1&&I(0,hee,0,0,"ng-template")}function mee(i,n){i&1&&(re(0),T(1,"0"),se())}function gee(i,n){i&1&&E(0,"ChevronDownIcon")}function _ee(i,n){}function Cee(i,n){i&1&&I(0,_ee,0,0,"ng-template")}function Iee(i,n){i&1&&E(0,"ChevronUpIcon")}function vee(i,n){}function bee(i,n){i&1&&I(0,vee,0,0,"ng-template")}function yee(i,n){i&1&&(re(0),T(1,"0"),se())}function wee(i,n){i&1&&E(0,"ChevronDownIcon")}function See(i,n){}function Aee(i,n){i&1&&I(0,See,0,0,"ng-template")}function xee(i,n){if(i&1&&(f(0,"div",69)(1,"span"),T(2),m()()),i&2){let e=h(3);d(2),H(e.timeSeparator)}}function Eee(i,n){i&1&&E(0,"ChevronUpIcon")}function Tee(i,n){}function Oee(i,n){i&1&&I(0,Tee,0,0,"ng-template")}function Ree(i,n){i&1&&(re(0),T(1,"0"),se())}function Dee(i,n){i&1&&E(0,"ChevronDownIcon")}function Pee(i,n){}function Fee(i,n){i&1&&I(0,Pee,0,0,"ng-template")}function Lee(i,n){if(i&1){let e=k();f(0,"div",74)(1,"button",68),R("keydown",function(o){b(e);let r=h(3);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(3);return y(r.incrementSecond(o))})("keydown.space",function(o){b(e);let r=h(3);return y(r.incrementSecond(o))})("mousedown",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseDown(o,2,1))})("mouseup",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(3);return y(o.onTimePickerElementMouseLeave())}),I(2,Eee,1,0,"ChevronUpIcon",7)(3,Oee,1,0,null,13),m(),f(4,"span"),I(5,Ree,2,0,"ng-container",7),T(6),m(),f(7,"button",68),R("keydown",function(o){b(e);let r=h(3);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(3);return y(r.decrementSecond(o))})("keydown.space",function(o){b(e);let r=h(3);return y(r.decrementSecond(o))})("mousedown",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseDown(o,2,-1))})("mouseup",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(3);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(3);return y(o.onTimePickerElementMouseLeave())}),I(8,Dee,1,0,"ChevronDownIcon",7)(9,Fee,1,0,null,13),m()()}if(i&2){let e=h(3);d(),M("aria-label",e.getTranslation("nextSecond")),d(),p("ngIf",!e.incrementIconTemplate),d(),p("ngTemplateOutlet",e.incrementIconTemplate),d(2),p("ngIf",e.currentSecond<10),d(),H(e.currentSecond),d(),M("aria-label",e.getTranslation("prevSecond")),d(),p("ngIf",!e.decrementIconTemplate),d(),p("ngTemplateOutlet",e.decrementIconTemplate)}}function Mee(i,n){i&1&&E(0,"ChevronUpIcon")}function kee(i,n){}function Nee(i,n){i&1&&I(0,kee,0,0,"ng-template")}function Vee(i,n){i&1&&E(0,"ChevronDownIcon")}function Bee(i,n){}function Uee(i,n){i&1&&I(0,Bee,0,0,"ng-template")}function jee(i,n){if(i&1){let e=k();f(0,"div",75)(1,"button",76),R("keydown",function(o){b(e);let r=h(3);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(3);return y(r.toggleAMPM(o))})("keydown.enter",function(o){b(e);let r=h(3);return y(r.toggleAMPM(o))}),I(2,Mee,1,0,"ChevronUpIcon",7)(3,Nee,1,0,null,13),m(),f(4,"span"),T(5),m(),f(6,"button",76),R("keydown",function(o){b(e);let r=h(3);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(3);return y(r.toggleAMPM(o))})("keydown.enter",function(o){b(e);let r=h(3);return y(r.toggleAMPM(o))}),I(7,Vee,1,0,"ChevronDownIcon",7)(8,Uee,1,0,null,13),m()()}if(i&2){let e=h(3);d(),M("aria-label",e.getTranslation("am")),d(),p("ngIf",!e.incrementIconTemplate),d(),p("ngTemplateOutlet",e.incrementIconTemplate),d(2),H(e.pm?"PM":"AM"),d(),M("aria-label",e.getTranslation("pm")),d(),p("ngIf",!e.decrementIconTemplate),d(),p("ngTemplateOutlet",e.decrementIconTemplate)}}function Hee(i,n){if(i&1){let e=k();f(0,"div",66)(1,"div",67)(2,"button",68),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(2);return y(r.incrementHour(o))})("keydown.space",function(o){b(e);let r=h(2);return y(r.incrementHour(o))})("mousedown",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseDown(o,0,1))})("mouseup",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(2);return y(o.onTimePickerElementMouseLeave())}),I(3,pee,1,0,"ChevronUpIcon",7)(4,fee,1,0,null,13),m(),f(5,"span"),I(6,mee,2,0,"ng-container",7),T(7),m(),f(8,"button",68),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(2);return y(r.decrementHour(o))})("keydown.space",function(o){b(e);let r=h(2);return y(r.decrementHour(o))})("mousedown",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseDown(o,0,-1))})("mouseup",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(2);return y(o.onTimePickerElementMouseLeave())}),I(9,gee,1,0,"ChevronDownIcon",7)(10,Cee,1,0,null,13),m()(),f(11,"div",69)(12,"span"),T(13),m()(),f(14,"div",70)(15,"button",68),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(2);return y(r.incrementMinute(o))})("keydown.space",function(o){b(e);let r=h(2);return y(r.incrementMinute(o))})("mousedown",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseDown(o,1,1))})("mouseup",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(2);return y(o.onTimePickerElementMouseLeave())}),I(16,Iee,1,0,"ChevronUpIcon",7)(17,bee,1,0,null,13),m(),f(18,"span"),I(19,yee,2,0,"ng-container",7),T(20),m(),f(21,"button",68),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){b(e);let r=h(2);return y(r.decrementMinute(o))})("keydown.space",function(o){b(e);let r=h(2);return y(r.decrementMinute(o))})("mousedown",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseDown(o,1,-1))})("mouseup",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){b(e);let r=h(2);return y(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){b(e);let o=h(2);return y(o.onTimePickerElementMouseLeave())}),I(22,wee,1,0,"ChevronDownIcon",7)(23,Aee,1,0,null,13),m()(),I(24,xee,3,1,"div",71)(25,Lee,10,8,"div",72)(26,jee,9,7,"div",73),m()}if(i&2){let e=h(2);d(2),M("aria-label",e.getTranslation("nextHour")),d(),p("ngIf",!e.incrementIconTemplate),d(),p("ngTemplateOutlet",e.incrementIconTemplate),d(2),p("ngIf",e.currentHour<10),d(),H(e.currentHour),d(),M("aria-label",e.getTranslation("prevHour")),d(),p("ngIf",!e.decrementIconTemplate),d(),p("ngTemplateOutlet",e.decrementIconTemplate),d(3),H(e.timeSeparator),d(2),M("aria-label",e.getTranslation("nextMinute")),d(),p("ngIf",!e.incrementIconTemplate),d(),p("ngTemplateOutlet",e.incrementIconTemplate),d(2),p("ngIf",e.currentMinute<10),d(),H(e.currentMinute),d(),M("aria-label",e.getTranslation("prevMinute")),d(),p("ngIf",!e.decrementIconTemplate),d(),p("ngTemplateOutlet",e.decrementIconTemplate),d(),p("ngIf",e.showSeconds),d(),p("ngIf",e.showSeconds),d(),p("ngIf",e.hourFormat=="12")}}function Gee(i,n){if(i&1){let e=k();f(0,"div",77)(1,"button",78),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(2);return y(r.onTodayButtonClick(o))}),m(),f(2,"button",78),R("keydown",function(o){b(e);let r=h(2);return y(r.onContainerButtonKeydown(o))})("click",function(o){b(e);let r=h(2);return y(r.onClearButtonClick(o))}),m()()}if(i&2){let e=h(2);d(),p("label",e.getTranslation("today"))("ngClass",J(4,lM,e.todayButtonStyleClass)),d(),p("label",e.getTranslation("clear"))("ngClass",J(6,lM,e.clearButtonStyleClass))}}function zee(i,n){i&1&&oe(0)}function Wee(i,n){if(i&1){let e=k();f(0,"div",20,2),R("@overlayAnimation.start",function(o){b(e);let r=h();return y(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){b(e);let r=h();return y(r.onOverlayAnimationDone(o))})("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))}),jt(2),I(3,RZ,1,0,"ng-container",13)(4,uee,5,3,"ng-container",7)(5,Hee,27,20,"div",21)(6,Gee,3,8,"div",22),jt(7,1),I(8,zee,1,0,"ng-container",13),m()}if(i&2){let e=h();te(e.panelStyleClass),p("ngStyle",e.panelStyle)("ngClass",ca(15,dZ,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,e.view==="month",e.touchUI))("@overlayAnimation",e.touchUI?J(25,uZ,Ue(22,aM,e.showTransitionOptions,e.hideTransitionOptions)):J(30,pZ,Ue(27,aM,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),M("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),d(3),p("ngTemplateOutlet",e.headerTemplate),d(),p("ngIf",!e.timeOnly),d(),p("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),d(),p("ngIf",e.showButtonBar),d(2),p("ngTemplateOutlet",e.footerTemplate)}}var $ee={provide:Vi,useExisting:Dt(()=>Kf),multi:!0},Kf=(()=>{class i{document;el;renderer;cd;zone;config;overlayService;iconDisplay="button";style;styleClass;inputStyle;inputId;name;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;disabled;dateFormat;multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;appendTo;readonlyInput;shortYearCutoff="+10";monthNavigator;yearNavigator;hourFormat="24";timeOnly;stepYearPicker=10;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;required;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass="p-button-text";clearButtonStyleClass="p-button-text";autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;variant="outlined";get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){let t=e.split(":"),o=parseInt(t[0]),r=parseInt(t[1]);this.populateYearOptions(o,r)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let t=e||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear)}}get inputClass(){return{"p-inputtext p-component":!0,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}onFocus=new W;onBlur=new W;onClose=new W;onSelect=new W;onClear=new W;onInput=new W;onTodayClick=new W;onClearClick=new W;onMonthChange=new W;onYearChange=new W;onClickOutside=new W;onShow=new W;templates;containerViewChild;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;onModelChange=()=>{};onModelTouched=()=>{};calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;filled;inputFieldValue=null;_minDate;_maxDate;_showTime;_yearRange;preventDocumentListener;dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,t,o,r,s,a,l){this.document=e,this.el=t,this.renderer=o,this.cd=r,this.zone=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}ngOnInit(){this.attributeSelector=ut(),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"inputicon":this.inputIconTemplate=e.template;break;case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template;break;case"triggericon":this.triggerIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"decrementicon":this.decrementIconTemplate=e.template;break;case"incrementicon":this.incrementIconTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.dateTemplate=e.template;break}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.disabled&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=L.getOuterWidth(this.containerViewChild?.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,t){this.yearOptions=[];for(let o=e;o<=t;o++)this.yearOptions.push(o)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),t=this.getTranslation(oi.DAY_NAMES_MIN);for(let o=0;o<7;o++)this.weekDays.push(t[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let t=0;t<=11;t++)e.push(this.config.getTranslation("monthNamesShort")[t]);return e}yearPickerValues(){let e=[],t=this.currentYear-this.currentYear%this.stepYearPicker;for(let o=0;o<this.stepYearPicker;o++)e.push(t+o);return e}createMonths(e,t){this.months=this.months=[];for(let o=0;o<this.numberOfMonths;o++){let r=e+o,s=t;r>11&&(r=r%11-1,s=t+1),this.months.push(this.createMonth(r,s))}}getWeekNumber(e){let t=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();t.setDate(t.getDate()+6+r-t.getDay())}else t.setDate(t.getDate()+4-(t.getDay()||7));let o=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((o-t.getTime())/864e5)/7)+1}createMonth(e,t){let o=[],r=this.getFirstDayOfMonthIndex(e,t),s=this.getDaysCountInMonth(e,t),a=this.getDaysCountInPrevMonth(e,t),l=1,c=new Date,u=[],g=Math.ceil((s+r)/7);for(let _=0;_<g;_++){let C=[];if(_==0){for(let S=a-r+1;S<=a;S++){let A=this.getPreviousMonthAndYear(e,t);C.push({day:S,month:A.month,year:A.year,otherMonth:!0,today:this.isToday(c,S,A.month,A.year),selectable:this.isSelectable(S,A.month,A.year,!0)})}let w=7-C.length;for(let S=0;S<w;S++)C.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)}),l++}else for(let w=0;w<7;w++){if(l>s){let S=this.getNextMonthAndYear(e,t);C.push({day:l-s,month:S.month,year:S.year,otherMonth:!0,today:this.isToday(c,l-s,S.month,S.year),selectable:this.isSelectable(l-s,S.month,S.year,!0)})}else C.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)});l++}this.showWeek&&u.push(this.getWeekNumber(new Date(C[0].year,C[0].month,C[0].day))),o.push(C)}return{month:e,year:t,dates:o,weekNumbers:u}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.disabled){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementYearPickerStep(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear<e[0]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]-t,e[e.length-1]-t)}}decrementYearPickerStep(){this.currentYear=this.currentYear-this.stepYearPicker}incrementYearPickerStep(){this.currentYear=this.currentYear+this.stepYearPicker}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.yearNavigator&&this.currentYear>e[e.length-1]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]+t,e[e.length-1]+t)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,t){if(this.disabled||!t.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(t)?(this.value=this.value.filter((o,r)=>!this.isDateEquals(o,t)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(t)&&this.selectDate(t),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,t){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,t){this.view==="year"?this.onDateSelect(e,{year:t,month:0,day:1,selectable:!0}):(this.currentYear=t,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let t=0;t<this.value.length;t++){let o=this.formatDateTime(this.value[t]);e+=o,t!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let t=this.value[0],o=this.value[1];e=this.formatDateTime(t),o&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(o))}}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let t=this.keepInvalid?e:null,o=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.showTime&&(t+=" "+this.formatTime(e))):this.dataType==="string"&&(t=e),t=o?t:"",t}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let t=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.isSingleSelection())this.updateModel(t);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,t]:[t]);else if(this.isRangeSelection())if(this.value&&this.value.length){let o=this.value[0],r=this.value[1];!r&&t.getTime()>=o.getTime()?r=t:(o=t,r=null),this.updateModel([o,r])}else this.updateModel([t,null]);this.onSelect.emit(t)}updateModel(e){if(this.value=e,this.dataType=="date")this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let t=null;Array.isArray(this.value)&&(t=this.value.map(o=>this.formatDateTime(o))),this.onModelChange(t)}}getFirstDayOfMonthIndex(e,t){let o=new Date;o.setDate(1),o.setMonth(e),o.setFullYear(t);let r=o.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()}getDaysCountInPrevMonth(e,t){let o=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(o.month,o.year)}getPreviousMonthAndYear(e,t){let o,r;return e===0?(o=11,r=t-1):(o=e-1,r=t),{month:o,year:r}}getNextMonthAndYear(e,t){let o,r;return e===11?(o=0,r=t+1):(o=e+1,r=t),{month:o,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let t=!1;for(let o of this.value)if(t=this.isDateEquals(o,e),t)break;return t}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(this.isComparable()&&!this.isMultipleSelection()){let[t,o]=this.isRangeSelection()?this.value:[this.value,this.value],r=new Date(this.currentYear,e,1);return r>=t&&r<=(o??t)}return!1}isMonthDisabled(e,t){let o=t??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(e,o)+1;r++)if(this.isSelectable(r,e,o,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((t,o)=>this.isMonthDisabled(o,e))}isYearSelected(e){if(!this.isComparable()||this.isMultipleSelection())return!1;let t=this.isRangeSelection()?this.value[0]:this.value;return t?t.getFullYear()===e:!1}isDateEquals(e,t){return e&&le.isDate(e)?e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year:!1}isDateBetween(e,t,o){let r=!1;if(le.isDate(e)&&le.isDate(t)){let s=this.formatDateMetaToDate(o);return e.getTime()<=s.getTime()&&t.getTime()>=s.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,t,o,r){return e.getDate()===t&&e.getMonth()===o&&e.getFullYear()===r}isSelectable(e,t,o,r){let s=!0,a=!0,l=!0,c=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>o||this.minDate.getFullYear()===o&&this.currentView!="year"&&(this.minDate.getMonth()>t||this.minDate.getMonth()===t&&this.minDate.getDate()>e))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<o||this.maxDate.getFullYear()===o&&(this.maxDate.getMonth()<t||this.maxDate.getMonth()===t&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(e,t,o)),this.disabledDays&&(c=!this.isDayDisabled(e,t,o)),s&&a&&l&&c)}isDateDisabled(e,t,o){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===o&&r.getMonth()===t&&r.getDate()===e)return!0}return!1}isDayDisabled(e,t,o){if(this.disabledDays){let s=new Date(o,t,e).getDay();return this.disabledDays.indexOf(s)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,t=this.inputfieldViewChild?.nativeElement){this.overlayVisible?this.hideOverlay():(t.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let t=L.findSingle(this.containerViewChild?.nativeElement,".p-datepicker-header"),o=e.target;if(this.timeOnly)return;o==t.children[t?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(L.getFocusableElements(this.contentViewChild.nativeElement).forEach(t=>t.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,t,o){let r=e.currentTarget,s=r.parentElement,a=this.formatDateMetaToDate(t);switch(e.which){case 40:{r.tabIndex="-1";let w=L.index(s),S=s.parentElement.nextElementSibling;if(S){let A=S.children[w].children[0];L.hasClass(A,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(S.children[w].children[0].tabIndex="0",S.children[w].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{r.tabIndex="-1";let w=L.index(s),S=s.parentElement.previousElementSibling;if(S){let A=S.children[w].children[0];L.hasClass(A,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(A.tabIndex="0",A.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let w=s.previousElementSibling;if(w){let S=w.children[0];L.hasClass(S,"p-disabled")||L.hasClass(S.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,o):(S.tabIndex="0",S.focus())}else this.navigateToMonth(!0,o);e.preventDefault();break}case 39:{r.tabIndex="-1";let w=s.nextElementSibling;if(w){let S=w.children[0];L.hasClass(S,"p-disabled")?this.navigateToMonth(!1,o):(S.tabIndex="0",S.focus())}else this.navigateToMonth(!1,o);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{r.tabIndex="-1";let w=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),S=this.formatDateKey(w);this.navigateToMonth(!0,o,`span[data-date='${S}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{r.tabIndex="-1";let w=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),S=this.formatDateKey(w);this.navigateToMonth(!1,o,`span[data-date='${S}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:r.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),u=L.findSingle(r.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);u&&(u.tabIndex="0",u.focus()),e.preventDefault();break;case 35:r.tabIndex="-1";let g=new Date(a.getFullYear(),a.getMonth()+1,0),_=this.formatDateKey(g),C=L.findSingle(r.offsetParent,`span[data-date='${_}']:not(.p-disabled):not(.p-ink)`);g&&(C.tabIndex="0",C.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,t){let o=e.currentTarget;switch(e.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=L.index(o);let a=r[e.which===40?s+3:s-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,t){let o=e.currentTarget;switch(e.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=L.index(o);let a=r[e.which===40?s+2:s-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,t,o){if(e)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this._focusKey=o,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[t-1];if(o){let s=L.findSingle(r,o);s.tabIndex="0",s.focus()}else{let s=L.find(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=o,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[t+1];if(o){let s=L.findSingle(r,o);s.tabIndex="0",s.focus()}else{let s=L.findSingle(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():L.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let t;this.currentView==="month"?t=L.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?t=L.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):t=L.find(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),t&&t.length>0&&(e=t[t.length-1])}else this.currentView==="month"?e=L.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"):this.currentView==="year"?e=L.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"):e=L.findSingle(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell();this.alignOverlay()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,t;if(this.currentView==="month"){let o=L.find(e,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=L.findSingle(e,".p-monthpicker .p-monthpicker-month.p-highlight");o.forEach(s=>s.tabIndex=-1),t=r||o[0],o.length===0&&L.find(e,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let o=L.find(e,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=L.findSingle(e,".p-yearpicker .p-yearpicker-year.p-highlight");o.forEach(s=>s.tabIndex=-1),t=r||o[0],o.length===0&&L.find(e,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(t=L.findSingle(e,"span.p-highlight"),!t){let o=L.findSingle(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");o?t=o:t=L.findSingle(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}t&&(t.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.disabled||t.focus()},1),this.preventFocus=!1)}trapFocus(e){let t=L.getFocusableElements(this.contentViewChild.nativeElement);if(t&&t.length>0)if(!t[0].ownerDocument.activeElement)t[0].focus();else{let o=t.indexOf(t[0].ownerDocument.activeElement);if(e.shiftKey)if(o==-1||o===0)if(this.focusTrap)t[t.length-1].focus();else{if(o===-1)return this.hideOverlay();if(o===0)return}else t[o-1].focus();else if(o==-1)if(this.timeOnly)t[0].focus();else{let r=0;for(let s=0;s<t.length;s++)t[s].tagName==="SPAN"&&(r=s);t[r].focus()}else if(o===t.length-1){if(!this.focusTrap&&o!=-1)return this.hideOverlay();t[0].focus()}else t[o+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,t){return this.hourFormat=="12"?e===12?t?12:0:t?e+12:e:e}constrainTime(e,t,o,r){let s=[e,t,o],a,l=this.value,c=this.convertTo24Hour(e,r),u=this.isRangeSelection(),g=this.isMultipleSelection();(u||g)&&(this.value||(this.value=[new Date,new Date]),u&&(l=this.value[1]||this.value[0]),g&&(l=this.value[this.value.length-1]));let C=l?l.toDateString():null,w=this.minDate&&C&&this.minDate.toDateString()===C,S=this.maxDate&&C&&this.maxDate.toDateString()===C;switch(w&&(a=this.minDate.getHours()>=12),!0){case(w&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):s[0]=11;case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(w&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):s[0]=11,this.pm=!0;case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(w&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),s[0]=this.currentHour;case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(w&&this.minDate.getHours()>c):s[0]=this.minDate.getHours();case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(w&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(S&&this.maxDate.getHours()<c):s[0]=this.maxDate.getHours();case(S&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<t):s[1]=this.maxDate.getMinutes();case(S&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===t&&this.maxDate.getSeconds()<o):s[2]=this.maxDate.getSeconds();break}return s}incrementHour(e){let t=this.currentHour??0,o=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?o=o>=24?o-24:o:this.hourFormat=="12"&&(t<12&&o>11&&(r=!this.pm),o=o>=13?o-12:o),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(o,this.currentMinute,this.currentSecond,r),e.preventDefault()}toggleAMPMIfNotMinDate(e){let t=this.value;(this.selectionMode=="range"||this.selectionMode=="multiple")&&Array.isArray(t)&&t.length>0&&(t=t[t.length-1]);let o=t?t.toDateString():null;this.minDate&&o&&this.minDate.toDateString()===o&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,t,o){this.disabled||(this.repeat(e,null,t,o),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,t,o,r){let s=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,o,r),this.cd.markForCheck()},s),o){case 0:r===1?this.incrementHour(e):this.decrementHour(e);break;case 1:r===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:r===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let t=(this.currentHour??0)-this.stepHour,o=this.pm;this.hourFormat=="24"?t=t<0?24+t:t:this.hourFormat=="12"&&(this.currentHour===12&&(o=!this.pm),t=t<=0?12+t:t),this.toggleAMPMIfNotMinDate(o),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(t,this.currentMinute,this.currentSecond,o),e.preventDefault()}incrementMinute(e){let t=(this.currentMinute??0)+this.stepMinute;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,t,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let t=(this.currentMinute??0)-this.stepMinute;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,t,this.currentSecond,this.pm),e.preventDefault()}incrementSecond(e){let t=this.currentSecond+this.stepSecond;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,t,this.pm),e.preventDefault()}decrementSecond(e){let t=this.currentSecond-this.stepSecond;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,t,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let t=!this.pm;this.pm=t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour,this.currentMinute,this.currentSecond,t),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let t=e.target.value;try{let o=this.parseValueFromString(t);this.isValidSelection(o)?(this.updateModel(o),this.updateUI()):this.keepInvalid&&this.updateModel(o)}catch{let r=this.keepInvalid?t:null;this.updateModel(r)}this.filled=t!=null&&t.length,this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let t=e.every(o=>this.isSelectable(o.getDate(),o.getMonth(),o.getFullYear(),!1));return t&&this.isRangeSelection()&&(t=e.length===1||e.length>1&&e[1]>=e[0]),t}parseValueFromString(e){if(!e||e.trim().length===0)return null;let t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){let o=e.split(this.multipleSeparator);t=[];for(let r of o)t.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let o=e.split(" "+this.rangeSeparator+" ");t=[];for(let r=0;r<o.length;r++)t[r]=this.parseDateTime(o[r].trim())}return t}parseDateTime(e){let t,o=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,o[0],o[1]);else{let r=this.getDateFormat();if(this.showTime){let s=this.hourFormat=="12"?o.pop():null,a=o.pop();t=this.parseDate(o.join(" "),r),this.populateTime(t,a,s)}else t=this.parseDate(e,r)}return t}populateTime(e,t,o){if(this.hourFormat=="12"&&!o)throw"Invalid Time";this.pm=o==="PM"||o==="pm";let r=this.parseTime(t);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return le.isDate(e)&&le.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[1]||e[0]);let t=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay?.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Yt.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Yt.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Yt.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.overlay):L.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=L.getOuterWidth(this.inputfieldViewChild?.nativeElement)+"px"),L.absolutePosition(this.overlay,this.inputfieldViewChild?.nativeElement)):L.relativePosition(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),L.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",o=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),L.blockBodyScroll())}disableModality(){this.mask&&(L.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,t;for(let o=0;o<e.length;o++){let r=e[o];if(L.hasClass(r,"p-datepicker-mask-scrollblocker")){t=!0;break}}t||L.unblockBodyScroll(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(oi.FIRST_DAY_OF_WEEK)}formatDate(e,t){if(!e)return"";let o,r=u=>{let g=o+1<t.length&&t.charAt(o+1)===u;return g&&o++,g},s=(u,g,_)=>{let C=""+g;if(r(u))for(;C.length<_;)C="0"+C;return C},a=(u,g,_,C)=>r(u)?C[g]:_[g],l="",c=!1;if(e)for(o=0;o<t.length;o++)if(c)t.charAt(o)==="'"&&!r("'")?c=!1:l+=t.charAt(o);else switch(t.charAt(o)){case"d":l+=s("d",e.getDate(),2);break;case"D":l+=a("D",e.getDay(),this.getTranslation(oi.DAY_NAMES_SHORT),this.getTranslation(oi.DAY_NAMES));break;case"o":l+=s("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",e.getMonth()+1,2);break;case"M":l+=a("M",e.getMonth(),this.getTranslation(oi.MONTH_NAMES_SHORT),this.getTranslation(oi.MONTH_NAMES));break;case"y":l+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=e.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?l+="'":c=!0;break;default:l+=t.charAt(o)}return l}formatTime(e){if(!e)return"";let t="",o=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return this.hourFormat=="12"&&o>11&&o!=12&&(o-=12),this.hourFormat=="12"?t+=o===0?12:o<10?"0"+o:o:t+=o<10?"0"+o:o,t+=":",t+=r<10?"0"+r:r,this.showSeconds&&(t+=":",t+=s<10?"0"+s:s),this.hourFormat=="12"&&(t+=e.getHours()>11?" PM":" AM"),t}parseTime(e){let t=e.split(":"),o=this.showSeconds?3:2;if(t.length!==o)throw"Invalid time";let r=parseInt(t[0]),s=parseInt(t[1]),a=this.showSeconds?parseInt(t[2]):null;if(isNaN(r)||isNaN(s)||r>23||s>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:s,second:a}}parseDate(e,t){if(t==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let o,r,s,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,u=-1,g=-1,_=-1,C=!1,w,S=V=>{let X=o+1<t.length&&t.charAt(o+1)===V;return X&&o++,X},A=V=>{let X=S(V),ee=V==="@"?14:V==="!"?20:V==="y"&&X?4:V==="o"?3:2,ae=V==="y"?ee:1,me=new RegExp("^\\d{"+ae+","+ee+"}"),Ce=e.substring(a).match(me);if(!Ce)throw"Missing number at position "+a;return a+=Ce[0].length,parseInt(Ce[0],10)},x=(V,X,ee)=>{let ae=-1,me=S(V)?ee:X,Ce=[];for(let be=0;be<me.length;be++)Ce.push([be,me[be]]);Ce.sort((be,tt)=>-(be[1].length-tt[1].length));for(let be=0;be<Ce.length;be++){let tt=Ce[be][1];if(e.substr(a,tt.length).toLowerCase()===tt.toLowerCase()){ae=Ce[be][0],a+=tt.length;break}}if(ae!==-1)return ae+1;throw"Unknown name at position "+a},D=()=>{if(e.charAt(a)!==t.charAt(o))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(g=1),o=0;o<t.length;o++)if(C)t.charAt(o)==="'"&&!S("'")?C=!1:D();else switch(t.charAt(o)){case"d":g=A("d");break;case"D":x("D",this.getTranslation(oi.DAY_NAMES_SHORT),this.getTranslation(oi.DAY_NAMES));break;case"o":_=A("o");break;case"m":u=A("m");break;case"M":u=x("M",this.getTranslation(oi.MONTH_NAMES_SHORT),this.getTranslation(oi.MONTH_NAMES));break;case"y":c=A("y");break;case"@":w=new Date(A("@")),c=w.getFullYear(),u=w.getMonth()+1,g=w.getDate();break;case"!":w=new Date((A("!")-this.ticksTo1970)/1e4),c=w.getFullYear(),u=w.getMonth()+1,g=w.getDate();break;case"'":S("'")?D():C=!0;break;default:D()}if(a<e.length&&(s=e.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),_>-1){u=1,g=_;do{if(r=this.getDaysCountInMonth(c,u-1),g<=r)break;u++,g-=r}while(!0)}if(this.view==="year"&&(u=u===-1?1:u,g=g===-1?1:g),w=this.daylightSavingAdjust(new Date(c,u-1,g)),w.getFullYear()!==c||w.getMonth()+1!==u||w.getDate()!==g)throw"Invalid date";return w}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&this.inputFieldValue!=""}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let t=new Date,o={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(t.getMonth(),t.getFullYear()),this.onDateSelect(e,o),this.onTodayClick.emit(t)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let t=[...this.responsiveOptions].filter(o=>!!(o.breakpoint&&o.numMonths)).sort((o,r)=>-1*o.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let o=0;o<t.length;o++){let{breakpoint:r,numMonths:s}=t[o],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${s}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=s;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${r}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",t=>{this.isOutsideClicked(t)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(t),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return L.hasClass(e.target,"p-datepicker-prev")||L.hasClass(e.target,"p-datepicker-prev-icon")||L.hasClass(e.target,"p-datepicker-next")||L.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!L.isTouchDevice()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Yt.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Le),v(wt),v(pe),v(It),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-calendar"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(iZ,5),ne(nZ,5),ne(oZ,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.inputfieldViewChild=r.first),K(r=q())&&(o.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focus)("p-calendar-clearable",o.showClear&&!o.disabled)},inputs:{iconDisplay:"iconDisplay",style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",disabled:[2,"disabled","disabled",j],dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",j],showOtherMonths:[2,"showOtherMonths","showOtherMonths",j],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",j],showIcon:[2,"showIcon","showIcon",j],icon:"icon",appendTo:"appendTo",readonlyInput:[2,"readonlyInput","readonlyInput",j],shortYearCutoff:"shortYearCutoff",monthNavigator:[2,"monthNavigator","monthNavigator",j],yearNavigator:[2,"yearNavigator","yearNavigator",j],hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",j],stepYearPicker:[2,"stepYearPicker","stepYearPicker",xe],stepHour:[2,"stepHour","stepHour",xe],stepMinute:[2,"stepMinute","stepMinute",xe],stepSecond:[2,"stepSecond","stepSecond",xe],showSeconds:[2,"showSeconds","showSeconds",j],required:[2,"required","required",j],showOnFocus:[2,"showOnFocus","showOnFocus",j],showWeek:[2,"showWeek","showWeek",j],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",j],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",xe],showButtonBar:[2,"showButtonBar","showButtonBar",j],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",j],autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",j],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",j],touchUI:[2,"touchUI","touchUI",j],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",j],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",xe],variant:"variant",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale",view:"view",defaultDate:"defaultDate"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Ge([$ee]),Ve],ngContentSelectors:sZ,decls:4,vars:12,consts:[["container",""],["inputfield",""],["contentWrapper",""],[3,"ngClass","ngStyle"],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off","pAutoFocus","",3,"focus","keydown","click","blur","input","value","readonly","ngStyle","placeholder","disabled","ngClass","autofocus"],[4,"ngIf"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","class","p-datepicker-trigger p-button-icon-only","tabindex","0",3,"disabled","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],["class","p-calendar-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-calendar-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger","p-button-icon-only",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngClass"],[3,"click","ngStyle","ngClass"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[3,"styleClass",4,"ngIf"],["class","p-datepicker-next-icon",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],["class","p-datepicker-prev-icon",4,"ngIf"],[3,"styleClass"],[1,"p-datepicker-prev-icon"],["type","button",1,"p-datepicker-month","p-link",3,"click","keydown","disabled"],["type","button",1,"p-datepicker-year","p-link",3,"click","keydown","disabled"],[1,"p-datepicker-decade"],[1,"p-datepicker-next-icon"],[1,"p-datepicker-calendar-container"],["role","grid",1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],["draggable","false","pRipple","",3,"click","keydown","ngClass"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"click","keydown","ngClass"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"click","keydown","ngClass"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"keydown","click","label","ngClass"]],template:function(t,o){t&1&&(_i(rZ),f(0,"span",3,0),I(2,OZ,5,22,"ng-template",4)(3,Wee,9,32,"div",5),m()),t&2&&(te(o.styleClass),p("ngClass",Ha(6,aZ,o.showIcon&&o.iconDisplay==="input",o.showIcon&&o.iconDisplay==="button",o.timeOnly,o.disabled,o.focus||o.overlayVisible))("ngStyle",o.style),d(2),p("ngIf",!o.inline),d(),p("ngIf",o.inline||o.overlayVisible))},dependencies:()=>[Fe,Ni,ze,Xe,ve,at,Ri,vp,Bs,JS,Zo,Ci,XS,mn],styles:[`@layer primeng{.p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%;text-overflow:ellipsis}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-datepicker-icon{pointer-events:none}.p-calendar-clearable{position:relative}}
`],encapsulation:2,data:{animation:[$i("overlayAnimation",[lo("visibleTouchUI",Rt({transform:"translate(-50%,-50%)",opacity:1})),Nt("void => visible",[Rt({opacity:0,transform:"scaleY(0.8)"}),kt("{{showTransitionParams}}",Rt({opacity:1,transform:"*"}))]),Nt("visible => void",[kt("{{hideTransitionParams}}",Rt({opacity:0}))]),Nt("void => visibleTouchUI",[Rt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),kt("{{showTransitionParams}}")]),Nt("visibleTouchUI => void",[kt("{{hideTransitionParams}}",Rt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return i})(),qf=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,go,$e,Li,vp,Bs,JS,Zo,Ci,XS,Tn,go,$e]})}return i})();var yp=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ArrowDownIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var wp=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["ArrowUpIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var uM=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["FilterIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var pM=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["FilterSlashIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var qr=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["PlusIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var Yf=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["SortAltIcon"]],standalone:!0,features:[fe,Ze],decls:9,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1)(3,"path",2)(4,"path",3)(5,"path",4),m(),f(6,"defs")(7,"clipPath",5),E(8,"rect",6),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(6),p("id",o.pathId))},encapsulation:2})}return i})();var Jf=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["SortAmountDownIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var Xf=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["SortAmountUpAltIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var hM=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["TrashIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var Kee=["container"],qee=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-button-icon-only":e}),Yee=(i,n)=>({$implicit:i,index:n});function Jee(i,n){if(i&1&&E(0,"span",8),i&2){let e=h(2).$implicit;te(e.icon),p("ngClass","p-button-icon p-button-icon-left"),M("data-pc-section","icon")}}function Xee(i,n){if(i&1&&(re(0),I(1,Jee,1,4,"span",6),f(2,"span",7),T(3),m(),se()),i&2){let e=h().$implicit,t=h();d(),p("ngIf",e.icon),d(),M("data-pc-section","label"),d(),H(t.getOptionLabel(e))}}function Qee(i,n){i&1&&oe(0)}function Zee(i,n){if(i&1&&I(0,Qee,1,0,"ng-container",9),i&2){let e=h(),t=e.$implicit,o=e.index,r=h();p("ngTemplateOutlet",r.selectButtonTemplate)("ngTemplateOutletContext",Ue(2,Yee,t,o))}}function ete(i,n){if(i&1){let e=k();f(0,"div",4),R("click",function(o){let r=b(e),s=r.$implicit,a=r.index,l=h();return y(l.onOptionSelect(o,s,a))})("keydown",function(o){let r=b(e),s=r.$implicit,a=r.index,l=h();return y(l.onKeyDown(o,s,a))})("focus",function(o){let r=b(e).index,s=h();return y(s.onFocus(o,r))})("blur",function(){b(e);let o=h();return y(o.onBlur())}),I(1,Xee,4,3,"ng-container",5)(2,Zee,1,5,"ng-template",null,1,bt),m()}if(i&2){let e=n.$implicit,t=n.index,o=Me(3),r=h();te(e.styleClass),p("role",r.multiple?"checkbox":"radio")("ngClass",Ai(14,qee,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e)))("autofocus",r.autofocus),M("tabindex",t===r.focusedIndex&&!r.disabled?"0":"-1")("aria-label",e.label)("aria-checked",r.isSelected(e))("aria-disabled",r.optionDisabled)("title",e.title)("aria-labelledby",r.getOptionLabel(e))("data-pc-section","button"),d(),p("ngIf",!r.itemTemplate)("ngIfElse",o)}}var tte={provide:Vi,useExisting:Dt(()=>ZS),multi:!0},ZS=(()=>{class i{cd;options;optionLabel;optionValue;optionDisabled;unselectable=!1;tabindex=0;multiple;allowEmpty=!0;style;styleClass;ariaLabelledBy;disabled;dataKey;autofocus;onOptionClick=new W;onChange=new W;container;itemTemplate;get selectButtonTemplate(){return this.itemTemplate?.template}get equalityKey(){return this.optionValue?null:this.dataKey}value;onModelChange=()=>{};onModelTouched=()=>{};focusedIndex=0;constructor(e){this.cd=e}getOptionLabel(e){return this.optionLabel?le.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?le.resolveFieldData(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?le.resolveFieldData(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOptionSelect(e,t,o){if(this.disabled||this.isOptionDisabled(t))return;let r=this.isSelected(t);if(r&&this.unselectable)return;let s=this.getOptionValue(t),a;if(this.multiple)r?a=this.value.filter(l=>!le.equals(l,s,this.equalityKey)):a=this.value?[...this.value,s]:[s];else{if(r&&!this.allowEmpty)return;a=r?null:s}this.focusedIndex=o,this.value=a,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:t,index:o})}onKeyDown(e,t,o){switch(e.code){case"Space":{this.onOptionSelect(e,t,o),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}default:break}}changeTabIndexes(e,t){let o,r;for(let s=0;s<=this.container.nativeElement.children.length-1;s++)this.container.nativeElement.children[s].getAttribute("tabindex")==="0"&&(o={elem:this.container.nativeElement.children[s],index:s});t==="prev"?o.index===0?r=this.container.nativeElement.children.length-1:r=o.index-1:o.index===this.container.nativeElement.children.length-1?r=0:r=o.index+1,this.focusedIndex=r,this.container.nativeElement.children[r].focus()}onFocus(e,t){this.focusedIndex=t}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(t=>!le.equals(t,this.getOptionValue(e),this.dataKey))}isSelected(e){let t=!1,o=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let r of this.value)if(le.equals(r,o,this.dataKey)){t=!0;break}}}else t=le.equals(this.getOptionValue(e),this.value,this.equalityKey);return t}static \u0275fac=function(t){return new(t||i)(v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-selectButton"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,5),t&2){let s;K(s=q())&&(o.itemTemplate=s.first)}},viewQuery:function(t,o){if(t&1&&ne(Kee,5),t&2){let r;K(r=q())&&(o.container=r.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",j],tabindex:[2,"tabindex","tabindex",xe],multiple:[2,"multiple","multiple",j],allowEmpty:[2,"allowEmpty","allowEmpty",j],style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",j],dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",j]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Ge([tte]),Ve],decls:3,vars:8,consts:[["container",""],["customcontent",""],["role","group",3,"ngClass","ngStyle"],["pRipple","","class","p-button p-component","pAutoFocus","",3,"role","class","ngClass","autofocus","click","keydown","focus","blur",4,"ngFor","ngForOf"],["pRipple","","pAutoFocus","",1,"p-button","p-component",3,"click","keydown","focus","blur","role","ngClass","autofocus"],[4,"ngIf","ngIfElse"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(f(0,"div",2,0),I(2,ete,4,18,"div",3),m()),t&2&&(te(o.styleClass),p("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",o.style),M("aria-labelledby",o.ariaLabelledBy)("data-pc-name","selectbutton")("data-pc-section","root"),d(2),p("ngForOf",o.options))},dependencies:[Fe,Ni,ze,Xe,ve,Ri,mn],styles:[`@layer primeng{.p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default;pointer-events:none}.p-button-icon-only{justify-content:center}.p-button-icon-only:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-button-group .p-button{margin:0}.p-button-group .p-button:focus,.p-button-group p-button:focus .p-button,.p-buttonset .p-button:focus,.p-buttonset p-button:focus .p-button{position:relative;z-index:1}.p-button-group .p-button:not(:last-child),.p-button-group .p-button:not(:last-child):hover,.p-button-group p-button:not(:last-child) .p-button,.p-button-group p-button:not(:last-child) .p-button:hover,.p-buttonset .p-button:not(:last-child),.p-buttonset .p-button:not(:last-child):hover,.p-buttonset p-button:not(:last-child) .p-button,.p-buttonset p-button:not(:last-child) .p-button:hover{border-right:0 none}.p-button-group .p-button:not(:first-of-type):not(:last-of-type),.p-button-group p-button:not(:first-of-type):not(:last-of-type) .p-button,.p-buttonset .p-button:not(:first-of-type):not(:last-of-type),.p-buttonset p-button:not(:first-of-type):not(:last-of-type) .p-button{border-radius:0}.p-button-group .p-button:first-of-type:not(:only-of-type),.p-button-group p-button:first-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:first-of-type:not(:only-of-type),.p-buttonset p-button:first-of-type:not(:only-of-type) .p-button{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group .p-button:last-of-type:not(:only-of-type),.p-button-group p-button:last-of-type:not(:only-of-type) .p-button,.p-buttonset .p-button:last-of-type:not(:only-of-type),.p-buttonset p-button:last-of-type:not(:only-of-type) .p-button{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right] spinnericon{order:1}}
`],encapsulation:2,changeDetection:0})}return i})(),Qf=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Li,$e,Tn,$e]})}return i})();var nte=(i,n,e)=>({"p-checkbox p-component":!0,"p-checkbox-disabled":i,"p-checkbox-focused":n,"p-variant-filled":e}),ote=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-focus":e}),rte=(i,n,e)=>({"p-checkbox-label-active":i,"p-disabled":n,"p-checkbox-label-focus":e});function ste(i,n){if(i&1&&E(0,"span",8),i&2){let e=h(2);p("ngClass",e.checkboxTrueIcon),M("data-pc-section","checkIcon")}}function ate(i,n){i&1&&E(0,"CheckIcon",11),i&2&&(p("styleClass","p-checkbox-icon"),M("data-pc-section","checkIcon"))}function lte(i,n){}function cte(i,n){i&1&&I(0,lte,0,0,"ng-template")}function dte(i,n){if(i&1&&(f(0,"span",12),I(1,cte,1,0,null,13),m()),i&2){let e=h(3);M("data-pc-section","checkIcon"),d(),p("ngTemplateOutlet",e.checkIconTemplate)}}function ute(i,n){if(i&1&&(re(0),I(1,ate,1,2,"CheckIcon",9)(2,dte,2,2,"span",10),se()),i&2){let e=h(2);d(),p("ngIf",!e.checkIconTemplate),d(),p("ngIf",e.checkIconTemplate)}}function pte(i,n){if(i&1&&(re(0),I(1,ste,1,2,"span",7)(2,ute,3,2,"ng-container",5),se()),i&2){let e=h();d(),p("ngIf",e.checkboxTrueIcon),d(),p("ngIf",!e.checkboxTrueIcon)}}function hte(i,n){if(i&1&&E(0,"span",8),i&2){let e=h(2);p("ngClass",e.checkboxFalseIcon),M("data-pc-section","uncheckIcon")}}function fte(i,n){i&1&&E(0,"TimesIcon",11),i&2&&(p("styleClass","p-checkbox-icon"),M("data-pc-section","uncheckIcon"))}function mte(i,n){}function gte(i,n){i&1&&I(0,mte,0,0,"ng-template")}function _te(i,n){if(i&1&&(f(0,"span",12),I(1,gte,1,0,null,13),m()),i&2){let e=h(3);M("data-pc-section","uncheckIcon"),d(),p("ngTemplateOutlet",e.uncheckIconTemplate)}}function Cte(i,n){if(i&1&&(re(0),I(1,fte,1,2,"TimesIcon",9)(2,_te,2,2,"span",10),se()),i&2){let e=h(2);d(),p("ngIf",!e.uncheckIconTemplate),d(),p("ngIf",e.uncheckIconTemplate)}}function Ite(i,n){if(i&1&&(re(0),I(1,hte,1,2,"span",7)(2,Cte,3,2,"ng-container",5),se()),i&2){let e=h();d(),p("ngIf",e.checkboxFalseIcon),d(),p("ngIf",!e.checkboxFalseIcon)}}function vte(i,n){if(i&1){let e=k();f(0,"label",14),R("click",function(o){b(e);let r=h(),s=Me(3);return y(r.onClick(o,s))}),T(1),m()}if(i&2){let e=h();p("ngClass",Ai(3,rte,e.value!=null,e.disabled,e.focused)),M("for",e.inputId),d(),H(e.label)}}var bte={provide:Vi,useExisting:Dt(()=>yte),multi:!0},yte=(()=>{class i{cd;config;constructor(e,t){this.cd=e,this.config=t}disabled;name;ariaLabel;ariaLabelledBy;variant="outlined";tabindex;inputId;style;styleClass;label;readonly;checkboxTrueIcon;checkboxFalseIcon;autofocus;onChange=new W;templates;checkIconTemplate;uncheckIconTemplate;focused;value;onModelChange=()=>{};onModelTouched=()=>{};onClick(e,t){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,t.focus())}onKeyDown(e){e.key==="Enter"&&(this.toggle(e),e.preventDefault())}toggle(e){this.value==null||this.value==null?this.value=!0:this.value==!0?this.value=!1:this.value==!1&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"checkicon":this.checkIconTemplate=e.template;break;case"uncheckicon":this.uncheckIconTemplate=e.template;break}})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}static \u0275fac=function(t){return new(t||i)(v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-triStateCheckbox"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{disabled:[2,"disabled","disabled",j],name:"name",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",variant:"variant",tabindex:[2,"tabindex","tabindex",xe],inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:[2,"readonly","readonly",j],checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon",autofocus:[2,"autofocus","autofocus",j]},outputs:{onChange:"onChange"},features:[Ge([bte]),Ve],decls:8,vars:28,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","inputmode","none","pAutoFocus","",3,"keydown","focus","blur","name","readonly","disabled","autofocus"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[1,"p-checkbox-label",3,"click","ngClass"]],template:function(t,o){if(t&1){let r=k();f(0,"div",1),R("click",function(a){b(r);let l=Me(3);return y(o.onClick(a,l))}),f(1,"div",2)(2,"input",3,0),R("keydown",function(a){return b(r),y(o.onKeyDown(a))})("focus",function(){return b(r),y(o.onFocus())})("blur",function(){return b(r),y(o.onBlur())}),m()(),f(4,"div",4),I(5,pte,3,2,"ng-container",5)(6,Ite,3,2,"ng-container",5),m()(),I(7,vte,2,7,"label",6)}t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Ai(20,nte,o.disabled,o.focused,o.variant==="filled"||o.config.inputStyle()==="filled")),M("data-pc-name","tristatecheckbox")("data-pc-section","root"),d(2),p("name",o.name)("readonly",o.readonly)("disabled",o.disabled)("autofocus",o.autofocus),M("id",o.inputId)("tabindex",o.tabindex)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("data-pc-section","hiddenInput"),d(2),p("ngClass",Ai(24,ote,o.value!=null,o.disabled,o.focused)),M("aria-checked",o.value===!0),d(),p("ngIf",o.value===!0),d(),p("ngIf",o.value===!1),d(),p("ngIf",o.label))},dependencies:()=>[Fe,ze,Xe,ve,mn,Ki,Ci],encapsulation:2,changeDetection:0})}return i})(),fM=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Tn,Ki,Ci,$e]})}return i})();var wte=["container"],Ste=["resizeHelper"],Ate=["reorderIndicatorUp"],xte=["reorderIndicatorDown"],Ete=["wrapper"],Tte=["table"],Ote=["thead"],Rte=["tfoot"],Dte=["scroller"],Pte=(i,n,e)=>({"p-datatable p-component":!0,"p-datatable-hoverable-rows":i,"p-datatable-scrollable":n,"p-datatable-flex-scrollable":e}),Fte=i=>({maxHeight:i}),mM=i=>({height:i}),gM=(i,n)=>({$implicit:i,options:n}),Lte=i=>({columns:i}),Mte=(i,n,e)=>({"p-datatable-table":!0,"p-datatable-scrollable-table":i,"p-datatable-resizable-table":n,"p-datatable-resizable-table-fit":e}),bC=i=>({$implicit:i}),eA=()=>({display:"none"});function kte(i,n){if(i&1&&E(0,"i"),i&2){let e=h(2);te("p-datatable-loading-icon "+e.loadingIcon)}}function Nte(i,n){i&1&&E(0,"SpinnerIcon",25),i&2&&p("spin",!0)("styleClass","p-datatable-loading-icon")}function Vte(i,n){}function Bte(i,n){i&1&&I(0,Vte,0,0,"ng-template")}function Ute(i,n){if(i&1&&(f(0,"span",26),I(1,Bte,1,0,null,27),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function jte(i,n){if(i&1&&(re(0),I(1,Nte,1,2,"SpinnerIcon",23)(2,Ute,2,1,"span",24),se()),i&2){let e=h(2);d(),p("ngIf",!e.loadingIconTemplate),d(),p("ngIf",e.loadingIconTemplate)}}function Hte(i,n){if(i&1&&(f(0,"div",21),I(1,kte,1,2,"i",22)(2,jte,3,2,"ng-container",16),m()),i&2){let e=h();d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function Gte(i,n){i&1&&oe(0)}function zte(i,n){if(i&1&&(f(0,"div",28),I(1,Gte,1,0,"ng-container",27),m()),i&2){let e=h();d(),p("ngTemplateOutlet",e.captionTemplate)}}function Wte(i,n){i&1&&oe(0)}function $te(i,n){if(i&1&&I(0,Wte,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorDropdownIconTemplate)}}function Kte(i,n){i&1&&I(0,$te,1,1,"ng-template",30)}function qte(i,n){i&1&&oe(0)}function Yte(i,n){if(i&1&&I(0,qte,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function Jte(i,n){i&1&&I(0,Yte,1,1,"ng-template",31)}function Xte(i,n){i&1&&oe(0)}function Qte(i,n){if(i&1&&I(0,Xte,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function Zte(i,n){i&1&&I(0,Qte,1,1,"ng-template",32)}function eie(i,n){i&1&&oe(0)}function tie(i,n){if(i&1&&I(0,eie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function iie(i,n){i&1&&I(0,tie,1,1,"ng-template",33)}function nie(i,n){i&1&&oe(0)}function oie(i,n){if(i&1&&I(0,nie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function rie(i,n){i&1&&I(0,oie,1,1,"ng-template",34)}function sie(i,n){if(i&1){let e=k();f(0,"p-paginator",29),R("onPageChange",function(o){b(e);let r=h();return y(r.onPageChange(o))}),I(1,Kte,1,0,null,16)(2,Jte,1,0,null,16)(3,Zte,1,0,null,16)(4,iie,1,0,null,16)(5,rie,1,0,null,16),m()}if(i&2){let e=h();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.getPaginatorStyleClasses("p-paginator-top"))("locale",e.paginatorLocale),d(),p("ngIf",e.paginatorDropdownIconTemplate),d(),p("ngIf",e.paginatorFirstPageLinkIconTemplate),d(),p("ngIf",e.paginatorPreviousPageLinkIconTemplate),d(),p("ngIf",e.paginatorLastPageLinkIconTemplate),d(),p("ngIf",e.paginatorNextPageLinkIconTemplate)}}function aie(i,n){i&1&&oe(0)}function lie(i,n){if(i&1&&I(0,aie,1,0,"ng-container",37),i&2){let e=n.$implicit,t=n.options;h(2);let o=Me(10);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Ue(2,gM,e,t))}}function cie(i,n){if(i&1){let e=k();f(0,"p-scroller",35,3),R("onLazyLoad",function(o){b(e);let r=h();return y(r.onLazyItemLoad(o))}),I(2,lie,1,5,"ng-template",36),m()}if(i&2){let e=h();it(J(15,mM,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),p("items",e.processedData)("columns",e.columns)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualRowHeight)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("autoSize",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate)("options",e.virtualScrollOptions)}}function die(i,n){i&1&&oe(0)}function uie(i,n){if(i&1&&(re(0),I(1,die,1,0,"ng-container",37),se()),i&2){let e=h(),t=Me(10);d(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",Ue(4,gM,e.processedData,J(2,Lte,e.columns)))}}function pie(i,n){i&1&&oe(0)}function hie(i,n){i&1&&oe(0)}function fie(i,n){if(i&1&&E(0,"tbody",44),i&2){let e=h().options,t=h();p("value",t.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",t.frozenBodyTemplate)("frozen",!0)}}function mie(i,n){if(i&1&&E(0,"tbody",45),i&2){let e=h().options;p("ngStyle",J(1,mM,"calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px)"))}}function gie(i,n){i&1&&oe(0)}function _ie(i,n){if(i&1&&(f(0,"tfoot",46,6),I(2,gie,1,0,"ng-container",37),m()),i&2){let e=h().options,t=h();d(2),p("ngTemplateOutlet",t.footerGroupedTemplate||t.footerTemplate)("ngTemplateOutletContext",J(2,bC,e.columns))}}function Cie(i,n){if(i&1&&(f(0,"table",38,4),I(2,pie,1,0,"ng-container",37),f(3,"thead",39,5),I(5,hie,1,0,"ng-container",37),m(),I(6,fie,1,5,"tbody",40),E(7,"tbody",41),I(8,mie,1,3,"tbody",42)(9,_ie,3,4,"tfoot",43),m()),i&2){let e=n.options,t=h();te(t.tableStyleClass),p("ngClass",Ai(18,Mte,t.scrollable,t.resizableColumns,t.resizableColumns&&t.columnResizeMode==="fit"))("ngStyle",t.tableStyle),M("id",t.id+"-table"),d(2),p("ngTemplateOutlet",t.colGroupTemplate)("ngTemplateOutletContext",J(22,bC,e.columns)),d(3),p("ngTemplateOutlet",t.headerGroupedTemplate||t.headerTemplate)("ngTemplateOutletContext",J(24,bC,e.columns)),d(),p("ngIf",t.frozenValue||t.frozenBodyTemplate),d(),p("ngClass",e.contentStyleClass)("ngStyle",e.contentStyle)("value",t.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",t.bodyTemplate)("scrollerOptions",e),d(),p("ngIf",e.spacerStyle),d(),p("ngIf",t.footerGroupedTemplate||t.footerTemplate)}}function Iie(i,n){i&1&&oe(0)}function vie(i,n){if(i&1&&I(0,Iie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorDropdownIconTemplate)}}function bie(i,n){i&1&&I(0,vie,1,1,"ng-template",30)}function yie(i,n){i&1&&oe(0)}function wie(i,n){if(i&1&&I(0,yie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function Sie(i,n){i&1&&I(0,wie,1,1,"ng-template",31)}function Aie(i,n){i&1&&oe(0)}function xie(i,n){if(i&1&&I(0,Aie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function Eie(i,n){i&1&&I(0,xie,1,1,"ng-template",32)}function Tie(i,n){i&1&&oe(0)}function Oie(i,n){if(i&1&&I(0,Tie,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Rie(i,n){i&1&&I(0,Oie,1,1,"ng-template",33)}function Die(i,n){i&1&&oe(0)}function Pie(i,n){if(i&1&&I(0,Die,1,0,"ng-container",27),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function Fie(i,n){i&1&&I(0,Pie,1,1,"ng-template",34)}function Lie(i,n){if(i&1){let e=k();f(0,"p-paginator",29),R("onPageChange",function(o){b(e);let r=h();return y(r.onPageChange(o))}),I(1,bie,1,0,null,16)(2,Sie,1,0,null,16)(3,Eie,1,0,null,16)(4,Rie,1,0,null,16)(5,Fie,1,0,null,16),m()}if(i&2){let e=h();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.getPaginatorStyleClasses("p-paginator-bottom"))("locale",e.paginatorLocale),d(),p("ngIf",e.paginatorDropdownIconTemplate),d(),p("ngIf",e.paginatorFirstPageLinkIconTemplate),d(),p("ngIf",e.paginatorPreviousPageLinkIconTemplate),d(),p("ngIf",e.paginatorLastPageLinkIconTemplate),d(),p("ngIf",e.paginatorNextPageLinkIconTemplate)}}function Mie(i,n){i&1&&oe(0)}function kie(i,n){if(i&1&&(f(0,"div",47),I(1,Mie,1,0,"ng-container",27),m()),i&2){let e=h();d(),p("ngTemplateOutlet",e.summaryTemplate)}}function Nie(i,n){i&1&&E(0,"div",48,7),i&2&&p("ngStyle",Ie(1,eA))}function Vie(i,n){i&1&&E(0,"ArrowDownIcon")}function Bie(i,n){}function Uie(i,n){i&1&&I(0,Bie,0,0,"ng-template")}function jie(i,n){if(i&1&&(f(0,"span",49,8),I(2,Vie,1,0,"ArrowDownIcon",16)(3,Uie,1,0,null,27),m()),i&2){let e=h();p("ngStyle",Ie(3,eA)),d(2),p("ngIf",!e.reorderIndicatorUpIconTemplate),d(),p("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function Hie(i,n){i&1&&E(0,"ArrowUpIcon")}function Gie(i,n){}function zie(i,n){i&1&&I(0,Gie,0,0,"ng-template")}function Wie(i,n){if(i&1&&(f(0,"span",50,9),I(2,Hie,1,0,"ArrowUpIcon",16)(3,zie,1,0,null,27),m()),i&2){let e=h();p("ngStyle",Ie(3,eA)),d(2),p("ngIf",!e.reorderIndicatorDownIconTemplate),d(),p("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var $ie=["pTableBody",""],tA=(i,n,e,t,o)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:o}),Kie=(i,n,e,t,o,r,s)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:o,rowgroup:r,rowspan:s}),wC=(i,n,e,t,o,r)=>({$implicit:i,rowIndex:n,columns:e,expanded:t,editing:o,frozen:r}),_M=(i,n,e,t)=>({$implicit:i,rowIndex:n,columns:e,frozen:t}),CM=(i,n)=>({$implicit:i,frozen:n});function qie(i,n){i&1&&oe(0)}function Yie(i,n){if(i&1&&(re(0,3),I(1,qie,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.groupHeaderTemplate)("ngTemplateOutletContext",Ha(2,tA,t,r.getRowIndex(o),r.columns,r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function Jie(i,n){i&1&&oe(0)}function Xie(i,n){if(i&1&&(re(0),I(1,Jie,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",t?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",Ha(2,tA,t,r.getRowIndex(o),r.columns,r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function Qie(i,n){i&1&&oe(0)}function Zie(i,n){if(i&1&&(re(0),I(1,Qie,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",t?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",ZP(2,Kie,t,r.getRowIndex(o),r.columns,r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen,r.shouldRenderRowspan(r.value,t,o),r.calculateRowGroupSize(r.value,t,o)))}}function ene(i,n){i&1&&oe(0)}function tne(i,n){if(i&1&&(re(0,3),I(1,ene,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.groupFooterTemplate)("ngTemplateOutletContext",Ha(2,tA,t,r.getRowIndex(o),r.columns,r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function ine(i,n){if(i&1&&I(0,Yie,2,8,"ng-container",2)(1,Xie,2,8,"ng-container",0)(2,Zie,2,10,"ng-container",0)(3,tne,2,8,"ng-container",2),i&2){let e=n.$implicit,t=n.index,o=h(2);p("ngIf",o.dt.groupHeaderTemplate&&!o.dt.virtualScroll&&o.dt.rowGroupMode==="subheader"&&o.shouldRenderRowGroupHeader(o.value,e,o.getRowIndex(t))),d(),p("ngIf",o.dt.rowGroupMode!=="rowspan"),d(),p("ngIf",o.dt.rowGroupMode==="rowspan"),d(),p("ngIf",o.dt.groupFooterTemplate&&!o.dt.virtualScroll&&o.dt.rowGroupMode==="subheader"&&o.shouldRenderRowGroupFooter(o.value,e,t))}}function nne(i,n){if(i&1&&(re(0),I(1,ine,4,4,"ng-template",1),se()),i&2){let e=h();d(),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function one(i,n){i&1&&oe(0)}function rne(i,n){if(i&1&&(re(0),I(1,one,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ca(2,wC,t,r.getRowIndex(o),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function sne(i,n){i&1&&oe(0)}function ane(i,n){if(i&1&&(re(0,3),I(1,sne,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.groupHeaderTemplate)("ngTemplateOutletContext",ca(2,wC,t,r.getRowIndex(o),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function lne(i,n){i&1&&oe(0)}function cne(i,n){i&1&&oe(0)}function dne(i,n){if(i&1&&(re(0,3),I(1,cne,1,0,"ng-container",4),se()),i&2){let e=h(2),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.groupFooterTemplate)("ngTemplateOutletContext",ca(2,wC,t,r.getRowIndex(o),r.columns,r.dt.isRowExpanded(t),r.dt.editMode==="row"&&r.dt.isRowEditing(t),r.frozen))}}function une(i,n){if(i&1&&(re(0),I(1,lne,1,0,"ng-container",4)(2,dne,2,9,"ng-container",2),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.expandedRowTemplate)("ngTemplateOutletContext",Nn(3,_M,t,r.getRowIndex(o),r.columns,r.frozen)),d(),p("ngIf",r.dt.groupFooterTemplate&&r.dt.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,r.getRowIndex(o)))}}function pne(i,n){if(i&1&&I(0,rne,2,9,"ng-container",0)(1,ane,2,9,"ng-container",2)(2,une,3,8,"ng-container",0),i&2){let e=n.$implicit,t=n.index,o=h(2);p("ngIf",!o.dt.groupHeaderTemplate),d(),p("ngIf",o.dt.groupHeaderTemplate&&o.dt.rowGroupMode==="subheader"&&o.shouldRenderRowGroupHeader(o.value,e,o.getRowIndex(t))),d(),p("ngIf",o.dt.isRowExpanded(e))}}function hne(i,n){if(i&1&&(re(0),I(1,pne,3,3,"ng-template",1),se()),i&2){let e=h();d(),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function fne(i,n){i&1&&oe(0)}function mne(i,n){i&1&&oe(0)}function gne(i,n){if(i&1&&(re(0),I(1,mne,1,0,"ng-container",4),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);d(),p("ngTemplateOutlet",r.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",Nn(2,_M,t,r.getRowIndex(o),r.columns,r.frozen))}}function _ne(i,n){if(i&1&&I(0,fne,1,0,"ng-container",4)(1,gne,2,7,"ng-container",0),i&2){let e=n.$implicit,t=n.index,o=h(2);p("ngTemplateOutlet",o.template)("ngTemplateOutletContext",ca(3,wC,e,o.getRowIndex(t),o.columns,o.dt.isRowExpanded(e),o.dt.editMode==="row"&&o.dt.isRowEditing(e),o.frozen)),d(),p("ngIf",o.dt.isRowExpanded(e))}}function Cne(i,n){if(i&1&&(re(0),I(1,_ne,2,10,"ng-template",1),se()),i&2){let e=h();d(),p("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function Ine(i,n){i&1&&oe(0)}function vne(i,n){if(i&1&&(re(0),I(1,Ine,1,0,"ng-container",4),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",Ue(2,CM,e.columns,e.frozen))}}function bne(i,n){i&1&&oe(0)}function yne(i,n){if(i&1&&(re(0),I(1,bne,1,0,"ng-container",4),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",Ue(2,CM,e.columns,e.frozen))}}function wne(i,n){i&1&&E(0,"SortAltIcon",4),i&2&&p("styleClass","p-sortable-column-icon")}function Sne(i,n){i&1&&E(0,"SortAmountUpAltIcon",4),i&2&&p("styleClass","p-sortable-column-icon")}function Ane(i,n){i&1&&E(0,"SortAmountDownIcon",4),i&2&&p("styleClass","p-sortable-column-icon")}function xne(i,n){if(i&1&&(re(0),I(1,wne,1,1,"SortAltIcon",3)(2,Sne,1,1,"SortAmountUpAltIcon",3)(3,Ane,1,1,"SortAmountDownIcon",3),se()),i&2){let e=h();d(),p("ngIf",e.sortOrder===0),d(),p("ngIf",e.sortOrder===1),d(),p("ngIf",e.sortOrder===-1)}}function Ene(i,n){}function Tne(i,n){i&1&&I(0,Ene,0,0,"ng-template")}function One(i,n){if(i&1&&(f(0,"span",5),I(1,Tne,1,0,null,6),m()),i&2){let e=h();d(),p("ngTemplateOutlet",e.dt.sortIconTemplate)("ngTemplateOutletContext",J(2,bC,e.sortOrder))}}function Rne(i,n){if(i&1&&(f(0,"span",7),T(1),m()),i&2){let e=h();d(),H(e.getBadgeValue())}}function Dne(i,n){i&1&&oe(0)}function Pne(i,n){if(i&1&&(re(0),I(1,Dne,1,0,"ng-container",1),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.inputTemplate)}}function Fne(i,n){i&1&&oe(0)}function Lne(i,n){if(i&1&&(re(0),I(1,Fne,1,0,"ng-container",1),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.outputTemplate)}}var yC=(()=>{class i{sortSource=new Ae;selectionSource=new Ae;contextMenuSource=new Ae;valueSource=new Ae;totalRecordsSource=new Ae;columnsSource=new Ae;isHeaderCheckboxSelection=new Ae;sortSource$=this.sortSource.asObservable();isHeaderCheckboxSelection$=this.isHeaderCheckboxSelection.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}onHeaderCheckboxSelection(e){this.isHeaderCheckboxSelection.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),Oo=(()=>{class i{document;platformId;renderer;el;zone;tableService;cd;filterService;overlayService;config;domSanitizer;frozenColumns;frozenValue;style;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new W;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(e,t)=>t;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;scrollDirection="vertical";rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;get responsive(){return this._responsive}set responsive(e){this._responsive=e,console.warn("responsive property is deprecated as table is always responsive with scrollable behavior.")}_responsive;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;autoLayout;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}selectAllChange=new W;selectionChange=new W;onRowSelect=new W;onRowUnselect=new W;onPage=new W;onSort=new W;onFilter=new W;onLazyLoad=new W;onRowExpand=new W;onRowCollapse=new W;onContextMenuSelect=new W;onColResize=new W;onColReorder=new W;onRowReorder=new W;onEditInit=new W;onEditComplete=new W;onEditCancel=new W;onHeaderCheckboxToggle=new W;sortFunction=new W;firstChange=new W;rowsChange=new W;onStateSave=new W;onStateRestore=new W;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;templates;get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated.")}_virtualRowHeight=28;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;headerTemplate;headerGroupedTemplate;bodyTemplate;loadingBodyTemplate;captionTemplate;footerTemplate;footerGroupedTemplate;summaryTemplate;colGroupTemplate;expandedRowTemplate;groupHeaderTemplate;groupFooterTemplate;frozenExpandedRowTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;paginatorDropdownIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=ut();styleElement;responsiveStyleElement;window;constructor(e,t,o,r,s,a,l,c,u,g,_){this.document=e,this.platformId=t,this.renderer=o,this.el=r,this.zone=s,this.tableService=a,this.cd=l,this.filterService=c,this.overlayService=u,this.config=g,this.domSanitizer=_,this.window=this.document.defaultView}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break}})}ngAfterViewInit(){rt(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&rt(this.platformId)&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this.isStateful()||(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(e){let t=e||this.processedData;if(t&&this.paginator){let o=this.lazy?0:this.first;return t.slice(o,o+this.rows)}return t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(le.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(le.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let o=t.metaKey||t.ctrlKey,r=this.getSortMeta(e.field);r?o?r.order=r.order*-1:(this._multiSortMeta=[{field:e.field,order:r.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,t=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(e&&t){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:t}):(this.value.sort((r,s)=>{let a=le.resolveFieldData(r,e),l=le.resolveFieldData(s,e),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,t*c}),this._value=[...this.value]),this.hasFilter()&&this._filter());let o={field:e,order:t};this.onSort.emit(o),this.tableService.onSort(o)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,t)=>this.multisortField(e,t,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,t,o,r){let s=le.resolveFieldData(e,o[r].field),a=le.resolveFieldData(t,o[r].field);return le.compare(s,a,this.filterLocale)===0?o.length-1>r?this.multisortField(e,t,o,r+1):0:this.compareValuesOnSort(s,a,o[r].order)}compareValuesOnSort(e,t,o){return le.sort(e,t,o,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==e){t=!0;break}}return t}}handleRowClick(e){let t=e.originalEvent.target,o=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;if(!(o=="INPUT"||o=="BUTTON"||o=="A"||r=="INPUT"||r=="BUTTON"||r=="A"||L.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){let s=e.rowData,a=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&this.anchorRowIndex!=null)L.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=a,this.selectRange(e.originalEvent,a);else{let l=this.isSelected(s);if(!l&&!this.isRowSelectable(s,a))return;let c=this.rowTouched?!1:this.metaKeySelection,u=this.dataKey?String(le.resolveFieldData(s,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let g=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(l&&g){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let _=this.findIndexInSelection(s);this._selection=this.selection.filter((C,w)=>w!=_),this.selectionChange.emit(this.selection),u&&delete this.selectionKeys[u]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row"})}else this.isSingleSelectionMode()?(this._selection=s,this.selectionChange.emit(s),u&&(this.selectionKeys={},this.selectionKeys[u]=1)):this.isMultipleSelectionMode()&&(g?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,s],this.selectionChange.emit(this.selection),u&&(this.selectionKeys[u]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})):(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),u&&(this.selectionKeys={},this.selectionKeys[u]=1));else if(this.selectionMode==="multiple")if(l){let g=this.findIndexInSelection(s);this._selection=this.selection.filter((_,C)=>C!=g),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),u&&delete this.selectionKeys[u]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),u&&(this.selectionKeys[u]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowData,o=e.rowIndex;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:t,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let r=this.isSelected(t),s=this.dataKey?String(le.resolveFieldData(t,this.dataKey)):null;if(!r){if(!this.isRowSelectable(t,o))return;this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:t,index:e.rowIndex})}}}selectRange(e,t,o){let r,s;this.anchorRowIndex>t?(r=t,s=this.anchorRowIndex):this.anchorRowIndex<t?(r=this.anchorRowIndex,s=t):(r=t,s=t),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let a=[];for(let l=r;l<=s;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!o){if(!this.isRowSelectable(c,t))continue;a.push(c),this._selection=[...this.selection,c];let u=this.dataKey?String(le.resolveFieldData(c,this.dataKey)):null;u&&(this.selectionKeys[u]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:a,type:"row"})}clearSelectionRange(e){let t,o,r=this.rangeRowIndex,s=this.anchorRowIndex;r>s?(t=this.anchorRowIndex,o=this.rangeRowIndex):r<s?(t=this.rangeRowIndex,o=this.anchorRowIndex):(t=this.rangeRowIndex,o=this.rangeRowIndex);for(let a=t;a<=o;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((g,_)=>_!=c);let u=this.dataKey?String(le.resolveFieldData(l,this.dataKey)):null;u&&delete this.selectionKeys[u],this.onRowUnselect.emit({originalEvent:e,data:l,type:"row"})}}isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys[le.resolveFieldData(e,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let o=0;o<this.selection.length;o++)if(this.equals(e,this.selection[o])){t=o;break}}return t}isRowSelectable(e,t){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:t}))}toggleRowWithRadio(e,t){if(this.preventSelectionSetterPropagation=!0,this.selection!=t){if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=t,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(le.resolveFieldData(t,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,t){this.selection=this.selection||[];let o=this.isSelected(t),r=this.dataKey?String(le.resolveFieldData(t,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,o){let s=this.findIndexInSelection(t);this._selection=this.selection.filter((a,l)=>l!=s),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),r&&delete this.selectionKeys[r]}else{if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),r&&(this.selectionKeys[r]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,t){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:e,checked:t});else{let o=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,r=this.selectionPageOnly&&this._selection?this._selection.filter(s=>!o.some(a=>this.equals(s,a))):[];t&&(r=this.frozenValue?[...r,...this.frozenValue,...o]:[...r,...o],r=this.rowSelectable?r.filter((s,a)=>this.rowSelectable({data:s,index:a})):r),this._selection=r,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t}),this.isStateful()&&this.saveState()}}equals(e,t){return this.compareSelectionBy==="equals"?e===t:le.equals(e,t,this.dataKey)}filter(e,t,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let t=0;t<this.value.length;t++){let o=!0,r=!1,s=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){s=!0;let c=l,u=this.filters[c];if(Array.isArray(u)){for(let g of u)if(o=this.executeLocalFilter(c,this.value[t],g),g.operator===PS.OR&&o||g.operator===PS.AND&&!o)break}else o=this.executeLocalFilter(c,this.value[t],u);if(!o)break}if(this.filters.global&&!r&&e)for(let l=0;l<e.length;l++){let c=e[l].field||e[l];if(r=this.filterService.filters[this.filters.global.matchMode](le.resolveFieldData(this.value[t],c),this.filters.global.value,this.filterLocale),r)break}let a;this.filters.global?a=s?s&&o&&r:r:a=s&&o,a&&this.filteredValue.push(this.value[t])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,t,o){let r=o.value,s=o.matchMode||Yo.STARTS_WITH,a=le.resolveFieldData(t,e),l=this.filterService.filters[s];return l(a,r,this.filterLocale)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}clearFilterValues(){for(let[,e]of Object.entries(this.filters))if(Array.isArray(e))for(let t of e)t.value=null;else e&&(e.value=null)}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let t,o="",r=this.columns;e&&e.selectionOnly?t=this.selection||[]:e&&e.allValues?t=this.value||[]:(t=this.filteredValue||this.value,this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let s=r.filter(u=>u.exportable!==!1&&u.field);o+=s.map(u=>'"'+this.getExportHeader(u)+'"').join(this.csvSeparator);let a=t.map(u=>s.map(g=>{let _=le.resolveFieldData(u,g.field);return _!=null?this.exportFunction?_=this.exportFunction({data:_,field:g.field}):_=String(_).replace(/"/g,'""'):_="",'"'+_+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(o+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),o],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(o="data:text/csv;charset=utf-8,"+o,this.window.open(encodeURI(o))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(e){this.onLazyLoad.emit(Ee(Q(Q({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,t,o,r){this.editingCell=e,this.editingCellData=t,this.editingCellField=o,this.editingCellRowIndex=r,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&L.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(L.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(e){let t=String(le.resolveFieldData(e,this.dataKey));this.editingRowKeys[t]=!0}saveRowEdit(e,t){if(L.find(t,".ng-invalid.ng-dirty").length===0){let o=String(le.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[o]}}cancelRowEdit(e){let t=String(le.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[t]}toggleRow(e,t){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let o=this.groupRowsBy?String(le.resolveFieldData(e,this.groupRowsBy)):String(le.resolveFieldData(e,this.dataKey));this.expandedRowKeys[o]!=null?(delete this.expandedRowKeys[o],this.onRowCollapse.emit({originalEvent:t,data:e})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[o]=!0,this.onRowExpand.emit({originalEvent:t,data:e})),t&&t.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return this.groupRowsBy?this.expandedRowKeys[String(le.resolveFieldData(e,this.groupRowsBy))]===!0:this.expandedRowKeys[String(le.resolveFieldData(e,this.dataKey))]===!0}isRowEditing(e){return this.editingRowKeys[String(le.resolveFieldData(e,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(e){let t=L.getOffset(this.containerViewChild?.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,e.type=="touchstart"?this.lastResizerHelperX=e.changedTouches[0].clientX-t+this.containerViewChild?.nativeElement.scrollLeft:this.lastResizerHelperX=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let t=L.getOffset(this.containerViewChild?.nativeElement).left;L.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",e.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=e.changedTouches[0].clientX-t+this.containerViewChild?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,o=this.resizeColumnElement.offsetWidth+e,r=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,"")||15;if(o>=r){if(this.columnResizeMode==="fit"){let a=this.resizeColumnElement.nextElementSibling.offsetWidth-e;o>15&&a>15&&this.resizeTableCells(o,a)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let s=this.tableViewChild?.nativeElement.offsetWidth+e;this.setResizeTableWidth(s+"px"),this.resizeTableCells(o,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",L.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let e=[],t=L.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");return L.find(t,"tr > th").forEach(r=>e.push(L.getOuterWidth(r))),e}onColumnDragStart(e,t){this.reorderIconWidth=L.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=L.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let o=L.getOffset(this.containerViewChild?.nativeElement),r=L.getOffset(t);if(this.draggedColumn!=t){let s=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=L.indexWithinGroup(t,"preorderablecolumn"),l=r.left-o.left,c=o.top-r.top,u=r.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=r.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=r.top-o.top+t.offsetHeight+"px",e.pageX>u?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let o=L.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),r=L.indexWithinGroup(t,"preorderablecolumn"),s=o!=r;if(s&&(r-o==1&&this.dropPosition===-1||o-r==1&&this.dropPosition===1)&&(s=!1),s&&r<o&&this.dropPosition===1&&(r=r+1),s&&r>o&&this.dropPosition===-1&&(r=r-1),s&&(le.reorderArray(this.columns,o,r),this.onColReorder.emit({dragIndex:o,dropIndex:r,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();le.reorderArray(a,o+1,r+1),this.updateStyleElement(a,o,null,null)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(e,t){let o=L.index(this.resizeColumnElement),r=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(r,o,e,t)}updateStyleElement(e,t,o,r){this.destroyStyleElement(),this.createStyleElement();let s="";e.forEach((a,l)=>{let c=l===t?o:r&&l===t+1?r:a,u=`width: ${c}px !important; max-width: ${c}px !important;`;s+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${u}
                }
            `}),this.renderer.setProperty(this.styleElement,"innerHTML",this.domSanitizer.bypassSecurityTrustStyle(s))}onRowDragStart(e,t){this.rowDragging=!0,this.draggedRowIndex=t,e.dataTransfer.setData("text","b")}onRowDragOver(e,t,o){if(this.rowDragging&&this.draggedRowIndex!==t){let r=L.getOffset(o).top,s=e.pageY,a=r+L.getOuterHeight(o)/2,l=o.previousElementSibling;s<a?(L.removeClass(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=t,l?L.addClass(l,"p-datatable-dragpoint-bottom"):L.addClass(o,"p-datatable-dragpoint-top")):(l?L.removeClass(l,"p-datatable-dragpoint-bottom"):L.addClass(o,"p-datatable-dragpoint-top"),this.droppedRowIndex=t+1,L.addClass(o,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,t){let o=t.previousElementSibling;o&&L.removeClass(o,"p-datatable-dragpoint-bottom"),L.removeClass(t,"p-datatable-dragpoint-bottom"),L.removeClass(t,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,t){if(this.droppedRowIndex!=null){let o=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;le.reorderArray(this.value,this.draggedRowIndex,o),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:o})}this.onRowDragLeave(e,t),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(rt(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let e=this.getStorage(),t={};this.paginator&&(t.first=this.first,t.rows=this.rows),this.sortField&&(t.sortField=this.sortField,t.sortOrder=this.sortOrder),this.multiSortMeta&&(t.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&this.saveColumnOrder(t),this.selection&&(t.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(t.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(t)),this.onStateSave.emit(t)}clearState(){let e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){let t=this.getStorage().getItem(this.stateKey),o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=function(s,a){return typeof a=="string"&&o.test(a)?new Date(a):a};if(t){let s=JSON.parse(t,r);this.paginator&&(this.first!==void 0&&(this.first=s.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=s.rows,this.rowsChange.emit(this.rows))),s.sortField&&(this.restoringSort=!0,this._sortField=s.sortField,this._sortOrder=s.sortOrder),s.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=s.multiSortMeta),s.filters&&(this.restoringFilter=!0,this.filters=s.filters),this.resizableColumns&&(this.columnWidthsState=s.columnWidths,this.tableWidthState=s.tableWidth),s.expandedRowKeys&&(this.expandedRowKeys=s.expandedRowKeys),s.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(s.selection)),this.stateRestored=!0,this.onStateRestore.emit(s)}}saveColumnWidths(e){let t=[],o=[],r=this.containerViewChild?.nativeElement;r&&(o=L.find(r,".p-datatable-thead > tr > th")),o.forEach(s=>t.push(L.getOuterWidth(s))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&(e.tableWidth=L.getOuterWidth(this.tableViewChild?.nativeElement))}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),le.isNotEmpty(e)){this.createStyleElement();let t="";e.forEach((o,r)=>{let s=`width: ${o}px !important; max-width: ${o}px !important`;t+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${r+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${r+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${r+1}) {
                            ${s}
                        }
                    `}),this.styleElement.textContent=t}}}saveColumnOrder(e){if(this.columns){let t=[];this.columns.map(o=>{t.push(o.field||o.key)}),e.columnOrder=t}}restoreColumnOrder(){let t=this.getStorage().getItem(this.stateKey);if(t){let r=JSON.parse(t).columnOrder;if(r){let s=[];r.map(a=>{let l=this.findColumnByKey(a);l&&s.push(l)}),this.columnOrderStateRestored=!0,this.columns=s}}}findColumnByKey(e){if(this.columns){for(let t of this.columns)if(t.key===e||t.field===e)return t}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(rt(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",L.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let e=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-wrapper > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"innerHTML",this.domSanitizer.bypassSecurityTrustStyle(e))}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}getPaginatorStyleClasses(e){return[this.paginatorStyleClass,e].filter(t=>!!t).join(" ").trim()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(Le),v(It),v(yC),v(pe),v(qa),v(Jo),v(xt),v(ha))};static \u0275cmp=Y({type:i,selectors:[["p-table"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(wte,5),ne(Ste,5),ne(Ate,5),ne(xte,5),ne(Ete,5),ne(Tte,5),ne(Ote,5),ne(Rte,5),ne(Dte,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.resizeHelperViewChild=r.first),K(r=q())&&(o.reorderIndicatorUpViewChild=r.first),K(r=q())&&(o.reorderIndicatorDownViewChild=r.first),K(r=q())&&(o.wrapperViewChild=r.first),K(r=q())&&(o.tableViewChild=r.first),K(r=q())&&(o.tableHeaderViewChild=r.first),K(r=q())&&(o.tableFooterViewChild=r.first),K(r=q())&&(o.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[2,"paginator","paginator",j],pageLinks:[2,"pageLinks","pageLinks",xe],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",j],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",j],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",j],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",j],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",j],showPageLinks:[2,"showPageLinks","showPageLinks",j],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",xe],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",j],selectionMode:"selectionMode",selectionPageOnly:[2,"selectionPageOnly","selectionPageOnly",j],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",j],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[2,"lazy","lazy",j],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",j],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",xe],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[2,"scrollable","scrollable",j],scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",xe],frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:[2,"resizableColumns","resizableColumns",j],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",j],loading:[2,"loading","loading",j],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",j],rowHover:[2,"rowHover","rowHover",j],customSort:[2,"customSort","customSort",j],showInitialSortBadge:[2,"showInitialSortBadge","showInitialSortBadge",j],autoLayout:[2,"autoLayout","autoLayout",j],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:[2,"groupRowsByOrder","groupRowsByOrder",xe],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll",virtualRowHeight:"virtualRowHeight"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[Ge([yC]),Ve,ki],decls:16,vars:22,consts:[["container",""],["wrapper",""],["buildInTable",""],["scroller",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"ngStyle","ngClass"],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-datatable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-datatable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-datatable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-datatable-header"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-datatable-thead"],["role","rowgroup","class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody",3,"ngClass","ngStyle","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup","class","p-datatable-scroller-spacer",3,"ngStyle",4,"ngIf"],["role","rowgroup","class","p-datatable-tfoot",4,"ngIf"],["role","rowgroup",1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",1,"p-datatable-scroller-spacer",3,"ngStyle"],["role","rowgroup",1,"p-datatable-tfoot"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-datatable-reorder-indicator-up",3,"ngStyle"],[1,"p-datatable-reorder-indicator-down",3,"ngStyle"]],template:function(t,o){t&1&&(f(0,"div",10,0),I(2,Hte,3,2,"div",11)(3,zte,2,1,"div",12)(4,sie,6,24,"p-paginator",13),f(5,"div",14,1),I(7,cie,3,17,"p-scroller",15)(8,uie,2,7,"ng-container",16)(9,Cie,10,26,"ng-template",null,2,bt),m(),I(11,Lie,6,24,"p-paginator",13)(12,kie,2,1,"div",17)(13,Nie,2,2,"div",18)(14,jie,4,4,"span",19)(15,Wie,4,4,"span",20),m()),t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Ai(16,Pte,o.rowHover||o.selectionMode,o.scrollable,o.scrollable&&o.scrollHeight==="flex")),M("id",o.id),d(2),p("ngIf",o.loading&&o.showLoader),d(),p("ngIf",o.captionTemplate),d(),p("ngIf",o.paginator&&(o.paginatorPosition==="top"||o.paginatorPosition=="both")),d(),p("ngStyle",J(20,Fte,o.virtualScroll?"":o.scrollHeight)),d(2),p("ngIf",o.virtualScroll),d(),p("ngIf",!o.virtualScroll),d(3),p("ngIf",o.paginator&&(o.paginatorPosition==="bottom"||o.paginatorPosition=="both")),d(),p("ngIf",o.summaryTemplate),d(),p("ngIf",o.resizableColumns),d(),p("ngIf",o.reorderableColumns),d(),p("ngIf",o.reorderableColumns))},dependencies:()=>[Fe,ze,Xe,ve,IC,ge,Kr,yp,wp,Lr,Mne],styles:[`@layer primeng{.p-datatable{position:relative}.p-datatable>.p-datatable-wrapper{overflow:auto}.p-datatable-table{border-spacing:0px;width:100%}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-icon-wrapper{display:inline}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable>.p-datatable-wrapper{position:relative}.p-datatable-scrollable-table>.p-datatable-thead{position:sticky;top:0;z-index:2}.p-datatable-scrollable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit;z-index:1}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable>.p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable-table>.p-datatable-tbody>.p-rowgroup-header{position:sticky;z-index:2}.p-datatable-resizable-table>.p-datatable-thead>tr>th,.p-datatable-resizable-table>.p-datatable-tfoot>tr>td,.p-datatable-resizable-table>.p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable-table>.p-datatable-thead>tr>th.p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-table-fit>.p-datatable-thead>tr>th.p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:3}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable-tbody>tr>td>.p-column-title{display:none}.p-datatable-scroller-spacer{display:flex}.p-datatable .p-scroller .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return i})(),Mne=(()=>{class i{dt;tableService;cd;el;columns;template;get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&this.dt.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(e,t,o,r){this.dt=e,this.tableService=t,this.cd=o,this.el=r,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(e,t,o){let r=le.resolveFieldData(t,this.dt.groupRowsBy),s=e[o-(1+this.dt._first)];if(s){let a=le.resolveFieldData(s,this.dt.groupRowsBy);return r!==a}else return!0}shouldRenderRowGroupFooter(e,t,o){let r=le.resolveFieldData(t,this.dt.groupRowsBy),s=e[o+(1+this.dt._first)];if(s){let a=le.resolveFieldData(s,this.dt.groupRowsBy);return r!==a}else return!0}shouldRenderRowspan(e,t,o){let r=le.resolveFieldData(t,this.dt.groupRowsBy),s=e[o-1];if(s){let a=le.resolveFieldData(s,this.dt.groupRowsBy);return r!==a}else return!0}calculateRowGroupSize(e,t,o){let r=le.resolveFieldData(t,this.dt.groupRowsBy),s=r,a=0;for(;r===s;){a++;let l=e[++o];if(l)s=le.resolveFieldData(l,this.dt.groupRowsBy);else break}return a===1?null:a}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=L.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=L.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,t){return this.dt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.dt.paginator?this.dt.first+e:e,o=this.getScrollerOption("getItemOptions");return o?o(t).index:t}static \u0275fac=function(t){return new(t||i)(v(Oo),v(yC),v(pe),v(Le))};static \u0275cmp=Y({type:i,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[0,"pTableBody","columns"],template:[0,"pTableBodyTemplate","template"],value:"value",frozen:[2,"frozen","frozen",j],frozenRows:[2,"frozenRows","frozenRows",j],scrollerOptions:"scrollerOptions"},features:[Ve],attrs:$ie,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&I(0,nne,2,2,"ng-container",0)(1,hne,2,2,"ng-container",0)(2,Cne,2,2,"ng-container",0)(3,vne,2,5,"ng-container",0)(4,yne,2,5,"ng-container",0),t&2&&(p("ngIf",!o.dt.expandedRowTemplate),d(),p("ngIf",o.dt.expandedRowTemplate&&!(o.frozen&&o.dt.frozenExpandedRowTemplate)),d(),p("ngIf",o.dt.frozenExpandedRowTemplate&&o.frozen),d(),p("ngIf",o.dt.loading),d(),p("ngIf",o.dt.isEmpty()&&!o.dt.loading))},dependencies:[Ni,ze,Xe],encapsulation:2})}return i})();var Sp=(()=>{class i{dt;field;pSortableColumnDisabled;sorted;sortOrder;subscription;constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(t=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?this.dt.sortOrder===1?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),L.clearSelection())}onEnterKey(e){this.onClick(e),e.preventDefault()}isEnabled(){return this.pSortableColumnDisabled!==!0}isFilterElement(e){return this.isFilterElementIconOrButton(e)||this.isFilterElementIconOrButton(e?.parentElement?.parentElement)}isFilterElementIconOrButton(e){return L.hasClass(e,"pi-filter-icon")||L.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Oo))};static \u0275dir=lt({type:i,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,o){t&1&&R("click",function(s){return o.onClick(s)})("keydown.space",function(s){return o.onEnterKey(s)})("keydown.enter",function(s){return o.onEnterKey(s)}),t&2&&(M("tabindex",o.isEnabled()?"0":null)("role","columnheader")("aria-sort",o.sortOrder),Xi("p-sortable-column",o.isEnabled())("p-highlight",o.sorted))},inputs:{field:[0,"pSortableColumn","field"],pSortableColumnDisabled:[2,"pSortableColumnDisabled","pSortableColumnDisabled",j]},features:[Ve]})}return i})(),Ap=(()=>{class i{dt;cd;field;subscription;sortOrder;constructor(e,t){this.dt=e,this.cd=t,this.subscription=this.dt.tableService.sortSource$.subscribe(o=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if(this.dt.sortMode==="single")this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if(this.dt.sortMode==="multiple"){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,t=-1;if(e&&this.dt.sortMode==="multiple"&&this.dt.showInitialSortBadge&&e.length>1)for(let o=0;o<e.length;o++){let r=e[o];if(r.field===this.field||r.field===this.field){t=o;break}}return t}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return this.dt.sortMode==="multiple"&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Oo),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:3,vars:3,consts:[[4,"ngIf"],["class","p-sortable-column-icon",4,"ngIf"],["class","p-sortable-column-badge",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-sortable-column-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-sortable-column-badge"]],template:function(t,o){t&1&&I(0,xne,4,3,"ng-container",0)(1,One,2,4,"span",1)(2,Rne,2,1,"span",2),t&2&&(p("ngIf",!o.dt.sortIconTemplate),d(),p("ngIf",o.dt.sortIconTemplate),d(),p("ngIf",o.isMultiSorted()))},dependencies:()=>[ze,Xe,Yf,Xf,Jf],encapsulation:2,changeDetection:0})}return i})(),Fc=(()=>{class i{dt;tableService;el;data;index;pSelectableRowDisabled;selected;subscription;constructor(e,t,o){this.dt=e,this.tableService=t,this.el=o,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}setRowTabIndex(){if(this.dt.selectionMode==="single"||this.dt.selectionMode==="multiple")return this.dt.selection?this.dt.anchorRowIndex===this.index?0:-1:0}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;default:if(e.code==="KeyA"&&(e.metaKey||e.ctrlKey)&&this.dt.selectionMode==="multiple"){let t=this.dt.dataToRender(this.dt.processedData);this.dt.selection=[...t],this.dt.selectRange(e,t.length-1,!0),e.preventDefault()}break}}onArrowDownKey(e){if(!this.isEnabled())return;let t=e.currentTarget,o=this.findNextSelectableRow(t);o&&o.focus(),e.preventDefault()}onArrowUpKey(e){if(!this.isEnabled())return;let t=e.currentTarget,o=this.findPrevSelectableRow(t);o&&o.focus(),e.preventDefault()}onEnterKey(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onEndKey(e){let t=this.findLastSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let o=this.dt.dataToRender(this.dt.rows),r=L.getAttribute(t,"index");this.dt.anchorRowIndex=r,this.dt.selection=o.slice(this.index,o.length),this.dt.selectRange(e,this.index)}e.preventDefault()}onHomeKey(e){let t=this.findFirstSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let o=this.dt.dataToRender(this.dt.rows),r=L.getAttribute(t,"index");this.dt.anchorRowIndex=this.dt.anchorRowIndex||r,this.dt.selection=o.slice(0,this.index+1),this.dt.selectRange(e,this.index)}e.preventDefault()}onSpaceKey(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLTextAreaElement)){if(this.onEnterKey(e),e.shiftKey&&this.dt.selection!==null){let o=this.dt.dataToRender(this.dt.rows),r;if(le.isNotEmpty(this.dt.selection)&&this.dt.selection.length>0){let s,a;s=le.findIndexInList(this.dt.selection[0],o),a=le.findIndexInList(this.dt.selection[this.dt.selection.length-1],o),r=this.index<=s?a:s}else r=le.findIndexInList(this.dt.selection,o);this.dt.anchorRowIndex=r,this.dt.selection=r!==this.index?o.slice(Math.min(r,this.index),Math.max(r,this.index)+1):[this.data],this.dt.selectRange(e,this.index)}e.preventDefault()}}focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",L.focus(t)}findLastSelectableRow(){let e=L.find(this.dt.el.nativeElement,".p-selectable-row");return e?e[e.length-1]:null}findFirstSelectableRow(){return L.findSingle(this.dt.el.nativeElement,".p-selectable-row")}findNextSelectableRow(e){let t=e.nextElementSibling;return t?L.hasClass(t,"p-selectable-row")?t:this.findNextSelectableRow(t):null}findPrevSelectableRow(e){let t=e.previousElementSibling;return t?L.hasClass(t,"p-selectable-row")?t:this.findPrevSelectableRow(t):null}isEnabled(){return this.pSelectableRowDisabled!==!0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Oo),v(yC),v(Le))};static \u0275dir=lt({type:i,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,o){t&1&&R("click",function(s){return o.onClick(s)})("touchend",function(s){return o.onTouchEnd(s)})("keydown",function(s){return o.onKeyDown(s)}),t&2&&(M("tabindex",o.setRowTabIndex())("data-p-highlight",o.selected)("data-p-selectable-row",!0),Xi("p-selectable-row",o.isEnabled())("p-highlight",o.selected))},inputs:{data:[0,"pSelectableRow","data"],index:[0,"pSelectableRowIndex","index"],pSelectableRowDisabled:[2,"pSelectableRowDisabled","pSelectableRowDisabled",j]},features:[Ve]})}return i})();var SC=(()=>{class i{document;platformId;renderer;dt;el;zone;pResizableColumnDisabled;resizer;resizerMouseDownListener;resizerTouchStartListener;resizerTouchMoveListener;resizerTouchEndListener;documentMouseMoveListener;documentMouseUpListener;constructor(e,t,o,r,s,a){this.document=e,this.platformId=t,this.renderer=o,this.dt=r,this.el=s,this.zone=a}ngAfterViewInit(){rt(this.platformId)&&this.isEnabled()&&(L.addClass(this.el.nativeElement,"p-resizable-column"),this.resizer=this.renderer.createElement("span"),this.renderer.addClass(this.resizer,"p-column-resizer"),this.renderer.appendChild(this.el.nativeElement,this.resizer),this.zone.runOutsideAngular(()=>{this.resizerMouseDownListener=this.renderer.listen(this.resizer,"mousedown",this.onMouseDown.bind(this)),this.resizerTouchStartListener=this.renderer.listen(this.resizer,"touchstart",this.onTouchStart.bind(this))}))}bindDocumentEvents(){this.zone.runOutsideAngular(()=>{this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this)),this.resizerTouchMoveListener=this.renderer.listen(this.resizer,"touchmove",this.onTouchMove.bind(this)),this.resizerTouchEndListener=this.renderer.listen(this.resizer,"touchend",this.onTouchEnd.bind(this))})}unbindDocumentEvents(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null),this.resizerTouchMoveListener&&(this.resizerTouchMoveListener(),this.resizerTouchMoveListener=null),this.resizerTouchEndListener&&(this.resizerTouchEndListener(),this.resizerTouchEndListener=null)}onMouseDown(e){this.dt.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchStart(e){this.dt.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchMove(e){this.dt.onColumnResize(e)}onDocumentMouseMove(e){this.dt.onColumnResize(e)}onDocumentMouseUp(e){this.dt.onColumnResizeEnd(),this.unbindDocumentEvents()}onTouchEnd(e){this.dt.onColumnResizeEnd(),this.unbindDocumentEvents()}isEnabled(){return this.pResizableColumnDisabled!==!0}ngOnDestroy(){this.resizerMouseDownListener&&(this.resizerMouseDownListener(),this.resizerMouseDownListener=null),this.unbindDocumentEvents()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(Oo),v(Le),v(It))};static \u0275dir=lt({type:i,selectors:[["","pResizableColumn",""]],hostAttrs:[1,"p-element"],inputs:{pResizableColumnDisabled:[2,"pResizableColumnDisabled","pResizableColumnDisabled",j]},features:[Ve]})}return i})();var iA=(()=>{class i{dt;el;zone;data;field;rowIndex;pEditableColumnDisabled;pFocusCellSelector;overlayEventListener;constructor(e,t,o){this.dt=e,this.el=t,this.zone=o}ngOnChanges(e){e.pEditableColumnDisabled?.currentValue===!0&&L.hasClass(this.el.nativeElement,"p-cell-editing")?this.closeEditingCell(!1,new Event("cancel")):e.data?.firstChange===!1&&this.el.nativeElement&&this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex)}ngAfterViewInit(){this.isEnabled()&&L.addClass(this.el.nativeElement,"p-editable-column")}onClick(e){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,e),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),L.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let e=this.pFocusCellSelector||"input, textarea, select",t=L.findSingle(this.el.nativeElement,e);t&&t.focus()},50)}),this.overlayEventListener=e=>{this.el&&this.el.nativeElement.contains(e.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(e,t){let o={field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:t,index:this.dt.editingCellRowIndex};e?this.dt.onEditComplete.emit(o):(this.dt.onEditCancel.emit(o),this.dt.value.forEach(r=>{r[this.dt.editingCellField]===this.data&&(r[this.dt.editingCellField]=this.dt.editingCellData)})),L.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(e){this.isEnabled()&&!e.shiftKey&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onTabKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onEscapeKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,e),e.preventDefault())}onShiftKeyDown(e){this.isEnabled()&&(e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e))}onArrowDown(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let o=L.index(t),r=this.findNextEditableColumnByIndex(t,o);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),L.invokeElementMethod(e.target,"blur"),L.invokeElementMethod(r,"click")),e.preventDefault()}}}onArrowUp(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let o=L.index(t),r=this.findPrevEditableColumnByIndex(t,o);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),L.invokeElementMethod(e.target,"blur"),L.invokeElementMethod(r,"click")),e.preventDefault()}}}onArrowLeft(e){this.isEnabled()&&this.moveToPreviousCell(e)}onArrowRight(e){this.isEnabled()&&this.moveToNextCell(e)}findCell(e){if(e){let t=e;for(;t&&!L.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null}moveToPreviousCell(e){let t=this.findCell(e.target);if(t){let o=this.findPreviousEditableColumn(t);o&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),L.invokeElementMethod(e.target,"blur"),L.invokeElementMethod(o,"click"),e.preventDefault())}}moveToNextCell(e){let t=this.findCell(e.target);if(t){let o=this.findNextEditableColumn(t);o?(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),L.invokeElementMethod(e.target,"blur"),L.invokeElementMethod(o,"click"),e.preventDefault()):this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e)}}findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let o=e.parentElement?.previousElementSibling;o&&(t=o.lastElementChild)}return t?L.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null}findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let o=e.parentElement?.nextElementSibling;o&&(t=o.firstElementChild)}return t?L.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null}findNextEditableColumnByIndex(e,t){let o=e.parentElement?.nextElementSibling;if(o){let r=o.children[t];return r&&L.hasClass(r,"p-editable-column")?r:null}else return null}findPrevEditableColumnByIndex(e,t){let o=e.parentElement?.previousElementSibling;if(o){let r=o.children[t];return r&&L.hasClass(r,"p-editable-column")?r:null}else return null}isEnabled(){return this.pEditableColumnDisabled!==!0}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Oo),v(Le),v(It))};static \u0275dir=lt({type:i,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,o){t&1&&R("click",function(s){return o.onClick(s)})("keydown.enter",function(s){return o.onEnterKeyDown(s)})("keydown.tab",function(s){return o.onShiftKeyDown(s)})("keydown.escape",function(s){return o.onEscapeKeyDown(s)})("keydown.shift.tab",function(s){return o.onShiftKeyDown(s)})("keydown.meta.tab",function(s){return o.onShiftKeyDown(s)})("keydown.arrowdown",function(s){return o.onArrowDown(s)})("keydown.arrowup",function(s){return o.onArrowUp(s)})("keydown.arrowleft",function(s){return o.onArrowLeft(s)})("keydown.arrowright",function(s){return o.onArrowRight(s)})},inputs:{data:[0,"pEditableColumn","data"],field:[0,"pEditableColumnField","field"],rowIndex:[0,"pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:[2,"pEditableColumnDisabled","pEditableColumnDisabled",j],pFocusCellSelector:"pFocusCellSelector"},features:[Ve,ki]})}return i})(),kne=(()=>{class i{el;data;pEditableRowDisabled;constructor(e){this.el=e}isEnabled(){return this.pEditableRowDisabled!==!0}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275dir=lt({type:i,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:[0,"pEditableRow","data"],pEditableRowDisabled:[2,"pEditableRowDisabled","pEditableRowDisabled",j]},features:[Ve]})}return i})();var IM=(()=>{class i{dt;editableColumn;editableRow;templates;inputTemplate;outputTemplate;constructor(e,t,o){this.dt=e,this.editableColumn=t,this.editableRow=o}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;case"output":this.outputTemplate=e.template;break}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&this.dt.editMode==="row"&&this.dt.isRowEditing(this.editableRow.data)}static \u0275fac=function(t){return new(t||i)(v(Oo),v(iA,8),v(kne,8))};static \u0275cmp=Y({type:i,selectors:[["p-cellEditor"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&I(0,Pne,2,1,"ng-container",0)(1,Lne,2,1,"ng-container",0),t&2&&(p("ngIf",o.editing),d(),p("ngIf",!o.editing))},dependencies:[ze,Xe],encapsulation:2})}return i})();var vM=(()=>{class i{el;constructor(e){this.el=e}ngAfterViewInit(){L.addClass(this.el.nativeElement,"p-datatable-reorderablerow-handle")}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275dir=lt({type:i,selectors:[["","pReorderableRowHandle",""]],hostAttrs:[1,"p-element"]})}return i})(),bM=(()=>{class i{renderer;dt;el;zone;index;pReorderableRowDisabled;mouseDownListener;dragStartListener;dragEndListener;dragOverListener;dragLeaveListener;dropListener;constructor(e,t,o,r){this.renderer=e,this.dt=t,this.el=o,this.zone=r}ngAfterViewInit(){this.isEnabled()&&(this.el.nativeElement.droppable=!0,this.bindEvents())}bindEvents(){this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this)),this.dragStartListener=this.renderer.listen(this.el.nativeElement,"dragstart",this.onDragStart.bind(this)),this.dragEndListener=this.renderer.listen(this.el.nativeElement,"dragend",this.onDragEnd.bind(this)),this.dragOverListener=this.renderer.listen(this.el.nativeElement,"dragover",this.onDragOver.bind(this)),this.dragLeaveListener=this.renderer.listen(this.el.nativeElement,"dragleave",this.onDragLeave.bind(this))})}unbindEvents(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=null),this.dragStartListener&&(this.dragStartListener(),this.dragStartListener=null),this.dragEndListener&&(this.dragEndListener(),this.dragEndListener=null),this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.dragLeaveListener&&(this.dragLeaveListener(),this.dragLeaveListener=null)}onMouseDown(e){let t=e.target,o=this.isHandleElement(t);this.el.nativeElement.draggable=o}isHandleElement(e){return e?.classList.contains("p-datatable-reorderablerow-handle")?!0:e?.parentElement&&!["TD","TR"].includes(e?.parentElement?.tagName)?this.isHandleElement(e?.parentElement):!1}onDragStart(e){this.dt.onRowDragStart(e,this.index)}onDragEnd(e){this.dt.onRowDragEnd(e),this.el.nativeElement.draggable=!1}onDragOver(e){this.dt.onRowDragOver(e,this.index,this.el.nativeElement),e.preventDefault()}onDragLeave(e){this.dt.onRowDragLeave(e,this.el.nativeElement)}isEnabled(){return this.pReorderableRowDisabled!==!0}onDrop(e){this.isEnabled()&&this.dt.rowDragging&&this.dt.onRowDrop(e,this.el.nativeElement),e.preventDefault()}ngOnDestroy(){this.unbindEvents()}static \u0275fac=function(t){return new(t||i)(v(wt),v(Oo),v(Le),v(It))};static \u0275dir=lt({type:i,selectors:[["","pReorderableRow",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,o){t&1&&R("drop",function(s){return o.onDrop(s)})},inputs:{index:[0,"pReorderableRow","index"],pReorderableRowDisabled:[2,"pReorderableRowDisabled","pReorderableRowDisabled",j]},features:[Ve]})}return i})();var nA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,vC,Ls,Dc,Ec,go,Qf,qf,$f,fM,Co,yp,wp,Lr,Yf,Xf,Jf,Ki,uM,pM,qr,hM,$e,Co]})}return i})();var Nne=["input"],Vne=(i,n,e,t)=>({"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":n,"p-checkbox-focused":e,"p-variant-filled":t}),Bne=(i,n,e)=>({"p-highlight":i,"p-disabled":n,"p-focus":e}),Une=(i,n,e)=>({"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":n,"p-checkbox-label-focus":e});function jne(i,n){if(i&1&&E(0,"span",10),i&2){let e=h(3);p("ngClass",e.checkboxIcon),M("data-pc-section","icon")}}function Hne(i,n){i&1&&E(0,"CheckIcon",11),i&2&&(p("styleClass","p-checkbox-icon"),M("data-pc-section","icon"))}function Gne(i,n){if(i&1&&(re(0),I(1,jne,1,2,"span",8)(2,Hne,1,2,"CheckIcon",9),se()),i&2){let e=h(2);d(),p("ngIf",e.checkboxIcon),d(),p("ngIf",!e.checkboxIcon)}}function zne(i,n){}function Wne(i,n){i&1&&I(0,zne,0,0,"ng-template")}function $ne(i,n){if(i&1&&(f(0,"span",12),I(1,Wne,1,0,null,13),m()),i&2){let e=h(2);M("data-pc-section","icon"),d(),p("ngTemplateOutlet",e.checkboxIconTemplate)}}function Kne(i,n){if(i&1&&(re(0),I(1,Gne,3,2,"ng-container",5)(2,$ne,2,2,"span",7),se()),i&2){let e=h();d(),p("ngIf",!e.checkboxIconTemplate),d(),p("ngIf",e.checkboxIconTemplate)}}function qne(i,n){if(i&1){let e=k();f(0,"label",14),R("click",function(o){b(e);let r=h(),s=Me(3);return y(r.onClick(o,s,!0))}),T(1),m()}if(i&2){let e=h();te(e.labelStyleClass),p("ngClass",Ai(6,Une,e.checked(),e.disabled,e.focused)),M("for",e.inputId)("data-pc-section","label"),d(),z(" ",e.label,"")}}var Yne={provide:Vi,useExisting:Dt(()=>El),multi:!0},El=(()=>{class i{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new W;onFocus=new W;onBlur=new W;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(e,t,o){this.cd=e,this.injector=t,this.config=o}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.checkboxIconTemplate=e.template;break}})}onClick(e,t,o){e.preventDefault(),!(this.disabled||this.readonly)&&(this.updateModel(e),o&&t.focus())}updateModel(e){let t,o=this.injector.get(cr,null,{optional:!0,self:!0}),r=o&&!this.formControl?o.value:this.model;this.binary?(t=this.checked()?this.falseValue:this.trueValue,this.model=t,this.onModelChange(t)):(this.checked()?t=r.filter(s=>!le.equals(s,this.value)):t=r?[...r,this.value]:[this.value],this.onModelChange(t),this.model=t,this.formControl&&this.formControl.setValue(t)),this.onChange.emit({checked:t,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(e){this.model=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){setTimeout(()=>{this.disabled=e,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:le.contains(this.value,this.model)}static \u0275fac=function(t){return new(t||i)(v(pe),v(Zn),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-checkbox"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(Nne,5),t&2){let r;K(r=q())&&(o.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",j],binary:[2,"binary","binary",j],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",xe],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",j],required:[2,"required","required",j],autofocus:[2,"autofocus","autofocus",j],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Ge([Yne]),Ve],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(t,o){if(t&1){let r=k();f(0,"div",1)(1,"div",2)(2,"input",3,0),R("change",function(a){return b(r),y(o.handleChange(a))})("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))}),m()(),f(4,"div",4),R("click",function(a){b(r);let l=Me(3);return y(o.onClick(a,l,!0))}),I(5,Kne,3,2,"ng-container",5),m()(),I(6,qne,2,10,"label",6)}t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Nn(28,Vne,o.checked(),o.disabled,o.focused,o.variant==="filled"||o.config.inputStyle()==="filled")),M("data-pc-name","checkbox")("data-pc-section","root"),d(),M("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),d(),p("value",o.value)("checked",o.checked())("disabled",o.disabled)("readonly",o.readonly)("autofocus",o.autofocus),M("id",o.inputId)("name",o.name)("tabindex",o.tabindex)("required",o.required)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-checked",o.checked())("data-pc-section","hiddenInput"),d(2),p("ngClass",Ai(33,Bne,o.checked(),o.disabled,o.focused)),M("data-p-highlight",o.checked())("data-p-disabled",o.disabled)("data-p-focused",o.focused)("data-pc-section","input"),d(),p("ngIf",o.checked()),d(),p("ngIf",o.label))},dependencies:()=>[Fe,ze,Xe,ve,mn,Ki],styles:[`@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}
`],encapsulation:2,changeDetection:0})}return i})(),oA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Tn,Ki,$e]})}return i})();var Jne=["mask"],Xne=["*"],Qne=i=>({"p-blockui-document":i,"p-blockui p-component-overlay p-component-overlay-enter":!0}),Zne=()=>({display:"none"});function eoe(i,n){i&1&&oe(0)}var Ttt=(()=>{class i{document;el;cd;config;renderer;platformId;target;autoZIndex=!0;baseZIndex=0;styleClass;get blocked(){return this._blocked}set blocked(e){this.mask&&this.mask.nativeElement?e?this.block():this.unblock():this._blocked=e}templates;mask;_blocked=!1;animationEndListener;contentTemplate;constructor(e,t,o,r,s,a){this.document=e,this.el=t,this.cd=o,this.config=r,this.renderer=s,this.platformId=a}ngAfterViewInit(){if(this._blocked&&this.block(),this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}block(){rt(this.platformId)&&(this._blocked=!0,this.mask.nativeElement.style.display="flex",this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):(this.renderer.appendChild(this.document.body,this.mask.nativeElement),L.blockBodyScroll()),this.autoZIndex&&Yt.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal))}unblock(){rt(this.platformId)&&this.mask&&!this.animationEndListener&&(this.animationEndListener=this.renderer.listen(this.mask.nativeElement,"animationend",this.destroyModal.bind(this)),L.addClass(this.mask.nativeElement,"p-component-overlay-leave"))}destroyModal(){this._blocked=!1,this.mask&&rt(this.platformId)&&(Yt.clear(this.mask.nativeElement),L.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),this.renderer.removeChild(this.el.nativeElement,this.mask.nativeElement),L.unblockBodyScroll()),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Le),v(pe),v(xt),v(wt),v(Lt))};static \u0275cmp=Y({type:i,selectors:[["p-blockUI"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(Jne,5),t&2){let r;K(r=q())&&(o.mask=r.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],styleClass:"styleClass",blocked:"blocked"},features:[Ve],ngContentSelectors:Xne,decls:4,vars:11,consts:[["mask",""],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(_i(),f(0,"div",1,0),jt(2),I(3,eoe,1,0,"ng-container",2),m()),t&2&&(te(o.styleClass),p("ngClass",J(8,Qne,!o.target))("ngStyle",Ie(10,Zne)),M("aria-busy",o.blocked)("data-pc-name","blockui")("data-pc-section","root"),d(3),p("ngTemplateOutlet",o.contentTemplate))},dependencies:[Fe,Xe,ve],styles:[`@layer primeng{.p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}}
`],encapsulation:2,changeDetection:0})}return i})(),rA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var bi="primary",pm=Symbol("RouteTitle"),dA=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Pp(i){return new dA(i)}function toe(i,n,e){let t=e.path.split("/");if(t.length>i.length||e.pathMatch==="full"&&(n.hasChildren()||t.length<i.length))return null;let o={};for(let r=0;r<t.length;r++){let s=t[r],a=i[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:o}}function ioe(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!Ja(i[e],n[e]))return!1;return!0}function Ja(i,n){let e=i?uA(i):void 0,t=n?uA(n):void 0;if(!e||!t||e.length!=t.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!PM(i[o],n[o]))return!1;return!0}function uA(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function PM(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;let e=[...i].sort(),t=[...n].sort();return e.every((o,r)=>t[r]===o)}else return i===n}function FM(i){return i.length>0?i[i.length-1]:null}function kc(i){return ll(i)?i:vc(i)?ln(Promise.resolve(i)):mt(i)}var noe={exact:MM,subset:kM},LM={exact:ooe,subset:roe,ignored:()=>!0};function yM(i,n,e){return noe[e.paths](i.root,n.root,e.matrixParams)&&LM[e.queryParams](i.queryParams,n.queryParams)&&!(e.fragment==="exact"&&i.fragment!==n.fragment)}function ooe(i,n){return Ja(i,n)}function MM(i,n,e){if(!Jd(i.segments,n.segments)||!TC(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(let t in n.children)if(!i.children[t]||!MM(i.children[t],n.children[t],e))return!1;return!0}function roe(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>PM(i[e],n[e]))}function kM(i,n,e){return NM(i,n,n.segments,e)}function NM(i,n,e,t){if(i.segments.length>e.length){let o=i.segments.slice(0,e.length);return!(!Jd(o,e)||n.hasChildren()||!TC(o,e,t))}else if(i.segments.length===e.length){if(!Jd(i.segments,e)||!TC(i.segments,e,t))return!1;for(let o in n.children)if(!i.children[o]||!kM(i.children[o],n.children[o],t))return!1;return!0}else{let o=e.slice(0,i.segments.length),r=e.slice(i.segments.length);return!Jd(i.segments,o)||!TC(i.segments,o,t)||!i.children[bi]?!1:NM(i.children[bi],n,r,t)}}function TC(i,n,e){return n.every((t,o)=>LM[e](i[o].parameters,t.parameters))}var Ol=class{constructor(n=new dn([],{}),e={},t=null){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Pp(this.queryParams),this._queryParamMap}toString(){return loe.serialize(this)}},dn=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return OC(this)}},Yd=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Pp(this.parameters),this._parameterMap}toString(){return BM(this)}};function soe(i,n){return Jd(i,n)&&i.every((e,t)=>Ja(e.parameters,n[t].parameters))}function Jd(i,n){return i.length!==n.length?!1:i.every((e,t)=>e.path===n[t].path)}function aoe(i,n){let e=[];return Object.entries(i.children).forEach(([t,o])=>{t===bi&&(e=e.concat(n(o,t)))}),Object.entries(i.children).forEach(([t,o])=>{t!==bi&&(e=e.concat(n(o,t)))}),e}var hm=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>new Fp,providedIn:"root"})}}return i})(),Fp=class{parse(n){let e=new hA(n);return new Ol(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Zf(n.root,!0)}`,t=uoe(n.queryParams),o=typeof n.fragment=="string"?`#${coe(n.fragment)}`:"";return`${e}${t}${o}`}},loe=new Fp;function OC(i){return i.segments.map(n=>BM(n)).join("/")}function Zf(i,n){if(!i.hasChildren())return OC(i);if(n){let e=i.children[bi]?Zf(i.children[bi],!1):"",t=[];return Object.entries(i.children).forEach(([o,r])=>{o!==bi&&t.push(`${o}:${Zf(r,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=aoe(i,(t,o)=>o===bi?[Zf(i.children[bi],!1)]:[`${o}:${Zf(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[bi]!=null?`${OC(i)}/${e[0]}`:`${OC(i)}/(${e.join("//")})`}}function VM(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xC(i){return VM(i).replace(/%3B/gi,";")}function coe(i){return encodeURI(i)}function pA(i){return VM(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RC(i){return decodeURIComponent(i)}function wM(i){return RC(i.replace(/\+/g,"%20"))}function BM(i){return`${pA(i.path)}${doe(i.parameters)}`}function doe(i){return Object.entries(i).map(([n,e])=>`;${pA(n)}=${pA(e)}`).join("")}function uoe(i){let n=Object.entries(i).map(([e,t])=>Array.isArray(t)?t.map(o=>`${xC(e)}=${xC(o)}`).join("&"):`${xC(e)}=${xC(t)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var poe=/^[^\/()?;#]+/;function sA(i){let n=i.match(poe);return n?n[0]:""}var hoe=/^[^\/()?;=#]+/;function foe(i){let n=i.match(hoe);return n?n[0]:""}var moe=/^[^=?&#]+/;function goe(i){let n=i.match(moe);return n?n[0]:""}var _oe=/^[^&#]+/;function Coe(i){let n=i.match(_oe);return n?n[0]:""}var hA=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[bi]=new dn(n,e)),t}parseSegment(){let n=sA(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new dt(4009,!1);return this.capture(n),new Yd(RC(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=foe(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let o=sA(this.remaining);o&&(t=o,this.capture(t))}n[RC(e)]=RC(t)}parseQueryParam(n){let e=goe(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let s=Coe(this.remaining);s&&(t=s,this.capture(t))}let o=wM(e),r=wM(t);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(r)}else n[o]=r}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=sA(this.remaining),o=this.remaining[t.length];if(o!=="/"&&o!==")"&&o!==";")throw new dt(4010,!1);let r;t.indexOf(":")>-1?(r=t.slice(0,t.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=bi);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[bi]:new dn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new dt(4011,!1)}};function UM(i){return i.segments.length>0?new dn([],{[bi]:i}):i}function jM(i){let n={};for(let[t,o]of Object.entries(i.children)){let r=jM(o);if(t===bi&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))n[s]=a;else(r.segments.length>0||r.hasChildren())&&(n[t]=r)}let e=new dn(i.segments,n);return Ioe(e)}function Ioe(i){if(i.numberOfChildren===1&&i.children[bi]){let n=i.children[bi];return new dn(i.segments.concat(n.segments),n.children)}return i}function Xd(i){return i instanceof Ol}function voe(i,n,e=null,t=null){let o=HM(i);return GM(o,n,e,t)}function HM(i){let n;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new dn(r.url,s);return r===i&&(n=a),a}let t=e(i.root),o=UM(t);return n??o}function GM(i,n,e,t){let o=i;for(;o.parent;)o=o.parent;if(n.length===0)return aA(o,o,o,e,t);let r=boe(n);if(r.toRoot())return aA(o,o,new dn([],{}),e,t);let s=yoe(r,o,i),a=s.processChildren?im(s.segmentGroup,s.index,r.commands):WM(s.segmentGroup,s.index,r.commands);return aA(o,s.segmentGroup,a,e,t)}function DC(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function rm(i){return typeof i=="object"&&i!=null&&i.outlets}function aA(i,n,e,t,o){let r={};t&&Object.entries(t).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;i===n?s=e:s=zM(i,n,e);let a=UM(jM(s));return new Ol(a,r,o)}function zM(i,n,e){let t={};return Object.entries(i.children).forEach(([o,r])=>{r===n?t[o]=e:t[o]=zM(r,n,e)}),new dn(i.segments,t)}var PC=class{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&DC(t[0]))throw new dt(4003,!1);let o=t.find(rm);if(o&&o!==FM(t))throw new dt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function boe(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new PC(!0,0,i);let n=0,e=!1,t=i.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new PC(e,n,t)}var Op=class{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}};function yoe(i,n,e){if(i.isAbsolute)return new Op(n,!0,0);if(!e)return new Op(n,!1,NaN);if(e.parent===null)return new Op(e,!0,0);let t=DC(i.commands[0])?0:1,o=e.segments.length-1+t;return woe(e,o,i.numberOfDoubleDots)}function woe(i,n,e){let t=i,o=n,r=e;for(;r>o;){if(r-=o,t=t.parent,!t)throw new dt(4005,!1);o=t.segments.length}return new Op(t,!1,o-r)}function Soe(i){return rm(i[0])?i[0].outlets:{[bi]:i}}function WM(i,n,e){if(i??=new dn([],{}),i.segments.length===0&&i.hasChildren())return im(i,n,e);let t=Aoe(i,n,e),o=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let r=new dn(i.segments.slice(0,t.pathIndex),{});return r.children[bi]=new dn(i.segments.slice(t.pathIndex),i.children),im(r,0,o)}else return t.match&&o.length===0?new dn(i.segments,{}):t.match&&!i.hasChildren()?fA(i,n,e):t.match?im(i,0,o):fA(i,n,e)}function im(i,n,e){if(e.length===0)return new dn(i.segments,{});{let t=Soe(e),o={};if(Object.keys(t).some(r=>r!==bi)&&i.children[bi]&&i.numberOfChildren===1&&i.children[bi].segments.length===0){let r=im(i.children[bi],n,e);return new dn(i.segments,r.children)}return Object.entries(t).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=WM(i.children[r],n,s))}),Object.entries(i.children).forEach(([r,s])=>{t[r]===void 0&&(o[r]=s)}),new dn(i.segments,o)}}function Aoe(i,n,e){let t=0,o=n,r={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(t>=e.length)return r;let s=i.segments[o],a=e[t];if(rm(a))break;let l=`${a}`,c=t<e.length-1?e[t+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!AM(l,c,s))return r;t+=2}else{if(!AM(l,{},s))return r;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}function fA(i,n,e){let t=i.segments.slice(0,n),o=0;for(;o<e.length;){let r=e[o];if(rm(r)){let l=xoe(r.outlets);return new dn(t,l)}if(o===0&&DC(e[0])){let l=i.segments[n];t.push(new Yd(l.path,SM(e[0]))),o++;continue}let s=rm(r)?r.outlets[bi]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&DC(a)?(t.push(new Yd(s,SM(a))),o+=2):(t.push(new Yd(s,{})),o++)}return new dn(t,{})}function xoe(i){let n={};return Object.entries(i).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(n[e]=fA(new dn([],{}),0,t))}),n}function SM(i){let n={};return Object.entries(i).forEach(([e,t])=>n[e]=`${t}`),n}function AM(i,n,e){return i==e.path&&Ja(n,e.parameters)}var nm="imperative",er=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(er||{}),js=class{constructor(n,e){this.id=n,this.url=e}},Lp=class extends js{constructor(n,e,t="imperative",o=null){super(n,e),this.type=er.NavigationStart,this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mr=class extends js{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t,this.type=er.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vs=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(vs||{}),FC=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(FC||{}),Tl=class extends js{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=er.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lc=class extends js{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=er.NavigationSkipped}},sm=class extends js{constructor(n,e,t,o){super(n,e),this.error=t,this.target=o,this.type=er.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},LC=class extends js{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=er.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mA=class extends js{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=er.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gA=class extends js{constructor(n,e,t,o,r){super(n,e),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=r,this.type=er.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_A=class extends js{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=er.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CA=class extends js{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=er.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IA=class{constructor(n){this.route=n,this.type=er.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vA=class{constructor(n){this.route=n,this.type=er.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bA=class{constructor(n){this.snapshot=n,this.type=er.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yA=class{constructor(n){this.snapshot=n,this.type=er.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wA=class{constructor(n){this.snapshot=n,this.type=er.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SA=class{constructor(n){this.snapshot=n,this.type=er.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},MC=class{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t,this.type=er.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},am=class{},Mp=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function Eoe(i,n){return i.providers&&!i._injector&&(i._injector=y0(i.providers,n,`Route: ${i.path}`)),i._injector??n}function ma(i){return i.outlet||bi}function Toe(i,n){let e=i.filter(t=>ma(t)===n);return e.push(...i.filter(t=>ma(t)!==n)),e}function fm(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var AA=class{get injector(){return fm(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new mm(this.rootInjector),this.attachRef=null}},mm=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,t){let o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new AA(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(t){return new(t||i)(ie(Dr))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),kC=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=xA(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){let e=xA(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=EA(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return EA(n,this._root).map(e=>e.value)}};function xA(i,n){if(i===n.value)return n;for(let e of n.children){let t=xA(i,e);if(t)return t}return null}function EA(i,n){if(i===n.value)return[n];for(let e of n.children){let t=EA(i,e);if(t.length)return t.unshift(n),t}return[]}var Is=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Tp(i){let n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}var NC=class extends kC{constructor(n,e){super(n),this.snapshot=e,kA(this,n)}toString(){return this.snapshot.toString()}};function $M(i){let n=Ooe(i),e=new an([new Yd("",{})]),t=new an({}),o=new an({}),r=new an({}),s=new an(""),a=new Rl(e,t,r,s,o,bi,i,n.root);return a.snapshot=n.root,new NC(new Is(a,[]),n)}function Ooe(i){let n={},e={},t={},o="",r=new Rp([],n,t,o,e,bi,i,null,{});return new BC("",new Is(r,[]))}var Rl=class{constructor(n,e,t,o,r,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[pm]))??mt(void 0),this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(n=>Pp(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(n=>Pp(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function VC(i,n,e="emptyOnly"){let t,{routeConfig:o}=i;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?t={params:Q(Q({},n.params),i.params),data:Q(Q({},n.data),i.data),resolve:Q(Q(Q(Q({},i.data),n.data),o?.data),i._resolvedData)}:t={params:Q({},i.params),data:Q({},i.data),resolve:Q(Q({},i.data),i._resolvedData??{})},o&&qM(o)&&(t.resolve[pm]=o.title),t}var Rp=class{get title(){return this.data?.[pm]}constructor(n,e,t,o,r,s,a,l,c){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pp(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},BC=class extends kC{constructor(n,e){super(e),this.url=n,kA(this,e)}toString(){return KM(this._root)}};function kA(i,n){n.value._routerState=i,n.children.forEach(e=>kA(i,e))}function KM(i){let n=i.children.length>0?` { ${i.children.map(KM).join(", ")} } `:"";return`${i.value}${n}`}function lA(i){if(i.snapshot){let n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ja(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Ja(n.params,e.params)||i.paramsSubject.next(e.params),ioe(n.url,e.url)||i.urlSubject.next(e.url),Ja(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function TA(i,n){let e=Ja(i.params,n.params)&&soe(i.url,n.url),t=!i.parent!=!n.parent;return e&&!t&&(!i.parent||TA(i.parent,n.parent))}function qM(i){return typeof i.title=="string"||i.title===null}var Roe=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=bi,this.activateEvents=new W,this.deactivateEvents=new W,this.attachEvents=new W,this.detachEvents=new W,this.parentContexts=Te(mm),this.location=Te(jo),this.changeDetector=Te(pe),this.inputBinder=Te(zC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:o}=e.name;if(t)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new dt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new dt(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new OA(e,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=lt({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ki]})}}return i})(),OA=class i{__ngOutletInjector(n){return new i(this.route,this.childContexts,n)}constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===Rl?this.route:n===mm?this.childContexts:this.parent.get(n,e)}},zC=new Pe(""),xM=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,o=$h([t.queryParams,t.params,t.data]).pipe(Vo(([r,s,a],l)=>(a=Q(Q(Q({},r),s),a),l===0?mt(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let s=hF(t.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,o)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function Doe(i,n,e){let t=lm(i,n._root,e?e._root:void 0);return new NC(t,n)}function lm(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=n.value;let o=Poe(i,n,e);return new Is(t,o)}else{if(i.shouldAttach(n.value)){let r=i.retrieve(n.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>lm(i,a)),s}}let t=Foe(n.value),o=n.children.map(r=>lm(i,r));return new Is(t,o)}}function Poe(i,n,e){return n.children.map(t=>{for(let o of e.children)if(i.shouldReuseRoute(t.value,o.value.snapshot))return lm(i,t,o);return lm(i,t)})}function Foe(i){return new Rl(new an(i.url),new an(i.params),new an(i.queryParams),new an(i.fragment),new an(i.data),i.outlet,i.component,i)}var cm=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},YM="ngNavigationCancelingError";function UC(i,n){let{redirectTo:e,navigationBehaviorOptions:t}=Xd(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=JM(!1,vs.Redirect);return o.url=e,o.navigationBehaviorOptions=t,o}function JM(i,n){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[YM]=!0,e.cancellationCode=n,e}function Loe(i){return XM(i)&&Xd(i.url)}function XM(i){return!!i&&i[YM]}var Moe=(i,n,e,t)=>U(o=>(new RA(n,o.targetRouterState,o.currentRouterState,e,t).activate(i),o)),RA=class{constructor(n,e,t,o,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=o,this.inputBindingEnabled=r}activate(n){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),lA(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){let o=Tp(e);n.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],t),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,t)})}deactivateRoutes(n,e,t){let o=n.value,r=e?e.value:null;if(o===r)if(o.component){let s=t.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=Tp(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(t&&t.outlet){let s=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=Tp(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(n,e,t){let o=Tp(e);n.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],t),this.forwardEvent(new SA(r.value.snapshot))}),n.children.length&&this.forwardEvent(new yA(n.value.snapshot))}activateRoutes(n,e,t){let o=n.value,r=e?e.value:null;if(lA(o),o===r)if(o.component){let s=t.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,t);else if(o.component){let s=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lA(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,t)}},jC=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Dp=class{constructor(n,e){this.component=n,this.route=e}};function koe(i,n,e){let t=i._root,o=n?n._root:null;return em(t,o,e,[t.value])}function Noe(i){let n=i.routeConfig?i.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:i,guards:n}}function Np(i,n){let e=Symbol(),t=n.get(i,e);return t===e?typeof i=="function"&&!bR(i)?i:n.get(i):t}function em(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Tp(n);return i.children.forEach(s=>{Voe(s,r[s.value.outlet],e,t.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>om(a,e.getContext(s),o)),o}function Voe(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=i.value,s=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=Boe(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new jC(t)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?em(i,n,a?a.children:null,t,o):em(i,n,e,t,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Dp(a.outlet.component,s))}else s&&om(n,a,o),o.canActivateChecks.push(new jC(t)),r.component?em(i,null,a?a.children:null,t,o):em(i,null,e,t,o);return o}function Boe(i,n,e){if(typeof e=="function")return e(i,n);switch(e){case"pathParamsChange":return!Jd(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Jd(i.url,n.url)||!Ja(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TA(i,n)||!Ja(i.queryParams,n.queryParams);case"paramsChange":default:return!TA(i,n)}}function om(i,n,e){let t=Tp(i),o=i.value;Object.entries(t).forEach(([r,s])=>{o.component?n?om(s,n.children.getContext(r),e):om(s,null,e):om(s,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Dp(n.outlet.component,o)):e.canDeactivateChecks.push(new Dp(null,o)):e.canDeactivateChecks.push(new Dp(null,o))}function gm(i){return typeof i=="function"}function Uoe(i){return typeof i=="boolean"}function joe(i){return i&&gm(i.canLoad)}function Hoe(i){return i&&gm(i.canActivate)}function Goe(i){return i&&gm(i.canActivateChild)}function zoe(i){return i&&gm(i.canDeactivate)}function Woe(i){return i&&gm(i.canMatch)}function QM(i){return i instanceof rs||i?.name==="EmptyError"}var EC=Symbol("INITIAL_VALUE");function kp(){return Vo(i=>$h(i.map(n=>n.pipe(rr(1),Yh(EC)))).pipe(U(n=>{for(let e of n)if(e!==!0){if(e===EC)return EC;if(e===!1||$oe(e))return e}return!0}),No(n=>n!==EC),rr(1)))}function $oe(i){return Xd(i)||i instanceof cm}function Koe(i,n){return jn(e=>{let{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?mt(Ee(Q({},e),{guardsResult:!0})):qoe(s,t,o,i).pipe(jn(a=>a&&Uoe(a)?Yoe(t,r,i,n):mt(a)),U(a=>Ee(Q({},e),{guardsResult:a})))})}function qoe(i,n,e,t){return ln(i).pipe(jn(o=>ere(o.component,o.route,e,n,t)),sa(o=>o!==!0,!0))}function Yoe(i,n,e,t){return ln(n).pipe(ra(o=>na(Xoe(o.route.parent,t),Joe(o.route,t),Zoe(i,o.path,e),Qoe(i,o.route,e))),sa(o=>o!==!0,!0))}function Joe(i,n){return i!==null&&n&&n(new wA(i)),mt(!0)}function Xoe(i,n){return i!==null&&n&&n(new bA(i)),mt(!0)}function Qoe(i,n,e){let t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||t.length===0)return mt(!0);let o=t.map(r=>Sd(()=>{let s=fm(n)??e,a=Np(r,s),l=Hoe(a)?a.canActivate(n,i):Os(s,()=>a(n,i));return kc(l).pipe(sa())}));return mt(o).pipe(kp())}function Zoe(i,n,e){let t=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(s=>Noe(s)).filter(s=>s!==null).map(s=>Sd(()=>{let a=s.guards.map(l=>{let c=fm(s.node)??e,u=Np(l,c),g=Goe(u)?u.canActivateChild(t,i):Os(c,()=>u(t,i));return kc(g).pipe(sa())});return mt(a).pipe(kp())}));return mt(r).pipe(kp())}function ere(i,n,e,t,o){let r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||r.length===0)return mt(!0);let s=r.map(a=>{let l=fm(n)??o,c=Np(a,l),u=zoe(c)?c.canDeactivate(i,n,e,t):Os(l,()=>c(i,n,e,t));return kc(u).pipe(sa())});return mt(s).pipe(kp())}function tre(i,n,e,t){let o=n.canLoad;if(o===void 0||o.length===0)return mt(!0);let r=o.map(s=>{let a=Np(s,i),l=joe(a)?a.canLoad(n,e):Os(i,()=>a(n,e));return kc(l)});return mt(r).pipe(kp(),ZM(t))}function ZM(i){return Hb(Ko(n=>{if(typeof n!="boolean")throw UC(i,n)}),U(n=>n===!0))}function ire(i,n,e,t){let o=n.canMatch;if(!o||o.length===0)return mt(!0);let r=o.map(s=>{let a=Np(s,i),l=Woe(a)?a.canMatch(n,e):Os(i,()=>a(n,e));return kc(l)});return mt(r).pipe(kp(),ZM(t))}var dm=class{constructor(n){this.segmentGroup=n||null}},um=class extends Error{constructor(n){super(),this.urlTree=n}};function Ep(i){return os(new dm(i))}function nre(i){return os(new dt(4e3,!1))}function ore(i){return os(JM(!1,vs.GuardRejected))}var DA=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let t=[],o=e.root;for(;;){if(t=t.concat(o.segments),o.numberOfChildren===0)return mt(t);if(o.numberOfChildren>1||!o.children[bi])return nre(`${n.redirectTo}`);o=o.children[bi]}}applyRedirectCommands(n,e,t,o,r){if(typeof e!="string"){let a=e,{queryParams:l,fragment:c,routeConfig:u,url:g,outlet:_,params:C,data:w,title:S}=o,A=Os(r,()=>a({params:C,data:w,queryParams:l,fragment:c,routeConfig:u,url:g,outlet:_,title:S}));if(A instanceof Ol)throw new um(A);e=A}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,t);if(e[0]==="/")throw new um(s);return s}applyRedirectCreateUrlTree(n,e,t,o){let r=this.createSegmentGroup(n,e.root,t,o);return new Ol(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let t={};return Object.entries(n).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);t[o]=e[a]}else t[o]=r}),t}createSegmentGroup(n,e,t,o){let r=this.createSegments(n,e.segments,t,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,t,o)}),new dn(r,s)}createSegments(n,e,t,o){return e.map(r=>r.path[0]===":"?this.findPosParam(n,r,o):this.findOrReturn(r,t))}findPosParam(n,e,t){let o=t[e.path.substring(1)];if(!o)throw new dt(4001,!1);return o}findOrReturn(n,e){let t=0;for(let o of e){if(o.path===n.path)return e.splice(t),o;t++}return n}},PA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rre(i,n,e,t,o){let r=ek(i,n,e);return r.matched?(t=Eoe(n,t),ire(t,n,e,o).pipe(U(s=>s===!0?r:Q({},PA)))):mt(r)}function ek(i,n,e){if(n.path==="**")return sre(e);if(n.path==="")return n.pathMatch==="full"&&(i.hasChildren()||e.length>0)?Q({},PA):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||toe)(e,i,n);if(!o)return Q({},PA);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?Q(Q({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function sre(i){return{matched:!0,parameters:i.length>0?FM(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function EM(i,n,e,t){return e.length>0&&cre(i,e,t)?{segmentGroup:new dn(n,lre(t,new dn(e,i.children))),slicedSegments:[]}:e.length===0&&dre(i,e,t)?{segmentGroup:new dn(i.segments,are(i,e,t,i.children)),slicedSegments:e}:{segmentGroup:new dn(i.segments,i.children),slicedSegments:e}}function are(i,n,e,t){let o={};for(let r of e)if(WC(i,n,r)&&!t[ma(r)]){let s=new dn([],{});o[ma(r)]=s}return Q(Q({},t),o)}function lre(i,n){let e={};e[bi]=n;for(let t of i)if(t.path===""&&ma(t)!==bi){let o=new dn([],{});e[ma(t)]=o}return e}function cre(i,n,e){return e.some(t=>WC(i,n,t)&&ma(t)!==bi)}function dre(i,n,e){return e.some(t=>WC(i,n,t))}function WC(i,n,e){return(i.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ure(i,n,e){return n.length===0&&!i.children[e]}var FA=class{};function pre(i,n,e,t,o,r,s="emptyOnly"){return new LA(i,n,e,t,o,s,r).recognize()}var hre=31,LA=class{constructor(n,e,t,o,r,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=t,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new DA(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new dt(4002,`'${n.segmentGroup}'`)}recognize(){let n=EM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(U(({children:e,rootSnapshot:t})=>{let o=new Is(t,e),r=new BC("",o),s=voe(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(n){let e=new Rp([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),bi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,bi,e).pipe(U(t=>({children:t,rootSnapshot:e})),$(t=>{if(t instanceof um)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof dm?this.noMatchError(t):t}))}processSegmentGroup(n,e,t,o,r){return t.segments.length===0&&t.hasChildren()?this.processChildren(n,e,t,r):this.processSegment(n,e,t,t.segments,o,!0,r).pipe(U(s=>s instanceof Is?[s]:[]))}processChildren(n,e,t,o){let r=[];for(let s of Object.keys(t.children))s==="primary"?r.unshift(s):r.push(s);return ln(r).pipe(ra(s=>{let a=t.children[s],l=Toe(e,s);return this.processSegmentGroup(n,l,a,s,o)}),qh((s,a)=>(s.push(...a),s)),cc(null),ey(),jn(s=>{if(s===null)return Ep(t);let a=tk(s);return fre(a),mt(a)}))}processSegment(n,e,t,o,r,s,a){return ln(e).pipe(ra(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,t,o,r,s,a).pipe($(c=>{if(c instanceof dm)return mt(null);throw c}))),sa(l=>!!l),$(l=>{if(QM(l))return ure(t,o,r)?mt(new FA):Ep(t);throw l}))}processSegmentAgainstRoute(n,e,t,o,r,s,a,l){return ma(t)!==s&&(s===bi||!WC(o,r,t))?Ep(o):t.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,t,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,t,r,s,l):Ep(o)}expandSegmentAgainstRouteUsingRedirect(n,e,t,o,r,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:g,remainingSegments:_}=ek(e,o,r);if(!l)return Ep(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hre&&(this.allowRedirects=!1));let C=new Rp(r,c,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,TM(o),ma(o),o.component??o._loadedComponent??null,o,OM(o)),w=VC(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(w.params),C.data=Object.freeze(w.data);let S=this.applyRedirects.applyRedirectCommands(u,o.redirectTo,g,C,n);return this.applyRedirects.lineralizeSegments(o,S).pipe(jn(A=>this.processSegment(n,t,e,A.concat(_),s,!1,a)))}matchSegmentAgainstRoute(n,e,t,o,r,s){let a=rre(e,t,o,n,this.urlSerializer);return t.path==="**"&&(e.children={}),a.pipe(Vo(l=>l.matched?(n=t._injector??n,this.getChildConfig(n,t,o).pipe(Vo(({routes:c})=>{let u=t._loadedInjector??n,{parameters:g,consumedSegments:_,remainingSegments:C}=l,w=new Rp(_,g,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,TM(t),ma(t),t.component??t._loadedComponent??null,t,OM(t)),S=VC(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(S.params),w.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:x}=EM(e,_,C,c);if(x.length===0&&A.hasChildren())return this.processChildren(u,c,A,w).pipe(U(V=>new Is(w,V)));if(c.length===0&&x.length===0)return mt(new Is(w,[]));let D=ma(t)===r;return this.processSegment(u,c,A,x,D?bi:r,!0,w).pipe(U(V=>new Is(w,V instanceof Is?[V]:[])))}))):Ep(e)))}getChildConfig(n,e,t){return e.children?mt({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?mt({routes:e._loadedRoutes,injector:e._loadedInjector}):tre(n,e,t,this.urlSerializer).pipe(jn(o=>o?this.configLoader.loadChildren(n,e).pipe(Ko(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):ore(e))):mt({routes:[],injector:n})}};function fre(i){i.sort((n,e)=>n.value.outlet===bi?-1:e.value.outlet===bi?1:n.value.outlet.localeCompare(e.value.outlet))}function mre(i){let n=i.value.routeConfig;return n&&n.path===""}function tk(i){let n=[],e=new Set;for(let t of i){if(!mre(t)){n.push(t);continue}let o=n.find(r=>t.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...t.children),e.add(o)):n.push(t)}for(let t of e){let o=tk(t.children);n.push(new Is(t.value,o))}return n.filter(t=>!e.has(t))}function TM(i){return i.data||{}}function OM(i){return i.resolve||{}}function gre(i,n,e,t,o,r){return jn(s=>pre(i,n,e,t,s.extractedUrl,o,r).pipe(U(({state:a,tree:l})=>Ee(Q({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _re(i,n){return jn(e=>{let{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return mt(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of ik(l))s.add(c);let a=0;return ln(s).pipe(ra(l=>r.has(l)?Cre(l,t,i,n):(l.data=VC(l,l.parent,i).resolve,mt(void 0))),Ko(()=>a++),Ru(1),jn(l=>a===s.size?mt(e):ko))})}function ik(i){let n=i.children.map(e=>ik(e)).flat();return[i,...n]}function Cre(i,n,e,t){let o=i.routeConfig,r=i._resolve;return o?.title!==void 0&&!qM(o)&&(r[pm]=o.title),Ire(r,i,n,t).pipe(U(s=>(i._resolvedData=s,i.data=VC(i,i.parent,e).resolve,null)))}function Ire(i,n,e,t){let o=uA(i);if(o.length===0)return mt({});let r={};return ln(o).pipe(jn(s=>vre(i[s],n,e,t).pipe(sa(),Ko(a=>{if(a instanceof cm)throw UC(new Fp,a);r[s]=a}))),Ru(1),Ad(r),$(s=>QM(s)?ko:os(s)))}function vre(i,n,e,t){let o=fm(n)??t,r=Np(i,o),s=r.resolve?r.resolve(n,e):Os(o,()=>r(n,e));return kc(s)}function cA(i){return Vo(n=>{let e=i(n);return e?ln(e).pipe(U(()=>n)):mt(n)})}var nk=(()=>{class i{buildTitle(e){let t,o=e.root;for(;o!==void 0;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(r=>r.outlet===bi);return t}getResolvedTitleForRoute(e){return e.data[pm]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(bre),providedIn:"root"})}}return i})(),bre=(()=>{class i extends nk{constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static{this.\u0275fac=function(t){return new(t||i)(ie(eL))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),_m=new Pe("",{providedIn:"root",factory:()=>({})}),yre=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=Y({type:i,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(t,o){t&1&&E(0,"router-outlet")},dependencies:[Roe],encapsulation:2})}}return i})();function NA(i){let n=i.children&&i.children.map(NA),e=n?Ee(Q({},i),{children:n}):Q({},i);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==bi&&(e.component=yre),e}var HC=new Pe(""),VA=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Te(O0)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return mt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let t=kc(e.loadComponent()).pipe(U(ok),Ko(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),dc(()=>{this.componentLoaders.delete(e)})),o=new Au(t,()=>new Ae).pipe(Su());return this.componentLoaders.set(e,o),o}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return mt({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let r=wre(t,this.compiler,e,this.onLoadEndListener).pipe(dc(()=>{this.childrenLoaders.delete(t)})),s=new Au(r,()=>new Ae).pipe(Su());return this.childrenLoaders.set(t,s),s}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function wre(i,n,e,t){return kc(i.loadChildren()).pipe(U(ok),jn(o=>o instanceof rf||Array.isArray(o)?mt(o):ln(n.compileModuleAsync(o))),U(o=>{t&&t(i);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(HC,[],{optional:!0,self:!0}).flat()),{routes:s.map(NA),injector:r}}))}function Sre(i){return i&&typeof i=="object"&&"default"in i}function ok(i){return Sre(i)?i.default:i}var BA=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(Are),providedIn:"root"})}}return i})(),Are=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),rk=new Pe(""),sk=new Pe("");function xre(i,n,e){let t=i.get(sk),o=i.get(ct);return i.get(It).runOutsideAngular(()=>{if(!o.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,s=new Promise(c=>{r=c}),a=o.startViewTransition(()=>(r(),Ere(i))),{onViewTransitionCreated:l}=t;return l&&Os(i,()=>l({transition:a,from:n,to:e})),s})}function Ere(i){return new Promise(n=>{I1({read:()=>setTimeout(n)},{injector:i})})}var Tre=new Pe(""),UA=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ae,this.transitionAbortSubject=new Ae,this.configLoader=Te(VA),this.environmentInjector=Te(Dr),this.urlSerializer=Te(hm),this.rootContexts=Te(mm),this.location=Te(bc),this.inputBindingEnabled=Te(zC,{optional:!0})!==null,this.titleStrategy=Te(nk),this.options=Te(_m,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Te(BA),this.createViewTransition=Te(rk,{optional:!0}),this.navigationErrorHandler=Te(Tre,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null;let e=o=>this.events.next(new IA(o)),t=o=>this.events.next(new vA(o));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;this.transitions?.next(Ee(Q(Q({},this.transitions.value),e),{id:t}))}setupNavigations(e,t,o){return this.transitions=new an({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:nm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(No(r=>r.id!==0),U(r=>Ee(Q({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Vo(r=>{let s=!1,a=!1;return mt(r).pipe(Vo(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vs.SupersededByNewNavigation),ko;this.currentTransition=r,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload"){let g="";return this.events.next(new Lc(l.id,this.urlSerializer.serialize(l.rawUrl),g,FC.IgnoredSameUrlNavigation)),l.resolve(!1),ko}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return mt(l).pipe(Vo(g=>{let _=this.transitions?.getValue();return this.events.next(new Lp(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?ko:Promise.resolve(g)}),gre(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ko(g=>{r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ee(Q({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new LC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:_,source:C,restoredState:w,extras:S}=l,A=new Lp(g,this.urlSerializer.serialize(_),C,w);this.events.next(A);let x=$M(this.rootComponentType).snapshot;return this.currentTransition=r=Ee(Q({},l),{targetSnapshot:x,urlAfterRedirects:_,extras:Ee(Q({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,mt(r)}else{let g="";return this.events.next(new Lc(l.id,this.urlSerializer.serialize(l.extractedUrl),g,FC.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ko}}),Ko(l=>{let c=new mA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),U(l=>(this.currentTransition=r=Ee(Q({},l),{guards:koe(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),Koe(this.environmentInjector,l=>this.events.next(l)),Ko(l=>{if(r.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw UC(this.urlSerializer,l.guardsResult);let c=new gA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),No(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",vs.GuardRejected),!1)),cA(l=>{if(l.guards.canActivateChecks.length)return mt(l).pipe(Ko(c=>{let u=new _A(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Vo(c=>{let u=!1;return mt(c).pipe(_re(this.paramsInheritanceStrategy,this.environmentInjector),Ko({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",vs.NoDataFromResolver)}}))}),Ko(c=>{let u=new CA(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),cA(l=>{let c=u=>{let g=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ko(_=>{u.component=_}),U(()=>{})));for(let _ of u.children)g.push(...c(_));return g};return $h(c(l.targetSnapshot.root)).pipe(cc(null),rr(1))}),cA(()=>this.afterPreactivation()),Vo(()=>{let{currentSnapshot:l,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ln(u).pipe(U(()=>r)):mt(r)}),U(l=>{let c=Doe(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=Ee(Q({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Ko(()=>{this.events.next(new am)}),Moe(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rr(1),Ko({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),xd(this.transitionAbortSubject.pipe(Ko(l=>{throw l}))),dc(()=>{!s&&!a&&this.cancelNavigationTransition(r,"",vs.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$(l=>{if(a=!0,XM(l))this.events.next(new Tl(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),Loe(l)?this.events.next(new Mp(l.url,l.navigationBehaviorOptions)):r.resolve(!1);else{let c=new sm(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);try{let u=Os(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof cm){let{message:g,cancellationCode:_}=UC(this.urlSerializer,u);this.events.next(new Tl(r.id,this.urlSerializer.serialize(r.extractedUrl),g,_)),this.events.next(new Mp(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let g=e.errorHandler(l);r.resolve(!!g)}}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return ko}))}))}cancelNavigationTransition(e,t,o){let r=new Tl(e.id,this.urlSerializer.serialize(e.extractedUrl),t,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==t?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ore(i){return i!==nm}var Rre=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(Dre),providedIn:"root"})}}return i})(),MA=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},Dre=(()=>{class i extends MA{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ak=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:()=>Te(Pre),providedIn:"root"})}}return i})(),Pre=(()=>{class i extends ak{constructor(){super(...arguments),this.location=Te(bc),this.urlSerializer=Te(hm),this.options=Te(_m,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Te(BA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ol,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$M(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof Lp)this.stateMemento=this.createStateMemento();else if(e instanceof Lc)this.rawUrlTree=t.initialUrl;else if(e instanceof LC){if(this.urlUpdateStrategy==="eager"&&!t.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(t.targetBrowserUrl??o,t)}}else e instanceof am?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(t.targetBrowserUrl??this.rawUrlTree,t)):e instanceof Tl&&(e.code===vs.GuardRejected||e.code===vs.NoDataFromResolver)?this.restoreHistory(t):e instanceof sm?this.restoreHistory(t,!0):e instanceof Mr&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){let o=e instanceof Ol?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl){let r=this.browserPageId,s=Q(Q({},t.extras.state),this.generateNgRouterState(t.id,r));this.location.replaceState(o,"",s)}else{let r=Q(Q({},t.extras.state),this.generateNgRouterState(t.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),tm=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(tm||{});function lk(i,n){i.events.pipe(No(e=>e instanceof Mr||e instanceof Tl||e instanceof sm||e instanceof Lc),U(e=>e instanceof Mr||e instanceof Lc?tm.COMPLETE:(e instanceof Tl?e.code===vs.Redirect||e.code===vs.SupersededByNewNavigation:!1)?tm.REDIRECTING:tm.FAILED),No(e=>e!==tm.REDIRECTING),rr(1)).subscribe(()=>{n()})}function Fre(i){throw i}var Lre={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},et=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Te(S0),this.stateManager=Te(ak),this.options=Te(_m,{optional:!0})||{},this.pendingTasks=Te(Ua),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Te(UA),this.urlSerializer=Te(hm),this.location=Te(bc),this.urlHandlingStrategy=Te(BA),this._events=new Ae,this.errorHandler=this.options.errorHandler||Fre,this.navigated=!1,this.routeReuseStrategy=Te(Rre),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Te(HC,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Te(zC,{optional:!0}),this.eventsSubscription=new ro,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(t,r),t instanceof Tl&&t.code!==vs.Redirect&&t.code!==vs.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Mr)this.navigated=!0;else if(t instanceof Mp){let s=t.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(t.url,o.currentRawUrl),l=Q({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ore(o.source)},s);this.scheduleNavigation(a,nm,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Nre(t)&&this._events.next(t)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=Q({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,t,s,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(NA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=Q(Q({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}u!==null&&(u=this.removeEmptyProps(u));let g;try{let _=o?o.snapshot:this.routerState.snapshot.root;g=HM(_)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),g=this.currentUrlTree.root}return GM(g,e,u,c??null)}navigateByUrl(e,t={skipLocationChange:!1}){let o=Xd(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,nm,null,t)}navigate(e,t={skipLocationChange:!1}){return kre(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let o;if(t===!0?o=Q({},Lre):t===!1?o=Q({},Mre):o=t,Xd(e))return yM(this.currentUrlTree,e,o);let r=this.parseUrl(e);return yM(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((t,[o,r])=>(r!=null&&(t[o]=r),t),{})}scheduleNavigation(e,t,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((g,_)=>{a=g,l=_});let u=this.pendingTasks.add();return lk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kre(i){for(let n=0;n<i.length;n++)if(i[n]==null)throw new dt(4008,!1)}function Nre(i){return!(i instanceof am)&&!(i instanceof Mp)}var Mc=(()=>{class i{constructor(e,t,o,r,s,a){this.router=e,this.route=t,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Ae,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Mr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xd(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||t||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let t=this.href===null?null:YD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){let o=this.renderer,r=this.el.nativeElement;t!==null?o.setAttribute(r,e,t):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Xd(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(t){return new(t||i)(v(et),v(Rl),Kw("tabindex"),v(wt),v(Le),v(Sl))}}static{this.\u0275dir=lt({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,o){t&1&&R("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),t&2&&M("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",j],skipLocationChange:[2,"skipLocationChange","skipLocationChange",j],replaceUrl:[2,"replaceUrl","replaceUrl",j],routerLink:"routerLink"},standalone:!0,features:[Ve,ki]})}}return i})(),Vp=(()=>{class i{get isActive(){return this._isActive}constructor(e,t,o,r,s){this.router=e,this.element=t,this.renderer=o,this.cdr=r,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new W,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Mr&&this.update()})}ngAfterContentInit(){mt(this.links.changes,mt(null)).pipe(Ra()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=ln(e).pipe(Ra()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=Vre(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(t){return new(t||i)(v(et),v(Le),v(wt),v(pe),v(Mc,8))}}static{this.\u0275dir=lt({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,o,r){if(t&1&&qe(r,Mc,5),t&2){let s;K(s=q())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ki]})}}return i})();function Vre(i){return!!i.paths}var GC=class{};var Bre=(()=>{class i{constructor(e,t,o,r,s){this.router=e,this.injector=o,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(No(e=>e instanceof Mr),ra(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){let o=[];for(let r of t){r.providers&&!r._injector&&(r._injector=y0(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return ln(o).pipe(Ra())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let o;t.loadChildren&&t.canLoad===void 0?o=this.loader.loadChildren(e,t):o=mt(null);let r=o.pipe(jn(s=>s===null?mt(void 0):(t._loadedRoutes=s.routes,t._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(t.loadComponent&&!t._loadedComponent){let s=this.loader.loadComponent(t);return ln([r,s]).pipe(Ra())}else return r})}static{this.\u0275fac=function(t){return new(t||i)(ie(et),ie(O0),ie(Dr),ie(GC),ie(VA))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ck=new Pe(""),Ure=(()=>{class i{constructor(e,t,o,r,s={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=o,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Lp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Mr?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Lc&&e.code===FC.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof MC&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new MC(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(t){cP()}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function jre(i){return i.routerState.root}function Cm(i,n){return{\u0275kind:i,\u0275providers:n}}function Hre(){let i=Te(Zn);return n=>{let e=i.get(ua);if(n!==e.components[0])return;let t=i.get(et),o=i.get(dk);i.get(jA)===1&&t.initialNavigation(),i.get(uk,null,Oi.Optional)?.setUpPreloading(),i.get(ck,null,Oi.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var dk=new Pe("",{factory:()=>new Ae}),jA=new Pe("",{providedIn:"root",factory:()=>1});function Gre(){return Cm(2,[{provide:jA,useValue:0},{provide:E0,multi:!0,deps:[Zn],useFactory:n=>{let e=n.get(SF,Promise.resolve());return()=>e.then(()=>new Promise(t=>{let o=n.get(et),r=n.get(dk);lk(o,()=>{t(!0)}),n.get(UA).afterPreactivation=()=>(t(!0),r.closed?mt(void 0):r),o.initialNavigation()}))}}])}function zre(){return Cm(3,[{provide:E0,multi:!0,useFactory:()=>{let n=Te(et);return()=>{n.setUpLocationChangeListener()}}},{provide:jA,useValue:2}])}var uk=new Pe("");function Wre(i){return Cm(0,[{provide:uk,useExisting:Bre},{provide:GC,useExisting:i}])}function $re(){return Cm(8,[xM,{provide:zC,useExisting:xM}])}function Kre(i){let n=[{provide:rk,useValue:xre},{provide:sk,useValue:Q({skipNextTransition:!!i?.skipInitialTransition},i)}];return Cm(9,n)}var RM=new Pe("ROUTER_FORROOT_GUARD"),qre=[bc,{provide:hm,useClass:Fp},et,mm,{provide:Rl,useFactory:jre,deps:[et]},VA,[]],Hs=(()=>{class i{constructor(e){}static forRoot(e,t){return{ngModule:i,providers:[qre,[],{provide:HC,multi:!0,useValue:e},{provide:RM,useFactory:Qre,deps:[[et,new cf,new X_]]},{provide:_m,useValue:t||{}},t?.useHash?Jre():Xre(),Yre(),t?.preloadingStrategy?Wre(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?Zre(t):[],t?.bindToComponentInputs?$re().\u0275providers:[],t?.enableViewTransitions?Kre().\u0275providers:[],ese()]}}static forChild(e){return{ngModule:i,providers:[{provide:HC,multi:!0,useValue:e}]}}static{this.\u0275fac=function(t){return new(t||i)(ie(RM,8))}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})();function Yre(){return{provide:ck,useFactory:()=>{let i=Te(FF),n=Te(It),e=Te(_m),t=Te(UA),o=Te(hm);return e.scrollOffset&&i.setOffset(e.scrollOffset),new Ure(o,t,i,n,e)}}}function Jre(){return{provide:Sl,useClass:xF}}function Xre(){return{provide:Sl,useClass:z1}}function Qre(i){return"guarded"}function Zre(i){return[i.initialNavigation==="disabled"?zre().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Gre().\u0275providers:[]]}var DM=new Pe("");function ese(){return[{provide:DM,useFactory:Hre},{provide:T0,multi:!0,useExisting:DM}]}var tse=["pMenuItemContent",""],pk=i=>({"p-disabled":i}),$C=i=>({$implicit:i}),ise=()=>({exact:!1});function nse(i,n){i&1&&oe(0)}function ose(i,n){if(i&1&&(f(0,"a",6),I(1,nse,1,0,"ng-container",7),m()),i&2){let e=h(2),t=Me(4);p("target",e.item.target)("ngClass",J(9,pk,e.item.disabled)),M("title",e.item.title)("href",e.item.url||null,lr)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),d(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",J(11,$C,e.item))}}function rse(i,n){i&1&&oe(0)}function sse(i,n){if(i&1&&(f(0,"a",8),I(1,rse,1,0,"ng-container",7),m()),i&2){let e=h(2),t=Me(4);p("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Ie(17,ise))("target",e.item.target)("ngClass",J(18,pk,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),M("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),d(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",J(20,$C,e.item))}}function ase(i,n){if(i&1&&(re(0),I(1,ose,2,13,"a",4)(2,sse,2,22,"a",5),se()),i&2){let e=h();d(),p("ngIf",!(e.item!=null&&e.item.routerLink)),d(),p("ngIf",e.item==null?null:e.item.routerLink)}}function lse(i,n){}function cse(i,n){i&1&&I(0,lse,0,0,"ng-template")}function dse(i,n){if(i&1&&(re(0),I(1,cse,1,0,null,7),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",J(2,$C,e.item))}}function use(i,n){if(i&1&&E(0,"span",12),i&2){let e=h(2);te(e.item.iconClass),p("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function pse(i,n){if(i&1&&(f(0,"span",13),T(1),m()),i&2){let e=h(2);d(),H(e.item.label)}}function hse(i,n){if(i&1&&(E(0,"span",14),O(1,"safeHtml")),i&2){let e=h(2);p("innerHTML",P(1,1,e.item.label),Fi)}}function fse(i,n){if(i&1&&(f(0,"span",15),T(1),m()),i&2){let e=h(2);p("ngClass",e.item.badgeStyleClass),d(),H(e.item.badge)}}function mse(i,n){if(i&1&&I(0,use,1,4,"span",9)(1,pse,2,1,"span",10)(2,hse,2,3,"ng-template",null,1,bt)(4,fse,2,2,"span",11),i&2){let e=Me(3),t=h();p("ngIf",t.item.icon),d(),p("ngIf",t.item.escape!==!1)("ngIfElse",e),d(3),p("ngIf",t.item.badge)}}var gse=["list"],_se=["container"],Cse=i=>({"p-menu p-component":!0,"p-menu-overlay":i}),Ise=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),vse=i=>({value:"visible",params:i}),HA=i=>({"p-hidden":i}),bse=(i,n)=>({"p-hidden":i,flex:n}),hk=(i,n,e)=>({"p-hidden":i,"p-focus":n,"p-disabled":e});function yse(i,n){i&1&&oe(0)}function wse(i,n){if(i&1&&(f(0,"div",9),I(1,yse,1,0,"ng-container",10),m()),i&2){let e=h(2);M("data-pc-section","start"),d(),p("ngTemplateOutlet",e.startTemplate)}}function Sse(i,n){if(i&1&&E(0,"li",14),i&2){let e=h().$implicit;p("ngClass",J(1,HA,e.visible===!1))}}function Ase(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(3).$implicit;d(),H(e.label)}}function xse(i,n){if(i&1&&(E(0,"span",18),O(1,"safeHtml")),i&2){let e=h(3).$implicit;p("innerHTML",P(1,1,e.label),Fi)}}function Ese(i,n){if(i&1&&(re(0),I(1,Ase,2,1,"span",17)(2,xse,2,3,"ng-template",null,2,bt),se()),i&2){let e=Me(3),t=h(2).$implicit;d(),p("ngIf",t.escape!==!1)("ngIfElse",e)}}function Tse(i,n){i&1&&oe(0)}function Ose(i,n){if(i&1&&(f(0,"li",15),I(1,Ese,4,2,"ng-container",7)(2,Tse,1,0,"ng-container",16),m()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(3);p("ngClass",Ue(7,bse,t.visible===!1,t.visible))("tooltipOptions",t.tooltipOptions),M("data-automationid",t.automationId)("id",r.menuitemId(t,r.id,o)),d(),p("ngIf",!r.submenuHeaderTemplate),d(),p("ngTemplateOutlet",r.submenuHeaderTemplate)("ngTemplateOutletContext",J(10,$C,t))}}function Rse(i,n){if(i&1&&E(0,"li",14),i&2){let e=h().$implicit,t=h().$implicit;p("ngClass",J(1,HA,e.visible===!1||t.visible===!1))}}function Dse(i,n){if(i&1){let e=k();f(0,"li",20),R("onMenuItemClick",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h().index,c=h(3);return y(c.itemClick(o,c.menuitemId(s,c.id,l,a)))}),m()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h(),s=r.$implicit,a=r.index,l=h(3);te(t.styleClass),p("pMenuItemContent",t)("itemTemplate",l.itemTemplate)("ngClass",Ai(13,hk,t.visible===!1||s.visible===!1,l.focusedOptionId()&&l.menuitemId(t,l.id,a,o)===l.focusedOptionId(),l.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),M("data-pc-section","menuitem")("aria-label",l.label(t.label))("data-p-focused",l.isItemFocused(l.menuitemId(t,l.id,a,o)))("data-p-disabled",l.disabled(t.disabled))("aria-disabled",l.disabled(t.disabled))("id",l.menuitemId(t,l.id,a,o))}}function Pse(i,n){if(i&1&&I(0,Rse,1,3,"li",12)(1,Dse,1,17,"li",19),i&2){let e=n.$implicit;p("ngIf",e.separator),d(),p("ngIf",!e.separator)}}function Fse(i,n){if(i&1&&I(0,Sse,1,3,"li",12)(1,Ose,3,12,"li",13)(2,Pse,2,2,"ng-template",11),i&2){let e=n.$implicit;p("ngIf",e.separator),d(),p("ngIf",!e.separator),d(),p("ngForOf",e.items)}}function Lse(i,n){if(i&1&&I(0,Fse,3,3,"ng-template",11),i&2){let e=h(2);p("ngForOf",e.model)}}function Mse(i,n){if(i&1&&E(0,"li",14),i&2){let e=h().$implicit;p("ngClass",J(1,HA,e.visible===!1))}}function kse(i,n){if(i&1){let e=k();f(0,"li",20),R("onMenuItemClick",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h(3);return y(l.itemClick(o,l.menuitemId(s,l.id,a)))}),m()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h(3);te(t.styleClass),p("pMenuItemContent",t)("itemTemplate",r.itemTemplate)("ngClass",Ai(13,hk,t.visible===!1,r.focusedOptionId()&&r.menuitemId(t,r.id,o,r.j)===r.focusedOptionId(),r.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),M("data-pc-section","menuitem")("aria-label",r.label(t.label))("data-p-focused",r.isItemFocused(r.menuitemId(t,r.id,o)))("data-p-disabled",r.disabled(t.disabled))("aria-disabled",r.disabled(t.disabled))("id",r.menuitemId(t,r.id,o))}}function Nse(i,n){if(i&1&&I(0,Mse,1,3,"li",12)(1,kse,1,17,"li",19),i&2){let e=n.$implicit;p("ngIf",e.separator),d(),p("ngIf",!e.separator)}}function Vse(i,n){if(i&1&&I(0,Nse,2,2,"ng-template",11),i&2){let e=h(2);p("ngForOf",e.model)}}function Bse(i,n){i&1&&oe(0)}function Use(i,n){if(i&1&&(f(0,"div",21),I(1,Bse,1,0,"ng-container",10),m()),i&2){let e=h(2);M("data-pc-section","end"),d(),p("ngTemplateOutlet",e.endTemplate)}}function jse(i,n){if(i&1){let e=k();f(0,"div",4,0),R("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){b(e);let r=h();return y(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){b(e);let r=h();return y(r.onOverlayAnimationEnd(o))}),I(2,wse,2,2,"div",5),f(3,"ul",6,1),R("focus",function(o){b(e);let r=h();return y(r.onListFocus(o))})("blur",function(o){b(e);let r=h();return y(r.onListBlur(o))})("keydown",function(o){b(e);let r=h();return y(r.onListKeyDown(o))}),I(5,Lse,1,1,null,7)(6,Vse,1,1,null,7),m(),I(7,Use,2,2,"div",8),m()}if(i&2){let e=h();te(e.styleClass),p("ngClass",J(18,Cse,e.popup))("ngStyle",e.style)("@overlayAnimation",J(23,vse,Ue(20,Ise,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),M("data-pc-name","menu")("id",e.id),d(2),p("ngIf",e.startTemplate),d(),M("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),d(2),p("ngIf",e.hasSubMenu()),d(),p("ngIf",!e.hasSubMenu()),d(),p("ngIf",e.endTemplate)}}var fk=(()=>{class i{platformId;sanitizer;constructor(e,t){this.platformId=e,this.sanitizer=t}transform(e){return!e||!rt(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||i)(v(Lt,16),v(ha,16))};static \u0275pipe=xn({name:"safeHtml",type:i,pure:!0})}return i})(),Hse=(()=>{class i{item;itemTemplate;onMenuItemClick=new W;menu;constructor(e){this.menu=e}onItemClick(e,t){this.onMenuItemClick.emit({originalEvent:e,item:t})}static \u0275fac=function(t){return new(t||i)(v(Dt(()=>Qd)))};static \u0275cmp=Y({type:i,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:tse,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(t,o){if(t&1){let r=k();f(0,"div",2),R("click",function(a){return b(r),y(o.onItemClick(a,o.item))}),I(1,ase,3,2,"ng-container",3)(2,dse,2,4,"ng-container",3)(3,mse,5,4,"ng-template",null,0,bt),m()}t&2&&(M("data-pc-section","content"),d(),p("ngIf",!o.itemTemplate),d(),p("ngIf",o.itemTemplate))},dependencies:[Fe,ze,Xe,ve,Mc,Vp,Ri,fk],encapsulation:2})}return i})(),Qd=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new W;onHide=new W;onBlur=new W;onFocus=new W;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=to(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=ui(-1);selectedOptionIndex=ui(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,t,o,r,s,a,l){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.cd=s,this.config=a,this.overlayService=l,this.id=this.id||ut()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),L.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&Yt.clear(e.element);break}}alignOverlay(){this.relativeAlign?L.relativePosition(this.container,this.target):L.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):L.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Yt.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!L.isTouchDevice()&&this.hide()}menuitemId(e,t,o,r){return e?.id??`${t}_${o}${r!==void 0?"_"+r:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(L.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let t=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)L.focus(this.target),this.hide(),e.preventDefault();else{let t=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(L.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let t=L.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),o=t&&L.findSingle(t,"a");this.popup&&L.focus(this.target),o?o.click():t&&t.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let o=[...L.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(r=>r.id===e);return o>-1?o+1:0}findPrevOptionIndex(e){let o=[...L.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(r=>r.id===e);return o>-1?o-1:0}changeFocusedOptionIndex(e){let t=L.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(t.length>0){let o=e>=t.length?t.length-1:e<0?0:e;o>-1&&this.focusedOptionIndex.set(t[o].getAttribute("id"))}}itemClick(e,t){let{originalEvent:o,item:r}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),r.disabled){o.preventDefault();return}!r.url&&!r.routerLink&&o.preventDefault(),r.command&&r.command({originalEvent:o,item:r}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==t&&this.focusedOptionIndex.set(t)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&rt(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{let o=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(t.target),r=!(this.target&&(this.target===t.target||this.target.contains(t.target)));!this.popup&&o&&r&&this.onListBlur(t),this.preventDocumentDefault&&this.overlayVisible&&o&&r&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&rt(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&rt(this.platformId)&&(this.scrollHandler=new xo(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Yt.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(t=>t.visible!==!1):e.visible===!1}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(pe),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-menu"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(gse,5),ne(_se,5)),t&2){let r;K(r=q())&&(o.listViewChild=r.first),K(r=q())&&(o.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",j],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",xe]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[Ve],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(t,o){t&1&&I(0,jse,8,25,"div",3),t&2&&p("ngIf",!o.popup||o.visible)},dependencies:[Fe,Ni,ze,Xe,ve,On,Hse,fk],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[$i("overlayAnimation",[Nt(":enter",[Rt({opacity:0,transform:"scaleY(0.8)"}),kt("{{showTransitionParams}}")]),Nt(":leave",[kt("{{hideTransitionParams}}",Rt({opacity:0}))])])]},changeDetection:0})}return i})(),mk=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Hs,Li,_o,$e,Hs,_o,$e]})}return i})();var F=function(i){return i[i.OBJ_FIREWALL=0]="OBJ_FIREWALL",i[i.OBJ_SERVICE_IP=1]="OBJ_SERVICE_IP",i[i.OBJ_SERVICE_TCP=2]="OBJ_SERVICE_TCP",i[i.OBJ_SERVICE_ICMP=3]="OBJ_SERVICE_ICMP",i[i.OBJ_SERVICE_UDP=4]="OBJ_SERVICE_UDP",i[i.OBJ_ADDRESS=5]="OBJ_ADDRESS",i[i.OBJ_ADDRESS_RANGE=6]="OBJ_ADDRESS_RANGE",i[i.OBJ_NETWORK=7]="OBJ_NETWORK",i[i.OBJ_HOST=8]="OBJ_HOST",i[i.OBJ_DNS=9]="OBJ_DNS",i[i.OBJ_INTERFACE_FIREWALL=10]="OBJ_INTERFACE_FIREWALL",i[i.OBJ_INTERFACE_HOST=11]="OBJ_INTERFACE_HOST",i[i.OBJ_GROUP=20]="OBJ_GROUP",i[i.OBJ_SERVICE_GROUP=21]="OBJ_SERVICE_GROUP",i[i.OBJ_CONTINENT=23]="OBJ_CONTINENT",i[i.OBJ_COUNTRIE=24]="OBJ_COUNTRIE",i[i.OBJ_MARK=30]="OBJ_MARK",i[i.OBJ_GEN_IP_OBJECT=99]="OBJ_GEN_IP_OBJECT",i[i.OBJ_CLUSTER=100]="OBJ_CLUSTER",i[i.OBJ_CLUSTER_NODE=101]="OBJ_CLUSTER_NODE",i[i.OBJ_GEN_RULE=199]="OBJ_GEN_RULE",i[i.OBJ_CA=300]="OBJ_CA",i[i.OBJ_CERT_CLI=301]="OBJ_CERT_CLI",i[i.OBJ_CERT_SER=302]="OBJ_CERT_SER",i[i.OBJ_VPN_CONFIG_CLI=311]="OBJ_VPN_CONFIG_CLI",i[i.OBJ_VPN_CONFIG_SER=312]="OBJ_VPN_CONFIG_SER",i[i.OBJ_PREFIX_FOLDER=400]="OBJ_PREFIX_FOLDER",i[i.OBJ_OPENVPN_PREFIX=401]="OBJ_OPENVPN_PREFIX",i[i.OBJ_ROUTING_GATEWAY=500]="OBJ_ROUTING_GATEWAY",i[i.OBJ_ROUTING_RULE_FROM=600]="OBJ_ROUTING_RULE_FROM",i[i.OBJ_ROUTING_TABLE=201]="OBJ_ROUTING_TABLE",i[i.OBJ_ANY=-9999]="OBJ_ANY",i[i.OBJ_DHCP_RULE_RANGE=700]="OBJ_DHCP_RULE_RANGE",i[i.OBJ_DHCP_RULE_ROUTER=701]="OBJ_DHCP_RULE_ROUTER",i[i.OBJ_DHCP_RULE_NETWORK=750]="OBJ_DHCP_RULE_NETWORK",i[i.OBJ_DHCP_RULE_INTERFACE=755]="OBJ_DHCP_RULE_INTERFACE",i[i.OBJ_DHCP_RULE_IP=756]="OBJ_DHCP_RULE_IP",i[i.OBJ_DHCP_RULE_DNS=757]="OBJ_DHCP_RULE_DNS",i[i.OBJ_DHCP_MAX_LEASE_TIME=758]="OBJ_DHCP_MAX_LEASE_TIME",i[i.OBJ_DHCP_GROUP=800]="OBJ_DHCP_GROUP",i[i.OBJ_KEEPALIVED_GROUP=801]="OBJ_KEEPALIVED_GROUP",i[i.OBJ_KEEPALIVED_VIRTUAL_IPS=760]="OBJ_KEEPALIVED_VIRTUAL_IPS",i[i.OBJ_KEEPALIVED_MASTER_NODE=761]="OBJ_KEEPALIVED_MASTER_NODE",i[i.OBJ_KEEPALIVED_INTERFACE=762]="OBJ_KEEPALIVED_INTERFACE",i[i.OBJ_HAPROXY_GROUP=802]="OBJ_HAPROXY_GROUP",i[i.OBJ_HAPROXY_RULE_FRONTEND_IP=803]="OBJ_HAPROXY_RULE_FRONTEND_IP",i[i.OBJ_HAPROXY_RULE_FRONTEND_PORT=804]="OBJ_HAPROXY_RULE_FRONTEND_PORT",i[i.OBJ_HAPROXY_RULE_BACKEND_IPS=805]="OBJ_HAPROXY_RULE_BACKEND_IPS",i[i.OBJ_HAPROXY_RULE_BACKEND_PORT=806]="OBJ_HAPROXY_RULE_BACKEND_PORT",i}(F||{}),B=function(i){return i.OBJ_FIREWALL="FW",i.OBJ_CLUSTER="CL",i.OBJ_HOST="OIH",i.OBJ_ADDRESS="OIA",i.OBJ_DNS="ONS",i.OBJ_NETWORK="OIN",i.OBJ_GROUP="OIG",i.OBJ_IP_RANGE="OIR",i.OBJ_IF_FW="IFF",i.OBJ_IF_HOST="IFH",i.OBJ_MARK="MRK",i.SERVICE_IP="SOI",i.SERVICE_ICMP="SOM",i.SERVICE_UDP="SOU",i.SERVICE_TCP="SOT",i.SERVICE_GROUP="SOG",i.STANDARD="STD",i.FOLDER="FD",i.FOLDER_INTERFACES="FDI",i.FOLDER_OBJECTS="FDO",i.FOLDER_SERVICES="FDS",i.FOLDER_TIME="FDT",i.FOLDER_FW="FDF",i.FOLDER_CLUSTER="FDC",i.FOLDER_CLUSTER_FW="FCF",i.FOLDER_POLICY="FP",i.FOLDER_POLICY6="FP6",i.FOLDER_NAT="NT",i.FOLDER_ROUTING="ROU",i.FOLDER_ADDRESSES="OIA",i.FOLDER_NETWORKS="OIN",i.FOLDER_CA="FCA",i.FOLDER_SYSTEM="SYS",i.POLICY_INPUT="PI",i.POLICY_OUTPUT="PO",i.POLICY_FORWARD="PF",i.POLICY_ROUTING="RR",i.POLICY_SNAT="NTS",i.POLICY_DNAT="NTD",i.POLICY_DHCP="DHCP",i.POLICY_INPUT6="PI6",i.POLICY_OUTPUT6="PO6",i.POLICY_FORWARD6="PF6",i.POLICY_ROUTING6="RR6",i.POLICY_SNAT6="NS6",i.POLICY_DNAT6="ND6",i.OPENVPN_ROOT="OPN",i.OPENVPN_CA="CA",i.OPENVPN_CERT="CRT",i.OPENVPN_CONFIG_SER="OSR",i.OPENVPN_CONFIG_CLI="OCL",i.OPENVPN_PREFIX_FOLDER="PRE",i.OPENVPN_PREFIX="PRO",i.ROUTING_TABLES="RTS",i.ROUTING_TABLE="RT",i.COUNTRIES="COF",i.CONTINENT="CON",i.COUNTRIE="COD",i.AF="AF",i.AN="AN",i.AS="AS",i.EU="EU",i.NA="NA",i.OC="OC",i.SA="SA",i.DHCP="S01",i.DHCP_FIXED_IP="S04",i.KEEPALIVED="S02",i.HAPROXY="S03",i}(B||{}),co=function(i){return i[i.POLICY_ROUTING=6]="POLICY_ROUTING",i[i.ROUTING_TABLE=201]="ROUTING_TABLE",i}(co||{}),zA=function(i){return i[i.STATEFUL=1]="STATEFUL",i[i.CATCHALL=2]="CATCHALL",i[i.DOCKER=3]="DOCKER",i[i.CROWDSEC=4]="CROWDSEC",i[i.FAIL2BAN=5]="FAIL2BAN",i[i.HOOKSCRIPT=6]="HOOKSCRIPT",i}(zA||{}),yi=function(i){return i[i.TO_POSITION=771]="TO_POSITION",i[i.GATEWAY_POSITION=881]="GATEWAY_POSITION",i[i.INTERFACE_POSITION=991]="INTERFACE_POSITION",i}(yi||{}),br=function(i){return i[i.FROM_POSITION=772]="FROM_POSITION",i[i.ROUTING_TABLE_POSITION=882]="ROUTING_TABLE_POSITION",i}(br||{}),yr=function(i){return i[i.NETWORK=775]="NETWORK",i[i.RANGE=776]="RANGE",i[i.ROUTER=777]="ROUTER",i[i.DNS=778]="DNS",i[i.INTERFACE=779]="INTERFACE",i[i.IP=780]="IP",i}(yr||{}),Dl=function(i){return i[i.INTERFACE=785]="INTERFACE",i[i.VIRTUAL_IPS=786]="VIRTUAL_IPS",i[i.MASTER_NODE=787]="MASTER_NODE",i}(Dl||{}),bs=function(i){return i[i.FRONTEND_IP=790]="FRONTEND_IP",i[i.FRONTEND_PORT=791]="FRONTEND_PORT",i[i.BACKEND_IPS=792]="BACKEND_IPS",i[i.BACKEND_PORT=793]="BACKEND_PORT",i}(bs||{}),gk={[F.OBJ_INTERFACE_FIREWALL]:B.OBJ_IF_FW,[F.OBJ_INTERFACE_HOST]:B.OBJ_IF_HOST,[F.OBJ_ADDRESS]:B.OBJ_ADDRESS},Pl=[B.POLICY_INPUT,B.POLICY_OUTPUT,B.POLICY_FORWARD,B.POLICY_SNAT,B.POLICY_DNAT,B.POLICY_ROUTING,B.POLICY_INPUT6,B.POLICY_OUTPUT6,B.POLICY_FORWARD6,B.POLICY_SNAT6,B.POLICY_DNAT6,B.ROUTING_TABLE,B.DHCP,B.DHCP_FIXED_IP,B.KEEPALIVED,B.HAPROXY],si={[B.POLICY_INPUT]:1,[B.POLICY_OUTPUT]:2,[B.POLICY_FORWARD]:3,[B.POLICY_SNAT]:4,[B.POLICY_DNAT]:5,[B.POLICY_INPUT6]:61,[B.POLICY_OUTPUT6]:62,[B.POLICY_FORWARD6]:63,[B.POLICY_SNAT6]:64,[B.POLICY_DNAT6]:65,[B.DHCP]:66,[B.DHCP_FIXED_IP]:67,[B.KEEPALIVED]:68,[B.HAPROXY]:69,[B.POLICY_ROUTING]:co.POLICY_ROUTING,[B.ROUTING_TABLE]:co.ROUTING_TABLE},_k={1:"IPv4",2:"IPv4",3:"IPv4",4:"IPv4",5:"IPv4",61:"IPv6",62:"IPv6",63:"IPv6",64:"IPv6",65:"IPv6"},Ck=Pl.concat([B.FOLDER_POLICY,B.FOLDER_INTERFACES,B.OPENVPN_ROOT,B.OPENVPN_CA,B.OPENVPN_PREFIX_FOLDER,B.OPENVPN_CONFIG_SER]),Ik=Pl.concat([B.ROUTING_TABLES]),N=function(i){return i[i.NO_MENU=-1]="NO_MENU",i[i.SEPARATOR=-2]="SEPARATOR",i[i.COPY=900]="COPY",i[i.CUT=901]="CUT",i[i.PASTE=902]="PASTE",i[i.PASTE_ABOVE=903]="PASTE_ABOVE",i[i.PASTE_BELOW=904]="PASTE_BELOW",i[i.DELETE=905]="DELETE",i[i.EDIT=906]="EDIT",i[i.WHERE_USED=907]="WHERE_USED",i[i.FIND_IN_TREE=908]="FIND_IN_TREE",i[i.DELETE_FROM_GROUP=910]="DELETE_FROM_GROUP",i[i.DUPLICATE=911]="DUPLICATE",i[i.HELP=912]="HELP",i[i.FIREWALL_EDIT=1]="FIREWALL_EDIT",i[i.FIREWALL_NEW=2]="FIREWALL_NEW",i[i.FIREWALL_DELETE=3]="FIREWALL_DELETE",i[i.FIREWALL_COMPILE=4]="FIREWALL_COMPILE",i[i.FIREWALL_INSTALL=5]="FIREWALL_INSTALL",i[i.FIREWALL_COMPILE_ALL=6]="FIREWALL_COMPILE_ALL",i[i.FIREWALL_INSTALL_ALL=7]="FIREWALL_INSTALL_ALL",i[i.FIREWALL_TO_CLUSTER=8]="FIREWALL_TO_CLUSTER",i[i.FIREWALL_CLONE=9]="FIREWALL_CLONE",i[i.FIREWALL_IPTABLES_IMPORT=10]="FIREWALL_IPTABLES_IMPORT",i[i.FIREWALL_IPTABLES_EXPORT=11]="FIREWALL_IPTABLES_EXPORT",i[i.FIREWALL_IMPORT=12]="FIREWALL_IMPORT",i[i.POLICY_PANEL_SHOW=13]="POLICY_PANEL_SHOW",i[i.POLICY_PANEL_DOWNLOAD=14]="POLICY_PANEL_DOWNLOAD",i[i.NODE_EDIT=15]="NODE_EDIT",i[i.NODE_DELETE=16]="NODE_DELETE",i[i.POLICY_LOAD=17]="POLICY_LOAD",i[i.NGFW=18]="NGFW",i[i.PLUGINS=19]="PLUGINS",i[i.FOLDER_EXPAND=21]="FOLDER_EXPAND",i[i.FOLDER_COLLAPSE=22]="FOLDER_COLLAPSE",i[i.FOLDER_NEW=23]="FOLDER_NEW",i[i.FOLDER_DELETE=24]="FOLDER_DELETE",i[i.FOLDER_RENAME=25]="FOLDER_RENAME",i[i.NEW_INTERFACE=34]="NEW_INTERFACE",i[i.NEW_ADDRESS=41]="NEW_ADDRESS",i[i.NEW_GROUP=42]="NEW_GROUP",i[i.NEW_NETWORK=43]="NEW_NETWORK",i[i.NEW_IP_RANGE=44]="NEW_IP_RANGE",i[i.NEW_HOST=45]="NEW_HOST",i[i.NEW_DNS=46]="NEW_DNS",i[i.NEW_IP_SERVICE=51]="NEW_IP_SERVICE",i[i.NEW_ICMP_SERVICE=52]="NEW_ICMP_SERVICE",i[i.NEW_TCP_SERVICE=53]="NEW_TCP_SERVICE",i[i.NEW_UDP_SERVICE=54]="NEW_UDP_SERVICE",i[i.NEW_SERVICE_GROUP=55]="NEW_SERVICE_GROUP",i[i.TREE_RELOAD=61]="TREE_RELOAD",i[i.TREE_REPAIR=62]="TREE_REPAIR",i[i.CLUSTER_NEW=71]="CLUSTER_NEW",i[i.CLUSTER_EDIT=72]="CLUSTER_EDIT",i[i.CLUSTER_DELETE=73]="CLUSTER_DELETE",i[i.CLUSTER_COMPILE=74]="CLUSTER_COMPILE",i[i.CLUSTER_INSTALL=75]="CLUSTER_INSTALL",i[i.CLUSTER_COMPILE_ALL=76]="CLUSTER_COMPILE_ALL",i[i.CLUSTER_TO_FIREWALL=77]="CLUSTER_TO_FIREWALL",i[i.CLUSTER_CLONE=78]="CLUSTER_CLONE",i[i.CA_NEW=81]="CA_NEW",i[i.CA_VIEW=82]="CA_VIEW",i[i.CA_DELETE=83]="CA_DELETE",i[i.CA_EDIT=84]="CA_EDIT",i[i.CA_CRT_NEW=91]="CA_CRT_NEW",i[i.CA_CRT_VIEW=92]="CA_CRT_VIEW",i[i.CA_CRT_EDIT=97]="CA_CRT_EDIT",i[i.CA_CRT_DELETE=93]="CA_CRT_DELETE",i[i.CA_CRT_NEW_PREFIX=94]="CA_CRT_NEW_PREFIX",i[i.CA_CRT_EDIT_PREFIX=95]="CA_CRT_EDIT_PREFIX",i[i.CA_CRT_DELETE_PREFIX=96]="CA_CRT_DELETE_PREFIX",i[i.RULE_SELECT=101]="RULE_SELECT",i[i.RULE_UNSELECT=102]="RULE_UNSELECT",i[i.RULE_EDIT=103]="RULE_EDIT",i[i.RULE_ENABLE=104]="RULE_ENABLE",i[i.RULE_DISABLE=105]="RULE_DISABLE",i[i.RULE_DELETE=106]="RULE_DELETE",i[i.RULE_NEW_ABOVE=107]="RULE_NEW_ABOVE",i[i.RULE_NEW_BELOW=108]="RULE_NEW_BELOW",i[i.RULE_NEW_HS_ABOVE=10107]="RULE_NEW_HS_ABOVE",i[i.RULE_NEW_HS_BELOW=10108]="RULE_NEW_HS_BELOW",i[i.RULE_CREATE_GROUP=109]="RULE_CREATE_GROUP",i[i.RULE_REMOVE_GROUP=110]="RULE_REMOVE_GROUP",i[i.RULE_REMOVE_FROM_GROUP=111]="RULE_REMOVE_FROM_GROUP",i[i.RULE_MOVE_ABOVE=112]="RULE_MOVE_ABOVE",i[i.RULE_MOVE_BELOW=113]="RULE_MOVE_BELOW",i[i.RULE_COMPILE=114]="RULE_COMPILE",i[i.RULE_COLOR_CHANGE=120]="RULE_COLOR_CHANGE",i[i.RULE_COLOR_DEFAULT=121]="RULE_COLOR_DEFAULT",i[i.RULE_COLOR_RED=122]="RULE_COLOR_RED",i[i.RULE_COLOR_GREEN=123]="RULE_COLOR_GREEN",i[i.RULE_COLOR_BLUE=124]="RULE_COLOR_BLUE",i[i.RULE_COLOR_PURPLE=125]="RULE_COLOR_PURPLE",i[i.RULE_COLOR_TEAL=126]="RULE_COLOR_TEAL",i[i.RULE_COLOR_YELLOW=127]="RULE_COLOR_YELLOW",i[i.RULE_COLOR_ORANGE=128]="RULE_COLOR_ORANGE",i[i.RULE_COLOR_BROWN=129]="RULE_COLOR_BROWN",i[i.RULE_COLOR_CUSTOM=135]="RULE_COLOR_CUSTOM",i[i.VPN_OPTION_DELETE=141]="VPN_OPTION_DELETE",i[i.VPN_OPTION_SET_DEFAULT=142]="VPN_OPTION_SET_DEFAULT",i[i.VPN_OPTION_EMPTY=143]="VPN_OPTION_EMPTY",i[i.VPN_CONFIG_DELETE=151]="VPN_CONFIG_DELETE",i[i.VPN_CONFIG_FILE=152]="VPN_CONFIG_FILE",i[i.VPN_CONFIG_INSTALL=153]="VPN_CONFIG_INSTALL",i[i.VPN_CONFIG_SYNC_CCD=154]="VPN_CONFIG_SYNC_CCD",i[i.VPN_CONFIG_UNINSTALL=155]="VPN_CONFIG_UNINSTALL",i[i.VPN_CONFIG_NEW_PREFIX=156]="VPN_CONFIG_NEW_PREFIX",i[i.VPN_CONFIG_EDIT_PREFIX=157]="VPN_CONFIG_EDIT_PREFIX",i[i.VPN_CONFIG_DELETE_PREFIX=158]="VPN_CONFIG_DELETE_PREFIX",i[i.VPN_CONFIG_STATUS=159]="VPN_CONFIG_STATUS",i[i.VPN_CONFIG_INST_WINDOWS=160]="VPN_CONFIG_INST_WINDOWS",i[i.VPN_CONFIG_SYNC_PENDING_CCD=161]="VPN_CONFIG_SYNC_PENDING_CCD",i[i.VPN_CONFIG_BLOCK=162]="VPN_CONFIG_BLOCK",i[i.VPN_CONFIG_UNBLOCK=163]="VPN_CONFIG_UNBLOCK",i[i.VPN_CONFIG_HISTORIC=164]="VPN_CONFIG_HISTORIC",i[i.VPN_CONFIG_SYSTEMCTL=165]="VPN_CONFIG_SYSTEMCTL",i[i.MARK_NEW=170]="MARK_NEW",i[i.POSITION_NEGATE=201]="POSITION_NEGATE",i[i.POSITION_ALLOW=202]="POSITION_ALLOW",i[i.OBJECT_EDIT=301]="OBJECT_EDIT",i[i.RULE_GROUP_EDIT=401]="RULE_GROUP_EDIT",i[i.RULE_GROUP_COLOR_CHANGE=402]="RULE_GROUP_COLOR_CHANGE",i[i.COMPILE_IPTABLES=501]="COMPILE_IPTABLES",i[i.COMPILE_NFTABLES=502]="COMPILE_NFTABLES",i[i.ROUTING_TABLE_NEW=601]="ROUTING_TABLE_NEW",i[i.ROUTING_TABLE_EDIT=602]="ROUTING_TABLE_EDIT",i[i.ROUTING_TABLE_DELETE=603]="ROUTING_TABLE_DELETE",i[i.ROUTING_TABLE_NEW_ROUTE=610]="ROUTING_TABLE_NEW_ROUTE",i[i.DHCP_NEW_RULE_GROUP=615]="DHCP_NEW_RULE_GROUP",i[i.DHCP_EDIT_RULE_GROUP=616]="DHCP_EDIT_RULE_GROUP",i[i.DHCP_DELETE_RULE_GROUP=617]="DHCP_DELETE_RULE_GROUP",i[i.HAPROXY_NEW_RULE_GROUP=625]="HAPROXY_NEW_RULE_GROUP",i[i.HAPROXY_EDIT_RULE_GROUP=626]="HAPROXY_EDIT_RULE_GROUP",i[i.HAPROXY_DELETE_RULE_GROUP=627]="HAPROXY_DELETE_RULE_GROUP",i[i.SYSTEMCTL=651]="SYSTEMCTL",i[i.SYSTEMCTL_STATUS=652]="SYSTEMCTL_STATUS",i[i.SYSTEMCTL_START=653]="SYSTEMCTL_START",i[i.SYSTEMCTL_STOP=654]="SYSTEMCTL_STOP",i[i.SYSTEMCTL_RESTART=655]="SYSTEMCTL_RESTART",i[i.SYSTEMCTL_RELOAD=656]="SYSTEMCTL_RELOAD",i[i.SYSTEMCTL_ENABLE=657]="SYSTEMCTL_ENABLE",i[i.SYSTEMCTL_DISABLE=658]="SYSTEMCTL_DISABLE",i[i.SYSTEM_COMPILE=678]="SYSTEM_COMPILE",i[i.SYSTEM_INSTALL=679]="SYSTEM_INSTALL",i[i.SYSTEM_SHOW_CONFIG=680]="SYSTEM_SHOW_CONFIG",i[i.SYSTEM_DOWNLOAD_CONFIG=681]="SYSTEM_DOWNLOAD_CONFIG",i}(N||{}),vk=["#ef9a9a","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91"],hit={[N.RULE_COLOR_DEFAULT]:"",[N.RULE_COLOR_RED]:"5px solid #ef9a9a",[N.RULE_COLOR_PURPLE]:"5px solid #CE93D8",[N.RULE_COLOR_BLUE]:"5px solid #90CAF9",[N.RULE_COLOR_TEAL]:"5px solid #80CBC4",[N.RULE_COLOR_GREEN]:"5px solid #A5D6A7",[N.RULE_COLOR_YELLOW]:"5px solid #FFF59D",[N.RULE_COLOR_ORANGE]:"5px solid #FFCC80",999:"5px solid #ff0000"},KC={[N.RULE_COLOR_DEFAULT]:"",[N.RULE_COLOR_RED]:"#ef9a9a",[N.RULE_COLOR_PURPLE]:"#CE93D8",[N.RULE_COLOR_BLUE]:"#90CAF9",[N.RULE_COLOR_TEAL]:"#80CBC4",[N.RULE_COLOR_GREEN]:"#A5D6A7",[N.RULE_COLOR_YELLOW]:"#FFF59D",[N.RULE_COLOR_ORANGE]:"#FFCC80",999:"#ef9a9a",1e3:"#cbcbcb"};var Vn=function(i){return i[i.COPY=1]="COPY",i[i.CUT=2]="CUT",i[i.DELETE=3]="DELETE",i}(Vn||{});var qi=function(i){return i[i.NEW_ITEM=1]="NEW_ITEM",i[i.MODIFY_ITEM=2]="MODIFY_ITEM",i[i.DELETE_ITEM=3]="DELETE_ITEM",i[i.RELOAD_TREE=10]="RELOAD_TREE",i[i.NEW_GROUP_ITEM=11]="NEW_GROUP_ITEM",i[i.DELETE_GROUP_ITEM=12]="DELETE_GROUP_ITEM",i}(qi||{}),ft=function(i){return i.C_FIREWALLS="firewalls",i.C_CLUSTERS="clusters",i.C_OBJECTS="objects",i.C_SERVICES="services",i.C_CA="ca",i.C_FIREWALLS_CONDENSED="fw_condensed",i}(ft||{}),Ui=function(i){return i[i.FW_DISABLED=0]="FW_DISABLED",i[i.FW_PENDING=1]="FW_PENDING",i[i.FW_PROCESSING=2]="FW_PROCESSING",i[i.FW_OK=3]="FW_OK",i[i.FW_ERROR=4]="FW_ERROR",i[i.FW_WARNING=5]="FW_WARNING",i}(Ui||{}),Io=function(i){return i[i.COMP_CLOUD=0]="COMP_CLOUD",i[i.COMP_CLUSTER=1]="COMP_CLUSTER",i[i.COMP_FIREWALL=2]="COMP_FIREWALL",i[i.COMP_CLUSTERS_ALL=3]="COMP_CLUSTERS_ALL",i[i.COMP_FIREWALLS_ALL=4]="COMP_FIREWALLS_ALL",i[i.COMP_COMPILE=0]="COMP_COMPILE",i[i.COMP_INSTALL=1]="COMP_INSTALL",i}(Io||{}),Bp={[Ui.FW_DISABLED]:"",[Ui.FW_PENDING]:"fa fa-lg fa-pause-circle fwcBlue",[Ui.FW_PROCESSING]:"fa fa-lg fa-cog fa-spin fwcBlue",[Ui.FW_OK]:"fa fa-lg fa-check-circle fwcBlue",[Ui.FW_ERROR]:"fa fa-lg fa-exclamation-circle fwcOrange",[Ui.FW_WARNING]:"fa fa-lg fa-times-circle fwcOrange"},fit=[{id:0,name:"IPTables"},{id:1,name:"NFTables"}],nt=function(i){return i.MSG_START="start",i.MSG_END="end",i.MSG_START_TASK="start_task",i.MSG_END_TASK="end_task",i.MSG_INFO="info",i.MSG_ERROR="error",i.MSG_WARNING="warning",i.MSG_OK="success",i.MSG_NOTICE="notice",i.MSG_SSH_CMD_OUTPUT="ssh_cmd_output",i.MSG_HEARTBEAT="heartbeat",i.MSG_SEPARATOR="separator",i}(nt||{});var Di=function(i){return i.API_COOKIE="FWCloud.net-cookie",i.LS_TOKEN="FWCloud.net-token",i.LS_CUSTOMER_ID="FWCloud.net-customer_id",i.LS_USER_ID="FWCloud.net-user_id",i.LS_USER_NAME="FWCloud.net-user_name",i.LS_USER_ROLE="FWCloud.net-user_role",i.LS_CLOUD_ID="FWCloud.net-cloud_id",i.LS_CLOUD_NAME="FWCloud.net-cloud_name",i.LS_LANGUAGE="FWCloud.net-language",i.LS_PUBLIC_KEY="FWCloud.net-public_key",i.LS_PRIVATE_KEY="FWCloud.net-private_key",i.LS_RELOAD_APP="FWCloud.net-force_app_reload",i.LS_UI_THEME="FWCloud.net-UI-theme",i}(Di||{}),Gse=function(i){return i[i.days=1]="days",i[i.years=2]="years",i}(Gse||{}),Up=function(i){return i[i.client=1]="client",i[i.server=2]="server",i}(Up||{}),Gt=function(i){return i[i.ccd=0]="ccd",i[i.ovp=1]="ovp",i}(Gt||{}),kr=function(i){return i.O_SERVER="server",i.O_CLIENT="ifconfig-push",i}(kr||{}),WA=[{label:"AES-128-CBC",value:"AES-128-CBC"},{label:"AES-128-CFB",value:"AES-128-CFB"},{label:"AES-128-CFB1",value:"AES-128-CFB1"},{label:"AES-128-CFB8",value:"AES-128-CFB8"},{label:"AES-128-GCM",value:"AES-128-GCM"},{label:"AES-128-OFB",value:"AES-128-OFB"},{label:"AES-192-CBC",value:"AES-192-CBC"},{label:"AES-192-CFB",value:"AES-192-CFB"},{label:"AES-192-CFB1",value:"AES-192-CFB1"},{label:"AES-192-CFB8",value:"AES-192-CFB8"},{label:"AES-192-GCM",value:"AES-192-GCM"},{label:"AES-192-OFB",value:"AES-192-OFB"},{label:"AES-256-CBC",value:"AES-256-CBC"},{label:"AES-256-CFB",value:"AES-256-CFB"},{label:"AES-256-CFB1",value:"AES-256-CFB1"},{label:"AES-256-CFB8",value:"AES-256-CFB8"},{label:"AES-256-GCM",value:"AES-256-GCM"},{label:"AES-256-OFB",value:"AES-256-OFB"},{label:"ARIA-128-CBC",value:"ARIA-128-CBC"},{label:"ARIA-128-CFB",value:"ARIA-128-CFB"},{label:"ARIA-128-CFB1",value:"ARIA-128-CFB1"},{label:"ARIA-128-CFB8",value:"ARIA-128-CFB8"},{label:"ARIA-128-GCM",value:"ARIA-128-GCM"},{label:"ARIA-128-OFB",value:"ARIA-128-OFB"},{label:"ARIA-192-CBC",value:"ARIA-192-CBC"},{label:"ARIA-192-CFB",value:"ARIA-192-CFB"},{label:"ARIA-192-CFB1",value:"ARIA-192-CFB1"},{label:"ARIA-192-CFB8",value:"ARIA-192-CFB8"},{label:"ARIA-192-GCM",value:"ARIA-192-GCM"},{label:"ARIA-192-OFB",value:"ARIA-192-OFB"},{label:"ARIA-256-CBC",value:"ARIA-256-CBC"},{label:"ARIA-256-CFB",value:"ARIA-256-CFB"},{label:"ARIA-256-CFB1",value:"ARIA-256-CFB1"},{label:"ARIA-256-CFB8",value:"ARIA-256-CFB8"},{label:"ARIA-256-GCM",value:"ARIA-256-GCM"},{label:"ARIA-256-OFB",value:"ARIA-256-OFB"},{label:"CAMELLIA-128-CBC",value:"CAMELLIA-128-CBC"},{label:"CAMELLIA-128-CFB",value:"CAMELLIA-128-CFB"},{label:"CAMELLIA-128-CFB1",value:"CAMELLIA-128-CFB1"},{label:"CAMELLIA-128-CFB8",value:"CAMELLIA-128-CFB8"},{label:"CAMELLIA-128-OFB",value:"CAMELLIA-128-OFB"},{label:"CAMELLIA-192-CBC",value:"CAMELLIA-192-CBC"},{label:"CAMELLIA-192-CFB",value:"CAMELLIA-192-CFB"},{label:"CAMELLIA-192-CFB1",value:"CAMELLIA-192-CFB1"},{label:"CAMELLIA-192-CFB8",value:"CAMELLIA-192-CFB8"},{label:"CAMELLIA-192-OFB",value:"CAMELLIA-192-OFB"},{label:"CAMELLIA-256-CBC",value:"CAMELLIA-256-CBC"},{label:"CAMELLIA-256-CFB",value:"CAMELLIA-256-CFB"},{label:"CAMELLIA-256-CFB1",value:"CAMELLIA-256-CFB1"},{label:"CAMELLIA-256-CFB8",value:"CAMELLIA-256-CFB8"},{label:"CAMELLIA-256-OFB",value:"CAMELLIA-256-OFB"},{label:"CHACHA20-POLY1305",value:"CHACHA20-POLY1305"},{label:"SM4-CBC",value:"SM4-CBC"},{label:"SM4-CFB",value:"SM4-CFB"},{label:"SM4-OFB",value:"SM4-OFB"},{label:"DES-EDE-CBC",value:"DES-EDE-CBC"},{label:"DES-EDE-CFB",value:"DES-EDE-CFB"},{label:"DES-EDE-OFB",value:"DES-EDE-OFB"},{label:"DES-EDE3-CBC",value:"DES-EDE3-CBC"},{label:"DES-EDE3-CFB",value:"DES-EDE3-CFB"},{label:"DES-EDE3-CFB1",value:"DES-EDE3-CFB1"},{label:"DES-EDE3-CFB8",value:"DES-EDE3-CFB8"},{label:"DES-EDE3-OFB",value:"DES-EDE3-OFB"}],$A=[{label:"yes",value:"yes"},{label:"no",value:"no"},{label:"adaptive",value:"adaptive"}],bk=["client","server","nobind","comp-lzo","ccd-exclusive","persist-key","persist-tun","daemon","duplicate-cn","ifconfig-pool-linear","comp-noadapt","multihome","fast-io"],KA=["remote","route","push","iroute","remote-cert-tls","tls-auth","tls-crypt"],qC=[{name:"server",arg:"",scope:Gt.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"port",arg:"1194",scope:Gt.ovp},{name:"proto",arg:"udp",scope:Gt.ovp},{name:"dev",arg:"tun0",scope:Gt.ovp},{name:"topology",arg:"subnet",scope:Gt.ovp},{name:"ifconfig-pool-persist",arg:"/etc/openvpn/ipp.txt",scope:Gt.ovp},{name:"ccd-exclusive",arg:"",scope:Gt.ovp},{name:"client-config-dir",arg:"/etc/openvpn/ccd",scope:Gt.ovp},{name:"keepalive",arg:"10 120",scope:Gt.ovp},{name:"cipher",arg:"AES-128-CBC",scope:Gt.ovp},{name:"data-ciphers",arg:"CHACHA20-POLY1305:AES-128-GCM:AES-128-CBC",scope:Gt.ovp},{name:"user",arg:"nobody",scope:Gt.ovp},{name:"group",arg:"nogroup",scope:Gt.ovp},{name:"persist-key",arg:"",scope:Gt.ovp},{name:"persist-tun",arg:"",scope:Gt.ovp},{name:"status",arg:"/etc/openvpn/openvpn-status.log",scope:Gt.ovp},{name:"verb",arg:"3",scope:Gt.ovp},{name:"multihome",arg:"",scope:Gt.ovp},{name:"fast-io",arg:"",scope:Gt.ovp}],yk=[{name:"remote",arg:"",scope:Gt.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.REMOTEOPTION_ERROR.HINT"},{name:"client",arg:"",scope:Gt.ovp},{name:"dev",arg:"tun",scope:Gt.ovp},{name:"proto",arg:"udp",scope:Gt.ovp},{name:"resolv-retry",arg:"infinite",scope:Gt.ovp},{name:"nobind",arg:"",scope:Gt.ovp},{name:"user",arg:"nobody",scope:Gt.ovp},{name:"group",arg:"nogroup",scope:Gt.ovp},{name:"persist-key",arg:"",scope:Gt.ovp},{name:"persist-tun",arg:"",scope:Gt.ovp},{name:"cipher",arg:"AES-128-CBC",scope:Gt.ovp},{name:"auth-nocache",arg:"",scope:Gt.ovp},{name:"tls-client",arg:"",scope:Gt.ovp},{name:"verb",arg:"3",scope:Gt.ovp},{name:"float",arg:"",scope:Gt.ovp},{name:"remote-cert-tls",arg:"server",scope:Gt.ovp}],wk=[{name:"ifconfig-push",arg:"",scope:Gt.ccd,required:!0,readonly:!0}],Sk=["push","push-reset","iroute","iroute-ipv6","ifconfig-push","ifconfig-ipv6-push","disable","config","max-routes-per-client","comp-lzo"],qA=["askpass","auth-gen-token","auth-nocache","auth-retry","auth-user-pass-verify","auth-user-pass","auth","bcast-buffers","block-outside-dns","ca","ccd-exclusive","cd","cert","chroot","cipher","client-cert-not-required","client-config-dir","client-connect","client-disconnect","client-to-client","client","comp-noadapt","config","connect-freq","comp-lzo","compress","connect-retry","crl-verify","cryptoapicert","daemon","data-ciphers","data-ciphers-fallback","dev-node","dev-type","dev","dh","dhcp-option","dhcp-release","disable-occ","dhcp-renew","disable-occ","disable","down-pre","down","duplicate-cn","echo","engine","explicit-exit-notify","fast-io","float","fragment","group","hand-window","hash-size","http-proxy-option","http-proxy-retry","http-proxy-timeout","http-proxy server","ifconfig-noexec","ifconfig-nowarn","ifconfig-pool-linear","ifconfig-pool-persist","ifconfig-pool","ifconfig-push","ifconfig","inactive","inetd","ip-win32 method","ipchange","iroute","keepalive","key-method","key","keysizen","learn-address","link-mtu","local","log-append","log","suppress-timestamps","lport","management-hold","management-log-cache","management-query-passwords","management","max-clients","max-routes-per-client","mktun","mlock","mode","mssfix","mtu-disc","mtu-test","multihome","mute-replay-warnings","mute","nice","no-iv","no-replay","nobind","ns-cert-type","passtos","pause-exit","persist-key","persist-local-ip","persist-remote-ip","persist-tun","ping-exit","ping-restart","ping-timer-rem","ping","pkcs12","plugin","port","proto","pull","push-reset","push","rcvbuf","redirect-gateway","remap-usr1","remote-cert-tls","remote-random","reneg-bytes","reneg-pkts","reneg-sec","replay-persist","replay-window","resolv-retry","rmtun","route-delay","route-gateway","route-method","route-noexec","route-up","route","rport","script-security","secret","server-bridge","server","service","setenv","shaper","show-adapters","show-ciphers","show-digests","show-engines","show-net-up","show-net","show-tls","show-valid-subnets","single-session","sndbuf","socks-proxy-retry","socks-proxy","status","status-version","syslog","tap-sleep","tcp-queue-limit","test-crypto","tls-auth","tls-cipher","tls-ciphersuites","tls-client","tls-crypt","tls-crypt-v2","tls-exit","tls-remote","tls-server","tls-timeout","tls-verify","tls-version-min","tls-version-max","tmp-dir","tran-window ","tun-ipv6","tun-mtu-extra","tun-mtu","txqueuelen","up-delay","up-restart","up","user","username-as-common-name ","verb","writepid"],Zd=function(i){return i[i.HINT_NO_FWCLOUDS=101]="HINT_NO_FWCLOUDS",i[i.HINT_NO_FW=102]="HINT_NO_FW",i[i.HINT_CA_CREATING=201]="HINT_CA_CREATING",i}(Zd||{}),ri={netmaskRegexp:"^(((255\\.){3}(255|254|252|248|240|224|192|128|0+))|((255\\.){2}(255|254|252|248|240|224|192|128|0+)\\.0)|((255\\.)(255|254|252|248|240|224|192|128|0+)(\\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\\.0+){3}))$",netmaskCIDRRegexp:/^\/*(\d{1,3})$/,ipV4Regexp:"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",ipV6Regexp:"(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))",macRegexp:"^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$",fqdnRegexp:"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$",nameRegExp:"^[ -~\\x80-\\xFE]{1,64}$",posixPathRegexp:"^\\/{1}(((\\/{1}\\.{1})?[a-zA-Z0-9 ]+\\/?)+(\\.{1}[a-zA-Z0-9]{2,4})?)$",posixFilenameRegexp:"^[a-zA-Z0-9\\-_\\.]{4,64}$",linuxUsername:"^[a-zA-Z_]([a-zA-Z0-9_-]{0,31}|[a-zA-Z0-9_-]{0,30}$)$",linuxPassword:"^[ -~\\x80-\\xFE]{2,64}$",webAddressRegexp:"^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$",passwordRegexp:"^[ -~\\x80-\\xFE]{6,64}$",portRegexp:"^\\d{1,5}$",cnRegExp:"^[a-zA-Z0-9-_.]{1,64}$",connNameRegExp:"^[a-zA-Z0-9]{1}([a-zA-Z0-9-_]{2,30})[a-zA-Z0-9]{1}$",ipAddressValidator:function(i){let n=i.value||"",e,t;return this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value),t==6?e=n.match(ri.ipV6Regexp):e=n.match(ri.ipV4Regexp),e?null:{ip:!0}},netmaskValidator:function(i){let n=i.value||"",e,t;if(this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value),t==4&&n.match(ri.netmaskRegexp))e=!0;else{let r=new RegExp(ri.netmaskCIDRRegexp).exec(n);if(r){let s,a;s=+r[1],t==4?a=32:t==6&&(a=128),e=s>=0&&s<=a}}return e?null:{netmask:!0}},distinctNameValidator(i){let n=1,e,t;if(this.formModel)for(let o=0;o<i.length&&n<=2;o++){e=i.at(o).get("name").value;for(let r=o+1;r<i.length;r++)t=i.at(r).get("name").value,e==t&&n++}return n<=1?null:{distinctnames:!0}}},eu=function(i){return i[i.ROLE_ADMINISTRATOR=1]="ROLE_ADMINISTRATOR",i[i.ROLE_MANAGER=2]="ROLE_MANAGER",i}(eu||{}),Gs=function(i){return i.BACKUP_INTERVAL_TIME="BACKUP_INTERVAL_TIME",i.BACKUP_FIXED_TIME="BACKUP_FIXED_TIME",i.BACKUP_MAX_COPIES="BACKUP_MAX_COPIES",i.BACKUP_MAX_DAYS="BACKUP_MAX_DAYS",i}(Gs||{}),Yr=function(i){return i[i.CREATE=1]="CREATE",i[i.UPDATE=2]="UPDATE",i[i.UPDATE_SPECIAL=3]="UPDATE_SPECIAL",i[i.NO_OP=9]="NO_OP",i}(Yr||{}),Ak={[Yr.CREATE]:{icon:"fa fa-file",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.0"},[Yr.UPDATE]:{icon:"fa fa-pencil",displayClass:"pillWarnBadge",translateKey:"ITEM_BATCH.OPS_TYPES.1"},[Yr.UPDATE_SPECIAL]:{icon:"fa fa-pencil",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.3"},[Yr.NO_OP]:{icon:"fa fa-check",displayClass:"pillSecondaryBadge",translateKey:"ITEM_BATCH.OPS_TYPES.2"}},Rn=function(i){return i[i.PENDING=1]="PENDING",i[i.RUNNING=2]="RUNNING",i[i.SUCCESS=3]="SUCCESS",i[i.ERROR=4]="ERROR",i[i.NO_OP=9]="NO_OP",i}(Rn||{}),xk={[Rn.PENDING]:{icon:"",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.0"},[Rn.RUNNING]:{icon:"fa fa-spinner fa-pulse fa-fw",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.1"},[Rn.SUCCESS]:{icon:"fa fa-check",displayClass:"fwcGreen",translateKey:"ITEM_BATCH.OPS_STATUS.2"},[Rn.ERROR]:{icon:"fa fa-exclamation-triangle",displayClass:"fwcRed",translateKey:"ITEM_BATCH.OPS_STATUS.3"},[Rn.NO_OP]:{icon:"fa fa-check",displayClass:"fwcPaleDark",translateKey:"ITEM_BATCH.OPS_STATUS.4"}},ci=function(i){return i.VPN_WINDOWS_INSTALLER="VPN_WINDOWS_INSTALLER",i.VPN_MESH_WIZARD="VPN_MESH_WIZARD",i.VPN_STATUS_PANEL="VPN_STATUS_PANEL",i.FIREWALL_IMPORT_WIZARD="FIREWALL_IMPORT_WIZARD",i.ITEM_BATCH_MANAGER="ITEM_BATCH_MANAGER",i.DOCS_PANEL="DOCS_PANEL",i.BLOCK_UI_PANEL="BLOCK_UI_PANEL",i.ITEM_PANEL="ITEM_PANEL",i.FIREWALL_PANEL="FIREWALL_PANEL",i.CLUSTER_PANEL="CLUSTER_PANEL",i.OVCONFIG_PANEL="OVCONFIG_PANEL",i.NGFW_PANEL="NGFW_PANEL",i.SYSTEMCTL_PANEL="SYSTEMCTL_PANEL",i.DHCP_INSTALL_PANEL="DHCP_INSTALL_PANEL",i.KEEPALIVED_INSTALL_PANEL="KEEPALIVED_INSTALL_PANEL",i}(ci||{}),mit="open-solidarity.fwcloud.net",Ek={cloud:"docs/Sections/FWClouds",policy:"docs/Sections/Policy",vpn:"docs/Sections/VPN",firewalls:"docs/Sections/Firewalls",configuration:"docs/Sections/Configuration",ipobjs:"docs/Sections/Objects"},git="assets/themes/fwc-light.css",_it="assets/themes/fwc-dark.css",Et=(()=>{class i{constructor(){this.subjectHelp=new Ae,this.optionsTreeFw={user_id:void 0,fwcloud:void 0,container:ft.C_FIREWALLS,containerReadOnly:!1,objStandard:void 0,objCloud:void 0},this.optionsTreeObj={user_id:void 0,fwcloud:void 0,container:ft.C_OBJECTS,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeSrv={user_id:void 0,fwcloud:void 0,container:ft.C_SERVICES,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeCa={user_id:void 0,fwcloud:void 0,container:ft.C_CA,containerReadOnly:!0,objStandard:void 0,objCloud:void 0},this.optionsTreeFwCon={user_id:void 0,fwcloud:void 0,container:ft.C_FIREWALLS_CONDENSED,containerReadOnly:!1,objStandard:void 0,objCloud:void 0},this.enableInfoTooltip=!0}showHelp(e){return this.subjectHelp.next(e),this.subjectHelp.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Tk={[F.OBJ_FIREWALL]:"fwci-firewall",[F.OBJ_SERVICE_IP]:"fwci-ipservice",[F.OBJ_SERVICE_TCP]:"fwci-tcpservice",[F.OBJ_SERVICE_ICMP]:"fwci-icmpservice",[F.OBJ_SERVICE_UDP]:"fwci-udpservice",[F.OBJ_ADDRESS]:"fwci-address",[F.OBJ_ADDRESS_RANGE]:"fwci-addressrange",[F.OBJ_NETWORK]:"fwci-network",[F.OBJ_HOST]:"fwci-host",[F.OBJ_INTERFACE_FIREWALL]:"fwci-interface fwcGreen",[F.OBJ_INTERFACE_HOST]:"fwci-interface fwcGreen",[F.OBJ_GROUP]:"fwci-objectgroup",[F.OBJ_SERVICE_GROUP]:"fwci-servicegroup",[F.OBJ_GEN_IP_OBJECT]:"fwci-ipobjects",[F.OBJ_CLUSTER]:"fwci-cluster fwcDarkBlue",[F.OBJ_DNS]:"fwci2-dns-in",[F.OBJ_MARK]:"fwci2-label",[F.OBJ_CA]:"fwci2-ca",[F.OBJ_CERT_CLI]:"fwci2-certificate",[F.OBJ_CERT_SER]:"fwci2-certificate fwcDarkBlue",[F.OBJ_VPN_CONFIG_CLI]:"fwci2-openvpn fwcOrange",[F.OBJ_VPN_CONFIG_SER]:"fwci2-openvpn fwcDarkBlue",[F.OBJ_PREFIX_FOLDER]:"fwci2-folder",[F.OBJ_OPENVPN_PREFIX]:"fwci2-certificate-prefix",[F.OBJ_GEN_RULE]:"fwci-rule"},Ok={[B.FOLDER_CLUSTER]:"fwci-clusters fwcDarkBlue",[B.FOLDER_CLUSTER_FW]:"fwci-compileallfirewalls2",[B.FOLDER_CA]:"fwci2-ca fwcDarkBlue",[B.FOLDER]:"fwci2-folder",[B.STANDARD]:"fwci2-folderstd",[B.FOLDER_FW]:"fwci-firewalls",[B.OBJ_FIREWALL]:"fwci-firewall",[B.FOLDER_OBJECTS]:"fwci-ipobjects",[B.FOLDER_SERVICES]:"fwci-services",[B.FOLDER_POLICY]:"fwci-filterpolicies",[B.POLICY_INPUT]:"fwci-input",[B.POLICY_OUTPUT]:"fwci-output",[B.POLICY_FORWARD]:"fwci-forward",[B.FOLDER_NAT]:"fwci-nat",[B.POLICY_SNAT]:"fwci-snat",[B.POLICY_DNAT]:"fwci-dnat",[B.FOLDER_ROUTING]:"fwci-routing",[B.POLICY_ROUTING]:"fwci-routing",[B.ROUTING_TABLES]:"fwci-policy",[B.ROUTING_TABLE]:"fwci-policy",[B.FOLDER_POLICY6]:"fwci-filterpolicies",[B.POLICY_INPUT6]:"fwci-input",[B.POLICY_OUTPUT6]:"fwci-output",[B.POLICY_FORWARD6]:"fwci-forward",[B.POLICY_SNAT6]:"fwci-snat",[B.POLICY_DNAT6]:"fwci-dnat",[B.POLICY_ROUTING6]:"fwci-routing",[B.OPENVPN_ROOT]:"fwci2-openvpn",[B.COUNTRIES]:"fa fa-globe",[B.AF]:"fa fa-earth-africa",[B.AN]:"fa fa-snowflake",[B.AS]:"fa fa-earth-asia",[B.EU]:"fa fa-earth-europe",[B.NA]:"fa fa-earth-americas",[B.OC]:"fa fa-earth-oceania",[B.SA]:"fa fa-earth-americas"},un=(()=>{class i{transform(e,t,o){let r="fwcBlue",s="";return t&&Ok[t]?s=Ok[t]:Tk[e]&&(s=Tk[e]),o&&(r=o,s=s.split(" ")[0]),s+=" "+r,s}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"fwcIcon",type:i,pure:!0})}}return i})();var zse=(i,n)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":n}),Wse=(i,n)=>({width:i,display:"flex",background:n}),$se=i=>({$implicit:i}),Kse=i=>({display:i}),qse=i=>({background:i});function Yse(i,n){if(i&1&&(f(0,"div",7),T(1),m()),i&2){let e=h(2);p("ngStyle",J(4,Kse,e.value!=null&&e.value!==0?"flex":"none")),M("data-pc-section","label"),d(),zr(" ",e.value,"",e.unit," ")}}function Jse(i,n){i&1&&oe(0)}function Xse(i,n){if(i&1&&(f(0,"div",3)(1,"div",4),I(2,Yse,2,6,"div",5)(3,Jse,1,0,"ng-container",6),m()()),i&2){let e=h();p("ngStyle",Ue(5,Wse,e.value+"%",e.color)),M("data-pc-section","value"),d(2),p("ngIf",e.showValue&&!e.contentTemplate),d(),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",J(8,$se,e.value))}}function Qse(i,n){if(i&1&&(f(0,"div",8),E(1,"div",3),m()),i&2){let e=h();M("data-pc-section","container"),d(),p("ngStyle",J(3,qse,e.color)),M("data-pc-section","value")}}var YC=(()=>{class i{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-progressBar"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:[2,"value","value",xe],showValue:[2,"showValue","showValue",j],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[Ve],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(t,o){t&1&&(f(0,"div",0),I(1,Xse,4,10,"div",1)(2,Qse,2,5,"div",2),m()),t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Ue(11,zse,o.mode==="determinate",o.mode==="indeterminate")),M("aria-valuemin",0)("aria-valuenow",o.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),d(),p("ngIf",o.mode==="determinate"),d(),p("ngIf",o.mode==="indeterminate"))},dependencies:[Fe,ze,Xe,ve],styles:[`@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}
`],encapsulation:2,changeDetection:0})}return i})(),YA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var Zse=i=>["divFwcMessage",i],eae=(i,n,e,t)=>({"divFwcMessage--horizontal":i,"divFwcMessage--highlight":n,"divFwcMessage--compact":e,bordered:t}),tae=i=>({"font-size":i}),iae=()=>({height:"6px"});function nae(i,n){if(i&1&&(f(0,"div",2),E(1,"i",8),m()),i&2){let e=h(2);d(),p("ngClass",e.FwcMessageTypes[e._message.type])("ngStyle",J(2,tae,e._message.compact?"1.2rem":""))}}function oae(i,n){if(i&1&&(f(0,"p",5),E(1,"p-progressBar",9),m()),i&2){let e=h(2);d(),it(Ie(4,iae)),p("value",e.progress)("showValue",!1)}}function rae(i,n){if(i&1&&(f(0,"p",6),T(1),m()),i&2){let e=h(2);d(),z(" ",e._message.status," ")}}function sae(i,n){if(i&1&&(f(0,"div",13),T(1),O(2,"json"),m()),i&2){let e=h(3);d(),z(" ",P(2,1,e._message.details)," ")}}function aae(i,n){if(i&1){let e=k();f(0,"div",7)(1,"div",10)(2,"span",11),R("click",function(){b(e);let o=h(2);return y(o.onToggleDetails())}),T(3),O(4,"translate"),E(5,"i",12),m()(),I(6,sae,3,3,"div",13),m()}if(i&2){let e=h(2);d(3),z(" ",P(4,3,"GLOBALS.MSG_BUTTONS.DETAILS")," "),d(2),p("ngClass",e.state!=null&&e.state.showDetails?"fa-chevron-up":"fa-chevron-down"),d(),G(e.state!=null&&e.state.showDetails?6:-1)}}function lae(i,n){if(i&1&&(f(0,"div",1),I(1,nae,2,4,"div",2),f(2,"div",3)(3,"h6"),T(4),m(),E(5,"p",4),I(6,oae,2,5,"p",5)(7,rae,2,1,"p",6)(8,aae,7,5,"div",7),m()()),i&2){let e=h();te(J(9,Zse,e._message.type).join(" ")),p("ngClass",Nn(11,eae,e._message.horizontal,e._message.highlight,e._message.compact,e._message.bordered)),d(),G(e._message.type!=="none"?1:-1),d(3),z(" ",e._message.title," "),d(),p("innerHTML",e._message.text,Fi),d(),G(e.progress?6:-1),d(),G(e._message.status?7:-1),d(),G(e._message.details?8:-1)}}var cae={none:"",success:"fa fa-4x fa-check-circle fwcGreen",info:"fa fa-4x fa-info-circle fwcBlue",warning:"fa fa-4x fa-warning fwcOrange",error:"fa fa-4x fa-exclamation-circle fwcRed",loading:"fa fa-4x fa-cog fa-spin fwcBlue"},gn=(()=>{class i{set message(e){this._message=Q({},e)}constructor(e,t){this.cd=e,this.translate=t,this.FwcMessageTypes=cae,this.state={showDetails:!1}}ngOnInit(){}onToggleDetails(){this.state.showDetails=!this.state.showDetails}changeText(e){this._message.text=e,this.cd.destroyed||this.cd.detectChanges()}changeStatus(e,t){let o=/(\d+)\/(\d+)/.exec(e);this._message||(this._message={type:"info",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")});let r=e;if(o){let s=Number.parseInt(o[1]),a=Number.parseInt(o[2]),l=Math.round(s/a*100);Number.isNaN(l)||(this.progress=l,r=`${t||""} ${s}/${a}`)}r&&(this._message.status=r),this.cd.destroyed||this.cd.detectChanges()}static{this.\u0275fac=function(t){return new(t||i)(v(pe),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-message"]],inputs:{message:"message"},decls:1,vars:1,consts:[[3,"class","ngClass"],[3,"ngClass"],[1,"divFwcMessage-icon"],[1,"divFwcMessage-content"],[1,"divFwcMessage-text",3,"innerHTML"],[1,"divFwcMessage-progressbar"],[1,"divFwcMessage-status"],[1,"divFwcMessage-content-footer"],[3,"ngClass","ngStyle"],[3,"value","showValue"],[1,"divFwcMessage-content-footer-toggler"],[3,"click"],[1,"fa","fa-fw",3,"ngClass"],[1,"divFwcMessage-content-footer-details"]],template:function(t,o){t&1&&I(0,lae,9,16,"div",0),t&2&&G(o._message?0:-1)},dependencies:[Fe,ve,YC,H0,ht],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divFwcMessage[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important;display:flex;flex-direction:column;overflow:auto;padding:.5rem}.divFwcMessage.bordered[_ngcontent-%COMP%]{border:1px solid var(--fwcGrey2)}.divFwcMessage-icon[_ngcontent-%COMP%]{text-align:center}.divFwcMessage-content[_ngcontent-%COMP%]{max-width:80vw;text-align:center}.divFwcMessage-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.2rem}.divFwcMessage-content[_ngcontent-%COMP%]   p.divFwcMessage-text[_ngcontent-%COMP%]{font-size:.9rem;color:var(--fwcMidDark) 2}.divFwcMessage-content[_ngcontent-%COMP%]   p.divFwcMessage-status[_ngcontent-%COMP%]{font-size:small;color:var(--fwcMidDark)}.divFwcMessage-content-footer[_ngcontent-%COMP%]{margin-top:.5rem;font-size:smaller}.divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]{font-weight:700;text-align:right;margin-bottom:.3rem}.divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--fwcBlue);cursor:pointer}.divFwcMessage-content-footer-details[_ngcontent-%COMP%]{padding:.5rem;text-align:left;font-family:monospace;border:1px solid var(--fwcGrey2);background:var(--fwcPaleWhite);color:var(--fwcMidDark) 2;overflow:auto;max-height:6rem}.divFwcMessage.divFwcMessage--compact[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:none}.divFwcMessage.divFwcMessage--compact.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .divFwcMessage.divFwcMessage--compact.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcBlue)}.divFwcMessage.divFwcMessage--compact.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcGreen)}.divFwcMessage.divFwcMessage--compact.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcRed)}.divFwcMessage.divFwcMessage--highlight[_ngcontent-%COMP%]{border-radius:3px;border:1px solid var(--fwcGrey)}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]{flex-direction:row;align-items:end}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%]{flex:0;margin-right:.7rem}.divFwcMessage.divFwcMessage--horizontal[_ngcontent-%COMP%]   .divFwcMessage-content[_ngcontent-%COMP%]{flex:1;text-align:left}.divFwcMessage.default[_ngcontent-%COMP%]{border:none}.divFwcMessage.info.bordered[_ngcontent-%COMP%]{background:var(--fwcPaleBlue2);border:1px solid var(--fwcBlue);border-top:2px solid var(--fwcBlue);border-radius:3px}.divFwcMessage.info[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%]{color:var(--fwcBlue)}.divFwcMessage.error.bordered[_ngcontent-%COMP%]{background:var(--fwcPaleRed2);border:1px solid var(--fwcPaleRed);border-top:2px solid var(--fwcPaleRed);border-radius:3px}.divFwcMessage.error[_ngcontent-%COMP%]   .divFwcMessage-icon[_ngcontent-%COMP%], .divFwcMessage.error[_ngcontent-%COMP%]   .divFwcMessage-content-footer-toggler[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--fwcRed)}"]})}}return i})();var dae=1e3,At=(()=>{class i{constructor(){this.dialogCounter=dae,this.searchShowDialogSubject=new Ae}createDialog(e,t,o){let r;return r=this.dialogCounter++,{dialogId:r,dialogIcon:t,dialogName:e,dialogUUID:o}}findDialog(e){let t;return Array.isArray(this.dialogPanels)&&(t=this.dialogPanels.find(o=>o.dialogId==e)),t}findDialogByUUID(e){let t;return Array.isArray(this.dialogPanels)&&(t=this.dialogPanels.find(o=>o.dialogUUID===e)),t}searchAndShowDialog(e){return e&&this.searchShowDialogSubject.next(e),this.searchShowDialogSubject.asObservable()}openDynamicDialog(e,t){let o=this.findDialogByUUID(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var JC=(()=>{class i{constructor(){this.hints=[],this.subjectHint=new Ae}registerHint(e){this.hints.push(e)}showRegisteredHint(e,t,o){let r;for(let s=0;s<this.hints.length;s++)if(this.hints[s].id==e){r=this.hints[s];break}r&&(o?r.event=o:t&&(r.target=t),this.setHintToShow(r))}setHintToShow(e){this.subjectHint.next(e)}getHintToShow(){return this.subjectHint.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Pit=(()=>{class i{constructor(){this.subjectMessage=new Ae,this.subjectStaticMessage=new Ae}sprintf(e,...t){let o=0;return e.replace(/%s/g,function(){return t[o++]})}addNewText(e){this.subjectMessage.next(e)}getMessage(){return this.subjectMessage.asObservable()}addStaticMessage(e){this.subjectStaticMessage.next(e)}getStaticMessage(){return this.subjectStaticMessage.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var zs=(()=>{class i{constructor(){this.appRef=null}getAppRef(){return this.appRef}setAppRef(e){this.appRef=e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Pk=(()=>{class i{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=rt(this.platformId)}static getCookieRegExp(e){let t=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),i.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);let o=i.getCookieRegExp(e).exec(this.document.cookie);return o[1]?i.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},t=this.document;return t.cookie&&t.cookie!==""&&t.cookie.split(";").forEach(o=>{let[r,s]=o.split("=");e[i.safeDecodeURIComponent(r.replace(/^ /,""))]=i.safeDecodeURIComponent(s)}),e}set(e,t,o,r,s,a,l,c){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||r||s||a||l){let _={expires:o,path:r,domain:s,secure:a,sameSite:l||"Lax",partitioned:c};this.set(e,t,_);return}let u=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",g=o||{};if(g.expires)if(typeof g.expires=="number"){let _=new Date(new Date().getTime()+g.expires*1e3*60*60*24);u+="expires="+_.toUTCString()+";"}else u+="expires="+g.expires.toUTCString()+";";g.path&&(u+="path="+g.path+";"),g.domain&&(u+="domain="+g.domain+";"),g.secure===!1&&g.sameSite==="None"&&(g.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),g.secure&&(u+="secure;"),g.sameSite||(g.sameSite="Lax"),u+="sameSite="+g.sameSite+";",g.partitioned&&(u+="Partitioned;"),this.document.cookie=u}delete(e,t,o,r,s="Lax"){if(!this.documentIsAccessible)return;let a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:a,path:t,domain:o,secure:r,sameSite:s})}deleteAll(e,t,o,r="Lax"){if(!this.documentIsAccessible)return;let s=this.getAll();for(let a in s)s.hasOwnProperty(a)&&this.delete(a,e,t,o,r)}static{this.\u0275fac=function(t){return new(t||i)(ie(ct),ie(Lt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Jr=(()=>{class i{constructor(e){this.cookieService=e}initializeAuth(){this.isLogged()||this.resetData()}resetData(){this.cookieService.delete(Di.API_COOKIE),localStorage.removeItem(Di.LS_CUSTOMER_ID),localStorage.removeItem(Di.LS_USER_ID),localStorage.removeItem(Di.LS_USER_NAME),localStorage.removeItem(Di.LS_USER_ROLE),localStorage.removeItem(Di.LS_TOKEN),localStorage.removeItem(Di.LS_CLOUD_ID),localStorage.removeItem(Di.LS_CLOUD_NAME),localStorage.removeItem(Di.LS_PUBLIC_KEY),localStorage.removeItem(Di.LS_PRIVATE_KEY)}login(e,t,o,r,s,a,l){let c=this.cookieService.get(Di.API_COOKIE)||"";localStorage.setItem(Di.LS_TOKEN,c),localStorage.setItem(Di.LS_CUSTOMER_ID,e.toString()),localStorage.setItem(Di.LS_USER_ID,t.toString()),localStorage.setItem(Di.LS_USER_NAME,o),localStorage.setItem(Di.LS_USER_ROLE,r.toString()),localStorage.setItem(Di.LS_PUBLIC_KEY,a),localStorage.setItem(Di.LS_PRIVATE_KEY,l),localStorage.setItem(Di.LS_LANGUAGE,s)}logout(){this.resetData()}isLogged(){let e=!1,t=this.cookieService.get(Di.API_COOKIE),o=localStorage.getItem(Di.LS_TOKEN);return t&&o&&t.length&&o.length&&t===o&&localStorage.getItem(Di.LS_CUSTOMER_ID)&&localStorage.getItem(Di.LS_USER_ID)&&(e=!0),e}getLoggedUser(){let e;return e={customer_id:+localStorage.getItem(Di.LS_CUSTOMER_ID)||null,user_id:+localStorage.getItem(Di.LS_USER_ID)||null,user_name:localStorage.getItem(Di.LS_USER_NAME)||null,role:+localStorage.getItem(Di.LS_USER_ROLE)||null,cloud_id:+localStorage.getItem(Di.LS_CLOUD_ID)||null,cloud_name:localStorage.getItem(Di.LS_CLOUD_NAME)||null,language:localStorage.getItem(Di.LS_LANGUAGE),publicKey:localStorage.getItem(Di.LS_PUBLIC_KEY),privateKey:localStorage.getItem(Di.LS_PRIVATE_KEY)},e}getLanguage(){return localStorage.getItem(Di.LS_LANGUAGE)}setSelectedFwCloud(e,t){localStorage.setItem(Di.LS_CLOUD_ID,e.toString()),localStorage.setItem(Di.LS_CLOUD_NAME,t)}setAppUnderMaintenance(e){this.appUnderMaintenance=e}getAppUnderMaintenance(){return this.appUnderMaintenance}static{this.\u0275fac=function(t){return new(t||i)(ie(Pk))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var jit=(()=>{class i{constructor(e,t){this.fwcAuthService=e,this._router=t}canActivate(){return this.fwcAuthService.isLogged()?!0:(this._router.navigate(["/user/login"]),!1)}static{this.\u0275fac=function(t){return new(t||i)(ie(Jr),ie(et))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Ii=(()=>{class i{get endpoint(){return this._endpoint}set endpoint(e){this._endpoint=e}constructor(e){this.httpClient=e}handleAPIResponse(e){let t;return t={data:e||{}},t}handleAPIResponseNew(e){let t;return t=e,t}handleAPIError(e){let t,o;if(!e)return os(null);if(e.error&&e.error.isJoi){let r="";if(Array.isArray(e.error.details))for(let s=0;s<e.error.details.length;s++)r=r.length?", ":""+e.error.details[s].message;else r="UNKNOWN ERROR";o={fwcErr:999999,msg:r}}else e.error&&(e.error.fwcErr||e.status==403)?o=e.error:e.error?o={fwcErr:999999,msg:JSON.stringify(e.error)}:o=void 0;return t={status:e.status,data:e.error&&e.error.data?e.error.data:{},error:o},os(t)}handleAPIErrorNew(e){if(e&&e.error&&e.error.status!==void 0&&e.error.response!==void 0&&e.error.message!==void 0&&e.error.stack!==void 0){let t={status:e.status,data:e.error.response,error:e.error.message,errors:e.error.errors};return os(t)}else{let t,o,r;if(e.error&&(e.error.fwcErr||e.status==403))t=e.error,r="CONFIRMATION_TOKEN",o=e.status;else{o=500,r="UNKNOWN_ERROR_FORMAT";try{t=JSON.stringify(e.error)}catch{t="Unparseable error"}}return os({status:o,data:r,error:t})}}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ZC=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/backups`}getBackups(){let e=this.endpoint;return this.httpClient.get(e).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}doBackup(e,t){let o=`${this.endpoint}?channel_id=${e}`;return this.httpClient.post(o,t).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}restoreBackup(e,t){let o=`${this.endpoint}/${t}/restore?channel_id=${e}`;return this.httpClient.post(o,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}deleteBackup(e){let t=`${this.endpoint}/${e}`;return this.httpClient.delete(t).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}exportBackup(e){let t=`${this.endpoint}/${e}/export`;return this.httpClient.get(t,{observe:"response",responseType:"blob"}).pipe($(this.handleAPIError))}importBackup(e){let t=`${this.endpoint}/import`;return this.httpClient.post(t,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}getBackupConfig(){let e=this.endpoint+"/config";return this.httpClient.get(e).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}saveBackupConfig(e){let t=this.endpoint+"/config";return this.httpClient.put(t,e).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Xit=(()=>{class i{constructor(e,t){this.fwcAuthService=e,this._router=t}canActivate(){return this.fwcAuthService.getAppUnderMaintenance()?!0:(this._router.navigate(["/user/login"]),!1)}static{this.\u0275fac=function(t){return new(t||i)(ie(Jr),ie(et))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Xr=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=de.settings.fwcAppURL+"/fwcloud"}getClouds(){let e=`${this.endpoint}/all/get`;return this.httpClient.get(e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCloud(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newCloud(e){let t=de.settings.fwcAppURL+"/fwclouds";return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateCloud(e){let t=de.settings.fwcAppURL+"/fwclouds/"+e.fwcloud,o=Object.assign({},e);return delete o.fwcloud,this.httpClient.put(t,JSON.stringify(o)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteCloud(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}generateWindowsInstaller(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/openvpns/${o}/installer`,a={connection_name:r};return this.httpClient.post(s,JSON.stringify(a),{observe:"response",responseType:"blob"}).pipe($(this.handleAPIError))}exportCloud(e){let t=`${de.settings.fwcAppURL}/fwclouds/${e}/export`,o=new qo;return o=o.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(t,{},{headers:o,observe:"response",responseType:"blob"}).pipe($(this.handleAPIError))}importCloud(e){let t=`${de.settings.fwcAppURL}/fwclouds/import`,o=new qo;return o=o.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(t,e,{headers:o}).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCloudColors(e){let t=`${de.settings.fwcAppURL}/fwclouds/${e}/colors`;return this.httpClient.get(t).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var ot=(()=>{class i extends Ii{constructor(e,t){super(e),this.httpClient=e,this.fwcAuthService=t,this.subjectReloadFWCloud=new Ae,this.headerOptions=null,this.endpoint=`${de.settings.fwcAppURL}/user`;let o=this.fwcAuthService.getLoggedUser();this.fwcUser=new an({user_id:o.user_id,customer_id:o.customer_id,user_name:o.user_name,role:o.role,selectedFwCloud:o.cloud_id,selectedFwCloudName:o.cloud_name,selectedLanguage:o.language||"en",showStandardObjects:1,showCloudObjects:1,authToken:"",confirmationToken:"",publicKey:o.publicKey,privateKey:o.privateKey,withCredentials:!0}),this.fwcUser$=this.fwcUser.asObservable()}getFwcUser(){return this.fwcUser$}getActualFwcUser(){return this.fwcUser.getValue()}getActualFwSelectedCloud(){return this.fwcUser.getValue().selectedFwCloud}setFwcUser(e){this.fwcUser.next(e)}setUserId(e){let t=this.fwcUser.getValue();t.user_id=e,this.fwcUser.next(t)}setCustomerId(e){let t=this.fwcUser.getValue();t.customer_id=e,this.fwcUser.next(t)}setUsername(e){let t=this.fwcUser.getValue();t.user_name=e,this.fwcUser.next(t)}setUserRole(e){let t=this.fwcUser.getValue();t.role=e,this.fwcUser.next(t)}setPublicKey(e){let t=this.fwcUser.getValue();t.publicKey=e,this.fwcUser.next(t)}setPrivateKey(e){let t=this.fwcUser.getValue();t.privateKey=e,this.fwcUser.next(t)}setUserCustomerId(e,t){let o=this.fwcUser.getValue();o.user_id=e,o.customer_id=t,this.fwcUser.next(o)}setSelectedFwCloud(e,t){let o=this.fwcUser.getValue();o.selectedFwCloud=e,o.selectedFwCloudName=t,this.fwcUser.next(o)}setLanguage(e){let t=this.fwcUser.getValue();t.selectedLanguage=e,this.fwcUser.next(t)}setAuthToken(e){let t=this.fwcUser.getValue();t.authToken=e,this.fwcUser.next(t)}setConfirmationToken(e){let t=this.fwcUser.getValue();t.confirmationToken=e,this.fwcUser.next(t)}setWithCredentials(e){let t=this.fwcUser.getValue();t.withCredentials=e,this.fwcUser.next(t)}setAlreadyCheckedForUpdates(e){let t=this.fwcUser.getValue();t.alreadyCheckedForUpdates=e}setAppVersions(e){let t=this.fwcUser.getValue();t.appVersions=e}set2FA(e){let t=this.fwcUser.getValue();t.tfa=e}logUser(e){let t=`${this.endpoint}/login`;return e.authCode!=""&&(this.headerOptions=new qo({"x-tfa":e.authCode})),this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}setupAuth(e){let t=`${de.settings.fwcAppURL}/profile/tfa/setup`,o={user:e.id,username:e.username};return this.httpClient.post(t,JSON.stringify(o)).pipe($(this.handleAPIError))}verifyAuth(e){let t=`${de.settings.fwcAppURL}/profile/tfa/verify`,o={tempSecret:e.tempSecret,authCode:e.authCode};return this.httpClient.post(t,JSON.stringify(o)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getAuth(){let e=`${de.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.get(e).pipe($(this.handleAPIError))}deleteAuth(){let e=`${de.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.delete(e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}logoutUser(){let e=`${this.endpoint}/logout`;return this.httpClient.post(e,{}).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getUser(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteUser(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newUser(e){let t=this.endpoint;return this.httpClient.post(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateUser(e){let t=this.endpoint;return this.httpClient.put(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getUserClouds(e){let t=`${this.endpoint}/fwcloud/get`,o={user:e};return this.httpClient.put(t,o).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}removeUserCloud(e,t){let o=`${this.endpoint}/fwcloud/del`,r={user:e,fwcloud:t};return this.httpClient.put(o,r).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}addUserCloud(e,t){let o=`${this.endpoint}/fwcloud`,r={user:e,fwcloud:t};return this.httpClient.post(o,r).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateUserPassword(e){let t=`${this.endpoint}/changepass`,o={password:e};return this.httpClient.put(t,o).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkUserRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}reloadSelectedFWCloud(){return this.subjectReloadFWCloud.next(!0),this.subjectReloadFWCloud.asObservable()}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(Jr))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var hae=typeof global=="object"&&global&&global.Object===Object&&global,eI=hae;var fae=typeof self=="object"&&self&&self.Object===Object&&self,mae=eI||fae||Function("return this")(),Ro=mae;var gae=Ro.Symbol,Nr=gae;var Fk=Object.prototype,_ae=Fk.hasOwnProperty,Cae=Fk.toString,Im=Nr?Nr.toStringTag:void 0;function Iae(i){var n=_ae.call(i,Im),e=i[Im];try{i[Im]=void 0;var t=!0}catch{}var o=Cae.call(i);return t&&(n?i[Im]=e:delete i[Im]),o}var Lk=Iae;var vae=Object.prototype,bae=vae.toString;function yae(i){return bae.call(i)}var Mk=yae;var wae="[object Null]",Sae="[object Undefined]",kk=Nr?Nr.toStringTag:void 0;function Aae(i){return i==null?i===void 0?Sae:wae:kk&&kk in Object(i)?Lk(i):Mk(i)}var _a=Aae;function xae(i){return i!=null&&typeof i=="object"}var Vr=xae;var Eae="[object Symbol]";function Tae(i){return typeof i=="symbol"||Vr(i)&&_a(i)==Eae}var Fl=Tae;function Oae(i,n){for(var e=-1,t=i==null?0:i.length,o=Array(t);++e<t;)o[e]=n(i[e],e,i);return o}var Hp=Oae;var Rae=Array.isArray,$n=Rae;var Dae=1/0,Nk=Nr?Nr.prototype:void 0,Vk=Nk?Nk.toString:void 0;function Bk(i){if(typeof i=="string")return i;if($n(i))return Hp(i,Bk)+"";if(Fl(i))return Vk?Vk.call(i):"";var n=i+"";return n=="0"&&1/i==-Dae?"-0":n}var Uk=Bk;function Pae(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}var Ws=Pae;function Fae(i){return i}var tI=Fae;var Lae="[object AsyncFunction]",Mae="[object Function]",kae="[object GeneratorFunction]",Nae="[object Proxy]";function Vae(i){if(!Ws(i))return!1;var n=_a(i);return n==Mae||n==kae||n==Lae||n==Nae}var iI=Vae;var Bae=Ro["__core-js_shared__"],nI=Bae;var jk=function(){var i=/[^.]+$/.exec(nI&&nI.keys&&nI.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function Uae(i){return!!jk&&jk in i}var Hk=Uae;var jae=Function.prototype,Hae=jae.toString;function Gae(i){if(i!=null){try{return Hae.call(i)}catch{}try{return i+""}catch{}}return""}var Ll=Gae;var zae=/[\\^$.*+?()[\]{}|]/g,Wae=/^\[object .+?Constructor\]$/,$ae=Function.prototype,Kae=Object.prototype,qae=$ae.toString,Yae=Kae.hasOwnProperty,Jae=RegExp("^"+qae.call(Yae).replace(zae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xae(i){if(!Ws(i)||Hk(i))return!1;var n=iI(i)?Jae:Wae;return n.test(Ll(i))}var Gk=Xae;function Qae(i,n){return i?.[n]}var zk=Qae;function Zae(i,n){var e=zk(i,n);return Gk(e)?e:void 0}var Qr=Zae;var ele=Qr(Ro,"WeakMap"),oI=ele;var Wk=Object.create,tle=function(){function i(){}return function(n){if(!Ws(n))return{};if(Wk)return Wk(n);i.prototype=n;var e=new i;return i.prototype=void 0,e}}(),$k=tle;function ile(i,n){var e=-1,t=i.length;for(n||(n=Array(t));++e<t;)n[e]=i[e];return n}var Kk=ile;var nle=function(){try{var i=Qr(Object,"defineProperty");return i({},"",{}),i}catch{}}(),JA=nle;function ole(i,n){for(var e=-1,t=i==null?0:i.length;++e<t&&n(i[e],e,i)!==!1;);return i}var qk=ole;var rle=9007199254740991,sle=/^(?:0|[1-9]\d*)$/;function ale(i,n){var e=typeof i;return n=n??rle,!!n&&(e=="number"||e!="symbol"&&sle.test(i))&&i>-1&&i%1==0&&i<n}var rI=ale;function lle(i,n,e){n=="__proto__"&&JA?JA(i,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[n]=e}var sI=lle;function cle(i,n){return i===n||i!==i&&n!==n}var Gp=cle;var dle=Object.prototype,ule=dle.hasOwnProperty;function ple(i,n,e){var t=i[n];(!(ule.call(i,n)&&Gp(t,e))||e===void 0&&!(n in i))&&sI(i,n,e)}var aI=ple;function hle(i,n,e,t){var o=!e;e||(e={});for(var r=-1,s=n.length;++r<s;){var a=n[r],l=t?t(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),o?sI(e,a,l):aI(e,a,l)}return e}var Nc=hle;var fle=9007199254740991;function mle(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=fle}var zp=mle;function gle(i){return i!=null&&zp(i.length)&&!iI(i)}var Vc=gle;var _le=Object.prototype;function Cle(i){var n=i&&i.constructor,e=typeof n=="function"&&n.prototype||_le;return i===e}var Wp=Cle;function Ile(i,n){for(var e=-1,t=Array(i);++e<i;)t[e]=n(e);return t}var Yk=Ile;var vle="[object Arguments]";function ble(i){return Vr(i)&&_a(i)==vle}var XA=ble;var Jk=Object.prototype,yle=Jk.hasOwnProperty,wle=Jk.propertyIsEnumerable,Sle=XA(function(){return arguments}())?XA:function(i){return Vr(i)&&yle.call(i,"callee")&&!wle.call(i,"callee")},lI=Sle;function Ale(){return!1}var Xk=Ale;var eN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qk=eN&&typeof module=="object"&&module&&!module.nodeType&&module,xle=Qk&&Qk.exports===eN,Zk=xle?Ro.Buffer:void 0,Ele=Zk?Zk.isBuffer:void 0,Tle=Ele||Xk,nu=Tle;var Ole="[object Arguments]",Rle="[object Array]",Dle="[object Boolean]",Ple="[object Date]",Fle="[object Error]",Lle="[object Function]",Mle="[object Map]",kle="[object Number]",Nle="[object Object]",Vle="[object RegExp]",Ble="[object Set]",Ule="[object String]",jle="[object WeakMap]",Hle="[object ArrayBuffer]",Gle="[object DataView]",zle="[object Float32Array]",Wle="[object Float64Array]",$le="[object Int8Array]",Kle="[object Int16Array]",qle="[object Int32Array]",Yle="[object Uint8Array]",Jle="[object Uint8ClampedArray]",Xle="[object Uint16Array]",Qle="[object Uint32Array]",Bn={};Bn[zle]=Bn[Wle]=Bn[$le]=Bn[Kle]=Bn[qle]=Bn[Yle]=Bn[Jle]=Bn[Xle]=Bn[Qle]=!0;Bn[Ole]=Bn[Rle]=Bn[Hle]=Bn[Dle]=Bn[Gle]=Bn[Ple]=Bn[Fle]=Bn[Lle]=Bn[Mle]=Bn[kle]=Bn[Nle]=Bn[Vle]=Bn[Ble]=Bn[Ule]=Bn[jle]=!1;function Zle(i){return Vr(i)&&zp(i.length)&&!!Bn[_a(i)]}var tN=Zle;function ece(i){return function(n){return i(n)}}var Bc=ece;var iN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vm=iN&&typeof module=="object"&&module&&!module.nodeType&&module,tce=vm&&vm.exports===iN,QA=tce&&eI.process,ice=function(){try{var i=vm&&vm.require&&vm.require("util").types;return i||QA&&QA.binding&&QA.binding("util")}catch{}}(),Ml=ice;var nN=Ml&&Ml.isTypedArray,nce=nN?Bc(nN):tN,cI=nce;var oce=Object.prototype,rce=oce.hasOwnProperty;function sce(i,n){var e=$n(i),t=!e&&lI(i),o=!e&&!t&&nu(i),r=!e&&!t&&!o&&cI(i),s=e||t||o||r,a=s?Yk(i.length,String):[],l=a.length;for(var c in i)(n||rce.call(i,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rI(c,l)))&&a.push(c);return a}var dI=sce;function ace(i,n){return function(e){return i(n(e))}}var uI=ace;var lce=uI(Object.keys,Object),oN=lce;var cce=Object.prototype,dce=cce.hasOwnProperty;function uce(i){if(!Wp(i))return oN(i);var n=[];for(var e in Object(i))dce.call(i,e)&&e!="constructor"&&n.push(e);return n}var rN=uce;function pce(i){return Vc(i)?dI(i):rN(i)}var Xa=pce;function hce(i){var n=[];if(i!=null)for(var e in Object(i))n.push(e);return n}var sN=hce;var fce=Object.prototype,mce=fce.hasOwnProperty;function gce(i){if(!Ws(i))return sN(i);var n=Wp(i),e=[];for(var t in i)t=="constructor"&&(n||!mce.call(i,t))||e.push(t);return e}var aN=gce;function _ce(i){return Vc(i)?dI(i,!0):aN(i)}var $p=_ce;var Cce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ice=/^\w*$/;function vce(i,n){if($n(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||Fl(i)?!0:Ice.test(i)||!Cce.test(i)||n!=null&&i in Object(n)}var Kp=vce;var bce=Qr(Object,"create"),kl=bce;function yce(){this.__data__=kl?kl(null):{},this.size=0}var lN=yce;function wce(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}var cN=wce;var Sce="__lodash_hash_undefined__",Ace=Object.prototype,xce=Ace.hasOwnProperty;function Ece(i){var n=this.__data__;if(kl){var e=n[i];return e===Sce?void 0:e}return xce.call(n,i)?n[i]:void 0}var dN=Ece;var Tce=Object.prototype,Oce=Tce.hasOwnProperty;function Rce(i){var n=this.__data__;return kl?n[i]!==void 0:Oce.call(n,i)}var uN=Rce;var Dce="__lodash_hash_undefined__";function Pce(i,n){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=kl&&n===void 0?Dce:n,this}var pN=Pce;function qp(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}qp.prototype.clear=lN;qp.prototype.delete=cN;qp.prototype.get=dN;qp.prototype.has=uN;qp.prototype.set=pN;var ZA=qp;function Fce(){this.__data__=[],this.size=0}var hN=Fce;function Lce(i,n){for(var e=i.length;e--;)if(Gp(i[e][0],n))return e;return-1}var Uc=Lce;var Mce=Array.prototype,kce=Mce.splice;function Nce(i){var n=this.__data__,e=Uc(n,i);if(e<0)return!1;var t=n.length-1;return e==t?n.pop():kce.call(n,e,1),--this.size,!0}var fN=Nce;function Vce(i){var n=this.__data__,e=Uc(n,i);return e<0?void 0:n[e][1]}var mN=Vce;function Bce(i){return Uc(this.__data__,i)>-1}var gN=Bce;function Uce(i,n){var e=this.__data__,t=Uc(e,i);return t<0?(++this.size,e.push([i,n])):e[t][1]=n,this}var _N=Uce;function Yp(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}Yp.prototype.clear=hN;Yp.prototype.delete=fN;Yp.prototype.get=mN;Yp.prototype.has=gN;Yp.prototype.set=_N;var jc=Yp;var jce=Qr(Ro,"Map"),Hc=jce;function Hce(){this.size=0,this.__data__={hash:new ZA,map:new(Hc||jc),string:new ZA}}var CN=Hce;function Gce(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}var IN=Gce;function zce(i,n){var e=i.__data__;return IN(n)?e[typeof n=="string"?"string":"hash"]:e.map}var Gc=zce;function Wce(i){var n=Gc(this,i).delete(i);return this.size-=n?1:0,n}var vN=Wce;function $ce(i){return Gc(this,i).get(i)}var bN=$ce;function Kce(i){return Gc(this,i).has(i)}var yN=Kce;function qce(i,n){var e=Gc(this,i),t=e.size;return e.set(i,n),this.size+=e.size==t?0:1,this}var wN=qce;function Jp(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}Jp.prototype.clear=CN;Jp.prototype.delete=vN;Jp.prototype.get=bN;Jp.prototype.has=yN;Jp.prototype.set=wN;var ou=Jp;var Yce="Expected a function";function ex(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(Yce);var e=function(){var t=arguments,o=n?n.apply(this,t):t[0],r=e.cache;if(r.has(o))return r.get(o);var s=i.apply(this,t);return e.cache=r.set(o,s)||r,s};return e.cache=new(ex.Cache||ou),e}ex.Cache=ou;var SN=ex;var Jce=500;function Xce(i){var n=SN(i,function(t){return e.size===Jce&&e.clear(),t}),e=n.cache;return n}var AN=Xce;var Qce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zce=/\\(\\)?/g,ede=AN(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(Qce,function(e,t,o,r){n.push(o?r.replace(Zce,"$1"):t||e)}),n}),xN=ede;function tde(i){return i==null?"":Uk(i)}var EN=tde;function ide(i,n){return $n(i)?i:Kp(i,n)?[i]:xN(EN(i))}var pI=ide;var nde=1/0;function ode(i){if(typeof i=="string"||Fl(i))return i;var n=i+"";return n=="0"&&1/i==-nde?"-0":n}var zc=ode;function rde(i,n){n=pI(n,i);for(var e=0,t=n.length;i!=null&&e<t;)i=i[zc(n[e++])];return e&&e==t?i:void 0}var Xp=rde;function sde(i,n,e){var t=i==null?void 0:Xp(i,n);return t===void 0?e:t}var TN=sde;function ade(i,n){for(var e=-1,t=n.length,o=i.length;++e<t;)i[o+e]=n[e];return i}var hI=ade;var lde=uI(Object.getPrototypeOf,Object),fI=lde;function cde(){this.__data__=new jc,this.size=0}var ON=cde;function dde(i){var n=this.__data__,e=n.delete(i);return this.size=n.size,e}var RN=dde;function ude(i){return this.__data__.get(i)}var DN=ude;function pde(i){return this.__data__.has(i)}var PN=pde;var hde=200;function fde(i,n){var e=this.__data__;if(e instanceof jc){var t=e.__data__;if(!Hc||t.length<hde-1)return t.push([i,n]),this.size=++e.size,this;e=this.__data__=new ou(t)}return e.set(i,n),this.size=e.size,this}var FN=fde;function Qp(i){var n=this.__data__=new jc(i);this.size=n.size}Qp.prototype.clear=ON;Qp.prototype.delete=RN;Qp.prototype.get=DN;Qp.prototype.has=PN;Qp.prototype.set=FN;var Wc=Qp;function mde(i,n){return i&&Nc(n,Xa(n),i)}var LN=mde;function gde(i,n){return i&&Nc(n,$p(n),i)}var MN=gde;var BN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,kN=BN&&typeof module=="object"&&module&&!module.nodeType&&module,_de=kN&&kN.exports===BN,NN=_de?Ro.Buffer:void 0,VN=NN?NN.allocUnsafe:void 0;function Cde(i,n){if(n)return i.slice();var e=i.length,t=VN?VN(e):new i.constructor(e);return i.copy(t),t}var UN=Cde;function Ide(i,n){for(var e=-1,t=i==null?0:i.length,o=0,r=[];++e<t;){var s=i[e];n(s,e,i)&&(r[o++]=s)}return r}var jN=Ide;function vde(){return[]}var mI=vde;var bde=Object.prototype,yde=bde.propertyIsEnumerable,HN=Object.getOwnPropertySymbols,wde=HN?function(i){return i==null?[]:(i=Object(i),jN(HN(i),function(n){return yde.call(i,n)}))}:mI,Zp=wde;function Sde(i,n){return Nc(i,Zp(i),n)}var GN=Sde;var Ade=Object.getOwnPropertySymbols,xde=Ade?function(i){for(var n=[];i;)hI(n,Zp(i)),i=fI(i);return n}:mI,gI=xde;function Ede(i,n){return Nc(i,gI(i),n)}var zN=Ede;function Tde(i,n,e){var t=n(i);return $n(i)?t:hI(t,e(i))}var _I=Tde;function Ode(i){return _I(i,Xa,Zp)}var bm=Ode;function Rde(i){return _I(i,$p,gI)}var WN=Rde;var Dde=Qr(Ro,"DataView"),CI=Dde;var Pde=Qr(Ro,"Promise"),II=Pde;var Fde=Qr(Ro,"Set"),vI=Fde;var $N="[object Map]",Lde="[object Object]",KN="[object Promise]",qN="[object Set]",YN="[object WeakMap]",JN="[object DataView]",Mde=Ll(CI),kde=Ll(Hc),Nde=Ll(II),Vde=Ll(vI),Bde=Ll(oI),ru=_a;(CI&&ru(new CI(new ArrayBuffer(1)))!=JN||Hc&&ru(new Hc)!=$N||II&&ru(II.resolve())!=KN||vI&&ru(new vI)!=qN||oI&&ru(new oI)!=YN)&&(ru=function(i){var n=_a(i),e=n==Lde?i.constructor:void 0,t=e?Ll(e):"";if(t)switch(t){case Mde:return JN;case kde:return $N;case Nde:return KN;case Vde:return qN;case Bde:return YN}return n});var Nl=ru;var Ude=Object.prototype,jde=Ude.hasOwnProperty;function Hde(i){var n=i.length,e=new i.constructor(n);return n&&typeof i[0]=="string"&&jde.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var XN=Hde;var Gde=Ro.Uint8Array,eh=Gde;function zde(i){var n=new i.constructor(i.byteLength);return new eh(n).set(new eh(i)),n}var th=zde;function Wde(i,n){var e=n?th(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var QN=Wde;var $de=/\w*$/;function Kde(i){var n=new i.constructor(i.source,$de.exec(i));return n.lastIndex=i.lastIndex,n}var ZN=Kde;var e3=Nr?Nr.prototype:void 0,t3=e3?e3.valueOf:void 0;function qde(i){return t3?Object(t3.call(i)):{}}var i3=qde;function Yde(i,n){var e=n?th(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var n3=Yde;var Jde="[object Boolean]",Xde="[object Date]",Qde="[object Map]",Zde="[object Number]",eue="[object RegExp]",tue="[object Set]",iue="[object String]",nue="[object Symbol]",oue="[object ArrayBuffer]",rue="[object DataView]",sue="[object Float32Array]",aue="[object Float64Array]",lue="[object Int8Array]",cue="[object Int16Array]",due="[object Int32Array]",uue="[object Uint8Array]",pue="[object Uint8ClampedArray]",hue="[object Uint16Array]",fue="[object Uint32Array]";function mue(i,n,e){var t=i.constructor;switch(n){case oue:return th(i);case Jde:case Xde:return new t(+i);case rue:return QN(i,e);case sue:case aue:case lue:case cue:case due:case uue:case pue:case hue:case fue:return n3(i,e);case Qde:return new t;case Zde:case iue:return new t(i);case eue:return ZN(i);case tue:return new t;case nue:return i3(i)}}var o3=mue;function gue(i){return typeof i.constructor=="function"&&!Wp(i)?$k(fI(i)):{}}var r3=gue;var _ue="[object Map]";function Cue(i){return Vr(i)&&Nl(i)==_ue}var s3=Cue;var a3=Ml&&Ml.isMap,Iue=a3?Bc(a3):s3,l3=Iue;var vue="[object Set]";function bue(i){return Vr(i)&&Nl(i)==vue}var c3=bue;var d3=Ml&&Ml.isSet,yue=d3?Bc(d3):c3,u3=yue;var wue=1,Sue=2,Aue=4,p3="[object Arguments]",xue="[object Array]",Eue="[object Boolean]",Tue="[object Date]",Oue="[object Error]",h3="[object Function]",Rue="[object GeneratorFunction]",Due="[object Map]",Pue="[object Number]",f3="[object Object]",Fue="[object RegExp]",Lue="[object Set]",Mue="[object String]",kue="[object Symbol]",Nue="[object WeakMap]",Vue="[object ArrayBuffer]",Bue="[object DataView]",Uue="[object Float32Array]",jue="[object Float64Array]",Hue="[object Int8Array]",Gue="[object Int16Array]",zue="[object Int32Array]",Wue="[object Uint8Array]",$ue="[object Uint8ClampedArray]",Kue="[object Uint16Array]",que="[object Uint32Array]",Dn={};Dn[p3]=Dn[xue]=Dn[Vue]=Dn[Bue]=Dn[Eue]=Dn[Tue]=Dn[Uue]=Dn[jue]=Dn[Hue]=Dn[Gue]=Dn[zue]=Dn[Due]=Dn[Pue]=Dn[f3]=Dn[Fue]=Dn[Lue]=Dn[Mue]=Dn[kue]=Dn[Wue]=Dn[$ue]=Dn[Kue]=Dn[que]=!0;Dn[Oue]=Dn[h3]=Dn[Nue]=!1;function bI(i,n,e,t,o,r){var s,a=n&wue,l=n&Sue,c=n&Aue;if(e&&(s=o?e(i,t,o,r):e(i)),s!==void 0)return s;if(!Ws(i))return i;var u=$n(i);if(u){if(s=XN(i),!a)return Kk(i,s)}else{var g=Nl(i),_=g==h3||g==Rue;if(nu(i))return UN(i,a);if(g==f3||g==p3||_&&!o){if(s=l||_?{}:r3(i),!a)return l?zN(i,MN(s,i)):GN(i,LN(s,i))}else{if(!Dn[g])return o?i:{};s=o3(i,g,a)}}r||(r=new Wc);var C=r.get(i);if(C)return C;r.set(i,s),u3(i)?i.forEach(function(A){s.add(bI(A,n,e,A,i,r))}):l3(i)&&i.forEach(function(A,x){s.set(x,bI(A,n,e,x,i,r))});var w=c?l?WN:bm:l?$p:Xa,S=u?void 0:w(i);return qk(S||i,function(A,x){S&&(x=A,A=i[x]),aI(s,x,bI(A,n,e,x,i,r))}),s}var m3=bI;var Yue=1,Jue=4;function Xue(i){return m3(i,Yue|Jue)}var Jt=Xue;var Que="__lodash_hash_undefined__";function Zue(i){return this.__data__.set(i,Que),this}var g3=Zue;function epe(i){return this.__data__.has(i)}var _3=epe;function yI(i){var n=-1,e=i==null?0:i.length;for(this.__data__=new ou;++n<e;)this.add(i[n])}yI.prototype.add=yI.prototype.push=g3;yI.prototype.has=_3;var C3=yI;function tpe(i,n){for(var e=-1,t=i==null?0:i.length;++e<t;)if(n(i[e],e,i))return!0;return!1}var I3=tpe;function ipe(i,n){return i.has(n)}var v3=ipe;var npe=1,ope=2;function rpe(i,n,e,t,o,r){var s=e&npe,a=i.length,l=n.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(i),u=r.get(n);if(c&&u)return c==n&&u==i;var g=-1,_=!0,C=e&ope?new C3:void 0;for(r.set(i,n),r.set(n,i);++g<a;){var w=i[g],S=n[g];if(t)var A=s?t(S,w,g,n,i,r):t(w,S,g,i,n,r);if(A!==void 0){if(A)continue;_=!1;break}if(C){if(!I3(n,function(x,D){if(!v3(C,D)&&(w===x||o(w,x,e,t,r)))return C.push(D)})){_=!1;break}}else if(!(w===S||o(w,S,e,t,r))){_=!1;break}}return r.delete(i),r.delete(n),_}var wI=rpe;function spe(i){var n=-1,e=Array(i.size);return i.forEach(function(t,o){e[++n]=[o,t]}),e}var b3=spe;function ape(i){var n=-1,e=Array(i.size);return i.forEach(function(t){e[++n]=t}),e}var y3=ape;var lpe=1,cpe=2,dpe="[object Boolean]",upe="[object Date]",ppe="[object Error]",hpe="[object Map]",fpe="[object Number]",mpe="[object RegExp]",gpe="[object Set]",_pe="[object String]",Cpe="[object Symbol]",Ipe="[object ArrayBuffer]",vpe="[object DataView]",w3=Nr?Nr.prototype:void 0,tx=w3?w3.valueOf:void 0;function bpe(i,n,e,t,o,r,s){switch(e){case vpe:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case Ipe:return!(i.byteLength!=n.byteLength||!r(new eh(i),new eh(n)));case dpe:case upe:case fpe:return Gp(+i,+n);case ppe:return i.name==n.name&&i.message==n.message;case mpe:case _pe:return i==n+"";case hpe:var a=b3;case gpe:var l=t&lpe;if(a||(a=y3),i.size!=n.size&&!l)return!1;var c=s.get(i);if(c)return c==n;t|=cpe,s.set(i,n);var u=wI(a(i),a(n),t,o,r,s);return s.delete(i),u;case Cpe:if(tx)return tx.call(i)==tx.call(n)}return!1}var S3=bpe;var ype=1,wpe=Object.prototype,Spe=wpe.hasOwnProperty;function Ape(i,n,e,t,o,r){var s=e&ype,a=bm(i),l=a.length,c=bm(n),u=c.length;if(l!=u&&!s)return!1;for(var g=l;g--;){var _=a[g];if(!(s?_ in n:Spe.call(n,_)))return!1}var C=r.get(i),w=r.get(n);if(C&&w)return C==n&&w==i;var S=!0;r.set(i,n),r.set(n,i);for(var A=s;++g<l;){_=a[g];var x=i[_],D=n[_];if(t)var V=s?t(D,x,_,n,i,r):t(x,D,_,i,n,r);if(!(V===void 0?x===D||o(x,D,e,t,r):V)){S=!1;break}A||(A=_=="constructor")}if(S&&!A){var X=i.constructor,ee=n.constructor;X!=ee&&"constructor"in i&&"constructor"in n&&!(typeof X=="function"&&X instanceof X&&typeof ee=="function"&&ee instanceof ee)&&(S=!1)}return r.delete(i),r.delete(n),S}var A3=Ape;var xpe=1,x3="[object Arguments]",E3="[object Array]",SI="[object Object]",Epe=Object.prototype,T3=Epe.hasOwnProperty;function Tpe(i,n,e,t,o,r){var s=$n(i),a=$n(n),l=s?E3:Nl(i),c=a?E3:Nl(n);l=l==x3?SI:l,c=c==x3?SI:c;var u=l==SI,g=c==SI,_=l==c;if(_&&nu(i)){if(!nu(n))return!1;s=!0,u=!1}if(_&&!u)return r||(r=new Wc),s||cI(i)?wI(i,n,e,t,o,r):S3(i,n,l,e,t,o,r);if(!(e&xpe)){var C=u&&T3.call(i,"__wrapped__"),w=g&&T3.call(n,"__wrapped__");if(C||w){var S=C?i.value():i,A=w?n.value():n;return r||(r=new Wc),o(S,A,e,t,r)}}return _?(r||(r=new Wc),A3(i,n,e,t,o,r)):!1}var O3=Tpe;function R3(i,n,e,t,o){return i===n?!0:i==null||n==null||!Vr(i)&&!Vr(n)?i!==i&&n!==n:O3(i,n,e,t,R3,o)}var AI=R3;var Ope=1,Rpe=2;function Dpe(i,n,e,t){var o=e.length,r=o,s=!t;if(i==null)return!r;for(i=Object(i);o--;){var a=e[o];if(s&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++o<r;){a=e[o];var l=a[0],c=i[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in i))return!1}else{var g=new Wc;if(t)var _=t(c,u,l,i,n,g);if(!(_===void 0?AI(u,c,Ope|Rpe,t,g):_))return!1}}return!0}var D3=Dpe;function Ppe(i){return i===i&&!Ws(i)}var xI=Ppe;function Fpe(i){for(var n=Xa(i),e=n.length;e--;){var t=n[e],o=i[t];n[e]=[t,o,xI(o)]}return n}var P3=Fpe;function Lpe(i,n){return function(e){return e==null?!1:e[i]===n&&(n!==void 0||i in Object(e))}}var EI=Lpe;function Mpe(i){var n=P3(i);return n.length==1&&n[0][2]?EI(n[0][0],n[0][1]):function(e){return e===i||D3(e,i,n)}}var F3=Mpe;function kpe(i,n){return i!=null&&n in Object(i)}var L3=kpe;function Npe(i,n,e){n=pI(n,i);for(var t=-1,o=n.length,r=!1;++t<o;){var s=zc(n[t]);if(!(r=i!=null&&e(i,s)))break;i=i[s]}return r||++t!=o?r:(o=i==null?0:i.length,!!o&&zp(o)&&rI(s,o)&&($n(i)||lI(i)))}var M3=Npe;function Vpe(i,n){return i!=null&&M3(i,n,L3)}var k3=Vpe;var Bpe=1,Upe=2;function jpe(i,n){return Kp(i)&&xI(n)?EI(zc(i),n):function(e){var t=TN(e,i);return t===void 0&&t===n?k3(e,i):AI(n,t,Bpe|Upe)}}var N3=jpe;function Hpe(i){return function(n){return n?.[i]}}var V3=Hpe;function Gpe(i){return function(n){return Xp(n,i)}}var B3=Gpe;function zpe(i){return Kp(i)?V3(zc(i)):B3(i)}var U3=zpe;function Wpe(i){return typeof i=="function"?i:i==null?tI:typeof i=="object"?$n(i)?N3(i[0],i[1]):F3(i):U3(i)}var j3=Wpe;function $pe(i){return function(n,e,t){for(var o=-1,r=Object(n),s=t(n),a=s.length;a--;){var l=s[i?a:++o];if(e(r[l],l,r)===!1)break}return n}}var H3=$pe;var Kpe=H3(),G3=Kpe;function qpe(i,n){return i&&G3(i,n,Xa)}var z3=qpe;function Ype(i,n){return function(e,t){if(e==null)return e;if(!Vc(e))return i(e,t);for(var o=e.length,r=n?o:-1,s=Object(e);(n?r--:++r<o)&&t(s[r],r,s)!==!1;);return e}}var W3=Ype;var Jpe=W3(z3),$3=Jpe;function Xpe(i,n){var e=-1,t=Vc(i)?Array(i.length):[];return $3(i,function(o,r,s){t[++e]=n(o,r,s)}),t}var K3=Xpe;function Qpe(i,n){var e=i.length;for(i.sort(n);e--;)i[e]=i[e].value;return i}var q3=Qpe;function Zpe(i,n){if(i!==n){var e=i!==void 0,t=i===null,o=i===i,r=Fl(i),s=n!==void 0,a=n===null,l=n===n,c=Fl(n);if(!a&&!c&&!r&&i>n||r&&s&&l&&!a&&!c||t&&s&&l||!e&&l||!o)return 1;if(!t&&!r&&!c&&i<n||c&&e&&o&&!t&&!r||a&&e&&o||!s&&o||!l)return-1}return 0}var Y3=Zpe;function ehe(i,n,e){for(var t=-1,o=i.criteria,r=n.criteria,s=o.length,a=e.length;++t<s;){var l=Y3(o[t],r[t]);if(l){if(t>=a)return l;var c=e[t];return l*(c=="desc"?-1:1)}}return i.index-n.index}var J3=ehe;function the(i,n,e){n.length?n=Hp(n,function(r){return $n(r)?function(s){return Xp(s,r.length===1?r[0]:r)}:r}):n=[tI];var t=-1;n=Hp(n,Bc(j3));var o=K3(i,function(r,s,a){var l=Hp(n,function(c){return c(r)});return{criteria:l,index:++t,value:r}});return q3(o,function(r,s){return J3(r,s,e)})}var X3=the;function ihe(i,n,e,t){return i==null?[]:($n(n)||(n=n==null?[]:[n]),e=t?void 0:e,$n(e)||(e=e==null?[]:[e]),X3(i,n,e))}var ix=ihe;var ih=(()=>{class i{constructor(e,t){this.fwcUserService=e,this.translate=t,this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={},this.alive=!0,this.buildMenus()}buildMenus(){this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={};let e={items:[]},t={items:[{id:N.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:N.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},o={items:[{id:N.DUPLICATE,text:this.translate.instant("CONTEXT.OBJECTS.DUPLICATE"),icon:"fwcMenuIcon fwci-copy fwcBlue",finalObject:!0,objectInGroup:!1},{id:N.EDIT,text:this.translate.instant("CONTEXT.OBJECTS.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:N.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,objectInGroup:!1,userObject:!0},{id:N.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},r={items:[{id:N.COMPILE_IPTABLES,text:this.translate.instant("CONTEXT.COMPILER.IPTABLES")},{id:N.COMPILE_NFTABLES,text:this.translate.instant("CONTEXT.COMPILER.NFTABLES")}]};this.menuSettingsTree.NO_MENU={items:[{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]},this.menuSettingsTree[B.OBJ_FIREWALL]=Jt(e),this.menuSettingsTree[B.OBJ_FIREWALL].items=this.menuSettingsTree[B.OBJ_FIREWALL].items.concat([{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),finalObject:!0,clusterNode:!0,visible:!1},{id:N.FIREWALL_EDIT,text:this.translate.instant("CONTEXT.FW.EDIT"),icon:"fwcMenuIcon fwci-editfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:N.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.FW.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:N.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.FW.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_DELETE,text:this.translate.instant("CONTEXT.FW.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_TO_CLUSTER,text:this.translate.instant("CONTEXT.FW.TO_CLUSTER"),icon:"fwcMenuIcon2 fwci2-firewall_to_cluster fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_CLONE,text:this.translate.instant("CONTEXT.FW.CLONE"),icon:"fwcMenuIcon2 fwci2-firewall_clone fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0,clusterNode:!1},{id:N.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0,clusterNode:!1}]),this.menuSettingsTree[B.POLICY_INPUT]={items:[{id:N.POLICY_LOAD,text:this.translate.instant("CONTEXT.POLICY.LOAD"),finalObject:!0,icon:"fwcMenuIcon fwci-loadpolicy fwcBlue"}]},this.menuSettingsTree[B.POLICY_OUTPUT]=this.menuSettingsTree[B.POLICY_FORWARD]=this.menuSettingsTree[B.POLICY_ROUTING]=this.menuSettingsTree[B.POLICY_SNAT]=this.menuSettingsTree[B.POLICY_DNAT]=this.menuSettingsTree[B.POLICY_INPUT]=this.menuSettingsTree[B.DHCP]=this.menuSettingsTree[B.DHCP_FIXED_IP]=this.menuSettingsTree[B.KEEPALIVED]=this.menuSettingsTree[B.HAPROXY],this.menuSettingsTree[B.POLICY_INPUT6]=this.menuSettingsTree[B.POLICY_OUTPUT6]=this.menuSettingsTree[B.POLICY_FORWARD6]=this.menuSettingsTree[B.POLICY_ROUTING6]=this.menuSettingsTree[B.POLICY_SNAT6]=this.menuSettingsTree[B.POLICY_DNAT6]=this.menuSettingsTree[B.POLICY_INPUT],this.menuSettingsTree[B.FOLDER_POLICY]=Jt(t),this.menuSettingsTree[B.FOLDER_POLICY6]=Jt(t),this.menuSettingsTree[B.FOLDER_NAT]=t,this.menuSettingsTree[B.FOLDER]=Jt(t),this.menuSettingsTree[B.FOLDER].items=this.menuSettingsTree[B.FOLDER].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.FOLDER_RENAME,text:this.translate.instant("CONTEXT.FD.RENAME"),icon:"fwcMenuIcon fwci2-renamefolder fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwcMenuIcon fwci-newfirewall fwcGreen"},{id:N.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:N.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwcMenuIcon fwci2-newfolder fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.FOLDER_DELETE,text:this.translate.instant("CONTEXT.FD.DELETE"),icon:"fwcMenuIcon fwci2-deletefolder fwcRed"}]),this.menuSettingsTree[B.FOLDER_FW]={items:[{id:N.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwci-newfirewall fwcGreen"},{id:N.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwci2-newcluster fwcGreen"},{id:N.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwci2-newfolder fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.FIREWALL_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwci-compileallfirewalls fwcBlue"},{id:N.FIREWALL_INSTALL_ALL,text:this.translate.instant("CONTEXT.FDF.INSTALL_ALL"),icon:"fwci-installallfirewalls fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.FIREWALL_IMPORT,text:this.translate.instant("CONTEXT.FDF.IMPORT"),icon:"fwci2-moveup fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:N.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:N.SEPARATOR,type:"separator"}].concat(t.items)},this.menuSettingsTree[B.FOLDER_CA]=Jt(t),this.menuSettingsTree[B.FOLDER_CA].items=this.menuSettingsTree[B.FOLDER_CA].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.CA_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FCA"),icon:"fwcMenuIcon2 fwci2-new-ca fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[B.OPENVPN_CA]=Jt(t),this.menuSettingsTree[B.OPENVPN_CA].items=this.menuSettingsTree[B.OPENVPN_CA].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_NEW_PREFIX,text:this.translate.instant("CONTEXT.NEW_OBJ.PRE"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-new fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_VIEW,text:this.translate.instant("CONTEXT.FCA.VIEW"),icon:"fwcTreeIcon fwci2-ca fwcBlue",finalObject:!0},{id:N.CA_EDIT,text:this.translate.instant("CONTEXT.FCA.EDIT"),icon:"fwcMenuIcon2 fwci2-edit-ca fwcBlue",finalObject:!0},{id:N.CA_DELETE,text:this.translate.instant("CONTEXT.FCA.DELETE"),icon:"fwcMenuIcon2 fwci2-delete-ca fwcRed",finalObject:!0}]),this.menuSettingsTree[B.OPENVPN_CERT]=Jt(t),this.menuSettingsTree[B.OPENVPN_CERT].items=this.menuSettingsTree[B.OPENVPN_CERT].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_VIEW,text:this.translate.instant("CONTEXT.CA.VIEW_CERT"),icon:"fwcTreeIcon fwci2-certificate fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_EDIT,text:this.translate.instant("CONTEXT.CA.EDIT_CERT"),icon:"fwcMenuIcon2 fwci2-edit-certificate fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_DELETE,text:this.translate.instant("CONTEXT.CA.DELETE_CERT"),icon:"fwcMenuIcon2 fwci2-delete-certificate fwcRed",finalObject:!0}]),this.menuSettingsTree[B.OPENVPN_PREFIX_FOLDER]=Jt(t),this.menuSettingsTree[B.OPENVPN_PREFIX_FOLDER].items=this.menuSettingsTree[B.OPENVPN_PREFIX_FOLDER].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_EDIT_PREFIX,text:this.translate.instant("CONTEXT.CA.EDIT_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CA_CRT_DELETE_PREFIX,text:this.translate.instant("CONTEXT.CA.DELETE_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0}]),this.menuSettingsTree[B.OPENVPN_PREFIX]=Jt(t),this.menuSettingsTree[B.OPENVPN_PREFIX].items=this.menuSettingsTree[B.OPENVPN_PREFIX].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.VPN_CONFIG_EDIT_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED},{id:N.SEPARATOR,type:"separator"},{id:N.VPN_CONFIG_DELETE_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0,objectInGroup:!1,container:ft.C_FIREWALLS_CONDENSED},{id:N.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED}]),this.menuSettingsTree[B.OPENVPN_CONFIG_SER]=Jt(t),this.menuSettingsTree[B.OPENVPN_CONFIG_SER].items=this.menuSettingsTree[B.OPENVPN_CONFIG_SER].items.concat([{id:N.VPN_CONFIG_NEW_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.NEW_PREFIX"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcGreen",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:N.SEPARATOR,type:"separator"},{id:N.EDIT,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT"),icon:"fwcMenuIcon2 fwci2-openvpn fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED},{id:N.SEPARATOR,type:"separator"},{id:N.VPN_CONFIG_STATUS,text:this.translate.instant("CONTEXT.VPN_CONFIG.STATUS"),icon:"fwcMenuIcon fwci-help fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_SER},{id:N.VPN_CONFIG_HISTORIC,text:this.translate.instant("CONTEXT.VPN_CONFIG.HISTORIC"),icon:"fa fa-list-alt fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED},{id:N.VPN_CONFIG_FILE,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:N.VPN_CONFIG_INSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.INSTALL"),icon:"fwcMenuIcon2 fwci2-install-vpnconfig fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:N.VPN_CONFIG_SYNC_CCD,text:this.translate.instant("CONTEXT.VPN_CONFIG.SYNC_CCD"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:N.VPN_CONFIG_INST_WINDOWS,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_WINDOWS"),icon:"fa-brands fa-windows fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_CLI},{id:N.VPN_CONFIG_UNINSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.UNINSTALL"),icon:"fwcMenuIcon2 fwci2-uninstall-vpnconfig fwcRed",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:N.SEPARATOR,type:"separator"},{id:N.VPN_CONFIG_DELETE,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE"),icon:"fwcMenuIcon2 fwci2-openvpn-deleteconfig fwcRed",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:N.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:N.VPN_CONFIG_BLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_BLOCK"),icon:"fwcMenuIcon fwci-reject fwcRed",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_CLI},{id:N.VPN_CONFIG_UNBLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_UNBLOCK"),icon:"fwcMenuIcon fwci-accept fwcGreen",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_CLI},{id:N.SEPARATOR,type:"separator"},{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_CLI},{id:N.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,container:ft.C_FIREWALLS_CONDENSED,onlyOnNodeType:B.OPENVPN_CONFIG_SER}]),this.menuSettingsTree[B.OPENVPN_CONFIG_CLI]=Jt(this.menuSettingsTree[B.OPENVPN_CONFIG_SER]),this.menuSettingsTree[B.FOLDER_CLUSTER_FW]=Jt(t),this.menuSettingsTree[B.FOLDER_CLUSTER]=Jt(t),this.menuSettingsTree[B.FOLDER_CLUSTER].items=this.menuSettingsTree[B.FOLDER_CLUSTER].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.CLUSTER_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwcMenuIcon fwci-compileallfirewalls fwcBlue"}]),this.menuSettingsTree[B.FOLDER_INTERFACES]=Jt(t),this.menuSettingsTree[B.FOLDER_INTERFACES].items=this.menuSettingsTree[B.FOLDER_INTERFACES].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!1},{id:N.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!0}]),this.menuSettingsTree[B.FOLDER_OBJECTS]={items:[{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:N.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:N.SEPARATOR,type:"separator"}].concat(t.items)},this.menuSettingsTree[B.FOLDER_SERVICES]={items:[{id:N.SEPARATOR,type:"separator"},{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:N.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"}].concat(t.items)},this.menuSettingsTree[B.FOLDER_TIME]=Jt(t),this.menuSettingsTree[B.FOLDER_TIME].items=this.menuSettingsTree[B.FOLDER_TIME].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[B.OBJ_IF_FW]=Jt(t),this.menuSettingsTree[B.OBJ_IF_FW].items.push({id:N.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[B.OBJ_IF_FW].items.push({id:N.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[B.OBJ_IF_FW].items=this.menuSettingsTree[B.OBJ_IF_FW].items.concat(o.items),this.menuSettingsTree[B.OBJ_IF_HOST]=Jt(t),this.menuSettingsTree[B.OBJ_IF_HOST].items.push({id:N.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[B.OBJ_IF_HOST].items.push({id:N.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[B.OBJ_IF_HOST].items=this.menuSettingsTree[B.OBJ_IF_HOST].items.concat(o.items),this.menuSettingsTree[B.OBJ_ADDRESS]=Jt(t),this.menuSettingsTree[B.OBJ_ADDRESS].items.push({id:N.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_ADDRESS].items=this.menuSettingsTree[B.OBJ_ADDRESS].items.concat(o.items),this.menuSettingsTree[B.OBJ_GROUP]=Jt(t),this.menuSettingsTree[B.OBJ_GROUP].items.push({id:N.NEW_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.OIG"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_GROUP].items=this.menuSettingsTree[B.OBJ_GROUP].items.concat(o.items),this.menuSettingsTree[B.OBJ_HOST]=Jt(t),this.menuSettingsTree[B.OBJ_HOST].items.push({id:N.NEW_HOST,text:this.translate.instant("CONTEXT.NEW_OBJ.OIH"),icon:"fwcMenuIcon fwci-host fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_HOST].items.push({id:N.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[B.OBJ_HOST].items.push({id:N.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[B.OBJ_HOST].items=this.menuSettingsTree[B.OBJ_HOST].items.concat(o.items),this.menuSettingsTree[B.OBJ_DNS]=Jt(t),this.menuSettingsTree[B.OBJ_DNS].items.push({id:N.NEW_DNS,text:this.translate.instant("CONTEXT.NEW_OBJ.ONS"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_DNS].items=this.menuSettingsTree[B.OBJ_DNS].items.concat(o.items),this.menuSettingsTree[B.OBJ_NETWORK]=Jt(t),this.menuSettingsTree[B.OBJ_NETWORK].items.push({id:N.NEW_NETWORK,text:this.translate.instant("CONTEXT.NEW_OBJ.OIN"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_NETWORK].items=this.menuSettingsTree[B.OBJ_NETWORK].items.concat(o.items),this.menuSettingsTree[B.OBJ_IP_RANGE]=Jt(t),this.menuSettingsTree[B.OBJ_IP_RANGE].items.push({id:N.NEW_IP_RANGE,text:this.translate.instant("CONTEXT.NEW_OBJ.OIR"),icon:"fwcMenuIcon fwci-addressrange fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_IP_RANGE].items=this.menuSettingsTree[B.OBJ_IP_RANGE].items.concat(o.items),this.menuSettingsTree[B.SERVICE_IP]=Jt(t),this.menuSettingsTree[B.SERVICE_IP].items.push({id:N.NEW_IP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOI"),icon:"fwcMenuIcon fwci-ipservice fwcGreen",finalObject:!1}),this.menuSettingsTree[B.SERVICE_IP].items=this.menuSettingsTree[B.SERVICE_IP].items.concat(o.items),this.menuSettingsTree[B.SERVICE_ICMP]=Jt(t),this.menuSettingsTree[B.SERVICE_ICMP].items.push({id:N.NEW_ICMP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOM"),icon:"fwcMenuIcon fwci-icmpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[B.SERVICE_ICMP].items=this.menuSettingsTree[B.SERVICE_ICMP].items.concat(o.items),this.menuSettingsTree[B.SERVICE_TCP]=Jt(t),this.menuSettingsTree[B.SERVICE_TCP].items.push({id:N.NEW_TCP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOT"),icon:"fwcMenuIcon fwci-tcpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[B.SERVICE_TCP].items=this.menuSettingsTree[B.SERVICE_TCP].items.concat(o.items),this.menuSettingsTree[B.SERVICE_UDP]=Jt(t),this.menuSettingsTree[B.SERVICE_UDP].items.push({id:N.NEW_UDP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOU"),icon:"fwcMenuIcon fwci-udpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[B.SERVICE_UDP].items=this.menuSettingsTree[B.SERVICE_UDP].items.concat(o.items),this.menuSettingsTree[B.SERVICE_GROUP]=Jt(t),this.menuSettingsTree[B.SERVICE_GROUP].items.push({id:N.NEW_SERVICE_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.SOG"),icon:"fwcMenuIcon fwci-servicegroup fwcGreen",finalObject:!1}),this.menuSettingsTree[B.SERVICE_GROUP].items=this.menuSettingsTree[B.SERVICE_GROUP].items.concat(o.items),this.menuSettingsTree[B.OBJ_CLUSTER]=Jt(t),this.menuSettingsTree[B.OBJ_CLUSTER].items=this.menuSettingsTree[B.OBJ_CLUSTER].items.concat([{id:N.CLUSTER_EDIT,text:this.translate.instant("CONTEXT.CL.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.CL.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0},{id:N.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.CL.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:N.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:N.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:N.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.CL.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:N.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.CL.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:N.SEPARATOR,type:"separator"},{id:N.CLUSTER_DELETE,text:this.translate.instant("CONTEXT.CL.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CLUSTER_TO_FIREWALL,text:this.translate.instant("CONTEXT.CL.TO_FW"),icon:"fwcMenuIcon fwci2-cluster_to_firewall fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.CLUSTER_CLONE,text:this.translate.instant("CONTEXT.CL.CLONE"),icon:"fwcMenuIcon2 fwci2-cluster_clone fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0},{id:N.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0}]),this.menuSettingsTree[B.OBJ_MARK]=Jt(t),this.menuSettingsTree[B.OBJ_MARK].items.push({id:N.MARK_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.MRK"),icon:"fwcMenuIcon fwci2-label fwcGreen",finalObject:!1}),this.menuSettingsTree[B.OBJ_MARK].items=this.menuSettingsTree[B.OBJ_MARK].items.concat(o.items),this.menuSettingsTree[B.FOLDER_ROUTING]=Jt(t),this.menuSettingsTree[B.ROUTING_TABLES]=Jt(t),this.menuSettingsTree[B.ROUTING_TABLES].items=this.menuSettingsTree[B.ROUTING_TABLES].items.concat([{id:N.SEPARATOR,type:"separator"},{id:N.ROUTING_TABLE_NEW,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE"),icon:"fa fa-file fwcGreen",finalObject:!0}]),this.menuSettingsTree[B.ROUTING_TABLE]={items:[{id:N.ROUTING_TABLE_EDIT,text:this.translate.instant("CONTEXT.ROUTING.EDIT_TABLE"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.ROUTING_TABLE_NEW_ROUTE,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE_ROUTE"),icon:"fa fa-plus fwcGreen",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.ROUTING_TABLE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.DELETE_TABLE"),icon:"fa fa-trash fwcRed",finalObject:!0}]},this.menuSettingsTree[B.COUNTRIES]={items:[{id:N.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:N.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[B.CONTINENT]={items:[{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0},{id:N.SEPARATOR,type:"separator"},{id:N.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:N.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[B.COUNTRIE]={items:[{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},this.menuSettingsTree[B.FOLDER_SYSTEM]=Jt(t),this.menuSettingsTree[B.DHCP]=Jt(t),this.menuSettingsTree[B.DHCP]={items:[{id:N.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsTree[B.KEEPALIVED]={items:[{id:N.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsTree[B.HAPROXY]={items:[{id:N.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:N.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:N.SEPARATOR,type:"separator"},{id:N.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsPosition.POSITION={items:[{id:N.POSITION_NEGATE,text:this.translate.instant("CONTEXT.POSITION.NEGATE"),icon:"fwcMenuIcon fwci-negateposition fwcBlue",visible:!1},{id:N.POSITION_ALLOW,text:this.translate.instant("CONTEXT.POSITION.ALLOW"),icon:"fwcMenuIcon fwci-enableposition fwcBlue",visible:!1},{id:N.OBJECT_EDIT,text:this.translate.instant("CONTEXT.POSITION.EDIT_OBJ"),icon:"fwcMenuIcon fwci-edit fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:N.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:N.PASTE,text:this.translate.instant("CONTEXT.POSITION.PASTE"),icon:"fwcMenuIcon fwci-paste fwcBlue",visible:!1},{id:N.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:N.SEPARATOR,type:"separator"},{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsPosition.NO_MENU={items:[{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]};let s=[{id:N.RULE_COLOR_DEFAULT,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.NONE"),icon:"fwci2-cuadrado fwcWhite"},{id:N.RULE_COLOR_RED,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.RED"),icon:"fwci2-cuadrado fwcRulePink"},{id:N.RULE_COLOR_PURPLE,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.PURPLE"),icon:"fwci2-cuadrado fwcRulePurple"},{id:N.RULE_COLOR_BLUE,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.BLUE"),icon:"fwci2-cuadrado fwcRuleBlue"},{id:N.RULE_COLOR_TEAL,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.TEAL"),icon:"fwci2-cuadrado fwcRuleTeal"},{id:N.RULE_COLOR_GREEN,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.GREEN"),icon:"fwci2-cuadrado fwcRuleGreen"},{id:N.RULE_COLOR_YELLOW,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.YELLOW"),icon:"fwci2-cuadrado fwcRuleYellow"},{id:N.RULE_COLOR_ORANGE,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.ORANGE"),icon:"fwci2-cuadrado fwcRuleOrange"},{id:N.RULE_COLOR_CUSTOM,pid:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.CUSTOM"),icon:"fa fa-crosshairs fwcBlue"}];this.menuSettingsRule.RULE={items:[{id:N.RULE_COMPILE,text:this.translate.instant("CONTEXT.RULE.COMP_S"),textSingle:this.translate.instant("CONTEXT.RULE.COMP_S"),textMulti:this.translate.instant("CONTEXT.RULE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",items:r.items},{id:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.RULE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.RULE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:N.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_NEW_HS_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_HS_AB"),icon:"fa fa-file-code fwcOrange"},{id:N.RULE_NEW_HS_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_HS_BE"),icon:"fa fa-file-code fwcOrange"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_EDIT,text:this.translate.instant("CONTEXT.RULE.EDIT"),icon:"fwcMenuIcon fwci-editrule fwcBlue"},{id:N.RULE_ENABLE,text:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:N.RULE_DISABLE,text:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:N.RULE_DELETE,text:this.translate.instant("CONTEXT.RULE.DELETE"),textSingle:this.translate.instant("CONTEXT.RULE.DELETE"),textMulti:this.translate.instant("CONTEXT.RULE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:N.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:N.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:N.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:N.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:N.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:N.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:N.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"}]},this.menuSettingsRule.ROUTING_RULE=Jt(this.menuSettingsRule.RULE),this.menuSettingsRule.ROUTING_RULE.items=this.menuSettingsRule.ROUTING_RULE.items.filter(a=>{if(a.id!=N.RULE_EDIT&&a.id!=N.RULE_NEW_HS_ABOVE&&a.id!=N.RULE_NEW_HS_BELOW)return!0}),this.configureMenuSettingsRule("DHCP_RULE",[N.RULE_NEW_HS_ABOVE,N.RULE_NEW_HS_BELOW,N.RULE_EDIT]),this.configureMenuSettingsRule("KEEPALIVED_RULE",[N.RULE_NEW_HS_ABOVE,N.RULE_NEW_HS_BELOW,N.RULE_EDIT]),this.configureMenuSettingsRule("HAPROXY_RULE",[N.RULE_NEW_HS_ABOVE,N.RULE_NEW_HS_BELOW,N.RULE_EDIT]),this.menuSettingsRule.ROUTE={items:[{id:N.RULE_COMPILE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue"},{id:N.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:N.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_ENABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:N.RULE_DISABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:N.RULE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:N.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:N.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:N.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:N.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:N.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:N.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:N.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"}]},this.menuSettingsGroupObject.OBJECT={items:[{id:N.FIND_IN_TREE,text:this.translate.instant("CONTEXT.OBJECTS.FIND_IN_TREE"),icon:"fwcMenuIcon fwci2-findintree fwcBlue"},{id:N.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",userObject:!0},{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsGroupObject.OBJECT_CUSTOMFORM={items:[{id:N.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"}]},this.menuSettingsRuleGroup.RULE_GROUP=Jt(t),this.menuSettingsRuleGroup.RULE_GROUP.items=this.menuSettingsRuleGroup.RULE_GROUP.items.concat([{id:N.RULE_GROUP_EDIT,text:this.translate.instant("CONTEXT.RULE_GR.NAME"),icon:"fwcMenuIcon fwci-groupname fwcBlue"},{id:N.RULE_GROUP_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE_GR.COLOR"),icon:"fwcMenuIcon fwci-groupcolor fwcBlue"},{id:N.SEPARATOR,type:"separator"},{id:N.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE_GR.DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcBlue"}])}configureMenuSettingsRule(e,t){this.menuSettingsRule[e]=Jt(this.menuSettingsRule.RULE);let o=[...this.menuSettingsRule[e].items];this.menuSettingsRule[e].items=this.menuSettingsRule[e].items.map(s=>t.includes(s.id)?Ee(Q({},s),{visible:!1}):s);let r=this.menuSettingsRule[e].items.find(s=>s.id==N.RULE_COMPILE);r&&delete r.items,t.forEach(s=>{let a=o.findIndex(l=>l.id===s);if(a>0&&o[a-1].type==="separator"){let l=this.menuSettingsRule[e].items.findIndex(c=>c.id===s)-1;l>=0&&this.menuSettingsRule[e].items[l].type==="separator"&&(this.menuSettingsRule[e].items[l].visible=!1)}if(a<o.length-1&&o[a+1].type==="separator"){let l=this.menuSettingsRule[e].items.findIndex(c=>c.id===s)+1;l<this.menuSettingsRule[e].items.length&&this.menuSettingsRule[e].items[l].type==="separator"&&(this.menuSettingsRule[e].items[l].visible=!1)}}),this.menuSettingsRule[e].items=this.menuSettingsRule[e].items.filter((s,a,l)=>s.visible!==!1&&(s.type!=="separator"||a>0&&a<l.length-1&&l[a-1].type!=="separator"&&l[a+1].type!=="separator"))}getTreeMenu(e){return e.node_type?this.menuSettingsTree[e.node_type]:{items:[]}}getTreeMenus(){return this.menuSettingsTree}getPositionMenus(){return this.menuSettingsPosition}getRuleMenus(){return this.menuSettingsRule}getRuleGroupMenus(){return this.menuSettingsRuleGroup}getGroupObjectMenus(){return this.menuSettingsGroupObject}setMenuOption(e,t,o,r){try{let s=e.items.filter(function(a){return a.id==t});return s[0]&&(s[0][o]=r),!0}catch(s){return console.error(s),!1}}swapMenuOptions(e,t,o){for(let r=0;r<e.items.length;r++)e.items[r][o]&&(e.items[r][t]=e.items[r][o])}swapMenuOptionText(e,t,o,r){try{let s=e.items.filter(function(a){return a.id==t});return s[0]&&s[0][o]&&(s[0][o]=s[0][r]),!0}catch(s){return console.error(s),!1}}swapMenuText(e,t,o){try{let r=e.items.filter(function(s){return s.id==t});return r[0]&&(r[0].text=o?r[0].textSelected:r[0].textUnselected),!0}catch(r){return console.error(r),!1}}static{this.\u0275fac=function(t){return new(t||i)(ie(ot),ie(je))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var TI=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/customer`}getCustomers(){let e=`${this.endpoint}/get`;return this.httpClient.put(e,{}).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCustomer(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newCustomer(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateCustomer(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteCustomer(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkCustomerRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Ca=function(i){return i[i.EVENT_GENERIC=1]="EVENT_GENERIC",i[i.EVENT_LOG=10]="EVENT_LOG",i[i.EVENT_PLUGIN_PANEL_CLOSED=11]="EVENT_PLUGIN_PANEL_CLOSED",i[i.EVENT_CONNECTION_ESTABLISHED=20]="EVENT_CONNECTION_ESTABLISHED",i[i.EVENT_CONNECTION_LOST=21]="EVENT_CONNECTION_LOST",i}(Ca||{});var _n=(()=>{class i{constructor(){this.subjectEvent=new Ae,this.subjectLogEvent=new Ae}emitEvent(e){e&&(e.type==Ca.EVENT_LOG?this.subjectLogEvent.next(e):this.subjectEvent.next(e))}getEvent(){return this.subjectEvent.asObservable()}getLogEvent(){return this.subjectLogEvent.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Bt=(()=>{class i extends Ii{constructor(e,t){super(e),this.httpClient=e,this.fwcUserService=t,this.endpoint=`${de.settings.fwcAppURL}/firewall`}getFirewall(e,t){let o=`${this.endpoint}/get`,r={firewall:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getFirewallsByCloud(e,t){let o=`${this.endpoint}/cloud/get`,r={fwcloud:e};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateFirewall(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newFirewall(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteFirewall(e,t){let o=`${this.endpoint}/del`,r={firewall:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}cloneFirewall(e){let t=`${this.endpoint}/clone`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkFwRestrictions(e,t){let o=`${this.endpoint}/restricted`,r={firewall:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}installPlugins(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/plugin?channel_id=${o}`;return this.httpClient.post(r,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkFwCommunication(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/communication/ping`;return this.httpClient.post(o,t).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getFirewallInformation(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/communication/info`;return this.httpClient.post(o,t).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getSystemctlInformation(e){let t=`${de.settings.fwcAppURL}/systemctl`;return this.httpClient.post(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getClustersByCloud(e){let t=`${de.settings.fwcAppURL}/cluster/cloud/get`,o={fwcloud:e};return this.httpClient.put(t,JSON.stringify(o)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCluster(e,t){let o=`${de.settings.fwcAppURL}/cluster/get`,r={cluster:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getClusterNodes(e,t){let o=`${this.endpoint}/cluster/get`,r={cluster:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteClusterNode(e,t,o){let r=`${this.endpoint}/delfromcluster`,s={cluster:e,firewall:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getClusterMasterNode(e,t){let o=`${this.endpoint}/cluster/get`,r={cluster:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),U(this.parseClusterMasterNode),$(this.handleAPIError))}parseClusterMasterNode(e){let t,o={error:{msg:"No master node"}};t=e.data;for(let r=0;t&&r<t.length;r++)if(t[r].fwmaster){o={data:Object.assign({},t[r])};break}return o}newCluster(e,t,o){let r=`${de.settings.fwcAppURL}/cluster`,s={fwcloud:t,node_id:o,clusterData:e};return this.httpClient.post(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateCluster(e,t,o){let r=`${de.settings.fwcAppURL}/cluster`,s={fwcloud:t,clusterData:e};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteCluster(e,t){let o=`${de.settings.fwcAppURL}/cluster/del`,r={cluster:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}convertFwToCluster(e){let t=`${de.settings.fwcAppURL}/cluster/fwtocluster`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}convertClusterToFw(e){let t=`${de.settings.fwcAppURL}/cluster/clustertofw`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}cloneCluster(e){let t=`${de.settings.fwcAppURL}/cluster/clone`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkClusterRestrictions(e,t){let o=`${de.settings.fwcAppURL}/cluster/restricted`,r={firewall:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}autoDiscoverInterfaces(e){let t=`${de.settings.fwcAppURL}/interface/autodiscover`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}ipTablesSaveImport(e,t){let o=`${de.settings.fwcAppURL}/iptables-save/import?channel_id=${t}`,r=new qo;return r=r.set("X-FWC-TIMEOUT","9999999"),this.httpClient.put(o,JSON.stringify(e),{headers:r}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}ipTablesSaveExport(e,t){let o=`${de.settings.fwcAppURL}/iptables-save/export`;return this.httpClient.put(o,JSON.stringify(e)).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}loadBackEndConfig(){let e=`${de.settings.fwcAppURL}/config`;return this.httpClient.get(e)}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(ot))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Do=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/interface`}getInterfacesInFw(e,t){let o=`${this.endpoint}/fw/all/get`,r;return r={firewall:e,fwcloud:t},this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getInterfacesInFwFull(e,t){let o=`${this.endpoint}/fw/full/get`,r;return r={firewall:e,fwcloud:t},this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getInterface(e,t,o){let r=`${this.endpoint}/fw/get`,s;return s={firewall:e,id:t,fwcloud:o},this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getInterfaceHost(e,t,o){let r=`${this.endpoint}/host/get`,s;return s={host:e,id:t,fwcloud:o},this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newInterface(e){let t=`${this.endpoint}`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateInterface(e){let t=`${this.endpoint}`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteInterfaceFw(e){let t=`${this.endpoint}/fw/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteInterfaceHost(e){let t=`${this.endpoint}/host/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getInterfaceWhereUsed(e,t,o){let r=`${this.endpoint}/where`,s={fwcloud:o,id:e,type:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkInterfaceRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var OI=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/ipobj/mark`}newMark(e){let t=this.endpoint;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getMark(e){let t=`${this.endpoint}/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateMark(e){let t=this.endpoint;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteMark(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getMarkWhereUsed(e){let t=`${this.endpoint}/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkMarkRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var tr=(()=>{class i extends Ii{constructor(e,t){super(e),this.httpClient=e,this.cd=t,this.items=[],this.nodeCounter=0,this.endpoint=`${de.settings.fwcAppURL}/tree`}getTree(e,t){let o="",r=e.container,s=e.objStandard,a=e.objCloud,l={};switch(e._siblingTree&&(r=e._siblingTree),l.fwcloud=t,r){case ft.C_FIREWALLS:case ft.C_FIREWALLS_CONDENSED:o=`${this.endpoint}/firewalls/get`;break;case ft.C_OBJECTS:o=`${this.endpoint}/objects/get`,l.objStandard=s,l.objCloud=a;break;case ft.C_CA:o=`${this.endpoint}/ca/get`;break;case ft.C_SERVICES:o=`${this.endpoint}/services/get`,l.objStandard=s,l.objCloud=a;break}return this.cd.detectChanges(),this.httpClient.put(o,JSON.stringify(l)).pipe(U(this.handleAPIResponse),U(c=>this.extractTreeData(c,e)),$(this.handleAPIError))}getTreeChildTypes(){let e="API CALL FOR GETTING THE CHILD TYPES",t={data:[{id_node:B.OBJ_ADDRESS,node_type:B.OBJ_ADDRESS},{id_node:B.OBJ_IP_RANGE,node_type:B.OBJ_IP_RANGE},{id_node:B.OBJ_HOST,node_type:B.OBJ_IF_HOST,is_object:!0},{id_node:B.OBJ_HOST,node_type:B.OBJ_HOST},{id_node:B.OBJ_GROUP,node_type:B.OBJ_GROUP},{id_node:B.OBJ_NETWORK,node_type:B.OBJ_NETWORK},{id_node:B.OBJ_DNS,node_type:B.OBJ_DNS},{id_node:B.FOLDER_INTERFACES,node_type:B.OBJ_IF_FW,is_object:!0},{id_node:B.OBJ_IF_FW,node_type:B.OBJ_ADDRESS,is_object:!0},{id_node:B.OBJ_IF_HOST,node_type:B.OBJ_ADDRESS,is_object:!0},{id_node:B.SERVICE_IP,node_type:B.SERVICE_IP},{id_node:B.SERVICE_TCP,node_type:B.SERVICE_TCP},{id_node:B.SERVICE_ICMP,node_type:B.SERVICE_ICMP},{id_node:B.SERVICE_UDP,node_type:B.SERVICE_UDP},{id_node:B.SERVICE_GROUP,node_type:B.SERVICE_GROUP}]};return this.cd.detectChanges(),mt(t)}newFolder(e){let t=`${this.endpoint}/folder`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}dropInFolder(e){let t=`${this.endpoint}/folder/drop`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteFolder(e){let t=`${this.endpoint}/folder/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateFolder(e){let t=`${this.endpoint}/folder`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}repairTree(e,t,o){let r=`${this.endpoint}/repair?channel_id=${o}`,s={type:e,fwcloud:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getNodes(e,t,o){let r=`${this.endpoint}/node/get`,s={node_type:e,fwcloud:t,id_obj:o||null};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getNodesByNodeType(e,t){let o=`${this.endpoint}/node/getByNodeType`,r={node_type:e,fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getNodesFull(e,t,o,r){let s=[],a,l;for(s.push(...e);s.length>0;)if(a=s.pop(),a.node_type===t){if(o?l=a.id_obj===o:l=!0,r&&(l=l&&a.text===r),l)return a}else if(a.items&&a.items.length)for(let c=0;c<a.items.length;c++)s.push(a.items[c]);return null}extractTreeData(e,t){try{let o=JSON.stringify(e.data);o=o.replace(/"children"/g,'"items"'),o=o.replace(/"allowdrag"/g,'"allowDrag"'),e.data=JSON.parse(o),t.container==ft.C_FIREWALLS_CONDENSED}catch{}return e}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(pe))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var RI=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/ipobj`}getObjectTypes(){let e=`${this.endpoint}/types`;return this.httpClient.get(e).pipe(U(this.handleAPIResponse),U(this.parseObjectTypeNames),$(this.handleAPIError))}getObjectType(e){let t,o=`${this.endpoint}/types/get`;return t={id:e},this.httpClient.put(o,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}parseObjectTypeNames(e){if(e){let t=e.data;t&&Array.isArray(t)&&t.forEach(o=>{o.type=o.type.replace(" ","_")})}return e}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Kn=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/ipobj`}getObject(e,t){let o=`${this.endpoint}/get`,r={fwcloud:t,id:e};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),U(this.addFields),$(this.handleAPIError))}getPolicyRuleObjects(e,t,o){let r=`${de.settings.fwcAppURL}/policy/ipobj/get`,s={fwcloud:o,firewall:e,rule:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateObject(e){let t=this.endpoint;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteObject(e){let t=`${this.endpoint}/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newObject(e){let t=this.endpoint;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}searchObject(e){let t=`${this.endpoint}/ipobj_search_used/${e._fwcObjId}/${e._fwcObjType}`;return this.httpClient.get(t).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkObjectRestrictions(e){let t=`${this.endpoint}/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getObjectGroup(e,t){let o=`${this.endpoint}/group/get`,r={fwcloud:t,id:e};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getObjectGroupAllowedTypes(){let e=[];return e[F.OBJ_GROUP]=[F.OBJ_ADDRESS,F.OBJ_ADDRESS_RANGE,F.OBJ_NETWORK,F.OBJ_HOST,F.OBJ_VPN_CONFIG_CLI,F.OBJ_OPENVPN_PREFIX,F.OBJ_DNS],e[F.OBJ_SERVICE_GROUP]=[F.OBJ_SERVICE_IP,F.OBJ_SERVICE_TCP,F.OBJ_SERVICE_ICMP,F.OBJ_SERVICE_UDP],e[F.OBJ_ROUTING_GATEWAY]=[F.OBJ_ADDRESS],e[F.OBJ_ROUTING_RULE_FROM]=[F.OBJ_ADDRESS,F.OBJ_ADDRESS_RANGE,F.OBJ_NETWORK,F.OBJ_HOST,F.OBJ_VPN_CONFIG_CLI,F.OBJ_OPENVPN_PREFIX,F.OBJ_GROUP,F.OBJ_DNS,F.OBJ_MARK],e[F.OBJ_DHCP_RULE_NETWORK]=[F.OBJ_NETWORK],e[F.OBJ_DHCP_RULE_RANGE]=[F.OBJ_ADDRESS_RANGE],e[F.OBJ_DHCP_RULE_ROUTER]=[F.OBJ_ADDRESS],e[F.OBJ_DHCP_RULE_DNS]=[F.OBJ_ADDRESS],e[F.OBJ_DHCP_RULE_INTERFACE]=[F.OBJ_INTERFACE_FIREWALL,F.OBJ_INTERFACE_HOST],e[F.OBJ_DHCP_RULE_IP]=[F.OBJ_ADDRESS],e[F.OBJ_KEEPALIVED_INTERFACE]=[F.OBJ_INTERFACE_FIREWALL],e[F.OBJ_KEEPALIVED_VIRTUAL_IPS]=[F.OBJ_ADDRESS],e[F.OBJ_KEEPALIVED_MASTER_NODE]=[F.OBJ_FIREWALL],e[F.OBJ_HAPROXY_RULE_FRONTEND_IP]=[F.OBJ_ADDRESS],e[F.OBJ_HAPROXY_RULE_FRONTEND_PORT]=[F.OBJ_SERVICE_TCP,F.OBJ_SERVICE_UDP],e[F.OBJ_HAPROXY_RULE_BACKEND_IPS]=[F.OBJ_ADDRESS],e[F.OBJ_HAPROXY_RULE_BACKEND_PORT]=[F.OBJ_SERVICE_TCP,F.OBJ_SERVICE_UDP],mt(e)}newObjectGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateObjectGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteObjectGroup(e){let t=`${this.endpoint}/group/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newObjectGroupObject(e){let t=`${this.endpoint}/group/addto`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteObjectGroupObject(e){let t=`${this.endpoint}/group/delfrom`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getObjectWhereUsed(e,t,o){let r=`${this.endpoint}/where`,s={id:e,type:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getObjectGroupWhereUsed(e,t){let o=`${this.endpoint}/group/where`,r={fwcloud:t,id:e};return this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkObjectGroupRestrictions(e){let t=`${this.endpoint}/group/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getIPProtocols(){let e=`${this.endpoint}-protocols`;return this.httpClient.get(e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}addFields(e){let t=[];return t.push(e.data),t.forEach(o=>{o._fwcObjId=o.id,o._fwcObjName=o.name,o._fwcObjType=o.obj_type=o.type}),e}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function nx(i,n){let e=!n?.manualCleanup;e&&!n?.injector&&e0(nx);let t=e?n?.injector?.get(jd)??Te(jd):null,o=lhe(n?.equal),r;n?.requireSync?r=ui({kind:0},{equal:o}):r=ui({kind:1,value:n?.initialValue},{equal:o});let s=i.subscribe({next:a=>r.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;r.set({kind:2,error:a})}});if(n?.requireSync&&r().kind===0)throw new dt(601,!1);return t?.onDestroy(s.unsubscribe.bind(s)),to(()=>{let a=r();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new dt(601,!1)}},{equal:n?.equal})}function lhe(i=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&i(n.value,e.value)}var ax={};function vo(i,n){if(ax[i]=(ax[i]||0)+1,typeof n=="function")return ox(i,(...t)=>Ee(Q({},n(...t)),{type:i}));switch(n?n._as:"empty"){case"empty":return ox(i,()=>({type:i}));case"props":return ox(i,t=>Ee(Q({},t),{type:i}));default:throw new Error("Unexpected config.")}}function ur(){return{_as:"props",_p:void 0}}function ox(i,n){return Object.defineProperty(n,"type",{value:i,writable:!1})}var h4="@ngrx/store/init",nh=(()=>{class i extends an{constructor(){super({type:h4})}next(e){if(typeof e=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof e>"u")throw new TypeError("Actions must be objects");if(typeof e.type>"u")throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),che=[nh],f4=new Pe("@ngrx/store Internal Root Guard"),Q3=new Pe("@ngrx/store Internal Initial State"),ux=new Pe("@ngrx/store Initial State"),m4=new Pe("@ngrx/store Reducer Factory"),Z3=new Pe("@ngrx/store Internal Reducer Factory Provider"),g4=new Pe("@ngrx/store Initial Reducers"),rx=new Pe("@ngrx/store Internal Initial Reducers"),e4=new Pe("@ngrx/store Store Features"),t4=new Pe("@ngrx/store Internal Store Reducers"),sx=new Pe("@ngrx/store Internal Feature Reducers"),i4=new Pe("@ngrx/store Internal Feature Configs"),_4=new Pe("@ngrx/store Internal Store Features"),n4=new Pe("@ngrx/store Internal Feature Reducers Token"),C4=new Pe("@ngrx/store Feature Reducers"),o4=new Pe("@ngrx/store User Provided Meta Reducers"),DI=new Pe("@ngrx/store Meta Reducers"),r4=new Pe("@ngrx/store Internal Resolved Meta Reducers"),s4=new Pe("@ngrx/store User Runtime Checks Config"),a4=new Pe("@ngrx/store Internal User Runtime Checks Config"),ym=new Pe("@ngrx/store Internal Runtime Checks"),px=new Pe("@ngrx/store Check if Action types are unique"),ypt=new Pe("@ngrx/store Root Store Provider"),wpt=new Pe("@ngrx/store Feature State Provider");function hx(i,n={}){let e=Object.keys(i),t={};for(let r=0;r<e.length;r++){let s=e[r];typeof i[s]=="function"&&(t[s]=i[s])}let o=Object.keys(t);return function(s,a){s=s===void 0?n:s;let l=!1,c={};for(let u=0;u<o.length;u++){let g=o[u],_=t[g],C=s[g],w=_(C,a);c[g]=w,l=l||w!==C}return l?c:s}}function dhe(i,n){return Object.keys(i).filter(e=>e!==n).reduce((e,t)=>Object.assign(e,{[t]:i[t]}),{})}function I4(...i){return function(n){if(i.length===0)return n;let e=i[i.length-1];return i.slice(0,-1).reduceRight((o,r)=>r(o),e(n))}}function v4(i,n){return Array.isArray(n)&&n.length>0&&(i=I4.apply(null,[...n,i])),(e,t)=>{let o=i(e);return(r,s)=>(r=r===void 0?t:r,o(r,s))}}function uhe(i){let n=Array.isArray(i)&&i.length>0?I4(...i):e=>e;return(e,t)=>(e=n(e),(o,r)=>(o=o===void 0?t:o,e(o,r)))}var wm=class extends Qt{},PI=class extends nh{},phe="@ngrx/store/update-reducers",FI=(()=>{class i extends an{get currentReducers(){return this.reducers}constructor(e,t,o,r){super(r(o,t)),this.dispatcher=e,this.initialState=t,this.reducers=o,this.reducerFactory=r}addFeature(e){this.addFeatures([e])}addFeatures(e){let t=e.reduce((o,{reducers:r,reducerFactory:s,metaReducers:a,initialState:l,key:c})=>{let u=typeof r=="function"?uhe(a)(r,l):v4(s,a)(r,l);return o[c]=u,o},{});this.addReducers(t)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(t=>t.key))}addReducer(e,t){this.addReducers({[e]:t})}addReducers(e){this.reducers=Q(Q({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(t=>{this.reducers=dhe(this.reducers,t)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:phe,features:e})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(t){return new(t||i)(ie(PI),ie(ux),ie(g4),ie(m4))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),hhe=[FI,{provide:wm,useExisting:FI},{provide:PI,useExisting:nh}],fx=(()=>{class i extends Ae{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})()}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),fhe=[fx],LI=class extends Qt{},l4=(()=>{class i extends an{static{this.INIT=h4}constructor(e,t,o,r){super(r);let a=e.pipe(wd(Wb)).pipe(oy(t)),l={state:r},c=a.pipe(qh(mhe,l));this.stateSubscription=c.subscribe(({state:u,action:g})=>{this.next(u),o.next(g)}),this.state=nx(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(t){return new(t||i)(ie(nh),ie(wm),ie(fx),ie(ux))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();function mhe(i={state:void 0},[n,e]){let{state:t}=i;return{state:e(t,n),action:n}}var ghe=[l4,{provide:LI,useExisting:l4}],Ke=(()=>{class i extends Qt{constructor(e,t,o){super(),this.actionsObserver=t,this.reducerManager=o,this.source=e,this.state=e.state}select(e,...t){return Sn.call(null,e,...t)(this)}selectSignal(e,t){return to(()=>e(this.state()),t)}lift(e){let t=new i(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,t){this.reducerManager.addReducer(e,t)}removeReducer(e){this.reducerManager.removeReducer(e)}static{this.\u0275fac=function(t){return new(t||i)(ie(LI),ie(nh),ie(FI))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),_he=[Ke];function Sn(i,n,...e){return function(o){let r;if(typeof i=="string"){let s=[n,...e].filter(Boolean);r=o.pipe(ty(i,...s))}else if(typeof i=="function")r=o.pipe(U(s=>i(s,n)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return r.pipe(cl())}}var mx="https://ngrx.io/guide/store/configuration/runtime-checks";function c4(i){return i===void 0}function d4(i){return i===null}function b4(i){return Array.isArray(i)}function Che(i){return typeof i=="string"}function Ihe(i){return typeof i=="boolean"}function vhe(i){return typeof i=="number"}function y4(i){return typeof i=="object"&&i!==null}function bhe(i){return y4(i)&&!b4(i)}function yhe(i){if(!bhe(i))return!1;let n=Object.getPrototypeOf(i);return n===Object.prototype||n===null}function lx(i){return typeof i=="function"}function whe(i){return lx(i)&&i.hasOwnProperty("\u0275cmp")}function She(i,n){return Object.prototype.hasOwnProperty.call(i,n)}var Ahe=!1;function xhe(){return Ahe}function u4(i,n){return i===n}function Ehe(i,n,e){for(let t=0;t<i.length;t++)if(!e(i[t],n[t]))return!0;return!1}function w4(i,n=u4,e=u4){let t=null,o=null,r;function s(){t=null,o=null}function a(u=void 0){r={result:u}}function l(){r=void 0}function c(){if(r!==void 0)return r.result;if(!t)return o=i.apply(null,arguments),t=arguments,o;if(!Ehe(arguments,t,n))return o;let u=i.apply(null,arguments);return t=arguments,e(o,u)?o:(o=u,u)}return{memoized:c,reset:s,setResult:a,clearResult:l}}function qn(...i){return Ohe(w4)(...i)}function The(i,n,e,t){if(e===void 0){let r=n.map(s=>s(i));return t.memoized.apply(null,r)}let o=n.map(r=>r(i,e));return t.memoized.apply(null,[...o,e])}function Ohe(i,n={stateFn:The}){return function(...e){let t=e;if(Array.isArray(t[0])){let[u,...g]=t;t=[...u,...g]}else t.length===1&&Rhe(t[0])&&(t=Dhe(t[0]));let o=t.slice(0,t.length-1),r=t[t.length-1],s=o.filter(u=>u.release&&typeof u.release=="function"),a=i(function(...u){return r.apply(null,u)}),l=w4(function(u,g){return n.stateFn.apply(null,[u,o,g,a])});function c(){l.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function $c(i){return qn(n=>{let e=n[i];return!xhe()&&If()&&!(i in n)&&console.warn(`@ngrx/store: The feature name "${i}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${i}', ...) or StoreModule.forFeature('${i}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},n=>n)}function Rhe(i){return!!i&&typeof i=="object"&&Object.values(i).every(n=>typeof n=="function")}function Dhe(i){let n=Object.values(i),e=Object.keys(i),t=(...o)=>e.reduce((r,s,a)=>Ee(Q({},r),{[s]:o[a]}),{});return[...n,t]}function Phe(i){return i instanceof Pe?Te(i):i}function Fhe(i,n){return n.map((e,t)=>{if(i[t]instanceof Pe){let o=Te(i[t]);return{key:e.key,reducerFactory:o.reducerFactory?o.reducerFactory:hx,metaReducers:o.metaReducers?o.metaReducers:[],initialState:o.initialState}}return e})}function Lhe(i){return i.map(n=>n instanceof Pe?Te(n):n)}function S4(i){return typeof i=="function"?i():i}function Mhe(i,n){return i.concat(n)}function khe(){if(Te(Ke,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Nhe(i,n){return function(e,t){let o=n.action(t)?cx(t):t,r=i(e,o);return n.state()?cx(r):r}}function cx(i){Object.freeze(i);let n=lx(i);return Object.getOwnPropertyNames(i).forEach(e=>{if(!e.startsWith("\u0275")&&She(i,e)&&(!n||e!=="caller"&&e!=="callee"&&e!=="arguments")){let t=i[e];(y4(t)||lx(t))&&!Object.isFrozen(t)&&cx(t)}}),i}function Vhe(i,n){return function(e,t){if(n.action(t)){let r=dx(t);p4(r,"action")}let o=i(e,t);if(n.state()){let r=dx(o);p4(r,"state")}return o}}function dx(i,n=[]){return(c4(i)||d4(i))&&n.length===0?{path:["root"],value:i}:Object.keys(i).reduce((t,o)=>{if(t)return t;let r=i[o];return whe(r)?t:c4(r)||d4(r)||vhe(r)||Ihe(r)||Che(r)||b4(r)?!1:yhe(r)?dx(r,[...n,o]):{path:[...n,o],value:r}},!1)}function p4(i,n){if(i===!1)return;let e=i.path.join("."),t=new Error(`Detected unserializable ${n} at "${e}". ${mx}#strict${n}serializability`);throw t.value=i.value,t.unserializablePath=e,t}function Bhe(i,n){return function(e,t){if(n.action(t)&&!It.isInAngularZone())throw new Error(`Action '${t.type}' running outside NgZone. ${mx}#strictactionwithinngzone`);return i(e,t)}}function Uhe(i){return If()?Q({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},i):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function jhe({strictActionSerializability:i,strictStateSerializability:n}){return e=>i||n?Vhe(e,{action:t=>i&&!gx(t),state:()=>n}):e}function Hhe({strictActionImmutability:i,strictStateImmutability:n}){return e=>i||n?Nhe(e,{action:t=>i&&!gx(t),state:()=>n}):e}function gx(i){return i.type.startsWith("@ngrx")}function Ghe({strictActionWithinNgZone:i}){return n=>i?Bhe(n,{action:e=>i&&!gx(e)}):n}function zhe(i){return[{provide:a4,useValue:i},{provide:s4,useFactory:Whe,deps:[a4]},{provide:ym,deps:[s4],useFactory:Uhe},{provide:DI,multi:!0,deps:[ym],useFactory:Hhe},{provide:DI,multi:!0,deps:[ym],useFactory:jhe},{provide:DI,multi:!0,deps:[ym],useFactory:Ghe}]}function A4(){return[{provide:px,multi:!0,deps:[ym],useFactory:$he}]}function Whe(i){return i}function $he(i){if(!i.strictActionTypeUniqueness)return;let n=Object.entries(ax).filter(([,e])=>e>1).map(([e])=>e);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(e=>`"${e}"`).join(", ")}. ${mx}#strictactiontypeuniqueness`)}function Khe(i={},n={}){return[{provide:f4,useFactory:khe},{provide:Q3,useValue:n.initialState},{provide:ux,useFactory:S4,deps:[Q3]},{provide:rx,useValue:i},{provide:t4,useExisting:i instanceof Pe?i:rx},{provide:g4,deps:[rx,[new Lw(t4)]],useFactory:Phe},{provide:o4,useValue:n.metaReducers?n.metaReducers:[]},{provide:r4,deps:[DI,o4],useFactory:Mhe},{provide:Z3,useValue:n.reducerFactory?n.reducerFactory:hx},{provide:m4,deps:[Z3,r4],useFactory:v4},che,hhe,fhe,ghe,_he,zhe(n.runtimeChecks),A4()]}function qhe(i,n,e={}){return[{provide:i4,multi:!0,useValue:i instanceof Object?{}:e},{provide:e4,multi:!0,useValue:{key:i instanceof Object?i.name:i,reducerFactory:!(e instanceof Pe)&&e.reducerFactory?e.reducerFactory:hx,metaReducers:!(e instanceof Pe)&&e.metaReducers?e.metaReducers:[],initialState:!(e instanceof Pe)&&e.initialState?e.initialState:void 0}},{provide:_4,deps:[i4,e4],useFactory:Fhe},{provide:sx,multi:!0,useValue:i instanceof Object?i.reducer:n},{provide:n4,multi:!0,useExisting:n instanceof Pe?n:sx},{provide:C4,multi:!0,deps:[sx,[new Lw(n4)]],useFactory:Lhe},A4()]}var x4=(()=>{class i{constructor(e,t,o,r,s,a){}static{this.\u0275fac=function(t){return new(t||i)(ie(nh),ie(wm),ie(fx),ie(Ke),ie(f4,8),ie(px,8))}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})(),Yhe=(()=>{class i{constructor(e,t,o,r,s){this.features=e,this.featureReducers=t,this.reducerManager=o;let a=e.map((l,c)=>{let g=t.shift()[c];return Ee(Q({},l),{reducers:g,initialState:S4(l.initialState)})});o.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(t){return new(t||i)(ie(_4),ie(C4),ie(FI),ie(x4),ie(px,8))}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})(),Spt=(()=>{class i{static forRoot(e,t){return{ngModule:x4,providers:[...Khe(e,t)]}}static forFeature(e,t,o={}){return{ngModule:Yhe,providers:[...qhe(e,t,o)]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({})}}return i})();function Vl(...i){let n=i.pop(),e=i.map(t=>t.type);return{reducer:n,types:e}}function E4(i,...n){let e=new Map;for(let t of n)for(let o of t.types){let r=e.get(o);if(r){let s=(a,l)=>t.reducer(r(a,l),l);e.set(o,s)}else e.set(o,t.reducer)}return function(t=i,o){let r=e.get(o.type);return r?r(t,o):t}}var T4=$c("ui"),Ept=qn(T4,i=>i.blockUi),Zr=qn(T4,i=>i.theme);var Sm={};rc(Sm,{selectItemToSelect:()=>Xhe,selectItemUpdateFwStatus:()=>Qhe,selectTreeState:()=>_x});var _x=$c("tree"),Xhe=qn(_x,i=>i.itemToSelect),Qhe=qn(_x,i=>i.updateFwStatus);var Qa={};rc(Qa,{selectDialogState:()=>xm,selectDialogUuidsToReload:()=>Afe,selectLastDialogId:()=>yfe,selectMinimizedDialogs:()=>wfe,selectMinimizedDialogsIds:()=>P4,selectVisibleDialogs:()=>Sfe,selectVisibleDialogsIds:()=>F4});function Zhe(){return{ids:[],entities:{}}}function efe(){function i(n={}){return Object.assign(Zhe(),n)}return{getInitialState:i}}function tfe(){function i(n){let e=s=>s.ids,t=s=>s.entities,o=qn(e,t,(s,a)=>s.map(l=>a[l])),r=qn(e,s=>s.length);return n?{selectIds:qn(n,e),selectEntities:qn(n,t),selectAll:qn(n,o),selectTotal:qn(n,r)}:{selectIds:e,selectEntities:t,selectAll:o,selectTotal:r}}return{getSelectors:i}}var qt=function(i){return i[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None",i}(qt||{});function Yn(i){return function(e,t){let o={ids:[...t.ids],entities:Q({},t.entities)},r=i(e,o);return r===qt.Both?Object.assign({},t,o):r===qt.EntitiesOnly?Ee(Q({},t),{entities:o.entities}):t}}function Bl(i,n){let e=n(i);return If()&&e===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",i,"The `selectId` implementation:",n.toString()),e}function O4(i){function n(A,x){let D=Bl(A,i);return D in x.entities?qt.None:(x.ids.push(D),x.entities[D]=A,qt.Both)}function e(A,x){let D=!1;for(let V of A)D=n(V,x)!==qt.None||D;return D?qt.Both:qt.None}function t(A,x){return x.ids=[],x.entities={},e(A,x),qt.Both}function o(A,x){let D=Bl(A,i);return D in x.entities?(x.entities[D]=A,qt.EntitiesOnly):(x.ids.push(D),x.entities[D]=A,qt.Both)}function r(A,x){let D=A.map(V=>o(V,x));switch(!0){case D.some(V=>V===qt.Both):return qt.Both;case D.some(V=>V===qt.EntitiesOnly):return qt.EntitiesOnly;default:return qt.None}}function s(A,x){return a([A],x)}function a(A,x){let V=(A instanceof Array?A:x.ids.filter(X=>A(x.entities[X]))).filter(X=>X in x.entities).map(X=>delete x.entities[X]).length>0;return V&&(x.ids=x.ids.filter(X=>X in x.entities)),V?qt.Both:qt.None}function l(A){return Object.assign({},A,{ids:[],entities:{}})}function c(A,x,D){let V=D.entities[x.id],X=Object.assign({},V,x.changes),ee=Bl(X,i),ae=ee!==x.id;return ae&&(A[x.id]=ee,delete D.entities[x.id]),D.entities[ee]=X,ae}function u(A,x){return g([A],x)}function g(A,x){let D={};return A=A.filter(X=>X.id in x.entities),A.length>0?A.filter(ee=>c(D,ee,x)).length>0?(x.ids=x.ids.map(ee=>D[ee]||ee),qt.Both):qt.EntitiesOnly:qt.None}function _(A,x){let V=x.ids.reduce((X,ee)=>{let ae=A(x.entities[ee]);return ae!==x.entities[ee]&&X.push({id:ee,changes:ae}),X},[]).filter(({id:X})=>X in x.entities);return g(V,x)}function C({map:A,id:x},D){let V=D.entities[x];if(!V)return qt.None;let X=A(V);return u({id:x,changes:X},D)}function w(A,x){return S([A],x)}function S(A,x){let D=[],V=[];for(let ae of A){let me=Bl(ae,i);me in x.entities?V.push({id:me,changes:ae}):D.push(ae)}let X=g(V,x),ee=e(D,x);switch(!0){case(ee===qt.None&&X===qt.None):return qt.None;case(ee===qt.Both||X===qt.Both):return qt.Both;default:return qt.EntitiesOnly}}return{removeAll:l,addOne:Yn(n),addMany:Yn(e),setAll:Yn(t),setOne:Yn(o),setMany:Yn(r),updateOne:Yn(u),updateMany:Yn(g),upsertOne:Yn(w),upsertMany:Yn(S),removeOne:Yn(s),removeMany:Yn(a),map:Yn(_),mapOne:Yn(C)}}function ife(i,n){let{removeOne:e,removeMany:t,removeAll:o}=O4(i);function r(D,V){return s([D],V)}function s(D,V){let X=D.filter(ee=>!(Bl(ee,i)in V.entities));return X.length===0?qt.None:(x(X,V),qt.Both)}function a(D,V){return V.entities={},V.ids=[],s(D,V),qt.Both}function l(D,V){let X=Bl(D,i);return X in V.entities?(V.ids=V.ids.filter(ee=>ee!==X),x([D],V),qt.Both):r(D,V)}function c(D,V){let X=D.map(ee=>l(ee,V));switch(!0){case X.some(ee=>ee===qt.Both):return qt.Both;case X.some(ee=>ee===qt.EntitiesOnly):return qt.EntitiesOnly;default:return qt.None}}function u(D,V){return _([D],V)}function g(D,V,X){if(!(V.id in X.entities))return!1;let ee=X.entities[V.id],ae=Object.assign({},ee,V.changes),me=Bl(ae,i);return delete X.entities[V.id],D.push(ae),me!==V.id}function _(D,V){let X=[],ee=D.filter(ae=>g(X,ae,V)).length>0;if(X.length===0)return qt.None;{let ae=V.ids,me=[];return V.ids=V.ids.filter((Ce,be)=>Ce in V.entities?!0:(me.push(be),!1)),x(X,V),!ee&&me.every(Ce=>V.ids[Ce]===ae[Ce])?qt.EntitiesOnly:qt.Both}}function C(D,V){let X=V.ids.reduce((ee,ae)=>{let me=D(V.entities[ae]);return me!==V.entities[ae]&&ee.push({id:ae,changes:me}),ee},[]);return _(X,V)}function w({map:D,id:V},X){let ee=X.entities[V];if(!ee)return qt.None;let ae=D(ee);return u({id:V,changes:ae},X)}function S(D,V){return A([D],V)}function A(D,V){let X=[],ee=[];for(let Ce of D){let be=Bl(Ce,i);be in V.entities?ee.push({id:be,changes:Ce}):X.push(Ce)}let ae=_(ee,V),me=s(X,V);switch(!0){case(me===qt.None&&ae===qt.None):return qt.None;case(me===qt.Both||ae===qt.Both):return qt.Both;default:return qt.EntitiesOnly}}function x(D,V){D.sort(n);let X=[],ee=0,ae=0;for(;ee<D.length&&ae<V.ids.length;){let me=D[ee],Ce=Bl(me,i),be=V.ids[ae],tt=V.entities[be];n(me,tt)<=0?(X.push(Ce),ee++):(X.push(be),ae++)}ee<D.length?V.ids=X.concat(D.slice(ee).map(i)):V.ids=X.concat(V.ids.slice(ae)),D.forEach((me,Ce)=>{V.entities[i(me)]=me})}return{removeOne:e,removeMany:t,removeAll:o,addOne:Yn(r),updateOne:Yn(u),upsertOne:Yn(S),setAll:Yn(a),setOne:Yn(l),setMany:Yn(c),addMany:Yn(s),updateMany:Yn(_),upsertMany:Yn(A),map:Yn(C),mapOne:Yn(w)}}function R4(i={}){let{selectId:n,sortComparer:e}={selectId:i.selectId??(s=>s.id),sortComparer:i.sortComparer??!1},t=efe(),o=tfe(),r=e?ife(n,e):O4(n);return Q(Q(Q({selectId:n,sortComparer:e},t),o),r)}var di={};rc(di,{requestBlockUI:()=>nfe,requestUnblockUI:()=>ofe,setTheme:()=>rfe});var nfe=vo("[UI] Block UI"),ofe=vo("[UI] Unblock UI"),rfe=vo("[UI] Change theme",ur());var uo={};rc(uo,{reloadTree:()=>afe,selectTreeItem:()=>sfe,updateFwStatus:()=>lfe});var sfe=vo("[Tree] Select item",ur()),afe=vo("[Tree] Reload tree",ur()),lfe=vo("[Tree] Update firewall status",ur());var Yi={};rc(Yi,{addDialog:()=>cfe,hideDialog:()=>pfe,minimizeDialog:()=>dfe,reloadDialog:()=>mfe,reloadDialogFinished:()=>gfe,removeDialog:()=>ffe,removeMinimizedDialogs:()=>hfe,restoreDialog:()=>ufe});var cfe=vo("[Dialog] Add new dialog",ur()),dfe=vo("[Dialog] Minimize dialog",ur()),ufe=vo("[Dialog] Restore dialog",ur()),pfe=vo("[Dialog] Hide dialog",ur()),hfe=vo("[Dialog] Remove minimized dialogs"),ffe=vo("[Dialog] Remove dialog",ur()),mfe=vo("[Dialog] Reload dialog",ur()),gfe=vo("[Dialog] Dialog reloaded",ur());var D4={};rc(D4,{loadPolicyTypes:()=>Cfe,policyTypesLoaded:()=>Ife,reloadPolicy:()=>_fe});var _fe=vo("[Policy] Reload policy",ur()),Cfe=vo("[Policy] Load policy types"),Ife=vo("[Policy] Policy types loaded",ur());var Am=R4({selectId:i=>i.dialogId}),vfe=Am.getInitialState({minimizedDialogIds:[],visibleDialogIds:[],dialogsToReloadUuids:[]}),bfe=E4(vfe,Vl(Yi.addDialog,(i,{dialog:n})=>Am.addOne(n,Q({},i))),Vl(Yi.removeMinimizedDialogs,i=>Ee(Q({},i),{minimizedDialogIds:[]})),Vl(Yi.minimizeDialog,(i,n)=>Ee(Q({},i),{minimizedDialogIds:[...i.minimizedDialogIds,n.dialogId],visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Vl(Yi.restoreDialog,(i,n)=>Ee(Q({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:[...i.visibleDialogIds,n.dialogId]})),Vl(Yi.hideDialog,(i,n)=>Ee(Q({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Vl(Yi.removeDialog,(i,n)=>Am.removeOne(n.dialogId,Ee(Q({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)}))),Vl(Yi.reloadDialog,(i,n)=>Ee(Q({},i),{dialogsToReloadUuids:n.dialogUuids})),Vl(Yi.reloadDialogFinished,(i,n)=>Ee(Q({},i),{dialogsToReloadUuids:null})));function jpt(i,n){return bfe(i,n)}var xm=$c("dialog"),Cx=Am.getSelectors(xm),yfe=qn(Cx.selectIds,i=>{let n=0;if(Array.isArray(i)){let e=Math.max(...i);e>n&&(n=e)}return n}),P4=qn(xm,i=>i.minimizedDialogIds),wfe=qn(Cx.selectAll,P4,(i,n)=>i.filter(e=>n.includes(e.dialogId))),F4=qn(xm,i=>i.visibleDialogIds),Sfe=qn(Cx.selectAll,F4,(i,n)=>i.filter(e=>n.includes(e.dialogId))),Afe=qn(xm,i=>i.dialogsToReloadUuids);var MI={};rc(MI,{selectPolicyLoaded:()=>xfe,selectPolicyState:()=>Ix,selectPolicyTypes:()=>Efe});var Ix=$c("policy"),xfe=qn(Ix,i=>i.loadedPolicy),Efe=qn(Ix,i=>i.policyTypes);var pn=(()=>{class i extends Ii{constructor(e,t){super(e),this.httpClient=e,this.store=t,this.fwcPolicy=[],this.subjectSelectedPolicy=new Ae,this.subjectReloadPolicy=new Ae,this.alive=!0,this.endpoint=`${de.settings.fwcAppURL}/policy`,this.store.pipe(yt(()=>this.alive),Sn(MI.selectPolicyTypes)).subscribe(o=>{this.fwcPolicyTypes=o})}ngOnDestroy(){this.alive=!1}setSelectedPolicy(e){if(!e)return;let t=Object.assign({},e),o="",r="";if(this.selectedPolicy&&(r=this.selectedPolicy._fwcFwName),e._fwcFwName&&(r=e._fwcFwName),Array.isArray(this.fwcPolicyTypes)){for(let s=0;s<this.fwcPolicyTypes.length;s++)this.fwcPolicyTypes[s].id==e._fwcPolicyType&&(o=this.fwcPolicyTypes[s].name);t._fwcFwId=e._fwcFwId,t._fwcFwName=r,t._fwcPolicyType=e._fwcPolicyType,t._fwcPolicyName=o||e._fwcPolicyName,t._fwcPolicyIPVersion=_k[e._fwcPolicyType],this.selectedPolicy=t,this.subjectSelectedPolicy.next(t)}else de.log("There are no policy types")}getSelectedPolicy(){return this.subjectSelectedPolicy.asObservable()}getActualSelectedPolicy(){return this.selectedPolicy}getPolicy(e,t,o,r){let s=r?"rule/type/grouped/get":"rule/type/get",a=`${this.endpoint}/${s}`,l={fwcloud:o,firewall:e,type:t};return this.httpClient.put(a,JSON.stringify(l)).pipe(U(c=>this.handleAPIResponse(c)),U(c=>this.extractPolicyData(c)),$(c=>this.handleAPIError(c)))}getPolicyRulesInGroup(e,t,o,r){let s=`${this.endpoint}/rule/type/ingroup/get`,a={fwcloud:o,firewall:e,type:t,idgroup:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getActualPolicy(){return this.fwcPolicy}getActualPolicySequential(){return this.fwcPolicySequential}setActualPolicy(e){if(e){this.fwcPolicy=e,this.fwcPolicySequential=[];for(let t=0;t<this.fwcPolicy.length;t++){let o=this.fwcPolicy[t];if(o.rule_group)for(let r=0;r<o.rules.length;r++){let s=o.rules[r];this.fwcPolicySequential.push(s)}else this.fwcPolicySequential.push(o)}}else this.fwcPolicy=[],this.fwcPolicySequential=[]}reloadPolicy(){return this.subjectReloadPolicy.next(!0),this.subjectReloadPolicy.asObservable()}newPolicyRule(e){let t=`${this.endpoint}/rule`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRule(e){let t=`${this.endpoint}/rule`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRuleAsObject(e){let t=`${this.endpoint}/rule`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deletePolicyRules(e,t,o){let r=`${this.endpoint}/rule/del`,s={fwcloud:o,firewall:e,rulesIds:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRulesActive(e){let t=`${this.endpoint}/rule/active`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRulesStyle(e){let t=`${this.endpoint}/rule/style`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyObject(e,t){let o,r;return t=="O"?e.prefix!==void 0&&e.prefix!==null?r="prefix":e.openvpn!==void 0&&e.openvpn!==null?r="openvpn":r="ipobj":r="interface",e.rule==e.new_rule&&e.position==e.new_position?o=`${this.endpoint}/${r}/order`:o=`${this.endpoint}/${r}/move`,this.httpClient.put(o,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}negatePolicyObject(e,t){let o;if(e)return t?o=`${this.endpoint}/rule/position/negate`:o=`${this.endpoint}/rule/position/allow`,this.httpClient.put(o,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newPolicyObject(e,t){let o;return t=="O"?e.prefix?o=`${this.endpoint}/prefix`:e.openvpn?o=`${this.endpoint}/openvpn`:o=`${this.endpoint}/ipobj`:o=`${this.endpoint}/interface`,this.httpClient.post(o,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deletePolicyObject(e,t){let o,r;return t=="O"?(e.prefix!==void 0&&e.prefix!==null?r="prefix":e.openvpn!==void 0&&e.openvpn!==null?r="openvpn":r="ipobj",o=`${this.endpoint}/${r}/del`):o=`${this.endpoint}/interface/del`,this.httpClient.put(o,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getPolicyTypes(){let e=`${this.endpoint}/types`;return this.httpClient.get(e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}managePolicyRules(e,t){let o=`${this.endpoint}/rule/copy`,r=`${this.endpoint}/rule/move`,s,a=Object.assign({},e);return t==Vn.COPY?s=o:t==Vn.CUT&&(s=r),delete a.action,delete a.idgroup,delete a.rulesOrder,delete a.pasteOnRuleOrder,this.httpClient.put(s,JSON.stringify(a)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newPolicyRulesGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRulesGroup(e){let t=`${this.endpoint}/group`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updatePolicyRulesGroupStyleOrName(e,t){let o,r={fwcloud:e.fwcloud,firewall:e.firewall};return t?(o=`${this.endpoint}/group/style`,r.style=e.style,r.groupIds=e.groupIds):(o=`${this.endpoint}/group/name`,r.id=e.id,r.name=e.name),this.httpClient.put(o,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deletePolicyRulesGroup(e,t,o){let r=`${this.endpoint}/group/del`,s={fwcloud:o,firewall:e,id:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deletePolicyRulesGroupRuleFromGroup(e){let t=`${this.endpoint}/group/rules/del`,o={fwcloud:e.fwcloud,firewall:e.firewall,id:e.idgroup,rulesIds:e.rulesIds};return this.httpClient.put(t,o).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}setSelectedRule(e){de.log("Inside policy component: ",e)}getPolicyRule(e,t,o,r){let s=`${this.endpoint}/rule/get`,a={fwcloud:r,firewall:e,type:t,rule:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getPolicyRules(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/policyRules/read`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}getPolicyRuleFull(e,t,o,r){let s=`${this.endpoint}/rule/full/get`,a={fwcloud:r,firewall:e,type:t,rule:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getPolicyRuleCompilation(e,t,o,r){let s=`${this.endpoint}/compile/rule`,a={fwcloud:r,firewall:e,type:t,rule:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getPolicyRulesCompilation(e,t,o,r,s){let a=`${this.endpoint}/compile/rule`,l={fwcloud:r,firewall:e,type:t,rules:o,compiler:s};return this.httpClient.put(a,JSON.stringify(l)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}compileFirewall(e,t,o){let r=`${de.settings.fwcAppURL}/policy/compile?channel_id=${o}`,s={fwcloud:t,firewall:e};return this.httpClient.put(r,s).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}installFirewall(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/policy/install?channel_id=${s}`,l={fwcloud:t,firewall:e,sshuser:o,sshpass:r};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}generatePolicyScript(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/policyRules/download`;return this.httpClient.post(o,null,{observe:"response",responseType:"blob"}).pipe($(this.handleAPIError))}extractPolicyData(e){return this.fwcPolicy=e.data,e||{}}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(Ke))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var kI=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/policy/positions`}getPositions(e){let t={type:e},o=`${this.endpoint}/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getAllPositions(){let e=`${this.endpoint}/all/get`;return this.httpClient.put(e,{}).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getTypesPositions(){let e=`${de.settings.fwcAppURL}/ipobj/positions/policy`;return this.httpClient.get(e).pipe(U(this.handleAPIResponse),U(this.addSpecialPolicyTypesPositions),$(this.handleAPIError))}addSpecialPolicyTypesPositions(e){return Array.isArray(e.data)&&(e.data=[...e.data,{type:F.OBJ_ADDRESS,position:yi.GATEWAY_POSITION},{type:F.OBJ_INTERFACE_FIREWALL,position:yi.INTERFACE_POSITION},{type:F.OBJ_ADDRESS,position:yi.TO_POSITION},{type:F.OBJ_ADDRESS_RANGE,position:yi.TO_POSITION},{type:F.OBJ_NETWORK,position:yi.TO_POSITION},{type:F.OBJ_HOST,position:yi.TO_POSITION},{type:F.OBJ_DNS,position:yi.TO_POSITION},{type:F.OBJ_GROUP,position:yi.TO_POSITION},{type:F.OBJ_VPN_CONFIG_CLI,position:yi.TO_POSITION},{type:F.OBJ_OPENVPN_PREFIX,position:yi.TO_POSITION},{type:F.OBJ_ADDRESS,position:br.FROM_POSITION},{type:F.OBJ_ADDRESS_RANGE,position:br.FROM_POSITION},{type:F.OBJ_NETWORK,position:br.FROM_POSITION},{type:F.OBJ_HOST,position:br.FROM_POSITION},{type:F.OBJ_DNS,position:br.FROM_POSITION},{type:F.OBJ_GROUP,position:br.FROM_POSITION},{type:F.OBJ_VPN_CONFIG_CLI,position:br.FROM_POSITION},{type:F.OBJ_OPENVPN_PREFIX,position:br.FROM_POSITION},{type:F.OBJ_MARK,position:br.FROM_POSITION},{type:F.OBJ_NETWORK,position:yr.NETWORK},{type:F.OBJ_ADDRESS_RANGE,position:yr.RANGE},{type:F.OBJ_ADDRESS,position:yr.ROUTER},{type:F.OBJ_ADDRESS,position:yr.DNS},{type:F.OBJ_INTERFACE_FIREWALL,position:yr.INTERFACE},{type:F.OBJ_INTERFACE_HOST,position:yr.INTERFACE},{type:F.OBJ_ADDRESS,position:yr.IP},{type:F.OBJ_ADDRESS,position:Dl.VIRTUAL_IPS},{type:F.OBJ_INTERFACE_FIREWALL,position:Dl.INTERFACE},{type:F.OBJ_FIREWALL,position:Dl.MASTER_NODE},{type:F.OBJ_ADDRESS,position:bs.FRONTEND_IP},{type:F.OBJ_SERVICE_TCP,position:bs.FRONTEND_PORT},{type:F.OBJ_SERVICE_UDP,position:bs.FRONTEND_PORT},{type:F.OBJ_ADDRESS,position:bs.BACKEND_IPS},{type:F.OBJ_SERVICE_TCP,position:bs.BACKEND_PORT},{type:F.OBJ_SERVICE_UDP,position:bs.BACKEND_PORT}]),e}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Kc=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e}getRoutingPolicy(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getRoutingPolicyGrid(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/grid`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newRoutingPolicyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules`;return this.httpClient.post(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingPolicyRule(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}moveObjectBetweenFromPositions(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/moveFrom`;return this.httpClient.put(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingPolicyRules(e,t,o,r){let s=o.map(c=>`rules[]=${c}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/bulkUpdate?${s}`,l={active:r.active,style:r.style,routingGroupId:r.routingGroupId};return this.httpClient.put(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingPolicyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingPolicyRules(e,t,o){let r=o.map(a=>`rules[]=${a}`).join("&"),s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/bulkRemove?${r}`;return this.httpClient.delete(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}manageRoutingPolicyRules(e,t,o,r,s,a){let l="copy",c=this.httpClient.post,u=r<0?"above":"below";a===Vn.CUT&&(l="move",c=this.httpClient.put);let g=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/${l}`,_={to:o,offset:u,rules:s};return c.call(this.httpClient,g,_).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}compileRoutingPolicyRules(e,t,o){let r=o.map(a=>`rules[]=${a}`).join("&"),s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingRules/compile?${r}`;return this.httpClient.get(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newRoutingPolicyRuleGroup(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups`,l={name:o,comment:r,routingRules:s};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingPolicyRuleGroup(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingPolicyRulesGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingGroups/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var wr=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e}getRoutingTables(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getRoutingTable(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getRoutingTableRoutesGrid(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/grid`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newRoutingTable(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables`;return this.httpClient.post(a,{number:o,name:r,comment:s}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingTable(e,t,o,r,s,a){let l=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}`;return this.httpClient.put(l,{number:r,name:s,comment:a}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingTable(e){let{fwcloud:t,firewall:o,id:r}=e,s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/routingTables/${r}`;return this.httpClient.delete(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}checkTableRestrictions(e){let{fwcloud:t,firewall:o,id:r}=e,s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/routingTables/${r}/restricted`;return this.httpClient.get(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newRoutingTableRoute(e,t,o,r,s,a,l){let c=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes`,u=l<0?"above":"below";return this.httpClient.post(c,{gatewayId:r,to:a,offset:u,comment:s}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingTableRoute(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/${r}`;return this.httpClient.put(a,s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}moveObjectInRoutes(e,t,o,r,s){let a;switch(r){case yi.TO_POSITION:a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/moveTo`;break;case yi.GATEWAY_POSITION:a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/moveToGateway`;break;case yi.INTERFACE_POSITION:a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/moveInterface`;break}return this.httpClient.put(a,s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingTableRoutes(e,t,o,r,s){let a=r.map(u=>`routes[]=${u}`).join("&"),l=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/bulkUpdate?${a}`,c={active:s.active,style:s.style,routeGroupId:s.routeGroupId};return this.httpClient.put(l,c).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingTableRoutes(e,t,o,r){let s=r.map(l=>`routes[]=${l}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}compileRoutingTableRoutes(e,t,o,r){let s=r.map(l=>`routes[]=${l}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/compile?${s}`;return this.httpClient.get(a).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}manageTableRoutes(e,t,o,r,s,a,l){let c="copy",u=this.httpClient.post;l===Vn.CUT&&(c="move",u=this.httpClient.put);let g=s<0?"above":"below",_=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routingTables/${o}/routes/${c}`,C={to:r,offset:g,routes:a};return u.call(this.httpClient,_,C).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newRoutingTableRouteGroup(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups`,l={name:o,comment:r,routes:s};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateRoutingTableRouteGroup(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteRoutingTableRouteGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/routeGroups/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var NI=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e}getSnapshots(e){let t=`${de.settings.fwcAppURL}/fwclouds/${e}/snapshots`;return this.httpClient.get(t).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}createSnapshot(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/snapshots?channel_id=${t}`;return this.httpClient.post(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}restoreSnapshot(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/snapshots/${t}/restore?channel_id=${o}`;return this.httpClient.post(r,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}deleteSnapshot(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${e}/snapshots/${t}`;return this.httpClient.delete(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Sr=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this.endpoint=`${de.settings.fwcAppURL}/vpn`}getCA(e){let t=`${this.endpoint}/pki/ca/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newCA(e){let t=`${this.endpoint}/pki/ca`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateCA(e){let t=`${de.settings.fwcAppURL}/fwclouds/${e.fwcloud}/cas/${e.id}`,o={comment:e.comment};return this.httpClient.put(t,JSON.stringify(o)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateCRT(e){let t=`${de.settings.fwcAppURL}/fwclouds/${e.fwcloud}/cas/${e.ca}/crts/${e.id}`,o={comment:e.comment};return this.httpClient.put(t,JSON.stringify(o)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteCA(e){let t=`${this.endpoint}/pki/ca/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkCARestrictions(e){let t=`${this.endpoint}/pki/ca/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCertificate(e){let t=`${this.endpoint}/pki/crt/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newCertificate(e){let t=`${this.endpoint}/pki/crt`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteCertificate(e){let t=`${this.endpoint}/pki/crt/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkCertificateRestrictions(e){let t=`${this.endpoint}/pki/crt/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newPrefixFolder(e){let t=`${this.endpoint}/pki/prefix`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}editPrefixFolder(e){let t=`${this.endpoint}/pki/prefix`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deletePrefixFolder(e){let t=`${this.endpoint}/pki/prefix/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkPrefixFolderRestrictions(e){return mt({data:{},status:200})}newOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}editOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteOpenVPNPrefix(e){let t=`${this.endpoint}/openvpn/prefix/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkOpenVPNPrefixRestrictions(e){let t=`${this.endpoint}/openvpn/prefix/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getOpenVPNPrefixInfo(e){let t=`${this.endpoint}/openvpn/prefix/info/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getOpenVPNWhereUsed(e){let t=`${this.endpoint}/openvpn/prefix/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfig(e){let t=`${this.endpoint}/openvpn/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}deleteConfig(e){let t=`${this.endpoint}/openvpn/del`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}newConfig(e){let t=`${this.endpoint}/openvpn`;return this.httpClient.post(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}updateConfig(e){let t=`${this.endpoint}/openvpn`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}installConfig(e,t){let o=`${this.endpoint}/openvpn/install?channel_id=${e}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}uninstallConfig(e,t){let o=`${this.endpoint}/openvpn/uninstall?channel_id=${e}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}syncConfigCCD(e,t){let o=`${this.endpoint}/openvpn/ccdsync?channel_id=${e}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}syncConfigPendingCCD(e,t){return t.onlyPending=1,this.syncConfigCCD(e,t)}getConfigFile(e){let t=`${this.endpoint}/openvpn/file/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getVPNLanNextFreeIP(e){let t=`${this.endpoint}/openvpn/ip/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}checkConfigRestrictions(e){let t=`${this.endpoint}/openvpn/restricted`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfigIPObjects(e){let t=`${this.endpoint}/openvpn/ipobj/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfigInfo(e){let t=`${this.endpoint}/openvpn/info/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfigWhereUsed(e){let t=`${this.endpoint}/openvpn/where`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfigStatus(e){let t=`${this.endpoint}/openvpn/status/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getConfigHistoricCall(e,t,o,r,s){let a=new Wa;if(s)for(let c in s)s[c]&&(a=a.set(c,s[c]));let l=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/openvpns/${o}/${r}`;return a.toString()&&(l+=`?${a.toString()}`),this.httpClient.get(l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getConfigHistoric(e,t,o,r){return this.getConfigHistoricCall(e,t,o,"history",r)}getConfigHistoricGraph(e,t,o,r){return this.getConfigHistoricCall(e,t,o,"graph",r)}getFirewallOVPNServers(e){let t=`${this.endpoint}/openvpn/firewall/get`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}getCNExistsInCA(e){let t=`${this.endpoint}/pki/crt/exists`;return this.httpClient.put(t,JSON.stringify(e)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}doHistoric(e){let t=`${de.settings.fwcAppURL}/openvpnarchives?channel_id=${e}`;return this.httpClient.post(t,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}getHistoricConfig(){let e=`${de.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.get(e).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}saveHistoricConfig(e){let t=`${de.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.put(t,e).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ir=(()=>{class i{constructor(){this.subjectInputData=new Ae}setInputData(e){this.subjectInputData.next(e)}getInputData(){return this.subjectInputData.asObservable()}getInputDataValue(e){let t={};if(e&&e.formControls)for(let o of e.formControls)o.value!==void 0&&(t[o.name]=o.value);return t}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var _t=(()=>{class i{constructor(){this.focused=!1,this.item=void 0,this.subjectItem=new Ae,this.subjectHideObjectPanel=new Ae,this.subjectClipboardItem=new Ae,this.subjectModifiedItem=new Ae,this.subjectSearchItem=new Ae,this.subjectObjectInfo=new Ae,this.subjectMessage=new Ae,this.subjectSelectedTreeNode=new Ae,this.subjectFwcTreeComponents=new an(null),this.subjectCloudCompile=new Ae,this.subjectFirewallPluginOperation=new Ae,this.subjectClusterPluginOperation=new Ae,this.subjectScrollTo=new Ae,this.subjectLastMinifiedDialogId=new Ae}setItem(e){this.item=e,this.subjectItem.next(e)}getItem(){return this.subjectItem.asObservable()}getActualItem(){return this.item}hideObjectPanel(){return this.subjectHideObjectPanel.next(!0),this.subjectHideObjectPanel.asObservable()}setClipboardItem(e,t){this.clipboardItem=e,this.clipboardItem.action=t,this.subjectClipboardItem.next(this.clipboardItem)}getClipboardItem(){return this.subjectClipboardItem.asObservable()}getActualClipboardItem(){return this.clipboardItem}clearClipboardItem(){this.clipboardItem=null,this.subjectClipboardItem.next(this.clipboardItem)}updateClipboardItem(e){this.clipboardItem&&e&&this.clipboardItem._fwcObjId==e._fwcObjId&&(this.clipboardItem._fwcObjName=e._fwcObjName),this.subjectClipboardItem.next(this.clipboardItem)}setDragItem(e){this.dragItem=e}getDragItem(){return this.dragItem}clearDragItem(){this.dragItem=null}setModifiedItem(e,t,o,r,s){e&&(t&&(e.deleteFromList=!0),o&&(e.addToList=!0),r&&(e.selectItemInPosition=!0),s&&(e.highlightItem=!0),this.modifiedItem=e,this.subjectModifiedItem.next(e))}getModifiedItem(){return this.subjectModifiedItem.asObservable()}setSearchItem(e){this.searchItem=e,this.subjectSearchItem.next(e)}getSearchItem(){return this.subjectSearchItem.asObservable()}getCloudToCompile(){return this.subjectCloudCompile.asObservable()}setCloudToCompile(e){this.subjectCloudCompile.next(e)}getFirewallToPluginOperation(){return this.subjectFirewallPluginOperation.asObservable()}setFirewallToPluginOperation(e){return this.subjectFirewallPluginOperation.next(e)}getClusterToPluginOperation(){return this.subjectClusterPluginOperation.asObservable()}setClusterToPluginOperation(e){return this.subjectClusterPluginOperation.next(e)}setObjectInfo(e,t){if(this.focused)return;let o,r=e?Object.assign({},e):void 0;t&&t.targetElement?o={obj:r,event:t.event,targetElement:t.targetElement}:o={obj:r,event:t||void 0},this.subjectObjectInfo.next(o)}getObjectInfo(){return this.subjectObjectInfo.asObservable()}setMessage(e){this.subjectMessage.next(e)}getMessage(){return this.subjectMessage.asObservable()}isFocused(){this.focused=!0}isBlur(){this.focused=!1,this.setObjectInfo(void 0,null)}setScrollToElement(e){this.subjectScrollTo.next(e)}getScrollToElement(){return this.subjectScrollTo.asObservable()}setLastMinifiedDialogId(e){this.lastMinifiedDialogId=e,this.subjectLastMinifiedDialogId.next(e)}getActualLastMinifiedDialogId(){return this.lastMinifiedDialogId}setFwcTreeComponents(e){this.subjectFwcTreeComponents.next(e)}getActualFwcTreeComponents(){return this.subjectFwcTreeComponents.getValue()}setSelectedTreeNode(e){this.subjectSelectedTreeNode.next(e)}getSelectedTreeNode(){return this.subjectSelectedTreeNode.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var qc=(()=>{class i{constructor(){this.subjectRule=new Ae,this.subjectSelectedRules=new Ae,this.subjectSelectedRulesRange=new Ae,this.subjectCompileSelectedRules=new Ae,this.subjectModifiedRule=new Ae,this.subjectClipboardRules=new Ae,this.subjectRuleStatus=new Ae,this.subjectRuleHeightRecalculate=new Ae,this.selectedRules=[]}setRule(e){this.rule=e,this.subjectRule.next(e)}getRule(){return this.subjectRule.asObservable()}addSelectedRule(e){let t=this.selectedRules.push(e);return this.subjectSelectedRules.next(this.selectedRules),t}removeSelectedRule(e){for(let t=0;t<this.selectedRules.length;t++)this.selectedRules[t].id==e.id&&(this.selectedRules.splice(t,1),this.subjectSelectedRules.next(this.selectedRules))}clearSelectedRules(){this.selectedRules=[],this.subjectSelectedRules.next([])}getSelectedRules(){return this.subjectSelectedRules.asObservable()}getActualSelectedRules(e){if(e)for(let t=0;t<this.selectedRules.length;t++){let o=[];return this.selectedRules[t].id==e&&o.push(this.selectedRules[t]),o.length?o:null}else return this.selectedRules.length?this.selectedRules:null}setSelectedRuleRange(e,t){this.selectedRulesRange={minRuleOrder:e,maxRuleOrder:t},this.subjectSelectedRulesRange.next(this.selectedRulesRange)}getSelectedRuleRange(){return this.subjectSelectedRulesRange.asObservable()}setSelectedRules(e){this.selectedRules=e,this.subjectSelectedRules.next(this.selectedRules)}updateSelectedRules(e,t){if(e&&e.length&&t&&t.length){this.selectedRules=[];for(let o=0;o<e.length;o++){let r=e[o];for(let s=0;s<t.length;s++)r.id==t[s].id&&r.firewall==t[s].firewall&&this.selectedRules.push(t[s])}}}getSelectedRulesLength(){return this.selectedRules.length}isRuleSelected(e){let t=!1;for(let o=0;o<this.selectedRules.length&&!t;o++)this.selectedRules[o].id==e&&(t=!0);return t}copyRulesToClipboard(){this.clipboardRules={action:Vn.COPY,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}cutRulesToClipboard(){this.clipboardRules={action:Vn.CUT,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}clearClipboardRules(){this.clipboardRules=null,this.subjectClipboardRules.next(this.clipboardRules)}getClipboardRules(){return this.subjectClipboardRules.asObservable()}getActualClipboardRules(){return this.clipboardRules&&this.clipboardRules.rules.length?this.clipboardRules:null}getActualClipboardRulesLength(){let e=0;return this.clipboardRules&&this.clipboardRules.rules&&(e=this.clipboardRules.rules.length),e}getClipboardRulesGroups(){return this.getRulesGroups(this.clipboardRules.rules)}getSelectedRulesGroups(){return this.getRulesGroups(this.selectedRules)}getRulesGroups(e){let t=[];for(let o=0;o<e.length;o++){let r=e[o].idgroup;r===null&&(r=-1),t.indexOf(r)==-1&&t.push(r)}return t}setSelectedRulesToCompile(){this.subjectCompileSelectedRules.next(!0)}getSelectedRulesToCompile(){return this.subjectCompileSelectedRules.asObservable()}getRulesOrderedIds(e,t){if(e){let o=e.slice(0),r=[],s;o.sort(function(a,l){return a.rule_order>l.rule_order?1:a.rule_order<l.rule_order?-1:0}),t&&(o=o.filter(a=>!a.special||a.special===zA.HOOKSCRIPT));for(let a=0;a<o.length;a++)r.push(o[a].id);return s={orderedRules:o,rulesIds:r},s}else return null}setModifiedRule(e){this.subjectModifiedRule.next(e)}getModifiedRule(){return this.subjectModifiedRule.asObservable()}setRuleStatus(e){this.subjectRuleStatus.next(e)}getRuleStatus(){return this.subjectRuleStatus.asObservable()}setRuleHeightRecalculate(e){this.subjectRuleHeightRecalculate.next(e)}getRuleHeightRecalculate(){return this.subjectRuleHeightRecalculate.asObservable()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var Lht=(()=>{class i{constructor(){}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ia=Object.create(null);Ia.open="0";Ia.close="1";Ia.ping="2";Ia.pong="3";Ia.message="4";Ia.upgrade="5";Ia.noop="6";var Em=Object.create(null);Object.keys(Ia).forEach(i=>{Em[Ia[i]]=i});var Tm={type:"error",data:"parser error"};var N4=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",V4=typeof ArrayBuffer=="function",B4=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Om=({type:i,data:n},e,t)=>N4&&n instanceof Blob?e?t(n):M4(n,t):V4&&(n instanceof ArrayBuffer||B4(n))?e?t(n):M4(new Blob([n]),t):t(Ia[i]+(n||"")),M4=(i,n)=>{let e=new FileReader;return e.onload=function(){let t=e.result.split(",")[1];n("b"+(t||""))},e.readAsDataURL(i)};function k4(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var vx;function U4(i,n){if(N4&&i.data instanceof Blob)return i.data.arrayBuffer().then(k4).then(n);if(V4&&(i.data instanceof ArrayBuffer||B4(i.data)))return n(k4(i.data));Om(i,!1,e=>{vx||(vx=new TextEncoder),n(vx.encode(e))})}var j4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<j4.length;i++)Rm[j4.charCodeAt(i)]=i;var H4=i=>{let n=i.length*.75,e=i.length,t,o=0,r,s,a,l;i[i.length-1]==="="&&(n--,i[i.length-2]==="="&&n--);let c=new ArrayBuffer(n),u=new Uint8Array(c);for(t=0;t<e;t+=4)r=Rm[i.charCodeAt(t)],s=Rm[i.charCodeAt(t+1)],a=Rm[i.charCodeAt(t+2)],l=Rm[i.charCodeAt(t+3)],u[o++]=r<<2|s>>4,u[o++]=(s&15)<<4|a>>2,u[o++]=(a&3)<<6|l&63;return c};var Rfe=typeof ArrayBuffer=="function",Dm=(i,n)=>{if(typeof i!="string")return{type:"message",data:G4(i,n)};let e=i.charAt(0);return e==="b"?{type:"message",data:Dfe(i.substring(1),n)}:Em[e]?i.length>1?{type:Em[e],data:i.substring(1)}:{type:Em[e]}:Tm},Dfe=(i,n)=>{if(Rfe){let e=H4(i);return G4(e,n)}else return{base64:!0,data:i}},G4=(i,n)=>{switch(n){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var z4="",W4=(i,n)=>{let e=i.length,t=new Array(e),o=0;i.forEach((r,s)=>{Om(r,!1,a=>{t[s]=a,++o===e&&n(t.join(z4))})})},$4=(i,n)=>{let e=i.split(z4),t=[];for(let o=0;o<e.length;o++){let r=Dm(e[o],n);if(t.push(r),r.type==="error")break}return t};function K4(){return new TransformStream({transform(i,n){U4(i,e=>{let t=e.length,o;if(t<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,t);else if(t<65536){o=new Uint8Array(3);let r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,t)}else{o=new Uint8Array(9);let r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(t))}i.data&&typeof i.data!="string"&&(o[0]|=128),n.enqueue(o),n.enqueue(e)})}})}var bx;function BI(i){return i.reduce((n,e)=>n+e.length,0)}function UI(i,n){if(i[0].length===n)return i.shift();let e=new Uint8Array(n),t=0;for(let o=0;o<n;o++)e[o]=i[0][t++],t===i[0].length&&(i.shift(),t=0);return i.length&&t<i[0].length&&(i[0]=i[0].slice(t)),e}function q4(i,n){bx||(bx=new TextDecoder);let e=[],t=0,o=-1,r=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(t===0){if(BI(e)<1)break;let l=UI(e,1);r=(l[0]&128)===128,o=l[0]&127,o<126?t=3:o===126?t=1:t=2}else if(t===1){if(BI(e)<2)break;let l=UI(e,2);o=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),t=3}else if(t===2){if(BI(e)<8)break;let l=UI(e,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Tm);break}o=u*Math.pow(2,32)+c.getUint32(4),t=3}else{if(BI(e)<o)break;let l=UI(e,o);a.enqueue(Dm(r?l:bx.decode(l),n)),t=0}if(o===0||o>i){a.enqueue(Tm);break}}}})}var yx=4;function Pn(i){if(i)return Pfe(i)}function Pfe(i){for(var n in Pn.prototype)i[n]=Pn.prototype[n];return i}Pn.prototype.on=Pn.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this};Pn.prototype.once=function(i,n){function e(){this.off(i,e),n.apply(this,arguments)}return e.fn=n,this.on(i,e),this};Pn.prototype.off=Pn.prototype.removeListener=Pn.prototype.removeAllListeners=Pn.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var t,o=0;o<e.length;o++)if(t=e[o],t===n||t.fn===n){e.splice(o,1);break}return e.length===0&&delete this._callbacks["$"+i],this};Pn.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+i],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(e){e=e.slice(0);for(var t=0,o=e.length;t<o;++t)e[t].apply(this,n)}return this};Pn.prototype.emitReserved=Pn.prototype.emit;Pn.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Pn.prototype.hasListeners=function(i){return!!this.listeners(i).length};var Ul=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),Br=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Y4="arraybuffer";function jI(i,...n){return n.reduce((e,t)=>(i.hasOwnProperty(t)&&(e[t]=i[t]),e),{})}var Ffe=Br.setTimeout,Lfe=Br.clearTimeout;function jl(i,n){n.useNativeTimers?(i.setTimeoutFn=Ffe.bind(Br),i.clearTimeoutFn=Lfe.bind(Br)):(i.setTimeoutFn=Br.setTimeout.bind(Br),i.clearTimeoutFn=Br.clearTimeout.bind(Br))}var Mfe=1.33;function J4(i){return typeof i=="string"?kfe(i):Math.ceil((i.byteLength||i.size)*Mfe)}function kfe(i){let n=0,e=0;for(let t=0,o=i.length;t<o;t++)n=i.charCodeAt(t),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(t++,e+=4);return e}function HI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function X4(i){let n="";for(let e in i)i.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return n}function Q4(i){let n={},e=i.split("&");for(let t=0,o=e.length;t<o;t++){let r=e[t].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var GI=class extends Error{constructor(n,e,t){super(n),this.description=e,this.context=t,this.type="TransportError"}},Hl=class extends Pn{constructor(n){super(),this.writable=!1,jl(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,e,t){return super.emitReserved("error",new GI(n,e,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){let e=Dm(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){let e=X4(n);return e.length?"?"+e:""}};var Pm=class extends Hl{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){let e=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};$4(n,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,W4(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=HI()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}};var Z4=!1;try{Z4=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var eV=Z4;function Nfe(){}var wx=class extends Pm{constructor(n){if(super(n),typeof location<"u"){let e=location.protocol==="https:",t=location.port;t||(t=e?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||t!==n.port}}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}},zI=(()=>{class i extends Pn{constructor(e,t,o){super(),this.createRequest=e,jl(this,o),this._opts=o,this._method=o.method||"GET",this._uri=t,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var e;let t=jI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let o=this._xhr=this.createRequest(t);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&o.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var r;o.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Nfe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tV);else if(typeof addEventListener=="function"){let i="onpagehide"in Br?"pagehide":"unload";addEventListener(i,tV,!1)}}function tV(){for(let i in zI.requests)zI.requests.hasOwnProperty(i)&&zI.requests[i].abort()}var Vfe=function(){let i=iV({xdomain:!1});return i&&i.responseType!==null}(),Yc=class extends wx{constructor(n){super(n);let e=n&&n.forceBase64;this.supportsBinary=Vfe&&!e}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new zI(iV,this.uri(),n)}};function iV(i){let n=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||eV))return new XMLHttpRequest}catch{}if(!n)try{return new Br[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var nV=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Ax=class extends Hl{get name(){return"websocket"}doOpen(){let n=this.uri(),e=this.opts.protocols,t=nV?{}:jI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,e,t)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],o=e===n.length-1;Om(t,this.supportsBinary,r=>{try{this.doWrite(t,r)}catch{}o&&Ul(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=HI()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}},Sx=Br.WebSocket||Br.MozWebSocket,Jc=class extends Ax{createSocket(n,e,t){return nV?new Sx(n,e,t):e?new Sx(n,e):new Sx(n)}doWrite(n,e){this.ws.send(e)}};var oh=class extends Hl{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{let e=q4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),o=K4();o.readable.pipeTo(n.writable),this._writer=o.writable.getWriter();let r=()=>{t.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],o=e===n.length-1;this._writer.write(t).then(()=>{o&&Ul(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}};var xx={websocket:Jc,webtransport:oh,polling:Yc};var Bfe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ufe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rh(i){if(i.length>8e3)throw"URI too long";let n=i,e=i.indexOf("["),t=i.indexOf("]");e!=-1&&t!=-1&&(i=i.substring(0,e)+i.substring(e,t).replace(/:/g,";")+i.substring(t,i.length));let o=Bfe.exec(i||""),r={},s=14;for(;s--;)r[Ufe[s]]=o[s]||"";return e!=-1&&t!=-1&&(r.source=n,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=jfe(r,r.path),r.queryKey=Hfe(r,r.query),r}function jfe(i,n){let e=/\/{2,9}/g,t=n.replace(e,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&t.splice(0,1),n.slice(-1)=="/"&&t.splice(t.length-1,1),t}function Hfe(i,n){let e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,o,r){o&&(e[o]=r)}),e}var Ex=typeof addEventListener=="function"&&typeof removeEventListener=="function",WI=[];Ex&&addEventListener("offline",()=>{WI.forEach(i=>i())},!1);var $I=(()=>{class i extends Pn{constructor(e,t){if(super(),this.binaryType=Y4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){let o=rh(e);t.hostname=o.host,t.secure=o.protocol==="https"||o.protocol==="wss",t.port=o.port,o.query&&(t.query=o.query)}else t.host&&(t.hostname=rh(t.host).host);jl(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(o=>{let r=o.prototype.name;this.transports.push(r),this._transportsByName[r]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Q4(this.opts.query)),Ex&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},WI.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=yx,t.transport=e,this.id&&(t.sid=this.id);let o=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let o=0;o<this.writeBuffer.length;o++){let r=this.writeBuffer[o].data;if(r&&(t+=J4(r)),o>0&&t>this._maxPayload)return this.writeBuffer.slice(0,o);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Ul(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,o){return this._sendPacket("message",e,t,o),this}send(e,t,o){return this._sendPacket("message",e,t,o),this}_sendPacket(e,t,o,r){if(typeof t=="function"&&(r=t,t=void 0),typeof o=="function"&&(r=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;let s={type:e,data:t,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},o=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ex&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let o=WI.indexOf(this._offlineEventListener);o!==-1&&WI.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=yx,i})(),KI=class extends $I{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let e=this.createTransport(n),t=!1;$I.priorWebsocketSuccess=!1;let o=()=>{t||(e.send([{type:"ping",data:"probe"}]),e.once("packet",g=>{if(!t)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;$I.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{t||this.readyState!=="closed"&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let _=new Error("probe error");_.transport=e.name,this.emitReserved("upgradeError",_)}}))};function r(){t||(t=!0,u(),e.close(),e=null)}let s=g=>{let _=new Error("probe error: "+g);_.transport=e.name,r(),this.emitReserved("upgradeError",_)};function a(){s("transport closed")}function l(){s("socket closed")}function c(g){e&&g.name!==e.name&&r()}let u=()=>{e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};e.once("open",o),e.once("error",s),e.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{t||e.open()},200):e.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){let e=[];for(let t=0;t<n.length;t++)~this.transports.indexOf(n[t])&&e.push(n[t]);return e}},sh=class extends KI{constructor(n,e={}){let t=typeof n=="object"?n:e;(!t.transports||t.transports&&typeof t.transports[0]=="string")&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(o=>xx[o]).filter(o=>!!o)),super(n,t)}};var Uft=sh.protocol;function oV(i,n="",e){let t=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),t=rh(i)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let r=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+r+":"+t.port+n,t.href=t.protocol+"://"+r+(e&&e.port===t.port?"":":"+t.port),t}var Fx={};rc(Fx,{Decoder:()=>Dx,Encoder:()=>Rx,PacketType:()=>Hi,protocol:()=>cV});var zfe=typeof ArrayBuffer=="function",Wfe=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,rV=Object.prototype.toString,$fe=typeof Blob=="function"||typeof Blob<"u"&&rV.call(Blob)==="[object BlobConstructor]",Kfe=typeof File=="function"||typeof File<"u"&&rV.call(File)==="[object FileConstructor]";function Lm(i){return zfe&&(i instanceof ArrayBuffer||Wfe(i))||$fe&&i instanceof Blob||Kfe&&i instanceof File}function Fm(i,n){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,t=i.length;e<t;e++)if(Fm(i[e]))return!0;return!1}if(Lm(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Fm(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&Fm(i[e]))return!0;return!1}function sV(i){let n=[],e=i.data,t=i;return t.data=Tx(e,n),t.attachments=n.length,{packet:t,buffers:n}}function Tx(i,n){if(!i)return i;if(Lm(i)){let e={_placeholder:!0,num:n.length};return n.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let t=0;t<i.length;t++)e[t]=Tx(i[t],n);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=Tx(i[t],n));return e}return i}function aV(i,n){return i.data=Ox(i.data,n),delete i.attachments,i}function Ox(i,n){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=Ox(i[e],n);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=Ox(i[e],n));return i}var qfe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cV=5,Hi=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(Hi||{}),Rx=class{constructor(n){this.replacer=n}encode(n){return(n.type===Hi.EVENT||n.type===Hi.ACK)&&Fm(n)?this.encodeAsBinary({type:n.type===Hi.EVENT?Hi.BINARY_EVENT:Hi.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let e=""+n.type;return(n.type===Hi.BINARY_EVENT||n.type===Hi.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=sV(n),t=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(t),o}};function lV(i){return Object.prototype.toString.call(i)==="[object Object]"}var Dx=class i extends Pn{constructor(n){super(),this.reviver=n}add(n){let e;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);let t=e.type===Hi.BINARY_EVENT;t||e.type===Hi.BINARY_ACK?(e.type=t?Hi.EVENT:Hi.ACK,this.reconstructor=new Px(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(Lm(n)||n.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let e=0,t={type:Number(n.charAt(0))};if(Hi[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===Hi.BINARY_EVENT||t.type===Hi.BINARY_ACK){let r=e+1;for(;n.charAt(++e)!=="-"&&e!=n.length;);let s=n.substring(r,e);if(s!=Number(s)||n.charAt(e)!=="-")throw new Error("Illegal attachments");t.attachments=Number(s)}if(n.charAt(e+1)==="/"){let r=e+1;for(;++e&&!(n.charAt(e)===","||e===n.length););t.nsp=n.substring(r,e)}else t.nsp="/";let o=n.charAt(e+1);if(o!==""&&Number(o)==o){let r=e+1;for(;++e;){let s=n.charAt(e);if(s==null||Number(s)!=s){--e;break}if(e===n.length)break}t.id=Number(n.substring(r,e+1))}if(n.charAt(++e)){let r=this.tryParse(n.substr(e));if(i.isPayloadValid(t.type,r))t.data=r;else throw new Error("invalid payload")}return t}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case Hi.CONNECT:return lV(e);case Hi.DISCONNECT:return e===void 0;case Hi.CONNECT_ERROR:return typeof e=="string"||lV(e);case Hi.EVENT:case Hi.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&qfe.indexOf(e[0])===-1);case Hi.ACK:case Hi.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Px=class{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){let e=aV(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ys(i,n,e){return i.on(n,e),function(){i.off(n,e)}}var Yfe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ah=class extends Pn{constructor(n,e,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let n=this.io;this.subs=[ys(n,"open",this.onopen.bind(this)),ys(n,"packet",this.onpacket.bind(this)),ys(n,"error",this.onerror.bind(this)),ys(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){var t,o,r;if(Yfe.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let s={type:Hi.EVENT,data:e};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let u=this.ids++,g=e.pop();this._registerAckCallback(u,g),s.id=u}let a=(o=(t=this.io.engine)===null||t===void 0?void 0:t.transport)===null||o===void 0?void 0:o.writable,l=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){var t;let o=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(o===void 0){this.acks[n]=e;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},o),s=(...a)=>{this.io.clearTimeoutFn(r),e.apply(this,a)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((t,o)=>{let r=(s,a)=>s?o(s):t(a);r.withError=!0,e.push(r),this.emit(n,...e)})}_addToQueue(n){let e;typeof n[n.length-1]=="function"&&(e=n.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...r)=>t!==this._queue[0]?void 0:(o!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(o)):(this._queue.shift(),e&&e(null,...r)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Hi.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(t=>String(t.id)===n)){let t=this.acks[n];delete this.acks[n],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Hi.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Hi.EVENT:case Hi.BINARY_EVENT:this.onevent(n);break;case Hi.ACK:case Hi.BINARY_ACK:this.onack(n);break;case Hi.DISCONNECT:this.ondisconnect();break;case Hi.CONNECT_ERROR:this.destroy();let t=new Error(n.data.message);t.data=n.data.data,this.emitReserved("connect_error",t);break}}onevent(n){let e=n.data||[];n.id!=null&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let t of e)t.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){let e=this,t=!1;return function(...o){t||(t=!0,e.packet({type:Hi.ACK,id:n,data:o}))}}onack(n){let e=this.acks[n.id];typeof e=="function"&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Hi.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){let e=this._anyListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){let e=this._anyOutgoingListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let t of e)t.apply(this,n.data)}}};function su(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}su.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*i);i=Math.floor(n*10)&1?i+e:i-e}return Math.min(i,this.max)|0};su.prototype.reset=function(){this.attempts=0};su.prototype.setMin=function(i){this.ms=i};su.prototype.setMax=function(i){this.max=i};su.prototype.setJitter=function(i){this.jitter=i};var lh=class extends Pn{constructor(n,e){var t;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,jl(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((t=e.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new su({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=n;let o=e.parser||Fx;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(e=this.backoff)===null||e===void 0||e.setMin(n),this)}randomizationFactor(n){var e;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(e=this.backoff)===null||e===void 0||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(e=this.backoff)===null||e===void 0||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new sh(this.uri,this.opts);let e=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let o=ys(e,"open",function(){t.onopen(),n&&n()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},s=ys(e,"error",r);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),e.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(o),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let n=this.engine;this.subs.push(ys(n,"ping",this.onping.bind(this)),ys(n,"data",this.ondata.bind(this)),ys(n,"error",this.onerror.bind(this)),ys(n,"close",this.onclose.bind(this)),ys(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){Ul(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let t=this.nsps[n];return t?this._autoConnect&&!t.active&&t.connect():(t=new ah(this,n,e),this.nsps[n]=t),t}_destroy(n){let e=Object.keys(this.nsps);for(let t of e)if(this.nsps[t].active)return;this._close()}_packet(n){let e=this.encoder.encode(n);for(let t=0;t<e.length;t++)this.engine.write(e[t],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,e){var t;this.cleanup(),(t=this.engine)===null||t===void 0||t.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},e);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}};var Mm={};function km(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};let e=oV(i,n.path||"/socket.io"),t=e.source,o=e.id,r=e.path,s=Mm[o]&&r in Mm[o].nsps,a=n.forceNew||n["force new connection"]||n.multiplex===!1||s,l;return a?l=new lh(t,n):(Mm[o]||(Mm[o]=new lh(t,n)),l=Mm[o]),e.query&&!n.query&&(n.query=e.queryKey),l.socket(e.path,n)}Object.assign(km,{Manager:lh,Socket:ah,io:km,connect:km});var Ct=(()=>{class i extends Ii{constructor(e,t,o,r,s,a,l,c,u,g){super(e),this.httpClient=e,this.itemSelectedService=t,this.fwcUserService=o,this.fwcAuthService=r,this.messageService=s,this.fwcEventService=a,this.location=l,this.translate=c,this.refService=u,this.componentFactoryResolver=g,this.IO_MSG_TYPE="FWC_MSG",this.DEFAULT_PING_MS=5*60*1e3,this.subjectGridScroll=new Ae,this.subjectGridScrollToTop=new Ae,this.subjectHeaderScroll=new Ae,this.endpoint=de.settings.fwcAppURL,mp.socketDebug?localStorage.setItem("debug","engine.io-client:socket"):localStorage.removeItem("debug")}getTwitterTimeline(){let e=`${this.endpoint}/twitter/gettimeline`;return this.httpClient.get(e).pipe($(this.handleAPIError))}getTwitterLatest(){let e=`${this.endpoint}/twitter/searchtweets`;return this.httpClient.get(e).pipe($(this.handleAPIError))}ioConnect(e){let t,o,r;t=new URL(de.settings.fwcAppURL),o=new URL(window.location.href),t.origin===o.origin?r=t.origin:r=de.settings.fwcAppURL,this.socket=km(r),this.socket.on("connect",()=>{de.log("Socket connection established. ID: ",this.socket.id),this.fwcEventService.emitEvent({type:Ca.EVENT_CONNECTION_ESTABLISHED}),e&&(e(),e=null)}),this.socket.on("disconnect",()=>{de.log("Socket connection finished."),this.fwcEventService.emitEvent({type:Ca.EVENT_CONNECTION_LOST})}),this.socket.on("ca:dh:created",s=>{let a={_fwcTreeAction:qi.RELOAD_TREE,containerToReload:ft.C_CA};this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.SUMMARY"),detail:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.TEXT",{caId:s.caId})}),this.itemSelectedService.setModifiedItem(a)}),this.socket.on("log:info",s=>{let a=s.replace(/(?:\r\n|\r|\n)/g,"<br>"),l={type:Ca.EVENT_LOG,message:a};this.fwcEventService.emitEvent(l)}),this.socket.on("log:END",s=>{let a={type:Ca.EVENT_LOG,message:"END"};this.fwcEventService.emitEvent(a)})}ioSendMsg(e,t=this.IO_MSG_TYPE){this.socket.emit(t,e)}ioGetMsgs(){return new Qt(e=>{this.socket.on(this.IO_MSG_TYPE,t=>{e.next(t)})})}ioGetSocketId(){return this.socket?this.socket.id:null}ioGetSocketConnected(){return this.socket?this.socket.connected:!1}ioDisconnect(){this.socket&&this.socket.close()}doAppLogout(e){this.fwcAuthService.logout(),this.ioDisconnect(),this.clearPingInterval(),e&&localStorage.setItem(Di.LS_RELOAD_APP,new Date().getTime().toString())}ioListenOnLogEvent(e){this.socket.on(e,t=>{this.fwcEventService.emitEvent(t)})}ioReleaseLogEvent(e){this.socket.off(e)}generatePGPKeys(){return he(this,null,function*(){let{privateKey:e,publicKey:t}=yield FO({userIDs:[{name:"FWCloud.net",email:"info@fwcloud.net"}],rsaBits:2048,format:"armored"});return{publicKeyArmored:t,privateKeyArmored:e}})}openPGPEncrypt(e,t){return he(this,null,function*(){if(!t)return e;let o=yield OO({armoredKey:t});return(yield LO({message:yield PO({text:e}),encryptionKeys:o})).toString()})}openPGPDecrypt(e,t){return he(this,null,function*(){if(!t)return e;let o=yield RO({armoredKey:t}),r=yield DO({armoredMessage:e}),{data:s}=yield MO({message:r,decryptionKeys:o});return s.toString()})}createDynamicComponentRef(e){return this.refService.getAppRef().createComponent(e)}fileUpload(e){let t=`${this.endpoint}/fileupload`,o=new FormData;return o.append("cloudImg",e),de.log("FILE: ",e,o),this.httpClient.post(t,o).pipe($(this.handleAPIError))}getAppVersions(){if(de.settings.checkUpdates===!1)return this.getAPIVersion();let e=de.settings.installMethod===$a.pkg?`${this.endpoint}/updates/type/${$a.pkg}`:`${this.endpoint}/updates`;return this.httpClient.get(e).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}getAPIVersion(){let e=`${this.endpoint}/version`;return this.httpClient.get(e).pipe(U(this.handleAPIResponseNew),U(t=>({status:t.status,data:{api:{current:t.data.version,last:t.data.version,needsUpdate:!1},websrv:{current:null,last:null,needsUpdate:!1},ui:{current:mp.VERSION,last:mp.VERSION,needsUpdate:!1},updater:{current:null,last:null,needsUpdate:!1}}})),$(this.handleAPIError))}updateVersion(e){let t=`${this.endpoint}/updates/${e}`;return this.httpClient.put(t,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}setGridScroll(e){this.subjectGridScroll.next(e)}getGridScroll(){return this.subjectGridScroll.asObservable().pipe(Xb(100))}setGridScrollToTop(){this.subjectGridScrollToTop.next(!0)}getGridScrollToTop(){return this.subjectGridScrollToTop.asObservable()}pingServer(){let e=`${this.endpoint}/ping`;return this.httpClient.put(e,{}).pipe(U(this.handleAPIResponseNew),$(this.handleAPIError))}setPingInterval(){this.clearPingInterval(),this.pingInterval=setInterval(()=>{this.pingServer().subscribe(e=>{},e=>{})},this.DEFAULT_PING_MS)}clearPingInterval(){clearInterval(this.pingInterval)}fwcAPICall(e,...t){return new Promise((r,s)=>{e||s({error:{msg:"Incorrect API call"}}),Array.isArray(t)||(t=[]),e(...t).subscribe(a=>{r(a)},a=>he(this,null,function*(){if(a&&a.status==403&&a.error){let l=a.error;if(a.error instanceof Blob&&(l=yield a.error.text(),l=JSON.parse(l)),l.fwc_confirm_token){let c=l.fwc_confirm_token;this.fwcUserService.setConfirmationToken(c),e(...t).subscribe(u=>{r(u),this.fwcUserService.setConfirmationToken(void 0)},u=>{s(u),this.fwcUserService.setConfirmationToken(void 0)})}else s(a)}else s(a)}))})}fwcAPICallObservable(e,...t){return new Qt(o=>{if(!e){o.error({error:{msg:"Incorrect API call"}});return}Array.isArray(t)||(t=[]);let r=e(...t).subscribe(s=>{o.next(s),o.complete()},s=>he(this,null,function*(){if(s&&s.status==403&&s.error){let a=s.error;if(s.error instanceof Blob&&(a=yield s.error.text(),a=JSON.parse(a)),a.fwc_confirm_token){let l=a.fwc_confirm_token;this.fwcUserService.setConfirmationToken(l);let c=e(...t).subscribe(u=>{o.next(u),o.complete()},u=>{o.error(u)});return()=>{c.unsubscribe()}}else o.error(s)}else o.error(s)}));return()=>{r.unsubscribe()}})}isCommunicationErrorStr(e){let t=/SSH_ERROR\((client-authentication|client-socket|client-timeout)\)/.exec(e),o=/(ECONNREFUSED|ETIMEDOUT|EHOSTUNREACH|ECONNRESET|EPROTO|ECONNABORTED: Timeout|ApiKeyNotFound|ApiKeyNotValid|NotAllowedIP|DirNotFound)/.exec(e),r=null,s;return t?s=t[1]:o&&(s=o[1],s==="ETIMEDOUT"&&(s="ECONNABORTED: Timeout")),s&&(r=this.translate.instant("API_ERROR."+s)),r}isCommunicationError(e){let t=null,o;if(e){let r;e.msg?r=e.msg:e.message&&(r=e.message),t=this.isCommunicationErrorStr(r)}return t}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(_t),ie(ot),ie(Jr),ie(Kt),ie(_n),ie(bc),ie(je),ie(zs),ie(Cc))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var qI=(()=>{class i{constructor(){this.forwardSelection=new Ae}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mV=new WeakMap,iv=i=>(...n)=>{let e=i(...n);return mV.set(e,!0),e},Bm=i=>typeof i=="function"&&mV.has(i),dV=window.customElements!==void 0&&window.customElements.polyfillWrapFlushCallback!==void 0,Wx=(i,n,e=null)=>{for(;n!==e;){let t=n.nextSibling;i.removeChild(n),n=t}},va={},uV={},Gl=`{{lit-${String(Math.random()).slice(2)}}}`,gV=`<!--${Gl}-->`,pV=new RegExp(`${Gl}|${gV}`),Nm="$lit$",JI=class{constructor(n,e){this.parts=[],this.element=e;let t=[],o=[],r=document.createTreeWalker(e.content,133,null,!1),s=0,a=-1,l=0,{strings:c,values:{length:u}}=n;for(;l<u;){let g=r.nextNode();if(g!==null){if(a++,g.nodeType===1){if(g.hasAttributes()){let _=g.attributes,{length:C}=_,w=0;for(let S=0;S<C;S++)hV(_[S].name,Nm)&&w++;for(;w-- >0;){let S=c[l],A=Vx.exec(S)[2],x=A.toLowerCase()+Nm,D=g.getAttribute(x);g.removeAttribute(x);let V=D.split(pV);this.parts.push({type:"attribute",index:a,name:A,strings:V}),l+=V.length-1}}g.tagName==="TEMPLATE"&&(o.push(g),r.currentNode=g.content)}else if(g.nodeType===3){let _=g.data;if(_.indexOf(Gl)>=0){let C=g.parentNode,w=_.split(pV),S=w.length-1;for(let A=0;A<S;A++){let x,D=w[A];if(D==="")x=Xc();else{let V=Vx.exec(D);V!==null&&hV(V[2],Nm)&&(D=D.slice(0,V.index)+V[1]+V[2].slice(0,-Nm.length)+V[3]),x=document.createTextNode(D)}C.insertBefore(x,g),this.parts.push({type:"node",index:++a})}w[S]===""?(C.insertBefore(Xc(),g),t.push(g)):g.data=w[S],l+=S}}else if(g.nodeType===8)if(g.data===Gl){let _=g.parentNode;(g.previousSibling===null||a===s)&&(a++,_.insertBefore(Xc(),g)),s=a,this.parts.push({type:"node",index:a}),g.nextSibling===null?g.data="":(t.push(g),a--),l++}else{let _=-1;for(;(_=g.data.indexOf(Gl,_+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}else r.currentNode=o.pop()}for(let g of t)g.parentNode.removeChild(g)}},hV=(i,n)=>{let e=i.length-n.length;return e>=0&&i.slice(e)===n},_V=i=>i.index!==-1,Xc=()=>document.createComment(""),Vx=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var Um=class{constructor(n,e,t){this.__parts=[],this.template=n,this.processor=e,this.options=t}update(n){let e=0;for(let t of this.__parts)t!==void 0&&t.setValue(n[e]),e++;for(let t of this.__parts)t!==void 0&&t.commit()}_clone(){let n=dV?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],t=this.template.parts,o=document.createTreeWalker(n,133,null,!1),r,s=0,a=0,l=o.nextNode();for(;s<t.length;)if(r=t[s],_V(r)){for(;a<r.index;)a++,l.nodeName==="TEMPLATE"&&(e.push(l),o.currentNode=l.content),(l=o.nextNode())===null&&(o.currentNode=e.pop(),l=o.nextNode());if(r.type==="node"){let c=this.processor.handleTextExpression(this.options);c.insertAfterNode(l.previousSibling),this.__parts.push(c)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));s++}else this.__parts.push(void 0),s++;return dV&&(document.adoptNode(n),customElements.upgrade(n)),n}};var Xfe=` ${Gl} `,ba=class{constructor(n,e,t,o){this.strings=n,this.values=e,this.type=t,this.processor=o}getHTML(){let n=this.strings.length-1,e="",t=!1;for(let o=0;o<n;o++){let r=this.strings[o],s=r.lastIndexOf("<!--");t=(s>-1||t)&&r.indexOf("-->",s+1)===-1;let a=Vx.exec(r);a===null?e+=r+(t?Xfe:gV):e+=r.substr(0,a.index)+a[1]+a[2]+Nm+a[3]+Gl}return e+=this.strings[n]}getTemplateElement(){let n=document.createElement("template");return n.innerHTML=this.getHTML(),n}};var $x=i=>i===null||!(typeof i=="object"||typeof i=="function"),CV=i=>Array.isArray(i)||!(!i||!i[Symbol.iterator]),XI=class{constructor(n,e,t){this.dirty=!0,this.element=n,this.name=e,this.strings=t,this.parts=[];for(let o=0;o<t.length-1;o++)this.parts[o]=this._createPart()}_createPart(){return new Qc(this)}_getValue(){let n=this.strings,e=n.length-1,t="";for(let o=0;o<e;o++){t+=n[o];let r=this.parts[o];if(r!==void 0){let s=r.value;if($x(s)||!CV(s))t+=typeof s=="string"?s:String(s);else for(let a of s)t+=typeof a=="string"?a:String(a)}}return t+=n[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},Qc=class{constructor(n){this.value=void 0,this.committer=n}setValue(n){n!==va&&(!$x(n)||n!==this.value)&&(this.value=n,Bm(n)||(this.committer.dirty=!0))}commit(){for(;Bm(this.value);){let n=this.value;this.value=va,n(this)}this.value!==va&&this.committer.commit()}},QI=class i{constructor(n){this.value=void 0,this.__pendingValue=void 0,this.options=n}appendInto(n){this.startNode=n.appendChild(Xc()),this.endNode=n.appendChild(Xc())}insertAfterNode(n){this.startNode=n,this.endNode=n.nextSibling}appendIntoPart(n){n.__insert(this.startNode=Xc()),n.__insert(this.endNode=Xc())}insertAfterPart(n){n.__insert(this.startNode=Xc()),this.endNode=n.endNode,n.endNode=this.startNode}setValue(n){this.__pendingValue=n}commit(){for(;Bm(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=va,e(this)}let n=this.__pendingValue;n!==va&&($x(n)?n!==this.value&&this.__commitText(n):n instanceof ba?this.__commitTemplateResult(n):n instanceof Node?this.__commitNode(n):CV(n)?this.__commitIterable(n):n===uV?(this.value=uV,this.clear()):this.__commitText(n))}__insert(n){this.endNode.parentNode.insertBefore(n,this.endNode)}__commitNode(n){this.value!==n&&(this.clear(),this.__insert(n),this.value=n)}__commitText(n){let e=this.startNode.nextSibling,t=typeof(n=n??"")=="string"?n:String(n);e===this.endNode.previousSibling&&e.nodeType===3?e.data=t:this.__commitNode(document.createTextNode(t)),this.value=n}__commitTemplateResult(n){let e=this.options.templateFactory(n);if(this.value instanceof Um&&this.value.template===e)this.value.update(n.values);else{let t=new Um(e,n.processor,this.options),o=t._clone();t.update(n.values),this.__commitNode(o),this.value=t}}__commitIterable(n){Array.isArray(this.value)||(this.value=[],this.clear());let e=this.value,t,o=0;for(let r of n)(t=e[o])===void 0&&(t=new i(this.options),e.push(t),o===0?t.appendIntoPart(this):t.insertAfterPart(e[o-1])),t.setValue(r),t.commit(),o++;o<e.length&&(e.length=o,this.clear(t&&t.endNode))}clear(n=this.startNode){Wx(this.startNode.parentNode,n.nextSibling,this.endNode)}},Bx=class{constructor(n,e,t){if(this.value=void 0,this.__pendingValue=void 0,t.length!==2||t[0]!==""||t[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=n,this.name=e,this.strings=t}setValue(n){this.__pendingValue=n}commit(){for(;Bm(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=va,e(this)}if(this.__pendingValue===va)return;let n=!!this.__pendingValue;this.value!==n&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=n),this.__pendingValue=va}},Ux=class extends XI{constructor(n,e,t){super(n,e,t),this.single=t.length===2&&t[0]===""&&t[1]===""}_createPart(){return new au(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},au=class extends Qc{},IV=!1;try{let i={get capture(){return IV=!0,!1}};window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{}var jx=class{constructor(n,e,t){this.value=void 0,this.__pendingValue=void 0,this.element=n,this.eventName=e,this.eventContext=t,this.__boundHandleEvent=o=>this.handleEvent(o)}setValue(n){this.__pendingValue=n}commit(){for(;Bm(this.__pendingValue);){let r=this.__pendingValue;this.__pendingValue=va,r(this)}if(this.__pendingValue===va)return;let n=this.__pendingValue,e=this.value,t=n==null||e!=null&&(n.capture!==e.capture||n.once!==e.once||n.passive!==e.passive),o=n!=null&&(e==null||t);t&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=Qfe(n),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=n,this.__pendingValue=va}handleEvent(n){typeof this.value=="function"?this.value.call(this.eventContext||this.element,n):this.value.handleEvent(n)}},Qfe=i=>i&&(IV?{capture:i.capture,passive:i.passive,once:i.once}:i.capture);var Hx=class{handleAttributeExpressions(n,e,t,o){let r=e[0];return r==="."?new Ux(n,e.slice(1),t).parts:r==="@"?[new jx(n,e.slice(1),o.eventContext)]:r==="?"?[new Bx(n,e.slice(1),t)]:new XI(n,e,t).parts}handleTextExpression(n){return new QI(n)}},lu=new Hx;function Zfe(i){let n=jm.get(i.type);n===void 0&&(n={stringsArray:new WeakMap,keyString:new Map},jm.set(i.type,n));let e=n.stringsArray.get(i.strings);if(e!==void 0)return e;let t=i.strings.join(Gl);return(e=n.keyString.get(t))===void 0&&(e=new JI(i,i.getTemplateElement()),n.keyString.set(t,e)),n.stringsArray.set(i.strings,e),e}var jm=new Map,ch=new WeakMap,eme=(i,n,e)=>{let t=ch.get(n);t===void 0&&(Wx(n,n.firstChild),ch.set(n,t=new QI(Object.assign({templateFactory:Zfe},e))),t.appendInto(n)),t.setValue(i),t.commit()};(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");var ke=(i,...n)=>new ba(i,n,"html",lu),Kx=133;function vV(i,n){let{element:{content:e},parts:t}=i,o=document.createTreeWalker(e,Kx,null,!1),r=Vm(t),s=t[r],a=-1,l=0,c=[],u=null;for(;o.nextNode();){a++;let g=o.currentNode;for(g.previousSibling===u&&(u=null),n.has(g)&&(c.push(g),u===null&&(u=g)),u!==null&&l++;s!==void 0&&s.index===a;)s.index=u!==null?-1:s.index-l,s=t[r=Vm(t,r)]}c.forEach(g=>g.parentNode.removeChild(g))}var tme=i=>{let n=i.nodeType===11?0:1,e=document.createTreeWalker(i,Kx,null,!1);for(;e.nextNode();)n++;return n},Vm=(i,n=-1)=>{for(let e=n+1;e<i.length;e++){let t=i[e];if(_V(t))return e}return-1};function ime(i,n,e=null){let{element:{content:t},parts:o}=i;if(e==null){t.appendChild(n);return}let r=document.createTreeWalker(t,Kx,null,!1),s=Vm(o),a=0,l=-1;for(;r.nextNode();)for(l++,r.currentNode===e&&(a=tme(n),e.parentNode.insertBefore(n,e));s!==-1&&o[s].index===l;){if(a>0){for(;s!==-1;)o[s].index+=a,s=Vm(o,s);return}s=Vm(o,s)}}var bV=(i,n)=>`${i}--${n}`,ZI=!0;typeof window.ShadyCSS>"u"?ZI=!1:typeof window.ShadyCSS.prepareTemplateDom>"u"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),ZI=!1);var nme=i=>n=>{let e=bV(n.type,i),t=jm.get(e);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},jm.set(e,t));let o=t.stringsArray.get(n.strings);if(o!==void 0)return o;let r=n.strings.join(Gl);if((o=t.keyString.get(r))===void 0){let s=n.getTemplateElement();ZI&&window.ShadyCSS.prepareTemplateDom(s,i),o=new JI(n,s),t.keyString.set(r,o)}return t.stringsArray.set(n.strings,o),o},ome=["html","svg"],rme=i=>{ome.forEach(n=>{let e=jm.get(bV(n,i));e!==void 0&&e.keyString.forEach(t=>{let{element:{content:o}}=t,r=new Set;Array.from(o.querySelectorAll("style")).forEach(s=>{r.add(s)}),vV(t,r)})})},yV=new Set,sme=(i,n,e)=>{yV.add(i);let t=e?e.element:document.createElement("template"),o=n.querySelectorAll("style"),{length:r}=o;if(r===0){window.ShadyCSS.prepareTemplateStyles(t,i);return}let s=document.createElement("style");for(let c=0;c<r;c++){let u=o[c];u.parentNode.removeChild(u),s.textContent+=u.textContent}rme(i);let a=t.content;e?ime(e,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(t,i);let l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&l!==null)n.insertBefore(l.cloneNode(!0),n.firstChild);else if(e){a.insertBefore(s,a.firstChild);let c=new Set;c.add(s),vV(e,c)}},ame=(i,n,e)=>{if(!e||typeof e!="object"||!e.scopeName)throw new Error("The `scopeName` option is required.");let t=e.scopeName,o=ch.has(n),r=ZI&&n.nodeType===11&&!!n.host,s=r&&!yV.has(t),a=s?document.createDocumentFragment():n;if(eme(i,a,Object.assign({templateFactory:nme(t)},e)),s){let l=ch.get(a);ch.delete(a);let c=l.value instanceof Um?l.value.template:void 0;sme(t,a,c),Wx(n,n.firstChild),n.appendChild(a),ch.set(n,l)}!o&&r&&window.ShadyCSS.styleElement(n.host)};var lme;window.JSCompiler_renameProperty=(i,n)=>i;var Gx={toAttribute(i,n){switch(n){case Boolean:return i?"":null;case Object:case Array:return i==null?i:JSON.stringify(i);default:return i}},fromAttribute(i,n){switch(n){case Boolean:return i!==null;case Number:return i===null?null:Number(i);case Object:case Array:return JSON.parse(i);default:return i}}},wV=(i,n)=>n!==i&&(n===n||i===i),YI={attribute:!0,type:String,converter:Gx,reflect:!1,hasChanged:wV},cme=Promise.resolve(!0),Lx=1,Mx=4,kx=8,Nx=16,fV=32,zx="finalized",ev=class extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=cme,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();let n=[];return this._classProperties.forEach((e,t)=>{let o=this._attributeNameForProperty(t,e);o!==void 0&&(this._attributeToPropertyMap.set(o,t),n.push(o))}),n}static _ensureClassProperties(){if(!this.hasOwnProperty(window.JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let n=Object.getPrototypeOf(this)._classProperties;n!==void 0&&n.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(n,e=YI){if(this._ensureClassProperties(),this._classProperties.set(n,e),e.noAccessor||this.prototype.hasOwnProperty(n))return;let t=typeof n=="symbol"?Symbol():`__${n}`;Object.defineProperty(this.prototype,n,{get(){return this[t]},set(o){let r=this[n];this[t]=o,this._requestUpdate(n,r)},configurable:!0,enumerable:!0})}static finalize(){let n=Object.getPrototypeOf(this);if(n.hasOwnProperty(zx)||n.finalize(),this[zx]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(window.JSCompiler_renameProperty("properties",this))){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(e):[]];for(let o of t)this.createProperty(o,e[o])}}static _attributeNameForProperty(n,e){let t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof n=="string"?n.toLowerCase():void 0}static _valueHasChanged(n,e,t=wV){return t(n,e)}static _propertyValueFromAttribute(n,e){let t=e.type,o=e.converter||Gx,r=typeof o=="function"?o:o.fromAttribute;return r?r(n,t):n}static _propertyValueToAttribute(n,e){if(e.reflect===void 0)return;let t=e.type,o=e.converter;return(o&&o.toAttribute||Gx.toAttribute)(n,t)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((n,e)=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((n,e)=>this[e]=n),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|fV,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(n,e,t){e!==t&&this._attributeToProperty(n,t)}_propertyToAttribute(n,e,t=YI){let o=this.constructor,r=o._attributeNameForProperty(n,t);if(r!==void 0){let s=o._propertyValueToAttribute(e,t);if(s===void 0)return;this._updateState=this._updateState|kx,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._updateState=this._updateState&~kx}}_attributeToProperty(n,e){if(this._updateState&kx)return;let t=this.constructor,o=t._attributeToPropertyMap.get(n);if(o!==void 0){let r=t._classProperties.get(o)||YI;this._updateState=this._updateState|Nx,this[o]=t._propertyValueFromAttribute(e,r),this._updateState=this._updateState&~Nx}}_requestUpdate(n,e){let t=!0;if(n!==void 0){let o=this.constructor,r=o._classProperties.get(n)||YI;o._valueHasChanged(this[n],e,r.hasChanged)?(this._changedProperties.has(n)||this._changedProperties.set(n,e),r.reflect===!0&&!(this._updateState&Nx)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(n,r))):t=!1}!this._hasRequestedUpdate&&t&&this._enqueueUpdate()}requestUpdate(n,e){return this._requestUpdate(n,e),this.updateComplete}_enqueueUpdate(){return he(this,null,function*(){this._updateState=this._updateState|Mx;let n,e,t=this._updatePromise;this._updatePromise=new Promise((o,r)=>{n=o,e=r});try{yield t}catch{}this._hasConnected||(yield new Promise(o=>this._hasConnectedResolver=o));try{let o=this.performUpdate();o!=null&&(yield o)}catch(o){e(o)}n(!this._hasRequestedUpdate)})}get _hasConnected(){return this._updateState&fV}get _hasRequestedUpdate(){return this._updateState&Mx}get hasUpdated(){return this._updateState&Lx}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let n=!1,e=this._changedProperties;try{(n=this.shouldUpdate(e))&&this.update(e)}catch(t){throw n=!1,t}finally{this._markUpdated()}n&&(this._updateState&Lx||(this._updateState=this._updateState|Lx,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Mx}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(n){return!0}update(n){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(n){}firstUpdated(n){}};ev[lme=zx]=!0;var SV="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,AV=Symbol(),tv=class{constructor(n,e){if(e!==AV)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n}get styleSheet(){return this._styleSheet===void 0&&(SV?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},dme=i=>{if(i instanceof tv)return i.cssText;if(typeof i=="number")return i;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${i}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},Se=(i,...n)=>{let e=n.reduce((t,o,r)=>t+dme(o)+i[r+1],i[0]);return new tv(e,AV)};(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");function xV(i,n=[]){for(let e=0,t=i.length;e<t;e++){let o=i[e];Array.isArray(o)?xV(o,n):n.push(o)}return n}var ume=i=>i.flat?i.flat(1/0):xV(i),dh=(()=>{class i extends ev{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(window.JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){let e=this.styles,t=[];return Array.isArray(e)?ume(e).reduceRight((o,r)=>(o.add(r),o),new Set).forEach(o=>t.unshift(o)):e&&t.push(e),t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(t=>t.cssText),this.localName):SV?this.renderRoot.adoptedStyleSheets=e.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);let t=this.render();t instanceof ba&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(o=>{let r=document.createElement("style");r.textContent=o.cssText,this.renderRoot.appendChild(r)}))}render(){}}return i.finalized=!0,i.render=ame,i})();var qx=new WeakMap,tn=iv(i=>n=>{if(!(n instanceof Qc)||n instanceof au||n.committer.name!=="class"||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:e}=n,{element:t}=e;qx.has(n)||(t.className=e.strings.join(" "));let{classList:o}=t,r=qx.get(n);for(let s in r)s in i||o.remove(s);for(let s in i){let a=i[s];(!r||a!==r[s])&&o[a?"add":"remove"](s)}qx.set(n,i)});var Yx=new WeakMap,Pi=iv(i=>n=>{if(!(n instanceof Qc)||n instanceof au||n.committer.name!=="style"||n.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:e}=n,{style:t}=e.element;Yx.has(n)||(t.cssText=e.strings.join(" "));let o=Yx.get(n);for(let r in o)r in i||(r.indexOf("-")===-1?t[r]=null:t.removeProperty(r));for(let r in i)r.indexOf("-")===-1?t[r]=i[r]:t.setProperty(r,i[r]);Yx.set(n,i)});var Jx=class{constructor(n,e,t){this._currentDelay=this._isNumber(e)?e:0,this._currentDuration=this._isNumber(t)?t:1e3,this._currentTarget=n,this._objStateList=[],this._isDestroyed=!1,this._animationInterval=null,this._animationTick=10,this._numSteps=Math.floor(this._currentDuration/this._animationTick)}destroy(){this._isDestroyed=!0,this._removeAnimationInterval()}get delay(){return this._currentDelay}set delay(n){this._isNumber(n)&&this._currentDelay!==n&&(this._currentDelay=n)}get duration(){return this._currentDuration}set duration(n){this._isNumber(n)&&this._currentDuration!==n&&(this._currentDuration=n,this._numSteps=Math.floor(this._currentDuration/this._animationTick))}animate(n,e,t,o){if(!this._isObject(n)&&!this._isArray(n))return Promise.resolve();{let r=this;return new Promise(s=>{r._removeAnimationInterval(),r._currentDelay=e,setTimeout(function(){t&&(r._currentDuration=t),r._numSteps=Math.floor(r._currentDuration/r._animationTick);let a=r._convertToArray(n);r._updateState(a);let l=0;r._animationInterval=setInterval(function(){let c=[];++l<=r._numSteps&&r._objStateList.forEach(_=>c.push({element:_.element,values:r._updateCurrentValue(_.props,_.values,l)}));let u=!0,g=l===r._numSteps;o&&(g&&r._removeAnimationInterval(),u=o([...c],g)),u===!1?(r._removeAnimationInterval(),s(),r._reverse(c,t/4,o)):(g||r._isDestroyed)&&(r._removeAnimationInterval(),r._updateState(c),s())},r._animationTick)},r._currentDelay)})}}_reverse(n,e,t){let o=this;return new Promise(r=>{o._removeAnimationInterval(),e&&(o._currentDuration=e),o._numSteps=Math.floor(o._currentDuration/o._animationTick);let s=o._convertToArray(n);o._updateState(s,!0);let a=0;o._animationInterval=setInterval(function(){let l=[];++a<=o._numSteps&&o._objStateList.forEach(u=>l.push({element:u.element,values:o._updateCurrentValue(u.props,u.values,a)}));let c=a===o._numSteps;t&&(c&&o._removeAnimationInterval(),t([...l],c,!0)),c&&(o._removeAnimationInterval(),o._updateState(l),r())},o._animationTick)})}_getCurrentValue(n){return this.animationSpeed?this.animationSpeed(n):n}_removeAnimationInterval(){this._animationInterval&&clearInterval(this._animationInterval),this._animationInterval=null}_updateCurrentValue(n,e,t){let o={};return n.forEach(r=>o[r]=t<this._numSteps?e[r].value+this._getCurrentValue(e[r].step*t):e[r].end),o}_getStartingValues(){let n=[];return this._objStateList.forEach(e=>n.push(e.values)),n}_updateState(n,e){let t=this._getStartingValues();this._objStateList.length=0,n.forEach((o,r)=>{let s=this._getObjProperties(o.values),a={};o.current?a=o.current:o.element&&this._isElement(o.element)&&(a=getComputedStyle(o.element));let l={element:o.element,props:s,values:{}};s.forEach(c=>{let u=e?t[r][c].value:o.values[c],g=this._getNumValue(a[c]);l.values[c]={end:this.inverseFunction?this.inverseFunction(u):u,step:(u-g)/this._numSteps,value:g}}),this._objStateList.push(l)})}_convertToArray(n){return this._isObject(n)?[n]:this._isArray(n)?n:[]}_createEmptyArray(n){return new Array(n).fill({})}_getNumValue(n){return this._isString(n)?parseFloat(n):this._isNumber(n)?n:0}_getObjProperties(n){return Object.keys(n)}_isArray(n){return n?Array.isArray(n):!1}_isElement(n){return n?n instanceof Element:!1}_isFieldAvailable(n){return n!==void 0}_isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}_isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}_isString(n){return n?typeof n=="string"||n instanceof String:!1}getTarget(){return this._currentTarget}isActive(){return this._animationInterval!==null}isAnimated(n){return this._isArray(this._currentTarget)?this._currentTarget.filter(e=>e===n).length>0:this._currentTarget===n}},nr=Jx;var Xx=class{_calcMargin(n){return n?{top:getComputedStyle(n)["margin-top"]?parseInt(getComputedStyle(n)["margin-top"],10):getComputedStyle(n).marginTop?parseInt(getComputedStyle(n).marginTop,10):0,right:getComputedStyle(n)["margin-right"]?parseInt(getComputedStyle(n)["margin-right"],10):getComputedStyle(n).marginRight?parseInt(getComputedStyle(n).marginRight,10):0,bottom:getComputedStyle(n)["margin-bottom"]?parseInt(getComputedStyle(n)["margin-bottom"],10):getComputedStyle(n).marginBottom?parseInt(getComputedStyle(n).marginBottom,10):0,left:getComputedStyle(n)["margin-left"]?parseInt(getComputedStyle(n)["margin-left"],10):getComputedStyle(n).marginLeft?parseInt(getComputedStyle(n).marginLeft,10):0}:{top:0,right:0,bottom:0,left:0}}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}checkNumInRange(n,e,t){return n>e-t&&n<e+t}colorToRgb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}convertRgbaToHex(n){let e="#";return this.convertRgbaToNum(n,!0).forEach(t=>{t=t.toString(16),e+=t.length===1?"0"+t:t}),e}convertRgbaToHsl(n){let e,t,o=this.convertRgbaToNum(n,!0),r=o[0]/255,s=o[1]/255,a=o[2]/255,l=Math.max(r,s,a),c=Math.min(r,s,a),u=(l+c)/2;if(l===c)e=t=0;else{let g=l-c;switch(t=u>.5?g/(2-l-c):g/(l+c),l){case r:e=(s-a)/g+(s<a?6:0);break;case s:e=(a-r)/g+2;break;case a:e=(r-s)/g+4;break;default:this._defaultFunc()}e/=6}return(e=Math.round(360*e))<0&&(e+=360),t=Math.floor(Math.round(100*t)),u=Math.floor(Math.round(100*u)),e+"\xB0, "+t+"%, "+u+"%"}convertRgbaToNum(n,e){let t=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("rgba","").replace("rgb","")).split(",").map(o=>parseInt(o));return e&&(t=t.filter((o,r)=>r<3)),t.forEach(o=>this.setNumInRange(o,0,255)),t}convertHexToRgba(n){let e=0,t=0,o=0;return(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).length===4?(e=+("0x"+n[1]+n[1]),t=+("0x"+n[2]+n[2]),o=+("0x"+n[3]+n[3])):n.length===7&&(e=+("0x"+n[1]+n[2]),t=+("0x"+n[3]+n[4]),o=+("0x"+n[5]+n[6])),"rgba("+parseInt(e,10).toString()+","+parseInt(t,10).toString()+","+parseInt(o,10).toString()+",1)"}convertHslToRgba(n){let e=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("\xB0","").replace("%","").replace("%","")).split(",").filter((c,u)=>u<3).map(c=>parseInt(c)),t=e[0],o=e[1]/100,r=e[2]/100,s=0,a=0,l=0;if(o===0)s=a=l=r;else{let c=r<.5?r*(1+o):r+o-r*o,u=2*r-c;s=this.colorToRgb(u,c,t+1/3),a=this.colorToRgb(u,c,t),l=this.colorToRgb(u,c,t-1/3)}return"rgba("+(s=Math.round(255*s))+", "+(a=Math.round(255*a))+", "+(l=Math.round(255*l))+", 1)"}convertValue(n,e){let t=n??null;if(e){let o=e.locales||"en-US",r=e.options||{};this.isNumber(t)?t=Intl.NumberFormat(o,r).format(t):this.isDate(t)?t=Intl.DateTimeFormat(o,r).format(t):t=this.convertValueToString(n)}else t=this.convertValueToString(n);return t}convertValueToString(n){return n!=null?n.toString():""}_defaultFunc(){}_escapeRegExp(n){return n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}getAngle(n,e,t){return t?Math.atan2(e.y-n.y,e.x-n.x):180*Math.atan2(e.y-n.y,e.x-n.x)/Math.PI}getBorderWidth(n){return n?{top:getComputedStyle(n)["border-top-width"]?parseInt(getComputedStyle(n)["border-top-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,right:getComputedStyle(n)["border-right-width"]?parseInt(getComputedStyle(n)["border-right-width"],10):getComputedStyle(n).borderRightWidth?parseInt(getComputedStyle(n).borderRightWidth,10):0,bottom:getComputedStyle(n)["border-bottom-width"]?parseInt(getComputedStyle(n)["border-bottom-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,left:getComputedStyle(n)["border-left-width"]?parseInt(getComputedStyle(n)["border-left-width"],10):getComputedStyle(n).borderLeftWidth?parseInt(getComputedStyle(n).borderLeftWidth,10):0}:{top:0,right:0,bottom:0,left:0}}getClientPos(n,e){let t=this.getShiftPos(),o=this.getMousePos(n);o.x-=t.x,o.y-=t.y;let r=this.getPageRect(e);return{x:o.x-r.left,y:o.y-r.top}}getClientRect(n,e){let t=this.getPageRect(n),o=this.getPageRect(e);return{top:o.top-t.top,right:o.left+o.width,bottom:o.top+o.height,left:o.left-t.left,height:o.height,width:o.width,x:o.x-t.x,y:o.y-t.y}}getColorAtPosition(n,e,t){if(n){let o=n.getImageData(e,t,1,1).data;return"rgba("+o[0]+","+o[1]+","+o[2]+",1)"}return""}getDateFromString(n){if(this.isString(n)){let e=Date.parse(n);if(n.slice(-1)==="Z"&&!isNaN(e))return new Date(e)}else if(this.isDate(n))return n;return null}getDateNum(n){if(this.isDate(n)){let e=n.getFullYear(),t=n.getMonth(),o=n.getDate();return new Date(e,t,o,0,0,0,0).valueOf()}return 0}getMargin(n){return n?this._calcMargin(n):{top:0,right:0,bottom:0,left:0}}getMouseOffsetPos(n,e){let t=this.getShiftPos(),o=this.getMousePos(n);o.x-=t.x,o.y-=t.y;let r=this.getPageRect(e);return{x:o.x-r.left,y:o.y-r.top}}getMousePos(n){return{x:n.pageX?n.pageX:n.originalEvent?n.originalEvent.pageX:0,y:n.pageY?n.pageY:n.originalEvent?n.originalEvent.pageY:0}}getObjFromListById(n,e){let t=null;if(n){for(let o=0;o<n.length;o++)if(this.isObject(n[o])&&n[o].id===e){t=n[o];break}}return t}getObjFromListByName(n,e,t){let o=null;if(n&&e){for(let r=0;r<n.length;r++)if(this.isObject(n[r])&&n[r][e]===t){o=n[r];break}}return o}getPadding(n){return n?{top:getComputedStyle(n)["padding-top"]?parseInt(getComputedStyle(n)["padding-top"],10):getComputedStyle(n).paddingTop?parseInt(getComputedStyle(n).paddingTop,10):0,right:getComputedStyle(n)["padding-right"]?parseInt(getComputedStyle(n)["padding-right"],10):getComputedStyle(n).paddingRight?parseInt(getComputedStyle(n).paddingRight,10):0,bottom:getComputedStyle(n)["padding-bottom"]?parseInt(getComputedStyle(n)["padding-bottom"],10):getComputedStyle(n).paddingBottom?parseInt(getComputedStyle(n).paddingBottom,10):0,left:getComputedStyle(n)["padding-left"]?parseInt(getComputedStyle(n)["padding-left"],10):getComputedStyle(n).paddingLeft?parseInt(getComputedStyle(n).paddingLeft,10):0}:{top:0,right:0,bottom:0,left:0}}getPageRect(n){return n?n.getBoundingClientRect():{top:0,right:0,bottom:0,left:0,height:0,width:0,x:0,y:0}}getShiftPos(){return{x:document.body.scrollLeft>0?document.body.scrollLeft:document.documentElement.scrollLeft>0?document.documentElement.scrollLeft:0,y:document.body.scrollTop>0?document.body.scrollTop:document.documentElement.scrollTop>0?document.documentElement.scrollTop:0}}getStyle(n){return this.isObject(n)&&!this.isEmpty(n)?n:{}}getTouchData(n){return n.changedTouches?n.changedTouches:n.originalEvent?n.originalEvent.changedTouches:null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}isDate(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}isDefined(n){return n!=null}isElement(n){return n?n instanceof Element:!1}isEmpty(n){return this.isString(n)?!n.trim().length:n&&Object.keys(n).length===0&&n.constructor===Object}isEqual(n,e){return n&&e?n.toString()===e.toString():!1}isFieldAvailable(n,e){return n!==void 0?n:e}isFunc(n){return n?typeof n=="function"||n instanceof Function:!1}isIndexInRange(n,e){return e?n>=0&&n<e.length:!1}isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}isString(n){return n?typeof n=="string"||n instanceof String:!1}isTrue(n){return n!==!1}moveObject(n,e,t){this.isIndexInRange(n,t)&&this.isIndexInRange(e,t)&&t.splice(e,0,t.splice(n,1)[0])}pointToView(n){let e=this.getShiftPos();return{x:n.x-e.x,y:n.y-e.y}}replaceAll(n,e,t){return n.replace(new RegExp(this._escapeRegExp(e),"g"),t)}setNumInRange(n,e,t){return isNaN(n)?0:Math.min(Math.max(n,e),t)}},uh=Xx;var pme={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze(pme);var hme={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze(hme);var fme={None:"None",Fade:"Fade",Slide:"Slide"};Object.freeze(fme);var zl={TwoState:"TwoState",ThreeState:"ThreeState"};Object.freeze(zl);var bo={Unchecked:"Unchecked",Indeterminate:"Indeterminate",Checked:"Checked"};Object.freeze(bo);var mme={HEX:"HEX",HSL:"HSL",RGB:"RGB"};Object.freeze(mme);var Xt={None:"None",Dark:"Dark",Light:"Light"};Object.freeze(Xt);var nn={Static:"Static",Dynamic:"Dynamic"};Object.freeze(nn);var Go={None:"None",Hover:"Hover",Select:"Select",Both:"Both"};Object.freeze(Go);var gme={Short:"Short",Long:"Long",Custom:"Custom"};Object.freeze(gme);var ph={None:1,Above:2,Right:4,Below:8,Left:16};Object.freeze(ph);var _me={None:1,Top:2,Right:4,Fill:8,Bottom:16,Left:32,All:64};Object.freeze(_me);var Cme={None:"None",Top:"Top",Right:"Right",Fill:"Fill",Bottom:"Bottom",Left:"Left"};Object.freeze(Cme);var no={Static:"Static",Dynamic:"Dynamic"};Object.freeze(no);var Ime={Down:"Down",Up:"Up"};Object.freeze(Ime);var vme={None:"None",Batch:"Batch",Custom:"Custom",Dialog:"Dialog",Form:"Form",Inline:"Inline"};Object.freeze(vme);var bme={None:"None",Button:"Button",CheckBox:"CheckBox",Color:"Color",Custom:"Custom",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",RadioButton:"RadioButton",Rating:"Rating",Slider:"Slider",Text:"Text"};Object.freeze(bme);var yme={Boolean:1,Date:2,Numeric:4,String:8};Object.freeze(yme);var wme={None:"None",Horizontal:"Horizontal",Vertical:"Vertical",Both:"Both"};Object.freeze(wme);var Sme={Left:"Left",Center:"Center",Right:"Right"};Object.freeze(Sme);var Ame={Free:"Free",Partial:"Partial",Full:"Full"};Object.freeze(Ame);var Po={Partial:"Partial",Full:"Full"};Object.freeze(Po);var xme={BottomCenter:"BottomCenter",BottomLeft:"BottomLeft",BottomRight:"BottomRight",Inline:"Inline",Left:"Left",MiddleCenter:"MiddleCenter",MiddleLeft:"MiddleLeft",MiddleRight:"MiddleRight",Right:"Right",TopCenter:"TopCenter",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(xme);var Pt={After:"After",At:"At",Before:"Before",Down:"Down",First:"First",Left:"Left",Last:"Last",Right:"Right",Up:"Up"};Object.freeze(Pt);var Eme={InBound:"InBound",LeftRight:"LeftRight",UpDown:"UpDown"};Object.freeze(Eme);var Si={Normal:0,Hovered:1,Selected:2,Focused:4,Disabled:8};Object.freeze(Si);var Jn={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(Jn);var Tme={Top:"Top",Right:"Right",Bottom:"Bottom",Left:"Left"};Object.freeze(Tme);var Ome={None:"None",TopLeft:"TopLeft",Top:"Top",TopRight:"TopRight",Right:"Right",BottomRight:"BottomRight",Bottom:"Bottom",BottomLeft:"BottomLeft",Left:"Left"};Object.freeze(Ome);var Rme={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(Rme);var Fn={None:"None",One:"One",MultiSimple:"MultiSimple",MultiExtended:"MultiExtended"};Object.freeze(Fn);var Dme={Single:"Single",Multiple:"Multiple"};Object.freeze(Dme);var $s={None:"None",Ascending:"Ascending",Descending:"Descending"};Object.freeze($s);var pr={VerySlow:"VerySlow",Slow:"Slow",Normal:"Normal",Fast:"Fast",VeryFast:"VeryFast"};Object.freeze(pr);var Pme={Carousel:"Carousel",Stream:"Stream"};Object.freeze(Pme);var Fme={TopLeft:"TopLeft",Middle:"Middle",BottomRight:"BottomRight"};Object.freeze(Fme);var Lme={AutoSized:"AutoSized",Compressed:"Compressed",Justified:"Justified"};Object.freeze(Lme);var Mme={Normal:"Normal",Multiline:"Multiline"};Object.freeze(Mme);var kme={None:"None",InBound:"InBound",OutBound:"OutBound"};Object.freeze(kme);var Nme={Top:"Top",Right:"Right",Middle:"Middle",Bottom:"Bottom",Left:"Left"};Object.freeze(Nme);var on={None:"None",Office:"Office"};Object.freeze(on);var Vme={BottomCenter:"BottomCenter",BottomFull:"BottomFull",BottomLeft:"BottomLeft",BottomRight:"BottomRight",TopCenter:"TopCenter",TopFull:"TopFull",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(Vme);var Bme={Error:"Error",Info:"Info",Success:"Success",Warning:"Warning"};Object.freeze(Bme);var Ume={Button:"Button",CheckBox:"CheckBox",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",Rating:"Rating",Separator:"Separator",Slider:"Slider",TextBox:"TextBox"};Object.freeze(Ume);var jme={Compare:"Compare",Required:"Required",Numeric:"Numeric",Range:"Range",StringLength:"StringLength",Custom:"Custom"};Object.freeze(jme);var Hme={Top:"Top",Middle:"Middle",Bottom:"Bottom"};Object.freeze(Hme);var Gme={None:0,Hover:1,Click:2,Always:4};Object.freeze(Gme);var zme={Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday"};Object.freeze(zme);var Wme={Maximized:"Maximized",Minimized:"Minimized",Normal:"Normal"};Object.freeze(Wme);var Qx=class extends dh{constructor(){super(),this._init(),this._initStyle()}_init(){this._commonService=new uh,this._activeAnimations=[],this._isAnimationAllowed=!0,this._ctrlData=null,this._ctrlName="",this._ctrlState=Si.Normal,this._currentTabIndex=0,this._isCtrlMouseActive=!1,this._isEnabled=!0,this._isReadOnly=!1,this._options={currentStyle:null},this._isKeyboardFocusAllowed=!0,this._ctrlRect={top:0,left:0,width:0,height:0},this._clientRect={width:0,height:0},this._ctrlSize={width:0,height:0},this._prevClientRect={width:0,height:0},this._elemRef=null,this._currentResourcePath="../icons",this._currentColorScheme=Xt.Light,this._currentColorSchemeSettings=Se``,this._currentCustomStyle={},this._currentInlineStyle={},this._currentTheme=on.None,this._currentThemeSettings=Se``,this._defaultStyle={},this._ctrlClass={},this._generalClassName="iui-control",this._isProcessAllowed=!0,this._isUpdateAllowed=!0,this._tCmp=null}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},allowFocus:{type:Boolean,attribute:"allow-focus",reflect:!0},allowUpdate:{type:Boolean,attribute:"allow-update",reflect:!0},colorScheme:{attribute:"color-scheme",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return Xt.Light;case"dark":return Xt.Dark;default:return Xt.None}},toAttribute:n=>{switch(n){case Xt.Light:return"Light";case Xt.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},data:{type:Object},enabled:{type:Boolean,reflect:!0},name:{type:String,reflect:!0},readOnly:{type:Boolean,attribute:"read-only",reflect:!0},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},state:{type:Number,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return on.Office;default:return on.None}},toAttribute:n=>{switch(n){case on.Office:return"Office";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get allowFocus(){return this._isKeyboardFocusAllowed}set allowFocus(n){if(this._isKeyboardFocusAllowed!==n){let e=this._isKeyboardFocusAllowed;this._isKeyboardFocusAllowed=n,this.requestUpdate("allowFocus",e)}}get allowUpdate(){return this._isUpdateAllowed}set allowUpdate(n){if(this._isUpdateAllowed!==n){let e=this._isUpdateAllowed;this._isUpdateAllowed=n,this.requestUpdate("allowUpdate",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this.requestUpdate("data",e)}}get enabled(){return this._isEnabled}set enabled(n){if(n!==void 0&&this._isEnabled!==n){let e=this._isEnabled;this._isEnabled=n,this._invokeEvent("enabledChanged",{enabled:n}),this.requestUpdate("enabled",e),n?this.state&=~Si.Disabled:this.state|=Si.Disabled}}get name(){return this._ctrlName}set name(n){if(this._ctrlName!==n){let e=this._ctrlName;this._ctrlName=n,this.requestUpdate("name",e)}}get readOnly(){return this._isReadOnly}set readOnly(n){if(this._isReadOnly!==n){let e=this._isReadOnly;this._isReadOnly=n,this.requestUpdate("readOnly",e)}}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this._updateColorSchemeSettings(this._currentColorScheme),this.requestUpdate("resourcePath",e)}}get size(){return this._ctrlSize}set size(n){if(n){let e=!1,t=this._ctrlSize;n.width!==void 0&&this._ctrlSize.width!==n.width&&(this._ctrlSize.width=Math.max(n.width,0),e=!0),n.height!==void 0&&this._ctrlSize.height!==n.height&&(this._ctrlSize.height=Math.max(n.height,0),e=!0),e&&(this._invokeEvent("sizeChanged",{size:this._ctrlSize}),this.requestUpdate("size",t),this._internalUpdateLayout())}}get state(){return this._ctrlState}set state(n){if(this._ctrlState!==n){let e=this._ctrlState;this._ctrlState=n,this._updateControlClass(),this._processStateChanged(),this.requestUpdate("state",e),this._invokeEvent("stateChanged",{state:n}),this.refresh()}}get tabIndex(){return this._currentTabIndex}set tabIndex(n){if(n!==void 0&&this._currentTabIndex!==n){let e=this._currentTabIndex;this._currentTabIndex=n,this.requestUpdate("tabIndex",e),this.update()}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}_invokeEvent(n,e,t,o){let r=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:o!==void 0?o:!1});return this.dispatchEvent(r),e}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>{n.destroy(),n=void 0})}_clearInactiveAnimations(){this._activeAnimations.filter(n=>!n.isActive()).forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations=this._activeAnimations.filter(n=>n.isActive())}_isAnimationActive(){return this._activeAnimations.length>0}_defaultFunc(){}getElemRef(){return this._elemRef}getSize(n){return this._elemRef?n?{width:this._elemRef.clientWidth,height:this._elemRef.clientHeight}:{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{width:0,height:0}}_processStateChanged(){}setFocus(n){this._elemRef&&this._elemRef.focus()}getClass(n){return this._elemRef?this._elemRef.className:""}getStyle(n){return this._currentInlineStyle||{}}_updateColorSchemeSettings(n){this._currentColorSchemeSettings=Se``}_updateThemeSettings(n){this._currentThemeSettings=Se``}refresh(n){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences()}removeClass(n){this._elemRef&&n&&this._elemRef.classList.remove(n)}setClass(n,e){this._elemRef&&(n?this._elemRef.classList.add(n):this._elemRef.className=this._generalClassName)}setStyle(n,e){this._commonService.isObject(n)&&!this._commonService.isEmpty(n)&&(this._currentInlineStyle=n,this.refresh())}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.state&Si.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&Si.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&Si.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&Si.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.allowAnimation&&(this.state&Si.Hovered?this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0:this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0))}_getControlClass(){return this._ctrlClass}_getControlStyle(){let n=this._currentInlineStyle||{};return this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_getDefaultStyle(){return{general:this._getDefaultGeneralStyle()}}_getDefaultGeneralStyle(){return this._defaultStyle&&this._defaultStyle.general?{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected}:{}}_getGeneralStyle(n){if(this._commonService){if(this._commonService.isString(n))return n;if(n)return{disabled:this._commonService.isFieldAvailable(n.disabled,this._generalClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._generalClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._generalClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._generalClassName),selected:this._commonService.isFieldAvailable(n.selected,this._generalClassName+"-selected")}}return this._getDefaultGeneralStyle()}_updateControlStyleSettings(n){}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general)}:this._options.currentStyle=this._getDefaultStyle()}_internalUpdateLayout(){this.updateLayout()}resolve(n){this._isProcessAllowed=!0}shouldUpdate(n){return n.forEach((e,t)=>{}),!0}updateLayout(n){return he(this,null,function*(){return this.update(),Promise.resolve()})}wait(){this._isProcessAllowed=!1}_updateReferences(){}},Zc=Qx;var Zx=class{constructor(){this.data=[]}init(n){this.data.length=0;for(let e=0;e<n.length;e++){let t={data:n[e].data,fields:this.getDataFields(n[e].fields),key:n[e].key};this.data.push(t)}}clear(n,e){this.getList(n,e).length=0}insertAt(n,e,t,o){this.insert(n,e,t,null,!1,o)}insert(n,e,t,o,r,s){if(n){let a=this.getData(s);if(a){let l=a.fields;t&&(n[l.pid]=t[l.id]);let c=this.getList(t,s);c&&(e<0||e===null||e===void 0?c.push(n):(e=Math.max(Math.min(e,c.length),0),!o&&e<c.length&&(o=c[e]),c.splice(e,0,n)),n[l.id]||(n[l.id]=this.getUniqueId()))}}}insertByRef(n,e,t,o){if(n&&e){let r=this.getParent(e,o),s=this.getList(r,o).indexOf(e);return s>=0&&(t&&(s+=1),this.insert(n,s,r,e,t,o)),s}}removeAt(n,e,t,o){let r,s=null,a=this.getData(o);if(a){if(n&&(t=this.getParent(n,o),e=(r=this.getList(t,o)).indexOf(n)),e==null)return{obj:s,result:!1};if(r=this.getList(t,o),e>=0&&e<r.length)return(s=r[e])[a.fields.pid]="",r.splice(e,1),{obj:s,result:!0}}return{obj:s,result:!1}}getData(n){let e=null;if(!this.getKey(n)&&this.data.length>0)e=this.data[0];else for(let t=0;t<this.data.length;t++)if(this.data[t].key===n){e=this.data[t];break}return e}getDataFields(n){return n?{content:n.content?n.content:"content",icon:n.icon?n.icon:"icon",id:n.id?n.id:"id",pid:n.pid?n.pid:"pid",objects:n.objects?n.objects:"items",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",subobjects:n.subobjects?n.subobjects:"subitems",text:n.text?n.text:"text"}:{content:"content",icon:"icon",id:"id",pid:"pid",objects:"items",statusIcon:"statusIcon",subobjects:"subitems",text:"text"}}getKey(n){return n||null}getList(n,e){let t=this.getData(e);if(t){let o=t.fields;return n?(n[o.objects]||(n[o.objects]=[]),n[o.objects]):t.data}return[]}removeUndefined(n,e){n[e]===void 0&&delete n[e]}updateDataFields(n,e){let t=this.getData(e);t&&(t.fields=this.getDataFields(n))}update(n){this.init(n)}clone(n,e,t){let o=this.getData(e);if(o){let r=JSON.parse(JSON.stringify(n));return t||this.createCloneIds(r,null,o.fields),r}return{}}createCloneIds(n,e,t){n[t.id]=this.getUniqueId(),n[t.pid]=e;let o=n[t.objects];if(o)for(let r=0;r<o.length;r++)this.createCloneIds(o[r],n[t.id],t)}findObjectById(n,e){let t=this.getData(e);if(t){let o=t.fields,r=t.data;return n?this.searchObj(n,r,o):null}return null}findObjectByText(n,e){let t=this.getData(e);if(t){let o=t.fields,r=t.data;return n!==void 0?this.searchObj(n,r,o,"text"):null}return null}findParent(n,e,t){let o=null;if(n&&e){let r=0;for(;!o&&r<e.length;)e[r][t.id]&&n[t.pid]&&e[r][t.id].toString()===n[t.pid].toString()?o=e[r]:o=this.findParent(n,e[r][t.objects],t),r++}return o}getParent(n,e){if(n){let t=this.getData(e);if(t)return this.findParent(n,t.data,t.fields)}return null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}searchObj(n,e,t,o){let r=null;if(n&&e){let s=0,a=!1;for(;!r&&s<e.length;){switch(o){case"text":e[s][t.text]&&(a=e[s][t.text].toString()===n.toString());break;default:e[s][t.id]&&(a=e[s][t.id].toString()===n.toString())}r=a?e[s]:this.searchObj(n,e[s][t.objects],t,o),s++}}return r}},hh=Zx;var eE=Se`
    .iui-item {
        background: var(--iui-item-background, transparent);
        border: var(--iui-item-border, thin solid transparent);
        color: var(--iui-item-color, black);
        margin: var(--iui-item-margin, 1px);
        overflow: hidden;
        padding: var(--iui-item-padding, 3px);
    }
    .iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
    }
    .iui-item-selected {
        background: var(--iui-item-selected-background, transparent);
        border: var(--iui-item-selected-border, thin solid transparent);
    }
    .iui-item-label {
        border: var(--iui-item-label-border, thin solid transparent);
        display: inline-block;
        padding: var(--iui-item-label-padding, 2px);
    }
    .iui-item-icon {
        display: inline-block;
    }
    .iui-item-icon-url {
        vertical-align: middle;
    }

    /* Disabled State */
    .iui-item-disabled div {
        opacity: var(--iui-item-disabled-opacity, 0.75);
        pointer-events: none;
    }

    .iui-item-content {
        overflow: hidden;
        position: relative;
    }
`;var EV=Se`
`;var TV=Se`
    .iui-item {
        color: var(--iui-item-color, #cccccc);
    }
    .iui-item-hovered {
        animation-name: none;
        background: var(--iui-item-hovered-background, #2a2d2e);
        border: var(--iui-item-hovered-border, thin solid #2a2d2e);
    }
    .iui-item-selected {
        animation-name: none;
        background: var(--iui-item-selected-background, #0a4369);
        border: var(--iui-item-selected-border, thin solid #0a4369);
        color: var(--iui-item-selected-color, white);
    }
`;var OV=Se`
	.iui-item {
        color: var(--iui-item-color, #646464);
	}
	.iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
        color: var(--iui-item-hovered-color, black);

		animation-name: iui-item-hovered-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.15s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-hovered-animate-enter {
		0% { 
			background: var(--iui-item-hovered-animation-background-0, transparent); 
			border-color: var(--iui-item-hovered-animation-border-color-0, transparent); 
		}
		100% { 
			background: var(--iui-item-hovered-animation-background-100, #d9edfd); 
			border-color: var(--iui-item-hovered-animation-border-color-100, #d9edfd); 
		}
	}
	.iui-item-selected {
        background: var(--iui-item-selected-background, #d9edfd);
        border: var(--iui-item-selected-border, thin solid transparent);
        color: var(--iui-item-selected-color, black);

		animation-name: iui-item-selected-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.25s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-selected-animate-enter {
		0% { 
			background: var(--iui-item-selected-animation-background-0, #d9edfd); 
			border-color: var(--iui-item-selected-animation-border-color-0, #d9edfd); 
		}
		100% { 
			background: var(--iui-item-selected-animation-background-100, #a5d3fa); 
			border-color: var(--iui-item-selected-animation-border-color-100, #a5d3fa); 
		}
	}
`;var nv=class extends Zc{connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_init(){super._init(),this._currentIcon="",this._currentIconUrl="",this._currentIconSize={width:16,height:16},this._currentText="",this._isVisible=!0,this._parentCtrl=null,this._itemPos={top:0,left:0},this._positionType="static",this._contentClass={},this._currentControlStyleSettings=eE,this._generalClassName="iui-item",this._contentClassName=this._generalClassName+"-content"}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}setParent(n){this._parentCtrl=n}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{icon:{type:String,reflect:!0},iconUrl:{type:String,attribute:"icon-url",reflect:!0},iconSize:{type:Object},text:{type:String,reflect:!0},visible:{type:Boolean,reflect:!0}}}get icon(){return this._currentIcon}set icon(n){if(this._currentIcon!==n){let e=this._currentIcon;this._currentIcon=n,this.requestUpdate("icon",e)}}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get iconSize(){return this._currentIconSize}set iconSize(n){if(this._currentIconSize!==n){let e=this._currentIconSize;this._currentIconSize=n,this.requestUpdate("iconSize",e)}}get text(){return this._currentText}set text(n){if(this._currentText!==n){let e=this._currentText;this._currentText=n,this.requestUpdate("text",e),this.update()}}get visible(){return this._isVisible}set visible(n){if(this._isVisible!==n){let e=this._isVisible;this._isVisible=n,this.requestUpdate("visible",e)}}_processStateChanged(){this._updateContentClass()}_onClick(n){this._isEnabled&&this._invokeEvent("click",n)}_onMouseDown(n){this._isEnabled&&(this._invokeEvent("mouseDown",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}_onMouseUp(n){this._isEnabled&&this._invokeEvent("mouseUp",n)}_onMouseEnter(n){this._isEnabled&&(this.state|=Si.Hovered,this._invokeEvent("mouseEnter",n))}_onMouseMove(n){this._isEnabled&&this._invokeEvent("mouseMove",n)}_onMouseLeave(n){this._isEnabled&&(this.state&=~Si.Hovered,this._invokeEvent("mouseLeave",n))}_onTouchStart(n){this._isEnabled&&(this._invokeEvent("touchStart",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}getContentSize(){let n={width:0,height:0};if(this._contentElem){let e=this._commonService.getMargin(this._contentElem);n={width:this._contentElem.offsetWidth+(e.left+e.right),height:this._contentElem.offsetHeight+(e.top+e.bottom)/2}}return n}getMargin(){return this._elemRef?this._commonService.getMargin(this._elemRef.firstElementChild):{top:0,right:0,bottom:0,left:0}}getPageRect(){let n={top:0,right:0,bottom:0,left:0};return this._elemRef&&(n=this._commonService.getPageRect(this._elemRef.firstElementChild)),n}getClientSize(){let n={width:0,height:0};return this._elemRef&&(n={width:this._elemRef.firstElementChild.clientWidth,height:this._elemRef.firstElementChild.clientHeight}),n}getSize(){let n={width:0,height:0};if(this._updateReferences(),this._elemRef){let e=this._commonService.getMargin(this._elemRef);n={width:this._elemRef.offsetWidth+(e.left+e.right),height:this._elemRef.offsetHeight+(e.top+e.bottom)/2}}return n}resetPos(){this.updateLayoutPos("static",{x:"auto",y:"auto"})}updateLayoutPos(n,e){this._updateReferences(),this._positionType=n,this._itemPos={top:e.y,left:e.x}}updatePos(n){this.updateLayoutPos("absolute",n)}_getControlStyle(){let n=this._currentInlineStyle||{};return n.position=this._positionType,n.top=this._itemPos.top+"px",n.left=this._itemPos.left+"px",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_updateContentClass(){this._contentClass={},this._contentClass[this._contentClassName]=!0,this._options.currentStyle&&(this._contentClass[this._options.currentStyle.content.normal]=!0,this.state&Si.Disabled?this._contentClass[this._options.currentStyle.content.disabled]=!0:this.state&Si.Focused?this._contentClass[this._options.currentStyle.content.focused]=!0:this.state&Si.Selected?this._contentClass[this._options.currentStyle.content.selected]=!0:this.state&Si.Hovered&&(this._contentClass[this._options.currentStyle.content.hovered]=!0))}_getContentClass(){return this._contentClass}_getContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._contentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._contentClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._contentClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._contentClassName),selected:this._commonService.isFieldAvailable(n.selected,this._contentClassName+"-selected")}:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=Se``,n){case Xt.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(TV.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(OV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(EV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences()}render(){return ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="item" id="content" class=${tn(this._getControlClass())} style=${Pi(this._getControlStyle())} @click="${n=>this._onClick(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this.icon?ke`<span class=${tn(this.icon)} style="display:inline-block"></span>`:ke``}                 ${this.iconUrl?ke`<img class="iui-item-icon-url" src="${this.iconUrl}" />`:ke``}                 ${this.text?ke`<span class="iui-item-label">${this.text}</span>`:ke``}                 <slot></slot>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=Se``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(eE.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=item]"),this._contentElem=this.shadowRoot.querySelector("#content")}};window.customElements.define("iui-item",nv);var RV=nv;var tE=Se`
    .iui-menu {
        background: var(--iui-menu-background, #f5f5f5);
        border: var(--iui-menu-border, 0);
        border-color:  var(--iui-menu-border-color, transparent);
        border-radius: var(--iui-menu-border-radius, 1px);
        border-width: var(--iui-menu-border-width, thin);
        color: var(--iui-menu-color, black);
        cursor: var(--iui-menu-cursor, default);
        display: var(--iui-menu-display, block);
        float: var(--iui-menu-float, none);
        height: var(--iui-menu-height, auto);
        margin: var(--iui-menu-margin, 0);
        opacity: var(--iui-menu-opacity, 1);
        overflow: hidden;
        padding: var(--iui-menu-padding, 0);
        position: var(--iui-menu-position, relative);
        width: var(--iui-menu-width, auto);
        z-index: var(--iui-menu-z-index, auto);
        
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, transparent);
        list-style-type: none;
        margin: 0;
        padding: var(--iui-menu-block-padding, 3px);
        position: relative;
    }
    .iui-menuitem-block, .iui-contextmenuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
        padding: var(--iui-menuitem-block-padding, 1px);
        list-style-type: none;
        margin: 0;
        position: absolute;
        z-index: 99999;
    }
    .iui-menuitem-root, .iui-contextmenuitem-root {
        background: var(--iui-menuitem-root-background, none);
        border: var(--iui-menuitem-root-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
        display: inline-block;
        list-style-type: none;
        margin: var(--iui-menuitem-root-margin, 0 3px);
        padding: var(--iui-menuitem-root-padding, 5px 6px 5px 4px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-root-width, auto);
    }
    .iui-menuitem-root-vertical, .iui-contextmenuitem-root-vertical {
        border: var(--iui-menuitem-root-vertical-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-vertical-border-color, transparent);
        display: block;
        margin: var(--iui-menuitem-root-vertical-margin, 3px 0);
        padding: var(--iui-menuitem-root-vertical-padding, 5px 6px);
        position: relative;
        list-style-type: none;
        margin: 3px 0;
        padding: 5px 6px;
        white-space: nowrap;
    }
    .iui-menuitem-root-disabled, .iui-menuitem-disabled, .iui-contextmenuitem-root-disabled, .iui-contextmenuitem-disabled {
        background: var(--iui-menuitem-disabled-background, transparent);
        opacity: 0.5;
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-hovered-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-selected-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    .iui-menuitem-root-content, .iui-contextmenuitem-root-content {
        display: inline-block;
        padding: var(--iui-menuitem-root-content-background, 0 2px);
        vertical-align: middle;
    }
    .iui-menuitem-root:first-of-type, .iui-contextmenuitem-root:first-of-type {
        margin: auto 0;
    }

    .iui-menuitem-root:last-of-type, .iui-contextmenuitem-root:last-of-type {
        margin-right: 0;
    }
    .iui-menu-marker-expand-space {
        padding-right: 20px;
    }
    .iui-menu-marker-expand-space-rtl {
        padding-left: 20px;
    }
    .iui-menu-marker-expand-down::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent transparent transparent #ababab;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent #ababab transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-left::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
        position: absolute;
        top: 12px;
        left: -9px;
    }
    .iui-menu-marker-left::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
        position: absolute;
        top: 12px;
        left: -8px;
    }
    .iui-menu-marker-right::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
        position: absolute;
        top: 12px;
        right: -9px;
    }
    .iui-menu-marker-right::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
        position: absolute;
        top: 12px;
        right: -8px;
    }


    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, transparent);
        border: var(--iui-menuitem-border, thin solid transparent);
        border-color: var(--iui-menuitem-border-color, transparent);
        color: var(--iui-menuitem-color, black);
        display: block;
        list-style-type: none;
        margin: var(--iui-menuitem-margin, 1px 0);
        padding: var(--iui-menuitem-padding, 3px 4px 3px 2px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-width, auto);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #ededed);
        border-color: var(--iui-menuitem-hovered-border-color, #e5e5e5);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-selected-background, #ededed);
        border-color: var(--iui-menuitem-selected-border-color, #e5e5e5);
    }
    .iui-menuitem-content, .iui-contextmenuitem-content {
        display: inline-block;
        vertical-align: middle;
    }
    .iui-menuitem:first-of-type, .iui-contextmenuitem:first-of-type {
        margin-top: 0;
    }
    .iui-menuitem:last-of-type, .iui-contextmenuitem:last-of-type {
        margin-bottom: 0;
    }
    .iui-menuitem-expand, .iui-contextmenuitem-expand {
        background-position: -14px 0px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, transparent);
        border: 0;
        margin: 0;
        padding: var(--iui-menuitem-separator-padding, 3px);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #e5e5e5);
        border: 0;
        margin: var(--iui-menuitem-separator-line-margin, 0);
        padding: var(--iui-menuitem-separator-line-padding, 0);
        height: var(--iui-menuitem-separator-line-height, 1px);
    }
    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, transparent);
        border: var(--iui-menuitem-separator-content-border, thin solid transparent);
        border-color: var(--iui-menuitem-separator-content-border-color, transparent);
        border-radius: var(--iui-menuitem-separator-content-border-radius, 3);
        display: inline-block;
        font-style: var(--iui-menuitem-separator-content-font-style, normal);
        font-weight: var(--iui-menuitem-separator-content-font-weight, normal);
        margin: var(--iui-menuitem-separator-content-margin, 0);
        padding: var(--iui-menuitem-separator-content-padding, 5px 4px 5px 0);
        position: relative;
        text-align: var(--iui-menuitem-separator-content-text-align, left);
        width: var(--iui-menuitem-separator-content-width, auto);
        z-index: 1;
    }
    .iui-menuitem-inline-separator {
        position: absolute;
        top: 50%;
        width: calc(100% - 6px);
        z-index: 0;
    }
    .iui-menu-load {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        right: 2px;
        vertical-align: middle;
    }
    .iui-menu-load-rtl {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        left: 2px;
        vertical-align: middle;
    }
    .iui-menuitem-content-template {
        display: var(--iui-menuitem-content-template-display, inline-block);
        overflow: hidden;
        vertical-align: var(--iui-menuitem-content-template-vertical-align, middle);
        width: var(--iui-menuitem-content-template-width, 100%);
    }

    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #bfbfbf);
        border-radius: var(--iui-menuitem-header-border-radius, 3px);
        color: var(--iui-menuitem-header-color, white);
        display: block;
        font-weight: var(--iui-menuitem-header-font-weight, bold);
        list-style-type: none;
        margin: var(--iui-menuitem-header-margin, 0 0 2px 0);
        padding: var(--iui-menuitem-header-padding, 5px 7px);
        text-align: var(--iui-menuitem-header-text-align, center);
        white-space: nowrap;
    }
    
    /* Shortcuts */
    .iui-menuitem-label-main {
        display: inline-block;
        width: var(--iui-menuitem-label-width, calc(100% - 104px));
    }
    .iui-menuitem-shortcut {
        display: inline-block;
        font-size: var(--iui-menuitem-shortcut-font-size, 0.875rem);
        text-align: var(--iui-menuitem-shortcut-text-align, right);
        width: var(--iui-menuitem-shortcut-width, 100px);
    }

    /* Disabled State */
    .iui-menu-disabled div {
        opacity: 0.75;
        pointer-events: none;
    }

    /* CheckBox */
    .iui-menuitem-checkbox {
        background-image: var(--iui-menuitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-menuitem-checkbox-padding, 0);
        margin: var(--iui-menuitem-checkbox-margin, 0 3px);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-menuitem-checkbox-vertical-align, middle);
    }
    .iui-menuitem-checkbox-checked {
        background-image: var(--iui-menuitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
`;var DV=Se`
    .iui-menuitem-root, .iui-menuitem, .iui-contextmenuitem-root, .iui-contextmenuitem {
        transition-duration: var(--iui-menuitem-transition-duration, 0.15s);
        transition-property: var(--iui-menuitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-menuitem-transition-timing-function, ease-in-out);
    }
`;var PV=Se`
    .iui-menu {
        background: var(--iui-menu-background, #252526);
        color: var(--iui-menu-color, white);
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, #252526);
        border-color: var(--iui-menu-block-border-color, #151515);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
        color: var(--iui-menuitem-block-color, #cccccc);
    }
    .iui-menuitem-root {
        border-color: var(--iui-menuitem-root-border-color, #252526);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-menuitem-root-vertical {
        background: var(--iui-menu-root-vertical-background, none);
        border-color: var(--iui-menuitem-root-vertical-border-color, #252526);
        color: var(--iui-menuitem-root-vertical-color, #cccccc);
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }

    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #252526);
        color: var(--iui-menuitem-color, #cccccc);
    }
    .iui-menuitem-normal {
        background: var(--iui-menuitem-normal-background, transparent);
        border-color: var(--iui-menuitem-normal-border-color, transparent);
        color: var(--iui-menuitem-normal-color, #cccccc);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-hovered-color, white);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #1177bb);
        border-color: var(--iui-menuitem-selected-border-color, #1177bb);
        color: var(--iui-menuitem-selected-color, white);
    }
    .iui-menuitem-selected a {
        color: white;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #cccccc));
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #0a4369;
        border-color: transparent transparent transparent #0a4369;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #0a4369;
        border-color: transparent #0a4369 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #484848;
        border-color: transparent transparent #1177bb transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #484848;
        border-color: transparent transparent #000000 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #484848;
        border-color: transparent #000000 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #484848;
        border-color: transparent #242424 transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #000000;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #242424;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }

    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, #252526);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #074269);
    }
`;var FV=Se`
    .iui-menu {
        background: var(--iui-menu-background, #2455b0);
    }
    .iui-menu > ul {
        background: var(--iui-menu-block-background, #2455b0);
    }
    .iui-menuitem-root, .iui-menuitem-root-vertical {
        border-color: var(--iui-menuitem-root-border-color, #2455b0);
        color: var(--iui-menuitem-root-color, white);
    }
    .iui-menuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #153268);
        border-color: var(--iui-menuitem-root-hovered-border-color, #0f244a);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-hovered a {
        color: black;
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #d9edfd);
        border: var(--iui-menuitem-root-selected-border, thin solid #d9edfd);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    
    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #fefefe);
        border-color: var(--iui-menuitem-border-color, #fefefe);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #d9edfd);
        border-color: var(--iui-menuitem-hovered-border-color, #d9edfd);
        color: var(--iui-menuitem-hovered-color, black);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #d9edfd);
        border-color: var(--iui-menuitem-selected-border-color, #d9edfd);
        color: var(--iui-menuitem-selected-color, black);
    }
    .iui-menuitem-selected a {
        color: black;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #fefefe);
        border-color: var(--iui-menuitem-block-border-color, #1e4691);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #6791e1;
        border-color: transparent transparent transparent #6791e1;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #6791e1;
        border-color: transparent #6791e1 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #1e4691);
    }
`;var iE=class extends RV{_init(){super._init(),this._dataService=new hh,this._contentAnimation={display:"none",left:0,width:0,height:0},this._currentAnimationSpeedValue=250,this._currentDataFields={},this._dataItems=[],this._childItems=[],this._currentLevel=0,this._currentOrientation=Jn.Vertical,this._currentPause=300,this._currentIconUrl=null,this._expandState="none",this._isExpanded=!1,this._isItemHovered=!1,this._blockPos={top:0,left:0},this._popupOrder=999,this._blockDisplay="none",this._blockElemWidth="0",this._blockElemHeight="0",this._blockOverflow="hidden",this._blockOpacity=0,this._pauseTimer=null,this._skipPause=!1,this._parentOffset={left:0,top:0,width:0,height:0},this._currentTemplateRef=null,this._currentControlStyleSettings=tE,this._updateDataFields(),this._updateData(),this._initStyle()}_initClassNames(){this._parentClassName=this._parentCtrl&&this._parentCtrl._getClassName?this._parentCtrl._getClassName():"iui-menu",this._generalClassName=this.data&&!this.data.pid?this._parentClassName+"item-root":this._parentClassName+"item",this._blockClassName=this._parentClassName+"item-block",this._contentClassName=this._generalClassName+"-content",this._expandBoxClassName="iui-menu-marker-expand",this._expandBoxSpaceClassName=this._expandBoxClassName+"-space",this._headerClassName=this._parentClassName+"-header",this._separatorClassName=this._generalClassName+"-separator",this._isExpanded=this.data&&this.data.expanded!==void 0?this.data.expanded:!1,this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},expandBox:{general:this._expandBoxClassName,animated:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},header:this._headerClassName,content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"},separator:this._separatorClassName}}_initStyle(){this._initClassNames(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){}disconnectedCallback(){this._removePauseTimer()}setParent(n){this._parentCtrl=n,this._initClassNames()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{dataFields:{type:Object,attribute:"data-fields"},expanded:{type:Boolean,reflect:!0},items:{type:Array},level:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Jn.Horizontal:Jn.Vertical,toAttribute:(n,e)=>n===Jn.Horizontal?"Horizontal":"Vertical"},reflect:!0},pause:{type:Number,reflect:!0},templateRef:{type:Object,attribute:"template-ref"}}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this._initStyle(),this.requestUpdate("data",e)}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get expanded(){return this._isExpanded}set expanded(n){this._isEnabled&&(n?this._expandState="expand":this._expandState="collapse",this._isExpanded=n,this._toggleContent())}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get level(){return this._currentLevel}set level(n){if(this._currentLevel!==n){let e=this._currentLevel;this._currentLevel=n,this.requestUpdate("level",e)}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e)}}get pause(){return this._currentPause}set pause(n){if(this._currentPause!==n){let e=this._currentPause;this._currentPause=n,this.requestUpdate("pause",e)}}get templateRef(){return this._currentTemplateRef}set templateRef(n){if(this._currentTemplateRef!==n){let e=this._currentTemplateRef;this._currentTemplateRef=n,this.requestUpdate("templateRef",e)}}_updateData(){this._dataService.init([{data:this.items,fields:this._currentDataFields}])}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._currentDataFields)}collapse(){this.expanded=!1,this._childItems&&this._childItems.forEach(n=>n.collapse()),this.refresh()}expand(){this.expanded=!0}toggle(){this.expanded=!this.expanded}_onExpandBoxMouseDown(n){this._isEnabled&&this.toggle()}_getDataType(){return this.data&&this.data.type?this.data.type:"item"}_getItemLevel(){return this._currentLevel!==void 0?this._currentLevel+1:0}_getOffset(){return this._elemRef?{left:this._elemRef.offsetLeft,top:this._elemRef.offsetTop,width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{left:0,top:0,width:0,height:0}}_isThereChildren(){return this._dataItems&&this._dataItems.length>0}_isBlockVisible(){return this._isItemHovered&&this._isThereChildren()}_isCheckBoxVisible(){return this.data&&this.data[this._currentDataFields.allowCheckBox]===!0}_isRadioButtonVisible(){return this.data&&this.data[this._currentDataFields.allowRadioButton]===!0}setOffset(n){this._parentOffset=n}updateLayout(n){return he(this,null,function*(){let e=this;e._updateReferences();let t=setTimeout(function(){if(e.data&&e._elemRef){let o=e._commonService.getPadding(e._elemRef);e._clientRect={width:e._elemRef.clientWidth-(o.left+o.right),height:e._elemRef.clientHeight-(o.top+o.bottom)},e.data.pid||e._currentOrientation===Jn.Vertical?e._blockPos={top:e._currentLevel>0?-2:-1,left:e._elemRef.offsetLeft+e._elemRef.offsetWidth-3}:e._blockPos={top:e._parentOffset.height-8,left:-1}}e.refresh(),clearTimeout(t)},1)})}_checkItem(n){if(this._isEnabled&&this.data){let e=this._getItemCheckValue();this.data[this._currentDataFields.checked]=!e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_CHECKBOX",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()}n.stopPropagation()}_checkMouseUp(n){n.stopPropagation()}_checkedChanged(n){let e=n.detail.checked;this.data[this._currentDataFields.checked]!==e&&(this.data[this._currentDataFields.checked]=e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_RADIOBUTTON",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()),n.stopPropagation()}_getItemCheckValue(){return!!(this.data&&this.data[this._currentDataFields.checked]===!0)}_onMouseEnter(n){if(this._isEnabled){if(this.state|=Si.Hovered,this._isItemHovered=!0,this.updateLayout(),this.data&&this.data[this._currentDataFields.pid])this.expand();else if(this._parentCtrl&&this._parentCtrl._isMenuActive()){let e=this._parentCtrl._getActiveMenu();e&&e!==this&&e.collapse(),this.data&&!this.data[this._currentDataFields.pid]&&this._parentCtrl._setActiveMenu(this),e&&e.refresh(),this.expand()}this.refresh(),this._invokeEvent("mouseEnter",n)}n.stopPropagation()}_onMouseDown(n){this._isEnabled&&this._invokeEvent("mouseDown",n),n.stopPropagation()}_onMouseLeave(n){this._isEnabled&&(this.state&=~Si.Hovered,this._removePauseTimer(),this._isItemHovered=!1,this._parentCtrl&&(this.data&&this.data[this._currentDataFields.pid]?this.collapse():this!==this._parentCtrl._getActiveMenu()&&this.collapse()),this.refresh(),this._invokeEvent("mouseLeave",n)),n.stopPropagation()}_onMouseUp(n){this._isEnabled&&(n.which===1&&this._parentCtrl&&(this._parentCtrl.invokeCtrlMethod("MENU_CLICK",{event:n,cmp:this,item:this.data}),this.data&&!this.data[this._currentDataFields.pid]&&(this._skipPause=!0,this.expand(),this._parentCtrl.invokeCtrlMethod("ACTIVATE_MENU",{event:n,cmp:this,item:this.data}),this.refresh())),this._invokeEvent("mouseUp",n)),n.stopPropagation()}_onContextMenu(n){n.preventDefault(),n.stopPropagation()}_onChildItemMouseDown(n){this.collapse()}_radioMouseDown(n){n.stopPropagation()}_radioMouseUp(n){n.stopPropagation()}_animationCallbackClose(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockDisplay="none",this._blockElemHeight="0",this._expandState="none"),this.update()}_animationCallbackOpen(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockElemHeight="auto",this._blockOverflow="visible",this._expandState="none"),this.update()}_removePauseTimer(){this._pauseTimer&&clearTimeout(this._pauseTimer),this._pauseTimer=null}_toggleContent(){let n=this;if(n._dataItems)if(n._clearActiveAnimations(),n._isAnimationAllowed)if(n._isExpanded)if(n._removePauseTimer(),n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none",n.refresh();else{let e=n._skipPause?0:300;n._pauseTimer=setTimeout(function(){if(n._pauseTimer){n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible";let t=new nr,o=n._animationCallbackOpen.bind(n);n._activeAnimations.push(t);let r={opacity:0,top:n._blockPos.top+5},s={opacity:1,top:n._blockPos.top};t.animate({current:r,values:s},0,n._currentAnimationSpeedValue,o)}n._skipPause=!1,n._removePauseTimer()},e)}else if(n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh();else{n._blockOverflow="hidden",n.update();let e=new nr,t=n._animationCallbackClose.bind(n);n._activeAnimations.push(e);let o={opacity:1,top:n._blockPos.top},r={opacity:0,top:n._blockPos.top+5};e.animate({current:o,values:r},0,n._currentAnimationSpeedValue/2,t)}else n._isExpanded?(n._removePauseTimer(),n._pauseTimer=setTimeout(function(){n._pauseTimer&&(n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none"),n.refresh(),n._removePauseTimer()},300)):(n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh())}_getControlStyle(){let n=this._currentInlineStyle||{};return this.data&&(n=this.data.style||{}),n.display=this._getItemDisplay(),n}_getItemDisplay(){let n="block";return this.data&&this.data.pid!==void 0?n=this._currentOrientation?this._currentOrientation===Jn.Vertical?"block":"inline-block":"block":n=this._currentOrientation&&this._currentOrientation===Jn.Vertical?"block":"inline-block",n}_isContextMenu(){return this._parentCtrl&&this._parentCtrl._isContextMenu()}_isMenuActive(){return this._parentCtrl&&this._parentCtrl._isMenuActive()&&this._parentCtrl._getActiveMenu()===this}_getCheckBoxClass(){let n={"iui-menuitem-checkbox":!0};return this._getItemCheckValue()&&(n["iui-menuitem-checkbox-checked"]=!0),n}_getExpandBoxSpaceClass(){let n="";return this._isThereChildren()&&(n=this._expandBoxSpaceClassName),n}_getExpandBoxClass(){let n="";return this._isThereChildren()&&(n=this._defaultStyle.expandBox.general),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=Se``,n){case Xt.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(PV.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(FV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){if(this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._getDataType()==="header")this._ctrlClass[this._defaultStyle.header]=!0;else if(this._getDataType()==="separator")this._ctrlClass[this._defaultStyle.separator]=!0;else if(this._defaultStyle&&(this._ctrlClass[this._defaultStyle.general.normal]=!0,this.state&Si.Disabled?this._ctrlClass[this._defaultStyle.general.disabled]=!0:this.state&Si.Focused?this._ctrlClass[this._defaultStyle.general.focused]=!0:this._isMenuActive()||this.state&Si.Selected?this._ctrlClass[this._defaultStyle.general.selected]=!0:this.state&Si.Hovered&&(this._ctrlClass[this._defaultStyle.general.hovered]=!0),this._isThereChildren())){let n=this._getExpandBoxClass();this.data&&this.data.pid||this._currentOrientation===Jn.Vertical?n+="-right":n+="-down",this._ctrlClass[n]=!0,this._ctrlClass[this._getExpandBoxSpaceClass()]=!0}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},expandBox:{general:this._defaultStyle.expandBox.general,animated:this._defaultStyle.expandBox.animated,expanded:this._defaultStyle.expandBox.expanded,collapsed:this._defaultStyle.expandBox.collapsed},header:this._defaultStyle.header,content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected},separator:this._defaultStyle.separator}}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(DV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){return this._parentCtrl&&this._parentCtrl._getItemTemplate?this._parentCtrl._getItemTemplate(n):ke``}firstUpdated(n){this._updateReferences(),this.updateLayout()}_getCheckBoxLayout(){let n=ke``;return this._isCheckBoxVisible()&&(n=ke`<span class=${tn(this._getCheckBoxClass())} @mousedown="${e=>this._checkItem(e)}" @mouseup="${e=>this._checkMouseUp(e)}" @touchstart="${e=>this._checkItem(e)}"></span>`),n}_getChildItemLayout(){return this._isThereChildren()?ke`<ul id="block" class="iui-menuitem-block" style=${Pi({display:this._blockDisplay,top:this._blockPos.top+"px",left:this._blockPos.left+"px",height:this._blockElemHeight,overflow:this._blockOverflow,opacity:this._blockOpacity})}>                     ${this._dataItems.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${this.customStyle}" .data="${n}" .dataFields="${this._currentDataFields}" .enabled="${n[this._currentDataFields.enabled]}" .items="${n[this._currentDataFields.items]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="${this._getItemLevel()}" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>`:ke``}_getHeaderLayout(){let n=ke``;if(this.data&&this._getDataType()==="header"){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]);n=ke`                 <div class="iui-menuitem-header" style=${Pi(e)}>                     ${this.templateRef}                 </div>             `}return n}_getItemLayout(){let n=ke``;return this._getDataType()==="item"&&(n=ke`<div class="iui-menuitem-content-template">                     ${this.templateRef}                     ${this._getChildItemLayout()}                 </div>`),n}_getRadioButtonLayout(){let n=ke``;if(this._isRadioButtonVisible()){let e=Se`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;n=ke`                 <iui-radiobutton                      .checked=${this._getItemCheckValue()}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[e,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this.theme}"                     @checkedChanged="${t=>this._checkedChanged(t)}"                     @mousedown="${t=>this._radioMouseDown(t)}"                     @mouseup="${t=>this._radioMouseUp(t)}"                 ></iui-radiobutton>`}return n}_getSeparatorLayout(){let n=ke``;if(this._getDataType()==="separator")if(this.data){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]),t=Q({},e.content)||{},o=Q({},e.line)||{};this.data.text?n=ke`                         <hr class="iui-menuitem-inline-separator" style=${Pi(o)} />                         <div class="iui-menuitem-separator-content" style=${Pi(t)}>                             ${this.templateRef}                         </div>                     `:n=ke`<hr style=${Pi(o)} />`}else n=ke`<hr />`;return n}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences(),this._refreshChildren()}_refreshChildren(){this._childItems&&this._childItems.forEach(n=>n.refresh())}render(){return ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <li data-ctrl="menuitem" class=${tn(this._getControlClass())} style=${Pi(this._getControlStyle())} @click="${n=>this._onClick(n)}" @contextmenu="${n=>this._onContextMenu(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this._getHeaderLayout()}                 ${this._getCheckBoxLayout()}                 ${this._getRadioButtonLayout()}                 ${this._getItemLayout()}                 ${this._getSeparatorLayout()}             </li>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=Se``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(tE.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("li[data-ctrl=menuitem]"),this._blockElem=this.shadowRoot.querySelector("#block"),this._blockElem&&(this._childItems=this._blockElem.querySelectorAll("iui-menuitem"),this._childItems&&this._childItems.forEach(n=>{n.setParent(this._parentCtrl),n.setOffset(this._getOffset())}))}};window.customElements.define("iui-menuitem",iE);var nE=Se`
    :root {
        --fwcLightGreyGradient1: #{$fwcLightGreyGradient1};
        --fwcLightGreyGradient2: #{$fwcLightGreyGradient2};
    }

    .iui-contextmenu {
        border: 1px solid var(--fwcGrey7) !important;
        border-radius: 3px !important;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3) !important;
        font-family: "Montserrat", "Arial", sans-serif !important;
        font-size: 0.9rem !important;
        color: var(--inputColor);
        background: linear-gradient(
            to bottom,
            var(--fwcLightGreyGradient1) 0%,
            var(--fwcLightGreyGradient2) 100%
        ) !important;
        cursor: default;
        margin: 0;
        overflow: visible;
        position: absolute;
        z-index: 1999 !important;
        width: 17rem !important;

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
        line-height: 1.1;
    }

    .iui-contextmenu:focus {
        outline: none !important;
    }
    .iui-contextmenu ul {
        margin: 0;
        padding: 0;
    }
    .iui-menuitem-label {
    margin-left: 4px;
    }
   
    .iui-menuitem-block {
        width: var(--iui-contextmenu-width, 150px);
    }
    .iui-menuitem-root {
        color: var(--inputColor);
        display: block !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
    }
    .iui-menuitem-root:hovered, :selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        }
    `;var LV=Se`
`;var MV=Se`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #252526);
        border-color:  var(--iui-contextmenu-border-color, #151515);
        box-shadow: var(--iui-contextmenu-box-shadow, 0 2px 5px #151515);
        color: var(--iui-contextmenu-color, #cccccc);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border: var(--iui-menuitem-block-border, thin solid #151515);
        border-color: var(--iui-menuitem-block-border-color, #151515);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #151515);
    }
`;var kV=Se`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #fefefe);
        border: var(--iui-contextmenu-border, thin solid #dedede);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-contextmenuitem-root-selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-selected-color, black);
    }
`;var ov=class extends dh{constructor(){super(),this._commonService=new uh,this._dataService=new hh,this._activeAnimations=[],this._currentAnimationSpeedValue=250,this._isAnimationAllowed=!0,this._currentDataFields={},this._currentOptions={},this._fullList=[],this._menuItems=[],this._updateOptions(),this._blockDisplay="none",this._ctrlOpacity=0,this._currentResourcePath="../icons",this._menuActive=!0,this._currentActiveMenu=null,this._currentControlStyleSettings=nE,this._currentCustomStyle=[],this._currentTheme=on.None,this._currentThemeSettings=Se``,this._ctrlClass={},this._generalClassName="iui-contextmenu",this._initTimout=null,this._updateDataFields(),this._initStyle(),this._updateData()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh(),this._initFocus()}_initFocus(){let n=this;n._initTimout=setTimeout(function(){n._elemRef&&n._elemRef.focus()},1)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations(),this._initTimout&&clearTimeout(this._initTimout),this._initTimout=null}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return Xt.Light;case"dark":return Xt.Dark;default:return Xt.None}},toAttribute:n=>{switch(n){case Xt.Light:return"Light";case Xt.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},dataFields:{type:Object,attribute:"data-fields"},options:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return on.Office;case"dark":return on.Dark;default:return on.None}},toAttribute:n=>{switch(n){case on.Office:return"Office";case on.Dark:return"Dark";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get options(){return this._currentOptions}set options(n){let e=this._currentOptions;this._updateOptions(n),this.refresh(),this.requestUpdate("options",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateColorSchemeSettings(this._currentColorScheme),this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e)}}_animationCallback(n,e){if(n.length>0){let t=n[0].values;this._ctrlOpacity=t.opacity,this._currentOptions.position.y=t.top,this.update()}}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>n.destroy())}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_addChildItems(n,e){let t=!0;if(!n[this._currentDataFields.items])return t=this._addItemToCurrentList(n,e);if(this._addItemToCurrentList(n,e)){t=!0;let o=n[this._currentDataFields.items];o&&o.forEach(r=>this._addChildItems(r,n[this._currentDataFields.id]))}return t}_addItemToCurrentList(n,e){n[this._currentDataFields.id]||(n[this._currentDataFields.id]=this._commonService.getUniqueId()),e&&(n[this._currentDataFields.pid]=e);let t=this._isItemAllowed(n);return t&&this._fullList.push(n),t}getFullList(){return this._fullList}_isItemAllowed(n){return n[this._currentDataFields.visible]!==!1}_updateOptions(n){n?(this._currentOptions={adjustment:this._commonService.isFieldAvailable(n.adjustment,{top:0,left:0}),autoClose:this._commonService.isFieldAvailable(n.autoClose,!0),direction:this._commonService.isFieldAvailable(n.direction,ph.None),inverse:this._commonService.isFieldAvailable(n.inverse,!1),items:this._commonService.isFieldAvailable(n.items,[]),mode:this._commonService.isFieldAvailable(n.mode,"normal"),position:this._commonService.isFieldAvailable(n.position,{x:0,y:-9999999})},this._updateDataFields(n.dataFields)):(this._currentOptions={adjustment:{top:0,left:0},autoClose:!0,direction:ph.None,inverse:!1,items:[],mode:"normal",position:{x:0,y:-9999999}},this._updateDataFields()),this._updateData()}_updateData(){this._dataService.init([{data:this._currentOptions.items,fields:this._currentDataFields}]),this._updateFullList()}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"}}_updateFullList(){this._fullList.length=0;let n=this._dataService.getList();n&&n.forEach(e=>this._addChildItems(e,null))}_invokeEvent(n,e,t,o){let r=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:o!==void 0?o:!1});return this.dispatchEvent(r),e}_onBlur(n){this.autoClose!==!1&&this._invokeEvent("closed",{event:n})}_onRightClick(n){n.preventDefault()}_defaultFunc(){}invokeCtrlMethod(n,e){switch(n){case"MENU_CLICK":e.item&&e.item.type!=="header"&&e.item.type!=="separator"&&(this._invokeEvent("menuClick",{event:e.event,item:e.item}),this.close());break;case"UPDATE_CHECKBOX":this._updateItemCheckBoxValue(e.event,e.item);break;case"UPDATE_RADIOBUTTON":this._updateItemRadioButtonValue(e.event,e.item);break;default:this._defaultFunc()}}_getActiveMenu(){return null}getItemParent(n){return this._dataService.getParent(n)}_isContextMenu(){return!0}_isMenuActive(){return this._menuActive}_setActiveMenu(n){}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_updateItemCheckBoxValue(n,e){e&&this._invokeEvent("checkedChanged",{event:n,item:e,checked:e[this._currentDataFields.checked]})}_isItemRadioButtonAllowed(n){return n&&n[this._currentDataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n,e){let t=this;if(e){let o=t.getItemParent(e),r=o?o[t._currentDataFields.items]:t._currentOptions.items;(r=r.filter(s=>s[t._currentDataFields.radioGroup]===e[t._currentDataFields.radioGroup])).forEach(s=>{t._isItemRadioButtonAllowed(s)&&s!==e&&(s[t._currentDataFields.checked]=!1)}),t._invokeEvent("checkedChanged",{event:n,item:e,checked:e[t._currentDataFields.checked],radioGroup:e[t._currentDataFields.radioGroup]}),t._menuItems&&t._menuItems.forEach(s=>s.refresh())}}_adjustPosition(n,e,t,o,r){let s=this,a=s._commonService.getShiftPos();setTimeout(function(){let l=s._getSize(),c=t;if(e==="manual"&&r&&(c.x=r.left+r.width+a.x+s._currentOptions.adjustment.left,c.y=r.bottom+a.y+4+s._currentOptions.adjustment.top,s._currentOptions.direction&ph.Above&&(c.y-=l.height),(s._currentOptions.inverse||s._currentOptions.direction&ph.Left)&&(c.x-=l.width)),o&&c.y+l.height>o.height){let u=c.y+l.height-o.height;c.y-=u}if(s._currentOptions.position=c,s._isAnimationAllowed){s._ctrlOpacity=0;let u=new nr,g=s._animationCallback.bind(s);s._activeAnimations.push(u);let _={opacity:0,top:s._currentOptions.position.y-10},C={opacity:1,top:s._currentOptions.position.y};u.animate({current:_,values:C},0,s._currentAnimationSpeedValue,g)}else s._ctrlOpacity=1,s.update();s._updateReferences(),s._invokeEvent("menuOpened",{event:n})},10)}close(){this._blockDisplay="none",this.update()}open(n,e,t,o,r){let s=this;s._clearActiveAnimations(),s._currentOptions.items&&(s._blockDisplay="block",s._adjustPosition(n,e,t,o,r))}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_getClassName(){return this._generalClassName}_getControlClass(){return this._ctrlClass}_updateControlClass(){this._ctrlClass={},this._ctrlClass["iui-contextmenu"]=!0}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=Se``,n){case Xt.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(MV.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(kV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(LV.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){let e=null;if(this.itemTemplate){let t=this.itemTemplate(n);t&&(e=new ba(t.strings,t.values,"html",lu))}if(!e){let t={},o=this._commonService.isString(n.icon)?n.icon.split(" "):[];o.map(s=>t[s]=!0);let r=n[this._currentDataFields.iconUrl];e=ke`                 ${o.length>0?ke`<span class=${tn(t)}></span>`:ke``}                 ${r?ke`<img style=${Pi({verticalAlign:"middle"})} src="${r} />`:ke``}                 <span class="iui-menuitem-label">${n.text}</span>             `}return e}firstUpdated(n){this._updateReferences()}refresh(){this._updateControlClass(),this.update(),this._menuItems&&this._menuItems.forEach(n=>n.refresh())}render(){return ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu-win" class=${tn(this._getControlClass())} style=${Pi({top:this._currentOptions.position.y+"px",left:this._currentOptions.position.x+"px",height:"auto",opacity:this._ctrlOpacity})} @blur="${n=>this._onBlur(n)}" @contextmenu="${n=>this._onRightClick(n)}" tabindex="999">                 <ul id="content">                     ${this._currentOptions.items.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${[this._currentControlStyleSettings,this._currentThemeSettings,this._currentCustomStyle]}" .data="${n}" .dataFields="${this._currentDataFields}" .items="${n[this._currentDataFields.items]}" .enabled="${n[this._currentDataFields.enabled]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="0" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=Se``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(nE.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu-win]"),this._contentElem=this.shadowRoot.querySelector("#content"),this._contentElem&&(this._menuItems=this._contentElem.querySelectorAll("iui-menuitem"),this._menuItems&&this._menuItems.forEach(n=>n.setParent(this)))}};window.customElements.define("iui-contextmenu-win",ov);var oE=class extends Zc{constructor(){super(),this._currentSettings=null,this._winScrollPos={top:0,left:0},this._cmpRef=null,this._cmp=null,this._currentThemeSettings=Se``}connectedCallback(){}disconnectedCallback(){this._removeContextMenuWindow()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{settings:{type:Object}}}get settings(){return this._currentSettings}set settings(n){if(this._currentSettings!==n){let e=this._currentSettings;this._currentSettings=n,this.requestUpdate("settings",e)}}getFullList(){return this._cmpRef?this._cmpRef.getFullList():[]}_closeContextMenu(){this._cmpRef&&this._cmpRef.close()}getItemParent(n){return this._cmpRef?this._cmpRef.getItemParent(n):null}_removeContextMenu(){this._removeContextMenuWindow()}_menuItemClick(n){this._invokeEvent("menuClick",{event:n.detail.event,item:n.detail.item}),this._removeContextMenuWindow()}_menuItemCheckedChanged(n){this._invokeEvent("checkedChanged",{event:n.detail.event,item:n.detail.item,checked:n.detail.checked,radioGroup:n.detail.radioGroup})}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_isInsideClick(n){if(this._contentSlotElem=this.shadowRoot.querySelector("slot").assignedNodes(),this._contentSlotElem&&(this._contentSlotElem=this._contentSlotElem.filter(e=>e.nodeType===1),this._contentSlotElem&&this._contentSlotElem.length>0)){let e=this._commonService.getPageRect(this._contentSlotElem[0]),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();return t.x-=o.x,t.y-=o.y,t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom}return!1}_ctrlContextMenu(n){this._isEnabled&&this._currentSettings.position!=="manual"&&this._processMenuOpen(n)}_ctrlMouseDown(n){this._isEnabled&&this._currentSettings.position==="manual"&&(this._currentSettings.buttonType===void 0||this._currentSettings.buttonType<0||n.which===this._currentSettings.buttonType)&&this._processMenuOpen(n,"manual")}_ctrlTouchStart(n){this._isEnabled&&this._currentSettings.position==="manual"&&this._processMenuOpen(n,"manual")}_processMenuOpen(n,e){if(!this._isInsideClick(n))return;n.preventDefault();let t=this;t._winScrollPos={top:document.documentElement.scrollTop,left:document.documentElement.scrollLeft};let o={cancel:!1,event:n};if(t._invokeEvent("menuOpening",o),o.cancel!==!0&&(t._addContextMenuWindow(),t._cmpRef)){t._cmpRef.resourcePath=t._currentResourcePath,t._cmpRef.allowAnimation=t.allowAnimation,t._cmpRef.colorScheme=t._currentColorScheme,t._cmpRef.customStyle=t.customStyle,t._cmpRef.itemTemplate=t.itemTemplate,t._cmpRef.options=t._currentSettings,t._cmpRef.options.mode=e,t._cmpRef.theme=t._currentTheme;let r=t._currentSettings.appSize?t._currentSettings.appSize:{width:window.innerWidth,height:window.innerHeight};e==="manual"?t._cmpRef.open(n,e,{x:0,y:0},r,t._elemRef.getBoundingClientRect()):t._cmpRef.open(n,e,{x:n.pageX,y:n.pageY},r),setTimeout(function(){window.scrollTo(t._winScrollPos.left,t._winScrollPos.top)},5),this._removeContextMenu=this._removeContextMenu.bind(this),this._cmpRef.addEventListener("closed",this._removeContextMenu),this._menuItemClick=this._menuItemClick.bind(this),this._cmpRef.addEventListener("menuClick",this._menuItemClick),this._menuItemCheckedChanged=this._menuItemCheckedChanged.bind(this),this._cmpRef.addEventListener("checkedChanged",this._menuItemCheckedChanged),e==="manual"&&n.stopPropagation()}}_addContextMenuWindow(){this._removeContextMenuWindow(),this._cmpRef=document.createElement("iui-contextmenu-win",{is:ov}),document.body.appendChild(this._cmpRef)}_removeContextMenuWindow(){this._cmpRef&&(this._cmpRef.removeEventListener("menuClick",this._menuItemClick),this._cmpRef.removeEventListener("closed",this._removeContextMenu),this._cmpRef.parentNode.removeChild(this._cmpRef)),this._cmpRef=null}findItemById(n){return this._cmpRef?this._cmpRef.findItemById(n):null}findItemByText(n){return this._cmpRef?this._cmpRef.findItemByText(n):null}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences(),this._cmpRef&&this._cmpRef.refresh()}render(){return ke`             <style>                 .iui-contextmenu-container {                     height: var(--iui-contextmenu-container-height, 100%);                     width: var(--iui-contextmenu-container-width, 100%);                 }                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu" class="iui-contextmenu-container" style=${Pi(this._getControlStyle())} @contextmenu="${n=>this._ctrlContextMenu(n)}" @mousedown="${n=>this._ctrlMouseDown(n)}" @touchstart="${n=>this._ctrlTouchStart(n)}">                 <slot></slot>             </div>         `}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu]")}};window.customElements.define("iui-contextmenu",oE);var Wl=Se`
  @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

  @font-face {
    font-family: 'FontAwesome';
    src: url('../fonts/fontawesome-webfont.eot?v=4.7.0');
    src: url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), 
         url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), 
         url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), 
         url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), 
         url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  .fa {
    display: inline-block;
    font: normal normal normal 14px/1 FontAwesome;
    font-size: inherit;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .fa-spin {
    animation: fa-spin 2s infinite linear;
  }

  .fa-wrench:before {
  content: "\\f0ad";
  }

  .fa-puzzle-piece:before {
    content: "\\f12e";
  }

  .fa-n:before {
  content: "N ";
  }

  .fa-file:before {
    content: "\\f15b";
  }
  .fa-file-code:before {
  content: "\\f1c9";
  }

  .fa-plus:before {
    content: "\\f067";
  }

  .fa-trash:before {
    content: "\\f1f8";
  }

  .fa-terminal:before {
    content: "\\f120";
  }

  .fa-eye:before {
    content: "\\f06e";
  }

  .fa-download:before {
    content: "\\f019";
  }

  .fa-spinner:before {
    content: "\\f110";
  }

  .fa-gear:before {
    content: "\\f013";
  }

  .fa-question-circle:before {
    content: "\\f059"; font-size: 17px !important;
  }

  .fa-earth-africa:before {
    content: "\\f57c"; font-size: 17px !important;
  }
  
  .fa-earth-americas:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-earth-asia:before {
    content: "\\f57e"; font-size: 17px !important;
  }
  
  .fa-globe:before {
    content: "\\f0ac"; font-size: 17px !important;
  }
  
  .fa-earth:before {
    content: "\\f7e4"; font-size: 17px !important;
  }
  
  .fa-earth-europe:before {
    content: "\\f7a2"; font-size: 17px !important;
  }
  
  .fa-earth-oceania:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-snowflake:before {
    content: "\\f2dc"; font-size: 17px !important;
  }

  .fa-list-alt {
    font-family: 'Font Awesome 5 Free';
    font-weight: 900; /* Font Awesome Free Solid */
  }

  .fa-list-alt:before {
    content: "\\f00b"; /* Unicode for fa-table-list */
  }

  @keyframes fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;var $l=Se`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
    font-family: 'fwcIcons';
    src: url('../fonts/fwcIcons.eot');
    src: url('../fonts/fwcIcons.eot?#iefix') format('embedded-opentype'),
         url('../fonts/fwcIcons.woff') format('woff'),
         url('../fonts/fwcIcons.ttf') format('truetype'),
         url('../fonts/fwcIcons.svg#fwcIcons') format('svg');
    font-weight: normal;
    font-style: normal;
  }
  [class*='fwci-']:before {
    display: inline-block;
    font-family: 'fwcIcons';
    font-style: normal;
    font-weight: normal;
    line-height: 1;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .fwci-cloud:before { content: '\\0041'; }
  .fwci-firewalls:before { content: '\\0042'; font-size: 17px !important;}
  .fwci-firewall:before { content: '\\0043'; font-size: 15px !important; }
  .fwci-filterpolicies:before { content: '\\0044'; font-size: 17px !important;}
  .fwci-input:before { content: '\\0045'; font-size: 17px !important; }
  .fwci-output:before { content: '\\0046'; font-size: 17px !important; }
  .fwci-forward:before { content: '\\0047'; font-size: 17px !important; }
  .fwci-nat:before { content: '\\0048'; font-size: 17px !important;}
  .fwci-snat:before { content: '\\0049'; font-size: 17px !important; }
  .fwci-dnat:before { content: '\\004a'; font-size: 17px !important; }
  .fwci-routing:before { content: '\\004b'; font-size: 17px !important; }
  .fwci-interfaces:before { content: '\\004c'; font-size: 17px !important; }
  .fwci-interface:before { content: '\\004d'; font-size: 17px !important; }
  .fwci-ipobjects:before { content: '\\004e'; font-size: 17px !important; }
  .fwci-addresses:before { content: '\\004f'; font-size: 17px !important; }
  .fwci-address:before { content: '\\0050'; font-size: 17px !important;}
  .fwci-addressranges:before { content: '\\0051'; font-size: 17px !important; }
  .fwci-addressrange:before { content: '\\0052'; font-size: 17px !important; }
  .fwci-networks:before { content: '\\0053'; font-size: 17px !important; }
  .fwci-network:before { content: '\\0054'; font-size: 17px !important; }
  .fwci-hosts:before { content: '\\0055'; font-size: 17px !important; }
  .fwci-host:before { content: '\\0056'; font-size: 17px !important; }
  .fwci-objectgroups:before { content: '\\0057'; font-size: 17px !important; }
  .fwci-objectgroup:before { content: '\\0058';  font-size: 17px !important;}
  .fwci-services:before { content: '\\0059';  font-size: 17px !important;}
  .fwci-ipservices:before { content: '\\005a'; font-size: 17px !important;}
  .fwci-ipservice:before { content: '\\0061'; font-size: 17px !important;}
  .fwci-tcpservices:before { content: '\\0062'; font-size: 17px !important; }
  .fwci-tcpservice:before { content: '\\0063'; font-size: 17px !important; }
  .fwci-icmpservices:before { content: '\\0064'; font-size: 17px !important; }
  .fwci-icmpservice:before { content: '\\0065'; font-size: 17px !important; }
  .fwci-udpservices:before { content: '\\0066'; font-size: 17px !important; }
  .fwci-udpservice:before { content: '\\0067'; font-size: 17px !important; }
  .fwci-servicesgroups:before { content: '\\0068'; font-size: 17px !important; }
  .fwci-servicegroup:before { content: '\\0069'; font-size: 17px !important; }
  .fwci-rule:before { content: '\\006a'; }
  .fwci-rulegroup:before { content: '\\006b'; }
  .fwci-expand:before { content: '\\006c'; }
  .fwci-collapse:before { content: '\\006d'; }
  .fwci-reload:before { content: '\\006e'; }
  .fwci-newfirewall:before { content: '\\006f'; }
  .fwci-editfirewall:before { content: '\\0070'; }
  .fwci-compilefirewall:before { content: '\\0071'; }
  .fwci-installfirewall:before { content: '\\0072'; }
  .fwci-loadpolicy:before { content: '\\0073'; }
  .fwci-newinterface:before { content: '\\0074'; }
  .fwci-newadress:before { content: '\\0075'; }
  .fwci-whereused:before { content: '\\0076'; }
  .fwci-edit:before { content: '\\0077'; }
  .fwci-delete:before { content: '\\0078'; }
  .fwci-enableposition:before { content: '\\0079'; }
  .fwci-negateposition:before { content: '\\007a'; }
  .fwci-editobject:before { content: '\\0030'; }
  .fwci-copy:before { content: '\\0031'; }
  .fwci-cut:before { content: '\\0032'; }
  .fwci-compilerule:before { content: '\\0033'; }
  .fwci-rulecolor:before { content: '\\0034'; }
  .fwci-newruleabove:before { content: '\\0035'; }
  .fwci-newrulebelow:before { content: '\\0036'; }
  .fwci-editrule:before { content: '\\0037'; }
  .fwci-enablerule:before { content: '\\0038'; }
  .fwci-disablerule:before { content: '\\0039'; }
  .fwci-deleterule:before { content: '\\0021'; }
  .fwci-movedown:before { content: '\\0022'; }
  .fwci-removegroup:before { content: '\\0023'; }
  .fwci-removefromgroup:before { content: '\\0024'; }
  .fwci-deny:before { content: '\\0025'; }
  .fwci-accept:before { content: '\\0026'; }
  .fwci-reject:before { content: '\\0027'; }
  .fwci-acounting:before { content: '\\0028'; }
  .fwci-groupname:before { content: '\\0029'; }
  .fwci-groupcolor:before { content: '\\002a'; }
  .fwci-new:before { content: '\\002b'; }
  .fwci-compileallfirewalls:before { content: '\\002c'; }
  .fwci-installallfirewalls:before { content: '\\002d'; }
  .fwci-policy:before { content: '\\002e'; font-size: 17px !important; }
  .fwci-vpn:before { content: '\\002f'; }
  .fwci-status:before { content: '\\005b'; }
  .fwci-config:before { content: '\\005c'; }
  .fwci-help:before { content: '\\005d'; }
  .fwci-logout:before { content: '\\005e'; font-size: 17px !important; }
  .fwci-compileallfirewalls2:before { content: '\\005f'; }
  .fwci-installallfirewalls2:before { content: '\\0060'; }
  .fwci-users:before { content: '\\007b'; }
  .fwci-systemconfiguration:before { content: '\\007c'; }
  .fwci-cluster:before { content: '\\007d'; font-size: 17px !important; }
  .fwci-clusters:before { content: '\\007e'; font-size: 17px !important; }                                                                                                           
  .fwci-paste:before { content: '\\003f'; }
`;var Kl=Se`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
      font-family: 'fwcIcons2';
      src: url('../fonts/fwcIcons2.eot');
      src: url('../fonts/fwcIcons2.eot?#iefix') format('embedded-opentype'),
          url('../fonts/fwcIcons2.woff') format('woff'),
          url('../fonts/fwcIcons2.ttf') format('truetype'),
          url('../fonts/fwcIcons2.svg#fwcIcons2') format('svg');
      font-weight: normal;
      font-style: normal;
  }
[class*='fwci2-']:before{
	display: inline-block;
   font-family: 'fwcIcons2';
   font-style: normal;
   font-weight: normal;
   line-height: 1;
   font-size:14px;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale
}
.fwci2-cuadrado:before{content:'\\0041';}
.fwci2-moveup:before{content:'\\0042';}
.fwci2-pastebelow:before{content:'\\0043';}
.fwci2-pasteabove:before{content:'\\0044';}
.fwci2-findintree:before{content:'\\0045';}
.fwci2-firewall_to_cluster:before{content:'\\0046';}
.fwci2-cluster_to_firewall:before{content:'\\0047';}
.fwci2-cluster_clone:before{content:'\\0048';}
.fwci2-firewall_clone:before{content:'\\0049';}
.fwci2-newcluster:before{content:'\\004a';}
.fwci2-folder:before{content:'\\004b'; font-size: 17px; }
.fwci2-newfolder:before{content:'\\004c';}
.fwci2-deletefolder:before{content:'\\004d';}
.fwci2-renamefolder:before{content:'\\004e';}
.fwci2-vpn-config:before{content:'\\004f';}
.fwci2-certificate:before{content:'\\0050';}
.fwci2-new-certificate:before{content:'\\0051';}
.fwci2-delete-certificate:before{content:'\\0052';}
.fwci2-edit-certificate:before{content:'\\0053';}
.fwci2-ca:before{content:'\\0054';}
.fwci2-new-ca:before{content:'\\0055';}
.fwci2-delete-ca:before{content:'\\0056';}
.fwci2-edit-ca:before{content:'\\0057';}
.fwci2-openvpn:before{content:'\\0058'; font-size: 17px !important; }
.fwci2-openvpn-deleteconfig:before{content:'\\0059';}
.fwci2-folderstd:before{content:'\\005a'; font-size: 17px !important; }
.fwci2-edit-vpnconfig:before{content:'\\0061';}
.fwci2-file-vpnconfig:before{content:'\\0062';}
.fwci2-install-vpnconfig:before{content:'\\0063';}
.fwci2-label:before{content:'\\0064'; font-size: 17px !important; }
.fwci2-dns-in:before{content:'\\0065'; font-size: 17px !important; }
.fwci2-uninstall-vpnconfig:before{content:'\\0066';}
.fwci2-syncccd-vpnconfig:before{content:'\\0067';}
.fwci2-certificate-prefix:before{content:'\\0068';}
.fwci2-certificate-prefix-new:before{content:'\\0069';}
.fwci2-certificate-prefix-edit:before{content:'\\006a';}
.fwci2-certificate-prefix-delete:before{content:'\\006b';}
`;var $me=["panelHeader"],Kme=["panelContent"],qme=["sts-fwc-tree-panel",""],Yme=["*"],Jme=i=>({panelCollapsed:i}),Xme=i=>({display:i}),NV=(()=>{class i{constructor(e,t,o,r,s,a){this.elRef=e,this.renderer=t,this.fwcContextMenuService=o,this.refService=r,this.fwcTreeMenuService=s,this.store=a,this.expanded=!0,this.subjectChange=new Ae,this.contextMenuStyle=[Wl,Kl,$l],this.applicationRef=null,this.contextMenuReference=null,this.alive=!0,this.el=e.nativeElement}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.store.pipe(yt(()=>this.alive),Sn(Zr)).subscribe(e=>{e==="dark"?this.currentColorScheme=Xt.Dark:this.currentColorScheme=Xt.Light})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t}.bind(this),1)}togglePanel(){return new Promise((e,t)=>{this.expanded=!this.expanded,this.subjectChange.next(this.expanded),setTimeout(()=>{e()},300)})}setHeight(e){let t=this.divHeader.nativeElement.offsetHeight,o=e-t;this.renderer.setStyle(this.divContent.nativeElement,"height",o+"px")}getMinHeight(){return this.divHeader.nativeElement.offsetHeight}onChange(){return this.subjectChange.asObservable()}onContextMenuLoad(e){let t;this.header==="FIREWALLS"?this.panel_type="FDF":this.header==="OBJECTS"||this.header==="OBJETOS"?this.panel_type="FDO":this.panel_type="FDS",t=this.treeContextMenu[this.panel_type],t&&t.items?t.items.forEach(o=>{o.type!=="separator"&&(o.visible=o.id===N.TREE_RELOAD||o.id===N.TREE_REPAIR)}):e.detail.cancel=!0}onContextMenuHandler(e){let t={e,panel_type:this.panel_type};this.fwcTreeMenuService.forwardSelection.next(t)}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(ih),v(zs),v(qI),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["","sts-fwc-tree-panel",""]],viewQuery:function(t,o){if(t&1&&(ne($me,5),ne(Kme,5)),t&2){let r;K(r=q())&&(o.divHeader=r.first),K(r=q())&&(o.divContent=r.first)}},inputs:{header:"header",expanded:"expanded"},features:[Ge([tr])],attrs:qme,ngContentSelectors:Yme,decls:11,vars:12,consts:[["panelHeader",""],["contextMenu",""],["panelContent",""],[1,"fwcTreePanel-header",3,"click","ngClass"],[3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],[1,"pi",3,"ngClass"],[1,"fwcTreePanel-content",3,"ngStyle"]],template:function(t,o){if(t&1){let r=k();_i(),f(0,"div",3,0),R("click",function(){return b(r),y(o.togglePanel())}),f(2,"iui-contextmenu",4,1),R("menuOpening",function(a){return b(r),y(o.onContextMenuLoad(a))})("menuClick",function(a){return b(r),y(o.onContextMenuHandler(a))}),f(4,"div")(5,"span"),T(6),m(),E(7,"i",5),m()()(),f(8,"div",6,2),jt(10),m()}t&2&&(p("ngClass",J(8,Jme,!o.expanded)),d(2),p("settings",o.treeContextMenu.FDO)("allowAnimation",!1)("customStyle",o.contextMenuStyle)("colorScheme",o.currentColorScheme),d(4),H(o.header),d(),p("ngClass",o.expanded?"pi-chevron-down":"pi-chevron-right"),d(),p("ngStyle",J(10,Xme,o.expanded?"block":"none")))},dependencies:[Fe,ve],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.fwcTreePanel-header[_ngcontent-%COMP%]{background:var(--fwcBlue);color:var(--fixedWhiteColor);font-size:.9rem;padding:.5rem;border-bottom:1px solid var(--fwcWhite)}.fwcTreePanel-header.panelCollapsed[_ngcontent-%COMP%]{background:var(--fwcDarkBlue2)}.fwcTreePanel-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat,arial,sans-serif;display:inline-block;width:calc(100% - 1.3em);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.fwcTreePanel-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.fwcTreePanel-content[_ngcontent-%COMP%]{transition:all .3s linear}"]})}}return i})();var ws=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["MinusIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},dependencies:[Be],encapsulation:2})}return i})();var Zme=["*",[["p-header"]],[["p-footer"]]],ege=["*","p-header","p-footer"],tge=(i,n)=>({"p-panel p-component":!0,"p-panel-toggleable":i,"p-panel-expanded":n}),ige=i=>({transitionParams:i,height:"0",opacity:"0"}),nge=i=>({value:"hidden",params:i}),oge=i=>({transitionParams:i,height:"*",opacity:"1"}),rge=i=>({value:"visible",params:i}),sge=(i,n,e)=>({"p-panel-icons-start":i,"p-panel-icons-end":n,"p-panel-icons-center":e}),age=i=>({$implicit:i});function lge(i,n){if(i&1&&(f(0,"span",10),T(1),m()),i&2){let e=h(2);M("id",e.id+"_header"),d(),H(e.header)}}function cge(i,n){i&1&&oe(0)}function dge(i,n){}function uge(i,n){i&1&&I(0,dge,0,0,"ng-template")}function pge(i,n){if(i&1&&E(0,"span",16),i&2){let e=h(5);te(e.expandIcon),p("ngClass",e.iconClass)}}function hge(i,n){if(i&1&&E(0,"MinusIcon",17),i&2){let e=h(5);p("styleClass",e.iconClass)}}function fge(i,n){if(i&1&&(re(0),I(1,pge,1,3,"span",14)(2,hge,1,1,"MinusIcon",15),se()),i&2){let e=h(4);d(),p("ngIf",e.expandIcon),d(),p("ngIf",!e.expandIcon)}}function mge(i,n){if(i&1&&E(0,"span",16),i&2){let e=h(5);te(e.collapseIcon),p("ngClass",e.iconClass)}}function gge(i,n){if(i&1&&E(0,"PlusIcon",17),i&2){let e=h(5);p("styleClass",e.iconClass)}}function _ge(i,n){if(i&1&&(re(0),I(1,mge,1,3,"span",14)(2,gge,1,1,"PlusIcon",15),se()),i&2){let e=h(4);d(),p("ngIf",e.collapseIcon),d(),p("ngIf",!e.collapseIcon)}}function Cge(i,n){if(i&1&&(re(0),I(1,fge,3,2,"ng-container",12)(2,_ge,3,2,"ng-container",12),se()),i&2){let e=h(3);d(),p("ngIf",!e.collapsed),d(),p("ngIf",e.collapsed)}}function Ige(i,n){}function vge(i,n){i&1&&I(0,Ige,0,0,"ng-template")}function bge(i,n){if(i&1){let e=k();f(0,"button",11),R("click",function(o){b(e);let r=h(2);return y(r.onIconClick(o))})("keydown",function(o){b(e);let r=h(2);return y(r.onKeyDown(o))}),I(1,Cge,3,2,"ng-container",12)(2,vge,1,0,null,13),m()}if(i&2){let e=h(2);M("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed),d(),p("ngIf",!e.headerIconTemplate),d(),p("ngTemplateOutlet",e.headerIconTemplate)("ngTemplateOutletContext",J(7,age,e.collapsed))}}function yge(i,n){if(i&1){let e=k();f(0,"div",6),R("click",function(o){b(e);let r=h();return y(r.onHeaderClick(o))}),I(1,lge,2,2,"span",7),jt(2,1),I(3,cge,1,0,"ng-container",4),f(4,"div",8),I(5,uge,1,0,null,4)(6,bge,3,9,"button",9),m()()}if(i&2){let e=h();M("id",e.id+"-titlebar"),d(),p("ngIf",e.header),d(2),p("ngTemplateOutlet",e.headerTemplate),d(),p("ngClass",Ai(6,sge,e.iconPos==="start",e.iconPos==="end",e.iconPos==="center")),d(),p("ngTemplateOutlet",e.iconTemplate),d(),p("ngIf",e.toggleable)}}function wge(i,n){i&1&&oe(0)}function Sge(i,n){i&1&&oe(0)}function Age(i,n){if(i&1&&(f(0,"div",18),jt(1,2),I(2,Sge,1,0,"ng-container",4),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.footerTemplate)}}var vCt=(()=>{class i{el;cd;toggleable;header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new W;onBeforeToggle=new W;onAfterToggle=new W;footerFacet;templates;iconTemplate;animating;headerTemplate;contentTemplate;footerTemplate;headerIconTemplate;id=ut();get buttonAriaLabel(){return this.header}constructor(e,t){this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;case"headericons":this.headerIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}static \u0275fac=function(t){return new(t||i)(v(Le),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-panel"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.footerFacet=s.first),K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{toggleable:[2,"toggleable","toggleable",j],header:"header",collapsed:[2,"collapsed","collapsed",j],style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:[2,"showHeader","showHeader",j],toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[Ve],ngContentSelectors:ege,decls:7,vars:25,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["pRipple","","type","button","role","button","class","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown",4,"ngIf"],[1,"p-panel-title"],["pRipple","","type","button","role","button",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass"],[1,"p-panel-footer"]],template:function(t,o){t&1&&(_i(Zme),f(0,"div",0),I(1,yge,7,10,"div",1),f(2,"div",2),R("@panelContent.done",function(s){return o.onToggleDone(s)}),f(3,"div",3),jt(4),I(5,wge,1,0,"ng-container",4),m(),I(6,Age,3,1,"div",5),m()()),t&2&&(te(o.styleClass),p("ngClass",Ue(14,tge,o.toggleable,!o.collapsed&&o.toggleable))("ngStyle",o.style),M("id",o.id)("data-pc-name","panel"),d(),p("ngIf",o.showHeader),d(),p("id",o.id+"_content")("@panelContent",o.collapsed?J(19,nge,J(17,ige,o.animating?o.transitionOptions:"0ms")):J(23,rge,J(21,oge,o.animating?o.transitionOptions:"0ms"))),M("aria-labelledby",o.id+"_header")("aria-hidden",o.collapsed)("tabindex",o.collapsed?"-1":void 0),d(3),p("ngTemplateOutlet",o.contentTemplate),d(),p("ngIf",o.footerFacet||o.footerTemplate))},dependencies:()=>[Fe,ze,Xe,ve,Ri,qr,ws],styles:[`@layer primeng{.p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}}
`],encapsulation:2,data:{animation:[$i("panelContent",[lo("hidden",Rt({height:"0"})),lo("void",Rt({height:"{{height}}"}),{params:{height:"0"}}),lo("visible",Rt({height:"*"})),Nt("visible <=> hidden",[kt("{{transitionParams}}")]),Nt("void => hidden",kt("{{transitionParams}}")),Nt("void => visible",kt("{{transitionParams}}"))])]},changeDetection:0})}return i})(),rE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Li,qr,ws,$e]})}return i})();var xge=["content"],Ege=[[["p-footer"]]],Tge=["p-footer"],Oge=i=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":i}),Rge=(i,n)=>({transform:i,transition:n}),Dge=i=>({value:"visible",params:i}),VV=i=>({$implicit:i}),Pge=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function Fge(i,n){i&1&&oe(0)}function Lge(i,n){if(i&1&&(re(0),I(1,Fge,1,0,"ng-container",7),se()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.headlessTemplate)("ngTemplateOutletContext",J(2,VV,e.confirmation))}}function Mge(i,n){i&1&&oe(0)}function kge(i,n){if(i&1&&(f(0,"div",14),I(1,Mge,1,0,"ng-container",15),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.headerTemplate)}}function Nge(i,n){if(i&1&&(f(0,"span",19),T(1),m()),i&2){let e=h(5);p("id",e.ariaLabelledBy),d(),H(e.option("header"))}}function Vge(i,n){if(i&1){let e=k();f(0,"button",20),R("click",function(o){b(e);let r=h(5);return y(r.close(o))})("keydown.enter",function(o){b(e);let r=h(5);return y(r.close(o))}),E(1,"TimesIcon"),m()}if(i&2){let e=h(5);p("ngClass",Ie(2,Pge)),M("aria-label",e.closeAriaLabel)}}function Bge(i,n){if(i&1&&(f(0,"div",14),I(1,Nge,2,2,"span",16),f(2,"div",17),I(3,Vge,2,3,"button",18),m()()),i&2){let e=h(4);d(),p("ngIf",e.option("header")),d(2),p("ngIf",e.closable)}}function Uge(i,n){if(i&1&&E(0,"i",3),i&2){let e=h(4);te(e.option("icon")),p("ngClass","p-confirm-dialog-icon")}}function jge(i,n){}function Hge(i,n){i&1&&I(0,jge,0,0,"ng-template")}function Gge(i,n){if(i&1&&(re(0),I(1,Hge,1,0,null,15),se()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.iconTemplate)}}function zge(i,n){if(i&1&&E(0,"span",21),i&2){let e=h(4);p("innerHTML",e.option("message"),Fi)}}function Wge(i,n){}function $ge(i,n){i&1&&I(0,Wge,0,0,"ng-template")}function Kge(i,n){if(i&1&&(re(0),I(1,$ge,1,0,null,7),se()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.messageTemplate)("ngTemplateOutletContext",J(2,VV,e.confirmation))}}function qge(i,n){i&1&&oe(0)}function Yge(i,n){if(i&1&&(f(0,"div",22),jt(1),I(2,qge,1,0,"ng-container",15),m()),i&2){let e=h(4);d(2),p("ngTemplateOutlet",e.footerTemplate)}}function Jge(i,n){if(i&1&&E(0,"i"),i&2){let e=h(7);te(e.option("rejectIcon"))}}function Xge(i,n){i&1&&E(0,"TimesIcon",28),i&2&&p("styleClass","p-button-icon-left")}function Qge(i,n){if(i&1&&(re(0),I(1,Jge,1,2,"i",26)(2,Xge,1,1,"TimesIcon",27),se()),i&2){let e=h(6);d(),p("ngIf",e.option("rejectIcon")),d(),p("ngIf",!e.option("rejectIcon"))}}function Zge(i,n){}function e_e(i,n){i&1&&I(0,Zge,0,0,"ng-template")}function t_e(i,n){if(i&1&&(f(0,"span",29),I(1,e_e,1,0,null,15),m()),i&2){let e=h(6);d(),p("ngTemplateOutlet",e.rejectIconTemplate)}}function i_e(i,n){if(i&1){let e=k();f(0,"button",24),R("click",function(){b(e);let o=h(5);return y(o.reject())}),I(1,Qge,3,2,"ng-container",11)(2,t_e,2,1,"span",25),m()}if(i&2){let e=h(5);te(e.option("rejectButtonStyleClass")),p("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),M("aria-label",e.rejectAriaLabel),d(),p("ngIf",!e.rejectIconTemplate),d(),p("ngIf",e.rejectIconTemplate)}}function n_e(i,n){if(i&1&&E(0,"i"),i&2){let e=h(7);te(e.option("acceptIcon"))}}function o_e(i,n){i&1&&E(0,"CheckIcon",28),i&2&&p("styleClass","p-button-icon-left")}function r_e(i,n){if(i&1&&(re(0),I(1,n_e,1,2,"i",26)(2,o_e,1,1,"CheckIcon",27),se()),i&2){let e=h(6);d(),p("ngIf",e.option("acceptIcon")),d(),p("ngIf",!e.option("acceptIcon"))}}function s_e(i,n){}function a_e(i,n){i&1&&I(0,s_e,0,0,"ng-template")}function l_e(i,n){if(i&1&&(f(0,"span",29),I(1,a_e,1,0,null,15),m()),i&2){let e=h(6);d(),p("ngTemplateOutlet",e.acceptIconTemplate)}}function c_e(i,n){if(i&1){let e=k();f(0,"button",24),R("click",function(){b(e);let o=h(5);return y(o.accept())}),I(1,r_e,3,2,"ng-container",11)(2,l_e,2,1,"span",25),m()}if(i&2){let e=h(5);te(e.option("acceptButtonStyleClass")),p("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),M("aria-label",e.acceptAriaLabel),d(),p("ngIf",!e.acceptIconTemplate),d(),p("ngIf",e.acceptIconTemplate)}}function d_e(i,n){if(i&1&&(f(0,"div",22),I(1,i_e,3,7,"button",23)(2,c_e,3,7,"button",23),m()),i&2){let e=h(4);d(),p("ngIf",e.option("rejectVisible")),d(),p("ngIf",e.option("acceptVisible"))}}function u_e(i,n){if(i&1&&(I(0,kge,2,1,"div",8)(1,Bge,4,2,"div",8),f(2,"div",9,1),I(4,Uge,1,3,"i",10)(5,Gge,2,1,"ng-container",11)(6,zge,1,1,"span",12)(7,Kge,2,4,"ng-container",11),m(),I(8,Yge,3,1,"div",13)(9,d_e,3,2,"div",13)),i&2){let e=h(3);p("ngIf",e.headerTemplate),d(),p("ngIf",!e.headerTemplate),d(3),p("ngIf",!e.iconTemplate&&e.option("icon")),d(),p("ngIf",e.iconTemplate),d(),p("ngIf",!e.messageTemplate),d(),p("ngIf",e.messageTemplate),d(),p("ngIf",e.footer||e.footerTemplate),d(),p("ngIf",!e.footer&&!e.footerTemplate)}}function p_e(i,n){if(i&1){let e=k();f(0,"div",5),R("@animation.start",function(o){b(e);let r=h(2);return y(r.onAnimationStart(o))})("@animation.done",function(o){b(e);let r=h(2);return y(r.onAnimationEnd(o))}),I(1,Lge,2,4,"ng-container",6)(2,u_e,10,8,"ng-template",null,0,bt),m()}if(i&2){let e=Me(3),t=h(2);te(t.styleClass),p("ngClass",J(9,Oge,t.rtl))("ngStyle",t.style)("@animation",J(14,Dge,Ue(11,Rge,t.transformOptions,t.transitionOptions))),M("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0),d(),p("ngIf",t.headlessTemplate)("ngIfElse",e)}}function h_e(i,n){if(i&1&&(f(0,"div",3),I(1,p_e,4,16,"div",4),m()),i&2){let e=h();te(e.maskStyleClass),p("ngClass",e.getMaskClass()),d(),p("ngIf",e.visible)}}var f_e=ks([Rt({transform:"{{transform}}",opacity:0}),kt("{{transition}}",Rt({transform:"none",opacity:1}))]),m_e=ks([kt("{{transition}}",Rt({transform:"{{transform}}",opacity:0}))]),HCt=(()=>{class i{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new W;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"message":this.messageTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;case"rejecticon":this.rejectIconTemplate=e.template;break;case"accepticon":this.acceptIconTemplate=e.template;break;case"headless":this.headlessTemplate=e.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=ut();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(e,t,o,r,s,a,l){this.el=e,this.renderer=t,this.confirmationService=o,this.zone=r,this.cd=s,this.config=a,this.document=l,this.subscription=this.confirmationService.requireConfirmation$.subscribe(c=>{if(!c){this.hide();return}c.key===this.key&&(this.confirmation=c,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new W,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new W,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?ut()+"_header":null}option(e){let t=this.confirmationOptions||this;if(t.hasOwnProperty(e))return t[e]}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.contentContainer=L.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let t=this.getElementToFocus();t&&t.focus();break}}onAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return L.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return L.findSingle(this.container,".p-confirm-dialog-reject");case"close":return L.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return L.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):L.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&L.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&L.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                    @media screen and (max-width: ${t}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[t]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e}}close(e){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit($d.CANCEL),this.hide($d.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(Yt.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){let t=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(o=>o===this.position);return t?`p-dialog-${t}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{if(t.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===Yt.get(this.container)&&this.visible&&this.close(t),t.which===9&&this.focusTrap){t.preventDefault();let o=L.getFocusableElements(this.container);if(o&&o.length>0)if(!o[0].ownerDocument.activeElement)o[0].focus();else{let r=o.indexOf(o[0].ownerDocument.activeElement);t.shiftKey?r==-1||r===0?o[o.length-1].focus():o[r-1].focus():r==-1||r===o.length-1?o[0].focus():o[r+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&Yt.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide($d.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit($d.REJECT),this.hide($d.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(oi.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(oi.REJECT)}static \u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(Wt),v(It),v(pe),v(xt),v(ct))};static \u0275cmp=Y({type:i,selectors:[["p-confirmDialog"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.footer=s.first),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(xge,5),t&2){let r;K(r=q())&&(o.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",j],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",j],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",j],dismissableMask:[2,"dismissableMask","dismissableMask",j],blockScroll:[2,"blockScroll","blockScroll",j],rtl:[2,"rtl","rtl",j],closable:[2,"closable","closable",j],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",j],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[Ve],ngContentSelectors:Tge,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(t,o){t&1&&(_i(Ege),I(0,h_e,2,4,"div",2)),t&2&&p("ngIf",o.maskVisible)},dependencies:()=>[Fe,ze,Xe,ve,at,Ri,Ci,Ki],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[$i("animation",[Nt("void => visible",[Ns(f_e)]),Nt("visible => void",[Ns(m_e)])])]},changeDetection:0})}return i})(),sE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,go,Li,Ci,Ki,go,$e]})}return i})();var UV=i=>({"p-treenode-droppoint-active":i}),g_e=(i,n)=>["p-treenode",i,n],jV=i=>({height:i}),__e=i=>({"padding-left":i}),C_e=(i,n,e)=>({"p-treenode-selectable":i,"p-treenode-dragover":n,"p-highlight":e}),rv=i=>({$implicit:i}),I_e=(i,n)=>({"p-checkbox-disabled p-disabled":i,"p-variant-filled":n}),v_e=(i,n)=>({"p-highlight":i,"p-indeterminate":n}),b_e=(i,n)=>({$implicit:i,partialSelected:n}),HV=i=>({display:i}),y_e=i=>({"p-treenode-collapsed":i}),w_e=(i,n)=>({"p-treenode-selectable":i,"p-highlight":n}),BV=i=>({"p-treenode-connector-line":i});function S_e(i,n){if(i&1){let e=k();f(0,"li",4),R("drop",function(o){b(e);let r=h(2);return y(r.onDropPoint(o,-1))})("dragover",function(o){b(e);let r=h(2);return y(r.onDropPointDragOver(o))})("dragenter",function(o){b(e);let r=h(2);return y(r.onDropPointDragEnter(o,-1))})("dragleave",function(o){b(e);let r=h(2);return y(r.onDropPointDragLeave(o))}),m()}if(i&2){let e=h(2);p("ngClass",J(2,UV,e.draghoverPrev)),M("aria-hidden",!0)}}function A_e(i,n){i&1&&E(0,"ChevronRightIcon",14),i&2&&p("styleClass","p-tree-toggler-icon")}function x_e(i,n){i&1&&E(0,"ChevronDownIcon",14),i&2&&p("styleClass","p-tree-toggler-icon")}function E_e(i,n){if(i&1&&(re(0),I(1,A_e,1,1,"ChevronRightIcon",13)(2,x_e,1,1,"ChevronDownIcon",13),se()),i&2){let e=h(4);d(),p("ngIf",!e.node.expanded),d(),p("ngIf",e.node.expanded)}}function T_e(i,n){i&1&&(re(0),E(1,"SpinnerIcon",15),se()),i&2&&(d(),p("spin",!0)("styleClass","p-tree-node-toggler-icon"))}function O_e(i,n){if(i&1&&(re(0),I(1,E_e,3,2,"ng-container",8)(2,T_e,2,2,"ng-container",8),se()),i&2){let e=h(3);d(),p("ngIf",!e.node.loading),d(),p("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function R_e(i,n){}function D_e(i,n){i&1&&I(0,R_e,0,0,"ng-template")}function P_e(i,n){if(i&1&&(f(0,"span",16),I(1,D_e,1,0,null,17),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.tree.togglerIconTemplate)("ngTemplateOutletContext",J(2,rv,e.node.expanded))}}function F_e(i,n){i&1&&E(0,"CheckIcon",14),i&2&&p("styleClass","p-checkbox-icon")}function L_e(i,n){i&1&&E(0,"MinusIcon",14),i&2&&p("styleClass","p-checkbox-icon")}function M_e(i,n){if(i&1&&(re(0),I(1,F_e,1,1,"CheckIcon",13)(2,L_e,1,1,"MinusIcon",13),se()),i&2){let e=h(4);d(),p("ngIf",!e.node.partialSelected&&e.isSelected()),d(),p("ngIf",e.node.partialSelected)}}function k_e(i,n){}function N_e(i,n){i&1&&I(0,k_e,0,0,"ng-template")}function V_e(i,n){if(i&1&&(f(0,"div",18)(1,"div",19),I(2,M_e,3,2,"ng-container",8)(3,N_e,1,0,null,17),m()()),i&2){let e=h(3);p("ngClass",Ue(5,I_e,e.node.selectable===!1,(e.tree==null?null:e.tree.config.inputStyle())==="filled")),d(),p("ngClass",Ue(8,v_e,e.isSelected(),e.node.partialSelected)),d(),p("ngIf",!e.tree.checkboxIconTemplate),d(),p("ngTemplateOutlet",e.tree.checkboxIconTemplate)("ngTemplateOutletContext",Ue(11,b_e,e.isSelected(),e.node.partialSelected))}}function B_e(i,n){if(i&1&&E(0,"span"),i&2){let e=h(3);te(e.getIcon())}}function U_e(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(3);d(),H(e.node.label)}}function j_e(i,n){i&1&&oe(0)}function H_e(i,n){if(i&1&&(f(0,"span"),I(1,j_e,1,0,"ng-container",17),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",J(2,rv,e.node))}}function G_e(i,n){if(i&1&&E(0,"p-treeNode",22),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(4);p("node",e)("parentNode",s.node)("firstChild",t)("lastChild",o)("index",r)("itemSize",s.itemSize)("level",s.level+1)("loadingMode",s.loadingMode)}}function z_e(i,n){if(i&1&&(f(0,"ul",20),I(1,G_e,1,8,"p-treeNode",21),m()),i&2){let e=h(3);p("ngStyle",J(3,HV,e.node.expanded?"block":"none")),d(),p("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy)}}function W_e(i,n){if(i&1){let e=k();f(0,"li",5),R("keydown",function(o){b(e);let r=h(2);return y(r.onKeyDown(o))}),f(1,"div",6),R("click",function(o){b(e);let r=h(2);return y(r.onNodeClick(o))})("contextmenu",function(o){b(e);let r=h(2);return y(r.onNodeRightClick(o))})("touchend",function(){b(e);let o=h(2);return y(o.onNodeTouchEnd())})("drop",function(o){b(e);let r=h(2);return y(r.onDropNode(o))})("dragover",function(o){b(e);let r=h(2);return y(r.onDropNodeDragOver(o))})("dragenter",function(o){b(e);let r=h(2);return y(r.onDropNodeDragEnter(o))})("dragleave",function(o){b(e);let r=h(2);return y(r.onDropNodeDragLeave(o))})("dragstart",function(o){b(e);let r=h(2);return y(r.onDragStart(o))})("dragend",function(o){b(e);let r=h(2);return y(r.onDragStop(o))}),f(2,"button",7),R("click",function(o){b(e);let r=h(2);return y(r.toggle(o))}),I(3,O_e,3,2,"ng-container",8)(4,P_e,2,4,"span",9),m(),I(5,V_e,4,14,"div",10)(6,B_e,1,2,"span",3),f(7,"span",11),I(8,U_e,2,1,"span",8)(9,H_e,2,4,"span",8),m()(),I(10,z_e,2,5,"ul",12),m()}if(i&2){let e=h(2);it(e.node.style),p("ngClass",Ue(24,g_e,e.node.styleClass||"",e.isLeaf()?"p-treenode-leaf":""))("ngStyle",J(27,jV,e.itemSize+"px")),M("aria-label",e.node.label)("aria-checked",e.ariaChecked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.ariaSelected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),d(),p("ngStyle",J(29,__e,e.level*e.indentation+"rem"))("draggable",e.tree.draggableNodes)("ngClass",Ai(31,C_e,e.tree.selectionMode&&e.node.selectable!==!1,e.draghoverNode,e.isSelected())),d(),M("data-pc-section","toggler"),d(),p("ngIf",!e.tree.togglerIconTemplate),d(),p("ngIf",e.tree.togglerIconTemplate),d(),p("ngIf",e.tree.selectionMode=="checkbox"),d(),p("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),d(2),p("ngIf",!e.tree.getTemplateForNode(e.node)),d(),p("ngIf",e.tree.getTemplateForNode(e.node)),d(),p("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded)}}function $_e(i,n){if(i&1){let e=k();f(0,"li",4),R("drop",function(o){b(e);let r=h(2);return y(r.onDropPoint(o,1))})("dragover",function(o){b(e);let r=h(2);return y(r.onDropPointDragOver(o))})("dragenter",function(o){b(e);let r=h(2);return y(r.onDropPointDragEnter(o,1))})("dragleave",function(o){b(e);let r=h(2);return y(r.onDropPointDragLeave(o))}),m()}if(i&2){let e=h(2);p("ngClass",J(2,UV,e.draghoverNext)),M("aria-hidden",!0)}}function K_e(i,n){if(i&1&&(f(0,"td",28)(1,"table",29)(2,"tbody")(3,"tr"),E(4,"td",30),m(),f(5,"tr"),E(6,"td",30),m()()()()),i&2){let e=h(3);d(4),p("ngClass",J(2,BV,!e.firstChild)),d(2),p("ngClass",J(4,BV,!e.lastChild))}}function q_e(i,n){if(i&1&&E(0,"PlusIcon",33),i&2){let e=h(5);p("styleClass","p-tree-toggler-icon")("ariaLabel",e.tree.togglerAriaLabel)}}function Y_e(i,n){if(i&1&&E(0,"MinusIcon",33),i&2){let e=h(5);p("styleClass","p-tree-toggler-icon")("ariaLabel",e.tree.togglerAriaLabel)}}function J_e(i,n){if(i&1&&(re(0),I(1,q_e,1,2,"PlusIcon",32)(2,Y_e,1,2,"MinusIcon",32),se()),i&2){let e=h(4);d(),p("ngIf",!e.node.expanded),d(),p("ngIf",e.node.expanded)}}function X_e(i,n){}function Q_e(i,n){i&1&&I(0,X_e,0,0,"ng-template")}function Z_e(i,n){if(i&1&&(f(0,"span",16),I(1,Q_e,1,0,null,17),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.tree.togglerIconTemplate)("ngTemplateOutletContext",J(2,rv,e.node.expanded))}}function e0e(i,n){if(i&1){let e=k();f(0,"span",31),R("click",function(o){b(e);let r=h(3);return y(r.toggle(o))}),I(1,J_e,3,2,"ng-container",8)(2,Z_e,2,4,"span",9),m()}if(i&2){let e=h(3);p("ngClass","p-tree-toggler"),d(),p("ngIf",!e.tree.togglerIconTemplate),d(),p("ngIf",e.tree.togglerIconTemplate)}}function t0e(i,n){if(i&1&&E(0,"span"),i&2){let e=h(3);te(e.getIcon())}}function i0e(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(3);d(),H(e.node.label)}}function n0e(i,n){i&1&&oe(0)}function o0e(i,n){if(i&1&&(f(0,"span"),I(1,n0e,1,0,"ng-container",17),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",J(2,rv,e.node))}}function r0e(i,n){if(i&1&&E(0,"p-treeNode",37),i&2){let e=n.$implicit,t=n.first,o=n.last;p("node",e)("firstChild",t)("lastChild",o)}}function s0e(i,n){if(i&1&&(f(0,"td",34)(1,"div",35),I(2,r0e,1,3,"p-treeNode",36),m()()),i&2){let e=h(3);p("ngStyle",J(3,HV,e.node.expanded?"table-cell":"none")),d(2),p("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy)}}function a0e(i,n){if(i&1){let e=k();f(0,"table")(1,"tbody")(2,"tr"),I(3,K_e,7,6,"td",23),f(4,"td",24)(5,"div",25),R("click",function(o){b(e);let r=h(2);return y(r.onNodeClick(o))})("contextmenu",function(o){b(e);let r=h(2);return y(r.onNodeRightClick(o))})("touchend",function(){b(e);let o=h(2);return y(o.onNodeTouchEnd())})("keydown",function(o){b(e);let r=h(2);return y(r.onNodeKeydown(o))}),I(6,e0e,3,3,"span",26)(7,t0e,1,2,"span",3),f(8,"span",11),I(9,i0e,2,1,"span",8)(10,o0e,2,4,"span",8),m()()(),I(11,s0e,3,5,"td",27),m()()()}if(i&2){let e=h(2);te(e.node.styleClass),d(3),p("ngIf",!e.root),d(),p("ngClass",J(10,y_e,!e.node.expanded)),d(),p("ngClass",Ue(12,w_e,e.tree.selectionMode,e.isSelected())),d(),p("ngIf",!e.isLeaf()),d(),p("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),d(2),p("ngIf",!e.tree.getTemplateForNode(e.node)),d(),p("ngIf",e.tree.getTemplateForNode(e.node)),d(),p("ngIf",e.node.children&&e.node.expanded)}}function l0e(i,n){if(i&1&&I(0,S_e,1,4,"li",1)(1,W_e,11,35,"li",2)(2,$_e,1,4,"li",1)(3,a0e,12,15,"table",3),i&2){let e=h();p("ngIf",e.tree.droppableNodes),d(),p("ngIf",!e.tree.horizontal),d(),p("ngIf",e.tree.droppableNodes&&e.lastChild),d(),p("ngIf",e.tree.horizontal)}}var c0e=["filter"],d0e=["scroller"],u0e=["wrapper"],p0e=(i,n,e,t)=>({"p-tree p-component":!0,"p-tree-selectable":i,"p-treenode-dragover":n,"p-tree-loading":e,"p-tree-flex-scrollable":t}),h0e=i=>({options:i}),f0e=i=>({"max-height":i}),m0e=i=>({"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":i});function g0e(i,n){if(i&1&&E(0,"i"),i&2){let e=h(3);te("p-tree-loading-icon pi-spin "+e.loadingIcon)}}function _0e(i,n){i&1&&E(0,"SpinnerIcon",17),i&2&&p("spin",!0)("styleClass","p-tree-loading-icon")}function C0e(i,n){}function I0e(i,n){i&1&&I(0,C0e,0,0,"ng-template")}function v0e(i,n){if(i&1&&(f(0,"span",18),I(1,I0e,1,0,null,9),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function b0e(i,n){if(i&1&&(re(0),I(1,_0e,1,2,"SpinnerIcon",15)(2,v0e,2,1,"span",16),se()),i&2){let e=h(3);d(),p("ngIf",!e.loadingIconTemplate),d(),p("ngIf",e.loadingIconTemplate)}}function y0e(i,n){if(i&1&&(f(0,"div",13),I(1,g0e,1,2,"i",14)(2,b0e,3,2,"ng-container",11),m()),i&2){let e=h(2);d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function w0e(i,n){i&1&&oe(0)}function S0e(i,n){i&1&&E(0,"SearchIcon",23),i&2&&p("styleClass","p-tree-filter-icon")}function A0e(i,n){}function x0e(i,n){i&1&&I(0,A0e,0,0,"ng-template")}function E0e(i,n){if(i&1&&(f(0,"span",24),I(1,x0e,1,0,null,9),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.filterIconTemplate)}}function T0e(i,n){if(i&1){let e=k();f(0,"div",19)(1,"input",20,0),R("keydown.enter",function(o){return b(e),y(o.preventDefault())})("input",function(o){b(e);let r=h(2);return y(r._filter(o.target.value))}),m(),I(3,S0e,1,1,"SearchIcon",21)(4,E0e,2,1,"span",22),m()}if(i&2){let e=h(2);d(),M("placeholder",e.filterPlaceholder),d(2),p("ngIf",!e.filterIconTemplate),d(),p("ngIf",e.filterIconTemplate)}}function O0e(i,n){if(i&1&&E(0,"p-treeNode",31,2),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(2).options,a=h(4);p("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",t)("lastChild",o)("index",a.getIndex(s,r))("itemSize",s.itemSize)("indentation",a.indentation)("loadingMode",a.loadingMode)}}function R0e(i,n){if(i&1&&(f(0,"ul",29),I(1,O0e,2,10,"p-treeNode",30),m()),i&2){let e=h(),t=e.$implicit,o=e.options,r=h(4);it(o.contentStyle),p("ngClass",o.contentStyleClass),M("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy),d(),p("ngForOf",t)("ngForTrackBy",r.trackBy)}}function D0e(i,n){if(i&1&&I(0,R0e,2,7,"ul",28),i&2){let e=n.$implicit;p("ngIf",e)}}function P0e(i,n){i&1&&oe(0)}function F0e(i,n){if(i&1&&I(0,P0e,1,0,"ng-container",33),i&2){let e=n.options,t=h(5);p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(2,h0e,e))}}function L0e(i,n){i&1&&(re(0),I(1,F0e,1,4,"ng-template",32),se())}function M0e(i,n){if(i&1){let e=k();f(0,"p-scroller",26,1),R("onScroll",function(o){b(e);let r=h(3);return y(r.onScroll.emit(o))})("onScrollIndexChange",function(o){b(e);let r=h(3);return y(r.onScrollIndexChange.emit(o))})("onLazyLoad",function(o){b(e);let r=h(3);return y(r.onLazyLoad.emit(o))}),I(2,D0e,1,1,"ng-template",27)(3,L0e,2,0,"ng-container",11),m()}if(i&2){let e=h(3);it(J(9,jV,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),p("items",e.serializedValue)("tabindex",-1)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize||e._virtualNodeHeight)("lazy",e.lazy)("options",e.virtualScrollOptions),d(3),p("ngIf",e.loaderTemplate)}}function k0e(i,n){if(i&1&&E(0,"p-treeNode",38),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(5);p("node",e)("firstChild",t)("lastChild",o)("index",r)("level",0)("loadingMode",s.loadingMode)}}function N0e(i,n){if(i&1&&(f(0,"ul",36),I(1,k0e,1,6,"p-treeNode",37),m()),i&2){let e=h(4);M("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),d(),p("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy)}}function V0e(i,n){if(i&1&&(re(0),f(1,"div",34,3),I(3,N0e,2,4,"ul",35),m(),se()),i&2){let e=h(3);d(),p("ngStyle",J(2,f0e,e.scrollHeight)),d(2),p("ngIf",e.getRootNode())}}function B0e(i,n){if(i&1&&(re(0),I(1,M0e,4,11,"p-scroller",25)(2,V0e,4,4,"ng-container",11),se()),i&2){let e=h(2);d(),p("ngIf",e.virtualScroll),d(),p("ngIf",!e.virtualScroll)}}function U0e(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),z(" ",e.emptyMessageLabel," ")}}function j0e(i,n){i&1&&oe(0,null,4)}function H0e(i,n){if(i&1&&(f(0,"div",39),I(1,U0e,2,1,"ng-container",40)(2,j0e,2,0,"ng-container",9),m()),i&2){let e=h(2);d(),p("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),d(),p("ngTemplateOutlet",e.emptyMessageTemplate)}}function G0e(i,n){i&1&&oe(0)}function z0e(i,n){if(i&1){let e=k();f(0,"div",7),R("drop",function(o){b(e);let r=h();return y(r.onDrop(o))})("dragover",function(o){b(e);let r=h();return y(r.onDragOver(o))})("dragenter",function(){b(e);let o=h();return y(o.onDragEnter())})("dragleave",function(o){b(e);let r=h();return y(r.onDragLeave(o))}),I(1,y0e,3,2,"div",8)(2,w0e,1,0,"ng-container",9)(3,T0e,5,3,"div",10)(4,B0e,3,2,"ng-container",11)(5,H0e,3,3,"div",12)(6,G0e,1,0,"ng-container",9),m()}if(i&2){let e,t=h();te(t.styleClass),p("ngClass",Nn(10,p0e,t.selectionMode,t.dragHover,t.loading,t.scrollHeight==="flex"))("ngStyle",t.style),d(),p("ngIf",t.loading&&t.loadingMode==="mask"),d(),p("ngTemplateOutlet",t.headerTemplate),d(),p("ngIf",t.filter),d(),p("ngIf",(e=t.getRootNode())==null?null:e.length),d(),p("ngIf",!t.loading&&(t.getRootNode()==null||t.getRootNode().length===0)),d(),p("ngTemplateOutlet",t.footerTemplate)}}function W0e(i,n){i&1&&oe(0)}function $0e(i,n){if(i&1&&E(0,"i"),i&2){let e=h(3);te("p-tree-loading-icon pi-spin "+e.loadingIcon)}}function K0e(i,n){i&1&&E(0,"SpinnerIcon",17),i&2&&p("spin",!0)("styleClass","p-tree-loading-icon")}function q0e(i,n){}function Y0e(i,n){i&1&&I(0,q0e,0,0,"ng-template")}function J0e(i,n){if(i&1&&(f(0,"span",18),I(1,Y0e,1,0,null,9),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function X0e(i,n){if(i&1&&(re(0),I(1,K0e,1,2,"SpinnerIcon",15)(2,J0e,2,1,"span",16),se()),i&2){let e=h(3);d(),p("ngIf",!e.loadingIconTemplate),d(),p("ngIf",e.loadingIconTemplate)}}function Q0e(i,n){if(i&1&&(f(0,"div",43),I(1,$0e,1,2,"i",14)(2,X0e,3,2,"ng-container",11),m()),i&2){let e=h(2);d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function Z0e(i,n){if(i&1&&(f(0,"table"),E(1,"p-treeNode",44),m()),i&2){let e=h(2);d(),p("node",e.value[0])("root",!0)}}function eCe(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),z(" ",e.emptyMessageLabel," ")}}function tCe(i,n){i&1&&oe(0,null,4)}function iCe(i,n){if(i&1&&(f(0,"div",39),I(1,eCe,2,1,"ng-container",40)(2,tCe,2,0,"ng-container",9),m()),i&2){let e=h(2);d(),p("ngIf",!e.emptyMessageTemplate)("ngIfElse",e.emptyFilter),d(),p("ngTemplateOutlet",e.emptyMessageTemplate)}}function nCe(i,n){i&1&&oe(0)}function oCe(i,n){if(i&1&&(f(0,"div",41),I(1,W0e,1,0,"ng-container",9)(2,Q0e,3,2,"div",42)(3,Z0e,2,2,"table",11)(4,iCe,3,3,"div",12)(5,nCe,1,0,"ng-container",9),m()),i&2){let e=h();te(e.styleClass),p("ngClass",J(9,m0e,e.selectionMode))("ngStyle",e.style),d(),p("ngTemplateOutlet",e.headerTemplate),d(),p("ngIf",e.loading),d(),p("ngIf",e.value&&e.value[0]),d(),p("ngIf",!e.loading&&(e.getRootNode()==null||e.getRootNode().length===0)),d(),p("ngTemplateOutlet",e.footerTemplate)}}var rCe=(()=>{class i{static ICON_CLASS="p-treenode-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree;timeout;draghoverPrev;draghoverNext;draghoverNode;get ariaSelected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this.isSelected():void 0}get ariaChecked(){return this.tree.selectionMode==="checkbox"?this.isSelected():void 0}constructor(e){this.tree=e}ngOnInit(){this.node.parent=this.parentNode;let t=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!t&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,i.ICON_CLASS+" "+e}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}onDropPoint(e,t){e.preventDefault();let o=this.tree.dragNode,r=this.tree.dragNodeIndex,s=this.tree.dragNodeScope,a=this.tree.dragNodeTree===this.tree?t===1||r!==this.index-1:!0;if(this.tree.allowDrop(o,this.node,s)&&a){let l=Q({},this.createDropPointEventMetadata(t));this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(l)}}):(this.processPointDrop(l),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:o,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(e){let t=e.dropNode.parent?e.dropNode.parent.children:this.tree.value;e.dragNodeSubNodes.splice(e.dragNodeIndex,1);let o=this.index;e.position<0?(o=e.dragNodeSubNodes===t?e.dragNodeIndex>e.index?e.index:e.index-1:e.index,t.splice(o,0,e.dragNode)):(o=t.length,t.push(e.dragNode)),this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:e.dragNodeIndex})}createDropPointEventMetadata(e){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:e}}onDropPointDragOver(e){e.dataTransfer.dropEffect="move",e.preventDefault()}onDropPointDragEnter(e,t){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(t<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(e){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(e){this.tree.draggableNodes&&this.node.draggable!==!1?(e.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):e.preventDefault()}onDragStop(e){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(e){e.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onDropNode(e){if(this.tree.droppableNodes&&this.node?.droppable!==!1){let t=this.tree.dragNode;if(this.tree.allowDrop(t,this.node,this.tree.dragNodeScope)){let o=Q({},this.createDropNodeEventMetadata());this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(o)}}):(this.processNodeDrop(o),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index}))}}e.preventDefault(),e.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(e){let t=e.dragNodeIndex;e.dragNodeSubNodes.splice(t,1),e.dropNode.children?e.dropNode.children.push(e.dragNode):e.dropNode.children=[e.dragNode],this.tree.dragDropService.stopDrag({node:e.dragNode,subNodes:e.dropNode.parent?e.dropNode.parent.children:this.tree.value,index:t})}onDropNodeDragEnter(e){this.tree.droppableNodes&&this.node?.droppable!==!1&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(e){if(this.tree.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>=Math.floor(t.top+t.height)||e.y<t.top)&&(this.draghoverNode=!1)}}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"NumpadEnter":this.onEnter(e);break;case"Space":let t=e.target instanceof HTMLElement&&e.target.nodeName;["INPUT"].includes(t)||this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(t.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let o=this.getParentNodeElement(t);o&&this.focusRowChange(t,o)}e.preventDefault()}onArrowDown(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target,o=t.children[1];if(o&&o.children.length>0)this.focusRowChange(t,o.children[0]);else if(t.parentElement.nextElementSibling)this.focusRowChange(t,t.parentElement.nextElementSibling);else{let r=this.findNextSiblingOfAncestor(t.parentElement);r&&this.focusRowChange(t,r)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let t=e.target.getAttribute("data-pc-section")==="toggler"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let o=this.getParentNodeElement(t.parentElement);o&&this.focusRowChange(e.currentTarget,o),e.preventDefault()}isActionableElement(e){let t=e.target;return t instanceof HTMLElement&&(t.nodeName=="A"||t.nodeName=="BUTTON")}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),this.isActionableElement(e)||e.preventDefault()}setAllNodesTabIndexes(){let e=L.find(this.tree.el.nativeElement,".p-treenode"),t=[...e].some(o=>o.getAttribute("aria-selected")==="true"||o.getAttribute("aria-checked")==="true");if([...e].forEach(o=>{o.tabIndex=-1}),t){let o=[...e].filter(r=>r.getAttribute("aria-selected")==="true"||r.getAttribute("aria-checked")==="true");o[0].tabIndex=0;return}[...e][0].tabIndex=0}setTabIndexForSelectionMode(e,t){if(this.tree.selectionMode!==null){let o=[...L.find(this.tree.el.nativeElement,".p-treenode")];e.currentTarget.tabIndex=t===!1?-1:0,o.every(r=>r.tabIndex===-1)&&(o[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null}findLastVisibleDescendant(e){let o=Array.from(e.children).find(r=>L.hasClass(r,"p-treenode")).children[1];if(o&&o.children.length>0){let r=o.children[o.children.length-1];return this.findLastVisibleDescendant(r)}else return e}getParentNodeElement(e){let t=e.parentElement?.parentElement?.parentElement;return t?.tagName==="P-TREENODE"?t:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,t,o){e.tabIndex="-1",t.children[0].tabIndex="0",this.focusNode(o||t)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=L.findSingle(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);L.focus(e)},1)}static \u0275fac=function(t){return new(t||i)(v(Dt(()=>Ks)))};static \u0275cmp=Y({type:i,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",j],index:[2,"index","index",xe],firstChild:[2,"firstChild","firstChild",j],lastChild:[2,"lastChild","lastChild",j],level:[2,"level","level",xe],indentation:[2,"indentation","indentation",xe],itemSize:[2,"itemSize","itemSize",xe],loadingMode:"loadingMode"},features:[Ve],decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"ngClass","ngStyle","style","keydown",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"drop","dragover","dragenter","dragleave","ngClass"],["role","treeitem",3,"keydown","ngClass","ngStyle"],[1,"p-treenode-content",3,"click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","ngStyle","draggable","ngClass"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[4,"ngIf"],["class","p-tree-toggler-icon",4,"ngIf"],["class","p-checkbox p-component","aria-hidden","true",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],["class","p-treenode-children","role","group",3,"ngStyle",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"spin","styleClass"],[1,"p-tree-toggler-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"p-checkbox","p-component",3,"ngClass"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["role","group",1,"p-treenode-children",3,"ngStyle"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"click","contextmenu","touchend","keydown","ngClass"],[3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"ngStyle",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[3,"click","ngClass"],[3,"styleClass","ariaLabel",4,"ngIf"],[3,"styleClass","ariaLabel"],[1,"p-treenode-children-container",3,"ngStyle"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(t,o){t&1&&I(0,l0e,4,4,"ng-template",0),t&2&&p("ngIf",o.node)},dependencies:()=>[Fe,Ni,ze,Xe,ve,Ri,Ki,Zo,Bs,ws,Lr,qr,i],encapsulation:2})}return i})(),Ks=(()=>{class i{el;dragDropService;config;cd;value;selectionMode;loadingMode="mask";selection;style;styleClass;contextMenu;layout="vertical";draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,t)=>t;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(e){this._virtualNodeHeight=e,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new W;onNodeSelect=new W;onNodeUnselect=new W;onNodeExpand=new W;onNodeCollapse=new W;onNodeContextMenuSelect=new W;onNodeDrop=new W;onLazyLoad=new W;onScroll=new W;onScrollIndexChange=new W;onFilter=new W;templates;filterViewChild;scroller;wrapperViewChild;serializedValue;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;constructor(e,t,o,r){this.el=e,this.dragDropService=t,this.config=o,this.cd=r}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(e){e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get horizontal(){return this.layout=="horizontal"}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(oi.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"empty":this.emptyMessageTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,t,o,r){if(t&&t.length)for(let s of t){s.parent=e;let a={node:s,parent:e,level:o,visible:r&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,o+1,a.visible)}}onNodeClick(e,t){let o=e.target;if(!(L.hasClass(o,"p-tree-toggler")||L.hasClass(o,"p-tree-toggler-icon"))){if(this.selectionMode){if(t.selectable===!1){t.style="--p-focus-ring-color: none;";return}else t.style="--p-focus-ring-color: var(--primary-color)";if(this.hasFilteredNodes()&&(t=this.getNodeWithKey(t.key,this.filteredNodes),!t))return;let r=this.findIndexInSelection(t),s=r>=0;if(this.isCheckboxSelectionMode())s?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection=this.selection.filter((a,l)=>l!=r),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection=[...this.selection||[],t],this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(this.nodeTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;s&&l?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((c,u)=>u!=r),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.isMultipleSelectionMode()&&(this.selection=l?this.selection||[]:[],this.selection=[...this.selection,t],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:e,node:t}))}else this.isSingleSelectionMode()?s?(this.selection=null,this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=t,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})):s?(this.selection=this.selection.filter((l,c)=>c!=r),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection=[...this.selection||[],t],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,t){if(this.contextMenu){let r=e.target.getAttribute("class");if(r&&r.includes("p-tree-toggler"))return;this.findIndexInSelection(t)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(t):this.selectionChange.emit([t])),this.contextMenu.show(e),this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})}}findIndexInSelection(e){let t=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())t=this.selection.key&&this.selection.key===e.key||this.selection==e?0:-1;else for(let o=0;o<this.selection.length;o++){let r=this.selection[o];if(r.key&&r.key===e.key||r==e){t=o;break}}return t}syncNodeOption(e,t,o,r){let s=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;s&&(s[o]=r||e[o])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,t){for(let o of t){if(o.key===e)return o;if(o.children){let r=this.getNodeWithKey(e,o.children);if(r)return r}}}propagateUp(e,t){if(e.children&&e.children.length){let r=0,s=!1;for(let a of e.children)this.isSelected(a)?r++:a.partialSelected&&(s=!0);if(t&&r==e.children.length)this.selection=[...this.selection||[],e],e.partialSelected=!1;else{if(!t){let a=this.findIndexInSelection(e);a>=0&&(this.selection=this.selection.filter((l,c)=>c!=a))}s||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let o=e.parent;o&&this.propagateUp(o,t)}propagateDown(e,t){let o=this.findIndexInSelection(e);if(t&&o==-1&&e.selectable!==!1?this.selection=[...this.selection||[],this.filterUnselectableChildren(e)]:!t&&o>-1&&(this.selection=this.selection.filter((r,s)=>s!=o)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let r of e.children)this.propagateDown(r,t)}filterUnselectableChildren(e){let t=Object.assign({},e);if(t.children&&t.children.length)for(let o of t.children)o.selectable===!1&&(t.children=t.children.filter(r=>r!=o)),o=this.filterUnselectableChildren(o);return t}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&(!this.value||this.value.length===0)&&(e.dataTransfer.dropEffect="move",e.preventDefault())}onDrop(e){if(this.droppableNodes&&(!this.value||this.value.length===0)){e.preventDefault();let t=this.dragNode;if(this.allowDrop(t,null,this.dragNodeScope)){let o=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:o,accept:()=>{this.processTreeDrop(t,o)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:o}),this.processTreeDrop(t,o))}}}processTreeDrop(e,t){this.dragNodeSubNodes.splice(t,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>t.left+t.width||e.x<t.left||e.y>t.top+t.height||e.y<t.top)&&(this.dragHover=!1)}}allowDrop(e,t,o){if(e)if(this.isValidDragScope(o)){let r=!0;if(t)if(e===t)r=!1;else{let s=t.parent;for(;s!=null;){if(s===e){r=!1;break}s=s.parent}}return r}else return!1;else return!1}isValidDragScope(e){let t=this.droppableScope;if(t){if(typeof t=="string"){if(typeof e=="string")return t===e;if(Array.isArray(e))return e.indexOf(t)!=-1}else if(Array.isArray(t)){if(typeof e=="string")return t.indexOf(e)!=-1;if(Array.isArray(e)){for(let o of t)for(let r of e)if(o===r)return!0}}return!1}else return!0}_filter(e){let t=e;if(t==="")this.filteredNodes=null;else{this.filteredNodes=[];let o=this.filterBy.split(","),r=le.removeAccents(t).toLocaleLowerCase(this.filterLocale),s=this.filterMode==="strict";for(let a of this.value){let l=Q({},a),c={searchFields:o,filterText:r,isStrictMode:s};(s&&(this.findFilteredNodes(l,c)||this.isFilterMatched(l,c))||!s&&(this.isFilterMatched(l,c)||this.findFilteredNodes(l,c)))&&this.filteredNodes.push(l)}}this.updateSerializedValue(),this.onFilter.emit({filter:t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,t){if(e){let o=!1;if(e.children){let r=[...e.children];e.children=[];for(let s of r){let a=Q({},s);this.isFilterMatched(a,t)&&(o=!0,e.children.push(a))}}if(o)return e.expanded=!0,!0}}isFilterMatched(e,t){let{searchFields:o,filterText:r,isStrictMode:s}=t,a=!1;for(let l of o)le.removeAccents(String(le.resolveFieldData(e,l))).toLocaleLowerCase(this.filterLocale).indexOf(r)>-1&&(a=!0);return(!a||s&&!this.isNodeLeaf(e))&&(a=this.findFilteredNodes(e,{searchFields:o,filterText:r,isStrictMode:s})||a),a}getIndex(e,t){let o=e.getItemOptions;return o?o(t).index:t}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Le),v(zL,8),v(xt),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-tree"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(c0e,5),ne(d0e,5),ne(u0e,5)),t&2){let r;K(r=q())&&(o.filterViewChild=r.first),K(r=q())&&(o.scroller=r.first),K(r=q())&&(o.wrapperViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",j],droppableNodes:[2,"droppableNodes","droppableNodes",j],metaKeySelection:[2,"metaKeySelection","metaKeySelection",j],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",j],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",j],loading:[2,"loading","loading",j],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",j],filter:[2,"filter","filter",j],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",j],virtualScroll:[2,"virtualScroll","virtualScroll",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",xe],_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[Ve,ki],decls:2,vars:2,consts:[["filter",""],["scroller",""],["treeNode",""],["wrapper",""],["emptyFilter",""],[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave","ngClass","ngStyle"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[1,"p-tree-filter-container"],["type","search","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],[3,"styleClass",4,"ngIf"],["class","p-tree-filter-icon",4,"ngIf"],[3,"styleClass"],[1,"p-tree-filter-icon"],["styleClass","p-tree-wrapper",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["styleClass","p-tree-wrapper",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper",3,"ngStyle"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(t,o){t&1&&I(0,z0e,7,15,"div",5)(1,oCe,6,11,"div",6),t&2&&(p("ngIf",!o.horizontal),d(),p("ngIf",o.horizontal))},dependencies:()=>[Fe,Ni,ze,Xe,ve,ge,Kr,Us,Lr,rCe],styles:[`@layer primeng{.p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}}
`],encapsulation:2})}return i})(),aE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Li,Co,Ki,Zo,Bs,ws,Us,Lr,qr,$e,Co]})}return i})();var lE=(()=>{class i extends gt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["EyeIcon"]],standalone:!0,features:[fe,Ze],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0),E(1,"path",1),m()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})}return i})();var cE=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["EyeSlashIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var sCe=["input"],aCe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),lCe=i=>({value:"visible",params:i}),cCe=i=>({width:i});function dCe(i,n){if(i&1){let e=k();f(0,"TimesIcon",10),R("click",function(){b(e);let o=h(2);return y(o.clear())}),m()}i&2&&(p("styleClass","p-password-clear-icon"),M("data-pc-section","clearIcon"))}function uCe(i,n){}function pCe(i,n){i&1&&I(0,uCe,0,0,"ng-template")}function hCe(i,n){if(i&1){let e=k();re(0),I(1,dCe,1,2,"TimesIcon",7),f(2,"span",8),R("click",function(){b(e);let o=h();return y(o.clear())}),I(3,pCe,1,0,null,9),m(),se()}if(i&2){let e=h();d(),p("ngIf",!e.clearIconTemplate),d(),M("data-pc-section","clearIcon"),d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function fCe(i,n){if(i&1){let e=k();f(0,"EyeSlashIcon",12),R("click",function(){b(e);let o=h(3);return y(o.onMaskToggle())}),m()}i&2&&M("data-pc-section","hideIcon")}function mCe(i,n){}function gCe(i,n){i&1&&I(0,mCe,0,0,"ng-template")}function _Ce(i,n){if(i&1){let e=k();f(0,"span",12),R("click",function(){b(e);let o=h(3);return y(o.onMaskToggle())}),I(1,gCe,1,0,null,9),m()}if(i&2){let e=h(3);d(),p("ngTemplateOutlet",e.hideIconTemplate)}}function CCe(i,n){if(i&1&&(re(0),I(1,fCe,1,1,"EyeSlashIcon",11)(2,_Ce,2,1,"span",11),se()),i&2){let e=h(2);d(),p("ngIf",!e.hideIconTemplate),d(),p("ngIf",e.hideIconTemplate)}}function ICe(i,n){if(i&1){let e=k();f(0,"EyeIcon",12),R("click",function(){b(e);let o=h(3);return y(o.onMaskToggle())}),m()}i&2&&M("data-pc-section","showIcon")}function vCe(i,n){}function bCe(i,n){i&1&&I(0,vCe,0,0,"ng-template")}function yCe(i,n){if(i&1){let e=k();f(0,"span",12),R("click",function(){b(e);let o=h(3);return y(o.onMaskToggle())}),I(1,bCe,1,0,null,9),m()}if(i&2){let e=h(3);d(),p("ngTemplateOutlet",e.showIconTemplate)}}function wCe(i,n){if(i&1&&(re(0),I(1,ICe,1,1,"EyeIcon",11)(2,yCe,2,1,"span",11),se()),i&2){let e=h(2);d(),p("ngIf",!e.showIconTemplate),d(),p("ngIf",e.showIconTemplate)}}function SCe(i,n){if(i&1&&(re(0),I(1,CCe,3,2,"ng-container",5)(2,wCe,3,2,"ng-container",5),se()),i&2){let e=h();d(),p("ngIf",e.unmasked),d(),p("ngIf",!e.unmasked)}}function ACe(i,n){i&1&&oe(0)}function xCe(i,n){i&1&&oe(0)}function ECe(i,n){if(i&1&&(re(0),I(1,xCe,1,0,"ng-container",9),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.contentTemplate)}}function TCe(i,n){if(i&1&&(f(0,"div",15),E(1,"div",3),O(2,"mapper"),m(),f(3,"div",16),T(4),m()),i&2){let e=h(2);M("data-pc-section","meter"),d(),p("ngClass",pi(2,6,e.meter,e.strengthClass))("ngStyle",J(9,cCe,e.meter?e.meter.width:"")),M("data-pc-section","meterLabel"),d(2),M("data-pc-section","info"),d(),H(e.infoText)}}function OCe(i,n){i&1&&oe(0)}function RCe(i,n){if(i&1){let e=k();f(0,"div",13,1),R("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){b(e);let r=h();return y(r.onAnimationStart(o))})("@overlayAnimation.done",function(o){b(e);let r=h();return y(r.onAnimationEnd(o))}),I(2,ACe,1,0,"ng-container",9)(3,ECe,2,1,"ng-container",14)(4,TCe,5,11,"ng-template",null,2,bt)(6,OCe,1,0,"ng-container",9),m()}if(i&2){let e=Me(5),t=h();p("ngClass","p-password-panel p-component")("@overlayAnimation",J(10,lCe,Ue(7,aCe,t.showTransitionOptions,t.hideTransitionOptions))),M("data-pc-section","panel"),d(2),p("ngTemplateOutlet",t.headerTemplate),d(),p("ngIf",t.contentTemplate)("ngIfElse",e),d(3),p("ngTemplateOutlet",t.footerTemplate)}}var sv=(()=>{class i{document;platformId;renderer;el;zone;config;promptLabel="Enter a password";weakLabel="Weak";mediumLabel="Medium";strongLabel="Strong";feedback=!0;set showPassword(e){this.el.nativeElement.type=e?"text":"password"}variant="outlined";panel;meter;info;filled;scrollHandler;documentResizeListener;constructor(e,t,o,r,s,a){this.document=e,this.platformId=t,this.renderer=o,this.el=r,this.zone=s,this.config=a}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}createPanel(){rt(this.platformId)&&(this.panel=this.renderer.createElement("div"),this.renderer.addClass(this.panel,"p-password-panel"),this.renderer.addClass(this.panel,"p-component"),this.renderer.addClass(this.panel,"p-password-panel-overlay"),this.renderer.addClass(this.panel,"p-connected-overlay"),this.meter=this.renderer.createElement("div"),this.renderer.addClass(this.meter,"p-password-meter"),this.renderer.appendChild(this.panel,this.meter),this.info=this.renderer.createElement("div"),this.renderer.addClass(this.info,"p-password-info"),this.renderer.setProperty(this.info,"textContent",this.promptLabel),this.renderer.appendChild(this.panel,this.info),this.renderer.setStyle(this.panel,"minWidth",`${this.el.nativeElement.offsetWidth}px`),this.renderer.appendChild(document.body,this.panel))}showOverlay(){this.feedback&&(this.panel||this.createPanel(),this.renderer.setStyle(this.panel,"zIndex",String(++L.zindex)),this.renderer.setStyle(this.panel,"display","block"),this.zone.runOutsideAngular(()=>{setTimeout(()=>{L.addClass(this.panel,"p-connected-overlay-visible"),this.bindScrollListener(),this.bindDocumentResizeListener()},1)}),L.absolutePosition(this.panel,this.el.nativeElement))}hideOverlay(){this.feedback&&this.panel&&(L.addClass(this.panel,"p-connected-overlay-hidden"),L.removeClass(this.panel,"p-connected-overlay-visible"),this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.ngOnDestroy()},150)}))}onFocus(){this.showOverlay()}onBlur(){this.hideOverlay()}onKeyup(e){if(this.feedback){let o=e.target.value,r=null,s=null;if(o.length===0)r=this.promptLabel,s="0px 0px";else{var t=this.testStrength(o);t<30?(r=this.weakLabel,s="0px -10px"):t>=30&&t<80?(r=this.mediumLabel,s="0px -20px"):t>=80&&(r=this.strongLabel,s="0px -30px")}(!this.panel||!L.hasClass(this.panel,"p-connected-overlay-visible"))&&this.showOverlay(),this.renderer.setStyle(this.meter,"backgroundPosition",s),this.info.textContent=r}}testStrength(e){let t=0,o;return o=e.match("[0-9]"),t+=this.normalize(o?o.length:1/4,1)*25,o=e.match("[a-zA-Z]"),t+=this.normalize(o?o.length:1/2,3)*10,o=e.match("[!@#$%^&*?_~.,;=]"),t+=this.normalize(o?o.length:1/6,1)*35,o=e.match("[A-Z]"),t+=this.normalize(o?o.length:1/6,1)*30,t*=e.length/8,t>100?100:t}normalize(e,t){return e-t<=0?e/t:1+.5*(e/(e+t/4))}get disabled(){return this.el.nativeElement.disabled}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.el.nativeElement,()=>{L.hasClass(this.panel,"p-connected-overlay-visible")&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentResizeListener(){if(rt(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){L.isTouchDevice()||this.hideOverlay()}ngOnDestroy(){this.panel&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindDocumentResizeListener(),this.renderer.removeChild(this.document.body,this.panel),this.panel=null,this.meter=null,this.info=null)}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(Le),v(It),v(xt))};static \u0275dir=lt({type:i,selectors:[["","pPassword",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(t,o){t&1&&R("input",function(s){return o.onInput(s)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()})("keyup",function(s){return o.onKeyup(s)}),t&2&&Xi("p-filled",o.filled)("p-variant-filled",o.variant==="filled"||o.config.inputStyle()==="filled")},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:[2,"feedback","feedback",j],showPassword:"showPassword",variant:"variant"},features:[Ve]})}return i})(),DCe=(()=>{class i{transform(e,t,...o){return t(e,...o)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=xn({name:"mapper",type:i,pure:!0})}return i})(),PCe={provide:Vi,useExisting:Dt(()=>FCe),multi:!0},FCe=(()=>{class i{document;platformId;renderer;cd;config;el;overlayService;ariaLabel;ariaLabelledBy;label;disabled;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;appendTo;toggleMask;inputStyleClass;styleClass;style;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;variant="outlined";onFocus=new W;onBlur=new W;onClear=new W;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;onModelChange=()=>{};onModelTouched=()=>{};translationSubscription;constructor(e,t,o,r,s,a,l){this.document=e,this.platformId=t,this.renderer=o,this.cd=r,this.config=s,this.el=a,this.overlayService=l}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"hideicon":this.hideIconTemplate=e.template;break;case"showicon":this.showIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,Yt.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(e){switch(e.toState){case"void":Yt.clear(e.element);break}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=L.getOuterWidth(this.input.nativeElement)+"px",L.absolutePosition(this.overlay,this.input.nativeElement)):L.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value)}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(e)}onKeyUp(e){if(this.feedback){let t=e.target.value;if(this.updateUI(t),e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(e){let t=null,o=null;switch(this.testStrength(e)){case 1:t=this.weakText(),o={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText(),o={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText(),o={strength:"strong",width:"100%"};break;default:t=this.promptText(),o=null;break}this.meter=o,this.infoText=t}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let t=0;return this.strongCheckRegExp.test(e)?t=3:this.mediumCheckRegExp.test(e)?t=2:e.length&&(t=1),t}writeValue(e){e===void 0?this.value=null:this.value=e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindScrollListener(){rt(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new xo(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(rt(this.platformId)&&!this.resizeListener){let e=this.document.defaultView;this.resizeListener=this.renderer.listen(e,"resize",()=>{this.overlayVisible&&!L.isTouchDevice()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(e){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":e}}inputFieldClass(e){return{"p-password-input":!0,"p-disabled":e}}strengthClass(e){return`p-password-strength ${e?e.strength:""}`}filled(){return this.value!=null&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(oi.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(oi.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(oi.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(oi.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Yt.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(pe),v(xt),v(Le),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-password"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(sCe,5),t&2){let r;K(r=q())&&(o.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-filled",o.filled())("p-inputwrapper-focus",o.focused)("p-password-clearable",o.showClear)("p-password-mask",o.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:[2,"disabled","disabled",j],promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[2,"maxLength","maxLength",xe],strongLabel:"strongLabel",inputId:"inputId",feedback:[2,"feedback","feedback",j],appendTo:"appendTo",toggleMask:[2,"toggleMask","toggleMask",j],inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[2,"showClear","showClear",j],autofocus:[2,"autofocus","autofocus",j],variant:"variant"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[Ge([PCe]),Ve],decls:9,vars:35,consts:[["input",""],["overlay",""],["content",""],[3,"ngClass","ngStyle"],["pInputText","","pAutoFocus","",3,"input","focus","blur","keyup","ngClass","disabled","ngStyle","value","variant","autofocus"],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"click","styleClass"],[3,"click",4,"ngIf"],[3,"click"],[3,"click","ngClass"],[4,"ngIf","ngIfElse"],[1,"p-password-meter"],[1,"p-password-info"]],template:function(t,o){if(t&1){let r=k();f(0,"div",3),O(1,"mapper"),f(2,"input",4,0),O(4,"mapper"),O(5,"mapper"),R("input",function(a){return b(r),y(o.onInput(a))})("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))})("keyup",function(a){return b(r),y(o.onKeyUp(a))}),m(),I(6,hCe,4,3,"ng-container",5)(7,SCe,3,2,"ng-container",5)(8,RCe,7,12,"div",6),m()}t&2&&(te(o.styleClass),p("ngClass",pi(1,26,o.toggleMask,o.containerClass))("ngStyle",o.style),M("data-pc-name","password")("data-pc-section","root"),d(2),te(o.inputStyleClass),p("ngClass",pi(4,29,o.disabled,o.inputFieldClass))("disabled",o.disabled)("ngStyle",o.inputStyle)("value",o.value)("variant",o.variant)("autofocus",o.autofocus),M("label",o.label)("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("id",o.inputId)("type",pi(5,32,o.unmasked,o.inputType))("placeholder",o.placeholder)("autocomplete",o.autocomplete)("maxlength",o.maxLength)("data-pc-section","input"),d(4),p("ngIf",o.showClear&&o.value!=null),d(),p("ngIf",o.toggleMask),d(),p("ngIf",o.overlayVisible))},dependencies:()=>[Fe,ze,Xe,ve,cn,mn,Ci,cE,lE,DCe],styles:[`@layer primeng{.p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password .p-icon{cursor:pointer}.p-password-clearable.p-password-mask .p-password-clear-icon{margin-top:unset}.p-password-clearable{position:relative}}
`],encapsulation:2,data:{animation:[$i("overlayAnimation",[Nt(":enter",[Rt({opacity:0,transform:"scaleY(0.8)"}),kt("{{showTransitionParams}}")]),Nt(":leave",[kt("{{hideTransitionParams}}",Rt({opacity:0}))])])]},changeDetection:0})}return i})(),dE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Ls,Tn,Ci,cE,lE,$e]})}return i})();var LCe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),MCe=i=>({value:"visible",params:i});function kCe(i,n){if(i&1&&E(0,"span"),i&2){let e=h().$implicit;te("p-message-icon pi "+e.icon),M("data-pc-section","icon")}}function NCe(i,n){i&1&&E(0,"CheckIcon"),i&2&&M("data-pc-section","icon")}function VCe(i,n){i&1&&E(0,"InfoCircleIcon"),i&2&&M("data-pc-section","icon")}function BCe(i,n){i&1&&E(0,"TimesCircleIcon"),i&2&&M("data-pc-section","icon")}function UCe(i,n){i&1&&E(0,"ExclamationTriangleIcon"),i&2&&M("data-pc-section","icon")}function jCe(i,n){if(i&1&&(f(0,"span",10),re(1),I(2,NCe,1,1,"CheckIcon",11)(3,VCe,1,1,"InfoCircleIcon",11)(4,BCe,1,1,"TimesCircleIcon",11)(5,UCe,1,1,"ExclamationTriangleIcon",11),se(),m()),i&2){let e=h().$implicit;d(2),p("ngIf",e.severity==="success"),d(),p("ngIf",e.severity==="info"),d(),p("ngIf",e.severity==="error"),d(),p("ngIf",e.severity==="warn")}}function HCe(i,n){if(i&1&&E(0,"span",14),i&2){let e=h(2).$implicit;p("innerHTML",e.summary,Fi),M("data-pc-section","summary")}}function GCe(i,n){if(i&1&&E(0,"span",15),i&2){let e=h(2).$implicit;p("innerHTML",e.detail,Fi),M("data-pc-section","detail")}}function zCe(i,n){if(i&1&&(re(0),I(1,HCe,1,2,"span",12)(2,GCe,1,2,"span",13),se()),i&2){let e=h().$implicit;d(),p("ngIf",e.summary),d(),p("ngIf",e.detail)}}function WCe(i,n){if(i&1&&(f(0,"span",18),T(1),m()),i&2){let e=h(2).$implicit;M("data-pc-section","summary"),d(),H(e.summary)}}function $Ce(i,n){if(i&1&&(f(0,"span",19),T(1),m()),i&2){let e=h(2).$implicit;M("data-pc-section","detail"),d(),H(e.detail)}}function KCe(i,n){if(i&1&&I(0,WCe,2,2,"span",16)(1,$Ce,2,2,"span",17),i&2){let e=h().$implicit;p("ngIf",e.summary),d(),p("ngIf",e.detail)}}function qCe(i,n){if(i&1){let e=k();f(0,"button",20),R("click",function(){b(e);let o=h().index,r=h(2);return y(r.removeMessage(o))}),E(1,"TimesIcon",21),m()}if(i&2){let e=h(3);M("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),d(),p("styleClass","p-message-close-icon"),M("data-pc-section","closeicon")}}function YCe(i,n){if(i&1&&(f(0,"div",5)(1,"div",6),I(2,kCe,1,3,"span",7)(3,jCe,6,4,"span",8)(4,zCe,3,2,"ng-container",3)(5,KCe,2,2,"ng-template",null,1,bt)(7,qCe,2,4,"button",9),m()()),i&2){let e,t=n.$implicit,o=Me(6),r=h(2);te("p-message p-message-"+t.severity),p("@messageAnimation",J(13,MCe,Ue(10,LCe,r.showTransitionOptions,r.hideTransitionOptions))),d(),M("data-pc-section","wrapper")("id",t.id||null),d(),p("ngIf",t.icon),d(),p("ngIf",!t.icon),d(),p("ngIf",!r.escape)("ngIfElse",o),d(3),p("ngIf",r.closable&&((e=t.closable)!==null&&e!==void 0?e:!0))}}function JCe(i,n){if(i&1&&(re(0),I(1,YCe,8,15,"div",4),se()),i&2){let e=h();d(),p("ngForOf",e.messages)}}function XCe(i,n){i&1&&oe(0)}function QCe(i,n){if(i&1&&(f(0,"div",22)(1,"div",6),I(2,XCe,1,0,"ng-container",23),m()()),i&2){let e=h();p("ngClass","p-message p-message-"+e.severity),d(2),p("ngTemplateOutlet",e.contentTemplate)}}var av=(()=>{class i{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new W;onClose=new W;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,t,o,r){this.messageService=e,this.el=t,this.cd=o,this.config=r}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let t=e.filter(o=>this.key===o.key);this.messages=this.messages?[...this.messages,...t]:[...t],this.startMessageLifes(t),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let t=this.messages[e];this.messages=this.messages?.filter((o,r)=>r!==e),t&&this.onClose.emit(t),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(t=>t.life&&this.startMessageLife(t))}startMessageLife(e){let t=oa(e.life).subscribe(()=>{this.messages=this.messages?.filter(o=>o!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(o=>o!==t),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(t)}static \u0275fac=function(t){return new(t||i)(v(Kt,8),v(Le),v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-messages"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",j],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",j],key:"key",escape:[2,"escape","escape",j],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[Ve],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(t,o){if(t&1&&(f(0,"div",2),I(1,JCe,2,1,"ng-container",3)(2,QCe,3,2,"ng-template",null,0,bt),m()),t&2){let r=Me(3);te(o.styleClass),p("ngStyle",o.style),M("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),d(),p("ngIf",!o.contentTemplate)("ngIfElse",r)}},dependencies:()=>[Fe,Ni,ze,Xe,ve,Ri,Ki,Ip,Vs,Cp,Ci],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[$i("messageAnimation",[Nt(":enter",[Rt({opacity:0,transform:"translateY(-25%)"}),kt("{{showTransitionParams}}")]),Nt(":leave",[kt("{{hideTransitionParams}}",Rt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return i})(),fh=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Li,Ki,Ip,Vs,Cp,Ci,$e,$e]})}return i})();var ZCe=["*",[["p-header"]]],eIe=["*","p-header"],tIe=(i,n)=>({"p-fieldset p-component":!0,"p-fieldset-toggleable":i,"p-fieldset-expanded":n}),iIe=i=>({transitionParams:i,height:"0"}),nIe=i=>({value:"hidden",params:i}),oIe=i=>({transitionParams:i,height:"*"}),rIe=i=>({value:"visible",params:i});function sIe(i,n){i&1&&E(0,"PlusIcon",11),i&2&&(p("styleClass","p-fieldset-toggler"),M("data-pc-section","togglericon"))}function aIe(i,n){i&1&&oe(0)}function lIe(i,n){if(i&1&&(f(0,"span",12),I(1,aIe,1,0,"ng-container",6),m()),i&2){let e=h(3);M("data-pc-section","togglericon"),d(),p("ngTemplateOutlet",e.expandIconTemplate)}}function cIe(i,n){if(i&1&&(re(0),I(1,sIe,1,2,"PlusIcon",9)(2,lIe,2,2,"span",10),se()),i&2){let e=h(2);d(),p("ngIf",!e.expandIconTemplate),d(),p("ngIf",e.expandIconTemplate)}}function dIe(i,n){i&1&&E(0,"MinusIcon",11),i&2&&(p("styleClass","p-fieldset-toggler"),M("aria-hidden",!0)("data-pc-section","togglericon"))}function uIe(i,n){i&1&&oe(0)}function pIe(i,n){if(i&1&&(f(0,"span",12),I(1,uIe,1,0,"ng-container",6),m()),i&2){let e=h(3);M("data-pc-section","togglericon"),d(),p("ngTemplateOutlet",e.collapseIconTemplate)}}function hIe(i,n){if(i&1&&(re(0),I(1,dIe,1,3,"MinusIcon",9)(2,pIe,2,2,"span",10),se()),i&2){let e=h(2);d(),p("ngIf",!e.collapseIconTemplate),d(),p("ngIf",e.collapseIconTemplate)}}function fIe(i,n){i&1&&oe(0)}function mIe(i,n){if(i&1){let e=k();re(0),f(1,"a",7),R("click",function(o){b(e);let r=h();return y(r.toggle(o))})("keydown",function(o){b(e);let r=h();return y(r.onKeyDown(o))}),I(2,cIe,3,2,"ng-container",8)(3,hIe,3,2,"ng-container",8)(4,fIe,1,0,"ng-container",6),m(),se()}if(i&2){let e=h(),t=Me(4);d(),M("id",e.id+"_header")("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)("aria-label",e.buttonAriaLabel),d(),p("ngIf",e.collapsed),d(),p("ngIf",!e.collapsed),d(),p("ngTemplateOutlet",t)}}function gIe(i,n){i&1&&oe(0)}function _Ie(i,n){if(i&1&&(f(0,"span",13),T(1),m(),jt(2,1),I(3,gIe,1,0,"ng-container",6)),i&2){let e=h();M("data-pc-section","legendtitle"),d(),H(e.legend),d(2),p("ngTemplateOutlet",e.headerTemplate)}}function CIe(i,n){i&1&&oe(0)}var lv=(()=>{class i{el;legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new W;onBeforeToggle=new W;onAfterToggle=new W;templates;get id(){return ut()}get buttonAriaLabel(){return this.legend}animating;headerTemplate;contentTemplate;collapseIconTemplate;expandIconTemplate;constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"expandicon":this.expandIconTemplate=e.template;break;case"collapseicon":this.collapseIconTemplate=e.template;break;case"content":this.contentTemplate=e.template;break}})}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275cmp=Y({type:i,selectors:[["p-fieldset"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:[2,"toggleable","toggleable",j],collapsed:[2,"collapsed","collapsed",j],style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[Ve],ngContentSelectors:eIe,decls:9,vars:28,consts:[["legendContent",""],[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(t,o){if(t&1){let r=k();_i(ZCe),f(0,"fieldset",1)(1,"legend",2),I(2,mIe,5,7,"ng-container",3)(3,_Ie,4,3,"ng-template",null,0,bt),m(),f(5,"div",4),R("@fieldsetContent.done",function(){return b(r),y(o.onToggleDone())}),f(6,"div",5),jt(7),I(8,CIe,1,0,"ng-container",6),m()()()}if(t&2){let r=Me(4);te(o.styleClass),p("ngClass",Ue(17,tIe,o.toggleable,!o.collapsed&&o.toggleable))("ngStyle",o.style),M("id",o.id)("data-pc-name","fieldset")("data-pc-section","root"),d(),M("data-pc-section","legend"),d(),p("ngIf",o.toggleable)("ngIfElse",r),d(3),p("@fieldsetContent",o.collapsed?J(22,nIe,J(20,iIe,o.transitionOptions)):J(26,rIe,J(24,oIe,o.animating?o.transitionOptions:"0ms"))),M("id",o.id+"_content")("aria-labelledby",o.id+"_header")("aria-hidden",o.collapsed)("data-pc-section","toggleablecontent"),d(),M("data-pc-section","content"),d(2),p("ngTemplateOutlet",o.contentTemplate)}},dependencies:()=>[Fe,ze,Xe,ve,Ri,ws,qr],styles:[`@layer primeng{.p-fieldset{min-width:initial}.p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}}
`],encapsulation:2,data:{animation:[$i("fieldsetContent",[lo("hidden",Rt({height:"0"})),lo("visible",Rt({height:"*"})),Nt("visible <=> hidden",[kt("{{transitionParams}}")]),Nt("void => *",kt(0))])]},changeDetection:0})}return i})(),uE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Li,ws,qr,$e]})}return i})();var IIe=["headerchkbox"],vIe=["filter"],bIe=["lastHiddenFocusableElement"],yIe=["firstHiddenFocusableElement"],wIe=["scroller"],SIe=["list"],AIe=["wrapper"],xIe=[[["p-header"]],[["p-footer"]]],EIe=["p-header","p-footer"],cv=(i,n)=>({$implicit:i,options:n}),$V=i=>({"p-checkbox-disabled":i}),TIe=(i,n,e)=>({"p-highlight":i,"p-focus":n,"p-disabled":e}),KV=i=>({options:i}),pE=i=>({height:i}),OIe=()=>({}),RIe=i=>({$implicit:i}),DIe=(i,n,e)=>({"p-listbox-item":!0,"p-highlight":i,"p-focus":n,"p-disabled":e}),PIe=(i,n)=>({$implicit:i,index:n}),FIe=i=>({"p-highlight":i});function LIe(i,n){i&1&&oe(0)}function MIe(i,n){if(i&1&&(f(0,"div",19),jt(1),I(2,LIe,1,0,"ng-container",20),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Ue(2,cv,e.modelValue(),e.visibleOptions()))}}function kIe(i,n){i&1&&E(0,"CheckIcon",29),i&2&&(p("styleClass","p-checkbox-icon"),M("aria-hidden",!0))}function NIe(i,n){}function VIe(i,n){i&1&&I(0,NIe,0,0,"ng-template")}function BIe(i,n){if(i&1&&(f(0,"span",30),I(1,VIe,1,0,null,31),m()),i&2){let e=h(4);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.checkIconTemplate)}}function UIe(i,n){if(i&1&&(re(0),I(1,kIe,1,2,"CheckIcon",27)(2,BIe,2,2,"span",28),se()),i&2){let e=h(3);d(),p("ngIf",!e.checkIconTemplate),d(),p("ngIf",e.checkIconTemplate)}}function jIe(i,n){if(i&1){let e=k();f(0,"div",23),R("click",function(o){b(e);let r=h(2);return y(r.onToggleAll(o))})("keydown",function(o){b(e);let r=h(2);return y(r.onHeaderCheckboxKeyDown(o))}),f(1,"div",24)(2,"input",25,5),R("focus",function(o){b(e);let r=h(2);return y(r.onHeaderCheckboxFocus(o))})("blur",function(o){b(e);let r=h(2);return y(r.onHeaderCheckboxBlur(o))}),m()(),f(4,"div",26),I(5,UIe,3,2,"ng-container",16),m()()}if(i&2){let e=h(2);p("ngClass",J(8,$V,e.disabled||e.toggleAllDisabled)),d(),M("data-p-hidden-accessible",!0),d(),p("disabled",e.disabled||e.toggleAllDisabled),M("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),d(2),p("ngClass",Ai(10,TIe,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),M("aria-checked",e.allSelected()),d(),p("ngIf",e.allSelected())}}function HIe(i,n){i&1&&oe(0)}function GIe(i,n){if(i&1&&(re(0),I(1,HIe,1,0,"ng-container",20),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",J(2,KV,e.filterOptions))}}function zIe(i,n){i&1&&E(0,"SearchIcon",29),i&2&&(p("styleClass","p-listbox-filter-icon"),M("aria-hidden",!0))}function WIe(i,n){}function $Ie(i,n){i&1&&I(0,WIe,0,0,"ng-template")}function KIe(i,n){if(i&1&&(f(0,"span",37),I(1,$Ie,1,0,null,31),m()),i&2){let e=h(4);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.filterIconTemplate)}}function qIe(i,n){if(i&1){let e=k();f(0,"div",34)(1,"input",35,6),R("input",function(o){b(e);let r=h(3);return y(r.onFilterChange(o))})("keydown",function(o){b(e);let r=h(3);return y(r.onFilterKeyDown(o))})("focus",function(o){b(e);let r=h(3);return y(r.onFilterFocus(o))})("blur",function(o){b(e);let r=h(3);return y(r.onFilterBlur(o))}),m(),I(3,zIe,1,2,"SearchIcon",27)(4,KIe,2,2,"span",36),m()}if(i&2){let e=h(3);d(),p("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",!e.disabled&&!e.focused?e.tabindex:-1),M("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),d(2),p("ngIf",!e.filterIconTemplate),d(),p("ngIf",e.filterIconTemplate)}}function YIe(i,n){if(i&1&&(I(0,qIe,5,9,"div",32),f(1,"span",33),T(2),m()),i&2){let e=h(2);p("ngIf",e.filter),d(),M("data-p-hidden-accessible",!0),d(),z(" ",e.filterResultMessageText," ")}}function JIe(i,n){if(i&1&&(f(0,"div",19),I(1,jIe,6,14,"div",21)(2,GIe,2,4,"ng-container",22)(3,YIe,3,3,"ng-template",null,4,bt),m()),i&2){let e=Me(4),t=h();d(),p("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),d(),p("ngIf",t.filterTemplate)("ngIfElse",e)}}function XIe(i,n){i&1&&oe(0)}function QIe(i,n){if(i&1&&I(0,XIe,1,0,"ng-container",20),i&2){let e=n.$implicit,t=n.options;h(2);let o=Me(10);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Ue(2,cv,e,t))}}function ZIe(i,n){i&1&&oe(0)}function eve(i,n){if(i&1&&I(0,ZIe,1,0,"ng-container",20),i&2){let e=n.options,t=h(3);p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(2,KV,e))}}function tve(i,n){i&1&&(re(0),I(1,eve,1,4,"ng-template",40),se())}function ive(i,n){if(i&1){let e=k();f(0,"p-scroller",38,7),R("onLazyLoad",function(o){b(e);let r=h();return y(r.onLazyLoad.emit(o))}),I(2,QIe,1,5,"ng-template",39)(3,tve,2,0,"ng-container",16),m()}if(i&2){let e=h();it(J(9,pE,e.scrollHeight)),p("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),d(3),p("ngIf",e.loaderTemplate)}}function nve(i,n){i&1&&oe(0)}function ove(i,n){if(i&1&&(re(0),I(1,nve,1,0,"ng-container",20),se()),i&2){let e=h(),t=Me(10);d(),p("ngTemplateOutlet",t)("ngTemplateOutletContext",Ue(3,cv,e.visibleOptions(),Ie(2,OIe)))}}function rve(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2).$implicit,t=h(2);d(),H(t.getOptionGroupLabel(e.optionGroup))}}function sve(i,n){i&1&&oe(0)}function ave(i,n){if(i&1&&(re(0),f(1,"li",44),I(2,rve,2,1,"span",16)(3,sve,1,0,"ng-container",20),m(),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h();d(),p("ngStyle",J(5,pE,r.itemSize+"px")),M("id",s.id+"_"+s.getOptionIndex(o,r)),d(),p("ngIf",!s.groupTemplate),d(),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",J(7,RIe,t.optionGroup))}}function lve(i,n){i&1&&E(0,"CheckIcon",29),i&2&&(p("styleClass","p-checkbox-icon"),M("aria-hidden",!0))}function cve(i,n){}function dve(i,n){i&1&&I(0,cve,0,0,"ng-template")}function uve(i,n){if(i&1&&(f(0,"span",30),I(1,dve,1,0,null,31),m()),i&2){let e=h(6);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.checkIconTemplate)}}function pve(i,n){if(i&1&&(re(0),I(1,lve,1,2,"CheckIcon",27)(2,uve,2,2,"span",28),se()),i&2){let e=h(5);d(),p("ngIf",!e.checkIconTemplate),d(),p("ngIf",e.checkIconTemplate)}}function hve(i,n){if(i&1&&(f(0,"div",47)(1,"div",48),I(2,pve,3,2,"ng-container",16),m()()),i&2){let e=h(2).$implicit,t=h(2);p("ngClass",J(3,$V,t.disabled||t.isOptionDisabled(e))),d(),p("ngClass",J(5,FIe,t.isSelected(e))),d(),p("ngIf",t.isSelected(e))}}function fve(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2).$implicit,t=h(2);d(),H(t.getOptionLabel(e))}}function mve(i,n){i&1&&oe(0)}function gve(i,n){if(i&1){let e=k();re(0),f(1,"li",45),R("click",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h().options,c=h();return y(c.onOptionSelect(o,s,c.getOptionIndex(a,l)))})("dblclick",function(o){b(e);let r=h().$implicit,s=h(2);return y(s.onOptionDoubleClick(o,r))})("mousedown",function(o){b(e);let r=h().index,s=h().options,a=h();return y(a.onOptionMouseDown(o,a.getOptionIndex(r,s)))})("mouseenter",function(o){b(e);let r=h().index,s=h().options,a=h();return y(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))})("touchend",function(){b(e);let o=h(3);return y(o.onOptionTouchEnd())}),I(2,hve,3,7,"div",46)(3,fve,2,1,"span",16)(4,mve,1,0,"ng-container",20),m(),se()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h();d(),p("ngStyle",J(12,pE,r.itemSize+"px"))("ngClass",Ai(14,DIe,s.isSelected(t),s.focusedOptionIndex()===s.getOptionIndex(o,r),s.isOptionDisabled(t))),M("id",s.id+"_"+s.getOptionIndex(o,r))("aria-label",s.getOptionLabel(t))("aria-selected",s.isSelected(t))("aria-disabled",s.isOptionDisabled(t))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r))),d(),p("ngIf",s.checkbox&&s.multiple),d(),p("ngIf",!s.itemTemplate),d(),p("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",Ue(18,PIe,t,s.getOptionIndex(o,r)))}}function _ve(i,n){if(i&1&&I(0,ave,4,9,"ng-container",16)(1,gve,5,21,"ng-container",16),i&2){let e=n.$implicit,t=h(2);p("ngIf",t.isOptionGroup(e)),d(),p("ngIf",!t.isOptionGroup(e))}}function Cve(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),z(" ",e.emptyFilterMessageText," ")}}function Ive(i,n){i&1&&oe(0,null,9)}function vve(i,n){if(i&1&&(f(0,"li",49),I(1,Cve,2,1,"ng-container",22)(2,Ive,2,0,"ng-container",31),m()),i&2){let e=h(2);d(),p("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),d(),p("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function bve(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),z(" ",e.emptyMessage," ")}}function yve(i,n){i&1&&oe(0,null,10)}function wve(i,n){if(i&1&&(f(0,"li",49),I(1,bve,2,1,"ng-container",22)(2,yve,2,0,"ng-container",31),m()),i&2){let e=h(2);d(),p("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),d(),p("ngTemplateOutlet",e.emptyTemplate)}}function Sve(i,n){if(i&1){let e=k();f(0,"ul",41,8),R("focus",function(o){b(e);let r=h();return y(r.onListFocus(o))})("blur",function(o){b(e);let r=h();return y(r.onListBlur(o))})("keydown",function(o){b(e);let r=h();return y(r.onListKeyDown(o))}),I(2,_ve,2,2,"ng-template",42)(3,vve,3,3,"li",43)(4,wve,3,3,"li",43),m()}if(i&2){let e=n.$implicit,t=n.options,o=h();p("tabindex",-1)("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),M("aria-multiselectable",!0)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-label",o.ariaLabel)("aria-multiselectable",o.multiple)("aria-disabled",o.disabled),d(2),p("ngForOf",e),d(),p("ngIf",o.hasFilter()&&o.isEmpty()),d(),p("ngIf",!o.hasFilter()&&o.isEmpty())}}function Ave(i,n){i&1&&oe(0)}function xve(i,n){if(i&1&&(f(0,"div",50),jt(1,1),I(2,Ave,1,0,"ng-container",20),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Ue(2,cv,e.modelValue(),e.visibleOptions()))}}function Eve(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(2);d(),z(" ",e.emptyMessage," ")}}function Tve(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(2);d(),z(" ",e.selectedMessageText," ")}}function Ove(i,n){if(i&1&&(f(0,"span",51),I(1,Eve,2,1,"ng-container",16)(2,Tve,2,1,"ng-container",16),m()),i&2){let e=h();d(),p("ngIf",e.hasEmptyMessage()),d(),p("ngIf",!e.hasEmptyMessage())}}var Rve={provide:Vi,useExisting:Dt(()=>hE),multi:!0},hE=(()=>{class i{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new W;onClick=new W;onDblClick=new W;onFilter=new W;onFocus=new W;onBlur=new W;onSelectAllChange=new W;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;wrapperViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=ui(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";get containerClass(){return{"p-listbox p-component":!0,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return le.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=ui(null);startRangeIndex=ui(-1);focusedOptionIndex=ui(-1);modelValue=ui(null);visibleOptions=to(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[],t=this._filterValue();return this.searchFields[0]===void 0?t?e.filter(o=>o.toString().toLocaleLowerCase(this.filterLocale).indexOf(t.toLocaleLowerCase(this.filterLocale).trim())!==-1):e:t?this.filterService.filter(e,this.searchFields,t,this.filterMatchMode,this.filterLocale):e});constructor(e,t,o,r,s){this.el=e,this.cd=t,this.filterService=o,this.config=r,this.renderer=s}ngOnInit(){this.id=this.id||ut(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,t){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:this.value})}removeOption(e){return this.modelValue().filter(t=>!le.equals(t,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,t,o=-1){this.disabled||this.isOptionDisabled(t)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,t):this.onOptionSelectSingle(e,t),this.optionTouched=!1,o!==-1&&this.focusedOptionIndex.set(o))}onOptionSelectMultiple(e,t){let o=this.isSelected(t),r=null;if(this.optionTouched?!1:this.metaKeySelection){let a=e.metaKey||e.ctrlKey;o?r=a?this.removeOption(t):[this.getOptionValue(t)]:(r=a?this.modelValue()||[]:[],r=[...r,this.getOptionValue(t)])}else r=o?this.removeOption(t):[...this.modelValue()||[],this.getOptionValue(t)];this.updateModel(r,e)}onOptionSelectSingle(e,t){let o=this.isSelected(t),r=!1,s=null;if(this.optionTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;o?l&&(s=null,r=!0):(s=this.getOptionValue(t),r=!0)}else s=o?null:this.getOptionValue(t),r=!0;r&&this.updateModel(s,e)}onOptionSelectRange(e,t=-1,o=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(t)),t!==-1&&o!==-1){let r=Math.min(t,o),s=Math.max(t,o),a=this.visibleOptions().slice(r,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}onToggleAll(e){if(!(this.disabled||this.readonly)){if(L.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.allSelected()?[]:this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(t,e)}e.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:le.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,t){this.changeFocusedOptionIndex(e,t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onOptionDoubleClick(e,t){this.disabled||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onFirstHiddenFocus(e){L.focus(this.listViewChild.nativeElement);let t=L.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=le.isEmpty(t)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){let o=L.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");L.focus(o),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else L.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.wrapperViewChild.nativeElement.tabIndex="0",this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.onFocus.emit(e),this.wrapperViewChild.nativeElement.tabIndex="-1",this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){L.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let t=e.target.value?.trim();this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterFocus(e){this.wrapperViewChild.nativeElement.tabIndex="-1"}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&t){let o=this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(o,e),e.preventDefault();break}!t&&le.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowUpKey(e){let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onHomeKey(e,t=!1){if(t)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let o=e.metaKey||e.ctrlKey,r=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&o&&this.onOptionSelectRange(e,r,this.startRangeIndex()),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onEndKey(e,t=!1){if(t){let o=e.currentTarget,r=o.value.length;o.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,r=this.findLastOptionIndex();this.multiple&&e.shiftKey&&o&&this.onOptionSelectRange(e,this.startRangeIndex(),r),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?le.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?le.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?le.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionValue(e){return this.optionValue?le.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}hasSelectedOption(){return le.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[t]))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedOptionIndex()!==-1?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),o=o===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,o=L.findSingle(this.listViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return le.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?le.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return t>-1?t+e+1:-1}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?le.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidSelectedOption(o)):-1;return t>-1?t:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let t=e>0?le.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findNearestSelectedOptionIndex(e,t=!1){let o=-1;return this.hasSelectedOption()&&(t?(o=this.findPrevSelectedOptionIndex(e),o=o===-1?this.findNextSelectedOptionIndex(e):o):(o=this.findNextSelectedOptionIndex(e),o=o===-1?this.findPrevSelectedOptionIndex(e):o)),o>-1?o:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return this.optionDisabled?le.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){let t=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(o=>le.equals(o,t,this.equalityKey())):le.equals(this.modelValue(),t,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasEmptyMessage(){return!!this.emptyMessage}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(Le),v(pe),v(qa),v(xt),v(wt))};static \u0275cmp=Y({type:i,selectors:[["p-listbox"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,Ya,5),qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.headerFacet=s.first),K(s=q())&&(o.footerFacet=s.first),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(IIe,5),ne(vIe,5),ne(bIe,5),ne(yIe,5),ne(wIe,5),ne(SIe,5),ne(AIe,5)),t&2){let r;K(r=q())&&(o.headerCheckboxViewChild=r.first),K(r=q())&&(o.filterViewChild=r.first),K(r=q())&&(o.lastHiddenFocusableElement=r.first),K(r=q())&&(o.firstHiddenFocusableElement=r.first),K(r=q())&&(o.scroller=r.first),K(r=q())&&(o.listViewChild=r.first),K(r=q())&&(o.wrapperViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",j],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",j],searchLocale:[2,"searchLocale","searchLocale",j],focusOnHover:[2,"focusOnHover","focusOnHover",j],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",j],virtualScroll:[2,"virtualScroll","virtualScroll",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",xe],multiple:[2,"multiple","multiple",j],style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",j],disabled:[2,"disabled","disabled",j],checkbox:[2,"checkbox","checkbox",j],filter:[2,"filter","filter",j],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",j],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",j],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",j],options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[Ge([Rve]),Ve],ngContentSelectors:EIe,decls:15,vars:22,consts:[["firstHiddenFocusableElement",""],["wrapper",""],["buildInItems",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["filterInput",""],["scroller",""],["list",""],["emptyFilter",""],["empty",""],[3,"focusout","ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex"],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"focus","blur","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"input","keydown","focus","blur","value","disabled","tabindex"],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options","tabindex"],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"focus","blur","keydown","tabindex","ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"click","dblclick","mousedown","mouseenter","touchend","ngStyle","ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],[1,"p-listbox-footer"],["role","status","aria-live","polite",1,"p-hidden-accessible"]],template:function(t,o){if(t&1){let r=k();_i(xIe),f(0,"div",11),R("focusout",function(a){return b(r),y(o.onFocusout(a))}),f(1,"span",12,0),R("focus",function(a){return b(r),y(o.onFirstHiddenFocus(a))}),m(),I(3,MIe,3,5,"div",13)(4,JIe,5,3,"div",13),f(5,"div",14,1),I(7,ive,4,11,"p-scroller",15)(8,ove,2,6,"ng-container",16)(9,Sve,5,11,"ng-template",null,2,bt),m(),I(11,xve,3,5,"div",17)(12,Ove,3,2,"span",18),f(13,"span",12,3),R("focus",function(a){return b(r),y(o.onLastHiddenFocus(a))}),m()()}t&2&&(te(o.styleClass),p("ngClass",o.containerClass)("ngStyle",o.style),M("id",o.id),d(),p("tabindex",o.disabled?-1:o.tabindex),M("data-p-hidden-focusable",!0),d(2),p("ngIf",o.headerFacet||o.headerTemplate),d(),p("ngIf",o.checkbox&&o.multiple&&o.showToggleAll||o.filter),d(),te(o.listStyleClass),fn("max-height",o.virtualScroll?"auto":o.scrollHeight||"auto"),p("ngClass","p-listbox-list-wrapper")("ngStyle",o.listStyle),M("tabindex",!o.disabled&&"0"),d(2),p("ngIf",o.virtualScroll),d(),p("ngIf",!o.virtualScroll),d(3),p("ngIf",o.footerFacet||o.footerTemplate),d(),p("ngIf",o.isEmpty()),d(),p("tabindex",o.disabled?-1:o.tabindex),M("data-p-hidden-focusable",!0))},dependencies:()=>[Fe,Ni,ze,Xe,ve,ge,Ri,Kr,Us,Ki],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),fE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Li,Co,Us,Ki,$e,Co]})}return i})();var Pve=["inputtext"],Fve=["container"],Lve=(i,n,e,t)=>({"p-chips p-component p-input-wrapper":!0,"p-disabled":i,"p-focus":n,"p-inputwrapper-filled":e,"p-inputwrapper-focus":t}),Mve=i=>({"p-inputtext p-chips-multiple-container":!0,"p-variant-filled":i}),kve=i=>({"p-chips-clearable":i}),Nve=i=>({"p-chips-token":!0,"p-focus":i}),Vve=i=>({$implicit:i});function Bve(i,n){i&1&&oe(0)}function Uve(i,n){if(i&1&&(f(0,"span",12),T(1),m()),i&2){let e=h().$implicit,t=h();M("data-pc-section","label"),d(),H(t.field?t.resolveFieldData(e,t.field):e)}}function jve(i,n){if(i&1){let e=k();f(0,"TimesCircleIcon",15),R("click",function(o){b(e);let r=h(2).index,s=h();return y(s.removeItem(o,r))}),m()}i&2&&(p("styleClass","p-chips-token-icon"),M("data-pc-section","removeTokenIcon")("aria-hidden",!0))}function Hve(i,n){}function Gve(i,n){i&1&&I(0,Hve,0,0,"ng-template")}function zve(i,n){if(i&1){let e=k();f(0,"span",16),R("click",function(o){b(e);let r=h(2).index,s=h();return y(s.removeItem(o,r))}),I(1,Gve,1,0,null,17),m()}if(i&2){let e=h(3);M("data-pc-section","removeTokenIcon")("aria-hidden",!0),d(),p("ngTemplateOutlet",e.removeTokenIconTemplate)}}function Wve(i,n){if(i&1&&(re(0),I(1,jve,1,3,"TimesCircleIcon",13)(2,zve,2,3,"span",14),se()),i&2){let e=h(2);d(),p("ngIf",!e.removeTokenIconTemplate),d(),p("ngIf",e.removeTokenIconTemplate)}}function $ve(i,n){if(i&1){let e=k();f(0,"li",9,2),R("click",function(o){let r=b(e).$implicit,s=h();return y(s.onItemClick(o,r))}),I(2,Bve,1,0,"ng-container",10)(3,Uve,2,2,"span",11)(4,Wve,3,2,"ng-container",8),m()}if(i&2){let e=n.$implicit,t=n.index,o=h();p("ngClass",J(12,Nve,o.focusedIndex===t)),M("id",o.id+"_chips_item_"+t)("ariaLabel",e)("aria-selected",!0)("aria-setsize",o.value.length)("aria-posinset",t+1)("data-p-focused",o.focusedIndex===t)("data-pc-section","token"),d(2),p("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",J(14,Vve,e)),d(),p("ngIf",!o.itemTemplate),d(),p("ngIf",!o.disabled)}}function Kve(i,n){if(i&1){let e=k();f(0,"TimesIcon",15),R("click",function(){b(e);let o=h(2);return y(o.clear())}),m()}i&2&&p("styleClass","p-chips-clear-icon")}function qve(i,n){}function Yve(i,n){i&1&&I(0,qve,0,0,"ng-template")}function Jve(i,n){if(i&1){let e=k();f(0,"span",19),R("click",function(){b(e);let o=h(2);return y(o.clear())}),I(1,Yve,1,0,null,17),m()}if(i&2){let e=h(2);d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function Xve(i,n){if(i&1&&(f(0,"li"),I(1,Kve,1,1,"TimesIcon",13)(2,Jve,2,1,"span",18),m()),i&2){let e=h();d(),p("ngIf",!e.clearIconTemplate),d(),p("ngIf",e.clearIconTemplate)}}var Qve={provide:Vi,useExisting:Dt(()=>Zve),multi:!0},Zve=(()=>{class i{document;el;cd;config;style;styleClass;disabled;field;placeholder;max;maxLength;ariaLabel;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;caseSensitiveDuplication=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;autofocus;variant="outlined";onAdd=new W;onRemove=new W;onFocus=new W;onBlur=new W;onChipClick=new W;onClear=new W;inputViewChild;containerViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;id=ut();focused;focusedIndex;filled;get focusedOptionId(){return this.focusedIndex!==null?`${this.id}_chips_item_${this.focusedIndex}`:null}get isMaxedOut(){return this.max&&this.value&&this.max===this.value.length}constructor(e,t,o,r){this.document=e,this.el=t,this.cd=o,this.config=r}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}}),this.updateFilledState()}onWrapperClick(){this.inputViewChild?.nativeElement.focus()}onContainerFocus(){this.focused=!0}onContainerBlur(){this.focusedIndex=-1,this.focused=!1}onContainerKeyDown(e){switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOn();break;case"ArrowRight":this.onArrowRightKeyOn();break;case"Backspace":this.onBackspaceKeyOn(e);break;case"Space":this.focusedIndex!==null&&this.value&&this.value.length>0&&this.onItemClick(e,this.value[this.focusedIndex]);break;default:break}}onArrowLeftKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex=this.focusedIndex===null?this.value.length-1:this.focusedIndex-1,this.focusedIndex<0&&(this.focusedIndex=0))}onArrowRightKeyOn(){this.inputViewChild.nativeElement.value.length===0&&this.value&&this.value.length>0&&(this.focusedIndex===this.value.length-1?(this.focusedIndex=null,this.inputViewChild?.nativeElement.focus()):this.focusedIndex++)}onBackspaceKeyOn(e){this.focusedIndex!==null&&this.removeItem(e,this.focusedIndex)}onInput(){this.updateFilledState(),this.focusedIndex=null}onPaste(e){this.disabled||(this.separator&&((e.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(o=>{this.addItem(e,o,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){!this.value||this.value.length===0?this.filled=this.inputViewChild&&this.inputViewChild.nativeElement&&this.inputViewChild.nativeElement.value!="":this.filled=!0}onItemClick(e,t){this.onChipClick.emit({originalEvent:e,value:t})}writeValue(e){this.value=e,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}resolveFieldData(e,t){if(e&&t){if(t.indexOf(".")==-1)return e[t];{let s=t.split("."),a=e;for(var o=0,r=s.length;o<r;++o)a=a[s[o]];return a}}else return null}onInputFocus(e){this.focused=!0,this.focusedIndex=null,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.focusedIndex=null,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(e,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(e)}removeItem(e,t){if(this.disabled)return;let o=this.value[t];this.value=this.value.filter((r,s)=>s!=t),this.focusedIndex=null,this.inputViewChild.nativeElement.focus(),this.onModelChange(this.value),this.onRemove.emit({originalEvent:e,value:o}),this.updateFilledState(),this.updateMaxedOut()}addItem(e,t,o){if(this.value=this.value||[],t&&t.trim().length){let r=this.caseSensitiveDuplication?this.value.includes(t):this.value.some(s=>s.toLowerCase()===t.toLowerCase());(this.allowDuplicate||!r)&&!this.isMaxedOut&&(this.value=[...this.value,t],this.onModelChange(this.value),this.onAdd.emit({originalEvent:e,value:t}))}this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",o&&e.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeyDown(e){let t=e.target.value;switch(e.code){case"Backspace":t.length===0&&this.value&&this.value.length>0&&(this.focusedIndex!==null?this.removeItem(e,this.focusedIndex):this.removeItem(e,this.value.length-1));break;case"Enter":case"NumpadEnter":t&&t.trim().length&&!this.isMaxedOut&&this.addItem(e,t,!0);break;case"Tab":this.addOnTab&&t&&t.trim().length&&!this.isMaxedOut&&(this.addItem(e,t,!0),e.preventDefault());break;case"ArrowLeft":t.length===0&&this.value&&this.value.length>0&&this.containerViewChild?.nativeElement.focus();break;case"ArrowRight":e.stopPropagation();break;default:this.separator&&(this.separator===e.key||e.key.match(this.separator))&&this.addItem(e,t,!0);break}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isMaxedOut?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(t){return new(t||i)(v(ct),v(Le),v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-chips"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(Pve,5),ne(Fve,5)),t&2){let r;K(r=q())&&(o.inputViewChild=r.first),K(r=q())&&(o.containerViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-chips-clearable",o.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:[2,"disabled","disabled",j],field:"field",placeholder:"placeholder",max:[2,"max","max",xe],maxLength:"maxLength",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",xe],inputId:"inputId",allowDuplicate:[2,"allowDuplicate","allowDuplicate",j],caseSensitiveDuplication:[2,"caseSensitiveDuplication","caseSensitiveDuplication",j],inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:[2,"addOnTab","addOnTab",j],addOnBlur:[2,"addOnBlur","addOnBlur",j],separator:"separator",showClear:[2,"showClear","showClear",j],autofocus:[2,"autofocus","autofocus",j],variant:"variant"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[Ge([Qve]),Ve],decls:8,vars:34,consts:[["container",""],["inputtext",""],["token",""],[3,"ngClass","ngStyle"],["tabindex","-1","role","listbox",3,"click","focus","blur","keydown","ngClass"],["role","option",3,"ngClass","click",4,"ngFor","ngForOf"],["role","option",1,"p-chips-input-token",3,"ngClass"],["type","text","pAutoFocus","",3,"keydown","input","paste","focus","blur","disabled","ngStyle","autofocus"],[4,"ngIf"],["role","option",3,"click","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(t,o){if(t&1){let r=k();f(0,"div",3)(1,"ul",4,0),R("click",function(){return b(r),y(o.onWrapperClick())})("focus",function(){return b(r),y(o.onContainerFocus())})("blur",function(){return b(r),y(o.onContainerBlur())})("keydown",function(a){return b(r),y(o.onContainerKeyDown(a))}),I(3,$ve,5,16,"li",5),f(4,"li",6)(5,"input",7,1),R("keydown",function(a){return b(r),y(o.onKeyDown(a))})("input",function(){return b(r),y(o.onInput())})("paste",function(a){return b(r),y(o.onPaste(a))})("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))}),m()(),I(7,Xve,3,2,"li",8),m()()}t&2&&(te(o.styleClass),p("ngClass",Nn(25,Lve,o.disabled,o.focused,o.value&&o.value.length||(o.inputViewChild==null?null:o.inputViewChild.nativeElement.value)&&(o.inputViewChild==null?null:o.inputViewChild.nativeElement.value.length),o.focused))("ngStyle",o.style),M("data-pc-name","chips")("data-pc-section","root"),d(),p("ngClass",J(30,Mve,o.variant==="filled"||o.config.inputStyle()==="filled")),M("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-orientation","horizontal")("data-pc-section","container"),d(2),p("ngForOf",o.value),d(),p("ngClass",J(32,kve,o.showClear&&!o.disabled)),M("data-pc-section","inputToken"),d(),te(o.inputStyleClass),p("disabled",o.disabled||o.isMaxedOut)("ngStyle",o.inputStyle)("autofocus",o.autofocus),M("id",o.inputId)("maxlength",o.maxLength)("placeholder",o.value&&o.value.length?null:o.placeholder)("tabindex",o.tabindex),d(2),p("ngIf",o.value!=null&&o.filled&&!o.disabled&&o.showClear))},dependencies:()=>[Fe,Ni,ze,Xe,ve,mn,Vs,Ci],styles:[`@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),mE=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Ls,$e,Tn,Vs,Ci,Ls,$e]})}return i})();function Wm(i){return i+.5|0}var ed=(i,n,e)=>Math.max(Math.min(i,e),n);function Gm(i){return ed(Wm(i*2.55),0,255)}function td(i){return ed(Wm(i*255),0,255)}function ql(i){return ed(Wm(i/2.55)/100,0,1)}function qV(i){return ed(Wm(i*100),0,100)}var qs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_E=[..."0123456789ABCDEF"],ebe=i=>_E[i&15],tbe=i=>_E[(i&240)>>4]+_E[i&15],dv=i=>(i&240)>>4===(i&15),ibe=i=>dv(i.r)&&dv(i.g)&&dv(i.b)&&dv(i.a);function nbe(i){var n=i.length,e;return i[0]==="#"&&(n===4||n===5?e={r:255&qs[i[1]]*17,g:255&qs[i[2]]*17,b:255&qs[i[3]]*17,a:n===5?qs[i[4]]*17:255}:(n===7||n===9)&&(e={r:qs[i[1]]<<4|qs[i[2]],g:qs[i[3]]<<4|qs[i[4]],b:qs[i[5]]<<4|qs[i[6]],a:n===9?qs[i[7]]<<4|qs[i[8]]:255})),e}var obe=(i,n)=>i<255?n(i):"";function rbe(i){var n=ibe(i)?ebe:tbe;return i?"#"+n(i.r)+n(i.g)+n(i.b)+obe(i.a,n):void 0}var sbe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QV(i,n,e){let t=n*Math.min(e,1-e),o=(r,s=(r+i/30)%12)=>e-t*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function abe(i,n,e){let t=(o,r=(o+i/60)%6)=>e-e*n*Math.max(Math.min(r,4-r,1),0);return[t(5),t(3),t(1)]}function lbe(i,n,e){let t=QV(i,1,.5),o;for(n+e>1&&(o=1/(n+e),n*=o,e*=o),o=0;o<3;o++)t[o]*=1-n-e,t[o]+=n;return t}function cbe(i,n,e,t,o){return i===o?(n-e)/t+(n<e?6:0):n===o?(e-i)/t+2:(i-n)/t+4}function CE(i){let e=i.r/255,t=i.g/255,o=i.b/255,r=Math.max(e,t,o),s=Math.min(e,t,o),a=(r+s)/2,l,c,u;return r!==s&&(u=r-s,c=a>.5?u/(2-r-s):u/(r+s),l=cbe(e,t,o,u,r),l=l*60+.5),[l|0,c||0,a]}function IE(i,n,e,t){return(Array.isArray(n)?i(n[0],n[1],n[2]):i(n,e,t)).map(td)}function vE(i,n,e){return IE(QV,i,n,e)}function dbe(i,n,e){return IE(lbe,i,n,e)}function ube(i,n,e){return IE(abe,i,n,e)}function ZV(i){return(i%360+360)%360}function pbe(i){let n=sbe.exec(i),e=255,t;if(!n)return;n[5]!==t&&(e=n[6]?Gm(+n[5]):td(+n[5]));let o=ZV(+n[2]),r=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?t=dbe(o,r,s):n[1]==="hsv"?t=ube(o,r,s):t=vE(o,r,s),{r:t[0],g:t[1],b:t[2],a:e}}function hbe(i,n){var e=CE(i);e[0]=ZV(e[0]+n),e=vE(e),i.r=e[0],i.g=e[1],i.b=e[2]}function fbe(i){if(!i)return;let n=CE(i),e=n[0],t=qV(n[1]),o=qV(n[2]);return i.a<255?`hsla(${e}, ${t}%, ${o}%, ${ql(i.a)})`:`hsl(${e}, ${t}%, ${o}%)`}var YV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mbe(){let i={},n=Object.keys(JV),e=Object.keys(YV),t,o,r,s,a;for(t=0;t<n.length;t++){for(s=a=n[t],o=0;o<e.length;o++)r=e[o],a=a.replace(r,YV[r]);r=parseInt(JV[s],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}var uv;function gbe(i){uv||(uv=mbe(),uv.transparent=[0,0,0,0]);let n=uv[i.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var _be=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Cbe(i){let n=_be.exec(i),e=255,t,o,r;if(n){if(n[7]!==t){let s=+n[7];e=n[8]?Gm(s):ed(s*255,0,255)}return t=+n[1],o=+n[3],r=+n[5],t=255&(n[2]?Gm(t):ed(t,0,255)),o=255&(n[4]?Gm(o):ed(o,0,255)),r=255&(n[6]?Gm(r):ed(r,0,255)),{r:t,g:o,b:r,a:e}}}function Ibe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ql(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var gE=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,mh=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function vbe(i,n,e){let t=mh(ql(i.r)),o=mh(ql(i.g)),r=mh(ql(i.b));return{r:td(gE(t+e*(mh(ql(n.r))-t))),g:td(gE(o+e*(mh(ql(n.g))-o))),b:td(gE(r+e*(mh(ql(n.b))-r))),a:i.a+e*(n.a-i.a)}}function pv(i,n,e){if(i){let t=CE(i);t[n]=Math.max(0,Math.min(t[n]+t[n]*e,n===0?360:1)),t=vE(t),i.r=t[0],i.g=t[1],i.b=t[2]}}function eB(i,n){return i&&Object.assign(n||{},i)}function XV(i){var n={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(n={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(n.a=td(i[3]))):(n=eB(i,{r:0,g:0,b:0,a:1}),n.a=td(n.a)),n}function bbe(i){return i.charAt(0)==="r"?Cbe(i):pbe(i)}var zm=class i{constructor(n){if(n instanceof i)return n;let e=typeof n,t;e==="object"?t=XV(n):e==="string"&&(t=nbe(n)||gbe(n)||bbe(n)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var n=eB(this._rgb);return n&&(n.a=ql(n.a)),n}set rgb(n){this._rgb=XV(n)}rgbString(){return this._valid?Ibe(this._rgb):void 0}hexString(){return this._valid?rbe(this._rgb):void 0}hslString(){return this._valid?fbe(this._rgb):void 0}mix(n,e){if(n){let t=this.rgb,o=n.rgb,r,s=e===r?.5:e,a=2*s-1,l=t.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,t.r=255&c*t.r+r*o.r+.5,t.g=255&c*t.g+r*o.g+.5,t.b=255&c*t.b+r*o.b+.5,t.a=s*t.a+(1-s)*o.a,this.rgb=t}return this}interpolate(n,e){return n&&(this._rgb=vbe(this._rgb,n._rgb,e)),this}clone(){return new i(this.rgb)}alpha(n){return this._rgb.a=td(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=Wm(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return pv(this._rgb,2,n),this}darken(n){return pv(this._rgb,2,-n),this}saturate(n){return pv(this._rgb,1,n),this}desaturate(n){return pv(this._rgb,1,-n),this}rotate(n){return hbe(this._rgb,n),this}};function tl(){}var uB=(()=>{let i=0;return()=>i++})();function zi(i){return i===null||typeof i>"u"}function Ln(i){if(Array.isArray&&Array.isArray(i))return!0;let n=Object.prototype.toString.call(i);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function ji(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function oo(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function ts(i,n){return oo(i)?i:n}function fi(i,n){return typeof i>"u"?n:i}var pB=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/n,SE=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*n:+i;function An(i,n,e){if(i&&typeof i.call=="function")return i.apply(e,n)}function hn(i,n,e,t){let o,r,s;if(Ln(i))if(r=i.length,t)for(o=r-1;o>=0;o--)n.call(e,i[o],o);else for(o=0;o<r;o++)n.call(e,i[o],o);else if(ji(i))for(s=Object.keys(i),r=s.length,o=0;o<r;o++)n.call(e,i[s[o]],s[o])}function qm(i,n){let e,t,o,r;if(!i||!n||i.length!==n.length)return!1;for(e=0,t=i.length;e<t;++e)if(o=i[e],r=n[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function gv(i){if(Ln(i))return i.map(gv);if(ji(i)){let n=Object.create(null),e=Object.keys(i),t=e.length,o=0;for(;o<t;++o)n[e[o]]=gv(i[e[o]]);return n}return i}function hB(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ybe(i,n,e,t){if(!hB(i))return;let o=n[i],r=e[i];ji(o)&&ji(r)?_h(o,r,t):n[i]=gv(r)}function _h(i,n,e){let t=Ln(n)?n:[n],o=t.length;if(!ji(i))return i;e=e||{};let r=e.merger||ybe,s;for(let a=0;a<o;++a){if(s=t[a],!ji(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)r(l[c],i,s,e)}return i}function Ih(i,n){return _h(i,n,{merger:wbe})}function wbe(i,n,e){if(!hB(i))return;let t=n[i],o=e[i];ji(t)&&ji(o)?Ih(t,o):Object.prototype.hasOwnProperty.call(n,i)||(n[i]=gv(o))}var tB={"":i=>i,x:i=>i.x,y:i=>i.y};function Sbe(i){let n=i.split("."),e=[],t="";for(let o of n)t+=o,t.endsWith("\\")?t=t.slice(0,-1)+".":(e.push(t),t="");return e}function Abe(i){let n=Sbe(i);return e=>{for(let t of n){if(t==="")break;e=e&&e[t]}return e}}function Xl(i,n){return(tB[n]||(tB[n]=Abe(n)))(i)}function vv(i){return i.charAt(0).toUpperCase()+i.slice(1)}var vh=i=>typeof i<"u",Yl=i=>typeof i=="function",AE=(i,n)=>{if(i.size!==n.size)return!1;for(let e of i)if(!n.has(e))return!1;return!0};function fB(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var Mn=Math.PI,kn=2*Mn,xbe=kn+Mn,_v=Number.POSITIVE_INFINITY,Ebe=Mn/180,po=Mn/2,cu=Mn/4,iB=Mn*2/3,Jl=Math.log10,ya=Math.sign;function bh(i,n,e){return Math.abs(i-n)<e}function xE(i){let n=Math.round(i);i=bh(i,n,i/1e3)?n:i;let e=Math.pow(10,Math.floor(Jl(i))),t=i/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function mB(i){let n=[],e=Math.sqrt(i),t;for(t=1;t<e;t++)i%t===0&&(n.push(t),n.push(i/t));return e===(e|0)&&n.push(e),n.sort((o,r)=>o-r).pop(),n}function pu(i){return!isNaN(parseFloat(i))&&isFinite(i)}function gB(i,n){let e=Math.round(i);return e-n<=i&&e+n>=i}function EE(i,n,e){let t,o,r;for(t=0,o=i.length;t<o;t++)r=i[t][e],isNaN(r)||(n.min=Math.min(n.min,r),n.max=Math.max(n.max,r))}function Ys(i){return i*(Mn/180)}function bv(i){return i*(180/Mn)}function TE(i){if(!oo(i))return;let n=1,e=0;for(;Math.round(i*n)/n!==i;)n*=10,e++;return e}function OE(i,n){let e=n.x-i.x,t=n.y-i.y,o=Math.sqrt(e*e+t*t),r=Math.atan2(t,e);return r<-.5*Mn&&(r+=kn),{angle:r,distance:o}}function Cv(i,n){return Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))}function Tbe(i,n){return(i-n+xbe)%kn-Mn}function es(i){return(i%kn+kn)%kn}function yh(i,n,e,t){let o=es(i),r=es(n),s=es(e),a=es(r-o),l=es(s-o),c=es(o-r),u=es(o-s);return o===r||o===s||t&&r===s||a>l&&c<u}function zo(i,n,e){return Math.max(n,Math.min(e,i))}function _B(i){return zo(i,-32768,32767)}function il(i,n,e,t=1e-6){return i>=Math.min(n,e)-t&&i<=Math.max(n,e)+t}function yv(i,n,e){e=e||(s=>i[s]<n);let t=i.length-1,o=0,r;for(;t-o>1;)r=o+t>>1,e(r)?o=r:t=r;return{lo:o,hi:t}}var Za=(i,n,e,t)=>yv(i,e,t?o=>{let r=i[o][n];return r<e||r===e&&i[o+1][n]===e}:o=>i[o][n]<e),CB=(i,n,e)=>yv(i,e,t=>i[t][n]>=e);function IB(i,n,e){let t=0,o=i.length;for(;t<o&&i[t]<n;)t++;for(;o>t&&i[o-1]>e;)o--;return t>0||o<i.length?i.slice(t,o):i}var vB=["push","pop","shift","splice","unshift"];function bB(i,n){if(i._chartjs){i._chartjs.listeners.push(n);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),vB.forEach(e=>{let t="_onData"+vv(e),o=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let s=o.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[t]=="function"&&a[t](...r)}),s}})})}function RE(i,n){let e=i._chartjs;if(!e)return;let t=e.listeners,o=t.indexOf(n);o!==-1&&t.splice(o,1),!(t.length>0)&&(vB.forEach(r=>{delete i[r]}),delete i._chartjs)}function DE(i){let n=new Set(i);return n.size===i.length?i:Array.from(n)}var PE=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function FE(i,n){let e=[],t=!1;return function(...o){e=o,t||(t=!0,PE.call(window,()=>{t=!1,i.apply(n,e)}))}}function yB(i,n){let e;return function(...t){return n?(clearTimeout(e),e=setTimeout(i,n,t)):i.apply(this,t),n}}var wv=i=>i==="start"?"left":i==="end"?"right":"center",hr=(i,n,e)=>i==="start"?n:i==="end"?e:(n+e)/2,wB=(i,n,e,t)=>i===(t?"left":"right")?e:i==="center"?(n+e)/2:n;function LE(i,n,e){let t=n.length,o=0,r=t;if(i._sorted){let{iScale:s,_parsed:a}=i,l=s.axis,{min:c,max:u,minDefined:g,maxDefined:_}=s.getUserBounds();g&&(o=zo(Math.min(Za(a,l,c).lo,e?t:Za(n,l,s.getPixelForValue(c)).lo),0,t-1)),_?r=zo(Math.max(Za(a,s.axis,u,!0).hi+1,e?0:Za(n,l,s.getPixelForValue(u),!0).hi+1),o,t)-o:r=t-o}return{start:o,count:r}}function ME(i){let{xScale:n,yScale:e,_scaleRanges:t}=i,o={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!t)return i._scaleRanges=o,!0;let r=t.xmin!==n.min||t.xmax!==n.max||t.ymin!==e.min||t.ymax!==e.max;return Object.assign(t,o),r}var hv=i=>i===0||i===1,nB=(i,n,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-n)*kn/e)),oB=(i,n,e)=>Math.pow(2,-10*i)*Math.sin((i-n)*kn/e)+1,gh={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*po)+1,easeOutSine:i=>Math.sin(i*po),easeInOutSine:i=>-.5*(Math.cos(Mn*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>hv(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>hv(i)?i:nB(i,.075,.3),easeOutElastic:i=>hv(i)?i:oB(i,.075,.3),easeInOutElastic(i){return hv(i)?i:i<.5?.5*nB(i*2,.1125,.45):.5+.5*oB(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let n=1.70158;return(i/=.5)<1?.5*(i*i*(((n*=1.525)+1)*i-n)):.5*((i-=2)*i*(((n*=1.525)+1)*i+n)+2)},easeInBounce:i=>1-gh.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?gh.easeInBounce(i*2)*.5:gh.easeOutBounce(i*2-1)*.5+.5};function kE(i){if(i&&typeof i=="object"){let n=i.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function NE(i){return kE(i)?i:new zm(i)}function bE(i){return kE(i)?i:new zm(i).saturate(.5).darken(.1).hexString()}var Obe=["x","y","borderWidth","radius","tension"],Rbe=["color","borderColor","backgroundColor"];function Dbe(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),i.set("animations",{colors:{type:"color",properties:Rbe},numbers:{type:"number",properties:Obe}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function Pbe(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var rB=new Map;function Fbe(i,n){n=n||{};let e=i+JSON.stringify(n),t=rB.get(e);return t||(t=new Intl.NumberFormat(i,n),rB.set(e,t)),t}function wh(i,n,e){return Fbe(n,e).format(i)}var SB={values(i){return Ln(i)?i:""+i},numeric(i,n,e){if(i===0)return"0";let t=this.chart.options.locale,o,r=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),r=Lbe(i,e)}let s=Jl(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),wh(i,t,l)},logarithmic(i,n,e){if(i===0)return"0";let t=e[n].significand||i/Math.pow(10,Math.floor(Jl(i)));return[1,2,3,5,10,15].includes(t)||n>.8*e.length?SB.numeric.call(this,i,n,e):""}};function Lbe(i,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Ym={formatters:SB};function Mbe(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ym.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var nd=Object.create(null),Sv=Object.create(null);function $m(i,n){if(!n)return i;let e=n.split(".");for(let t=0,o=e.length;t<o;++t){let r=e[t];i=i[r]||(i[r]=Object.create(null))}return i}function yE(i,n,e){return typeof n=="string"?_h($m(i,n),e):_h($m(i,""),n)}var wE=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,o)=>bE(o.backgroundColor),this.hoverBorderColor=(t,o)=>bE(o.borderColor),this.hoverColor=(t,o)=>bE(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return yE(this,n,e)}get(n){return $m(this,n)}describe(n,e){return yE(Sv,n,e)}override(n,e){return yE(nd,n,e)}route(n,e,t,o){let r=$m(this,n),s=$m(this,t),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[o];return ji(l)?Object.assign({},c,l):fi(l,c)},set(l){this[a]=l}}})}apply(n){n.forEach(e=>e(this))}},Un=new wE({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Dbe,Pbe,Mbe]);function kbe(i){return!i||zi(i.size)||zi(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Km(i,n,e,t,o){let r=n[o];return r||(r=n[o]=i.measureText(o).width,e.push(o)),r>t&&(t=r),t}function AB(i,n,e,t){t=t||{};let o=t.data=t.data||{},r=t.garbageCollect=t.garbageCollect||[];t.font!==n&&(o=t.data={},r=t.garbageCollect=[],t.font=n),i.save(),i.font=n;let s=0,a=e.length,l,c,u,g,_;for(l=0;l<a;l++)if(g=e[l],g!=null&&!Ln(g))s=Km(i,o,r,s,g);else if(Ln(g))for(c=0,u=g.length;c<u;c++)_=g[c],_!=null&&!Ln(_)&&(s=Km(i,o,r,s,_));i.restore();let C=r.length/2;if(C>e.length){for(l=0;l<C;l++)delete o[r[l]];r.splice(0,C)}return s}function od(i,n,e){let t=i.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((n-o)*t)/t+o}function VE(i,n){!n&&!i||(n=n||i.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,i.width,i.height),n.restore())}function Av(i,n,e,t){BE(i,n,e,t,null)}function BE(i,n,e,t,o){let r,s,a,l,c,u,g,_,C=n.pointStyle,w=n.rotation,S=n.radius,A=(w||0)*Ebe;if(C&&typeof C=="object"&&(r=C.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,t),i.rotate(A),i.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),C){default:o?i.ellipse(e,t,o/2,S,0,0,kn):i.arc(e,t,S,0,kn),i.closePath();break;case"triangle":u=o?o/2:S,i.moveTo(e+Math.sin(A)*u,t-Math.cos(A)*S),A+=iB,i.lineTo(e+Math.sin(A)*u,t-Math.cos(A)*S),A+=iB,i.lineTo(e+Math.sin(A)*u,t-Math.cos(A)*S),i.closePath();break;case"rectRounded":c=S*.516,l=S-c,s=Math.cos(A+cu)*l,g=Math.cos(A+cu)*(o?o/2-c:l),a=Math.sin(A+cu)*l,_=Math.sin(A+cu)*(o?o/2-c:l),i.arc(e-g,t-a,c,A-Mn,A-po),i.arc(e+_,t-s,c,A-po,A),i.arc(e+g,t+a,c,A,A+po),i.arc(e-_,t+s,c,A+po,A+Mn),i.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*S,u=o?o/2:l,i.rect(e-u,t-l,2*u,2*l);break}A+=cu;case"rectRot":g=Math.cos(A)*(o?o/2:S),s=Math.cos(A)*S,a=Math.sin(A)*S,_=Math.sin(A)*(o?o/2:S),i.moveTo(e-g,t-a),i.lineTo(e+_,t-s),i.lineTo(e+g,t+a),i.lineTo(e-_,t+s),i.closePath();break;case"crossRot":A+=cu;case"cross":g=Math.cos(A)*(o?o/2:S),s=Math.cos(A)*S,a=Math.sin(A)*S,_=Math.sin(A)*(o?o/2:S),i.moveTo(e-g,t-a),i.lineTo(e+g,t+a),i.moveTo(e+_,t-s),i.lineTo(e-_,t+s);break;case"star":g=Math.cos(A)*(o?o/2:S),s=Math.cos(A)*S,a=Math.sin(A)*S,_=Math.sin(A)*(o?o/2:S),i.moveTo(e-g,t-a),i.lineTo(e+g,t+a),i.moveTo(e+_,t-s),i.lineTo(e-_,t+s),A+=cu,g=Math.cos(A)*(o?o/2:S),s=Math.cos(A)*S,a=Math.sin(A)*S,_=Math.sin(A)*(o?o/2:S),i.moveTo(e-g,t-a),i.lineTo(e+g,t+a),i.moveTo(e+_,t-s),i.lineTo(e-_,t+s);break;case"line":s=o?o/2:Math.cos(A)*S,a=Math.sin(A)*S,i.moveTo(e-s,t-a),i.lineTo(e+s,t+a);break;case"dash":i.moveTo(e,t),i.lineTo(e+Math.cos(A)*(o?o/2:S),t+Math.sin(A)*S);break;case!1:i.closePath();break}i.fill(),n.borderWidth>0&&i.stroke()}}function el(i,n,e){return e=e||.5,!n||i&&i.x>n.left-e&&i.x<n.right+e&&i.y>n.top-e&&i.y<n.bottom+e}function Jm(i,n){i.save(),i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()}function Xm(i){i.restore()}function xB(i,n,e,t,o){if(!n)return i.lineTo(e.x,e.y);if(o==="middle"){let r=(n.x+e.x)/2;i.lineTo(r,n.y),i.lineTo(r,e.y)}else o==="after"!=!!t?i.lineTo(n.x,e.y):i.lineTo(e.x,n.y);i.lineTo(e.x,e.y)}function EB(i,n,e,t){if(!n)return i.lineTo(e.x,e.y);i.bezierCurveTo(t?n.cp1x:n.cp2x,t?n.cp1y:n.cp2y,t?e.cp2x:e.cp1x,t?e.cp2y:e.cp1y,e.x,e.y)}function Nbe(i,n){n.translation&&i.translate(n.translation[0],n.translation[1]),zi(n.rotation)||i.rotate(n.rotation),n.color&&(i.fillStyle=n.color),n.textAlign&&(i.textAlign=n.textAlign),n.textBaseline&&(i.textBaseline=n.textBaseline)}function Vbe(i,n,e,t,o){if(o.strikethrough||o.underline){let r=i.measureText(t),s=n-r.actualBoundingBoxLeft,a=n+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,u=o.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(s,u),i.lineTo(a,u),i.stroke()}}function Bbe(i,n){let e=i.fillStyle;i.fillStyle=n.color,i.fillRect(n.left,n.top,n.width,n.height),i.fillStyle=e}function rd(i,n,e,t,o,r={}){let s=Ln(n)?n:[n],a=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(i.save(),i.font=o.string,Nbe(i,r),l=0;l<s.length;++l)c=s[l],r.backdrop&&Bbe(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),zi(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(c,e,t,r.maxWidth)),i.fillText(c,e,t,r.maxWidth),Vbe(i,e,t,c,r),t+=Number(o.lineHeight);i.restore()}function Sh(i,n){let{x:e,y:t,w:o,h:r,radius:s}=n;i.arc(e+s.topLeft,t+s.topLeft,s.topLeft,1.5*Mn,Mn,!0),i.lineTo(e,t+r-s.bottomLeft),i.arc(e+s.bottomLeft,t+r-s.bottomLeft,s.bottomLeft,Mn,po,!0),i.lineTo(e+o-s.bottomRight,t+r),i.arc(e+o-s.bottomRight,t+r-s.bottomRight,s.bottomRight,po,0,!0),i.lineTo(e+o,t+s.topRight),i.arc(e+o-s.topRight,t+s.topRight,s.topRight,0,-po,!0),i.lineTo(e+s.topLeft,t)}var Ube=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jbe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hbe(i,n){let e=(""+i).match(Ube);if(!e||e[1]==="normal")return n*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return n*i}var Gbe=i=>+i||0;function xv(i,n){let e={},t=ji(n),o=t?Object.keys(n):n,r=ji(i)?t?s=>fi(i[s],i[n[s]]):s=>i[s]:()=>i;for(let s of o)e[s]=Gbe(r(s));return e}function UE(i){return xv(i,{top:"y",right:"x",bottom:"y",left:"x"})}function sd(i){return xv(i,["topLeft","topRight","bottomLeft","bottomRight"])}function fr(i){let n=UE(i);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Fo(i,n){i=i||{},n=n||Un.font;let e=fi(i.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let t=fi(i.style,n.style);t&&!(""+t).match(jbe)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);let o={family:fi(i.family,n.family),lineHeight:Hbe(fi(i.lineHeight,n.lineHeight),e),size:e,style:t,weight:fi(i.weight,n.weight),string:""};return o.string=kbe(o),o}function Ah(i,n,e,t){let o=!0,r,s,a;for(r=0,s=i.length;r<s;++r)if(a=i[r],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),o=!1),e!==void 0&&Ln(a)&&(a=a[e%a.length],o=!1),a!==void 0))return t&&!o&&(t.cacheable=!1),a}function TB(i,n,e){let{min:t,max:o}=i,r=SE(n,(o-t)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(t,-Math.abs(r)),max:s(o,r)}}function Ql(i,n){return Object.assign(Object.create(i),n)}function Ev(i,n=[""],e,t,o=()=>i[0]){let r=e||i;typeof t>"u"&&(t=DB("_fallback",i));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:t,_getTarget:o,override:a=>Ev([a,...i],n,r,t)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return OB(a,l,()=>Xbe(l,n,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return aB(a).includes(l)},ownKeys(a){return aB(a)},set(a,l,c){let u=a._storage||(a._storage=o());return a[l]=u[l]=c,delete a._keys,!0}})}function uu(i,n,e,t){let o={_cacheable:!1,_proxy:i,_context:n,_subProxy:e,_stack:new Set,_descriptors:jE(i,t),setContext:r=>uu(i,r,e,t),override:r=>uu(i.override(r),n,e,t)};return new Proxy(o,{deleteProperty(r,s){return delete r[s],delete i[s],!0},get(r,s,a){return OB(r,s,()=>Wbe(r,s,a))},getOwnPropertyDescriptor(r,s){return r._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(r,s,a){return i[s]=a,delete r[s],!0}})}function jE(i,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:t=n.indexable,_allKeys:o=n.allKeys}=i;return{allKeys:o,scriptable:e,indexable:t,isScriptable:Yl(e)?e:()=>e,isIndexable:Yl(t)?t:()=>t}}var zbe=(i,n)=>i?i+vv(n):n,HE=(i,n)=>ji(n)&&i!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function OB(i,n,e){if(Object.prototype.hasOwnProperty.call(i,n)||n==="constructor")return i[n];let t=e();return i[n]=t,t}function Wbe(i,n,e){let{_proxy:t,_context:o,_subProxy:r,_descriptors:s}=i,a=t[n];return Yl(a)&&s.isScriptable(n)&&(a=$be(n,a,i,e)),Ln(a)&&a.length&&(a=Kbe(n,a,i,s.isIndexable)),HE(n,a)&&(a=uu(a,o,r&&r[n],s)),a}function $be(i,n,e,t){let{_proxy:o,_context:r,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=n(r,s||t);return a.delete(i),HE(i,l)&&(l=GE(o._scopes,o,i,l)),l}function Kbe(i,n,e,t){let{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=e;if(typeof r.index<"u"&&t(i))return n[r.index%n.length];if(ji(n[0])){let l=n,c=o._scopes.filter(u=>u!==l);n=[];for(let u of l){let g=GE(c,o,i,u);n.push(uu(g,r,s&&s[i],a))}}return n}function RB(i,n,e){return Yl(i)?i(n,e):i}var qbe=(i,n)=>i===!0?n:typeof i=="string"?Xl(n,i):void 0;function Ybe(i,n,e,t,o){for(let r of n){let s=qbe(e,r);if(s){i.add(s);let a=RB(s._fallback,e,o);if(typeof a<"u"&&a!==e&&a!==t)return a}else if(s===!1&&typeof t<"u"&&e!==t)return null}return!1}function GE(i,n,e,t){let o=n._rootScopes,r=RB(n._fallback,e,t),s=[...i,...o],a=new Set;a.add(t);let l=sB(a,s,e,r||e,t);return l===null||typeof r<"u"&&r!==e&&(l=sB(a,s,r,l,t),l===null)?!1:Ev(Array.from(a),[""],o,r,()=>Jbe(n,e,t))}function sB(i,n,e,t,o){for(;e;)e=Ybe(i,n,e,t,o);return e}function Jbe(i,n,e){let t=i._getTarget();n in t||(t[n]={});let o=t[n];return Ln(o)&&ji(e)?e:o||{}}function Xbe(i,n,e,t){let o;for(let r of n)if(o=DB(zbe(r,i),e),typeof o<"u")return HE(i,o)?GE(e,t,i,o):o}function DB(i,n){for(let e of n){if(!e)continue;let t=e[i];if(typeof t<"u")return t}}function aB(i){let n=i._keys;return n||(n=i._keys=Qbe(i._scopes)),n}function Qbe(i){let n=new Set;for(let e of i)for(let t of Object.keys(e).filter(o=>!o.startsWith("_")))n.add(t);return Array.from(n)}function zE(i,n,e,t){let{iScale:o}=i,{key:r="r"}=this._parsing,s=new Array(t),a,l,c,u;for(a=0,l=t;a<l;++a)c=a+e,u=n[c],s[a]={r:o.parse(Xl(u,r),c)};return s}var Zbe=Number.EPSILON||1e-14,Ch=(i,n)=>n<i.length&&!i[n].skip&&i[n],PB=i=>i==="x"?"y":"x";function eye(i,n,e,t){let o=i.skip?n:i,r=n,s=e.skip?n:e,a=Cv(r,o),l=Cv(s,r),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let g=t*c,_=t*u;return{previous:{x:r.x-g*(s.x-o.x),y:r.y-g*(s.y-o.y)},next:{x:r.x+_*(s.x-o.x),y:r.y+_*(s.y-o.y)}}}function tye(i,n,e){let t=i.length,o,r,s,a,l,c=Ch(i,0);for(let u=0;u<t-1;++u)if(l=c,c=Ch(i,u+1),!(!l||!c)){if(bh(n[u],0,Zbe)){e[u]=e[u+1]=0;continue}o=e[u]/n[u],r=e[u+1]/n[u],a=Math.pow(o,2)+Math.pow(r,2),!(a<=9)&&(s=3/Math.sqrt(a),e[u]=o*s*n[u],e[u+1]=r*s*n[u])}}function iye(i,n,e="x"){let t=PB(e),o=i.length,r,s,a,l=Ch(i,0);for(let c=0;c<o;++c){if(s=a,a=l,l=Ch(i,c+1),!a)continue;let u=a[e],g=a[t];s&&(r=(u-s[e])/3,a[`cp1${e}`]=u-r,a[`cp1${t}`]=g-r*n[c]),l&&(r=(l[e]-u)/3,a[`cp2${e}`]=u+r,a[`cp2${t}`]=g+r*n[c])}}function nye(i,n="x"){let e=PB(n),t=i.length,o=Array(t).fill(0),r=Array(t),s,a,l,c=Ch(i,0);for(s=0;s<t;++s)if(a=l,l=c,c=Ch(i,s+1),!!l){if(c){let u=c[n]-l[n];o[s]=u!==0?(c[e]-l[e])/u:0}r[s]=a?c?ya(o[s-1])!==ya(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}tye(i,o,r),iye(i,r,n)}function fv(i,n,e){return Math.max(Math.min(i,e),n)}function oye(i,n){let e,t,o,r,s,a=el(i[0],n);for(e=0,t=i.length;e<t;++e)s=r,r=a,a=e<t-1&&el(i[e+1],n),r&&(o=i[e],s&&(o.cp1x=fv(o.cp1x,n.left,n.right),o.cp1y=fv(o.cp1y,n.top,n.bottom)),a&&(o.cp2x=fv(o.cp2x,n.left,n.right),o.cp2y=fv(o.cp2y,n.top,n.bottom)))}function FB(i,n,e,t,o){let r,s,a,l;if(n.spanGaps&&(i=i.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")nye(i,o);else{let c=t?i[i.length-1]:i[0];for(r=0,s=i.length;r<s;++r)a=i[r],l=eye(c,a,i[Math.min(r+1,s-(t?0:1))%s],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}n.capBezierPoints&&oye(i,e)}function Tv(){return typeof window<"u"&&typeof document<"u"}function Ov(i){let n=i.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function Iv(i,n,e){let t;return typeof i=="string"?(t=parseInt(i,10),i.indexOf("%")!==-1&&(t=t/100*n.parentNode[e])):t=i,t}var Rv=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function rye(i,n){return Rv(i).getPropertyValue(n)}var sye=["top","right","bottom","left"];function du(i,n,e){let t={};e=e?"-"+e:"";for(let o=0;o<4;o++){let r=sye[o];t[r]=parseFloat(i[n+"-"+r+e])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}var aye=(i,n,e)=>(i>0||n>0)&&(!e||!e.shadowRoot);function lye(i,n){let e=i.touches,t=e&&e.length?e[0]:i,{offsetX:o,offsetY:r}=t,s=!1,a,l;if(aye(o,r,i.target))a=o,l=r;else{let c=n.getBoundingClientRect();a=t.clientX-c.left,l=t.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function ad(i,n){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:t}=n,o=Rv(e),r=o.boxSizing==="border-box",s=du(o,"padding"),a=du(o,"border","width"),{x:l,y:c,box:u}=lye(i,e),g=s.left+(u&&a.left),_=s.top+(u&&a.top),{width:C,height:w}=n;return r&&(C-=s.width+a.width,w-=s.height+a.height),{x:Math.round((l-g)/C*e.width/t),y:Math.round((c-_)/w*e.height/t)}}function cye(i,n,e){let t,o;if(n===void 0||e===void 0){let r=i&&Ov(i);if(!r)n=i.clientWidth,e=i.clientHeight;else{let s=r.getBoundingClientRect(),a=Rv(r),l=du(a,"border","width"),c=du(a,"padding");n=s.width-c.width-l.width,e=s.height-c.height-l.height,t=Iv(a.maxWidth,r,"clientWidth"),o=Iv(a.maxHeight,r,"clientHeight")}}return{width:n,height:e,maxWidth:t||_v,maxHeight:o||_v}}var mv=i=>Math.round(i*10)/10;function LB(i,n,e,t){let o=Rv(i),r=du(o,"margin"),s=Iv(o.maxWidth,i,"clientWidth")||_v,a=Iv(o.maxHeight,i,"clientHeight")||_v,l=cye(i,n,e),{width:c,height:u}=l;if(o.boxSizing==="content-box"){let _=du(o,"border","width"),C=du(o,"padding");c-=C.width+_.width,u-=C.height+_.height}return c=Math.max(0,c-r.width),u=Math.max(0,t?c/t:u-r.height),c=mv(Math.min(c,s,l.maxWidth)),u=mv(Math.min(u,a,l.maxHeight)),c&&!u&&(u=mv(c/2)),(n!==void 0||e!==void 0)&&t&&l.height&&u>l.height&&(u=l.height,c=mv(Math.floor(u*t))),{width:c,height:u}}function WE(i,n,e){let t=n||1,o=Math.floor(i.height*t),r=Math.floor(i.width*t);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==t||s.height!==o||s.width!==r?(i.currentDevicePixelRatio=t,s.height=o,s.width=r,i.ctx.setTransform(t,0,0,t,0,0),!0):!1}var MB=function(){let i=!1;try{let n={get passive(){return i=!0,!1}};Tv()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return i}();function $E(i,n){let e=rye(i,n),t=e&&e.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function id(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:i.y+e*(n.y-i.y)}}function kB(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:t==="middle"?e<.5?i.y:n.y:t==="after"?e<1?i.y:n.y:e>0?n.y:i.y}}function NB(i,n,e,t){let o={x:i.cp2x,y:i.cp2y},r={x:n.cp1x,y:n.cp1y},s=id(i,o,e),a=id(o,r,e),l=id(r,n,e),c=id(s,a,e),u=id(a,l,e);return id(c,u,e)}var dye=function(i,n){return{x(e){return i+i+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}},uye=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,n){return i+n},leftForLtr(i,n){return i}}};function hu(i,n,e){return i?dye(n,e):uye()}function KE(i,n){let e,t;(n==="ltr"||n==="rtl")&&(e=i.canvas.style,t=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),i.prevTextDirection=t)}function qE(i,n){n!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",n[0],n[1]))}function VB(i){return i==="angle"?{between:yh,compare:Tbe,normalize:es}:{between:il,compare:(n,e)=>n-e,normalize:n=>n}}function lB({start:i,end:n,count:e,loop:t,style:o}){return{start:i%e,end:n%e,loop:t&&(n-i+1)%e===0,style:o}}function pye(i,n,e){let{property:t,start:o,end:r}=e,{between:s,normalize:a}=VB(t),l=n.length,{start:c,end:u,loop:g}=i,_,C;if(g){for(c+=l,u+=l,_=0,C=l;_<C&&s(a(n[c%l][t]),o,r);++_)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:g,style:i.style}}function YE(i,n,e){if(!e)return[i];let{property:t,start:o,end:r}=e,s=n.length,{compare:a,between:l,normalize:c}=VB(t),{start:u,end:g,loop:_,style:C}=pye(i,n,e),w=[],S=!1,A=null,x,D,V,X=()=>l(o,V,x)&&a(o,V)!==0,ee=()=>a(r,x)===0||l(r,V,x),ae=()=>S||X(),me=()=>!S||ee();for(let Ce=u,be=u;Ce<=g;++Ce)D=n[Ce%s],!D.skip&&(x=c(D[t]),x!==V&&(S=l(x,o,r),A===null&&ae()&&(A=a(x,o)===0?Ce:be),A!==null&&me()&&(w.push(lB({start:A,end:Ce,loop:_,count:s,style:C})),A=null),be=Ce,V=x));return A!==null&&w.push(lB({start:A,end:g,loop:_,count:s,style:C})),w}function JE(i,n){let e=[],t=i.segments;for(let o=0;o<t.length;o++){let r=YE(t[o],i.points,n);r.length&&e.push(...r)}return e}function hye(i,n,e,t){let o=0,r=n-1;if(e&&!t)for(;o<n&&!i[o].skip;)o++;for(;o<n&&i[o].skip;)o++;for(o%=n,e&&(r+=o);r>o&&i[r%n].skip;)r--;return r%=n,{start:o,end:r}}function fye(i,n,e,t){let o=i.length,r=[],s=n,a=i[n],l;for(l=n+1;l<=e;++l){let c=i[l%o];c.skip||c.stop?a.skip||(t=!1,r.push({start:n%o,end:(l-1)%o,loop:t}),n=s=c.stop?l:null):(s=l,a.skip&&(n=l)),a=c}return s!==null&&r.push({start:n%o,end:s%o,loop:t}),r}function BB(i,n){let e=i.points,t=i.options.spanGaps,o=e.length;if(!o)return[];let r=!!i._loop,{start:s,end:a}=hye(e,o,r,t);if(t===!0)return cB(i,[{start:s,end:a,loop:r}],e,n);let l=a<s?a+o:a,c=!!i._fullLoop&&s===0&&a===o-1;return cB(i,fye(e,s,l,c),e,n)}function cB(i,n,e,t){return!t||!t.setContext||!e?n:mye(i,n,e,t)}function mye(i,n,e,t){let o=i._chart.getContext(),r=dB(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,l=e.length,c=[],u=r,g=n[0].start,_=g;function C(w,S,A,x){let D=a?-1:1;if(w!==S){for(w+=l;e[w%l].skip;)w-=D;for(;e[S%l].skip;)S+=D;w%l!==S%l&&(c.push({start:w%l,end:S%l,loop:A,style:x}),u=x,g=S%l)}}for(let w of n){g=a?g:w.start;let S=e[g%l],A;for(_=g+1;_<=w.end;_++){let x=e[_%l];A=dB(t.setContext(Ql(o,{type:"segment",p0:S,p1:x,p0DataIndex:(_-1)%l,p1DataIndex:_%l,datasetIndex:s}))),gye(A,u)&&C(g,_-1,w.loop,u),S=x,u=A}g<_-1&&C(g,_-1,w.loop,u)}return c}function dB(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function gye(i,n){if(!n)return!1;let e=[],t=function(o,r){return kE(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,t)!==JSON.stringify(n,t)}var aT=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,t,o){let r=e.listeners[o],s=e.duration;r.forEach(a=>a({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(t-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=PE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((t,o)=>{if(!t.running||!t.items.length)return;let r=t.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>t.duration&&(t.duration=l._total),l.tick(n),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,t,n,"progress")),r.length||(t.running=!1,this._notify(o,t,n,"complete"),t.initial=!1),e+=r.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,t=e.get(n);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,t)),t}listen(n,e,t){this._getAnims(n).listeners[e].push(t)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,o)=>Math.max(t,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let t=e.items,o=t.length-1;for(;o>=0;--o)t[o].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},Zl=new aT,UB="transparent",_ye={boolean(i,n,e){return e>.5?n:i},color(i,n,e){let t=NE(i||UB),o=t.valid&&NE(n||UB);return o&&o.valid?o.mix(t,e).hexString():n},number(i,n,e){return i+(n-i)*e}},lT=class{constructor(n,e,t,o){let r=e[t];o=Ah([n.to,o,r,n.from]);let s=Ah([n.from,r,o]);this._active=!0,this._fn=n.fn||_ye[n.type||typeof s],this._easing=gh[n.easing]||gh.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=t,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(n,e,t){if(this._active){this._notify(!1);let o=this._target[this._prop],r=t-this._start,s=this._duration-r;this._start=t,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=r,this._loop=!!n.loop,this._to=Ah([n.to,e,o,n.from]),this._from=Ah([n.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,t=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||e<t),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=r;return}l=e/t%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,t)=>{n.push({res:e,rej:t})})}_notify(n){let e=n?"res":"rej",t=this._promises||[];for(let o=0;o<t.length;o++)t[o][e]()}},Uv=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!ji(n))return;let e=Object.keys(Un.animation),t=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{let r=n[o];if(!ji(r))return;let s={};for(let a of e)s[a]=r[a];(Ln(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!t.has(a))&&t.set(a,s)})})}_animateOptions(n,e){let t=e.options,o=Iye(n,t);if(!o)return[];let r=this._createAnimations(o,t);return t.$shared&&Cye(n.options.$animations,t).then(()=>{n.options=t},()=>{}),r}_createAnimations(n,e){let t=this._properties,o=[],r=n.$animations||(n.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(n,e));continue}let u=e[c],g=r[c],_=t.get(c);if(g)if(_&&g.active()){g.update(_,u,a);continue}else g.cancel();if(!_||!_.duration){n[c]=u;continue}r[c]=g=new lT(_,n,c,u),o.push(g)}return o}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let t=this._createAnimations(n,e);if(t.length)return Zl.add(this._chart,t),!0}};function Cye(i,n){let e=[],t=Object.keys(n);for(let o=0;o<t.length;o++){let r=i[t[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function Iye(i,n){if(!n)return;let e=i.options;if(!e){i.options=n;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function jB(i,n){let e=i&&i.options||{},t=e.reverse,o=e.min===void 0?n:0,r=e.max===void 0?n:0;return{start:t?r:o,end:t?o:r}}function vye(i,n,e){if(e===!1)return!1;let t=jB(i,e),o=jB(n,e);return{top:o.end,right:t.end,bottom:o.start,left:t.start}}function bye(i){let n,e,t,o;return ji(i)?(n=i.top,e=i.right,t=i.bottom,o=i.left):n=e=t=o=i,{top:n,right:e,bottom:t,left:o,disabled:i===!1}}function U5(i,n){let e=[],t=i._getSortedDatasetMetas(n),o,r;for(o=0,r=t.length;o<r;++o)e.push(t[o].index);return e}function HB(i,n,e,t={}){let o=i.keys,r=t.mode==="single",s,a,l,c;if(n===null)return;let u=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===e){if(u=!0,t.all)continue;break}c=i.values[l],oo(c)&&(r||n===0||ya(n)===ya(c))&&(n+=c)}return!u&&!t.all?0:n}function yye(i,n){let{iScale:e,vScale:t}=n,o=e.axis==="x"?"x":"y",r=t.axis==="x"?"x":"y",s=Object.keys(i),a=new Array(s.length),l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[o]:u,[r]:i[u]};return a}function XE(i,n){let e=i&&i.options.stacked;return e||e===void 0&&n.stack!==void 0}function wye(i,n,e){return`${i.id}.${n.id}.${e.stack||e.type}`}function Sye(i){let{min:n,max:e,minDefined:t,maxDefined:o}=i.getUserBounds();return{min:t?n:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function Aye(i,n,e){let t=i[n]||(i[n]={});return t[e]||(t[e]={})}function GB(i,n,e,t){for(let o of n.getMatchingVisibleMetas(t).reverse()){let r=i[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function zB(i,n){let{chart:e,_cachedMeta:t}=i,o=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=t,l=r.axis,c=s.axis,u=wye(r,s,t),g=n.length,_;for(let C=0;C<g;++C){let w=n[C],{[l]:S,[c]:A}=w,x=w._stacks||(w._stacks={});_=x[c]=Aye(o,u,S),_[a]=A,_._top=GB(_,s,!0,t.type),_._bottom=GB(_,s,!1,t.type);let D=_._visualValues||(_._visualValues={});D[a]=A}}function QE(i,n){let e=i.scales;return Object.keys(e).filter(t=>e[t].axis===n).shift()}function xye(i,n){return Ql(i,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function Eye(i,n,e){return Ql(i,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function Qm(i,n){let e=i.controller.index,t=i.vScale&&i.vScale.axis;if(t){n=n||i._parsed;for(let o of n){let r=o._stacks;if(!r||r[t]===void 0||r[t][e]===void 0)return;delete r[t][e],r[t]._visualValues!==void 0&&r[t]._visualValues[e]!==void 0&&delete r[t]._visualValues[e]}}}var ZE=i=>i==="reset"||i==="none",WB=(i,n)=>n?i:Object.assign({},i),Tye=(i,n,e)=>i&&!n.hidden&&n._stacked&&{keys:U5(e,!0),values:null},cd=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=XE(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Qm(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,o=this.getDataset(),r=(_,C,w,S)=>_==="x"?C:_==="r"?S:w,s=t.xAxisID=fi(o.xAxisID,QE(e,"x")),a=t.yAxisID=fi(o.yAxisID,QE(e,"y")),l=t.rAxisID=fi(o.rAxisID,QE(e,"r")),c=t.indexAxis,u=t.iAxisID=r(c,s,a,l),g=t.vAxisID=r(c,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&RE(this._data,this),e._stacked&&Qm(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(ji(t)){let r=this._cachedMeta;this._data=yye(t,r)}else if(o!==t){if(o){RE(o,this);let r=this._cachedMeta;Qm(r),r._parsed=[]}t&&Object.isExtensible(t)&&bB(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=t._stacked;t._stacked=XE(t.vScale,t),t.stack!==o.stack&&(r=!0,Qm(t),t.stack=o.stack),this._resyncElements(e),(r||s!==t._stacked)&&(zB(this,t._parsed),t._stacked=XE(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,c=e===0&&t===r.length?!0:o._sorted,u=e>0&&o._parsed[e-1],g,_,C;if(this._parsing===!1)o._parsed=r,o._sorted=!0,C=r;else{Ln(r[e])?C=this.parseArrayData(o,r,e,t):ji(r[e])?C=this.parseObjectData(o,r,e,t):C=this.parsePrimitiveData(o,r,e,t);let w=()=>_[l]===null||u&&_[l]<u[l];for(g=0;g<t;++g)o._parsed[g+e]=_=C[g],c&&(w()&&(c=!1),u=_);o._sorted=c}a&&zB(this,C)}parsePrimitiveData(e,t,o,r){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,u=s.getLabels(),g=s===a,_=new Array(r),C,w,S;for(C=0,w=r;C<w;++C)S=C+o,_[C]={[l]:g||s.parse(u[S],S),[c]:a.parse(t[S],S)};return _}parseArrayData(e,t,o,r){let{xScale:s,yScale:a}=e,l=new Array(r),c,u,g,_;for(c=0,u=r;c<u;++c)g=c+o,_=t[g],l[c]={x:s.parse(_[0],g),y:a.parse(_[1],g)};return l}parseObjectData(e,t,o,r){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(r),g,_,C,w;for(g=0,_=r;g<_;++g)C=g+o,w=t[C],u[g]={x:s.parse(Xl(w,l),C),y:a.parse(Xl(w,c),C)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){let r=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:U5(r,!0),values:t._stacks[e.axis]._visualValues};return HB(l,a,s.index,{mode:o})}updateRangeFromParsed(e,t,o,r){let s=o[t.axis],a=s===null?NaN:s,l=r&&o._stacks[t.axis];r&&l&&(r.values=l,a=HB(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&e===o.iScale,a=r.length,l=this._getOtherScale(e),c=Tye(t,o,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:_}=Sye(l),C,w;function S(){w=r[C];let A=w[l.axis];return!oo(w[e.axis])||g>A||_<A}for(C=0;C<a&&!(!S()&&(this.updateRangeFromParsed(u,e,w,c),s));++C);if(s){for(C=a-1;C>=0;--C)if(!S()){this.updateRangeFromParsed(u,e,w,c);break}}return u}getAllParsedValues(e){let t=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],oo(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,o=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=bye(fi(this.options.clip,vye(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,o=this._cachedMeta,r=o.data||[],s=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,u=this.options.drawActiveElementsOnTop,g;for(o.dataset&&o.dataset.draw(e,s,l,c),g=l;g<l+c;++g){let _=r[g];_.hidden||(_.active&&u?a.push(_):_.draw(e,s))}for(g=0;g<a.length;++g)a[g].draw(e,s)}getStyle(e,t){let o=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){let r=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=Eye(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=xye(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=o,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){let r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],c=this.enableOptionSharing&&vh(o);if(l)return WB(l,c);let u=this.chart.config,g=u.datasetElementScopeKeys(this._type,e),_=r?[`${e}Hover`,"hover",e,""]:[e,""],C=u.getOptionScopes(this.getDataset(),g),w=Object.keys(Un.elements[e]),S=()=>this.getContext(o,r,t),A=u.resolveNamedOptions(C,w,S,_);return A.$shared&&(A.$shared=c,s[a]=Object.freeze(WB(A,c))),A}_resolveAnimations(e,t,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){let g=this.chart.config,_=g.datasetAnimationScopeKeys(this._type,t),C=g.getOptionScopes(this.getDataset(),_);c=g.createResolver(C,this.getContext(e,o,t))}let u=new Uv(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ZE(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let o=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,o),{sharedOptions:s,includeOptions:a}}updateElement(e,t,o,r){ZE(r)?Object.assign(e,o):this._resolveAnimations(t,r).update(e,o)}updateSharedOptions(e,t,o){e&&!ZE(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,r){e.active=r;let s=this.getStyle(t,r);this._resolveAnimations(t,o,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,o=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let r=o.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,o=!0){let r=this._cachedMeta,s=r.data,a=e+t,l,c=u=>{for(u.length+=t,l=u.length-1;l>=a;l--)u[l]=u[l-t]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),o&&this.updateElements(s,e,t,"reset")}updateElements(e,t,o,r){}_removeElements(e,t){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(e,t);o._stacked&&Qm(o,r)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,o,r]=e;this[t](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Oye(i,n){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(n),t=[];for(let o=0,r=e.length;o<r;o++)t=t.concat(e[o].controller.getAllParsedValues(i));i._cache.$bar=DE(t.sort((o,r)=>o-r))}return i._cache.$bar}function Rye(i){let n=i.iScale,e=Oye(n,i.type),t=n._length,o,r,s,a,l=()=>{s===32767||s===-32768||(vh(a)&&(t=Math.min(t,Math.abs(s-a)||t)),a=s)};for(o=0,r=e.length;o<r;++o)s=n.getPixelForValue(e[o]),l();for(a=void 0,o=0,r=n.ticks.length;o<r;++o)s=n.getPixelForTick(o),l();return t}function Dye(i,n,e,t){let o=e.barThickness,r,s;return zi(o)?(r=n.min*e.categoryPercentage,s=e.barPercentage):(r=o*t,s=1),{chunk:r/t,ratio:s,start:n.pixels[i]-r/2}}function Pye(i,n,e,t){let o=n.pixels,r=o[i],s=i>0?o[i-1]:null,a=i<o.length-1?o[i+1]:null,l=e.categoryPercentage;s===null&&(s=r-(a===null?n.end-n.start:a-r)),a===null&&(a=r+r-s);let c=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/t,ratio:e.barPercentage,start:c}}function Fye(i,n,e,t){let o=e.parse(i[0],t),r=e.parse(i[1],t),s=Math.min(o,r),a=Math.max(o,r),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),n[e.axis]=c,n._custom={barStart:l,barEnd:c,start:o,end:r,min:s,max:a}}function j5(i,n,e,t){return Ln(i)?Fye(i,n,e,t):n[e.axis]=e.parse(i,t),n}function $B(i,n,e,t){let o=i.iScale,r=i.vScale,s=o.getLabels(),a=o===r,l=[],c,u,g,_;for(c=e,u=e+t;c<u;++c)_=n[c],g={},g[o.axis]=a||o.parse(s[c],c),l.push(j5(_,g,r,c));return l}function eT(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function Lye(i,n,e){return i!==0?ya(i):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function Mye(i){let n,e,t,o,r;return i.horizontal?(n=i.base>i.x,e="left",t="right"):(n=i.base<i.y,e="bottom",t="top"),n?(o="end",r="start"):(o="start",r="end"),{start:e,end:t,reverse:n,top:o,bottom:r}}function kye(i,n,e,t){let o=n.borderSkipped,r={};if(!o){i.borderSkipped=r;return}if(o===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=Mye(i);o==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===t?o=c:(e._bottom||0)===t?o=u:(r[KB(u,s,a,l)]=!0,o=c)),r[KB(o,s,a,l)]=!0,i.borderSkipped=r}function KB(i,n,e,t){return t?(i=Nye(i,n,e),i=qB(i,e,n)):i=qB(i,n,e),i}function Nye(i,n,e){return i===n?e:i===e?n:i}function qB(i,n,e){return i==="start"?n:i==="end"?e:i}function Vye(i,{inflateAmount:n},e){i.inflateAmount=n==="auto"?e===1?.33:0:n}var Bye=(()=>{class i extends cd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,o,r){return $B(e,t,o,r)}parseArrayData(e,t,o,r){return $B(e,t,o,r)}parseObjectData(e,t,o,r){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,g=a.axis==="x"?l:c,_=[],C,w,S,A;for(C=o,w=o+r;C<w;++C)A=t[C],S={},S[s.axis]=s.parse(Xl(A,u),C),_.push(j5(Xl(A,g),S,a,C));return _}updateRangeFromParsed(e,t,o,r){super.updateRangeFromParsed(e,t,o,r);let s=o._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:o,vScale:r}=t,s=this.getParsed(e),a=s._custom,l=eT(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+o.getLabelForValue(s[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,r){let s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),g=this._getRuler(),{sharedOptions:_,includeOptions:C}=this._getSharedOptions(t,r);for(let w=t;w<t+o;w++){let S=this.getParsed(w),A=s||zi(S[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(w),x=this._calculateBarIndexPixels(w,g),D=(S._stacks||{})[l.axis],V={horizontal:u,base:A.base,enableBorderRadius:!D||eT(S._custom)||a===D._top||a===D._bottom,x:u?A.head:x.center,y:u?x.center:A.head,height:u?x.size:Math.abs(A.size),width:u?Math.abs(A.size):x.size};C&&(V.options=_||this.resolveDataElementOptions(w,e[w].active?"active":r));let X=V.options||e[w].options;kye(V,X,D,a),Vye(V,X,g.ratio),this.updateElement(e[w],w,V,r)}}_getStacks(e,t){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),s=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[o.axis],u=g=>{let _=g._parsed.find(w=>w[o.axis]===c),C=_&&_[g.vScale.axis];if(zi(C)||isNaN(C))return!0};for(let g of r)if(!(t!==void 0&&u(g))&&((s===!1||a.indexOf(g.stack)===-1||s===void 0&&g.stack===void 0)&&a.push(g.stack),g.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,o){let r=this._getStacks(e,o),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){let e=this.options,t=this._cachedMeta,o=t.iScale,r=[],s,a;for(s=0,a=t.data.length;s<a;++s)r.push(o.getPixelForValue(this.getParsed(s)[o.axis],s));let l=e.barThickness;return{min:l||Rye(t),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:o,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),u=c._custom,g=eT(u),_=c[t.axis],C=0,w=o?this.applyStack(t,c,o):_,S,A;w!==_&&(C=w-_,w=_),g&&(_=u.barStart,w=u.barEnd-u.barStart,_!==0&&ya(_)!==ya(u.barEnd)&&(C=0),C+=_);let x=!zi(s)&&!g?s:C,D=t.getPixelForValue(x);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(C+w):S=D,A=S-D,Math.abs(A)<a){A=Lye(A,t,l)*a,_===l&&(D-=A/2);let V=t.getPixelForDecimal(0),X=t.getPixelForDecimal(1),ee=Math.min(V,X),ae=Math.max(V,X);D=Math.max(Math.min(D,ae),ee),S=D+A,o&&!g&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(D))}if(D===t.getPixelForValue(l)){let V=ya(A)*t.getLineWidthForValue(l)/2;D+=V,A-=V}return{size:A,base:D,head:S,center:S+A/2}}_calculateBarIndexPixels(e,t){let o=t.scale,r=this.options,s=r.skipNull,a=fi(r.maxBarThickness,1/0),l,c;if(t.grouped){let u=s?this._getStackCount(e):t.stackCount,g=r.barThickness==="flex"?Pye(e,t,r,u):Dye(e,t,r,u),_=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=g.start+g.chunk*_+g.chunk/2,c=Math.min(a,g.chunk*g.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,t=e.vScale,o=e.data,r=o.length,s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!o[s].hidden&&o[s].draw(this._ctx)}}return i})(),Uye=(()=>{class i extends cd{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,o,r){let s=super.parsePrimitiveData(e,t,o,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+o).radius;return s}parseArrayData(e,t,o,r){let s=super.parseArrayData(e,t,o,r);for(let a=0;a<s.length;a++){let l=t[o+a];s[a]._custom=fi(l[2],this.resolveDataElementOptions(a+o).radius)}return s}parseObjectData(e,t,o,r){let s=super.parseObjectData(e,t,o,r);for(let a=0;a<s.length;a++){let l=t[o+a];s[a]._custom=fi(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let o=e.length-1;o>=0;--o)t=Math.max(t,e[o].size(this.resolveDataElementOptions(o))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:o[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),g=a.axis,_=l.axis;for(let C=t;C<t+o;C++){let w=e[C],S=!s&&this.getParsed(C),A={},x=A[g]=s?a.getPixelForDecimal(.5):a.getPixelForValue(S[g]),D=A[_]=s?l.getBasePixel():l.getPixelForValue(S[_]);A.skip=isNaN(x)||isNaN(D),u&&(A.options=c||this.resolveDataElementOptions(C,w.active?"active":r),s&&(A.options.radius=0)),this.updateElement(w,C,A,r)}}resolveDataElementOptions(e,t){let o=this.getParsed(e),r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=fi(o&&o._custom,s),r}}return i})();function jye(i,n,e){let t=1,o=1,r=0,s=0;if(n<kn){let a=i,l=a+n,c=Math.cos(a),u=Math.sin(a),g=Math.cos(l),_=Math.sin(l),C=(V,X,ee)=>yh(V,a,l,!0)?1:Math.max(X,X*e,ee,ee*e),w=(V,X,ee)=>yh(V,a,l,!0)?-1:Math.min(X,X*e,ee,ee*e),S=C(0,c,g),A=C(po,u,_),x=w(Mn,c,g),D=w(Mn+po,u,_);t=(S-x)/2,o=(A-D)/2,r=-(S+x)/2,s=-(A+D)/2}return{ratioX:t,ratioY:o,offsetX:r,offsetY:s}}var TT=(()=>{class i extends cd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return t.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let s=c=>+o[c];if(ji(o[e])){let{key:c="value"}=this._parsing;s=u=>+Xl(o[u],c)}let a,l;for(a=e,l=e+t;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ys(this.options.rotation-90)}_getCircumference(){return Ys(this.options.circumference)}_getRotationExtents(){let e=kn,t=-kn;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:o}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(pB(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:g,rotation:_}=this._getRotationExtents(),{ratioX:C,ratioY:w,offsetX:S,offsetY:A}=jye(_,g,c),x=(o.width-a)/C,D=(o.height-a)/w,V=Math.max(Math.min(x,D)/2,0),X=SE(this.options.radius,V),ee=Math.max(X*c,0),ae=(X-ee)/this._getVisibleDatasetWeightTotal();this.offsetX=S*X,this.offsetY=A*X,r.total=this.calculateTotal(),this.outerRadius=X-ae*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ae*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){let o=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/kn)}updateElements(e,t,o,r){let s=r==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,g=(l.left+l.right)/2,_=(l.top+l.bottom)/2,C=s&&u.animateScale,w=C?0:this.innerRadius,S=C?0:this.outerRadius,{sharedOptions:A,includeOptions:x}=this._getSharedOptions(t,r),D=this._getRotation(),V;for(V=0;V<t;++V)D+=this._circumference(V,s);for(V=t;V<t+o;++V){let X=this._circumference(V,s),ee=e[V],ae={x:g+this.offsetX,y:_+this.offsetY,startAngle:D,endAngle:D+X,circumference:X,outerRadius:S,innerRadius:w};x&&(ae.options=A||this.resolveDataElementOptions(V,ee.active?"active":r)),D+=X,this.updateElement(ee,V,ae,r)}}calculateTotal(){let e=this._cachedMeta,t=e.data,o=0,r;for(r=0;r<t.length;r++){let s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(o+=Math.abs(s))}return o}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?kn*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=wh(t._parsed[e],o.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0,o=this.chart,r,s,a,l,c;if(!e){for(r=0,s=o.data.datasets.length;r<s;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,r=e.length;o<r;++o){let s=this.resolveDataElementOptions(o);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(fi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),Hye=(()=>{class i extends cd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:o,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled,{start:l,count:c}=LE(t,r,a);this._drawStart=l,this._drawCount=c,ME(t)&&(l=0,c=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=r;let u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:u},e),this.updateElements(r,l,c,e)}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(t,r),C=a.axis,w=l.axis,{spanGaps:S,segment:A}=this.options,x=pu(S)?S:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||s||r==="none",V=t+o,X=e.length,ee=t>0&&this.getParsed(t-1);for(let ae=0;ae<X;++ae){let me=e[ae],Ce=D?me:{};if(ae<t||ae>=V){Ce.skip=!0;continue}let be=this.getParsed(ae),tt=zi(be[w]),Vt=Ce[C]=a.getPixelForValue(be[C],ae),ai=Ce[w]=s||tt?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,be,c):be[w],ae);Ce.skip=isNaN(Vt)||isNaN(ai)||tt,Ce.stop=ae>0&&Math.abs(be[C]-ee[C])>x,A&&(Ce.parsed=be,Ce.raw=u.data[ae]),_&&(Ce.options=g||this.resolveDataElementOptions(ae,me.active?"active":r)),D||this.updateElement(me,ae,Ce,r),ee=be}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),H5=(()=>{class i extends cd{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return t.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=wh(t._parsed[e].r,o.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,o,r){return zE.bind(this)(e,t,o,r)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,o=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),a=Math.max(o.cutoutPercentage?s/100*o.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,o,r){let s=r==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,g=u.xCenter,_=u.yCenter,C=u.getIndexAngle(0)-.5*Mn,w=C,S,A=360/this.countVisibleElements();for(S=0;S<t;++S)w+=this._computeAngle(S,r,A);for(S=t;S<t+o;S++){let x=e[S],D=w,V=w+this._computeAngle(S,r,A),X=a.getDataVisibility(S)?u.getDistanceFromCenterForValue(this.getParsed(S).r):0;w=V,s&&(c.animateScale&&(X=0),c.animateRotate&&(D=V=C));let ee={x:g,y:_,innerRadius:0,outerRadius:X,startAngle:D,endAngle:V,options:this.resolveDataElementOptions(S,x.active?"active":r)};this.updateElement(x,S,ee,r)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,o){return this.chart.getDataVisibility(e)?Ys(this.resolveDataElementOptions(e,t).angle||o):0}}return i})(),Gye=(()=>{class i extends TT{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),zye=(()=>{class i extends cd{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,o=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(o[t.axis])}}parseObjectData(e,t,o,r){return zE.bind(this)(e,t,o,r)}update(e){let t=this._cachedMeta,o=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(o.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,o,r){let s=this._cachedMeta.rScale,a=r==="reset";for(let l=t;l<t+o;l++){let c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":r),g=s.getPointPositionForValue(l,this.getParsed(l).r),_=a?s.xCenter:g.x,C=a?s.yCenter:g.y,w={x:_,y:C,angle:g.angle,skip:isNaN(_)||isNaN(C),options:u};this.updateElement(c,l,w,r)}}}return i})(),Wye=(()=>{class i extends cd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+c+")"}}update(e){let t=this._cachedMeta,{data:o=[]}=t,r=this.chart._animationsDisabled,{start:s,count:a}=LE(t,o,r);if(this._drawStart=s,this._drawCount=a,ME(t)&&(s=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=o;let u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:u},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(o,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,g=this.resolveDataElementOptions(t,r),_=this.getSharedOptions(g),C=this.includeOptions(r,_),w=a.axis,S=l.axis,{spanGaps:A,segment:x}=this.options,D=pu(A)?A:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||s||r==="none",X=t>0&&this.getParsed(t-1);for(let ee=t;ee<t+o;++ee){let ae=e[ee],me=this.getParsed(ee),Ce=V?ae:{},be=zi(me[S]),tt=Ce[w]=a.getPixelForValue(me[w],ee),Vt=Ce[S]=s||be?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,me,c):me[S],ee);Ce.skip=isNaN(tt)||isNaN(Vt)||be,Ce.stop=ee>0&&Math.abs(me[w]-X[w])>D,x&&(Ce.parsed=me,Ce.raw=u.data[ee]),C&&(Ce.options=_||this.resolveDataElementOptions(ee,ae.active?"active":r)),V||this.updateElement(ae,ee,Ce,r),X=me}this.updateSharedOptions(_,r,g)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!t.length)return r;let s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}return i})(),$ye=Object.freeze({__proto__:null,BarController:Bye,BubbleController:Uye,DoughnutController:TT,LineController:Hye,PieController:Gye,PolarAreaController:H5,RadarController:zye,ScatterController:Wye});function fu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var cT=class i{static override(n){Object.assign(i.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return fu()}parse(){return fu()}format(){return fu()}add(){return fu()}diff(){return fu()}startOf(){return fu()}endOf(){return fu()}},Kye={_date:cT};function qye(i,n,e,t){let{controller:o,data:r,_sorted:s}=i,a=o._cachedMeta.iScale;if(a&&n===a.axis&&n!=="r"&&s&&r.length){let l=a._reversePixels?CB:Za;if(t){if(o._sharedOptions){let c=r[0],u=typeof c.getRange=="function"&&c.getRange(n);if(u){let g=l(r,n,e-u),_=l(r,n,e+u);return{lo:g.lo,hi:_.hi}}}}else return l(r,n,e)}return{lo:0,hi:r.length-1}}function lg(i,n,e,t,o){let r=i.getSortedVisibleDatasetMetas(),s=e[n];for(let a=0,l=r.length;a<l;++a){let{index:c,data:u}=r[a],{lo:g,hi:_}=qye(r[a],n,s,o);for(let C=g;C<=_;++C){let w=u[C];w.skip||t(w,c,C)}}}function Yye(i){let n=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(t,o){let r=n?Math.abs(t.x-o.x):0,s=e?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function tT(i,n,e,t,o){let r=[];return!o&&!i.isPointInArea(n)||lg(i,e,n,function(a,l,c){!o&&!el(a,i.chartArea,0)||a.inRange(n.x,n.y,t)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Jye(i,n,e,t){let o=[];function r(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],t),{angle:g}=OE(s,{x:n.x,y:n.y});yh(g,c,u)&&o.push({element:s,datasetIndex:a,index:l})}return lg(i,e,n,r),o}function Xye(i,n,e,t,o,r){let s=[],a=Yye(e),l=Number.POSITIVE_INFINITY;function c(u,g,_){let C=u.inRange(n.x,n.y,o);if(t&&!C)return;let w=u.getCenterPoint(o);if(!(!!r||i.isPointInArea(w))&&!C)return;let A=a(n,w);A<l?(s=[{element:u,datasetIndex:g,index:_}],l=A):A===l&&s.push({element:u,datasetIndex:g,index:_})}return lg(i,e,n,c),s}function iT(i,n,e,t,o,r){return!r&&!i.isPointInArea(n)?[]:e==="r"&&!t?Jye(i,n,e,o):Xye(i,n,e,t,o,r)}function YB(i,n,e,t,o){let r=[],s=e==="x"?"inXRange":"inYRange",a=!1;return lg(i,e,n,(l,c,u)=>{l[s]&&l[s](n[e],o)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(n.x,n.y,o))}),t&&!a?[]:r}var Qye={evaluateInteractionItems:lg,modes:{index(i,n,e,t){let o=ad(n,i),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?tT(i,o,r,t,s):iT(i,o,r,!1,t,s),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,g=c.data[u];g&&!g.skip&&l.push({element:g,datasetIndex:c.index,index:u})}),l):[]},dataset(i,n,e,t){let o=ad(n,i),r=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?tT(i,o,r,t,s):iT(i,o,r,!1,t,s);if(a.length>0){let l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(i,n,e,t){let o=ad(n,i),r=e.axis||"xy",s=e.includeInvisible||!1;return tT(i,o,r,t,s)},nearest(i,n,e,t){let o=ad(n,i),r=e.axis||"xy",s=e.includeInvisible||!1;return iT(i,o,r,e.intersect,t,s)},x(i,n,e,t){let o=ad(n,i);return YB(i,o,"x",e.intersect,t)},y(i,n,e,t){let o=ad(n,i);return YB(i,o,"y",e.intersect,t)}}},G5=["left","top","right","bottom"];function Zm(i,n){return i.filter(e=>e.pos===n)}function JB(i,n){return i.filter(e=>G5.indexOf(e.pos)===-1&&e.box.axis===n)}function eg(i,n){return i.sort((e,t)=>{let o=n?t:e,r=n?e:t;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function Zye(i){let n=[],e,t,o,r,s,a;for(e=0,t=(i||[]).length;e<t;++e)o=i[e],{position:r,options:{stack:s,stackWeight:a=1}}=o,n.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return n}function ewe(i){let n={};for(let e of i){let{stack:t,pos:o,stackWeight:r}=e;if(!t||!G5.includes(o))continue;let s=n[t]||(n[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return n}function twe(i,n){let e=ewe(i),{vBoxMaxWidth:t,hBoxMaxHeight:o}=n,r,s,a;for(r=0,s=i.length;r<s;++r){a=i[r];let{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*t:l&&n.availableWidth,a.height=o):(a.width=t,a.height=u?u*o:l&&n.availableHeight)}return e}function iwe(i){let n=Zye(i),e=eg(n.filter(c=>c.box.fullSize),!0),t=eg(Zm(n,"left"),!0),o=eg(Zm(n,"right")),r=eg(Zm(n,"top"),!0),s=eg(Zm(n,"bottom")),a=JB(n,"x"),l=JB(n,"y");return{fullSize:e,leftAndTop:t.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:Zm(n,"chartArea"),vertical:t.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function XB(i,n,e,t){return Math.max(i[e],n[e])+Math.max(i[t],n[t])}function z5(i,n){i.top=Math.max(i.top,n.top),i.left=Math.max(i.left,n.left),i.bottom=Math.max(i.bottom,n.bottom),i.right=Math.max(i.right,n.right)}function nwe(i,n,e,t){let{pos:o,box:r}=e,s=i.maxPadding;if(!ji(o)){e.size&&(i[o]-=e.size);let g=t[e.stack]||{size:0,count:1};g.size=Math.max(g.size,e.horizontal?r.height:r.width),e.size=g.size/g.count,i[o]+=e.size}r.getPadding&&z5(s,r.getPadding());let a=Math.max(0,n.outerWidth-XB(s,i,"left","right")),l=Math.max(0,n.outerHeight-XB(s,i,"top","bottom")),c=a!==i.w,u=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function owe(i){let n=i.maxPadding;function e(t){let o=Math.max(n[t]-i[t],0);return i[t]+=o,o}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function rwe(i,n){let e=n.maxPadding;function t(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(n[s],e[s])}),r}return t(i?["left","right"]:["top","bottom"])}function ng(i,n,e,t){let o=[],r,s,a,l,c,u;for(r=0,s=i.length,c=0;r<s;++r){a=i[r],l=a.box,l.update(a.width||n.w,a.height||n.h,rwe(a.horizontal,n));let{same:g,other:_}=nwe(n,e,a,t);c|=g&&o.length,u=u||_,l.fullSize||o.push(a)}return c&&ng(o,n,e,t)||u}function Dv(i,n,e,t,o){i.top=e,i.left=n,i.right=n+t,i.bottom=e+o,i.width=t,i.height=o}function QB(i,n,e,t){let o=e.padding,{x:r,y:s}=n;for(let a of i){let l=a.box,c=t[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let g=n.w*u,_=c.size||l.height;vh(c.start)&&(s=c.start),l.fullSize?Dv(l,o.left,s,e.outerWidth-o.right-o.left,_):Dv(l,n.left+c.placed,s,g,_),c.start=s,c.placed+=g,s=l.bottom}else{let g=n.h*u,_=c.size||l.width;vh(c.start)&&(r=c.start),l.fullSize?Dv(l,r,o.top,_,e.outerHeight-o.bottom-o.top):Dv(l,r,n.top+c.placed,_,g),c.start=r,c.placed+=g,r=l.right}}n.x=r,n.y=s}var Ar={addBox(i,n){i.boxes||(i.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},i.boxes.push(n)},removeBox(i,n){let e=i.boxes?i.boxes.indexOf(n):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(i,n,e,t){if(!i)return;let o=fr(i.options.layout.padding),r=Math.max(n-o.width,0),s=Math.max(e-o.height,0),a=iwe(i.boxes),l=a.vertical,c=a.horizontal;hn(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});let u=l.reduce((S,A)=>A.box.options&&A.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:n,outerHeight:e,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/u,hBoxMaxHeight:s/2}),_=Object.assign({},o);z5(_,fr(t));let C=Object.assign({maxPadding:_,w:r,h:s,x:o.left,y:o.top},o),w=twe(l.concat(c),g);ng(a.fullSize,C,g,w),ng(l,C,g,w),ng(c,C,g,w)&&ng(l,C,g,w),owe(C),QB(a.leftAndTop,C,g,w),C.x+=C.w,C.y+=C.h,QB(a.rightAndBottom,C,g,w),i.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},hn(a.chartArea,S=>{let A=S.box;Object.assign(A,i.chartArea),A.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}},jv=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,t){}removeEventListener(n,e,t){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,t,o){return e=Math.max(0,e||n.width),t=t||n.height,{width:e,height:Math.max(0,o?Math.floor(e/o):t)}}isAttached(n){return!0}updateConfig(n){}},dT=class extends jv{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},Vv="$chartjs",swe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ZB=i=>i===null||i==="";function awe(i,n){let e=i.style,t=i.getAttribute("height"),o=i.getAttribute("width");if(i[Vv]={initial:{height:t,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ZB(o)){let r=$E(i,"width");r!==void 0&&(i.width=r)}if(ZB(t))if(i.style.height==="")i.height=i.width/(n||2);else{let r=$E(i,"height");r!==void 0&&(i.height=r)}return i}var W5=MB?{passive:!0}:!1;function lwe(i,n,e){i&&i.addEventListener(n,e,W5)}function cwe(i,n,e){i&&i.canvas&&i.canvas.removeEventListener(n,e,W5)}function dwe(i,n){let e=swe[i.type]||i.type,{x:t,y:o}=ad(i,n);return{type:e,chart:n,native:i,x:t!==void 0?t:null,y:o!==void 0?o:null}}function Hv(i,n){for(let e of i)if(e===n||e.contains(n))return!0}function uwe(i,n,e){let t=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Hv(a.addedNodes,t),s=s&&!Hv(a.removedNodes,t);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function pwe(i,n,e){let t=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||Hv(a.removedNodes,t),s=s&&!Hv(a.addedNodes,t);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var rg=new Map,e5=0;function $5(){let i=window.devicePixelRatio;i!==e5&&(e5=i,rg.forEach((n,e)=>{e.currentDevicePixelRatio!==i&&n()}))}function hwe(i,n){rg.size||window.addEventListener("resize",$5),rg.set(i,n)}function fwe(i){rg.delete(i),rg.size||window.removeEventListener("resize",$5)}function mwe(i,n,e){let t=i.canvas,o=t&&Ov(t);if(!o)return;let r=FE((a,l)=>{let c=o.clientWidth;e(a,l),c<o.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return s.observe(o),hwe(i,r),s}function nT(i,n,e){e&&e.disconnect(),n==="resize"&&fwe(i)}function gwe(i,n,e){let t=i.canvas,o=FE(r=>{i.ctx!==null&&e(dwe(r,i))},i);return lwe(t,n,o),o}var uT=class extends jv{acquireContext(n,e){let t=n&&n.getContext&&n.getContext("2d");return t&&t.canvas===n?(awe(n,e),t):null}releaseContext(n){let e=n.canvas;if(!e[Vv])return!1;let t=e[Vv].initial;["height","width"].forEach(r=>{let s=t[r];zi(s)?e.removeAttribute(r):e.setAttribute(r,s)});let o=t.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[Vv],!0}addEventListener(n,e,t){this.removeEventListener(n,e);let o=n.$proxies||(n.$proxies={}),s={attach:uwe,detach:pwe,resize:mwe}[e]||gwe;o[e]=s(n,e,t)}removeEventListener(n,e){let t=n.$proxies||(n.$proxies={}),o=t[e];if(!o)return;({attach:nT,detach:nT,resize:nT}[e]||cwe)(n,e,o),t[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,t,o){return LB(n,e,t,o)}isAttached(n){let e=n&&Ov(n);return!!(e&&e.isConnected)}};function _we(i){return!Tv()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?dT:uT}var wa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:t}=this.getProps(["x","y"],n);return{x:e,y:t}}hasValue(){return pu(this.x)&&pu(this.y)}getProps(n,e){let t=this.$animations;if(!e||!t)return this;let o={};return n.forEach(r=>{o[r]=t[r]&&t[r].active()?t[r]._to:this[r]}),o}};function Cwe(i,n){let e=i.options.ticks,t=Iwe(i),o=Math.min(e.maxTicksLimit||t,t),r=e.major.enabled?bwe(n):[],s=r.length,a=r[0],l=r[s-1],c=[];if(s>o)return ywe(n,c,r,s/o),c;let u=vwe(r,n,o);if(s>0){let g,_,C=s>1?Math.round((l-a)/(s-1)):null;for(Pv(n,c,u,zi(C)?0:a-C,a),g=0,_=s-1;g<_;g++)Pv(n,c,u,r[g],r[g+1]);return Pv(n,c,u,l,zi(C)?n.length:l+C),c}return Pv(n,c,u),c}function Iwe(i){let n=i.options.offset,e=i._tickSize(),t=i._length/e+(n?0:1),o=i._maxLength/e;return Math.floor(Math.min(t,o))}function vwe(i,n,e){let t=wwe(i),o=n.length/e;if(!t)return Math.max(o,1);let r=mB(t);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function bwe(i){let n=[],e,t;for(e=0,t=i.length;e<t;e++)i[e].major&&n.push(e);return n}function ywe(i,n,e,t){let o=0,r=e[0],s;for(t=Math.ceil(t),s=0;s<i.length;s++)s===r&&(n.push(i[s]),o++,r=e[o*t])}function Pv(i,n,e,t,o){let r=fi(t,0),s=Math.min(fi(o,i.length),i.length),a=0,l,c,u;for(e=Math.ceil(e),o&&(l=o-t,e=l/Math.floor(l/e)),u=r;u<0;)a++,u=Math.round(r+a*e);for(c=Math.max(r,0);c<s;c++)c===u&&(n.push(i[c]),a++,u=Math.round(r+a*e))}function wwe(i){let n=i.length,e,t;if(n<2)return!1;for(t=i[0],e=1;e<n;++e)if(i[e]-i[e-1]!==t)return!1;return t}var Swe=i=>i==="left"?"right":i==="right"?"left":i,t5=(i,n,e)=>n==="top"||n==="left"?i[n]+e:i[n]-e,i5=(i,n)=>Math.min(n||i,i);function n5(i,n){let e=[],t=i.length/n,o=i.length,r=0;for(;r<o;r+=t)e.push(i[Math.floor(r)]);return e}function Awe(i,n,e){let t=i.ticks.length,o=Math.min(n,t-1),r=i._startPixel,s=i._endPixel,a=1e-6,l=i.getPixelForTick(o),c;if(!(e&&(t===1?c=Math.max(l-r,s-l):n===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(o-1))/2,l+=o<n?c:-c,l<r-a||l>s+a)))return l}function xwe(i,n){hn(i,e=>{let t=e.gc,o=t.length/2,r;if(o>n){for(r=0;r<o;++r)delete e.data[t[r]];t.splice(0,o)}})}function tg(i){return i.drawTicks?i.tickLength:0}function o5(i,n){if(!i.display)return 0;let e=Fo(i.font,n),t=fr(i.padding);return(Ln(i.text)?i.text.length:1)*e.lineHeight+t.height}function Ewe(i,n){return Ql(i,{scale:n,type:"scale"})}function Twe(i,n,e){return Ql(i,{tick:e,index:n,type:"tick"})}function Owe(i,n,e){let t=wv(i);return(e&&n!=="right"||!e&&n==="right")&&(t=Swe(t)),t}function Rwe(i,n,e,t){let{top:o,left:r,bottom:s,right:a,chart:l}=i,{chartArea:c,scales:u}=l,g=0,_,C,w,S=s-o,A=a-r;if(i.isHorizontal()){if(C=hr(t,r,a),ji(e)){let x=Object.keys(e)[0],D=e[x];w=u[x].getPixelForValue(D)+S-n}else e==="center"?w=(c.bottom+c.top)/2+S-n:w=t5(i,e,n);_=a-r}else{if(ji(e)){let x=Object.keys(e)[0],D=e[x];C=u[x].getPixelForValue(D)-A+n}else e==="center"?C=(c.left+c.right)/2-A+n:C=t5(i,e,n);w=hr(t,s,o),g=e==="left"?-po:po}return{titleX:C,titleY:w,maxWidth:_,rotation:g}}var gu=class i extends wa{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:t,_suggestedMax:o}=this;return n=ts(n,Number.POSITIVE_INFINITY),e=ts(e,Number.NEGATIVE_INFINITY),t=ts(t,Number.POSITIVE_INFINITY),o=ts(o,Number.NEGATIVE_INFINITY),{min:ts(n,t),max:ts(e,o),minDefined:oo(n),maxDefined:oo(e)}}getMinMax(n){let{min:e,max:t,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:e,max:t};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,n),o||(e=Math.min(e,s.min)),r||(t=Math.max(t,s.max));return e=r&&e>t?t:e,t=o&&e>t?e:t,{min:ts(e,ts(t,e)),max:ts(t,ts(e,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){An(this.options.beforeUpdate,[this])}update(n,e,t){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=TB(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?n5(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Cwe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,t;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){An(this.options.afterUpdate,[this])}beforeSetDimensions(){An(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){An(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),An(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){An(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,t,o,r;for(t=0,o=n.length;t<o;t++)r=n[t],r.label=An(e.callback,[r.value,t,n],this)}afterTickToLabelConversion(){An(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){An(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,t=i5(this.ticks.length,n.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation,s=o,a,l,c;if(!this._isVisible()||!e.display||o>=r||t<=1||!this.isHorizontal()){this.labelRotation=o;return}let u=this._getLabelSizes(),g=u.widest.width,_=u.highest.height,C=zo(this.chart.width-g,0,this.maxWidth);a=n.offset?this.maxWidth/t:C/(t-1),g+6>a&&(a=C/(t-(n.offset?.5:1)),l=this.maxHeight-tg(n.grid)-e.padding-o5(n.title,this.chart.options.font),c=Math.sqrt(g*g+_*_),s=bv(Math.min(Math.asin(zo((u.highest.height+6)/a,-1,1)),Math.asin(zo(l/c,-1,1))-Math.asin(zo(_/c,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){An(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){An(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:t,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=o5(o,e.options.font);if(a?(n.width=this.maxWidth,n.height=tg(r)+l):(n.height=this.maxHeight,n.width=tg(r)+l),t.display&&this.ticks.length){let{first:c,last:u,widest:g,highest:_}=this._getLabelSizes(),C=t.padding*2,w=Ys(this.labelRotation),S=Math.cos(w),A=Math.sin(w);if(a){let x=t.mirror?0:A*g.width+S*_.height;n.height=Math.min(this.maxHeight,n.height+x+C)}else{let x=t.mirror?0:S*g.width+A*_.height;n.width=Math.min(this.maxWidth,n.width+x+C)}this._calculatePadding(c,u,A,S)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,t,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1),_=0,C=0;l?c?(_=o*n.width,C=t*e.height):(_=t*n.height,C=o*e.width):r==="start"?C=e.width:r==="end"?_=n.width:r!=="inner"&&(_=n.width/2,C=e.width/2),this.paddingLeft=Math.max((_-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((C-g+s)*this.width/(this.width-g),0)}else{let u=e.height/2,g=n.height/2;r==="start"?(u=0,g=n.height):r==="end"&&(u=e.height,g=0),this.paddingTop=u+s,this.paddingBottom=g+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){An(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,t;for(e=0,t=n.length;e<t;e++)zi(n[e].label)&&(n.splice(e,1),t--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,t=this.ticks;e<t.length&&(t=n5(t,e)),this._labelSizes=n=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,t){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/i5(e,t)),c=0,u=0,g,_,C,w,S,A,x,D,V,X,ee;for(g=0;g<e;g+=l){if(w=n[g].label,S=this._resolveTickFontOptions(g),o.font=A=S.string,x=r[A]=r[A]||{data:{},gc:[]},D=S.lineHeight,V=X=0,!zi(w)&&!Ln(w))V=Km(o,x.data,x.gc,V,w),X=D;else if(Ln(w))for(_=0,C=w.length;_<C;++_)ee=w[_],!zi(ee)&&!Ln(ee)&&(V=Km(o,x.data,x.gc,V,ee),X+=D);s.push(V),a.push(X),c=Math.max(V,c),u=Math.max(X,u)}xwe(r,e);let ae=s.indexOf(c),me=a.indexOf(u),Ce=be=>({width:s[be]||0,height:a[be]||0});return{first:Ce(0),last:Ce(e-1),widest:Ce(ae),highest:Ce(me),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return _B(this._alignToPixels?od(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let t=e[n];return t.$context||(t.$context=Twe(this.getContext(),n,t))}return this.$context||(this.$context=Ewe(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=Ys(this.labelRotation),t=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=n.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*t>a*o?a/t:l/o:l*o<a*t?l/t:a/o}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,t=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,c=this.isHorizontal(),g=this.ticks.length+(l?1:0),_=tg(r),C=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,A=S/2,x=function(In){return od(t,In,S)},D,V,X,ee,ae,me,Ce,be,tt,Vt,ai,rn;if(s==="top")D=x(this.bottom),me=this.bottom-_,be=D-A,Vt=x(n.top)+A,rn=n.bottom;else if(s==="bottom")D=x(this.top),Vt=n.top,rn=x(n.bottom)-A,me=D+A,be=this.top+_;else if(s==="left")D=x(this.right),ae=this.right-_,Ce=D-A,tt=x(n.left)+A,ai=n.right;else if(s==="right")D=x(this.left),tt=n.left,ai=x(n.right)-A,ae=D+A,Ce=this.left+_;else if(e==="x"){if(s==="center")D=x((n.top+n.bottom)/2+.5);else if(ji(s)){let In=Object.keys(s)[0],Xn=s[In];D=x(this.chart.scales[In].getPixelForValue(Xn))}Vt=n.top,rn=n.bottom,me=D+A,be=me+_}else if(e==="y"){if(s==="center")D=x((n.left+n.right)/2);else if(ji(s)){let In=Object.keys(s)[0],Xn=s[In];D=x(this.chart.scales[In].getPixelForValue(Xn))}ae=D-A,Ce=ae-_,tt=n.left,ai=n.right}let Ye=fi(o.ticks.maxTicksLimit,g),zt=Math.max(1,Math.ceil(g/Ye));for(V=0;V<g;V+=zt){let In=this.getContext(V),Xn=r.setContext(In),yo=a.setContext(In),wo=Xn.lineWidth,Ea=Xn.color,oc=yo.dash||[],Js=yo.dashOffset,Ta=Xn.tickWidth,Es=Xn.tickColor,Lo=Xn.tickBorderDash||[],al=Xn.tickBorderDashOffset;X=Awe(this,V,l),X!==void 0&&(ee=od(t,X,wo),c?ae=Ce=tt=ai=ee:me=be=Vt=rn=ee,C.push({tx1:ae,ty1:me,tx2:Ce,ty2:be,x1:tt,y1:Vt,x2:ai,y2:rn,width:wo,color:Ea,borderDash:oc,borderDashOffset:Js,tickWidth:Ta,tickColor:Es,tickBorderDash:Lo,tickBorderDashOffset:al}))}return this._ticksLength=g,this._borderValue=D,C}_computeLabelItems(n){let e=this.axis,t=this.options,{position:o,ticks:r}=t,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:g}=r,_=tg(t.grid),C=_+u,w=g?-u:C,S=-Ys(this.labelRotation),A=[],x,D,V,X,ee,ae,me,Ce,be,tt,Vt,ai,rn="middle";if(o==="top")ae=this.bottom-w,me=this._getXAxisLabelAlignment();else if(o==="bottom")ae=this.top+w,me=this._getXAxisLabelAlignment();else if(o==="left"){let zt=this._getYAxisLabelAlignment(_);me=zt.textAlign,ee=zt.x}else if(o==="right"){let zt=this._getYAxisLabelAlignment(_);me=zt.textAlign,ee=zt.x}else if(e==="x"){if(o==="center")ae=(n.top+n.bottom)/2+C;else if(ji(o)){let zt=Object.keys(o)[0],In=o[zt];ae=this.chart.scales[zt].getPixelForValue(In)+C}me=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")ee=(n.left+n.right)/2-C;else if(ji(o)){let zt=Object.keys(o)[0],In=o[zt];ee=this.chart.scales[zt].getPixelForValue(In)}me=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(l==="start"?rn="top":l==="end"&&(rn="bottom"));let Ye=this._getLabelSizes();for(x=0,D=a.length;x<D;++x){V=a[x],X=V.label;let zt=r.setContext(this.getContext(x));Ce=this.getPixelForTick(x)+r.labelOffset,be=this._resolveTickFontOptions(x),tt=be.lineHeight,Vt=Ln(X)?X.length:1;let In=Vt/2,Xn=zt.color,yo=zt.textStrokeColor,wo=zt.textStrokeWidth,Ea=me;s?(ee=Ce,me==="inner"&&(x===D-1?Ea=this.options.reverse?"left":"right":x===0?Ea=this.options.reverse?"right":"left":Ea="center"),o==="top"?c==="near"||S!==0?ai=-Vt*tt+tt/2:c==="center"?ai=-Ye.highest.height/2-In*tt+tt:ai=-Ye.highest.height+tt/2:c==="near"||S!==0?ai=tt/2:c==="center"?ai=Ye.highest.height/2-In*tt:ai=Ye.highest.height-Vt*tt,g&&(ai*=-1),S!==0&&!zt.showLabelBackdrop&&(ee+=tt/2*Math.sin(S))):(ae=Ce,ai=(1-Vt)*tt/2);let oc;if(zt.showLabelBackdrop){let Js=fr(zt.backdropPadding),Ta=Ye.heights[x],Es=Ye.widths[x],Lo=ai-Js.top,al=0-Js.left;switch(rn){case"middle":Lo-=Ta/2;break;case"bottom":Lo-=Ta;break}switch(me){case"center":al-=Es/2;break;case"right":al-=Es;break;case"inner":x===D-1?al-=Es:x>0&&(al-=Es/2);break}oc={left:al,top:Lo,width:Es+Js.width,height:Ta+Js.height,color:zt.backdropColor}}A.push({label:X,font:be,textOffset:ai,options:{rotation:S,color:Xn,strokeColor:yo,strokeWidth:wo,textAlign:Ea,textBaseline:rn,translation:[ee,ae],backdrop:oc}})}return A}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-Ys(this.labelRotation))return n==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:t,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=n+r,l=s.widest.width,c,u;return e==="left"?o?(u=this.right+r,t==="near"?c="left":t==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,t==="near"?c="right":t==="center"?(c="center",u-=l/2):(c="left",u=this.left)):e==="right"?o?(u=this.left+r,t==="near"?c="right":t==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,t==="near"?c="left":t==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:t,top:o,width:r,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(t,o,r,s),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===n);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){let e=this.options.grid,t=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),r,s,a=(l,c,u)=>{!u.width||!u.color||(t.save(),t.lineWidth=u.width,t.strokeStyle=u.color,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset,t.beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.stroke(),t.restore())};if(e.display)for(r=0,s=o.length;r<s;++r){let l=o[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:t,grid:o}}=this,r=t.setContext(this.getContext()),s=t.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,g,_;this.isHorizontal()?(c=od(n,this.left,s)-s/2,u=od(n,this.right,a)+a/2,g=_=l):(g=od(n,this.top,s)-s/2,_=od(n,this.bottom,a)+a/2,c=u=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,g),e.lineTo(u,_),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let t=this.ctx,o=this._computeLabelArea();o&&Jm(t,o);let r=this.getLabelItems(n);for(let s of r){let a=s.options,l=s.font,c=s.label,u=s.textOffset;rd(t,c,0,u,l,a)}o&&Xm(t)}drawTitle(){let{ctx:n,options:{position:e,title:t,reverse:o}}=this;if(!t.display)return;let r=Fo(t.font),s=fr(t.padding),a=t.align,l=r.lineHeight/2;e==="bottom"||e==="center"||ji(e)?(l+=s.bottom,Ln(t.text)&&(l+=r.lineHeight*(t.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:g,rotation:_}=Rwe(this,l,e,a);rd(n,t.text,0,0,r,{color:t.color,maxWidth:g,rotation:_,textAlign:Owe(a,e,o),textBaseline:"middle",translation:[c,u]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,t=fi(n.grid&&n.grid.z,-1),o=fi(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:t,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];a[t]===this.id&&(!n||a.type===n)&&o.push(a)}return o}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return Fo(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},Eh=class{constructor(n,e,t){this.type=n,this.scope=e,this.override=t,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),t;Fwe(e)&&(t=this.register(e));let o=this.items,r=n.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+n);return r in o||(o[r]=n,Dwe(n,s,t),this.override&&Un.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let e=this.items,t=n.id,o=this.scope;t in e&&delete e[t],o&&t in Un[o]&&(delete Un[o][t],this.override&&delete nd[t])}};function Dwe(i,n,e){let t=_h(Object.create(null),[e?Un.get(e):{},Un.get(n),i.defaults]);Un.set(n,t),i.defaultRoutes&&Pwe(n,i.defaultRoutes),i.descriptors&&Un.describe(n,i.descriptors)}function Pwe(i,n){Object.keys(n).forEach(e=>{let t=e.split("."),o=t.pop(),r=[i].concat(t).join("."),s=n[e].split("."),a=s.pop(),l=s.join(".");Un.route(r,o,l,a)})}function Fwe(i){return"id"in i&&"defaults"in i}var pT=class{constructor(){this.controllers=new Eh(cd,"datasets",!0),this.elements=new Eh(wa,"elements"),this.plugins=new Eh(Object,"plugins"),this.scales=new Eh(gu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,t){[...e].forEach(o=>{let r=t||this._getRegistryForType(o);t||r.isForType(o)||r===this.plugins&&o.id?this._exec(n,r,o):hn(o,s=>{let a=t||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,e,t){let o=vv(n);An(t["before"+o],[],t),e[n](t),An(t["after"+o],[],t)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let t=this._typedRegistries[e];if(t.isForType(n))return t}return this.plugins}_get(n,e,t){let o=e.get(n);if(o===void 0)throw new Error('"'+n+'" is not a registered '+t+".");return o}},ol=new pT,hT=class{constructor(){this._init=[]}notify(n,e,t,o){e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));let r=o?this._descriptors(n).filter(o):this._descriptors(n),s=this._notify(r,n,e,t);return e==="afterDestroy"&&(this._notify(r,n,"stop"),this._notify(this._init,n,"uninstall")),s}_notify(n,e,t,o){o=o||{};for(let r of n){let s=r.plugin,a=s[t],l=[e,o,r.options];if(An(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){zi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let t=n&&n.config,o=fi(t.options&&t.options.plugins,{}),r=Lwe(t);return o===!1&&!e?[]:kwe(n,r,o,e)}_notifyStateChanges(n){let e=this._oldCache||[],t=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,t),n,"stop"),this._notify(o(t,e),n,"start")}};function Lwe(i){let n={},e=[],t=Object.keys(ol.plugins.items);for(let r=0;r<t.length;r++)e.push(ol.getPlugin(t[r]));let o=i.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];e.indexOf(s)===-1&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}function Mwe(i,n){return!n&&i===!1?null:i===!0?{}:i}function kwe(i,{plugins:n,localIds:e},t,o){let r=[],s=i.getContext();for(let a of n){let l=a.id,c=Mwe(t[l],o);c!==null&&r.push({plugin:a,options:Nwe(i.config,{plugin:a,local:e[l]},c,s)})}return r}function Nwe(i,{plugin:n,local:e},t,o){let r=i.pluginScopeKeys(n),s=i.getOptionScopes(t,r);return e&&n.defaults&&s.push(n.defaults),i.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fT(i,n){let e=Un.datasets[i]||{};return((n.datasets||{})[i]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function Vwe(i,n){let e=i;return i==="_index_"?e=n:i==="_value_"&&(e=n==="x"?"y":"x"),e}function Bwe(i,n){return i===n?"_index_":"_value_"}function r5(i){if(i==="x"||i==="y"||i==="r")return i}function Uwe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function mT(i,...n){if(r5(i))return i;for(let e of n){let t=e.axis||Uwe(e.position)||i.length>1&&r5(i[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function s5(i,n,e){if(e[n+"AxisID"]===i)return{axis:n}}function jwe(i,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(t=>t.xAxisID===i||t.yAxisID===i);if(e.length)return s5(i,"x",e[0])||s5(i,"y",e[0])}return{}}function Hwe(i,n){let e=nd[i.type]||{scales:{}},t=n.scales||{},o=fT(i.type,n),r=Object.create(null);return Object.keys(t).forEach(s=>{let a=t[s];if(!ji(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=mT(s,a,jwe(s,i),Un.scales[a.type]),c=Bwe(l,o),u=e.scales||{};r[s]=Ih(Object.create(null),[{axis:l},a,u[l],u[c]])}),i.data.datasets.forEach(s=>{let a=s.type||i.type,l=s.indexAxis||fT(a,n),u=(nd[a]||{}).scales||{};Object.keys(u).forEach(g=>{let _=Vwe(g,l),C=s[_+"AxisID"]||_;r[C]=r[C]||Object.create(null),Ih(r[C],[{axis:_},t[C],u[g]])})}),Object.keys(r).forEach(s=>{let a=r[s];Ih(a,[Un.scales[a.type],Un.scale])}),r}function K5(i){let n=i.options||(i.options={});n.plugins=fi(n.plugins,{}),n.scales=Hwe(i,n)}function q5(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function Gwe(i){return i=i||{},i.data=q5(i.data),K5(i),i}var a5=new Map,Y5=new Set;function Fv(i,n){let e=a5.get(i);return e||(e=n(),a5.set(i,e),Y5.add(e)),e}var ig=(i,n,e)=>{let t=Xl(n,e);t!==void 0&&i.add(t)},gT=class{constructor(n){this._config=Gwe(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=q5(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),K5(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return Fv(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return Fv(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return Fv(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,t=this.type;return Fv(`${t}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let t=this._scopeCache,o=t.get(n);return(!o||e)&&(o=new Map,t.set(n,o)),o}getOptionScopes(n,e,t){let{options:o,type:r}=this,s=this._cachedScopes(n,t),a=s.get(e);if(a)return a;let l=new Set;e.forEach(u=>{n&&(l.add(n),u.forEach(g=>ig(l,n,g))),u.forEach(g=>ig(l,o,g)),u.forEach(g=>ig(l,nd[r]||{},g)),u.forEach(g=>ig(l,Un,g)),u.forEach(g=>ig(l,Sv,g))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Y5.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:n,type:e}=this;return[n,nd[e]||{},Un.datasets[e]||{},{type:e},Un,Sv]}resolveNamedOptions(n,e,t,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=l5(this._resolverCache,n,o),l=s;if(Wwe(s,e)){r.$shared=!1,t=Yl(t)?t():t;let c=this.createResolver(n,t,a);l=uu(s,t,c)}for(let c of e)r[c]=l[c];return r}createResolver(n,e,t=[""],o){let{resolver:r}=l5(this._resolverCache,n,t);return ji(e)?uu(r,e,void 0,o):r}};function l5(i,n,e){let t=i.get(n);t||(t=new Map,i.set(n,t));let o=e.join(),r=t.get(o);return r||(r={resolver:Ev(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},t.set(o,r)),r}var zwe=i=>ji(i)&&Object.getOwnPropertyNames(i).some(n=>Yl(i[n]));function Wwe(i,n){let{isScriptable:e,isIndexable:t}=jE(i);for(let o of n){let r=e(o),s=t(o),a=(s||r)&&i[o];if(r&&(Yl(a)||zwe(a))||s&&Ln(a))return!0}return!1}var $we="4.4.6",Kwe=["top","bottom","left","right","chartArea"];function c5(i,n){return i==="top"||i==="bottom"||Kwe.indexOf(i)===-1&&n==="x"}function d5(i,n){return function(e,t){return e[i]===t[i]?e[n]-t[n]:e[i]-t[i]}}function u5(i){let n=i.chart,e=n.options.animation;n.notifyPlugins("afterRender"),An(e&&e.onComplete,[i],n)}function qwe(i){let n=i.chart,e=n.options.animation;An(e&&e.onProgress,[i],n)}function J5(i){return Tv()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Bv={},p5=i=>{let n=J5(i);return Object.values(Bv).filter(e=>e.canvas===n).pop()};function Ywe(i,n,e){let t=Object.keys(i);for(let o of t){let r=+o;if(r>=n){let s=i[o];delete i[o],(e>0||r>n)&&(i[r+e]=s)}}}function Jwe(i,n,e,t){return!e||i.type==="mouseout"?null:t?n:i}function Lv(i,n,e){return i.options.clip?i[e]:n[e]}function Xwe(i,n){let{xScale:e,yScale:t}=i;return e&&t?{left:Lv(e,n,"left"),right:Lv(e,n,"right"),top:Lv(t,n,"top"),bottom:Lv(t,n,"bottom")}:n}var $v=(()=>{class i{static defaults=Un;static instances=Bv;static overrides=nd;static registry=ol;static version=$we;static getChart=p5;static register(...e){ol.add(...e),h5()}static unregister(...e){ol.remove(...e),h5()}constructor(e,t){let o=this.config=new gT(t),r=J5(e),s=p5(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||_we(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,g=c&&c.width;if(this.id=uB(),this.ctx=l,this.canvas=c,this.width=g,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new hT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yB(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],Bv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Zl.listen(this,"complete",u5),Zl.listen(this,"progress",qwe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:r,_aspectRatio:s}=this;return zi(e)?t&&s?s:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ol}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VE(this.canvas,this.ctx),this}stop(){return Zl.stop(this),this}resize(e,t){Zl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,WE(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),An(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};hn(t,(o,r)=>{o.id=r})}buildOrUpdateScales(){let e=this.options,t=e.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];t&&(s=s.concat(Object.keys(t).map(a=>{let l=t[a],c=mT(a,l),u=c==="r",g=c==="x";return{options:l,dposition:u?"chartArea":g?"bottom":"left",dtype:u?"radialLinear":g?"category":"linear"}}))),hn(s,a=>{let l=a.options,c=l.id,u=mT(c,l),g=fi(l.type,a.dtype);(l.position===void 0||c5(l.position,u)!==c5(a.dposition))&&(l.position=a.dposition),r[c]=!0;let _=null;if(c in o&&o[c].type===g)_=o[c];else{let C=ol.getScale(g);_=new C({id:c,type:g,ctx:this.ctx,chart:this}),o[_.id]=_}_.init(l,e)}),hn(r,(a,l)=>{a||delete o[l]}),hn(o,a=>{Ar.configure(this,a,a.options),Ar.addBox(this,a)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort((r,s)=>r.index-s.index),o>t){for(let r=t;r<o;++r)this._destroyDatasetMeta(r);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort(d5("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((o,r)=>{t.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=t.length;o<r;o++){let s=t[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||fT(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=ol.getController(l),{datasetElementType:u,dataElementType:g}=Un.datasets[l];Object.assign(c,{dataElementType:ol.getElement(g),datasetElementType:u&&ol.getElement(u)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){hn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,g=this.data.datasets.length;u<g;u++){let{controller:_}=this.getDatasetMeta(u),C=!r&&s.indexOf(_)===-1;_.buildOrUpdateElements(C),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||hn(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(d5("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){hn(this.scales,e=>{Ar.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!AE(t,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of t){let a=o==="_removeElements"?-s:s;Ywe(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,o=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<t;s++)if(!AE(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ar.update(this,this.width,this.height,e);let t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],hn(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,o=this.data.datasets.length;t<o;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,Yl(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let o=this.getDatasetMeta(e),r={meta:o,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zl.has(this)?this.attached&&!Zl.running(this)&&Zl.start(this):(this.draw(),u5({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,o=[],r,s;for(r=0,s=t.length;r<s;++r){let a=t[r];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,o=e._clip,r=!o.disabled,s=Xwe(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(r&&Jm(t,{left:o.left===!1?0:s.left-o.left,right:o.right===!1?this.width:s.right+o.right,top:o.top===!1?0:s.top-o.top,bottom:o.bottom===!1?this.height:s.bottom+o.bottom}),e.controller.draw(),r&&Xm(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return el(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,r){let s=Qye.modes[t];return typeof s=="function"?s(this,e,o,r):[]}getDatasetMeta(e){let t=this.data.datasets[e],o=this._metasets,r=o.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Ql(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!t.hidden}setDatasetVisibility(e,t){let o=this.getDatasetMeta(e);o.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){let r=o?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);vh(t)?(s.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Zl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),VE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Bv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,o=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};hn(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,o=(c,u)=>{t.addEventListener(this,c,u),e[c]=u},r=(c,u)=>{e[c]&&(t.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){hn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},hn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){let r=o?"set":"remove",s,a,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],o=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!qm(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,o){let r=this.options.hover,s=(c,u)=>c.filter(g=>!u.some(_=>g.datasetIndex===_.datasetIndex&&g.index===_.index)),a=s(t,e),l=o?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,t){let o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(e,t,o){let{_active:r=[],options:s}=this,a=t,l=this._getActiveElements(e,r,o,a),c=fB(e),u=Jwe(e,this._lastEvent,o,c);o&&(this._lastEvent=null,An(s.onHover,[e,l,this],this),c&&An(s.onClick,[e,l,this],this));let g=!qm(l,r);return(g||t)&&(this._active=l,this._updateHoverStyles(l,r,t)),this._lastEvent=u,g}_getActiveElements(e,t,o,r){if(e.type==="mouseout")return[];if(!o)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}return i})();function h5(){return hn($v.instances,i=>i._plugins.invalidate())}function Qwe(i,n,e){let{startAngle:t,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=n,c=o/a;i.beginPath(),i.arc(r,s,a,t-c,e+c),l>o?(c=o/l,i.arc(r,s,l,e+c,t-c,!0)):i.arc(r,s,o,e+po,t-po),i.closePath(),i.clip()}function Zwe(i){return xv(i,["outerStart","outerEnd","innerStart","innerEnd"])}function e1e(i,n,e,t){let o=Zwe(i.options.borderRadius),r=(e-n)/2,s=Math.min(r,t*n/2),a=l=>{let c=(e-Math.min(r,l))*t/2;return zo(l,0,Math.min(r,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:zo(o.innerStart,0,s),innerEnd:zo(o.innerEnd,0,s)}}function xh(i,n,e,t){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function Gv(i,n,e,t,o,r){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=n,g=Math.max(n.outerRadius+t+e-c,0),_=u>0?u+t+e+c:0,C=0,w=o-l;if(t){let zt=u>0?u-t:0,In=g>0?g-t:0,Xn=(zt+In)/2,yo=Xn!==0?w*Xn/(Xn+t):w;C=(w-yo)/2}let S=Math.max(.001,w*g-e/Mn)/g,A=(w-S)/2,x=l+A+C,D=o-A-C,{outerStart:V,outerEnd:X,innerStart:ee,innerEnd:ae}=e1e(n,_,g,D-x),me=g-V,Ce=g-X,be=x+V/me,tt=D-X/Ce,Vt=_+ee,ai=_+ae,rn=x+ee/Vt,Ye=D-ae/ai;if(i.beginPath(),r){let zt=(be+tt)/2;if(i.arc(s,a,g,be,zt),i.arc(s,a,g,zt,tt),X>0){let wo=xh(Ce,tt,s,a);i.arc(wo.x,wo.y,X,tt,D+po)}let In=xh(ai,D,s,a);if(i.lineTo(In.x,In.y),ae>0){let wo=xh(ai,Ye,s,a);i.arc(wo.x,wo.y,ae,D+po,Ye+Math.PI)}let Xn=(D-ae/_+(x+ee/_))/2;if(i.arc(s,a,_,D-ae/_,Xn,!0),i.arc(s,a,_,Xn,x+ee/_,!0),ee>0){let wo=xh(Vt,rn,s,a);i.arc(wo.x,wo.y,ee,rn+Math.PI,x-po)}let yo=xh(me,x,s,a);if(i.lineTo(yo.x,yo.y),V>0){let wo=xh(me,be,s,a);i.arc(wo.x,wo.y,V,x-po,be)}}else{i.moveTo(s,a);let zt=Math.cos(be)*g+s,In=Math.sin(be)*g+a;i.lineTo(zt,In);let Xn=Math.cos(tt)*g+s,yo=Math.sin(tt)*g+a;i.lineTo(Xn,yo)}i.closePath()}function t1e(i,n,e,t,o){let{fullCircles:r,startAngle:s,circumference:a}=n,l=n.endAngle;if(r){Gv(i,n,e,t,l,o);for(let c=0;c<r;++c)i.fill();isNaN(a)||(l=s+(a%kn||kn))}return Gv(i,n,e,t,l,o),i.fill(),l}function i1e(i,n,e,t,o){let{fullCircles:r,startAngle:s,circumference:a,options:l}=n,{borderWidth:c,borderJoinStyle:u,borderDash:g,borderDashOffset:_}=l,C=l.borderAlign==="inner";if(!c)return;i.setLineDash(g||[]),i.lineDashOffset=_,C?(i.lineWidth=c*2,i.lineJoin=u||"round"):(i.lineWidth=c,i.lineJoin=u||"bevel");let w=n.endAngle;if(r){Gv(i,n,e,t,w,o);for(let S=0;S<r;++S)i.stroke();isNaN(a)||(w=s+(a%kn||kn))}C&&Qwe(i,n,w),r||(Gv(i,n,e,t,w,o),i.stroke())}var _T=class extends wa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,t){let o=this.getProps(["x","y"],t),{angle:r,distance:s}=OE(o,{x:n,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),_=(this.options.spacing+this.options.borderWidth)/2,C=fi(g,l-a),w=yh(r,a,l)&&a!==l,S=C>=kn||w,A=il(s,c+_,u+_);return S&&A}getCenterPoint(n){let{x:e,y:t,startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:c}=this.options,u=(o+r)/2,g=(s+a+c+l)/2;return{x:e+Math.cos(u)*g,y:t+Math.sin(u)*g}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:t}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=t>kn?Math.floor(t/kn):0,t===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(Mn,t||0)),c=o*l;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,t1e(n,this,c,r,s),i1e(n,this,c,r,s),n.restore()}};function X5(i,n,e=n){i.lineCap=fi(e.borderCapStyle,n.borderCapStyle),i.setLineDash(fi(e.borderDash,n.borderDash)),i.lineDashOffset=fi(e.borderDashOffset,n.borderDashOffset),i.lineJoin=fi(e.borderJoinStyle,n.borderJoinStyle),i.lineWidth=fi(e.borderWidth,n.borderWidth),i.strokeStyle=fi(e.borderColor,n.borderColor)}function n1e(i,n,e){i.lineTo(e.x,e.y)}function o1e(i){return i.stepped?xB:i.tension||i.cubicInterpolationMode==="monotone"?EB:n1e}function Q5(i,n,e={}){let t=i.length,{start:o=0,end:r=t-1}=e,{start:s,end:a}=n,l=Math.max(o,s),c=Math.min(r,a),u=o<s&&r<s||o>a&&r>a;return{count:t,start:l,loop:n.loop,ilen:c<l&&!u?t+c-l:c-l}}function r1e(i,n,e,t){let{points:o,options:r}=n,{count:s,start:a,loop:l,ilen:c}=Q5(o,e,t),u=o1e(r),{move:g=!0,reverse:_}=t||{},C,w,S;for(C=0;C<=c;++C)w=o[(a+(_?c-C:C))%s],!w.skip&&(g?(i.moveTo(w.x,w.y),g=!1):u(i,S,w,_,r.stepped),S=w);return l&&(w=o[(a+(_?c:0))%s],u(i,S,w,_,r.stepped)),!!l}function s1e(i,n,e,t){let o=n.points,{count:r,start:s,ilen:a}=Q5(o,e,t),{move:l=!0,reverse:c}=t||{},u=0,g=0,_,C,w,S,A,x,D=X=>(s+(c?a-X:X))%r,V=()=>{S!==A&&(i.lineTo(u,A),i.lineTo(u,S),i.lineTo(u,x))};for(l&&(C=o[D(0)],i.moveTo(C.x,C.y)),_=0;_<=a;++_){if(C=o[D(_)],C.skip)continue;let X=C.x,ee=C.y,ae=X|0;ae===w?(ee<S?S=ee:ee>A&&(A=ee),u=(g*u+X)/++g):(V(),i.lineTo(X,ee),w=ae,g=0,S=A=ee),x=ee}V()}function CT(i){let n=i.options,e=n.borderDash&&n.borderDash.length;return!i._decimated&&!i._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?s1e:r1e}function a1e(i){return i.stepped?kB:i.tension||i.cubicInterpolationMode==="monotone"?NB:id}function l1e(i,n,e,t){let o=n._path;o||(o=n._path=new Path2D,n.path(o,e,t)&&o.closePath()),X5(i,n.options),i.stroke(o)}function c1e(i,n,e,t){let{segments:o,options:r}=n,s=CT(n);for(let a of o)X5(i,r,a.style),i.beginPath(),s(i,n,a,{start:e,end:e+t-1})&&i.closePath(),i.stroke()}var d1e=typeof Path2D=="function";function u1e(i,n,e,t){d1e&&!n.options.segment?l1e(i,n,e,t):c1e(i,n,e,t)}var Kv=(()=>{class i extends wa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;FB(this._points,o,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BB(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){let o=this.options,r=e[t],s=this.points,a=JE(this,{property:t,start:r,end:r});if(!a.length)return;let l=[],c=a1e(o),u,g;for(u=0,g=a.length;u<g;++u){let{start:_,end:C}=a[u],w=s[_],S=s[C];if(w===S){l.push(w);continue}let A=Math.abs((r-w[t])/(S[t]-w[t])),x=c(w,S,A,o.stepped);x[t]=e[t],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,t,o){return CT(this)(e,this,t,o)}path(e,t,o){let r=this.segments,s=CT(this),a=this._loop;t=t||0,o=o||this.points.length-t;for(let l of r)a&=s(e,this,l,{start:t,end:t+o-1});return!!a}draw(e,t,o,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),u1e(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function f5(i,n,e,t){let o=i.options,{[e]:r}=i.getProps([e],t);return Math.abs(n-r)<o.radius+o.hitRadius}var p1e=(()=>{class i extends wa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,o){let r=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return f5(this,e,"x",t)}inYRange(e,t){return f5(this,e,"y",t)}getCenterPoint(e){let{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let o=t&&e.borderWidth||0;return(t+o)*2}draw(e,t){let o=this.options;this.skip||o.radius<.1||!el(this,t,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,Av(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function Z5(i,n){let{x:e,y:t,base:o,width:r,height:s}=i.getProps(["x","y","base","width","height"],n),a,l,c,u,g;return i.horizontal?(g=s/2,a=Math.min(e,o),l=Math.max(e,o),c=t-g,u=t+g):(g=r/2,a=e-g,l=e+g,c=Math.min(t,o),u=Math.max(t,o)),{left:a,top:c,right:l,bottom:u}}function ld(i,n,e,t){return i?0:zo(n,e,t)}function h1e(i,n,e){let t=i.options.borderWidth,o=i.borderSkipped,r=UE(t);return{t:ld(o.top,r.top,0,e),r:ld(o.right,r.right,0,n),b:ld(o.bottom,r.bottom,0,e),l:ld(o.left,r.left,0,n)}}function f1e(i,n,e){let{enableBorderRadius:t}=i.getProps(["enableBorderRadius"]),o=i.options.borderRadius,r=sd(o),s=Math.min(n,e),a=i.borderSkipped,l=t||ji(o);return{topLeft:ld(!l||a.top||a.left,r.topLeft,0,s),topRight:ld(!l||a.top||a.right,r.topRight,0,s),bottomLeft:ld(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:ld(!l||a.bottom||a.right,r.bottomRight,0,s)}}function m1e(i){let n=Z5(i),e=n.right-n.left,t=n.bottom-n.top,o=h1e(i,e/2,t/2),r=f1e(i,e/2,t/2);return{outer:{x:n.left,y:n.top,w:e,h:t,radius:r},inner:{x:n.left+o.l,y:n.top+o.t,w:e-o.l-o.r,h:t-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function oT(i,n,e,t){let o=n===null,r=e===null,a=i&&!(o&&r)&&Z5(i,t);return a&&(o||il(n,a.left,a.right))&&(r||il(e,a.top,a.bottom))}function g1e(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function _1e(i,n){i.rect(n.x,n.y,n.w,n.h)}function rT(i,n,e={}){let t=i.x!==e.x?-n:0,o=i.y!==e.y?-n:0,r=(i.x+i.w!==e.x+e.w?n:0)-t,s=(i.y+i.h!==e.y+e.h?n:0)-o;return{x:i.x+t,y:i.y+o,w:i.w+r,h:i.h+s,radius:i.radius}}var IT=class extends wa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:t,backgroundColor:o}}=this,{inner:r,outer:s}=m1e(this),a=g1e(s.radius)?Sh:_1e;n.save(),(s.w!==r.w||s.h!==r.h)&&(n.beginPath(),a(n,rT(s,e,r)),n.clip(),a(n,rT(r,-e,s)),n.fillStyle=t,n.fill("evenodd")),n.beginPath(),a(n,rT(r,e)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,e,t){return oT(this,n,e,t)}inXRange(n,e){return oT(this,n,null,e)}inYRange(n,e){return oT(this,null,n,e)}getCenterPoint(n){let{x:e,y:t,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],n);return{x:r?(e+o)/2:e,y:r?t:(t+o)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},C1e=Object.freeze({__proto__:null,ArcElement:_T,BarElement:IT,LineElement:Kv,PointElement:p1e}),vT=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],m5=vT.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function eU(i){return vT[i%vT.length]}function tU(i){return m5[i%m5.length]}function I1e(i,n){return i.borderColor=eU(n),i.backgroundColor=tU(n),++n}function v1e(i,n){return i.backgroundColor=i.data.map(()=>eU(n++)),n}function b1e(i,n){return i.backgroundColor=i.data.map(()=>tU(n++)),n}function y1e(i){let n=0;return(e,t)=>{let o=i.getDatasetMeta(t).controller;o instanceof TT?n=v1e(e,n):o instanceof H5?n=b1e(e,n):o&&(n=I1e(e,n))}}function g5(i){let n;for(n in i)if(i[n].borderColor||i[n].backgroundColor)return!0;return!1}function w1e(i){return i&&(i.borderColor||i.backgroundColor)}function S1e(){return Un.borderColor!=="rgba(0,0,0,0.1)"||Un.backgroundColor!=="rgba(0,0,0,0.1)"}var A1e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,n,e){if(!e.enabled)return;let{data:{datasets:t},options:o}=i.config,{elements:r}=o,s=g5(t)||w1e(o)||r&&g5(r)||S1e();if(!e.forceOverride&&s)return;let a=y1e(i);t.forEach(a)}};function x1e(i,n,e,t,o){let r=o.samples||t;if(r>=e)return i.slice(n,n+e);let s=[],a=(e-2)/(r-2),l=0,c=n+e-1,u=n,g,_,C,w,S;for(s[l++]=i[u],g=0;g<r-2;g++){let A=0,x=0,D,V=Math.floor((g+1)*a)+1+n,X=Math.min(Math.floor((g+2)*a)+1,e)+n,ee=X-V;for(D=V;D<X;D++)A+=i[D].x,x+=i[D].y;A/=ee,x/=ee;let ae=Math.floor(g*a)+1+n,me=Math.min(Math.floor((g+1)*a)+1,e)+n,{x:Ce,y:be}=i[u];for(C=w=-1,D=ae;D<me;D++)w=.5*Math.abs((Ce-A)*(i[D].y-be)-(Ce-i[D].x)*(x-be)),w>C&&(C=w,_=i[D],S=D);s[l++]=_,u=S}return s[l++]=i[c],s}function E1e(i,n,e,t){let o=0,r=0,s,a,l,c,u,g,_,C,w,S,A=[],x=n+e-1,D=i[n].x,X=i[x].x-D;for(s=n;s<n+e;++s){a=i[s],l=(a.x-D)/X*t,c=a.y;let ee=l|0;if(ee===u)c<w?(w=c,g=s):c>S&&(S=c,_=s),o=(r*o+a.x)/++r;else{let ae=s-1;if(!zi(g)&&!zi(_)){let me=Math.min(g,_),Ce=Math.max(g,_);me!==C&&me!==ae&&A.push(Ee(Q({},i[me]),{x:o})),Ce!==C&&Ce!==ae&&A.push(Ee(Q({},i[Ce]),{x:o}))}s>0&&ae!==C&&A.push(i[ae]),A.push(a),u=ee,r=0,w=S=c,g=_=C=s}}return A}function iU(i){if(i._decimated){let n=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function _5(i){i.data.datasets.forEach(n=>{iU(n)})}function T1e(i,n){let e=n.length,t=0,o,{iScale:r}=i,{min:s,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(t=zo(Za(n,r.axis,s).lo,0,e-1)),c?o=zo(Za(n,r.axis,a).hi+1,t,e)-t:o=e-t,{start:t,count:o}}var O1e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,n,e)=>{if(!e.enabled){_5(i);return}let t=i.width;i.data.datasets.forEach((o,r)=>{let{_data:s,indexAxis:a}=o,l=i.getDatasetMeta(r),c=s||o.data;if(Ah([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=i.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||i.options.parsing)return;let{start:g,count:_}=T1e(l,c),C=e.threshold||4*t;if(_<=C){iU(o);return}zi(s)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let w;switch(e.algorithm){case"lttb":w=x1e(c,g,_,t,e);break;case"min-max":w=E1e(c,g,_,t);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=w})},destroy(i){_5(i)}};function R1e(i,n,e){let t=i.segments,o=i.points,r=n.points,s=[];for(let a of t){let{start:l,end:c}=a;c=OT(l,c,o);let u=bT(e,o[l],o[c],a.loop);if(!n.segments){s.push({source:a,target:u,start:o[l],end:o[c]});continue}let g=JE(n,u);for(let _ of g){let C=bT(e,r[_.start],r[_.end],_.loop),w=YE(a,o,C);for(let S of w)s.push({source:S,target:_,start:{[e]:C5(u,C,"start",Math.max)},end:{[e]:C5(u,C,"end",Math.min)}})}}return s}function bT(i,n,e,t){if(t)return;let o=n[i],r=e[i];return i==="angle"&&(o=es(o),r=es(r)),{property:i,start:o,end:r}}function D1e(i,n){let{x:e=null,y:t=null}=i||{},o=n.points,r=[];return n.segments.forEach(({start:s,end:a})=>{a=OT(s,a,o);let l=o[s],c=o[a];t!==null?(r.push({x:l.x,y:t}),r.push({x:c.x,y:t})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function OT(i,n,e){for(;n>i;n--){let t=e[n];if(!isNaN(t.x)&&!isNaN(t.y))break}return n}function C5(i,n,e,t){return i&&n?t(i[e],n[e]):i?i[e]:n?n[e]:0}function nU(i,n){let e=[],t=!1;return Ln(i)?(t=!0,e=i):e=D1e(i,n),e.length?new Kv({points:e,options:{tension:0},_loop:t,_fullLoop:t}):null}function I5(i){return i&&i.fill!==!1}function P1e(i,n,e){let o=i[n].fill,r=[n],s;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!oo(o))return o;if(s=i[o],!s)return!1;if(s.visible)return o;r.push(o),o=s.fill}return!1}function F1e(i,n,e){let t=N1e(i);if(ji(t))return isNaN(t.value)?!1:t;let o=parseFloat(t);return oo(o)&&Math.floor(o)===o?L1e(t[0],n,o,e):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function L1e(i,n,e,t){return(i==="-"||i==="+")&&(e=n+e),e===n||e<0||e>=t?!1:e}function M1e(i,n){let e=null;return i==="start"?e=n.bottom:i==="end"?e=n.top:ji(i)?e=n.getPixelForValue(i.value):n.getBasePixel&&(e=n.getBasePixel()),e}function k1e(i,n,e){let t;return i==="start"?t=e:i==="end"?t=n.options.reverse?n.min:n.max:ji(i)?t=i.value:t=n.getBaseValue(),t}function N1e(i){let n=i.options,e=n.fill,t=fi(e&&e.target,e);return t===void 0&&(t=!!n.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function V1e(i){let{scale:n,index:e,line:t}=i,o=[],r=t.segments,s=t.points,a=B1e(n,e);a.push(nU({x:null,y:n.bottom},t));for(let l=0;l<r.length;l++){let c=r[l];for(let u=c.start;u<=c.end;u++)U1e(o,s[u],a)}return new Kv({points:o,options:{}})}function B1e(i,n){let e=[],t=i.getMatchingVisibleMetas("line");for(let o=0;o<t.length;o++){let r=t[o];if(r.index===n)break;r.hidden||e.unshift(r.dataset)}return e}function U1e(i,n,e){let t=[];for(let o=0;o<e.length;o++){let r=e[o],{first:s,last:a,point:l}=j1e(r,n,"x");if(!(!l||s&&a)){if(s)t.unshift(l);else if(i.push(l),!a)break}}i.push(...t)}function j1e(i,n,e){let t=i.interpolate(n,e);if(!t)return{};let o=t[e],r=i.segments,s=i.points,a=!1,l=!1;for(let c=0;c<r.length;c++){let u=r[c],g=s[u.start][e],_=s[u.end][e];if(il(o,g,_)){a=o===g,l=o===_;break}}return{first:a,last:l,point:t}}var zv=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,t){let{x:o,y:r,radius:s}=this;return e=e||{start:0,end:kn},n.arc(o,r,s,e.end,e.start,!0),!t.bounds}interpolate(n){let{x:e,y:t,radius:o}=this,r=n.angle;return{x:e+Math.cos(r)*o,y:t+Math.sin(r)*o,angle:r}}};function H1e(i){let{chart:n,fill:e,line:t}=i;if(oo(e))return G1e(n,e);if(e==="stack")return V1e(i);if(e==="shape")return!0;let o=z1e(i);return o instanceof zv?o:nU(o,t)}function G1e(i,n){let e=i.getDatasetMeta(n);return e&&i.isDatasetVisible(n)?e.dataset:null}function z1e(i){return(i.scale||{}).getPointPositionForValue?$1e(i):W1e(i)}function W1e(i){let{scale:n={},fill:e}=i,t=M1e(e,n);if(oo(t)){let o=n.isHorizontal();return{x:o?t:null,y:o?null:t}}return null}function $1e(i){let{scale:n,fill:e}=i,t=n.options,o=n.getLabels().length,r=t.reverse?n.max:n.min,s=k1e(e,n,r),a=[];if(t.grid.circular){let l=n.getPointPositionForValue(0,r);return new zv({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(n.getPointPositionForValue(l,s));return a}function sT(i,n,e){let t=H1e(n),{line:o,scale:r,axis:s}=n,a=o.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:g=c}=l||{};t&&o.points.length&&(Jm(i,e),K1e(i,{line:o,target:t,above:u,below:g,area:e,scale:r,axis:s}),Xm(i))}function K1e(i,n){let{line:e,target:t,above:o,below:r,area:s,scale:a}=n,l=e._loop?"angle":n.axis;i.save(),l==="x"&&r!==o&&(v5(i,t,s.top),b5(i,{line:e,target:t,color:o,scale:a,property:l}),i.restore(),i.save(),v5(i,t,s.bottom)),b5(i,{line:e,target:t,color:r,scale:a,property:l}),i.restore()}function v5(i,n,e){let{segments:t,points:o}=n,r=!0,s=!1;i.beginPath();for(let a of t){let{start:l,end:c}=a,u=o[l],g=o[OT(l,c,o)];r?(i.moveTo(u.x,u.y),r=!1):(i.lineTo(u.x,e),i.lineTo(u.x,u.y)),s=!!n.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(g.x,e)}i.lineTo(n.first().x,e),i.closePath(),i.clip()}function b5(i,n){let{line:e,target:t,property:o,color:r,scale:s}=n,a=R1e(e,t,o);for(let{source:l,target:c,start:u,end:g}of a){let{style:{backgroundColor:_=r}={}}=l,C=t!==!0;i.save(),i.fillStyle=_,q1e(i,s,C&&bT(o,u,g)),i.beginPath();let w=!!e.pathSegment(i,l),S;if(C){w?i.closePath():y5(i,t,g,o);let A=!!t.pathSegment(i,c,{move:w,reverse:!0});S=w&&A,S||y5(i,t,u,o)}i.closePath(),i.fill(S?"evenodd":"nonzero"),i.restore()}}function q1e(i,n,e){let{top:t,bottom:o}=n.chart.chartArea,{property:r,start:s,end:a}=e||{};r==="x"&&(i.beginPath(),i.rect(s,t,a-s,o-t),i.clip())}function y5(i,n,e,t){let o=n.interpolate(e,t);o&&i.lineTo(o.x,o.y)}var Y1e={id:"filler",afterDatasetsUpdate(i,n,e){let t=(i.data.datasets||[]).length,o=[],r,s,a,l;for(s=0;s<t;++s)r=i.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof Kv&&(l={visible:i.isDatasetVisible(s),index:s,fill:F1e(a,s,t),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<t;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=P1e(o,s,e.propagate))},beforeDraw(i,n,e){let t=e.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let s=o.length-1;s>=0;--s){let a=o[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),t&&a.fill&&sT(i.ctx,a,r))}},beforeDatasetsDraw(i,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let t=i.getSortedVisibleDatasetMetas();for(let o=t.length-1;o>=0;--o){let r=t[o].$filler;I5(r)&&sT(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,n,e){let t=n.meta.$filler;!I5(t)||e.drawTime!=="beforeDatasetDraw"||sT(i.ctx,t,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},w5=(i,n)=>{let{boxHeight:e=n,boxWidth:t=n}=i;return i.usePointStyle&&(e=Math.min(e,n),t=i.pointStyleWidth||Math.min(t,n)),{boxWidth:t,boxHeight:e,itemHeight:Math.max(n,e)}},J1e=(i,n)=>i!==null&&n!==null&&i.datasetIndex===n.datasetIndex&&i.index===n.index,Wv=class extends wa{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,t){this.maxWidth=n,this.maxHeight=e,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=An(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(t=>n.filter(t,this.chart.data))),n.sort&&(e=e.sort((t,o)=>n.sort(t,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let t=n.labels,o=Fo(t.font),r=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=w5(t,r),c,u;e.font=o.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(u,n.maxHeight||this.maxHeight)}_fitRows(n,e,t,o){let{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=o+a,g=n;r.textAlign="left",r.textBaseline="middle";let _=-1,C=-u;return this.legendItems.forEach((w,S)=>{let A=t+e/2+r.measureText(w.text).width;(S===0||c[c.length-1]+A+2*a>s)&&(g+=u,c[c.length-(S>0?0:1)]=0,C+=u,_++),l[S]={left:0,top:C,row:_,width:A,height:o},c[c.length-1]+=A+a}),g}_fitCols(n,e,t,o){let{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-n,g=a,_=0,C=0,w=0,S=0;return this.legendItems.forEach((A,x)=>{let{itemWidth:D,itemHeight:V}=X1e(t,e,r,A,o);x>0&&C+V+2*a>u&&(g+=_+a,c.push({width:_,height:C}),w+=_+a,S++,_=C=0),l[x]={left:w,top:C,col:S,width:D,height:V},_=Math.max(_,D),C+=V+a}),g+=_,c.push({width:_,height:C}),g}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:t,labels:{padding:o},rtl:r}}=this,s=hu(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=hr(t,this.left+o,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=hr(t,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+n+o,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+o}else{let a=0,l=hr(t,this.top+n+o,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=hr(t,this.top+n+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;Jm(n,this),this._draw(),Xm(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:t,ctx:o}=this,{align:r,labels:s}=n,a=Un.color,l=hu(n.rtl,this.left,this.width),c=Fo(s.font),{padding:u}=s,g=c.size,_=g/2,C;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;let{boxWidth:w,boxHeight:S,itemHeight:A}=w5(s,g),x=function(ae,me,Ce){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;o.save();let be=fi(Ce.lineWidth,1);if(o.fillStyle=fi(Ce.fillStyle,a),o.lineCap=fi(Ce.lineCap,"butt"),o.lineDashOffset=fi(Ce.lineDashOffset,0),o.lineJoin=fi(Ce.lineJoin,"miter"),o.lineWidth=be,o.strokeStyle=fi(Ce.strokeStyle,a),o.setLineDash(fi(Ce.lineDash,[])),s.usePointStyle){let tt={radius:S*Math.SQRT2/2,pointStyle:Ce.pointStyle,rotation:Ce.rotation,borderWidth:be},Vt=l.xPlus(ae,w/2),ai=me+_;BE(o,tt,Vt,ai,s.pointStyleWidth&&w)}else{let tt=me+Math.max((g-S)/2,0),Vt=l.leftForLtr(ae,w),ai=sd(Ce.borderRadius);o.beginPath(),Object.values(ai).some(rn=>rn!==0)?Sh(o,{x:Vt,y:tt,w,h:S,radius:ai}):o.rect(Vt,tt,w,S),o.fill(),be!==0&&o.stroke()}o.restore()},D=function(ae,me,Ce){rd(o,Ce.text,ae,me+A/2,c,{strikethrough:Ce.hidden,textAlign:l.textAlign(Ce.textAlign)})},V=this.isHorizontal(),X=this._computeTitleHeight();V?C={x:hr(r,this.left+u,this.right-t[0]),y:this.top+u+X,line:0}:C={x:this.left+u,y:hr(r,this.top+X+u,this.bottom-e[0].height),line:0},KE(this.ctx,n.textDirection);let ee=A+u;this.legendItems.forEach((ae,me)=>{o.strokeStyle=ae.fontColor,o.fillStyle=ae.fontColor;let Ce=o.measureText(ae.text).width,be=l.textAlign(ae.textAlign||(ae.textAlign=s.textAlign)),tt=w+_+Ce,Vt=C.x,ai=C.y;l.setWidth(this.width),V?me>0&&Vt+tt+u>this.right&&(ai=C.y+=ee,C.line++,Vt=C.x=hr(r,this.left+u,this.right-t[C.line])):me>0&&ai+ee>this.bottom&&(Vt=C.x=Vt+e[C.line].width+u,C.line++,ai=C.y=hr(r,this.top+X+u,this.bottom-e[C.line].height));let rn=l.x(Vt);if(x(rn,ai,ae),Vt=wB(be,Vt+w+_,V?Vt+tt:this.right,n.rtl),D(l.x(Vt),ai,ae),V)C.x+=tt+u;else if(typeof ae.text!="string"){let Ye=c.lineHeight;C.y+=oU(ae,Ye)+u}else C.y+=ee}),qE(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,t=Fo(e.font),o=fr(e.padding);if(!e.display)return;let r=hu(n.rtl,this.left,this.width),s=this.ctx,a=e.position,l=t.size/2,c=o.top+l,u,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),u=this.top+c,g=hr(n.align,g,this.right-_);else{let w=this.columnSizes.reduce((S,A)=>Math.max(S,A.height),0);u=c+hr(n.align,this.top,this.bottom-w-n.labels.padding-this._computeTitleHeight())}let C=hr(a,g,g+_);s.textAlign=r.textAlign(wv(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=t.string,rd(s,e.text,C,u,t)}_computeTitleHeight(){let n=this.options.title,e=Fo(n.font),t=fr(n.padding);return n.display?e.lineHeight+t.height:0}_getLegendItemAt(n,e){let t,o,r;if(il(n,this.left,this.right)&&il(e,this.top,this.bottom)){for(r=this.legendHitBoxes,t=0;t<r.length;++t)if(o=r[t],il(n,o.left,o.left+o.width)&&il(e,o.top,o.top+o.height))return this.legendItems[t]}return null}handleEvent(n){let e=this.options;if(!eSe(n.type,e))return;let t=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let o=this._hoveredItem,r=J1e(o,t);o&&!r&&An(e.onLeave,[n,o,this],this),this._hoveredItem=t,t&&!r&&An(e.onHover,[n,t,this],this)}else t&&An(e.onClick,[n,t,this],this)}};function X1e(i,n,e,t,o){let r=Q1e(t,i,n,e),s=Z1e(o,t,n.lineHeight);return{itemWidth:r,itemHeight:s}}function Q1e(i,n,e,t){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((r,s)=>r.length>s.length?r:s)),n+e.size/2+t.measureText(o).width}function Z1e(i,n,e){let t=i;return typeof n.text!="string"&&(t=oU(n,e)),t}function oU(i,n){let e=i.text?i.text.length:0;return n*e}function eSe(i,n){return!!((i==="mousemove"||i==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(i==="click"||i==="mouseup"))}var tSe={id:"legend",_element:Wv,start(i,n,e){let t=i.legend=new Wv({ctx:i.ctx,options:e,chart:i});Ar.configure(i,t,e),Ar.addBox(i,t)},stop(i){Ar.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,n,e){let t=i.legend;Ar.configure(i,t,e),t.options=e},afterUpdate(i){let n=i.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(i,n){n.replay||i.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,n,e){let t=n.datasetIndex,o=e.chart;o.isDatasetVisible(t)?(o.hide(t),n.hidden=!0):(o.show(t),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let n=i.data.datasets,{labels:{usePointStyle:e,pointStyle:t,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),u=fr(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:t||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},sg=class extends wa{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let o=Ln(t.text)?t.text.length:1;this._padding=fr(t.padding);let r=o*Fo(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:t,bottom:o,right:r,options:s}=this,a=s.align,l=0,c,u,g;return this.isHorizontal()?(u=hr(a,t,r),g=e+n,c=r-t):(s.position==="left"?(u=t+n,g=hr(a,o,e),l=Mn*-.5):(u=r-n,g=hr(a,e,o),l=Mn*.5),c=o-e),{titleX:u,titleY:g,maxWidth:c,rotation:l}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let t=Fo(e.font),r=t.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);rd(n,e.text,0,0,t,{color:e.color,maxWidth:l,rotation:c,textAlign:wv(e.align),textBaseline:"middle",translation:[s,a]})}};function iSe(i,n){let e=new sg({ctx:i.ctx,options:n,chart:i});Ar.configure(i,e,n),Ar.addBox(i,e),i.titleBlock=e}var nSe={id:"title",_element:sg,start(i,n,e){iSe(i,e)},stop(i){let n=i.titleBlock;Ar.removeBox(i,n),delete i.titleBlock},beforeUpdate(i,n,e){let t=i.titleBlock;Ar.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Mv=new WeakMap,oSe={id:"subtitle",start(i,n,e){let t=new sg({ctx:i.ctx,options:e,chart:i});Ar.configure(i,t,e),Ar.addBox(i,t),Mv.set(i,t)},stop(i){Ar.removeBox(i,Mv.get(i)),Mv.delete(i)},beforeUpdate(i,n,e){let t=Mv.get(i);Ar.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},og={average(i){if(!i.length)return!1;let n,e,t=new Set,o=0,r=0;for(n=0,e=i.length;n<e;++n){let a=i[n].element;if(a&&a.hasValue()){let l=a.tooltipPosition();t.add(l.x),o+=l.y,++r}}return r===0||t.size===0?!1:{x:[...t].reduce((a,l)=>a+l)/t.size,y:o/r}},nearest(i,n){if(!i.length)return!1;let e=n.x,t=n.y,o=Number.POSITIVE_INFINITY,r,s,a;for(r=0,s=i.length;r<s;++r){let l=i[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Cv(n,c);u<o&&(o=u,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,t=l.y}return{x:e,y:t}}};function nl(i,n){return n&&(Ln(n)?Array.prototype.push.apply(i,n):i.push(n)),i}function ec(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function rSe(i,n){let{element:e,datasetIndex:t,index:o}=n,r=i.getDatasetMeta(t).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:i,label:s,parsed:r.getParsed(o),raw:i.data.datasets[t].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:t,element:e}}function S5(i,n){let e=i.chart.ctx,{body:t,footer:o,title:r}=i,{boxWidth:s,boxHeight:a}=n,l=Fo(n.bodyFont),c=Fo(n.titleFont),u=Fo(n.footerFont),g=r.length,_=o.length,C=t.length,w=fr(n.padding),S=w.height,A=0,x=t.reduce((X,ee)=>X+ee.before.length+ee.lines.length+ee.after.length,0);if(x+=i.beforeBody.length+i.afterBody.length,g&&(S+=g*c.lineHeight+(g-1)*n.titleSpacing+n.titleMarginBottom),x){let X=n.displayColors?Math.max(a,l.lineHeight):l.lineHeight;S+=C*X+(x-C)*l.lineHeight+(x-1)*n.bodySpacing}_&&(S+=n.footerMarginTop+_*u.lineHeight+(_-1)*n.footerSpacing);let D=0,V=function(X){A=Math.max(A,e.measureText(X).width+D)};return e.save(),e.font=c.string,hn(i.title,V),e.font=l.string,hn(i.beforeBody.concat(i.afterBody),V),D=n.displayColors?s+2+n.boxPadding:0,hn(t,X=>{hn(X.before,V),hn(X.lines,V),hn(X.after,V)}),D=0,e.font=u.string,hn(i.footer,V),e.restore(),A+=w.width,{width:A,height:S}}function sSe(i,n){let{y:e,height:t}=n;return e<t/2?"top":e>i.height-t/2?"bottom":"center"}function aSe(i,n,e,t){let{x:o,width:r}=t,s=e.caretSize+e.caretPadding;if(i==="left"&&o+r+s>n.width||i==="right"&&o-r-s<0)return!0}function lSe(i,n,e,t){let{x:o,width:r}=e,{width:s,chartArea:{left:a,right:l}}=i,c="center";return t==="center"?c=o<=(a+l)/2?"left":"right":o<=r/2?c="left":o>=s-r/2&&(c="right"),aSe(c,i,n,e)&&(c="center"),c}function A5(i,n,e){let t=e.yAlign||n.yAlign||sSe(i,e);return{xAlign:e.xAlign||n.xAlign||lSe(i,n,e,t),yAlign:t}}function cSe(i,n){let{x:e,width:t}=i;return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function dSe(i,n,e){let{y:t,height:o}=i;return n==="top"?t+=e:n==="bottom"?t-=o+e:t-=o/2,t}function x5(i,n,e,t){let{caretSize:o,caretPadding:r,cornerRadius:s}=i,{xAlign:a,yAlign:l}=e,c=o+r,{topLeft:u,topRight:g,bottomLeft:_,bottomRight:C}=sd(s),w=cSe(n,a),S=dSe(n,l,c);return l==="center"?a==="left"?w+=c:a==="right"&&(w-=c):a==="left"?w-=Math.max(u,_)+o:a==="right"&&(w+=Math.max(g,C)+o),{x:zo(w,0,t.width-n.width),y:zo(S,0,t.height-n.height)}}function kv(i,n,e){let t=fr(e.padding);return n==="center"?i.x+i.width/2:n==="right"?i.x+i.width-t.right:i.x+t.left}function E5(i){return nl([],ec(i))}function uSe(i,n,e){return Ql(i,{tooltip:n,tooltipItems:e,type:"tooltip"})}function T5(i,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?i.override(e):i}var rU={beforeTitle:tl,title(i){if(i.length>0){let n=i[0],e=n.chart.data.labels,t=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(t>0&&n.dataIndex<t)return e[n.dataIndex]}return""},afterTitle:tl,beforeBody:tl,beforeLabel:tl,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let n=i.dataset.label||"";n&&(n+=": ");let e=i.formattedValue;return zi(e)||(n+=e),n},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:tl,afterBody:tl,beforeFooter:tl,footer:tl,afterFooter:tl};function is(i,n,e,t){let o=i[n].call(e,t);return typeof o>"u"?rU[n].call(e,t):o}var O5=(()=>{class i extends wa{static positioners=og;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&t.options.animation&&o.animations,s=new Uv(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uSe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:o}=t,r=is(o,"beforeTitle",this,e),s=is(o,"title",this,e),a=is(o,"afterTitle",this,e),l=[];return l=nl(l,ec(r)),l=nl(l,ec(s)),l=nl(l,ec(a)),l}getBeforeBody(e,t){return E5(is(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:o}=t,r=[];return hn(e,s=>{let a={before:[],lines:[],after:[]},l=T5(o,s);nl(a.before,ec(is(l,"beforeLabel",this,s))),nl(a.lines,is(l,"label",this,s)),nl(a.after,ec(is(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return E5(is(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:o}=t,r=is(o,"beforeFooter",this,e),s=is(o,"footer",this,e),a=is(o,"afterFooter",this,e),l=[];return l=nl(l,ec(r)),l=nl(l,ec(s)),l=nl(l,ec(a)),l}_createItems(e){let t=this._active,o=this.chart.data,r=[],s=[],a=[],l=[],c,u;for(c=0,u=t.length;c<u;++c)l.push(rSe(this.chart,t[c]));return e.filter&&(l=l.filter((g,_,C)=>e.filter(g,_,C,o))),e.itemSort&&(l=l.sort((g,_)=>e.itemSort(g,_,o))),hn(l,g=>{let _=T5(e.callbacks,g);r.push(is(_,"labelColor",this,g)),s.push(is(_,"labelPointStyle",this,g)),a.push(is(_,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){let o=this.options.setContext(this.getContext()),r=this._active,s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let l=og[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let c=this._size=S5(this,o),u=Object.assign({},l,c),g=A5(this.chart,o,u),_=x5(o,u,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,s={opacity:1,x:_.x,y:_.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,r){let s=this.getCaretPosition(e,o,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,o){let{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:u,bottomLeft:g,bottomRight:_}=sd(l),{x:C,y:w}=e,{width:S,height:A}=t,x,D,V,X,ee,ae;return s==="center"?(ee=w+A/2,r==="left"?(x=C,D=x-a,X=ee+a,ae=ee-a):(x=C+S,D=x+a,X=ee-a,ae=ee+a),V=x):(r==="left"?D=C+Math.max(c,g)+a:r==="right"?D=C+S-Math.max(u,_)-a:D=this.caretX,s==="top"?(X=w,ee=X-a,x=D-a,V=D+a):(X=w+A,ee=X+a,x=D+a,V=D-a),ae=X),{x1:x,x2:D,x3:V,y1:X,y2:ee,y3:ae}}drawTitle(e,t,o){let r=this.title,s=r.length,a,l,c;if(s){let u=hu(o.rtl,this.x,this.width);for(e.x=kv(this,o.titleAlign,o),t.textAlign=u.textAlign(o.titleAlign),t.textBaseline="middle",a=Fo(o.titleFont),l=o.titleSpacing,t.fillStyle=o.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(r[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,t,o,r,s){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:u}=s,g=Fo(s.bodyFont),_=kv(this,"left",s),C=r.x(_),w=c<g.lineHeight?(g.lineHeight-c)/2:0,S=t.y+w;if(s.usePointStyle){let A={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=r.leftForLtr(C,u)+u/2,D=S+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Av(e,A,x,D),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Av(e,A,x,D)}else{e.lineWidth=ji(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let A=r.leftForLtr(C,u),x=r.leftForLtr(r.xPlus(C,1),u-2),D=sd(a.borderRadius);Object.values(D).some(V=>V!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Sh(e,{x:A,y:S,w:u,h:c,radius:D}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Sh(e,{x,y:S+1,w:u-2,h:c-2,radius:D}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(A,S,u,c),e.strokeRect(A,S,u,c),e.fillStyle=a.backgroundColor,e.fillRect(x,S+1,u-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){let{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:g}=o,_=Fo(o.bodyFont),C=_.lineHeight,w=0,S=hu(o.rtl,this.x,this.width),A=function(be){t.fillText(be,S.x(e.x+w),e.y+C/2),e.y+=C+s},x=S.textAlign(a),D,V,X,ee,ae,me,Ce;for(t.textAlign=a,t.textBaseline="middle",t.font=_.string,e.x=kv(this,x,o),t.fillStyle=o.bodyColor,hn(this.beforeBody,A),w=l&&x!=="right"?a==="center"?u/2+g:u+2+g:0,ee=0,me=r.length;ee<me;++ee){for(D=r[ee],V=this.labelTextColors[ee],t.fillStyle=V,hn(D.before,A),X=D.lines,l&&X.length&&(this._drawColorBox(t,e,ee,S,o),C=Math.max(_.lineHeight,c)),ae=0,Ce=X.length;ae<Ce;++ae)A(X[ae]),C=_.lineHeight;hn(D.after,A)}w=0,C=_.lineHeight,hn(this.afterBody,A),e.y-=s}drawFooter(e,t,o){let r=this.footer,s=r.length,a,l;if(s){let c=hu(o.rtl,this.x,this.width);for(e.x=kv(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=c.textAlign(o.footerAlign),t.textBaseline="middle",a=Fo(o.footerFont),t.fillStyle=o.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,t,o,r){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:g}=o,{topLeft:_,topRight:C,bottomLeft:w,bottomRight:S}=sd(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(l+_,c),a==="top"&&this.drawCaret(e,t,o,r),t.lineTo(l+u-C,c),t.quadraticCurveTo(l+u,c,l+u,c+C),a==="center"&&s==="right"&&this.drawCaret(e,t,o,r),t.lineTo(l+u,c+g-S),t.quadraticCurveTo(l+u,c+g,l+u-S,c+g),a==="bottom"&&this.drawCaret(e,t,o,r),t.lineTo(l+w,c+g),t.quadraticCurveTo(l,c+g,l,c+g-w),a==="center"&&s==="left"&&this.drawCaret(e,t,o,r),t.lineTo(l,c+_),t.quadraticCurveTo(l,c,l+_,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,o=this.$animations,r=o&&o.x,s=o&&o.y;if(r||s){let a=og[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=S5(this,e),c=Object.assign({},a,this._size),u=A5(t,e,c),g=x5(e,c,u,t);(r._to!==g.x||s._to!==g.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(t);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=fr(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(s,e,r,t),KE(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),qE(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let o=this._active,r=e.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!qm(o,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,o),l=this._positionChanged(a,e),c=t||!qm(a,s)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,o,r){let s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,o);return s.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:o,caretY:r,options:s}=this,a=og[s.position].call(this,e,t);return a!==!1&&(o!==a.x||r!==a.y)}}return i})(),pSe={id:"tooltip",_element:O5,positioners:og,afterInit(i,n,e){e&&(i.tooltip=new O5({chart:i,options:e}))},beforeUpdate(i,n,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,n,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let n=i.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(i.notifyPlugins("beforeTooltipDraw",Ee(Q({},e),{cancelable:!0}))===!1)return;n.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,n){if(i.tooltip){let e=n.replay;i.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,n)=>n.bodyFont.size,boxWidth:(i,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rU},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},hSe=Object.freeze({__proto__:null,Colors:A1e,Decimation:O1e,Filler:Y1e,Legend:tSe,SubTitle:oSe,Title:nSe,Tooltip:pSe}),fSe=(i,n,e,t)=>(typeof n=="string"?(e=i.push(n)-1,t.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function mSe(i,n,e,t){let o=i.indexOf(n);if(o===-1)return fSe(i,n,e,t);let r=i.lastIndexOf(n);return o!==r?e:o}var gSe=(i,n)=>i===null?null:zo(Math.round(i),0,n);function R5(i){let n=this.getLabels();return i>=0&&i<n.length?n[i]:i}var _Se=(()=>{class i extends gu{static id="category";static defaults={ticks:{callback:R5}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let o=this.getLabels();for(let{index:r,label:s}of t)o[r]===s&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(zi(e))return null;let o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:mSe(o,e,fi(t,e),this._addedLabels),gSe(t,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),t||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let e=this.min,t=this.max,o=this.options.offset,r=[],s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return R5.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function CSe(i,n){let e=[],{bounds:o,step:r,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:g,includeBounds:_}=i,C=r||1,w=u-1,{min:S,max:A}=n,x=!zi(s),D=!zi(a),V=!zi(c),X=(A-S)/(g+1),ee=xE((A-S)/w/C)*C,ae,me,Ce,be;if(ee<1e-14&&!x&&!D)return[{value:S},{value:A}];be=Math.ceil(A/ee)-Math.floor(S/ee),be>w&&(ee=xE(be*ee/w/C)*C),zi(l)||(ae=Math.pow(10,l),ee=Math.ceil(ee*ae)/ae),o==="ticks"?(me=Math.floor(S/ee)*ee,Ce=Math.ceil(A/ee)*ee):(me=S,Ce=A),x&&D&&r&&gB((a-s)/r,ee/1e3)?(be=Math.round(Math.min((a-s)/ee,u)),ee=(a-s)/be,me=s,Ce=a):V?(me=x?s:me,Ce=D?a:Ce,be=c-1,ee=(Ce-me)/be):(be=(Ce-me)/ee,bh(be,Math.round(be),ee/1e3)?be=Math.round(be):be=Math.ceil(be));let tt=Math.max(TE(ee),TE(me));ae=Math.pow(10,zi(l)?tt:l),me=Math.round(me*ae)/ae,Ce=Math.round(Ce*ae)/ae;let Vt=0;for(x&&(_&&me!==s?(e.push({value:s}),me<s&&Vt++,bh(Math.round((me+Vt*ee)*ae)/ae,s,D5(s,X,i))&&Vt++):me<s&&Vt++);Vt<be;++Vt){let ai=Math.round((me+Vt*ee)*ae)/ae;if(D&&ai>a)break;e.push({value:ai})}return D&&_&&Ce!==a?e.length&&bh(e[e.length-1].value,a,D5(a,X,i))?e[e.length-1].value=a:e.push({value:a}):(!D||Ce===a)&&e.push({value:Ce}),e}function D5(i,n,{horizontal:e,minRotation:t}){let o=Ys(t),r=(e?Math.sin(o):Math.cos(o))||.001,s=.75*n*(""+i).length;return Math.min(n/r,s)}var Th=class extends gu{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return zi(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=e?o:l,a=l=>r=t?r:l;if(n){let l=ya(o),c=ya(r);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),n||s(o-l)}this.min=o,this.max=r}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:t}=n,o;return t?(o=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,t=this.getTickLimit();t=Math.max(2,t);let o={maxTicks:t,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,s=CSe(o,r);return n.bounds==="ticks"&&EE(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,e=this.min,t=this.max;if(super.configure(),this.options.offset&&n.length){let o=(t-e)/Math.max(n.length-1,1)/2;e-=o,t+=o}this._startValue=e,this._endValue=t,this._valueRange=t-e}getLabelForValue(n){return wh(n,this.chart.options.locale,this.options.ticks.format)}},yT=class extends Th{static id="linear";static defaults={ticks:{callback:Ym.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=oo(n)?n:0,this.max=oo(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,t=Ys(this.options.ticks.minRotation),o=(n?Math.sin(t):Math.cos(t))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},ag=i=>Math.floor(Jl(i)),mu=(i,n)=>Math.pow(10,ag(i)+n);function P5(i){return i/Math.pow(10,ag(i))===1}function F5(i,n,e){let t=Math.pow(10,e),o=Math.floor(i/t);return Math.ceil(n/t)-o}function ISe(i,n){let e=n-i,t=ag(e);for(;F5(i,n,t)>10;)t++;for(;F5(i,n,t)<10;)t--;return Math.min(t,ag(i))}function vSe(i,{min:n,max:e}){n=ts(i.min,n);let t=[],o=ag(n),r=ISe(n,e),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,c=Math.round((n-l)*s)/s,u=Math.floor((n-l)/a/10)*a*10,g=Math.floor((c-u)/Math.pow(10,r)),_=ts(i.min,Math.round((l+u+g*Math.pow(10,r))*s)/s);for(;_<e;)t.push({value:_,major:P5(_),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(r++,g=2,s=r>=0?1:s),_=Math.round((l+u+g*Math.pow(10,r))*s)/s;let C=ts(i.max,_);return t.push({value:C,major:P5(C),significand:g}),t}var wT=class extends gu{static id="logarithmic";static defaults={ticks:{callback:Ym.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let t=Th.prototype.parse.apply(this,[n,e]);if(t===0){this._zero=!0;return}return oo(t)&&t>0?t:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=oo(n)?Math.max(0,n):null,this.max=oo(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oo(this._userMin)&&(this.min=n===mu(this.min,0)?mu(this.min,-1):mu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),t=this.min,o=this.max,r=a=>t=n?t:a,s=a=>o=e?o:a;t===o&&(t<=0?(r(1),s(10)):(r(mu(t,-1)),s(mu(o,1)))),t<=0&&r(mu(o,-1)),o<=0&&s(mu(t,1)),this.min=t,this.max=o}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},t=vSe(e,this);return n.bounds==="ticks"&&EE(t,this,"value"),n.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(n){return n===void 0?"0":wh(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Jl(n),this._valueRange=Jl(this.max)-Jl(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Jl(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function ST(i){let n=i.ticks;if(n.display&&i.display){let e=fr(n.backdropPadding);return fi(n.font&&n.font.size,Un.font.size)+e.height}return 0}function bSe(i,n,e){return e=Ln(e)?e:[e],{w:AB(i,n.string,e),h:e.length*n.lineHeight}}function L5(i,n,e,t,o){return i===t||i===o?{start:n-e/2,end:n+e/2}:i<t||i>o?{start:n-e,end:n}:{start:n,end:n+e}}function ySe(i){let n={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},n),t=[],o=[],r=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?Mn/r:0;for(let l=0;l<r;l++){let c=s.setContext(i.getPointLabelContext(l));o[l]=c.padding;let u=i.getPointPosition(l,i.drawingArea+o[l],a),g=Fo(c.font),_=bSe(i.ctx,g,i._pointLabels[l]);t[l]=_;let C=es(i.getIndexAngle(l)+a),w=Math.round(bv(C)),S=L5(w,u.x,_.w,0,180),A=L5(w,u.y,_.h,90,270);wSe(e,n,C,S,A)}i.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),i._pointLabelItems=xSe(i,t,o)}function wSe(i,n,e,t,o){let r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;t.start<n.l?(a=(n.l-t.start)/r,i.l=Math.min(i.l,n.l-a)):t.end>n.r&&(a=(t.end-n.r)/r,i.r=Math.max(i.r,n.r+a)),o.start<n.t?(l=(n.t-o.start)/s,i.t=Math.min(i.t,n.t-l)):o.end>n.b&&(l=(o.end-n.b)/s,i.b=Math.max(i.b,n.b+l))}function SSe(i,n,e){let t=i.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=e,l=i.getPointPosition(n,t+o+s,r),c=Math.round(bv(es(l.angle+po))),u=OSe(l.y,a.h,c),g=ESe(c),_=TSe(l.x,a.w,g);return{visible:!0,x:l.x,y:u,textAlign:g,left:_,top:u,right:_+a.w,bottom:u+a.h}}function ASe(i,n){if(!n)return!0;let{left:e,top:t,right:o,bottom:r}=i;return!(el({x:e,y:t},n)||el({x:e,y:r},n)||el({x:o,y:t},n)||el({x:o,y:r},n))}function xSe(i,n,e){let t=[],o=i._pointLabels.length,r=i.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:ST(r)/2,additionalAngle:s?Mn/o:0},c;for(let u=0;u<o;u++){l.padding=e[u],l.size=n[u];let g=SSe(i,u,l);t.push(g),a==="auto"&&(g.visible=ASe(g,c),g.visible&&(c=g))}return t}function ESe(i){return i===0||i===180?"center":i<180?"left":"right"}function TSe(i,n,e){return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function OSe(i,n,e){return e===90||e===270?i-=n/2:(e>270||e<90)&&(i-=n),i}function RSe(i,n,e){let{left:t,top:o,right:r,bottom:s}=e,{backdropColor:a}=n;if(!zi(a)){let l=sd(n.borderRadius),c=fr(n.backdropPadding);i.fillStyle=a;let u=t-c.left,g=o-c.top,_=r-t+c.width,C=s-o+c.height;Object.values(l).some(w=>w!==0)?(i.beginPath(),Sh(i,{x:u,y:g,w:_,h:C,radius:l}),i.fill()):i.fillRect(u,g,_,C)}}function DSe(i,n){let{ctx:e,options:{pointLabels:t}}=i;for(let o=n-1;o>=0;o--){let r=i._pointLabelItems[o];if(!r.visible)continue;let s=t.setContext(i.getPointLabelContext(o));RSe(e,s,r);let a=Fo(s.font),{x:l,y:c,textAlign:u}=r;rd(e,i._pointLabels[o],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function sU(i,n,e,t){let{ctx:o}=i;if(e)o.arc(i.xCenter,i.yCenter,n,0,kn);else{let r=i.getPointPosition(0,n);o.moveTo(r.x,r.y);for(let s=1;s<t;s++)r=i.getPointPosition(s,n),o.lineTo(r.x,r.y)}}function PSe(i,n,e,t,o){let r=i.ctx,s=n.circular,{color:a,lineWidth:l}=n;!s&&!t||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),sU(i,e,s,t),r.closePath(),r.stroke(),r.restore())}function FSe(i,n,e){return Ql(i,{label:e,index:n,type:"pointLabel"})}var AT=class extends Th{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ym.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=fr(ST(this.options)/2),e=this.width=this.maxWidth-n.width,t=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+t/2+n.top),this.drawingArea=Math.floor(Math.min(e,t)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=oo(n)&&!isNaN(n)?n:0,this.max=oo(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ST(this.options))}generateTickLabels(n){Th.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,t)=>{let o=An(this.options.pointLabels.callback,[e,t],this);return o||o===0?o:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let n=this.options;n.display&&n.pointLabels.display?ySe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,t,o){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((t-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,t,o))}getIndexAngle(n){let e=kn/(this._pointLabels.length||1),t=this.options.startAngle||0;return es(n*e+Ys(t))}getDistanceFromCenterForValue(n){if(zi(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(zi(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let t=e[n];return FSe(this.getContext(),n,t)}}getPointPosition(n,e,t=0){let o=this.getIndexAngle(n)-po+t;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:t,right:o,bottom:r}=this._pointLabelItems[n];return{left:e,top:t,right:o,bottom:r}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let t=this.ctx;t.save(),t.beginPath(),sU(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=n,t.fill(),t.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:t,grid:o,border:r}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&DSe(this,s),o.display&&this.ticks.forEach((u,g)=>{if(g!==0||g===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let _=this.getContext(g),C=o.setContext(_),w=r.setContext(_);PSe(this,C,l,s,w)}}),t.display){for(n.save(),a=s-1;a>=0;a--){let u=t.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:_}=u;!_||!g||(n.lineWidth=_,n.strokeStyle=g,n.setLineDash(u.borderDash),n.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,t=e.ticks;if(!t.display)return;let o=this.getIndexAngle(0),r,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=t.setContext(this.getContext(l)),u=Fo(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=u.string,s=n.measureText(a.label).width,n.fillStyle=c.backdropColor;let g=fr(c.backdropPadding);n.fillRect(-s/2-g.left,-r-u.size/2-g.top,s+g.width,u.size+g.height)}rd(n,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},qv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ns=Object.keys(qv);function M5(i,n){return i-n}function k5(i,n){if(zi(n))return null;let e=i._adapter,{parser:t,round:o,isoWeekday:r}=i._parseOpts,s=n;return typeof t=="function"&&(s=t(s)),oo(s)||(s=typeof t=="string"?e.parse(s,t):e.parse(s)),s===null?null:(o&&(s=o==="week"&&(pu(r)||r===!0)?e.startOf(s,"isoWeek",r):e.startOf(s,o)),+s)}function N5(i,n,e,t){let o=ns.length;for(let r=ns.indexOf(i);r<o-1;++r){let s=qv[ns[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-n)/(a*s.size))<=t)return ns[r]}return ns[o-1]}function LSe(i,n,e,t,o){for(let r=ns.length-1;r>=ns.indexOf(e);r--){let s=ns[r];if(qv[s].common&&i._adapter.diff(o,t,s)>=n-1)return s}return ns[e?ns.indexOf(e):0]}function MSe(i){for(let n=ns.indexOf(i)+1,e=ns.length;n<e;++n)if(qv[ns[n]].common)return ns[n]}function V5(i,n,e){if(!e)i[n]=!0;else if(e.length){let{lo:t,hi:o}=yv(e,n),r=e[t]>=n?e[t]:e[o];i[r]=!0}}function kSe(i,n,e,t){let o=i._adapter,r=+o.startOf(n[0].value,t),s=n[n.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,t))l=e[a],l>=0&&(n[l].major=!0);return n}function B5(i,n,e){let t=[],o={},r=n.length,s,a;for(s=0;s<r;++s)a=n[s],o[a]=s,t.push({value:a,major:!1});return r===0||!e?t:kSe(i,t,o,e)}var xT=(()=>{class i extends gu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let o=e.time||(e.time={}),r=this._adapter=new Kye._date(e.adapters.date);r.init(t),Ih(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:k5(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,o=e.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=oo(r)&&!isNaN(r)?r:+t.startOf(Date.now(),o),s=oo(s)&&!isNaN(s)?s:+t.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){let e=this.options,t=e.time,o=e.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=IB(r,s,a);return this._unit=t.unit||(o.autoSkip?N5(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):LSe(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:MSe(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),B5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,o=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?o=s:o=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;t=zo(t,0,a),o=zo(o,0,a),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){let e=this._adapter,t=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||N5(s.minUnit,t,o,this._getLabelCapacity(t)),l=fi(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=pu(c)||c===!0,g={},_=t,C,w;if(u&&(_=+e.startOf(_,"isoWeek",c)),_=+e.startOf(_,u?"day":a),e.diff(o,t,a)>1e5*l)throw new Error(t+" and "+o+" are too far apart with stepSize of "+l+" "+a);let S=r.ticks.source==="data"&&this.getDataTimestamps();for(C=_,w=0;C<o;C=+e.add(C,l,a),w++)V5(g,C,S);return(C===o||r.bounds==="ticks"||w===1)&&V5(g,C,S),Object.keys(g).sort(M5).map(A=>+A)}getLabelForValue(e){let t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,o,r){let s=this.options,a=s.ticks.callback;if(a)return An(a,[e,t,o],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,g=c&&l[c],_=u&&l[u],C=o[t],w=u&&_&&C&&C.major;return this._adapter.format(e,r||(w?_:g))}generateTickLabels(e){let t,o,r;for(t=0,o=e.length;t<o;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){let t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,o=this.ctx.measureText(e).width,r=Ys(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(e){let t=this.options.time,o=t.displayFormats,r=o[t.unit]||o.millisecond,s=this._tickFormatFunction(e,0,B5(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,o;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,o=r.length;t<o;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,o;if(e.length)return e;let r=this.getLabels();for(t=0,o=r.length;t<o;++t)e.push(k5(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return DE(e.sort(M5))}}return i})();function Nv(i,n,e){let t=0,o=i.length-1,r,s,a,l;e?(n>=i[t].pos&&n<=i[o].pos&&({lo:t,hi:o}=Za(i,"pos",n)),{pos:r,time:a}=i[t],{pos:s,time:l}=i[o]):(n>=i[t].time&&n<=i[o].time&&({lo:t,hi:o}=Za(i,"time",n)),{time:r,pos:a}=i[t],{time:s,pos:l}=i[o]);let c=s-r;return c?a+(l-a)*(n-r)/c:a}var ET=class extends xT{static id="timeseries";static defaults=xT.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=Nv(e,this.min),this._tableRange=Nv(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:t}=this,o=[],r=[],s,a,l,c,u;for(s=0,a=n.length;s<a;++s)c=n[s],c>=e&&c<=t&&o.push(c);if(o.length<2)return[{time:e,pos:0},{time:t,pos:1}];for(s=0,a=o.length;s<a;++s)u=o[s+1],l=o[s-1],c=o[s],Math.round((u+l)/2)!==c&&r.push({time:c,pos:s/(a-1)});return r}_generate(){let n=this.min,e=this.max,t=super.getDataTimestamps();return(!t.includes(n)||!t.length)&&t.splice(0,0,n),(!t.includes(e)||t.length===1)&&t.push(e),t.sort((o,r)=>o-r)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),t=this.getLabelTimestamps();return e.length&&t.length?n=this.normalize(e.concat(t)):n=e.length?e:t,n=this._cache.all=n,n}getDecimalForValue(n){return(Nv(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,t=this.getDecimalForPixel(n)/e.factor-e.end;return Nv(this._table,t*this._tableRange+this._minPos,!0)}},NSe=Object.freeze({__proto__:null,CategoryScale:_Se,LinearScale:yT,LogarithmicScale:wT,RadialLinearScale:AT,TimeScale:xT,TimeSeriesScale:ET}),aU=[$ye,C1e,hSe,NSe];$v.register(...aU);var lU=$v;var VSe=(i,n)=>({position:"relative",width:i,height:n}),BSe=(i,n)=>({width:i,height:n}),Yv=(()=>{class i{platformId;el;zone;type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new W;isBrowser=!1;initialized;_data;_options={};chart;constructor(e,t,o){this.platformId=e,this.el=t,this.zone=o}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),o=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);t&&t[0]&&o&&this.onDataSelect.emit({originalEvent:e,element:t[0],dataset:o})}}initChart(){if(rt(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new lU(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(t){return new(t||i)(v(Lt),v(Le),v(It))};static \u0275cmp=Y({type:i,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",j],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[Ve],decls:2,vars:10,consts:[[3,"ngStyle"],["role","img",3,"click","ngStyle"]],template:function(t,o){t&1&&(f(0,"div",0)(1,"canvas",1),R("click",function(s){return o.onCanvasClick(s)}),m()()),t&2&&(p("ngStyle",Ue(4,VSe,o.responsive&&!o.width?null:o.width,o.responsive&&!o.height?null:o.height)),d(),p("ngStyle",Ue(7,BSe,o.responsive&&!o.width?null:o.width,o.responsive&&!o.height?null:o.height)),M("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy))},dependencies:[ve],encapsulation:2,changeDetection:0})}return i})(),RT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be]})}return i})();var USe=["*"];function jSe(i,n){i&1&&oe(0)}function HSe(i,n){if(i&1&&(f(0,"div",4),I(1,jSe,1,0,"ng-container",5),m()),i&2){let e=h();M("data-pc-section","start"),d(),p("ngTemplateOutlet",e.startTemplate)}}function GSe(i,n){i&1&&oe(0)}function zSe(i,n){if(i&1&&(f(0,"div",6),I(1,GSe,1,0,"ng-container",5),m()),i&2){let e=h();M("data-pc-section","center"),d(),p("ngTemplateOutlet",e.centerTemplate)}}function WSe(i,n){i&1&&oe(0)}function $Se(i,n){if(i&1&&(f(0,"div",7),I(1,WSe,1,0,"ng-container",5),m()),i&2){let e=h();M("data-pc-section","end"),d(),p("ngTemplateOutlet",e.endTemplate)}}var dU=(()=>{class i{el;style;styleClass;ariaLabelledBy;templates;startTemplate;endTemplate;centerTemplate;constructor(e){this.el=e}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this.startTemplate=e.template;break;case"end":case"right":this.endTemplate=e.template;break;case"center":this.centerTemplate=e.template;break}})}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275cmp=Y({type:i,selectors:[["p-toolbar"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},ngContentSelectors:USe,decls:5,vars:9,consts:[["role","toolbar",3,"ngClass","ngStyle"],["class","p-toolbar-group-left p-toolbar-group-start",4,"ngIf"],["class","p-toolbar-group-center",4,"ngIf"],["class","p-toolbar-group-right p-toolbar-group-end",4,"ngIf"],[1,"p-toolbar-group-left","p-toolbar-group-start"],[4,"ngTemplateOutlet"],[1,"p-toolbar-group-center"],[1,"p-toolbar-group-right","p-toolbar-group-end"]],template:function(t,o){t&1&&(_i(),f(0,"div",0),jt(1),I(2,HSe,2,2,"div",1)(3,zSe,2,2,"div",2)(4,$Se,2,2,"div",3),m()),t&2&&(te(o.styleClass),p("ngClass","p-toolbar p-component")("ngStyle",o.style),M("aria-labelledby",o.ariaLabelledBy)("data-pc-name","toolbar"),d(2),p("ngIf",o.startTemplate),d(),p("ngIf",o.centerTemplate),d(),p("ngIf",o.endTemplate))},dependencies:[Fe,ze,Xe,ve],styles:[`@layer primeng{.p-toolbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap}.p-toolbar-group-start,.p-toolbar-group-center,.p-toolbar-group-end,.p-toolbar-group-left,.p-toolbar-group-right{display:flex;align-items:center}}
`],encapsulation:2,changeDetection:0})}return i})(),DT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,$e]})}return i})();var qSe=["sublist"],YSe=(i,n)=>({"p-submenu-list":i,"p-tieredmenu-root-list":n}),uU=i=>({"p-menuitem-link":!0,"p-disabled":i}),JSe=()=>({exact:!1}),XSe=(i,n)=>({$implicit:i,hasSubmenu:n});function QSe(i,n){if(i&1&&E(0,"li",7),i&2){let e=h().$implicit,t=h();p("ngStyle",t.getItemProp(e,"style"))("ngClass",t.getSeparatorItemClass(e)),M("id",t.getItemId(e))("data-pc-section","separator")}}function ZSe(i,n){if(i&1&&E(0,"span",18),i&2){let e=h(4).$implicit,t=h();p("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),M("data-pc-section","icon")("tabindex",-1)}}function eAe(i,n){if(i&1&&(f(0,"span",19),T(1),m()),i&2){let e=h(4).$implicit,t=h();M("data-pc-section","label"),d(),z(" ",t.getItemLabel(e)," ")}}function tAe(i,n){if(i&1&&E(0,"span",20),i&2){let e=h(4).$implicit,t=h();p("innerHTML",t.getItemLabel(e),Fi),M("data-pc-section","label")}}function iAe(i,n){if(i&1&&(f(0,"span",21),T(1),m()),i&2){let e=h(4).$implicit,t=h();p("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),H(t.getItemProp(e,"badge"))}}function nAe(i,n){i&1&&E(0,"AngleRightIcon",24),i&2&&(p("styleClass","p-submenu-icon"),M("data-pc-section","submenuicon")("aria-hidden",!0))}function oAe(i,n){}function rAe(i,n){i&1&&I(0,oAe,0,0,"ng-template",25),i&2&&p("data-pc-section","submenuicon")("aria-hidden",!0)}function sAe(i,n){if(i&1&&(re(0),I(1,nAe,1,3,"AngleRightIcon",22)(2,rAe,1,2,null,23),se()),i&2){let e=h(5);d(),p("ngIf",!e.tieredMenu.submenuIconTemplate),d(),p("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function aAe(i,n){if(i&1&&(f(0,"a",14),I(1,ZSe,1,4,"span",15)(2,eAe,2,2,"span",16)(3,tAe,1,2,"ng-template",null,2,bt)(5,iAe,2,2,"span",17)(6,sAe,3,2,"ng-container",10),m()),i&2){let e=Me(4),t=h(3).$implicit,o=h();p("target",o.getItemProp(t,"target"))("ngClass",J(11,uU,o.getItemProp(t,"disabled"))),M("href",o.getItemProp(t,"url"),lr)("data-automationid",o.getItemProp(t,"automationId"))("data-pc-section","action")("tabindex",-1),d(),p("ngIf",o.getItemProp(t,"icon")),d(),p("ngIf",o.getItemProp(t,"escape"))("ngIfElse",e),d(3),p("ngIf",o.getItemProp(t,"badge")),d(),p("ngIf",o.isItemGroup(t))}}function lAe(i,n){if(i&1&&E(0,"span",18),i&2){let e=h(4).$implicit,t=h();p("ngClass",t.getItemProp(e,"icon"))("ngStyle",t.getItemProp(e,"iconStyle")),M("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function cAe(i,n){if(i&1&&(f(0,"span",19),T(1),m()),i&2){let e=h(4).$implicit,t=h();M("data-pc-section","label"),d(),z(" ",t.getItemLabel(e)," ")}}function dAe(i,n){if(i&1&&E(0,"span",20),i&2){let e=h(4).$implicit,t=h();p("innerHTML",t.getItemLabel(e),Fi),M("data-pc-section","label")}}function uAe(i,n){if(i&1&&(f(0,"span",21),T(1),m()),i&2){let e=h(4).$implicit,t=h();p("ngClass",t.getItemProp(e,"badgeStyleClass")),d(),H(t.getItemProp(e,"badge"))}}function pAe(i,n){i&1&&E(0,"AngleRightIcon",24),i&2&&(p("styleClass","p-submenu-icon"),M("data-pc-section","submenuicon")("aria-hidden",!0))}function hAe(i,n){}function fAe(i,n){i&1&&I(0,hAe,0,0,"ng-template",25),i&2&&p("data-pc-section","submenuicon")("aria-hidden",!0)}function mAe(i,n){if(i&1&&(re(0),I(1,pAe,1,3,"AngleRightIcon",22)(2,fAe,1,2,null,23),se()),i&2){let e=h(5);d(),p("ngIf",!e.tieredMenu.submenuIconTemplate),d(),p("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate)}}function gAe(i,n){if(i&1&&(f(0,"a",26),I(1,lAe,1,5,"span",15)(2,cAe,2,2,"span",16)(3,dAe,1,2,"ng-template",null,2,bt)(5,uAe,2,2,"span",17)(6,mAe,3,2,"ng-container",10),m()),i&2){let e=Me(4),t=h(3).$implicit,o=h();p("routerLink",o.getItemProp(t,"routerLink"))("queryParams",o.getItemProp(t,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.getItemProp(t,"routerLinkActiveOptions")||Ie(20,JSe))("target",o.getItemProp(t,"target"))("ngClass",J(21,uU,o.getItemProp(t,"disabled")))("fragment",o.getItemProp(t,"fragment"))("queryParamsHandling",o.getItemProp(t,"queryParamsHandling"))("preserveFragment",o.getItemProp(t,"preserveFragment"))("skipLocationChange",o.getItemProp(t,"skipLocationChange"))("replaceUrl",o.getItemProp(t,"replaceUrl"))("state",o.getItemProp(t,"state")),M("data-automationid",o.getItemProp(t,"automationId"))("tabindex",-1)("data-pc-section","action"),d(),p("ngIf",o.getItemProp(t,"icon")),d(),p("ngIf",o.getItemProp(t,"escape"))("ngIfElse",e),d(3),p("ngIf",o.getItemProp(t,"badge")),d(),p("ngIf",o.isItemGroup(t))}}function _Ae(i,n){if(i&1&&(re(0),I(1,aAe,7,13,"a",12)(2,gAe,7,23,"a",13),se()),i&2){let e=h(2).$implicit,t=h();d(),p("ngIf",!t.getItemProp(e,"routerLink")),d(),p("ngIf",t.getItemProp(e,"routerLink"))}}function CAe(i,n){}function IAe(i,n){i&1&&I(0,CAe,0,0,"ng-template")}function vAe(i,n){if(i&1&&(re(0),I(1,IAe,1,0,null,27),se()),i&2){let e=h(2).$implicit,t=h();d(),p("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Ue(2,XSe,e.item,t.getItemProp(e,"items")))}}function bAe(i,n){if(i&1){let e=k();f(0,"p-tieredMenuSub",28),R("itemClick",function(o){b(e);let r=h(3);return y(r.itemClick.emit(o))})("itemMouseEnter",function(o){b(e);let r=h(3);return y(r.onItemMouseEnter(o))}),m()}if(i&2){let e=h(2).$implicit,t=h();p("items",e.items)("itemTemplate",t.itemTemplate)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath())("focusedItemId",t.focusedItemId)("ariaLabelledBy",t.getItemId(e))("level",t.level+1)}}function yAe(i,n){if(i&1){let e=k();f(0,"li",8,1)(2,"div",9),R("click",function(o){b(e);let r=h().$implicit,s=h();return y(s.onItemClick(o,r))})("mouseenter",function(o){b(e);let r=h().$implicit,s=h();return y(s.onItemMouseEnter({$event:o,processedItem:r}))}),I(3,_Ae,3,2,"ng-container",10)(4,vAe,2,5,"ng-container",10),m(),I(5,bAe,1,8,"p-tieredMenuSub",11),m()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h();te(r.getItemProp(t,"styleClass")),p("ngStyle",r.getItemProp(t,"style"))("ngClass",r.getItemClass(t))("pTooltip",r.getItemProp(t,"tooltip"))("tooltipOptions",r.getItemProp(t,"tooltipOptions")),M("id",r.getItemId(t))("data-pc-section","menuitem")("data-p-highlight",r.isItemActive(t))("data-p-focused",r.isItemFocused(t))("data-p-disabled",r.isItemDisabled(t))("aria-label",r.getItemLabel(t))("aria-disabled",r.isItemDisabled(t)||void 0)("aria-haspopup",r.isItemGroup(t)&&!r.getItemProp(t,"to")?"menu":void 0)("aria-expanded",r.isItemGroup(t)?r.isItemActive(t):void 0)("aria-setsize",r.getAriaSetSize())("aria-posinset",r.getAriaPosInset(o)),d(2),M("data-pc-section","content"),d(),p("ngIf",!r.itemTemplate),d(),p("ngIf",r.itemTemplate),d(),p("ngIf",r.isItemVisible(t)&&r.isItemGroup(t))}}function wAe(i,n){if(i&1&&I(0,QSe,1,4,"li",5)(1,yAe,6,21,"li",6),i&2){let e=n.$implicit,t=h();p("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),d(),p("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}var SAe=["rootmenu"],AAe=["container"],xAe=i=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":i}),EAe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),TAe=i=>({value:"visible",params:i});function OAe(i,n){if(i&1){let e=k();f(0,"div",3,0),R("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){b(e);let r=h();return y(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){b(e);let r=h();return y(r.onOverlayAnimationEnd(o))}),f(2,"p-tieredMenuSub",4,1),R("itemClick",function(o){b(e);let r=h();return y(r.onItemClick(o))})("menuFocus",function(o){b(e);let r=h();return y(r.onMenuFocus(o))})("menuBlur",function(o){b(e);let r=h();return y(r.onMenuBlur(o))})("menuKeydown",function(o){b(e);let r=h();return y(r.onKeyDown(o))})("itemMouseEnter",function(o){b(e);let r=h();return y(r.onItemMouseEnter(o))}),m()()}if(i&2){let e=h();te(e.styleClass),p("id",e.id)("ngClass",J(22,xAe,e.popup))("ngStyle",e.style)("@overlayAnimation",J(27,TAe,Ue(24,EAe,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),M("data-pc-section","root")("data-pc-name","tieredmenu"),d(2),p("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())}}var RAe=(()=>{class i{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=OD([]);tabindex=0;itemClick=new W;itemMouseEnter=new W;menuFocus=new W;menuBlur=new W;menuKeydown=new W;sublistViewChild;constructor(e,t,o){this.el=e,this.renderer=t,this.tieredMenu=o,Il(()=>{let r=this.activeItemPath();le.isNotEmpty(r)&&this.positionSubmenu()})}positionSubmenu(){if(rt(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){let t=e.parentElement.parentElement,o=L.getOffset(t),r=L.getViewport(),s=e.offsetParent?e.offsetWidth:L.getOuterWidth(e),a=L.getOuterWidth(t.children[0]),l="p-submenu-list-flipped";parseInt(o.left,10)+a+s>r.width-L.calculateScrollbarWidth()?L.addClass(e,l):L.hasClass(e,l)&&L.removeClass(e,l)}}}getItemProp(e,t,o=null){return e&&e.item?le.getItemValue(e.item[t],o):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Ee(Q({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Ee(Q({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let o=this.isItemVisible(t),r=o&&this.getItemProp(t,"separator");return!o||r}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath())return this.activeItemPath().some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return le.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:o}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:o})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}static \u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(Dt(()=>PT)))};static \u0275cmp=Y({type:i,selectors:[["p-tieredMenuSub"]],viewQuery:function(t,o){if(t&1&&ne(qSe,7),t&2){let r;K(r=q())&&(o.sublistViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",j],autoDisplay:[2,"autoDisplay","autoDisplay",j],autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],popup:[2,"popup","popup",j],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",xe],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",xe]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Ve],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"ngStyle","ngClass",4,"ngIf"],["role","menuitem",3,"ngStyle","ngClass","class","pTooltip","tooltipOptions",4,"ngIf"],["role","separator",3,"ngStyle","ngClass"],["role","menuitem",3,"ngStyle","ngClass","pTooltip","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(t,o){if(t&1){let r=k();f(0,"ul",3,0),R("keydown",function(a){return b(r),y(o.menuKeydown.emit(a))})("focus",function(a){return b(r),y(o.menuFocus.emit(a))})("blur",function(a){return b(r),y(o.menuBlur.emit(a))}),I(2,wAe,2,2,"ng-template",4),m()}t&2&&(p("ngClass",Ue(9,YSe,!o.root,o.root))("id",o.menuId+"_list")("tabindex",o.tabindex),M("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("aria-activedescendant",o.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),d(2),p("ngForOf",o.items))},dependencies:()=>[Fe,Ni,ze,Xe,ve,Mc,Vp,Ri,On,Pc,i],encapsulation:2})}return i})(),PT=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;onShow=new W;onHide=new W;templates;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=ui([]);number=ui(0);focusedItemInfo=ui({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${le.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,t,o,r,s,a,l){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.cd=s,this.config=a,this.overlayService=l,Il(()=>{let c=this.activeItemPath();le.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||ut()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,t=0,o={},r=""){let s=[];return e&&e.forEach((a,l)=>{let c=(r!==""?r+"_":"")+l,u={item:a,index:l,level:t,key:c,parent:o,parentKey:r};u.items=this.createProcessedItems(a.items,t+1,u,c),s.push(u)}),s}getItemProp(e,t){return e?le.getItemValue(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&le.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&le.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:o}=e,r=this.isProcessedItemGroup(o),s=le.isEmpty(o.parent);if(this.isSelected(o)){let{index:l,key:c,level:u,parentKey:g,item:_}=o;this.activeItemPath.set(this.activeItemPath().filter(C=>c!==C.key&&c.startsWith(C.key))),this.focusedItemInfo.set({index:l,level:u,parentKey:g,item:_}),this.dirty=!0,L.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(r)this.onItemChange(e);else{let l=s?o:this.activeItemPath().find(c=>c.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,l?l.index:-1),L.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){L.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):(this.autoDisplay&&(this.dirty=!0),this.dirty&&this.onItemChange(e))}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&le.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],o=this.isProccessedItemGroup(t),r=t?.item;o&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:r}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],o=this.activeItemPath().find(a=>a.key===t.parentKey);le.isEmpty(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:o?o.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let s=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),o=t&&L.findSingle(t,'a[data-pc-section="action"]');if(o?o.click():t&&t.click(),!this.popup){let r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){let{processedItem:t,isFocus:o}=e;if(le.isEmpty(t))return;let{index:r,key:s,level:a,parentKey:l,items:c,item:u}=t,g=le.isNotEmpty(c),_=this.activeItemPath().filter(C=>C.parentKey!==l&&C.parentKey!==s);g&&_.push(t),this.focusedItemInfo.set({index:r,level:a,parentKey:l,item:u}),this.activeItemPath.set(_),g&&(this.dirty=!0),o&&L.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),L.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?L.relativePosition(this.container,this.target):L.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":Yt.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):L.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Yt.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&L.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&L.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedItemInfo().index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(s=>this.isItemMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedItemInfo().index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return le.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?le.findLastIndex(this.visibleItems.slice(0,e),o=>this.isValidItem(o)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(o=>this.isValidItem(o)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let o=this.focusedItemInfo();this.focusedItemInfo.set(Ee(Q({},o),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,o=L.findSingle(this.rootmenu.el.nativeElement,`li[id="${t}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){rt(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{L.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){rt(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),o=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&o&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Yt.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(pe),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-tieredMenu"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(SAe,5),ne(AAe,5)),t&2){let r;K(r=q())&&(o.rootmenu=r.first),K(r=q())&&(o.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",j],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],autoDisplay:[2,"autoDisplay","autoDisplay",j],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",j],tabindex:[2,"tabindex","tabindex",xe]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Ve],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(t,o){t&1&&I(0,OAe,4,29,"div",2),t&2&&p("ngIf",!o.popup||o.visible)},dependencies:[Fe,ze,ve,RAe],styles:[`@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}
`],encapsulation:2,data:{animation:[$i("overlayAnimation",[Nt(":enter",[Rt({opacity:0,transform:"scaleY(0.8)"}),kt("{{showTransitionParams}}")]),Nt(":leave",[kt("{{hideTransitionParams}}",Rt({opacity:0}))])])]},changeDetection:0})}return i})(),FT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Hs,Li,_o,Pc,$e,Hs,_o,$e]})}return i})();var PAe=["container"],FAe=["defaultbtn"],LAe=["menu"];function MAe(i,n){i&1&&oe(0)}function kAe(i,n){if(i&1){let e=k();re(0),f(1,"button",10),R("click",function(o){b(e);let r=h();return y(r.onDefaultButtonClick(o))}),I(2,MAe,1,0,"ng-container",8),m(),se()}if(i&2){let e=h();d(),p("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("ariaLabel",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),M("tabindex",e.tabindex),d(),p("ngTemplateOutlet",e.contentTemplate)}}function NAe(i,n){if(i&1){let e=k();f(0,"button",11,3),R("click",function(o){b(e);let r=h();return y(r.onDefaultButtonClick(o))}),m()}if(i&2){let e=h();p("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("ariaLabel",e.buttonProps==null?null:e.buttonProps.ariaLabel)("autofocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions),M("tabindex",e.tabindex)}}function VAe(i,n){i&1&&E(0,"ChevronDownIcon")}function BAe(i,n){}function UAe(i,n){i&1&&I(0,BAe,0,0,"ng-template")}var pU=(()=>{class i{model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;style;styleClass;menuStyle;menuStyleClass;appendTo;dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e,this._buttonDisabled=e,this.menuButtonDisabled=e}get disabled(){return this._disabled}tabindex;set menuButtonDisabled(e){this.disabled?this._menuButtonDisabled=this.disabled:this._menuButtonDisabled=e}get menuButtonDisabled(){return this._menuButtonDisabled}set buttonDisabled(e){this.disabled?this.buttonDisabled=this.disabled:this._buttonDisabled=e}get buttonDisabled(){return this._buttonDisabled}onClick=new W;onMenuHide=new W;onMenuShow=new W;onDropdownClick=new W;containerViewChild;buttonViewChild;menu;templates;contentTemplate;dropdownIconTemplate;ariaId;isExpanded=ui(!1);_disabled;_buttonDisabled;_menuButtonDisabled;ngOnInit(){this.ariaId=ut()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}get containerClass(){let e={"p-splitbutton p-component":!0,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-outlined":this.outlined,"p-button-text":this.text,[`p-button-${this.size==="small"?"sm":"lg"}`]:this.size};return Q({},e)}onDefaultButtonClick(e){this.onClick.emit(e),this.menu.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.containerViewChild?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=Y({type:i,selectors:[["p-splitButton"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(PAe,5),ne(FAe,5),ne(LAe,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.buttonViewChild=r.first),K(r=q())&&(o.menu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",j],rounded:[2,"rounded","rounded",j],text:[2,"text","text",j],outlined:[2,"outlined","outlined",j],size:"size",plain:[2,"plain","plain",j],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",j],disabled:[2,"disabled","disabled",j],tabindex:[2,"tabindex","tabindex",xe],menuButtonDisabled:"menuButtonDisabled",buttonDisabled:"buttonDisabled"},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[Ve],decls:10,vars:26,consts:[["container",""],["defaultButton",""],["menu",""],["defaultbtn",""],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["type","button","pButton","",1,"p-splitbutton-menubutton","p-button-icon-only",3,"click","keydown","size","severity","text","outlined","disabled","ariaLabel"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"],["type","button","pButton","","pAutoFocus","",1,"p-splitbutton-defaultbutton",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","ariaLabel","autofocus","pTooltip","tooltipOptions"]],template:function(t,o){if(t&1){let r=k();f(0,"div",4,0),I(2,kAe,3,13,"ng-container",5)(3,NAe,2,13,"ng-template",null,1,bt),f(5,"button",6),R("click",function(a){return b(r),y(o.onDropdownButtonClick(a))})("keydown",function(a){return b(r),y(o.onDropdownButtonKeydown(a))}),I(6,VAe,1,0,"ChevronDownIcon",7)(7,UAe,1,0,null,8),m(),f(8,"p-tieredMenu",9,2),R("onHide",function(){return b(r),y(o.onHide())})("onShow",function(){return b(r),y(o.onShow())}),m()()}if(t&2){let r=Me(4);te(o.styleClass),p("ngClass",o.containerClass)("ngStyle",o.style),d(2),p("ngIf",o.contentTemplate)("ngIfElse",r),d(3),p("size",o.size)("severity",o.severity)("text",o.text)("outlined",o.outlined)("disabled",o.menuButtonDisabled)("ariaLabel",(o.menuButtonProps==null?null:o.menuButtonProps.ariaLabel)||o.expandAriaLabel),M("aria-haspopup",(o.menuButtonProps==null?null:o.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(o.menuButtonProps==null?null:o.menuButtonProps.ariaExpanded)||o.isExpanded())("aria-controls",(o.menuButtonProps==null?null:o.menuButtonProps.ariaControls)||o.ariaId),d(),p("ngIf",!o.dropdownIconTemplate),d(),p("ngTemplateOutlet",o.dropdownIconTemplate),d(),it(o.menuStyle),p("id",o.ariaId)("popup",!0)("model",o.model)("styleClass",o.menuStyleClass)("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Fe,ze,Xe,ve,at,PT,On,mn,Zo],styles:[`@layer primeng{.p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton,.p-splitbutton.p-button-rounded>.p-splitbutton-defaultbutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-defaultbutton.p-button{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:0 none}.p-splitbutton-menubutton,.p-splitbutton.p-button-rounded>.p-splitbutton-menubutton.p-button,.p-splitbutton.p-button-outlined>.p-splitbutton-menubutton.p-button{display:flex;align-items:center;justify-content:center;border-top-left-radius:0;border-bottom-left-radius:0}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}}
`],encapsulation:2,changeDetection:0})}return i})(),LT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,go,FT,Tn,Zo,go,FT]})}return i})();var cg=i=>({height:i}),HAe=(i,n)=>({"p-multiselect-item":!0,"p-disabled":i,"p-focus":n}),GAe=i=>({"p-variant-filled":i}),zAe=i=>({"p-highlight":i}),Jv=i=>({$implicit:i});function WAe(i,n){i&1&&E(0,"CheckIcon",7),i&2&&(p("styleClass","p-checkbox-icon"),M("aria-hidden",!0))}function $Ae(i,n){}function KAe(i,n){i&1&&I(0,$Ae,0,0,"ng-template")}function qAe(i,n){if(i&1&&(f(0,"span",8),I(1,KAe,1,0,null,9),m()),i&2){let e=h(2);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.checkIconTemplate)}}function YAe(i,n){}function JAe(i,n){i&1&&I(0,YAe,0,0,"ng-template")}function XAe(i,n){if(i&1&&(f(0,"span",8),I(1,JAe,1,0,null,4),m()),i&2){let e=h(2);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.itemCheckboxIconTemplate)("ngTemplateOutletContext",J(3,Jv,e.selected))}}function QAe(i,n){if(i&1&&(re(0),I(1,WAe,1,2,"CheckIcon",5)(2,qAe,2,2,"span",6)(3,XAe,2,5,"span",6),se()),i&2){let e=h();d(),p("ngIf",!e.checkIconTemplate&&!e.itemCheckboxIconTemplate),d(),p("ngIf",e.checkIconTemplate),d(),p("ngIf",e.itemCheckboxIconTemplate)}}function ZAe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e,t=h();d(),H((e=t.label)!==null&&e!==void 0?e:"empty")}}function exe(i,n){i&1&&oe(0)}var txe=["container"],ixe=["overlay"],nxe=["filterInput"],oxe=["focusInput"],rxe=["items"],sxe=["scroller"],axe=["lastHiddenFocusableEl"],lxe=["firstHiddenFocusableEl"],cxe=["headerCheckbox"],dxe=[[["p-header"]],[["p-footer"]]],uxe=["p-header","p-footer"],pxe=(i,n)=>({$implicit:i,removeChip:n}),hxe=i=>({"p-disabled":i}),fxe=i=>({"max-height":i}),hU=i=>({options:i}),mxe=(i,n)=>({"p-variant-filled":i,"p-checkbox-disabled":n}),gxe=(i,n,e)=>({"p-highlight":i,"p-focus":n,"p-disabled":e}),_xe=(i,n)=>({$implicit:i,partialSelected:n}),fU=(i,n)=>({$implicit:i,options:n}),Cxe=()=>({});function Ixe(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(2);d(),H(e.label()||"empty")}}function vxe(i,n){if(i&1){let e=k();f(0,"TimesCircleIcon",31),R("click",function(){b(e);let o=h(2).$implicit,r=h(3);return y(r.removeOption(o,r.event))}),m()}if(i&2){let e=h(2).$implicit,t=h(3);p("ngClass",J(4,hxe,t.isOptionDisabled(e)))("styleClass","p-multiselect-token-icon"),M("data-pc-section","clearicon")("aria-hidden",!0)}}function bxe(i,n){i&1&&oe(0)}function yxe(i,n){if(i&1){let e=k();f(0,"span",32),R("click",function(){b(e);let o=h(2).$implicit,r=h(3);return y(r.removeOption(o,r.event))}),I(1,bxe,1,0,"ng-container",33),m()}if(i&2){let e=h(5);M("data-pc-section","clearicon")("aria-hidden",!0),d(),p("ngTemplateOutlet",e.removeTokenIconTemplate)}}function wxe(i,n){if(i&1&&(re(0),I(1,vxe,1,6,"TimesCircleIcon",29)(2,yxe,2,3,"span",30),se()),i&2){let e=h(4);d(),p("ngIf",!e.removeTokenIconTemplate),d(),p("ngIf",e.removeTokenIconTemplate)}}function Sxe(i,n){if(i&1&&(f(0,"div",27,4)(2,"span",28),T(3),m(),I(4,wxe,3,2,"ng-container",20),m()),i&2){let e=n.$implicit,t=h(3);d(3),H(t.getLabelByValue(e)),d(),p("ngIf",!t.disabled)}}function Axe(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),H(e.placeholder()||e.defaultLabel||"empty")}}function xxe(i,n){if(i&1&&(re(0),I(1,Sxe,5,2,"div",26)(2,Axe,2,1,"ng-container",20),se()),i&2){let e=h(2);d(),p("ngForOf",e.chipSelectedItems()),d(),p("ngIf",!e.modelValue()||e.modelValue().length===0)}}function Exe(i,n){if(i&1&&(re(0),I(1,Ixe,2,1,"ng-container",20)(2,xxe,3,2,"ng-container",20),se()),i&2){let e=h();d(),p("ngIf",e.display==="comma"),d(),p("ngIf",e.display==="chip")}}function Txe(i,n){i&1&&oe(0)}function Oxe(i,n){if(i&1){let e=k();f(0,"TimesIcon",36),R("click",function(o){b(e);let r=h(2);return y(r.clear(o))}),m()}i&2&&(p("styleClass","p-multiselect-clear-icon"),M("data-pc-section","clearicon")("aria-hidden",!0))}function Rxe(i,n){}function Dxe(i,n){i&1&&I(0,Rxe,0,0,"ng-template")}function Pxe(i,n){if(i&1){let e=k();f(0,"span",37),R("click",function(o){b(e);let r=h(2);return y(r.clear(o))}),I(1,Dxe,1,0,null,33),m()}if(i&2){let e=h(2);M("data-pc-section","clearicon")("aria-hidden",!0),d(),p("ngTemplateOutlet",e.clearIconTemplate)}}function Fxe(i,n){if(i&1&&(re(0),I(1,Oxe,1,3,"TimesIcon",34)(2,Pxe,2,3,"span",35),se()),i&2){let e=h();d(),p("ngIf",!e.clearIconTemplate),d(),p("ngIf",e.clearIconTemplate)}}function Lxe(i,n){i&1&&oe(0)}function Mxe(i,n){if(i&1&&(re(0),I(1,Lxe,1,0,"ng-container",33),se()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function kxe(i,n){if(i&1&&E(0,"span",40),i&2){let e=h(3);p("ngClass","p-multiselect-trigger-icon pi-spin "+e.loadingIcon)}}function Nxe(i,n){i&1&&E(0,"span",41),i&2&&te("p-multiselect-trigger-icon pi pi-spinner pi-spin")}function Vxe(i,n){if(i&1&&(re(0),I(1,kxe,1,1,"span",38)(2,Nxe,1,2,"span",39),se()),i&2){let e=h(2);d(),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function Bxe(i,n){if(i&1&&(re(0),I(1,Mxe,2,1,"ng-container",20)(2,Vxe,3,2,"ng-container",20),se()),i&2){let e=h();d(),p("ngIf",e.loadingIconTemplate),d(),p("ngIf",!e.loadingIconTemplate)}}function Uxe(i,n){if(i&1&&E(0,"span",45),i&2){let e=h(3);p("ngClass",e.dropdownIcon),M("data-pc-section","triggericon")("aria-hidden",!0)}}function jxe(i,n){i&1&&E(0,"ChevronDownIcon",46),i&2&&(p("styleClass","p-multiselect-trigger-icon"),M("data-pc-section","triggericon")("aria-hidden",!0))}function Hxe(i,n){if(i&1&&(re(0),I(1,Uxe,1,3,"span",43)(2,jxe,1,3,"ChevronDownIcon",44),se()),i&2){let e=h(2);d(),p("ngIf",e.dropdownIcon),d(),p("ngIf",!e.dropdownIcon)}}function Gxe(i,n){}function zxe(i,n){i&1&&I(0,Gxe,0,0,"ng-template")}function Wxe(i,n){if(i&1&&(f(0,"span",47),I(1,zxe,1,0,null,33),m()),i&2){let e=h(2);M("data-pc-section","triggericon")("aria-hidden",!0),d(),p("ngTemplateOutlet",e.dropdownIconTemplate)}}function $xe(i,n){if(i&1&&I(0,Hxe,3,2,"ng-container",20)(1,Wxe,2,3,"span",42),i&2){let e=h();p("ngIf",!e.dropdownIconTemplate),d(),p("ngIf",e.dropdownIconTemplate)}}function Kxe(i,n){i&1&&oe(0)}function qxe(i,n){i&1&&oe(0)}function Yxe(i,n){if(i&1&&(re(0),I(1,qxe,1,0,"ng-container",21),se()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",J(2,hU,e.filterOptions))}}function Jxe(i,n){i&1&&E(0,"CheckIcon",46),i&2&&(p("styleClass","p-checkbox-icon"),M("aria-hidden",!0))}function Xxe(i,n){if(i&1&&(re(0),I(1,Jxe,1,2,"CheckIcon",44),se()),i&2){let e=h(6);d(),p("ngIf",e.allSelected())}}function Qxe(i,n){}function Zxe(i,n){i&1&&I(0,Qxe,0,0,"ng-template")}function eEe(i,n){if(i&1&&(f(0,"span",63),I(1,Zxe,1,0,null,21),m()),i&2){let e=h(6);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.checkIconTemplate)("ngTemplateOutletContext",J(3,Jv,e.allSelected()))}}function tEe(i,n){}function iEe(i,n){i&1&&I(0,tEe,0,0,"ng-template")}function nEe(i,n){if(i&1&&(f(0,"span",63),I(1,iEe,1,0,null,21),m()),i&2){let e=h(6);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.headerCheckboxIconTemplate)("ngTemplateOutletContext",Ue(3,_xe,e.allSelected(),e.partialSelected()))}}function oEe(i,n){if(i&1&&(re(0),I(1,Xxe,2,1,"ng-container",20)(2,eEe,2,5,"span",62)(3,nEe,2,6,"span",62),se()),i&2){let e=h(5);d(),p("ngIf",!e.checkIconTemplate&&!e.headerCheckboxIconTemplate),d(),p("ngIf",e.checkIconTemplate),d(),p("ngIf",e.headerCheckboxIconTemplate)}}function rEe(i,n){if(i&1){let e=k();f(0,"div",59),R("click",function(o){b(e);let r=h(4);return y(r.onToggleAll(o))})("keydown",function(o){b(e);let r=h(4);return y(r.onHeaderCheckboxKeyDown(o))}),f(1,"div",16)(2,"input",60,9),R("focus",function(){b(e);let o=h(4);return y(o.onHeaderCheckboxFocus())})("blur",function(){b(e);let o=h(4);return y(o.onHeaderCheckboxBlur())}),m()(),f(4,"div",61),I(5,oEe,4,3,"ng-container",20),m()()}if(i&2){let e=h(4);p("ngClass",Ue(10,mxe,e.variant==="filled"||e.config.inputStyle()==="filled",e.disabled||e.toggleAllDisabled)),d(),M("data-p-hidden-accessible",!0),d(),p("readonly",e.readonly)("disabled",e.disabled||e.toggleAllDisabled),M("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),d(2),p("ngClass",Ai(13,gxe,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),M("aria-label",e.toggleAllAriaLabel)("aria-checked",e.allSelected()),d(),p("ngIf",e.allSelected()||e.partialSelected())}}function sEe(i,n){i&1&&E(0,"SearchIcon",46),i&2&&p("styleClass","p-multiselect-filter-icon")}function aEe(i,n){}function lEe(i,n){i&1&&I(0,aEe,0,0,"ng-template")}function cEe(i,n){if(i&1&&(f(0,"span",67),I(1,lEe,1,0,null,33),m()),i&2){let e=h(5);d(),p("ngTemplateOutlet",e.filterIconTemplate)}}function dEe(i,n){if(i&1){let e=k();f(0,"div",64)(1,"input",65,10),R("input",function(o){b(e);let r=h(4);return y(r.onFilterInputChange(o))})("keydown",function(o){b(e);let r=h(4);return y(r.onFilterKeyDown(o))})("click",function(o){b(e);let r=h(4);return y(r.onInputClick(o))})("blur",function(o){b(e);let r=h(4);return y(r.onFilterBlur(o))}),m(),I(3,sEe,1,1,"SearchIcon",44)(4,cEe,2,1,"span",66),m()}if(i&2){let e=h(4);d(),p("value",e._filterValue()||"")("disabled",e.disabled),M("autocomplete",e.autocomplete)("placeholder",e.filterPlaceHolder)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),d(2),p("ngIf",!e.filterIconTemplate),d(),p("ngIf",e.filterIconTemplate)}}function uEe(i,n){i&1&&E(0,"TimesIcon",46),i&2&&p("styleClass","p-multiselect-close-icon")}function pEe(i,n){}function hEe(i,n){i&1&&I(0,pEe,0,0,"ng-template")}function fEe(i,n){if(i&1&&(f(0,"span",68),I(1,hEe,1,0,null,33),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.closeIconTemplate)}}function mEe(i,n){if(i&1){let e=k();I(0,rEe,6,17,"div",55)(1,dEe,5,10,"div",56),f(2,"button",57),R("click",function(o){b(e);let r=h(3);return y(r.close(o))}),I(3,uEe,1,1,"TimesIcon",44)(4,fEe,2,1,"span",58),m()}if(i&2){let e=h(3);p("ngIf",e.isSelectionAllDisabled()),d(),p("ngIf",e.filter),d(),M("aria-label",e.closeAriaLabel),d(),p("ngIf",!e.closeIconTemplate),d(),p("ngIf",e.closeIconTemplate)}}function gEe(i,n){if(i&1&&(f(0,"div",54),jt(1),I(2,Kxe,1,0,"ng-container",33)(3,Yxe,2,4,"ng-container",23)(4,mEe,5,5,"ng-template",null,8,bt),m()),i&2){let e=Me(5),t=h(2);d(2),p("ngTemplateOutlet",t.headerTemplate),d(),p("ngIf",t.filterTemplate)("ngIfElse",e)}}function _Ee(i,n){i&1&&oe(0)}function CEe(i,n){if(i&1&&I(0,_Ee,1,0,"ng-container",21),i&2){let e=n.$implicit,t=n.options;h(2);let o=Me(8);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Ue(2,fU,e,t))}}function IEe(i,n){i&1&&oe(0)}function vEe(i,n){if(i&1&&I(0,IEe,1,0,"ng-container",21),i&2){let e=n.options,t=h(4);p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(2,hU,e))}}function bEe(i,n){i&1&&(re(0),I(1,vEe,1,4,"ng-template",70),se())}function yEe(i,n){if(i&1){let e=k();f(0,"p-scroller",69,11),R("onLazyLoad",function(o){b(e);let r=h(2);return y(r.onLazyLoad.emit(o))}),I(2,CEe,1,5,"ng-template",25)(3,bEe,2,0,"ng-container",20),m()}if(i&2){let e=h(2);it(J(9,cg,e.scrollHeight)),p("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),d(3),p("ngIf",e.loaderTemplate)}}function wEe(i,n){i&1&&oe(0)}function SEe(i,n){if(i&1&&(re(0),I(1,wEe,1,0,"ng-container",21),se()),i&2){h();let e=Me(8),t=h();d(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",Ue(3,fU,t.visibleOptions(),Ie(2,Cxe)))}}function AEe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2).$implicit,t=h(3);d(),H(t.getOptionGroupLabel(e.optionGroup))}}function xEe(i,n){i&1&&oe(0)}function EEe(i,n){if(i&1&&(re(0),f(1,"li",74),I(2,AEe,2,1,"span",20)(3,xEe,1,0,"ng-container",21),m(),se()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);d(),p("ngStyle",J(5,cg,r.itemSize+"px")),M("id",s.id+"_"+s.getOptionIndex(o,r)),d(),p("ngIf",!s.groupTemplate),d(),p("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",J(7,Jv,t.optionGroup))}}function TEe(i,n){if(i&1){let e=k();re(0),f(1,"p-multiSelectItem",75),R("onClick",function(o){b(e);let r=h().index,s=h().options,a=h(2);return y(a.onOptionSelect(o,!1,a.getOptionIndex(r,s)))})("onMouseEnter",function(o){b(e);let r=h().index,s=h().options,a=h(2);return y(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))}),m(),se()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);d(),p("id",s.id+"_"+s.getOptionIndex(o,r))("option",t)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate)("checkIconTemplate",s.checkIconTemplate)("itemCheckboxIconTemplate",s.itemCheckboxIconTemplate)("itemSize",r.itemSize)("focused",s.focusedOptionIndex()===s.getOptionIndex(o,r))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r)))("ariaSetSize",s.ariaSetSize)}}function OEe(i,n){if(i&1&&I(0,EEe,4,9,"ng-container",20)(1,TEe,2,12,"ng-container",20),i&2){let e=n.$implicit,t=h(3);p("ngIf",t.isOptionGroup(e)),d(),p("ngIf",!t.isOptionGroup(e))}}function REe(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(4);d(),z(" ",e.emptyFilterMessageLabel," ")}}function DEe(i,n){i&1&&oe(0,null,13)}function PEe(i,n){if(i&1&&(f(0,"li",76),I(1,REe,2,1,"ng-container",23)(2,DEe,2,0,"ng-container",33),m()),i&2){let e=h().options,t=h(2);p("ngStyle",J(4,cg,e.itemSize+"px")),d(),p("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),d(),p("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function FEe(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(4);d(),z(" ",e.emptyMessageLabel," ")}}function LEe(i,n){i&1&&oe(0,null,14)}function MEe(i,n){if(i&1&&(f(0,"li",76),I(1,FEe,2,1,"ng-container",23)(2,LEe,2,0,"ng-container",33),m()),i&2){let e=h().options,t=h(2);p("ngStyle",J(4,cg,e.itemSize+"px")),d(),p("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),d(),p("ngTemplateOutlet",t.emptyTemplate)}}function kEe(i,n){if(i&1&&(f(0,"ul",71,12),I(2,OEe,2,2,"ng-template",72)(3,PEe,3,6,"li",73)(4,MEe,3,6,"li",73),m()),i&2){let e=n.$implicit,t=n.options,o=h(2);p("ngClass",t.contentStyleClass)("ngStyle",t.contentStyle),M("aria-label",o.listLabel),d(2),p("ngForOf",e),d(),p("ngIf",o.hasFilter()&&o.isEmpty()),d(),p("ngIf",!o.hasFilter()&&o.isEmpty())}}function NEe(i,n){i&1&&oe(0)}function VEe(i,n){if(i&1&&(f(0,"div",77),jt(1,1),I(2,NEe,1,0,"ng-container",33),m()),i&2){let e=h(2);d(2),p("ngTemplateOutlet",e.footerTemplate)}}function BEe(i,n){if(i&1){let e=k();f(0,"div",48)(1,"span",49,5),R("focus",function(o){b(e);let r=h();return y(r.onFirstHiddenFocus(o))}),m(),I(3,gEe,6,3,"div",50),f(4,"div",51),I(5,yEe,4,11,"p-scroller",52)(6,SEe,2,6,"ng-container",20)(7,kEe,5,6,"ng-template",null,6,bt),m(),I(9,VEe,3,1,"div",53),f(10,"span",49,7),R("focus",function(o){b(e);let r=h();return y(r.onLastHiddenFocus(o))}),m()()}if(i&2){let e=h();te(e.panelStyleClass),p("ngClass","p-multiselect-panel p-component")("ngStyle",e.panelStyle),M("id",e.id+"_list"),d(),M("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),d(2),p("ngIf",e.showHeader),d(),p("ngStyle",J(16,fxe,e.virtualScroll?"auto":e.scrollHeight||"auto")),d(),p("ngIf",e.virtualScroll),d(),p("ngIf",!e.virtualScroll),d(3),p("ngIf",e.footerFacet||e.footerTemplate),d(),M("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var UEe={provide:Vi,useExisting:Dt(()=>MT),multi:!0},jEe=(()=>{class i{config;id;option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;template;checkIconTemplate;itemCheckboxIconTemplate;onClick=new W;onMouseEnter=new W;constructor(e){this.config=e}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=function(t){return new(t||i)(v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",j],label:"label",disabled:[2,"disabled","disabled",j],itemSize:[2,"itemSize","itemSize",xe],focused:[2,"focused","focused",j],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Ve],decls:6,vars:28,consts:[["pRipple","","role","option",1,"p-multiselect-item",3,"click","mouseenter","ngStyle","ngClass","id"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(f(0,"li",0),R("click",function(s){return o.onOptionClick(s)})("mouseenter",function(s){return o.onOptionMouseEnter(s)}),f(1,"div",1)(2,"div",2),I(3,QAe,4,3,"ng-container",3),m()(),I(4,ZAe,2,1,"span",3)(5,exe,1,0,"ng-container",4),m()),t&2&&(p("ngStyle",J(17,cg,o.itemSize+"px"))("ngClass",Ue(19,HAe,o.disabled,o.focused))("id",o.id),M("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled)("aria-checked",o.selected),d(),p("ngClass",J(22,GAe,o.config.inputStyle()==="filled")),d(),p("ngClass",J(24,zAe,o.selected)),d(),p("ngIf",o.selected),d(),p("ngIf",!o.template),d(),p("ngTemplateOutlet",o.template)("ngTemplateOutletContext",J(26,Jv,o.option)))},dependencies:()=>[Fe,ze,Xe,ve,Ri,Ki],encapsulation:2})}return i})(),MT=(()=>{class i{el;renderer;cd;zone;filterService;config;overlayService;id;ariaLabel;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex=0;variant="outlined";appendTo;dataKey;name;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="off";showClear=!1;autofocus;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(e){this._defaultLabel=e,console.warn("defaultLabel property is deprecated since 16.6.0, use placeholder instead")}get defaultLabel(){return this._defaultLabel}set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){le.deepEquals(this._options(),e)||this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!1;filterFields;selectOnFocus=!1;autoOptionFocus=!0;onChange=new W;onFilter=new W;onFocus=new W;onBlur=new W;onClick=new W;onClear=new W;onPanelShow=new W;onPanelHide=new W;onLazyLoad=new W;onRemove=new W;onSelectAllChange=new W;containerViewChild;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;templates;searchValue;searchTimeout;_selectAll=null;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder=ui(void 0);_itemSize;_selectionLimit;_disableTooltip=!1;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;headerCheckboxFocus;filterOptions;preventModelTouched;preventDocumentDefault;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=ui(null);_filterValue=ui(null);_options=ui(null);startRangeIndex=ui(-1);focusedOptionIndex=ui(-1);selectedOptions;clickInProgress=!1;get containerClass(){return{"p-multiselect p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-multiselect-clearable":this.showClear&&!this.disabled,"p-multiselect-chip":this.display==="chip","p-focus":this.focused,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled"}}get inputClass(){return{"p-multiselect-label p-inputtext":!0,"p-placeholder":(this.placeholder()||this.defaultLabel)&&(this.label()===this.placeholder()||this.label()===this.defaultLabel),"p-multiselect-label-empty":!this.selectedItemsTemplate&&(this.label()==="p-emptylabel"||this.label().length===0)}}get panelClass(){return{"p-multiselect-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get labelClass(){return{"p-multiselect-label":!0,"p-placeholder":this.label()===this.placeholder()||this.label()===this.defaultLabel,"p-multiselect-label-empty":!this.placeholder()&&!this.defaultLabel&&(!this.modelValue()||this.modelValue().length===0)}}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(oi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(oi.EMPTY_FILTER_MESSAGE)}get filled(){return typeof this.modelValue()=="string"?!!this.modelValue():le.isNotEmpty(this.modelValue())}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&le.isNotEmpty(this.modelValue())&&this.showClear&&!this.disabled&&this.filled}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}get listLabel(){return this.config.getTranslation(oi.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=to(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=le.isArray(e)&&le.isObject(e[0]);if(this._filterValue()){let o;if(t?o=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):o=e.filter(r=>r.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let r=this.options||[],s=[];return r.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>o.includes(u));c.length>0&&s.push(Ee(Q({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return o}return e});label=to(()=>{let e,t=this.modelValue();if(t&&t.length&&this.displaySelectedLabel){if(le.isNotEmpty(this.maxSelectedLabels)&&t.length>this.maxSelectedLabels)return this.getSelectedItemsLabel();e="";for(let o=0;o<t.length;o++)o!==0&&(e+=", "),e+=this.getLabelByValue(t[o])}else e=this.placeholder()||this.defaultLabel||"";return e});chipSelectedItems=to(()=>le.isNotEmpty(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue().length>this.maxSelectedLabels?this.modelValue().slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,t,o,r,s,a,l){this.el=e,this.renderer=t,this.cd=o,this.zone=r,this.filterService=s,this.config=a,this.overlayService=l,Il(()=>{let c=this.modelValue(),u=this.visibleOptions();u&&le.isNotEmpty(u)&&(this.optionValue&&this.optionLabel&&c?this.selectedOptions=u.filter(g=>c.includes(g[this.optionLabel])||c.includes(g[this.optionValue])):this.selectedOptions=c,this.cd.markForCheck())})}ngOnInit(){this.id=this.id||ut(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return le.isNotEmpty(this.selectionLimit)&&this.modelValue()&&this.modelValue().length===this.selectionLimit}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItems":this.selectedItemsTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template,console.warn("checkicon is deprecated and will removed in v18. Use itemcheckboxicon or headercheckboxicon templates instead.");break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"removetokenicon":this.removeTokenIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,t){this.value=e,this.onModelChange(e),this.modelValue.set(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,t=!1,o=-1){let{originalEvent:r,option:s}=e;if(this.disabled||this.isOptionDisabled(s))return;let a=this.isSelected(s),l=null;a?(l=this.modelValue().filter(c=>!le.equals(c,this.getOptionValue(s),this.equalityKey())),this.onRemove.emit({newValue:this.value,removed:this.getOptionValue(s)})):l=[...this.modelValue()||[],this.getOptionValue(s)],this.updateModel(l,r),o!==-1&&this.focusedOptionIndex.set(o),t&&L.focus(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:Ee(Q({},e),{selected:!e.selected}),value:l,itemValue:s})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,t=-1,o=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(t)),t!==-1&&o!==-1){let r=Math.min(t,o),s=Math.max(t,o),a=this.visibleOptions().slice(r,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,t=!1){let o=-1;return this.hasSelectedOption()&&(t?(o=this.findPrevSelectedOptionIndex(e),o=o===-1?this.findNextSelectedOptionIndex(e):o):(o=this.findNextSelectedOptionIndex(e),o=o===-1?this.findPrevSelectedOptionIndex(e):o)),o>-1?o:e}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?le.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidSelectedOption(o)):-1;return t>-1?t:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return t>-1?t+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return le.isNotEmpty(this.modelValue())}isSelectionAllDisabled(){return this.showToggleAll&&le.isEmpty(this.selectionLimit)}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?le.resolveFieldData(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let t=this.getOptionValue(e);return(this.modelValue()||[]).some(o=>le.equals(o,t,this.equalityKey()))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let o=(this.group?this.flatOptions(this._options()):this._options()||[]).find(r=>!this.isOptionGroup(r)&&le.equals(this.getOptionValue(r),e,this.equalityKey()));return o?this.getOptionLabel(o):null}getSelectedItemsLabel(){let e=/{(.*?)}/,t=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(oi.SELECTION_MESSAGE);return e.test(t)?t.replace(t.match(e)[0],this.modelValue().length+""):t}getOptionLabel(e){return this.optionLabel?le.resolveFieldData(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?le.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?le.resolveFieldData(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?le.resolveFieldData(e,this.optionGroupChildren):e.items}onKeyDown(e){if(this.disabled){e.preventDefault();return}let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&t){let o=this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(o,e),e.preventDefault();break}!t&&le.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let o=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,o,this.startRangeIndex()),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,t=!1){let{currentTarget:o}=e;if(t){let r=o.value.length;o.setSelectionRange(0,e.shiftKey?r:0),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&r&&this.onOptionSelectRange(e,s,this.startRangeIndex()),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,t=!1){let{currentTarget:o}=e;if(t){let r=o.value.length;o.setSelectionRange(e.shiftKey?0:r,r),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,s=this.findLastFocusedOptionIndex();e.shiftKey&&r&&this.onOptionSelectRange(e,this.startRangeIndex(),s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onTabKey(e,t=!1){t||(this.overlayVisible&&this.hasFocusableElements()?(L.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault()):(this.focusedOptionIndex()!==-1&&this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]}),this.overlayVisible&&this.hide(this.filter)))}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.disabled||this.loading||this.readonly||e.target.isSameNode(this.focusInputViewChild?.nativeElement))){if(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')){e.preventDefault();return}else if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(t)}onInputFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onToggleAll(e){if(!(this.disabled||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.getAllVisibleAndNonVisibleOptions().filter(a=>this.isSelected(a)&&(this.optionDisabled?le.resolveFieldData(a,this.optionDisabled):a&&a.disabled!==void 0?a.disabled:!1)),o=this.allSelected()?this.visibleOptions().filter(a=>!this.isValidOption(a)&&this.isSelected(a)):this.visibleOptions().filter(a=>this.isSelected(a)||this.isValidOption(a)),r=[...t,...o].map(a=>this.getOptionValue(a)),s=[...new Set(r)];this.updateModel(s,e),(!s.length||s.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!s.length})}this.partialSelected()&&(this.selectedOptions=null,this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),L.focus(this.headerCheckboxViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.preventDefault(),e.stopPropagation()}}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let o=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}writeValue(e){this.value=e,!le.isEmpty(this.selectionLimit)&&le.isEmpty(this.value)?this.modelValue.set([]):this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}allSelected(){return this.selectAll!==null?this.selectAll:le.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<this.options.length}show(e){this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),e&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),e&&L.focus(this.focusInputViewChild?.nativeElement),this.onPanelHide.emit(),this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this._options()&&this._options().length)if(this.virtualScroll){let t=le.isNotEmpty(this.modelValue())?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=L.findSingle(this.itemsWrapper,'[data-p-highlight="true"]');t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.itemsWrapper=null,this.onModelTouched();break}}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=null,this.updateModel(null,e),this.selectedOptions=null,this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,t){let o=this.modelValue().filter(r=>!le.equals(r,e,this.equalityKey()));this.updateModel(o,t),this.onChange.emit({originalEvent:t,value:o,itemValue:e}),t&&t.stopPropagation()}findNextItem(e){let t=e.nextElementSibling;return t?L.hasClass(t.children[0],"p-disabled")||L.isHidden(t.children[0])||L.hasClass(t,"p-multiselect-item-group")?this.findNextItem(t):t.children[0]:null}findPrevItem(e){let t=e.previousElementSibling;return t?L.hasClass(t.children[0],"p-disabled")||L.isHidden(t.children[0])||L.hasClass(t,"p-multiselect-item-group")?this.findPrevItem(t):t.children[0]:null}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?le.findLastIndex(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?le.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return le.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedOptionIndex()!==-1?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),o=o===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}activateFilter(){if(this.hasFilter()&&this._options)if(this.group){let e=[];for(let t of this.options){let o=this.filterService.filter(this.getOptionGroupChildren(t),this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);o&&o.length&&e.push(Ee(Q({},t),{[this.optionGroupChildren]:o}))}this._filteredOptions=e}else this._filteredOptions=this.filterService.filter(this.options,this.searchFields(),this.filterValue,this.filterMatchMode,this.filterLocale);else this._filteredOptions=null}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}static \u0275fac=function(t){return new(t||i)(v(Le),v(wt),v(pe),v(It),v(qa),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-multiSelect"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,$r,5),qe(r,Ya,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.footerFacet=s.first),K(s=q())&&(o.headerFacet=s.first),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(txe,5),ne(ixe,5),ne(nxe,5),ne(oxe,5),ne(rxe,5),ne(sxe,5),ne(axe,5),ne(lxe,5),ne(cxe,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.overlayViewChild=r.first),K(r=q())&&(o.filterInputChild=r.first),K(r=q())&&(o.focusInputViewChild=r.first),K(r=q())&&(o.itemsViewChild=r.first),K(r=q())&&(o.scroller=r.first),K(r=q())&&(o.lastHiddenFocusableElementOnOverlay=r.first),K(r=q())&&(o.firstHiddenFocusableElementOnOverlay=r.first),K(r=q())&&(o.headerCheckboxViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,o){t&2&&Xi("p-inputwrapper-focus",o.focused||o.overlayVisible)("p-inputwrapper-filled",o.filled)},inputs:{id:"id",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:[2,"disabled","disabled",j],readonly:[2,"readonly","readonly",j],group:[2,"group","group",j],filter:[2,"filter","filter",j],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",j],tabindex:[2,"tabindex","tabindex",xe],variant:"variant",appendTo:"appendTo",dataKey:"dataKey",name:"name",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",e=>xe(e,null)],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",j],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",j],dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",j],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",j],virtualScroll:[2,"virtualScroll","virtualScroll",j],loading:[2,"loading","loading",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",j],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",j],autofocus:[2,"autofocus","autofocus",j],autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",j],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",j],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",j]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[Ge([UEe]),Ve],ngContentSelectors:uxe,decls:17,vars:44,consts:[["container",""],["focusInput",""],["elseBlock",""],["overlay",""],["token",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["filterInput",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[1,"p-multiselect-label-container",3,"mouseleave","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-multiselect-trigger"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],[1,"p-multiselect-token-label"],[3,"ngClass","styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"click","ngClass","styleClass"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-multiselect-clear-icon",3,"click"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-multiselect-trigger-icon",4,"ngIf"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"click","keydown","ngClass"],["type","checkbox",3,"focus","blur","readonly","disabled"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","searchbox","role","searchbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"input","keydown","click","blur","value","disabled"],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-multiselect-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-multiselect-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","selected","label","disabled","template","checkIconTemplate","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-multiselect-empty-message",3,"ngStyle"],[1,"p-multiselect-footer"]],template:function(t,o){if(t&1){let r=k();_i(dxe),f(0,"div",15,0),R("click",function(a){return b(r),y(o.onContainerClick(a))}),f(2,"div",16)(3,"input",17,1),R("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))})("keydown",function(a){return b(r),y(o.onKeyDown(a))}),m()(),f(5,"div",18),R("mouseleave",function(){return b(r),y(o.labelContainerMouseLeave())}),f(6,"div",19),I(7,Exe,3,2,"ng-container",20)(8,Txe,1,0,"ng-container",21),m(),I(9,Fxe,3,2,"ng-container",20),m(),f(10,"div",22),I(11,Bxe,3,2,"ng-container",23)(12,$xe,2,2,"ng-template",null,2,bt),m(),f(14,"p-overlay",24,3),Re("visibleChange",function(a){return b(r),De(o.overlayVisible,a)||(o.overlayVisible=a),y(a)}),R("onAnimationStart",function(a){return b(r),y(o.onOverlayAnimationStart(a))})("onHide",function(){return b(r),y(o.hide())}),I(16,BEe,12,18,"ng-template",25),m()()}if(t&2){let r,s=Me(13);te(o.styleClass),p("ngClass",o.containerClass)("ngStyle",o.style),M("id",o.id),d(2),M("data-p-hidden-accessible",!0),d(),p("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass)("autofocus",o.autofocus),M("aria-disabled",o.disabled)("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(r=o.overlayVisible)!==null&&r!==void 0?r:!1)("aria-controls",o.overlayVisible?o.id+"_list":null)("tabindex",o.disabled?-1:o.tabindex)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("value",o.label()||"empty"),d(2),p("pTooltip",o.tooltip)("tooltipDisabled",o._disableTooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),d(),p("ngClass",o.labelClass),d(),p("ngIf",!o.selectedItemsTemplate),d(),p("ngTemplateOutlet",o.selectedItemsTemplate)("ngTemplateOutletContext",Ue(41,pxe,o.selectedOptions,o.removeOption.bind(o))),d(),p("ngIf",o.isVisibleClearIcon),d(2),p("ngIf",o.loading)("ngIfElse",s),d(3),Oe("visible",o.overlayVisible),p("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("autoZIndex",o.autoZIndex)("baseZIndex",o.baseZIndex)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[Fe,Ni,ze,Xe,ve,Gf,ge,On,Ri,Kr,mn,Ki,Us,Vs,Ci,Zo,jEe],styles:[`@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-token-label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}
`],encapsulation:2,changeDetection:0})}return i})(),kT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,bp,$e,_o,Li,Co,Tn,Ki,Us,Vs,Ci,Zo,Ki,ws,bp,$e,Co]})}return i})();var GEe=["input"],zEe=(i,n,e,t)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":i,"p-radiobutton-disabled":n,"p-radiobutton-focused":e,"p-variant-filled":t}),WEe=(i,n,e)=>({"p-radiobutton-box":!0,"p-highlight":i,"p-disabled":n,"p-focus":e}),$Ee=(i,n,e)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":i,"p-disabled":n,"p-radiobutton-label-focus":e});function KEe(i,n){if(i&1){let e=k();f(0,"label",7),R("click",function(o){b(e);let r=h();return y(r.select(o))}),T(1),m()}if(i&2){let e=h(),t=Me(3);te(e.labelStyleClass),p("ngClass",Ai(6,$Ee,t.checked,e.disabled,e.focused)),M("for",e.inputId)("data-pc-section","label"),d(),H(e.label)}}var qEe={provide:Vi,useExisting:Dt(()=>dg),multi:!0},YEe=(()=>{class i{accessors=[];add(e,t){this.accessors.push([e,t])}remove(e){this.accessors=this.accessors.filter(t=>t[1]!==e)}select(e){this.accessors.forEach(t=>{this.isSameGroup(t,e)&&t[1]!==e&&t[1].writeValue(e.value)})}isSameGroup(e,t){return e[0].control?e[0].control.root===t.control.control.root&&e[1].name===t.name:!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dg=(()=>{class i{cd;injector;registry;config;value;formControlName;name;disabled;label;variant="outlined";tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;autofocus;onClick=new W;onFocus=new W;onBlur=new W;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(e,t,o,r){this.cd=e,this.injector=t,this.registry=o,this.config=r}ngOnInit(){this.control=this.injector.get(cr),this.checkName(),this.registry.add(this.control,this)}handleClick(e,t,o){e.preventDefault(),!this.disabled&&(this.select(e),o&&t.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(t){return new(t||i)(v(pe),v(Zn),v(YEe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-radioButton"]],viewQuery:function(t,o){if(t&1&&ne(GEe,5),t&2){let r;K(r=q())&&(o.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:[2,"disabled","disabled",j],label:"label",variant:"variant",tabindex:[2,"tabindex","tabindex",xe],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",autofocus:[2,"autofocus","autofocus",j]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Ge([qEe]),Ve],decls:7,vars:31,consts:[["input",""],[3,"click","ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio","pAutoFocus","",3,"focus","blur","checked","disabled","value","autofocus"],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"click","ngClass"]],template:function(t,o){if(t&1){let r=k();f(0,"div",1),R("click",function(a){b(r);let l=Me(3);return y(o.handleClick(a,l,!0))}),f(1,"div",2)(2,"input",3,0),R("focus",function(a){return b(r),y(o.onInputFocus(a))})("blur",function(a){return b(r),y(o.onInputBlur(a))}),m()(),f(4,"div",4),E(5,"span",5),m()(),I(6,KEe,2,10,"label",6)}t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Nn(22,zEe,o.checked,o.disabled,o.focused,o.variant==="filled"||o.config.inputStyle()==="filled")),M("data-pc-name","radiobutton")("data-pc-section","root"),d(),M("data-pc-section","hiddenInputWrapper"),d(),p("checked",o.checked)("disabled",o.disabled)("value",o.value)("autofocus",o.autofocus),M("id",o.inputId)("name",o.name)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("tabindex",o.tabindex)("aria-checked",o.checked)("data-pc-section","hiddenInput"),d(2),p("ngClass",Ai(27,WEe,o.checked,o.disabled,o.focused)),M("data-pc-section","input"),d(),M("data-pc-section","icon"),d(),p("ngIf",o.label))},dependencies:[Fe,ze,ve,mn],encapsulation:2,changeDetection:0})}return i})(),NT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Tn]})}return i})();var VT=(()=>{class i extends gt{pathId;ngOnInit(){this.pathId="url(#"+ut()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=We(i)))(o||i)}})();static \u0275cmp=Y({type:i,selectors:[["UploadIcon"]],standalone:!0,features:[fe,Ze],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(pt(),f(0,"svg",0)(1,"g"),E(2,"path",1),m(),f(3,"defs")(4,"clipPath",2),E(5,"rect",3),m()()()),t&2&&(te(o.getClassNames()),M("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role),d(),M("clip-path",o.pathId),d(3),p("id",o.pathId))},encapsulation:2})}return i})();var JEe=["advancedfileinput"],XEe=["basicfileinput"],QEe=["content"],ZEe=(i,n,e,t,o)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,uploadCallback:o}),eTe=(i,n,e,t,o,r,s,a)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,removeUploadedFileCallback:o,removeFileCallback:r,progress:s,messages:a}),tTe=(i,n)=>({"p-focus":i,"p-disabled":n}),iTe=(i,n,e,t)=>({"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":i,"p-fileupload-choose-selected":n,"p-focus":e,"p-disabled":t});function nTe(i,n){if(i&1&&E(0,"span",21),i&2){let e=h(3);te(e.chooseIcon),p("ngClass","p-button-icon p-button-icon-left"),M("aria-label",!0)("data-pc-section","chooseicon")}}function oTe(i,n){i&1&&E(0,"PlusIcon",24),i&2&&(p("styleClass","p-button-icon p-button-icon-left"),M("aria-label",!0)("data-pc-section","chooseicon"))}function rTe(i,n){}function sTe(i,n){i&1&&I(0,rTe,0,0,"ng-template")}function aTe(i,n){if(i&1&&(f(0,"span",25),I(1,sTe,1,0,null,11),m()),i&2){let e=h(4);M("aria-label",!0)("data-pc-section","chooseicon"),d(),p("ngTemplateOutlet",e.chooseIconTemplate)}}function lTe(i,n){if(i&1&&(re(0),I(1,oTe,1,3,"PlusIcon",22)(2,aTe,2,3,"span",23),se()),i&2){let e=h(3);d(),p("ngIf",!e.chooseIconTemplate),d(),p("ngIf",e.chooseIconTemplate)}}function cTe(i,n){if(i&1&&E(0,"span",28),i&2){let e=h(4);p("ngClass",e.uploadIcon),M("aria-hidden",!0)}}function dTe(i,n){i&1&&E(0,"UploadIcon",24),i&2&&p("styleClass","p-button-icon p-button-icon-left")}function uTe(i,n){}function pTe(i,n){i&1&&I(0,uTe,0,0,"ng-template")}function hTe(i,n){if(i&1&&(f(0,"span",25),I(1,pTe,1,0,null,11),m()),i&2){let e=h(5);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.uploadIconTemplate)}}function fTe(i,n){if(i&1&&(re(0),I(1,dTe,1,1,"UploadIcon",22)(2,hTe,2,2,"span",23),se()),i&2){let e=h(4);d(),p("ngIf",!e.uploadIconTemplate),d(),p("ngIf",e.uploadIconTemplate)}}function mTe(i,n){if(i&1){let e=k();f(0,"p-button",26),R("onClick",function(){b(e);let o=h(3);return y(o.upload())}),I(1,cTe,1,2,"span",27)(2,fTe,3,2,"ng-container",9),m()}if(i&2){let e=h(3);p("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.uploadStyleClass),d(),p("ngIf",e.uploadIcon),d(),p("ngIf",!e.uploadIcon)}}function gTe(i,n){if(i&1&&E(0,"span",28),i&2){let e=h(4);p("ngClass",e.cancelIcon)}}function _Te(i,n){i&1&&E(0,"TimesIcon",24),i&2&&(p("styleClass","p-button-icon p-button-icon-left"),M("aria-hidden",!0))}function CTe(i,n){}function ITe(i,n){i&1&&I(0,CTe,0,0,"ng-template")}function vTe(i,n){if(i&1&&(f(0,"span",25),I(1,ITe,1,0,null,11),m()),i&2){let e=h(5);M("aria-hidden",!0),d(),p("ngTemplateOutlet",e.cancelIconTemplate)}}function bTe(i,n){if(i&1&&(re(0),I(1,_Te,1,2,"TimesIcon",22)(2,vTe,2,2,"span",23),se()),i&2){let e=h(4);d(),p("ngIf",!e.cancelIconTemplate),d(),p("ngIf",e.cancelIconTemplate)}}function yTe(i,n){if(i&1){let e=k();f(0,"p-button",26),R("onClick",function(){b(e);let o=h(3);return y(o.clear())}),I(1,gTe,1,1,"span",27)(2,bTe,3,2,"ng-container",9),m()}if(i&2){let e=h(3);p("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cancelStyleClass),d(),p("ngIf",e.cancelIcon),d(),p("ngIf",!e.cancelIcon)}}function wTe(i,n){if(i&1){let e=k();re(0),f(1,"span",17),R("focus",function(){b(e);let o=h(2);return y(o.onFocus())})("blur",function(){b(e);let o=h(2);return y(o.onBlur())})("click",function(){b(e);let o=h(2);return y(o.choose())})("keydown.enter",function(){b(e);let o=h(2);return y(o.choose())}),f(2,"input",7,0),R("change",function(o){b(e);let r=h(2);return y(r.onFileSelect(o))}),m(),I(4,nTe,1,5,"span",18)(5,lTe,3,2,"ng-container",9),f(6,"span",19),T(7),m()(),I(8,mTe,3,5,"p-button",20)(9,yTe,3,5,"p-button",20),se()}if(i&2){let e=h(2);d(),te(e.chooseStyleClass),p("ngClass",Ue(16,tTe,e.focus,e.disabled||e.isChooseDisabled())),M("data-pc-section","choosebutton"),d(),p("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),M("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),d(2),p("ngIf",e.chooseIcon),d(),p("ngIf",!e.chooseIcon),d(),M("data-pc-section","choosebuttonlabel"),d(),H(e.chooseButtonLabel),d(),p("ngIf",!e.auto&&e.showUploadButton),d(),p("ngIf",!e.auto&&e.showCancelButton)}}function STe(i,n){i&1&&oe(0)}function ATe(i,n){i&1&&oe(0)}function xTe(i,n){if(i&1&&E(0,"p-progressBar",29),i&2){let e=h(2);p("value",e.progress)("showValue",!1)}}function ETe(i,n){if(i&1){let e=k();f(0,"div")(1,"img",35),R("error",function(o){b(e);let r=h(5);return y(r.imageError(o))}),m()()}if(i&2){let e=h().$implicit,t=h(4);d(),p("src",e.objectURL,lr)("width",t.previewWidth)}}function TTe(i,n){i&1&&E(0,"TimesIcon")}function OTe(i,n){}function RTe(i,n){i&1&&I(0,OTe,0,0,"ng-template")}function DTe(i,n){if(i&1){let e=k();f(0,"div",32),I(1,ETe,2,2,"div",9),f(2,"div",33),T(3),m(),f(4,"div"),T(5),m(),f(6,"div")(7,"button",34),R("click",function(o){let r=b(e).index,s=h(4);return y(s.remove(o,r))}),I(8,TTe,1,0,"TimesIcon",9)(9,RTe,1,0,null,11),m()()()}if(i&2){let e=n.$implicit,t=h(4);d(),p("ngIf",t.isImage(e)),d(2),H(e.name),d(2),H(t.formatSize(e.size)),d(2),te(t.removeStyleClass),p("disabled",t.uploading),d(),p("ngIf",!t.cancelIconTemplate),d(),p("ngTemplateOutlet",t.cancelIconTemplate)}}function PTe(i,n){if(i&1&&(f(0,"div"),I(1,DTe,10,8,"div",31),m()),i&2){let e=h(3);d(),p("ngForOf",e.files)}}function FTe(i,n){}function LTe(i,n){if(i&1&&(f(0,"div"),I(1,FTe,0,0,"ng-template",36),m()),i&2){let e=h(3);d(),p("ngForOf",e.files)("ngForTemplate",e.fileTemplate)}}function MTe(i,n){if(i&1&&(f(0,"div",30),I(1,PTe,2,1,"div",9)(2,LTe,2,2,"div",9),m()),i&2){let e=h(2);d(),p("ngIf",!e.fileTemplate),d(),p("ngIf",e.fileTemplate)}}function kTe(i,n){i&1&&oe(0)}function NTe(i,n){i&1&&oe(0)}function VTe(i,n){if(i&1&&(f(0,"div",37),I(1,NTe,1,0,"ng-container",11),m()),i&2){let e=h(2);d(),p("ngTemplateOutlet",e.emptyTemplate)}}function BTe(i,n){if(i&1){let e=k();f(0,"div",6)(1,"input",7,0),R("change",function(o){b(e);let r=h();return y(r.onFileSelect(o))}),m(),f(3,"div",8),I(4,wTe,10,19,"ng-container",9)(5,STe,1,0,"ng-container",10)(6,ATe,1,0,"ng-container",11),m(),f(7,"div",12,1),R("dragenter",function(o){b(e);let r=h();return y(r.onDragEnter(o))})("dragleave",function(o){b(e);let r=h();return y(r.onDragLeave(o))})("drop",function(o){b(e);let r=h();return y(r.onDrop(o))}),I(9,xTe,1,2,"p-progressBar",13),E(10,"p-messages",14),I(11,MTe,3,2,"div",15)(12,kTe,1,0,"ng-container",10)(13,VTe,2,1,"div",16),m()()}if(i&2){let e=h();te(e.styleClass),p("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",e.style),M("data-pc-name","fileupload")("data-pc-section","root"),d(),fn("display","none"),p("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled()),M("aria-label",e.browseFilesLabel)("title","")("data-pc-section","input"),d(2),M("data-pc-section","buttonbar"),d(),p("ngIf",!e.headerTemplate),d(),p("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Ha(27,ZEe,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),d(),p("ngTemplateOutlet",e.toolbarTemplate),d(),M("data-pc-section","content"),d(2),p("ngIf",e.hasFiles()),d(),p("value",e.msgs)("enableService",!1),d(),p("ngIf",e.hasFiles()),d(),p("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",eF(33,eTe,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs)),d(),p("ngIf",e.emptyTemplate&&!e.hasFiles()&&!e.hasUploadedFiles())}}function UTe(i,n){if(i&1&&E(0,"span",28),i&2){let e=h(3);p("ngClass",e.uploadIcon)}}function jTe(i,n){i&1&&E(0,"UploadIcon",24),i&2&&p("styleClass","p-button-icon p-button-icon-left")}function HTe(i,n){}function GTe(i,n){i&1&&I(0,HTe,0,0,"ng-template")}function zTe(i,n){if(i&1&&(f(0,"span",25),I(1,GTe,1,0,null,11),m()),i&2){let e=h(4);d(),p("ngTemplateOutlet",e.uploadIconTemplate)}}function WTe(i,n){if(i&1&&(re(0),I(1,jTe,1,1,"UploadIcon",22)(2,zTe,2,1,"span",23),se()),i&2){let e=h(3);d(),p("ngIf",!e.uploadIconTemplate),d(),p("ngIf",e.uploadIconTemplate)}}function $Te(i,n){if(i&1&&(re(0),I(1,UTe,1,1,"span",27)(2,WTe,3,2,"ng-container",9),se()),i&2){let e=h(2);d(),p("ngIf",e.uploadIcon),d(),p("ngIf",!e.uploadIcon)}}function KTe(i,n){if(i&1&&E(0,"span",44),i&2){let e=h(3);p("ngClass",e.chooseIcon)}}function qTe(i,n){i&1&&E(0,"PlusIcon",24),i&2&&(p("styleClass","p-button-icon p-button-icon-left pi"),M("aria-hidden",!0)("data-pc-section","uploadicon"))}function YTe(i,n){}function JTe(i,n){i&1&&I(0,YTe,0,0,"ng-template")}function XTe(i,n){if(i&1&&(f(0,"span",46),I(1,JTe,1,0,null,11),m()),i&2){let e=h(4);M("aria-hidden",!0)("data-pc-section","uploadicon"),d(),p("ngTemplateOutlet",e.chooseIconTemplate)}}function QTe(i,n){if(i&1&&(re(0),I(1,qTe,1,3,"PlusIcon",22)(2,XTe,2,3,"span",45),se()),i&2){let e=h(3);d(),p("ngIf",!e.chooseIconTemplate),d(),p("ngIf",e.chooseIconTemplate)}}function ZTe(i,n){if(i&1&&I(0,KTe,1,1,"span",43)(1,QTe,3,2,"ng-container",9),i&2){let e=h(2);p("ngIf",e.chooseIcon),d(),p("ngIf",!e.chooseIcon)}}function eOe(i,n){if(i&1&&(f(0,"span",19),T(1),m()),i&2){let e=h(2);M("data-pc-section","label"),d(),H(e.basicButtonLabel)}}function tOe(i,n){if(i&1){let e=k();f(0,"input",47,3),R("change",function(o){b(e);let r=h(2);return y(r.onFileSelect(o))})("focus",function(){b(e);let o=h(2);return y(o.onFocus())})("blur",function(){b(e);let o=h(2);return y(o.onBlur())}),m()}if(i&2){let e=h(2);p("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled),M("aria-label",e.browseFilesLabel)("data-pc-section","input")}}function iOe(i,n){if(i&1){let e=k();f(0,"div",38),E(1,"p-messages",14),f(2,"span",39),R("click",function(){b(e);let o=h();return y(o.onBasicUploaderClick())})("keydown",function(o){b(e);let r=h();return y(r.onBasicKeydown(o))}),I(3,$Te,3,2,"ng-container",40)(4,ZTe,2,2,"ng-template",null,2,bt)(6,eOe,2,2,"span",41)(7,tOe,2,5,"input",42),m()()}if(i&2){let e=Me(5),t=h();M("data-pc-name","fileupload"),d(),p("value",t.msgs)("enableService",!1),d(),te(t.styleClass),p("ngClass",Nn(12,iTe,!t.basicButtonLabel,t.hasFiles(),t.focus,t.disabled))("ngStyle",t.style),M("data-pc-section","choosebutton"),d(),p("ngIf",t.hasFiles()&&!t.auto)("ngIfElse",e),d(3),p("ngIf",t.basicButtonLabel),d(),p("ngIf",!t.hasFiles())}}var Xv=(()=>{class i{document;platformId;renderer;el;sanitizer;zone;http;cd;config;name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;onBeforeUpload=new W;onSend=new W;onUpload=new W;onError=new W;onClear=new W;onRemove=new W;onSelect=new W;onProgress=new W;uploadHandler=new W;onImageError=new W;onRemoveUploadedFile=new W;templates;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let t=0;t<e.length;t++){let o=e[t];this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[t]))),this._files.push(e[t]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];fileUploadSubcription;constructor(e,t,o,r,s,a,l,c,u){this.document=e,this.platformId=t,this.renderer=o,this.el=r,this.sanitizer=s,this.zone=a,this.http=l,this.cd=c,this.config=u}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"file":this.fileTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"toolbar":this.toolbarTemplate=e.template;break;case"chooseicon":this.chooseIconTemplate=e.template;break;case"uploadicon":this.uploadIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;default:this.fileTemplate=e.template;break}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){rt(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.msgs=[],this.multiple||(this.files=[]);let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let o=0;o<t.length;o++){let r=t[o];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[o]))),this.files.push(t[o]))}this.onSelect.emit({originalEvent:e,files:t,currentFiles:this.files}),this.checkFileLimit(t),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(rt(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){return this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",e.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):this.maxFileSize&&e.size>this.maxFileSize?(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",e.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),!1):!0}isFileTypeValid(e){let t=this.accept?.split(",").map(o=>o.trim());for(let o of t)if(this.isWildcard(o)?this.getTypeClass(e.type)===this.getTypeClass(o):e.type==o||this.getFileExtension(e).toLowerCase()===o.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let t=0;t<this.files.length;t++)e.append(this.name,this.files[t],this.files[t].name);this.cancelUploadRequest(),this.fileUploadSubcription=this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(t=>{switch(t.type){case Ps.Sent:this.onSend.emit({originalEvent:t,formData:e});break;case Ps.Response:this.uploading=!1,this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:t,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles.push(...this.files),this.clear();break;case Ps.UploadProgress:{t.loaded&&(this.progress=Math.round(t.loaded*100/t.total)),this.onProgress.emit({originalEvent:t,progress:this.progress});break}}this.cd.markForCheck()},t=>{this.uploading=!1,this.onError.emit({files:this.files,error:t})})}}clear(){this.files=[],this.uploadedFileCount=0,this.cancelUploadRequest(),this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(e,t){this.cancelUploadRequest(),this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[t]}),this.files.splice(t,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:t,files:this.uploadedFiles})}cancelUploadRequest(){this.fileUploadSubcription&&(this.fileUploadSubcription.unsubscribe(),this.fileUploadSubcription=void 0)}isFileLimitExceeded(){let t=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=t&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<t}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let t=this.msgs.length>0&&this.fileLimit<e.length;(this.isFileLimitExceeded()||t)&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(L.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||L.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){L.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(oi.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(3)} ${r[s]}`}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(oi.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(oi.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(oi.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(oi.ARIA)[oi.BROWSE_FILES]}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(wt),v(Le),v(ha),v(It),v(Mt),v(pe),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-fileUpload"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(JEe,5),ne(XEe,5),ne(QEe,5)),t&2){let r;K(r=q())&&(o.advancedFileInput=r.first),K(r=q())&&(o.basicFileInput=r.first),K(r=q())&&(o.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",j],accept:"accept",disabled:[2,"disabled","disabled",j],auto:[2,"auto","auto",j],withCredentials:[2,"withCredentials","withCredentials",j],maxFileSize:[2,"maxFileSize","maxFileSize",xe],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",xe],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",j],showCancelButton:[2,"showCancelButton","showCancelButton",j],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",j],fileLimit:[2,"fileLimit","fileLimit",e=>xe(e,null)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Ve],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["chooseSection",""],["basicfileinput",""],[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],["type","file",3,"change","multiple","accept","disabled"],[1,"p-fileupload-buttonbar"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],["class","p-fileupload-empty",4,"ngIf"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"focus","blur","click","keydown.enter","ngClass"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"onClick","label","disabled","styleClass"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"click","disabled"],[3,"error","src","width"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload-empty"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"change","focus","blur","accept","multiple","disabled"]],template:function(t,o){t&1&&I(0,BTe,14,42,"div",4)(1,iOe,8,17,"div",5),t&2&&(p("ngIf",o.mode==="advanced"),d(),p("ngIf",o.mode==="basic"))},dependencies:()=>[Fe,Ni,ze,Xe,ve,at,FS,YC,av,Ri,qr,VT,Ci],styles:[`@layer primeng{.p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}}
`],encapsulation:2,changeDetection:0})}return i})(),BT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,go,YA,fh,Li,qr,VT,Ci,$e,go,YA,fh]})}return i})();var nOe=["*",[["p-header"]],[["p-footer"]]],oOe=["*","p-header","p-footer"];function rOe(i,n){i&1&&oe(0)}function sOe(i,n){if(i&1&&(f(0,"div",8),jt(1,1),I(2,rOe,1,0,"ng-container",6),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.headerTemplate)}}function aOe(i,n){i&1&&oe(0)}function lOe(i,n){if(i&1&&(f(0,"div",9),T(1),I(2,aOe,1,0,"ng-container",6),m()),i&2){let e=h();d(),z(" ",e.header," "),d(),p("ngTemplateOutlet",e.titleTemplate)}}function cOe(i,n){i&1&&oe(0)}function dOe(i,n){if(i&1&&(f(0,"div",10),T(1),I(2,cOe,1,0,"ng-container",6),m()),i&2){let e=h();d(),z(" ",e.subheader," "),d(),p("ngTemplateOutlet",e.subtitleTemplate)}}function uOe(i,n){i&1&&oe(0)}function pOe(i,n){i&1&&oe(0)}function hOe(i,n){if(i&1&&(f(0,"div",11),jt(1,2),I(2,pOe,1,0,"ng-container",6),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.footerTemplate)}}var _U=(()=>{class i{el;header;subheader;set style(e){le.equals(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=ui(null);constructor(e){this.el=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"title":this.titleTemplate=e.template;break;case"subtitle":this.subtitleTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(t){return new(t||i)(v(Le))};static \u0275cmp=Y({type:i,selectors:[["p-card"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,Ya,5),qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.headerFacet=s.first),K(s=q())&&(o.footerFacet=s.first),K(s=q())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:oOe,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,o){t&1&&(_i(nOe),f(0,"div",0),I(1,sOe,3,1,"div",1),f(2,"div",2),I(3,lOe,3,2,"div",3)(4,dOe,3,2,"div",4),f(5,"div",5),jt(6),I(7,uOe,1,0,"ng-container",6),m(),I(8,hOe,3,1,"div",7),m()()),t&2&&(te(o.styleClass),p("ngClass","p-card p-component")("ngStyle",o._style()),M("data-pc-name","card"),d(),p("ngIf",o.headerFacet||o.headerTemplate),d(2),p("ngIf",o.header||o.titleTemplate),d(),p("ngIf",o.subheader||o.subtitleTemplate),d(3),p("ngTemplateOutlet",o.contentTemplate),d(),p("ngIf",o.footerFacet||o.footerTemplate))},dependencies:[Fe,ze,Xe,ve],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),UT=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e]})}return i})();var mOe=["input"],gOe=(i,n,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":i,"p-disabled":n,"p-focus":e}),_Oe={provide:Vi,useExisting:Dt(()=>COe),multi:!0},COe=(()=>{class i{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new W;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(t){return new(t||i)(v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-inputSwitch"]],viewQuery:function(t,o){if(t&1&&ne(mOe,5),t&2){let r;K(r=q())&&(o.input=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",xe],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",j],readonly:[2,"readonly","readonly",j],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",j]},outputs:{onChange:"onChange"},features:[Ge([_Oe]),Ve],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(t,o){if(t&1){let r=k();f(0,"div",1),R("click",function(a){return b(r),y(o.onClick(a))}),f(1,"div",2)(2,"input",3,0),R("focus",function(){return b(r),y(o.onFocus())})("blur",function(){return b(r),y(o.onBlur())}),m()(),E(4,"span",4),m()}t&2&&(te(o.styleClass),p("ngClass",Ai(19,gOe,o.checked(),o.disabled,o.focused))("ngStyle",o.style),M("data-pc-name","inputswitch")("data-pc-section","root"),d(),M("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),d(),p("checked",o.checked())("disabled",o.disabled)("autofocus",o.autofocus),M("id",o.inputId)("aria-checked",o.checked())("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("name",o.name)("tabindex",o.tabindex)("data-pc-section","hiddenInput"),d(2),M("data-pc-section","slider"))},dependencies:[Fe,ve,mn],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return i})(),CU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Tn]})}return i})();var IOe=["container"],vOe=["resizeHelper"],bOe=["reorderIndicatorUp"],yOe=["reorderIndicatorDown"],wOe=["table"],SOe=["scrollableView"],AOe=["scrollableFrozenView"],xOe=(i,n,e,t,o)=>({"p-treetable p-component":!0,"p-treetable-hoverable-rows":i,"p-treetable-auto-layout":n,"p-treetable-resizable":e,"p-treetable-resizable-fit":t,"p-treetable-flex-scrollable":o}),tc=i=>({$implicit:i}),EOe=(i,n)=>({left:i,width:n}),TOe=i=>({width:i}),HT=()=>({display:"none"});function OOe(i,n){if(i&1&&E(0,"i"),i&2){let e=h(2);te("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function ROe(i,n){i&1&&E(0,"SpinnerIcon",24),i&2&&p("spin",!0)("styleClass","p-treetable-loading-icon")}function DOe(i,n){}function POe(i,n){i&1&&I(0,DOe,0,0,"ng-template")}function FOe(i,n){if(i&1&&(f(0,"span",25),I(1,POe,1,0,null,26),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.loadingIconTemplate)}}function LOe(i,n){if(i&1&&(re(0),I(1,ROe,1,2,"SpinnerIcon",22)(2,FOe,2,1,"span",23),se()),i&2){let e=h(2);d(),p("ngIf",!e.loadingIconTemplate),d(),p("ngIf",e.loadingIconTemplate)}}function MOe(i,n){if(i&1&&(f(0,"div",18)(1,"div",19),I(2,OOe,1,2,"i",20)(3,LOe,3,2,"ng-container",21),m()()),i&2){let e=h();d(2),p("ngIf",e.loadingIcon),d(),p("ngIf",!e.loadingIcon)}}function kOe(i,n){i&1&&oe(0)}function NOe(i,n){if(i&1&&(f(0,"div",27),I(1,kOe,1,0,"ng-container",26),m()),i&2){let e=h();d(),p("ngTemplateOutlet",e.captionTemplate)}}function VOe(i,n){i&1&&oe(0)}function BOe(i,n){if(i&1&&I(0,VOe,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function UOe(i,n){i&1&&I(0,BOe,1,1,"ng-template",29)}function jOe(i,n){i&1&&oe(0)}function HOe(i,n){if(i&1&&I(0,jOe,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function GOe(i,n){i&1&&I(0,HOe,1,1,"ng-template",30)}function zOe(i,n){i&1&&oe(0)}function WOe(i,n){if(i&1&&I(0,zOe,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function $Oe(i,n){i&1&&I(0,WOe,1,1,"ng-template",31)}function KOe(i,n){i&1&&oe(0)}function qOe(i,n){if(i&1&&I(0,KOe,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function YOe(i,n){i&1&&I(0,qOe,1,1,"ng-template",32)}function JOe(i,n){if(i&1){let e=k();f(0,"p-paginator",28),R("onPageChange",function(o){b(e);let r=h();return y(r.onPageChange(o))}),I(1,UOe,1,0,null,21)(2,GOe,1,0,null,21)(3,$Oe,1,0,null,21)(4,YOe,1,0,null,21),m()}if(i&2){let e=h();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),d(),p("ngIf",e.paginatorFirstPageLinkIconTemplate),d(),p("ngIf",e.paginatorPreviousPageLinkIconTemplate),d(),p("ngIf",e.paginatorLastPageLinkIconTemplate),d(),p("ngIf",e.paginatorNextPageLinkIconTemplate)}}function XOe(i,n){i&1&&oe(0)}function QOe(i,n){i&1&&oe(0)}function ZOe(i,n){i&1&&oe(0)}function e2e(i,n){if(i&1&&(f(0,"div",33)(1,"table",34,1),I(3,XOe,1,0,"ng-container",35),f(4,"thead",36),I(5,QOe,1,0,"ng-container",35),m(),E(6,"tbody",37),f(7,"tfoot",38),I(8,ZOe,1,0,"ng-container",35),m()()()),i&2){let e=h();d(),p("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),d(2),p("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",J(10,tc,e.columns)),d(2),p("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",J(12,tc,e.columns)),d(),p("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),d(2),p("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",J(14,tc,e.columns))}}function t2e(i,n){if(i&1&&E(0,"div",42,3),i&2){let e=h(2);p("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",J(4,TOe,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function i2e(i,n){if(i&1&&(f(0,"div",39),I(1,t2e,2,6,"div",40),E(2,"div",41,2),m()),i&2){let e=h();d(),p("ngIf",e.frozenColumns||e.frozenBodyTemplate),d(),p("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",Ue(5,EOe,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function n2e(i,n){i&1&&oe(0)}function o2e(i,n){if(i&1&&I(0,n2e,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function r2e(i,n){i&1&&I(0,o2e,1,1,"ng-template",29)}function s2e(i,n){i&1&&oe(0)}function a2e(i,n){if(i&1&&I(0,s2e,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function l2e(i,n){i&1&&I(0,a2e,1,1,"ng-template",30)}function c2e(i,n){i&1&&oe(0)}function d2e(i,n){if(i&1&&I(0,c2e,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function u2e(i,n){i&1&&I(0,d2e,1,1,"ng-template",31)}function p2e(i,n){i&1&&oe(0)}function h2e(i,n){if(i&1&&I(0,p2e,1,0,"ng-container",26),i&2){let e=h(3);p("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function f2e(i,n){i&1&&I(0,h2e,1,1,"ng-template",32)}function m2e(i,n){if(i&1){let e=k();f(0,"p-paginator",43),R("onPageChange",function(o){b(e);let r=h();return y(r.onPageChange(o))}),I(1,r2e,1,0,null,21)(2,l2e,1,0,null,21)(3,u2e,1,0,null,21)(4,f2e,1,0,null,21),m()}if(i&2){let e=h();p("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),d(),p("ngIf",e.paginatorFirstPageLinkIconTemplate),d(),p("ngIf",e.paginatorPreviousPageLinkIconTemplate),d(),p("ngIf",e.paginatorLastPageLinkIconTemplate),d(),p("ngIf",e.paginatorNextPageLinkIconTemplate)}}function g2e(i,n){i&1&&oe(0)}function _2e(i,n){if(i&1&&(f(0,"div",44),I(1,g2e,1,0,"ng-container",26),m()),i&2){let e=h();d(),p("ngTemplateOutlet",e.summaryTemplate)}}function C2e(i,n){i&1&&E(0,"div",45,4),i&2&&p("ngStyle",Ie(1,HT))}function I2e(i,n){i&1&&E(0,"ArrowDownIcon")}function v2e(i,n){}function b2e(i,n){i&1&&I(0,v2e,0,0,"ng-template")}function y2e(i,n){if(i&1&&(f(0,"span",46,5),I(2,I2e,1,0,"ArrowDownIcon",21)(3,b2e,1,0,null,26),m()),i&2){let e=h();p("ngStyle",Ie(3,HT)),d(2),p("ngIf",!e.reorderIndicatorUpIconTemplate),d(),p("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function w2e(i,n){i&1&&E(0,"ArrowUpIcon")}function S2e(i,n){}function A2e(i,n){i&1&&I(0,S2e,0,0,"ng-template")}function x2e(i,n){if(i&1&&(f(0,"span",47,6),I(2,w2e,1,0,"ArrowUpIcon",21)(3,A2e,1,0,null,26),m()),i&2){let e=h();p("ngStyle",Ie(3,HT)),d(2),p("ngIf",!e.reorderIndicatorDownIconTemplate),d(),p("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var E2e=["pTreeTableBody",""],T2e=(i,n,e,t)=>({$implicit:i,node:n,rowData:e,columns:t}),O2e=(i,n)=>({$implicit:i,frozen:n});function R2e(i,n){i&1&&oe(0)}function D2e(i,n){if(i&1&&(re(0),I(1,R2e,1,0,"ng-container",2),se()),i&2){let e=h().$implicit,t=h();d(),p("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Nn(2,T2e,e,e.node,e.node.data,t.columns))}}function P2e(i,n){if(i&1&&I(0,D2e,2,7,"ng-container",1),i&2){let e=n.$implicit;p("ngIf",e.visible)}}function F2e(i,n){i&1&&oe(0)}function L2e(i,n){if(i&1&&(re(0),I(1,F2e,1,0,"ng-container",2),se()),i&2){let e=h();d(),p("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",Ue(2,O2e,e.columns,e.frozen))}}var M2e=["scrollHeader"],k2e=["scrollHeaderBox"],N2e=["scrollBody"],V2e=["scrollTable"],B2e=["loadingTable"],U2e=["scrollFooter"],j2e=["scrollFooterBox"],H2e=["scrollableAligner"],G2e=["scroller"],z2e=["ttScrollableView",""],W2e=i=>({height:i}),IU=(i,n)=>({$implicit:i,options:n}),$2e=i=>({options:i}),K2e=(i,n)=>({"max-height":i,"overflow-y":n}),q2e=()=>({}),Y2e=()=>({"background-color":"transparent"});function J2e(i,n){i&1&&oe(0)}function X2e(i,n){i&1&&oe(0)}function Q2e(i,n){i&1&&oe(0)}function Z2e(i,n){if(i&1&&I(0,Q2e,1,0,"ng-container",12),i&2){let e=n.$implicit,t=n.options;h(2);let o=Me(11);p("ngTemplateOutlet",o)("ngTemplateOutletContext",Ue(2,IU,e,t))}}function eRe(i,n){i&1&&oe(0)}function tRe(i,n){if(i&1&&I(0,eRe,1,0,"ng-container",12),i&2){let e=n.options,t=h(3);p("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",J(2,$2e,e))}}function iRe(i,n){i&1&&(re(0),I(1,tRe,1,4,"ng-template",19),se())}function nRe(i,n){if(i&1){let e=k();f(0,"p-scroller",17,3),R("onLazyLoad",function(o){b(e);let r=h();return y(r.tt.onLazyItemLoad(o))}),I(2,Z2e,1,5,"ng-template",18)(3,iRe,2,0,"ng-container",15),m()}if(i&2){let e=h();it(J(8,W2e,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),p("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),d(3),p("ngIf",e.loaderTemplate)}}function oRe(i,n){i&1&&oe(0)}function rRe(i,n){if(i&1&&(re(0),f(1,"div",20,4),I(3,oRe,1,0,"ng-container",12),m(),se()),i&2){let e=h(),t=Me(11);d(),p("ngStyle",Ue(3,K2e,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),d(2),p("ngTemplateOutlet",t)("ngTemplateOutletContext",Ue(7,IU,e.serializedValue,Ie(6,q2e)))}}function sRe(i,n){i&1&&oe(0)}function aRe(i,n){i&1&&E(0,"div",24,6),i&2&&p("ngStyle",Ie(1,Y2e))}function lRe(i,n){if(i&1&&(f(0,"table",21,5),I(2,sRe,1,0,"ng-container",12),E(3,"tbody",22),m(),I(4,aRe,2,2,"div",23)),i&2){let e=n.$implicit,t=n.options,o=h();te(o.tt.tableStyleClass),p("ngClass",t.contentStyleClass)("ngStyle",o.getMergedTableStyles(t.contentStyle)),d(2),p("ngTemplateOutlet",o.frozen&&o.tt.frozenColGroupTemplate||o.tt.colGroupTemplate)("ngTemplateOutletContext",J(11,tc,o.columns)),d(),p("pTreeTableBody",o.columns)("pTreeTableBodyTemplate",o.frozen&&o.tt.frozenBodyTemplate||o.tt.bodyTemplate)("serializedNodes",e)("frozen",o.frozen),d(),p("ngIf",o.frozen)}}function cRe(i,n){i&1&&oe(0)}function dRe(i,n){i&1&&oe(0)}function uRe(i,n){if(i&1&&(f(0,"div",25,7)(2,"div",26,8)(4,"table",27),I(5,cRe,1,0,"ng-container",12),f(6,"tfoot",28),I(7,dRe,1,0,"ng-container",12),m()()()()),i&2){let e=h();d(4),p("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),d(),p("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",J(6,tc,e.columns)),d(2),p("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",J(8,tc,e.columns))}}var pRe=(i,n)=>({visibility:i,"margin-left":n});function hRe(i,n){i&1&&E(0,"ChevronDownIcon"),i&2&&M("aria-hidden",!0)}function fRe(i,n){i&1&&E(0,"ChevronRightIcon"),i&2&&M("aria-hidden",!0)}function mRe(i,n){if(i&1&&(re(0),I(1,hRe,1,1,"ChevronDownIcon",1)(2,fRe,1,1,"ChevronRightIcon",1),se()),i&2){let e=h();d(),p("ngIf",e.rowNode.node.expanded),d(),p("ngIf",!e.rowNode.node.expanded)}}function gRe(i,n){}function _Re(i,n){i&1&&I(0,gRe,0,0,"ng-template")}var jT=(()=>{class i{sortSource=new Ae;selectionSource=new Ae;contextMenuSource=new Ae;uiUpdateSource=new Ae;totalRecordsSource=new Ae;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})(),ug=(()=>{class i{document;renderer;el;cd;zone;tableService;filterService;config;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,t)=>t;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}selectionChange=new W;contextMenuSelectionChange=new W;onFilter=new W;onNodeExpand=new W;onNodeCollapse=new W;onPage=new W;onSort=new W;onLazyLoad=new W;sortFunction=new W;onColResize=new W;onColReorder=new W;onNodeSelect=new W;onNodeUnselect=new W;onContextMenuSelect=new W;onHeaderCheckboxToggle=new W;onEditInit=new W;onEditComplete=new W;onEditCancel=new W;selectionKeysChange=new W;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break}})}constructor(e,t,o,r,s,a,l,c){this.document=e,this.renderer=t,this.el=o,this.cd=r,this.zone=s,this.tableService=a,this.filterService=l,this.config=c}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,t,o,r){if(t&&t.length)for(let s of t){s.parent=e;let a={node:s,parent:e,level:o,visible:r&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,o+1,a.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let t=this.lazy?0:this.first;for(let o=t;o<t+this.rows;o++){let r=e[o];r&&(this.serializedValue.push({node:r,parent:null,level:0,visible:!0}),this.serializeNodes(r,r.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(le.resolveFieldData(e.data,this.dataKey))]=1;else this.selectedKeys[String(le.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let o=t.metaKey||t.ctrlKey,r=this.getSortMeta(e.field);r?o?r.order=r.order*-1:(this._multiSortMeta=[{field:e.field,order:r.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((t,o)=>{let r=le.resolveFieldData(t.data,this.sortField),s=le.resolveFieldData(o.data,this.sortField),a=null;return r==null&&s!=null?a=-1:r!=null&&s==null?a=1:r==null&&s==null?a=0:typeof r=="string"&&typeof s=="string"?a=r.localeCompare(s,void 0,{numeric:!0}):a=r<s?-1:r>s?1:0,this.sortOrder*a});for(let t of e)this.sortNodes(t.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((t,o)=>this.multisortField(t,o,this.multiSortMeta,0));for(let t of e)this.sortMultipleNodes(t.children)}}multisortField(e,t,o,r){if(le.isEmpty(this.multiSortMeta)||le.isEmpty(o[r]))return 0;let s=le.resolveFieldData(e.data,o[r].field),a=le.resolveFieldData(t.data,o[r].field),l=null;if(s==null&&a!=null?l=-1:s!=null&&a==null?l=1:s==null&&a==null&&(l=0),typeof s=="string"||s instanceof String){if(s.localeCompare&&s!=a)return o[r].order*s.localeCompare(a,void 0,{numeric:!0})}else l=s<a?-1:1;return s==a?o.length-1>r?this.multisortField(e,t,o,r+1):0:o[r].order*l}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==e){t=!0;break}}return t}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Ee(Q(Q({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let t=L.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let t=L.getOffset(this.containerViewChild?.nativeElement).left;L.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,t){let o=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=t.offsetWidth,s=r+o,a=t.style.minWidth||15;if(r+o>parseInt(a)){if(this.columnResizeMode==="fit"){let l=t.nextElementSibling;for(;!l.offsetParent;)l=l.nextElementSibling;if(l){let c=l.offsetWidth-o,u=l.style.minWidth||15;if(s>15&&c>parseInt(u))if(this.scrollable){let g=this.findParentScrollableView(t),_=L.findSingle(g,".p-treetable-scrollable-body table")||L.findSingle(g,".p-scroller-viewport table"),C=L.findSingle(g,"table.p-treetable-scrollable-header-table"),w=L.findSingle(g,"table.p-treetable-scrollable-footer-table"),S=L.index(t);this.resizeColGroup(C,S,s,c),this.resizeColGroup(_,S,s,c),this.resizeColGroup(w,S,s,c)}else t.style.width=s+"px",l&&(l.style.width=c+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let l=this.findParentScrollableView(t),c=L.findSingle(l,".p-treetable-scrollable-body")||L.findSingle(l,".p-scroller-viewport"),u=L.findSingle(l,".p-treetable-scrollable-header"),g=L.findSingle(l,".p-treetable-scrollable-footer"),_=L.findSingle(l,".p-treetable-scrollable-body table")||L.findSingle(l,".p-scroller-viewport table"),C=L.findSingle(l,"table.p-treetable-scrollable-header-table"),w=L.findSingle(l,"table.p-treetable-scrollable-footer-table"),S=L.index(t),A=t?_.offsetWidth+o:s,x=t?C.offsetWidth+o:s,D=this.containerViewChild?.nativeElement.offsetWidth>=A,V=(X,ee,ae,me)=>{X&&ee&&(X.style.width=me?ae+L.calculateScrollbarWidth(c)+"px":"auto",ee.style.width=ae+"px")};V(c,_,A,D),V(u,C,x,D),V(g,w,x,D),this.resizeColGroup(C,S,s,null),this.resizeColGroup(_,S,s,null),this.resizeColGroup(w,S,s,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+o+"px",t.style.width=s+"px";let l=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=l+"px"}this.onColResize.emit({element:t,delta:o})}this.resizeHelperViewChild.nativeElement.style.display="none",L.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let t=e.parentElement;for(;t&&!L.hasClass(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}else return null}resizeColGroup(e,t,o,r){if(e){let s=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(s){let a=s.children[t],l=a.nextElementSibling;a.style.width=o+"px",l&&r&&(l.style.width=r+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,t){this.reorderIconWidth=L.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=L.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let o=L.getOffset(this.containerViewChild?.nativeElement),r=L.getOffset(t);if(this.draggedColumn!=t){let s=r.left-o.left,a=o.top-r.top,l=r.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=r.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=r.top-o.top+t.offsetHeight+"px",e.pageX>l?(this.reorderIndicatorUpViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let o=L.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),r=L.indexWithinGroup(t,"ttreorderablecolumn"),s=o!=r;s&&(r-o==1&&this.dropPosition===-1||o-r==1&&this.dropPosition===1)&&(s=!1),s&&r<o&&this.dropPosition===1&&(r=r+1),s&&r>o&&this.dropPosition===-1&&(r=r-1),s&&(le.reorderArray(this.columns,o,r),this.onColReorder.emit({dragIndex:o,dropIndex:r,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let t=e.originalEvent.target.nodeName;if(!(t=="INPUT"||t=="BUTTON"||t=="A"||L.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let o=e.rowNode,r=this.isSelected(o.node),s=this.rowTouched?!1:this.metaKeySelection,a=this.dataKey?String(le.resolveFieldData(o.node.data,this.dataKey)):null;if(s){let l=e.originalEvent,c=l.metaKey||l.ctrlKey;if(r&&c){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let u=this.findIndexInSelection(o.node);this._selection=this.selection.filter((g,_)=>_!=u),this.selectionChange.emit(this.selection),a&&delete this.selectedKeys[a]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o.node,this.selectionChange.emit(o.node),a&&(this.selectedKeys={},this.selectedKeys[a]=1)):this.isMultipleSelectionMode()&&(c?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,o.node],this.selectionChange.emit(this.selection),a&&(this.selectedKeys[a]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")r?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})):(this._selection=o.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys={},this.selectedKeys[a]=1));else if(this.selectionMode==="multiple")if(r){let l=this.findIndexInSelection(o.node);this._selection=this.selection.filter((c,u)=>u!=l),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"}),a&&delete this.selectedKeys[a]}else this._selection=this.selection?[...this.selection,o.node]:[o.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys[a]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let o=this.isSelected(t),r=this.dataKey?String(le.resolveFieldData(t.data,this.dataKey)):null;o||(this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t)):this.isMultipleSelectionMode()&&(this.selection=[t],this.selectionChange.emit(this.selection)),r&&(this.selectedKeys[r]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let t=e.rowNode.node;this.isSelected(t)?(this.propagateSelectionDown(t,!1),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown(t,!0),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,t){let o=this.filteredNodes||this.value;this._selection=t&&o?o.slice():[],this.toggleAll(t),t||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t})}toggleAll(e){let t=this.filteredNodes||this.value;if(this.selectionKeys){if(t&&t.length){for(let o of t)this.propagateDown(o,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(t&&t.length)for(let o of t)this.propagateSelectionDown(o,e)}propagateSelectionUp(e,t){if(e.children&&e.children.length){let r=0,s=!1,a=this.dataKey?String(le.resolveFieldData(e.data,this.dataKey)):null;for(let l of e.children)this.isSelected(l)?r++:l.partialSelected&&(s=!0);if(t&&r==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,a&&(this.selectedKeys[a]=1);else{if(!t){let l=this.findIndexInSelection(e);l>=0&&(this._selection=this.selection.filter((c,u)=>u!=l),a&&delete this.selectedKeys[a])}s||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let o=e.parent;e.checked=t,o&&this.propagateSelectionUp(o,t)}propagateSelectionDown(e,t){let o=this.findIndexInSelection(e),r=this.dataKey?String(le.resolveFieldData(e.data,this.dataKey)):null;if(t&&o==-1?(this._selection=[...this.selection||[],e],r&&(this.selectedKeys[r]=1)):!t&&o>-1&&(this._selection=this.selection.filter((s,a)=>a!=o),r&&delete this.selectedKeys[r]),e.partialSelected=!1,e.checked=t,e.children&&e.children.length)for(let s of e.children)this.propagateSelectionDown(s,t)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[le.resolveFieldData(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return le.resolveFieldData(e,this.dataKey)||le.resolveFieldData(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:t,check:o,originalEvent:r}=e,s=t.node;this.selectionKeys?(this.propagateDown(s,o),s.parent&&this.propagateUp(s.parent,o),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:r,rowNode:t}),this.tableService.onSelectionChange()}propagateDown(e,t){if(t?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let o of e.children)this.propagateDown(o,t)}propagateUp(e,t){let o=0,r=!1;for(let a of e.children)this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].checked?o++:this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].partialChecked&&(r=!0);t&&o===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(t||delete this.selectionKeys[this.nodeKey(e)],r||o>0&&o!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let s=e.parent;s&&this.propagateUp(s,t)}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let o=0;o<this.selection.length;o++)if(this.equals(e,this.selection[o])){t=o;break}}return t}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,t){return this.compareSelectionBy==="equals"?le.equals(e,t):le.equals(e.data,t.data,this.dataKey)}filter(e,t,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredNodes=[];let o=this.filterMode==="strict",r=!1;for(let s of this.value){let a=Q({},s),l=!0,c=!1,u;for(let _ in this.filters)if(this.filters.hasOwnProperty(_)&&_!=="global"){let C=this.filters[_],w=_,S=C.value,A=C.matchMode||"startsWith",x=this.filterService.filters[A];if(u={filterField:w,filterValue:S,filterConstraint:x,isStrictMode:o},(o&&!(this.findFilteredNodes(a,u)||this.isFilterMatched(a,u))||!o&&!(this.isFilterMatched(a,u)||this.findFilteredNodes(a,u)))&&(l=!1),!l)break}if(this.filters.global&&!c&&t){let _=Q({},a),C,w=this.filters.global.value,S=this.filterService.filters[this.filters.global.matchMode];u={filterField:C,filterValue:w,filterConstraint:S,isStrictMode:o,globalFilterFieldsArray:t},(o&&(this.findFilteredNodes(_,u)||this.isFilterMatched(_,u))||!o&&(this.isFilterMatched(_,u)||this.findFilteredNodes(_,u)))&&(c=!0,a=_)}let g=l;this.filters.global&&(g=l&&c),g&&this.filteredNodes.push(a),r=r||!l||c||l&&this.filteredNodes.length>0||!c&&this.filteredNodes.length===0}r||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,t){if(e){let o=!1;if(e.children){let r=[...e.children];e.children=[];for(let s of r){let a=Q({},s);this.isFilterMatched(a,t)&&(o=!0,e.children.push(a))}}if(o)return!0}}isFilterMatched(e,t){let{filterField:o,filterValue:r,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l}=t,c=!1,u=g=>s(le.resolveFieldData(e.data,g),r,this.filterLocale);return c=l?.length?l.some(g=>u(g.field||g)):u(o),(!c||a&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{filterField:o,filterValue:r,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l})||c),c}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,t,o){this.editingCell=e,this.editingCellData=t,this.editingCellField=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&L.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(L.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(t){return new(t||i)(v(ct),v(wt),v(Le),v(pe),v(It),v(jT),v(qa),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-treeTable"]],contentQueries:function(t,o,r){if(t&1&&qe(r,ge,4),t&2){let s;K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(ne(IOe,5),ne(vOe,5),ne(bOe,5),ne(yOe,5),ne(wOe,5),ne(SOe,5),ne(AOe,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.resizeHelperViewChild=r.first),K(r=q())&&(o.reorderIndicatorUpViewChild=r.first),K(r=q())&&(o.reorderIndicatorDownViewChild=r.first),K(r=q())&&(o.tableViewChild=r.first),K(r=q())&&(o.scrollableViewChild=r.first),K(r=q())&&(o.scrollableFrozenViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",j],lazy:[2,"lazy","lazy",j],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",j],paginator:[2,"paginator","paginator",j],rows:[2,"rows","rows",xe],first:[2,"first","first",xe],pageLinks:[2,"pageLinks","pageLinks",xe],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",j],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",j],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",j],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",j],showPageLinks:[2,"showPageLinks","showPageLinks",j],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",xe],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",j],customSort:[2,"customSort","customSort",j],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",j],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",j],loading:[2,"loading","loading",j],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",j],scrollable:[2,"scrollable","scrollable",j],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",j],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",xe],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",xe],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",j],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",j],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",xe],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},features:[Ge([jT]),Ve,ki],decls:12,vars:20,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-treetable-reorder-indicator-up",3,"ngStyle"],[1,"p-treetable-reorder-indicator-down",3,"ngStyle"]],template:function(t,o){t&1&&(f(0,"div",7,0),I(2,MOe,4,2,"div",8)(3,NOe,2,1,"div",9)(4,JOe,5,21,"p-paginator",10)(5,e2e,9,16,"div",11)(6,i2e,4,8,"div",12)(7,m2e,5,21,"p-paginator",13)(8,_2e,2,1,"div",14)(9,C2e,2,2,"div",15)(10,y2e,4,4,"span",16)(11,x2e,4,4,"span",17),m()),t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Ha(14,xOe,o.rowHover||o.selectionMode==="single"||o.selectionMode==="multiple",o.autoLayout,o.resizableColumns,o.resizableColumns&&o.columnResizeMode==="fit",o.scrollable&&o.scrollHeight==="flex")),d(2),p("ngIf",o.loading&&o.showLoader),d(),p("ngIf",o.captionTemplate),d(),p("ngIf",o.paginator&&(o.paginatorPosition==="top"||o.paginatorPosition=="both")),d(),p("ngIf",!o.scrollable),d(),p("ngIf",o.scrollable),d(),p("ngIf",o.paginator&&(o.paginatorPosition==="bottom"||o.paginatorPosition=="both")),d(),p("ngIf",o.summaryTemplate),d(),p("ngIf",o.resizableColumns),d(),p("ngIf",o.reorderableColumns),d(),p("ngIf",o.reorderableColumns))},dependencies:()=>[Fe,ze,Xe,ve,IC,ge,Lr,yp,wp,CRe,vU],styles:[`@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden;flex-shrink:0}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return i})(),vU=(()=>{class i{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,t,o){this.tt=e,this.treeTableService=t,this.cd=o,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,t){return this.tt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.getScrollerOption("getItemOptions");return t?t(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(ug),v(jT),v(pe))};static \u0275cmp=Y({type:i,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",j],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},features:[Ve],attrs:E2e,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&I(0,P2e,1,1,"ng-template",0)(1,L2e,2,5,"ng-container",1),t&2&&(p("ngForOf",o.serializedNodes||o.tt.serializedValue)("ngForTrackBy",o.tt.rowTrackBy),d(),p("ngIf",o.tt.isEmpty()))},dependencies:[Ni,ze,Xe],encapsulation:2})}return i})(),CRe=(()=>{class i{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;getMergedTableStyles(e){return Q(Q({},this.tt.tableStyle),e)}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,t,o,r,s){this.platformId=e,this.renderer=t,this.tt=o,this.el=r,this.zone=s}ngAfterViewInit(){if(rt(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=L.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&L.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.tt.virtualScroll?this.frozenSiblingBody=L.findSingle(e,".p-scroller-viewport"):this.frozenSiblingBody=L.findSingle(e,".p-treetable-scrollable-body"));let t=L.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=t+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=t+"px")}this.bindEvents()}}bindEvents(){rt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){rt(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(t){return new(t||i)(v(Lt),v(wt),v(ug),v(Le),v(It))};static \u0275cmp=Y({type:i,selectors:[["","ttScrollableView",""]],viewQuery:function(t,o){if(t&1&&(ne(M2e,5),ne(k2e,5),ne(N2e,5),ne(V2e,5),ne(B2e,5),ne(U2e,5),ne(j2e,5),ne(H2e,5),ne(G2e,5)),t&2){let r;K(r=q())&&(o.scrollHeaderViewChild=r.first),K(r=q())&&(o.scrollHeaderBoxViewChild=r.first),K(r=q())&&(o.scrollBodyViewChild=r.first),K(r=q())&&(o.scrollTableViewChild=r.first),K(r=q())&&(o.scrollLoadingTableViewChild=r.first),K(r=q())&&(o.scrollFooterViewChild=r.first),K(r=q())&&(o.scrollFooterBoxViewChild=r.first),K(r=q())&&(o.scrollableAlignerViewChild=r.first),K(r=q())&&(o.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",j],scrollHeight:"scrollHeight"},features:[Ve],attrs:z2e,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(t,o){t&1&&(f(0,"div",9,0)(2,"div",10,1)(4,"table",11),I(5,J2e,1,0,"ng-container",12),f(6,"thead",13),I(7,X2e,1,0,"ng-container",12),m()()()(),I(8,nRe,4,10,"p-scroller",14)(9,rRe,4,10,"ng-container",15)(10,lRe,5,13,"ng-template",null,2,bt)(12,uRe,8,10,"div",16)),t&2&&(d(4),p("ngClass",o.tt.tableStyleClass)("ngStyle",o.tt.tableStyle),d(),p("ngTemplateOutlet",o.frozen&&o.tt.frozenColGroupTemplate||o.tt.colGroupTemplate)("ngTemplateOutletContext",J(9,tc,o.columns)),d(2),p("ngTemplateOutlet",o.frozen&&o.tt.frozenHeaderTemplate||o.tt.headerTemplate)("ngTemplateOutletContext",J(11,tc,o.columns)),d(),p("ngIf",o.tt.virtualScroll),d(),p("ngIf",!o.tt.virtualScroll),d(3),p("ngIf",o.tt.footerTemplate))},dependencies:[Fe,ze,Xe,ve,ge,Kr,vU],encapsulation:2})}return i})();var bU=(()=>{class i{tt;config;rowNode;constructor(e,t){this.tt=e,this.config=t}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(t){return new(t||i)(v(ug),v(xt))};static \u0275cmp=Y({type:i,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(f(0,"button",0),R("click",function(s){return o.onClick(s)}),I(1,mRe,3,2,"ng-container",1)(2,_Re,1,0,null,2),m()),t&2&&(p("ngStyle",Ue(7,pRe,o.rowNode.node.leaf===!1||o.rowNode.node.children&&o.rowNode.node.children.length?"visible":"hidden",o.rowNode.level*16+"px")),M("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",o.toggleButtonAriaLabel),d(),p("ngIf",!o.tt.togglerIconTemplate),d(),p("ngTemplateOutlet",o.tt.togglerIconTemplate)("ngTemplateOutletContext",J(10,tc,o.rowNode.node.expanded)))},dependencies:()=>[ze,Xe,ve,Ri,Zo,Bs],encapsulation:2})}return i})(),yU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,vC,Li,Co,Lr,yp,wp,Yf,Xf,Jf,Ki,ws,Zo,Bs,$e,Co]})}return i})();var vRe=["list"],bRe=i=>({"p-steps p-component":!0,"p-readonly":i}),yRe=(i,n)=>({"p-highlight p-steps-current":i,"p-disabled":n}),wRe=()=>({exact:!1});function SRe(i,n){if(i&1&&(f(0,"span",12),T(1),m()),i&2){let e=h(2).$implicit;d(),z(" ",e.label,"")}}function ARe(i,n){if(i&1&&E(0,"span",13),i&2){let e=h(2).$implicit;p("innerHTML",e.label,Fi)}}function xRe(i,n){if(i&1){let e=k();f(0,"a",9),R("click",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h();return y(l.onItemClick(o,s,a))})("keydown",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h();return y(l.onItemKeydown(o,s,a))}),f(1,"span",10),T(2),m(),I(3,SRe,2,1,"span",11)(4,ARe,1,1,"ng-template",null,3,bt),m()}if(i&2){let e=Me(5),t=h(),o=t.$implicit,r=t.index,s=h();p("routerLink",o.routerLink)("queryParams",o.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",o.routerLinkActiveOptions||Ie(17,wRe))("target",o.target)("fragment",o.fragment)("queryParamsHandling",o.queryParamsHandling)("preserveFragment",o.preserveFragment)("skipLocationChange",o.skipLocationChange)("replaceUrl",o.replaceUrl)("state",o.state),M("tabindex",s.getItemTabIndex(o,r))("aria-disabled",o.disabled||s.readonly&&r!==s.activeIndex)("aria-current",r===s.activeIndex?"step":null),d(2),H(r+1),d(),p("ngIf",o.escape!==!1)("ngIfElse",e)}}function ERe(i,n){if(i&1&&(f(0,"span",12),T(1),m()),i&2){let e=h(2).$implicit;d(),H(e.label)}}function TRe(i,n){if(i&1&&E(0,"span",13),i&2){let e=h(2).$implicit;p("innerHTML",e.label,Fi)}}function ORe(i,n){if(i&1){let e=k();f(0,"a",14),R("click",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h();return y(l.onItemClick(o,s,a))})("keydown",function(o){b(e);let r=h(),s=r.$implicit,a=r.index,l=h();return y(l.onItemKeydown(o,s,a))}),f(1,"span",10),T(2),m(),I(3,ERe,2,1,"span",11)(4,TRe,1,1,"ng-template",null,4,bt),m()}if(i&2){let e=Me(5),t=h(),o=t.$implicit,r=t.index,s=h();p("target",o.target),M("href",o.url,lr)("tabindex",s.getItemTabIndex(o,r))("aria-disabled",o.disabled||s.readonly&&r!==s.activeIndex)("aria-current",r===s.activeIndex?"step":null),d(2),z("",r+1," "),d(),p("ngIf",o.escape!==!1)("ngIfElse",e)}}function RRe(i,n){if(i&1&&(f(0,"li",7,1),I(2,xRe,6,18,"a",8)(3,ORe,6,8,"ng-template",null,2,bt),m()),i&2){let e=n.$implicit,t=n.index,o=Me(4),r=h();te(e.styleClass),p("ngStyle",e.style)("tooltipOptions",e.tooltipOptions)("ngClass",Ue(10,yRe,r.isActive(e,t),e.disabled||r.readonly&&!r.isActive(e,t))),M("aria-current",r.isActive(e,t)?"step":void 0)("id",e.id)("data-pc-section","menuitem"),d(2),p("ngIf",r.isClickableRouterLink(e))("ngIfElse",o)}}var F1t=(()=>{class i{router;route;cd;activeIndex=0;model;readonly=!0;style;styleClass;exact=!0;activeIndexChange=new W;listViewChild;constructor(e,t,o){this.router=e,this.route=t,this.cd=o}subscription;ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}onItemClick(e,t,o){if(this.readonly||t.disabled){e.preventDefault();return}this.activeIndexChange.emit(o),!t.url&&!t.routerLink&&e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:o})}onItemKeydown(e,t,o){switch(e.code){case"ArrowRight":{this.navigateToNextItem(e.target),e.preventDefault();break}case"ArrowLeft":{this.navigateToPrevItem(e.target),e.preventDefault();break}case"Home":{this.navigateToFirstItem(e.target),e.preventDefault();break}case"End":{this.navigateToLastItem(e.target),e.preventDefault();break}case"Tab":if(o!==this.activeIndex){let r=L.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');r[o].children[0].tabIndex="-1",r[this.activeIndex].children[0].tabIndex="0"}break;case"Enter":case"Space":{this.onItemClick(e,t,o),e.preventDefault();break}default:break}}navigateToNextItem(e){let t=this.findNextItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToPrevItem(e){let t=this.findPrevItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToFirstItem(e){let t=this.findFirstItem();t&&this.setFocusToMenuitem(e,t)}navigateToLastItem(e){let t=this.findLastItem();t&&this.setFocusToMenuitem(e,t)}findNextItem(e){let t=e.parentElement.nextElementSibling;return t?t.children[0]:null}findPrevItem(e){let t=e.parentElement.previousElementSibling;return t?t.children[0]:null}findFirstItem(){let e=L.findSingle(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e.children[0]:null}findLastItem(){let e=L.find(this.listViewChild.nativeElement,'[data-pc-section="menuitem"]');return e?e[e.length-1].children[0]:null}setFocusToMenuitem(e,t){e.tabIndex="-1",t.tabIndex="0",t.focus()}isClickableRouterLink(e){return e.routerLink&&!this.readonly&&!e.disabled}isActive(e,t){if(e.routerLink){let o=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];return this.router.isActive(this.router.createUrlTree(o,{relativeTo:this.route}).toString(),!1)}return t===this.activeIndex}getItemTabIndex(e,t){return e.disabled?"-1":!e.disabled&&this.activeIndex===t?e.tabindex||"0":e.tabindex??"-1"}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(v(et),v(Rl),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-steps"]],viewQuery:function(t,o){if(t&1&&ne(vRe,5),t&2){let r;K(r=q())&&(o.listViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:[2,"activeIndex","activeIndex",xe],model:"model",readonly:[2,"readonly","readonly",j],style:"style",styleClass:"styleClass",exact:[2,"exact","exact",j]},outputs:{activeIndexChange:"activeIndexChange"},features:[Ve],decls:4,vars:9,consts:[["list",""],["menuitem",""],["elseBlock",""],["htmlLabel",""],["htmlRouteLabel",""],[3,"ngClass","ngStyle"],["class","p-steps-item","pTooltip","",3,"ngStyle","class","tooltipOptions","ngClass",4,"ngFor","ngForOf"],["pTooltip","",1,"p-steps-item",3,"ngStyle","tooltipOptions","ngClass"],["role","link","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown",4,"ngIf","ngIfElse"],["role","link",1,"p-menuitem-link",3,"click","keydown","routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","link",1,"p-menuitem-link",3,"click","keydown","target"]],template:function(t,o){t&1&&(f(0,"nav",5)(1,"ul",null,0),I(3,RRe,5,13,"li",6),m()()),t&2&&(te(o.styleClass),p("ngClass",J(7,bRe,o.readonly))("ngStyle",o.style),M("data-pc-name","steps"),d(),M("data-pc-section","menu"),d(2),p("ngForOf",o.model))},dependencies:[Fe,Ni,ze,ve,Mc,Vp,On],styles:[`@layer primeng{.p-steps{position:relative}.p-steps ul{padding:0;margin:0;list-style-type:none;display:flex}.p-steps-item{position:relative;display:flex;justify-content:center;flex:1 1 auto}.p-steps-item .p-menuitem-link{display:inline-flex;flex-direction:column;align-items:center;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{display:flex;align-items:center;justify-content:center}.p-steps-title{display:block}}
`],encapsulation:2,changeDetection:0})}return i})(),wU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Hs,_o,Hs,_o]})}return i})();var SU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Hs,Li,_o,Pc,$e,Hs,_o,$e]})}return i})();var DRe=["container"],PRe=["input"],FRe=["colorSelector"],LRe=["colorHandle"],MRe=["hue"],kRe=["hueHandle"],NRe=(i,n)=>({"p-colorpicker p-component":!0,"p-colorpicker-overlay":i,"p-colorpicker-dragging":n}),VRe=i=>({"p-disabled":i}),BRe=(i,n)=>({"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":i,"p-disabled":n}),URe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),jRe=i=>({value:"visible",params:i});function HRe(i,n){if(i&1){let e=k();f(0,"input",9,1),R("click",function(){b(e);let o=h();return y(o.onInputClick())})("keydown",function(o){b(e);let r=h();return y(r.onInputKeydown(o))})("focus",function(){b(e);let o=h();return y(o.onInputFocus())}),m()}if(i&2){let e=h();fn("background-color",e.inputBgColor),p("ngClass",J(9,VRe,e.disabled))("disabled",e.disabled)("autofocus",e.autofocus),M("tabindex",e.tabindex)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function GRe(i,n){if(i&1){let e=k();f(0,"div",10),R("click",function(o){b(e);let r=h();return y(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){b(e);let r=h();return y(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){b(e);let r=h();return y(r.onOverlayAnimationEnd(o))}),f(1,"div",11)(2,"div",12,2),R("touchstart",function(o){b(e);let r=h();return y(r.onColorDragStart(o))})("touchmove",function(o){b(e);let r=h();return y(r.onDrag(o))})("touchend",function(){b(e);let o=h();return y(o.onDragEnd())})("mousedown",function(o){b(e);let r=h();return y(r.onColorMousedown(o))}),f(4,"div",13),E(5,"div",14,3),m()(),f(7,"div",15,4),R("mousedown",function(o){b(e);let r=h();return y(r.onHueMousedown(o))})("touchstart",function(o){b(e);let r=h();return y(r.onHueDragStart(o))})("touchmove",function(o){b(e);let r=h();return y(r.onDrag(o))})("touchend",function(){b(e);let o=h();return y(o.onDragEnd())}),E(9,"div",16,5),m()()()}if(i&2){let e=h();p("ngClass",Ue(10,BRe,!e.inline,e.disabled))("@overlayAnimation",J(16,jRe,Ue(13,URe,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),M("data-pc-section","panel"),d(),M("data-pc-section","content"),d(),M("data-pc-section","selector"),d(2),M("data-pc-section","color"),d(),M("data-pc-section","colorHandle"),d(2),M("data-pc-section","hue"),d(2),M("data-pc-section","hueHandle")}}var zRe={provide:Vi,useExisting:Dt(()=>GT),multi:!0},GT=(()=>{class i{document;platformId;el;renderer;cd;config;overlayService;style;styleClass;inline;format="hex";appendTo;disabled;tabindex;inputId;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;onChange=new W;onShow=new W;onHide=new W;containerViewChild;inputViewChild;value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;defaultColor="ff0000";onModelChange=()=>{};onModelTouched=()=>{};documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;window;constructor(e,t,o,r,s,a,l){this.document=e,this.platformId=t,this.el=o,this.renderer=r,this.cd=s,this.config=a,this.overlayService=l,this.window=this.document.defaultView}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(oi.ARIA)[oi.SELECT_COLOR]}onHueMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.disabled||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.disabled||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,t){let o=t?t.pageY:e.pageY,r=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,o-r)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,t){let o=t?t.pageX:e.pageX,r=t?t.pageY:e.pageY,s=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),a=s.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),l=s.left+this.document.body.scrollLeft,c=Math.floor(100*Math.max(0,Math.min(150,o-l))/150),u=Math.floor(100*(150-Math.max(0,Math.min(150,r-a)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:u}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}writeValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);setTimeout(()=>{this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()})}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&Yt.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&Yt.clear(e.element),this.onHide.emit({});break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):L.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?L.absolutePosition(this.overlay,this.inputViewChild?.nativeElement):L.relativePosition(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",t=>{this.colorDragging&&this.pickColor(t),this.hueDragging&&this.pickHue(t)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){rt(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!L.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new xo(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var o=[],r=0;r<t;r++)o.push("0");o.push(e),e=o.join("")}return e}HEXtoRGB(e){let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),s=r-o;return t.b=r,t.s=r!=0?255*s/r:0,t.s!=0?e.r==r?t.h=(e.g-e.b)/s:e.g==r?t.h=2+(e.b-e.r)/s:t.h=4+(e.r-e.g)/s:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:0,g:0,b:0};let o=e.h,r=e.s*255/100,s=e.b*255/100;if(r==0)t={r:s,g:s,b:s};else{let a=s,l=(255-r)*s/255,c=(a-l)*(o%60)/60;o==360&&(o=0),o<60?(t.r=a,t.b=l,t.g=l+c):o<120?(t.g=a,t.b=l,t.r=a-c):o<180?(t.g=a,t.r=l,t.b=l+c):o<240?(t.b=a,t.r=l,t.g=a-c):o<300?(t.b=a,t.g=l,t.r=l+c):o<360?(t.r=a,t.g=l,t.b=a-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var o in t)t[o].length==1&&(t[o]="0"+t[o]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&Yt.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(Le),v(wt),v(pe),v(xt),v(Jo))};static \u0275cmp=Y({type:i,selectors:[["p-colorPicker"]],viewQuery:function(t,o){if(t&1&&(ne(DRe,5),ne(PRe,5),ne(FRe,5),ne(LRe,5),ne(MRe,5),ne(kRe,5)),t&2){let r;K(r=q())&&(o.containerViewChild=r.first),K(r=q())&&(o.inputViewChild=r.first),K(r=q())&&(o.colorSelector=r.first),K(r=q())&&(o.colorHandle=r.first),K(r=q())&&(o.hue=r.first),K(r=q())&&(o.hueHandle=r.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:[2,"inline","inline",j],format:"format",appendTo:"appendTo",disabled:[2,"disabled","disabled",j],tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",j],baseZIndex:[2,"baseZIndex","baseZIndex",xe],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",j]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[Ge([zRe]),Ve],decls:4,vars:11,consts:[["container",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly","pAutoFocus","",3,"ngClass","disabled","backgroundColor","autofocus","click","keydown","focus",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly","pAutoFocus","",1,"p-colorpicker-preview","p-inputtext",3,"click","keydown","focus","ngClass","disabled","autofocus"],[3,"click","ngClass"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],[1,"p-colorpicker-hue-handle"]],template:function(t,o){t&1&&(f(0,"div",6,0),I(2,HRe,2,11,"input",7)(3,GRe,11,18,"div",8),m()),t&2&&(te(o.styleClass),p("ngStyle",o.style)("ngClass",Ue(8,NRe,!o.inline,o.colorDragging||o.hueDragging)),M("data-pc-name","colorpicker")("data-pc-section","root"),d(2),p("ngIf",!o.inline),d(),p("ngIf",o.inline||o.overlayVisible))},dependencies:[Fe,ze,ve,mn],styles:[`@layer primeng{.p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}}
`],encapsulation:2,data:{animation:[$i("overlayAnimation",[Nt(":enter",[Rt({opacity:0,transform:"scaleY(0.8)"}),kt("{{showTransitionParams}}")]),Nt(":leave",[kt("{{hideTransitionParams}}",Rt({opacity:0}))])])]},changeDetection:0})}return i})(),AU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,Tn]})}return i})();var $Re=["mask"],KRe=["content"],qRe=["footer"],YRe=["titlebar"],JRe=(i,n,e,t,o,r,s,a,l)=>({"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":i,"p-dialog-left":n,"p-dialog-right":e,"p-dialog-top":t,"p-dialog-bottom":o,"p-dialog-top-left":r,"p-dialog-top-right":s,"p-dialog-bottom-left":a,"p-dialog-bottom-right":l}),XRe=(i,n,e,t)=>({"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":i,"p-dialog-resizable":n,"p-dialog-draggable":e,"p-dialog-maximized":t}),QRe=(i,n)=>({transform:i,transition:n}),ZRe=i=>({value:"visible",params:i}),eDe=()=>({"p-dialog-header-icon p-dialog-header-maximize p-link":!0});function tDe(i,n){if(i&1){let e=k();f(0,"div",14),R("mousedown",function(o){b(e);let r=h(2);return y(r.initResize(o))}),m()}}function iDe(i,n){i&1&&oe(0)}function nDe(i,n){if(i&1&&E(0,"span",23),i&2){let e=h(5);p("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function oDe(i,n){i&1&&E(0,"WindowMaximizeIcon",24),i&2&&p("styleClass","p-dialog-header-maximize-icon")}function rDe(i,n){i&1&&E(0,"WindowMinimizeIcon",24),i&2&&p("styleClass","p-dialog-header-maximize-icon")}function sDe(i,n){i&1&&oe(0)}function aDe(i,n){i&1&&oe(0)}function lDe(i,n){if(i&1){let e=k();f(0,"button",20),R("click",function(){b(e);let o=h(4);return y(o.maximize())})("keydown.enter",function(){b(e);let o=h(4);return y(o.maximize())}),I(1,nDe,1,1,"span",21)(2,oDe,1,1,"WindowMaximizeIcon",22)(3,rDe,1,1,"WindowMinimizeIcon",22)(4,sDe,1,0,"ng-container",12)(5,aDe,1,0,"ng-container",12),m()}if(i&2){let e=h(4);p("ngClass",Ie(6,eDe)),d(),p("ngIf",!e.maximizeIconTemplate||!e.minimizeIconTemplate),d(),p("ngIf",!e.maximized&&!e.maximizeIcon&&!e.maximizeIconTemplate),d(),p("ngIf",e.maximized&&!e.minimizeIcon&&!e.minimizeIconTemplate),d(),p("ngComponentOutlet",e.maximizeIconTemplate),d(),p("ngComponentOutlet",e.minimizeIconTemplate)}}function cDe(i,n){i&1&&E(0,"TimesIcon",24),i&2&&p("styleClass","p-dialog-header-close-icon")}function dDe(i,n){i&1&&oe(0)}function uDe(i,n){if(i&1){let e=k();f(0,"button",25),R("click",function(){b(e);let o=h(4);return y(o.hide())})("keydown.enter",function(){b(e);let o=h(4);return y(o.hide())}),I(1,cDe,1,1,"TimesIcon",22)(2,dDe,1,0,"ng-container",12),m()}if(i&2){let e=h(4);p("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link"),M("aria-label",e.closeAriaLabel),d(),p("ngIf",!e.closeIconTemplate),d(),p("ngComponentOutlet",e.closeIconTemplate)}}function pDe(i,n){if(i&1&&(re(0),f(1,"span",16),T(2),m(),f(3,"div",17),I(4,lDe,6,7,"button",18)(5,uDe,3,4,"button",19),m(),se()),i&2){let e=h(3);d(),p("id",e.ariaLabelledBy),d(),H(e.config.header),d(2),p("ngIf",e.config.maximizable),d(),p("ngIf",e.config.closable!==!1)}}function hDe(i,n){if(i&1){let e=k();f(0,"div",15,3),R("mousedown",function(o){b(e);let r=h(2);return y(r.initDrag(o))}),I(2,iDe,1,0,"ng-container",12)(3,pDe,6,4,"ng-container",11),m()}if(i&2){let e=h(2);d(2),p("ngComponentOutlet",e.headerTemplate),d(),p("ngIf",!e.headerTemplate)}}function fDe(i,n){}function mDe(i,n){i&1&&I(0,fDe,0,0,"ng-template",26)}function gDe(i,n){i&1&&oe(0)}function _De(i,n){if(i&1&&(re(0),T(1),se()),i&2){let e=h(3);d(),z(" ",e.config.footer," ")}}function CDe(i,n){i&1&&oe(0)}function IDe(i,n){if(i&1&&(f(0,"div",27,4),I(2,_De,2,1,"ng-container",11)(3,CDe,1,0,"ng-container",12),m()),i&2){let e=h(2);d(2),p("ngIf",!e.footerTemplate),d(),p("ngComponentOutlet",e.footerTemplate)}}function vDe(i,n){if(i&1){let e=k();f(0,"div",7,1),R("@animation.start",function(o){b(e);let r=h();return y(r.onAnimationStart(o))})("@animation.done",function(o){b(e);let r=h();return y(r.onAnimationEnd(o))}),I(2,tDe,1,0,"div",8)(3,hDe,4,2,"div",9),f(4,"div",10,2),I(6,mDe,1,0,null,11)(7,gDe,1,0,"ng-container",12),m(),I(8,IDe,4,2,"div",13),m()}if(i&2){let e=h();te(e.config.styleClass),p("ngClass",Nn(14,XRe,e.config.rtl,e.config.resizable,e.config.draggable,e.maximized))("ngStyle",e.containerStyle)("@animation",J(22,ZRe,Ue(19,QRe,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)")))("pFocusTrapDisabled",e.config.focusTrap===!1),M("aria-labelledby",e.ariaLabelledBy)("aria-modal",!0),d(2),p("ngIf",e.config.resizable),d(),p("ngIf",e.config.showHeader!==!1),d(),p("ngStyle",e.config.contentStyle),d(2),p("ngIf",!e.contentTemplate),d(),p("ngComponentOutlet",e.contentTemplate),d(),p("ngIf",e.config.footer||e.footerTemplate)}}var xU=(()=>{class i{viewContainerRef;constructor(e){this.viewContainerRef=e}static \u0275fac=function(t){return new(t||i)(v(jo))};static \u0275dir=lt({type:i,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]})}return i})(),dd=class{data;header;ariaLabelledBy;footer;width;height;closeOnEscape;focusOnShow=!0;focusOnClose=!0;focusTrap=!0;baseZIndex;autoZIndex;dismissableMask;rtl;style;contentStyle;styleClass;transitionOptions;closable;showHeader;modal;maskStyleClass;resizable;draggable;keepInViewport;minX;minY;maximizable;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate;breakpoints;templates},Sa=class{constructor(){}close(n){this._onClose.next(n),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(n){this._onDragStart.next(n)}dragEnd(n){this._onDragEnd.next(n)}resizeInit(n){this._onResizeInit.next(n)}resizeEnd(n){this._onResizeEnd.next(n)}maximize(n){this._onMaximize.next(n)}_onClose=new Ae;onClose=this._onClose.asObservable();_onDestroy=new Ae;onDestroy=this._onDestroy.asObservable();_onDragStart=new Ae;onDragStart=this._onDragStart.asObservable();_onDragEnd=new Ae;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new Ae;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new Ae;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new Ae;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new Ae},bDe=ks([Rt({transform:"{{transform}}",opacity:0}),kt("{{transition}}",Rt({transform:"none",opacity:1}))]),yDe=ks([kt("{{transition}}",Rt({transform:"{{transform}}",opacity:0}))]),wDe=(()=>{class i{document;platformId;cd;renderer;config;dialogRef;zone;primeNGConfig;parentDialog;visible=!0;componentRef;mask;resizing;dragging;maximized;_style={};originalStyle;lastPageX;lastPageY;ariaLabelledBy;id=ut();styleElement;insertionPoint;maskViewChild;contentViewChild;footerViewChild;headerViewChild;childComponentType;container;wrapper;documentKeydownListener;documentEscapeListener;maskClickListener;transformOptions="scale(0.7)";documentResizeListener;documentResizeEndListener;documentDragListener;documentDragEndListener;get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon}get minimizeIcon(){return this.config.minimizeIcon}get style(){return this._style}get position(){return this.config.position}get closeAriaLabel(){return this.primeNGConfig.getTranslation(oi.ARIA).close}set style(e){e&&(this._style=Q({},e),this.originalStyle=e)}get parent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>1)return e.pop()}get parentContent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>0){let t=e[e.length-1].querySelector(".p-dialog-content");if(t)return Array.isArray(t)?t[0]:t}}get header(){return this.config.header}get data(){return this.config.data}get breakpoints(){return this.config.breakpoints}get footerTemplate(){return this.config?.templates?.footer}get headerTemplate(){return this.config?.templates?.header}get contentTemplate(){return this.config?.templates?.content}get minimizeIconTemplate(){return this.config?.templates?.minimizeicon}get maximizeIconTemplate(){return this.config?.templates?.maximizeicon}get closeIconTemplate(){return this.config?.templates?.closeicon}get dynamicDialogCount(){return this.document.querySelectorAll("p-dynamicdialog")?.length}get containerStyle(){return Ee(Q({},this.config.style),{width:this.config.width,height:this.config.height})}constructor(e,t,o,r,s,a,l,c,u){this.document=e,this.platformId=t,this.cd=o,this.renderer=r,this.config=s,this.dialogRef=a,this.zone=l,this.primeNGConfig=c,this.parentDialog=u}ngOnInit(){this.breakpoints&&this.createStyle()}createStyle(){if(rt(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.primeNGConfig?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){return this.header!==null?ut()+"_header":null}loadChildComponent(e){let t=this.insertionPoint?.viewContainerRef;t?.clear(),this.componentRef=t?.createComponent(e),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}moveOnTop(){this.config.autoZIndex!==!1&&(Yt.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.parent&&this.unbindGlobalListeners(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.config.modal!==!1&&this.enableModality(),this.config.focusOnShow!==!1&&this.focus();break;case"void":this.wrapper&&this.config.modal!==!1&&L.addClass(this.wrapper,"p-component-overlay-leave");break}}onAnimationEnd(e){e.toState==="void"&&(this.parentContent&&this.config.focusOnClose!==!1&&this.focus(this.parentContent),this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&this.config.autoZIndex!==!1&&Yt.clear(this.container),this.config.modal!==!1&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),this.dynamicDialogCount===1&&L.addClass(this.document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),this.dynamicDialogCount===1&&L.removeClass(this.document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}focus(e=this.contentViewChild.nativeElement){if(!L.getFocusableElements(e).length)return;let o=L.getFocusableElement(e,"[autofocus]");if(o){this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),5)});return}let r=L.getFocusableElement(e);r?this.zone.runOutsideAngular(()=>{setTimeout(()=>r.focus(),5)}):this.footerViewChild?this.focus(this.footerViewChild.nativeElement):!r&&this.headerViewChild&&this.focus(this.headerViewChild.nativeElement)}maximize(){this.maximized=!this.maximized,this.maximized?L.addClass(this.document.body,"p-overflow-hidden"):L.removeClass(this.document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(e){this.config.resizable&&(this.documentResizeListener||this.bindDocumentResizeListeners(),this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,L.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeInit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,r=L.getOuterWidth(this.container),s=L.getOuterHeight(this.container),a=L.getOuterHeight(this.contentViewChild.nativeElement),l=r+t,c=s+o,u=this.container.style.minWidth,g=this.container.style.minHeight,_=this.container.getBoundingClientRect(),C=L.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=t,c+=o),(!u||l>parseInt(u))&&_.left+l<C.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!g||c>parseInt(g))&&_.top+c<C.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,L.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(e))}initDrag(e){L.hasClass(e.target,"p-dialog-header-icon")||L.hasClass(e.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",L.addClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragStart(e))}onDrag(e){if(this.dragging){let t=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),r=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=a.left+r,c=a.top+s,u=L.getViewport();this.container.style.position="fixed",this.keepInViewport?(l>=this.minX&&l+t<u.width&&(this._style.left=l+"px",this.lastPageX=e.pageX,this.container.style.left=l+"px"),c>=this.minY&&c+o<u.height&&(this._style.top=c+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")):(this.lastPageX=e.pageX,this.container.style.left=l+"px",this.lastPageY=e.pageY,this.container.style.top=c+"px")}}endDrag(e){this.dragging&&(this.dragging=!1,L.removeClass(this.document.body,"p-unselectable-text"),this.dialogRef.dragEnd(e),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){rt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document,"mousemove",this.onDrag.bind(this))})}bindDocumentDragEndListener(){rt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentResizeListeners(){rt(this.platformId)&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.config.closeOnEscape!==!1&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentEscapeListener(){let e=this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{t.which==27&&parseInt(this.container.style.zIndex)==Yt.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(t){return new(t||i)(v(ct),v(Lt),v(pe),v(wt),v(dd),v(Sa),v(It),v(xt),v(i,12))};static \u0275cmp=Y({type:i,selectors:[["p-dynamicDialog"]],viewQuery:function(t,o){if(t&1&&(ne(xU,5),ne($Re,5),ne(KRe,5),ne(qRe,5),ne(YRe,5)),t&2){let r;K(r=q())&&(o.insertionPoint=r.first),K(r=q())&&(o.maskViewChild=r.first),K(r=q())&&(o.contentViewChild=r.first),K(r=q())&&(o.footerViewChild=r.first),K(r=q())&&(o.headerViewChild=r.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[["mask",""],["container",""],["content",""],["titlebar",""],["footer",""],[3,"ngClass"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","class","pFocusTrapDisabled",4,"ngIf"],["role","dialog","pFocusTrap","",3,"ngClass","ngStyle","pFocusTrapDisabled"],["class","p-resizable-handle",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],[4,"ngIf"],[4,"ngComponentOutlet"],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],[1,"p-dialog-title",3,"id"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"click","keydown.enter","ngClass"],["class","p-dialog-header-maximize-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],[3,"styleClass"],["type","button","role","button",3,"click","keydown.enter","ngClass"],["pDynamicDialogContent",""],[1,"p-dialog-footer"]],template:function(t,o){t&1&&(f(0,"div",5,0),I(2,vDe,9,24,"div",6),m()),t&2&&(te(o.config.maskStyleClass),p("ngClass",Hd(4,JRe,[o.config.modal!==!1,o.position==="left",o.position==="right",o.position==="top",o.position==="bottom",o.position==="topleft"||o.position==="top-left",o.position==="topright"||o.position==="top-right",o.position==="bottomleft"||o.position==="bottom-left",o.position==="bottomright"||o.position==="bottom-right"])),d(2),p("ngIf",o.visible))},dependencies:()=>[Fe,DF,ze,ve,gp,_p,Ci,fC,xU],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[$i("animation",[Nt("void => visible",[Ns(bDe)]),Nt("visible => void",[Ns(yDe)])])]}})}return i})(),EU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,gp,_p,Ci,$e,mC,$e]})}return i})(),zT=class{_parentInjector;_additionalTokens;constructor(n,e){this._parentInjector=n,this._additionalTokens=e}get(n,e,t){let o=this._additionalTokens.get(n);return o||this._parentInjector.get(n,e)}},ud=(()=>{class i{appRef;injector;document;dialogComponentRefMap=new Map;constructor(e,t,o){this.appRef=e,this.injector=t,this.document=o}open(e,t){if(!this.duplicationPermission(e,t))return null;let o=this.appendDialogComponentToBody(t,e);return this.dialogComponentRefMap.get(o).instance.childComponentType=e,o}getInstance(e){return this.dialogComponentRefMap.get(e).instance}appendDialogComponentToBody(e,t){let o=new WeakMap;o.set(dd,e);let r=new Sa;o.set(Sa,r);let s=r.onClose.subscribe(()=>{this.dialogComponentRefMap.get(r).instance.close()}),a=r.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(r),a.unsubscribe(),s.unsubscribe()}),l=pF(wDe,{environmentInjector:this.appRef.injector,elementInjector:new zT(this.injector,o)});this.appRef.attachView(l.hostView);let c=l.hostView.rootNodes[0];return!e.appendTo||e.appendTo==="body"?this.document.body.appendChild(c):L.appendChild(c,e.appendTo),this.dialogComponentRefMap.set(r,l),r}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;let t=this.dialogComponentRefMap.get(e);this.appRef.detachView(t.hostView),t.destroy(),this.dialogComponentRefMap.delete(e)}duplicationPermission(e,t){if(t.duplicate)return!0;let o=!0;for(let[r,s]of this.dialogComponentRefMap)if(s.instance.childComponentType===e){o=!1;break}return o}static \u0275fac=function(t){return new(t||i)(ie(ua),ie(Zn),ie(ct))};static \u0275prov=ue({token:i,factory:i.\u0275fac})}return i})();var SDe=["scroller"],ADe=[[["p-header"]],[["p-footer"]]],xDe=["p-header","p-footer"],TU=i=>({height:i}),EDe=(i,n)=>({$implicit:i,options:n});function TDe(i,n){i&1&&oe(0)}function ODe(i,n){if(i&1&&(f(0,"div",8),jt(1),I(2,TDe,1,0,"ng-container",9),m()),i&2){let e=h();d(2),p("ngTemplateOutlet",e.headerTemplate)}}function RDe(i,n){i&1&&oe(0)}function DDe(i,n){if(i&1&&(f(0,"div",10),I(1,RDe,1,0,"ng-container",11),m()),i&2){let e=n.$implicit,t=n.options,o=h();p("ngStyle",J(3,TU,o.itemSize+"px")),d(),p("ngTemplateOutlet",e?o.itemTemplate:o.loadingItemTemplate)("ngTemplateOutletContext",Ue(5,EDe,e,t))}}function PDe(i,n){i&1&&oe(0)}function FDe(i,n){if(i&1&&(f(0,"div",12),jt(1,1),I(2,PDe,1,0,"ng-container",9),m()),i&2){let e=h();M("data-pc-section","footer"),d(2),p("ngTemplateOutlet",e.footerTemplate)}}var Qv=(()=>{class i{el;cd;value;itemSize;style;styleClass;scrollHeight;lazy;options;delay=250;onLazyLoad=new W;header;footer;templates;scroller;itemTemplate;headerTemplate;footerTemplate;loadingItemTemplate;virtualScrollTimeout;constructor(e,t){this.el=e,this.cd=t}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"loadingItem":this.loadingItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}onLazyItemLoad(e){this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{this.onLazyLoad.emit(Ee(Q({},e),{rows:e.last-e.first,forceUpdate:()=>this.cd.detectChanges()}))},this.delay)}getBlockableElement(){return this.el.nativeElement.children[0]}scrollToIndex(e,t){this.scroller?.scrollToIndex(e,t)}static \u0275fac=function(t){return new(t||i)(v(Le),v(pe))};static \u0275cmp=Y({type:i,selectors:[["p-virtualScroller"]],contentQueries:function(t,o,r){if(t&1&&(qe(r,Ya,5),qe(r,$r,5),qe(r,ge,4)),t&2){let s;K(s=q())&&(o.header=s.first),K(s=q())&&(o.footer=s.first),K(s=q())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&ne(SDe,5),t&2){let r;K(r=q())&&(o.scroller=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",itemSize:[2,"itemSize","itemSize",xe],style:"style",styleClass:"styleClass",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",j],options:"options",delay:[2,"delay","delay",xe]},outputs:{onLazyLoad:"onLazyLoad"},features:[Ve],ngContentSelectors:xDe,decls:8,vars:17,consts:[["content",""],["scroller",""],[3,"ngClass","ngStyle"],["class","p-virtualscroller-header",4,"ngIf"],[1,"p-virtualscroller-content"],["styleClass","p-virtualscroller-list",3,"onLazyLoad","items","itemSize","lazy","options"],["pTemplate","item"],["class","p-virtualscroller-footer",4,"ngIf"],[1,"p-virtualscroller-header"],[4,"ngTemplateOutlet"],[1,"p-virtualscroller-item",3,"ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-footer"]],template:function(t,o){if(t&1){let r=k();_i(ADe),f(0,"div",2),I(1,ODe,3,1,"div",3),f(2,"div",4,0)(4,"p-scroller",5,1),R("onLazyLoad",function(a){return b(r),y(o.onLazyItemLoad(a))}),I(6,DDe,2,8,"ng-template",6),m()(),I(7,FDe,3,2,"div",7),m()}t&2&&(te(o.styleClass),p("ngClass","p-virtualscroller p-component")("ngStyle",o.style),M("data-pc-name","virtualscroller")("data-pc-section","root"),d(),p("ngIf",o.header||o.headerTemplate),d(),M("data-pc-section","content"),d(2),it(J(15,TU,o.scrollHeight)),p("items",o.value)("itemSize",o.itemSize)("lazy",o.lazy)("options",o.options),d(3),p("ngIf",o.footer||o.footerTemplate))},dependencies:[Fe,ze,Xe,ve,ge,Kr],encapsulation:2})}return i})(),OU=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=we({type:i});static \u0275inj=ye({imports:[Be,$e,Co,$e,Co]})}return i})();var Zv=(()=>{class i{constructor(e,t){this.dialogRef=e,this.router=t,this.alive=!0,this.router.events.pipe(yt(()=>this.alive)).subscribe(o=>{o instanceof Mr&&this.dialogRef.close()})}ngOnInit(){}ngOnDestroy(){this.alive=!1}addMessageToLog(e,t){this.log&&this.log.addNewText(e,t)}static{this.\u0275fac=function(t){return new(t||i)(v(Sa),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-dynamic-panel"]],decls:2,vars:0,template:function(t,o){t&1&&(f(0,"p"),T(1,"fwc-dynamic-panel works!"),m())}})}}return i})();var pd=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e}getDhcpPolicy(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getDhcpPolicyGrid(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/grid/${o}`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newPolicyDhcpRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules`;return this.httpClient.post(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateDhcpPolicyRule(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/moveFrom`;return this.httpClient.put(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateDhcpPolicyRules(e,t,o,r){let s=o.map(c=>`rules[]=${c}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/bulkUpdate?${s}`,l={active:r.active,style:r.style,group:r.group};return this.httpClient.put(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteDhcpPolicyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteDhcpPolicyRules(e,t,o){let r=o.map(a=>`rules[]=${a}`).join("&"),s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/bulkRemove?${r}`;return this.httpClient.delete(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}manageDhcpPolicyRules(e,t,o,r,s,a){let l="copy",c=this.httpClient.post,u=r<0?"above":"below";a===Vn.CUT&&(l="move",c=this.httpClient.put);let g=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/${l}`,_={to:o,offset:u,rules:s};return c.call(this.httpClient,g,_).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}compileDhcpPolicyRules(e,t,o){let r;if(o){let s=o.map(a=>`rules[]=${a}`).join("&");r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/compile?${s}`}else r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/compile`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getDhcpGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/dhcpGroups/${o}`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:o,id:r}=e,s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/dhcpGroups/${r}/restricted`;return this.httpClient.get(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newDhcpPolicyRuleGroup(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups`,l={name:o,comment:r,rules:s};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateDhcpPolicyRuleGroup(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteDhcpPolicyRulesGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpGroups/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}installConfig(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/dhcpRules/install?channel_id=${o}`;return this.httpClient.put(s,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var JSt=$i("fundido",[Nt(":enter",[Rt({opacity:0,transform:"translateY(12%)"}),kt("380ms linear")])]),tb=$i("fundidoIn",[Nt(":enter",[Rt({opacity:0}),kt("250ms linear")]),Nt("* => void",kt("250ms linear"))]),RU=$i("fundidoInOut",[lo("void",Rt({opacity:0,transform:"translateY(12%)"})),lo("active, newItemAdded",Rt({opacity:1})),Nt("void => *",kt("300ms")),Nt("* => void",kt("300ms"))]),MDe=$i("delayFundidoInOut",[lo("void",Rt({opacity:0,transform:"translateY(12%)"})),lo("active, newItemAdded",Rt({opacity:1})),Nt("void => *",[qL("div",[YL(1e3,[Rt({opacity:0}),kt("0.3s",Rt({opacity:1}))])])]),Nt("* => void",kt("300ms"))]),XSt=$i("zoomInOut",[lo("void",Rt({opacity:0,transform:"scale(0.1, 0.1)"})),lo("active",Rt({opacity:1,transform:"scale(1, 1)"})),Nt("void => *",kt("300ms")),Nt("* => void",kt("300ms"))]),QSt=$i("itemFundidoOut",[lo("void",Rt({opacity:0})),lo("active, newItemAdded",Rt({opacity:1})),Nt("void => active",kt("300ms")),Nt("void => newItemAdded",kt("300ms")),Nt("* => void",kt("300ms"))]);var DU=250,xi=(()=>{class i{constructor(e){this.translate=e}transform(e){let t="",o;if(e)if(e.error&&typeof e.error=="object"?o=e.error:e.error&&typeof e.error=="string"?(o=e.error,o==="IP version mismatch"&&(t=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):e.message&&typeof e.message=="string"&&e.status===500?(o=e.message,o==="IP version mismatch"&&(t=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):o=e,typeof e=="string")t=o;else if(this.isFwcAPIError(o)){let r=`API_ERROR.${o.fwcErr}`,s=this.translate.instant(r);if(s===r){if(t=o.msg||"",this.isServerError(t)){let a=JSON.parse(t);t=this.translate.instant("API_ERROR."+a.code)}}else t=s}else if(this.isEmptyError(o))t=this.translate.instant("API_ERROR.500");else if(this.isFwcAPIErrorNew(o))t=o.message;else if(this.isUnknownFormatError(o)){if(t=null,o.errors){let r=o.errors;for(let s in r)Array.isArray(r[s])&&(s==="id"&&r[s].length&&(t=r[s][0]),r[s].find(a=>a==="ipObjGroupId must not be empty")?t=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_GROUP"):r[s].find(a=>a==="ipObj must contain at least one address")&&(t=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_HOST")))}if(o.data&&!t){let r=`API_ERROR.${o.status}`,s=this.translate.instant(r);s===r?t=o.error||"":t=s}}else t=o;return t=t.length>DU?t.substr(0,DU)+"...":t,t}isFwcAPIError(e){return e&&e.fwcErr!=null}isFwcAPIErrorNew(e){return e&&e.status!=null&&e.response!=null&&e.message!=null}isUnknownFormatError(e){return e&&e.status!=null&&e.data!=null}isEmptyError(e){return e&&e.status===void 0&&e.error===void 0&&e.data&&Object.keys(e.data).length===0}isServerError(e){try{let t=JSON.parse(e);return t.errno!=null&&t.code!=null}catch{return!1}}static{this.\u0275fac=function(t){return new(t||i)(v(je,16))}}static{this.\u0275pipe=xn({name:"fwcError",type:i,pure:!0})}}return i})();var kDe=["tooltipElem"],NDe=(i,n,e)=>({top:i,left:n,visibility:e}),VDe=()=>({width:"1.7rem",height:"1.7rem"});function BDe(i,n){i&1&&(f(0,"div",2),E(1,"p-progressSpinner"),m()),i&2&&(d(),it(Ie(2,VDe)))}function UDe(i,n){if(i&1&&(f(0,"span"),E(1,"i"),m()),i&2){let e=h(2);d(),us("flag-icon flag-icon-",e.CountryId,"")}}function jDe(i,n){if(i&1&&(f(0,"span"),E(1,"i"),m()),i&2){let e=h(2);d(),te(e.pipeFwcIcon.transform(e.objectInfo.type,e.ContinentId))}}function HDe(i,n){if(i&1&&(f(0,"span"),T(1),O(2,"translate"),m()),i&2){let e=h(2);d(),zr(" ",e.objectInfo.nodes.length," ",P(2,2,"INFO_TT.NODES"),"")}}function GDe(i,n){if(i&1){let e=k();f(0,"div",3)(1,"h6"),E(2,"i",4),T(3),O(4,"translate"),f(5,"span",5)(6,"i",6),R("click",function(){b(e);let o=h();return y(o.showTooltip=!1)}),m()()(),f(7,"div",7),I(8,UDe,2,3,"span")(9,jDe,2,3,"span"),E(10,"i",8),O(11,"fwcIcon"),T(12,"\xA0\xA0"),f(13,"strong"),T(14),m(),T(15," ("),f(16,"i"),T(17),O(18,"translate"),m(),T(19,")"),E(20,"span",9),I(21,HDe,3,4,"span"),m(),E(22,"div",10),m()}if(i&2){let e=h();d(3),z("\xA0",P(4,10,"ITEM_PANEL.HEADER.OBJ_INFO")," "),d(5),G(e.objectInfo.type==e.ObjectTypes.OBJ_COUNTRIE?8:-1),d(),G(e.objectInfo.type==e.ObjectTypes.OBJ_CONTINENT?9:-1),d(),us("fwcIcon ",P(11,12,e.objectInfo.type),""),d(4),H(e.objectInfo.name),d(3),H(P(18,14,"GLOBALS.DB_OBJECT_NAMES."+e.objectInfo.type)),d(4),G(e.objectInfo.nodes?21:-1),d(),Z("innerHTML",e.objectInfo.infoHTML,Fi)}}function zDe(i,n){if(i&1){let e=k();f(0,"div")(1,"h6"),E(2,"i",11),T(3,"\xA0Error: "),f(4,"span",5)(5,"i",6),R("click",function(){b(e);let o=h();return y(o.showTooltip=!1)}),m()()(),E(6,"br"),f(7,"p"),T(8),m()()}if(i&2){let e=h();d(8),z(" ",e.objectError," ")}}var fAt=(()=>{class i{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x){this.appOptionsService=e,this.fwcObjectService=t,this.fwcInterfaceService=o,this.itemSelectedService=r,this.fwcObjectTypeService=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcPolicyService=c,this.fwcMarkService=u,this.fwcVpnService=g,this.fwcErrorPipe=_,this.fwcRoutingTableService=C,this.fwcDhcpPolicyService=w,this.translate=S,this.pipeFwcIcon=A,this.cd=x,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0,this.ObjectTypes=F}ngOnInit(){this.itemSelectedService.getObjectInfo().pipe(yt(()=>this.alive)).subscribe(e=>{if(!e||!this.appOptionsService.enableInfoTooltip)return;let t=e.obj,o=e.event;this.objectInfo=void 0,this.objectError=void 0,t&&o?(this.loadingData=!0,this.tooltipX=o.clientX,this.tooltipY=o.clientY,this.targetElement=e.targetElement?e.targetElement:o.target,this.showTooltipDialog(),t._fwcShowRestrictions?this.fwcPolicyService.getPolicyRuleFull(t.firewall_id,t.rule_type,t.rule_id,this.fwcUserService.getActualFwSelectedCloud()).pipe(yt(()=>this.alive)).subscribe(r=>{},r=>{}):this.getObjectInfo(t.objId,t.objType,t.objParentId,t.fwId,t.clusterId).then(r=>{this.loadingData=!1,this.objectInfo=r,this.showTooltipDialog()}).catch(r=>{this.loadingData=!1,this.objectError=this.fwcErrorPipe.transform(r)})):(this.showTooltip=!1,this.positionTooltip=!1)}),this.fwcObjectTypeService.getObjectTypes().subscribe(e=>{if(this.OBJECT_TYPES=[],e.data){for(let t of e.data)this.OBJECT_TYPES[t.id]=t.type;this.OBJECT_TYPES[F.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},e=>{de.error("ERROR getting object types",e),this.OBJECT_TYPES=[]})}ngOnDestroy(){this.alive=!1}showTooltipDialog(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0}placeTooltipOld(){if(this.tooltipElem){let e=this.tooltipElem.nativeElement.clientWidth,t=this.tooltipElem.nativeElement.clientHeight,o=window.innerWidth,r=window.innerHeight;this.tooltipX+e>=o-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-e-this.TOOLTIP_GAP),this.tooltipY+t>=r-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-t-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}}placeTooltipDialog(){if(this.tooltipElem&&this.targetElement){let e=this.tooltipElem.nativeElement.clientWidth,t=this.tooltipElem.nativeElement.clientHeight,o=window.innerWidth,r=window.innerHeight,s=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,s.top-t-this.TOOLTIP_GAP>0?this.tooltipY=s.top-t-this.TOOLTIP_GAP:this.tooltipY=s.bottom+this.TOOLTIP_GAP,s.left+e+this.TOOLTIP_GAP<o&&(this.tooltipX=s.left)}}getObjectInfo(e,t,o,r,s){return new Promise((l,c)=>{let u;switch(t=+t,t){case F.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D;x=A.data,x.type=F.OBJ_FIREWALL,x.cluster&&(x.type=F.OBJ_CLUSTER_NODE),D=this.buildInfoTableHeader(x.id);let V="-";x.compiled_at&&(V=x.compiled_at),D+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMPILED_AT")}</p><p>${V}<p></td></tr>`;let X="-";x.installed_at&&(X=x.installed_at),D+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.INSTALLED_AT")}</p><p>${X}<p></td></tr>`,x.comment&&(D+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</p><p>${x.comment}<p></td></tr>`),D+="</table>",x.infoHTML=D}else return c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(x)},A=>{c(A)});break;case F.OBJ_CLUSTER:this.fwcFirewallService.getCluster(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D;x=A.data,x.type=F.OBJ_CLUSTER,D=this.buildInfoTableHeader(x.id),x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break;case F.OBJ_INTERFACE_FIREWALL:case F.OBJ_INTERFACE_HOST:let g;t==F.OBJ_INTERFACE_HOST?(u=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),g=o):(u=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),g=r??o),u(g,e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D,V;x=A.data,D=this.buildInfoTableHeader(x.id),V=+x.type,V==F.OBJ_INTERFACE_FIREWALL?x.cluster_id!==null&&x.cluster_id!==void 0?D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CLUSTER)}'></i> Cluster</td><td><strong>${x.cluster_name} (${x.cluster_id})</strong></td></tr>`:D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${x.firewall_name} (${x.firewall_id})</strong></td></tr>`:D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_HOST)}'></i> Host</td><td><strong>${x.host_name} (${x.host_id})</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.LABEL")}</td><td><strong>${x.labelName?x.labelName:""}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MAC")}</td><td><strong>${x.mac?x.mac:""}</strong></td></tr>`,x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break;case F.OBJ_GROUP:case F.OBJ_SERVICE_GROUP:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D;if(x=A.data,D=this.buildInfoTableHeader(x.id),x.ipobjs&&x.ipobjs.length){D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")}</span><ul class='fitUlGroup'>`;for(let V=0;V<x.ipobjs.length;V++){let X=new un().transform(x.ipobjs[V].type,"","fwcOrange");D+=`<li><i class='fwcIcon ${X}'></i> ${x.ipobjs[V].name} (Id: <strong>${x.ipobjs[V].id}</strong>)</li>`}D+="</ul></td></tr>"}else D+=`<tr><td colspan="2"><i>${this.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")}</i></td></tr>`;x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break;case F.OBJ_CERT_CLI:case F.OBJ_CERT_SER:case F.OBJ_VPN_CONFIG_CLI:case F.OBJ_VPN_CONFIG_SER:case F.OBJ_CA:let _,C={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};t==F.OBJ_CERT_CLI||t==F.OBJ_CERT_SER?(_=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),C.crt=e):t==F.OBJ_VPN_CONFIG_CLI||t==F.OBJ_VPN_CONFIG_SER?(_=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),C.openvpn=e):t==F.OBJ_CA&&(_=this.fwcVpnService.getCA.bind(this.fwcVpnService),C.ca=e),_(C).subscribe(A=>{let x;if(A.data){let D;x=A.data,x.type=t,D=this.buildInfoTableHeader(x.id);let V=this.translate.instant("VPN.PANEL.DAY_OPTS.0");if(x.days!==void 0&&(x.days%365||(x.days/=365,V=this.translate.instant("VPN.PANEL.DAY_OPTS.1"))),(t==F.OBJ_CERT_CLI||t==F.OBJ_CERT_SER)&&(x.name=x.cn,D+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${x.days} ${V}</strong></td></tr>`),t==F.OBJ_VPN_CONFIG_CLI||t==F.OBJ_VPN_CONFIG_SER){let X=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED"),ee=t==F.OBJ_VPN_CONFIG_CLI?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"):this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_NETWORK");if(D+=`<tr><td><span class='fwcOrange'>CN</span></td><td>${x.cn}</td></tr>`,x.cluster_id!==null&&x.cluster_id!==void 0?D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${x.cluster_name} (${x.cluster_id})</strong></td></tr>`:x.firewall_id!==null&&x.firewall_id!==void 0&&(D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${x.firewall_name} (${x.firewall_id})</strong></td></tr>`),D+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CA)}'></i> CA</span></td><td>${x.CA_cn}</td></tr>`,x.openvpn_server_cn&&(D+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG_SER")}</span></td><td><strong>${x.openvpn_server_cn}</strong></td></tr>`),D+=`<tr><td><span class='fwcOrange'>${ee}</span></td><td><strong>${x.address}</strong></td></tr>`,x.netmask&&(D+=`<tr><td><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</span></td><td><strong>${x.netmask}</strong></td></tr>`),!x.status&&x.installed_at){let me=new Date(x.installed_at).toLocaleString();X=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:me})}D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("VPN.CONFIG.INSTALL.STATUS")}</span><br>${X}</td></tr>`}t==F.OBJ_CA&&(x.name=x.cn,D+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${x.days} ${V}</strong></td></tr>`,x.status&&(D+=`<tr><td colspan="2">${this.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")}</td></tr>`)),x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(x)},A=>{c(A)});break;case F.OBJ_PREFIX_FOLDER:break;case F.OBJ_OPENVPN_PREFIX:let w={prefix:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getOpenVPNPrefixInfo(w).subscribe(A=>{let x;if(A.data){let D;x=A.data,D=this.buildInfoTableHeader(x.id),x.cluster_name!==null&&x.cluster_name!==void 0?D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${x.cluster_name}</strong></td></tr>`:x.firewall_name!==null&&x.firewall_name!==void 0&&(D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${x.firewall_name}</strong></td></tr>`),D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${x.ca_cn}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.CONFIG")}</td><td><strong>${x.cn}</strong></td></tr>`,x.openvpn_clients&&Array.isArray(x.openvpn_clients)&&x.openvpn_clients.length&&(D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_VPN_CONFIG_CLI)}'></i> ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}</td></tr><tr><td colspan="2"><ul class='UlGroup'>`,x.openvpn_clients.forEach(V=>{D+=`<li>${V.cn} (${V.address})</li>`}),D+="</ul></td></tr>"),D+="</table>",x.type=t,x.infoHTML=D,l(x)}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},A=>{c(A)});break;case F.OBJ_MARK:let S={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:e};this.fwcMarkService.getMark(S).subscribe(A=>{let x;if(A.data){let D;x=A.data,x.type=F.OBJ_MARK,D=this.buildInfoTableHeader(x.id),D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MARK_CODE")}</td><td><strong>${x.code}</strong></td></tr>`,x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break;case F.OBJ_ROUTING_TABLE:this.fwcRoutingTableService.getRoutingTable(r,this.fwcUserService.getActualFwSelectedCloud(),e).subscribe(A=>{let x={};if(A.data){let D,V=A.data;x.type=F.OBJ_ROUTING_TABLE,x.name=V.name,D=this.buildInfoTableHeader(V.id),D+=`<tr><td class='fwcOrange'>${this.translate.instant("PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")}</td><td><strong>${V.number}</strong></td></tr>`,V.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${V.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(x)},A=>{c(A)});break;case F.OBJ_DHCP_GROUP:this.fwcDhcpPolicyService.getDhcpGroup(this.fwcUserService.getActualFwSelectedCloud(),r,e).subscribe(A=>{let x={};if(A.data){let D,V=A.data;x.type=F.OBJ_DHCP_GROUP,x.name=V.name,D=this.buildInfoTableHeader(V.id),x.infoHTML=D}else c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));l(x)},A=>{c(A)});break;case F.OBJ_CONTINENT:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D;x=A.data,this.ContinentId=A.data.name,x.name=this.translate.instant("NODE_TYPES."+A.data.name),D=this.buildInfoTableHeader(x.id),x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break;default:this.fwcObjectService.getObject(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(A=>{let x;if(A.data){let D,V;switch(x=A.data,D=this.buildInfoTableHeader(x.id),V=+x.type,V){case F.OBJ_HOST:if(Array.isArray(x.interfaces)){let ae;D+=`<tr><td colspan="2"><span class='fwcOrange'>Interfaces</span><ul class='fitUlGroup'>`;for(let me=0;me<x.interfaces.length;me++){ae=x.interfaces[me];let Ce=new un().transform(ae.type);if(D+=`<li><i class='fwcIcon ${Ce}'></i> ${ae.name} (Id: <strong>${ae.id}</strong>)</li>`,Array.isArray(ae.ipobjs)){D+="<ul class='fitUl'>";for(let be=0;be<ae.ipobjs.length;be++){let tt=new un().transform(ae.ipobjs[be].type);D+=`<li><i class='fwcIcon ${tt}'></i> ${ae.ipobjs[be].name} (Id: <strong>${ae.ipobjs[be].id}</strong>)</li>`}D+="</ul>"}}D+="</ul></td></tr>"}break;case F.OBJ_ADDRESS:case F.OBJ_NETWORK:if(V==F.OBJ_ADDRESS){let ae=x.host_id!==null&&x.host_id!==void 0?F.OBJ_INTERFACE_HOST:F.OBJ_INTERFACE_FIREWALL;D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IPV")}</td><td><strong>IPv${x.ip_version}</strong></td></tr>`,x.cluster_id!==null&&x.cluster_id!==void 0?D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${x.cluster_name} (${x.cluster_id})</strong></td></tr>`:x.firewall_id!==null&&x.firewall_id!==void 0?D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${x.firewall_name} (${x.firewall_id})</strong></td></tr>`:x.host_id!==null&&x.host_id!==void 0&&(D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(F.OBJ_HOST)}'></i> Host</td><td><strong>${x.host_name} (${x.host_id})</strong></td></tr>`),x.if_id!==null&&x.if_id!==void 0&&(D+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(ae)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")}</td><td><strong>${x.if_name} (${x.if_id})</strong></td></tr>`)}D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")}</td><td><strong>${x.address}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</td><td><strong>${x.netmask?x.netmask:""}</strong></td></tr>`;break;case F.OBJ_ADDRESS_RANGE:D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")}</td><td><strong>${x.range_start?x.range_start:""}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")}</td><td><strong>${x.range_end?x.range_end:""}</strong></td></tr>`;break;case F.OBJ_SERVICE_IP:D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PROT")}</td><td><strong>${x.protocol}</strong></td></tr>`;break;case F.OBJ_SERVICE_TCP:case F.OBJ_SERVICE_UDP:D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")}</td><td><strong>${x.source_port_start?x.source_port_start:""}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${x.source_port_end?x.source_port_end:""}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")}</td><td><strong>${x.destination_port_start?x.destination_port_start:""}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${x.destination_port_end?x.destination_port_end:""}</strong></td></tr>`;break;case F.OBJ_SERVICE_ICMP:let X=x.icmp_type?x.icmp_type==-1?"Any":x.icmp_type.toString():"",ee=x.icmp_code?x.icmp_code==-1?"Any":x.icmp_code.toString():"";D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")}</td><td><strong>${X}</strong></td></tr>`,D+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")}</td><td><strong>${ee}</strong></td></tr>`;break;case F.OBJ_COUNTRIE:this.CountryId=x.name.toLocaleLowerCase(),x.name=this.translate.instant("COUNTRIES."+x.name);break}x.comment&&(D+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${x.comment}</td></tr>`),D+="</table>",x.infoHTML=D}else{c(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}l(x)},A=>{c(A)});break}})}buildInfoTableHeader(e){let t="<table class='fitTableInfo'>";return t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")}</td><td><strong>${e}</strong></td></tr>`,t}onMouseEnter(){this.itemSelectedService.isFocused()}onMouseLeave(){this.itemSelectedService.isBlur()}static{this.\u0275fac=function(t){return new(t||i)(v(Et),v(Kn),v(Do),v(_t),v(RI),v(ot),v(Bt),v(pn),v(OI),v(Sr),v(xi),v(wr),v(pd),v(je),v(un),v(pe))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-info-tooltip"]],viewQuery:function(t,o){if(t&1&&ne(kDe,5),t&2){let r;K(r=q())&&(o.tooltipElem=r.first)}},features:[Ge([Kn,Do,RI,Bt,Sr,OI,un])],decls:5,vars:9,consts:[["tooltipElem",""],["id","fitTooltipDiv",1,"fitTooltipDiv--light",3,"mouseenter","mouseleave","ngStyle"],["id","fitDivLoader"],[1,"fitDivInfo"],[1,"fa","fa-info-circle","fwcOrange"],[1,"fitSpanClose"],[1,"fa","fa-lg","fa-times-circle",3,"click"],[1,"fitDivInfoTitle"],["aria-hidden","true"],[1,"spanSep"],[3,"innerHTML"],[1,"fa","fa-exclamation-circle","fwcRed"]],template:function(t,o){if(t&1){let r=k();f(0,"div",1,0),R("mouseenter",function(){return b(r),y(o.onMouseEnter())})("mouseleave",function(){return b(r),y(o.onMouseLeave())}),I(2,BDe,2,3,"div",2)(3,GDe,23,16,"div",3)(4,zDe,9,1,"div"),m()}t&2&&(p("ngStyle",Ai(5,NDe,(o.tooltipY==null?null:o.tooltipY.toString())+"px",(o.tooltipX==null?null:o.tooltipX.toString())+"px",o.showTooltip?"visible":"hidden"))("@fundidoIn",void 0),d(2),G(o.loadingData?2:-1),d(),G(!o.loadingData&&o.objectInfo?3:-1),d(),G(!o.loadingData&&o.objectError?4:-1))},dependencies:[ve,Eo,ht,un],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div#fitDivLoader{text-align:center}div.fitOverlayPanel.p-overlaypanel{min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border-radius:.5rem}div.fitDivInfo{color:var(--fwcDark);line-height:1.5;font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid var(--fwcOrange);padding-bottom:.3rem;margin-bottom:.3rem}div.fitDivInfo .fitDivInfoTitle{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;scrollbar-width:none}div.fitDivInfo table{width:100%;table-layout:fixed;margin-top:.3rem;border:0;background:none!important}div.fitDivInfo table tr,div.fitDivInfo table td{margin:0!important;padding:.3rem!important}div.fitDivInfo table td{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}div.fitDivInfo table *{background:none!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;padding-left:1rem;margin-bottom:0}ul.fitUlGroup{list-style-type:none;padding-left:1rem;margin-bottom:0;height:120px;overflow-y:auto}ul.UlGroup{padding-left:1rem;margin-bottom:0;height:120px;overflow-y:auto}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border:1px solid var(--fwcMidDark2);border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(var(--fwcDark),.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:var(--fwcDark)!important;background-color:var(--fwcWhite)!important;border:1px solid var(--fwcShadow)}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}
`],encapsulation:2,data:{animation:[tb]}})}}return i})();var WDe=i=>({dialog_name:i});function $De(i,n){if(i&1){let e=k();f(0,"i",5),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.restoreDialog(o))}),E(1,"img",6),m()}}function KDe(i,n){if(i&1){let e=k();f(0,"i",5),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.restoreDialog(o))}),E(1,"img",7),m()}}function qDe(i,n){if(i&1){let e=k();f(0,"i",5),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.restoreDialog(o))}),E(1,"img",8),m()}}function YDe(i,n){if(i&1){let e=k();f(0,"i",9),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.restoreDialog(o))}),m()}if(i&2){let e=h().$implicit;us("",e.dialogIcon," dockIcon")}}function JDe(i,n){if(i&1&&(f(0,"div",1)(1,"div",2),O(2,"translate"),I(3,$De,2,0,"i",3)(4,KDe,2,0,"i",3)(5,qDe,2,0,"i",3)(6,YDe,1,3,"i",4),m()()),i&2){let e=n.$implicit,t=h(2);p("@fundidoIn",void 0),d(),Z("pTooltip",pi(2,7,"ITEM_PANEL.RESTORE",J(10,WDe,e.dialogName))),p("escape",!1),d(2),G(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="NTOPNG"?3:-1),d(),G(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="WEBSAFETYPROXY"?4:-1),d(),G(e.dialogUUID==="NGFW_PANEL"&&e.dialogIcon==="DNSSAFETY"?5:-1),d(),G(e.dialogUUID!=t.NGFW_PANEL?6:-1)}}function XDe(i,n){if(i&1&&(f(0,"div",0),fo(1,JDe,7,12,"div",1,ho),m()),i&2){let e=h();d(),mo(e.dialogPanels)}}var SAt=(()=>{class i{constructor(e,t){this.appDialogPanelsService=e,this.store=t,this.alive=!0,this.store.pipe(yt(()=>this.alive),Sn(Qa.selectMinimizedDialogs)).subscribe(o=>{this.dialogPanels=o})}restoreDialog(e,t){this.store.dispatch(Yi.restoreDialog({dialogId:e.dialogId}))}ngOnDestroy(){this.alive=!1}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-panel-dock"]],decls:1,vars:1,consts:[[1,"divFwcDock"],[1,"divFwcDock--button"],["showDelay","500","tooltipPosition","top",3,"pTooltip","escape"],[1,"dockIcon"],[3,"class"],[1,"dockIcon",3,"click"],["height","90","width","90","src","assets/img/ntopng.png"],["height","90","width","90","src","assets/img/websafety.png"],["height","90","width","90","src","assets/img/dnssafety.png"],[3,"click"]],template:function(t,o){t&1&&I(0,XDe,3,0,"div",0),t&2&&G(o.dialogPanels!=null&&o.dialogPanels.length?0:-1)},dependencies:[On,ht],styles:['[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div.divFwcDock[_ngcontent-%COMP%]{position:absolute;bottom:.2rem;text-align:center;left:50%;transform:translate(-50%);-webkit-transform:translateX(-50%)}div.divFwcDock--button[_ngcontent-%COMP%]{display:inline-block;margin:0 .3rem}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid var(--fwcDarkBlue);border-radius:0!important;font-size:1.5rem!important;transition:all .25s}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{font-size:1.7rem!important}div.divFwcDock--button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.p-button-icon-left[_ngcontent-%COMP%]{text-shadow:1px 1px rgba(0,0,0,.3)}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]{font-size:3.5rem;cursor:pointer;transition:all .25s}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:before{font-weight:400;color:var(--fwcBlue)}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:hover{font-size:4rem!important}div.divFwcDock--button[_ngcontent-%COMP%]   .dockIcon[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:.5rem;width:100%;height:1rem;left:0;background:-webkit-radial-gradient(ellipse at 50% 50%,rgba(0,0,0,.5),rgba(97,97,97,0) 60%);background:radial-gradient(ellipse at 50% 50%,#00000080,#61616100 60%)}'],data:{animation:[tb]}})}}return i})();var ib=(()=>{class i{constructor(e){this.el=e}ngAfterViewInit(){}static{this.\u0275fac=function(t){return new(t||i)(v(Le))}}static{this.\u0275dir=lt({type:i,selectors:[["","appFocusable",""]]})}}return i})();var ZDe=()=>({"max-width":"40rem"}),ePe=i=>({"flex-direction":i}),tPe=i=>({noColor:i}),WT=i=>({"background-color":i});function iPe(i,n){if(i&1&&(f(0,"h6",6),E(1,"i",7),T(2),m()),i&2){let e=h();d(2),z(" ",e.dialogData==null?null:e.dialogData.header,"")}}function nPe(i,n){if(i&1){let e=k();f(0,"input",17),R("blur",function(){b(e);let o=h(2).$implicit,r=h(2);return y(r.blurHandler(o))})("keydown.enter",function(o){b(e);let r=h(4);return y(r.checkDialog(o))})("keydown.esc",function(o){b(e);let r=h(4);return y(r.cancelDialog(o))})("keydown.tab",function(o){b(e);let r=h(4);return y(r.focusNext(o))})("keydown.shift.tab",function(o){b(e);let r=h(4);return y(r.focusNext(o))}),m()}if(i&2){let e=h(2),t=e.$implicit,o=e.$index;Z("id","input_"+o),p("type",t.type)("formControlName",t.name)("name",t.name)}}function oPe(i,n){if(i&1&&(f(0,"option",18),T(1),m()),i&2){let e=h(3).$implicit;p("ngValue",void 0),d(),H(e.placeholder)}}function rPe(i,n){if(i&1&&(f(0,"option",18),T(1),m()),i&2){let e=n.$implicit;p("ngValue",e.id),d(),z(" ",e.text," ")}}function sPe(i,n){if(i&1&&(f(0,"select",13),I(1,oPe,2,2,"option",18),fo(2,rPe,2,2,"option",18,ho),m()),i&2){let e=h(2),t=e.$implicit,o=e.$index;Z("id","select_"+o),p("formControlName",t.name),d(),G(t.placeholder?1:-1),d(),mo(t.options)}}function aPe(i,n){if(i&1){let e=k();f(0,"textarea",19),R("keydown.tab",function(o){b(e);let r=h(4);return y(r.focusNext(o))})("keydown.shift.tab",function(o){b(e);let r=h(4);return y(r.focusNext(o))}),m()}if(i&2){let e=h(2),t=e.$implicit,o=e.$index;Z("id","textarea_"+o),p("formControlName",t.name)("name",t.name)}}function lPe(i,n){if(i&1&&(f(0,"div",8)(1,"div",10)(2,"span",11),I(3,nPe,1,4,"input",12)(4,sPe,4,3,"select",13)(5,aPe,1,3,"textarea",14),f(6,"label",15),E(7,"i",8),T(8),m()()(),f(9,"p",16),T(10),O(11,"translate"),m()()),i&2){let e=h().$implicit,t=h(2);p("ngClass",e.halfSized?"col-6":"col-12"),d(3),G(e.type!=="textarea"&&e.type!=="hidden"&&e.type!=="select"?3:-1),d(),G(e.type==="select"?4:-1),d(),G(e.type==="textarea"?5:-1),d(),p("for",e.name),d(),p("ngClass",e.icon),d(),z(" \xA0 ",e.label," "),d(),p("hidden",t.formModel.get(e.name).valid||t.formModel.get(e.name).untouched),d(),H(P(11,9,"ITEM_PANEL.ERRORS.FIELD_FORMAT"))}}function cPe(i,n){if(i&1){let e=k();f(0,"button",29),R("click",function(){let o=b(e).$implicit,r=h(2).$implicit,s=h(2);return y(s.setColor(r.name,o))}),m()}if(i&2){let e=n.$implicit;p("ngStyle",J(1,WT,e))}}function dPe(i,n){if(i&1){let e=k();f(0,"button",31),R("click",function(){let o=b(e).$implicit,r=h(3).$implicit,s=h(2);return y(s.setColor(r.name,o))}),m()}if(i&2){let e=n.$implicit,t=h(5);p("ngStyle",J(1,WT,e&&t.RulesStylesBg[e]?t.RulesStylesBg[e]:e))}}function uPe(i,n){if(i&1&&(f(0,"div",23)(1,"label"),T(2),O(3,"translate"),m()(),f(4,"div",23),fo(5,dPe,1,3,"button",30,ho),m()),i&2){let e=h(4);d(2),H(P(3,1,"PANELS.INPUT_PANEL.COLORS_MOST_USED")),d(3),mo(e.mostUsedColors)}}function pPe(i,n){if(i&1){let e=k();f(0,"div",20)(1,"p-colorPicker",21),R("onChange",function(o){b(e);let r=h().$implicit,s=h(2);return y(s.onChangePickerColor(r.name,o))}),m()(),f(2,"div",22)(3,"div",2)(4,"div",23)(5,"label"),T(6),O(7,"translate"),m()(),f(8,"div",23),fo(9,cPe,1,3,"button",24,ho),m()(),I(11,uPe,7,3),f(12,"div",23)(13,"div",10)(14,"span",25),E(15,"span",26),m(),f(16,"input",27),R("blur",function(){b(e);let o=h().$implicit,r=h(2);return y(r.blurHandler(o))})("keyup",function(o){b(e);let r=h().$implicit,s=h(2);return y(s.onSetManualColorHandler(r.name,o))}),m(),f(17,"button",28),O(18,"translate"),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.setColor(o.name,null))}),m()(),f(19,"p",16),T(20),O(21,"translate"),m()()()}if(i&2){let e=h(),t=e.$implicit,o=e.$index,r=h(2);d(),p("inline",!0)("formControlName",t.name),d(5),H(P(7,15,"PANELS.INPUT_PANEL.COLORS_STANDARD")),d(3),mo(r.DefaultPaletteColors),d(2),G(r.mostUsedColors!=null&&r.mostUsedColors.length?11:-1),d(4),p("ngClass",J(21,tPe,!r.formModel.get(t.name).value||!r.formModel.get(t.name).valid))("ngStyle",J(23,WT,r.formModel.get(t.name).valid?r.formModel.get(t.name).value:"")),d(),Z("id","input_cp_"+o),p("placeholder",t.placeholder)("formControlName",t.name)("name",t.name),d(),p("pTooltip",P(18,17,"PANELS.INPUT_PANEL.NO_COLOR_TOOLTIP"))("showDelay",500)("disabled",r.formModel.get(t.name).invalid),d(2),p("hidden",r.formModel.get(t.name).valid||r.formModel.get(t.name).pristine),d(),H(P(21,19,"ITEM_PANEL.ERRORS.HEX_COLOR"))}}function hPe(i,n){i&1&&E(0,"div",3)}function fPe(i,n){if(i&1&&E(0,"input",9),i&2){let e=h().$implicit;p("formControlName",e.name)("name",e.name)}}function mPe(i,n){if(i&1&&I(0,lPe,12,11,"div",8)(1,pPe,22,25)(2,hPe,1,0,"div",3)(3,fPe,1,2,"input",9),i&2){let e=n.$implicit;G(e.type!=="hidden"&&e.type!=="button"&&e.type!=="separator"&&e.type!=="colorpicker"?0:-1),d(),G(e.type==="colorpicker"?1:-1),d(),G(e.type==="separator"?2:-1),d(),G(e.type==="hidden"?3:-1)}}function gPe(i,n){if(i&1&&(f(0,"form",4),fo(1,mPe,4,4,null,null,ho),m()),i&2){let e=h();p("formGroup",e.formModel)("ngStyle",J(2,ePe,e.dialogData.isClonePanel||e.dialogData.isSSHPanel?"column":"row")),d(),mo(e.dialogData.formControls)}}function _Pe(i,n){if(i&1){let e=k();f(0,"button",36),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.clickButton(o.name))}),m()}if(i&2){let e=h().$implicit;te(e.class),p("icon",e.icon)("label",e.label)("disabled",e.readonly)}}function CPe(i,n){if(i&1&&I(0,_Pe,1,5,"button",35),i&2){let e=n.$implicit;G(e.type==="button"?0:-1)}}function IPe(i,n){if(i&1){let e=k();fo(0,CPe,1,1,null,null,ho),E(2,"span",32),f(3,"button",33),O(4,"translate"),R("click",function(){b(e);let o=h();return y(o.cancelDialog())}),m(),f(5,"button",34),R("click",function(){b(e);let o=h();return y(o.acceptDialog())}),m()}if(i&2){let e=h();mo(e.dialogData==null?null:e.dialogData.formControls),d(3),Z("label",P(4,2,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),p("disabled",!(e.formModel!=null&&e.formModel.valid))}}var zAt=(()=>{class i{constructor(e,t,o,r,s,a){this.inputDataService=e,this.cd=t,this.fwcUserService=o,this.fwcCloudService=r,this.utilService=s,this.translate=a,this.displayDialog=!1,this.modal=!0,this.dialogValues=new W,this.DefaultPaletteColors=vk,this.RulesStylesBg=KC}ngOnInit(){this.inputDataService.getInputData().subscribe(e=>{this.showDialog(e)})}ngAfterViewInit(){}blurHandler(e){let t=this.formModel.get(e.name);t.pristine&&t.markAsUntouched()}showDialog(e){return he(this,null,function*(){let t=!1;if(this.formModel=new Ho({}),this.dialogData=e,e.modal==!1?this.modal=!1:this.modal=!0,this.onAccept=e.onAccept,e.formControls){let o=[],r=!1;e.isClonePanel=!!e.formControls.find(s=>s.label==="Firewall name"||s.label==="Address")||e.header==this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER")||e.header==this.translate.instant("PANELS.DHCP_GROUP_PANEL.FIELDS.NAME"),e.isSSHPanel=!!e.formControls.find(s=>s.label==="SSH user");for(let s of e.formControls)this.formModel.addControl(s.name,new _e({value:s.value,disabled:s.readonly})),o=[],s.required&&o.push(Ne.required),s.regexp&&o.push(Ne.pattern(s.regexp)),s.type==="colorpicker"&&(o.push(Ne.pattern(/^#([A-Fa-f0-9]{6})$/)),r=!0),this.formModel.get(s.name).setValidators(o),s.type=="select"&&(s.options||(s.options=[]),s.options.forEach(a=>{a.default&&this.formModel.get(s.name).setValue(a.id)})),!t&&s.type!="hidden"&&(s.isFirst=!0,t=!0);if(r){this.mostUsedColors=[];try{let s=yield this.utilService.fwcAPICall(this.fwcCloudService.getCloudColors.bind(this.fwcCloudService),this.fwcUserService.getActualFwSelectedCloud());Array.isArray(s.data)&&(this.mostUsedColors=s.data.map(a=>a.color))}catch{}}}this.displayDialog=!0,setTimeout(()=>{if(this.recenterDialog(),this.dialogData&&this.dialogData.formControls)for(let o of this.dialogData.formControls)o.type==="colorpicker"&&o.value&&this.setColor(o.name,o.value)},1)})}recenterDialog(){try{this.cd.destroyed||this.cd.detectChanges(),this.inputDialog&&this.inputDialog.center()}catch{}}onShowDialog(){this.recenterDialog(),setTimeout(()=>{this.firstInputField&&this.firstInputField.el&&this.firstInputField.el.nativeElement.focus()},150)}onHideDialog(){this.dialogData=null,this.formModel=null}acceptDialog(){this.closeDialog(),this.onAccept&&this.onAccept(this.formModel.value)}cancelDialog(e){this.closeDialog(),this.onAccept(null)}closeDialog(){this.displayDialog=!1}checkDialog(e){if(this.formModel.valid)this.acceptDialog();else for(let t in this.formModel.controls)this.formModel.controls[t].markAsDirty()}focusNext(e){if(e){let t=[],o=e.shiftKey?-1:1,r=-1;if(this.focusableInputs.forEach((s,a)=>{s.el.nativeElement.id===e.target.id&&(r=a),t.push(s.el)}),r!==-1){let s=r<t.length-1?r+1:0;o===-1&&(s=r?r-1:t.length-1),t[s].nativeElement.focus()}e.stopPropagation(),e.preventDefault()}}clickButton(e){this.formModel.get(e).setValue(!0),this.acceptDialog()}setColor(e,t){let o=this.formModel.get(e);o&&(o.setValue(t&&KC[t]?KC[t]:t),o.markAsPristine(),this.cd.destroyed||this.cd.detectChanges())}onSetManualColorHandler(e,t){if(this.formModel.updateValueAndValidity(),t&&t.preventDefault(),this.formModel.valid){let o=this.formModel.get(e);o&&this.setColor(e,o.value)}else this.setColor(e,null)}onChangePickerColor(e,t){t.originalEvent.preventDefault(),this.onSetManualColorHandler(e)}static{this.\u0275fac=function(t){return new(t||i)(v(ir),v(pe),v(ot),v(Xr),v(Ct),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-input-panel"]],viewQuery:function(t,o){if(t&1&&(ne(Ht,5),ne(cn,5),ne(ib,5)),t&2){let r;K(r=q())&&(o.inputDialog=r.first),K(r=q())&&(o.firstInputField=r.first),K(r=q())&&(o.focusableInputs=r)}},outputs:{dialogValues:"dialogValues"},features:[Ge([Xr])],decls:9,vars:9,consts:[["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["novalidate","",2,"width","100%","display","flex",3,"formGroup","ngStyle"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fa","fa-pencil","fwcOrange"],[3,"ngClass"],["type","hidden",3,"formControlName","name"],[1,"p-inputgroup"],[1,"p-float-label"],["appFocusable","","pInputText","",3,"type","formControlName","name","id"],["appFocusable","",1,"fwcSelect",3,"formControlName","id"],["appFocusable","","pInputTextarea","","rows","3",3,"formControlName","name","id"],[3,"for"],[1,"fwc-error",3,"hidden"],["appFocusable","","pInputText","",3,"blur","keydown.enter","keydown.esc","keydown.tab","keydown.shift.tab","type","formControlName","name","id"],[3,"ngValue"],["appFocusable","","pInputTextarea","","rows","3",3,"keydown.tab","keydown.shift.tab","formControlName","name","id"],[1,"col-6","fwc-centered"],[3,"onChange","inline","formControlName"],[1,"col-6"],[1,"col-12","grid","grid-nogutter","fwcDivPaddedB"],["label"," ","pButton","",1,"p-button-secondary",3,"ngStyle"],[1,"p-inputgroup-addon",2,"position","relative"],[1,"spanColorBlock",3,"ngClass","ngStyle"],["pInputText","","type","text",3,"blur","keyup","placeholder","formControlName","name","id"],["pButton","","type","button","icon","fa fa-trash",1,"p-button-danger",3,"click","pTooltip","showDelay","disabled"],["label"," ","pButton","",1,"p-button-secondary",3,"click","ngStyle"],["pButton","","label"," ",1,"p-button-secondary",3,"ngStyle"],["pButton","","label"," ",1,"p-button-secondary",3,"click","ngStyle"],[1,"spanSep"],["type","button","pButton","","icon","fa fa-ban",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","pi pi-check","label","Ok",1,"p-button-info",3,"click","disabled"],["type","button","pButton","",3,"class","icon","label","disabled"],["type","button","pButton","",3,"click","icon","label","disabled"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onShow",function(){return o.onShowDialog()})("onHide",function(){return o.onHideDialog()}),I(1,iPe,3,1,"ng-template",1),f(2,"div",2)(3,"div",3)(4,"p"),T(5),m()(),E(6,"div",3),I(7,gPe,3,4,"form",4),m(),I(8,IPe,6,4,"ng-template",5),m()),t&2&&(it(Ie(8,ZDe)),Oe("visible",o.displayDialog),p("modal",o.modal)("closable",!1)("resizable",!0),d(5),z(" ",o.dialogData==null?null:o.dialogData.helpText," "),d(2),G(o.dialogData!=null&&o.dialogData.formControls?7:-1))},dependencies:[Fe,ve,Gn,Ac,xc,Wi,Ka,Gi,Hn,zn,io,Ht,ge,at,On,cn,Qo,GT,ib,ht],styles:[`.spanColorBlock{position:absolute;top:0;left:0;display:inline-block;height:100%;width:100%}.spanColorBlock.noColor{background:repeating-linear-gradient(-45deg,#eee,#eee 10px,#e5e5e5 10px 20px)}.dlgFwcDialog.p-dialog [class*=grid]{margin-bottom:0!important;margin-top:0!important}.p-dialog-content{color:#333;padding:.671em 1.3rem;font-family:Montserrat,Arial,sans-serif;font-size:.9rem;max-width:30vw}.p-float-label>label{left:.429rem;color:#9b9b9b;transition-duration:.2s}.p-float-label:first-child{margin-bottom:10px}
`],encapsulation:2})}}return i})();var vPe=["panelHint"];function bPe(i,n){if(i&1&&E(0,"img",3),i&2){let e=h();p("src",e.hint.imageURL,lr)}}function yPe(i,n){i&1&&E(0,"i",4)}var YAt=(()=>{class i{constructor(e,t){this.appHintsService=e,this.translate=t}ngOnInit(){this.appHintsService.getHintToShow().subscribe(e=>{if(e){let t,o;this.hint=e,e.target&&(t=e.target.nativeElement),e.event?o=e.event:o=document.createEvent("MouseEvent"),this.panelHint.show(o,t)}})}static{this.\u0275fac=function(t){return new(t||i)(v(JC),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-hint"]],viewQuery:function(t,o){if(t&1&&ne(vPe,5),t&2){let r;K(r=q())&&(o.panelHint=r.first)}},decls:14,vars:11,consts:[["panelHint",""],["styleClass","fwcHintPnl"],[1,"hint--image"],[3,"src"],["aria-hidden","true",1,"fa","fa-4x","fa-lightbulb","fwcBlue"],[1,"hint--text"],[3,"innerHTML"],[1,"hint--buttons"],["pButton","","icon","fa fa-check",1,"p-button-primary",3,"click","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-overlayPanel",1,0)(2,"div",2),I(3,bPe,1,1,"img",3)(4,yPe,1,0,"i",4),m(),f(5,"div",5)(6,"h5"),T(7),O(8,"translate"),m(),E(9,"p",6),O(10,"translate"),m(),f(11,"div",7)(12,"button",8),O(13,"translate"),R("click",function(){b(r);let a=Me(1);return y(a.hide())}),m()()()}t&2&&(d(3),G(o.hint!=null&&o.hint.imageURL?3:-1),d(),G(o.hint!=null&&o.hint.imageURL?-1:4),d(3),H(P(8,5,o.hint==null?null:o.hint.caption)),d(2),Z("innerHTML",P(10,7,o.hint==null?null:o.hint.description),Fi),d(3),Z("label",P(13,9,"GLOBALS.MSG_BUTTONS.UNDERSTAND")))},dependencies:[at,Kd,ht],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.fwcHintPnl.p-overlaypanel{max-width:30rem;margin-top:14.5em;margin-left:1.25em}.fwcHintPnl.p-overlaypanel .hint--image{display:table-cell;vertical-align:top;padding-right:1rem}.fwcHintPnl.p-overlaypanel .hint--text{display:table-cell;vertical-align:top}.fwcHintPnl.p-overlaypanel .hint--text p{color:var(--fwcMidDark)}.fwcHintPnl.p-overlaypanel .hint--buttons{float:right;margin:.5em auto}
`],encapsulation:2})}}return i})();var hd=(()=>{class i{constructor(e,t,o){this.fwcPolicyService=e,this.fwcUserService=t,this.store=o}goToObjectDependency(e){if((e.rule_id||e.route_id||e.routing_rule_id||e.dhcp_rule_id||e.haproxy_rule_id||e.keepalived_rule_id)&&e.firewall_id&&!e._fwItem){let t=e.rule_type,o=e.rule_id,r=e.obj_id,s=e.obj_type_id,a=[e.rule_position_id],l,c;e.route_id?(t=co.ROUTING_TABLE,o=e.route_id,l=e.table_id,c=e.table_name,r=null,s=null,a=[],e.gateway_id&&(r=e.gateway_id,s=e.gateway_type,a.push(yi.GATEWAY_POSITION)),e.interface_id&&(r=e.interface_id,s=e.interface_type,a.push(yi.INTERFACE_POSITION)),!e.gateway_id&&!e.interface_id&&(r=s=void 0,a.push(yi.TO_POSITION))):e.routing_rule_id?(t=co.POLICY_ROUTING,o=e.routing_rule_id,e.routing_table_id?a=[br.ROUTING_TABLE_POSITION]:(r=e.ipobj_id,s=e.ipobj_type,a=[br.FROM_POSITION])):e.dhcp_rule_id?(e.dhcp_rule_type===2||e.dhcp_rule_rule_type===2?(t=si[B.DHCP_FIXED_IP],e.interface_id?(r=e.interface_id,a=[yr.INTERFACE]):(r=e.dhcp_rule_router,a=[yr.IP])):(t=si[B.DHCP],e.network_id&&(r=e.network_id,a.push(yr.NETWORK)),e.ipObj_id&&(r=e.ipObj_id,a.push(yr.DNS)),e.range_id&&(r=e.range_id,a.push(yr.RANGE)),e.router_id&&(r=e.router_id,a.push(yr.ROUTER))),o=e.dhcp_rule_id):e.haproxy_rule_id?(t=si[B.HAPROXY],e.frontendIp_id&&(r=e.frontendIp_id,a.push(bs.FRONTEND_IP)),e.frontendPort_id&&(r=e.frontendPort_id,a.push(bs.FRONTEND_PORT)),e.backendIps_id&&(r=e.backendIps_id,a.push(bs.BACKEND_IPS)),e.backendPort_id&&(r=e.backendPort_id,a.push(bs.BACKEND_PORT)),o=e.haproxy_rule_id):e.keepalived_rule_id&&(t=si[B.KEEPALIVED],e.interface_id&&(r=e.interface_id,a.push(Dl.INTERFACE)),e.keepalived_rule_virtualIps&&(r=e.keepalived_rule_virtualIps,a.push(Dl.VIRTUAL_IPS)),e.keepalived_rule_masterNode&&(r=e.keepalived_rule_masterNode,a.push(Dl.MASTER_NODE)),o=e.keepalived_rule_id);let u={};return u.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),u._fwcPolicyType=t,u._fwcClusterId=e.cluster_id,u._fwcFwId=e.firewall_id,u._fwcFwName=e.cluster_name?e.cluster_name:e.firewall_name,u._fwcObjId=l,e.route_id?u._fwcPolicyName=c:e.dhcp_rule_id?e.dhcp_rule_type===2?u._fwcPolicyName="Fixed IPs":u._fwcPolicyName="DHCP":e.keepalived_rule_id?u._fwcPolicyName="Keepalived":e.haproxy_rule_id&&(u._fwcPolicyName="HAProxy"),u._fwcSelectRuleId=o,u._fwcSelectRulePositionIds=a,u._fwcSelectObjId=r,u._fwcSelectObjType=s,this.fwcPolicyService.setSelectedPolicy(u),!0}else{let t={};if(t._fwcSubObjId=e.obj_id,t._fwcSubObjType=e.obj_type_id,t.fwcloud=e.cloud_id||this.fwcUserService.getActualFwSelectedCloud(),e.group_id)t._fwcObjId=e.group_id,t._fwcObjType=e.group_type;else if(e.interface_id)t._fwcObjId=e.interface_id,t._fwcObjType=e.interface_type_id;else if(e.host_id)t._fwcObjId=e.host_id,t._fwcObjType=e.host_type;else if(e.openvpn)t._fwcObjId=e.id,t._fwcObjType=F.OBJ_VPN_CONFIG_CLI;else if(e.firewall_id&&e.obj_id&&!e.rule_id||e._fwItem)e.cluster_id?(t._fwcObjId=e.cluster_id,t._fwcObjType=F.OBJ_CLUSTER):(t._fwcObjId=e.firewall_id,t._fwcObjType=F.OBJ_FIREWALL),e._fwItem&&(t._fwcSubObjId=null,t._fwcSubObjType=null);else return;return this.store.dispatch(uo.selectTreeItem({item:t})),!0}}static{this.\u0275fac=function(t){return new(t||i)(ie(pn),ie(ot),ie(Ke))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var wPe=i=>({"p-state-highlight":i});function SPe(i,n){if(i&1){let e=k();f(0,"div",11),R("dblclick",function(o){let r=b(e).$implicit,s=h(3);return y(s.itemDblClickEvent(o,r))}),E(1,"span",12),m()}if(i&2){let e=n.$implicit;p("ngClass",J(2,wPe,e.visited)),d(),Z("innerHTML",e.label,Fi)}}function APe(i,n){if(i&1){let e=k();f(0,"p-tree",9),Re("selectionChange",function(o){b(e);let r=h(2);return De(r.selectedRule,o)||(r.selectedRule=o),y(o)}),I(1,SPe,2,4,"ng-template",10),m()}if(i&2){let e=h(2);p("value",e.ruleItemsNodes),Oe("selection",e.selectedRule)}}function xPe(i,n){i&1&&(E(0,"p-message",6),O(1,"translate")),i&2&&Z("text",P(1,1,"WU.NOT_USED_RULE"))}function EPe(i,n){if(i&1){let e=k();f(0,"div",13),R("dblclick",function(o){let r=b(e).$implicit,s=h(3);return y(s.itemDblClickEvent(o,r))}),E(1,"span",12),m()}if(i&2){let e=n.$implicit;d(),Z("innerHTML",e.label,Fi)}}function TPe(i,n){if(i&1){let e=k();f(0,"p-tree",9),Re("selectionChange",function(o){b(e);let r=h(2);return De(r.selectedObject,o)||(r.selectedObject=o),y(o)}),I(1,EPe,2,1,"ng-template",10),m()}if(i&2){let e=h(2);p("value",e.objectItemsNodes),Oe("selection",e.selectedObject)}}function OPe(i,n){i&1&&(E(0,"p-message",6),O(1,"translate")),i&2&&Z("text",P(1,1,"WU.NOT_USED_OBJECT"))}function RPe(i,n){if(i&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"label")(4,"strong"),E(5,"i",3),m(),T(6),O(7,"translate"),O(8,"translate"),f(9,"span",4)(10,"strong"),T(11),m()()()(),I(12,APe,2,2,"p-tree",5)(13,xPe,2,3,"p-message",6),m(),f(14,"div",7)(15,"div",2)(16,"label")(17,"strong"),E(18,"i",8),m(),T(19),O(20,"translate"),f(21,"span",4)(22,"strong"),T(23),m()()()(),I(24,TPe,2,2,"p-tree",5)(25,OPe,2,3,"p-message",6),m()()),i&2){let e=h();d(6),zr("\xA0",P(7,9,"WU.RULES"),"/",P(8,11,"WU.ROUTES"),"\xA0\xA0"),d(5),H(e.getTreeItemsNumber(e.ruleItemsNodes)),d(),G(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?12:-1),d(),G(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?-1:13),d(6),z("\xA0",P(20,13,"WU.OBJECTS"),"\xA0\xA0"),d(4),H(e.getTreeItemsNumber(e.objectItemsNodes)),d(),G(e.objectItemsNodes!=null&&e.objectItemsNodes.length?24:-1),d(),G(e.objectItemsNodes!=null&&e.objectItemsNodes.length?-1:25)}}var FU=(()=>{class i{set objectInfo(e){e&&(this._objectInfo=e,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())}constructor(e,t,o,r,s,a,l,c){this.store=e,this.refService=t,this.fwcPolicyService=o,this.fwcPositionService=r,this.translate=s,this.fwcUserService=a,this.fwcWhereUsedFunctionalityService=l,this.pipeFwcIcon=c,this.ObjectTypes=F,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new W}ngOnInit(){}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t},1)}parseInfo(){let e,t,o;if(t=this._objectInfo,!!t&&(o=t.restrictions,!!o)){this.ruleItemsNodes=[],this.objectItemsNodes=[];for(let r of Object.keys(o)){let s=o[r];Array.isArray(s)&&s.length&&s[0]&&(s[0].rule_id!=null&&s[0].rule_type!=null||s[0].routing_rule_id!=null||s[0].route_id!=null||s[0].dhcp_rule_id!=null||s[0].keepalived_rule_id!=null||s[0].haproxy_rule_id!=null?this.ruleItemsNodes=this.buildRuleTreeNodes(r,s,this.ruleItemsNodes):(e=this.buildObjectTreeNodes(s,r),this.objectItemsNodes.push(e)))}}}getTreeItemsNumber(e){let t=0,o;if(e)for(o=e.slice(0);o.length;){let r=o.pop();r.children&&r.children.length?o.push(...r.children):t++}return t}itemDblClickEvent(e,t){let o;e.preventDefault(),e.stopPropagation(),this.clearVisitedStatus(),t?(o=t.data,t.visited=!0):e&&(o=e.value),o&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(o)&&this.onHideParent.emit(!0)}clearVisitedStatus(){let e=t=>{t.visited=!1,t.children&&t.children.forEach(e)};this.ruleItemsNodes.forEach(e)}buildRuleTreeNodes(e,t,o=[]){for(let r of t){let s=o.find(c=>!!(c.data&&c.data.firewall_id==r.firewall_id)),a,l;if(r.rule_id?r.rule_position_name?(a="WU.FOUND_IN_RULE",l={policy_name:r.rule_type_name,rule_id:r.rule_id,pos_name:r.rule_position_name}):(a="WU.FOUND_IN_RULE_NO_POS",l={policy_name:r.rule_type_name,rule_id:r.rule_id}):r.route_id?e==="IpobjInRouteAsGateway"?(a="WU.FOUND_IN_ROUTE_GATEWAY",l={route_id:r.route_id,table_name:r.table_name,table_number:r.table_number}):(a="WU.FOUND_IN_ROUTE",l={route_id:r.route_id,table_name:r.table_name,table_number:r.table_number}):r.routing_rule_id?(a="WU.FOUND_IN_ROUTING_RULE",l={routing_rule_id:r.routing_rule_id}):r.dhcp_rule_id&&(r.dhcp_rule_rule_type===2||r.dhcp_rule_type===2)?(a="WU.FOUND_IN_FIXED_DHCP_RULE",l={dhcp_rule_id:r.dhcp_rule_id,pos_name:r.rule_position_name}):r.dhcp_rule_id?(a="WU.FOUND_IN_REGULAR_DHCP_RULE",r.dhcp_rule_range&&(r.ipObj_id==null||r.ipObj_id==null)?r.range_id?(a="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",l={dhcp_rule_id:r.dhcp_rule_id}):l={dhcp_rule_id:r.dhcp_rule_id,pos_name:"Router"}:!r.dhcp_router&&r.ipObj_id!=null&&r.ipObj_id!=null?l={dhcp_rule_id:r.dhcp_rule_id,pos_name:"DNS"}:(a="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",l={dhcp_rule_id:r.dhcp_rule_id})):r.keepalived_rule_id?(a="WU.FOUND_IN_KEEPALIVED_RULE",l={keepalived_rule_id:r.keepalived_rule_id}):r.haproxy_rule_id&&(a="WU.FOUND_IN_HAPROXY_RULE",r.frontendIp_id?l={haproxy_rule_id:r.haproxy_rule_id,pos_name:"Frontend Ip"}:r.frontendPort_id?l={haproxy_rule_id:r.haproxy_rule_id,pos_name:"Frontend Port"}:r.backendIps_id?l={haproxy_rule_id:r.haproxy_rule_id,pos_name:"Backend Ip"}:r.backendPort_id&&(l={haproxy_rule_id:r.haproxy_rule_id,pos_name:"Backend Port"})),s){let c={};s.children||(s.children=[]),s.children.find(g=>g.data.rule_id!==void 0&&g.data.rule_id===r.rule_id&&g.data.rule_position_id!==void 0&&g.data.rule_position_id===r.rule_position_id&&g.data.dhcp_rule_id!==void 0&&g.data.dhcp_rule_id===r.dhcp_rule_id&&g.data.keepalived_rule_id!==void 0&&g.data.keepalived_rule_id===r.keepalived_rule_id&&g.data.haproxy_rule_id!==void 0&&g.data.haproxy_rule_id===r.haproxy_rule_id)||(c.label=this.translate.instant(a,l),c.data=Object.assign({},r),s.children.push(c))}else{let c={},u={},g,_;r.cluster_id!==void 0&&r.cluster_id!==null?(g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+r.cluster_name+"</strong>",_=F.OBJ_CLUSTER):(g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+r.firewall_name+"</strong>",_=F.OBJ_FIREWALL),c.label=g,c.icon=this.pipeFwcIcon.transform(_),c.children=[],c.data=Object.assign({},r),c.data._fwItem=!0,c.expanded=!0,u.label=this.translate.instant(a,l),u.data=Object.assign({},r),c.children.push(u),o.push(c)}}return o.length?o:null}buildObjectTreeNodes(e,t){let o,r=[],s;return o={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".1")+"</strong>",icon:"",expanded:!0,children:[]},e.forEach(a=>{let l={};if(a){let c,u,g;a.group_id!=null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),a.group_type==F.OBJ_CONTINENT?u=this.translate.instant("NODE_TYPES."+a.group_name):u=a.group_name,g=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:u}),s=this.pipeFwcIcon.transform(F.OBJ_GROUP)):a.cluster_id!=null&&a.openvpn==null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),u=a.cluster_name,g=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:u}),s=this.pipeFwcIcon.transform(F.OBJ_CLUSTER)):a.firewall_id!=null&&a.openvpn==null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),u=a.firewall_name,g=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:u}),s=this.pipeFwcIcon.transform(F.OBJ_FIREWALL)):a.interface_id!=null?(c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),u=a.interface_name,g=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:u}),s=this.pipeFwcIcon.transform(F.OBJ_INTERFACE_FIREWALL)):a.host_id!=null?(c="Host",u=a.host_name,g=this.translate.instant("WU.FOUND_OBJECT",{type_name:c,obj_name:u}),s=this.pipeFwcIcon.transform(F.OBJ_HOST)):a.openvpn!=null&&(a.cluster_id!=null?g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+a.cluster_name+"</code>":g=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+a.firewall_name+"</code>",g=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:a.cn,firewall_data:g}),s=this.pipeFwcIcon.transform(F.OBJ_VPN_CONFIG_CLI)),l.label=g,l.data=Object.assign({},a),r.push(l)}}),o.icon=s,o.children=r,o}static{this.\u0275fac=function(t){return new(t||i)(v(Ke),v(zs),v(pn),v(kI),v(je),v(ot),v(hd),v(un))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-object-wu"]],inputs:{objectInfo:"objectInfo",readOnly:"readOnly"},outputs:{onHideParent:"onHideParent"},features:[Ge([un,kI,hd])],decls:1,vars:1,consts:[[1,"col-12","grid","grid-nogutter"],[1,"col-6",2,"width","48%","margin-right","10px"],[2,"margin-bottom","5px"],[1,"fwcMenuIcon","fwci-rule","fwcOrange"],[1,"fwcBlueBg","fwcBadge"],["selectionMode","single","styleClass","treeSelector treeWU",3,"value","selection"],["severity","warn",3,"text"],[1,"col-6",2,"width","48%"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["selectionMode","single","styleClass","treeSelector treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick","ngClass"],[3,"innerHTML"],[1,"noselect",3,"dblclick"]],template:function(t,o){t&1&&I(0,RPe,26,15,"div",0),t&2&&G(o._objectInfo?0:-1)},dependencies:[Fe,ge,gC,Ks,ht],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divWUPanel{min-width:100%}.divWUPanel .col-6{width:100%}.divWUPanel label{text-align:left!important;font-family:arial!important;color:var(--fwcBlue)}.p-tree .p-tree-container .p-treenode .p-treenode-content.p-highlight span{background-color:var(--fwcPaleBlue3)!important;width:fit-content!important}.p-state-highlight{background-color:var(--fwcPaleBlue3)!important;color:var(--fwcDark)!important}
`],encapsulation:2})}}return i})();var PPe=()=>({"max-height":"20em",overflow:"auto",width:"100%"});function FPe(i,n){if(i&1){let e=k();f(0,"div",5),R("dblclick",function(o){let r=b(e).$implicit,s=h(2);return y(s.itemDblClickEvent(o,r))}),E(1,"span",6),m()}if(i&2){let e=n.$implicit;d(),Z("innerHTML",e.label,Fi)}}function LPe(i,n){if(i&1){let e=k();f(0,"p-tree",3),Re("selectionChange",function(o){b(e);let r=h();return De(r.selectedObject,o)||(r.selectedObject=o),y(o)}),I(1,FPe,2,1,"ng-template",4),m()}if(i&2){let e=h();it(Ie(4,PPe)),p("value",e.dependenciesTree),Oe("selection",e.selectedObject)}}function MPe(i,n){if(i&1){let e=k();f(0,"div",2)(1,"button",7),O(2,"translate"),R("click",function(){b(e);let o=h();return y(o.handleRefreshClick())}),m()()}i&2&&(d(),Z("label",P(2,1,"POLICY_GRID.RELOAD")))}var LU=(()=>{class i{set dependencies(e){e&&(this.dependenciesTree=this.buildDependencyTree(e))}constructor(e,t,o,r,s,a){this.store=e,this.translate=t,this.fwcPolicyService=o,this.fwcUserService=r,this.fwcWhereUsedFunctionalityService=s,this.pipeFwcIcon=a,this.showRefreshButton=!1,this.onHideParent=new W,this.onRefreshRestrictions=new W,this.selectedObject=null}ngOnInit(){}buildDependencyTree(e){let t=[],o,r,s;e._fwcRestrictedObject&&(r=e._fwcRestrictedObject._fwcObjId,s=e._fwcRestrictedObject._fwcObjType,delete e._fwcRestrictedObject);for(let a of Object.keys(e)){let l=e[a];Array.isArray(l)?l.length&&l[0]&&(l[0].rule_id!=null&&l[0].rule_type!=null||l[0].routing_rule_id!=null||l[0].route_id!=null||l[0].dhcp_rule_id!=null||l[0].keepalived_rule_id!=null||l[0].haproxy_rule_id!=null?(o=this.buildRuleDependencyTreeNodes(l,a,r,s),t.push(o)):l[0].group_id!=null&&l[0].group_name?(o=this.buildGroupDependencyTreeNodes(l,a,r,s),t.push(o)):l[0].openvpn!=null&&(o=this.buildOpenVPNDependencyTreeNodes(l,a,r,s),t.push(o))):t.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+a+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return t}itemDblClickEvent(e,t){let o=t.data;o&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(o)&&this.onHideParent.emit(!0)}buildRuleDependencyTreeNodes(e,t,o,r){let s,a=[];s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]};for(let l of e){let c=a.find(g=>!!(g.data&&g.data.firewall_id==l.firewall_id)),u={};if(l)if(c)this.setRuleNodeInfo(u,l,o,r),u.data=Object.assign({},l),c.children||(c.children=[]),c.children.push(u);else{let g={},_,C;l.cluster_id!==void 0&&l.cluster_id!==null?(_=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+l.cluster_name+"</code>",C=F.OBJ_CLUSTER):(_=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+l.firewall_name+"</code>",C=F.OBJ_FIREWALL),u.label=_,u.icon=this.pipeFwcIcon.transform(C),u.children=[],u.data=Object.assign({},l),u.data._fwItem=!0,u.expanded=!0,this.setRuleNodeInfo(g,l,o,r),g.data=Object.assign({},l),u.children.push(g),a.push(u)}}return s.children=a,s}buildGroupDependencyTreeNodes(e,t,o,r){let s,a=[],l,c;return s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},e.forEach(u=>{let g={};l=this.translate.instant("WU.FOUND_IN_GROUP",{group_name:u.group_name}),c=this.pipeFwcIcon.transform(F.OBJ_GROUP),u.obj_type_id&&u.obj_name&&(c=this.pipeFwcIcon.transform(u.obj_type_id),l+=` > <code>${u.obj_name}</code>`),u&&(g.label=l,g.icon=c,g.data=Object.assign({},u),a.push(g))}),s.children=a,s}buildOpenVPNDependencyTreeNodes(e,t,o,r){let s,a=[],l,c;return s={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+t+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},e.forEach(u=>{let g={};u&&(u.cluster_id!==void 0&&u.cluster_id!==null?l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+u.cluster_name+"</code>":l=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+u.firewall_name+"</code>",c=this.pipeFwcIcon.transform(F.OBJ_VPN_CONFIG_CLI),u.obj_type_id&&u.obj_name&&(c=this.pipeFwcIcon.transform(u.obj_type_id),l+=` > <code>${u.obj_name}</code>`),g.label=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:u.cn,firewall_data:l}),g.icon=c,g.data=Object.assign({},u),a.push(g))}),s.children=a,s}setRuleNodeInfo(e,t,o,r){let s,a,l,c;t.rule_id?t.rule_position_name?(l="WU.FOUND_IN_RULE",c={policy_name:t.rule_type_name,rule_id:t.rule_id,pos_name:t.rule_position_name}):(l="WU.FOUND_IN_RULE_NO_POS",c={policy_name:t.rule_type_name,rule_id:t.rule_id},t.rule_position_name=this.translate.instant("POLICY_GRID.RULES.ACTION")):t.route_id?(l="WU.FOUND_IN_ROUTE",c={route_id:t.route_id,table_name:t.table_name,table_number:t.table_number}):t.routing_rule_id?(l="WU.FOUND_IN_ROUTING_RULE",c={routing_rule_id:t.routing_rule_id}):t.dhcp_rule_id&&t.dhcp_rule_type===2?(l="WU.FOUND_IN_FIXED_DHCP_RULE",c={dhcp_rule_id:t.dhcp_rule_id}):t.dhcp_rule_id?(l="WU.FOUND_IN_REGULAR_DHCP_RULE",t.dhcp_router&&(t.ipObj_id==null||t.ipObj_id==null)?c={dhcp_rule_id:t.dhcp_rule_id,pos_name:"Router"}:!t.dhcp_router&&(t.ipObj_id!=null||t.ipObj_id!=null)?c={dhcp_rule_id:t.dhcp_rule_id,pos_name:"DNS"}:(l="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",c={dhcp_rule_id:t.dhcp_rule_id})):t.keepalived_rule_id?(l="WU.FOUND_IN_KEEPALIVED_RULE",c={keepalived_rule_id:t.keepalived_rule_id}):t.haproxy_rule_id&&(l="WU.FOUND_IN_HAPROXY_RULE",t.frontendIp_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Frontend Ip"}:t.frontendPort_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Frontend Port"}:t.backendIps_id?c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Backend Ip"}:t.backendPort_id&&(c={haproxy_rule_id:t.haproxy_rule_id,pos_name:"Backend Port"})),s=this.translate.instant(l,c),o!==void 0&&r!==void 0&&(o!=t.obj_id||r!=t.obj_type_id)&&t.obj_name&&(s+=` > <code>${t.obj_name}</code>`),a=this.pipeFwcIcon.transform(t.obj_type_id),e.label=s,e.icon=a}handleRefreshClick(){this.onRefreshRestrictions.emit()}static{this.\u0275fac=function(t){return new(t||i)(v(Ke),v(je),v(pn),v(ot),v(hd),v(un))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-object-restrictions"]],inputs:{dependencies:"dependencies",readOnly:"readOnly",showRefreshButton:"showRefreshButton"},outputs:{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"},features:[Ge([un,hd])],decls:5,vars:5,consts:[[1,"fwcBlue"],["selectionMode","single","styleClass","treeSelector treeWU",3,"value","selection","style"],[1,"vertTopPad"],["selectionMode","single","styleClass","treeSelector treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick"],[3,"innerHTML"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary",3,"click","label"]],template:function(t,o){t&1&&(f(0,"h5",0),T(1),O(2,"translate"),m(),I(3,LPe,2,5,"p-tree",1)(4,MPe,3,3,"div",2)),t&2&&(d(),H(P(2,3,"ITEM_PANEL.RESTR.RESTRICTIONS")),d(2),G(o.dependenciesTree?3:-1),d(),G(o.showRefreshButton?4:-1))},dependencies:[ge,at,Ks,ht]})}}return i})();var NPe=["divDlgContainer"],Ut=(()=>{class i{constructor(e,t,o,r,s,a){this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.cd=r,this.store=s,this.router=a,this.displayDialog=!1,this.dialogMinified=!1,this.alive=!0,this.router.events.pipe(yt(()=>this.alive)).subscribe(l=>{l instanceof Mr&&(this.hideDialog(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy())}),this.store.pipe(yt(()=>this.alive),Sn(Qa.selectVisibleDialogsIds)).subscribe(l=>{!this.displayDialog&&l.includes(this.dialogId)&&this.restoreDialog()})}ngOnInit(){}createDialog(e,t,o){if(isNaN(this.dialogId)){this.title=e,this.icon=t,this.dialogUUID=o;let r=this.appDialogPanelsService.createDialog(e,t,o);this.dialogId=r.dialogId,this.store.dispatch(Yi.addDialog({dialog:r}))}}minimizeDialog(e){this.displayDialog=!1,this.dialogMinified=!0,this.store.dispatch(Yi.minimizeDialog({dialogId:this.dialogId})),e&&this.itemSelectedService.setLastMinifiedDialogId(this.dialogId)}showHelp(){this.appOptionsService.showHelp(this.helpSection)}restoreDialog(){this.displayDialog||this.showDialog()}showDialog(){this.displayDialog=!0,this.dialogMinified=!1,this.store.dispatch(Yi.restoreDialog({dialogId:this.dialogId})),this.refreshDialog()}hideDialog(){this.displayDialog=this.dialogMinified=!1,this.store.dispatch(Yi.hideDialog({dialogId:this.dialogId})),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}recenterDialog(){try{this.refreshDialog(),this.dialog&&this.dialog.center()}catch{}}ngOnDestroy(){this.alive=!1,this.store.dispatch(Yi.removeDialog({dialogId:this.dialogId}))}preventDrop(e){return e.preventDefault(),!1}refreshDialog(){this.cd.destroyed||this.cd.detectChanges()}setDynamicComponentRef(e){this.dynamicComponentRef=e}addMessageToLog(e,t){this.log&&this.log.addNewText(e,t)}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(pe),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-basic-panel"]],viewQuery:function(t,o){if(t&1&&(ne(Ht,5),ne(NPe,5)),t&2){let r;K(r=q())&&(o.dialog=r.first),K(r=q())&&(o.divDlgContainer=r.first)}},decls:0,vars:0,template:function(t,o){}})}}return i})();var nb=class{constructor(){this.pk=null,this.vector=null,this.passkey=window.crypto.getRandomValues(new Uint8Array(32)),this.generatePublicKey(),this.vector=window.crypto.getRandomValues(new Uint8Array(16))}createRandomString(n){let e="";for(;e.length<n;e+=Math.random().toString(36).substr(2));return e.substr(0,n)}convertStringToArrayBufferView(n){let e;if(n){e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t)}return e}convertArrayBufferViewtoString(n){let e="";if(n)for(let t=0;t<n.byteLength;t++)e+=String.fromCharCode(n[t]);return e}generatePublicKey(){let n;return n=new Promise((e,t)=>{window.crypto.subtle?window.crypto.subtle.digest({name:"SHA-256"},this.passkey).then(o=>{let r={name:"AES-CBC"};window.crypto.subtle.importKey("raw",o,r,!1,["encrypt","decrypt"]).then(s=>{this.pk=s,e(s)},s=>{e(null)})}):(this.pk="CAN't USE CLIENT ENCRYPTION ON NON-HTTPS CONNECTIONS",e(null))}),n}encryptData(n){let e;return e=new Promise((t,o)=>{if(this.vector&&this.pk){let r;window.crypto.subtle?window.crypto.subtle.encrypt({name:"AES-CBC",iv:this.vector},this.pk,this.convertStringToArrayBufferView(n)).then(s=>{r=new Uint8Array(s),t(r)},s=>{t(null)}):t(this.convertStringToArrayBufferView(n))}}),e}decryptData(n){return he(this,null,function*(){let e;return e=new Promise((t,o)=>{if(this.vector&&this.pk){let r;window.crypto.subtle?window.crypto.subtle.decrypt({name:"AES-CBC",iv:this.vector},this.pk,n).then(s=>{r=new Uint8Array(s),t(this.convertArrayBufferViewtoString(r))},s=>{t(null)}):t(this.convertArrayBufferViewtoString(n))}}),e})}};var VPe=()=>({width:"100%","max-height":"20em",overflow:"auto"}),$T=i=>({display:i}),BPe=()=>["cn","realAddress"],UPe=i=>({"font-weight":i});function jPe(i,n){i&1&&(f(0,"div",4)(1,"div"),E(2,"i",16),f(3,"span"),T(4),O(5,"translate"),m()()()),i&2&&(d(4),H(P(5,1,"VPN.STATUS.DATA")))}function HPe(i,n){if(i&1&&(f(0,"div",5),E(1,"sts-fwc-message",17),m()),i&2){let e=h();d(),p("message",e.errorMessage)}}function GPe(i,n){i&1&&(f(0,"div",6)(1,"div"),E(2,"p-progressSpinner"),m()())}function zPe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2);d(),z(" (",e._configObj==null?null:e._configObj.cluster_name,") ")}}function WPe(i,n){if(i&1&&T(0),i&2){let e=h(2);z(" (",e._configObj==null?null:e._configObj.firewall_name,") ")}}function $Pe(i,n){if(i&1){let e=k();f(0,"div",18)(1,"h6",19),E(2,"i",20),T(3),O(4,"translate"),f(5,"strong"),T(6),m(),I(7,zPe,2,1,"span")(8,WPe,1,1),m()(),f(9,"div",21)(10,"i",22),R("click",function(){b(e);let o=h();return y(o.onVpnStatusClose())}),m()()}if(i&2){let e=h();d(3),z(" ",P(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),d(3),z("'",e._configObj==null?null:e._configObj._fwcObjName,"'"),d(),G(e._configObj!=null&&e._configObj.cluster_id?7:8)}}function KPe(i,n){i&1&&(f(0,"tr")(1,"th",36),T(2),O(3,"translate"),m(),f(4,"th",37),T(5),O(6,"translate"),m(),f(7,"th",37),T(8),O(9,"translate"),m(),f(10,"th",38),T(11),O(12,"translate"),E(13,"p-sortIcon",39),m(),f(14,"th",40),T(15),O(16,"translate"),E(17,"p-sortIcon",41),m(),f(18,"th",42),T(19),O(20,"translate"),E(21,"p-sortIcon",43),m()()),i&2&&(d(2),z(" ",P(3,6,"VPN.STATUS.FIELDS.CN")," "),d(3),z(" ",P(6,8,"VPN.STATUS.FIELDS.VIRTUAL_ADDRESS")," "),d(3),z(" ",P(9,10,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),d(3),z(" ",P(12,12,"VPN.STATUS.FIELDS.RECEIVED")," "),d(4),z(" ",P(16,14,"VPN.STATUS.FIELDS.SENT")," "),d(4),z(" ",P(20,16,"VPN.STATUS.FIELDS.CONNECTED_SINCE")," "))}function qPe(i,n){if(i&1&&(f(0,"tr",44)(1,"td"),T(2),m(),f(3,"td"),T(4),m(),f(5,"td"),T(6),m(),f(7,"td",45),T(8),O(9,"number"),m(),f(10,"td",45),T(11),O(12,"number"),m(),f(13,"td"),T(14),O(15,"date"),m()()),i&2){let e=n.$implicit;p("pSelectableRow",e),d(2),H(e.cn),d(2),H(e.virtualAddress),d(2),H(e.realAddress),d(2),z(" ",pi(9,7,e.bytesReceived,"1.2-2")," "),d(3),z(" ",pi(12,10,e.bytesSent,"1.2-2")," "),d(3),z(" ",pi(15,13,e.connectedSince,"d/M/y hh:mm")," ")}}function YPe(i,n){if(i&1&&(f(0,"div"),E(1,"sts-fwc-message",17),m()),i&2){let e=h(2);d(),p("message",e.msgNoData)}}function JPe(i,n){if(i&1){let e=k();f(0,"div",7)(1,"p-toolbar",23)(2,"div",24)(3,"span",19),E(4,"i",25),T(5),O(6,"translate"),m()(),f(7,"div",26)(8,"span")(9,"strong"),T(10),O(11,"date"),m()(),E(12,"span",27),f(13,"div",28)(14,"p-splitButton",29),O(15,"translate"),R("onClick",function(){b(e);let o=h();return y(o.onVpnStatusDataRefresh())}),m(),f(16,"button",30),O(17,"translate"),R("click",function(){b(e);let o=Me(19),r=h();return r.vpnClientsDataShowFilter=!0,y(o.focus())}),m(),f(18,"input",31,1),O(20,"translate"),Re("ngModelChange",function(o){b(e);let r=h();return De(r.vpnClientsDataFilter,o)||(r.vpnClientsDataFilter=o),y(o)}),R("input",function(){b(e);let o=Me(25),r=h();return y(o.filterGlobal(r.vpnClientsDataFilter,"contains"))}),m(),f(21,"button",32),O(22,"translate"),R("click",function(){b(e);let o=Me(25),r=h();return r.vpnClientsDataShowFilter=!1,r.vpnClientsDataFilter="",y(o.reset())}),m()()()(),f(23,"div",33)(24,"p-table",34,2),Re("selectionChange",function(o){b(e);let r=h();return De(r.vpnClientSelected,o)||(r.vpnClientSelected=o),y(o)}),R("onRowSelect",function(o){b(e);let r=h();return y(r.onVpnClientSelect(o))})("onRowUnselect",function(o){b(e);let r=h();return y(r.onVpnClientSelect(o))}),I(26,KPe,22,18,"ng-template",11)(27,qPe,16,16,"ng-template",35),m()(),I(28,YPe,2,1,"div"),m()}if(i&2){let e=h();p("ngClass",e.verticalTotalsMode?"lg:col-6":"lg:col-7"),d(5),z(" ",P(6,18,"VPN.STATUS.FIELDS.CLIENTS"),""),d(5),H(pi(11,20,e.vpnStatusUpdated,"d/M/y HH:mm:ss")),d(4),Z("pTooltip",P(15,23,"VPN.STATUS.BUTTONS.UPDATE")),p("model",e.refreshMenuItems),d(2),Z("pTooltip",P(17,25,"VPN.STATUS.BUTTONS.SEARCH")),p("ngStyle",J(31,$T,e.vpnClientsDataShowFilter?"none":"inline")),d(2),Z("placeholder",P(20,27,"VPN.STATUS.SEARCH")),p("ngStyle",J(33,$T,e.vpnClientsDataShowFilter?"inline":"none")),Oe("ngModel",e.vpnClientsDataFilter),d(3),Z("pTooltip",P(22,29,"VPN.STATUS.BUTTONS.CLEAR_SEARCH")),p("ngStyle",J(35,$T,e.vpnClientsDataShowFilter?"inline":"none")),d(3),p("value",e.vpnClientsData)("responsive",!1)("resizableColumns",!0),Oe("selection",e.vpnClientSelected),p("globalFilterFields",Ie(37,BPe)),d(4),G(e.vpnClientsData&&!e.vpnClientsData.length?28:-1)}}function XPe(i,n){i&1&&oe(0)}function QPe(i,n){if(i&1&&I(0,XPe,1,0,"ng-container",48),i&2){h(2);let e=Me(9);p("ngTemplateOutlet",e)}}function ZPe(i,n){if(i&1&&(f(0,"div",8)(1,"div")(2,"p-toolbar",23)(3,"div",24)(4,"span",19),E(5,"i",46),T(6),O(7,"translate"),m()()()(),f(8,"div"),E(9,"p-chart",47),m(),I(10,QPe,1,1,"ng-container"),m()),i&2){let e=h();p("ngClass",e.verticalTotalsMode?"lg:col-4":"lg:col-5"),d(6),z(" ",P(7,5,"VPN.STATUS.DATA_CONSUMPTION"),""),d(3),p("data",e.vpnClientsChartData)("options",e.vpnClientsChartOptions),d(),G(e.verticalTotalsMode?-1:10)}}function eFe(i,n){i&1&&oe(0)}function tFe(i,n){if(i&1&&(f(0,"div",9),I(1,eFe,1,0,"ng-container",48),m()),i&2){h();let e=Me(9);d(),p("ngTemplateOutlet",e)}}function iFe(i,n){if(i&1&&(f(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),T(4),m(),f(5,"div",54)(6,"span"),E(7,"i",55),T(8),O(9,"translate"),m()()()(),f(10,"div",51)(11,"div",56)(12,"div",53),T(13),O(14,"number"),m(),f(15,"div",54)(16,"span"),E(17,"i",57),T(18),O(19,"translate"),m()()()(),f(20,"div",51)(21,"div",58)(22,"div",53),T(23),O(24,"number"),m(),f(25,"div",54)(26,"span"),E(27,"i",59),T(28),O(29,"translate"),m()()()()()),i&2){let e=h(2);p("ngClass",e.verticalTotalsMode?"divVpnStatusMain-totals--vertical":"divVpnStatusMain-totals--horizontal"),d(4),z(" ",e.vpnClientsChartDataTotals.clientsConnected," "),d(4),z(" ",P(9,7,"VPN.STATUS.FIELDS.CLIENTS"),""),d(5),z(" ",pi(14,9,e.vpnClientsChartDataTotals.bytesReceived,".0-0")," "),d(5),z(" ",P(19,12,"VPN.STATUS.FIELDS.RECEIVED"),""),d(5),z(" ",pi(24,14,e.vpnClientsChartDataTotals.bytesSent,".0-0")," "),d(5),z(" ",P(29,17,"VPN.STATUS.FIELDS.SENT"),"")}}function nFe(i,n){if(i&1&&(f(0,"div")(1,"p-toolbar",23)(2,"div",24)(3,"span",19),E(4,"i",49),T(5),O(6,"translate"),m()()(),I(7,iFe,30,19,"div",50),m()),i&2){let e=h();d(5),z(" ",P(6,2,"VPN.STATUS.TOTALS"),""),d(2),G(e.vpnClientsChartDataTotals?7:-1)}}function oFe(i,n){i&1&&(f(0,"div",60)(1,"h6",61),E(2,"i",62),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function rFe(i,n){if(i&1){let e=k();f(0,"span",63),R("dblclick",function(){let o=b(e).$implicit,r=h();return y(r.onNodeSelect(o))}),E(1,"i",64),O(2,"fwcIcon"),f(3,"span",65),T(4),m()()}if(i&2){let e=n.$implicit;d(),us("fwcTreeIcon ",P(2,5,e.data==null?null:e.data.object_type),""),d(2),p("ngStyle",J(7,UPe,e.selectable?"normal":"bold")),d(),z(" ",e.label," ")}}function sFe(i,n){if(i&1){let e=k();f(0,"button",66),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onNodeSelect(o.selectedNode))}),m(),f(2,"button",67),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.onSelectCancel())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.SELECT")),p("disabled",!e.selectedNode),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}var aFe=20,MU=(()=>{class i{set configObj(e){e&&(this._configObj=e,this.resetProperties(),this.selectFirewallToShow())}constructor(e,t,o,r,s,a,l,c,u){this.fwcFirewallService=e,this.fwcUserService=t,this.translate=o,this.inputDataService=r,this.utilService=s,this.fwcErrorPipe=a,this.fwcVpnService=l,this.fwcEventService=c,this.confirmationService=u,this.statusLoaded=new W,this.statusError=new W,this.alive=!0,this.fwcCrypto=new nb}ngOnInit(){this.vpnClientsChartOptions={title:{display:!0,position:"left",text:this.translate.instant("VPN.STATUS.ALL_CLIENTS")}},this.msgNoData={type:"warning",title:this.translate.instant("VPN.STATUS.NO_DATA.0"),text:this.translate.instant("VPN.STATUS.NO_DATA.1")},this.refreshMenuItems=[{id:"20",label:"20s",command:()=>{this.setRefreshRate(20)}},{id:"40",label:"40s",command:()=>{this.setRefreshRate(40)}},{id:"60",label:"60s",command:()=>{this.setRefreshRate(60)}},{id:"99999",label:this.translate.instant("GLOBALS.MSG_BUTTONS.DISABLE"),command:()=>{this.setRefreshRate(99999)}}],this.setRefreshRate(aFe)}ngOnDestroy(){this.alive=!1,clearInterval(this.refreshTimer)}resetProperties(){this.vpnClientsData=void 0,this.vpnClientSelected=void 0,this.vpnClientsChartData=null,this.vpnClientsDataHistoric=[],this.vpnClientsChartDataTotals=null,this.sshCredentials=null,this.errorMessage=null,clearInterval(this.refreshTimer)}setRefreshRate(e){this.refreshMenuItems.forEach(t=>{t.id==e.toString()?(t.icon="fa fa-check",this.refreshRateSec=e,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3))):t.icon=""})}selectFirewallToShow(){if(this._configObj){let e,t,o;this._configObj.cluster_id!=null?(e=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t=this._configObj.cluster_id,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")):this._configObj.firewall_id!=null&&(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),t=this._configObj.firewall_id,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")),e&&(this.resetProperties(),e(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(r=>he(this,null,function*(){this.clusterNodes=[],this.selectedNode=null,Array.isArray(r.data)?this.clusterNodes.push(...r.data):this.clusterNodes.push(r.data);let s=this.fwcUserService.getActualFwcUser().privateKey;for(let a=0;a<this.clusterNodes.length;a++){let l=this.clusterNodes[a];try{l.install_user&&(l.install_user=yield this.utilService.openPGPDecrypt(l.install_user,s)),l.install_pass&&(l.install_pass=yield this.utilService.openPGPDecrypt(l.install_pass,s))}catch{}}this.loadingData=!1,this._configObj.cluster_id!=null?(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes),this.displaySelectDialog=!0):this.askSSHCredentials(t)}),r=>{this.loadingData=!1;let s=this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.GEN_DETAILS");r.error&&r.error.msg&&(s=r.error.msg),this.errorMessage={type:"error",title:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.SUMMARY",{objType:o}),text:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.TEXT",{objType:o,msg:s})},this.statusLoaded.emit(!0)}))}}buildNodesTree(e){let t=[],o={label:this._configObj.cluster_name,data:{object_type:F.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(r=>{o.children.push({label:r.name,data:{object_type:F.OBJ_FIREWALL,firewall_id:r.id},selectable:!0})}),t.push(o),t}onNodeSelect(e){!e||!e.selectable||(this.displaySelectDialog=!1,this.askSSHCredentials(e.data.firewall_id))}askSSHCredentials(e,t){if(!this.clusterNodes)return;let o=this.clusterNodes.find(r=>r.id===e);if(o)if(o.install_interface&&o.install_ipobj)if(o.install_communication==="agent")this.onGetSSHData({firewall_id:o.id,communication:o.install_communication});else{let r={header:this.translate.instant("COMPILE.INST_SSH",{name:o.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:o.id},{name:"communication",type:"hidden",value:o.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:o.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:o.ip_name+" ("+o.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:t?t.ssh_user:o.install_user,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:t?t.ssh_password:o.install_pass}],onAccept:this.onGetSSHData.bind(this),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(r)}else this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT"),acceptLabel:"Ok",accept:()=>{let r=this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT");this.statusError.emit(!0)}})}onGetSSHData(e){return he(this,null,function*(){if(e){let t,o;if(t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this._configObj.id_obj,firewall:e.firewall_id},e.communication!=="agent"){e.ssh_encrypted_password?o=yield this.fwcCrypto.decryptData(e.ssh_encrypted_password):o=e.ssh_password;let r=this.fwcUserService.getActualFwcUser().publicKey,s=e.ssh_user,a=o;s&&(s=yield this.utilService.openPGPEncrypt(s,r)),a&&(a=yield this.utilService.openPGPEncrypt(a,r)),t=Ee(Q({},t),{sshuser:s,sshpass:a})}this.loadingData=!0,this.fwcVpnService.getConfigStatus(t).subscribe(r=>he(this,null,function*(){let s=this.parseVpnStatus(r.data),a=yield this.fwcCrypto.encryptData(e.ssh_password);this.sshCredentials||(this.sshCredentials={firewall_id:e.firewall_id,ssh_user:e.ssh_user,ssh_encrypted_password:a}),s&&(this.vpnClientsData=s,this.updateVpnChartData(),this.statusLoaded.emit(!0)),this.loadingData=!1,clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3)}),r=>{let s=this.utilService.isCommunicationError(r.error),a=s||this.fwcErrorPipe.transform(r);this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.TEXT",{error:a}),acceptLabel:"Ok",accept:()=>{if(s&&e.communication==="ssh")return this.askSSHCredentials(e.firewall_id,e);this.statusError.emit(!0)}}),this.loadingData=!1,clearInterval(this.refreshTimer)})}else this.statusError.emit(!0)})}parseVpnStatus(e){if(!e||typeof e!="string")return[];let t=[],o=[],r,s=e.split(`
`),a={clientsConnected:0,bytesReceived:0,bytesSent:0},l,c;for(let u of s)if(!(/Common Name/.exec(u)||/Virtual Address/.exec(u))){if(l=u.split(","),l.map(g=>g.trim()),l.length==2&&/Updated/.exec(l[0])&&(this.vpnStatusUpdated=Date.parse(l[1]),r={timestamp:this.vpnStatusUpdated,clients:[]}),l.length==5){let g=Date.parse(l[4]);c={cn:l[0],realAddress:l[1],bytesReceived:parseInt(l[2]),bytesSent:parseInt(l[3]),connectedSince:g},t.push(c),r||(r={timestamp:Date.parse(Date()),clients:[]}),r.clients.push(c),a.clientsConnected++,a.bytesReceived+=c.bytesReceived,a.bytesSent+=c.bytesSent}else if(l.length===4){let g=l[2],_=l[0],C=t.find(w=>w.realAddress===g);C&&(C.virtualAddress=_)}}return this.vpnClientsChartDataTotals=a,r&&this.vpnClientsDataHistoric.findIndex(u=>u.timestamp==r.timestamp)==-1&&this.vpnClientsDataHistoric.push(r),t}updateVpnChartData(){let e;e={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!1,borderColor:"#0069a7"},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!1,borderColor:"#009900"}]};let t;this.vpnClientsDataHistoric.forEach(o=>{if(e.labels.push(new Date(o.timestamp).toLocaleString()),this.vpnClientSelected?(t=o.clients.filter(r=>r.cn==this.vpnClientSelected.cn),this.vpnClientsChartOptions.title.text=this.vpnClientSelected.cn):(t=o.clients.slice(0),this.vpnClientsChartOptions.title.text=this.translate.instant("VPN.STATUS.ALL_CLIENTS")),t.length){let r=t.reduce((s,a)=>({cn:"",realAddress:"",bytesReceived:s.bytesReceived+a.bytesReceived,bytesSent:s.bytesSent+a.bytesSent,connectedSince:void 0}));e.datasets[0].data.push(r.bytesReceived),e.datasets[1].data.push(r.bytesSent)}}),this.vpnClientsChartData=e}onVpnClientSelect(e){this.updateVpnChartData()}onVpnStatusDataRefresh(){this.onGetSSHData(this.sshCredentials)}onVpnStatusClose(){this.resetProperties()}onSelectHide(e){}onSelectCancel(){this.displaySelectDialog=!1,this.statusError.emit(!0)}static{this.\u0275fac=function(t){return new(t||i)(v(Bt),v(ot),v(je),v(ir),v(Ct),v(xi),v(Sr),v(_n),v(Wt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-vpn-status"]],inputs:{configObj:"configObj",showTitle:"showTitle",verticalTotalsMode:"verticalTotalsMode"},outputs:{statusLoaded:"statusLoaded",statusError:"statusError"},features:[Ge([Bt])],decls:21,vars:19,consts:[["vpnTotals",""],["inputSearch",""],["tabVpnStatusTable",""],[1,"grid","grid","grid-nogutter","divVpnStatusMain"],[1,"col-12","divVpnStatusMain-placeholder"],[1,"col-12"],[1,"col-12","divVpnStatusMain-loader"],[1,"col-12","divVpnStatusMain-table",3,"ngClass"],[1,"col-12","divVpnStatusMain-data",3,"ngClass"],[1,"col-12","lg:col-2"],["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],["pTemplate","footer"],[1,"fa","fa-bar-chart","fa-4x"],[3,"message"],[1,"col-11","divVpnStatusMain-title"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-users","fwcOrange"],[1,"col-1","divVpnStatusMain-close"],[1,"fa","fa-lg","fa-close",3,"click"],["styleClass","tbrHighlighted"],[1,"p-toolbar-group-left"],[1,"fa","fa-fw","fa-desktop","fwcOrange"],[1,"p-toolbar-group-right"],[1,"fwcSepShort"],[1,"divVpnStatusMain-buttons"],["icon","fa fa-refresh","tooltipPosition","bottom","showDelay","700","appendTo","body",3,"onClick","pTooltip","model"],["pButton","","type","button","icon","fa fa-search","tooltipPosition","bottom","showDelay","700",1,"p-button-success",3,"click","pTooltip","ngStyle"],["type","text","pInputText","",3,"ngModelChange","input","placeholder","ngStyle","ngModel"],["pButton","","type","button","icon","fa fa-close","tooltipPosition","bottom","showDelay","700",1,"p-button-warning",3,"click","pTooltip","ngStyle"],[1,"col-12",2,"overflow","auto"],["columnResizeMode","expand","selectionMode","single","styleClass","optionsTable",3,"selectionChange","onRowSelect","onRowUnselect","value","responsive","resizableColumns","selection","globalFilterFields"],["pTemplate","body"],["pSortableColumn","cn","pResizableColumn",""],["pResizableColumn",""],["pSortableColumn","bytesReceived","pResizableColumn",""],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn",""],["field","bytesSent"],["pSortableColumn","connectedSince","pResizableColumn",""],["field","connectedSince"],[3,"pSelectableRow"],[2,"text-align","right"],[1,"fa","fa-fw","fa-bar-chart","fwcOrange"],["type","line",3,"data","options"],[4,"ngTemplateOutlet"],[1,"fa","fa-fw","fa-calculator","fwcOrange"],[1,"divVpnStatusMain-totals",3,"ngClass"],[1,"divVpnStatusMain-card2"],[1,"divVpnStatusMain-card2-content","fwcOrangeBg"],[1,"card2-value"],[1,"card2-text"],[1,"fa","fw","fa-desktop"],[1,"divVpnStatusMain-card2-content","fwcBlueBg"],[1,"fa","fw","fa-download"],[1,"divVpnStatusMain-card2-content","fwcGreenBg"],[1,"fa","fw","fa-upload"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){if(t&1){let r=k();f(0,"div",3),I(1,jPe,6,3,"div",4)(2,HPe,2,1,"div",5)(3,GPe,3,0,"div",6)(4,$Pe,11,5)(5,JPe,29,38,"div",7)(6,ZPe,11,7,"div",8)(7,tFe,2,1,"div",9),m(),I(8,nFe,8,4,"ng-template",null,0,bt),f(10,"p-dialog",10),Re("visibleChange",function(a){return b(r),De(o.displaySelectDialog,a)||(o.displaySelectDialog=a),y(a)}),R("onHide",function(a){return b(r),y(o.onSelectHide(a))}),I(11,oFe,5,3,"ng-template",11),f(12,"div",12)(13,"div",5)(14,"p"),T(15),O(16,"translate"),m()(),f(17,"div",5)(18,"p-tree",13),Re("selectionChange",function(a){return b(r),De(o.selectedNode,a)||(o.selectedNode=a),y(a)}),I(19,rFe,5,9,"ng-template",14),m()()(),I(20,sFe,4,7,"ng-template",15),m()}t&2&&(d(),G(!o.vpnClientsData&&!o.errorMessage?1:-1),d(),G(o.errorMessage?2:-1),d(),G(o.loadingData?3:-1),d(),G(o.vpnClientsData&&o.showTitle?4:-1),d(),G(o.vpnClientsData?5:-1),d(),G(o.vpnClientsData?6:-1),d(),G(o.vpnClientsData&&o.verticalTotalsMode?7:-1),d(3),Oe("visible",o.displaySelectDialog),p("modal",!!o.showTitle)("resizable",!1)("closable",!1),d(5),H(P(16,16,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),d(3),it(Ie(18,VPe)),p("value",o.clusterTreeNodes),Oe("selection",o.selectedNode))},dependencies:[Fe,Xe,ve,Wi,Gi,wn,Ht,ge,at,Eo,On,Ks,cn,Oo,Sp,Fc,SC,Ap,Yv,dU,pU,gn,op,za,ht,un],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divVpnStatusMain[_ngcontent-%COMP%]{min-height:8rem;max-height:30rem;overflow:auto}.divVpnStatusMain-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]{text-align:center}.divVpnStatusMain-loader[_ngcontent-%COMP%]{position:absolute;z-index:4000;width:100%;height:100%;top:0;left:0;background:#ffffff80}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--fwcGrey)}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.divVpnStatusMain-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.divVpnStatusMain-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;font-size:.9rem;font-weight:400;margin-bottom:0!important}.divVpnStatusMain-close[_ngcontent-%COMP%]{text-align:right}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleDark);cursor:pointer}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--fwcDark)}.divVpnStatusMain-table[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-table[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:70px}.divVpnStatusMain-table[_ngcontent-%COMP%]   .p-toolbar-group-left[_ngcontent-%COMP%], .divVpnStatusMain-table[_ngcontent-%COMP%]   .p-toolbar-group-right[_ngcontent-%COMP%]{line-height:2rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]{display:inline!important}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;margin-left:.5rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6rem!important;height:2rem!important;line-height:2.1rem!important}.divVpnStatusMain-data[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-totals[_ngcontent-%COMP%]{overflow-y:auto;display:flex;justify-content:space-between}.divVpnStatusMain-totals--vertical[_ngcontent-%COMP%]{flex-direction:column}.divVpnStatusMain-totals--horizontal[_ngcontent-%COMP%]{flex-direction:row}.divVpnStatusMain-card[_ngcontent-%COMP%]{white-space:nowrap;color:var(--fwcWhite);height:4rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{display:inline-block;height:4rem;text-align:center;line-height:4rem;vertical-align:top;padding:.5rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{display:inline-block;height:4rem;text-align:left;overflow:hidden}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{color:var(--fwcWhite);margin-top:-.5rem;text-transform:uppercase;text-overflow:ellipsis}.divVpnStatusMain-card.fwcOrangeBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card.fwcBlueBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card.fwcGreenBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleGreen)}.divVpnStatusMain-card2[_ngcontent-%COMP%]{flex:1;margin:.3rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]{color:var(--fwcWhite);text-align:center;border-radius:3px;padding-bottom:.4rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]{text-transform:uppercase}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.divVpnStatusMain-card2-content.fwcOrangeBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card2-content.fwcBlueBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card2-content.fwcGreenBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleGreen)}@media (max-width: 64em){.divVpnStatusMain[_ngcontent-%COMP%]{height:100%}}"]})}}return i})();var xr=class{constructor(n){n&&(this.channel=n.channel,this.id=n.id,this.payload=n.payload||{},this.timestamp=n.timestamp)}getValue(){return{id:this.id,channel:this.channel,payload:this.payload,timestamp:this.timestamp}}};var NU=Xs(fd());function cFe(i,n){i&1&&(f(0,"span",8),E(1,"i",9),f(2,"span"),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"LOG_PANEL.PROCESSING")," "))}function dFe(i,n){if(i&1&&(f(0,"h6",5)(1,"span",6),E(2,"i",7),T(3),O(4,"translate"),m(),I(5,cFe,5,3,"span",8),m()),i&2){let e=h();d(3),z(" ",P(4,2,"LOG_PANEL.LOGS_HEADER")," "),d(2),G(e.loadingData?5:-1)}}function uFe(i,n){i&1&&E(0,"br")}function pFe(i,n){if(i&1&&(f(0,"span",11),T(1),O(2,"date"),m()),i&2){let e=h(2).$implicit;d(),z(" [",pi(2,1,e.time,"HH:mm:ss"),"] - ")}}function hFe(i,n){i&1&&(f(0,"span"),T(1," \xA0 "),E(2,"i",13),m())}function fFe(i,n){if(i&1&&(I(0,pFe,3,4,"span",11),f(1,"span"),E(2,"i")(3,"span",12),I(4,hFe,3,0,"span"),m()),i&2){let e=h().$implicit,t=h();G(e.type!==t.LogMessageTypes.MSG_SSH_CMD_OUTPUT?0:-1),d(),te(t.getLogMessageTypeStyles(e.type,e.message).className),d(),te(t.getLogMessageTypeStyles(e.type,e.message).icon),d(),Z("innerHTML",e.message,Fi),d(),G(e.completed?4:-1)}}function mFe(i,n){if(i&1&&I(0,uFe,1,0,"br")(1,fFe,5,9,"span",10),i&2){let e=n.$implicit,t=h();G(e.type===t.LogMessageTypes.MSG_SEPARATOR?0:1)}}function gFe(i,n){if(i&1){let e=k();f(0,"div",14)(1,"button",15),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.downloadLog())}),m()()}if(i&2){let e=h(2);d(),Z("label",P(2,2,"LOG_PANEL.BTN_DOWNLOAD")),p("disabled",e.loadingData)}}function _Fe(i,n){i&1&&I(0,gFe,3,4,"ng-template",4)}var kU="<br />",YT=class{constructor(n){n?(this.messages=n,this.messagesCopy=n.slice(0)):(this.messages=[],this.messagesCopy=[])}addMessage(n){this.messages.push(n),this.messagesCopy.push(n)}resetValue(){this.messages=[],this.messagesCopy=[]}getValue(n){return n===this.messages?this.messagesCopy:this.messages}completeTask(n){let e=this.messages.find(t=>t.task_id&&t.task_id===n);e&&(e.completed=!0),e=this.messagesCopy.find(t=>t.task_id&&t.task_id===n),e&&(e.completed=!0)}};var ob={[nt.MSG_INFO]:{className:"fwcBlue",icon:"fa fa-lg fa-fw fa-info-circle"},[nt.MSG_OK]:{className:"fwcGreen",icon:"fa fa-lg fa-fw fa-check-circle"},[nt.MSG_ERROR]:{className:"fwcRed",icon:"fa fa-lg fa-fw fa-exclamation-circle"},[nt.MSG_SEPARATOR]:{className:"",icon:""},[nt.MSG_WARNING]:{className:"fwcOrange",icon:"fa fa-lg fa-fw fa-info-circle"},[nt.MSG_NOTICE]:{className:"fwcDark",icon:""}},Er=(()=>{class i{constructor(e){this.cd=e,this.height="450px",this.showFooter=!1,this.fwcMessages=[],this.LogMessageTypes=nt,this.isBottomScrolled=!0}ngOnInit(){this.virtualLogMessages=new YT}ngAfterViewInit(){}addNewText(e,t=nt.MSG_NOTICE,o){e&&(e=e.replace(/^<br>/g,""));let r=new xr({payload:{data:{},task_id:void 0,type:t,highlight:o,message:e}});this.addNewMessage(r)}trackById(e,t){return e}addBreakLine(){this.addNewText("",nt.MSG_SEPARATOR)}addNewMessage(e){if(e&&e.payload){let t={time:new Date,type:e.payload.type,task_id:e.payload.task_id,message:e.payload.message,highlight:e.payload.highlight};if(!(t.type===nt.MSG_START||t.type===nt.MSG_HEARTBEAT))if(t.type===nt.MSG_END)this.loadingData=!1;else{if(t.type===nt.MSG_START_TASK)t.subtask=!0;else if(t.type===nt.MSG_END_TASK){this.virtualLogMessages.completeTask(t.task_id),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges();return}let o=[t.message];t.message!==null&&t.message!==void 0&&(t.message=t.message.replace(/(\r\n|\n\r|\r|\n)/g,kU),o=t.message.split(kU),o.length>1&&(o[0]===""&&o.shift(),o.length>1&&o[o.length-1]===""&&o.pop())),o.forEach(r=>{let s=Object.assign({},t);t.highlight?s.message=`<strong>${r}</strong>`:s.message=r,this.virtualLogMessages.addMessage(s)}),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges(),this.scrollToBottom()}}}addNewTaskMessage(e,t,o){this.addNewMessage(new xr({payload:{data:{},task_id:e,type:nt.MSG_START_TASK,highlight:o,message:t}}))}completeTaskMessage(e){this.addNewMessage(new xr({payload:{data:{},task_id:e,type:nt.MSG_END_TASK}}))}setDataLoad(e){this.loadingData=e,e&&this.scrollToBottom()}startDataLoad(){this.loadingData=!0}stopDataLoad(){this.loadingData=!1,this.cd.markForCheck()}clearMessages(){this.fwcMessages=[],this.virtualLogMessages.resetValue(),this.loadingData=!1}getLogMessageTypeStyles(e,t){let o={icon:ob[e]?ob[e].icon:"",className:ob[e]?ob[e].className:""};return new RegExp(/\(\*\) */).test(t)&&(o.className="fwcRulePurple"),(new RegExp("Error").test(t)||new RegExp("ERROR").test(t)||new RegExp("error").test(t))&&(o.className="fwcRed"),(new RegExp("Plugin enabled").test(t)||new RegExp("Plugin habilitado").test(t)||new RegExp("Plugin disabled").test(t)||new RegExp("Plugin deshabilitado").test(t))&&(o.className="fwcGreen"),o}scrollToBottom(){if(!this.cd.destroyed&&(this.cd.detectChanges(),this.fwcMessages&&this.fwcMessages.length>0)){let e=this.vsLog.getBlockableElement().querySelector(".p-scroller");e&&e.scrollHeight>e.clientHeight&&e.scrollTo({top:e.scrollHeight-e.clientHeight})}}downloadLog(){let e="",t="",o=`
`;if(this.fwcMessages){navigator.appVersion.indexOf("Win")!=-1&&(o=`\r
`),this.fwcMessages.forEach(a=>{if(a.type===nt.MSG_SEPARATOR)e+=o;else{let l="",c="";try{l=`${a.time.getFullYear()}/${a.time.getMonth()+1}/${a.time.getDate()} ${a.time.getHours()}:${a.time.getMinutes()}:${a.time.getSeconds()}`,c=a.message.replace(/(<([^>]+)>)/gi,"")}catch{l="N/A"}e+=`${l} - [${a.type.toUpperCase()}] ${c} ${o}`}});let r=new Blob([e],{type:"text/plain;charset=utf-8"});t=`LOG_${new Date().getTime()}.txt`,(0,NU.saveAs)(r,t)}}static{this.\u0275fac=function(t){return new(t||i)(v(pe))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-log"]],viewQuery:function(t,o){if(t&1&&ne(Qv,5),t&2){let r;K(r=q())&&(o.vsLog=r.first)}},inputs:{height:"height",showFooter:"showFooter"},decls:5,vars:5,consts:[["vsLog",""],["styleClass","fwcLog",3,"value","trackBy","scrollHeight","itemSize"],["pTemplate","header"],["pTemplate","item"],["pTemplate","footer"],[1,"fwc-left"],[1,"fwcLog-header"],[1,"fa","fa-lg","fa-list","fwcBlue"],[1,"fwcLog-loading"],[1,"fa","fa-spin","fa-spinner","fwcBlue"],[3,"class"],[1,"fwcLog-date"],[3,"innerHTML"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],[1,"fwc-right"],["type","button","pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","disabled","label"]],template:function(t,o){t&1&&(f(0,"p-virtualScroller",1,0),I(2,dFe,6,4,"ng-template",2)(3,mFe,2,1,"ng-template",3)(4,_Fe,1,0,null,4),m()),t&2&&(p("value",o.fwcMessages)("trackBy",o.trackById)("scrollHeight",o.height)("itemSize",18),d(4),G(o.showFooter?4:-1))},dependencies:[ge,at,Qv,za,ht],styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}div.fwcLog.p-virtualscroller{white-space:nowrap}div.fwcLog.p-virtualscroller .p-virtualscroller-header span.fwcLog-loading{float:right}div.fwcLog.p-virtualscroller .p-virtualscroller-header span.fwcLog-loading span{margin-left:.2rem;font-size:small;color:var(--fwcLightBlue);font-weight:100}div.fwcLog.p-virtualscroller .p-scroller-content{padding:.7em;background-color:var(--fwcGrey6);font-size:.9em;font-family:monospace}div.fwcLog.p-virtualscroller .p-scroller-content li{border:none}div.fwcLog.p-virtualscroller span.fwcLog-date{color:var(--fwcPaleDark)}
`],encapsulation:2,changeDetection:0})}}return i})();var CFe=["pDialog"],IFe=["pfuUpload"],vFe=["fwcLogComponent"],bFe=["fwcMessageComponent"],yFe=()=>({"max-width":"40rem"});function wFe(i,n){if(i&1&&(f(0,"h6",7),E(1,"i",8),T(2),m()),i&2){let e=h();d(2),z(" ",e.options==null?null:e.options.title,"")}}function SFe(i,n){if(i&1&&(f(0,"div"),E(1,"sts-fwc-message",12,2),f(3,"div"),E(4,"sts-fwc-log",13,3),m()()),i&2){let e=h(3);d(),p("message",e.opMessage),d(2),fn("display",e.options.showLogMessages?"block":"none"),d(),p("height","6rem")}}function AFe(i,n){if(i&1&&(f(0,"div",15),E(1,"i",16)(2,"br"),f(3,"p"),T(4),O(5,"translate"),m()()),i&2){let e=h(4);d(),p("ngClass",e.draggedOver?"fwcGreen":""),d(3),H(P(5,2,"PANELS.FILEUPLOAD_PANEL.UPLOAD_PLACEHOLDER"))}}function xFe(i,n){if(i&1){let e=k();f(0,"div",14),R("dragover",function(o){b(e);let r=h(3);return y(r.onDragOver(o))})("dragleave",function(o){b(e);let r=h(3);return y(r.onDragLeave(o))})("drop",function(o){b(e);let r=h(3);return y(r.onDragDrop(o))}),I(1,AFe,6,4,"div",15),m()}if(i&2){h(2);let e=Me(3);d(),G(e.files!=null&&e.files.length?-1:1)}}function EFe(i,n){if(i&1&&I(0,SFe,6,4,"div")(1,xFe,2,1,"div"),i&2){let e=h(2);G(e.loading?0:1)}}function TFe(i,n){if(i&1){let e=k();E(0,"p",9)(1,"br"),f(2,"p-fileUpload",10,1),O(4,"translate"),O(5,"translate"),O(6,"translate"),O(7,"translate"),O(8,"translate"),R("onBeforeUpload",function(){b(e);let o=h();return y(o.onBeforeUpload())})("onUpload",function(o){b(e);let r=h();return y(r.onUploadCompleted(o))})("onError",function(o){b(e);let r=h();return y(r.onUploadError(o))}),I(9,EFe,2,1,"ng-template",11),m()}if(i&2){let e=h();p("innerHTML",e.options.summary,Fi),d(2),p("url",e.options.url)("headers",e.headers)("withCredentials",!0)("accept",e.options.uploadOptions.acceptPattern)("maxFileSize",e.options.uploadOptions.maxFileSize)("chooseLabel",e.options.uploadOptions.buttonChoose)("uploadLabel",e.options.uploadOptions.buttonUpload)("cancelLabel",P(4,13,"GLOBALS.MSG_BUTTONS.CANCEL"))("invalidFileSizeMessageSummary",P(5,15,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",P(6,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",P(7,19,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",P(8,21,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function OFe(i,n){}function RFe(i,n){if(i&1){let e=k();f(0,"button",17),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onCancelHandler())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loading)}}var VU=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u){super(e,t,o,s,u,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.translate=r,this.cd=s,this.fwcEventService=a,this.utilService=l,this.router=c,this.store=u,this.filesToUpload=[],this.alive=!0}ngOnInit(){this.headers=new qo,this.headers=this.headers.set("X-FWC-TIMEOUT","9999999")}ngOnDestroy(){this.alive=!1}waitWSMessages(){return new Promise((t,o)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(yt(()=>this.displayDialog)).subscribe(r=>{let s=new xr(r);s&&s.payload?(s.payload.type===nt.MSG_END?t(s):(s.payload.type,nt.MSG_ERROR,this.resetTimer()),this.options.showLogMessages?this.fwcLogComponent&&this.fwcLogComponent.addNewMessage(s):this.fwcMessageComponent&&this.fwcMessageComponent.changeStatus(s.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":")):this.addLogText(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),nt.MSG_ERROR)}),this.utilService.ioListenOnLogEvent(this.options.channelId)):t(null)})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}showFUDialog(e){if(e){let t=e.uploadTitle?e.uploadTitle:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_HEADER"),o=e.uploadText?e.uploadText:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_TEXT");this.opMessage={horizontal:!!e.showLogMessages,type:"loading",title:t,text:o},this.displayDialog=!0,this.options=e,e.channelId&&this.waitWSMessages()}}addLogText(e,t){this.fwcLogComponent&&this.fwcLogComponent.addNewText(e,t)}hideDialog(){this.displayDialog=!1,this.loading=!1,this.filesToUpload=[],this.pfuUpload&&this.pfuUpload.clear(),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}onCancelHandler(){this.hideDialog()}onBeforeUpload(){this.loading=!0,this.pfuUpload.showUploadButton=!1,this.cd.destroyed||this.cd.detectChanges(),this.pDialog.center()}onUploadCompleted(e){this.loading=!1,this.pfuUpload.showUploadButton=!0,this.pDialog.center(),this.options.onUploadCompleted&&this.options.onUploadCompleted(e)}onUploadError(e){this.loading=!1,this.pfuUpload.showUploadButton=!0,this.pDialog.center(),this.options.onUploadError&&this.options.onUploadError(e)}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.draggedOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.draggedOver=!1}onDragDrop(e){e.preventDefault(),this.draggedOver=!1;let t=e.dataTransfer.files;t.length==1&&(this.filesToUpload=[],this.filesToUpload.push(t.item(0)))}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(je),v(pe),v(_n),v(Ct),v(et),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-fileupload-panel"]],viewQuery:function(t,o){if(t&1&&(ne(CFe,5),ne(IFe,5),ne(vFe,5),ne(bFe,5)),t&2){let r;K(r=q())&&(o.pDialog=r.first),K(r=q())&&(o.pfuUpload=r.first),K(r=q())&&(o.fwcLogComponent=r.first),K(r=q())&&(o.fwcMessageComponent=r.first)}},features:[fe],decls:6,vars:7,consts:[["pDialog",""],["pfuUpload",""],["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog",3,"visible","modal","closable"],["pTemplate","header"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fwcIcons2","fwci2-moveup","fwcOrange"],[3,"innerHTML"],["name","file","fileLimit","1",3,"onBeforeUpload","onUpload","onError","url","headers","withCredentials","accept","maxFileSize","chooseLabel","uploadLabel","cancelLabel","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],["pTemplate","content"],[3,"message"],[3,"height"],[3,"dragover","dragleave","drop"],[1,"divUploadDiv"],[1,"fa","fa-3x","fa-cloud-upload",3,"ngClass"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",4,0),I(2,wFe,3,1,"ng-template",5)(3,TFe,10,23)(4,OFe,0,0)(5,RFe,2,4,"ng-template",6),m()),t&2&&(it(Ie(6,yFe)),p("visible",o.displayDialog)("modal",!0)("closable",!1),d(3),G(o.options?3:4))},dependencies:[Fe,Ht,ge,at,Xv,Er,gn,ht],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divUploadDiv[_ngcontent-%COMP%]{text-align:center}.divUploadDiv[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcMidDark);margin:1rem 0}.divUploadDiv[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--fwcPaleDark)}"]})}}return i})();var rb,DFe=new Uint8Array(16);function XT(){if(!rb&&(rb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rb(DFe)}var mr=[];for(let i=0;i<256;++i)mr.push((i+256).toString(16).slice(1));function BU(i,n=0){return mr[i[n+0]]+mr[i[n+1]]+mr[i[n+2]]+mr[i[n+3]]+"-"+mr[i[n+4]]+mr[i[n+5]]+"-"+mr[i[n+6]]+mr[i[n+7]]+"-"+mr[i[n+8]]+mr[i[n+9]]+"-"+mr[i[n+10]]+mr[i[n+11]]+mr[i[n+12]]+mr[i[n+13]]+mr[i[n+14]]+mr[i[n+15]]}var PFe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QT={randomUUID:PFe};function FFe(i,n,e){if(QT.randomUUID&&!n&&!i)return QT.randomUUID();i=i||{};let t=i.random||(i.rng||XT)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=t[o];return n}return BU(t)}var $o=FFe;var LFe=()=>({width:"30vw"});function MFe(i,n){if(i&1){let e=k();f(0,"div",8)(1,"h6",9),T(2),O(3,"translate"),m()(),f(4,"div",10)(5,"button",11),R("click",function(){b(e);let o=h();return y(o.minimizeDialog())}),m()()}i&2&&(d(2),z(" ",P(3,1,"TFA.HEADER")," "))}function kFe(i,n){if(i&1&&E(0,"img",13),i&2){let e=h(2);p("src",e.dataURL,lr)}}function NFe(i,n){if(i&1){let e=k();f(0,"div",4)(1,"div",12)(2,"h6"),T(3),O(4,"translate"),m(),I(5,kFe,1,1,"img",13),f(6,"p"),T(7),O(8,"translate"),m(),f(9,"p"),T(10),O(11,"translate"),m(),f(12,"form",14,0),R("ngSubmit",function(){b(e);let o=h();return y(o.confirm())}),f(14,"input",15,1),O(16,"translate"),Re("ngModelChange",function(o){b(e);let r=h();return De(r.authCode,o)||(r.authCode=o),y(o)}),m(),E(17,"br")(18,"button",16),O(19,"translate"),m()()()}if(i&2){let e=Me(15),t=h();d(3),H(P(4,9,"TFA.TITLE")),d(2),G(t.dataURL?5:-1),d(2),zr("",P(8,11,"TFA.SECRET_KEY")," - ",t.tempSecret,""),d(3),H(P(11,13,"TFA.AUTH_TYPE")),d(4),Z("placeholder",P(16,15,"TFA.AUTH_CODE")),Oe("ngModel",t.authCode),d(4),Z("label",P(19,17,"TFA.AUTH_ENABLE")),p("disabled",e==null||e.errors==null?null:e.errors.required)}}function VFe(i,n){if(i&1){let e=k();f(0,"div",4)(1,"div",12)(2,"h6"),T(3),O(4,"translate"),m(),E(5,"img",13),f(6,"p"),T(7),O(8,"translate"),m(),f(9,"p"),T(10),O(11,"translate"),m(),f(12,"button",17),O(13,"translate"),R("click",function(){b(e);let o=h();return y(o.disable())}),m()()()}if(i&2){let e=h();d(3),H(P(4,6,"TFA.CURRENT")),d(2),p("src",e.dataURL,lr),d(2),zr("",P(8,8,"TFA.SECRET_KEY")," - ",e.secret||e.tempSecret,""),d(3),H(P(11,10,"TFA.AUTH_TYPE")),d(2),Z("label",P(13,12,"TFA.AUTH_DISABLE"))}}function BFe(i,n){if(i&1){let e=k();f(0,"button",18),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.close())}),m()}i&2&&Z("label",P(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var UU=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_){super(e,t,o,l,c,u),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.messageService=r,this.fwcUserService=s,this.utilService=a,this.cd=l,this.store=c,this.router=u,this.confirmationService=g,this.translate=_,this.darkMode=!1,this.authCode="",this.authErrorMsg=[],this.closeChange=new Ae}ngOnInit(){this.authErrorMsg=[]}ngOnDestroy(){}show(e){this.secret=e.secret,this.tempSecret=e.tempSecret,this.dataURL=e.dataURL,this.tfaURL=this.tfaURL,this.showDialog()}confirm(){this.authErrorMsg=[];let e={authCode:this.authCode,secret:this.secret,tempSecret:this.tempSecret,dataURL:this.dataURL,tfaURL:this.tfaURL};this.utilService.fwcAPICall(this.fwcUserService.verifyAuth.bind(this.fwcUserService),e).then(t=>{t&&t.data?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.SUCCESS")}),this.closeChange.next(!0),this.close()):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")}))}).catch(t=>{t.status===401?(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")})):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR")}))})}disable(){this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")}),this.closeChange.next(!1),this.close()})}ngAfterViewInit(){}onChange(){return this.closeChange.asObservable()}close(){this.closeChange.next(!1),this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(Kt),v(ot),v(Ct),v(pe),v(Ke),v(et),v(Wt),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-user-2FA-component"]],features:[fe],decls:7,vars:11,consts:[["otpForm","ngForm"],["iauthcode","ngModel"],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12","noVertPad"],[3,"valueChange","value","closable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"col-12",2,"align-items","center"],["alt","",1,"img-thumbnail",2,"display","block","margin","auto",3,"src"],[1,"form-group",3,"ngSubmit"],["name","authcode","type","text","maxlength","6","id","authcode","autocomplete","off","required","",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","Submit","pButton","",1,"p-button-success",3,"disabled","label"],["pButton","",1,"p-button-danger",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",2),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onHide",function(){return o.close()}),I(1,MFe,6,3,"ng-template",3)(2,NFe,20,19,"div",4)(3,VFe,14,14,"div",4),f(4,"div",5)(5,"p-messages",6),Re("valueChange",function(s){return De(o.authErrorMsg,s)||(o.authErrorMsg=s),s}),m()(),I(6,BFe,2,3,"ng-template",7),m()),t&2&&(it(Ie(10,LFe)),Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(2),G(o.secret?-1:2),d(),G(o.secret?3:-1),d(2),Oe("value",o.authErrorMsg),p("closable",!1))},dependencies:[Gn,Wi,Gi,Hn,kf,Ao,wn,_S,Ht,ge,at,av,ht]})}}return i})();var UFe=()=>({width:"50vw"});function jFe(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"GLOBALS.ERRORS.COMMUNICATION")," "))}function HFe(i,n){if(i&1){let e=k();f(0,"button",10),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onClose())}),m()}i&2&&Z("label",P(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var ZT=15,Ss=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u){super(o,t,e,l,c,u),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.utilService=r,this.fwcUserService=s,this.fwcEventService=a,this.cd=l,this.store=c,this.router=u,this.seconds=ZT,this.attemps=1,this.socketEventEmitter=new W}checkConnection(){return new Promise(e=>{if(this.utilService.ioGetSocketConnected())return this.onConnected(),e();this.showDialog(),this.interval=setInterval(()=>{if(this.seconds>0)this.seconds--;else if(this.attemps++,this.seconds=ZT*this.attemps,this.utilService.ioGetSocketConnected())return this.onConnected(),e()},1e3)})}onConnected(){this.hideDialog(),this.socketEventEmitter.emit("connected")}WsReconect(){this.seconds=ZT*this.attemps,this.utilService.ioGetSocketConnected()&&this.onConnected()}onClose(){this.socketEventEmitter.emit("disconnected"),this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(Ct),v(ot),v(_n),v(pe),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-ws-connection-panel"]],outputs:{socketEventEmitter:"socketEventEmitter"},features:[Ge([de]),fe],decls:17,vars:19,consts:[["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","visible","closable","resizable"],["pTemplate","header"],[1,"col-12"],[1,"fa","fa-exclamation-circle","fwcRed","iconBig"],[1,"fwc-centered"],["pButton","",1,"p-button-success",3,"click","label"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange","fa-wifi-slash"],["type","button","pButton","","icon","fa fa-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),I(1,jFe,5,3,"ng-template",1),f(2,"div",2)(3,"p"),E(4,"i",3),T(5),O(6,"translate"),m()(),f(7,"div",4)(8,"p"),T(9),O(10,"translate"),O(11,"translate"),m()(),T(12," \xA0 "),f(13,"div",4)(14,"button",5),O(15,"translate"),R("click",function(){return o.WsReconect()}),m()(),I(16,HFe,2,3,"ng-template",6),m()),t&2&&(it(Ie(18,UFe)),Oe("visible",o.displayDialog),p("closable",!1)("resizable",!0),d(5),z("\xA0\xA0",P(6,10,"WEBSOCKET_ERROR.DESCRIPTION"),""),d(4),ip("",P(10,12,"WEBSOCKET_ERROR.TRY_AGAIN")," ",o.seconds," ",P(11,14,"WEBSOCKET_ERROR.SECONDS"),""),d(5),Z("label",P(15,16,"WEBSOCKET_ERROR.TRY_NOW")))},dependencies:[Ht,ge,at,ht],encapsulation:2})}}return i})();var sb=(()=>{class i{transform(e,t="asc",o=""){return!e||!t||e.length<=1?e:!o||o===""?t==="asc"?e.sort():e.sort().reverse():ix(e,[o],[t])}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"fwcSortBy",type:i,pure:!0})}}return i})();var GFe=["inputCustomerId"],zFe=["inputUserName"],WFe=["inputResetPass"],$Fe=["dlgConfigDialog"],KFe=["ddCustomers"],qFe=()=>({width:"3.5rem",height:"3.5rem",marginBottom:"1rem"}),rl=i=>({visibility:i}),eO=()=>({width:"1.7rem",height:"1.7rem"}),YFe=()=>({width:"auto"});function JFe(i,n){if(i&1){let e=k();f(0,"button",45),R("click",function(){b(e);let o=h(2);return y(o.showHelp())}),m()}if(i&2){let e=h(2);p("disabled",e.loadingData)}}function XFe(i,n){if(i&1&&(f(0,"div",40)(1,"h6",41),E(2,"i",42),T(3),O(4,"translate"),m()(),f(5,"div",43),I(6,JFe,1,1,"button",44),m()),i&2){let e=h();d(3),z(" ",P(4,2,"CONFIG_PANEL.HEADER")," "),d(3),G(e.helpSection?6:-1)}}function QFe(i,n){if(i&1){let e=k();f(0,"button",69),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onDeleteCustomer())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"CONFIG_PANEL.CUSTOMER.BUTTONS.DELETE")),p("disabled",e.loadingData)}}function ZFe(i,n){if(i&1){let e=k();E(0,"span",67),f(1,"button",70),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCancelCustomerEdit())}),m()}if(i&2){let e=h(2);d(),Z("label",P(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",e.loadingData)}}function eLe(i,n){if(i&1){let e=k();f(0,"form",46),R("keyup.enter",function(o){b(e);let r=h();return y(r.checkCustomerForm(o))})("keyup.esc",function(){b(e);let o=h();return y(o.onCancelCustomerEdit())}),f(1,"fieldset",47)(2,"div",9)(3,"div",48)(4,"h5",14),T(5),O(6,"translate"),m()(),f(7,"div",49)(8,"div",28)(9,"label",50),T(10),O(11,"translate"),m(),E(12,"input",51,2),m(),f(14,"p",52),T(15),O(16,"translate"),m()(),f(17,"div",53)(18,"div",28)(19,"label",54),T(20),O(21,"translate"),m(),E(22,"input",55),m(),f(23,"p",52),T(24),O(25,"translate"),m()(),f(26,"div",56)(27,"div",28)(28,"label",57),T(29),O(30,"translate"),m(),E(31,"input",58),m(),f(32,"p",52),T(33),O(34,"translate"),m()(),f(35,"div",56)(36,"div",28)(37,"label",59),T(38),O(39,"translate"),m(),E(40,"input",60),m(),f(41,"p",52),T(42),O(43,"translate"),m()(),f(44,"div",49)(45,"div",28)(46,"label",61),T(47),O(48,"translate"),m(),E(49,"input",62),m(),E(50,"p"),m(),f(51,"div",53)(52,"div",28)(53,"label",63),T(54),O(55,"translate"),m(),E(56,"textarea",64),m()(),f(57,"div",10)(58,"div",65),E(59,"p-progressSpinner"),m(),f(60,"button",66),O(61,"translate"),R("click",function(){b(e);let o=h();return y(o.onSaveCustomer())}),m(),E(62,"span",67),I(63,QFe,2,4,"button",68)(64,ZFe,3,4),m()()()()}if(i&2){let e=h();p("formGroup",e.formModelCustomer),d(),p("disabled",e.loadingData),d(4),z(" ",P(6,27,"CONFIG_PANEL.CUSTOMER.DATA")," "),d(5),H(P(11,29,"CONFIG_PANEL.CUSTOMER.FIELDS.ID")),d(2),M("readonly",e.selectedCustomer),d(2),p("ngStyle",J(51,rl,e.formModelCustomer.get("id").valid||e.formModelCustomer.get("id").pristine?"hidden":"visible")),d(),z(" ",P(16,31,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_ID")," "),d(5),H(P(21,33,"CONFIG_PANEL.CUSTOMER.FIELDS.NAME")),d(3),p("ngStyle",J(53,rl,e.formModelCustomer.get("name").valid||e.formModelCustomer.get("name").pristine?"hidden":"visible")),d(),z(" ",P(25,35,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_NAME")," "),d(5),H(P(30,37,"CONFIG_PANEL.CUSTOMER.FIELDS.EMAIL")),d(3),p("ngStyle",J(55,rl,e.formModelCustomer.get("email").valid||e.formModelCustomer.get("email").pristine?"hidden":"visible")),d(),z(" ",P(34,39,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_EMAIL")," "),d(5),H(P(39,41,"CONFIG_PANEL.CUSTOMER.FIELDS.WEB")),d(3),p("ngStyle",J(57,rl,e.formModelCustomer.get("web").valid||e.formModelCustomer.get("web").pristine?"hidden":"visible")),d(),z(" ",P(43,43,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_WEB")," "),d(5),H(P(48,45,"CONFIG_PANEL.CUSTOMER.FIELDS.TEL")),d(7),H(P(55,47,"CONFIG_PANEL.CUSTOMER.FIELDS.ADDRESS")),d(2),p("rows",3)("cols",30),d(2),p("ngStyle",J(59,rl,e.loadingData?"visible":"hidden")),d(),it(Ie(61,eO)),d(),Z("label",P(61,49,"CONFIG_PANEL.CUSTOMER.BUTTONS.SAVE")),p("disabled",e.formModelCustomer.pristine||!e.formModelCustomer.valid||e.loadingData),d(3),G(e.selectedCustomer?63:-1),d(),G(e.formModelCustomer!=null&&e.formModelCustomer.dirty||!e.selectedCustomer?64:-1)}}function tLe(i,n){if(i&1&&(E(0,"input",77),O(1,"translate"),O(2,"translate"),O(3,"translate"),O(4,"translate")),i&2){let e=h(2);p("showPassword",e.displayUserPassword)("promptLabel",P(1,5,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",P(2,7,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",P(3,9,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",P(4,11,"GLOBALS.MSG_PASSWORD.SAFE"))}}function iLe(i,n){if(i&1){let e=k();f(0,"button",80),R("mousedown",function(){b(e);let o=h(2);return y(o.displayUserPassword=!0)})("mouseup",function(){b(e);let o=h(2);return y(o.displayUserPassword=!1)})("mouseout",function(){b(e);let o=h(2);return y(o.displayUserPassword=!1)}),m()}if(i&2){let e=h(2);p("disabled",e.loadingData)}}function nLe(i,n){if(i&1){let e=k();f(0,"button",81),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.allowPasswordReset())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"CONFIG_PANEL.USER.BUTTONS.RESET")),p("disabled",e.loadingData)}}function oLe(i,n){if(i&1&&(re(0),f(1,"div",88),E(2,"img",89),f(3,"span"),T(4),m()(),se()),i&2){let e=n.$implicit;d(4),H(e.name)}}function rLe(i,n){if(i&1&&(re(0),I(1,oLe,5,1,"ng-container",87),se()),i&2){let e=h().$implicit,t=h(3);d(),p("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function sLe(i,n){i&1&&(f(0,"label",90)(1,"span"),T(2),O(3,"translate"),m()()),i&2&&(d(2),H(P(3,1,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")))}function aLe(i,n){if(i&1&&I(0,rLe,2,2,"ng-container",86)(1,sLe,4,3,"ng-template",null,4,bt),i&2){let e=n.$implicit,t=Me(2);p("ngIf",(e==null?null:e.length)>0)("ngIfElse",t)}}function lLe(i,n){if(i&1&&(E(0,"img",91),f(1,"div",92),T(2),m()),i&2){let e=n.$implicit;d(2),z(" ",e.name," ")}}function cLe(i,n){if(i&1){let e=k();f(0,"div",10)(1,"div",28)(2,"label",82),T(3),O(4,"translate"),m(),f(5,"p-multiSelect",83),O(6,"translate"),Re("ngModelChange",function(o){b(e);let r=h(2);return De(r.selectedFwclouds,o)||(r.selectedFwclouds=o),y(o)}),R("onChange",function(){b(e);let o=h(2);return y(o.selectedFwcloudsChanged=!0)}),I(7,aLe,3,2,"ng-template",84)(8,lLe,3,1,"ng-template",85),m()()()}if(i&2){let e=h(2);d(3),H(P(4,6,"CONFIG_PANEL.USER.FIELDS.FWCLOUDS")),d(2),it(Ie(10,YFe)),Z("defaultLabel",P(6,8,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")),p("options",e.fwclouds),Oe("ngModel",e.selectedFwclouds)}}function dLe(i,n){if(i&1){let e=k();f(0,"button",69),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onDeleteUser())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"CONFIG_PANEL.USER.BUTTONS.DELETE")),p("disabled",e.loadingData)}}function uLe(i,n){if(i&1){let e=k();E(0,"span",67),f(1,"button",70),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCancelUserEdit())}),m()}if(i&2){let e=h(2);d(),Z("label",P(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",e.loadingData)}}function pLe(i,n){if(i&1){let e=k();f(0,"form",46),R("keyup.enter",function(o){b(e);let r=h();return y(r.checkUserForm(o))})("keyup.esc",function(){b(e);let o=h();return y(o.onCancelUserEdit())}),f(1,"fieldset",47)(2,"div",9)(3,"div",48)(4,"h5",14),T(5),O(6,"translate"),m()(),f(7,"div",56)(8,"div",28)(9,"label",54),T(10),O(11,"translate"),m(),E(12,"input",55,3),m(),f(14,"p",52),T(15),O(16,"translate"),m()(),f(17,"div",71)(18,"div",28)(19,"label"),T(20),O(21,"translate"),m()()(),f(22,"div",21),E(23,"p-dropdown",72),m(),f(24,"div",56)(25,"div",28)(26,"label",73),T(27),O(28,"translate"),m(),E(29,"input",74),m(),f(30,"p",52),T(31),O(32,"translate"),m()(),f(33,"div",56)(34,"div",75)(35,"label",76),T(36),O(37,"translate"),m(),I(38,tLe,5,13,"input",77)(39,iLe,1,1,"button",78)(40,nLe,2,4,"button",79),m()()()()(),I(41,cLe,9,11,"div",10),f(42,"div",10)(43,"div",65),E(44,"p-progressSpinner"),m(),f(45,"button",66),O(46,"translate"),R("click",function(){b(e);let o=h();return y(o.onSaveUser())}),m(),E(47,"span",67),I(48,dLe,2,4,"button",68)(49,uLe,3,4),m()}if(i&2){let e=h();p("formGroup",e.formModelUser),d(),p("disabled",e.loadingData),d(4),z(" ",P(6,23,"CONFIG_PANEL.USER.DATA")," "),d(5),H(P(11,25,"CONFIG_PANEL.USER.FIELDS.NAME")),d(4),p("ngStyle",J(39,rl,e.formModelUser.get("name").valid||e.formModelUser.get("name").pristine?"hidden":"visible")),d(),z(" ",P(16,27,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_NAME")," "),d(5),H(P(21,29,"CONFIG_PANEL.USER.FIELDS.ROLE")),d(3),p("options",e.userRoles),d(4),H(P(28,31,"CONFIG_PANEL.USER.FIELDS.USERNAME")),d(3),p("ngStyle",J(41,rl,e.formModelUser.get("username").valid||e.formModelUser.get("username").pristine?"hidden":"visible")),d(),z(" ",P(32,33,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_USERNAME")," "),d(5),H(P(37,35,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),d(2),G(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?38:-1),d(),G(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?39:-1),d(),G(e.formModelUser!=null&&e.formModelUser.controls.password.disabled?40:-1),d(),G(e.fwclouds&&e.fwclouds.length&&(e.formModelUser==null?null:e.formModelUser.controls.role.value)==e.UserRoles.ROLE_MANAGER?41:-1),d(2),p("ngStyle",J(43,rl,e.loadingData?"visible":"hidden")),d(),it(Ie(45,eO)),d(),Z("label",P(46,37,"CONFIG_PANEL.USER.BUTTONS.SAVE")),p("disabled",e.formModelUser.pristine&&!e.selectedFwcloudsChanged||!e.formModelUser.valid||e.loadingData),d(3),G(e.selectedUser?48:-1),d(),G(e.formModelUser&&(e.formModelUser!=null&&e.formModelUser.dirty||!e.selectedUser)||e.selectedFwcloudsChanged?49:-1)}}function hLe(i,n){if(i&1&&(f(0,"div"),E(1,"sts-fwc-message",93),m()),i&2){let e=h();d(),p("message",e.errorMessage)}}function fLe(i,n){if(i&1){let e=k();f(0,"button",66),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onResetPassword())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"CONFIG_PANEL.USER.BUTTONS.RESET_PASS")),p("disabled",e.loadingData||e.formModelResetPassword.invalid)}}function mLe(i,n){if(i&1){let e=k();E(0,"span",67),f(1,"button",70),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCancelResetPassword())}),m()}if(i&2){let e=h(2);d(),Z("label",P(2,2,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",e.loadingData)}}function gLe(i,n){if(i&1){let e=k();f(0,"p-tabPanel",23),O(1,"translate"),f(2,"div",9)(3,"div",13)(4,"h5",14),T(5),O(6,"translate"),m()(),f(7,"div",56)(8,"div",28)(9,"label",82),T(10),O(11,"translate"),m(),E(12,"input",94),m()(),f(13,"div",56)(14,"form",95),R("keyup.enter",function(o){b(e);let r=h();return y(r.checkUserPasswordForm(o))}),f(15,"fieldset",47)(16,"div",28)(17,"label",96),T(18),O(19,"translate"),m(),E(20,"input",97,5),O(22,"translate"),O(23,"translate"),O(24,"translate"),O(25,"translate"),f(26,"button",98),R("mousedown",function(){b(e);let o=h();return y(o.displayUserPassword=!0)})("mouseup",function(){b(e);let o=h();return y(o.displayUserPassword=!1)})("mouseout",function(){b(e);let o=h();return y(o.displayUserPassword=!1)}),m()()()()(),f(27,"div",10)(28,"div",65),E(29,"p-progressSpinner"),m(),I(30,fLe,2,4,"button",99)(31,mLe,3,4),m()()()}if(i&2){let e=h();Z("header",P(1,19,"CONFIG_PANEL.PASSWORD_RESET.HEADER")),p("selected",(e.loggedUser==null?null:e.loggedUser.role)==e.UserRoles.ROLE_MANAGER)("disabled",e.loadingData),d(5),z(" ",P(6,21,"CONFIG_PANEL.PASSWORD_RESET.TITLE")," "),d(5),H(P(11,23,"CONFIG_PANEL.USER.FIELDS.USERNAME")),d(2),p("value",e.loggedUser.username),d(2),p("formGroup",e.formModelResetPassword),d(),p("disabled",e.loadingData),d(3),H(P(19,25,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),d(2),p("showPassword",e.displayUserPassword)("promptLabel",P(22,27,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",P(23,29,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",P(24,31,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",P(25,33,"GLOBALS.MSG_PASSWORD.SAFE")),d(8),p("ngStyle",J(35,rl,e.loadingData?"visible":"hidden")),d(),it(Ie(37,eO)),d(),G(e.loggedUser?30:-1),d(),G(e.formModelResetPassword&&(e.formModelResetPassword!=null&&e.formModelResetPassword.dirty)?31:-1)}}function _Le(i,n){i&1&&(f(0,"div",104)(1,"label"),T(2),O(3,"translate"),m(),E(4,"p-calendar",119),m()),i&2&&(d(2),z("",P(3,2,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.1")," "),d(2),p("timeOnly",!0))}function CLe(i,n){i&1&&E(0,"input",120)}function ILe(i,n){i&1&&E(0,"input",121)}function vLe(i,n){if(i&1){let e=k();f(0,"div",15)(1,"label"),T(2),O(3,"translate"),m(),I(4,CLe,1,0,"input",120)(5,ILe,1,0,"input",121),f(6,"p-dropdown",122),R("onChange",function(){b(e);let o=h(3);return y(o.onChangeBackupTimeOptions())}),m()()}if(i&2){let e=h(3);d(2),z("",P(3,4,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.1")," \xA0"),d(2),G((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==60?4:-1),d(),G((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==1?5:-1),d(),p("options",e.backupTimeOptions)}}function bLe(i,n){i&1&&(f(0,"colgroup"),E(1,"col")(2,"col")(3,"col")(4,"col"),m()),i&2&&(d(),fn("width","12rem"),d(),fn("width","8rem"),d(),fn("width","8rem"))}function yLe(i,n){i&1&&(f(0,"tr")(1,"th"),T(2),O(3,"translate"),m(),f(4,"th"),T(5),O(6,"translate"),m(),f(7,"th"),T(8),O(9,"translate"),m(),f(10,"th"),T(11),O(12,"translate"),m()()),i&2&&(d(2),z(" ",P(3,4,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.0")," "),d(3),z(" ",P(6,6,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.1")," "),d(3),z(" ",P(9,8,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.3")," "),d(3),z(" ",P(12,10,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.4")," "))}function wLe(i,n){i&1&&(f(0,"span"),E(1,"i",132),m())}function SLe(i,n){if(i&1&&(f(0,"tr",131)(1,"td"),T(2),O(3,"date"),m(),f(4,"td"),T(5),m(),f(6,"td",38),I(7,wLe,2,0,"span"),m(),f(8,"td"),T(9),m()()),i&2){let e=n.$implicit;p("pSelectableRow",e),d(2),z(" ",pi(3,5,e.date,"dd/MM/yyyy HH:mm:ss")," "),d(3),z(" ",e.version," "),d(2),G(e.imported?7:-1),d(2),z(" ",e.comment," ")}}function ALe(i,n){if(i&1){let e=k();f(0,"div",104)(1,"p-table",123),O(2,"fwcSortBy"),Re("selectionChange",function(o){b(e);let r=h(3);return De(r.selectedBackup,o)||(r.selectedBackup=o),y(o)}),I(3,bLe,5,6,"ng-template",124)(4,yLe,13,12,"ng-template",8)(5,SLe,10,8,"ng-template",125),m(),f(6,"div",9)(7,"div",49)(8,"button",126),O(9,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onImportBackup())}),m()(),f(10,"div",127)(11,"button",128),O(12,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onRestoreOrDeleteBackup(!0))}),m(),f(13,"button",129),O(14,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onRestoreOrDeleteBackup())}),m(),f(15,"button",130),O(16,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onExportBackup())}),m()()()()}if(i&2){let e=h(3);d(),p("value",da(2,11,e.backups,"desc","date")),Oe("selection",e.selectedBackup),p("scrollable",!0),d(7),Z("label",P(9,15,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.IMPORT_BACKUP")),p("disabled",e.loadingData),d(3),Z("label",P(12,17,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.DELETE_BACKUP")),p("disabled",!e.selectedBackup||e.loadingData),d(2),Z("label",P(14,19,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_BACKUP")),p("disabled",!e.selectedBackup||e.loadingData),d(2),Z("label",P(16,21,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.EXPORT_BACKUP")),p("disabled",!e.selectedBackup||e.loadingData)}}function xLe(i,n){if(i&1&&(f(0,"div",118),E(1,"sts-fwc-message",93),m()),i&2){let e=h(3);d(),p("message",e.backupErrorMessage)}}function ELe(i,n){if(i&1){let e=k();f(0,"p-tabView",101),R("onChange",function(o){b(e);let r=h(2);return y(r.onBackupTabChange(o))}),f(1,"p-tabPanel",102),O(2,"translate"),f(3,"form",19)(4,"fieldset",103)(5,"div",104)(6,"h5",14),T(7),O(8,"translate"),m()(),f(9,"div",105)(10,"button",106),O(11,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onDoBackup())}),m()(),f(12,"div",104)(13,"h5",14),T(14),O(15,"translate"),m()(),f(16,"div",107)(17,"label"),T(18),O(19,"translate"),m(),E(20,"p-selectButton",108),T(21," \xA0 "),f(22,"p",52),T(23),O(24,"translate"),m()(),f(25,"div",104),E(26,"p-radioButton",109),O(27,"translate"),m(),I(28,_Le,5,4,"div",104),f(29,"div",104),E(30,"p-radioButton",109),O(31,"translate"),m(),I(32,vLe,7,6,"div",15),f(33,"div",104)(34,"h6",82),T(35),O(36,"translate"),m()(),f(37,"div",110)(38,"p-checkbox",111),O(39,"translate"),R("onChange",function(){b(e);let o=h(2);return y(o.onChangeBackupOptions())}),m()(),f(40,"div",112),E(41,"input",113),m(),f(42,"div",110)(43,"p-checkbox",114),O(44,"translate"),R("onChange",function(){b(e);let o=h(2);return y(o.onChangeBackupOptions())}),m()(),f(45,"div",112),E(46,"input",115),m(),f(47,"div",116)(48,"button",66),O(49,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onSaveBackupOptions())}),m()()()()(),f(50,"p-tabPanel",117),O(51,"translate"),f(52,"form",19)(53,"fieldset",103)(54,"div",10)(55,"h5",14),T(56),O(57,"translate"),m()(),I(58,ALe,17,23,"div",104)(59,xLe,2,1,"div",118),m()()()()}if(i&2){let e=h(2);d(),Z("header",P(2,34,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.HEADER")),p("disabled",e.loadingData),d(2),p("formGroup",e.formModelBackupOptions),d(),p("disabled",e.loadingData),d(3),z(" ",P(8,36,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_INST")," "),d(3),Z("label",P(11,38,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.BTN_BACKUP")),p("disabled",e.loadingData),d(4),z(" ",P(15,40,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN")," "),d(4),z("",P(19,42,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_DAYS")," \xA0\xA0"),d(2),p("options",e.backupDays),d(2),p("ngStyle",J(62,rl,e.formModelBackupOptions.get("backupDays").valid||e.formModelBackupOptions.get("backupDays").pristine?"hidden":"visible")),d(),z(" ",P(24,44,"CONFIG_PANEL.BACKUP_RESTORE.ERRORS.FIELD_DAYS")," "),d(3),Z("value",e.EnumBackupOptions.BACKUP_FIXED_TIME),Z("label",P(27,46,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.0")),d(2),G((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_FIXED_TIME?28:-1),d(2),Z("value",e.EnumBackupOptions.BACKUP_INTERVAL_TIME),Z("label",P(31,48,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.0")),d(2),G((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_INTERVAL_TIME?32:-1),d(3),z(" ",P(36,50,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN_OPTIONS")," "),d(3),Z("value",e.EnumBackupOptions.BACKUP_MAX_COPIES),Z("label",P(39,52,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.0")),p("formControl",e.formModelBackupOptions.controls.backupOptions),d(5),Z("value",e.EnumBackupOptions.BACKUP_MAX_DAYS),Z("label",P(44,54,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.1")),p("formControl",e.formModelBackupOptions.controls.backupOptions),d(5),Z("label",P(49,56,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModelBackupOptions.valid||e.formModelBackupOptions.pristine||e.loadingData),d(2),Z("header",P(51,58,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.HEADER")),p("disabled",e.loadingData),d(2),p("formGroup",e.formModelBackupOptions),d(),p("disabled",e.loadingData),d(3),z(" ",P(57,60,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TITLE")," "),d(2),G(e.backups!=null&&e.backups.length?58:-1),d(),G(e.backups!=null&&e.backups.length?-1:59)}}function TLe(i,n){if(i&1&&(f(0,"p-tabPanel",31),O(1,"translate"),I(2,ELe,60,64,"p-tabView",100),m()),i&2){let e=h();Z("header",P(1,4,"CONFIG_PANEL.BACKUP_RESTORE.HEADER")),p("disabled",!(e.formModelBackupOptions&&!e.loadingData))("selected",(e.loggedUser==null?null:e.loggedUser.role)==e.UserRoles.ROLE_MANAGER),d(2),G(e.formModelBackupOptions?2:-1)}}function OLe(i,n){if(i&1){let e=k();f(0,"p-tabPanel",32),O(1,"translate"),f(2,"form",19)(3,"fieldset",133)(4,"div",10)(5,"div",25)(6,"h5",14),T(7),O(8,"translate"),m()(),f(9,"div",134)(10,"button",135),O(11,"translate"),R("click",function(){b(e);let o=h();return y(o.doHistoric())}),m()()(),f(12,"div",10)(13,"div",136)(14,"label"),T(15),O(16,"translate"),m(),T(17,"\xA0 "),E(18,"input",137),T(19,"\xA0 "),f(20,"select",138,6)(22,"option",139),T(23),O(24,"translate"),m(),f(25,"option",140),T(26),O(27,"translate"),m(),f(28,"option",141),T(29),O(30,"translate"),m()()(),f(31,"div",136)(32,"label"),T(33),O(34,"translate"),m(),T(35,"\xA0 "),E(36,"input",142),T(37,"\xA0 "),f(38,"select",143,6)(40,"option",139),T(41),O(42,"translate"),m(),f(43,"option",140),T(44),O(45,"translate"),m(),f(46,"option",141),T(47),O(48,"translate"),m()()(),f(49,"div",144)(50,"button",66),O(51,"translate"),R("click",function(){b(e);let o=h();return y(o.onSaveHistoricOptions())}),m()()()()()()}if(i&2){let e=h();Z("header",P(1,17,"OPENVPN_HISTORIC.HEADER")),p("disabled",e.loadingData),d(2),p("formGroup",e.formModelHistoric),d(),p("disabled",e.loadingData),d(4),H(P(8,19,"OPENVPN_HISTORIC.HEADER")),d(3),Z("label",P(11,21,"OPENVPN_HISTORIC.BUTTON")),p("disabled",e.loadingData),d(5),H(P(16,23,"OPENVPN_HISTORIC.DATA_BASE")),d(8),z(" ",P(24,25,"VPN.PANEL.DAY_OPTS.0"),""),d(3),z(" ",P(27,27,"VPN.PANEL.DAY_OPTS.2"),""),d(3),z(" ",P(30,29,"VPN.PANEL.DAY_OPTS.1"),""),d(4),H(P(34,31,"OPENVPN_HISTORIC.DISK")),d(8),z(" ",P(42,33,"VPN.PANEL.DAY_OPTS.0"),""),d(3),z(" ",P(45,35,"VPN.PANEL.DAY_OPTS.2"),""),d(3),z(" ",P(48,37,"VPN.PANEL.DAY_OPTS.1"),""),d(3),Z("label",P(51,39,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",e.loadingData||e.formModelHistoric.pristine)}}function RLe(i,n){if(i&1){let e=k();f(0,"button",145),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onCancel())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}function DLe(i,n){i&1&&(E(0,"i",146),T(1),O(2,"translate")),i&2&&(d(),z(" ",P(2,1,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER")," "))}var DTt=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D,V,X,ee,ae){super(o,t,e,s,X,a),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.translate=r,this.cd=s,this.router=a,this.messageService=l,this.fwcCustomerService=c,this.fwcEventService=u,this.fwcCloudService=g,this.fwcUserService=_,this.fwcBackupService=C,this.utilService=w,this.confirmationService=S,this.fwcErrorPipe=A,this.fwcApiService=x,this.fwcAuthService=D,this.inputDataService=V,this.store=X,this.fwcVpnService=ee,this._document=ae,this.UserRoles=eu,this.EnumBackupOptions=Gs,this.darkMode=!1,this.themeOptions=[{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.LIGHT_THEME"),icon:"pi pi-sun fwcOrange"},{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.DARK_THEME"),icon:"pi pi-moon fwcDarkBlue"}],this.TFAOptions=[{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_ENABLED"),icon:"fa fa-user-shield fwcOrange"},{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_DISABLED"),icon:"fa fa-user-minus fwcBlue"}],this.helpSection="/configuration",this.translate.get("CONFIG_PANEL.TITLE").subscribe(me=>{this.createDialog(me,"fwci-config")}),this.backupDays=[],this.translate.get("GLOBALS.DAYS_OF_WEEK").subscribe(me=>{Object.values(me).forEach((Ce,be)=>{let tt;be==6?tt=0:tt=be+1,this.backupDays.push({label:Ce,value:tt})})}),this.backupTimeOptions=[],this.translate.get("GLOBALS.HOUR_MINUTES").subscribe(me=>{this.backupTimeOptions.push({label:me[0],value:60}),this.backupTimeOptions.push({label:me[1],value:1})}),_.getAuth().subscribe(me=>{me.data.enabled&&me.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})}ngOnInit(){this.store.pipe(Sn(Zr),yt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"}),this.userRoles=[{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.0"),value:eu.ROLE_ADMINISTRATOR},{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.1"),value:eu.ROLE_MANAGER}],this.createHistoricForm()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){}updateAndShow(){return he(this,null,function*(){this.resetProperties(),yield this.getLoggedUser().then(e=>{this.loggedUser=e.data,this.createResetPasswordForm(),this.formModelResetPassword=new Ho({resetpassword:new _e("",[Ne.required,Ne.pattern(ri.passwordRegexp)])})}).catch(e=>{if(e&&e.error&&e.error.fwcErr==1008){this.loggedUser=e.data;let t=this.fwcUserService.getActualFwcUser();this.loggedUser.name="",this.loggedUser.customer=t.customer_id,this.loggedUser.id=t.user_id,this.loggedUser.username=t.user_name,this.loggedUser.enabled=1,this.loggedUser.role=eu.ROLE_MANAGER,this.createResetPasswordForm(),this.activeMenuOption=2,this.cd.detectChanges()}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("CONFIG_PANEL.USER.ERRORS.GET_USER_ERROR"),detail:this.fwcErrorPipe.transform(e)}),this.loggedUser=null}),this.loggedUser&&this.loggedUser.role==eu.ROLE_ADMINISTRATOR&&(yield Promise.all([this.getCustomers(),this.getClouds(),this.getBackups(),this.getBackupConfig()]).then(s=>he(this,[s],function*([e,t,o,r]){Array.isArray(t.data)?this.fwclouds=t.data:this.fwclouds=null,e&&Array.isArray(e.data)&&(this.customers=e.data,this.selectedCustomer=this.customers[0],yield this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,yield this.loadUsers(this.selectedUserCustomer)),this.backups=[],Array.isArray(o.data)&&o.data.length?this.backups=o.data:this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")},this.createBackupOptionsForm(r.data)})).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.formModelCustomer=null,this.formModelBackupOptions=null,this.fwclouds=null})),this.store.dispatch(di.requestUnblockUI()),this.recenterDialog(),this.showDialog()})}resetProperties(){this.customers=this.customer=null,this.users=this.user=null,this.selectedCustomer=this.selectedUser=this.selectedUserCustomer=null,this.selectedFwcloudsChanged=!1,this.activeMenuOption=0,this.errorMessage=null,this.backupErrorMessage=null}getCustomers(){return new Promise((e,t)=>{this.fwcCustomerService.getCustomers().subscribe({next:o=>{e(o)},error:o=>{t(o)},complete:()=>{}})})}getClouds(){return new Promise((e,t)=>{this.fwcCloudService.getClouds().subscribe({next:o=>{e(o)},error:o=>{t(o)},complete:()=>{}})})}trackByFn(e,t){return t.id}getUserClouds(e){return new Promise((t,o)=>{this.fwcUserService.getUserClouds(e).subscribe({next:r=>{r.data&&r.data.length?(this.selectedFwclouds=r.data,this.userFwclouds=this.selectedFwclouds.slice(0)):(this.selectedFwclouds=[],this.userFwclouds=[]),this.selectedFwcloudsChanged=!1,t(r)},error:r=>{o(r)}})})}getLoggedUser(){return he(this,null,function*(){try{let e=this.fwcUserService.getActualFwcUser(),t={customer:e.customer_id,user:e.user_id};return yield qb(this.fwcUserService.getUser(t))}catch(e){throw e}})}getBackups(){return new Promise((e,t)=>{let o={next:r=>{e(r)},error:r=>{t(r)},complete:()=>{}};this.fwcBackupService.getBackups().subscribe(o)})}getBackupConfig(){return new Promise((e,t)=>{let o={next:r=>{e(r)},error:r=>{t(r)},complete:()=>{}};this.fwcBackupService.getBackupConfig().subscribe(o)})}onChangeOption(e){e&&e.index==2&&this.inputResetPass&&setTimeout(()=>{this.inputResetPass.nativeElement.focus()},100),this.recenterDialog()}createCustomerForm(e){let t=Math.max(...this.customers.map(o=>o.id),0);this.formModelCustomer=new Ho({id:new _e(e?e.id:t+1,Ne.required),name:new _e(e?e.name:"",[Ne.required,Ne.maxLength(255)]),email:new _e(e?e.email:"",[Ne.email,Ne.maxLength(255)]),web:new _e(e?e.web:"",[Ne.pattern(ri.webAddressRegexp),Ne.maxLength(255)]),phone:new _e(e?e.phone:""),addr:new _e(e?e.addr:"",[Ne.maxLength(255)])})}loadCustomer(e){return new Promise((t,o)=>{let r={customer:e?e.id:-1};this.loadingData=!0;let s={next:a=>{this.createCustomerForm(a.data),this.customer=Object.assign({},a.data),this.loadingData=!1,t(a)},error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.formModelCustomer=null,this.loadingData=!1,o(a)},complete:()=>{}};this.fwcCustomerService.getCustomer(r).subscribe(s)})}onChangeCustomer(e){e&&e.value&&this.loadCustomer(e.value)}onNewCustomer(){this.createCustomerForm(),this.selectedCustomer=null,this.inputCustomerId.nativeElement.focus()}onDeleteCustomer(){if(!this.selectedCustomer)return;let e={customer:this.selectedCustomer.id},t={next:o=>{},error:o=>{o.error&&o.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.HAS_USERS",{name:this.selectedCustomer.name}),accept:()=>{}})},complete:()=>{}};this.fwcCustomerService.checkCustomerRestrictions(e).subscribe(t),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.CUSTOMER.CONFIRM_DELETE",{name:this.selectedCustomer.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcCustomerService.deleteCustomer.bind(this.fwcCustomerService),e).then(()=>{let o=this.customers.slice(0),r=o.findIndex(s=>s.id==this.selectedCustomer.id);o.splice(r,1),this.customers=o,this.selectedCustomer=this.customers[0],this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,this.loadUsers(this.selectedUserCustomer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.DELETE")})}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(o)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onSaveCustomer(){let e,t,o;o=Object.assign({},this.customer);let r={};for(let s in this.formModelCustomer.controls)r[s]=this.formModelCustomer.controls[s].value!==null&&this.formModelCustomer.controls[s].value!==void 0?this.formModelCustomer.controls[s].value:void 0,o[s]=r[s];this.selectedCustomer?(e=this.fwcCustomerService.updateCustomer.bind(this.fwcCustomerService),t=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.UPDATE")):(e=this.fwcCustomerService.newCustomer.bind(this.fwcCustomerService),t=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.NEW")),r.customer=+r.id,delete r.id,this.loadingData=!0,e&&this.utilService.fwcAPICall(e,r).then(s=>{this.customer=o;let a=[];if(this.customers&&(a=this.customers.slice(0)),this.selectedCustomer){let l=a.findIndex(c=>c.id==o.id);l!=-1&&(a[l]=o,this.customers=a)}else{let l={id:o.id,name:o.name};a.push(l),this.customers=a,this.selectedCustomer=l}this.formModelCustomer.reset(this.customer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t}),this.loadingData=!1}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(s)})}),this.loadingData=!1})}onCancelCustomerEdit(){if(!this.selectedCustomer&&this.customer){let e=this.customers.findIndex(t=>t.id==this.customer.id);e!=-1&&(this.selectedCustomer=this.customers[e])}this.createCustomerForm(this.customer)}checkCustomerForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelCustomer.valid&&(e.target.blur(),this.onSaveCustomer())}createUserForm(e,t){!e&&t?this.formModelUser=null:(this.formModelUser=new Ho({customer:new _e(e?e.customer:this.selectedUserCustomer.id,Ne.required),id:new _e(e?e.id:void 0),name:new _e(e?e.name:"",[Ne.required,Ne.maxLength(254)]),username:new _e(e?e.username:"",[Ne.required,Ne.maxLength(32)]),role:new _e(e?e.role:2,Ne.required),password:new _e(e?e.password:"",[Ne.required,Ne.pattern(ri.passwordRegexp)]),enabled:new _e(1)}),e&&this.formModelUser.controls.password.disable())}loadUsers(e){return new Promise((t,o)=>{this.user=null;let r={customer:e?e.id:-1};this.loadingData=!0;let s={next:a=>he(this,null,function*(){a&&Array.isArray(a.data)&&(this.users=a.data,this.users.length?(this.selectedUser=this.users[0],yield this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null,this.errorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.0"),text:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.1")}),t(a)),this.loadingData=!1}),error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(a)})},this.formModelUser=null,this.loadingData=!1,o(a)},complete:()=>{}};this.fwcUserService.getUser(r).subscribe(s)})}loadUser(e){return new Promise((t,o)=>{let r={customer:e?e.customer:-1,user:e?e.id:-1};this.loadingData=!0;let s={next:a=>he(this,null,function*(){this.createUserForm(a.data),this.user=a.data,yield this.getUserClouds(this.user.id),this.loadingData=!1,t(a)}),error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(a)})},this.formModelUser=null,this.loadingData=!1,o(a)},complete:()=>{}};this.fwcUserService.getUser(r).subscribe(s)})}allowPasswordReset(){this.formModelUser&&(this.formModelUser.controls.password.setValue(""),this.formModelUser.controls.password.enable(),this.cd.detectChanges())}onChangeUserCustomer(e){e&&e.value&&this.loadUsers(e.value)}onChangeUser(e){e&&e.value&&this.loadUser(e.value)}onNewUser(){this.selectedUser=null,this.fallbackUser=Object.assign({},this.user),Array.isArray(this.userFwclouds)&&(this.fallbackUserFwclouds=this.userFwclouds.slice(0)),this.user=null,this.selectedFwclouds=[],this.userFwclouds=[],this.createUserForm(),this.allowPasswordReset(),setTimeout(()=>{this.inputUserName.nativeElement.focus()},100)}onDeleteUser(){if(!this.selectedUser)return;let e={customer:this.selectedUser.customer,user:this.selectedUser.id},t={next:o=>{},error:o=>{o.error&&o.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.USER.ERRORS.LAST_ADMIN",{name:this.selectedUser.name}),accept:()=>{}})},complete:()=>{this.askForUserDeletion(e)}};this.fwcUserService.checkUserRestrictions(e).subscribe(t)}askForUserDeletion(e){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.USER.CONFIRM_DELETE",{name:this.selectedUser.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcUserService.deleteUser.bind(this.fwcUserService),e).then(()=>{let t=this.users.slice(0),o=t.findIndex(r=>r.id===this.selectedUser.id);t.splice(o,1),this.users=t,this.users.length?(this.selectedUser=this.users[0],this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.DELETE")})}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(t)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onCancelUserEdit(){this.fallbackUser&&(this.user=this.fallbackUser,this.selectedUser=this.user,this.formModelUser.controls.password.disable()),this.createUserForm(this.user,!0),this.fallbackUserFwclouds?(this.userFwclouds=this.fallbackUserFwclouds.slice(0),this.selectedFwclouds=this.fallbackUserFwclouds.slice(0)):Array.isArray(this.userFwclouds)&&(this.selectedFwclouds=this.userFwclouds.slice(0)),this.selectedFwcloudsChanged=!1}onSaveUser(){let e,t,o;o=Object.assign({},this.user);let r={};for(let s in this.formModelUser.controls)r[s]=this.formModelUser.controls[s].value!==null&&this.formModelUser.controls[s].value!==void 0?this.formModelUser.controls[s].value:void 0,o[s]=r[s];r.id?(e=this.fwcUserService.updateUser.bind(this.fwcUserService),r.user=+r.id,delete r.id,t=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.UPDATE")):(e=this.fwcUserService.newUser.bind(this.fwcUserService),t=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.NEW")),this.loadingData=!0,e&&this.utilService.fwcAPICall(e,r).then(s=>he(this,null,function*(){s.data&&s.data.user&&(o.id=s.data.user),this.user=o;let a=[];if(this.users&&(a=this.users.slice(0)),!this.selectedUser)a.push(this.user),this.users=a,this.selectedUser=this.user;else{let l=a.findIndex(c=>c.id==o.id);l!=-1&&(a[l]=o,this.users=a)}this.formModelUser.reset(this.user),yield this.saveUserClouds(this.user.id).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t}),this.loadingData=!1}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(l)})}),this.loadingData=!1})})).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(s)})}),this.loadingData=!1})}onResetPassword(){let e=this.formModelResetPassword.get("resetpassword").value;e.match(ri.passwordRegexp)&&(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcUserService.updateUserPassword.bind(this.fwcUserService),e).then(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.RESET_PASS")}),this.formModelResetPassword.reset(),this.loadingData=!1}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.PASS_RESET_ERROR",{error:this.fwcErrorPipe.transform(t)})}),this.loadingData=!1}))}createResetPasswordForm(){this.formModelResetPassword=new Ho({resetpassword:new _e("",[Ne.required,Ne.pattern(ri.passwordRegexp)])})}onCancelResetPassword(){this.formModelResetPassword.reset()}saveUserClouds(e){return he(this,null,function*(){return new Promise((o,r)=>he(this,null,function*(){let s=[],a=[];if(this.userFwclouds&&this.userFwclouds.length){let l;for(let c=0;c<this.userFwclouds.length;c++){let u=this.userFwclouds[c];l=!0,this.selectedFwclouds.find(g=>g.id==u.id)&&(l=!1),l&&a.push(u)}}if(this.selectedFwclouds&&this.selectedFwclouds.length){let l;for(let c=0;c<this.selectedFwclouds.length;c++){let u=this.selectedFwclouds[c];l=!0,this.userFwclouds.find(g=>g.id==u.id)&&(l=!1),l&&s.push(u)}}for(let l=0;l<a.length;l++){let c=a[l];yield this.manageUserCloud(c,e,!1).catch(u=>r(u))}for(let l=0;l<s.length;l++){let c=s[l];yield this.manageUserCloud(c,e,!0).catch(u=>r(u))}this.selectedFwclouds&&(this.userFwclouds=this.selectedFwclouds.slice(0)),this.selectedFwcloudsChanged=!1,o(!0)}))})}manageUserCloud(e,t,o){return new Promise((s,a)=>{let l;o?l=this.fwcUserService.addUserCloud.bind(this.fwcUserService):l=this.fwcUserService.removeUserCloud.bind(this.fwcUserService),this.utilService.fwcAPICall(l,t,e.id).then(c=>{s(c)}).catch(c=>{a(c)})})}checkUserForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelUser.valid&&(e.target.blur(),this.onSaveUser())}checkUserPasswordForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModelResetPassword.valid&&(e.target.blur(),this.onResetPassword())}createBackupOptionsForm(e){if(e){let t=e.schedule,o=e.max_copies,r=e.max_days,s=this.convertCronToOptions(t),a=[];o&&a.push(Gs.BACKUP_MAX_COPIES),r&&a.push(Gs.BACKUP_MAX_DAYS),s?this.formModelBackupOptions=new Ho({backupType:new _e(s.backupType),backupOptions:new _e(a),backupDays:new _e(s.backupDays,Ne.required),backupHour:new _e(s.backupHour),backupTimeOption:new _e(s.backupTimeOption),backupEachHourOrMinutes:new _e(s.backupEachHourOrMinutes,Ne.min(1)),backupMaxCopies:new _e({value:o,disabled:!o}),backupMaxDays:new _e({value:r,disabled:!r})}):this.formModelBackupOptions=null}}onChangeBackupOptions(){let e=this.formModelBackupOptions.get("backupOptions").value;e&&e.some(t=>t==Gs.BACKUP_MAX_COPIES)?this.formModelBackupOptions.get("backupMaxCopies").enable():(this.formModelBackupOptions.get("backupMaxCopies").disable(),this.formModelBackupOptions.get("backupMaxCopies").setValue(0)),e&&e.some(t=>t==Gs.BACKUP_MAX_DAYS)?this.formModelBackupOptions.get("backupMaxDays").enable():(this.formModelBackupOptions.get("backupMaxDays").disable(),this.formModelBackupOptions.get("backupMaxDays").setValue(0))}onChangeBackupTimeOptions(){let e=this.formModelBackupOptions.get("backupTimeOption").value,t=this.formModelBackupOptions.get("backupEachHourOrMinutes");e==60?(t.value>23&&t.setValue(23),t.setValidators([Ne.min(1),Ne.max(23)])):e==1&&(t.value>59&&t.setValue(59),t.setValidators([Ne.min(1),Ne.max(59)]))}convertOptionsToCron(){let e=["0","*","*","*","*","*"];switch(this.formModelBackupOptions.get("backupType").value){case Gs.BACKUP_FIXED_TIME:let o=this.formModelBackupOptions.get("backupHour").value;o&&(e[1]=o.getMinutes().toString(),e[2]=o.getHours().toString());break;case Gs.BACKUP_INTERVAL_TIME:let r=this.formModelBackupOptions.get("backupTimeOption").value,s=this.formModelBackupOptions.get("backupEachHourOrMinutes").value;r==60?(e[1]="0",e[2]=s?"*/"+s.toString():"*"):r==1&&(e[1]=s?"*/"+s.toString():"*",e[2]="*");break}let t=this.formModelBackupOptions.get("backupDays").value;return t&&t.length<7&&(t.sort((o,r)=>o-r),e[5]=t.join(",")),e.join(" ")}convertCronToOptions(e){let t={};if(e){let o=e.split(" ");if(o.length==6){let r,s,a=o[1],l=o[2],c=o[5];if(r=a.match(/^\*\/(\d+)$/),s=l.match(/^\*\/(\d+)$/),t.backupTimeOption=60,a!==void 0&&l!==void 0&&a.match(/^\d+$/)&&l.match(/^\d+$/))t.backupHour=new Date,t.backupHour.setHours(+l),t.backupHour.setMinutes(+a),t.backupType=Gs.BACKUP_FIXED_TIME;else if(r&&l==="*")t.backupEachHourOrMinutes=r[1],t.backupType=Gs.BACKUP_INTERVAL_TIME,t.backupTimeOption=1;else if(s&&a==="0")t.backupEachHourOrMinutes=s[1],t.backupType=Gs.BACKUP_INTERVAL_TIME,t.backupTimeOption=60;else return;c=="*"?t.backupDays=[0,1,2,3,4,5,6]:t.backupDays=c.split(",").map(u=>+u)}else return}return t}onSaveBackupOptions(){let e=this.formModelBackupOptions.get("backupMaxCopies").value,t=this.formModelBackupOptions.get("backupMaxDays").value,o={schedule:this.convertOptionsToCron(),max_copies:e|0,max_days:t|0};this.loadingData=!0,this.formModelBackupOptions.disable(),this.utilService.fwcAPICall(this.fwcBackupService.saveBackupConfig.bind(this.fwcBackupService),o).then(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.SAVE_CONFIG")}),this.formModelBackupOptions.markAsPristine(),this.loadingData=!1,this.formModelBackupOptions.enable()}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.SAVE_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()})}onDoBackup(){let e={header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HEADER"),helpText:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HELPTEXT"),formControls:[{name:"backupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text",required:!0}],onAccept:t=>{if(t){this.loadingData=!0,this.formModelBackupOptions.disable();let o=$o(),r={comment:t.backupComment},s={channelId:o,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.0"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.1"),apiCall:this.fwcBackupService.doBackup.bind(this.fwcBackupService),apiParams:[o,r],onClose:c=>{c&&!c.error?this.getBackups().then(u=>{this.selectedBackup=null,Array.isArray(u.data)&&u.data.length&&(this.backups=u.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DO_BACKUP")})}).catch(u=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.BACKUP_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()}},a=this.utilService.createDynamicComponentRef(Ss),l=a.instance;l.setDynamicComponentRef(a),this.communicationSubscription=l.socketEventEmitter.subscribe(c=>{c=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:s}),this.communicationSubscription.unsubscribe()}),l.checkConnection()}}};this.inputDataService.setInputData(e)}onImportBackup(){let e={title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_HEADER"),summary:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_TEXT"),url:`${de.settings.fwcAppURL}/backups/import`,onUploadCompleted:this.onUploadCompleted.bind(this),onUploadError:this.onUploadError.bind(this),uploadOptions:{acceptPattern:".zip",maxFileSize:1024e5,buttonChoose:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.CHOOSE_FILE"),buttonUpload:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_FILE")}},t=this.utilService.createDynamicComponentRef(VU),o=t.instance;o.setDynamicComponentRef(t),o.showFUDialog(e)}onUploadCompleted(e){this.getBackups().then(t=>{this.selectedBackup=null,Array.isArray(t.data)&&t.data.length&&(this.backups=t.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.SUCCESS")})}).catch(t=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}})}onUploadError(e){this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.SUMMARY"),message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.DETAIL"),accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}onExportBackup(){if(this.selectedBackup){let e={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TITLE"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TEXT"),apiCall:this.fwcBackupService.exportBackup.bind(this.fwcBackupService),apiParams:[this.selectedBackup.id],onClose:t=>{}};this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:e})}}onRestoreOrDeleteBackup(e){if(this.selectedBackup){let t,o,r;e?(t=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_DELETE",{date:new Date(this.selectedBackup.date).toLocaleString()}),o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DELETE_BACKUP"),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.DELETE_ERROR")):(t=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_RESTORE",{date:new Date(this.selectedBackup.date).toLocaleString()}),o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.RESTORE_BACKUP"),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.RESTORE_ERROR")),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:t,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{if(this.loadingData=!0,e)this.utilService.fwcAPICall(this.fwcBackupService.deleteBackup.bind(this.fwcBackupService),this.selectedBackup.id).then(s=>{this.backups=this.backups.filter(a=>a.id!=this.selectedBackup.id),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.backups.length||(this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")}),this.loadingData=!1},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:r}),this.loadingData=!1});else{let s=$o(),a={channelId:s,headerIcon:"fa fa-3x fa-undo fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT"),apiCall:this.fwcBackupService.restoreBackup.bind(this.fwcBackupService),apiParams:[s,this.selectedBackup.id],onClose:u=>{u&&!u.error?(this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.confirmationService.confirm({header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.0"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.1"),accept:()=>{this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:r}),this.loadingData=!1}},l=this.utilService.createDynamicComponentRef(Ss),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(u=>{u=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:a}),this.communicationSubscription.unsubscribe()}),c.checkConnection()}}})}}onBackupTabChange(e){e.index===1&&(this.loadingData=!0,this.getBackups().then(t=>{this.selectedBackup=null,Array.isArray(t.data)&&t.data.length&&(this.backups=t.data),this.loadingData=!1}).catch(t=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")},this.loadingData=!1})),this.recenterDialog()}changeTheme(){this.darkMode?this.store.dispatch(di.setTheme({theme:"dark"})):this.store.dispatch(di.setTheme({theme:"light"}))}change2FA(){this.TFAMode?this.fwcUserService.getAuth().subscribe(e=>{let t=this.utilService.createDynamicComponentRef(UU),o=t.instance;o.setDynamicComponentRef(t),e.data.enabled?o.show(e.data.tfa):this.utilService.fwcAPICall(this.fwcUserService.setupAuth.bind(this.fwcUserService),this.loggedUser).then(r=>{this.fwcUserService.getAuth().subscribe(s=>{o.show(s.data.tfa)})}),o.onChange().pipe(yt(()=>this.alive)).subscribe(()=>{this.fwcUserService.getAuth().subscribe(r=>{r.data.enabled&&r.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})})}):(this.fwcUserService.getAuth().subscribe(e=>{this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{e.data.enabled&&e.data.tfa.secret&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")})})}),this.TFAMode=!1)}createHistoricForm(){let e,t,o,r;this.formModelHistoric=new Ho({archive_days:new _e(0),retention_days:new _e(0),archive_interval:new _e("day"),retention_interval:new _e("day")}),this.fwcVpnService.getHistoricConfig().subscribe(s=>{e=s.data.archive_days,t=s.data.retention_days,e%365==0?(e=e/365,o="year"):e%31==0?(e=e/31,o="month"):o="day",t%365==0?(t=t/365,r="year"):t%31==0?(t=t/31,r="month"):r="day",this.formModelHistoric.controls.archive_days.setValue(e),this.formModelHistoric.controls.retention_days.setValue(t),this.formModelHistoric.controls.retention_interval.setValue(r),this.formModelHistoric.controls.archive_interval.setValue(o)})}doHistoric(){this.loadingData=!0,this.formModelHistoric.disable();let e=$o();this.onSaveHistoricOptions().then(t=>he(this,null,function*(){if(t||this.formModelHistoric.pristine){let o={channelId:e,headerIcon:"fa fa-3x fa fa-book-bookmark fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.0"),textMessage:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.1"),apiCall:this.fwcVpnService.doHistoric.bind(this.fwcVpnService),apiParams:[e],onClose:a=>{this.loadingData=!1,a&&!a.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.DO_ARCHIVER")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.ARCHIVER_LOCK_ERROR")}),this.formModelHistoric.enable()}},r=this.utilService.createDynamicComponentRef(Ss),s=r.instance;s.setDynamicComponentRef(r),this.communicationSubscription=s.socketEventEmitter.subscribe(a=>{a=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:o}),this.communicationSubscription.unsubscribe()}),s.checkConnection()}else this.loadingData=!1,this.formModelHistoric.enable()})),this.loadingData=!1}onSaveHistoricOptions(){if(!this.formModelHistoric.pristine){let e=this.formModelHistoric.get("archive_days").value,t=this.formModelHistoric.get("retention_days").value,o=this.formModelHistoric.get("archive_interval").value,r=this.formModelHistoric.get("retention_interval").value;switch(o){case"month":e=e*31;break;case"year":e=e*365;break}switch(r){case"month":t=t*31;break;case"year":t=t*365;break}if(t<e)return this.confirmationService.confirm({header:this.translate.instant("OPENVPN_HISTORIC.HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",message:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.DAYS_ERRORS"),rejectVisible:!1,accept:()=>{}}),new Promise(s=>s(null));{this.loadingData=!0;let s={archive_days:e,retention_days:t},a=this.utilService.fwcAPICall(this.fwcVpnService.saveHistoricConfig.bind(this.fwcVpnService),s);return a.then(l=>{this.loadingData=!1,this.formModelHistoric.enable(),this.formModelHistoric.markAsPristine(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.SAVE_CONFIG")})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1,this.formModelHistoric.enable()}),a}}return new Promise(e=>e(null))}onCancel(){this.hideDialog()}onShowDialog(){}onHideDialog(){this.eventsSubscription&&this.eventsSubscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(je),v(pe),v(et),v(Kt),v(TI),v(_n),v(Xr),v(ot),v(ZC),v(Ct),v(Wt),v(xi),v(Ii),v(Jr),v(ir),v(Ke),v(Sr),v(ct))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,o){if(t&1&&(ne(GFe,5),ne(zFe,5),ne(WFe,5),ne($Fe,5),ne(KFe,5)),t&2){let r;K(r=q())&&(o.inputCustomerId=r.first),K(r=q())&&(o.inputUserName=r.first),K(r=q())&&(o.inputResetPass=r.first),K(r=q())&&(o.dlgConfigDialog=r.first),K(r=q())&&(o.ddCustomers=r.first)}},features:[Ge([TI,Xr,ZC]),fe],decls:88,vars:99,consts:[["dlgConfigDialog",""],["ddCustomers",""],["inputCustomerId",""],["inputUserName",""],["placeholderTemplate",""],["inputResetPass",""],["ifSelect",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["orientation","left","styleClass","tabTabbedMenu",1,"first-tabview",3,"onChange","activeIndex"],["leftIcon","fa fa-building",3,"disabled","selected","header"],[1,"col-12","grid","grid-nogutter"],[1,"fwcBlue","botBorder"],[1,"col-10"],["styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id","filter","true",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],[1,"col-2"],["pButton","","type","button","icon","fa fa-plus",1,"p-button-success","fwcButtonHeight",3,"click","disabled","label"],[3,"formGroup"],["leftIcon","fa fa-users",3,"disabled","header"],[1,"col-5"],["styleClass","dropDownForm p-dropdown--config","appendTo","body","filter","true","optionLabel","name","dataKey","id",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],["leftIcon","fa fa-key",3,"selected","disabled","header"],["leftIcon","fa fa-user-shield fwcOrange",3,"disabled","header"],[1,"grid","grid","grid-nogutter"],[1,"fwcBlue","borBorder"],[1,"col-12",2,"padding",".5rem"],[1,"p-inputgroup"],["for","sel2FA",1,"fwcBlue"],["id","sel2FA",3,"ngModelChange","onChange","options","ngModel"],["leftIcon","fa fa-vault fwcOrange",3,"disabled","selected","header"],["leftIcon","fa fa-book-bookmark fwcOrange",3,"disabled","header"],["leftIcon","fa fa-desktop",3,"disabled","header"],["for","selTheme",1,"fwcBlue"],["id","selTheme",3,"ngModelChange","onChange","options","ngModel"],["pTemplate","footer"],[3,"modal","closeOnEscape","closable","visible"],[1,"fwc-centered"],[2,"font-size","smaller"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-config","fwcOrange"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-question",1,"p-button-primary",3,"disabled"],["pButton","","type","button","icon","fa fa-question",1,"p-button-primary",3,"click","disabled"],[3,"keyup.enter","keyup.esc","formGroup"],[3,"disabled"],[1,"col-12","grid","grid-nogutter",2,"padding-top","0.5rem"],[1,"col-4"],["for","id"],["pInputText","","type","number","formControlName","id","name","id"],[1,"fwc-error",3,"ngStyle"],[1,"col-8"],["for","name"],["pInputText","","type","text","formControlName","name","name","name","maxlength","255"],[1,"col-6"],["for","email"],["pInputText","","type","text","formControlName","email","name","email","maxlength","255"],["for","web"],["pInputText","","type","text","formControlName","web","name","web","maxlength","255"],["for","phone"],["pInputText","","type","text","formControlName","phone","name","phone","maxlength","25"],["for","addr"],["pInputTextarea","","formControlName","addr","name","addr","maxlength","255",3,"rows","cols"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"click","disabled","label"],[1,"fwcSepShort"],["type","button","pButton","","icon","fwci-delete",1,"p-button-danger",3,"disabled","label"],["type","button","pButton","","icon","fwci-delete",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fwci-delete",1,"p-button-warning",3,"click","disabled","label"],[1,"col-1"],["formControlName","role","styleClass","dropDownForm p-dropdown--config",3,"options"],["for","username"],["pInputText","","type","text","formControlName","username","name","username","maxlength","32"],[1,"p-inputgroup",2,"min-height","2.4375rem"],["for","password"],["pPassword","","formControlName","password","name","password","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"disabled"],["pButton","","type","button","icon","fa fa-edit",1,"p-button-warning",3,"disabled","label"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout","disabled"],["pButton","","type","button","icon","fa fa-edit",1,"p-button-warning",3,"click","disabled","label"],[1,"fwcBlue"],["appendTo","body","styleClass","fwcMsClouds","dataKey","id","optionLabel","name",3,"ngModelChange","onChange","options","ngModel","defaultLabel"],["pTemplate","selectedItems"],["pTemplate","item"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fwcMsClouds-selItem"],["src","assets/img/cloud.png"],[1,"fwcDark"],["src","assets/img/cloud.png",2,"width","1.5rem","display","inline-block","vertical-align","middle"],[2,"display","inline-block","margin-left","5px"],[3,"message"],["pInputText","","type","text","readonly","",3,"value"],[3,"keyup.enter","formGroup"],["for","resetpassword"],["pPassword","","formControlName","resetpassword","name","resetpassword","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"disabled","label"],[1,"second-tabview"],[1,"second-tabview",3,"onChange"],["leftIcon","fa fa-vault",3,"disabled","header"],[2,"display","inline-block !important","width","100% !important",3,"disabled"],[1,"col-12",2,"padding",".3rem"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center","padding",".3rem"],["type","button","pButton","","icon","fa fa-vault",1,"p-button-success",3,"click","disabled","label"],[1,"col-12",2,"padding","0","display","flex"],["formControlName","backupDays","multiple","multiple",3,"options"],["name","backupType","formControlName","backupType",3,"value","label"],[1,"col-6",2,"display","flex","float","left"],["name","backupOptionsMC",3,"onChange","value","formControl","label"],[1,"col-6",2,"display","flex","float","right"],["pInputText","","type","number","formControlName","backupMaxCopies","min","0","pKeyFilter","int",1,"fwcInputInline--small"],["name","backupOptionsMD",3,"onChange","value","formControl","label"],["pInputText","","type","number","formControlName","backupMaxDays","min","0","pKeyFilter","int",1,"fwcInputInline--small"],[1,"col-12","fwc-right",2,"float","right"],["leftIcon","fa fa-undo",3,"disabled","header"],[1,"col-12","grid","grid-nogutter",2,"padding",".3rem"],["formControlName","backupHour",3,"timeOnly"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","23","pKeyFilter","int",1,"fwcInputInline--small"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","59","pKeyFilter","int",1,"fwcInputInline--small"],["styleClass","dropDownInline","formControlName","backupTimeOption",3,"onChange","options"],["selectionMode","single","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],["type","button","pButton","","icon","fa fa-upload",1,"p-button-primary",3,"click","disabled","label"],[1,"col-8","divButtons"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-undo",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-download",1,"p-button-primary",3,"click","disabled","label"],[3,"pSelectableRow"],[1,"fa","fa-fw","fa-lg","fa-check-square","fwcGreen"],[2,"display","inline-block !important","height","100% !important","width","100% !important",3,"disabled"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center"],["type","button","pButton","","icon","fa fa-book-bookmark",1,"p-button-success",3,"click","disabled","label"],[1,"col-12","grid","grid-nogutter",2,"align-items","center","flex-wrap","nowrap"],["pInputText","","type","number","formControlName","archive_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","archive_interval","name","interval",2,"width","30%","margin","0"],["value","day"],["value","month"],["value","year"],["pInputText","","type","number","formControlName","retention_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","retention_interval","name","interval",2,"width","30%","margin","0"],[1,"col-12","fwc-right"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"],[1,"fa","fa-lg","fa-undo"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",7,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(o.onShowDialog())})("onHide",function(){return b(r),y(o.onHideDialog())}),I(2,XFe,7,4,"ng-template",8),f(3,"div",9)(4,"div",10)(5,"p-tabView",11),R("onChange",function(a){return b(r),y(o.onChangeOption(a))}),f(6,"p-tabPanel",12),O(7,"translate"),f(8,"div",9)(9,"div",13)(10,"h5",14),T(11),O(12,"translate"),m()(),f(13,"div",15)(14,"p-dropdown",16,1),O(16,"translate"),Re("ngModelChange",function(a){return b(r),De(o.selectedCustomer,a)||(o.selectedCustomer=a),y(a)}),R("onChange",function(a){return b(r),y(o.onChangeCustomer(a))}),m()(),f(17,"div",17)(18,"button",18),O(19,"translate"),R("click",function(){return b(r),y(o.onNewCustomer())}),m()()(),I(20,eLe,65,62,"form",19),m(),f(21,"p-tabPanel",20),O(22,"translate"),f(23,"div",9)(24,"div",13)(25,"h5",14),T(26),O(27,"translate"),m()(),f(28,"div",21)(29,"p-dropdown",22),O(30,"translate"),Re("ngModelChange",function(a){return b(r),De(o.selectedUserCustomer,a)||(o.selectedUserCustomer=a),y(a)}),R("onChange",function(a){return b(r),y(o.onChangeUserCustomer(a))}),m()(),f(31,"div",21)(32,"p-dropdown",22),O(33,"translate"),Re("ngModelChange",function(a){return b(r),De(o.selectedUser,a)||(o.selectedUser=a),y(a)}),R("onChange",function(a){return b(r),y(o.onChangeUser(a))}),m()(),f(34,"div",17)(35,"button",18),O(36,"translate"),R("click",function(){return b(r),y(o.onNewUser())}),m()()(),I(37,pLe,50,46)(38,hLe,2,1,"div"),m(),I(39,gLe,32,38,"p-tabPanel",23),f(40,"p-tabPanel",24),O(41,"translate"),f(42,"div",9)(43,"div",25)(44,"h5",26),T(45),O(46,"translate"),m(),f(47,"div",27)(48,"p"),T(49),O(50,"translate"),m()(),f(51,"div",28)(52,"label",29),T(53),O(54,"translate"),m(),f(55,"p-selectButton",30),Re("ngModelChange",function(a){return b(r),De(o.TFAMode,a)||(o.TFAMode=a),y(a)}),R("onChange",function(){return b(r),y(o.change2FA())}),m()()()()(),I(56,TLe,3,6,"p-tabPanel",31)(57,OLe,52,41,"p-tabPanel",32),f(58,"p-tabPanel",33),O(59,"translate"),f(60,"div",9)(61,"div",13)(62,"h5",14),T(63),O(64,"translate"),m()(),f(65,"div",10)(66,"div",28)(67,"label",34),T(68),O(69,"translate"),m(),f(70,"p-selectButton",35),Re("ngModelChange",function(a){return b(r),De(o.darkMode,a)||(o.darkMode=a),y(a)}),R("onChange",function(){return b(r),y(o.changeTheme())}),m()()()()()()()(),I(71,RLe,2,4,"ng-template",36),m(),f(72,"p-dialog",37),I(73,DLe,3,3,"ng-template",8),f(74,"div",38),E(75,"p-progressSpinner"),f(76,"p"),T(77),O(78,"translate"),f(79,"strong"),T(80),O(81,"date"),m(),T(82,". "),m(),f(83,"p")(84,"small",39),T(85),O(86,"translate"),m()(),E(87,"br"),m()()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(5),p("activeIndex",o.activeMenuOption),d(),Z("header",P(7,59,"CONFIG_PANEL.CUSTOMER.CUSTOMERS")),p("disabled",!(o.customers&&!o.loadingData))("selected",(o.loggedUser==null?null:o.loggedUser.role)!=o.UserRoles.ROLE_MANAGER),d(5),z(" ",P(12,61,"CONFIG_PANEL.CUSTOMER.SEL")," "),d(3),Z("emptyFilterMessage",P(16,63,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")),p("options",o.customers),Oe("ngModel",o.selectedCustomer),p("disabled",o.loadingData)("autoDisplayFirst",!1),d(4),Z("label",P(19,65,"CONFIG_PANEL.CUSTOMER.NEW")),p("disabled",o.loadingData),d(2),G(o.formModelCustomer?20:-1),d(),Z("header",P(22,67,"CONFIG_PANEL.USER.USERS")),p("disabled",!(o.customers&&!o.loadingData)),d(5),z(" ",P(27,69,"CONFIG_PANEL.USER.SEL")," "),d(3),Z("emptyFilterMessage",P(30,71,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")),p("options",o.customers),Oe("ngModel",o.selectedUserCustomer),p("disabled",o.loadingData)("autoDisplayFirst",!1),d(3),Z("emptyFilterMessage",P(33,73,"CONFIG_PANEL.USER.NOT_FOUND")),p("options",o.users),Oe("ngModel",o.selectedUser),p("disabled",o.loadingData)("autoDisplayFirst",!1),d(3),Z("label",P(36,75,"CONFIG_PANEL.CUSTOMER.NEW")),p("disabled",o.loadingData),d(2),G(o.formModelUser?37:-1),d(),G(o.formModelUser?-1:38),d(),G(o.loggedUser?39:-1),d(),Z("header",P(41,77,"CONFIG_PANEL.CUSTOM.TFA")),p("disabled",o.loadingData),d(5),z(" ",P(46,79,"CONFIG_PANEL.CUSTOM.TFA")," "),d(4),H(P(50,81,"TFA.DESCRIPTION")),d(4),z("",P(54,83,"CONFIG_PANEL.CUSTOM.TFA"),":"),d(2),p("options",o.TFAOptions),Oe("ngModel",o.TFAMode),d(),G(o.loggedUser?56:-1),d(),G(o.loggedUser?57:-1),d(),Z("header",P(59,85,"CONFIG_PANEL.CUSTOM.HEADER")),p("disabled",o.loadingData),d(5),z(" ",P(64,87,"CONFIG_PANEL.CUSTOM.UI_HEADER")," "),d(5),z(" ",P(69,89,"CONFIG_PANEL.CUSTOM.THEME_CHANGE"),": "),d(2),p("options",o.themeOptions),Oe("ngModel",o.darkMode),d(2),p("modal",!0)("closeOnEscape",!1)("closable",!1)("visible",o.showRestoreWarningDialog),d(3),it(Ie(98,qFe)),d(2),z(" ",P(78,91,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT")," "),d(3),z(" ",pi(81,93,o.selectedBackup==null?null:o.selectedBackup.date,"dd/MM/yyyy HH:mm:ss")," "),d(5),H(P(86,96,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.FOOTER")))},dependencies:[Ni,ze,ve,Gn,Ac,xc,Wi,Wd,Ka,Gi,Hn,Ao,bS,vS,wn,IS,zn,io,Ht,ge,at,Eo,cn,Qo,sv,Hf,jf,Oo,Fc,dr,El,MT,dg,ZS,Kf,gn,za,ht,sb],styles:["[_nghost-%COMP%]     .p-tabview{font-family:Montserrat,Arial,sans-serif!important}.p-inputtext[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important}[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link{border-top-left-radius:0;border-top-right-radius:0;font-size:.9rem!important;color:var(--fwcDark)!important}[_nghost-%COMP%]     .p-tabview .p-tabview-panels{width:100%}[_nghost-%COMP%]     .first-tabview>div>div.p-tabview-nav-container>div>ul{display:flex;flex-direction:column;padding:10px}[_nghost-%COMP%]     .second-tabview>div>div.p-tabview-nav-container>div>ul{display:flex;flex-direction:row;padding:10px}[_nghost-%COMP%]     .p-dialog .p-dialog-content{min-width:100%!important}"]})}}return i})();var HU=40,PLe=34,FLe=55,LLe=28,MLe=3,ab=(()=>{class i{constructor(e,t){this.cd=e,this.ruleSelectedService=t,this.maximumRuleHeight=0,this.rulesViewportInfo=null}*policyIterator(e){e||(e=[]);for(let t=0;t<e.length;t++){let o=e[t];if(yield o,o.rule_group&&Array.isArray(o.rules))for(let r=0;r<o.rules.length;r++){let s=o.rules[r];s.groupHide=o.groupHide,yield s}}}clearActualViewportInfo(){this.actualViewportInfo=null}resetMaximumRuleHeight(){this.maximumRuleHeight=0}calcRuleHeight(e,t){let o=HU;if(e.special)o=HU;else if(e.rule_group)o=PLe;else{if(!t&&(t=0,Array.isArray(e.positions)))for(let r=0;r<e.positions.length;r++){let s=e.positions[r];Array.isArray(s.ipobjs)&&s.ipobjs.length>t&&(t=s.ipobjs.length-1)}t<=1?(o=FLe,e.mark&&(o+=18)):(o=t*LLe+t+MLe*Math.min(t/2,6),e.mark&&(o+=t===2?11:0))}o>this.maximumRuleHeight&&(this.maximumRuleHeight=o),e.heightPx=o}showRulesInViewport(e,t){t||(t=this.actualViewportInfo||{scrollTop:0,offsetHeight:window.innerHeight});let o=t.scrollTop-Number((t.offsetHeight*.5).toFixed(0))-this.maximumRuleHeight,r=t.scrollTop+Number((t.offsetHeight*1.2).toFixed(0))+this.maximumRuleHeight;o<0&&(o=0);let s,a,l=0,c=0,u=new Set;for(let g of this.policyIterator(e))g.groupHide?u.has(g.idgroup)||(l+=g.heightPx,u.add(g.idgroup)):(l+g.heightPx>=o&&l<=r?(g.visible=!0,s===void 0&&(s=c),a=c):g.visible=!1,l+=g.heightPx),c++;this.rulesViewportInfo={firstVisibleRuleIndex:s,lastVisibleRuleIndex:a,viewportStartPx:o,viewportEndPx:r},this.actualViewportInfo=t,this.cd.detectChanges()}getVisibleRules(e){let t=[];return Array.isArray(e)&&this.rulesViewportInfo&&(t=e),t}static{this.\u0275fac=function(t){return new(t||i)(ie(pe),ie(qc))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var kLe=()=>({width:"30vw"}),NLe=()=>({visibility:"hidden"});function VLe(i,n){i&1&&(f(0,"div",10)(1,"h6",11),E(2,"i",12),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"PANELS.ROUTING_RULE_PANEL.TITLE")," "))}function BLe(i,n){if(i&1){let e=k();E(0,"div",8),f(1,"div",8)(2,"div",13)(3,"span",14),E(4,"p-dropdown",15,1),f(6,"label",16),T(7),O(8,"translate"),m()()()(),E(9,"div",8),f(10,"div",8)(11,"div",13)(12,"span",14),E(13,"sts-fwc-object-group",17),O(14,"translate"),f(15,"label",16),T(16),O(17,"translate"),m()()(),E(18,"p",18),m(),f(19,"div",8)(20,"div",13)(21,"span",14)(22,"input",19,2),R("drop",function(o){b(e);let r=h();return y(r.preventDrop(o))}),m(),f(24,"label",20),T(25),O(26,"translate"),m()()()()}if(i&2){let e=h();d(4),p("options",e.routingTables)("autoDisplayFirst",!1),d(3),H(P(8,9,"ROUTING.NEW_TABLE_PANEL.TABLE")),d(6),Z("msgNotAllowed",P(14,11,"PANELS.ROUTING_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_ROUTING_RULE_FROM),d(3),H(P(17,13,"PANELS.ROUTING_RULE_PANEL.FROM")),d(2),p("ngStyle",Ie(17,NLe)),d(7),H(P(26,15,"ITEM_PANEL.FIELDS.COMMENTS"))}}function ULe(i,n){if(i&1&&(f(0,"div",8),E(1,"sts-fwc-message",21),m()),i&2){let e=h();d(),p("message",e.opMessage)}}function jLe(i,n){if(i&1){let e=k();f(0,"button",22),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m(),f(2,"button",23),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var lb=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A){super(o,t,e,r,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=u,this.fwcPolicyService=g,this.fwcRoutingPolicyService=_,this.fwcRoutingTableService=C,this.fwcUserService=w,this.translate=S,this.messageService=A,this.ObjectTypes=F,this.loadingData=!1,this.dataLoaded=!1}ngOnInit(){this.formModel=this.fb.group({routingTable:new _e(void 0,Ne.required),ipObject:new _e(void 0,Ne.required),comment:new _e("")})}showNewRuleDialog(e,t,o,r){this.clusterId=e,this.firewallId=t,this.baseRuleId=o,this.newRuleOffset=r,this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),t,this.fwcUserService.getActualFwSelectedCloud()).then(s=>{Array.isArray(s.data)&&s.data.length?(this.routingTables=s.data,this.dataLoaded=!0,this.formModel.get("routingTable").setValue(this.routingTables[0])):this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.TEXT")}}).catch(s=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT")}}).finally(()=>{this.displayDialog=!0})}handleSave(){if(this.formModel.valid){this.store.dispatch(di.requestBlockUI());let{routingTable:e,ipObject:t,comment:o}=this.formModel.value,r=this.newRuleOffset<0?"above":"below";if(e&&t){let s={routingTableId:e.id,to:this.baseRuleId,offset:r,comment:o},{id:a,type:l}=t,c={id:a,order:1};switch(l){case F.OBJ_GROUP:s.ipObjGroupIds=[c];break;case F.OBJ_VPN_CONFIG_CLI:s.openVPNIds=[c];break;case F.OBJ_OPENVPN_PREFIX:s.openVPNPrefixIds=[c];break;case F.OBJ_MARK:s.markIds=[c];break;default:s.ipObjIds=[c]}this.loadingData=!0,this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRule.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),s).then(u=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(di.requestUnblockUI())})}}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ke),v(ao),v(et),v(xi),v(Ct),v(pn),v(Kc),v(wr),v(ot),v(je),v(Kt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-routing-rule-panel"]],features:[fe],decls:9,vars:11,consts:[["dlgRoutingRuleDialog",""],["ddRoutingTables",""],["inputObjName",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-routing","fwcOrange"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","routingTable","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","ipObject",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment","maxlength","64",3,"drop"],["for","comment"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",3,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)})("onHide",function(){return b(r),y(!0)}),I(2,VLe,5,3,"ng-template",4),f(3,"form",5)(4,"fieldset",6),R("keyup.enter",function(a){return b(r),y(o.handleCheckForm(a))})("keyup.esc",function(){return b(r),y(o.handleCancel())}),f(5,"div",7),I(6,BLe,27,18)(7,ULe,2,1,"div",8),m()()(),I(8,jLe,4,7,"ng-template",9),m()}t&2&&(it(Ie(10,kLe)),Oe("visible",o.displayDialog),p("modal",!1)("closable",!1)("resizable",!0),d(3),p("formGroup",o.formModel),d(),p("disabled",o.loadingData),d(2),G(o.dataLoaded?6:-1),d(),G(!o.loadingData&&o.opMessage?7:-1))}})}}return i})();var GU=Xs(fd());var HLe=["txtCompiledString"],GLe=()=>({minWidth:"80vw"}),zLe=()=>({height:"98%",minHeight:"12rem"});function WLe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2);d(),z(" (",e.ruleCompiler,") ")}}function $Le(i,n){if(i&1&&(f(0,"div",6)(1,"h6",7),E(2,"i",8),T(3),I(4,WLe,2,1,"span"),m()()),i&2){let e=h();d(3),z(" ",e.dialogTitle," "),d(),G(e.ruleCompiler?4:-1)}}function KLe(i,n){if(i&1){let e=k();f(0,"button",12),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onDownloadConfigFile(o.ruleCompiledString))}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"VPN.CONFIG.DOWNLOAD.BUTTON")),p("disabled",!e.ruleCompiledString)}}function qLe(i,n){if(i&1){let e=k();f(0,"button",9),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.handleCopyRuleCompilationToClipboard())}),m(),I(2,KLe,2,4,"button",10),f(3,"button",11),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();Z("label",P(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")),p("disabled",!e.ruleCompiledString),d(2),G(e.ruleCompiledString&&e.type==="dhcp"||e.type==="keepalived"||e.type==="haproxy"?2:-1)}}var As=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g){super(e,t,o,c,r,l),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.store=r,this.translate=s,this.messageService=a,this.router=l,this.cd=c,this.fwcEventService=u,this.utilService=g,this.dialogTitle=this.translate.instant("CONTEXT.RULE.COMP_TITLE")}ngOnInit(){}ngOnDestroy(){}showCompiledString(e,t){this.ruleCompiledString=e,this.ruleCompiler=t}showCompilationData(e,t,o,r,s,a){if(this.type=a,this.ruleCompiledString="",r&&(this.dialogTitle=r),Array.isArray(e))for(let[l,c]of e.entries()){this.ruleCompiledString&&(this.ruleCompiledString+=`
`);let u=t&&t.find(_=>_.id===c.id),g=u&&u._fwcRuleOrder?u._fwcRuleOrder:l+1;a==="dhcp"?this.ruleCompiledString+=c.cs:a==="keepalived"?this.ruleCompiledString+=c.cs:a==="haproxy"?this.ruleCompiledString+=c.cs:this.ruleCompiledString+=`# ${o.toUpperCase()} ${g} (ID: ${c.id})
${c.cs}`}this.ruleCompiler=s,this.displayDialog=!0}onDownloadConfigFile(e,t){let o;t==="dhcp"?o="dhcp.conf":t==="keepalived"?o="keepalived.conf":t==="haproxy"&&(o="haproxy.conf");let r=new Blob([e],{type:"text/plain;charset=utf-8"});(0,GU.saveAs)(r,o)}handleCopyRuleCompilationToClipboard(){this.txtCompiledString&&(this.txtCompiledString.nativeElement.select(),document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("POLICY.RULE_COMPILATION_COPIED")}))}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(Ke),v(je),v(Kt),v(et),v(pe),v(_n),v(Ct))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-rule-compile-panel"]],viewQuery:function(t,o){if(t&1&&ne(HLe,5),t&2){let r;K(r=q())&&(o.txtCompiledString=r.first)}},features:[fe],decls:7,vars:8,consts:[["dlgCompile",""],["txtCompiledString",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","visible","modal"],["pTemplate","header"],["readonly","true","pInputTextarea","",1,"textCompiledString",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-compilerule","fwcOrange"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"label","disabled"],["type","button","pButton","","icon","pi pi-check","label","Ok",3,"click"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",2,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)}),I(2,$Le,5,2,"ng-template",3),f(3,"textarea",4,1),T(5),m(),I(6,qLe,4,5,"ng-template",5),m()}t&2&&(it(Ie(6,GLe)),Oe("visible",o.displayDialog),p("modal",!0),d(3),p("ngStyle",Ie(7,zLe)),d(2),H(o.ruleCompiledString))},dependencies:[ve,Ht,ge,at,Qo,ht],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}"]})}}return i})();var cb=(()=>{class i{constructor(e,t,o,r,s,a,l,c,u,g){this.translate=e,this.fwcErrorPipe=t,this.utilService=o,this.fwcUserService=r,this.fwcRoutingPolicyService=s,this.fwcRoutingTableService=a,this.ruleSelectedService=l,this.messageService=c,this.cd=u,this.store=g}setGroupValues(e){if(e){let t=e.groupData,o=e.group,r=e.policyType,s={style:e.groupColor,name:e.groupName};this.updateGroup(r,t.firewall,t.fwcloud,o,s)}}updateGroup(e,t,o,r,s){let a;e===co.POLICY_ROUTING?a=this.fwcRoutingPolicyService.updateRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService):e===co.ROUTING_TABLE&&(a=this.fwcRoutingTableService.updateRoutingTableRouteGroup.bind(this.fwcRoutingTableService)),a&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(a,t,o,r.idgroup,s).then(()=>{if(s.name){r.group_name=s.name;let l=r.rules;for(let c=0;c<l.length;c++)l[c].group_name=r.group_name}if(s.style){r.group_style=s.style;let l=r.rules;for(let c=0;c<l.length;c++)l[c].group_style=r.group_style}r=Jt(r)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRulesOrRoutes(e){let t,o,r,s=this.ruleSelectedService.getActualSelectedRules(),a=this.ruleSelectedService.getRulesOrderedIds(s),l;if(Array.isArray(a.orderedRules)&&a.orderedRules[0]){l=a.orderedRules[0],t=this.fwcUserService.getActualFwcUser().selectedFwCloud,o=l.firewall,r=a.rulesIds;let c=this.fwcRoutingPolicyService.compileRoutingPolicyRules.bind(this.fwcRoutingPolicyService),u=[o,t,r],g=this.translate.instant("ROUTING.POLICY.RULE"),_=this.translate.instant("ROUTING.POLICY.COMPILE_DIALOG_TITLE");e&&(c=this.fwcRoutingTableService.compileRoutingTableRoutes.bind(this.fwcRoutingTableService),u=[o,t,e,r],g=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ROUTE"),_=this.translate.instant("ROUTING.ROUTE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(c,...u).then(C=>{if(Array.isArray(C.data)){let w=this.utilService.createDynamicComponentRef(As),S=w.instance;S.setDynamicComponentRef(w),S.showCompilationData(C.data,s,g,_)}}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(e,t){let o=[];return Array.isArray(e)&&(o=e.filter(t).map(r=>({id:r.id,order:r.position_order}))),o}buildCopyApiData(e,t){let o={},r,s,a=e._fwcObjId,l=e._fwcObjType,c=t.ipobjs;switch(l){case F.OBJ_GROUP:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_GROUP),s="ipObjGroupIds";break}case F.OBJ_OPENVPN_PREFIX:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_OPENVPN_PREFIX),s="openVPNPrefixIds";break}case F.OBJ_VPN_CONFIG_CLI:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_VPN_CONFIG_CLI),s="openVPNIds";break}case F.OBJ_MARK:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_MARK),s="markIds";break}default:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_ADDRESS||u.type===F.OBJ_ADDRESS_RANGE||u.type===F.OBJ_NETWORK||u.type===F.OBJ_HOST||u.type===F.OBJ_DNS),s="ipObjIds";break}}return o[s]=[...r,{id:a,order:c?c.length:1}],o}buildRemoveApiData(e,t){let o={},r,s,a=e._fwcObjId,l=e._fwcObjType,c=t.ipobjs;switch(l){case F.OBJ_GROUP:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_GROUP&&u.id!==a),s="ipObjGroupIds";break}case F.OBJ_OPENVPN_PREFIX:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_OPENVPN_PREFIX&&u.id!==a),s="openVPNPrefixIds";break}case F.OBJ_VPN_CONFIG_CLI:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_VPN_CONFIG_CLI&&u.id!==a),s="openVPNIds";break}case F.OBJ_MARK:{r=this.filterIpObjects(c,u=>u.type===F.OBJ_MARK&&u.id!==a),s="markIds";break}default:{r=this.filterIpObjects(c,u=>(u.type===F.OBJ_ADDRESS||u.type===F.OBJ_ADDRESS_RANGE||u.type===F.OBJ_NETWORK||u.type===F.OBJ_HOST||u.type===F.OBJ_DNS)&&u.id!==a),s="ipObjIds";break}}return o[s]=[...r],o}removeObjectFromPosition(e,t){if(Array.isArray(e.ipobjs)){e.ipobjs=e.ipobjs.filter(o=>o._fwcObjId!==t._fwcObjId||o._fwcObjType!==t._fwcObjType);for(let o of e.ipobjs)o.position_order!=null&&o.position_order>t.position_order&&o.position_order--}}dispatchFwStatusUpdateAction(e,t){this.store.dispatch(uo.updateFwStatus({item:{cluster:e,id:t,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL,ci.CLUSTER_PANEL,ci.FIREWALL_PANEL,ci.OVCONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}static{this.\u0275fac=function(t){return new(t||i)(ie(je),ie(xi),ie(Ct),ie(ot),ie(Kc),ie(wr),ie(qc),ie(Kt),ie(pe),ie(Ke))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var db=(()=>{class i extends cb{constructor(e,t,o,r,s,a,l,c,u,g,_,C){super(e,t,o,r,a,l,c,u,_,C),this.translate=e,this.fwcErrorPipe=t,this.utilService=o,this.fwcUserService=r,this.fwcPolicyService=s,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=l,this.ruleSelectedService=c,this.messageService=u,this.confirmationService=g,this.cd=_,this.store=C}parseRoutingPolicyRules(e,t,o){let r=[];for(let s of o){let a={id:s.id,idgroup:s.routingGroupId,group_name:s.routingGroup&&s.routingGroup.name,group_style:s.routingGroup&&s.routingGroup.style,comment:s.comment,style:s.style,type:co.POLICY_ROUTING,rule_order:s.rule_order,active:s.active?1:0,firewall:e,fwcloud:t,routingTableId:s.routingTableId,fw_apply_to:s.firewallApplyToId,positions:[]},l=1,c={id:br.FROM_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_S"),policy_type:a.type,position_order:l++,content:"O",single_object:0,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(Array.isArray(s.items)){let u=1;for(let g of s.items){let _={rule:a.id,position:yi.TO_POSITION,id:g.id,name:g.name,type:g.type,position_order:u++,firewall_id:g.firewall_id,firewall_name:g.firewall_name,cluster_id:g.cluster_id,cluster_name:g.cluster_name,host_id:g.host_id,host_name:g.host_name};c.ipobjs.push(_)}}a.positions.push(c),r.push(a)}return r}handleChangeRoutingTable(e,t){let o={routingTableId:t};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),e.firewall,this.fwcUserService.getActualFwSelectedCloud(),e.id,o).then(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(e._fwcClusterId,e.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateRule(e,t,o,r,s,a,l){this.ruleSelectedService.setRuleStatus("");let c={},u=!1;s&&(c.comment=s,u=!0),a&&(c.style=a),l!==void 0&&(c.active=l,u=!0),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,o,r.id,c).then(g=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),u&&this.dispatchFwStatusUpdateAction(e,t)}).catch(g=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateSelectedRules(e,t,o,r){let s=this.ruleSelectedService.getActualSelectedRules(),a=!!Object.keys(r).filter(l=>l!=="style").length;if(Array.isArray(s)&&s.length){let l=s.map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRules.bind(this.fwcRoutingPolicyService),t,o,l,r).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),a&&this.dispatchFwStatusUpdateAction(e,t)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}updateRuleComment(e){if(e&&e.formModel){let t=e.formModel.comment;if(e.comment!==t){let o=e.firewall,r=e.fwcloud,s={comment:t};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,e.id,s).then(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),e.comment=t,this.dispatchFwStatusUpdateAction(e._fwcClusterId,o)}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),e.formModel.comment=e.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRulePosition(e,t,o,r,s,a,l){let c={},u=a._fwcPositionId,g=a._fwcRuleId;if((a.obj_type==F.OBJ_OPENVPN_PREFIX||a.obj_type==F.OBJ_INTERFACE_FIREWALL)&&"items"in a&&a.items.length===0||a.obj_type==F.OBJ_HOST&&"items"in a&&a.items.length>0&&a.items[0].items.length===0){this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:a.obj_type==F.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:a._fwcObjName,ipVersion:"IP"}):a.obj_type==F.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:a._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:a._fwcObjName}),accept:()=>{}});return}let _=this.checkOperation(e,a,l);if(_)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:_,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else{let C=e.getClusterId();u==null||g==null||l==Vn.COPY?(c=this.buildCopyApiData(a,s),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,o,r,c).then(w=>{this.addObjectToPosition(s,a),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(r)}).catch(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(w)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(e,t,o,r,s,a).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(w)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}}checkOperation(e,t,o){let r;return t._fwcRuleId&&t._fwcPositionId&&(o===Vn.CUT||o===Vn.DELETE)&&e.getPolicyRule(t._fwcRuleId).positions.find(c=>c.id===t._fwcPositionId).ipobjs.filter(c=>c._fwcObjType!==F.OBJ_ANY).length<2&&(r=this.translate.instant("ROUTING.POLICY.ERROR_LAST_IPOBJECT")),r}moveObjectAlt(e,t,o,r,s,a){return he(this,null,function*(){try{let l=this.buildCopyApiData(a,s);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,o,r,l);let c=e.getPolicyRule(a._fwcRuleId),u=c.positions.find(C=>C.id===a._fwcPositionId),g=this.buildRemoveApiData(a,u);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,o,c.id,g),this.addObjectToPosition(s,a),this.removeObjectFromPosition(u,a),this.ruleSelectedService.setRuleHeightRecalculate(c.id),this.ruleSelectedService.setRuleHeightRecalculate(r),this.dispatchReloadItemEditingPanels();let _=e.getClusterId();this.dispatchFwStatusUpdateAction(_,t),Promise.resolve()}catch{Promise.reject()}})}moveObject(e,t,o,r,s,a){return he(this,null,function*(){try{let l,c;switch(a._fwcObjType){case F.OBJ_GROUP:{l="ipObjGroupId";break}case F.OBJ_OPENVPN_PREFIX:{l="openVPNPrefixId";break}case F.OBJ_VPN_CONFIG_CLI:{l="openVPNId";break}case F.OBJ_MARK:{l="markId";break}default:{l="ipObjId";break}}let u=e.getPolicyRule(a._fwcRuleId),g=u.positions.find(C=>C.id===a._fwcPositionId);c={fromId:u.id,toId:r},c[l]=a._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.moveObjectBetweenFromPositions.bind(this.fwcRoutingPolicyService),t,o,c),this.addObjectToPosition(s,a),this.removeObjectFromPosition(g,a),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(u.id),this.ruleSelectedService.setRuleHeightRecalculate(r);let _=e.getClusterId();this.dispatchFwStatusUpdateAction(_,t),Promise.resolve()}catch{Promise.reject()}})}deleteObjectFromPosition(e,t,o,r,s,a){let l={};l=this.buildRemoveApiData(a,s),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),e,o,r,l).then(c=>{this.removeObjectFromPosition(s,a),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(t,e),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(r)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}addObjectToPosition(e,t){let o={cluster_id:t._fwcClusterId,cluster_name:t._fwcClusterName,firewall_id:t._fwcFwId,firewall_name:t._fwcFwName,host_id:t._fwcHostId,host_name:t._fwcHostName,id:t._fwcObjId,id_obj:t._fwcObjId,name:t._fwcObjName,obj_type:t._fwcObjType,parent_id:t.parent_id,position:e.id,position_order:e.ipobjs?e.ipobjs.length:1,rule:e.rule,type:t._fwcObjType,_fwcFwId:t._fwcFwId,_fwcFwName:t._fwcFwName,_fwcObjId:t._fwcObjId,_fwcObjName:t._fwcObjName,_fwcObjType:t._fwcObjType,_fwcPositionId:e.id,_fwcRuleId:e.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:t.highlighted};e.ipobjs=[...e.ipobjs,o]}showNewRuleDialog(e,t,o,r){let s=this.utilService.createDynamicComponentRef(lb),a=s.instance;a.setDynamicComponentRef(s),a.showNewRuleDialog(e,t,o,r)}moveSelectedRules(e,t,o,r,s){this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.manageRoutingPolicyRules.bind(this.fwcRoutingPolicyService),e,t,o,s,r,Vn.CUT).then(a=>{this.fwcPolicyService.reloadPolicy()}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(di.requestUnblockUI())})}newRoutingRuleGroup(e,t,o){let r=o&&o.groupName,s=o&&o.groupComment;if(r){let l=this.ruleSelectedService.getActualSelectedRules().map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService),e,t,r,s,l).then(c=>{this.dispatchReloadItemPanelAction(),this.fwcPolicyService.reloadPolicy()}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else return}setRuleStyle(e,t){if(t){let o={style:t.ruleColor};this.updateSelectedRules(e._fwcClusterId,e.firewall,this.fwcUserService.getActualFwSelectedCloud(),o)}}compileSelectedRules(){this.compileRulesOrRoutes()}handleChangeApplyToTable(e){if(e&&e.formModel){let t=e.firewall,o=e.fwcloud,r={firewallApplyToId:e.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,o,e.id,r).then(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(e._fwcClusterId,e.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}static{this.\u0275fac=function(t){return new(t||i)(ie(je),ie(xi),ie(Ct),ie(ot),ie(pn),ie(Kc),ie(wr),ie(qc),ie(Kt),ie(Wt),ie(pe),ie(Ke))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var YLe=()=>({width:"30vw"}),JLe=()=>({visibility:"hidden"}),XLe=i=>({table_name:i});function QLe(i,n){if(i&1&&(f(0,"div",15)(1,"h6",16),E(2,"i",17),T(3),O(4,"translate"),m()()),i&2){let e=h();d(3),z(" ",pi(4,1,"PANELS.ROUTING_ROUTE_PANEL.TITLE",J(4,XLe,e.tableName))," ")}}function ZLe(i,n){if(i&1){let e=k();f(0,"button",18),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m(),f(2,"button",19),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loading)}}var ub=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w){super(o,t,e,r,u,_),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.utilService=s,this.fwcPolicyService=a,this.fwcRoutingTableService=l,this.fwcUserService=c,this.store=u,this.fb=g,this.router=_,this.messageService=C,this.translate=w,this.ObjectTypes=F,this.loading=!1}ngOnInit(){this.formModel=this.fb.group({gateway:new _e(void 0,Ne.required),comment:new _e("")})}showNewRouteDialog(e,t,o,r,s,a){this.clusterId=e,this.firewallId=t,this.tableId=o,this.tableName=r,this.baseRouteId=s,this.newRouteOffset=a,this.displayDialog=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(di.requestBlockUI());let{gateway:e,comment:t}=this.formModel.value,o=e&&e.id;this.loading=!0,this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRoute.bind(this.fwcRoutingTableService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),this.tableId,o,t,this.baseRouteId,this.newRouteOffset).then(r=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.INFO.SAVE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.ERRORS.SAVE_ROUTE")})}).finally(()=>{this.loading=!1,this.store.dispatch(di.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ct),v(pn),v(wr),v(ot),v(Ke),v(ao),v(et),v(Kt),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-routing-table-route-panel"]],features:[fe],decls:24,vars:22,consts:[["dlgRoutingRuleDialog",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","gateway",3,"readOnly","groupType","msgNotAllowed"],[1,"fwcFloatLabel"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["for","comment"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)})("onHide",function(){return b(r),y(!0)}),I(2,QLe,5,6,"ng-template",2),f(3,"form",3)(4,"fieldset",4),R("keyup.enter",function(a){return b(r),y(o.handleCheckForm(a))})("keyup.esc",function(){return b(r),y(o.handleCancel())}),f(5,"div",5),E(6,"div",6),f(7,"div",6)(8,"div",7)(9,"span",8),E(10,"sts-fwc-object-group",9),O(11,"translate"),f(12,"label",10),T(13),O(14,"translate"),m()()(),E(15,"p",11),m(),f(16,"div",6)(17,"div",7)(18,"span",8)(19,"input",12),R("drop",function(a){return b(r),y(o.preventDrop(a))}),m(),f(20,"label",13),T(21),O(22,"translate"),m()()()()()()(),I(23,ZLe,4,7,"ng-template",14),m()}t&2&&(it(Ie(20,YLe)),Oe("visible",o.displayDialog),p("modal",!1)("closable",!1)("resizable",!0),d(3),p("formGroup",o.formModel),d(),p("disabled",o.loading),d(6),Z("msgNotAllowed",P(11,14,"PANELS.ROUTING_ROUTE_PANEL.ERRORS.INVALID_GATEWAY")),p("readOnly",!1)("groupType",o.ObjectTypes.OBJ_ROUTING_GATEWAY),d(3),H(P(14,16,"PANELS.ROUTING_ROUTE_PANEL.GATEWAY")),d(2),p("ngStyle",Ie(21,JLe)),d(6),H(P(22,18,"ITEM_PANEL.FIELDS.COMMENTS")))}})}}return i})();var tO=()=>({visibility:"hidden"});function eMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE_EDIT")," ")}function tMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE")," ")}function iMe(i,n){if(i&1&&(f(0,"div",6)(1,"h6",7),E(2,"i",8),I(3,eMe,2,3)(4,tMe,2,3),m()()),i&2){let e=h();d(3),G(e.formModel!=null&&e.formModel.get("id").value?3:4)}}function nMe(i,n){if(i&1&&E(0,"sts-fwc-message",3),i&2){let e=h();p("message",e.errorMessage)}}function oMe(i,n){if(i&1){let e=k();f(0,"form",4)(1,"fieldset",9),R("keyup.enter",function(o){b(e);let r=h();return y(r.handleCheckForm(o))})("keyup.esc",function(){b(e);let o=h();return y(o.handleCancel())}),f(2,"div",10),E(3,"div",11),f(4,"div",11)(5,"div",12)(6,"span",13)(7,"label",14),T(8),O(9,"translate"),m(),E(10,"p-dropdown",15),m()(),E(11,"p",16),m(),f(12,"div",11)(13,"div",12)(14,"span",13)(15,"label",14),T(16),O(17,"translate"),m(),f(18,"input",17),R("drop",function(o){b(e);let r=h();return y(r.preventDrop(o))}),m()()(),E(19,"p",16),m(),f(20,"div",11)(21,"div",12)(22,"span",13)(23,"label",14),T(24),O(25,"translate"),m(),f(26,"input",18),R("drop",function(o){b(e);let r=h();return y(r.preventDrop(o))}),m()()(),E(27,"p",16),m()()()()}if(i&2){let e=h();p("formGroup",e.formModel),d(),p("disabled",e.loading),d(7),H(P(9,9,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")),d(2),p("options",e.availableNumbersItems),d(),p("ngStyle",Ie(15,tO)),d(5),H(P(17,11,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NAME")),d(3),p("ngStyle",Ie(16,tO)),d(5),H(P(25,13,"PANELS.ROUTING_TABLE_PANEL.FIELDS.COMMENT")),d(3),p("ngStyle",Ie(17,tO))}}function rMe(i,n){if(i&1){let e=k();f(0,"button",19),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m(),f(2,"button",20),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!(e.formModel!=null&&e.formModel.valid)||(e.formModel==null?null:e.formModel.pristine)||e.loading)}}var zU=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S){super(o,t,e,r,u,g),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.utilService=s,this.fwcPolicyService=a,this.fwcRoutingTableService=l,this.fwcUserService=c,this.store=u,this.router=g,this.fwcErrorPipe=_,this.fb=C,this.messageService=w,this.translate=S,this.availableNumbersItems=[]}ngOnInit(){this.formModel=this.fb.group({id:new _e(void 0),number:new _e(Ne.required),name:new _e("",Ne.required),comment:new _e("")}),this.formModel.valueChanges.subscribe(({number:e})=>{if(this.selectedTableNumber!==e){this.selectedTableNumber=e;let t=this.formModel.get("name");e===254?(t.setValue("main"),t.disable()):(t.enable(),t.value==="main"&&t.reset())}})}showNewRoutingTableDialog(e,t,o,r,s,a){this.clusterId=e,this.clusterName=t,this.firewallId=o,this.firewallName=r,this.fwcloudId=s;let l=[];this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),o,s).then(c=>{let u,g=c.data,_=new Map;if(Array.isArray(g))for(let C of g)_.set(C.number,C.name),C.id===a&&(u=C);l.push({label:"254 (main)",value:254,disabled:_.has(254)});for(let C=1;C<=250;C++){let w="";_.has(C)&&(w=` (${_.get(C)})`),l.push({label:C+w,value:C,disabled:w!==""})}if(u)this.formModel.reset({id:u.id,name:u.name,number:u.number,comment:u.comment});else for(let C of l)if(!C.disabled){this.formModel.get("number").setValue(C.value),this.formModel.markAsDirty();break}}).catch(c=>{this.errorMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT"),text:this.fwcErrorPipe.transform(c)}}).finally(()=>{this.availableNumbersItems=l.map(c=>({label:c.label,value:c.value,disabled:c.disabled||!1})),this.showDialog()})}handleSave(){if(this.formModel.valid){let{id:e,number:t,name:o,comment:r}=this.formModel.getRawValue();this.store.dispatch(di.requestBlockUI());let s=this.fwcRoutingTableService.newRoutingTable.bind(this.fwcRoutingTableService),a=[this.firewallId,this.fwcloudId,t,o,r];e&&(s=this.fwcRoutingTableService.updateRoutingTable.bind(this.fwcRoutingTableService),a=[this.firewallId,this.fwcloudId,e,t,o,r]),this.loading=!0,this.utilService.fwcAPICall(s,...a).then(l=>{let c;e||(c={_fwcObjId:l.data.id,_fwcObjType:co.ROUTING_TABLE,container:ft.C_FIREWALLS}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:qi.RELOAD_TREE,containerToReload:ft.C_FIREWALLS,treeNodeToSelect:c});let u=this.fwcPolicyService.getActualSelectedPolicy();if(e&&u&&u._fwcPolicyType===co.ROUTING_TABLE&&u._fwcObjId===e?(u._fwcPolicyName=o,this.fwcPolicyService.setSelectedPolicy(u)):u._fwcPolicyType===co.POLICY_ROUTING&&this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}})),!e){let g={fwcloud:this.fwcloudId,_fwcFwId:this.firewallId,_fwcFwName:this.clusterId?this.clusterName:this.firewallName,_fwcClusterId:this.clusterId,_fwcObjId:l.data.id,_fwcPolicyType:co.ROUTING_TABLE,_fwcPolicyName:o};this.fwcPolicyService.setSelectedPolicy(g)}this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.NEW_TABLE_PANEL.SUCCESS")}),this.hideDialog()}).catch(l=>{let c;c=this.fwcErrorPipe.transform(l),c||(c=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ERROR")),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:c})}).finally(()=>{this.loading=!1,this.store.dispatch(di.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ct),v(pn),v(wr),v(ot),v(Ke),v(et),v(xi),v(ao),v(Kt),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-routing-table-panel"]],features:[fe],decls:6,vars:5,consts:[["dlgRoutingRuleDialog",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[3,"message"],[3,"formGroup"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],[1,"fwcFloatLabel"],["formControlName","number","appendTo","body",3,"options"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","name","name","name",3,"drop"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)})("onHide",function(){return b(r),y(!0)}),I(2,iMe,5,1,"ng-template",2)(3,nMe,1,1,"sts-fwc-message",3)(4,oMe,28,18,"form",4)(5,rMe,4,7,"ng-template",5),m()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(3),G(o.errorMessage?3:4))},dependencies:[ve,Gn,Wi,Gi,Hn,zn,io,Ht,ge,at,cn,dr,gn,ht]})}}return i})();var md=(()=>{class i extends cb{constructor(e,t,o,r,s,a,l,c,u,g,_,C){super(e,t,o,r,a,l,c,u,g,_),this.translate=e,this.fwcErrorPipe=t,this.utilService=o,this.fwcUserService=r,this.fwcPolicyService=s,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=l,this.ruleSelectedService=c,this.messageService=u,this.cd=g,this.store=_,this.confirmationService=C}showNewRoutingTableDialog(e,t,o,r,s,a){let l=this.utilService.createDynamicComponentRef(zU),c=l.instance;c.setDynamicComponentRef(l),c.showNewRoutingTableDialog(e,t,o,r,s,a)}showNewRouteDialog(e,t,o,r,s,a){let l=this.utilService.createDynamicComponentRef(ub),c=l.instance;c.setDynamicComponentRef(l),c.showNewRouteDialog(e,t,o,r,s,a)}parseRoutingTableRoutes(e,t,o){let r=[];for(let s of o){let a={id:s.id,idgroup:s.routeGroupId,group_name:s.routeGroup&&s.routeGroup.name,group_style:s.routeGroup&&s.routeGroup.style,comment:s.comment,style:s.style,type:co.ROUTING_TABLE,rule_order:s.route_order,active:s.active?1:0,firewall:e,fwcloud:t,fw_apply_to:s.firewallApplyToId,positions:[]},l=1,c={id:yi.TO_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_E"),policy_type:a.type,position_order:l++,content:"O",single_object:0,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(Array.isArray(s.items)){let g=1;for(let _ of s.items){let C={rule:a.id,position:yi.TO_POSITION,id:_.id,name:_.name,type:_.type,position_order:g++,firewall_id:_.firewall_id,firewall_name:_.firewall_name,cluster_id:_.cluster_id,cluster_name:_.cluster_name,host_id:_.host_id,host_name:_.host_name};c.ipobjs.push(C)}}if(a.positions.push(c),s.gateway){let g=s.gateway,_={id:yi.GATEWAY_POSITION,name:this.translate.instant("Gateway"),policy_type:a.type,position_order:l++,content:"O",single_object:1,fwcloud:t,firewall:e,rule:a.id,ipobjs:[{rule:a.id,position:yi.GATEWAY_POSITION,id:g.id,name:g.name,type:g.ipObjTypeId,allowDrag:!1,position_order:1,firewall_id:g.firewall_id,firewall_name:g.firewall_name,cluster_id:g.cluster_id,cluster_name:g.cluster_name,host_id:g.host_id,host_name:g.host_name}]};a.positions.push(_)}let u={id:yi.INTERFACE_POSITION,name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),policy_type:a.type,position_order:l++,content:"I",single_object:1,fwcloud:t,firewall:e,rule:a.id,ipobjs:[]};if(s.interface){let g=s.interface,_={rule:a.id,position:yi.INTERFACE_POSITION,id:g.id,name:g.name,type:g.type,position_order:1,firewall_id:g.firewall_id||g.firewallId,firewall_name:g.firewall_name,cluster_id:g.cluster_id,cluster_name:g.cluster_name,host_id:g.host_id,host_name:g.host_name};u.ipobjs.push(_)}a.positions.push(u),r.push(a)}return r}updateRoute(e,t,o,r,s,a){let l=!1,c=!1,u=o.comment,g=o.style,_=o.active,C=o.id,w=o.routingTableId,S={};r!==u&&(S.comment=r,l=!0,c=!0),s!==g&&(S.style=s,l=!0),a!==_&&(S.active=!!a,l=!0,c=!0),l&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,t,w,C,S).then(A=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),s!==g&&(o.style=s),a!==_&&(o.active=a),r!==u&&(o.comment=r),c&&this.fwcPolicyService.reloadPolicy()}).catch(A=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(A)}),s!==g&&(o.style=g),a!==_&&(o.active=_),r!==u&&(o.comment=u)}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}updateSelectedRoutes(e,t,o,r,s){let a=this.ruleSelectedService.getActualSelectedRules();if(Array.isArray(a)&&a.length){let l=a.map(u=>u.id);this.ruleSelectedService.setRuleStatus("");let c=!!Object.keys(s).filter(u=>u!=="style").length;this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoutes.bind(this.fwcRoutingTableService),t,o,r,l,s).then(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),c&&this.dispatchFwStatusUpdateAction(e,t)}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}buildRoutesCopyApiData(e,t){let o={};switch(t.id){case yi.GATEWAY_POSITION:{o.gatewayId=e._fwcObjId;break}case yi.INTERFACE_POSITION:{o.interfaceId=e._fwcObjId;break}case yi.TO_POSITION:{o=this.buildCopyApiData(e,t);break}default:return}return o}buildRoutesRemoveApiData(e,t){let o={};switch(t.id){case yi.GATEWAY_POSITION:break;case yi.INTERFACE_POSITION:{o.interfaceId=null;break}case yi.TO_POSITION:{o=this.buildRemoveApiData(e,t);break}default:return}return o}updateRoutePosition(e,t,o,r,s,a,l,c){let u={},g=l._fwcPositionId,_=l._fwcRuleId;if(g==null||_==null||c==Vn.COPY)if((l.obj_type==F.OBJ_OPENVPN_PREFIX||l.obj_type==F.OBJ_INTERFACE_FIREWALL)&&"items"in l&&l.items.length===0||l.obj_type==F.OBJ_HOST&&"items"in l&&l.items.length>0&&l.items[0].items.length===0)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:l.obj_type==F.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:l._fwcObjName,ipVersion:"IP"}):l.obj_type==F.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:l._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:l._fwcObjName}),accept:()=>{}});else{let C=this.buildRoutesCopyApiData(l,a);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,o,r,s,C).then(w=>{this.addOrUpdateObjectToPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")});let S=e.getClusterId();this.dispatchFwStatusUpdateAction(S,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(w)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else this.ruleSelectedService.setRuleStatus(""),this.moveObject(e,t,o,r,s,a,l).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}moveObjectAlt(e,t,o,r,s,a,l){return he(this,null,function*(){try{let c=this.buildRoutesCopyApiData(l,a);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,o,r,s,c);let u=e.getPolicyRule(l._fwcRuleId),g=u.positions.find(w=>w.id===l._fwcPositionId),_=this.buildRoutesRemoveApiData(l,g);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,o,r,u.id,_),this.addOrUpdateObjectToPosition(a,l),this.removeObjectFromPosition(g,l);let C=e.getClusterId();this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(u.id),this.ruleSelectedService.setRuleHeightRecalculate(s)}catch(c){throw c}})}moveObject(e,t,o,r,s,a,l){return he(this,null,function*(){try{let c,u;switch(l._fwcObjType){case F.OBJ_GROUP:{c="ipObjGroupId";break}case F.OBJ_OPENVPN_PREFIX:{c="openVPNPrefixId";break}case F.OBJ_VPN_CONFIG_CLI:{c="openVPNId";break}case F.OBJ_INTERFACE_FIREWALL:{c="interfaceId";break}default:{c="ipObjId";break}}let g=e.getPolicyRule(l._fwcRuleId),_=g.positions.find(w=>w.id===l._fwcPositionId);u={fromId:g.id,toId:s},u[c]=l._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingTableService.moveObjectInRoutes.bind(this.fwcRoutingTableService),t,o,r,a.id,u),this.addOrUpdateObjectToPosition(a,l),this.removeObjectFromPosition(_,l);let C=e.getClusterId();this.dispatchFwStatusUpdateAction(C,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(g.id),this.ruleSelectedService.setRuleHeightRecalculate(s)}catch(c){throw c}})}addOrUpdateObjectToPosition(e,t){let o={cluster_id:t._fwcClusterId,cluster_name:t._fwcClusterName,firewall_id:t._fwcFwId,firewall_name:t._fwcFwName,host_id:t._fwcHostId,host_name:t._fwcHostName,id:t._fwcObjId,id_obj:t._fwcObjId,name:t._fwcObjName,obj_type:t._fwcObjType,parent_id:t.parent_id,position:e.id,position_order:e.ipobjs?e.ipobjs.length:1,rule:e.rule,type:t._fwcObjType,_fwcFwId:t._fwcFwId,_fwcFwName:t._fwcFwName,_fwcObjId:t._fwcObjId,_fwcObjName:t._fwcObjName,_fwcObjType:t._fwcObjType,_fwcPositionId:e.id,_fwcRuleId:e.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:t.highlighted};e.id===yi.GATEWAY_POSITION||e.id===yi.INTERFACE_POSITION?(e.id===yi.GATEWAY_POSITION?(e.ipobjs=e.ipobjs.filter(r=>r.obj_type!==F.OBJ_ADDRESS),o.allowDrag=!1):e.ipobjs=e.ipobjs.filter(r=>r.obj_type!==F.OBJ_INTERFACE_FIREWALL&&r.obj_type!==F.OBJ_INTERFACE_HOST),e.ipobjs.unshift(o)):e.id===yi.TO_POSITION&&(e.ipobjs=[...e.ipobjs,o])}deleteObjectFromPosition(e,t,o,r,s,a,l){let c={};switch(a.id){case yi.INTERFACE_POSITION:{c.interfaceId=null;break}case yi.TO_POSITION:{c=this.buildRemoveApiData(l,a);break}default:return}this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,o,r,s,c).then(u=>{this.removeObjectFromPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(t,e),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}compileRoutes(e){this.compileRulesOrRoutes(e)}moveSelectedRoutes(e,t,o,r,s,a,l){this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingTableService.manageTableRoutes.bind(this.fwcRoutingTableService),t,o,r,s,l,a,Vn.CUT).then(c=>{this.fwcPolicyService.reloadPolicy(),this.dispatchFwStatusUpdateAction(e,t)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(di.requestUnblockUI())})}setRouteStyle(e,t){if(t){let o={style:t.ruleColor};this.updateSelectedRoutes(e._fwcClusterId,e.firewall,this.fwcUserService.getActualFwSelectedCloud(),t.routingTableId,o)}}updateRouteComment(e,t){if(t&&t.formModel){let o=t.formModel.comment;if(t.comment!==o){let r=t.firewall,s=t.fwcloud,a={comment:o};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),r,s,e,t.id,a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),t.comment=o,this.dispatchFwStatusUpdateAction(t._fwcClusterId,r)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),t.formModel.comment=t.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleApplyTo(e,t){if(t&&t.formModel){let o=t.firewall,r=t.fwcloud,s={firewallApplyToId:t.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingPolicyService),o,r,e,t.id,s).then(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(t._fwcClusterId,t.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}newRouteGroup(e,t,o){let r=o&&o.groupName,s=o&&o.groupComment;if(r){let l=this.ruleSelectedService.getActualSelectedRules().map(c=>c.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRouteGroup.bind(this.fwcRoutingTableService),e,t,r,s,l).then(c=>{this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL]})),this.fwcPolicyService.reloadPolicy()}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}else return}static{this.\u0275fac=function(t){return new(t||i)(ie(je),ie(xi),ie(Ct),ie(ot),ie(pn),ie(Kc),ie(wr),ie(qc),ie(Kt),ie(pe),ie(Ke),ie(Wt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})();var aMe=["txtScriptString"],lMe=()=>({height:"98%",minHeight:"12rem"});function cMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"SCRIPT_PANEL.HEADER_DHCP")," ")}function dMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"SCRIPT_PANEL.HEADER_KEEPALIVED")," ")}function uMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"SCRIPT_PANEL.HEADER_HAPROXY")," ")}function pMe(i,n){i&1&&(T(0),O(1,"translate")),i&2&&z(" ",P(1,1,"SCRIPT_PANEL.HEADER")," ")}function hMe(i,n){if(i&1&&(f(0,"div",9)(1,"h6",10),I(2,cMe,2,3)(3,dMe,2,3)(4,uMe,2,3)(5,pMe,2,3),m()()),i&2){let e,t=h();d(2),G((e=t.policyType)===66?2:e===68?3:e===69?4:5)}}function fMe(i,n){if(i&1){let e=k();re(0),f(1,"div",11)(2,"button",12),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.onCancel())}),m(),f(4,"button",13),O(5,"translate"),R("click",function(){b(e);let o=h();return y(o.onSubmit())}),m()(),se()}i&2&&(d(2),Z("label",P(3,2,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(5,4,"GLOBALS.MSG_BUTTONS.SAVE")))}var M2t=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u){super(e,t,o,r,s,a),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.cd=r,this.store=s,this.router=a,this.confirmationService=l,this.translate=c,this._document=u,this.darkMode=!1}ngOnInit(){this.store.pipe(Sn(Zr),yt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"})}ngAfterViewInit(){}onShowDialog(){this.txtScriptString&&setTimeout(()=>{this.txtScriptString.nativeElement.focus()},100)}ngOnDestroy(){super.ngOnDestroy()}show(e,t){this.rule=t,this.PolicyObject=e,this.scriptstring=t.run_before,this.policyType=this.PolicyObject.getPolicyType(),(this.policyType===66||this.policyType===68||this.policyType===69)&&(this.scriptstring=t.cfg_text),this.scriptGroup=new Ho({scriptForm:new _e(this.scriptstring)}),this.showDialog()}onSubmit(){this.scriptstring=this.scriptGroup.value.scriptForm,this.rule.formModel.run_before=this.scriptstring,this.rule.type===si[B.DHCP]||this.rule.type===si[B.KEEPALIVED]||this.rule.type===si[B.HAPROXY]?(this.rule.formModel.cfg_text=this.scriptstring,this.rule.formModel.run_before=void 0,this.PolicyObject.setRuleScript(this.rule)):this.PolicyObject.setRuleScript(this.rule),this.hideDialog()}onCancel(e){!e&&this.scriptGroup&&!this.scriptGroup.pristine&&this.scriptGroup.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(pe),v(Ke),v(et),v(Wt),v(je),v(ct))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,o){if(t&1&&ne(aMe,5),t&2){let r;K(r=q())&&(o.txtScriptString=r.first)}},features:[Ge([Bt,ab,db,md]),fe],decls:10,vars:8,consts:[["dlgConfigDialog",""],["txtScriptString",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"fwcScriptPanel",3,"formGroup"],[1,"grid"],[1,"col-12"],["id","textScript","formControlName","scriptForm","pInputTextarea","",1,"textScript",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divLoadTemp"],["type","button","pButton","","icon","pi pi-trash","icon","pi pi-times",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","fa fa-save",1,"p-button-success",3,"click","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",2,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(o.onShowDialog())})("onHide",function(){return b(r),y(o.hideDialog())}),I(2,hMe,6,1,"ng-template",3),f(3,"form",4)(4,"div",5)(5,"div",6)(6,"textarea",7,1),T(8),m()()()(),I(9,fMe,6,6,"ng-template",8),m()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(3),p("formGroup",o.scriptGroup),d(3),p("ngStyle",Ie(7,lMe)),d(2),H(o.scriptstring))},dependencies:[ve,Gn,Wi,Gi,Hn,zn,io,Ht,ge,at,Qo,ht]})}}return i})();var iO=Xs(fd());var mMe=["txtCompiledString"],gMe=()=>({height:"98%",minHeight:"12rem"});function _Me(i,n){if(i&1){let e=k();f(0,"div",8)(1,"h6",9),T(2),O(3,"translate"),m()(),f(4,"div",10)(5,"button",11),R("click",function(){b(e);let o=h();return y(o.minimizeDialog())}),m()()}if(i&2){let e=h();d(2),zr(" ",P(3,2,"CONTEXT.POLICY.HEADER")," ",e.firewallName," ")}}function CMe(i,n){if(i&1){let e=k();f(0,"button",12),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.handleExportedToClipboard())}),m(),f(2,"button",13),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.downloadPolicyScript(o.firewallId))}),m(),f(4,"button",14),O(5,"translate"),R("click",function(){b(e);let o=h();return y(o.onCancel())}),m()}i&2&&(Z("label",P(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")),d(2),Z("label",P(3,5,"CONTEXT.POLICY.DOWNLOAD")),d(2),Z("label",P(5,7,"GLOBALS.MSG_BUTTONS.CLOSE")))}var nO=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w){super(e,t,o,c,u,g),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.fwcFirewallService=r,this.fwcPolicyService=s,this.fwcUserService=a,this.utilService=l,this.cd=c,this.store=u,this.router=g,this.confirmationService=_,this.translate=C,this._document=w,this.darkMode=!1,this.firewalls=[],this.FirewallOpsIcons=Bp}ngOnInit(){this.store.pipe(Sn(Zr),yt(()=>this.alive)).subscribe(e=>{this.darkMode=e==="dark"})}ngAfterViewInit(){}show(e){let t,o=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(r=>{r.data&&Array.isArray(r.data)&&(o=r.data),o.find(s=>s.id===e)===void 0||o.find(s=>s.id===e)===null?t=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):t=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a=[],l,c;Array.isArray(s.data)&&s.data.length?a.push(...s.data):s.data&&s.data.id&&a.push(s.data),this.firewalls=[];for(let u=0;u<a.length;u++){if(a[u].status_compiled=a[u].status&1,a[u].status_installed=a[u].status&2,a[u].status_compiled=a[u].status_compiled?Ui.FW_PENDING:Ui.FW_OK,a[u].status_installed=a[u].status_installed?Ui.FW_PENDING:Ui.FW_OK,l=a[u].cluster,l==null)this.firewalls.push(a[u]);else{c=!1;for(let C=0;C<this.firewalls.length&&!c;C++)this.firewalls[C].cluster==l&&(this.firewalls[C].fwnodes.push(a[u]),c=!0);let g="",_=o.filter(C=>C.id==l);if(_&&_.length&&(g=_[0].name),!c){let C=Object.assign({},a[u]);a[u].name=g,a[u].fwnodes=[],a[u].fwnodes.push(C),this.firewalls.push(a[u])}}this.firewalls[u]!==void 0&&this.firewalls[u].status_compiled==Ui.FW_PENDING?(this.firewalls[u].status_compiled=Ui.FW_WARNING,this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[u].name}),reject:()=>{this.hideDialog()},accept:()=>{let g;o.find(_=>_.id===e)===void 0||o.find(_=>_.id===e)===null?g={compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_FIREWALL,compileId:e,compileType:0}:g={compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_CLUSTER,compileId:e,compileType:100},this.itemSelectedService.setCloudToCompile(g),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.firewallId=this.firewalls[0].id,this.fwcPolicyService.getPolicyRules(this.fwcUserService.getActualFwSelectedCloud(),this.firewallId).subscribe(g=>{this.PolicyCompiledString=g.data}),this.showDialog())}})})}ngOnDestroy(){super.ngOnDestroy()}onShowDialog(){}onCancel(){this.hideDialog()}downloadPolicyScript(e){return he(this,null,function*(){let t="";if(this.firewalls.length===0||this.firewalls===null||this.firewalls===void 0){let o,r=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{s.data&&Array.isArray(s.data)&&(r=s.data),r.find(a=>a.id===e)===void 0||r.find(a=>a.id===e)===null?o=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):o=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),o(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=[],c,u;if(Array.isArray(a.data)&&a.data.length?l.push(...a.data):a.data&&a.data.id&&l.push(a.data),l[0].status_compiled=l[0].status&1,l[0].status_installed=l[0].status&2,l[0].status_compiled=l[0].status_compiled?Ui.FW_PENDING:Ui.FW_OK,l[0].status_installed=l[0].status_installed?Ui.FW_PENDING:Ui.FW_OK,c=l[0].cluster,c==null)this.firewalls.push(l[0]);else{u=!1;for(let C=0;C<this.firewalls.length&&!u;C++)this.firewalls[C].cluster==c&&(this.firewalls[C].fwnodes.push(l[0]),u=!0);let g="",_=r.filter(C=>C.id==c);if(_&&_.length&&(g=_[0].name),!u){let C=Object.assign({},l[0]);l[0].name=g,l[0].fwnodes=[],l[0].fwnodes.push(C),this.firewalls.push(l[0])}}l[0]!==void 0&&l[0].status_compiled==Ui.FW_PENDING?(this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[0].name}),reject:()=>{this.hideDialog()},accept:()=>{let g;r.find(_=>_.id===e)===void 0||r.find(_=>_.id===e)===null?g={compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_FIREWALL,compileId:e,compileType:0}:g={compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_CLUSTER,compileId:e,compileType:100},this.itemSelectedService.setCloudToCompile(g),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),this.firewalls[0].id).then(g=>{let _=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,iO.saveAs)(g.body,_)}))})})}else this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),e).then(o=>{let r=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,iO.saveAs)(o.body,r)});this.ngOnDestroy()})}handleExportedToClipboard(){this.txtCompiledString&&(document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0))}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(Bt),v(pn),v(ot),v(Ct),v(pe),v(Ke),v(et),v(Wt),v(je),v(ct))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-config-panel"]],viewQuery:function(t,o){if(t&1&&ne(mMe,5),t&2){let r;K(r=q())&&(o.txtCompiledString=r.first)}},features:[Ge([Bt,Xr,ab,db,md]),fe],decls:9,vars:7,consts:[["dlgConfigDialog",""],["txtCompiledString",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid","divFw"],[1,"col-12"],["id","textarea","readonly","true","pInputTextarea","",1,"textPolicyString",3,"ngStyle"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",2,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(o.onShowDialog())})("onHide",function(){return b(r),y(o.hideDialog())}),I(2,_Me,6,4,"ng-template",3),f(3,"div",4)(4,"div",5)(5,"textarea",6,1),T(7),m()()(),I(8,CMe,6,9,"ng-template",7),m()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(5),p("ngStyle",Ie(6,gMe)),d(2),H(o.PolicyCompiledString))},dependencies:[ve,Ht,ge,at,Qo,ht],styles:["textarea[_ngcontent-%COMP%]{font-family:monospace!important}"]})}}return i})();var IMe=["opLogger"],vMe=["menuUpdate"],bMe=i=>({display:i}),yMe=()=>({width:"2rem",height:"2rem"}),wMe=()=>({width:"1.5rem",height:"1.5rem"});function SMe(i,n){if(i&1){let e=k();f(0,"div",3)(1,"div",11)(2,"i",12),R("click",function(){b(e);let o=h();return y(o.handleCloseDialog())}),m()(),f(3,"div",5),E(4,"p-progressSpinner"),f(5,"h3"),T(6),O(7,"translate"),m()()()}i&2&&(d(4),it(Ie(5,yMe)),d(2),H(P(7,3,"PANELS.UPDATES_PANEL.INFO.CHECKING_UPDATES.HEADER")))}function AMe(i,n){i&1&&(f(0,"tr")(1,"th"),T(2),O(3,"translate"),m(),f(4,"th"),T(5),O(6,"translate"),m(),f(7,"th"),T(8),O(9,"translate"),m(),f(10,"th"),T(11),O(12,"translate"),m(),f(13,"th"),T(14,"Changelog"),m()()),i&2&&(d(2),H(P(3,4,"PANELS.UPDATES_PANEL.TABLE.APP")),d(3),H(P(6,6,"PANELS.UPDATES_PANEL.TABLE.CURRENT")),d(3),H(P(9,8,"PANELS.UPDATES_PANEL.TABLE.LAST")),d(3),H(P(12,10,"PANELS.UPDATES_PANEL.TABLE.NEEDS_UPDATE")))}function xMe(i,n){i&1&&E(0,"i",21)}function EMe(i,n){if(i&1){let e=k();f(0,"a",23),R("click",function(){b(e);let o=h().$implicit,r=h(2);return y(r.fetchChangeLog(o))}),E(1,"i",24),m()}}function TMe(i,n){i&1&&E(0,"p-progressSpinner"),i&2&&it(Ie(2,wMe))}function OMe(i,n){if(i&1){let e=k();f(0,"tr")(1,"td")(2,"span",19),R("contextmenu",function(o){let r=b(e).$implicit,s=h(2);return y(s.handleShowUpdateMenu(r,o))}),T(3),m()(),f(4,"td")(5,"span"),T(6),m()(),f(7,"td")(8,"span"),T(9),m()(),f(10,"td",20),I(11,xMe,1,0,"i",21),m(),f(12,"td",20),I(13,EMe,2,0,"a")(14,TMe,1,3,"p-progressSpinner",22),m()()}if(i&2){let e=n.$implicit,t=h(2);d(3),z(" ",e.appName," "),d(3),z(" ",e.current?e.current:"?"," "),d(3),z(" ",e.last?e.last:"?","\xA0 "),d(2),G(e.needsUpdate?11:-1),d(2),G(t.appBeingFetched!==e.appName?13:-1),d(),G(t.appBeingFetched===e.appName?14:-1)}}function RMe(i,n){if(i&1){let e=k();f(0,"button",25),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.handleUpdate())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"GLOBALS.MSG_OP_ASK.YES")),p("disabled",e.updating||!e.anyUpdatesSelected||e.pkgBasedInstall)}}function DMe(i,n){if(i&1){let e=k();f(0,"div",3)(1,"div",5),E(2,"i",13),f(3,"p")(4,"strong"),T(5),O(6,"translate"),O(7,"translate"),m()()(),f(8,"div",7)(9,"p"),T(10),O(11,"translate"),O(12,"translate"),m()(),f(13,"div",7)(14,"p-table",14),I(15,AMe,15,12,"ng-template",15)(16,OMe,15,6,"ng-template",16),m()(),f(17,"div",7)(18,"p"),T(19),O(20,"translate"),O(21,"translate"),m()(),f(22,"div",9),I(23,RMe,2,4,"button",17),f(24,"button",18),O(25,"translate"),O(26,"translate"),R("click",function(){b(e);let o=h();return y(o.dialogRef.close({needsReloadUpdates:!!o.pkgBasedInstall}))}),m()()()}if(i&2){let e=h();d(5),H(e.manualUpdate?P(6,7,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.HEADER"):P(7,9,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.HEADER")),d(5),z(" ",e.manualUpdate?P(11,11,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.TEXT"):P(12,13,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.TEXT")," "),d(4),p("value",e.updateDataAsArray),d(5),z(" ",e.pkgBasedInstall?P(20,15,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT_PKG_INSTALL"):P(21,17,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT")," "),d(4),G(e.pkgBasedInstall?-1:23),d(),Z("label",e.pkgBasedInstall?P(26,21,"GLOBALS.MSG_BUTTONS.CLOSE"):P(25,19,"GLOBALS.MSG_OP_ASK.LATER")),p("disabled",e.updating)}}function PMe(i,n){if(i&1&&(f(0,"div",7),E(1,"sts-fwc-message",26),m()),i&2){let e=h();d(),p("message",e.opMessage)}}var WU=(()=>{class i extends Zv{constructor(e,t,o,r,s,a,l,c,u,g,_){super(e,o),this.dialogRef=e,this.dialogConfig=t,this._router=o,this.fwcEventService=r,this.fwcUserService=s,this.fwcAuthService=a,this.appDialogPanelsService=l,this.confirmationService=c,this.messageService=u,this.utilService=g,this.translate=_,this.shouldCheckUpdates=!0,this.needsUpdate=!1,this.manualUpdate=!1,this.openedFromHelp=!1,this.needsRelogin=!1,this.needsReloadUpdates=!1,this.updating=!1,this.anyUpdatesSelected=!1,this.finishedUpdating=!1,this.updateDataAsArray=[],this.menuUpdateOptions=[],this.shouldCheckUpdates=de.settings.checkUpdates,this.pkgBasedInstall=de.settings.installMethod===$a.pkg}ngOnInit(){this.openedFromHelp=this.dialogConfig.data&&this.dialogConfig.data.openedFromHelp,this.checkingUpdates=!0,this.getUpdatesSubscription=this.utilService.getAppVersions().subscribe({next:e=>{if(e.data){this.updateData=this.parseUpdateInfo(e.data),this.updateDataAsArray=this.transformUpdateInfoToArray(this.updateData),this.fwcUserService.setAppVersions(this.updateDataAsArray),this.itUpdateData=this.createUpdateDataIterator(),this.manualUpdate=this.dialogConfig.data&&this.dialogConfig.data.manualUpdate;for(let t in e.data)if(e.data[t].needsUpdate){this.needsUpdate=!0,this.anyUpdatesSelected=!0;break}!this.needsUpdate&&!this.manualUpdate&&(this.dialogRef.close({needsReloadUpdates:!0}),this.shouldCheckUpdates&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.TEXT")}))}this.checkingUpdates=!1},error:()=>{this.fwcUserService.setAppVersions([]),this.dialogRef.close({needsReloadUpdates:!0}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.TEXT")+(this.openedFromHelp?"":this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.SUBTEXT"))}),this.checkingUpdates=!1}})}ngOnDestroy(){this.alive=!1}handleShowUpdateMenu(e,t){this.manualUpdate&&e&&e.apiEndpoint!=="updater"&&(e.needsUpdate?this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.CLEAR"),icon:"fa fa-times fwcRed",command:()=>{e.needsUpdate=!1;let o=!1;for(let r of this.updateDataAsArray)if(r.needsUpdate){o=!0;break}this.anyUpdatesSelected=o}}]:this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.FORCE"),icon:"fa fa-check fwcGreen",command:()=>{e.needsUpdate=!0,this.anyUpdatesSelected=!0}}],this.menuUpdate.toggle(t))}handleUpdate(){return he(this,null,function*(){this.updating=!0,this.updateData&&(this.fwcEventService.getEvent().pipe(yt(()=>this.alive)).subscribe(e=>{e.type===Ca.EVENT_CONNECTION_ESTABLISHED?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_RESTORED"),nt.MSG_INFO),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),nt.MSG_OK),this.needsReloadUpdates=!0,this.currentOp&&this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation()):e.type===Ca.EVENT_CONNECTION_LOST&&this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_LOST"),nt.MSG_INFO)}),this.log.startDataLoad(),this.doUpdateOperation())})}doUpdateOperation(){return he(this,null,function*(){if(this.currentOp=this.itUpdateData.next().value,this.currentOp)if(this.currentOp.needsUpdate)try{this.currentOp.impliesConnectionLoss?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),nt.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint)):(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),nt.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),nt.MSG_OK),this.needsReloadUpdates=!0,this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation())}catch{this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.APPLYING_UPDATES.TEXT"),nt.MSG_ERROR),this.log.stopDataLoad(),this.finishedUpdating=!0}else this.doUpdateOperation();else this.log.stopDataLoad(),this.finishedUpdating=!0,this.needsRelogin&&(this.opMessage={type:"warning",title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.HEADER"),text:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.TEXT")})})}fetchChangeLog(e){e&&e.changelogURL&&e.appName&&(this.appBeingFetched=e.appName,fetch(e.changelogURL).then(t=>t.json()).then(t=>{if(t){let o=decodeURIComponent(escape(atob(t.content)));this.appDialogPanelsService.searchAndShowDialog({uuid:ci.DOCS_PANEL,data:{markdown:o,title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.CHANGES",{appName:e.appName}),icon:"fa fa-tags"}})}this.appBeingFetched=null}).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.TEXT",{appName:e.appName})}),this.appBeingFetched=null}))}handleCloseDialog(){return he(this,null,function*(){if(this.getUpdatesSubscription&&this.getUpdatesSubscription.unsubscribe(),this.needsReloadUpdates&&!this.needsRelogin)try{this.checkingUpdates=!0,this.needsUpdate=this.manualUpdate=this.updating=!1;let e=yield this.utilService.fwcAPICall(this.utilService.getAppVersions.bind(this.utilService)),t=this.parseUpdateInfo(e.data),o=this.transformUpdateInfoToArray(t);this.fwcUserService.setAppVersions(o)}catch{}this.menuUpdate&&this.menuUpdate.hide(),this.dialogRef.close({needsReloadUpdates:this.needsReloadUpdates,needsRelogin:this.needsRelogin}),this.needsRelogin&&this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(!0),this._router.navigate(["/"])})})}parseUpdateInfo(e){if(e){for(let t in e)e[t]||(e[t]={});e.updater.impliesConnectionLoss=!1,e.updater.apiEndpoint="updater",e.updater.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UPDATER"),e.updater.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-updater/contents/CHANGELOG.md?ref=main",e.api.impliesConnectionLoss=!0,e.api.apiEndpoint="api",e.api.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.API"),e.api.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-api/contents/CHANGELOG.md?ref=main",e.websrv.impliesConnectionLoss=!0,e.websrv.apiEndpoint="websrv",e.websrv.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV"),e.websrv.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-websrv/contents/CHANGELOG.md?ref=main",e.ui.impliesRelogin=!0,e.ui.apiEndpoint="ui",e.ui.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UI"),e.ui.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-ui/contents/CHANGELOG.md?ref=main"}return e}transformUpdateInfoToArray(e){let t=[];return e&&(this.pkgBasedInstall||t.push(e.websrv),t.push(e.ui),t.push(e.api),this.pkgBasedInstall||t.push(e.updater)),t}*createUpdateDataIterator(){this.updateData&&(yield this.updateData.updater,yield this.updateData.api,yield this.updateData.websrv,yield this.updateData.ui)}static{this.\u0275fac=function(t){return new(t||i)(v(Sa),v(dd),v(et),v(_n),v(ot),v(Jr),v(At),v(Wt),v(Kt),v(Ct),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-update-panel"]],viewQuery:function(t,o){if(t&1&&(ne(IMe,5),ne(vMe,5)),t&2){let r;K(r=q())&&(o.log=r.first),K(r=q())&&(o.menuUpdate=r.first)}},features:[fe],decls:21,vars:18,consts:[["menuUpdate",""],["opLogger",""],["appendTo","body",3,"popup","model"],[1,"grid"],[1,"grid",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"fa","fa-5x","fa-refresh","fwcBlue"],[1,"col-12"],["height","10rem"],[1,"col-12","divButtons"],["type","button","pButton","","icon","fa fa-times",1,"p-button-info",3,"click","disabled","label"],[1,"col-12","fwc-right"],[1,"pi","pi-times",2,"cursor","pointer",3,"click"],[1,"fa","fa-5x","fa-info-circle","fwcBlue"],["styleClass","tblUpdateTable",3,"value"],["pTemplate","header"],["pTemplate","body"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-times",1,"p-button-secondary",3,"click","disabled","label"],[3,"contextmenu"],[2,"text-align","center"],[1,"fa","fa-fw","fa-check","fwcGreen"],[3,"style"],[3,"click"],[1,"fa","fa-fw","fa-eye","fwcBlue"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"click","disabled","label"],[3,"message"]],template:function(t,o){if(t&1){let r=k();E(0,"p-menu",2,0),I(2,SMe,8,6,"div",3)(3,DMe,27,23,"div",3),f(4,"div",4)(5,"div",5),E(6,"i",6),f(7,"h6"),T(8),O(9,"translate"),m()(),f(10,"div",7)(11,"p"),T(12),O(13,"translate"),m()(),f(14,"div",7),E(15,"sts-fwc-log",8,1),m(),I(17,PMe,2,1,"div",7),f(18,"div",9)(19,"button",10),O(20,"translate"),R("click",function(){return b(r),y(o.handleCloseDialog())}),m()()()}t&2&&(p("popup",!0)("model",o.menuUpdateOptions),d(2),G(o.checkingUpdates?2:-1),d(),G((o.needsUpdate||o.manualUpdate)&&!o.updating?3:-1),d(),p("ngStyle",J(16,bMe,o.updating?"block":"none")),d(4),H(P(9,10,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.HEADER")),d(4),H(P(13,12,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.TEXT")),d(5),G(o.opMessage?17:-1),d(2),Z("label",P(20,14,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",!o.finishedUpdating||o.checkingUpdates||o.appBeingFetched))},dependencies:[ve,ge,at,Eo,Oo,Qd,Er,gn,ht],styles:[`.tblUpdateTable table td{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}.tblUpdateTable table td *{vertical-align:middle}.divButtons{text-align:left}.divButtons button{padding:.429rem 1rem!important}
`],encapsulation:2})}}return i})();var $U=(()=>{class i{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(t){return new(t||i)(v(ha,16))}}static{this.\u0275pipe=xn({name:"fwcSafeUrl",type:i,pure:!0})}}return i})();var LMe=["fwcHelpDialog"],MMe=["menuUpdate"];function kMe(i,n){if(i&1&&E(0,"p-menu",3,1),i&2){let e=h();p("popup",!0)("model",e.menuUpdateOptions)}}function NMe(i,n){if(i&1){let e=k();f(0,"div",9)(1,"h6",10),E(2,"i",11),T(3),O(4,"translate"),m()(),f(5,"div",12)(6,"button",13),R("click",function(){b(e);let o=h();return y(o.minimizeDialog())}),m()()}i&2&&(d(3),z(" ",P(4,1,"HELP.TITLE")," "))}function VMe(i,n){i&1&&E(0,"p-progressSpinner")}function BMe(i,n){if(i&1){let e=k();f(0,"div",6)(1,"div",14),I(2,VMe,1,0,"p-progressSpinner"),m(),f(3,"iframe",15,2),O(5,"fwcSafeUrl"),R("load",function(){b(e);let o=h();return y(o.handleIframeLoad())})("error",function(){b(e);let o=h();return y(o.handleIframeLoad(!0))}),m()()}if(i&2){let e=h();d(2),G(e.loadingData?2:-1),d(),p("src",P(5,2,e.helpURL),e1)}}function UMe(i,n){if(i&1&&(f(0,"span"),T(1),f(2,"strong"),T(3),m()()),i&2){let e=h().$implicit;d(),z(" ",e==null?null:e.appName," - "),d(2),H(e!=null&&e.current?"v"+e.current:"?")}}function jMe(i,n){if(i&1&&(f(0,"span"),T(1),f(2,"strong"),T(3,"?"),m()()),i&2){let e=h().$implicit;d(),z(" ",e==null?null:e.appName," - ")}}function HMe(i,n){if(i&1){let e=k();f(0,"span",37),R("contextmenu",function(o){b(e);let r=h(3);return y(r.menuUpdate.toggle(o))}),I(1,UMe,4,2,"span")(2,jMe,4,1,"span"),E(3,"br"),m()}if(i&2){let e=n.$implicit;d(),G(e!=null&&e.current?1:2)}}function GMe(i,n){if(i&1&&(f(0,"div"),fo(1,HMe,4,1,"span",null,ho),m()),i&2){let e=h(2);d(),mo(e.appVersions)}}function zMe(i,n){if(i&1){let e=k();f(0,"span",37),R("contextmenu",function(o){b(e);let r=h(3);return y(r.menuUpdate.toggle(o))}),T(1),O(2,"translate"),f(3,"strong"),T(4,"?"),m()()}i&2&&(d(),z(" ",P(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV")," - "))}function WMe(i,n){if(i&1){let e=k();f(0,"span",37),R("contextmenu",function(o){b(e);let r=h(3);return y(r.menuUpdate.toggle(o))}),T(1),O(2,"translate"),f(3,"strong"),T(4,"?"),m()()}i&2&&(d(),z(" ",P(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.API")," - "))}function $Me(i,n){if(i&1){let e=k();f(0,"span",37),R("contextmenu",function(o){b(e);let r=h(3);return y(r.menuUpdate.toggle(o))}),T(1),O(2,"translate"),f(3,"strong"),T(4,"?"),m()()}i&2&&(d(),z(" ",P(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.UPDATER")," - "))}function KMe(i,n){if(i&1){let e=k();I(0,zMe,5,3,"span"),E(1,"br"),f(2,"span",37),R("contextmenu",function(o){b(e);let r=h(2);return y(r.menuUpdate.toggle(o))}),T(3),O(4,"translate"),f(5,"strong"),T(6),m()(),E(7,"br"),I(8,WMe,5,3,"span"),E(9,"br"),I(10,$Me,5,3,"span"),E(11,"br")}if(i&2){let e=h(2);G(e.shouldCheckUpdates?0:-1),d(3),z(" ",P(4,5,"PANELS.UPDATES_PANEL.INFO.APPS.UI")," - "),d(3),z("v",e.fwcAppVersion,""),d(2),G(e.shouldCheckUpdates?8:-1),d(2),G(e.shouldCheckUpdates?10:-1)}}function qMe(i,n){if(i&1){let e=k();f(0,"button",38),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCheckUpdates())}),m()}i&2&&Z("label",P(1,1,"HELP.CHECK_UPDATES"))}function YMe(i,n){if(i&1&&(f(0,"div",7)(1,"div",16)(2,"div",17)(3,"a",18),E(4,"img",19),m(),f(5,"div",20),I(6,GMe,3,0,"div")(7,KMe,12,7),E(8,"br"),I(9,qMe,2,3,"button",21),E(10,"br")(11,"br")(12,"span",22),O(13,"translate"),m()()(),f(14,"div",23)(15,"h5",24),T(16),O(17,"translate"),m(),f(18,"a",25),E(19,"img",26),m(),f(20,"div")(21,"strong")(22,"a",25),T(23,"SOLTECSIS SOLUCIONES TECNOL\xD3GICAS, S.L."),m()(),E(24,"br"),f(25,"div",27)(26,"span"),E(27,"i",28),m(),T(28," info@soltecsis.com "),E(29,"br")(30,"span"),f(31,"strong"),T(32),O(33,"translate"),m(),E(34,"br"),f(35,"span"),E(36,"i",29),m(),f(37,"a",30),T(38,"https://forum.fwcloud.net "),m(),E(39,"br"),m()(),E(40,"br"),f(41,"h5",24),T(42),O(43,"translate"),m(),f(44,"ul")(45,"li")(46,"a",31),O(47,"translate"),T(48),O(49,"translate"),m()(),f(50,"li")(51,"a",32),T(52),O(53,"translate"),m()(),f(54,"li")(55,"a",33),T(56),O(57,"translate"),m()(),f(58,"li")(59,"a",34),T(60),O(61,"translate"),m()(),f(62,"li")(63,"a",35),T(64),O(65,"translate"),m()(),f(66,"li")(67,"a",36),T(68),O(69,"translate"),m()()()()()),i&2){let e=h();d(6),G(e.appVersions&&e.appVersions.length?6:7),d(3),G(e.shouldCheckUpdates?9:-1),d(3),Z("innerHTML",P(13,13,"GLOBALS.LICENSE"),Fi),d(4),z("",P(17,15,"HELP.DEV"),":"),d(16),H(P(33,17,"HELP.SUPPORT_EMAIL")),d(10),z("",P(43,19,"HELP.LINKS"),":"),d(4),Z("href",P(47,21,"HELP.SUPPORT_WEB"),lr),d(2),H(P(49,23,"HELP.GOTO_DOC")),d(4),H(P(53,25,"HELP.GIT_INSTALLER")),d(4),H(P(57,27,"HELP.GIT_WEBSRV")),d(4),H(P(61,29,"HELP.GIT_UI")),d(4),H(P(65,31,"HELP.GIT_API")),d(4),H(P(69,33,"HELP.GIT_UPDATER"))}}function JMe(i,n){if(i&1){let e=k();f(0,"button",39),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onClose())}),m()}i&2&&Z("label",P(1,1,"GLOBALS.MSG_BUTTONS.CLOSE"))}var ORt=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w){super(e,t,r,_,C,g),this.appDialogPanelsService=e,this.appOptionsService=t,this.confirmationService=o,this.itemSelectedService=r,this.fwcUserService=s,this.messageService=a,this.dialogService=l,this.utilService=c,this.translate=u,this.router=g,this.cd=_,this.store=C,this._document=w,this.fwcAppVersion=mp.VERSION,this.appVersions=[],this.menuUpdateOptions=[],this.loadingData=!1,this.shouldCheckUpdates=!0,this.shouldCheckUpdates=de.settings.checkUpdates,this.pkgBasedInstall=de.settings.installMethod===$a.pkg,this.translate.get("HELP.TITLE").subscribe(S=>{this.createDialog(S,"fwci-help")})}ngOnInit(){this.appOptionsService.showHelp().pipe(yt(()=>this.alive)).subscribe(e=>{if(e){if(e!==this.helpUrlOrSection){let t=/\/(cloud|policy|vpn|ipobjs|firewalls|configuration)/,o,r=t.exec(e);if(r){let s=r[1];o=Ek[s]}o||(o=""),this.helpUrlOrSection=e,this.loadingData=!0,this.helpURL=de.settings.fwcAppDocsURL+"/"+o}}else{this.helpURL=null,this.helpUrlOrSection=null;let t=this.fwcUserService.getActualFwcUser();t.appVersions&&(this.appVersions=t.appVersions),this.menuUpdateOptions=[{label:this.translate.instant("HELP.UPDATE_MANUALLY"),icon:"fa fa-wrench",command:()=>{this.onCheckUpdates(!0)}}]}this.showDialog()})}ngOnDestroy(){super.ngOnDestroy()}onCheckUpdates(e=!1){this.dialogService.open(WU,{showHeader:!1,data:{manualUpdate:e,openedFromHelp:!0}}).onClose.pipe(yt(()=>this.alive)).subscribe(o=>{if(o){if(o.needsReloadUpdates){let r=this.fwcUserService.getActualFwcUser();r.appVersions&&(this.appVersions=r.appVersions)}o.needsRelogin&&this.onClose()}})}onClose(){this.menuUpdate&&this.menuUpdate.hide(),super.hideDialog()}changeTheme(e){e?this._document.getElementById("fwcTheme").setAttribute("href","assets/themes/fwc-dark.css"):this._document.getElementById("fwcTheme").removeAttribute("href")}goToWebsite(){window.open(this.translate.instant("HELP.SUPPORT_WEB"),"_blank")}reCenter(e){this.cd.detectChanges(),this.fwcHelpDialog.center()}handleIframeLoad(e){this.loadingData=!1}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(Wt),v(_t),v(ot),v(Kt),v(ud),v(Ct),v(je),v(et),v(pe),v(Ke),v(ct))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-dashboard-help"]],viewQuery:function(t,o){if(t&1&&(ne(LMe,5),ne(MMe,5)),t&2){let r;K(r=q())&&(o.fwcHelpDialog=r.first),K(r=q())&&(o.menuUpdate=r.first)}},features:[Ge([ud]),fe],decls:7,vars:7,consts:[["fwcHelpDialog",""],["menuUpdate",""],["iframeHelp",""],["appendTo","body",3,"popup","model"],[3,"visibleChange","onChange","visible","styleClass","modal","closable","resizable"],["pTemplate","header"],[1,"iframeContainer"],[1,"grid"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"iframeContainer-loader"],["frameborder","0",3,"load","error","src"],[1,"col-4"],[1,"divHelpLogo"],["href","https://fwcloud.net","target","_blank"],["src","assets/img/fwcloud.png"],[1,"fwcVersion"],["pButton","","icon","fa fa-server",1,"p-button-primary",3,"label"],[3,"innerHTML"],[1,"col-8","divDevInfo"],[1,"fwcBlue"],["href","https://soltecsis.com","target","_blank"],["src","assets/img/logo-Soltecsis.jpg"],[1,"divData"],[1,"fa","fa-fw","fa-envelope","fwcBlue"],[1,"fa","fa-fw","fa-comments","fwcBlue"],["href","https://forum.fwcloud.net","target","_blank"],["target","_blank",3,"href"],["href","https://github.com/soltecsis/fwcloud-installer","target","_blank"],["href","https://github.com/soltecsis/fwcloud-websrv","target","_blank"],["href","https://github.com/soltecsis/fwcloud-ui","target","_blank"],["href","https://github.com/soltecsis/fwcloud-api","target","_blank"],["href","https://github.com/soltecsis/fwcloud-updater","target","_blank"],[3,"contextmenu"],["pButton","","icon","fa fa-server",1,"p-button-primary",3,"click","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){if(t&1){let r=k();I(0,kMe,2,2,"p-menu",3),f(1,"p-dialog",4,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onChange",function(a){return b(r),y(o.reCenter(a))}),I(3,NMe,7,3,"ng-template",5)(4,BMe,6,4,"div",6)(5,YMe,70,35,"div",7)(6,JMe,2,3,"ng-template",8),m()}t&2&&(G(o.pkgBasedInstall?-1:0),d(),Oe("visible",o.displayDialog),p("styleClass",o.helpURL?"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog--height":"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog")("modal",!0)("closable",!1)("resizable",!0),d(3),G(o.helpURL?4:5))},dependencies:[Ht,ge,at,Eo,Qd,ht,$U],styles:["[_ngcontent-%COMP%]:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divHelpLogo[_ngcontent-%COMP%]{text-align:center}.divHelpLogo[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:block;width:180px;height:auto;margin:0 auto 1em}.divDevInfo[_ngcontent-%COMP%]{border-left:1px solid var(--fwcBlue);padding-left:1rem;font-family:Montserrat,Arial,sans-serif!important}.divDevInfo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important;color:#007ad9!important}.divDevInfo[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:auto;float:right}.divDevInfo[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:.5rem;line-height:1.5;font-size:.9rem}.divDevInfo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.divDevInfo[_ngcontent-%COMP%]   .divData[_ngcontent-%COMP%]{color:var(--fwcDark)}.divDevInfo[_ngcontent-%COMP%]   .divData[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:1.7rem}.fwcVersion[_ngcontent-%COMP%]{font-family:monospace,sans-serif;text-align:center;font-size:.8em}.iframeContainer[_ngcontent-%COMP%]{height:100%;width:100%}.iframeContainer-loader[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.iframeContainer[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:100%;width:100%}.p-dialog-content[_ngcontent-%COMP%]   .divDevInfo[_ngcontent-%COMP%]{font-family:Montserrat,Arial,sans-serif!important}  .p-contextmenu .p-menuitem>.p-menuitem-content{box-shadow:0 1px 3px #0000004d!important;color:var(--inputColor);background:linear-gradient(to bottom,var(--fwcLightGreyGradient1) 0%,var(--fwcLightGreyGradient2) 100%)!important;border:1px solid var(--fwcGrey7)!important;border-radius:3px!important;font-family:Montserrat,Arial,sans-serif!important;font-size:.9rem!important}  .p-contextmenu .p-menuitem>.p-menuitem-content:hover{background:var(--fwcGrey7)!important}"]})}}return i})();var XMe=()=>({"padding-top":"20px"}),QMe=()=>({width:"2rem",height:"2rem"});function ZMe(i,n){i&1&&(f(0,"div",6)(1,"h6",7),E(2,"i",8),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"SNAPSHOTS_PANEL.HEADER")," "))}function eke(i,n){i&1&&(f(0,"colgroup"),E(1,"col")(2,"col")(3,"col")(4,"col")(5,"col"),m()),i&2&&(d(),fn("width","12rem"),d(2),fn("width","4rem"),d(),fn("width","10rem"))}function tke(i,n){i&1&&(f(0,"tr")(1,"th"),T(2),O(3,"translate"),m(),f(4,"th"),T(5),O(6,"translate"),m(),f(7,"th"),T(8),O(9,"translate"),m(),f(10,"th"),T(11),O(12,"translate"),m(),f(13,"th"),T(14),O(15,"translate"),m()()),i&2&&(d(2),H(P(3,5,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.0")),d(3),H(P(6,7,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1")),d(3),H(P(9,9,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.2")),d(3),H(P(12,11,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.3")),d(3),H(P(15,13,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4")))}function ike(i,n){i&1&&(f(0,"span"),E(1,"i",21),O(2,"translate"),T(3," \xA0 "),m()),i&2&&(d(),Z("pTooltip",P(2,1,"SNAPSHOTS_PANEL.INFO.INFO_INCOMPATIBLE")))}function nke(i,n){if(i&1&&(f(0,"tr",20)(1,"td"),I(2,ike,4,3,"span"),T(3),O(4,"date"),m(),f(5,"td"),T(6),m(),f(7,"td"),T(8),m(),f(9,"td"),T(10),O(11,"slice"),m(),f(12,"td"),T(13),m()()),i&2){let e=n.$implicit;p("pSelectableRow",e)("ngClass",e.compatible?"":"incompatible"),d(2),G(e.compatible?-1:2),d(),z(" ",pi(4,8,e.date,"dd/MM/yyyy HH:mm:ss")," "),d(3),z(" ",e.name," "),d(2),z(" ",e.version," "),d(2),z(" ",pi(11,11,e.schema,-7)," "),d(3),z(" ",e.comment," ")}}function oke(i,n){if(i&1){let e=k();f(0,"div",9)(1,"p-table",13),O(2,"fwcSortBy"),Re("selectionChange",function(o){b(e);let r=h(2);return De(r.selectedSnapshot,o)||(r.selectedSnapshot=o),y(o)}),I(3,eke,6,6,"ng-template",14)(4,tke,16,15,"ng-template",2)(5,nke,14,14,"ng-template",15),m(),f(6,"div",3)(7,"div",16)(8,"button",17),O(9,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onDeleteSnapshot())}),m(),E(10,"span",18),f(11,"button",19),O(12,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onRestoreSnapshot())}),m()()()()}if(i&2){let e=h(2);d(),p("value",da(2,9,e.snapshots,"desc","date")),Oe("selection",e.selectedSnapshot),p("scrollable",!0),d(6),it(Ie(17,XMe)),d(),Z("label",P(9,13,"SNAPSHOTS_PANEL.MANAGE.BTN_DELETE")),p("disabled",!e.selectedSnapshot||e.loadingData),d(3),Z("label",P(12,15,"SNAPSHOTS_PANEL.MANAGE.BTN_RESTORE")),p("disabled",!e.selectedSnapshot||e.loadingData||!(e.selectedSnapshot!=null&&e.selectedSnapshot.compatible))}}function rke(i,n){if(i&1){let e=k();f(0,"div",3)(1,"div",9)(2,"h5",10),T(3),O(4,"translate"),m()(),f(5,"div",11)(6,"button",12),O(7,"translate"),R("click",function(){b(e);let o=h();return y(o.onDoSnapshot())}),m()(),f(8,"div",9)(9,"h5",10),T(10),O(11,"translate"),m()(),I(12,oke,13,18,"div",9),m()}if(i&2){let e=h();d(3),z(" ",P(4,5,"SNAPSHOTS_PANEL.DO.HEADER")," "),d(3),Z("label",P(7,7,"SNAPSHOTS_PANEL.DO.BTN_DO")),p("disabled",e.loadingData),d(4),z(" ",P(11,9,"SNAPSHOTS_PANEL.MANAGE.HEADER")," "),d(2),G(e.snapshots!=null&&e.snapshots.length?12:-1)}}function ske(i,n){i&1&&(f(0,"div",4),E(1,"p-progressSpinner"),m()),i&2&&(d(),it(Ie(2,QMe)))}function ake(i,n){if(i&1&&(f(0,"div",4),E(1,"sts-fwc-message",22),m()),i&2){let e=h();d(),p("message",e.errorMessage)}}function lke(i,n){if(i&1){let e=k();f(0,"button",23),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onCancel())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var GRt=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S){super(r,t,e,u,S,C),this.itemSelectedService=e,this.appOptionsService=t,this.fwcUserService=o,this.appDialogPanelsService=r,this.utilService=s,this.confirmationService=a,this.messageService=l,this.translate=c,this.cd=u,this.inputDataService=g,this.fwcAuthService=_,this.router=C,this.fwcSnapshotService=w,this.store=S,this.translate.get("SNAPSHOTS_PANEL.TITLE").subscribe(A=>{this.createDialog(A,"fwci-copy")})}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}loadSnapshots(){this.loadingData=!0,this.errorMessage=null,this.utilService.fwcAPICall(this.fwcSnapshotService.getSnapshots.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud()).then(e=>{this.snapshots=e.data,(!this.snapshots||!this.snapshots.length)&&(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.recenterDialog(),this.loadingData=!1}).catch(e=>{this.errorMessage={type:"error",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.1")},this.loadingData=!1})}onDoSnapshot(e){let t={header:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER"),helpText:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.TEXT"),formControls:[{name:"name",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1"),type:"text",required:!0},{name:"separator",type:"separator"},{name:"comment",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4"),type:"text",required:!1}],onAccept:o=>{if(o){let r=$o(),s={name:o.name,comment:o.comment},a={channelId:r,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.createSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),r,s],onClose:u=>{this.loadingData=!1,u&&!u.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.CREATE_OK")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.1")}),this.loadSnapshots(),e&&this.onRestoreSnapshot(!0)}},l=this.utilService.createDynamicComponentRef(Ss),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(u=>{u=="connected"&&(this.loadingData=!0,this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:a})),this.communicationSubscription.unsubscribe()}),c.checkConnection()}}};this.inputDataService.setInputData(t)}onDeleteSnapshot(){this.selectedSnapshot&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.DELETE",{date:new Date(this.selectedSnapshot.date).toLocaleString()}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.loadingData=!0,this.utilService.fwcAPICall(this.fwcSnapshotService.deleteSnapshot.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id).then(e=>{this.snapshots=this.snapshots.filter(t=>t.id!=this.selectedSnapshot.id),this.snapshots.length||(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.loadingData=!1,this.selectedSnapshot=null,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.DELETE_OK")})},e=>{this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.DELETE_ERROR")})})}})}onRestoreSnapshot(e){if(this.selectedSnapshot){let t=$o();if(!e){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.BACKUP"),rejectVisible:!0,rejectLabel:this.translate.instant("SNAPSHOTS_PANEL.ASK.BTN_NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onDoSnapshot(!0)},reject:()=>{this.onRestoreSnapshot(!0)}});return}let o={channelId:t,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.restoreSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id,t],showStatusMessage:!0,onClose:a=>{a&&!a.error?(this.fwcUserService.setSelectedFwCloud(a.data.id,a.data.name),this.fwcAuthService.setSelectedFwCloud(a.data.id,a.data.name),this.hideDialog(),this.reloadCurrentRoute(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.RESTORE_OK")})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.1")}),this.loadingData=!1,this.selectedSnapshot=null}},r=this.utilService.createDynamicComponentRef(Ss),s=r.instance;s.setDynamicComponentRef(r),this.communicationSubscription=s.socketEventEmitter.subscribe(a=>{a=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:o}),this.communicationSubscription.unsubscribe()}),s.checkConnection()}}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}onCancel(){this.hideDialog()}onShowDialog(){this.loadSnapshots()}onHideDialog(){this.snapshots=null,this.errorMessage=null}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(ot),v(At),v(Ct),v(Wt),v(Kt),v(je),v(pe),v(ir),v(Jr),v(et),v(NI),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-snapshots-panel"]],features:[Ge([NI]),fe],decls:7,vars:6,consts:[["dlgSnapshotsDialog",""],["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","onShow","onHide","visible","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12","fwc-centered"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-copy","fwcOrange"],[1,"col-12"],[1,"fwcBlue","botBorder"],[1,"col-12","grid-nogutter","fwc-centered"],["type","button","pButton","","icon","fa fa-vault",1,"p-button-success",3,"click","disabled","label"],["styleClass","tabSnapshots","selectionMode","single","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],[1,"col-12","fwc-right"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],[1,"fwcSepShort"],["type","button","pButton","","icon","fa fa-undo",1,"p-button-primary",3,"click","disabled","label"],[3,"pSelectableRow","ngClass"],["tooltipPosition","top","hideDelay","500",1,"fa","fa-exclamation","fwcRed",3,"pTooltip"],[3,"message"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(o.onShowDialog())})("onHide",function(){return b(r),y(o.onHideDialog())}),I(2,ZMe,5,3,"ng-template",2)(3,rke,13,11,"div",3)(4,ske,2,3,"div",4)(5,ake,2,1,"div",4)(6,lke,2,4,"ng-template",5),m()}t&2&&(Oe("visible",o.displayDialog),p("closable",!1)("resizable",!0),d(3),G(o.snapshots?3:-1),d(),G(o.loadingData?4:-1),d(),G(o.errorMessage?5:-1))},dependencies:[Fe,Ht,ge,at,Eo,On,Oo,Fc,gn,G0,za,ht,sb],styles:[`.tabSnapshots .incompatible{text-decoration:line-through;font-style:italic}
`],encapsulation:2})}}return i})();var KU=Xs(fd());var cke=["fwcLogComponent"],dke=["fwcMessageComponent"],uke=()=>({width:"2rem",height:"2rem"});function pke(i,n){i&1&&(f(0,"h6",9),E(1,"i",10),T(2),O(3,"translate"),m()),i&2&&(d(2),z(" ",P(3,1,"LOG_PANEL.HEADER"),""))}function hke(i,n){if(i&1&&(f(0,"div",4)(1,"div",5),E(2,"sts-fwc-message",11,0),m()(),f(4,"div"),E(5,"sts-fwc-log",12,1),m()),i&2){let e=h();fn("display",e.options!=null&&e.options.showStatusMessage&&e.statusMessage?"block":"none"),d(2),p("message",e.statusMessage),d(2),fn("display",e.options!=null&&e.options.showStatusMessage?"none":"block"),d(),p("height","15rem")}}function fke(i,n){i&1&&E(0,"p-progressSpinner"),i&2&&it(Ie(2,uke))}function mke(i,n){if(i&1&&(E(0,"p-message",14),O(1,"translate"),O(2,"translate")),i&2){let e=h(2);p("severity",e.operationResult!=null&&e.operationResult.error?"error":"success")("text",e.operationResult!=null&&e.operationResult.error?P(1,2,"GLOBALS.MSG_OP_RESULT.PROCESS_ERROR"):P(2,4,"GLOBALS.MSG_OP_RESULT.PROCESS_OK"))}}function gke(i,n){if(i&1&&(f(0,"div",7),I(1,fke,1,3,"p-progressSpinner",13)(2,mke,3,6,"p-message",14),m()),i&2){let e=h();d(),G(e.loadingData?1:2)}}function _ke(i,n){if(i&1){let e=k();f(0,"button",15),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",!e.allowClose)}}var qU=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_){super(e,t,r,c,g,_),this.appDialogPanelsService=e,this.appOptionsService=t,this.fwcEventService=o,this.itemSelectedService=r,this.utilService=s,this.messageService=a,this.confirmationService=l,this.cd=c,this.translate=u,this.store=g,this.router=_,this.loadingData=!1,this.onClose=new W,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",ci.BLOCK_UI_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(yt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&this.showAndBlockUI(e.data)})}ngOnDestroy(){super.ngOnDestroy()}waitWSMessages(){return new Promise((t,o)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(yt(()=>this.displayDialog)).subscribe(r=>{let s=new xr(r);s&&s.payload?(s.payload.type===nt.MSG_END?t(s):(s.payload.type===nt.MSG_ERROR&&(this.operationResult={error:!0},this.statusMessage={type:"error",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")}),this.resetTimer()),this.options.showStatusMessage?this.fwcMessageComponent&&this.fwcMessageComponent.changeStatus(s.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":"):this.log&&this.log.addNewMessage(s)):(this.addMessageToLog(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),nt.MSG_ERROR),this.operationResult={error:!0},this.stopProcess())}),this.utilService.ioListenOnLogEvent(this.options.channelId)):t(null)})}doApiCall(){return new Promise((t,o)=>{this.options.apiCall?(Array.isArray(this.options.apiParams)||(this.options.apiParams=[]),this.options.showStatusMessage&&(this.statusMessage={type:"loading",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")}),this.utilService.fwcAPICall(this.options.apiCall,...this.options.apiParams).then(r=>{t(r)}).catch(r=>{r.error.fwcErr==8001||r.error.fwcErr==8002?o(r.error):o(r)})):t({})})}showAndBlockUI(e){if(!e)return;this.options=e,this.operationResult=void 0,this.displayDialog=!0,this.cd.markForCheck(),this.cd.detectChanges(),this.startProcess(),this.resetTimer();let t=Jb(this.waitWSMessages(),this.doApiCall());this.mainSubscription=t.subscribe(([o,r])=>{if(r instanceof Al){let s=this.options.defaultDownloadFilename||"fwcloud-download";r.headers.get("Content-Disposition")&&(s=r.headers.get("Content-Disposition").split("filename=")[1]),s=s.replace(/\"/g,""),(0,KU.saveAs)(r.body,s)}this.operationResult=r,this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_SUCCESS"),nt.MSG_OK),this.statusMessage={type:"success",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_OK")},this.stopProcess()},o=>{this.operationResult={error:!0,data:o},this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_ERROR"),nt.MSG_ERROR),this.stopProcess()})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}startProcess(){this.loadingData=!0,this.log&&this.log.startDataLoad()}stopProcess(){this.allowClose=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),this.log&&this.log.stopDataLoad()}onShowDialog(){this.allowClose=!1}hideDialog(){if(this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.mainSubscription&&this.mainSubscription.unsubscribe(),this.log&&this.log.clearMessages(),this.options){if(this.options.onClose)try{this.options.onClose(this.operationResult)}catch{}this.options=null}clearTimeout(this.timeoutTimer),this.onClose&&this.onClose.emit(this.operationResult),this.operationResult=null,super.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_n),v(_t),v(Ct),v(Kt),v(Wt),v(pe),v(je),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-block-ui-panel"]],viewQuery:function(t,o){if(t&1&&(ne(cke,5),ne(dke,5)),t&2){let r;K(r=q())&&(o.log=r.first),K(r=q())&&(o.fwcMessageComponent=r.first)}},outputs:{onClose:"onClose"},features:[fe],decls:14,vars:9,consts:[["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"onShow","closable","modal","visible"],["pTemplate","header"],[1,"grid"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fwc-centered"],["pTemplate","footer"],[1,"dlgFwcDialog-header"],[1,"fa","fa-info","fwcOrange"],[3,"message"],[3,"height"],[3,"style"],[3,"severity","text"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",2),R("onShow",function(){return o.onShowDialog()}),I(1,pke,4,3,"ng-template",3),f(2,"div",4)(3,"div",5)(4,"div",6),E(5,"i")(6,"br"),f(7,"h6"),T(8),m(),f(9,"p"),T(10),m()()()(),I(11,hke,7,6)(12,gke,3,1,"div",7)(13,_ke,2,4,"ng-template",8),m()),t&2&&(p("closable",!1)("modal",!0)("visible",o.displayDialog),d(5),te((o.options==null?null:o.options.headerIcon)||"fa fa-3x fa-lock fwcBlue"),d(3),H(o.options==null?null:o.options.textHeader),d(2),H(o.options==null?null:o.options.textMessage),d(),G(o.options!=null&&o.options.channelId?11:12))}})}}return i})();var gd=Xs(hg());var JU="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var oO=(i=21)=>{let n="",e=crypto.getRandomValues(new Uint8Array(i|=0));for(;i--;)n+=JU[e[i]&63];return n};var Cke=["menuNodesSelector"],Ike=i=>({"divInterfacesEditor--disabled":i}),vke=i=>({divNodeSpecial:i}),bke=(i,n)=>({spanNodeEditing:i,spanNodeDisabled:n}),XU=i=>({fwcInvalid:i});function yke(i,n){i&1&&(f(0,"div",8)(1,"div",9),E(2,"i",10)(3,"br"),f(4,"h6"),T(5),O(6,"translate"),m(),f(7,"p"),T(8),O(9,"translate"),m()()()),i&2&&(d(5),H(P(6,2,"FW.MSG_AUTODISCOVER.LOADING.HEADER")),d(3),H(P(9,4,"FW.MSG_AUTODISCOVER.LOADING.TEXT")))}function wke(i,n){if(i&1){let e=k();f(0,"span",12)(1,"button",31),O(2,"translate"),O(3,"translate"),R("click",function(){b(e);let o=h(4);return y(o.onResetTree())}),m()()}if(i&2){let e=h(4);d(),Z("pTooltip",P(2,3,"IF_EDITOR.HEADER.RESET_TREE_TOOLTIP")),Z("label",P(3,5,"IF_EDITOR.HEADER.RESET_TREE")),p("disabled",!(!(e.options==null||e.options.discoveredIfs==null)&&e.options.discoveredIfs.length))}}function Ske(i,n){if(i&1){let e=k();f(0,"span",12)(1,"button",32),O(2,"translate"),R("click",function(){b(e);let o=h(4);return y(o.onDiscoverInterfacesHandler())}),m()()}i&2&&(d(),Z("label",P(2,1,"FW.MSG_FW_EDITION.DISCOVER_IF_SHORT")))}function Ake(i,n){i&1&&(f(0,"div",33)(1,"div",8)(2,"h6",13),T(3),O(4,"translate"),m()()()),i&2&&(d(3),z(" ",P(4,1,"IF_EDITOR.TREE.HEADER")," "))}function xke(i,n){i&1&&(f(0,"span"),E(1,"i",42),m())}function Eke(i,n){i&1&&(E(0,"i",39),O(1,"translate")),i&2&&(Z("pTooltip",P(1,2,"IF_EDITOR.TREE.SPECIAL_TOOLTIP")),p("showDelay",500))}function Tke(i,n){i&1&&(E(0,"i",45),O(1,"translate")),i&2&&Z("pTooltip",P(1,1,"IF_EDITOR.PROPS.INSTALL"))}function Oke(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(3).$implicit,t=h(5);d(),z(" ",t.getFirewallName(e.data.installFirewallUUIDs)," ")}}function Rke(i,n){i&1&&(f(0,"span",46),T(1),O(2,"translate"),m()),i&2&&(d(),z(" ",P(2,1,"IF_EDITOR.TREE.NODE_INST")," "))}function Dke(i,n){i&1&&E(0,"i",47)}function Pke(i,n){if(i&1){let e=k();f(0,"span",44),R("click",function(o){b(e);let r=h(2).$implicit,s=h(5);return y(s.showFirewallsSelector(o,r))}),I(1,Tke,2,3,"i",45)(2,Oke,2,1,"span")(3,Rke,3,3,"span",46)(4,Dke,1,0,"i",47),m()}if(i&2){let e=h(2).$implicit,t=h(5);d(),G(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?1:-1),d(),G(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?2:3),d(2),G((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?4:-1)}}function Fke(i,n){if(i&1&&I(0,Pke,5,3,"span",43),i&2){let e=h().$implicit,t=h(5);G(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size||e.key==t.hoveredTreeNodeKey&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS||e.key==t.clickedTreeNodeKey?0:-1)}}function Lke(i,n){i&1&&(E(0,"i",45),O(1,"translate")),i&2&&Z("pTooltip",P(1,1,"IF_EDITOR.PROPS.INSTALL"))}function Mke(i,n){if(i&1){let e=k();f(0,"i",49),O(1,"translate"),R("click",function(o){b(e);let r=h(2).$implicit,s=h(5);return y(s.onSetInstallAddress(o,r))}),m()}i&2&&(Z("pTooltip",P(1,2,"IF_EDITOR.TREE.SET_INSTALL_TOOLTIP")),p("showDelay",700))}function kke(i,n){if(i&1&&I(0,Lke,2,3,"i",45)(1,Mke,2,4,"i",48),i&2){let e=h().$implicit,t=h(5);G(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?0:-1),d(),G(e.key==t.hoveredTreeNodeKey&&!(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size)&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?1:-1)}}function Nke(i,n){if(i&1){let e=k();f(0,"i",50),O(1,"translate"),R("click",function(o){b(e);let r=h().$implicit,s=h(5);return y(s.onShowNodeInfo(o,r))}),m()}i&2&&(Z("pTooltip",P(1,2,"IF_EDITOR.TREE.EDIT_TOOLTIP")),p("showDelay",700))}function Vke(i,n){i&1&&(f(0,"span"),T(1,"..."),m())}function Bke(i,n){if(i&1&&(f(0,"span",51)(1,"span")(2,"p"),T(3),O(4,"translate"),m()(),f(5,"span"),T(6),O(7,"slice"),I(8,Vke,2,0,"span"),m()()),i&2){let e=h(2).$implicit;d(3),H(P(4,3,"IF_EDITOR.TREE.LBL")),d(3),z(" ",da(7,5,e.data.labelName,0,20)," "),d(2),G(e.data.labelName.length>20?8:-1)}}function Uke(i,n){if(i&1&&(f(0,"span",51)(1,"span")(2,"p"),T(3,"mac"),m()(),f(4,"span"),T(5),m()()),i&2){let e=h(2).$implicit;d(5),z(" ",e.data.mac," ")}}function jke(i,n){if(i&1&&I(0,Bke,9,9,"span",51)(1,Uke,6,1,"span",51),i&2){let e=h().$implicit;G(e.data!=null&&e.data.labelName?0:-1),d(),G(e.data!=null&&e.data.mac?1:-1)}}function Hke(i,n){if(i&1&&(f(0,"span",52)(1,"span")(2,"p"),T(3),m()(),f(4,"span"),T(5),m()()),i&2){let e=h(2).$implicit,t=h(5);p("ngClass",e.data.ip_version==4?"pillInfo":""),d(3),z("V",e.data.ip_version,""),d(2),z(" ",t.addressNetmaskToCIDRAddress(e.data.address,e.data.netmask)," ")}}function Gke(i,n){if(i&1&&I(0,Hke,6,3,"span",52),i&2){let e=h().$implicit;G(e.data!=null&&e.data.address?0:-1)}}function zke(i,n){if(i&1){let e=k();f(0,"div",36),R("mouseenter",function(){let o=b(e).$implicit,r=h(5);return y(r.onMouseEnter(o))})("mouseleave",function(){let o=b(e).$implicit,r=h(5);return y(r.onMouseLeave(o))}),I(1,xke,2,0,"span"),f(2,"span",37),E(3,"i",38),O(4,"fwcIcon"),I(5,Eke,2,4,"i",39)(6,Fke,1,1)(7,kke,2,2)(8,Nke,2,4,"i",40),f(9,"span",41),T(10),m(),I(11,jke,2,2)(12,Gke,1,1),m()()}if(i&2){let e=n.$implicit,t=h(5);p("ngClass",J(13,vke,e.data==null?null:e.data.special)),d(),G(e.key===t.editingTreeNodeKey?1:-1),d(),p("ngClass",Ue(15,bke,e.key==t.editingTreeNodeKey,e.data==null?null:e.data.id)),d(),te(P(4,11,e.data==null?null:e.data.type)),d(2),G(e.data!=null&&e.data.special&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL&&!(e.data!=null&&e.data.id)?5:-1),d(),G((t.firewallsSelectorOptions==null?null:t.firewallsSelectorOptions.length)>1?6:7),d(2),G(e.key==t.hoveredTreeNodeKey&&!(e.data!=null&&e.data.special)?8:-1),d(2),H(e.label),d(),G((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL||(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_HOST?11:12)}}function Wke(i,n){if(i&1){let e=k();f(0,"p-tree",34,3),Re("selectionChange",function(o){b(e);let r=h(4);return De(r.selectedTreeNodes,o)||(r.selectedTreeNodes=o),y(o)}),R("onNodeSelect",function(o){b(e);let r=h(4);return y(r.onNodeSelect(o))})("onNodeUnselect",function(o){b(e);let r=h(4);return y(r.onNodeUnselect(o))}),I(2,zke,13,18,"ng-template",35),m()}if(i&2){let e=h(4);p("value",e.filteredTreeNodes)("propagateSelectionUp",!1)("propagateSelectionDown",!1),Oe("selection",e.selectedTreeNodes)}}function $ke(i,n){i&1&&(f(0,"div",28),E(1,"i",53)(2,"br"),f(3,"h6"),T(4),O(5,"translate"),m(),f(6,"p"),T(7),O(8,"translate"),m()()),i&2&&(d(4),H(P(5,2,"IF_EDITOR.TREE.MSG_NO_DATA")),d(3),H(P(8,4,"IF_EDITOR.TREE.TEXT_NO_DATA")))}function Kke(i,n){i&1&&(f(0,"span",55)(1,"span")(2,"p"),T(3),O(4,"translate"),m()()()),i&2&&(d(3),H(P(4,1,"IF_EDITOR.PROPS.EXISTS")))}function qke(i,n){i&1&&(f(0,"span",55)(1,"span")(2,"p"),E(3,"i",56),O(4,"translate"),T(5),O(6,"translate"),m()()()),i&2&&(d(3),Z("pTooltip",P(4,2,"IF_EDITOR.PROPS.INFO_SPECIAL")),d(2),z(" ",P(6,4,"IF_EDITOR.PROPS.SPECIAL")," "))}function Yke(i,n){if(i&1&&(f(0,"span",54),T(1," \xA0 "),E(2,"i",38),O(3,"fwcIcon"),T(4),I(5,Kke,5,3,"span",55)(6,qke,7,6,"span",55),m()),i&2){let e,t=h(5);d(2),te(P(3,6,t.formModel.get("type").value)),d(2),z(" ",(e=t.treeSearchByNodeKey(t.editingTreeNodeKey))==null?null:e.label," \xA0 "),d(),G(t.formModel.get("id").value?5:-1),d(),G(t.formModel.get("special").value?6:-1)}}function Jke(i,n){if(i&1&&(f(0,"div",33)(1,"div",8)(2,"h6",13),T(3),O(4,"translate"),I(5,Yke,7,8,"span",54),m()()()),i&2){let e=h(4);d(3),z(" ",P(4,2,"IF_EDITOR.PROPS.HEADER")," "),d(2),G(e.formModel&&e.editingTreeNodeKey?5:-1)}}function Xke(i,n){if(i&1){let e=k();f(0,"div",63)(1,"div",60)(2,"span",57)(3,"input",64),R("keyup",function(){b(e);let o=h(5);return y(o.onNodeFormInputType())}),m(),f(4,"label",65),T(5),O(6,"translate"),m()()()(),f(7,"div",63)(8,"div",60)(9,"span",57)(10,"input",66),R("keyup",function(){b(e);let o=h(5);return y(o.onNodeFormInputType())}),m(),f(11,"label",67),T(12),O(13,"translate"),m()()()()}if(i&2){let e,t,o=h(5);d(3),p("ngClass",J(8,XU,((e=o.formModel.get("address"))==null?null:e.invalid)&&((e=o.formModel.get("address"))==null?null:e.touched))),d(2),H(P(6,4,"ITEM_PANEL.FIELDS.ADDRESS")),d(5),p("ngClass",J(10,XU,((t=o.formModel.get("netmask"))==null?null:t.invalid)&&((t=o.formModel.get("netmask"))==null?null:t.touched))),d(2),H(P(13,6,"ITEM_PANEL.FIELDS.MASK"))}}function Qke(i,n){if(i&1){let e=k();f(0,"div",63)(1,"div",60)(2,"span",57)(3,"input",68),R("keyup",function(){b(e);let o=h(5);return y(o.onNodeFormInputType())}),m(),f(4,"label",69),T(5),O(6,"translate"),m()()()(),f(7,"div",63)(8,"div",60)(9,"span",57)(10,"input",70),R("keyup",function(){b(e);let o=h(5);return y(o.onNodeFormInputType())}),m(),f(11,"label",71),T(12),O(13,"translate"),m()()()()}i&2&&(d(5),H(P(6,2,"ITEM_PANEL.FIELDS.LABEL")),d(7),H(P(13,4,"ITEM_PANEL.FIELDS.MAC")))}function Zke(i,n){if(i&1){let e=k();f(0,"form",29)(1,"div",8)(2,"span",57)(3,"input",58),R("keyup",function(){b(e);let o=h(4);return y(o.onNodeFormInputType())}),m(),f(4,"label",59),T(5),O(6,"translate"),m()()(),I(7,Xke,14,12)(8,Qke,14,6),f(9,"div",8)(10,"div",60)(11,"span",57)(12,"input",61),R("keyup",function(){b(e);let o=h(4);return y(o.onNodeFormInputType())}),m(),f(13,"label",62),T(14),O(15,"translate"),m()()()()()}if(i&2){let e,t=h(4);p("formGroup",t.formModel),d(5),H(P(6,4,"ITEM_PANEL.FIELDS.NAME")),d(2),G(((e=t.formModel.get("type"))==null?null:e.value)===t.ObjectTypes.OBJ_ADDRESS?7:8),d(7),H(P(15,6,"ITEM_PANEL.FIELDS.COMMENTS"))}}function eNe(i,n){i&1&&(f(0,"div",28),E(1,"i",72)(2,"br"),f(3,"h6"),T(4),O(5,"translate"),m(),f(6,"p"),T(7),O(8,"translate"),m()()),i&2&&(d(4),H(P(5,2,"IF_EDITOR.PROPS.MSG_NO_OBJ")),d(3),H(P(8,4,"IF_EDITOR.PROPS.TEXT_NO_OBJ")))}function tNe(i,n){i&1&&(f(0,"span",74),T(1),O(2,"translate"),m()),i&2&&(d(),H(P(2,1,"IF_EDITOR.PROPS.SAVED")))}function iNe(i,n){if(i&1&&(f(0,"div",73),I(1,tNe,3,3,"span",74),m()),i&2){let e=h(4);d(),G(e.nodeSaved?1:-1)}}function nNe(i,n){if(i&1){let e=k();f(0,"div",8)(1,"div",11)(2,"span",12)(3,"h6",13),E(4,"i",14),T(5),O(6,"translate"),m()(),f(7,"span",12)(8,"button",15),O(9,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onChangeSelected(!0))}),m()(),f(10,"span",12)(11,"button",16),O(12,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onChangeSelected(!1))}),m()(),I(13,wke,4,7,"span",12)(14,Ske,3,3,"span",12),E(15,"span",17),f(16,"span",12)(17,"h6",13),E(18,"i",18),T(19),O(20,"translate"),m()(),f(21,"span",12)(22,"p-checkbox",19),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.selectedIpVersions,o)||(r.selectedIpVersions=o),y(o)}),R("onChange",function(){b(e);let o=h(3);return y(o.onChangeFilters())}),m()(),f(23,"span",12)(24,"p-checkbox",20),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.selectedIpVersions,o)||(r.selectedIpVersions=o),y(o)}),R("onChange",function(){b(e);let o=h(3);return y(o.onChangeFilters())}),m()(),E(25,"span",21),f(26,"input",22,2),O(28,"translate"),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.searchPattern,o)||(r.searchPattern=o),y(o)}),R("keyup",function(o){b(e);let r=h(3);return y(r.onSearchType(o.target.value))}),m(),f(29,"button",23),R("click",function(o){b(e);let r=Me(27);h(3);let s=Me(4);return y(s.toggle(o,r))}),m()()(),f(30,"div",24)(31,"p-card",25),I(32,Ake,5,3,"ng-template",26)(33,Wke,3,4,"p-tree",27)(34,$ke,9,6,"div",28),m()(),f(35,"div",24)(36,"p-card",25),I(37,Jke,6,4,"ng-template",26)(38,Zke,16,8,"form",29)(39,eNe,9,6,"div",28)(40,iNe,2,1,"ng-template",30),m()()}if(i&2){let e=h(3);d(5),z(" ",P(6,14,"IF_EDITOR.HEADER.SELECT")," "),d(3),Z("label",P(9,16,"IF_EDITOR.HEADER.ALL")),d(3),Z("label",P(12,18,"IF_EDITOR.HEADER.NONE")),d(2),G(e.options!=null&&e.options.hideActionButtons?-1:13),d(),G(e.options!=null&&e.options.hideActionButtons?-1:14),d(5),z(" ",P(20,20,"IF_EDITOR.HEADER.FILTER")," "),d(3),p("value",4),Oe("ngModel",e.selectedIpVersions),d(2),p("value",6),Oe("ngModel",e.selectedIpVersions),d(2),Z("placeholder",P(28,22,"IF_EDITOR.HEADER.FILTER_TEXT")),Oe("ngModel",e.searchPattern),d(7),G(e.filteredTreeNodes!=null&&e.filteredTreeNodes.length?33:34),d(5),G(e.formModel&&e.editingTreeNodeKey?38:39)}}function oNe(i,n){if(i&1){let e=k();f(0,"div",8)(1,"div",9),E(2,"i",75)(3,"br"),f(4,"h6"),T(5),O(6,"translate"),m(),f(7,"p"),T(8),O(9,"translate"),m(),f(10,"p")(11,"button",32),O(12,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onDiscoverInterfacesHandler())}),m()()()()}i&2&&(d(5),H(P(6,3,"FW.MSG_AUTODISCOVER.HEADER")),d(3),H(P(9,5,"FW.MSG_AUTODISCOVER.TEXT")),d(3),Z("label",P(12,7,"FW.MSG_FW_EDITION.DISCOVER_IF")))}function rNe(i,n){if(i&1&&I(0,nNe,41,24)(1,oNe,13,9,"div",8),i&2){let e=h(2);G(e.treeNodes!=null&&e.treeNodes.length?0:1)}}function sNe(i,n){if(i&1&&(f(0,"div",5),I(1,yke,10,6,"div",8)(2,rNe,2,1),m()),i&2){let e=h();p("ngClass",J(2,Ike,e.disabled)),d(),G(e.loading?1:2)}}var QU=(()=>{class i{set options(e){e&&(this._options=e,this.parseOptions(e))}get options(){return this._options}set inputNodes(e){this.buildTree(e)}constructor(e,t,o,r){this.formBuilder=e,this.confirmationService=t,this.translate=o,this.cd=r,this.onInstallModified=new W,this.onIpObjectModified=new W,this.onStartAutodiscover=new W,this.selectedIpVersions=[4,6],this.searchUpdated=new Ae,this.formInputUpdated=new Ae,this.nodeSaved=!1,this.ObjectTypes=F,this.alive=!0}ngOnInit(){this.searchUpdated.asObservable().pipe(Ou(300),cl(),yt(()=>this.alive)).subscribe(()=>{this.filterTree()}),this.formInputUpdated.asObservable().pipe(Ou(300),yt(()=>this.alive)).subscribe(()=>{this.onSaveNode()})}ngOnDestroy(){this.alive=!1}getFirewallName(e){let t=[];if(this._options)return e&&e.forEach(o=>{let r=this._options.firewalls.find(s=>s.firewallUUID&&s.firewallUUID===o);r&&t.push(r.firewall_name)}),t.join("/")}addFirewall(e){if(this._options&&e){let t;Array.isArray(this._options.firewalls)?t=this._options.firewalls.find(o=>o.firewallUUID&&o.firewallUUID===e.firewallUUID):this._options.firewalls=[],t||(this._options.firewalls.push(Q({},e)),this.firewallsSelectorOptions||(this.firewallsSelectorOptions=[]),this.firewallsSelectorOptions.push({id:e.firewallUUID,label:e.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:o=>this.onChangeFirewallsSelectorOptions(o)})),this.cd.detectChanges()}}updateFirewallName(e,t){if(this._options&&Array.isArray(this._options.firewalls)&&Array.isArray(this.firewallsSelectorOptions)){let o=this._options.firewalls.find(s=>s.firewallUUID&&s.firewallUUID===e),r=this.firewallsSelectorOptions.find(s=>s.id&&s.id===e);o&&r&&(o.firewall_name=t,r.label=t,this.cd.detectChanges())}}deleteFirewall(e){if(this._options&&Array.isArray(this._options.firewalls)){let t=this._options.firewalls.findIndex(r=>r.firewallUUID&&r.firewallUUID===e),o=this.firewallsSelectorOptions.findIndex(r=>r.id&&r.id===e);t!==-1&&o!==-1&&(this._options.firewalls.splice(t,1),this.firewallsSelectorOptions.splice(o,1),Array.isArray(this.treeNodes)&&(this.treeNodes.forEach(r=>{r.data.installFirewallUUIDs&&r.data.installFirewallUUIDs.delete(e),Array.isArray(r.children)&&r.children.forEach(s=>{s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.delete(e)})}),this.filterTree()))}}getInterfacesFromTree(){let e=[];return Array.isArray(this.treeNodes)&&this.treeNodes.forEach(t=>{let o={interfaceUUID:t.data.interfaceUUID,id:t.data.id,id_node:t.data.id_node,firewall:t.data.firewall,cluster:t.data.cluster,type:t.data.type,interface_type:t.data.type,labelName:t.data.labelName,mac:t.data.mac,comment:t.data.comment,name:t.label,ipobjs:[]};Array.isArray(t.children)&&t.children.forEach(r=>{o.ipobjs.push({ipObjUUID:r.data.ipObjUUID,id:r.data.id,name:r.label,id_node:r.data.id_node,address:r.data.address,comment:r.data.comment,ip_version:r.data.ip_version,netmask:r.data.netmask,type:F.OBJ_ADDRESS,port:r.data.port})}),e.push(o)}),e}getObjectFromTreeNode(e){let t=null;return e&&(t=e.data,t.name=e.label),t}processOptions(e){e&&(this._options=e,this.parseOptions(e))}parseOptions(e){if(e&&e.firewalls){let t=this.getInterfacesFromTree();Array.isArray(e.existingIfs)&&e.existingIfs.forEach(s=>{t.find(l=>l.name===s.name)||t.push(s)});let o=s=>{let a=[];try{if(Array.isArray(s))for(let l=0;l<s.length;l++){let c=s[l],u,g,[_,C]=c.split("/"),w=gd.parse(_);if(w.kind()=="ipv4")u=4,g="/"+C;else if(w.kind()=="ipv6")u=6,g="/"+C;else throw Error(_);a.push({address:_,netmask:g,ip_version:u})}}catch{return[]}return a},r=s=>{let a,l=ri.netmaskCIDRRegexp.exec(s);return l?a=parseInt(l[1]):a=gd.IPv4.parse(s).prefixLengthFromSubnetMask(),a};this.firewallsSelectorOptions=[],e.firewalls.forEach(s=>{this.firewallsSelectorOptions.push({id:s.firewallUUID,label:s.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:a=>this.onChangeFirewallsSelectorOptions(a)})}),e.discoveredIfs.forEach(s=>{let a=t.find(u=>u.name===s.name);if(!a){let u=t.push({interfaceUUID:oO(),id:void 0,comment:void 0,ipobjs:[],labelName:void 0,name:s.name,mac:s.mac,type:F.OBJ_INTERFACE_FIREWALL});a=t[u-1]}let l=[];l=o(s.ipv4).concat(o(s.ipv6)),Array.isArray(a.ipobjs)||(a.ipobjs=[]);let c={4:0,6:0};for(let u=0;u<l.length;u++){let g=l[u],_=!1,C,w,S,A=new Set;C=g.netmask,(!C||!parseInt(C.substr(1)))&&(C=g.ip_version==4?"/32":"/128"),w=parseInt(C.substr(1));for(let x=0;x<a.ipobjs.length&&!_;x++){let D=a.ipobjs[x],V=gd.parse(D.address).toNormalizedString();g.ip_version==D.ip_version&&gd.parse(g.address).toNormalizedString()===V&&!A.has(V)&&(S=r(D.netmask),w===S&&(_=!0,A.add(V)))}if(!_){let x="",D="";if(s.name!=="lo"&&!/^tun\d+$/.test(s.name)&&!/^wg\d+$/.test(s.name))if(!e.isCluster)x=c[g.ip_version]?":"+(c[g.ip_version]-1):"";else{s.suffixToAdd&&(D="_"+s.suffixToAdd);let V=r(C);if((V===24||V===32)&&g.ip_version===4)try{let X=gd.IPv4.parse(g.address);x=c[g.ip_version]?"_F"+X.octets[3]:D}catch{}else x=c[g.ip_version]?"_F"+c[g.ip_version]:D}a.ipobjs.push({ipObjUUID:a.interfaceUUID+oO(),id:void 0,id_node:void 0,address:g.address,comment:"",name:s.name+x,ip_version:g.ip_version,netmask:C,type:F.OBJ_ADDRESS,port:void 0})}c[g.ip_version]++}}),this.buildTree(t)}}buildTree(e){let t=new Map,o=new Map;if(e&&Array.isArray(e)){let s=1;this.treeNodes=[],this.filteredTreeNodes=[];let a=[];this.selectedTreeNodes&&(a=this.selectedTreeNodes.map(l=>{let c;return l.data&&(l.data.type===F.OBJ_ADDRESS?c=l.data.ipObjUUID:c=l.data.interfaceUUID),c})),this.selectedTreeNodes=[],this._options.firewalls.forEach(l=>{if(l.installOptions){if(l.installOptions.interface){let c=t.get(l.installOptions.interface.name);c||(c=new Set),c.add(l.installOptions.firewallUUID),t.set(l.installOptions.interface.name,c)}l.installOptions.ipobj&&o.set(l.installOptions.ipobj.address,new Set([l.installOptions.firewallUUID]))}}),e.forEach(l=>{let c={key:""+s++,label:l.name,data:{interfaceUUID:l.interfaceUUID,id:l.id,id_node:l.id_node,firewall:l.firewall,cluster:l.cluster,type:l.type,interface_type:l.type,labelName:l.labelName,mac:l.mac,comment:l.comment,installFirewallUUIDs:t.get(l.name)},children:[],expanded:!0,selectable:!l.id};(l.id||c.data.installFirewallUUIDs||a.find(u=>c.data.interfaceUUID===u))&&this.treeSelectNode(c),!l.id&&l.type===F.OBJ_INTERFACE_FIREWALL&&l.name==="lo"&&(c.data.special=!0,c.selectable=!1,this.treeSelectNode(c)),Array.isArray(l.ipobjs)&&(l.ipobjs.forEach(u=>{let g;g=o.get(u.address);let _={key:""+s++,label:u.name,data:{ipObjUUID:u.ipObjUUID,id:u.id,id_node:u.id_node,interface:l.id,type:u.type,ip_version:u.ip_version,address:u.address,netmask:u.netmask,comment:u.comment,installFirewallUUIDs:g},selectable:!u.id};u.id||g||a.find(C=>_.data.ipObjUUID===C)?this.treeSelectNode(_):g&&(this.treeSelectNode(_),this.treeSelectNode(c),this.onInstallModified.emit({firewallUUID:this._options.discoveredFirewallUUID,interface:this.getObjectFromTreeNode(c),ipobj:this.getObjectFromTreeNode(_)})),c.data.special&&!u.id&&u.type===F.OBJ_ADDRESS&&u.name==="lo"&&(_.data.special=!0,_.selectable=!1,this.treeSelectNode(_)),c.children.push(_)}),c.children.sort((u,g)=>u.data.ip_version-g.data.ip_version)),this.treeNodes.push(c)})}let r=this._options.firewalls.find(s=>s.firewallUUID===this._options.discoveredFirewallUUID);if(r&&this._options.discoveredAddress&&r.installOptions&&!r.installOptions.interface&&!r.installOptions.ipobj&&!this._options.firewalls.find(s=>s.installOptions&&s.installOptions.ipobj&&s.installOptions.ipobj.address===this._options.discoveredAddress)){let s=!1;for(let a=0;a<this.treeNodes.length;a++){let l=this.treeNodes[a];if(l.children)for(let c=0;c<l.children.length&&!s;c++){let u=l.children[c],g=!1;u.data.installFirewallUUIDs&&(g=u.data.installFirewallUUIDs.has(r.firewallUUID)),u.data&&u.data.type===F.OBJ_ADDRESS&&u.data.address===this._options.discoveredAddress&&!g&&(u.data.installFirewallUUIDs=new Set([r.firewallUUID]),this.treeSelectNode(u),l.data.installFirewallUUIDs||(l.data.installFirewallUUIDs=new Set),l.data.installFirewallUUIDs.add(r.firewallUUID),this.treeSelectNode(l),this.onInstallModified.emit({firewallUUID:r.firewallUUID,interface:this.getObjectFromTreeNode(l),ipobj:this.getObjectFromTreeNode(u)}),s=!0)}}}this.filterTree()}filterTree(){let e=t=>{let o=[],r=s=>{let a=!0;if(this.searchPattern&&this.searchPattern.trim().length&&s.label&&s.data.type===F.OBJ_INTERFACE_FIREWALL){let l=this.searchPattern.trim().split(/\s+/),c=s.label.toLowerCase(),u=[],g=[];for(let w=0;w<l.length;w++){let S=l[w].toLowerCase();S[0]!=="!"?u.push(S):g.push(S)}let _=!u.length;for(let w=0;w<u.length&&!_;w++){let S=u[w],A=S[S.length-1],x;A!=="*"?c===S&&(_=!0):(x=S.substring(0,S.length-1),x.length&&c.includes(x)&&(_=!0))}let C=!0;for(let w=0;w<g.length;w++){let S=g[w],A=S[S.length-1],x;A!=="*"?(x=S.substring(1),x.length&&c===x&&(C=!1)):(x=S.substring(1,S.length-1),x.length&&c.includes(x)&&(C=!1))}a=_&&C}return a};if(Array.isArray(t)){let s=t.map(a=>Jt(a));for(let a=0;a<s.length;a++){let l=s[a],c=!0;l.data&&(this.selectedIpVersions.indexOf(4)==-1&&l.data&&l.data.type==F.OBJ_ADDRESS&&l.data.ip_version==4||this.selectedIpVersions.indexOf(6)==-1&&l.data&&l.data.type==F.OBJ_ADDRESS&&l.data.ip_version==6||!r(l))&&(c=!1),c&&(Array.isArray(l.children)&&(l.children=e(l.children)),o.push(l))}}return o};this.filteredTreeNodes=e(this.treeNodes),this.filteredTreeNodes=this.filteredTreeNodes.sort((t,o)=>t.label.toLocaleLowerCase().localeCompare(o.label.toLocaleLowerCase())),this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>{if(!t.selectable)return!0;for(let o=0;o<this.filteredTreeNodes.length;o++){let r=this.filteredTreeNodes[o];if(r.key===t.key)return!0;if(Array.isArray(r.children)){for(let s=0;s<r.children.length;s++)if(r.children[s].key===t.key)return!0}}return!1}),this.onIpObjectModified.emit({}),this.cd.detectChanges()}onShowNodeInfo(e,t){e.stopPropagation(),this.editingTreeNodeKey=t.key,this.createForm(t.key),this.nodeSaved=!1}onSetInstallAddress(e,t){e.stopPropagation();let o=this.treeSearchByNodeKey(t.key),r=this.firewallsSelectorOptions[0].id;this.doSetInstallAddress(o,r)}doSetInstallAddress(e,t){if(e){let o=null,r;if(e.data.installFirewallUUIDs){if(r=e.data.installFirewallUUIDs.values().next().value,r===t)return}else e.data.installFirewallUUIDs=new Set;for(let s=0;s<this.treeNodes.length;s++){let a=this.treeNodes[s];if(a.data.installFirewallUUIDs&&(a.data.installFirewallUUIDs.delete(t),r&&a.data.installFirewallUUIDs.delete(r)),a.selectable=!a.data.id&&!a.data.special,a.children)for(let l=0;l<a.children.length;l++){let c=a.children[l];c.data.installFirewallUUIDs&&(c.data.installFirewallUUIDs.delete(t),r&&c.data.installFirewallUUIDs.delete(r)),c.selectable=!c.data.id&&!c.data.special,c.key===e.key&&(o=a,o.data.installFirewallUUIDs||(o.data.installFirewallUUIDs=new Set))}}this.treeSelectNode(e),e.data.installFirewallUUIDs.add(t),o&&(this.treeSelectNode(o),o.data.installFirewallUUIDs.add(t)),this.filterTree(),this.onInstallModified.emit({firewallUUID:t,interface:this.getObjectFromTreeNode(o),ipobj:this.getObjectFromTreeNode(e)})}}updateInstallOptions(e){if(this._options&&e){let t=this._options.firewalls.find(o=>o.firewallUUID&&o.firewallUUID===e.firewallUUID);t&&(t.installOptions=e,this.treeNodes.forEach(o=>{o.data.installFirewallUUIDs&&(o.data.installFirewallUUIDs.delete(t.firewallUUID),Array.isArray(o.children)&&o.children.forEach(r=>{r.data.installFirewallUUIDs&&r.data.installFirewallUUIDs.delete(t.firewallUUID)})),o.data.id&&e.interface&&o.data.interfaceUUID===e.interface.interfaceUUID&&(o.data.installFirewallUUIDs||(o.data.installFirewallUUIDs=new Set),o.data.installFirewallUUIDs.add(e.firewallUUID),Array.isArray(o.children)&&o.children.forEach(r=>{r.data.id&&e.ipobj&&r.data.ipObjUUID===e.ipobj.ipObjUUID&&(r.data.installFirewallUUIDs||(r.data.installFirewallUUIDs=new Set),r.data.installFirewallUUIDs.add(e.firewallUUID))}))}),this.filterTree())}}treeSelectNode(e){this.selectedTreeNodes.find(t=>t.key===e.key)||this.selectedTreeNodes.push(e)}treeGetParentNode(e){let t=null,o=!1;for(let r=0;r<this.treeNodes.length&&!o;r++){let s=this.treeNodes[r];if(s.key===e.key&&(o=!0),Array.isArray(s.children)){t=s;for(let a=0;a<s.children.length&&!o;a++)s.children[a].key===e.key&&(o=!0)}}return o?t:null}treeSearchByNodeKey(e,t=this.treeNodes){let o;if(t)for(let r=0;!o&&r<t.length;r++){let s=t[r];s.key===e?o=s:s.children&&(o=this.treeSearchByNodeKey(e,s.children))}return o}treeSearchByObjectIdAndType(e,t,o=this.treeNodes){let r;if(o)for(let s=0;s<o.length;s++){let a=o[s];if(a.data&&a.data.id===e&&a.data.type===t){r=a;break}Array.isArray(a.children)&&this.treeSearchByObjectIdAndType(e,t,a.children)}return r}createForm(e){let t=this.treeSearchByNodeKey(e);t&&t.data&&(this.formModel=null,this.cd.detectChanges(),this.formModel=this.formBuilder.group({id:t.data.id,key:t.key,special:!!t.data.special,type:t.data.type,label:[t.label,Ne.required],comment:t.data.comment}),t.data.type==F.OBJ_ADDRESS?(this.formModel.addControl("address",new _e(t.data.address,[Ne.required,ri.ipAddressValidator.bind(this)])),this.formModel.addControl("netmask",new _e(t.data.netmask,[Ne.required,ri.netmaskValidator.bind(this)])),this.formModel.addControl("ip_version",new _e(t.data.ip_version,[Ne.required]))):(this.formModel.addControl("labelName",new _e(t.data.labelName,Ne.pattern(ri.nameRegExp))),this.formModel.addControl("mac",new _e(t.data.mac,Ne.pattern(ri.macRegexp)))),t.data.special?this.formModel.disable():this.formModel.enable()),this.cd.detectChanges(),this.cd.markForCheck()}addressNetmaskToCIDRAddress(e,t){let o=e;if(t){let r=ri.netmaskCIDRRegexp.exec(t);if(r)o+="/"+r[1];else try{let s=gd.IPv4.parse(t).prefixLengthFromSubnetMask();s?o+="/"+s:o=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}catch{o=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}}return o}onSearchType(e){this.searchUpdated.next(e)}onChangeFilters(){this.filterTree()}onChangeSelected(e){Array.isArray(this.treeNodes)&&(this.selectAllNodes(e),this.onIpObjectModified.emit({}))}selectAllNodes(e){e?(this.selectedTreeNodes=[],this.filteredTreeNodes.forEach(t=>{this.selectedTreeNodes.push(t),Array.isArray(t.children)&&t.children.length&&this.selectedTreeNodes.push(...t.children)})):this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>t.selectable===!1)}onNodeSelect(e){if(e&&e.node){let t=e.node;t.parent&&this.treeSelectNode(t.parent),this.onIpObjectModified.emit({})}}onNodeUnselect(e){if(e&&e.node){let t=e.node;if(t.data.special)e.originalEvent.preventDefault(),this.treeSelectNode(t);else{let o=this.treeSearchByNodeKey(t.key);if(Array.isArray(o.children))this.selectedTreeNodes=this.selectedTreeNodes.filter(r=>!t.children.find(s=>s.key===r.key&&s.selectable)),o.data.installFirewallUUIDs&&(o.data.installFirewallUUIDs=null,o.children.forEach(r=>{r.data.installFirewallUUIDs=null}));else if(o.data.installFirewallUUIDs){let r=this.treeGetParentNode(o),a=o.data.installFirewallUUIDs.values().next().value;r.data.installFirewallUUIDs.delete(a),o.data.installFirewallUUIDs=null}this.filterTree(),t.data.installFirewallUUIDs?t.data.installFirewallUUIDs.forEach(r=>{this.onInstallModified.emit({firewallUUID:r,interface:null,ipobj:null})}):this.onIpObjectModified.emit({})}this.cd.markForCheck()}}onMouseEnter(e){this.hoveredTreeNodeKey=e.key}onMouseLeave(e){this.hoveredTreeNodeKey=null}onNodeFormInputType(){this.nodeSaved=!1,this.formModel.valid&&this.formInputUpdated.next(void 0)}onCancelNodeEdit(){if(this.formModel){let e=this.formModel.value,t=this.treeSearchByNodeKey(e.key),o={};Object.keys(e).forEach(r=>{r==="key"||r==="label"?o[r]=t[r]:t.data&&(o[r]=t.data[r])}),this.formModel.reset(o)}}onSaveNode(){if(this.formModel&&this.formModel.valid){let e=this.formModel.value,t=this.treeSearchByNodeKey(e.key);t&&(Object.keys(e).forEach(o=>{switch(o){case"key":break;case"label":t.label=e[o];break;default:t.data[o]=e[o]}}),t.data.modified=!0,t.data.id?this.onIpObjectModified.emit(Ee(Q({},t.data),{name:t.label})):t.data.installFirewallUUIDs&&this.onIpObjectModified.emit({installFirewallUUIDs:t.data.installFirewallUUIDs,type:t.data.type,name:t.label,address:t.data.address}),this.filterTree(),this.formModel.markAsPristine(),this.nodeSaved=!0)}}onResetTree(){this.treeNodes.find(t=>!t.data.id)&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("IF_EDITOR.TREE.MSG_RESET_TREE"),accept:()=>{this.treeNodes=this.treeNodes.filter(t=>t.data&&t.data.id),this.treeNodes.forEach(t=>{Array.isArray(t.children)&&(t.children=t.children.filter(o=>o.data&&o.data.id))}),this.selectedTreeNodes=this.selectedTreeNodes.filter(t=>t.data&&t.data.id),this.filterTree(),this._options.firewalls.forEach(t=>{let o=!0;this.selectedTreeNodes.find(r=>r.data&&r.data.installFirewallUUIDs&&r.data.installFirewallUUIDs.has(t.firewallUUID))&&(o=!1),o&&this.onInstallModified.emit({firewallUUID:t.firewallUUID,interface:null,ipobj:null})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}isThereAnySelectedNode(){let e=!0;if(this.treeNodes){let t;t=this.treeNodes.some(o=>o.selectable),t&&!this.getSelectedTreeNodes(!0).length&&(e=!1)}return e}areTherePendingOperations(){let e=!1;return this.selectedTreeNodes&&(e=!!this.selectedTreeNodes.find(t=>t.data&&(t.data.id&&t.data.modified||!t.data.id))),e}getSelectedTreeNodes(e=!1){let t=o=>{let r=[];return o&&o.forEach(s=>{let a=-1;if(this.selectedTreeNodes.find(l=>!e&&s.key===l.key||s.key===l.key&&l.selectable)&&(a=r.push(Q({},s))-1),a!==-1){let l=r[a];l.children&&(l.children=t(l.children))}}),r};return t(this.treeNodes)}setNewLoIds(e){if(e&&e.loData&&this.treeNodes){let t=this.treeNodes.find(o=>o.data.special);t&&Array.isArray(t.children)&&(t.data.id=e.loData.ifId,t.data.updateSpecial=!0,t.children.forEach(o=>{o.data&&(o.data.interface=e.loData.ifId,o.data.updateSpecial=!0,o.data.id=o.data.ip_version===4?e.loData.ipv4Id:e.loData.ipv6Id)})),this.filterTree()}}getInstallationData(e){let t,o,r;return Array.isArray(this.selectedTreeNodes)&&this.selectedTreeNodes.forEach(s=>{s.data&&(s.data.type===F.OBJ_INTERFACE_FIREWALL&&s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.has(e)&&(o=s.data),s.data.type===F.OBJ_ADDRESS&&s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.has(e)&&(r=s.data))}),(o||r)&&(t={interface:o,address:r}),t}operationsModified(){let e=!1;if(Array.isArray(this.selectedTreeNodes))for(let t=0;t<this.selectedTreeNodes.length&&!e;t++){let o=this.selectedTreeNodes[t];if(o.data.modified||o.data.updateSpecial||!o.data.id)e=!0;else if(Array.isArray(o.children))for(let r=0;r<o.children.length&&!e;r++){let s=o.children[r];(s.data.modified||o.data.updateSpecial||!s.data.id)&&(e=!0)}}return e}getSelectedModifiedTreeNodes(){if(Array.isArray(this.selectedTreeNodes))return this.selectedTreeNodes.filter(e=>e.data&&e.data.modified)}showFirewallsSelector(e,t){e.stopPropagation(),t.data.type===F.OBJ_ADDRESS&&(this.clickedTreeNodeKey=t.key,this.menuNodesSelector.toggle(e))}hideFirewallSelector(){this.menuNodesSelector.hide()}onHideFirewallsSelector(){this.clickedTreeNodeKey=null}onChangeFirewallsSelectorOptions(e){let o=e.item.id,r=this.treeSearchByNodeKey(this.clickedTreeNodeKey);this.doSetInstallAddress(r,o)}onDiscoverInterfacesHandler(){this.onStartAutodiscover.emit(!0)}resetProperties(){this._options=null,this.treeNodes=[],this.filteredTreeNodes=[],this.selectedTreeNodes=[],this.searchPattern=null,this.editingTreeNodeKey=null,this.nodeSaved=!1}static{this.\u0275fac=function(t){return new(t||i)(v(ao),v(Wt),v(je),v(pe))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-interfaces-tree-editor"]],viewQuery:function(t,o){if(t&1&&ne(Cke,5),t&2){let r;K(r=q())&&(o.menuNodesSelector=r.first)}},inputs:{options:"options",inputNodes:"inputNodes",disabled:"disabled",minimized:"minimized",loading:"loading",manualMode:"manualMode"},outputs:{onInstallModified:"onInstallModified",onIpObjectModified:"onIpObjectModified",onStartAutodiscover:"onStartAutodiscover"},decls:48,vars:21,consts:[["menuNodesSelector",""],["opFilterHelp",""],["inputFilter",""],["treeSelector",""],["appendTo","body",3,"onHide","popup","model"],[1,"grid","divInterfacesEditor",3,"ngClass"],["appendTo","body"],[1,"fa","fa-lg","fa-info-circle","fwcBlue"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fa","fa-4x","fa-cog","fa-spin","fwcBlue"],[1,"divInlineInput"],[1,"spanField"],[1,"fwcBlue"],[1,"fa","fa-list-ul"],["type","button","pButton","","icon","fa fa-check-square",1,"p-button-primary",3,"click","label"],["type","button","pButton","","icon","fa fa-square",1,"p-button-primary",3,"click","label"],[1,"fwcSep"],[1,"fa","fa-filter"],["name","ipVersions","label","IPv4","inputId","ipv4",3,"ngModelChange","onChange","value","ngModel"],["name","ipVersions","label","IPv6","inputId","ipv6",3,"ngModelChange","onChange","value","ngModel"],[1,"fwcSepShort"],["type","text","pInputText","","name","search","maxlength","255",3,"ngModelChange","keyup","placeholder","ngModel"],["pButton","","type","button","icon","fa fa-info",1,"p-button-info","fwcButtonHeight",3,"click"],[1,"col-12","md:col-6"],["styleClass","cardInterfacesEditor"],["pTemplate","header"],["selectionMode","checkbox","styleClass","treeSelector",3,"value","propagateSelectionUp","propagateSelectionDown","selection"],[1,"divIconMessage"],[1,"grid","formCondensed",3,"formGroup"],["pTemplate","footer"],["type","button","pButton","","icon","fa fa-trash","showDelay","500","tooltipPosition","top",1,"p-button-danger",3,"click","pTooltip","disabled","label"],["type","button","pButton","","icon","fa fa-search-plus",1,"p-button-primary",3,"click","label"],[1,"grid"],["selectionMode","checkbox","styleClass","treeSelector",3,"selectionChange","onNodeSelect","onNodeUnselect","value","propagateSelectionUp","propagateSelectionDown","selection"],["pTemplate","default"],[1,"treeSelector-node",3,"mouseenter","mouseleave","ngClass"],[3,"ngClass"],["aria-hidden","true"],[1,"fa","fa-fw","fa-info-circle","fwcBlue",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"pTooltip","showDelay"],[1,"spanNodeLabel"],[1,"fa","fa-fw","fa-angle-right","fwcBlue"],[1,"spanSimplePill"],[1,"spanSimplePill",3,"click"],["showDelay","500","tooltipPosition","top",1,"fa","fa-fw","fa-lg","fa-check","fwcGreen",3,"pTooltip"],[1,"spanSimplePill-select"],[1,"pi","pi-chevron-down","fwcBlue"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"click","pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"click","pTooltip","showDelay"],[1,"spanInfoPill","pillSuccess"],[1,"spanInfoPill",3,"ngClass"],[1,"fa","fa-5x","fa-exclamation","fwcPaleDark"],[1,"fwcDark"],[1,"spanInfoPill","pillInfoBadge"],["showDelay","300","tooltipPosition","top",1,"fa","fa-info-circle",3,"pTooltip"],[1,"p-float-label"],["type","text","pInputText","","formControlName","label","name","label","maxlength","64",3,"keyup"],["for","label"],[1,"p-inputgroup"],["type","text","pInputText","","formControlName","comment","name","comment",3,"keyup"],["for","comment"],[1,"col-6"],["type","text","pInputText","","formControlName","address","name","address","maxlength","45",3,"keyup","ngClass"],["for","address"],["type","text","pInputText","","formControlName","netmask","name","netmask","maxlength","15",3,"keyup","ngClass"],["for","netmask"],["type","text","pInputText","","formControlName","labelName","name","labelName","maxlength","64",3,"keyup"],["for","labelName"],["type","text","pInputText","","formControlName","mac","name","mac","maxlength","17",3,"keyup"],["for","mac"],[1,"fa","fa-5x","fa-exclamation-triangle"],[2,"text-align","right"],[1,"fwcGreen"],[1,"fa","fa-4x","fa-info-circle","fwcBlue"]],template:function(t,o){if(t&1){let r=k();f(0,"p-menu",4,0),R("onHide",function(){return b(r),y(o.onHideFirewallsSelector())}),m(),I(2,sNe,3,4,"div",5),f(3,"p-overlayPanel",6,1)(5,"h6"),E(6,"i",7),T(7),O(8,"translate"),m(),f(9,"ul")(10,"li"),T(11),O(12,"translate"),f(13,"code"),T(14,"lo"),m()(),f(15,"li"),T(16),O(17,"translate"),f(18,"code"),T(19,"lo"),f(20,"strong"),T(21,"*"),m()()(),f(22,"li"),T(23),O(24,"translate"),f(25,"code")(26,"strong"),T(27,"!"),m(),T(28,"lo"),m()(),f(29,"li"),T(30),O(31,"translate"),f(32,"code")(33,"strong"),T(34,"!"),m(),T(35,"lo"),f(36,"strong"),T(37,"*"),m()()()(),f(38,"p"),T(39),O(40,"translate"),m(),f(41,"ul")(42,"li")(43,"code"),T(44,"lo* tun*"),m()(),f(45,"li")(46,"code"),T(47,"tun* !tun10*"),m()()()()}t&2&&(p("popup",!0)("model",o.firewallsSelectorOptions),d(2),G(o.minimized?-1:2),d(5),z(" ",P(8,9,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TITLE")," "),d(4),z(" ",P(12,11,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_COINCIDENCE")," "),d(5),z(" ",P(17,13,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_COINCIDENCE")," "),d(7),z(" ",P(24,15,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_EXCLUSION")," "),d(7),z(" ",P(31,17,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_EXCLUSION")," "),d(9),H(P(40,19,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TIP")))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divInterfacesEditor{position:relative}.divInterfacesEditor-loader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.divInterfacesEditor--disabled:before{position:absolute;content:"";inset:0;z-index:10001;background:#00000017}.treeInterfacesEditor{max-height:20em;overflow:auto;width:100%;border:none!important}.cardInterfacesEditor{overflow:hidden;height:19rem}.cardInterfacesEditor .p-card-header{height:10%}.cardInterfacesEditor .p-card-body{height:95%;overflow:hidden}.cardInterfacesEditor .p-card-body .p-card-content{height:100%;overflow:hidden}.cardInterfacesEditor .treeSelector{height:100%}.spanNodeLabel{margin:0 .5rem}.spanNodeEditing{font-weight:700}.spanNodeEditing .spanNodeLabel{border-bottom:1px dashed}.divNodeSpecial{color:var(--fwcPaleDark);font-style:italic}.spanNodeDisabled{color:var(--fwcDarkBlue2);font-style:italic}.spanInfo{color:var(--fwcMidDark);margin-left:.5rem}.spanBadge{border:1px solid var(--fwcMidDark);background:var(--fwcGrey2);font-size:smaller;font-family:monospace;padding:0 3px}.formCondensed{padding-top:.5rem!important}.formCondensed [class*=col-]:not(:last-child){margin-bottom:1rem!important}.p-dialog .grid{display:flex;flex-wrap:wrap;box-sizing:border-box}.dlgFwcDialog.p-dialog [class*=grid]{margin-bottom:0!important;margin-top:0!important}.p-tree.treeSelector .p-treenode{padding:0!important}.p-tree.treeSelector .p-treenode .p-treenode-label{background-color:var(--fwcPaleBlue3)!important;color:var(--fwcDark)!important}.cardInterfacesEditor .treeSelector{height:100%;overflow:auto}
`],encapsulation:2,changeDetection:0})}}return i})();var Oh=class{constructor(n){n&&(this.fwcloud=n.fwcloud)}getValue(){return{fwcloud:this.fwcloud}}},Rh=class extends Oh{constructor(n){super(n),n&&(this.node_parent=n.node_parent,this.node_order=n.node_order,this.node_type=n.node_type,this.force=n.force)}getValue(){return Ee(Q({},super.getValue()),{node_parent:this.node_parent,node_order:this.node_order,node_type:this.node_type,force:this.force})}},Dh=class extends Oh{constructor(n){super(n),n&&(this.id=n.id)}getValue(){return Ee(Q({},super.getValue()),{id:this.id})}};var hb=class extends Rh{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Ee(Q({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}},fb=class extends Dh{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Ee(Q({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}};var mb=class extends Dh{constructor(n){super(n),this.type=null,n&&(this.name=n.name,this.labelName=n.labelName,this.type=n.type,this.comment=n.comment,this.mac=n.mac,this.interface_type=n.interface_type)}getValue(){return Ee(Q({},super.getValue()),{name:this.name,labelName:this.labelName,type:this.type,comment:this.comment,mac:this.mac,interface_type:this.interface_type})}},gb=class extends Rh{constructor(n){super(n),n&&(this.name=n.name,this.firewall=n.firewall,this.host=n.host,this.labelName=n.labelName,this.type=n.type,this.interface_type=n.interface_type,this.comment=n.comment,this.mac=n.mac)}getValue(){return Ee(Q({},super.getValue()),{name:this.name,firewall:this.firewall,namhoste:this.host,labelName:this.labelName,type:this.type,interface_type:this.interface_type,comment:this.comment,mac:this.mac})}};var aNe=()=>({width:"80vw"}),lNe=i=>({trInProgress:i});function cNe(i,n){i&1&&(f(0,"div",10)(1,"h6",11),E(2,"i",12),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"ITEM_BATCH.PANEL_TITLE"),""))}function dNe(i,n){if(i&1&&(f(0,"h6",6),E(1,"i",13),O(2,"fwcIcon"),T(3,"\xA0 "),f(4,"strong"),T(5),O(6,"translate"),m(),T(7),m()),i&2){let e=h();d(),te(P(2,5,e.options.parentObject.type)),d(4),H(P(6,7,"GLOBALS.DB_OBJECT_NAMES."+e.options.parentObject.type)),d(2),z(" ",e.options.parentObject.name," ")}}function uNe(i,n){i&1&&(f(0,"colgroup"),E(1,"col")(2,"col")(3,"col"),m()),i&2&&(d(),fn("width","20rem"),d(),fn("width","10rem"))}function pNe(i,n){i&1&&(f(0,"tr")(1,"th"),T(2),O(3,"translate"),m(),f(4,"th"),T(5),O(6,"translate"),m(),f(7,"th"),T(8),O(9,"translate"),m()()),i&2&&(d(2),H(P(3,3,"ITEM_BATCH.TABLE_HEADER.0")),d(3),H(P(6,5,"ITEM_BATCH.TABLE_HEADER.1")),d(3),H(P(9,7,"ITEM_BATCH.TABLE_HEADER.2")))}function hNe(i,n){i&1&&E(0,"i",19)}function fNe(i,n){if(i&1&&(f(0,"span",20)(1,"span"),E(2,"i"),T(3," \xA0 "),f(4,"p"),T(5),O(6,"translate"),m()()()),i&2){let e=h().rowData,t=h(2);p("ngClass",t.ItemBatchOperationTypeOptions[e.operationType].displayClass),d(2),te(t.ItemBatchOperationTypeOptions[e.operationType].icon),d(3),H(P(6,5,t.ItemBatchOperationTypeOptions[e.operationType].translateKey))}}function mNe(i,n){if(i&1){let e=k();f(0,"a",22),R("click",function(o){b(e);let r=h(2).rowData,s=h(2),a=Me(10);return y(s.showOperationMessage(o,r.operationMessage,a))}),E(1,"i",23),m()}}function gNe(i,n){if(i&1&&(f(0,"span",21),E(1,"i"),T(2," \xA0 "),f(3,"span"),T(4),O(5,"translate"),m(),T(6," \xA0 "),I(7,mNe,2,0,"a"),m()),i&2){let e=h().rowData,t=h(2);p("ngClass",t.ItemBatchOperationStatusOptions[e.operationStatus].displayClass),d(),te(t.ItemBatchOperationStatusOptions[e.operationStatus].icon),d(3),H(P(5,6,t.ItemBatchOperationStatusOptions[e.operationStatus].translateKey)),d(3),G(e.operationMessage?7:-1)}}function _Ne(i,n){if(i&1&&(f(0,"tr",17)(1,"td"),E(2,"p-treeTableToggler",18)(3,"i",13),O(4,"fwcIcon"),T(5),I(6,hNe,1,0,"i",19),m(),f(7,"td"),I(8,fNe,7,7,"span",20),m(),f(9,"td"),I(10,gNe,8,8,"span",21),m()()),i&2){let e=n.$implicit,t=n.rowData,o=h(2);Z("id",t.operationKey),p("ngClass",J(12,lNe,t.operationKey===(o.currentOperationData==null?null:o.currentOperationData.operationKey))),d(2),p("rowNode",e),d(),te(P(4,10,t.object==null?null:t.object.type)),d(2),z(" ",t.object==null?null:t.object.name," "),d(),G(t.object!=null&&t.object.installFirewallUUID?6:-1),d(2),G(o.ItemBatchOperationTypeOptions[t.operationType]?8:-1),d(2),G(o.ItemBatchOperationStatusOptions[t.operationStatus]?10:-1)}}function CNe(i,n){if(i&1&&(f(0,"div",5)(1,"p-treeTable",14),I(2,uNe,4,4,"ng-template",15)(3,pNe,10,9,"ng-template",3)(4,_Ne,11,14,"ng-template",16),m()()),i&2){let e=h();d(),p("value",e.objectOperationsTreeNodes)("scrollable",!0)}}function INe(i,n){if(i&1&&(f(0,"div",5)(1,"div",24),E(2,"i",25)(3,"br"),f(4,"h6"),T(5),O(6,"translate"),m(),f(7,"p"),T(8),m()()()),i&2){let e=h();d(5),H(P(6,2,"ITEM_BATCH.ERROR_HEADER")),d(3),H(e.optionsErrorMessage)}}function vNe(i,n){if(i&1){let e=k();f(0,"button",28),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.processOperations(o.objectOperationsTreeNodes))}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"ITEM_BATCH.BTN_TRY_AGAIN")),p("disabled",e.loadingData)}}function bNe(i,n){if(i&1){let e=k();I(0,vNe,2,4,"button",26),f(1,"button",27),O(2,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();G((e.currentOperationData==null?null:e.currentOperationData.operationStatus)===e.ItemBatchOperationStatus.ERROR?0:-1),d(),Z("label",P(2,3,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var ZU=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C){super(e,t,o,u,_,C),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.fwcUserService=r,this.fwcInterfaceService=s,this.fwcObjectService=a,this.confirmationService=l,this.utilService=c,this.cd=u,this.translate=g,this.store=_,this.router=C,this.ItemBatchOperationStatusOptions=xk,this.ItemBatchOperationTypeOptions=Ak,this.ItemBatchOperationStatus=Rn,this.loadingData=!1,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",ci.ITEM_BATCH_MANAGER)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(yt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&this.setOptions(e.data)})}ngOnDestroy(){super.ngOnDestroy()}setOptions(e){return he(this,null,function*(){e&&(this.options=e,Array.isArray(e.objectTreeNodes)?(this.objectOperationsTreeNodes=[],this.objectOperationsTreeNodes=this.parseOptionObjects(e.objectTreeNodes),this.objectOperationsTreeNodes.length&&(this.currentOperationData=void 0,this.cd.markForCheck(),this.showDialog(),this.loadingData=!0,yield this.processOperations(this.objectOperationsTreeNodes),this.loadingData=!1)):(this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_DATA"),this.cd.markForCheck(),this.showDialog()))})}parseOptionObjects(e,t){let o=[];if(Array.isArray(e)){let r=this.fwcUserService.getActualFwSelectedCloud();e=e.filter(s=>{let a=Array.isArray(s.children)&&s.children.length;return s.data.modified||s.data.updateSpecial||!s.data.id||a&&s.children.some(l=>l.data.modified||l.data.updateSpecial||!l.data.id)}),e.forEach(s=>{let a,l=s.data||{},c,u=Rn.PENDING,g=s.key;if(!l.id&&!l.special){if(c=Yr.CREATE,!this.options.parentObject)return this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_PARENT"),[]}else l.id&&l.special&&l.updateSpecial?c=Yr.UPDATE_SPECIAL:l.id&&l.modified?c=Yr.UPDATE:(c=Yr.NO_OP,u=Rn.NO_OP);a={operationKey:g,operationType:c,operationStatus:u,object:Ee(Q({},l),{fwcloud:r,name:s.label})};let _={key:g,expanded:!0,data:a,children:[]};Array.isArray(s.children)&&(_.children=this.parseOptionObjects(s.children,g)),o.push(_)})}return o}processOperations(e,t){return he(this,null,function*(){if(Array.isArray(e)){t||(t=this.options.parentObject);for(let o=0;o<e.length;o++){let r=e[o],s=r.data;if(!this.currentOperationData||this.currentOperationData&&this.currentOperationData.operationKey===s.operationKey){if(s.operationType==Yr.NO_OP)s.operationStatus=Rn.NO_OP;else if(s.operationType==Yr.UPDATE_SPECIAL)s.operationStatus=Rn.SUCCESS,s.operationResult={insertId:s.object.id};else{s.operationStatus=Rn.RUNNING,s.object.node_parent=t.id_node,s.object.node_type=gk[s.object.type],s.object.node_order=o+1,this.currentOperationData=s;try{let a=yield this.processCurrentOperation(t);a.data&&a.data.insertId&&(s.object.id=a.data.insertId,s.object.id_node=a.data.TreeinsertId,s.operationResult={insertId:a.data.insertId,TreeInsertId:a.data.TreeinsertId}),s.operationStatus=Rn.SUCCESS}catch(a){s.operationStatus=Rn.ERROR,s.operationMessage=a,this.cd.markForCheck();return}}this.cd.markForCheck()}Array.isArray(r.children)&&(yield this.processOperations(r.children,s.object))}}})}processCurrentOperation(e,t=!0){return he(this,null,function*(){let o;if(e&&this.currentOperationData){let r,s,a=document.getElementById(this.currentOperationData.operationKey);if(a&&a.scrollIntoView(),this.currentOperationData.operationType===Yr.CREATE){let l=this.currentOperationData.object;switch(this.currentOperationData.object.type){case F.OBJ_INTERFACE_FIREWALL:case F.OBJ_INTERFACE_HOST:{r=this.fwcInterfaceService.newInterface.bind(this.fwcInterfaceService);let c=new gb(l);c.fwcloud=this.currentOperationData.object.fwcloud,c.node_parent=e.id_node,e.type===F.OBJ_FIREWALL?c.firewall=e.id:e.type===F.OBJ_HOST&&(c.host=e.id),s=c.getValue();break}default:{r=this.fwcObjectService.newObject.bind(this.fwcObjectService);let c=new hb(l);c.fwcloud=this.currentOperationData.object.fwcloud,c.node_parent=e.id_node,c.force=t?1:0,(e.type===F.OBJ_INTERFACE_FIREWALL||e.type===F.OBJ_INTERFACE_HOST)&&(c.interface=e.id),s=c.getValue();break}}}else if(this.currentOperationData.operationType===Yr.UPDATE){let l=this.currentOperationData.object;switch(this.currentOperationData.object.type){case F.OBJ_INTERFACE_FIREWALL:case F.OBJ_INTERFACE_HOST:{r=this.fwcInterfaceService.updateInterface.bind(this.fwcInterfaceService);let c=new mb(l);c.interface_type=l.type,s=c.getValue();break}default:{r=this.fwcObjectService.updateObject.bind(this.fwcObjectService),s=new fb(l).getValue();break}}}if(r)o=yield this.utilService.fwcAPICall(r,s),this.currentOperationData=null;else throw new Error("No API Call");return o}})}getResultOperations(e){let t=[];return e||(e=this.objectOperationsTreeNodes),Array.isArray(e)&&e.forEach(o=>{t.push(o.data),Array.isArray(o.children)&&t.push(...this.getResultOperations(o.children))}),t}showOperationMessage(e,t,o){this.operationOverlayMessage=t,o.toggle(e)}onShowDialog(e){}onHideDialog(e){this.optionsErrorMessage=null,this.options&&this.options.onClose&&this.options.onClose(this.getResultOperations())}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(ot),v(Do),v(Kn),v(Wt),v(Ct),v(pe),v(je),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-item-batch-manager-panel"]],features:[Ge([Do,Kn]),fe],decls:17,vars:12,consts:[["itemBatchDialog",""],["overlayPanel",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],[1,"fwcBlue"],["pTemplate","footer"],["appendTo","body"],[1,"divOverlayMessage"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["aria-hidden","true"],["styleClass","tableBatchOps","scrollHeight","15rem",3,"value","scrollable"],["pTemplate","colgroup"],["pTemplate","body"],[3,"ngClass","id"],[3,"rowNode"],[1,"fa","fa-fw","fa-lg","fa-check","fwcGreen"],[1,"spanInfoPill",3,"ngClass"],[3,"ngClass"],[3,"click"],[1,"fa","fa-lg","fa-fw","fa-info-circle"],[1,"divIconMessage"],[1,"fa","fa-5x","fa-exclamation-triangle","fwcRed"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-warning",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",2,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(a){return b(r),y(o.onShowDialog(a))})("onHide",function(a){return b(r),y(o.onHideDialog(a))}),I(2,cNe,5,3,"ng-template",3),f(3,"div",4)(4,"div",5),I(5,dNe,8,9,"h6",6),m(),I(6,CNe,5,2,"div",5)(7,INe,9,4,"div",5),m(),I(8,bNe,3,5,"ng-template",7),m(),f(9,"p-overlayPanel",8,1)(11,"div",9)(12,"h6"),T(13,"Error"),m(),f(14,"p"),T(15),O(16,"json"),m()()()}t&2&&(it(Ie(11,aNe)),Oe("visible",o.displayDialog),p("modal",!0)("closable",!1),d(5),G(o.options!=null&&o.options.parentObject?5:-1),d(),G(o.optionsErrorMessage?-1:6),d(),G(o.optionsErrorMessage?7:-1),d(8),z(" ",P(16,9,o.operationOverlayMessage)," "))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.tableBatchOps{font-size:.9rem}.tableBatchOps tr th{text-align:center}.tableBatchOps tr td:nth-child(2){text-align:center}.tableBatchOps tr td:nth-child(3){text-align:right}.tableBatchOps tr.trInProgress{background:var(--fwcPaleBlue)}.tableBatchOps tr.trInProgress td:first-child{font-weight:700}.divOverlayMessage{max-width:25rem}
`],encapsulation:2,changeDetection:0})}}return i})();var e6=Xs(fd());function yNe(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"PANELS.WINDOWS_INSTALLER.TITLE")," "))}function wNe(i,n){i&1&&(f(0,"div",5),T(1),O(2,"translate"),m()),i&2&&(d(),z(" ",P(2,1,"PANELS.WINDOWS_INSTALLER.DESC")," "))}function SNe(i,n){if(i&1){let e=k();I(0,wNe,3,3,"div",5),f(1,"div",5)(2,"div",10)(3,"span",11)(4,"label",12),T(5),O(6,"translate"),m()(),f(7,"span",11)(8,"input",13,1),Re("ngModelChange",function(o){b(e);let r=h();return De(r.connection_name,o)||(r.connection_name=o),y(o)}),m()(),f(10,"span",11)(11,"button",14),O(12,"translate"),R("click",function(){b(e);let o=h();return y(o.doGenerateFile())}),m()()()()}if(i&2){let e=Me(9),t=h();G(t.opMessage?-1:0),d(5),H(P(6,7,"PANELS.WINDOWS_INSTALLER.FIELDS.NOMBRE_CON")),d(3),Oe("ngModel",t.connection_name),p("pattern",t.CommonValidators.connNameRegExp)("required",!0),d(3),Z("label",P(12,9,"PANELS.WINDOWS_INSTALLER.BUTTONS.GENERATE")),p("disabled",e.invalid)}}function ANe(i,n){if(i&1){let e=k();f(0,"div",16)(1,"button",17),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.opMessage=void 0)}),m()()}i&2&&(d(),Z("label",P(2,1,"PANELS.WINDOWS_INSTALLER.BUTTONS.TRY_AGAIN")))}function xNe(i,n){if(i&1&&(f(0,"div",5),E(1,"sts-fwc-message",15),I(2,ANe,3,3,"div",16),m()),i&2){let e=h();d(),p("message",e.opMessage),d(),G(e.opMessage.type==="error"?2:-1)}}function ENe(i,n){if(i&1){let e=k();f(0,"button",18),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var t6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_){super(e,t,o,r,_,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.cd=r,this.translate=s,this.fwcUserService=a,this.utilService=l,this.router=c,this.fwcCloudService=u,this.fwcFirewallService=g,this.store=_,this.CommonValidators=ri,this.createDialog(s.instant("PANELS.WINDOWS_INSTALLER.TITLE"),"fa-brands fa-windows",ci.VPN_WINDOWS_INSTALLER)}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showDialog(e){this.data=Object.assign({},e),this.connection_name=this.data.parentConfigName||"",this.connection_name=this.connection_name.replace(/\./gi,"_").substr(0,32),super.showDialog()}doGenerateFile(){return he(this,null,function*(){if(!this.data)return;this.opMessage={type:"loading",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.TEXT")};let e;if(this.data.cluster)try{let o=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),this.data.cluster,this.fwcUserService.getActualFwSelectedCloud())).data;o&&(e=o.id)}catch{}else e=this.data.firewall;e?(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcCloudService.generateWindowsInstaller.bind(this.fwcCloudService),this.data.fwcloud,e,this.data.openvpn,this.connection_name).then(t=>{let o=this.data.fwcloudName||"FWCLOUD",r;this.data.cluster?r=this.data.clusterName||"VPN":r=this.data.firewallName||"VPN";let s=o.trim()+"-"+r.trim()+"-"+this.connection_name.trim()+".exe";(0,e6.saveAs)(t.body,s),this.opMessage={type:"success",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.TEXT")},this.loadingData=!1}).catch(t=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")},this.loadingData=!1})):this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")}})}resetState(){this.connection_name="",this.opMessage=void 0}onDialogHide(){this.resetState()}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(pe),v(je),v(ot),v(Ct),v(et),v(Xr),v(Bt),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-vpn-windows-installer-panel"]],features:[Ge([de,Xr,Bt]),fe],decls:7,vars:5,consts:[["dlgWindowsInstallerDialog",""],["inputName","ngModel"],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"divInlineInput"],[1,"spanField"],[1,"fwcBlue"],["type","text","pInputText","","name","name","maxlength","32",2,"min-width","12rem",3,"ngModelChange","ngModel","pattern","required"],["type","button","pButton","","icon","fa fa-cloud-download",1,"p-button-primary",3,"click","disabled","label"],[3,"message"],[1,"fwc-centered"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary",3,"click","label"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",2,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)})("onHide",function(){return b(r),y(o.onDialogHide())}),I(2,yNe,5,3,"ng-template",3),f(3,"div",4),I(4,SNe,13,11,"div",5)(5,xNe,3,2,"div",5),m(),I(6,ENe,2,4,"ng-template",6),m()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(4),G(o.opMessage?5:4))},dependencies:[Wi,Gi,kf,Ao,yS,wn,Ht,ge,at,cn,gn,ht]})}}return i})();function aO(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Cu=aO();function a6(i){Cu=i}var l6=/[&<>"']/,TNe=new RegExp(l6.source,"g"),c6=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ONe=new RegExp(c6.source,"g"),RNe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i6=i=>RNe[i];function xs(i,n){if(n){if(l6.test(i))return i.replace(TNe,i6)}else if(c6.test(i))return i.replace(ONe,i6);return i}var DNe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function PNe(i){return i.replace(DNe,(n,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}var FNe=/(^|[^\[])\^/g;function Cn(i,n){let e=typeof i=="string"?i:i.source;n=n||"";let t={replace:(o,r)=>{let s=typeof r=="string"?r:r.source;return s=s.replace(FNe,"$1"),e=e.replace(o,s),t},getRegex:()=>new RegExp(e,n)};return t}function n6(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}var mg={exec:()=>null};function o6(i,n){let e=i.replace(/\|/g,(r,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),t=e.split(/ \|/),o=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),n)if(t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;o<t.length;o++)t[o]=t[o].trim().replace(/\\\|/g,"|");return t}function _b(i,n,e){let t=i.length;if(t===0)return"";let o=0;for(;o<t;){let r=i.charAt(t-o-1);if(r===n&&!e)o++;else if(r!==n&&e)o++;else break}return i.slice(0,t-o)}function LNe(i,n){if(i.indexOf(n[1])===-1)return-1;let e=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===n[0])e++;else if(i[t]===n[1]&&(e--,e<0))return t;return-1}function r6(i,n,e,t){let o=n.href,r=n.title?xs(n.title):null,s=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;let a={type:"link",raw:e,href:o,title:r,text:s,tokens:t.inlineTokens(s)};return t.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:r,text:xs(s)}}function MNe(i,n){let e=i.match(/^(\s+)(?:```)/);if(e===null)return n;let t=e[1];return n.split(`
`).map(o=>{let r=o.match(/^\s+/);if(r===null)return o;let[s]=r;return s.length>=t.length?o.slice(t.length):o}).join(`
`)}var Fh=class{options;rules;lexer;constructor(n){this.options=n||Cu}space(n){let e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){let e=this.rules.block.code.exec(n);if(e){let t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:_b(t,`
`)}}}fences(n){let e=this.rules.block.fences.exec(n);if(e){let t=e[0],o=MNe(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:o}}}heading(n){let e=this.rules.block.heading.exec(n);if(e){let t=e[2].trim();if(/#$/.test(t)){let o=_b(t,"#");(this.options.pedantic||!o||/ $/.test(o))&&(t=o.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(n){let e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){let e=this.rules.block.blockquote.exec(n);if(e){let t=e[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);t=_b(t.replace(/^ *>[ \t]?/gm,""),`
`);let o=this.lexer.state.top;this.lexer.state.top=!0;let r=this.lexer.blockTokens(t);return this.lexer.state.top=o,{type:"blockquote",raw:e[0],tokens:r,text:t}}}list(n){let e=this.rules.block.list.exec(n);if(e){let t=e[1].trim(),o=t.length>1,r={type:"list",raw:"",ordered:o,start:o?+t.slice(0,-1):"",loose:!1,items:[]};t=o?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=o?t:"[*+-]");let s=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",c=!1;for(;n;){let u=!1;if(!(e=s.exec(n))||this.rules.block.hr.test(n))break;a=e[0],n=n.substring(a.length);let g=e[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),_=n.split(`
`,1)[0],C=0;this.options.pedantic?(C=2,l=g.trimStart()):(C=e[2].search(/[^ ]/),C=C>4?1:C,l=g.slice(C),C+=e[1].length);let w=!1;if(!g&&/^ *$/.test(_)&&(a+=_+`
`,n=n.substring(_.length+1),u=!0),!u){let x=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),D=new RegExp(`^ {0,${Math.min(3,C-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),V=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:\`\`\`|~~~)`),X=new RegExp(`^ {0,${Math.min(3,C-1)}}#`);for(;n;){let ee=n.split(`
`,1)[0];if(_=ee,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),V.test(_)||X.test(_)||x.test(_)||D.test(n))break;if(_.search(/[^ ]/)>=C||!_.trim())l+=`
`+_.slice(C);else{if(w||g.search(/[^ ]/)>=4||V.test(g)||X.test(g)||D.test(g))break;l+=`
`+_}!w&&!_.trim()&&(w=!0),a+=ee+`
`,n=n.substring(ee.length+1),g=_.slice(C)}}r.loose||(c?r.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let S=null,A;this.options.gfm&&(S=/^\[[ xX]\] /.exec(l),S&&(A=S[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),r.items.push({type:"list_item",raw:a,task:!!S,checked:A,loose:!1,text:l,tokens:[]}),r.raw+=a}r.items[r.items.length-1].raw=a.trimEnd(),r.items[r.items.length-1].text=l.trimEnd(),r.raw=r.raw.trimEnd();for(let u=0;u<r.items.length;u++)if(this.lexer.state.top=!1,r.items[u].tokens=this.lexer.blockTokens(r.items[u].text,[]),!r.loose){let g=r.items[u].tokens.filter(C=>C.type==="space"),_=g.length>0&&g.some(C=>/\n.*\n/.test(C.raw));r.loose=_}if(r.loose)for(let u=0;u<r.items.length;u++)r.items[u].loose=!0;return r}}html(n){let e=this.rules.block.html.exec(n);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(n){let e=this.rules.block.def.exec(n);if(e){let t=e[1].toLowerCase().replace(/\s+/g," "),o=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:o,title:r}}}table(n){let e=this.rules.block.table.exec(n);if(!e||!/[:|]/.test(e[2]))return;let t=o6(e[1]),o=e[2].replace(/^\||\| *$/g,"").split("|"),r=e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===o.length){for(let a of o)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(let a of t)s.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of r)s.rows.push(o6(a,s.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return s}}lheading(n){let e=this.rules.block.lheading.exec(n);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(n){let e=this.rules.block.paragraph.exec(n);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(n){let e=this.rules.block.text.exec(n);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(n){let e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:xs(e[1])}}tag(n){let e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(n){let e=this.rules.inline.link.exec(n);if(e){let t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;let s=_b(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=LNe(e[2],"()");if(s>-1){let l=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let o=e[2],r="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],r=s[3])}else r=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(t)?o=o.slice(1):o=o.slice(1,-1)),r6(e,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer)}}reflink(n,e){let t;if((t=this.rules.inline.reflink.exec(n))||(t=this.rules.inline.nolink.exec(n))){let o=(t[2]||t[1]).replace(/\s+/g," "),r=e[o.toLowerCase()];if(!r){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return r6(t,r,t[0],this.lexer)}}emStrong(n,e,t=""){let o=this.rules.inline.emStrongLDelim.exec(n);if(!o||o[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(o[1]||o[2]||"")||!t||this.rules.inline.punctuation.exec(t)){let s=[...o[0]].length-1,a,l,c=s,u=0,g=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,e=e.slice(-1*n.length+s);(o=g.exec(e))!=null;){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}else if((o[5]||o[6])&&s%3&&!((s+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let _=[...o[0]][0].length,C=n.slice(0,s+o.index+_+l);if(Math.min(s,l)%2){let S=C.slice(1,-1);return{type:"em",raw:C,text:S,tokens:this.lexer.inlineTokens(S)}}let w=C.slice(2,-2);return{type:"strong",raw:C,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(n){let e=this.rules.inline.code.exec(n);if(e){let t=e[2].replace(/\n/g," "),o=/[^ ]/.test(t),r=/^ /.test(t)&&/ $/.test(t);return o&&r&&(t=t.substring(1,t.length-1)),t=xs(t,!0),{type:"codespan",raw:e[0],text:t}}}br(n){let e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){let e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(n){let e=this.rules.inline.autolink.exec(n);if(e){let t,o;return e[2]==="@"?(t=xs(e[1]),o="mailto:"+t):(t=xs(e[1]),o=t),{type:"link",raw:e[0],text:t,href:o,tokens:[{type:"text",raw:t,text:t}]}}}url(n){let e;if(e=this.rules.inline.url.exec(n)){let t,o;if(e[2]==="@")t=xs(e[0]),o="mailto:"+t;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);t=xs(e[0]),e[1]==="www."?o="http://"+e[0]:o=e[0]}return{type:"link",raw:e[0],text:t,href:o,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(n){let e=this.rules.inline.text.exec(n);if(e){let t;return this.lexer.state.inRawBlock?t=e[0]:t=xs(e[0]),{type:"text",raw:e[0],text:t}}}},kNe=/^(?: *(?:\n|$))+/,NNe=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,VNe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,_g=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,BNe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,d6=/(?:[*+-]|\d{1,9}[.)])/,u6=Cn(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,d6).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),lO=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,UNe=/^[^\n]+/,cO=/(?!\s*\])(?:\\.|[^\[\]\\])+/,jNe=Cn(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",cO).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),HNe=Cn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,d6).getRegex(),vb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",dO=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,GNe=Cn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",dO).replace("tag",vb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),p6=Cn(lO).replace("hr",_g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vb).getRegex(),zNe=Cn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",p6).getRegex(),uO={blockquote:zNe,code:NNe,def:jNe,fences:VNe,heading:BNe,hr:_g,html:GNe,lheading:u6,list:HNe,newline:kNe,paragraph:p6,table:mg,text:UNe},s6=Cn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vb).getRegex(),WNe=Ee(Q({},uO),{table:s6,paragraph:Cn(lO).replace("hr",_g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",s6).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vb).getRegex()}),$Ne=Ee(Q({},uO),{html:Cn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",dO).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cn(lO).replace("hr",_g).replace("heading",` *#{1,6} *[^
]`).replace("lheading",u6).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),h6=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,KNe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,f6=/^( {2,}|\\)\n(?!\s*$)/,qNe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Cg="\\p{P}\\p{S}",YNe=Cn(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Cg).getRegex(),JNe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,XNe=Cn(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Cg).getRegex(),QNe=Cn("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Cg).getRegex(),ZNe=Cn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Cg).getRegex(),e3e=Cn(/\\([punct])/,"gu").replace(/punct/g,Cg).getRegex(),t3e=Cn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),i3e=Cn(dO).replace("(?:-->|$)","-->").getRegex(),n3e=Cn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",i3e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ib=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o3e=Cn(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ib).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),m6=Cn(/^!?\[(label)\]\[(ref)\]/).replace("label",Ib).replace("ref",cO).getRegex(),g6=Cn(/^!?\[(ref)\](?:\[\])?/).replace("ref",cO).getRegex(),r3e=Cn("reflink|nolink(?!\\()","g").replace("reflink",m6).replace("nolink",g6).getRegex(),pO={_backpedal:mg,anyPunctuation:e3e,autolink:t3e,blockSkip:JNe,br:f6,code:KNe,del:mg,emStrongLDelim:XNe,emStrongRDelimAst:QNe,emStrongRDelimUnd:ZNe,escape:h6,link:o3e,nolink:g6,punctuation:YNe,reflink:m6,reflinkSearch:r3e,tag:n3e,text:qNe,url:mg},s3e=Ee(Q({},pO),{link:Cn(/^!?\[(label)\]\((.*?)\)/).replace("label",Ib).getRegex(),reflink:Cn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ib).getRegex()}),rO=Ee(Q({},pO),{escape:Cn(h6).replace("])","~|])").getRegex(),url:Cn(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),a3e=Ee(Q({},rO),{br:Cn(f6).replace("{2,}","*").getRegex(),text:Cn(rO.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Cb={normal:uO,gfm:WNe,pedantic:$Ne},fg={normal:pO,gfm:rO,breaks:a3e,pedantic:s3e},ic=class i{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Cu,this.options.tokenizer=this.options.tokenizer||new Fh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={block:Cb.normal,inline:fg.normal};this.options.pedantic?(e.block=Cb.pedantic,e.inline=fg.pedantic):this.options.gfm&&(e.block=Cb.gfm,this.options.breaks?e.inline=fg.breaks:e.inline=fg.gfm),this.tokenizer.rules=e}static get rules(){return{block:Cb,inline:fg}}static lex(n,e){return new i(e).lex(n)}static lexInline(n,e){return new i(e).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,e=[]){this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let t,o,r,s;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(t=a.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.space(n)){n=n.substring(t.raw.length),t.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(t);continue}if(t=this.tokenizer.code(n)){n=n.substring(t.raw.length),o=e[e.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+t.raw,o.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(t);continue}if(t=this.tokenizer.fences(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.heading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.hr(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.blockquote(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.list(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.html(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.def(n)){n=n.substring(t.raw.length),o=e[e.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+t.raw,o.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.lheading(n)){n=n.substring(t.raw.length),e.push(t);continue}if(r=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=n.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(r=n.substring(0,a+1))}if(this.state.top&&(t=this.tokenizer.paragraph(r))){o=e[e.length-1],s&&o.type==="paragraph"?(o.raw+=`
`+t.raw,o.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(t),s=r.length!==n.length,n=n.substring(t.raw.length);continue}if(t=this.tokenizer.text(n)){n=n.substring(t.raw.length),o=e[e.length-1],o&&o.type==="text"?(o.raw+=`
`+t.raw,o.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(t);continue}if(n){let a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let t,o,r,s=n,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;n;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(t=u.call({lexer:this},n,e))?(n=n.substring(t.raw.length),e.push(t),!0):!1))){if(t=this.tokenizer.escape(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.tag(n)){n=n.substring(t.raw.length),o=e[e.length-1],o&&t.type==="text"&&o.type==="text"?(o.raw+=t.raw,o.text+=t.text):e.push(t);continue}if(t=this.tokenizer.link(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(t.raw.length),o=e[e.length-1],o&&t.type==="text"&&o.type==="text"?(o.raw+=t.raw,o.text+=t.text):e.push(t);continue}if(t=this.tokenizer.emStrong(n,s,c)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.codespan(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.br(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.del(n)){n=n.substring(t.raw.length),e.push(t);continue}if(t=this.tokenizer.autolink(n)){n=n.substring(t.raw.length),e.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(n))){n=n.substring(t.raw.length),e.push(t);continue}if(r=n,this.options.extensions&&this.options.extensions.startInline){let u=1/0,g=n.slice(1),_;this.options.extensions.startInline.forEach(C=>{_=C.call({lexer:this},g),typeof _=="number"&&_>=0&&(u=Math.min(u,_))}),u<1/0&&u>=0&&(r=n.substring(0,u+1))}if(t=this.tokenizer.inlineText(r)){n=n.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),l=!0,o=e[e.length-1],o&&o.type==="text"?(o.raw+=t.raw,o.text+=t.text):e.push(t);continue}if(n){let u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return e}},sl=class{options;constructor(n){this.options=n||Cu}code(n,e,t){let o=(e||"").match(/^\S*/)?.[0];return n=n.replace(/\n$/,"")+`
`,o?'<pre><code class="language-'+xs(o)+'">'+(t?n:xs(n,!0))+`</code></pre>
`:"<pre><code>"+(t?n:xs(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
${n}</blockquote>
`}html(n,e){return n}heading(n,e,t){return`<h${e}>${n}</h${e}>
`}hr(){return`<hr>
`}list(n,e,t){let o=e?"ol":"ul",r=e&&t!==1?' start="'+t+'"':"";return"<"+o+r+`>
`+n+"</"+o+`>
`}listitem(n,e,t){return`<li>${n}</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(n){return`<p>${n}</p>
`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+e+`</table>
`}tablerow(n){return`<tr>
${n}</tr>
`}tablecell(n,e){let t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+n+`</${t}>
`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return"<br>"}del(n){return`<del>${n}</del>`}link(n,e,t){let o=n6(n);if(o===null)return t;n=o;let r='<a href="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=">"+t+"</a>",r}image(n,e,t){let o=n6(n);if(o===null)return t;n=o;let r=`<img src="${n}" alt="${t}"`;return e&&(r+=` title="${e}"`),r+=">",r}text(n){return n}},gg=class{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,t){return""+t}image(n,e,t){return""+t}br(){return""}},nc=class i{options;renderer;textRenderer;constructor(n){this.options=n||Cu,this.options.renderer=this.options.renderer||new sl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gg}static parse(n,e){return new i(e).parse(n)}static parseInline(n,e){return new i(e).parseInline(n)}parse(n,e=!0){let t="";for(let o=0;o<n.length;o++){let r=n[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){let s=r,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){t+=a||"";continue}}switch(r.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{let s=r;t+=this.renderer.heading(this.parseInline(s.tokens),s.depth,PNe(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{let s=r;t+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{let s=r,a="",l="";for(let u=0;u<s.header.length;u++)l+=this.renderer.tablecell(this.parseInline(s.header[u].tokens),{header:!0,align:s.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<s.rows.length;u++){let g=s.rows[u];l="";for(let _=0;_<g.length;_++)l+=this.renderer.tablecell(this.parseInline(g[_].tokens),{header:!1,align:s.align[_]});c+=this.renderer.tablerow(l)}t+=this.renderer.table(a,c);continue}case"blockquote":{let s=r,a=this.parse(s.tokens);t+=this.renderer.blockquote(a);continue}case"list":{let s=r,a=s.ordered,l=s.start,c=s.loose,u="";for(let g=0;g<s.items.length;g++){let _=s.items[g],C=_.checked,w=_.task,S="";if(_.task){let A=this.renderer.checkbox(!!C);c?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=A+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=A+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:A+" "}):S+=A+" "}S+=this.parse(_.tokens,c),u+=this.renderer.listitem(S,w,!!C)}t+=this.renderer.list(u,a,l);continue}case"html":{let s=r;t+=this.renderer.html(s.text,s.block);continue}case"paragraph":{let s=r;t+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=r,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<n.length&&n[o+1].type==="text";)s=n[++o],a+=`
`+(s.tokens?this.parseInline(s.tokens):s.text);t+=e?this.renderer.paragraph(a):a;continue}default:{let s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(n,e){e=e||this.renderer;let t="";for(let o=0;o<n.length;o++){let r=n[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){let s=this.options.extensions.renderers[r.type].call({parser:this},r);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){t+=s||"";continue}}switch(r.type){case"escape":{let s=r;t+=e.text(s.text);break}case"html":{let s=r;t+=e.html(s.text);break}case"link":{let s=r;t+=e.link(s.href,s.title,this.parseInline(s.tokens,e));break}case"image":{let s=r;t+=e.image(s.href,s.title,s.text);break}case"strong":{let s=r;t+=e.strong(this.parseInline(s.tokens,e));break}case"em":{let s=r;t+=e.em(this.parseInline(s.tokens,e));break}case"codespan":{let s=r;t+=e.codespan(s.text);break}case"br":{t+=e.br();break}case"del":{let s=r;t+=e.del(this.parseInline(s.tokens,e));break}case"text":{let s=r;t+=e.text(s.text);break}default:{let s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}},Ph=class{options;constructor(n){this.options=n||Cu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}},sO=class{defaults=aO();options=this.setOptions;parse=this.#e(ic.lex,nc.parse);parseInline=this.#e(ic.lexInline,nc.parseInline);Parser=nc;Renderer=sl;TextRenderer=gg;Lexer=ic;Tokenizer=Fh;Hooks=Ph;constructor(...n){this.use(...n)}walkTokens(n,e){let t=[];for(let o of n)switch(t=t.concat(e.call(this,o)),o.type){case"table":{let r=o;for(let s of r.header)t=t.concat(this.walkTokens(s.tokens,e));for(let s of r.rows)for(let a of s)t=t.concat(this.walkTokens(a.tokens,e));break}case"list":{let r=o;t=t.concat(this.walkTokens(r.items,e));break}default:{let r=o;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let a=r[s].flat(1/0);t=t.concat(this.walkTokens(a,e))}):r.tokens&&(t=t.concat(this.walkTokens(r.tokens,e)))}}return t}use(...n){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(t=>{let o=Q({},t);if(o.async=this.defaults.async||o.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=e.renderers[r.name];s?e.renderers[r.name]=function(...a){let l=r.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[r.level];s?s.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),o.extensions=e),t.renderer){let r=this.defaults.renderer||new sl(this.defaults);for(let s in t.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(s==="options")continue;let a=s,l=t.renderer[a],c=r[a];r[a]=(...u)=>{let g=l.apply(r,u);return g===!1&&(g=c.apply(r,u)),g||""}}o.renderer=r}if(t.tokenizer){let r=this.defaults.tokenizer||new Fh(this.defaults);for(let s in t.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,l=t.tokenizer[a],c=r[a];r[a]=(...u)=>{let g=l.apply(r,u);return g===!1&&(g=c.apply(r,u)),g}}o.tokenizer=r}if(t.hooks){let r=this.defaults.hooks||new Ph;for(let s in t.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(s==="options")continue;let a=s,l=t.hooks[a],c=r[a];Ph.passThroughHooks.has(s)?r[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(r,u)).then(_=>c.call(r,_));let g=l.call(r,u);return c.call(r,g)}:r[a]=(...u)=>{let g=l.apply(r,u);return g===!1&&(g=c.apply(r,u)),g}}o.hooks=r}if(t.walkTokens){let r=this.defaults.walkTokens,s=t.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),r&&(l=l.concat(r.call(this,a))),l}}this.defaults=Q(Q({},this.defaults),o)}),this}setOptions(n){return this.defaults=Q(Q({},this.defaults),n),this}lexer(n,e){return ic.lex(n,e??this.defaults)}parser(n,e){return nc.parse(n,e??this.defaults)}#e(n,e){return(t,o)=>{let r=Q({},o),s=Q(Q({},this.defaults),r);this.defaults.async===!0&&r.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);let a=this.#t(!!s.silent,!!s.async);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(t):t).then(l=>n(l,s)).then(l=>s.hooks?s.hooks.processAllTokens(l):l).then(l=>s.walkTokens?Promise.all(this.walkTokens(l,s.walkTokens)).then(()=>l):l).then(l=>e(l,s)).then(l=>s.hooks?s.hooks.postprocess(l):l).catch(a);try{s.hooks&&(t=s.hooks.preprocess(t));let l=n(t,s);s.hooks&&(l=s.hooks.processAllTokens(l)),s.walkTokens&&this.walkTokens(l,s.walkTokens);let c=e(l,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(l){return a(l)}}}#t(n,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,n){let o="<p>An error occurred:</p><pre>"+xs(t.message+"",!0)+"</pre>";return e?Promise.resolve(o):o}if(e)return Promise.reject(t);throw t}}},_u=new sO;function Ji(i,n){return _u.parse(i,n)}Ji.options=Ji.setOptions=function(i){return _u.setOptions(i),Ji.defaults=_u.defaults,a6(Ji.defaults),Ji};Ji.getDefaults=aO;Ji.defaults=Cu;Ji.use=function(...i){return _u.use(...i),Ji.defaults=_u.defaults,a6(Ji.defaults),Ji};Ji.walkTokens=function(i,n){return _u.walkTokens(i,n)};Ji.parseInline=_u.parseInline;Ji.Parser=nc;Ji.parser=nc.parse;Ji.Renderer=sl;Ji.TextRenderer=gg;Ji.Lexer=ic;Ji.lexer=ic.lex;Ji.Tokenizer=Fh;Ji.Hooks=Ph;Ji.parse=Ji;var dPt=Ji.options,uPt=Ji.setOptions,pPt=Ji.use,hPt=Ji.walkTokens,fPt=Ji.parseInline;var mPt=nc.parse,gPt=ic.lex;var l3e=["*"],c3e="Copy",d3e="Copied",u3e=(()=>{class i{constructor(){this._buttonClick$=new Ae,this.copied$=this._buttonClick$.pipe(Vo(()=>Yb(mt(!0),oa(3e3).pipe(Ad(!1)))),cl(),Du(1)),this.copiedText$=this.copied$.pipe(Yh(!1),U(e=>e?d3e:c3e))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=Y({type:i,selectors:[["markdown-clipboard"]],standalone:!0,features:[Ze],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,o){t&1&&(f(0,"button",0),O(1,"async"),R("click",function(){return o.onCopyToClipboardClick()}),T(2),O(3,"async"),m()),t&2&&(Xi("copied",P(1,3,o.copied$)),d(2),H(P(3,5,o.copiedText$)))},dependencies:[PF],encapsulation:2,changeDetection:0})}}return i})(),p3e=new Pe("CLIPBOARD_OPTIONS");var hO=function(i){return i.CommandLine="command-line",i.LineHighlight="line-highlight",i.LineNumbers="line-numbers",i}(hO||{}),C6=new Pe("MARKED_EXTENSIONS"),h3e=new Pe("MARKED_OPTIONS"),f3e="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",m3e="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",g3e="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",_3e="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",C3e="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",I3e="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",I6=new Pe("SECURITY_CONTEXT");var v6=(()=>{class i{get options(){return this._options}set options(e){this._options=Q(Q({},this.DEFAULT_MARKED_OPTIONS),e)}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}constructor(e,t,o,r,s,a,l){this.clipboardOptions=e,this.extensions=t,this.platform=r,this.securityContext=s,this.http=a,this.sanitizer=l,this.DEFAULT_MARKED_OPTIONS={renderer:new sl},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Ae,this.reload$=this._reload$.asObservable(),this.options=o}parse(e,t=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:o,inline:r,emoji:s,mermaid:a,disableSanitizer:l}=t,c=Q(Q({},this.options),t.markedOptions),u=c.renderer||this.renderer||new sl;this.extensions&&(this.renderer=this.extendsRendererForExtensions(u)),a&&(this.renderer=this.extendsRendererForMermaid(u));let g=this.trimIndentation(e),_=o?this.decodeHtml(g):g,C=s?this.parseEmoji(_):_,w=this.parseMarked(C,c,r);return(l?w:this.sanitizer.sanitize(this.securityContext,w))||""}render(e,t=this.DEFAULT_RENDER_OPTIONS,o){let{clipboard:r,clipboardOptions:s,katex:a,katexOptions:l,mermaid:c,mermaidOptions:u}=t;a&&this.renderKatex(e,Q(Q({},this.DEFAULT_KATEX_OPTIONS),l)),c&&this.renderMermaid(e,Q(Q({},this.DEFAULT_MERMAID_OPTIONS),u)),r&&this.renderClipboard(e,o,Q(Q(Q({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),s)),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error(I3e);return this.http.get(e,{responseType:"text"}).pipe(U(t=>this.handleExtension(e,t)))}highlight(e){if(!rt(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);let t=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(t,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!rt(this.platform))return e;let t=document.createElement("textarea");return t.innerHTML=e,t.value}extendsRendererForExtensions(e){let t=e;return t.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&Ji.use(...this.extensions),t.\u0275NgxMarkdownRendererExtendedForExtensions=!0),e}extendsRendererForMermaid(e){let t=e;if(t.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return e;let o=e.code;return e.code=function(r,s,a){return s==="mermaid"?`<div class="mermaid">${r}</div>`:o.call(this,r,s,a)},t.\u0275NgxMarkdownRendererExtendedForMermaid=!0,e}handleExtension(e,t){let o=e.lastIndexOf("://"),r=o>-1?e.substring(o+4):e,s=r.lastIndexOf("/"),a=s>-1?r.substring(s+1).split("?")[0]:"",l=a.lastIndexOf("."),c=l>-1?a.substring(l+1):"";return c&&c!=="md"?"```"+c+`
`+t+"\n```":t}parseMarked(e,t,o=!1){if(t.renderer){let r=Q({},t.renderer);delete r.\u0275NgxMarkdownRendererExtendedForExtensions,delete r.\u0275NgxMarkdownRendererExtendedForMermaid,delete t.renderer,Ji.use({renderer:r})}return o?Ji.parseInline(e,t):Ji.parse(e,t)}parseEmoji(e){if(!rt(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(f3e);return joypixels.shortnameToUnicode(e)}renderKatex(e,t){if(rt(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(m3e);renderMathInElement(e,t)}}renderClipboard(e,t,o){if(!rt(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(_3e);if(!t)throw new Error(C3e);let{buttonComponent:r,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let l=0;l<a.length;l++){let c=a.item(l),u=document.createElement("div");u.style.position="relative",c.parentNode.insertBefore(u,c),u.appendChild(c);let g=document.createElement("div");g.classList.add("markdown-clipboard-toolbar"),g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.zIndex="1",u.insertAdjacentElement("beforeend",g),u.onmouseenter=()=>g.classList.add("hover"),u.onmouseleave=()=>g.classList.remove("hover");let _;if(r){let w=t.createComponent(r);_=w.hostView,w.changeDetectorRef.markForCheck()}else if(s)_=t.createEmbeddedView(s);else{let w=t.createComponent(u3e);_=w.hostView,w.changeDetectorRef.markForCheck()}let C;_.rootNodes.forEach(w=>{g.appendChild(w),C=new ClipboardJS(w,{text:()=>c.innerText})}),_.onDestroy(()=>C.destroy())}}renderMermaid(e,t=this.DEFAULT_MERMAID_OPTIONS){if(!rt(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(g3e);let o=e.querySelectorAll(".mermaid");o.length!==0&&(mermaid.initialize(t),mermaid.run({nodes:o}))}trimIndentation(e){if(!e)return"";let t;return e.split(`
`).map(o=>{let r=t;return o.length>0&&(r=isNaN(r)?o.search(/\S|$/):Math.min(o.search(/\S|$/),r)),isNaN(t)&&(t=r),r?o.substring(r):o}).join(`
`)}static{this.\u0275fac=function(t){return new(t||i)(ie(p3e,8),ie(C6,8),ie(h3e,8),ie(Lt),ie(I6),ie(Mt,8),ie(ha))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac})}}return i})(),bb=(()=>{class i{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(e){this._disableSanitizer=this.coerceBooleanProperty(e)}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}constructor(e,t,o){this.element=e,this.markdownService=t,this.viewContainerRef=o,this.error=new W,this.load=new W,this.ready=new W,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Ae}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(xd(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,t=!1){return he(this,null,function*(){let o={decodeHtml:t,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},r={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=yield this.markdownService.parse(e,o);this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,r,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(e){return e!=null&&`${String(e)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e).then(()=>{this.load.emit(e)})},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,hO.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,hO.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,t){let o=e.querySelectorAll("pre");for(let r=0;r<o.length;r++){let s=t instanceof Array?t:[t];o.item(r).classList.add(...s)}}setPluginOptions(e,t){let o=e.querySelectorAll("pre");for(let r=0;r<o.length;r++)Object.keys(t).forEach(s=>{let a=t[s];if(a){let l=this.toLispCase(s);o.item(r).setAttribute(l,a.toString())}})}toLispCase(e){let t=e.match(/([A-Z])/g);if(!t)return e;let o=e.toString();for(let r=0,s=t.length;r<s;r++)o=o.replace(new RegExp(t[r]),"-"+t[r].toLowerCase());return o.slice(0,1)==="-"&&(o=o.slice(1)),o}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(v6),v(jo))}}static{this.\u0275cmp=Y({type:i,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[ki,Ze],ngContentSelectors:l3e,decls:1,vars:0,template:function(t,o){t&1&&(_i(),jt(0))},encapsulation:2})}}return i})();function v3e(i){return[v6,i?.loader??[],i?.clipboardOptions??[],i?.markedOptions??[],{provide:C6,useValue:i?.markedExtensions??[]},{provide:I6,useValue:i?.sanitize??ds.HTML}]}var b6=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[v3e(e)]}}static forChild(){return{ngModule:i}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({imports:[Be]})}}return i})(),_6;(function(i){let n;(function(o){o.Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox"})(n=i.SecurityLevel||(i.SecurityLevel={}));let e;(function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"})(e=i.Theme||(i.Theme={}));let t;(function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"})(t=i.LogLevel||(i.LogLevel={}))})(_6||(_6={}));var y6=i=>({display:i}),y3e=()=>({width:"2rem",height:"2rem"});function w3e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",11),E(2,"i",12),T(3),m()()),i&2){let e=h();d(2),p("ngClass",e.icon),d(),z(" ",e.title," ")}}function S3e(i,n){i&1&&(f(0,"div",4),E(1,"p-progressSpinner"),m()),i&2&&(d(),it(Ie(2,y3e)))}function A3e(i,n){if(i&1){let e=k();f(0,"markdown",13),R("load",function(o){b(e);let r=h();return y(r.onMarkdownLoaded(o))})("error",function(o){b(e);let r=h();return y(r.onMarkdownError(o))}),m()}if(i&2){let e=h();p("src",e.fileName)}}function x3e(i,n){if(i&1){let e=k();f(0,"markdown",14),R("ready",function(o){b(e);let r=h();return y(r.onMarkdownLoaded(o))}),m()}if(i&2){let e=h();p("data",e.markdown)}}function E3e(i,n){if(i&1&&(f(0,"div",8),E(1,"sts-fwc-message",15),m()),i&2){let e=h();d(),p("message",e.errorMessage)}}function T3e(i,n){if(i&1){let e=k();f(0,"button",16),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var HPt=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l){super(e,t,o,r,a,l),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.cd=r,this.translate=s,this.store=a,this.router=l,this.createDialog(s.instant("PANELS.DOCS_PANEL.TITLE"),"fa fa-info",ci.DOCS_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(yt(()=>this.alive)).subscribe(e=>{e.uuid===this.dialogUUID&&e.data&&(e.data.fileName||e.data.url||e.data.markdown)&&(this.errorMessage=void 0,this.loadingData=!0,e.data.title&&(this.title=e.data.title),e.data.icon&&(this.icon=e.data.icon),e.data.url?this.fileName=e.data.url:e.data.fileName?this.fileName="./assets/docs/"+e.data.fileName+".md":e.data.markdown&&(this.markdown=e.data.markdown,this.loadingData=!1),this.showDialog())})}ngOnDestroy(){super.ngOnDestroy()}onMarkdownLoaded(e){this.loadingData=!1,setTimeout(()=>{this.recenterDialog()},1)}onMarkdownError(e){this.loadingData=!1,this.errorMessage={type:"error",title:"Error",text:this.translate.instant("PANELS.DOCS_PANEL.ERRORS.READING_FILE",{name:this.fileName})},this.recenterDialog()}onHideDialog(){}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(pe),v(je),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-docs-panel"]],viewQuery:function(t,o){if(t&1&&ne(bb,5),t&2){let r;K(r=q())&&(o.mdComponent=r.first)}},features:[fe],decls:10,vars:14,consts:[["dlgDocsDialog",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid","divMarkdown",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"col-12","divMarkdown-contents",3,"ngStyle"],[3,"src"],[3,"data"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange",3,"ngClass"],[3,"load","error","src"],[3,"ready","data"],[3,"message"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(!0)})("onHide",function(){return b(r),y(!0)}),I(2,w3e,4,2,"ng-template",2),f(3,"div",3),I(4,S3e,2,3,"div",4),f(5,"div",5),I(6,A3e,1,1,"markdown",6)(7,x3e,1,1,"markdown",7),m(),I(8,E3e,2,1,"div",8),m(),I(9,T3e,2,4,"ng-template",9),m()}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(3),p("ngStyle",J(10,y6,o.fileName||o.markdown?"block":"none")),d(),G(o.loadingData?4:-1),d(),p("ngStyle",J(12,y6,o.loadingData?"none":"block")),d(),G(o.fileName?6:-1),d(),G(o.markdown?7:-1),d(),G(!o.loadingData&&o.errorMessage?8:-1))},dependencies:[Fe,ve,bb,Ht,ge,at,Eo,gn,ht],styles:[`.divMarkdown-contents h1{margin-top:0;font-size:2em}.divMarkdown-contents h2{font-size:1.5em}.divMarkdown-contents h3{font-size:1.17em}.divMarkdown-contents h4{font-size:1em}.divMarkdown-contents h5{font-size:.83em}.divMarkdown-contents h6{font-size:.67em}
`],encapsulation:2})}}return i})();var S6=Xs(fd());var w6=(()=>{class i{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(e=0,t=2){if(isNaN(parseFloat(String(e)))||!isFinite(e))return"?";let o=0;for(;e>=1024;)e/=1024,o++;return e.toFixed(+t)+" "+this.units[o]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=xn({name:"fwcFileSize",type:i,pure:!0})}}return i})();var R3e=["fwcMessageComponent"],D3e=["txtExported"];function P3e(i,n){i&1&&oe(0)}function F3e(i,n){if(i&1){let e=k();f(0,"div",21)(1,"textarea",22),O(2,"translate"),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.iptablesSaveText,o)||(r.iptablesSaveText=o),y(o)}),m()()}if(i&2){let e=h(3);d(),Z("placeholder",P(2,2,"PANELS.IPTABLES_SAVE.IMPORT.INFO.PASTE_HERE")),Oe("ngModel",e.iptablesSaveText)}}function L3e(i,n){if(i&1){let e=k();f(0,"div",26),E(1,"i",27),f(2,"span"),T(3),m(),f(4,"span",28),T(5),O(6,"fwcFileSize"),m(),f(7,"button",29),R("click",function(){b(e),h();let o=Me(2),r=h(3);return y(r.handleRemoveSelectedFile(o,0))}),m()()}if(i&2){let e=n.$implicit,t=h(4);d(3),H(e.name),d(2),H(P(6,3,e.size)),d(2),p("disabled",t.loadingData||t.success)}}function M3e(i,n){i&1&&(f(0,"div",31),E(1,"i",32)(2,"br"),f(3,"p"),T(4),O(5,"translate"),m()()),i&2&&(d(4),H(P(5,1,"PANELS.FILEUPLOAD_PANEL.SELECT_FILE")))}function k3e(i,n){if(i&1&&I(0,M3e,6,3,"div",30),i&2){h();let e=Me(2);p("ngIf",!(e.files!=null&&e.files.length))}}function N3e(i,n){if(i&1){let e=k();f(0,"div",15)(1,"p-fileUpload",23,3),O(3,"translate"),O(4,"translate"),O(5,"translate"),O(6,"translate"),O(7,"translate"),R("onSelect",function(o){b(e);let r=h(3);return y(r.handleSelectFile(o))})("onRemove",function(o){b(e);let r=h(3);return y(r.handleOnRemoveSelectedFile(o))}),I(8,L3e,8,5,"ng-template",24)(9,k3e,1,1,"ng-template",25),m()()}if(i&2){let e=h(3);d(),p("disabled",e.loadingData||e.success)("maxFileSize",1e3*1e3*10)("chooseLabel",P(3,9,"PANELS.IPTABLES_SAVE.BUTTONS.CHOOSE"))("showCancelButton",!1)("showUploadButton",!1)("invalidFileSizeMessageSummary",P(4,11,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",P(5,13,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",P(6,15,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",P(7,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function V3e(i,n){i&1&&oe(0)}function B3e(i,n){if(i&1&&(f(0,"div",15),I(1,V3e,1,0,"ng-container",33),m()),i&2){h(3);let e=Me(4);d(),p("ngTemplateOutlet",e)}}function U3e(i,n){if(i&1){let e=k();f(0,"div",34)(1,"p-checkbox",35),O(2,"translate"),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.okToImport,o)||(r.okToImport=o),y(o)}),m()()}if(i&2){let e=h(3);d(),Z("label",P(2,3,"WIZARDS.FIREWALL_IMPORT.INFO.WARN_IMPORT")),Oe("ngModel",e.okToImport),p("disabled",e.loadingData)}}function j3e(i,n){if(i&1){let e=k();f(0,"div",14)(1,"div",15)(2,"p"),T(3),O(4,"translate"),m()(),f(5,"div",15)(6,"p-radioButton",16),O(7,"translate"),Re("ngModelChange",function(o){b(e);let r=h(2);return De(r.selectedImportOption,o)||(r.selectedImportOption=o),y(o)}),m()(),f(8,"div",15)(9,"p-radioButton",16),O(10,"translate"),Re("ngModelChange",function(o){b(e);let r=h(2);return De(r.selectedImportOption,o)||(r.selectedImportOption=o),y(o)}),m()(),f(11,"div",17)(12,"p-radioButton",16),O(13,"translate"),Re("ngModelChange",function(o){b(e);let r=h(2);return De(r.selectedImportOption,o)||(r.selectedImportOption=o),y(o)}),m()(),E(14,"br"),I(15,F3e,3,4,"div",18)(16,N3e,10,19,"div",19)(17,B3e,2,1,"div",19)(18,U3e,3,5,"div",20),m()}if(i&2){let e=h(2);d(3),H(P(4,17,"PANELS.IPTABLES_SAVE.IMPORT.SELECT_OPTION")),d(3),p("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.COPYPASTE)("label",P(7,19,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.COPY_PASTE")),Oe("ngModel",e.selectedImportOption),d(3),p("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.UPLOAD_FILE)("label",P(10,21,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.FILE_UPLOAD")),Oe("ngModel",e.selectedImportOption),d(3),p("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.SSH_OR_AGENT)("label",P(13,23,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.SSH")),Oe("ngModel",e.selectedImportOption),d(3),p("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.success),d(),p("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.success),d(),p("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.success),d(),p("ngIf",(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&!e.hideUI)}}function H3e(i,n){i&1&&oe(0)}function G3e(i,n){i&1&&oe(0)}function z3e(i,n){if(i&1&&(f(0,"div",14)(1,"div",15)(2,"p"),T(3),O(4,"translate"),m()(),f(5,"div",21),I(6,G3e,1,0,"ng-container",33),m()()),i&2){h(3);let e=Me(4);d(3),H(P(4,2,"PANELS.IPTABLES_SAVE.EXPORT.TEXT")),d(3),p("ngTemplateOutlet",e)}}function W3e(i,n){if(i&1&&(f(0,"div",14)(1,"div",15),T(2),O(3,"translate"),m(),f(4,"div",15)(5,"textarea",36,6),T(7),m()()()),i&2){let e=h(3);d(2),z(" ",P(3,2,"PANELS.IPTABLES_SAVE.EXPORT.INFO.SUCCESS"),": "),d(5),H(e.exportFile)}}function $3e(i,n){if(i&1&&I(0,H3e,1,0,"ng-container",13)(1,z3e,7,4,"ng-template",null,4,bt)(3,W3e,8,4,"ng-template",null,5,bt),i&2){let e=Me(2),t=Me(4),o=h(2);p("ngIf",!o.exportFile)("ngIfThen",e)("ngIfElse",t)}}function K3e(i,n){if(i&1&&(re(0),I(1,P3e,1,0,"ng-container",13)(2,j3e,19,25,"ng-template",null,1,bt)(4,$3e,5,3,"ng-template",null,2,bt),se()),i&2){let e=Me(3),t=Me(5),o=h();d(),p("ngIf",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.IMPORT)("ngIfThen",e)("ngIfElse",t)}}function q3e(i,n){if(i&1&&(f(0,"div",14)(1,"div",15),E(2,"sts-fwc-message",37,7),m()()),i&2){let e=h();d(2),p("message",e.statusMessage)}}function Y3e(i,n){i&1&&oe(0)}function J3e(i,n){if(i&1){let e=k();f(0,"button",41),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handleImportExport())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT?"PANELS.IPTABLES_SAVE.BUTTONS.IMPORT":"PANELS.IPTABLES_SAVE.BUTTONS.EXPORT")),p("disabled",e.loadingData||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&(!e.hideUI&&!e.okToImport||e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.iptablesSaveText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.iptablesFileText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.formModel.valid)||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.EXPORT&&!e.formModel.valid)}}function X3e(i,n){if(i&1){let e=k();I(0,J3e,2,4,"button",39),f(1,"button",40),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.handleCancel())}),m()}if(i&2){let e=h(2);p("ngIf",e.firewall),d(),Z("label",P(2,3,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",e.loadingData)}}function Q3e(i,n){if(i&1){let e=k();re(0),f(1,"button",43),O(2,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handleCopyExportedToClipboard())}),m(),f(3,"button",44),O(4,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handleDownloadExported())}),m(),se()}if(i&2){let e=h(3);d(),Z("label",P(2,4,"VPN.CONFIG.CLIPBOARD.BUTTON")),p("disabled",e.loadingData),d(2),Z("label",P(4,6,"VPN.CONFIG.DOWNLOAD.BUTTON")),p("disabled",e.loadingData)}}function Z3e(i,n){if(i&1){let e=k();I(0,Q3e,5,8,"ng-container",11),f(1,"button",42),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.handleCancel())}),m()}if(i&2){let e=h(2);p("ngIf",e.exportFile),d(),Z("label",P(2,2,"GLOBALS.MSG_BUTTONS.CLOSE"))}}function e4e(i,n){if(i&1&&(f(0,"div",14)(1,"div",38),I(2,Y3e,1,0,"ng-container",13)(3,X3e,3,5,"ng-template",null,8,bt)(5,Z3e,3,4,"ng-template",null,9,bt),m()()),i&2){let e=Me(4),t=Me(6),o=h();d(2),p("ngIf",o.success)("ngIfThen",t)("ngIfElse",e)}}function t4e(i,n){if(i&1){let e=k();re(0),f(1,"div",17)(2,"div",47)(3,"span",48)(4,"select",59),R("change",function(){return b(e),y(!0)}),f(5,"option",50),T(6),O(7,"translate"),m(),f(8,"option",60),T(9,"HTTPS"),m(),f(10,"option",61),T(11,"HTTP"),m()(),f(12,"label",62),T(13),O(14,"translate"),m()()()(),f(15,"div",15)(16,"div",47)(17,"span",48),E(18,"input",63),f(19,"label",64),T(20),O(21,"translate"),m()()()(),se()}i&2&&(d(5),p("value",null),d(),z(" ",P(7,6,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")," "),d(7),H(P(14,8,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")),d(5),p("showPassword",!1)("feedback",!1),d(2),H(P(21,10,"FW.MSG_FW_EDITION.AGENT_APIKEY")))}function i4e(i,n){i&1&&(f(0,"div",17)(1,"div",47)(2,"span",48),E(3,"input",65),f(4,"label",66),T(5),O(6,"translate"),m()()()(),f(7,"div",15)(8,"div",47)(9,"span",48),E(10,"input",67),f(11,"label",68),T(12),O(13,"translate"),m()()()()),i&2&&(d(5),z(" ",P(6,2,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")," "),d(7),z(" ",P(13,4,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")," "))}function n4e(i,n){if(i&1){let e=k();f(0,"form",45)(1,"fieldset",46),R("keyup.enter",function(){b(e);let o=h();return y(o.handleImportExport())})("keyup.esc",function(){b(e);let o=h();return y(o.handleCancel())}),f(2,"div",15)(3,"div",47)(4,"span",48)(5,"select",49),R("change",function(){return b(e),y(!0)}),f(6,"option",50),T(7),O(8,"translate"),m(),f(9,"option",51),T(10,"SSH"),m(),f(11,"option",52),T(12,"FWCloud-Agent"),m()(),f(13,"label",53),T(14),O(15,"translate"),m()()()(),f(16,"div",17)(17,"div",47)(18,"span",48),E(19,"input",54),f(20,"label",55),T(21),O(22,"translate"),m()()()(),f(23,"div",17)(24,"div",47)(25,"span",48),E(26,"input",56),f(27,"label",57),T(28),O(29,"translate"),m()()()(),I(30,t4e,22,12,"ng-container",58)(31,i4e,14,6,"ng-template",null,10,bt),m()()}if(i&2){let e,t=Me(32),o=h();p("formGroup",o.formModel),d(),p("disabled",o.loadingData||o.success),d(5),p("value",null),d(),z(" ",P(8,12,"FW.MSG_FW_EDITION.COMM_TYPE")," "),d(2),p("disabled",o.isSSHCommunicationDisabled),d(5),H(P(15,14,"FW.MSG_FW_EDITION.COMM_TYPE")),d(5),p("readOnly",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.EXPORT),d(2),z(" ",P(22,16,"ITEM_PANEL.FIELDS.ADDRESS")," "),d(5),p("readOnly",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.EXPORT),d(2),z(" ",P(29,18,"CLUSTER.MSG_CLUSTER_EDITION.PORT")," "),d(2),p("ngIf",((e=o.formModel.get("communication"))==null?null:e.value)==="agent")("ngIfElse",t)}}var Tr=function(i){return i[i.IMPORT=1]="IMPORT",i[i.EXPORT=2]="EXPORT",i}(Tr||{}),Aa=function(i){return i[i.COPYPASTE=1]="COPYPASTE",i[i.UPLOAD_FILE=2]="UPLOAD_FILE",i[i.SSH_OR_AGENT=3]="SSH_OR_AGENT",i}(Aa||{}),o4e=12e4,A6=(()=>{class i{set importSSHData(e){if(e){this.options={objId:e.firewall,objName:"",objType:F.OBJ_FIREWALL,operation:Tr.IMPORT},this.selectedImportOption=Aa.SSH_OR_AGENT;let t={id:e.firewall,ip:e.ip,install_communication:e.communication,install_port:e.port,install_user:e.sshuser,install_pass:e.sshpass,install_protocol:e.protocol,install_apikey:e.apikey};this.createForm(t),this.handleImportExport()}}constructor(e,t,o,r,s,a,l,c){this.fwcEventService=e,this.fwcFirewallService=t,this.utilService=o,this.formBuilder=r,this.cd=s,this.translate=a,this.fwcUserService=l,this.messageService=c,this.onFinish=new W,this.selectedImportOption=Aa.COPYPASTE,this.okToImport=!1,this.filesToUpload=[],this.loadingData=!1,this.alive=!0,this.isSSHCommunicationDisabled=!1,this.FwcIptablesSaveOperation=Tr,this.FwcIptablesSaveImportOptions=Aa}ngOnInit(){return he(this,null,function*(){if(this.checkData(this.options)&&!this.hideUI){let e,t;if(this.options.objType===F.OBJ_FIREWALL?(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")):this.options.objType===F.OBJ_CLUSTER&&(e=this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")),this.isSSHCommunicationDisabled=!(yield this.utilService.fwcAPICall(this.fwcFirewallService.loadBackEndConfig.bind(this.fwcFirewallService))).data.availablecommunications.includes("ssh"),e){this.loadingData=!0;let o=t.toLowerCase();this.options.objName&&(o+=" '"+this.options.objName+"'"),this.statusMessage={text:this.translate.instant("PANELS.IPTABLES_SAVE.INFO.READ_DATA",{name:o}),type:"loading"},this.utilService.fwcAPICall(e,this.options.objId,this.fwcUserService.getActualFwSelectedCloud()).then(r=>he(this,null,function*(){if(r.data)if(this.loadingData=!1,this.options.operation===Tr.EXPORT&&!r.data.install_ipobj)this.statusMessage={title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.TEXT"),type:"error",horizontal:!0};else{let s=Object.assign(r.data),a=this.fwcUserService.getActualFwcUser().privateKey,l=s.install_user,c=s.install_pass,u=s.install_apikey;try{l&&(l=yield this.utilService.openPGPDecrypt(l,a)),c&&(c=yield this.utilService.openPGPDecrypt(c,a)),u&&(u=yield this.utilService.openPGPDecrypt(u,a))}catch{}s.install_user=l,s.install_pass=c,s.install_apikey=u,this.createForm(s),this.firewall=r.data,this.statusMessage=null,this.options.operation===Tr.EXPORT&&s.install_communication==="agent"&&this.handleImportExport()}})).catch(r=>{this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.READ_DATA",{name:`${t} '${this.options.objName}'`}),type:"error",details:r,horizontal:!0,bordered:!0},this.loadingData=!1})}}else this.hideUI||(this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.INCORRECT_OPTIONS"),type:"error",horizontal:!0})})}createForm(e){this.formModel=this.formBuilder.group({id:new _e(e.id,[Ne.required]),ip:new _e(e.ip,[Ne.required,Ne.pattern(ri.ipV4Regexp)]),port:new _e(e.install_port,[Ne.required,Ne.pattern(ri.portRegexp)]),communication:new _e(e.install_communication||"agent",[Ne.required]),sshuser:new _e(e.install_user,e.install_communication==="ssh"?Ne.required:[]),sshpass:new _e(e.install_pass,e.install_communication==="ssh"?Ne.required:[]),protocol:new _e(e.install_protocol,e.install_communication==="agent"?Ne.required:[]),apikey:new _e(e.install_apikey,e.install_communication==="agent"?Ne.required:[])})}checkData(e){return e&&(e.operation===Tr.IMPORT||e.operation===Tr.EXPORT)&&typeof e.objId=="number"&&(e.objType===F.OBJ_FIREWALL||e.objType===F.OBJ_CLUSTER)}handleSelectFile(e){return he(this,null,function*(){if(e){let t=e.files[0];if(t){this.iptablesFileText=null;try{this.iptablesFileText=yield this.readFile(t)}catch{}}}})}handleRemoveSelectedFile(e,t){e.files.splice(t),this.handleOnRemoveSelectedFile()}handleOnRemoveSelectedFile(e){this.iptablesFileText=null}handleImportExport(){return he(this,null,function*(){let e,t,o,r,s,a;if(this.loadingData||!this.options||this.options.operation===Tr.IMPORT&&(!this.hideUI&&!this.okToImport||this.selectedImportOption===Aa.COPYPASTE&&!this.iptablesSaveText||this.selectedImportOption===Aa.UPLOAD_FILE&&!this.iptablesFileText||this.selectedImportOption===Aa.SSH_OR_AGENT&&!this.formModel.valid)||this.options.operation===Tr.EXPORT&&!this.formModel.valid)return;let l=u=>{let g=!1;if(!(u instanceof Al&&u.body)){if(u.data)if(this.options.operation===Tr.IMPORT){let _=u.data,C=`
              <div class="grid p-0 fwcPaleDarkBg">
                <div class="col-12 fwc-centered">
                  <strong>${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TITLE")}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IPOBJS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${_.ipObjs}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.INTERFACES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${_.interfaces}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.RULES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${_.rules}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IGNORED_MODS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${Array.isArray(_.modulesIgnored)?_.modulesIgnored.join(", "):"-"}</strong>
                </div>
                <div class="col-12 vertPad">
                  <hr>
                  <strong class="fwcRed"><i class="fa fa-lg fa-exclamation-triangle"></i> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TITLE")}:</strong> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TEXT")}
                  <br>
                </div>
              </div>
            `;r+=C,g=!0,this.statusMessage=Ee(Q({},this.statusMessage),{text:r,type:"success",highlight:!0})}else this.exportFile=Array.isArray(u.data)?u.data.join(`
`):"",this.statusMessage=null}this.success=!0,this.hideUI&&this.onFinish.emit({success:!0,reloadUI:g}),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1},c=u=>{let g=this.translate.instant("GLOBALS.ERRORS.COMMUNICATION");if(this.success=!1,u){let _=this.utilService.isCommunicationErrorStr(u.error);_?s=_:g=u.error}this.statusMessage={title:"Error",text:s,details:g,type:"error",horizontal:!0,bordered:!0},this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1,this.hideUI&&this.onFinish.emit({success:!1,reloadUI:!1})};if(this.options.operation===Tr.IMPORT)switch(t=this.fwcFirewallService.ipTablesSaveImport.bind(this.fwcFirewallService),r=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.SUCCESS"),s=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.ERRORS.ERROR"),a=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.IN_PROCESS"),this.selectedImportOption){case Aa.COPYPASTE:case Aa.UPLOAD_FILE:if(this.selectedImportOption===Aa.COPYPASTE?o=this.iptablesSaveText:o=this.iptablesFileText,o){let u=o.replace(/\r\n/g,`
`).split(`
`).filter(g=>g);e={firewall:this.firewall.id,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"data",ip_version:4,data:u}}break;case Aa.SSH_OR_AGENT:if(this.formModel.valid){e=yield this.buildSSHApiObject();let u=Object.assign({},e);u.communication==="agent"&&(delete u.sshuser,delete u.sshpass),e=u}break}else if(this.options.operation===Tr.EXPORT&&this.formModel.valid){e=yield this.buildSSHApiObject();let u=Object.assign({},e);delete u.type,delete u.ip,delete u.port,delete u.protocol,delete u.apikey,u.communication==="agent"&&(delete u.sshuser,delete u.sshpass),delete u.communication,e=u,t=this.fwcFirewallService.ipTablesSaveExport.bind(this.fwcFirewallService),s=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.ERRORS.ERROR"),a=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.IN_PROCESS")}e&&(this.loadingData=!0,this.statusMessage={text:a,type:"loading"},this.channel_id=$o(),this.utilService.ioListenOnLogEvent(this.channel_id),this.fwcEventService.getEvent().pipe(yt(()=>this.alive)).subscribe(u=>{this.loadingData&&this.resetTimer();let g=new xr(u);this.fwcMessageComponent&&g&&g.payload&&this.fwcMessageComponent.changeStatus(g.payload.message,this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.LINE")+":")}),this.resetTimer(),this.cd.detectChanges(),this.apiCallSubscription=t(e,this.channel_id).subscribe(u=>{l(u)},u=>{if(u&&u.status==403&&u.error){let g=u.error;if(g.fwc_confirm_token){let _=g.fwc_confirm_token;this.fwcUserService.setConfirmationToken(_),this.apiCallSubscription=t(e,this.channel_id).subscribe(C=>he(this,null,function*(){l(C),this.fwcUserService.setConfirmationToken(void 0)}),C=>{c(C),this.fwcUserService.setConfirmationToken(void 0)})}else c(u)}else c(u)}))})}doSSHImport(e){}handleCancel(){let e=!1;this.channel_id&&this.utilService.ioReleaseLogEvent(this.channel_id),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.checkData(this.options)&&this.options.operation===Tr.IMPORT&&this.success&&(e=!0),this.onFinish.emit({success:this.success,reloadUI:e})}handleCopyExportedToClipboard(){this.txtExported&&(this.txtExported.nativeElement.select(),document.execCommand("copy"),this.txtExported.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.CLIPBOARD")}))}handleDownloadExported(){if(this.txtExported){let e="iptables-save.txt";this.checkData(this.options)&&(e=`${this.options.objName.replace(/[^a-z0-9\-]/gi,"_")}-iptables-save.txt`);let t=new Blob([this.exportFile],{type:"text/plain;charset=utf-8"});(0,S6.saveAs)(t,e)}}buildSSHApiObject(){return he(this,null,function*(){let e=this.fwcUserService.getActualFwcUser().publicKey,t=this.formModel.get("sshuser").value,o=this.formModel.get("sshpass").value,r=this.formModel.get("apikey").value;return t&&(t=yield this.utilService.openPGPEncrypt(t,e)),o&&(o=yield this.utilService.openPGPEncrypt(o,e)),r&&(r=yield this.utilService.openPGPEncrypt(r,e)),{firewall:this.formModel.get("id").value,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:this.formModel.get("ip").value,port:this.formModel.get("port").value,sshuser:t,sshpass:o,communication:this.formModel.get("communication").value,apikey:r,protocol:this.formModel.get("protocol").value}})}buildJSONFromBlob(e){return new Promise((t,o)=>{let r=new FileReader;r.addEventListener("loadend",s=>{let a="",l;s.currentTarget&&(l=JSON.parse(s.currentTarget.result),a=l.data.join(`
`)),t(a)}),r.addEventListener("error",s=>{o(s)}),r.readAsText(e)})}readFile(e){return new Promise((t,o)=>{let r=new FileReader;r.readAsText(e,"UTF-8"),r.onload=s=>{t(s.target.result)},r.onerror=s=>{o(s)}})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.utilService.ioReleaseLogEvent(this.channel_id),this.apiCallSubscription&&this.apiCallSubscription.unsubscribe(),this.success=!1,this.loadingData=!1,this.statusMessage={type:"error",title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.TEXT"),bordered:!0}},o4e)}static{this.\u0275fac=function(t){return new(t||i)(v(_n),v(Bt),v(Ct),v(ao),v(pe),v(je),v(ot),v(Kt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-iptables-save"]],viewQuery:function(t,o){if(t&1&&(ne(R3e,5),ne(D3e,5)),t&2){let r;K(r=q())&&(o.fwcMessageComponent=r.first),K(r=q())&&(o.txtExported=r.first)}},inputs:{options:"options",hideUI:"hideUI",importSSHData:"importSSHData",doSSHImport:"doSSHImport"},outputs:{onFinish:"onFinish"},decls:5,vars:3,consts:[["sshForm",""],["import",""],["export",""],["pfuUpload",""],["showExportOptions",""],["showExportResult",""],["txtExported",""],["fwcMessageComponent",""],["showButtons",""],["showCloseButton",""],["sshFirewall",""],[4,"ngIf"],["class","grid",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"grid"],[1,"col-12"],["name","importOptions",3,"ngModelChange","disabled","value","label","ngModel"],[1,"col-12","vertPad"],["class","col-12 divConfigFile",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12 divCentered",4,"ngIf"],[1,"col-12","divConfigFile"],["pInputTextarea","","rows","8",3,"ngModelChange","ngModel","placeholder"],["name","file","fileLimit","1",3,"onSelect","onRemove","disabled","maxFileSize","chooseLabel","showCancelButton","showUploadButton","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],["pTemplate","file"],["pTemplate","content"],[1,"divFileInfo"],[1,"fa","fa-lg","fa-file-text","fwcBlue"],[1,"fwcPaleDark"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled"],["class","fwc-centered",4,"ngIf"],[1,"fwc-centered"],[1,"fa","fa-2x","fa-file","fwcPaleDark"],[4,"ngTemplateOutlet"],[1,"col-12","divCentered"],["name","chkOkToDelete","binary","true",3,"ngModelChange","ngModel","disabled","label"],["pInputTextarea","","rows","15","cols","85","readonly","",2,"height","auto !important","font-family","monospace !important"],[3,"message"],[1,"col-12","divButtons"],["type","button","class","p-button-primary","pButton","","icon","fa fa-upload",3,"disabled","label","click",4,"ngIf"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-upload",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","label"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","communication","name","communication",3,"change"],["disabled","",3,"value"],["value","ssh",3,"disabled"],["value","agent"],["for","install_ipobj"],["pInputText","","type","text","formControlName","ip","name","ip","id","ip",3,"readOnly"],["for","ip"],["pInputText","","type","number","formControlName","port","name","port","id","port",3,"readOnly"],["for","port"],[4,"ngIf","ngIfElse"],["formControlName","protocol","name","protocol",1,"selNoMargin",3,"change"],["value","https"],["value","http"],["for","protocol"],["pPassword","","formControlName","apikey","name","apikey","maxlength","64",3,"showPassword","feedback"],["for","apikey"],["pInputText","","type","text","formControlName","sshuser","name","sshuser","id","sshuser"],["for","sshuser"],["pInputText","","type","password","formControlName","sshpass","name","sshpass","id","sshpass"],["for","sshpass"]],template:function(t,o){t&1&&I(0,K3e,6,3,"ng-container",11)(1,q3e,4,1,"div",12)(2,e4e,7,3,"div",12)(3,n4e,33,20,"ng-template",null,0,bt),t&2&&(p("ngIf",o.firewall&&!o.hideUI),d(),p("ngIf",o.statusMessage),d(),p("ngIf",!o.hideUI))},dependencies:[ze,Xe,Gn,Ac,xc,Wi,Wd,Ka,Gi,Hn,Ao,wn,zn,io,ge,at,cn,Qo,sv,El,dg,Xv,gn,ht,w6]})}}return i})();var yb=(()=>{class i extends Zv{constructor(e,t,o){super(e,o),this.dialogRef=e,this.dialogConfig=t,this.router=o}ngOnInit(){}handleFinish(e){if(this.dialogRef.close(e&&e.success),e&&e.reloadUI){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}}static{this.\u0275fac=function(t){return new(t||i)(v(Sa),v(dd),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-iptables-save-panel"]],features:[fe],decls:2,vars:1,consts:[[3,"onFinish","options"]],template:function(t,o){t&1&&(re(0),f(1,"sts-fwc-iptables-save",0),R("onFinish",function(s){return o.handleFinish(s)}),m(),se()),t&2&&(d(),p("options",o.dialogConfig.data))},styles:[".divBlockable[_ngcontent-%COMP%]{position:relative}.divBlockable-blocker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#6464641a;z-index:9999}.divFileInfo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divFileInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem}"]})}}return i})();var x6=(()=>{class i{constructor(e){this.decimalPipe=e}transform(e,t,o){let r=e,s="B";return e>=1024*1024*1024*1024?(r=e/(1024*1024*1024*1024),s="TB"):e>=1024*1024*1024?(r=e/(1024*1024*1024),s="GB"):e>=1024*1024?(r=e/(1024*1024),s="MB"):e>=1024&&(r=e/1024,s="KB"),`${this.decimalPipe.transform(r,t,o)} ${s}`}static{this.\u0275fac=function(t){return new(t||i)(v(op,16))}}static{this.\u0275pipe=xn({name:"suitableBytePrecission",type:i,pure:!0})}}return i})();var s4e=i=>({name:i}),a4e=()=>({standalone:!0}),l4e=()=>["cn","address"];function c4e(i,n){if(i&1&&(f(0,"div",6)(1,"h6",7),E(2,"i",8),T(3),O(4,"translate"),m()()),i&2){let e=h();d(3),z(" ",pi(4,1,"PANELS.VPN_HISTORIC_PANEL.TITLE",J(4,s4e,e.options==null?null:e.options.openVpnConfigName))," ")}}function d4e(i,n){if(i&1&&(f(0,"div",4)(1,"div",9),E(2,"sts-fwc-message",10,0),m()()),i&2){let e=h();d(2),p("message",e.statusMessage)}}function u4e(i,n){if(i&1){let e=k();f(0,"div",14)(1,"div",17)(2,"span",18)(3,"input",39),R("drop",function(){b(e);let o=h(2);return y(o.preventDrop())}),m(),f(4,"label",40),T(5),O(6,"translate"),m()()()()}i&2&&(d(5),H(P(6,1,"VPN.PANEL.FIELDS.CN")))}function p4e(i,n){i&1&&(f(0,"th",41),T(1),O(2,"translate"),E(3,"p-sortIcon",52),m()),i&2&&(d(),z(" ",P(2,1,"VPN.STATUS.FIELDS.CN")," "))}function h4e(i,n){if(i&1&&(f(0,"tr"),I(1,p4e,4,3,"th",41),f(2,"th",42),T(3),O(4,"translate"),E(5,"p-sortIcon",43),m(),f(6,"th",44),T(7),O(8,"translate"),E(9,"p-sortIcon",45),m(),f(10,"th",46),T(11),O(12,"translate"),E(13,"p-sortIcon",47),m(),f(14,"th",48),T(15),O(16,"translate"),E(17,"p-sortIcon",49),m(),f(18,"th",50),T(19),O(20,"translate"),E(21,"p-sortIcon",51),m()()),i&2){let e=h(2);d(),G((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?1:-1),d(2),z(" ",P(4,6,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),d(4),z(" ",P(8,8,"VPN.STATUS.FIELDS.CONNECTED_AT")," "),d(4),z(" ",P(12,10,"VPN.STATUS.FIELDS.DISCONNECTED_AT")," "),d(4),z(" ",P(16,12,"VPN.STATUS.FIELDS.RECEIVED")," "),d(4),z(" ",P(20,14,"VPN.STATUS.FIELDS.SENT")," ")}}function f4e(i,n){if(i&1&&(f(0,"td"),T(1),m()),i&2){let e=h(3).$implicit,t=h(2);M("rowspan",t.tableData==null?null:t.tableData.historyGroupsMetadata[e.cn].size),d(),z(" ",e.cn," ")}}function m4e(i,n){if(i&1&&I(0,f4e,2,2,"td"),i&2){let e=h(2),t=e.$implicit,o=e.rowIndex,r=h(2);G((r.tableData==null?null:r.tableData.historyGroupsMetadata[t.cn].index)===o?0:-1)}}function g4e(i,n){if(i&1&&(f(0,"td"),T(1),m()),i&2){let e=h(2).$implicit;d(),H(e.cn)}}function _4e(i,n){if(i&1&&I(0,m4e,1,1)(1,g4e,2,1,"td"),i&2){h(2);let e=Me(55);G(e.sortField==="cn"?0:1)}}function C4e(i,n){if(i&1&&(f(0,"tr",53),I(1,_4e,2,1),f(2,"td"),T(3),m(),f(4,"td"),T(5),O(6,"date"),m(),f(7,"td"),T(8),O(9,"date"),m(),f(10,"td",54),T(11),O(12,"suitableBytePrecission"),m(),f(13,"td",54),T(14),O(15,"suitableBytePrecission"),m()()),i&2){let e=n.$implicit,t=h(2);p("pSelectableRow",e),d(),G((t.options==null?null:t.options.openVpnConfigType)===t.ObjectTypes.OBJ_VPN_CONFIG_SER?1:-1),d(2),H(e.address),d(2),H(da(6,7,e.connected_at,"d/M/y hh:mm","UTC")),d(3),H(da(9,11,e.disconnected_at,"d/M/y hh:mm","UTC")),d(3),z(" ",pi(12,15,e.bytesReceived,"1.2-2")," "),d(3),z(" ",pi(15,18,e.bytesSent,"1.2-2")," ")}}function I4e(i,n){if(i&1&&(f(0,"tr")(1,"td"),T(2),O(3,"translate"),m()()),i&2){let e=h(2);d(),M("colspan",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?6:5),d(),z(" ",P(3,2,"VPN.STATUS.NO_DATA.0")," ")}}function v4e(i,n){if(i&1){let e=k();f(0,"div",4)(1,"div",9)(2,"form",11)(3,"p-fieldset",12),O(4,"translate"),f(5,"div",13),I(6,u4e,7,3,"div",14),f(7,"div",15)(8,"div",4)(9,"div",16)(10,"div",17)(11,"span",18)(12,"select",19),Re("ngModelChange",function(o){b(e);let r=h();return De(r.selectDates,o)||(r.selectDates=o),y(o)}),R("change",function(){b(e);let o=h();return y(o.handleChangeDateSelector())}),f(13,"option",20),T(14),O(15,"translate"),m(),f(16,"option",21),T(17),O(18,"translate"),m(),f(19,"option",22),T(20),O(21,"translate"),m(),f(22,"option",23),T(23),O(24,"translate"),m()(),f(25,"label",24),T(26),O(27,"translate"),m()()()(),f(28,"div",16)(29,"div",17)(30,"span",18)(31,"p-calendar",25),R("onSelect",function(){b(e);let o=h();return y(o.handleSelectDate())}),m(),f(32,"label",26),T(33),O(34,"translate"),m()()()(),f(35,"div",16)(36,"div",17)(37,"span",18)(38,"p-calendar",27),R("onSelect",function(){b(e);let o=h();return y(o.handleSelectDate())}),m(),f(39,"label",28),T(40),O(41,"translate"),m()()()()()(),f(42,"div",29)(43,"div",17)(44,"button",30),R("click",function(){b(e);let o=h();return y(o.handleReloadData())}),m(),f(45,"button",31),O(46,"translate"),R("click",function(){b(e);let o=h();return y(o.handleClearFilters())}),m()()()()()()()(),f(47,"div",4)(48,"div",9)(49,"p-fieldset",12),O(50,"translate"),f(51,"div",32)(52,"div",9)(53,"div",33)(54,"p-table",34,1),Re("selectionChange",function(o){b(e);let r=h();return De(r.vpnClientSelected,o)||(r.vpnClientSelected=o),y(o)}),R("onRowSelect",function(){b(e);let o=h();return y(o.handleVpnClientSelect())})("onRowUnselect",function(){b(e);let o=h();return y(o.handleVpnClientSelect())})("onSort",function(){b(e);let o=h();return y(o.handleSortTable())}),I(56,h4e,22,16,"ng-template",3)(57,C4e,16,21,"ng-template",35)(58,I4e,4,4,"ng-template",36),m()()(),f(59,"div",37),E(60,"p-chart",38),m(),f(61,"div",37),E(62,"p-chart",38),m()()()()()}if(i&2){let e=h();d(2),p("formGroup",e.filterFormModel),d(),Z("legend",P(4,32,"PANELS.VPN_HISTORIC_PANEL.INFO.FILTERS")),d(3),G((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?6:-1),d(),p("ngClass",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_VPN_CONFIG_SER?"col-9 lg:col-6":"col-9"),d(5),Oe("ngModel",e.selectDates),p("ngModelOptions",Ie(52,a4e)),d(),p("value",void 0),d(),z(" ",P(15,34,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_CUSTOM")," "),d(3),z(" ",P(18,36,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1D")," "),d(3),z(" ",P(21,38,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1W")," "),d(3),z(" ",P(24,40,"PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1M")," "),d(3),H(P(27,42,"PANELS.VPN_HISTORIC_PANEL.FIELDS.PERIOD")),d(5),p("maxDate",e.filterFormModel.get("ends_at").value),d(2),H(P(34,44,"PANELS.VPN_HISTORIC_PANEL.FIELDS.FROM")),d(5),p("minDate",e.filterFormModel.get("starts_at").value),d(2),H(P(41,46,"PANELS.VPN_HISTORIC_PANEL.FIELDS.TO")),d(4),p("disabled",!1),d(),Z("label",P(46,48,"PANELS.VPN_HISTORIC_PANEL.FIELDS.CLEAR")),p("disabled",!1),d(4),Z("legend",P(50,50,"PANELS.VPN_HISTORIC_PANEL.INFO.DATA")),d(5),p("value",e.tableData==null?null:e.tableData.parsedHistoryData)("autoLayout",!0)("responsive",!1)("resizableColumns",!0)("rowTrackBy",e.tableRowTrackBy),Oe("selection",e.vpnClientSelected),p("globalFilterFields",Ie(53,l4e))("loading",e.loadingData),d(6),p("data",e.tableData==null?null:e.tableData.volumeChartData)("options",e.volumeGraphOptions),d(2),p("data",e.tableData==null?null:e.tableData.speedChartData)("options",e.speedGraphOptions)}}function b4e(i,n){if(i&1){let e=k();f(0,"button",55),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onHandleCancel())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var y4e=50,E6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w){super(l,a,e,c,g,u),this.itemSelectedService=e,this.fwcFirewallService=t,this.fwcVpnService=o,this.fwcErrorPipe=r,this.utilService=s,this.appOptionsService=a,this.appDialogPanelsService=l,this.cd=c,this.router=u,this.store=g,this.translate=_,this.fb=C,this.primengConfig=w,this.volumeGraphPrecission="B",this.speedGraphPrecission="B",this.loadingData=!1,this.destroy$=new Ae,this.ObjectTypes=F,this.filterFormModel=C.group({name:new _e(""),starts_at:new _e(null),ends_at:new _e(null)}),this.selectDates="1w",this.handleChangeDateSelector(),this.filterFormModel.valueChanges.pipe(Ou(300),cl(),xd(this.destroy$)).subscribe(S=>{this.loadingData=!0,this.getHistoryData(this.options.cloudId,this.options.firewallId,this.options.openVpnConfigId,S).then(([A,x])=>{this.buildTableData(A.data),this.buildTableGraphs(x.data)}).catch(A=>{this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(A),type:"error"}}).finally(()=>{this.loadingData=!1})}),this.esLocale={firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],dayNamesShort:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Borrar",weekHeader:"Sm"},this.primengConfig.setTranslation(this.esLocale),this.volumeGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(S,A,x)=>`${S}  ${this.volumeGraphPrecission}`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_VOLUME"),fontSize:14,position:"top"},customCanvasDisplay:{display:"flex"}}},this.speedGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(S,A,x)=>`${S}  ${this.speedGraphPrecission}/s`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_SPEED"),fontSize:14,position:"top"}}}}ngOnInit(){}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}updateAndShow(e){return he(this,null,function*(){if(e){this.statusMessage={text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.GETTING_INFO"),type:"loading"},this.options=e,this.displayDialog=!0;try{let t=yield this.getMasterFirewallId(e);e.openVpnConfigType===F.OBJ_VPN_CONFIG_CLI&&this.filterFormModel.get("name").setValue(e.openVpnConfigName);let[o,r]=yield this.getHistoryData(e.cloudId,t,e.openVpnConfigId,this.filterFormModel.value);this.statusMessage=null,this.buildTableData(o.data),this.buildTableGraphs(r.data)}catch(t){this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(t),type:"error"}}}})}getHistoryData(e,t,o,r){if(r||(r={}),r.name=r.name&&r.name.replace(/\*/g,"%"),r.starts_at){let a=new Date(r.starts_at);r.starts_at=a.setHours(0,0,0)}if(r.ends_at){let a=new Date(r.ends_at);r.ends_at=a.setHours(23,59,59)}let s=Object.assign({},r);return s.limit=y4e,Promise.all([this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoric.bind(this.fwcVpnService),e,t,o,r),this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoricGraph.bind(this.fwcVpnService),e,t,o,s)])}getMasterFirewallId(e){return new Promise((t,o)=>{if(e.clusterId)this.fwcFirewallService.getClusterMasterNode(e.clusterId,e.cloudId).subscribe(r=>{let s=r.data.id;return e.firewallId=s,t(s)},r=>o(r));else return e.firewallId?t(e.firewallId):o()})}buildTableData(e){let t=[],o=1;for(let r in e){let s=e[r];if(s&&Array.isArray(s.connections))for(let a of s.connections)t.push({rowId:o++,cn:r,connected_at:a.connected_at,disconnected_at:a.disconnected_at,bytesReceived:a.bytesReceived,bytesSent:a.bytesSent,address:a.address})}this.tableData=Ee(Q({},this.tableData),{parsedHistoryData:t}),this.updateRowGroupMetaData(),this.recenterDialog()}buildTableGraphs(e){if(e=this.transformSuitableUnit(e),Array.isArray(e)){let t,o;t={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!0,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 0.7)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!0,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]},o={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_UP"),data:[],fill:!1,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 1)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_DOWN"),data:[],fill:!1,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]};try{for(let r=0;r<e.length;r++){let s=e[r],a=new Date(s.timestamp).toLocaleString();t.labels.push(a),t.datasets[0].data.push(s.bytesReceived),t.datasets[1].data.push(s.bytesSent),o.labels.push(a),o.datasets[0].data.push(s.bytesSentSpeed),o.datasets[1].data.push(s.bytesReceivedSpeed)}this.tableData.volumeChartData=t,this.tableData.speedChartData=o}catch{}}}tableRowTrackBy(e,t){return t?t.rowId:null}updateRowGroupMetaData(){let e={};if(this.tableData&&this.tableData.parsedHistoryData){let t=this.tableData.parsedHistoryData;for(let o=0;o<t.length;o++){let s=t[o].cn;if(o==0)e[s]={index:0,size:1};else{let l=t[o-1].cn;s===l?e[s].size++:e[s]={index:o,size:1}}}this.tableData=Ee(Q({},this.tableData),{historyGroupsMetadata:e})}}handleChangeDateSelector(){let e=new Date,t,o=e;switch(this.selectDates){case"1d":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);break;case"1w":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7);break;case"1m":t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-30);break;default:t=this.filterFormModel.get("starts_at").value,o=this.filterFormModel.get("ends_at").value}this.filterFormModel.get("starts_at").setValue(t),this.filterFormModel.get("ends_at").setValue(o)}handleSelectDate(){this.selectDates=void 0}handleClearFilters(){this.filterFormModel.reset(),this.selectDates=void 0}handleReloadData(){this.filterFormModel.updateValueAndValidity()}handleVpnClientSelect(){console.log(this.vpnClientSelected)}handleSortTable(){this.updateRowGroupMetaData()}onHandleCancel(){this.displayDialog=!1}onHideDialog(){this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}transformSuitableUnit(e){if(e.length===0)return e;let t=0,o=0;e.forEach(c=>{c.bytesReceived&&c.bytesReceived>t&&(t=c.bytesReceived),c.bytesSent&&c.bytesSent>t&&(t=c.bytesSent),c.bytesReceivedSpeed&&c.bytesReceivedSpeed>o&&(o=c.bytesReceivedSpeed),c.bytesSentSpeed&&c.bytesSentSpeed>o&&(o=c.bytesSentSpeed)});let r="B",s="B",a=c=>c,l=c=>c;return t>=1024*1024*1024*1024?(r="TB",a=c=>c/(1024*1024*1024*1024)):t>=1024*1024*1024?(r="GB",a=c=>c/(1024*1024*1024)):t>=1024*1024?(r="MB",a=c=>c/(1024*1024)):t>=1024&&(r="KB",a=c=>c/1024),this.volumeGraphPrecission=r,o>=1024*1024*1024*1024?(s="TB",l=c=>c/(1024*1024*1024*1024)):o>=1024*1024*1024?(s="GB",l=c=>c/(1024*1024*1024)):o>=1024*1024?(s="MB",l=c=>c/(1024*1024)):o>=1024&&(s="KB",l=c=>c/1024),this.speedGraphPrecission=s,e.map(c=>({timestamp:c.timestamp,bytesReceived:a(c.bytesReceived),bytesReceivedSpeed:l(c.bytesReceivedSpeed),bytesSent:a(c.bytesSent),bytesSentSpeed:l(c.bytesSentSpeed)}))}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Bt),v(Sr),v(xi),v(Ct),v(Et),v(At),v(pe),v(et),v(Ke),v(je),v(ao),v(xt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-vpn-historic-panel"]],features:[Ge([Bt]),fe],decls:5,vars:5,consts:[["fwcMessageComponent",""],["tabVpnStatusTable",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-list-alt","fwcOrange"],[1,"col-12"],[3,"message"],[2,"margin-bottom","0.5rem",3,"formGroup"],[3,"legend"],["id","gridFilter",1,"grid"],[1,"col-12","lg:col-3"],[3,"ngClass"],[1,"col-4"],[1,"p-inputgroup"],[1,"p-float-label"],["name","selectDates",1,"selNoMargin",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value"],["value","1d"],["value","1w"],["value","1m"],["for","selectDates",2,"font-size",".9rem !important"],["formControlName","starts_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","maxDate"],["for","starts_at"],["formControlName","ends_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","minDate"],["for","ends_at"],[1,"col-3",2,"align-self","baseline"],["type","button","pButton","","icon","fa fa-refresh",1,"p-button-primary","fwcButtonHeight",3,"click","disabled"],["type","button","pButton","","icon","fa fa-times",1,"p-button-secondary","fwcButtonHeight",2,"width","inherit",3,"click","disabled","label"],["id","gridData",1,"grid"],[2,"overflow","auto","max-height","60vh"],["columnResizeMode","expand","dataKey","rowId","selectionMode","single","styleClass","optionsTable","sortField","cn","sortMode","single",3,"selectionChange","onRowSelect","onRowUnselect","onSort","value","autoLayout","responsive","resizableColumns","rowTrackBy","selection","globalFilterFields","loading"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-6",2,"height","20rem"],["type","line",3,"data","options"],["pInputText","","type","text","maxlength","64","formControlName","name","name","name",3,"drop"],["for","name"],["pSortableColumn","cn","pResizableColumn",""],["pSortableColumn","address","pResizableColumn",""],["field","address"],["pSortableColumn","connected_at","pResizableColumn",""],["field","connected_at"],["pSortableColumn","disconnected_at","pResizableColumn",""],["field","disconnected_at"],["pSortableColumn","bytesReceived","pResizableColumn",""],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn",""],["field","bytesSent"],["field","cn"],[3,"pSelectableRow"],[2,"text-align","right"],["type","button","pButton","","icon","fa fa-close",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",2),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onHide",function(){return o.onHideDialog()}),I(1,c4e,5,6,"ng-template",3)(2,d4e,4,1,"div",4)(3,v4e,63,54)(4,b4e,2,4,"ng-template",5),m()),t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(2),G(o.statusMessage?2:3))},dependencies:[Fe,Gn,Ac,xc,Wi,Ka,Gi,Hn,Ao,wn,zn,io,Ht,ge,at,cn,lv,Oo,Sp,Fc,SC,Ap,Yv,Kf,gn,za,ht,x6],styles:["#gridFilter[_ngcontent-%COMP%], #gridData[_ngcontent-%COMP%]{width:-webkit-fill-available!important}#gridFilter[_ngcontent-%COMP%]{align-items:baseline!important}  p-chart>div{width:100%;height:100%!important;min-height:fit-content!important}"]})}}return i})();var w4e=i=>({visibility:i,"margin-left":"1rem"}),S4e=()=>({width:"1.7rem",height:"1.7rem"});function A4e(i,n){i&1&&(f(0,"div",19)(1,"h6",20),E(2,"i",21),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"CONTEXT.SYSTEMCTL.PANEL.TITLE")," "))}function x4e(i,n){if(i&1&&(E(0,"i"),T(1)),i&2){let e=h().$implicit;te(e.iconClass),d(),z(" ",e.label," ")}}function E4e(i,n){if(i&1&&T(0),i&2){let e=h().$implicit;z(" ",e.label," ")}}function T4e(i,n){if(i&1&&I(0,x4e,2,4)(1,E4e,1,1),i&2){let e=n.$implicit;G(e.iconClass?0:1)}}function O4e(i,n){if(i&1&&(E(0,"i"),T(1)),i&2){let e=h().$implicit;te(e.iconClass),d(),z(" ",e.label," ")}}function R4e(i,n){if(i&1&&T(0),i&2){let e=h().$implicit;z(" ",e.label," ")}}function D4e(i,n){if(i&1&&I(0,O4e,2,4)(1,R4e,1,1),i&2){let e=n.$implicit;G(e.iconClass?0:1)}}function P4e(i,n){if(i&1){let e=k();f(0,"button",22),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onCommandSelect())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.RUN")),p("disabled",e.formModel.get("commandSelector").invalid)}}function F4e(i,n){if(i&1){let e=k();f(0,"button",23),R("click",function(){b(e);let o=h();return y(o.stopAction())}),m()}}function L4e(i,n){if(i&1){let e=k();f(0,"button",24),R("click",function(){b(e);let o=h();return y(o.handleClose())}),m()}}var xa=function(i){return i.openvpn="openvpn",i.dhcp="isc-dhcp-server",i.keepalived="keepalived",i.HAProxy="haproxy",i}(xa||{}),Lh=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D){super(c,t,e,A,x,D),this.itemSelectedService=e,this.appOptionsService=t,this.fwcUserService=o,this.fwcFirewallService=r,this.fwcPolicyService=s,this.fwcErrorPipe=a,this.fb=l,this.appDialogPanelsService=c,this.confirmationService=u,this.messageService=g,this.inputDataService=_,this.fwcEventService=C,this.utilService=w,this.translate=S,this.cd=A,this.store=x,this.router=D,this.statusError=new W,this.nodeSelected=new W,this.displaySystemCtlSelectorDialog=!1,this.data={},this.loadingData=!1,this.firstAction=!0,this.errorOcurred=!1,this.timeoutRegex=/ECONNABORTED:\sTimeout/,this.apiErrorRegex=/ApiKeyNotValid:/,this.apiNotFoundRegex=/ApiKeyNotFound:/,this.apiConnectionRefusedRegex=/ECONNREFUSED/,this.apiHostUnreachableRegex=/EHOSTUNREACH/,this.createDialog(S.instant("CONTEXT.SYSTEMCTL.PANEL.TITLE"),"fa-solid fa-terminal",ci.SYSTEMCTL_PANEL)}ngOnInit(){super.ngOnInit(),this.initializeCommandSelector(),this.formModel=this.fb.group({commandSelector:new _e(null,Ne.required)})}initializeCommandSelector(){this.commandSelector=[{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DEFAULT"),value:null},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STATUS"),iconClass:"fwcMenuIcon fwci-help fwcBlue",value:"status"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.START"),iconClass:"fa-solid fa-circle-play fwcBlue",value:"start"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STOP"),iconClass:"fwcMenuIcon fwci-reject fwcRed",value:"stop"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RELOAD"),iconClass:"fa-solid fa-rotate-right fwcBlue",value:"reload"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RESTART"),iconClass:"fwci-reload fwcBlue",value:"restart"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.ENABLE"),iconClass:"fa-regular fa-circle-check fwcBlue",value:"enable"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DISABLE"),iconClass:"fa-solid fa-ban fwcRed",value:"disable"}]}handleLoadingDataChange(e){this.loadingData=e,e?this.formModel.get("commandSelector").disable():this.formModel.get("commandSelector").enable()}systemCtlSelectorDialog(e){this.data=e,this.displaySystemCtlSelectorDialog=!0}onCommandSelect(){let e=this.formModel.get("commandSelector").value;e&&(this.data.command=e.value,this.handleLoadingDataChange(!0),this.showSystemctlDialog())}showSystemctlDialog(){return he(this,null,function*(){this.loadingData=!0;let e=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),this.data.firewall,this.fwcUserService.getActualFwSelectedCloud())).data;if(e.install_communication==="ssh"){this.displaySystemCtlSelectorDialog=!1;let t=this.fwcUserService.getActualFwcUser().privateKey,o={header:this.translate.instant("COMPILE.INST_SSH",{name:e.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!0,formControls:[{name:"firewall_id",type:"hidden",value:e.id},{name:"communication",type:"hidden",value:e.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:e.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:e.ip_name+" ("+e.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:e.install_user?yield this.utilService.openPGPDecrypt(e.install_user,t):"",setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:e.install_pass?yield this.utilService.openPGPDecrypt(e.install_pass,t):""}],onAccept:r=>he(this,null,function*(){let s=this.fwcUserService.getActualFwcUser().publicKey,a=r.ssh_user,l=r.ssh_password;a&&(a=yield this.utilService.openPGPEncrypt(a,s)),l&&(l=yield this.utilService.openPGPEncrypt(l,s)),this.data=Ee(Q({},this.data),{sshuser:a,sshpass:l}),this.displaySystemCtlSelectorDialog=!0,this.loadingData=!1,yield this.systemctlAction()}),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(o)}else this.loadingData=!1,yield this.systemctlAction()})}systemctlAction(){return he(this,null,function*(){let e=this.data.service;this.loadingData=!0,this.log.startDataLoad(),this.firstAction?this.firstAction=!1:(this.addMessageToLog("",nt.MSG_SEPARATOR),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant(`CONTEXT.SYSTEMCTL.PANEL.${this.data.command.toUpperCase()}`,{service:e}),nt.MSG_INFO),this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.getSystemctlInformation.bind(this.fwcFirewallService),this.data).subscribe({next:t=>{this.systemctlStatusResponse=Object.assign({},this.systemctlStatusResponse),this.systemctlStatusResponse=JSON.parse(JSON.stringify(t.data.data)),t.data.data===""?(this.systemctlStatusResponse=" ",this.log.scrollToBottom()):(this.addMessageToLog(this.systemctlStatusResponse,nt.MSG_NOTICE),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.DONE"),nt.MSG_OK),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1},error:t=>he(this,null,function*(){this.errorOcurred=!0,this.systemctlResponseError=t.error.msg?t.error.msg:t.error.message,this.timeoutRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNABORTED: Timeout"):this.apiNotFoundRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotFound"):this.apiErrorRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotValid"):this.apiConnectionRefusedRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNREFUSED"):this.apiHostUnreachableRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.EHOSTUNREACH"):this.systemctlResponseError=JSON.parse(this.systemctlResponseError)?JSON.parse(this.systemctlResponseError).message:this.systemctlResponseError,this.addMessageToLog(this.systemctlResponseError,nt.MSG_ERROR),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.ERROR"),nt.MSG_ERROR),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1})}),this.log.stopDataLoad()})}stopAction(){this.communicationSubscription&&(this.loadingData=!1,this.handleLoadingDataChange(!1),this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}handleClose(){this.hideDialog(),this.displaySystemCtlSelectorDialog=!1,this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(ot),v(Bt),v(pn),v(xi),v(ao),v(At),v(Wt),v(Kt),v(ir),v(_n),v(Ct),v(je),v(pe),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-systemctl-actions-panel"]],viewQuery:function(t,o){if(t&1&&ne(Er,5),t&2){let r;K(r=q())&&(o.log=r.first)}},outputs:{statusError:"statusError",nodeSelected:"nodeSelected"},features:[fe],decls:24,vars:17,consts:[["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","visible","modal","resizable","closable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc"],["id","systemctlSelector",1,"grid"],[1,"col-12"],[1,"col-6"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","commandSelector","appendTo","body","optionLabel","label","dataKey","value",3,"options"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"fwcFloatLabel"],[1,"grid","col-6"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-xmark","label","Stop",1,"p-button-danger"],[1,"divLoadTemp",3,"ngStyle"],[1,"logger"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa-solid","fa-terminal"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-xmark","label","Stop",1,"p-button-danger",3,"click"],["type","button","pButton","","icon","pi pi-check","label","Close",1,"p-button-primary",3,"click"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displaySystemCtlSelectorDialog,s)||(o.displaySystemCtlSelectorDialog=s),s}),I(1,A4e,5,3,"ng-template",1),f(2,"form",2)(3,"fieldset",3),R("keyup.enter",function(){return o.onCommandSelect()})("keyup.esc",function(){return o.handleClose()}),f(4,"div",4),re(5),E(6,"div",5),f(7,"div",6)(8,"div",7)(9,"span",8)(10,"p-dropdown",9),I(11,T4e,2,1,"ng-template",10)(12,D4e,2,1,"ng-template",11),m(),f(13,"label",12),T(14),O(15,"translate"),m()()()(),se(),f(16,"div",13),I(17,P4e,2,4,"button",14)(18,F4e,1,0,"button",15),f(19,"div",16),E(20,"p-progressSpinner"),m()()()()(),f(21,"div",17),E(22,"sts-fwc-log"),m(),I(23,L4e,1,0,"ng-template",18),m()),t&2&&(Oe("visible",o.displaySystemCtlSelectorDialog),p("modal",!1)("resizable",!0)("closable",!1),d(2),p("formGroup",o.formModel),d(8),p("options",o.commandSelector),d(4),H(P(15,12,"CONTEXT.SYSTEMCTL.ACTIONS")),d(3),G(o.loadingData?-1:17),d(),G(o.loadingData?18:-1),d(),p("ngStyle",J(14,w4e,o.loadingData?"visible":"hidden")),d(),it(Ie(16,S4e)))},styles:["#systemctlSelector[_ngcontent-%COMP%]{border-bottom:2px solid var(--fwcGrey2);padding:.313rem}.logger[_ngcontent-%COMP%]{margin-top:.625rem;margin-bottom:.313rem}"]})}}return i})();var Ig=()=>({visibility:"hidden"});function M4e(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"PANELS.DHCP_RULE_PANEL.TITLE")," "))}function k4e(i,n){if(i&1){let e=k();f(0,"div",10)(1,"div",11)(2,"span",12)(3,"p-dropdown",13),R("onChange",function(o){b(e);let r=h(2);return y(r.toggleFields(o.value))}),m(),f(4,"label",14),T(5),O(6,"translate"),m()()()()}if(i&2){let e=h(2);d(3),p("options",e.dhcpRegularRuleTypes)("autoDisplayFirst",!1),d(2),H(P(6,3,"DHCP.NEW_RULE_PANEL.TYPES"))}}function N4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",15),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_NETWORK),d(3),H(P(7,7,"POLICY_GRID.RULES.DHCP_NETWORK")),d(2),p("ngStyle",Ie(9,Ig))}}function V4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",17),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_RANGE),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.RANGE")),d(2),p("ngStyle",Ie(9,Ig))}}function B4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",18),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_ROUTER),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.ROUTER")),d(2),p("ngStyle",Ie(9,Ig))}}function U4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",19),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_INTERFACE),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.INTERFACE")),d(2),p("ngStyle",Ie(9,Ig))}}function j4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",20),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_IP),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.IP")),d(2),p("ngStyle",Ie(9,Ig))}}function H4e(i,n){if(i&1){let e=k();f(0,"div",5)(1,"label",21),T(2),O(3,"translate"),m(),f(4,"div",22)(5,"textarea",23),R("drop",function(o){b(e);let r=h(2);return y(r.preventDrop(o))}),m()()()}i&2&&(d(2),H(P(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function G4e(i,n){if(i&1&&(E(0,"div",5),I(1,k4e,7,5,"div",10)(2,N4e,9,10,"div",5)(3,V4e,9,10,"div",5)(4,B4e,9,10,"div",5)(5,U4e,9,10,"div",5)(6,j4e,9,10,"div",5)(7,H4e,6,3,"div",5)),i&2){let e=h();d(),G(e.dhcpFixedIpPolicySelected()?-1:1),d(),G(e.isRegularRuleSelected()?2:-1),d(),G(e.isRegularRuleSelected()?3:-1),d(),G(e.isRegularRuleSelected()?4:-1),d(),G(e.dhcpFixedIpPolicySelected()?5:-1),d(),G(e.dhcpFixedIpPolicySelected()?6:-1),d(),G(e.isManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?7:-1)}}function z4e(i,n){if(i&1&&(f(0,"div",5),E(1,"sts-fwc-message",24),m()),i&2){let e=h();d(),p("message",e.opMessage)}}function W4e(i,n){if(i&1){let e=k();f(0,"button",25),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.handleCancel())}),m(),f(2,"button",26),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var T6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D){super(o,t,e,r,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=u,this.fwcPolicyService=g,this.fwcDhcpPolicyService=_,this.fwcUserService=C,this.fwcFirewallService=w,this.confirmationService=S,this.translate=A,this.messageService=x,this.http=D,this.ObjectTypes=F,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.dhcpRegularRuleTypes=[{id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1},{id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3},{id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3}],this.dhcpFixedIpRuleType={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2}}ngOnInit(){this.formModel=this.fb.group({dhcpRegularRuleTypes:new _e,dhcpRegularRule:new _e,dhcpManualConfigRule:new _e,dhcpDefaultConfigRule:new _e,dhcpFixedIpRule:new _e,network:new _e(void 0),range:new _e(void 0),router:new _e(void 0),interface:new _e(void 0),ip:new _e(void 0),cfg_text:new _e(void 0)}),this.dhcpRegularRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1,network:"",range:"",router:""},this.dhcpManualConfigRule={id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpDefaultConfigRule={id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpFixedIpRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2,interface:"",ip:""},this.formModel.setValidators([this.validateRegularRuleFields.bind(this),this.validateFixedIpRuleFields.bind(this),this.validateManualConfigRuleFields.bind(this)]),this.formModel.get("dhcpRegularRuleTypes").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpRegularRuleTypes").value){this.toggleFields(e);let t=this.formModel.get("dhcpRegularRuleTypes"),o=this.formModel.get("network"),r=this.formModel.get("range"),s=this.formModel.get("router");t.setValidators(this.getDhcpRuleTypesValidators()),o.setValidators(this.getDhcpRuleTypesValidators()),r.setValidators(this.getDhcpRuleTypesValidators()),s.setValidators(this.getDhcpRuleTypesValidators()),t.updateValueAndValidity(),o.updateValueAndValidity(),r.updateValueAndValidity(),s.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpFixedIpRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpFixedIpRule").value){this.toggleFields(e);let t=this.formModel.get("dhcpFixedIpRule"),o=this.formModel.get("interface"),r=this.formModel.get("ip"),s=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(s.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),t.setValidators(this.getDhcpFixedIpRuleValidators()),o.setValidators(this.getDhcpFixedIpRuleValidators()),r.setValidators(this.getDhcpFixedIpRuleValidators()),t.updateValueAndValidity(),o.updateValueAndValidity(),r.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpManualConfigRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpManualConfigRule").value){this.toggleFields(e);let t=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(t.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),t.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpDefaultConfigRule").valueChanges.subscribe(e=>{if(e!==this.formModel.get("dhcpDefaultConfigRule").value){this.toggleFields(e);let t=this.formModel.get("cfg_text");this.setDhcpConfigText(),t.updateValueAndValidity(),this.formModel.updateValueAndValidity()}})}toggleFields(e){let t=this.formModel.get("network"),o=this.formModel.get("range"),r=this.formModel.get("router"),s=this.formModel.get("interface"),a=this.formModel.get("ip"),l=this.formModel.get("cfg_text");t.reset(),o.reset(),r.reset(),t.disable(),o.disable(),r.disable(),s.reset(),a.reset(),s.disable(),a.disable(),l.reset(),e==="dhcpRegularRuleTypes"?(t.enable(),o.enable(),r.enable()):e==="dhcpFixedIpRule"?(s.enable(),a.enable()):(e==="dhcpManualConfigRule"||e==="dhcpDefaultConfigRule")&&l.enable()}dhcpFixedIpPolicySelected(){let e=this.fwcPolicyService.getActualSelectedPolicy();return e&&e._fwcPolicyType===si[B.DHCP_FIXED_IP]}isRegularRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE")&&e.rule_type===1;return t&&(this.defaultConfigTextSet=!1),t}isManualConfigRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE");return t&&(this.defaultConfigTextSet=!1),t}isDefaultConfigRuleSelected(){let e=this.formModel.get("dhcpRegularRuleTypes").value,t=e&&e.name===this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE");return t&&!this.defaultConfigTextSet?(this.setDhcpConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}getDhcpRuleTypesValidators(){return this.isRegularRuleSelected()?Ne.required:null}getDhcpFixedIpRuleValidators(){return this.dhcpFixedIpPolicySelected()?Ne.required:null}validateRegularRuleFields(){let e=this.formModel.get("network"),t=this.formModel.get("range"),o=this.formModel.get("router");return this.isRegularRuleSelected()&&(!e.value||!t.value||!o.value)?{requiredFieldsMissing:!0}:null}validateFixedIpRuleFields(){let e=this.formModel.get("interface"),t=this.formModel.get("ip");return this.dhcpFixedIpPolicySelected()&&(!e.value||!t.value)?{requiredFieldsMissing:!0}:null}validateManualConfigRuleFields(){return this.isManualConfigRuleSelected(),null}loadDhcpConfigFile(){return he(this,null,function*(){try{return yield this.http.get("assets/config/system/dhcpd-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setDhcpConfigText(){return he(this,null,function*(){try{let e=yield this.loadDhcpConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,o,r){this.clusterId=e,this.firewallId=t,this.baseRuleId=o,this.newRuleOffset=r,e?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.firewallId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(di.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",o=this.dhcpRegularRuleTypes[0].rule_type,r=this.dhcpRegularRuleTypes[1].rule_type,s=this.dhcpRegularRuleTypes[2].rule_type,a=this.dhcpFixedIpRule.rule_type,l={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};this.isRegularRuleSelected()?(l.networkId=this.formModel.controls.network.value.id,l.rangeId=this.formModel.controls.range.value.id,l.routerId=this.formModel.controls.router.value.id,l.rule_type=o):this.dhcpFixedIpPolicySelected()?(l.interfaceId=this.formModel.controls.interface.value.id,l.routerId=this.formModel.controls.ip.value.id,l.rule_type=a):this.isManualConfigRuleSelected()?(l.rule_type=r,l.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(l.rule_type=s,l.cfg_text=this.formModel.controls.cfg_text.value),this.loadingData=!0,this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.newPolicyDhcpRule.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),l).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.DHCP_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(di.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ke),v(ao),v(et),v(xi),v(Ct),v(pn),v(pd),v(ot),v(Bt),v(Wt),v(je),v(Kt),v(Mt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-dhcp-rule-panel"]],features:[fe],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","dhcpRegularRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","network",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["formControlName","range",3,"readOnly","groupType","msgNotAllowed"],["formControlName","router",3,"readOnly","groupType","msgNotAllowed"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],["formControlName","ip",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onShow",function(){return!0})("onHide",function(){return!0}),I(1,M4e,5,3,"ng-template",1),f(2,"form",2)(3,"fieldset",3),R("keyup.enter",function(s){return o.handleCheckForm(s)})("keyup.esc",function(){return o.handleCancel()}),f(4,"div",4),I(5,G4e,8,7)(6,z4e,2,1,"div",5),m()()(),I(7,W4e,4,7,"ng-template",6),m()),t&2&&(Oe("visible",o.displayDialog),p("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),d(2),p("formGroup",o.formModel),d(),p("disabled",o.loadingData),d(2),G(o.dataLoaded?5:-1),d(),G(!o.loadingData&&o.opMessage?6:-1))}})}}return i})();var _d=(()=>{class i extends Ii{constructor(e,t){super(e),this.httpClient=e,this.fwcFirewallService=t,this._isKeepalivedPolicy=new an(!1),this.isKeepalivedPolicy$=this._isKeepalivedPolicy.asObservable(),this._keepalivedClusterId=new an(0),this.keepalivedClusterId$=this._keepalivedClusterId.asObservable()}setIsKeepalivedPolicy(e){this._isKeepalivedPolicy.next(e)}setKeepalivedClusterId(e){this._keepalivedClusterId.next(e)}getKeepalivedClusterId(){return this._keepalivedClusterId.getValue()}getKeepalivedPolicy(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getKeepalivedPolicyGrid(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/grid`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newPolicyKeepalivedRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules`;return this.httpClient.post(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateKeepalivedPolicyRule(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/moveFrom`;return this.httpClient.put(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateKeepalivedPolicyRules(e,t,o,r){let s=o.map(c=>`rules[]=${c}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/bulkUpdate?${s}`,l={active:r.active,style:r.style,group:r.group};return this.httpClient.put(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteKeepalivedPolicyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteKeepalivedPolicyRules(e,t,o){let r=o.map(a=>`rules[]=${a}`).join("&"),s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/bulkRemove?${r}`;return this.httpClient.delete(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}manageKeepalivedPolicyRules(e,t,o,r,s,a){let l="copy",c=this.httpClient.post,u=r<0?"above":"below";a===Vn.CUT&&(l="move",c=this.httpClient.put);let g=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/${l}`,_={to:o,offset:u,rules:s};return c.call(this.httpClient,g,_).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}compileKeepalivedPolicyRules(e,t,o){let r;if(o){let s=o.map(a=>`rules[]=${a}`).join("&");r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/compile?${s}`}else r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/compile`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getKeepalivedGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/keepalivedGroups/${o}`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:o,id:r}=e,s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/keepalivedGroups/${r}/restricted`;return this.httpClient.get(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newKeepalivedPolicyRuleGroup(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups`,l={name:o,comment:r,rules:s};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateKeepalivedPolicyRuleGroup(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteKeepalivedPolicyRulesGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedGroups/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}installConfig(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/keepalivedRules/install?channel_id=${o}`;return this.httpClient.put(s,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt),ie(Bt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var fO=()=>({visibility:"hidden"});function $4e(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"PANELS.KEEPALIVED_RULE_PANEL.TITLE")," "))}function K4e(i,n){i&1&&E(0,"div",5)}function q4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",15),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_INTERFACE),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.INTERFACE")),d(2),p("ngStyle",Ie(9,fO))}}function Y4e(i,n){i&1&&E(0,"div",5)}function J4e(i,n){if(i&1){let e=k();f(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",17),O(4,"translate"),R("onVirtualIpChange",function(o){b(e);let r=h(2);return y(r.handleOnChange(o))}),m(),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()}if(i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_VIRTUAL_IPS),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.VIRTUAL_IPS")),d(2),p("ngStyle",Ie(9,fO))}}function X4e(i,n){i&1&&E(0,"div",5)}function Q4e(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",18),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_MASTER_NODE),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.MASTER_NODE")),d(2),p("ngStyle",Ie(9,fO))}}function Z4e(i,n){if(i&1){let e=k();f(0,"div",5)(1,"label",19),T(2),O(3,"translate"),m(),f(4,"div",20)(5,"textarea",21),R("drop",function(o){b(e);let r=h(2);return y(r.preventDrop(o))}),m()()()}i&2&&(d(2),H(P(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function eVe(i,n){if(i&1){let e=k();E(0,"div",5),f(1,"div",10)(2,"div",11)(3,"span",12)(4,"p-dropdown",13),R("onChange",function(o){b(e);let r=h();return y(r.toggleFields(o.value))}),m(),f(5,"label",14),T(6),O(7,"translate"),m()()()(),I(8,K4e,1,0,"div",5)(9,q4e,9,10,"div",5)(10,Y4e,1,0,"div",5)(11,J4e,9,10,"div",5)(12,X4e,1,0,"div",5)(13,Q4e,9,10,"div",5)(14,Z4e,6,3,"div",5)}if(i&2){let e=h();d(4),p("options",e.keepalivedRuleTypes)("autoDisplayFirst",!1),d(2),H(P(7,10,"KEEPALIVED.NEW_RULE_PANEL.TYPES")),d(2),G(e.keepalivedRuleSelected()?8:-1),d(),G(e.keepalivedRuleSelected()?9:-1),d(),G(e.keepalivedRuleSelected()?10:-1),d(),G(e.keepalivedRuleSelected()?11:-1),d(),G(e.keepalivedRuleSelected()?12:-1),d(),G(e.keepalivedRuleSelected()?13:-1),d(),G(e.keepalivedManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?14:-1)}}function tVe(i,n){if(i&1&&(f(0,"div",5),E(1,"sts-fwc-message",22),m()),i&2){let e=h();d(),p("message",e.opMessage)}}function iVe(i,n){if(i&1){let e=k();f(0,"button",23),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.handleCancel())}),m(),f(2,"button",24),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var O6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D){super(o,t,e,r,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=u,this.fwcPolicyService=g,this.fwcKeepalivedPolicyService=_,this.fwcUserService=C,this.fwcFirewallService=w,this.confirmationService=S,this.translate=A,this.messageService=x,this.http=D,this.ObjectTypes=F,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.keepalivedRuleTypes=[{id:0,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE"),rule_type:1},{id:1,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({keepalivedRuleTypes:new _e,keepalivedRule:new _e,keepalivedManualConfigRule:new _e,keepalivedDefaultConfigRule:new _e,interface:new _e,virtualIps:this.fb.array([]),masterNode:new _e,cfg_text:new _e}),this.formModel.get("keepalivedRuleTypes").valueChanges.subscribe(e=>{this.toggleFields(e),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateFields.bind(this)])}toggleFields(e){let t=this.formModel.get("interface"),o=this.formModel.get("virtualIps"),r=this.formModel.get("masterNode"),s=this.formModel.get("cfg_text");if(t.reset(),r.reset(),s.reset(),e&&e.rule_type===1)for(t.enable(),r.enable(),s.disable();o.length!==0;)o.removeAt(0);else e&&e.rule_type===2?(s.enable(),t.disable(),r.disable(),o.controls.forEach(a=>{a.disable()})):e&&e.rule_type===2&&e==="keepalivedDefaultConfigRule"&&s.enable()}validateFields(){let e=this.formModel.get("keepalivedRuleTypes").value,t=this.formModel.get("interface"),o=this.formModel.get("virtualIps"),r=this.formModel.get("masterNode"),s=this.formModel.get("cfg_text");if(e&&e.rule_type===1){if(!t.value||!r.value||o.length===0)return{requiredFieldsMissing:!0}}else if(e&&e.rule_type===2)return s.value,null;return null}addVirtualIp(e){let t=this.fb.control(e);t.setValue(e),this.formModel.get("virtualIps").push(t)}handleOnChange(e){this.addVirtualIp(e.id)}keepalivedRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value;return e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE")&&e.rule_type===1}keepalivedManualConfigRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value;return e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL")&&e.rule_type===2}isDefaultConfigRuleSelected(){let e=this.formModel.get("keepalivedRuleTypes").value,t=e&&e.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT");return t&&!this.defaultConfigTextSet?(this.setKeepalivedConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}loadKeepalivedConfigFile(){return he(this,null,function*(){try{return yield this.http.get("assets/config/system/keepalived-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setKeepalivedConfigText(){return he(this,null,function*(){try{let e=yield this.loadKeepalivedConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,o,r){this.clusterId=e,this.firewallId=t,this.baseRuleId=o,this.newRuleOffset=r,this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(di.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",o=this.keepalivedRuleTypes[0].rule_type,r=this.keepalivedRuleTypes[1].rule_type,s=this.keepalivedRuleTypes[2].rule_type,a={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};if(this.keepalivedRuleSelected()){a.interfaceId=this.formModel.controls.interface.value.id,a.masterNodeId=this.formModel.controls.masterNode.value.id,a.rule_type=o;let l=[];Array.isArray(this.formModel.get("virtualIps").value)&&this.formModel.get("virtualIps").value.forEach((c,u)=>{l.push({id:c,order:u+1})}),a.virtualIpsIds=l}else this.keepalivedManualConfigRuleSelected()?(a.rule_type=r,a.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(a.rule_type=s,a.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.newPolicyKeepalivedRule.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),a).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(di.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ke),v(ao),v(et),v(xi),v(Ct),v(pn),v(_d),v(ot),v(Bt),v(Wt),v(je),v(Kt),v(Mt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-keepalived-rule-panel"]],features:[fe],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog---dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","keepalivedRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["dropzone","move","formArrayName","virtualIps",3,"onVirtualIpChange","readOnly","groupType","msgNotAllowed"],["formControlName","masterNode",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onShow",function(){return!0})("onHide",function(){return!0}),I(1,$4e,5,3,"ng-template",1),f(2,"form",2)(3,"fieldset",3),R("keyup.enter",function(s){return o.handleCheckForm(s)})("keyup.esc",function(){return o.handleCancel()}),f(4,"div",4),I(5,eVe,15,12)(6,tVe,2,1,"div",5),m()()(),I(7,iVe,4,7,"ng-template",6),m()),t&2&&(Oe("visible",o.displayDialog),p("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),d(2),p("formGroup",o.formModel),d(),p("disabled",o.loadingData),d(2),G(o.dataLoaded?5:-1),d(),G(!o.loadingData&&o.opMessage?6:-1))}})}}return i})();var Cd=(()=>{class i extends Ii{constructor(e){super(e),this.httpClient=e,this._isHAProxyPolicy=new an(!1),this.isHAProxyPolicy$=this._isHAProxyPolicy.asObservable()}setIsHAProxyPolicy(e){this._isHAProxyPolicy.next(e)}getHAProxyPolicy(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getHAProxyPolicyGrid(e,t){let o=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/grid`;return this.httpClient.get(o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newPolicyHAProxyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules`;return this.httpClient.post(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateHAProxyPolicyRule(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}moveObjectBetweenPositions(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/moveFrom`;return this.httpClient.put(r,o).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateHAProxyPolicyRules(e,t,o,r){let s=o.map(c=>`rules[]=${c}`).join("&"),a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/bulkUpdate?${s}`,l={active:r.active,style:r.style,group:r.group};return this.httpClient.put(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteHAProxyPolicyRule(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteHAProxyPolicyRules(e,t,o){let r=o.map(a=>`rules[]=${a}`).join("&"),s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/bulkRemove?${r}`;return this.httpClient.delete(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}manageHAProxyPolicyRules(e,t,o,r,s,a){let l="copy",c=this.httpClient.post,u=r<0?"above":"below";a===Vn.CUT&&(l="move",c=this.httpClient.put);let g=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/${l}`,_={to:o,offset:u,rules:s};return c.call(this.httpClient,g,_).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}compileHAProxyPolicyRules(e,t,o){let r;if(o){let s=o.map(a=>`rules[]=${a}`).join("&");r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/compile?${s}`}else r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/compile`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}getHAProxyGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${e}/firewalls/${t}/system/haproxyGroups/${o}`;return this.httpClient.get(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}checkGroupRestrictions(e){let{fwcloud:t,firewall:o,id:r}=e,s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/haproxyGroups/${r}/restricted`;return this.httpClient.get(s).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}newHAProxyPolicyRuleGroup(e,t,o,r,s){let a=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups`,l={name:o,comment:r,rules:s};return this.httpClient.post(a,l).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}updateHAProxyPolicyRuleGroup(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups/${o}`;return this.httpClient.put(s,r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}deleteHAProxyPolicyRulesGroup(e,t,o){let r=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyGroups/${o}`;return this.httpClient.delete(r).pipe(U(this.handleAPIResponseNew),$(this.handleAPIErrorNew))}installConfig(e,t,o,r){let s=`${de.settings.fwcAppURL}/fwclouds/${t}/firewalls/${e}/system/haproxyRules/install?channel_id=${o}`;return this.httpClient.put(s,JSON.stringify(r)).pipe(U(this.handleAPIResponse),$(this.handleAPIError))}static{this.\u0275fac=function(t){return new(t||i)(ie(Mt))}}static{this.\u0275prov=ue({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var nVe=["txtConfigFile"],oVe=()=>({width:"80vw"}),R6=i=>({name:i}),rVe=i=>({visibility:i}),sVe=()=>({width:"1.7rem",height:"1.7rem"});function aVe(i,n){if(i&1&&(f(0,"h6",12),E(1,"i",13),T(2),O(3,"translate"),m()),i&2){let e=h(2);d(2),z(" ",pi(3,1,e.configManageTranslateKey+".FORM_HEADER",J(4,R6,e.objectToManage.firewall_name))," ")}}function lVe(i,n){if(i&1&&(f(0,"h6",12),E(1,"i",13),T(2),O(3,"translate"),m()),i&2){let e=h(2);d(2),z(" ",pi(3,1,e.configManageTranslateKey+".FORM_HEADER",J(4,R6,e.objectToManage.cluster_name))," ")}}function cVe(i,n){if(i&1&&(re(0),f(1,"div",11),I(2,aVe,4,6,"h6",12)(3,lVe,4,6,"h6",12),m(),se()),i&2){let e=h();d(2),G(e.objectToManage.cluster_id?-1:2),d(),G(e.objectToManage.cluster_id?3:-1)}}function dVe(i,n){if(i&1&&(f(0,"span"),E(1,"i",14),T(2,"\xA0"),f(3,"strong"),T(4),m()()),i&2){let e=h(2).$implicit;d(4),H(e.firewallName)}}function uVe(i,n){if(i&1&&(f(0,"span"),E(1,"span",15)(2,"i",16),T(3),m()),i&2){let e=h(2).$implicit;d(3),z("\xA0",e.firewallName,"")}}function pVe(i,n){if(i&1&&(f(0,"td"),I(1,dVe,5,1,"span")(2,uVe,4,1,"span"),m()),i&2){let e=h().$implicit;d(),G(e.isNode?-1:1),d(),G(e.isNode?2:-1)}}function hVe(i,n){if(i&1&&(f(0,"td"),E(1,"i",16),T(2),m()),i&2){let e=h().$implicit;d(2),z("\xA0",e.firewallName," ")}}function fVe(i,n){if(i&1&&(f(0,"tr",8),I(1,pVe,3,2,"td")(2,hVe,3,1,"td"),f(3,"td",7),E(4,"i"),m()()),i&2){let e=n.$implicit,t=h();p("ngClass",e.coloredBg?"bgColored":"bgNormal"),d(),G(e.clusterId!==null&&e.clusterId!==void 0?1:-1),d(),G(e.clusterId===null||e.clusterId===void 0?2:-1),d(2),te(t.FirewallOpsIcons[e.installState])}}function mVe(i,n){if(i&1){let e=k();f(0,"button",20),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.doStopProcess())}),m()}i&2&&Z("label",P(1,1,"GLOBALS.MSG_BUTTONS.STOP"))}function gVe(i,n){if(i&1){let e=k();f(0,"button",23),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.doPauseProcess(!0))}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"COMPILE.PAUSE")),p("disabled",e.disableButtons)}}function _Ve(i,n){if(i&1){let e=k();f(0,"button",24),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.doContinueProcess())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"COMPILE.CONTINUE")),p("disabled",e.disableButtons)}}function CVe(i,n){if(i&1&&I(0,gVe,2,4,"button",21)(1,_Ve,2,4,"button",22),i&2){let e=h(2);G(!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?0:-1),d(),G(e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?1:-1)}}function IVe(i,n){if(i&1){let e=k();f(0,"button",25),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCancel())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.savingData||e.disableButtons)}}function vVe(i,n){if(i&1&&(f(0,"div",17),E(1,"p-progressSpinner"),m(),I(2,mVe,2,3,"button",18)(3,CVe,2,2)(4,IVe,2,4,"button",19)),i&2){let e=h();p("ngStyle",J(6,rVe,e.savingData?"visible":"hidden")),d(),it(Ie(8,sVe)),d(),G(e.loadingData?2:-1),d(),G(e.objectToManage&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==null&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==void 0?3:-1),d(),G(e.object?-1:4)}}var bVe=6e4,Mh=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D,V){super(o,t,e,r,a,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.translate=s,this.store=a,this.router=l,this.fwcFirewallService=c,this.utilService=u,this.fwcDhcpPolicyService=g,this.fwcKeepalivedPolicyService=_,this.fwcHAProxyPolicyService=C,this.fwcUserService=w,this.confirmationService=S,this.messageService=A,this.fwcEventService=x,this.fwcErrorPipe=D,this.inputDataService=V,this.restrictionsReadOnly=!1,this.ObjectTypes=F,this.FirewallOpsIcons=Bp,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.NodeTypes=B,this.alive=!0}ngOnInit(){return he(this,null,function*(){this.store.pipe(yt(()=>this.alive),Sn(Qa.selectDialogUuidsToReload)).subscribe(t=>{t&&t.find(o=>o===this.dialogUUID)&&this.reloadPanel()});let e=this.objectToManage;if(e.parent_type===F.OBJ_CLUSTER){let t;if(t=yield this.getClusterMasterFirewall(e.parent_id),t)e.firewall=t.id,e.firewall_name=t.name;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.name})});return}}else e.firewall=e.parent_id})}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},bVe)}refreshTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.startTimeoutHandler()}reloadPanel(){if(this.displayDialog||this.dialogMinified){let e=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.dialogId===e&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(Yi.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToManage=null,this.remoteOptions=[],this.errorMsg=null}onItemManage(e,t){return he(this,null,function*(){if(!e)return;let o,r,s,a=[],l=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e._fwcObjType===si[B.DHCP]?(this.configManageTranslateKey="DHCP.CONFIG",this.configManageAPICall=this.fwcDhcpPolicyService.installConfig.bind(this.fwcDhcpPolicyService)):e._fwcObjType===si[B.KEEPALIVED]?(this.configManageTranslateKey="KEEPALIVED.CONFIG",this.configManageAPICall=this.fwcKeepalivedPolicyService.installConfig.bind(this.fwcKeepalivedPolicyService)):e._fwcObjType===si[B.HAPROXY]&&(this.configManageTranslateKey="HAPROXY.CONFIG",this.configManageAPICall=this.fwcHAProxyPolicyService.installConfig.bind(this.fwcHAProxyPolicyService)),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),t&&this.recenterDialog(),this.channel_id=$o(),this.utilService.ioListenOnLogEvent(this.channel_id),this.eventsSubscription=this.fwcEventService.getEvent().pipe(yt(()=>this.displayDialog)).subscribe(c=>{let u=new xr(c),g;u.payload.type===nt.MSG_ERROR&&(g=this.utilService.isCommunicationErrorStr(u.payload.message),this.pauseProcess=!0,this.loadingData=!1,this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.operationWithErrors=!0),g?this.continueButtonText=this.translate.instant("COMPILE.RETRY"):(this.log.addNewMessage(u),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),e.parent_type===F.OBJ_CLUSTER?(s=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),r=e.parent_id,o=!0):e.parent_type===F.OBJ_FIREWALL&&(s=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),r=e.firewall_id,o=!1),s&&s(r,l).subscribe(c=>he(this,null,function*(){c.data&&c.data instanceof Array?a=c.data:c.data?(a=[],a.push(c.data)):a=[],this.operationQueue=[];let u;o&&(u={clusterId:r,firewallId:r,firewallName:e._fwcClusterName,installState:Ui.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},u)));for(let g=0;g<a.length;g++){let _=a[g];u={clusterId:_.cluster,clusterName:e._fwcClusterName,isNode:!!_.cluster,firewallId:a[g].id,firewallName:a[g].name,installState:Ui.FW_PENDING,opInstalled:!1,installCommunication:a[g].install_communication,installProtocol:a[g].install_protocol,installApikey:a[g].install_apikey},this.operationQueue.push(Object.assign({},u))}this.operationInProcessId=0,this.processOperation(!0)}),c=>{c.error&&c.error.fwcErr!==1002&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)}),this.eventsSubscription.unsubscribe(),this.loadingData=!1})})}doTimeoutOp(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),nt.MSG_WARNING)),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),e&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),nt.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.operationQueue&&this.operationQueue[this.operationInProcessId].clusterId!==null&&this.operationQueue[this.operationInProcessId].clusterId!==void 0&&this.processOperation()}processOperation(e){let t;if(!this.pauseProcess&&this.operationQueue&&this.operationInProcessId<this.operationQueue.length){let o=this.operationQueue[this.operationInProcessId];if(!o)return;if(this.operationWithErrors=!1,o.clusterId!==null&&o.clusterId!==void 0?t=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:o.clusterName,firewallName:o.firewallName}):t=this.translate.instant("COMPILE.INST_FW",{firewallName:o.firewallName}),o.installState===Ui.FW_PENDING){o.installState=Ui.FW_PROCESSING,e||this.addMessageToLog("",nt.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:t}),nt.MSG_INFO);let r={firewall_id:o.firewallId,interface_name:o.installInterfaceName,ip_name:void 0};this.disableButtons=!0,this.loadingData=!0,this.refreshTimeoutHandler(),this.manageConfig(r).catch(s=>{t=this.translate.instant("COMPILE.INST_FW_ERROR_TEXT",{name:o.firewallName,error:s})})}else this.operationInProcessId++,this.processOperation(e)}}manageConfig(e){return he(this,null,function*(){let t,o;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(o=this.operationQueue[this.operationInProcessId]),!(!o||!this.configManageAPICall))if(o.clusterId!==null&&o.clusterId!==void 0?t=`cluster ${o.clusterId} - firewall ${o.firewallId} (${o.firewallName})`:t=`firewall ${o.firewallId} (${o.firewallName})`,this.disableButtons=!1,e){this.startTimeoutHandler(),this.log.startDataLoad(),this.disableButtons=!0,this.loadingData=!0;let r=yield this.fwcFirewallService.getFirewall(e.firewall_id,this.fwcUserService.getActualFwSelectedCloud()).toPromise(),s;try{r.data.ip===null||r.data.ip===void 0||r.data.install_interface===null||r.data.install_interface===void 0?this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.data.name}),reject:()=>{this.doPauseProcess()},accept:()=>{this.pauseProcess=!0,this.disableButtons=!1,this.loadingData=!1,s=!1;let a=this.translate.instant("COMPILE.INST_FW_ERROR_IP");this.addMessageToLog(this.translate.instant("COMPILE.INST_CONFIG_ERROR",{name:r.data.firewall_name,error:a}),nt.MSG_ERROR)}}):s=!0}catch(a){if(a.message==="Missing ip/interface")return}s&&(this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,e.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),this.channel_id).subscribe({next:()=>{this.disableButtons=!1,o.installState=Ui.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),nt.MSG_ERROR):(this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),nt.MSG_OK),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)),this.operationInProcessId++,this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&this.processOperation(),this.loadingData=!1},error:a=>{if(this.disableButtons=!1,this.loadingData=!1,this.log.stopDataLoad(),a.status===403){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null);return}this.installConfigError=a.error.msg?a.error.msg:a.error.message,this.installConfigError=JSON.parse(this.installConfigError)?JSON.parse(this.installConfigError).message:this.installConfigError,a.error&&this.installConfigError==="EPROTO: Protocol error"&&a.status===400?this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.PROTOCOL_ERROR"),nt.MSG_ERROR):a.error&&this.installConfigError==="Method not implemented."&&a.status===500?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.METHOD_NOT_IMPLEMENTED"),nt.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ETIMEDOUT: IP is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.IP_NOT_VALID"),nt.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ECONNREFUSED: Port is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INVALID_PORT"),nt.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="Request failed with status code 404"&&a.status===500&&(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INTERNAL_SERVER"),nt.MSG_ERROR),this.doContinueProcess()),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.doContinueProcess())}}))}else o.installState=Ui.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:t}),nt.MSG_ERROR),this.operationInProcessId++,this.processOperation()})}onShowDialog(){this.recenterDialog(),this.showDialog()}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("DHCP.CONFIG.EXIT_PANEL"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.pauseProcess=!1,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:qi.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}doStopProcess(){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("DHCP.CONFIG.STOP"),nt.MSG_WARNING)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}getClusterMasterFirewall(e){return new Promise((t,o)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(r=>{let s;s=r.data,t(s)},r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),o()})})}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(je),v(Ke),v(et),v(Bt),v(Ct),v(pd),v(_d),v(Cd),v(ot),v(Wt),v(Kt),v(_n),v(xi),v(ir))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-system-install-panel"]],viewQuery:function(t,o){if(t&1&&(ne(nVe,5),ne(Er,5)),t&2){let r;K(r=q())&&(o.txtConfigFile=r.first),K(r=q())&&(o.log=r.first)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},features:[fe],decls:22,vars:13,consts:[["dlgOVConfigPanel",""],["styleClass","dlgFwcDialog fwcObjectDialog",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid","grid","grid-nogutter"],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-xmark",1,"p-button-danger",3,"label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-xmark",1,"p-button-danger",3,"click","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(){return b(r),y(o.onShowDialog())})("onHide",function(){return b(r),y(o.hideDialog())}),I(2,cVe,4,2,"ng-template",2),re(3),f(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"th"),T(11),O(12,"translate"),m(),f(13,"th",7),T(14),O(15,"translate"),m()()(),f(16,"tbody"),fo(17,fVe,5,6,"tr",8,ho),m()()()(),f(19,"div",9),E(20,"sts-fwc-log"),m()(),se(),I(21,vVe,5,9,"ng-template",10),m()}t&2&&(it(Ie(12,oVe)),Oe("visible",o.displayDialog),p("modal",!0)("resizable",!0)("closable",!1),d(11),H(P(12,8,"COMPILE.FORM.NAME")),d(3),z(" ",P(15,10,o.configManageTranslateKey+".OPERATION")," "),d(3),mo(o.operationQueue))}})}}return i})();var Ab=()=>({visibility:"hidden"});function yVe(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"PANELS.HAPROXY_RULE_PANEL.TITLE")," "))}function wVe(i,n){if(i&1){let e=k();f(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",15),O(4,"translate"),R("onHAProxyIpChange",function(o){b(e);let r=h(2);return y(r.handleOnFrontendIpChange(o))}),m(),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()}if(i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_IP),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.FRONTEND_IP")),d(2),p("ngStyle",Ie(9,Ab))}}function SVe(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",17),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_PORT),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.FRONTEND_PORT")),d(2),p("ngStyle",Ie(9,Ab))}}function AVe(i,n){if(i&1){let e=k();f(0,"div",5)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",18),O(4,"translate"),R("onHAProxyIpChange",function(o){b(e);let r=h(2);return y(r.handleOnBackendIpChange(o))}),m(),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()}if(i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_IPS),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.BACKEND_IPS")),d(2),p("ngStyle",Ie(9,Ab))}}function xVe(i,n){if(i&1&&(f(0,"div",5)(1,"div",11)(2,"span",12),E(3,"sts-fwc-object-group",19),O(4,"translate"),f(5,"label",14),T(6),O(7,"translate"),m()()(),E(8,"p",16),m()),i&2){let e=h(2);d(3),Z("msgNotAllowed",P(4,5,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")),p("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_PORT),d(3),H(P(7,7,"ITEM_PANEL.FIELDS.BACKEND_PORT")),d(2),p("ngStyle",Ie(9,Ab))}}function EVe(i,n){if(i&1){let e=k();f(0,"div",5)(1,"label",20),T(2),O(3,"translate"),m(),f(4,"div",21)(5,"textarea",22),R("drop",function(o){b(e);let r=h(2);return y(r.preventDrop(o))}),m()()()}i&2&&(d(2),H(P(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function TVe(i,n){if(i&1){let e=k();E(0,"div",5),f(1,"div",10)(2,"div",11)(3,"span",12)(4,"p-dropdown",13),R("onChange",function(o){b(e);let r=h();return y(r.toggleFields(o.value))}),m(),f(5,"label",14),T(6),O(7,"translate"),m()()()(),I(8,wVe,9,10,"div",5)(9,SVe,9,10,"div",5)(10,AVe,9,10,"div",5)(11,xVe,9,10,"div",5)(12,EVe,6,3,"div",5)}if(i&2){let e=h();d(4),p("options",e.HAProxyRuleTypes)("autoDisplayFirst",!1),d(2),H(P(7,8,"HAPROXY.NEW_RULE_PANEL.TYPES")),d(2),G(e.HAProxyRuleSelected()?8:-1),d(),G(e.HAProxyRuleSelected()?9:-1),d(),G(e.HAProxyRuleSelected()?10:-1),d(),G(e.HAProxyRuleSelected()?11:-1),d(),G(e.HAProxyManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?12:-1)}}function OVe(i,n){if(i&1&&(f(0,"div",5),E(1,"sts-fwc-message",23),m()),i&2){let e=h();d(),p("message",e.opMessage)}}function RVe(i,n){if(i&1){let e=k();f(0,"button",24),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.handleCancel())}),m(),f(2,"button",25),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.handleSave())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var D6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D){super(o,t,e,r,s,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.store=s,this.fb=a,this.router=l,this.fwcErrorPipe=c,this.utilService=u,this.fwcPolicyService=g,this.fwcHAProxyPolicyService=_,this.fwcUserService=C,this.fwcFirewallService=w,this.confirmationService=S,this.translate=A,this.messageService=x,this.http=D,this.ObjectTypes=F,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.HAProxyRuleTypes=[{id:0,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE"),rule_type:1},{id:1,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({HAProxyRuleTypes:new _e,HAProxyRule:new _e,HAProxyManualConfigRule:new _e,HAProxyDefaultConfigRule:new _e,frontendIp:new _e,frontendPort:new _e,backendIps:this.fb.array([]),backendPort:new _e,cfg_text:new _e}),this.formModel.get("HAProxyRuleTypes").valueChanges.subscribe(e=>{this.toggleFields(e),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateHAProxyRuleFields.bind(this)])}toggleFields(e){let t=this.formModel.get("frontendIp"),o=this.formModel.get("frontendPort"),r=this.formModel.get("backendIps"),s=this.formModel.get("backendPort"),a=this.formModel.get("cfg_text");if(t.reset(),o.reset(),s.reset(),a.reset(),e&&e.rule_type===1)for(t.enable(),o.enable(),s.enable(),a.disable();r.length!==0;)r.removeAt(0);else e&&e.rule_type===2?(a.enable(),t.disable(),o.disable(),s.disable(),r.controls.forEach(l=>{l.disable()})):e&&e.rule_type===2&&e==="HAProxyDefaultConfigRule"&&a.enable()}validateHAProxyRuleFields(){let e=this.formModel.get("HAProxyRuleTypes").value,t=this.formModel.get("frontendIp"),o=this.formModel.get("frontendPort"),r=this.formModel.get("backendIps"),s=this.formModel.get("backendPort"),a=this.formModel.get("cfg_text");return e&&e.rule_type===1?!t.value||!o.value||r.length===0||!s.value?{requiredFieldsMissing:!0}:null:(e&&e.rule_type===2&&a.value,null)}addFrontendIp(e){this.formModel.get("frontendIp").setValue(e)}addBackendIp(e){let t=this.fb.control(e);t.setValue(e),this.formModel.get("backendIps").push(t)}handleOnBackendIpChange(e){this.addBackendIp(e.id)}handleOnFrontendIpChange(e){this.addFrontendIp(e.id)}HAProxyRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value;return e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE")&&e.rule_type===1}HAProxyManualConfigRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value;return e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL")&&e.rule_type===2}isDefaultConfigRuleSelected(){let e=this.formModel.get("HAProxyRuleTypes").value,t=e&&e.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT");return t&&!this.defaultConfigTextSet?(this.setHAProxyConfigText(),this.defaultConfigTextSet=!0):t||(this.defaultConfigTextSet=!1),t}loadHAProxyConfigFile(){return he(this,null,function*(){try{return yield this.http.get("assets/config/system/HAProxy-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(e){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)}),e}})}setHAProxyConfigText(){return he(this,null,function*(){try{let e=yield this.loadHAProxyConfigFile();this.formModel.get("cfg_text").setValue(e)}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})}})}showNewRuleDialog(e,t,o,r){this.clusterId=e,this.firewallId=t,this.baseRuleId=o,this.newRuleOffset=r,e?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.clusterId=s.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{this.firewallId=s.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(di.requestBlockUI());let{comment:e}=this.formModel.value,t=this.newRuleOffset<1?"above":"below",o=this.HAProxyRuleTypes[0].rule_type,r=this.HAProxyRuleTypes[1].rule_type,s=this.HAProxyRuleTypes[2].rule_type,a={firewallId:this.firewallId,to:this.baseRuleId,offset:t,style:void 0,comment:e};if(this.HAProxyRuleSelected()){a.frontendIpId=this.formModel.controls.frontendIp.value,a.frontendPortId=this.formModel.controls.frontendPort.value.id,a.backendPortId=this.formModel.controls.backendPort.value.id,a.rule_type=o;let l=[];Array.isArray(this.formModel.get("backendIps").value)&&this.formModel.get("backendIps").value.forEach((c,u)=>{l.push({id:c,order:u+1})}),a.backendIpsIds=l}else this.HAProxyManualConfigRuleSelected()?(a.rule_type=r,a.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(a.rule_type=s,a.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(di.requestBlockUI()),this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.newPolicyHAProxyRule.bind(this.fwcHAProxyPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),a).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(uo.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(di.requestUnblockUI())})}}handleCheckForm(e){e&&e.target&&this.formModel.valid&&(e.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(Ke),v(ao),v(et),v(xi),v(Ct),v(pn),v(Cd),v(ot),v(Bt),v(Wt),v(je),v(Kt),v(Mt))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-haproxy-rule-panel"]],features:[fe],decls:8,vars:9,consts:[["styleClass","dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],["pTemplate","header"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","HAProxyRuleTypes","styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id",3,"onChange","options","autoDisplayFirst"],[1,"fwcFloatLabel"],["formControlName","frontendIp",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["formControlName","frontendPort",3,"readOnly","groupType","msgNotAllowed"],["formArrayName","backendIps",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],["formControlName","backendPort",3,"readOnly","groupType","msgNotAllowed"],["for","cfg_text"],[1,"fwcTextArea"],["pInputTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"click","label"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label","disabled"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),R("onShow",function(){return!0})("onHide",function(){return!0}),I(1,yVe,5,3,"ng-template",1),f(2,"form",2)(3,"fieldset",3),R("keyup.enter",function(s){return o.handleCheckForm(s)})("keyup.esc",function(){return o.handleCancel()}),f(4,"div",4),I(5,TVe,13,10)(6,OVe,2,1,"div",5),m()()(),I(7,RVe,4,7,"ng-template",6),m()),t&2&&(Oe("visible",o.displayDialog),p("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),d(2),p("formGroup",o.formModel),d(),p("disabled",o.loadingData),d(2),G(o.dataLoaded?5:-1),d(),G(!o.loadingData&&o.opMessage?6:-1))}})}}return i})();var mO=class{constructor(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}clearData(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}getData(){return this.data}setData(n){n&&(n.action&&(this.data.action=n.action),isNaN(n.dropPos)||(this.data.dropPos=n.dropPos),isNaN(n.sourceIndex)||(this.data.sourceIndex=n.sourceIndex),this.data.clone=n.clone!==void 0?n.clone:null,this.data.source=n.source!==void 0?n.source:null,this.data.handle=n.handle!==void 0?n.handle:null,this.data.sourceCtrl=n.sourceCtrl!==void 0?n.sourceCtrl:null,this.data.sourceData=n.sourceData!==void 0?n.sourceData:null,this.data.target=n.target!==void 0?n.target:null,this.data.targetCtrl=n.targetCtrl!==void 0?n.targetCtrl:null,this.data.type=n.type!==void 0?n.type:"")}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}getDropPos(n,e,t,o){return o==="horizontal"?this.getDropPosHorizontal(n,e,t):this.getDropPosVertical(n,e,t)}getDropPosHalf(n,e,t){let o={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height};switch(t){case"full":if(this.checkHit(n.x,n.y,o))return 0;break;case"horizontal":if(o.right=e.x+e.width/2,this.checkHit(n.x,n.y,o))return 1;if(o.left=o.right,o.right=e.x+e.width,this.checkHit(n.x,n.y,o))return 2;break;default:if(o.bottom=e.y+e.height/2,this.checkHit(n.x,n.y,o))return 1;if(o.top=o.bottom,o.bottom=e.y+e.height,this.checkHit(n.x,n.y,o))return 2}return-1}getDropPosHorizontal(n,e,t){if(t)return this.getDropPosHalf(n,e,"horizontal");{let o={left:e.x+e.width/4,top:e.y,right:e.x+3*e.width/4,bottom:e.y+e.height};if(this.checkHit(n.x,n.y,o))return 0;if(o.right=o.left,o.left=e.x,this.checkHit(n.x,n.y,o))return 1;if(o.left=e.x+3*e.width/4,o.right=e.x+e.width,this.checkHit(n.x,n.y,o))return 2}return-1}getDropPosVertical(n,e,t){if(t)return this.getDropPosHalf(n,e,"vertical");{let o={left:e.x,top:e.y+e.height/4,right:e.x+e.width,bottom:e.y+3*e.height/4};if(this.checkHit(n.x,n.y,o))return 0;if(o.bottom=o.top,o.top=e.y,this.checkHit(n.x,n.y,o))return 1;if(o.top=e.y+3*e.height/4,o.bottom=e.y+e.height,this.checkHit(n.x,n.y,o))return 2}return-1}},DVe=function(){var i;return{getInstance:function(){return i==null&&((i=new mO).constructor=null),i}}}(),P6=DVe;var gO=class{isString(n){return n?typeof n=="string"||n instanceof String:!1}_isFilterCondition(n){return n==="a"||n==="b"||n==="c"||n==="d"||n==="e"||n==="f"||n==="g"||n==="h"||n==="i"||n==="j"||n==="k"||n==="l"||n==="m"||n==="n"||n==="o"||n==="p"||n==="q"||n==="r"||n==="s"||n==="t"||n==="u"||n==="v"||n==="w"||n==="x"||n==="y"||n==="z"}beginsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(0,e.length)===e:n.toLowerCase().substring(0,e.length)===e.toLowerCase():!1}endsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(n.length-e.length,n.length)===e:n.toLowerCase().substring(n.length-e.length,n.length)===e.toLowerCase():!1}_getFilterCondition(n,e){let t="abcdefghijklmnopqrstuvwxyz".indexOf(e);return n&&t>=0&&t<n.length?n[t]:null}_createFilterNode(){return{result:!1}}_setFilterNode(n,e,t,o){let r=this._createFilterNode();r.condition=this._getFilterCondition(e,t),r.negative=o,n.left?n.right||(n.right=r):n.left=r}_getMatchResult(n,e,t,o,r){let s=!1;if(n!==void 0&&t!==void 0){switch(e){case">":s=n>t;break;case">=":s=n>=t;break;case"<":s=n<t;break;case"<=":s=n<=t;break;case"=":this.isString(n)&&this.isString(t)?s=r!==!1?n===t:n.toLowerCase()===t.toLowerCase():s=n===t;break;case"!=":case"<>":this.isString(n)&&this.isString(t)?s=r!==!1?n!==t:n.toLowerCase()!==t.toLowerCase():s=n!==t;break;case"->":s=this.beginsWith(n,t,r);break;case"<-":s=this.endsWith(n,t,r);break;case"><":case"[]":s=this.isString(n)&&this.isString(t)?r!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1;break;case"][":s=!(s=this.isString(n)&&this.isString(t)?r!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1);break;default:s=!1}o===!0&&(s=!s)}return s}_getFilterResult(n,e,t,o){if(e){if(Array.isArray(e.value)){let r=[];for(let a=0;a<e.value.length;a++)r.push(this._getMatchResult(n,e.operation,e.value[a],t,o));let s=!0;if(e.join==="&")for(let a=0;a<r.length;a++)s=s&&r[a];else{s=!1;for(let a=0;a<r.length;a++)s=s||r[a]}return s}return this._getMatchResult(n,e.operation,e.value,t,o)}return!0}_applyFilter(n,e,t){if(e){let o=e,r=o;return r.left&&(r.left.condition?r.left.result=this._getFilterResult(n,r.left.condition,r.left.negative,t):(r=r.left,this._applyFilter(n,r,t))),(r=o).right&&(r.right.condition?r.right.result=this._getFilterResult(n,r.right.condition,r.right.negative,t):(r=r.right,this._applyFilter(n,r,t))),o.operator==="&"?(o.result=!0,o.left&&(o.result=o.result&&o.left.result),o.right&&(o.result=o.result&&o.right.result)):(o.result=!1,o.left&&(o.result=o.result||o.left.result),o.right&&(o.result=o.result||o.right.result)),o.result}return!0}createTree(n,e){if(e){let t=this._createFilterNode(),o=t,r=null,s=!1;for(let a=0;a<e.length;a++)this._isFilterCondition(e[a])?this._setFilterNode(o,n,e[a],s):e[a]==="&"||e[a]==="|"?(s=!1,o.operator=e[a]):e[a]==="!"?s=!0:e[a]==="("?(s=!1,(r=this._createFilterNode()).parent=o,o=r):e[a]===")"&&(s=!1,o.parent&&(o.parent.left?o.parent.right||(o.parent.right=o):o.parent.left=o),o=o.parent);return t}return null}match(n,e,t,o,r){if(Array.isArray(e))return r||(r=this.createTree(e,o)),this._applyFilter(n,r,t);let s=e?e.negative:!1;return this._getFilterResult(n,e,s,t)}filter(n,e,t,o,r,s){let a=[];if(n&&Array.isArray(n))for(let l=0;l<n.length;l++){let c=e?n[l][e]:n[l];this.match(c,t,s,o,r)&&a.push(n[l])}return a}},F6=gO;var _O=Se`
    .iui-dragwin
    {
        opacity: 0;
        background: -webkit-linear-gradient(white, #F1EFEC);
        background:    -moz-linear-gradient(white, #F1EFEC);
        background:     -ms-linear-gradient(white, #F1EFEC);
        background:      -o-linear-gradient(white, #F1EFEC);
        background :         linear-gradient(white, #F1EFEC);

        background-color: #F1EFEC;
        border: thin solid black;
        border-radius: 3px;
        font-size: var(--iui-dragwin-font-size, 1em);
        margin:0;
        padding: 2px;
        position: absolute;
        box-shadow: 0 0 3px #888888;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        max-width: 200px;
        z-index: 9999999;
    }
    .iui-dragwin-title
    {
        border-left: thin solid #c5c5c5;
        padding: 3px 3px 3px 5px;
        margin: 0 2px 0 0;
        vertical-align: middle;
    }
    .iui-dragwin-icon
    {
        display: inline-block;
        padding: 0;
        margin: 2px 0 3px 2px;
        width: 16px;
        height: 16px;
        vertical-align: middle;
    }
    .iui-dragwin-num
    {
        border-left: thin solid #c5c5c5;
        color: black;
        padding: 3px 3px 3px 5px;
        margin: 0;
        vertical-align: middle;
    }
    .iui-dragwin-move-left
    {
        background-image: url(../../icons/move-left.ico);
    }
    .iui-dragwin-move-up
    {
        background-image: url(../../icons/move-up.ico);
    }
    .iui-dragwin-move-in
    {
        background-image: url(../../icons/move-in.ico);
    }
    .iui-dragwin-move-right
    {
        background-image: url(../../icons/move-right.ico);
    }
    .iui-dragwin-move-down
    {
        background-image: url(../../icons/move-down.ico);
    }
    .iui-dragwin-move-end
    {
        background-image: url(../../icons/move-end.ico);
    }
    .iui-dragwin-move-left-copy
    {
        background-image: url(../../icons/move-left-copy.ico);
    }
    .iui-dragwin-move-up-copy
    {
        background-image: url(../../icons/move-up-copy.ico);
    }
    .iui-dragwin-move-in-copy
    {
        background-image: url(../../icons/move-in-copy.ico);
    }
    .iui-dragwin-move-right-copy
    {
        background-image: url(../../icons/move-right-copy.ico);
    }
    .iui-dragwin-move-down-copy
    {
        background-image: url(../../icons/move-down-copy.ico);
    }
    .iui-dragwin-move-end-copy
    {
        background-image: url(../../icons/move-end-copy.ico);
    }
    .hidden-drag-ghost {
        position: absolute;
        top: 0;
        left: 0;
        visibility: hidden;
    }
`;var L6=Se`
`;var M6=Se`
    .iui-dragwin {
        opacity: 0;
        background: -webkit-linear-gradient(#363636, #303030);
        background:    -moz-linear-gradient(#363636, #303030);
        background:     -ms-linear-gradient(#363636, #303030);
        background:      -o-linear-gradient(#363636, #303030);
        background :         linear-gradient(#363636, #303030);

        background-color: #303030;
        border: thin solid #151515;
        box-shadow: 0 0 3px #151515;
        color: #cccccc;
    }
    .iui-dragwin-title {
        border-left: thin solid #151515;
    }
    .iui-dragwin-num {
        color: #cccccc;
    }
`;var k6=Se`
`;var xb=class extends dh{constructor(){super(),this._commonService=new uh,this._currentDragNum=1,this._currentIconClass="",this._currentPosition={x:0,y:0},this._currentSize={width:0,height:0},this._currentTitle="",this._currentDisplay="block",this._currentControlStyleSettings=_O,this._currentResourcePath="../icons",this._currentCustomStyle={},this._currentTheme=on.None,this._currentThemeSettings=Se``}connectedCallback(){}disconnectedCallback(){}static get properties(){return{colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return Xt.Light;case"dark":return Xt.Dark;default:return Xt.None}},toAttribute:n=>{switch(n){case Xt.Light:return"Light";case Xt.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},display:{type:String,reflect:!0},dragNum:{type:Number,attribute:"drag-num",reflect:!0},iconClass:{type:String,attribute:"icon-class",reflect:!0},position:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},title:{type:String,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return on.Office;case"dark":return on.Dark;default:return on.None}},toAttribute:n=>{switch(n){case on.Office:return"Office";case on.Dark:return"Dark";default:return"None"}}},reflect:!0}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get display(){return this._currentDisplay}set display(n){if(this._currentDisplay!==n){let e=this._currentDisplay;this._currentDisplay=n,this.requestUpdate("display",e)}}get dragNum(){return this._currentDragNum}set dragNum(n){if(this._currentDragNum!==n){let e=this._currentDragNum;this._currentDragNum=n,this.requestUpdate("dragNum",e)}}get iconClass(){return this._currentIconClass}set iconClass(n){if(this._currentIconClass!==n){let e=this._currentIconClass;this._currentIconClass=n,this.requestUpdate("iconClass",e)}}get position(){return this._currentPosition}set position(n){let e=this._currentPosition;this._currentPosition=n,this.requestUpdate("position",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get size(){return this._currentSize}set size(n){let e=this._currentSize;this._currentSize=n,this.requestUpdate("size",e)}get title(){return this._currentTitle}set title(n){if(this._currentTitle!==n){let e=this._currentTitle;this._currentTitle=n,this.requestUpdate("title",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}updatePos(n){n&&(this.dragNum=n.num?n.num:1,this.iconClass=n.class?n.class:"",this.position={x:n.left,y:n.top},this.title=n.text?n.text:"",this.refresh())}_getTitleStyle(){let n={};return this._currentIconClass===""&&(n.border=0),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=Se``,n){case Xt.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(M6.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(k6.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(L6.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){}refresh(){this.update()}render(){return ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-drag-window class="iui-dragwin" style=${Pi({display:this._currentDisplay,top:this._currentPosition.y+"px",left:this._currentPosition.x+"px"})}>                 ${this._currentIconClass!==""?ke`<span class=${tn(this._currentIconClass)}></span>`:ke``}                 <span class="iui-dragwin-title" style=${Pi(this._getTitleStyle())}>${this._currentTitle}</span>                 ${this._currentDragNum>1?ke`<span class="iui-dragwin-num">+${this._currentDragNum-1}</span>`:ke``}             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=Se``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(_O.cssText,"../../icons",n)}};window.customElements.define("iui-dragwin",xb);var N6=xb;var CO=class extends Zc{_init(){super._init(),this._lastUpdate=0,this._updateDelay=100,this._dataService=new hh,this._dragDropService=P6.getInstance(),this._filterService=new F6,this._currentAnimationSpeedValue=400,this._initSuccess=!0,this._isAnimationInProcess=!1,this._isInitActive=!1,this._stackAdd=[],this._stackRemove=[],this._currentDefaultGroupName="other",this._currentGroupBy=null,this._currentGroupList=[],this._currentList=[],this._dataGroups=[],this._dataItems=[],this._fullList=[],this._fullChildList=[],this._fullRemovalList=[],this._scrollItemList=[],this._currentDragDropMode=no.Dynamic,this._dropMarkElem=null,this._dragCmp=null,this._expandItem=null,this._isAutoExpanded=!1,this._dragContentElem=null,this._dragItemList=[],this._dragItemObj=null,this._dragElemPos={top:-9999999,left:0},this._dragElemSize={width:0,height:0},this._dragListPos={top:-9999999,left:0},this._dragListSize={width:0,height:0},this._dragListStartPos={top:-9999999,left:0},this._dragWindow=null,this._dragListIndex=-1,this._dragTargetIndex=-1,this._dragOverStarted=!1,this._currentDragPos={x:0,y:0},this._prevDragPos={x:0,y:0},this._dragMoveSpace=10,this._dropPos=-1,this._cloneElem=null,this._cloneElemStartPos={x:0,y:0},this._expandTimeout=null,this._isCtrlDragEntered=!1,this._isDragActive=!1,this._isDragCopy=!1,this._isDragInside=!1,this._isDragActiveTimeout=null,this._currentDragItems=0,this._maxDragItems=3,this._totalDragItems=0,this._filterParams=null,this._ctrlCursor="default",this._currentContentVisibility=Go.Both,this._hoverItem=null,this._options={allowDrag:!1,allowDrop:!1,currentStyle:null,dataFields:null,selectedItem:null},this._isGroupingEnabled=!1,this._blockHoverRect={height:0,left:0,top:-9999999,width:0},this._blockSelectRect=[],this._blockSelectHeight=0,this._hoverItemObj={data:{}},this._currentFocusObj=null,this._isKeyboardActive=!1,this._avgItemHeight=0,this._blockSize={width:0,height:0},this._contentSize={width:0,height:0},this._ctrlPadding={top:0,right:0,bottom:0,left:0},this._currentIndex=0,this._currentItemSize={width:0,height:0},this._currentItemSpacing=0,this._prevIndex=0,this._isAutoSized=!1,this._isHoverTemplatePresent=!1,this._isSelectedTemplatePresent=!1,this._isUpdateActive=!1,this._prevLongestItemWidth=0,this._longestItemWidth=0,this._longestItemWidthValue="auto",this._requestUpdateLayout=!1,this._virtualization=!0,this._visibleRange=100,this._updateTimer=null,this._isLoading=!1,this._isLoadingEnd=!1,this._loadingEndTimeout=null,this._loadIconPos={top:0,left:0},this._currentMouseWheelSpeed=pr.Normal,this._currentScrollAppearance=nn.Static,this._currentScrollPos={x:0,y:0},this._maxScrollPos={x:0,y:0},this._accelerator=.5,this._isMouseWheelActive=!1,this._isScrollActive=!1,this._isScrollTimerActive=!1,this._isScrollVisible=!0,this._prevScrollPos={x:0,y:0},this._scrollAppearanceTimeout=null,this._scrollBarSize={width:0,height:0},this._scrollCount=0,this._scrollLargeChange={x:0,y:0},this._scrollSize={width:0,height:0},this._scrollSizeAddition=0,this._scrollTimerID=null,this._horScrollOrientation=Jn.Horizontal,this._currentSelection=null,this._currentSelectionMode=Fn.One,this._isItemClicked=!1,this._shiftFirstSelectedItem=null,this._removeIndex=-1,this._currentSelectedItems=[],this._currentCtrlSize={width:0,height:0},this._currentSorting=$s.None,this._sortComparer=null,this._dragListClass={},this._groupClassName="iui-baselistgroup",this._groupContentClassName=this._groupClassName+"-content",this._expandBoxClassName=this._groupClassName+"-expand-box",this._itemClassName="iui-baselistitem",this._itemContentClassName=this.itemClassName+"-content",this._scrollCornerClassName="iui-scrollbar-corner",this._animationCheckTimer=null,this._touchStartPos={x:0,y:0},this._touchEndPos={x:0,y:0}}connectedCallback(){super.connectedCallback(),this._windowDragOver=this._windowDragOver.bind(this),window.addEventListener("dragover",this._windowDragOver),this._windowKeyDown=this._windowKeyDown.bind(this),window.addEventListener("keydown",this._windowKeyDown),this._windowKeyUp=this._windowKeyUp.bind(this),window.addEventListener("keyup",this._windowKeyUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("dragover",this._windowDragOver),window.removeEventListener("keydown",this._windowKeyDown),window.removeEventListener("keyup",this._windowKeyUp),this._clearDragTimeout(),this._clearExpandTimeout(),this._resetAnimationCheckTimer(),this._resetLayoutTimer(),this._resetScrollAppearanceTimeout()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},group:{expandBox:{general:this._expandBoxClassName,expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},general:{disabled:this._groupClassName+"-disabled",focused:this._groupClassName+"-focused",normal:this._groupClassName,hovered:this._groupClassName+"-hovered",selected:this._groupClassName+"-selected"},content:{disabled:this._groupContentClassName+"-disabled",focused:this._groupContentClassName+"-focused",normal:this._groupContentClassName,hovered:this._groupContentClassName+"-hovered",selected:this._groupContentClassName+"-selected"}},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowDrag:{type:Boolean,attribute:"allow-drag",reflect:!0},allowDrop:{type:Boolean,attribute:"allow-drop",reflect:!0},allowFilter:{type:Boolean,attribute:"allow-filter",reflect:!0},animateInit:{type:Boolean,attribute:"animate-init",reflect:!0},contentVisibility:{attribute:"content-visibility",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return Go.None;case"hover":return Go.Hover;case"select":return Go.Select;default:return Go.Both}},toAttribute:n=>{switch(n){case Go.None:return"None";case Go.Hover:return"Hover";case Go.Select:return"Select";default:return"Both"}}},reflect:!0},dataFields:{type:Object,attribute:"data-fields"},dragDropMode:{attribute:"dragdrop-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"popup":return no.Static;default:return Fn.Dynamic}},toAttribute:n=>{switch(n){case no.Static:return"Static";default:return"Dynamic"}}},reflect:!0},focusedItem:{type:Object,attribute:"focused-item"},items:{type:Array},itemSpacing:{type:Number,attribute:"item-spacing",reflect:!0},mouseWheelSpeed:{attribute:"mousewheel-speed",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"veryslow":return pr.VerySlow;case"slow":return pr.Slow;case"fast":return pr.Fast;case"veryfast":return pr.VeryFast;default:return pr.Normal}},toAttribute:n=>{switch(n){case pr.VerySlow:return"VerySlow";case pr.Slow:return"Slow";case pr.Fast:return"Fast";case pr.VeryFast:return"VeryFast";default:return"Normal"}}},reflect:!0},scrollAppearance:{attribute:"scroll-appearance",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?nn.Dynamic:nn.Static,toAttribute:(n,e)=>n===nn.Dynamic?"Dynamic":"Static"},reflect:!0},selectedItem:{type:Object,attribute:"selected-item"},selectionMode:{attribute:"selection-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return Fn.None;case"multisimple":return Fn.MultiSimple;case"multiextended":return Fn.MultiExtended;default:return Fn.One}},toAttribute:n=>{switch(n){case Fn.None:return"None";case Fn.MultiSimple:return"MultiSimple";case Fn.MultiExtended:return"MultiExtended";default:return"One"}}},reflect:!0},showScroll:{type:Boolean,attribute:"show-scroll",reflect:!0},sorting:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"ascending":return $s.Ascending;case"descending":return $s.Descending;default:return $s.None}},toAttribute:n=>{switch(n){case $s.Ascending:return"Ascending";case $s.Descending:return"Descending";default:return"None"}}},reflect:!0},virtualMode:{type:Boolean,attribute:"virtual-mode",reflect:!0}}}set allowDrag(n){if(this._options.allowDrag!==n){let e=this._options.allowDrag;this._options.allowDrag=n,this.requestUpdate("allowDrag",e)}}set allowDrop(n){if(this._options.allowDrop!==n){let e=this._options.allowDrop;this._options.allowDrop=n,this.requestUpdate("allowDrop",e)}}set allowFilter(n){if(this._options.allowFilter!==n){let e=this._options.allowFilter;this._options.allowFilter=n,this.requestUpdate("allowFilter",e)}}get allowFocus(){return this._options.allowFocus}set allowFocus(n){if(this._options.allowFocus!==n){let e=this._options.allowFocus;this._options.allowFocus=n,n||(this._currentFocusObj=null),this.refresh(),this.requestUpdate("allowFocus",e)}}get animateInit(){return this._isInitActive}set animateInit(n){if(this._isInitActive!==n){let e=this._isInitActive;this._isInitActive=n,this.requestUpdate("animateInit",e)}}get dataFields(){return this._options.dataFields}set dataFields(n){let e=this._options.dataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get focusedItem(){return this._currentFocusObj?this._currentFocusObj.data:null}set focusedItem(n){let e=this.allowFocus&&!this._currentFocusObj,t=this.allowFocus&&this._currentFocusObj&&this._currentFocusObj.data!==n;if(e||t){let o=this._currentFocusObj?this._currentFocusObj.data:null;this._currentFocusObj=this._getObjFromItem(n),this._updateFocusItem(),this.selectedItem!==n&&this._processSelection(null,n),this.requestUpdate("focusedItem",o),this.refresh()}}get contentVisibility(){return this._currentContentVisibility}set contentVisibility(n){if(this._currentContentVisibility!==n){let e=this._currentContentVisibility;this._currentContentVisibility=n,this.requestUpdate("contentVisibility",e)}}get dragDropMode(){return this._currentDragDropMode}set dragDropMode(n){if(this._currentDragDropMode!==n){let e=this._currentDragDropMode;this._currentDragDropMode=n,this.requestUpdate("dragDropMode",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;e.length===0&&(this._initSuccess=!1),this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get itemSpacing(){return this._currentItemSpacing}set itemSpacing(n){let e=this._currentItemSpacing;this._currentItemSpacing=n,this.requestUpdate("itemSpacing",e)}get mouseWheelSpeed(){return this._currentMouseWheelSpeed}set mouseWheelSpeed(n){if(this._currentMouseWheelSpeed!==n){let e=this._currentMouseWheelSpeed;this._currentMouseWheelSpeed=n,this.requestUpdate("mouseWheelSpeed",e)}}get scrollAppearance(){return this._currentScrollAppearance}set scrollAppearance(n){if(this._currentScrollAppearance!==n){let e=this._currentScrollAppearance;this._currentScrollAppearance=n,this._isScrollVisible=this._currentScrollAppearance!==nn.Dynamic,this.requestUpdate("scrollAppearance",e),this._internalUpdateLayout()}}get showScroll(){return this._options.showScroll}set showScroll(n){let e=this._options.showScroll;this._updateShowScroll(n),this.requestUpdate("showScroll",e)}get selectedItem(){return this._currentSelection}set selectedItem(n){if(this._currentSelection!==n){let e=this._currentSelection,t=this,o=setTimeout(function(){t._processSelection(null,n),t.requestUpdate("selectedItem",e),clearTimeout(o)},1)}}get selectionMode(){return this._currentSelectionMode}set selectionMode(n){if(this._currentSelectionMode!==n){let e=this,t=e._currentSelectionMode;e._currentSelectionMode=n,e._clearPrevSelection(e._currentSelectionMode!==Fn.None?e._currentSelection:null);let o=setTimeout(function(){e.refresh(),e._currentSelectionMode===Fn.None&&(e._currentSelection=null),e._invokeEvent("selectionChanged",{item:e._currentSelection}),e.requestUpdate("selectionMode",t),clearTimeout(o)},1)}}get sorting(){return this._currentSorting}set sorting(n){if(this._currentSorting!==n){let e=this._currentSorting;this._currentSorting=n,this.requestUpdate("sorting",e)}}get virtualMode(){return this._virtualization}set virtualMode(n){if(this._virtualization!==n){let e=this._virtualization;this._virtualization=!0,this.requestUpdate("virtualMode",e),this._internalUpdateLayout()}}addItem(n,e){return he(this,null,function*(){return this._callEventAdd("add",n,-1,e)})}_addItemToList(n,e,t,o,r,s){let a=this,l=!0,c=-1,u=a._dragDropService.getData();if(a._isAnimationAllowed&&!u.source){let g=a._currentList.length,_=[],C=null,w=null;switch(c=a._scrollItemList.length,n){case"at":g=t,o?_=a._currentList.filter(S=>S.data.type!=="group"&&S.data[a._options.dataFields.pid]===o[a._options.dataFields.id]):_=a._currentList.filter(S=>S.data.type!=="group"&&!S.data[a._options.dataFields.pid]),a._commonService.isIndexInRange(g,_)?(C=a._getObjFromScrollItem(_[g].data),c=a._getItemScrollIndex(C)):_.length>0?(C=a._getObjFromScrollItem(_[_.length-1].data))?c=a._getItemScrollIndex(C)+1:c=-1:o&&(c=0);break;case"ref":if(r){let S=a._getObjFromScrollItem(r);S?(c=a._scrollItemList.indexOf(S),s&&(w=a._getLastChildItemFromExpanded(r))&&(c=(C=a._getObjFromScrollItem(w))?a._getItemScrollIndex(C)+1:-1)):l=!1}break;default:o&&(w=a._getLastChildItemFromExpanded(o))&&(c=(C=a._getObjFromScrollItem(w))?a._getItemScrollIndex(C)+1:-1)}c<0&&(l=!1)}switch(n){case"at":for(let _=e.length-1;_>=0;_--)a._dataService.insert(e[_],t,o);break;case"ref":let g=s?e.toReversed():e;for(let _=0;_<g.length;_++)a._dataService.insertByRef(g[_],r,s);break;default:for(let _=0;_<e.length;_++)a._dataService.insert(e[_],-1,o)}return{animateAllowed:l,scrollIndex:c,addAllowed:!0}}clearItems(n){return he(this,null,function*(){let e=this;return n||(e._currentSelectedItems.length=0,e._currentSelection=null),e._callEventClear(n)})}insertItemAt(n,e,t){return he(this,null,function*(){return this._callEventAdd("at",n,e,t)})}insertItemBefore(n,e){return he(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e)})}insertItemAfter(n,e){return he(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e,!0)})}removeItem(n){return he(this,null,function*(){return this._callEventRemove(n)})}removeItemAt(n,e){return he(this,null,function*(){return this._callEventRemove(null,n,e)})}_callEventAdd(n,e,t,o,r,s){return he(this,null,function*(){let a=this,l=a._dragDropService.getData();return!a._isAnimationAllowed||l.source?a._processAddItemGeneral(n,e,t,o,r,s):(a._stackAdd.push({type:n,item:e,index:t,parent:o,refItem:r,flag:s}),a._stackAdd.length===1?a._processAddRange(n,e,t,o,r,s):Promise.resolve())})}_callEventClear(n){return he(this,null,function*(){let e=this;return new Promise(t=>{e._isAnimationAllowed&&e._scrollItemList.length>0?(e._isAnimationInProcess=!0,setTimeout(function(){return he(this,null,function*(){yield e._applyScaleAnimation(e._scrollItemList),e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),e._isAnimationInProcess=!1,t()})},1)):e._isUpdateAllowed?setTimeout(function(){return he(this,null,function*(){e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),t()})},1):(e._dataService.clear(n),e._invokeEvent("clear",{parent:n}),t())})})}_callEventRemove(n,e,t){return he(this,null,function*(){let o=this,r=o._dragDropService.getData();return!o._isAnimationAllowed||r.source?o._processRemoveItemGeneral(n,e,t):(o._stackRemove.push({item:n,index:e,parent:t}),o._stackRemove.length===1?o._processRemoveRange(n,e,t):Promise.resolve())})}_processAddItemGeneral(n,e,t,o,r,s){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:o}).cancel!==!0){let c=Array.isArray(e)?e:[e];a._addItemToList(n,c,t,o,r,s),a._processItemAdd(e,o);let u=a._dragDropService.getData();u.source?(a._invokeEvent("itemAdded",{index:t,item:e}),l()):a._isUpdateAllowed?setTimeout(function(){return he(this,null,function*(){u.source||(a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width),yield a._processUpdateCurrentLayout()),a._invokeEvent("itemAdded",{index:t,item:e}),l()})},1):(a._invokeEvent("itemAdded",{index:t,item:e}),l())}else l()})}_processItemAdd(n,e){}_processItemRemoval(n,e){}_processRemoveItemGeneral(n,e,t){return he(this,null,function*(){let o=this;return new Promise(r=>{if(o._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){!n&&o._commonService.isIndexInRange(e,o._fullList)&&(n=o._fullList[e]);let s=Array.isArray(n)?n:[n];for(let a=0;a<s.length;a++)o._dataService.removeAt(s[a],e,t);o._processItemRemoval(n,t),n&&n[o._options.dataFields.selected]&&(n[o._options.dataFields.selected]=!1,o._currentSelectedItems=o._currentSelectedItems.filter(a=>a!==n),o._currentSelection&&o._commonService.isEqual(o._currentSelection[o._options.dataFields.id],n[o._options.dataFields.id])&&(o._currentSelection=null),o._invokeEvent("selectionChanged",{item:o._currentSelection})),o._dragDropService.getData().source?(o._invokeEvent("itemRemoved",{index:e,item:n}),r()):o._isUpdateAllowed?setTimeout(function(){return he(this,null,function*(){yield o._processUpdateCurrentLayout(),o._invokeEvent("itemRemoved",{index:e,item:n}),r()})},1):(o._invokeEvent("itemRemoved",{index:e,item:n}),r())}else r()})})}_getLastChildItemFromExpanded(n){let e=this;if(e.isItemExpanded(n)){let t=e._currentList.filter(o=>o.data.type!=="group"&&o.data[e._options.dataFields.pid]===n[e._options.dataFields.id]);if(t.length>0)return e._getLastChildItemFromExpanded(t[t.length-1].data)}return n}_animateCurrentItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animateNewItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animatePosition(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),e&&this._clearInactiveAnimations(),this.update()}_cancelAddProcess(n,e,t,o,r,s){}_processAddRange(n,e,t,o,r,s){return he(this,null,function*(){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:o}).cancel!==!0){let c=Array.isArray(e)?e:[e],u=a._addItemToList(n,c,t,o,r,s);if(u.addAllowed&&u.animateAllowed){a._isAnimationInProcess=!0;let g=u.scrollIndex;a._processItemAdd(c,o),setTimeout(function(){return he(this,null,function*(){a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width,a._updateBlockSize());let _={x:a._ctrlPadding.left,y:a._ctrlPadding.top},C=a._currentItemSize.height>0?a._currentItemSize.height:30,w=[],S=null;g>=0&&g<a._scrollItemList.length?(_={x:(S=a._scrollItemList[g]).position.x,y:S.position.y},yield a._updateCurrentScrollItemPos(g,c.length*a._currentItemSize.height),_.y-=a._currentItemSize.height):a._scrollItemList.length>0&&(_={x:(S=a._scrollItemList[a._scrollItemList.length-1]).position.x,y:S.position.y});let A=S?S.indent:0;if(o){let D=a._getObjFromItem(o);A=D?D.indent+a._options.indent:A}for(let D=0;D<c.length;D++){a._scrollItemList.length===0&&(_.y-=C);let V={clickPos:{x:0,y:0},data:c[D],indent:A,index:g,inlineStyle:{},position:{x:_.x,y:_.y},showCheckBox:a._isItemCheckBoxAllowed(c[D]),showRadioButton:a._isItemRadioButtonAllowed(c[D]),size:{width:0,height:a._currentItemSize.height},targetPosition:{x:_.x,y:_.y},style:{},tabIndex:0,zIndex:0};a._updateItemStyle(V),a._scrollItemList.splice(g,0,V),a.refresh();let X=Math.max(50,300-50*a._stackAdd.length);a._applyScaleAnimation([V],X,.8,1),yield a._updateNewScrollItemPos(V,X),w.push(V),g++,_.y+=C}a._invokeEvent("itemAdded",{index:t,item:e});let x=Math.max(50,300-50*a._stackAdd.length);setTimeout(function(){if(a._currentList.length===0&&(a._updateCurrentItemSize(),a._updateVisibleRange()),a._updateCurrentList(),a._stackAdd.splice(0,1),a._stackAdd.length>0){let D=a._stackAdd[0];a._processAddRange(D.type,D.item,D.index,D.parent,D.refItem,D.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()},x)})},1)}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let g=a._stackAdd[0];a._processAddRange(g.type,g.item,g.index,g.parent,g.refItem,g.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let c=a._stackAdd[0];a._processAddRange(c.type,c.item,c.index,c.parent,c.refItem,c.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()})})}_updateFullRemovalList(n){let e=this;n.forEach(t=>{e._fullRemovalList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateFullRemovalList(t[e._options.dataFields.items])})}_animateRemove(n,e){n.forEach((t,o)=>{t.element.animateLeft=t.values.animateLeft}),e&&this._clearInactiveAnimations(),this.update()}_animateScale(n,e){n.forEach((t,o)=>{t.element.scale=t.values.scale}),e&&this._clearInactiveAnimations(),this.update()}_applyRemoveAnimation(n,e){return he(this,null,function*(){let t=this._animateRemove.bind(this),o=new nr;this._activeAnimations.push(o);let r=[];for(let s=0;s<n.length;s++){let a=n[s],l={animateLeft:0},c={animateLeft:100};r.push({element:a,current:l,values:c})}return yield o.animate(r,100,e!==void 0?e:200,t),Promise.resolve()})}_applyScaleAnimation(n,e,t,o){return he(this,null,function*(){let r=this._animateScale.bind(this),s=new nr;this._activeAnimations.push(s);let a=[];for(let l=0;l<n.length;l++){let c=n[l],u={scale:t!==void 0?t:1},g={scale:o!==void 0?o:0};a.push({element:c,current:u,values:g})}return yield s.animate(a,0,e!==void 0?e:200,r),Promise.resolve()})}_processRemoveRange(n,e,t){return he(this,null,function*(){let o=this;return new Promise(r=>{if(o._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){if(!n){let a=[];t?a=o._currentList.filter(l=>l.data.type!=="group"&&l.data[o._options.dataFields.pid]===t[o._options.dataFields.id]):a=o._currentList.filter(l=>l.data.type!=="group"&&!l.data[o._options.dataFields.pid]),o._commonService.isIndexInRange(e,a)&&(n=a[e].data)}let s=[];if(n&&(s=Array.isArray(n)?n:[n]),s.length>0)o._isAnimationInProcess=!0,setTimeout(function(){return he(this,null,function*(){o._fullRemovalList.length=0,o._updateFullRemovalList(s);let a=[],l=[...o._scrollItemList],c=0;for(let C=0;C<o._fullRemovalList.length;C++){let w=o._getObjFromScrollItem(o._fullRemovalList[C]);w&&(c++,a.push(w),l=l.filter(S=>S.data!==w.data))}let u=Math.max(50,200-50*o._stackRemove.length);yield o._applyScaleAnimation(a,u,1,.8),yield o._applyRemoveAnimation(a,u),c>0&&o.refresh();let g=!1;for(let C=0;C<s.length;C++){let w=s[C];o._dataService.removeAt(w,e,t),w&&w[o._options.dataFields.selected]&&(w[o._options.dataFields.selected]=!1,o._currentSelectedItems=o._currentSelectedItems.filter(S=>S!==w),o._currentSelection&&o._commonService.isEqual(o._currentSelection[o._options.dataFields.id],w[o._options.dataFields.id])&&(o._currentSelection=null),g=!0)}for(let C=0;C<o._fullRemovalList.length;C++){let w=o._fullRemovalList[C],S=e!==void 0?e:o._fullList.indexOf(w);S>=0&&o._fullList.splice(S,1),(S=o._getItemCurrentIndex(w))>=0&&o._currentList.splice(S,1)}o._processItemRemoval(n,t);let _=Math.max(50,300-50*o._stackRemove.length);if(c>0&&l.length>0){let C={x:o._ctrlPadding.left,y:o._ctrlPadding.top};l.forEach(w=>{w.targetPosition.y=C.y,C.y+=o._currentItemSize.height}),o._repositionItems(l,0,_)}if(c>0&&o._scrollItemList.length>0){let C=[],w=o._scrollItemList.length-1,S=o._scrollItemList[w],A={x:S.position.x,y:S.position.y+o._currentItemSize.height},x=o._currentIndex+o._visibleRange-c;for(let V=0;V<c;V++)if(x+V<o._currentList.length){let X=o._currentList[x+V].data,ee={clickPos:{x:0,y:0},data:X,indent:o._currentList[x+V].indent,index:w+V+1,inlineStyle:{},position:{x:A.x,y:A.y},showCheckBox:o._isItemCheckBoxAllowed(X),showRadioButton:o._isItemRadioButtonAllowed(X),size:{width:0,height:o._currentItemSize.height},targetPosition:{x:A.x,y:A.y},style:{},tabIndex:0,zIndex:0};C.push(ee),o._updateItemStyle(ee),o._scrollItemList.splice(ee.index,0,ee),A.y+=o._currentItemSize.height}o.update();let D=c*o._currentItemSize.height;yield o._moveItemsUpward(o._scrollItemList,w+1,-D,_)}a.forEach(C=>{let w=o._scrollItemList.indexOf(C);w>=0&&o._scrollItemList.splice(w,1)}),o.refresh(),o._invokeEvent("itemRemoved",{index:e,item:n}),g&&o._invokeEvent("selectionChanged",{item:o._currentSelection}),setTimeout(function(){if(o._stackRemove.splice(0,1),o._updateCurrentList(),o._stackRemove.length>0){let C=o._stackRemove[0];o._processRemoveRange(C.item,C.index,C.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()},_)})},1);else if(o._stackRemove.splice(0,1),o._stackRemove.length>0){let a=o._stackRemove[0];o._processRemoveRange(a.item,a.index,a.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()}else if(o._stackRemove.splice(0,1),o._stackRemove.length>0){let s=o._stackRemove[0];o._processRemoveRange(s.item,s.index,s.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()})})}_repositionItems(n,e,t){return he(this,null,function*(){let o=this._animatePosition.bind(this),r=new nr;this._activeAnimations.push(r);let s=[];for(let a=e;a<n.length;a++){let l=n[a],c={top:l.position.y},u={top:l.targetPosition.y};s.push({element:l,current:c,values:u})}return yield r.animate(s,0,t!==void 0?t:250,o),Promise.resolve()})}_updateCurrentScrollItemPos(n,e){return he(this,null,function*(){let t=this,o=t._animateCurrentItemPos.bind(t),r=new nr;t._activeAnimations.push(r);let s=[];for(let a=n;a<t._scrollItemList.length;a++){let l=t._scrollItemList[a],c={top:l.position.y},u={top:l.position.y+e};s.push({element:l,current:c,values:u})}return yield r.animate(s,0,250,o),Promise.resolve()})}_updateNewScrollItemPos(n,e){return he(this,null,function*(){let t=this._animateNewItemPos.bind(this),o=new nr;this._activeAnimations.push(o);let r=[],s=this._currentItemSize.height>0?this._currentItemSize.height:30,a={top:n.position.y},l={top:n.position.y+s};return r.push({element:n,current:a,values:l}),yield o.animate(r,0,e!==void 0?e:200,t),Promise.resolve()})}_updateCtrlSize(n){return he(this,null,function*(){this._clearAnimations(),this._isAnimationInProcess=!0;let e=this._animateSize.bind(this),t=new nr;this._activeAnimations.push(t);let o=[{current:{height:this._currentCtrlSize.height},values:{height:this._clientRect.height}}];return yield t.animate(o,100,n!==void 0?n:250,e),this._isAnimationInProcess=!1,Promise.resolve()})}_animateSize(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height),e&&(t._currentCtrlSize.height=t._clientRect.height,setTimeout(function(){t._clearInactiveAnimations()},1)),t.update()}_animateToggle(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height,n.forEach((o,r)=>{o.element.position={x:o.element.position.x,y:o.values.top}})),e&&(t._currentCtrlSize.height=t._clientRect.height,t._clearInactiveAnimations()),t.update()}_moveItemsDownward(n,e,t){return he(this,null,function*(){let o=this,r=o._animateToggle.bind(o),s=new nr;o._activeAnimations.push(s);let a=[];for(let l=e;l<n.length;l++){let c=n[l],u={top:c.position.y,height:o._currentCtrlSize.height},g={top:t!=null?c.position.y+t:c.targetPosition.y,height:o._clientRect.height};a.push({element:c,current:u,values:g})}return yield s.animate(a,0,250,r),Promise.resolve()})}_moveItemsUpward(n,e,t,o){return he(this,null,function*(){let r=this,s=r._animateToggle.bind(r),a=new nr;r._activeAnimations.push(a);let l=[];for(let c=e;c<n.length;c++){let u=n[c],g={top:u.position.y,height:r._currentCtrlSize.height},_={top:t!=null?u.position.y+t:u.targetPosition.y,height:r._clientRect.height};l.push({element:u,current:g,values:_})}return yield a.animate(l,0,o!==void 0?o:250,s),Promise.resolve()})}_updateItemCollapse(n){return he(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){e._updateItemStyle(t);let o=e._scrollItemList.indexOf(t);if(o<e._scrollItemList.length){let r=e._scrollItemList[o];e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let s=e._fullChildList.length;if(e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length-s)*e._avgItemHeight,o<e._scrollItemList.length-1){let c=[],u=e._scrollItemList.length-1,g=e._scrollItemList[e._scrollItemList.length-1],_={x:g.position.x,y:g.position.y+e._currentItemSize.height},C=e._getItemCurrentIndex(g.data);if(C>=0){let S=C+1;for(let A=0;A<s&&A+S<e._currentList.length;A++){let x=e._currentList[A+S],D={clickPos:{x:0,y:0},data:x.data,indent:x.indent,index:A+u+1,inlineStyle:{},position:{x:_.x,y:_.y},showCheckBox:e._isItemCheckBoxAllowed(x.data),showRadioButton:e._isItemRadioButtonAllowed(x.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:_.x,y:_.y},style:{},tabIndex:0,zIndex:0};c.push(D),e._updateItemStyle(D),e._scrollItemList.splice(D.index,0,D),_.y+=e._currentItemSize.height}e.update()}let w=s*e._currentItemSize.height;e._moveItemsUpward(e._scrollItemList,o+s,-w)}let a=[],l=0;for(let c=o+1;c<e._scrollItemList.length&&l<s;c++,l++){let u=e._scrollItemList[c];u.targetPosition={x:r.position.x,y:r.position.y},a.push(u)}yield e._moveItemsUpward(a,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_updateChildList(n,e){let t=this;n.forEach(o=>{if(t._isItemAllowed(o)){let r=e+t._options.indent;t._fullChildList.push({data:o,indent:r}),o[t._options.dataFields.items]&&t.isItemExpanded(o)&&t._updateChildList(o[t._options.dataFields.items],r)}})}_updateItemExpand(n){return he(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){let o=e._scrollItemList.indexOf(t);if(o<e._scrollItemList.length){let r=e._scrollItemList[o],s={x:r.position.x,y:r.position.y};e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let a=e._fullChildList.length;if(o<e._scrollItemList.length-1){let c=a*e._currentItemSize.height;e._moveItemsDownward(e._scrollItemList,o+1,c)}let l=[];e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length+a)*e._avgItemHeight;for(let c=0;c<e._fullChildList.length;c++){let u=e._fullChildList[c],g={clickPos:{x:0,y:0},data:u.data,indent:u.indent,index:c+o,inlineStyle:{},position:{x:s.x,y:s.y},showCheckBox:e._isItemCheckBoxAllowed(u.data),showRadioButton:e._isItemRadioButtonAllowed(u.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:s.x,y:s.y+(c+1)*e._currentItemSize.height},style:{},tabIndex:0,zIndex:0};l.push(g),e._updateItemStyle(g),e._scrollItemList.splice(g.index,0,g)}yield e._moveItemsDownward(l,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_animateItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.values.left,y:t.element.position.y}}),this.update(),e&&this._clearInactiveAnimations()}_isInitAnimationAllowed(){return this._isAnimationAllowed&&this._isInitActive&&!this._initSuccess}_updateScrollItemPos(){return he(this,null,function*(){let n=this;if(n._isInitAnimationAllowed()){let e=n._animateItemPos.bind(n),t=new nr;n._activeAnimations.push(t);let o=[];n._scrollItemList.forEach((r,s)=>{let a={left:r.position.x},l={left:r.targetPosition.x};o.push({element:r,current:a,values:l})}),yield t.animate(o,0,250,e),n.refresh()}return n._initSuccess=!0,Promise.resolve()})}_itemClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemClick",{event:n,item:e.data})}_itemDblClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemDblClick",{event:n,item:e.data})}_itemRightClickEvent(n,e){this._isEnabled&&this._invokeEvent("itemRightClick",{event:n,item:e.data})}_processLoadData(n,e,t,o){return he(this,null,function*(){yield this.clearItems(e),this._updateDataFields(t);let r=[];if(n)if(o||o===void 0){let s=[];n.forEach((a,l)=>{a[this._options.dataFields.items]=[];let c=a[this._options.dataFields.pid];s[c]?(s[c][this._options.dataFields.items]||(s[c][this._options.dataFields.items]=[]),s[a[this._options.dataFields.id]]=a,s[c][this._options.dataFields.items].push(a)):(s[a[this._options.dataFields.id]]=a,r.push(a))}),s.length=0}else r=n;return e?(r.map(s=>s[this._options.dataFields.pid]=e[this._options.dataFields.id]),e[this._options.dataFields.items]=r):this.items&&(this.items.length=0,r.map(s=>this.items.push(s))),this._invokeEvent("loadComplete"),this._internalUpdateLayout(),Promise.resolve()})}_updateData(){this._dataService.init([{data:this.items}])}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",childCount:n.childCount?n.childCount:"childCount",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",group:n.group?n.group:"group",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",name:n.name?n.name:"name",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",canSelect:"canSelect",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",childCount:"childCount",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",enabled:"enabled",expanded:"expanded",group:"group",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",name:"name",objects:"items",pid:"pid",radioGroup:"radioGroup",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),allowFocus:this._commonService.isFieldAvailable(n.allowFocus,!1),dataFields:null,selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,allowFocus:!1,dataFields:null,selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_resetScrollItemList(){this._scrollItemList.length=0,this.update()}_updateScrollItemList(n){this._resetScrollItemList()}_updateShowScroll(n){n?this._options.showScroll={horizontal:this._commonService.isFieldAvailable(n.horizontal,!0),vertical:this._commonService.isFieldAvailable(n.vertical,!0)}:this._options.showScroll={horizontal:!0,vertical:!0}}_isItemCheckBoxAllowed(n){return!1}_isItemRadioButtonAllowed(n){return!1}_addDropMark(n){this._removeDropMark(),(this._currentDragDropMode!==no.Dynamic||this._dragItemObj!==null)&&(this._dragCmp=document.createElement("iui-dragwin",{is:N6}),this._dragCmp&&(this._dragCmp.colorScheme=this._currentColorScheme,this._dragCmp.customStyle=this.customStyle,this._dragCmp.resourcePath=this.resourcePath,this._dragCmp.theme=this._currentTheme,document.body.appendChild(this._dragCmp),this._dragCmp.refresh()))}_removeDropMark(){this._dragCmp&&this._dragCmp.remove(),this._dragCmp=null}_calcDragMoveSpace(){return Math.floor(.4*this._currentItemSize.height)}_callDragDropEvent(n,e,t){let o={action:e.action,cancel:!1,dragObj:e.source,dropPos:e.dropPos,event:n,isDropAllowed:e.allow,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:e.targetCtrl,targetObj:e.target};return t?this._invokeEvent("dragDrop",o):this._invokeEvent("dragOver",o),o}_checkEmptySpace(n){let e=this._getContentSize(),t=this._commonService.getPageRect(this._elemRef),o=t.top+e.height,r=t.bottom,s=this._commonService.getMousePos(n),a=this._commonService.getShiftPos();return s.x-=a.x,s.y-=a.y,s.y>=o&&s.y<=r}_clearDragActive(){let n=this;n._isDragActiveTimeout=setTimeout(function(){n._isDragActive=!1,clearTimeout(n._isDragActiveTimeout)},100)}_clearDragTimeout(){this._isDragActiveTimeout&&clearTimeout(this._isDragActiveTimeout),this._isDragActiveTimeout=null}_clearDragDropSettings(n){n&&this._dragDropService.clearData(),this._dragItemList.length=0,this._dragItemObj=null,this._dragOverStarted=!1,this._dropPos=-1,this._hoverItem=null,this._isDragCopy=!1,this._scrollSizeAddition=0,this._removeDropMark(),this._resetDragListPos()}_clearExpandTimeout(){this._expandTimeout&&clearTimeout(this._expandTimeout),this._expandTimeout=null}_ctrlDragEnd(n){this._removeDropMark();let e=this._dragDropService.getData();e.targetCtrl&&e.targetCtrl.removeDropMark&&e.targetCtrl.removeDropMark(),this._itemDragEnd(n,null)}_ctrlDragEnter(n){this._isEnabled&&this._processDragEnter(n)}_ctrlDragDrop(n){this._isEnabled&&(this._currentDragDropMode===no.Static?(this._processDragDropStatic(n),this._removeDropMark()):this._processDragDropDynamic(n),n.stopPropagation())}_ctrlDragLeave(n){this._isEnabled&&this._processDragLeave(n)}_ctrlDragOver(n){this._isEnabled&&(this._currentDragDropMode===no.Static?(this._processDragOverStatic(n),n.stopPropagation()):this._options.allowDrop?(this._processScroll(n),this._isScrollTimerActive?this._updateDragListPos(n):this._processDragOverDynamic(n)):this._isDragActive&&this._dragItemObj&&(this._dragDropService.getData().targetCtrl?this._dropMark(n):(this._updateDropMark(n),n.stopPropagation())))}_dropMark(n,e,t){if(!this._dragCmp&&!this._isScrollTimerActive&&this._addDropMark({x:n.pageX,y:n.pageY}),this._dragCmp){let o="none";(t||this._options.allowDrop)&&(o=e?"block":"none"),this._dragCmp.display=o,this._dragCmp.refresh()}}_expandOnDelay(n){let e=this;e._isAutoExpanded!==!1&&n&&(e._expandItem!==n&&(e._clearExpandTimeout(),e._expandTimeout=setTimeout(function(){e._expandTimeout&&e.expand(n),clearTimeout(e._expandTimeout)},this._currentDragDropMode===no.Dynamic?750:500)),e._expandItem=n)}_updateDragComponent(n){this._dragCmp&&this._dragCmp.updatePos(n)}_isDragAllowed(n){return this._options.allowDrag?!!(n&&(n[this._options.dataFields.allowDrag]||n[this._options.dataFields.allowDrag]===void 0)):!1}_isDropAllowed(n,e,t){let o=this._options.allowDrop;if(o&&n&&e)if(e[this._options.dataFields.allowDrop]||e[this._options.dataFields.allowDrop]===void 0){o=!0;let r=!1;if(Array.isArray(n))for(let s=0;s<n.length;s++){if(r=!!(t===0&&this._isParentOf(e,n[s])),this._commonService.isEqual(n[s][this._options.dataFields.id],e[this._options.dataFields.id])||r||this._isChildOf(e,n[s])){o=!1;break}if(!o)break}else r=!!(t===0&&this._isParentOf(e,n)),(this._commonService.isEqual(n[this._options.dataFields.id],e[this._options.dataFields.id])||r||this._isChildOf(e,n))&&(o=!1)}else o=!1;return o}_processDragStartStatic(n,e){if(this._dragDropService.clearData(),this._isDragAllowed(e)){if(e)if(!this._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let t={clone:null,source:null,sourceCtrl:this,sourceData:this.items};switch(this.selectionMode){case Fn.MultiSimple:case Fn.MultiExtended:t.clone=this._createCloneList(this._currentSelectedItems,!0),t.source=this._currentSelectedItems;break;default:t.clone=this._createCloneList([e],!0)[0],t.source=e}let o={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:t.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:null};if(this._invokeEvent("dragStart",o),o.cancel===!0){n.preventDefault();return}else this._isDragActive=!0,this._addDropMark({x:n.pageX,y:n.pageY}),this._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")),this._dragDropService.setData(t)}}else n.preventDefault()}_processDragStartDynamic(n,e,t){let o=this;if(o._dragDropService.clearData(),o._isDragAllowed(e)){if(e)if(!o._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let s={clone:null,source:null,sourceCtrl:o,sourceData:o.items};switch(o.selectionMode){case Fn.MultiSimple:case Fn.MultiExtended:s.clone=o._createCloneList(o._currentSelectedItems,!0),s.source=o._currentSelectedItems;break;default:s.clone=o._createCloneList([e],!0)[0],s.source=e}let a={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:s.source,dropPos:-1,event:n,isDropAllowed:o._options.allowDrop,mousePos:o._commonService.getMousePos(n),sourceCtrl:s.sourceCtrl,targetCtrl:o,targetObj:null};if(o._invokeEvent("dragStart",a),a.cancel===!0){n.preventDefault();return}else{o._isAnimationInProcess=!0,o._isCtrlDragEntered=!0,o._isDragActive=!0,o._dragOverStarted=!1,o._isMouseEnterAllowed=!1;let l=o._getObjFromScrollItem(e);if(l){o._updateDragItemList(s);let c=o._commonService.getShiftPos(),u=o._commonService.getMousePos(n);u.x-=c.x,u.y-=c.y,o._dragElemPos.top=t.client.y,o._dragElemSize={width:t.page.width,height:t.page.height},o._dragItemObj=l,o._dragListStartPos.top=u.y-t.page.y,o._dragListStartPos.left=u.x-t.page.x,o._currentDragPos=o._commonService.getMousePos(n),o._prevDragPos=o._commonService.getMousePos(n);let g=Array.isArray(s.source)?s.source.length:1;o._currentDragItems=Math.min(o._maxDragItems,g),o._totalDragItems=g,o._dropPos=-1,o._dragMoveSpace=o._calcDragMoveSpace(),o.update(),o._updateDragListSize(),o._dragListIndex=o._scrollItemList.indexOf(l);let _=o._scrollItemList.filter(w=>!o._isItemDragged(w.data));o._isGroupingEnabled&&(_=_.filter(w=>!(w.data.type==="group"&&!w.data.visibleOnDrag)));let C={x:o._ctrlPadding.left,y:o._ctrlPadding.top};for(let w=0;w<_.length;w++){let S=_[w];w===o._dragListIndex&&(C.y+=o._currentItemSize.height),S.position={x:C.x,y:C.y},C.y+=o._currentItemSize.height}o._dragListIndex=-1;var r=document.createElement("span");r.id="drag-ghost",r.style.position="absolute",r.style.top="-1000px",document.body.appendChild(r),n.dataTransfer.setDragImage(r,0,0),r.remove()}o._addDropMark({x:n.pageX,y:n.pageY}),o._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[o._options.dataFields.id]?e[o._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[o._options.dataFields.id]?e[o._options.dataFields.id].toString():"")),o._dragDropService.setData(s)}}}else n.preventDefault()}_preventDrop(n){n.dataTransfer?n.dataTransfer.dropEffect="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.dropEffect="none")}_processDragEnter(n){this._options.allowDrop||this._preventDrop(n),this._currentDragDropMode===no.Static?this._processDragEnterStatic(n):this._processDragEnterDynamic(n)}_processDragEnterStatic(n){if(!this._isCtrlDragEntered){this._isCtrlDragEntered=!0;let e=this._dragDropService.getData(),t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragEnterDynamic(n){if(n.preventDefault(),this._options.allowDrop&&!this._isCtrlDragEntered){this._isCtrlDragEntered=!0,this._isDragActive=!0,this._dropPos=-1,this._dropMark(n),this._updateDragItemList(),this._dragItemObj||(this._dragListStartPos.top=this._currentItemSize.height>0?this._currentItemSize.height/2:10,this._dragListStartPos.left=this._currentItemSize.width>0?this._currentItemSize.width/2:10,this._updateDragListPos(n),this.update());let e=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:e.clone,dropPos:-1,source:e.source,sourceCtrl:e.sourceCtrl,sourceData:e.sourceData,target:null,targetCtrl:this});let t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragLeave(n){this._currentDragDropMode===no.Static?this._processDragLeaveStatic(n):this._processDragLeaveDynamic(n)}_processDragLeaveStatic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();if(t.x-=o.x,t.y-=o.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom){this._isCtrlDragEntered=!1,this._stopScrollTimer();let r=this._dragDropService.getData(),s={action:n.shiftKey?"copy":"move",dragObj:r.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:r.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}this._dropMark(n)}}_processDragLeaveDynamic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();if(t.x-=o.x,t.y-=o.y,t.x<=e.left||t.x>=e.right||t.y<=e.top||t.y>=e.bottom){this._isCtrlDragEntered=!1,this._dragListIndex=-1,this._dropPos=-1,this._resetDragListPos(),this._updateScrollItemList(),this.update(),this._stopScrollTimer();let r=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:r.clone,dropPos:-1,source:r.source,sourceCtrl:r.sourceCtrl,sourceData:r.sourceData,target:null,targetCtrl:null});let s={action:n.shiftKey?"copy":"move",dragObj:r.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:r.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}}}_processDragOverStatic(n,e,t,o,r){n.preventDefault(),this._processDragEnter(n);let s=!0;if(n.dataTransfer?s=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(s=n.originalEvent.dataTransfer.effectAllowed!=="none"),s){let a=this._dragDropService.getData(),l=this._commonService.getShiftPos();if(e){let c=this._commonService.getMousePos(n);c.x-=l.x,c.y-=l.y;let u=this._dragDropService.getDropPos(c,t,o,r);s=this._isDropAllowed(a.source,e,u);let g={action:n.shiftKey?"copy":"move",source:a.source,dropPos:u,allow:s,sourceCtrl:a.sourceCtrl,target:e,targetCtrl:this},_=this._callDragDropEvent(n,g);if(!s||_.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let C=this._commonService.getMousePos(n),w=C.y+16,S=C.x+20,A={"iui-dragwin-icon":!0},x="";switch(_.dropPos){case 0:x="iui-dragwin-move-in";break;case 1:r==="horizontal"?x="iui-dragwin-move-left":x="iui-dragwin-move-up";break;case 2:r==="horizontal"?x="iui-dragwin-move-right":x="iui-dragwin-move-down";break;default:x=""}x!==""&&(_.action==="copy"&&(x+="-copy"),A[x]=!0),this._updateDragComponent({class:A,top:w,left:S,text:e[this._options.dataFields.text]}),this._dropMark(n,s),this._dragDropService.setData({action:_.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:e,targetCtrl:this,dropPos:_.dropPos})}}else if(!this._options.allowDrop)this._preventDrop(n),this._dropMark(n);else{s=this._checkEmptySpace(n);let c={action:n.shiftKey?"copy":"move",source:a.source,dropPos:-1,allow:s,sourceCtrl:a.sourceCtrl,target:null,targetCtrl:this},u=this._callDragDropEvent(n,c);if(!s||u.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let g=this._commonService.getMousePos(n),_=g.y+16,C=g.x+20,w={"iui-dragwin-icon":!0,"iui-dragwin-move-end":!0};u.action==="copy"&&(w["iui-dragwin-move-end-copy"]=!0),this._updateDragComponent({class:w,top:_,left:C,text:this.name?this.name:"Component"}),this._dropMark(n,s),this._dragDropService.setData({action:u.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:null,targetCtrl:this,dropPos:u.dropPos})}}}}_processDragDropStatic(n,e){n.preventDefault(),this._dropMark(n);let t=!0;n.dataTransfer?t=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(t=n.originalEvent.dataTransfer.effectAllowed!=="none");let o=this._dragDropService.getData();if(t)if(e?t=this._isDropAllowed(o.source,e,o.dropPos):t=this._checkEmptySpace(n),t&&o.source){let r={action:o.action,source:o.source,dropPos:o.dropPos,allow:t,sourceCtrl:o.sourceCtrl,target:o.target,targetCtrl:this},s=this._callDragDropEvent(n,r,!0);this._dragDropService.setData({action:s.action,clone:o.clone,dropPos:s.dropPos,source:o.source,sourceCtrl:o.sourceCtrl,sourceData:o.sourceData,target:o.target,targetCtrl:this}),!s.cancel&&this._isProcessAllowed?this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();this._clearDragDropSettings(),this.update()}_processDragOverDynamic(n){n.preventDefault(),this._processDragEnter(n);let e=!0;if(n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none"),e){let t=this._dragDropService.getData();if(this._isAnimationInProcess=!0,this._dragOverStarted){this._updateDragListPos(n),this._currentDragPos=this._commonService.getMousePos(n);let o=this._scrollItemList,r=this._getDragDropTarget(e),s=r.target?r.target.data:null;e=r.pass&&this._options.allowDrop,this._dragTargetIndex>=0&&this._dragTargetIndex<o.length&&(s=o[this._dragTargetIndex].data),this._dropPos===0&&this._expandOnDelay(s);let a={action:n.shiftKey?"copy":"move",source:t.source,dropPos:s?this._dropPos:-1,allow:e,sourceCtrl:t.sourceCtrl,target:s,targetCtrl:this};this._isDragCopy=!!n.shiftKey;let l=this._callDragDropEvent(n,a);!e||l.cancel===!0?this._preventDrop(n):(this._updateDragItemPos(),this._dragDropService.setData({action:l.action,clone:t.clone,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:s,targetCtrl:this,dropPos:l.dropPos})),this._prevDragPos=this._commonService.getMousePos(n),this.update()}else{this._dragItemList.forEach(r=>r.data[this._options.dataFields.expanded]=!1);let o=this._dragItemObj?this.getNextCurrentItem(this._dragItemObj.data):null;for(;o&&this._isItemDragged(o);)o=this.getNextCurrentItem(o);this._processUpdateCurrentLayout(),this._dragItemObj&&this.isItemExpanded(this._dragItemObj.data)&&this.collapse(this._dragItemObj.data),this._scrollSizeAddition=0,t.sourceCtrl!==this?this._scrollSizeAddition=this._dragListSize.height:this._dragItemObj&&this._dragItemObj.position.y+this._currentScrollPos.y+this._dragListSize.height<this._maxScrollPos.y&&(this._scrollSizeAddition=this._dragListSize.height),this._updateScrollSize(),this._dragOverStarted=!0,this._updateScrollItemList(o),this.update(),this._dragListIndex=-1}}}_resetDragListPos(){this._dragListPos={top:-9999999,left:0}}_updateDragListPos(n){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let o=this._commonService.getPageRect(this._elemRef);this._dragListPos.top=t.y-o.y-this._dragListStartPos.top,this._dragListPos.left=t.x-o.x-this._dragListStartPos.left}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let o=this._scrollItemList.length-1;o>=0;o--){let r=this._scrollItemList[o];if(e=r.data,this._dragListPos.top+this._dragListSize.height>r.position.y+this._dragMoveSpace&&(this._dragListIndex=o+1,this._dropPos=2,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=o;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let o=0;o<this._scrollItemList.length;o++){let r=this._scrollItemList[o];if(e=r.data,this._dragListPos.top<r.position.y+r.size.height-this._dragMoveSpace&&(this._dragListIndex=o,this._dropPos=1,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=o;break}}return{pass:n,target:e}}_updateDragItemPos(){if(this._dragListIndex>=0){let n={x:this._ctrlPadding.left,y:this._ctrlPadding.top},e=0;for(e=0;e<this._scrollItemList.length;e++){let t=this._scrollItemList[e];e===this._dragListIndex&&(n.y+=this._dragListSize.height),e===this._dragTargetIndex&&this._updateDragIndent(this._dropPos>=0?t.indent:0),this._activeAnimations.filter(o=>o.isAnimated(t)).length===0&&this._animateTarget(t,n),n.y+=this.isSeparator(t.data)?15:this._currentItemSize.height}}}_updateDragIndent(n){}_animateTarget(n,e){let t={top:n.position.y,left:n.position.x},o={top:e.y,left:e.x};if(o.top!==t.top||o.left!==t.left){let r=this._updateAnimationValues.bind(this),s=new nr(n);this._activeAnimations.push(s),s.animate({element:n,current:t,values:o},0,this._currentAnimationSpeedValue,r)}}_clearTargetAnimation(n){this._activeAnimations.filter(e=>e.isAnimated(n)).forEach(e=>{e.destroy(),e=void 0}),this._activeAnimations=this._activeAnimations.filter(e=>!e.isAnimated(n))}_updateAnimationValues(n,e,t){n.length>0&&(n.forEach(o=>{o.element&&(o.element.position={x:o.values.left,y:o.values.top},e&&(this._clearTargetAnimation(o.element),this._clearInactiveAnimations()))}),this.update())}_updateDragListSize(){this._dragContentElem=this.shadowRoot.querySelector("#drag-content"),this._dragContentElem&&(this._dragListSize={width:this._dragContentElem.offsetWidth,height:this._dragContentElem.offsetHeight})}_getDragItemExpandBoxStyle(n){return{}}_updateDragItemList(n){this._dragItemList.length=0;let e=n||this._dragDropService.getData();if(e.source){let t=Array.isArray(e.source)?e.source:[e.source];t.forEach(o=>{this._dragItemList.push({data:o,expanded:o[this._options.dataFields.expanded],indent:0,style:{expandBox:this._getDragItemExpandBoxStyle(o)}})}),this._currentDragItems=Math.min(this._maxDragItems,t.length),this._totalDragItems=t.length,this.refresh(),this._updateDragListSize()}}_processDragDropDynamic(n){return he(this,null,function*(){n.preventDefault(),this._dragItemList.forEach(o=>o.data[this._options.dataFields.expanded]=o.expanded),this._updateCurrentLayout(!1),this._dropMark(n),this._dragItemList.length=0,this.update();let e=!0;n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none");let t=this._dragDropService.getData();if(e)if(t.target&&(e=this._isDropAllowed(t.source,t.target)),e&&t.source){let o={action:t.action,source:t.source,dropPos:t.dropPos,allow:e,sourceCtrl:t.sourceCtrl,target:t.target,targetCtrl:this},r=this._callDragDropEvent(n,o,!0);this._dragDropService.setData({action:r.action,clone:t.clone,dropPos:r.dropPos,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:t.target,targetCtrl:this}),!r.cancel&&this._isProcessAllowed?yield this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();return this._clearDragDropSettings(),this.update(),Promise.resolve()})}_drop(n){return he(this,null,function*(){return this._currentDragDropMode===no.Static?this._dropStatic(n):this._dropDynamic(n)})}_dropDynamic(n){return he(this,null,function*(){let e=this;return new Promise(t=>{let o=e.getTopItem(),r=e._getItemCurrentIndex(o),s=0;if(n&&n.sourceCtrl){let a=n.action==="copy"&&n.clone?n.clone:n.source,l=-1;if(Array.isArray(a)){let c=[];a.forEach(u=>{if((l=e._getItemCurrentIndex(u))<r&&(s++,e._isGroupingEnabled)){let g=e._getGroupFromItem(u);g&&!g.visibleOnDrag&&s--}c.push(u)}),n.dropPos===2&&(c=c.toReversed()),e._processDataDrop(c,n)}else{if((l=e._getItemCurrentIndex(a))<r&&(s=1,e._isGroupingEnabled)){let c=e._getGroupFromItem(a);c&&!c.visibleOnDrag&&s--}e._processDataDrop([a],n)}e._isAnimationInProcess=!1,n.sourceCtrl!==n.targetCtrl&&(s=0,e._isDragActive=!1),s=n.action!=="copy"?s:0,e.scrollTo(o,s),e._processUpdateLayout(),e._clearAllSelection(),e.refresh()}e._isAnimationInProcess=!1,setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_dropStatic(n){return he(this,null,function*(){let e=this;return new Promise(t=>{if(n&&n.sourceCtrl){e.suspendLayout();let o=n.action==="copy"&&n.clone?n.clone:n.source;if(Array.isArray(o)){let r=[];for(let s=0;s<o.length;s++)r.push(o[s]);n.dropPos===2&&(r=r.toReversed()),e._processDataDrop(r,n)}else e._processDataDrop([o],n);n.sourceCtrl!==n.targetCtrl&&n.sourceCtrl.updateLayout&&n.sourceCtrl.updateLayout(),e.resumeLayout(),e._clearAllSelection(),e.refresh()}setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_processDataDrop(n,e){return he(this,null,function*(){let t=this;return new Promise(o=>{let r=!0;if(t._currentDragDropMode===no.Dynamic&&e.dropPos<0&&(e.target||t._currentList.length>0)){r=!1;let s=t._commonService.getPageRect(t._elemRef),a=t._commonService.getShiftPos(),l=t._currentDragPos.y-a.y-s.top,c=t._scrollItemList[t._scrollItemList.length-1];c&&l>=c.position.y+c.size.height&&l<=s.height&&(r=!0)}if(r){if(e.action!=="copy"&&e.sourceCtrl&&e.sourceCtrl.removeItem&&e.sourceCtrl.removeItem(n),t._isGroupingEnabled&&e.dropPos>0&&e.target){let s=e.target[t._options.dataFields.group];if(e.target.type==="group"){let a=e.dropPos===1?t.getPrevObj(e.target,t._currentGroupList):e.target;if(s=a?a[t._options.dataFields.name]:void 0,a){let l=t._currentGroupBy?t._currentGroupBy:t._options.dataFields.group,c=t._fullList.filter(u=>u[l]===a[t._options.dataFields.name]&&t._isItemAllowed(u));c.length>0&&(e.dropPos===1?(e.target=c[c.length-1],e.dropPos=2):(e.target=c[0],e.dropPos=1))}else e.dropPos=-1}n.forEach(a=>a[t._options.dataFields.group]=s)}switch(e.dropPos){case 0:t.insertItemAt(n,t._currentDragDropMode===no.Dynamic?0:-1,e.target);break;case 1:t.insertItemBefore(n,e.target);break;case 2:t.insertItemAfter(n,e.target);break;default:t.addItem(n)}}else o()})})}_itemDragStart(n,e,t){if(this._isEnabled)if(this._currentDragDropMode===no.Static)this._processDragStartStatic(n,e.data);else{let o=this._getItemElemList();if(o&&t>=0&&t<o.length){let r=this._commonService.getPageRect(o[t]),s={x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},a={x:(r=this._commonService.getClientRect(this._elemRef,o[t])).left,y:r.top,width:r.right-r.left,height:r.bottom-r.top};this._processDragStartDynamic(n,e.data,{page:s,client:a})}}n.stopPropagation()}_itemDragOver(n,e,t,o){if(this._isEnabled&&this._currentDragDropMode===no.Static&&this._options.allowDrop){let r=this._getItemElemList();if(r&&t>=0&&t<r.length){let s=this._commonService.getPageRect(r[t]),a={x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top};this._expandOnDelay(e.data),this._processScroll(n),this._isScrollTimerActive||this._processDragOverStatic(n,e.data,a,o)}n.stopPropagation()}}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===no.Static&&(this._processDragDropStatic(n,e.data),n.stopPropagation())}_itemDragEnd(n,e){let t=this._dragDropService.getData(),o={action:n.shiftKey?"copy":"move",dragObj:t.source,dropPos:t.dropPos,event:n,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:t.target};this._invokeEvent("dragEnd",o),this.updateLayout(),this._clearDragDropSettings(),this._isAnimationInProcess=!1}_updateDropMark(n){let e=this._commonService.getMousePos(n),t=e.y+16,o=e.x-8,r=this._dragItemObj.data[this._options.dataFields.text];this._updateDragComponent({num:this._totalDragItems,top:t,left:o,text:r}),this._dropMark(n,!0,!0)}_windowDragOver(n){if(this._currentDragDropMode===no.Dynamic&&this._isDragActive&&this._dragItemObj){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();t.x-=o.x,t.y-=o.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom?this._dragDropService.getData().targetCtrl?this._dropMark(n):this._updateDropMark(n):this._dropMark(n)}}exportToJSON(n,e,t,o){t=t||null,n=n||this.items;let r=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.childCount,this._options.dataFields.content,this._options.dataFields.contentVisibility,this._options.dataFields.contextMenu,this._options.dataFields.enabled,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.group,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.name,this._options.dataFields.radioGroup,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return JSON.stringify(n,r,t)}filter(n){this._filterParams=n,this._processUpdateLayout(),this._invokeEvent("filtered")}_clearHoverItem(){let n=this;if(n._hoverItem){let e=setTimeout(function(){let t=n._getObjFromScrollItem(n._hoverItem);n._hoverItem=null,n._updateItemStyle(t),clearTimeout(e)},25)}}cloneItem(n){return this._dataService.clone(n)}_createCloneList(n,e){let t=[];return n.map(o=>{let r=this.cloneItem(o);e&&delete r[this._options.dataFields.selected],t.push(r)}),t}_getFilterTree(n){return n?this._filterService.createTree(n.conditions,n.formula):null}_getGroupFromItem(n){let e=this,t=e._currentGroupBy?e._currentGroupBy:e._options.dataFields.group,o=e._currentGroupList.filter(r=>e._isGroupAllowed(r)&&r[e._options.dataFields.name]===n[t]);return o.length>0?o[0]:null}_getObjFromItem(n){return this._getObjFromList(n,this._currentList)}_getObjFromList(n,e){let t=e.filter(o=>n&&o.data===n);return t.length>0?t[0]:null}_getObjFromScrollItem(n){return this._getObjFromList(n,this._scrollItemList)}_getItemCurrentIndex(n){let e=this._getObjFromItem(n);return n&&e&&this._currentList?this._currentList.indexOf(e):-1}_getItemScrollIndex(n){return n&&this._scrollItemList?this._scrollItemList.indexOf(n):-1}_getItemElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemElemList(),o=this._getItemScrollIndex(e);if(o>=0&&o<t.length)return t[o]}return null}_getItemContentElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemContentElemList(),o=this._getItemScrollIndex(e);if(o>=0&&o<t.length)return t[o]}return null}_getItemElemList(){return this._itemElems?this._itemElems:null}_getItemContentElemList(){return this._itemContentElems?this._itemContentElems:null}getHoverItem(){return this._hoverItem}getList(n,e){let t=[];switch(n){case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(o=>o.data):[];break;default:t=this._dataService.getList(e)}return t}getFullList(){return this._fullList}_updateCurrentList(){}updateFullList(){return this._fullList=[...this._dataService.getList()],this._fullList=this._applySorting(this._fullList),this._fullList}getTopItem(){return this.virtualMode!==!1&&this._scrollItemList.length>0?this._scrollItemList[0].data:null}_isChildOf(n,e){return!1}_isThereNoSelectTemplate(n){return this.contentVisibility===Go.Both&&(!this._isSelectedTemplatePresent||!n[this._options.dataFields.selected])}_isThereHoverTemplate(n){return this._isThereNoSelectTemplate(n)||this.contentVisibility===Go.Hover}_checkItemHoverVisibility(n){return n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===Go.Hover||n[this._options.dataFields.contentVisibility]===Go.Both}_isContentAllowed(n,e){let t=this.contentVisibility===Go.Both;switch(e){case"hover":t=this._isThereHoverTemplate(n)&&this._checkItemHoverVisibility(n);break;case"select":{let o=t||this.contentVisibility===Go.Select,r=n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===Go.Select||n[this._options.dataFields.contentVisibility]===Go.Both;t=o&&r}break;default:t=this.contentVisibility===Go.Both}return t}_isGroupAllowed(n){return n[this._options.dataFields.visible]!==!1}_isIndexInRange(n){return this._currentList?n>=0&&n<this._currentList.length:!1}_isItemAllowed(n){if(n[this._options.dataFields.visible]===!1)return!1;if(this._options.allowFilter===!1)return!0;let e=!0;if(n&&this._filterParams){let t=n[this._options.dataFields.value];t=t!==void 0?t:n[this._options.dataFields.text],this._filterParams.callback?e=this._filterParams.callback(t,n):!(e=this._filterService.match(t,this._filterParams.conditions,this._filterParams.caseSensitive,this._filterParams.formula,this._getFilterTree(this._filterParams)))&&this._filterParams.allowParent&&(e=this._filterIsThereChildren(n))}return e}isSeparator(n){return!1}_filterIsThereChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t)for(let o=0;o<t.length&&!(e=this._isItemAllowed(t[o]));o++);return e}_isItemDragged(n){return n?this._dragItemList.filter(e=>e.data===n).length>0:!1}_isItemEnabled(n){return this._isEnabled&&n&&this._commonService.isTrue(n[this._options.dataFields.enabled])}isItemExpanded(n){return n?!!(n[this._options.dataFields.expanded]||n[this._options.dataFields.expanded]===void 0):!0}_isItemHovered(n){return!!(!this._isDragActive&&!this._isScrollTimerActive&&n&&n===this._hoverItem)}_isItemSelected(n){return!!(n&&n[this._options.dataFields.selected]===!0)}_isParentOf(n,e){return!1}_updateItemList(){}beginLoad(n){this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}endLoad(n){let e=this;e._isLoading=!1,e._isLoadingEnd=!0,e.update(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_getLastItemIndex(){return this._fullList.length-1}getPrevCurrentItem(n){let e=null;if(n){let t=this._currentList,o=this._getItemCurrentIndex(n);(o=o>0?o-1:-1)>=0&&(e=t[o].data)}return e}getPrevItem(n){return this.getPrevObj(n,this._fullList)}getPrevObj(n,e){let t=null;if(n){let o=e.filter(r=>r.visibleOnDrag!==!1).indexOf(n);(o=o>0?o-1:-1)>=0&&(t=e[o])}return t}getNextCurrentItem(n){let e=null;if(n){let t=this._currentList,o=this._getItemCurrentIndex(n);(o=o>=0&&o<t.length-1?o+1:-1)>=0&&(e=t[o].data)}return e}getNextItem(n){return this.getNextObj(n,this._fullList)}getNextObj(n,e){let t=null;if(n){let o=e.indexOf(n);(o=o<e.length-1?o+1:-1)>=0&&(t=e[o])}return t}moveItem(n,e,t,o){return he(this,null,function*(){if(n){let r=-1;switch(e){case Pt.At:r=o;break;case Pt.Down:t=this.getNextItem(n);break;case Pt.First:r=0;break;case Pt.Last:this._fullList.length>0&&(t=this._fullList[this._fullList.length-1]);break;case Pt.Up:t=this.getPrevItem(n);break;default:r=-1}let s=Array.isArray(n)?n:[n];yield this._moveItemAt(s,t,e,r)}return Promise.resolve()})}_moveItemAt(n,e,t,o){return he(this,null,function*(){let r=this;if(!e){if(t===Pt.Before||t===Pt.Up)return Promise.resolve();if(t===Pt.After||t===Pt.Down||t===Pt.Last)return Promise.resolve()}r._isUpdateAllowed=!1;let s=n.filter(a=>r._fullList.indexOf(a)>=0);r._getItemCurrentIndex(s[0])>r._getItemCurrentIndex(s[s.length-1])&&(s=s.toReversed());for(let a=0;a<s.length;a++){let l=s[a];yield r.removeItem(l),t===Pt.First||t===Pt.Right||t===Pt.At?yield this.insertItemAt(l,o,e):t===Pt.Before||t===Pt.Up?yield this.insertItemBefore(l,e):(t===Pt.After||t===Pt.Left||t===Pt.Down||t===Pt.Last)&&(yield this.insertItemAfter(l,e))}return r._isUpdateAllowed=!0,r._internalUpdateLayout(),r._invokeEvent("itemMoved",{item:s}),Promise.resolve()})}_getSelectBlockRect(n){let e={left:0,top:"-9999999px",height:0,width:0};return n<this._blockSelectRect.length&&(e={left:this._blockSelectRect[n].left+"px",top:this._blockSelectRect[n].top+"px",height:this._blockSelectRect[n].height+"px",width:this._blockSelectRect[n].width+"px"}),e}_hoverBlockMouseMove(n){this._isEnabled&&!this._isScrollActive&&!this._hoverItem&&this._itemMouseEnter(n,this._hoverItemObj)}_hoverBlockMouseLeave(n){this._isEnabled&&!this._isScrollActive&&this._itemMouseLeave(n,this._hoverItemObj)}_itemMouseEnter(n,e){this._isEnabled&&!this._isDragActive&&!this._isScrollActive&&!this.isSeparator(e.data)&&(this._hoverItem=e.data,this._hoverItemObj=e,this._updateItemStyle(e),this.update(),this._invokeEvent("itemHover",{item:e.data}))}_itemMouseMove(n,e){if(this._isEnabled&&!this._isDragActive&&!this._isScrollActive){this._hoverItem=e.data,this._updateItemStyle(e);let t=this._getItemScrollIndex(e),o=this._getItemElemList();if(o&&t>=0&&t<o.length){let r=this._commonService.getPageRect(this._elemRef),s=this._commonService.getPageRect(o[t]);this._blockHoverRect.top=s.top-r.top-1,this._blockHoverRect.width=this._clientRect.width-2,this.isVerScrollVisible()&&(this._blockHoverRect.width-=16,this._currentScrollAppearance===nn.Dynamic&&(this._blockHoverRect.width+=7)),this.update()}this._invokeEvent("itemHover",{item:e.data})}}_itemMouseLeave(n,e){this._isEnabled&&!this._isScrollActive&&(this._hoverItem=null,this._updateItemStyle(e),this.update())}_itemGotFocus(n){this._isEnabled&&!this._isScrollActive&&(this.focusedItem=n.data)}_itemLostFocus(n){this.focusedItem=null,this.refresh()}_itemKeyDown(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};switch(this._invokeEvent("keyDown",t),n.keyCode){case 9:break;case 13:this._invokeEvent("beforeEdit",t);break;case 27:break;case 33:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageUpKey(e));break;case 34:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageDownKey(e));break;case 35:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processEndKey(e));break;case 36:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processHomeKey(e));break;case 37:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processLeftArrowKey(e));break;case 32:break;case 38:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processUpArrowKey(e));break;case 39:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processRightArrowKey(e));break;case 40:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processDownArrowKey(e));break;default:this._defaultFunc()}}}_itemKeyPress(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyPress",t)}}_itemKeyUp(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyUp",t)}}_refreshFocusedItem(n){let e=this;setTimeout(function(){e._currentFocusObj=n,e._updateFocusItem(),e.refresh()},1)}_updateFocusItem(){if(this._options.allowFocus&&this._currentFocusObj){let n=this._getItemContentElem(this._currentFocusObj.data);n&&n.focus()}}_processDownArrowKey(n,e){let t=this._getDownItem(n);if(t){let o=this,r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1);this._isLastItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+2*this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_processEndKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._maxScrollPos.y});let o=this;setTimeout(function(){t=o._scrollItemList[o._scrollItemList.length-1],o.focusedItem=t.data;let r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1)},1)}return t}_processHomeKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:0});let o=this;setTimeout(function(){t=o._scrollItemList[0],o.focusedItem=t.data;let r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1)},1)}return t}_processLeftArrowKey(n,e){return null}_processPageDownKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+this._avgItemHeight*(this._scrollItemList.length-1)});let o=this;setTimeout(function(){let r=n.index>=0&&n.index<o._scrollItemList.length?n.index:o._scrollItemList.length-1;o._currentScrollPos.y===o._maxScrollPos.y&&(r=o._scrollItemList.length-1),t=o._scrollItemList[r],o.focusedItem=t.data;let s=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processPageUpKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight*(this._scrollItemList.length-1)});let o=this;setTimeout(function(){let r=n.index>=0&&n.index<o._scrollItemList.length?n.index:0;o._currentScrollPos.y===0&&(r=0),t=o._scrollItemList[r],o.focusedItem=t.data;let s=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processRightArrowKey(n,e){return null}_processUpArrowKey(n,e){let t=this._getUpItem(n);if(t){let o=this,r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1);this._isFirstItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_getDownItem(n){let e=n.index>=0&&n.index<this._scrollItemList.length-1?n.index+1:-1;return e>=0?this._scrollItemList[e]:null}_getUpItem(n){let e=n.index>0?n.index-1:-1;return e>=0?this._scrollItemList[e]:null}_isFirstItem(n){return n.index===0}_isLastItem(n){return n.index===this._scrollItemList.length-2}moveFocus(n,e){if(!this._options.allowFocus)return null;let t=null,o=this._getObjFromScrollItem(n);if(o)switch(e){case"down":t=this._processDownArrowKey(o);break;case"end":t=this._processEndKey(o);break;case"home":t=this._processHomeKey(o);break;case"left":t=this._processLeftArrowKey(o);break;case"pagedown":t=this._processPageDownKey(o);break;case"pageup":t=this._processPageUpKey(o);break;case"right":t=this._processRightArrowKey(o);break;case"up":t=this._processUpArrowKey(o);break;default:this._defaultFunc()}return t?t.data:null}_windowKeyDown(n){this._isEnabled&&this._isKeyboardActive&&n.preventDefault()}_windowKeyUp(n){this._isKeyboardActive=!1}_checkForSelectionChange(){if(this._currentSelectedItems.length>0){let n=this.getFullList(),e=[];if(this._currentSelectedItems.forEach(t=>{n.filter(o=>this._commonService.isEqual(o[this._options.dataFields.id],t[this._options.dataFields.id])).length===0&&e.push(t)}),e.length>0){let t=[];e.forEach(o=>{o[this._options.dataFields.selected]=!1,t.push(this._currentSelectedItems.indexOf(o))}),this._currentSelection&&e.filter(o=>this._commonService.isEqual(this._currentSelection[this._options.dataFields.id],o[this._options.dataFields.id])).length>0&&(this._currentSelection=null);for(let o=t.length-1;o>=0;o--)this._currentSelectedItems.splice(t[o],1);this._invokeEvent("selectionChanged",{item:this._currentSelection})}}}_getContentSize(){return{width:0,height:0}}_internalUpdateCurrentLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateCurrentLayout(),n._resetLayoutTimer()},100)}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateBlockSize(){this._blockSize={width:0,height:0}}_resetAnimationCheckTimer(){this._animationCheckTimer&&clearInterval(this._animationCheckTimer),this._animationCheckTimer=null}_resetLayoutTimer(){this._updateTimer&&clearTimeout(this._updateTimer),this._updateTimer=null}suspendLayout(){this._isUpdateAllowed=!1}resumeLayout(){return he(this,null,function*(){return this._isUpdateAllowed=!0,this.updateLayout()})}_updateCheckState(){}_updateCurrentLayout(n){}_updateItemElems(){this._itemElems=this.shadowRoot.querySelectorAll("li[data-item]"),this._itemContentElems=this.shadowRoot.querySelectorAll("div[data-item-content]")}_internalUpdateLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateLayout(),n._resetLayoutTimer()},100)}updateLayout(n){return he(this,null,function*(){let e=this,t=Promise.resolve();return e._animationCheckTimer||(e._animationCheckTimer=setInterval(function(){return he(this,null,function*(){e._isAnimationInProcess||(e._resetAnimationCheckTimer(),t=yield e._processUpdateLayout())})},100)),t})}_processUpdateLayout(){let n=this;return new Promise(e=>{if(n._isUpdateActive=!0,n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._stackAdd.length=0,n._stackRemove.length=0,n._updateCurrentList(),n.updateFullList(),n._ctrlPadding=n._commonService.getPadding(n._elemRef),n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateScrollItemList(),n.update(),setTimeout(function(){n._updateItemElems(),n._updateVisibleRange(),setTimeout(function(){n._updateItemElems(),n._updateBlockSize(),n._checkForSelectionChange(),n._updateCurrentItemSize(),n._updateCheckState(),n._updateScrollSize(),n._updateVisibleRange(),n._updateScrollItemList(),n.refresh(),n._currentItemSize={width:n._contentSize.width,height:n._avgItemHeight},n._isAutoSized?(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize()):n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateScrollItemPos(),setTimeout(function(){n._updateBlockSize(),t&&(n.focusedItem=t),n._isUpdateActive=!1,n._updateItemElems(),n._updateHoverContentPos(),n._updateSelectContentPos(),n.refresh(),n._invokeEvent("updateComplete"),e()},1)},1)},1)}else e()})}_updateClientRect(){this._ctrlPadding=this._commonService.getPadding(this._elemRef),this._elemRef.clientWidth>0&&this._elemRef.clientHeight>0&&(this._clientRect={width:this._elemRef.clientWidth-(this._ctrlPadding.left+this._ctrlPadding.right),height:this._elemRef.clientHeight-(this._ctrlPadding.top+this._ctrlPadding.bottom)})}_updateCurrentItemSize(){let n=this;n._avgItemHeight=0;let e=n._getItemElemList();if(e&&e.length>0){let t=0;for(let o=0;o<e.length;o++)t+=e[o].offsetHeight;n._avgItemHeight=Math.floor(t/e.length)}n._currentItemSize.height=n._avgItemHeight}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-2,height:n._clientRect.height-2},n._scrollSize={width:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._contentSize.width-=16,n._currentScrollAppearance===nn.Dynamic&&(n._contentSize.width+=5),n._scrollSize.width>0&&(n._scrollSize.width+=16)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-14:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-14:n._clientRect.height},n._currentScrollAppearance===nn.Static?(n._scrollBarSize.width-=4,n._scrollBarSize.height-=4):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===nn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}_updateHoverContentPos(){let n=this;if(n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2},n._hoverItem&&n._isHoverTemplatePresent){let e=n._getObjFromScrollItem(n._hoverItem),t=n._getItemScrollIndex(e),o=n._getItemElemList();if(o&&t>=0&&t<o.length){let r=n._commonService.getPageRect(n._elemRef),s=n._commonService.getPageRect(o[t]);n._blockHoverRect.top=s.top-r.top-1,n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,n._currentScrollAppearance===nn.Dynamic&&(n._blockHoverRect.width+=7)),n.update()}}}_updateSelectContentPos(){let n=this;if(n._blockSelectRect.length=0,n._isSelectedTemplatePresent){let e=n._commonService.getPageRect(n._elemRef),t=n._getItemElemList();n._blockSelectHeight=n._avgItemHeight-2,n._currentSelectedItems.forEach(o=>{let r=n._getObjFromScrollItem(o),s=n._getItemScrollIndex(r),a={height:n._blockSelectHeight,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(a.width-=16);let l=n._commonService.getPageRect(t[s]);t&&s>=0&&s<t.length?a.top=l.top-e.top-1:a.top=-9999999,n._blockSelectRect.push(a)})}}_updateVisibleRange(){if(this._isAutoSized)this._visibleRange=this._currentList.length;else{this._visibleRange=1;let n=this._getItemElemList();if(n&&n.length>0){let e=0;for(let o=0;o<n.length;o++)e+=n[o].offsetHeight;let t=Math.floor(e/n.length);t>0&&(this._visibleRange=Math.floor(this._clientRect.height/t)+1)}}}updateView(){this._currentIndex=this._avgItemHeight>0?Math.floor(this._currentScrollPos.y/this._avgItemHeight):0,this._currentIndex!==this._prevIndex?(this._updateScrollItemList(),this._updateBlockSize(),this._prevIndex=this._currentIndex,this.update(),this._updateItemElems()):this.update(),this._updateHoverContentPos(),this._updateSelectContentPos()}_updateCloneElemPos(n){n.which===1&&this._cloneElem&&(this._cloneElem.style.top=n.pageY-this._cloneElemStartPos.y+"px",this._cloneElem.style.left=n.pageX-this._cloneElemStartPos.x+"px")}_ctrlMouseEnter(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="block"),this.state|=Si.Hovered,this._currentScrollAppearance===nn.Dynamic&&(this._isScrollVisible=!0)),this._ctrlCursor="default",this.update()}_ctrlMouseLeave(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="none"),this.state&=~Si.Hovered,this._currentScrollAppearance===nn.Dynamic&&(this._resetScrollAppearanceTimeout(),this._isScrollVisible=!!this._isScrollActive)),this._blockHoverRect.top=-9999999,this.update(),this._stopScrollTimer()}_onCtrlMouseMove(n){this._hoverItem||(this._blockHoverRect.top=-9999999,this.update())}_itemMouseDown(n,e){this._isEnabled&&(this._isItemClicked=!0,this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),e.data.type==="group"&&n.which===1?this.toggle(e.data):this._processSelection(n,e.data),this._prevClickedObj&&(this._prevClickedObj.isClicked=!1),e.isClicked=!0,e.clickPos=this._commonService.getClientPos(n,this._elemRef),this._prevClickedObj=e),n.stopPropagation()}_itemMouseUp(n,e){this._isEnabled&&this._isItemClicked&&this._updateSelection(n,e.data),this._isItemClicked=!1}_onScroll(n){n.target&&(this.virtualMode?(n.target.scrollTop=0,n.target.scrollLeft=0):this.scrollPos({x:n.target.scrollLeft,y:n.target.scrollTop}))}scrollPos(n){return n&&(this._currentScrollPos={x:Math.max(0,Math.min(n.x,this._maxScrollPos.x)),y:Math.max(0,Math.min(n.y,this._maxScrollPos.y))},this.updateView(),this._invokeEvent("scrollPosChanged",{value:this._currentScrollPos,max:this._maxScrollPos})),{x:Math.floor(this._currentScrollPos.x),y:Math.floor(this._currentScrollPos.y)}}_changeHorizontalScrollPos(n){this._currentScrollPos.x=Math.max(0,Math.min(n,this._maxScrollPos.x)),this._currentScrollPos.x!==this._prevScrollPos.x&&(this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.x=this._currentScrollPos.x,this.update())}_changeVerticalScrollPos(n){this._currentScrollPos.y=Math.max(0,Math.min(n,this._maxScrollPos.y)),this._currentScrollPos.y!==this._prevScrollPos.y&&(this.updateView(),this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.y=this._currentScrollPos.y)}_processMouseWheel(n,e){if(this._isEnabled){this._hoverItem=null,this._isMouseWheelActive=!0;let t=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail)),o=5;switch(this._mouseWheelSpeed){case pr.VerySlow:o=15;break;case pr.Slow:o=9;break;case pr.Fast:o=3;break;case pr.VeryFast:o=1;break;default:o=5}if(n.preventDefault(),this.isVerScrollVisible()){let r=Math.floor(this._clientRect.height/o);this._mouseWheelSpeed===pr.VerySlow&&this._avgItemHeight>0&&(r=this._avgItemHeight);let s=this._currentScrollPos.y+r*t*-1;t>0&&s<=this._avgItemHeight&&(s=0),this._changeVerticalScrollPos(s)}else if(e&&this.isHorScrollVisible()){let r=Math.floor(this._clientRect.width/o),s=this._currentScrollPos.x+r*t*-1;this._changeHorizontalScrollPos(s)}n.stopPropagation(),this._isMouseWheelActive=!1}}isVerScrollVisible(){return!!(!this._isAutoSized&&this._options.showScroll.vertical&&this._scrollSize.height>0)}isHorScrollVisible(){return!!(this._options.showScroll.horizontal&&this._scrollSize.width>0)}isScrolling(){return this._isScrollActive}_onVerticalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onVerticalScrollEnd(n){this._isScrollActive=!1,this._updateScrollAppearance(n.detail.event)}_onVerticalScrollChanged(n){this._isMouseWheelActive||this._changeVerticalScrollPos(n.detail.value)}_onHorizontalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onHorizontalScrollEnd(n){this._isScrollActive=!1}_onHorizontalScrollChanged(n){this._currentScrollPos.x=n.detail.value,this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this.update()}_scrollMouseEnter(n){this._blockHoverRect.top=-9999999,this.update()}_processScroll(n){if(this.isVerScrollVisible()){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let o=this._commonService.getPageRect(this._elemRef),r=o.top+25,s=o.bottom-25;if(this.isHorScrollVisible()&&(s-=16),this._currentDragDropMode===no.Static)t.y<r&&this._currentScrollPos.y>0?this._startScrollTimer(!1):t.y>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer();else{let a=this._commonService.getPageRect(this._elemRef);a.y+this._dragListPos.top<r&&this._currentScrollPos.y>0?this._startScrollTimer(!1):a.y+this._dragListPos.top+this._dragListSize.height>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer()}}else this._stopScrollTimer()}_resetScrollAppearanceTimeout(){this._scrollAppearanceTimeout&&clearTimeout(this._scrollAppearanceTimeout),this._scrollAppearanceTimeout=null}_startScrollTimer(n,e){let t=this;if(t._removeDropMark(),!t._isScrollTimerActive){t._accelerator=.5,t._scrollCount=0,t._isScrollTimerActive=!0;let o=e||100;t._scrollTimerID||(t._scrollTimerID=setInterval(function(){t._scrollTimerElapsed(n)},o))}}_stopScrollTimer(){this._scrollTimerID&&(clearInterval(this._scrollTimerID),this._scrollTimerID=null),this._accelerator=.5,this._scrollCount=0,this._isScrollTimerActive=!1}_scrollTimerElapsed(n){let e=this._currentScrollPos;this._scrollCount===0&&(this._scrollCount=5),this._scrollCount+=5,this._accelerator+=.5,this._scrollCount+=Math.floor(this._accelerator);let t=this._scrollCount;n?this._currentScrollPos.y+t>this._maxScrollPos.y?this._currentScrollPos.y=this._maxScrollPos.y:this._currentScrollPos.y+=t:this._currentScrollPos.y-t<0?this._currentScrollPos.y=0:this._currentScrollPos.y-=t,(e.y<=0||this._currentScrollPos.y<e.y)&&this._stopScrollTimer(),this.update()}scrollTo(n,e){if(this.virtualMode!==!1&&n){let t=this._getItemCurrentIndex(n);t>=0&&this.scrollPos({x:this._currentScrollPos.x,y:e!==void 0?this._avgItemHeight*(t-e):this._avgItemHeight*(t+1-Math.floor(this._visibleRange/2))}),this._processUpdateLayout()}}_updateScrollAppearance(n){let e=this;e._resetScrollAppearanceTimeout(),e._scrollAppearanceTimeout=setTimeout(function(){let t=e._commonService.getPageRect(e._elemRef),o=e._commonService.getMousePos(n),r=e._commonService.getShiftPos();o.x-=r.x,o.y-=r.y;let s=o.x<t.left||o.x>t.right||o.y<t.top||o.y>t.bottom;e._isScrollVisible=!s,e.update()},100)}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e)}_clearAllSelection(){let n=this._fullList;n&&(n.forEach(e=>e[this._options.dataFields.selected]=!1),this._currentSelection=null,this._currentSelectedItems.length=0)}clearSelection(){this._clearPrevSelection(),this._currentSelection=null,this._updateSelectContentPos(),this.refresh()}_clearComponentSelection(){this._itemList.forEach(n=>n.state&=~Si.Selected)}_clearPrevSelection(n){for(let e=0;e<this._currentSelectedItems.length;e++)n&&!this._commonService.isEqual(this._currentSelectedItems[e][this._options.dataFields.id],n[this._options.dataFields.id])?this._currentSelectedItems[e][this._options.dataFields.selected]=!1:n||(this._currentSelectedItems[e][this._options.dataFields.selected]=!1);this._currentSelectedItems.length=0,n&&this._isItemEnabled(n)&&this._currentSelectedItems.push(n)}_isItemInSelectionList(n){let e=!1,t=this._currentSelectedItems;if(n&&t){for(let o=0;o<t.length;o++)if(this._commonService.isEqual(t[o][this._options.dataFields.id],n[this._options.dataFields.id])){e=!0;break}}return e}_isCtrlKeyPressed(n){return n&&(n.ctrlKey||n.metaKey)}_isShiftKeyPressed(n){return n&&n.shiftKey}_processSelection(n,e,t){let o=this,r=!0;if(e){if(o.selectionMode===Fn.None||e.type==="group"||e[o._options.dataFields.canSelect]===!1)return;let s=o._currentSelectedItems.length>0;if(!o._isItemEnabled(e))o._clearPrevSelection(),o.refresh(),s&&this._invokeEvent("selectionChanged",{item:null});else{let a=o._currentSelection,l=!0;a&&(l=this._isCtrlKeyPressed(n)||!this._commonService.isEqual(a[o._options.dataFields.id],e[o._options.dataFields.id])||a[o._options.dataFields.selected]===!1);let c={cancel:!1,item:e};if(o._invokeEvent("beforeSelect",c),r=c.cancel!==!0,c.cancel!==!0){let u=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(l){if(o.selectionMode===Fn.MultiExtended&&(l=!o._isItemInSelectionList(e)||!u||this._isShiftKeyPressed(n)),l&&(o.selectionMode===Fn.One||n&&n.shiftKey||!u&&o.selectionMode!==Fn.MultiSimple&&(o._currentSelectedItems.length===1||!o._isItemInSelectionList(e)))&&o._clearPrevSelection(),o._currentSelection=e,n&&n.shiftKey&&o.selectionMode!==Fn.One){o._shiftFirstSelectedItem||(o._shiftFirstSelectedItem=a);let g=o._getItemCurrentIndex(o._shiftFirstSelectedItem),_=o._getItemCurrentIndex(e);if(g>_){let C=g;g=_,_=C}if(o._isIndexInRange(g)&&o._isIndexInRange(_))for(let C=g;C<=_;C++)o._currentList[C].data.type!=="group"&&o._currentList[C].data[o._options.dataFields.canSelect]!==!1&&(o._currentList[C].data[o._options.dataFields.selected]=!0,o._currentSelectedItems.push(o._currentList[C].data))}else if(u||o.selectionMode===Fn.MultiSimple){let g=e[o._options.dataFields.selected]===null||e[o._options.dataFields.selected]==="undefined"?!1:e[o._options.dataFields.selected];e[o._options.dataFields.selected]=!g,e[o._options.dataFields.selected]?o._isItemInSelectionList(e)||o._currentSelectedItems.push(e):o._currentSelectedItems=o._currentSelectedItems.filter(function(_){return _!==e}),o._shiftFirstSelectedItem=null}else e[o._options.dataFields.selected]=!0,o._isItemInSelectionList(e)||o._currentSelectedItems.push(e),o._shiftFirstSelectedItem=null;o._callAfterSelectEvent(e),o.refresh()}else if(u||o.selectionMode===Fn.MultiSimple){let g=e[o._options.dataFields.selected]===null||e[o._options.dataFields.selected]==="undefined"?!1:e[o._options.dataFields.selected];t&&t!=="undefined"&&(g=t),e[o._options.dataFields.selected]=!g,e[o._options.dataFields.selected]?o._isItemInSelectionList(e)||o._currentSelectedItems.push(e):o._currentSelectedItems=o._currentSelectedItems.filter(function(_){return _!==e}),o._shiftFirstSelectedItem=null,o._callAfterSelectEvent(e),o.refresh()}else!u&&!(o.selectionMode&Fn.MultiSimple)&&(o._currentSelectedItems.length===1||!o._isItemInSelectionList(e))&&(o._shiftFirstSelectedItem=null,o._clearPrevSelection(e),o.refresh(),l&&s&&o._invokeEvent("selectionChanged",{item:null}));o._updateSelectContentPos()}}}return r}selectItems(n){if(n&&Array.isArray(n)){this._currentSelectedItems.map(e=>e[this._options.dataFields.selected]=!1),this._currentSelectedItems.length=0;for(let e=0;e<n.length;e++)n[e][this._options.dataFields.selected]=!0,this._currentSelectedItems.push(n[e]);n.length>0?(this._currentSelection=n[n.length-1],this._callAfterSelectEvent(this._currentSelection)):this._currentSelection=null,this.refresh()}}_updateSelection(n,e){let t=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(this.selectionMode===Fn.MultiExtended&&e[this._options.dataFields.canSelect]!==!1&&this._currentSelectedItems.length>0&&!n.shiftKey&&!t&&n.which===1){let o=this._currentSelectedItems.length;this._clearPrevSelection(),e[this._options.dataFields.selected]=!0,this._currentSelectedItems.push(e),this._updateSelectContentPos(),o>1&&this._callAfterSelectEvent(e),this.refresh()}}_applySorting(n){let e=this;return Array.isArray(n)&&(n=[...n])&&(e._sortComparer?n.sort(e._sortComparer):e._isSortingAllowed()&&n.sort(function(t,o){let r=null,s=null;switch((r=t[e._options.dataFields.value])||(r=t.type==="group"?t[e._options.dataFields.name]:t[e._options.dataFields.text]),e._commonService.isObject(r)&&(r=r.value?r.value:r.text),(s=o[e._options.dataFields.value])||(s=o.type==="group"?o[e._options.dataFields.name]:o[e._options.dataFields.text]),e._commonService.isObject(s)&&(s=s.value?s.value:s.text),r=r!==void 0?r:null,s=s!==void 0?s:null,e._currentSorting){case $s.Ascending:if(r<s)return-1;if(r>s)return 1;break;case $s.Descending:if(r>s)return-1;if(r<s)return 1;break;default:return 0}return 0})),n}_isSortingAllowed(){return this._currentSorting===$s.Ascending||this._currentSorting===$s.Descending}sort(n,e){this._currentSorting=n,this._sortComparer=e||null,this._processUpdateLayout(),this._invokeEvent("sorted")}_getDragListClass(){return this._dragListClass={"iui-draglist":!0},this._isDragActive&&(this._dragListClass["iui-draglist-active"]=!0),this._dragListClass}_getItemInlineStyle(n){return n?n.data[this._options.dataFields.style]||{}:{}}_getScrollCornerClass(){let n={};return n[this._scrollCornerClassName]=!0,this._currentScrollAppearance===nn.Dynamic&&(n[this._scrollCornerClassName+"-dynamic"]=!0),this._isEnabled||(n[this._scrollCornerClassName+"-disabled"]=!0),n}refresh(){this._updateControlClass(),this._scrollItemList.forEach(n=>this._updateItemStyle(n)),this.update(),this._updateReferences()}_updateItemStyle(n){if(n){n.style={expandBox:{},general:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.data.type==="group"?(n.style.general[this._groupClassName]=!0,n.style.general[this._options.currentStyle.group.general.normal]=!0,n.style.content[this._groupContentClassName]=!0,n.style.content[this._options.currentStyle.group.content.normal]=!0,this._isItemEnabled(n.data)||(n.style.general[this._options.currentStyle.group.general.disabled]=!0,n.style.content[this._options.currentStyle.group.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.group.general.focused]=!0,n.style.content[this._options.currentStyle.group.content.focused]=!0),n.style.expandBox[this._options.currentStyle.group.expandBox.general]=!0,n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.group.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.group.expandBox.collapsed]=!0):(n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?(n.style.general[this._options.currentStyle.item.general.selected]=!0,n.style.content[this._options.currentStyle.item.content.selected]=!0):this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0,n.style.content[this._options.currentStyle.item.content.hovered]=!0):(n.style.general[this._options.currentStyle.item.general.disabled]=!0,n.style.content[this._options.currentStyle.item.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.item.general.focused]=!0,n.style.content[this._options.currentStyle.item.content.focused]=!0));let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemGeneralStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemClassName+"-selected")}:this._getDefaultItemGeneralStyle()}_getItemContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemContentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemContentClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemContentClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemContentClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemContentClassName+"-selected")}:this._getDefaultItemContentStyle()}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),group:this._getDefaultGroupStyle(),item:this._getDefaultItemStyle()}}_getDefaultGroupStyle(){return{expandBox:this._getDefaultGroupExpandBoxStyle(),general:this._getDefaultGroupGeneralStyle(),content:this._getDefaultGroupContentStyle()}}_getDefaultGroupExpandBoxStyle(){return{general:this._defaultStyle.group.expandBox.general,expanded:this._defaultStyle.group.expandBox.expanded,collapsed:this._defaultStyle.group.expandBox.collapsed}}_getDefaultGroupGeneralStyle(){return{disabled:this._defaultStyle.group.general.disabled,focused:this._defaultStyle.group.general.focused,normal:this._defaultStyle.group.general.normal,hovered:this._defaultStyle.group.general.hovered,selected:this._defaultStyle.group.general.selected}}_getDefaultGroupContentStyle(){return{disabled:this._defaultStyle.group.content.disabled,focused:this._defaultStyle.group.content.focused,normal:this._defaultStyle.group.content.normal,hovered:this._defaultStyle.group.content.hovered,selected:this._defaultStyle.group.content.selected}}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemGeneralStyle(){return{disabled:this._defaultStyle.item.general.disabled,focused:this._defaultStyle.item.general.focused,normal:this._defaultStyle.item.general.normal,hovered:this._defaultStyle.item.general.hovered,selected:this._defaultStyle.item.general.selected}}_getDefaultItemContentStyle(){return{disabled:this._defaultStyle.item.content.disabled,focused:this._defaultStyle.item.content.focused,normal:this._defaultStyle.item.content.normal,hovered:this._defaultStyle.item.content.hovered,selected:this._defaultStyle.item.content.selected}}_updateStyle(n){this._options.currentStyle=this._getDefaultListStyle()}_getItemTemplate(n,e){let t=null,o=null;if(n.type==="group")t=this.itemTemplate;else switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let r=t(n,this._getItemCurrentIndex(n));r&&(o=new ba(r.strings,r.values,"html",lu))}if(!o){let r={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(l=>r[l]=!0);let a=n.type==="group"?n[this._options.dataFields.name]:n[this._options.dataFields.text];return ke`                 ${s.length>0?ke`<span class=${tn(r)}></span>`:ke``}                 ${n[this._options.dataFields.iconUrl]?ke`<img style=${Pi({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:ke``}                 <span class="iui-item-label">${a}</span>             `}return o}_itemTouchStart(n,e){this._isEnabled&&(this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),this._processSelection(n,e.data))}_itemTouchMove(n,e){}_itemTouchEnd(n,e){}_ctrlTouchStart(n){if(n.preventDefault(),this._isEnabled){let e=this._commonService.getTouchData(n);e&&e.length>0&&(this._touchStartPos={x:e[0].pageX,y:e[0].pageY})}}_ctrlTouchEnd(n){let e=this;if(e._isEnabled){let t=e._commonService.getTouchData(n);t&&t.length>0&&(e._touchEndPos={x:t[0].pageX,y:t[0].pageY});let o={dx:e._touchEndPos.x-e._touchStartPos.x,dy:e._touchEndPos.y-e._touchStartPos.y},r=!1,s=!1,a=e._touchStartPos,l={x:e._currentScrollPos.x,y:e._currentScrollPos.y},c=setInterval(function(){let u=e._currentScrollPos;o.dx<-20?(a.x-=30,a.x>e._touchEndPos.x?u.x+=30:(u.x=l.x-o.dx,r=!0)):o.dx>20?(a.x+=30,a.x<e._touchEndPos.x?u.x-=30:(u.x=l.x-o.dx,r=!0)):r=!0,o.dy<-20?(a.y-=25,a.y>e._touchEndPos.y?u.y+=25:(u.y=l.y-o.dy,s=!0)):o.dy>20?(a.y+=25,a.y<e._touchEndPos.y?u.y-=25:(u.y=l.y-o.dy,s=!0)):s=!0,e.scrollPos(u),r&&s&&clearInterval(c)},5);e._touchStartPos=e._touchEndPos}}resolve(n){if(this._isProcessAllowed=!0,this._commonService.isString(n))switch(n.toLowerCase()){case"dragdrop":this._drop(this._dragDropService.getData());break;default:this._defaultFunc()}}},V6=CO;var kh=Se`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #f5f5f5);
        border: var(--iui-scrollbar-border, 0);
        border-color:  var(--iui-scrollbar-border-color, #f5f5f5);
        border-radius: var(--iui-scrollbar-border-radius, 1px);
        border-width: var(--iui-scrollbar-border-width, thin);
        cursor: var(--iui-scrollbar-cursor, default);
        display: var(--iui-scrollbar-display, block);
        height: var(--iui-scrollbar-height, auto);
        margin: var(--iui-scrollbar-margin, 0);
        opacity: var(--iui-scrollbar-opacity, 0);
        overflow: hidden;
        padding: var(--iui-scrollbar-padding, 2px);
        position: var(--iui-scrollbar-position, absolute);
        width: var(--iui-scrollbar-width, auto);
        z-index: var(--iui-scrollbar-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 1);
        transition: opacity 0.4s ease-in-out;
    }
    .iui-scrollbar-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
        transition: opacity 1s ease-in-out;
    }
    .iui-scrollbar-vertical {
        border-left: var(--iui-scrollbar-vertical-border-left, thin solid #f5f5f5);
        display: var(--iui-scrollbar-vertical-display, block);
        top: 0;
        width: var(--iui-scrollbar-vertical-width, 11px);
    }
    .iui-scrollbar-horizontal {
        border-top: var(--iui-scrollbar-horizontal-border-top, thin solid #f5f5f5);
        bottom: 0;
        display: var(--iui-scrollbar-horizontal-display, block);
        height: var(--iui-scrollbar-horizontal-height, 11px);
    }
    
    /* ScrollBar Thumb */
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #e5e5e5);
        border: var(--iui-scrollbar-thumb-border, thin solid #d5d5d5);
        border-color: var(--iui-scrollbar-thumb-border-color, #d5d5d5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 2px);
        position: absolute;
        transition: background 0.25s ease-in-out, border 0.25s ease-in-out;
        z-index: var(--iui-scrollbar-thumb-z-index, 99);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #d5d5d5);
        border: var(--iui-scrollbar-thumb-hovered-border, thin solid #c5c5c5);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #c5c5c5);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #c5c5c5);
        border: var(--iui-scrollbar-thumb-selected-border, thin solid #b5b5b5);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #b5b5b5);
    }
    .iui-scrollbar-thumb-vertical {
        top: 2px;
        width: var(--iui-scrollbar-thumb-vertical-width, 9px);
    }
    .iui-scrollbar-thumb-horizontal {
        left: 2px;
        height: var(--iui-scrollbar-thumb-height, 9px);
    }
    
    /* ScrollBar Dynamic */
    .iui-scrollbar-dynamic {
        background: var(--iui-scrollbar-dynamic-background, transparent);
        border-color:  var(--iui-scrollbar-dynamic-border-color, transparent);
        border-left: var(--iui-scrollbar-dynamic-border-left, 0);
        border-top: var(--iui-scrollbar-dynamic-border-top, 0);
        padding: var(--iui-scrollbar-dynamic-padding, 0);
        opacity: var(--iui-scrollbar-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
    }
    .iui-scrollbar-dynamic-vertical {
        width: var(--iui-scrollbar-vertical-width, 9px);
    }
    .iui-scrollbar-dynamic-horizontal {
        height: var(--iui-scrollbar-vertical-height, 9px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-vertical {
        top: 0;
        width: var(--iui-scrollbar-thumb-width, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-horizontal {
        left: 0;
        height: var(--iui-scrollbar-thumb-height, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #e5e5e5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 0);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #d5d5d5);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #c5c5c5);
    }

    /* ScrollBar Corer */
    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #f5f5f5);
        bottom: 0;
        cursor: var(--iui-scrollbar-corner-cursor, default);
        height: var(--iui-scrollbar-corner-height, 16px);
        margin: 0;
        padding: 0;
        position: absolute;
        right: 0;
        width: var(--iui-scrollbar-corner-width, 16px);
        z-index: var(--iui-scrollbar-corner-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-corner-dynamic {
        background: var(--iui-scrollbar-corner-dynamic-background, transparent);
        height: var(--iui-scrollbar-corner-height, 9px);
        width: var(--iui-scrollbar-corner-width, 9px);
    }

    /* Disabled State */
    .iui-scrollbar-disabled div, .iui-scrollbar-thumb-disabled, .iui-scrollbar-corner-disabled {
        opacity: var(--iui-scrollbar-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var Eb=Se`
`;var vg=Se`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #1e1e1e);
        border-color: var(--iui-scrollbar-border-color, #151515);
    } 
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #404040);
        border-color: var(--iui-scrollbar-thumb-border-color, #404040);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #515151);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #515151);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #626262);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #626262);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #484848);
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #646464);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #808080);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }

    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #1e1e1e);
    }
`;var Tb=Se`
`;var IO=class extends Zc{_init(){super._init(),this._currentMaxValue=0,this._currentMinValue=0,this._currentValue=0,this._currentAppearance=nn.Static,this._isVisible=!0,this._currentSplitterDistance={x:0,y:0},this._emptySpace=0,this._maxPos={x:0,y:0},this._currentOrientation=Jn.Vertical,this._scrollPos={top:0,right:0,bottom:0,left:0},this._scrollSize={width:0,height:0},this._thumbSize={width:0,height:0},this._thumbPos={x:2,y:2},this._isThumbActive=!1,this._prevPos={x:0,y:0},this._smallChange=0,this._largeChangeValue=0,this._scrollInterval=null,this._scrollTimeout=null,this._thumbStartPos={x:0,y:0},this._generalClassName="iui-scrollbar",this._isThumbHovered=!1,this._thumbClass={},this._thumbClassName=this._generalClassName+"-thumb"}connectedCallback(){super.connectedCallback(),this._windowMouseMove=this._windowMouseMove.bind(this),window.addEventListener("mousemove",this._windowMouseMove),this._windowMouseUp=this._windowMouseUp.bind(this),window.addEventListener("mouseup",this._windowMouseUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("mousemove",this._windowMouseMove),window.removeEventListener("mouseup",this._windowMouseUp),this._clearScrollTimers()}static get properties(){return{appearance:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?nn.Dynamic:nn.Static,toAttribute:(n,e)=>n===Jn.Dynamic?"Dynamic":"Static"},reflect:!0},height:{type:Number},largeChange:{type:Number,attribute:"large-change"},max:{type:Number,reflect:!0},min:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Jn.Horizontal:Jn.Vertical,toAttribute:(n,e)=>n===Jn.Horizontal?"Horizontal":"Vertical"},reflect:!0},position:{type:Object},value:{type:Number,reflect:!0},width:{type:Number}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get appearance(){return this._currentAppearance}set appearance(n){if(this._currentAppearance!==n){let e=this._currentAppearance;this._currentAppearance=n,this.visible=this._currentAppearance!==nn.Dynamic,this.requestUpdate("appearance",e)}}set height(n){if(this._scrollSize.height!==n&&n>=0){let e=this._scrollSize.height;this._scrollSize.height=n,this.requestUpdate("height",e),this.updateLayout()}}set largeChange(n){if(this._largeChangeValue!==n&&n>=0){let e=this._largeChangeValue;this._largeChangeValue=n,this.requestUpdate("largeChange",e)}}get max(){return this._currentMaxValue}set max(n){if(this._currentMaxValue!==n){let e=this._currentMaxValue;n<=0?this._currentMaxValue=1:this._currentMaxValue=n,this._currentValue>this._currentMaxValue&&(this._currentValue=this._currentMaxValue),this.requestUpdate("max",e),this.updateLayout()}}get min(){return this._currentMinValue}set min(n){if(this._currentMinValue!==n&&n>=0){let e=this._currentMinValue;this._currentMinValue=n,this.requestUpdate("min",e),this.updateLayout()}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e),this.updateLayout()}}set position(n){let e=this._scrollPos;n!==void 0?this._scrollPos={top:this._commonService.isFieldAvailable(n.top,0),right:this._commonService.isFieldAvailable(n.right,0),bottom:this._commonService.isFieldAvailable(n.bottom,0),left:this._commonService.isFieldAvailable(n.left,0)}:this._scrollPos={top:0,right:0,bottom:0,left:0},this.requestUpdate("position",e)}get value(){return this._currentValue}set value(n){if(this._currentValue!==n){let e=this._currentValue;n<this._currentMinValue?this._currentValue=this._currentMinValue:n>this._currentMaxValue?this._currentValue=this._currentMaxValue:this._currentValue=n,this.requestUpdate("value",e),this.updateLayout(),this._invokeEvent("valueChanged",{value:this._currentValue})}}get visible(){return this._isVisible}set visible(n){if(n!==void 0&&this._isVisible!==n){let e=this._isVisible;this._isVisible=this._currentAppearance===nn.Dynamic?n:!0,this.requestUpdate("visible",e),this._updateVisibility()}}set width(n){this._scrollSize.width!==n&&n>=0&&(this._scrollSize.width=n,this.updateLayout())}_thumbMouseEnter(n){this._isThumbHovered=!0,this.refresh()}_thumbMouseLeave(n){this._isThumbHovered=!1,this.refresh()}_thumbMouseDown(n){if(this._isEnabled){this.state|=Si.Selected;let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y};this._thumbStartPos=t,this._isThumbActive=!0,this.prevPos={x:this.value,y:this.value},this._invokeEvent("scrollStart",{event:n,value:this._currentValue})}this._invokeEvent("scrollMouseDown"),n.stopPropagation()}_windowMouseMove(n){if(this._isEnabled&&n.which===1&&this._isThumbActive){let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y},o=0;this.orientation===Jn.Horizontal?this._emptySpace>0&&(o=this.prevPos.x+(t.x-this._thumbStartPos.x)*this._currentMaxValue/this._emptySpace):this._emptySpace>0&&(o=this.prevPos.y+(t.y-this._thumbStartPos.y)*this._currentMaxValue/this._emptySpace),this.value=o}}_windowMouseUp(n){this._isEnabled&&(this._isThumbActive=!1,this._prevPos.y=this._currentValue,this.state&=~Si.Selected,this._clearScrollTimers(),this._invokeEvent("scrollEnd",{event:n,value:this._currentValue}))}isVertical(){return this.orientation===Jn.Vertical}_updateVisibility(){this._isEnabled&&this._currentAppearance===nn.Dynamic&&(this._isVisible?this.state|=Si.Hovered:this.state&=~Si.Hovered)}_changeScrollPos(n){if(this._isEnabled){let e=this;e._processLargeChange(n),e._clearScrollTimers(),e._scrollTimeout=setTimeout(function(){e._scrollInterval=setInterval(function(){e._currentValue>e._currentMinValue&&e._currentValue<e._currentMaxValue?e._processLargeChange(n):e._clearScrollTimers()},100),clearTimeout(e._scrollTimeout)},250)}}_clearScrollTimers(){this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollInterval&&clearInterval(this._scrollInterval),this._scrollTimeout=null,this._scrollInterval=null}_processLargeChange(n){let e=-1;switch(this.isVertical()?e=n.offsetY<this._thumbPos.y?1:n.offsetY>this._thumbPos.y+this._thumbSize.height?2:-1:e=n.offsetX<this._thumbPos.x?1:n.offsetX>this._thumbPos.x+this._thumbSize.width?2:-1,e){case 1:this.value-=this._largeChangeValue;break;case 2:this.value+=this._largeChangeValue;break;default:this._defaultFunc()}}_getControlClass(){return this._ctrlClass}_getThumbClass(){return this._thumbClass}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateThumbClass(),this.update(),this._updateReferences()}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=Se``,n){case Xt.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(vg.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(Tb.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.orientation===Jn.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-vertical"]=!0,this._currentAppearance===nn.Dynamic&&(this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic"]=!0,this.orientation===Jn.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-vertical"]=!0),this.state&Si.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&Si.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&Si.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&Si.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.state&Si.Hovered||this._isVisible?(this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0,this._currentAppearance===nn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-enter"]=!0)):(this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0,this._currentAppearance===nn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-leave"]=!0)))}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(Eb.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_updateThumbClass(){this._thumbClass={},this._thumbClass[this._thumbClassName]=!0,this.orientation===Jn.Horizontal?this._thumbClass[this._thumbClassName+"-horizontal"]=!0:this._thumbClass[this._thumbClassName+"-vertical"]=!0,this.state&Si.Disabled?this._thumbClass[this._thumbClassName+"-disabled"]=!0:this.state&Si.Focused?this._thumbClass[this._thumbClassName+"-focused"]=!0:this.state&Si.Selected?this._thumbClass[this._thumbClassName+"-selected"]=!0:this._isThumbHovered&&(this._thumbClass[this._thumbClassName+"-hovered"]=!0)}firstUpdated(n){this.updateLayout()}updateLayout(n){return he(this,null,function*(){yield this._processUpdateLayout(),this.refresh()})}_processUpdateLayout(){let n=this;return new Promise(e=>{let t=n._currentAppearance===nn.Static?2:0;if(n.orientation===Jn.Horizontal){n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.width);let o=n._scrollSize.width-t,r=0;n._currentMaxValue+o>0&&(r=o*o/(n._currentMaxValue+o)),r=o/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?r=o:r<7&&(r=7),n._thumbSize.width=r,n._emptySpace=o-r,n._currentMaxValue>0&&(n._thumbPos.x=t+n._currentValue*n._emptySpace/n._currentMaxValue)}else{n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.height);let o=n._scrollSize.height-t,r=0;n._currentMaxValue+o>0&&(r=o*o/(n._currentMaxValue+o)),r=o/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?r=o:r<7&&(r=7),n._thumbSize.height=r,n._emptySpace=o-r,n._currentMaxValue>0&&(n._thumbPos.y=t+n._currentValue*n._emptySpace/n._currentMaxValue)}e()})}render(){let n=this.isVertical()?{top:this._scrollPos.top+"px",right:0,height:this._scrollSize.height+"px"}:{bottom:this._scrollPos.bottom+"px",left:0,width:this._scrollSize.width+"px"},e=this.isVertical()?{top:this._thumbPos.y+"px",height:this._thumbSize.height+"px"}:{left:this._thumbPos.x+"px",width:this._thumbSize.width+"px"};return ke`                 <style>                     ${kh}                     ${this._currentThemeSettings}                     ${this._currentColorSchemeSettings}                 </style>                 <div class=${tn(this._getControlClass())} style=${Pi(n)} @mousedown="${t=>this._changeScrollPos(t)}">                     <div class=${tn(this._getThumbClass())} style=${Pi(e)} @mouseenter="${t=>this._thumbMouseEnter(t)}" @mousedown="${t=>this._thumbMouseDown(t)}" @mouseleave="${t=>this._thumbMouseLeave(t)}"></div>                 </div>         `}updated(n){n.forEach((e,t)=>{})}};window.customElements.define("iui-scrollbar",IO);var vO=Se`
    .iui-base-loading {
        opacity: 1;
        pointer-events: none;

        animation-name: iui-base-loading-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-animate {
        0% { opacity: 1; }
        100% { opacity: 0.4; }
    }
    .iui-base-loading-end {
        opacity: 0.4;
        pointer-events: none;

        animation-name: iui-base-loading-end-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-end-animate {
        0% { opacity: 0.4; }
        100% { opacity: 1; }
    }


    .iui-loading-icon {
        background-image: url(../../icons/circular.png);
        height: 48px;
        left: 0;
        position: absolute;
        top: 0;
        width: 48px;
        z-index: 999;

        animation-name: iui-loading-icon-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: infinite;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-loading-icon-animate {
        0% { 
            -ms-transform: rotate(0deg);
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    .iui-draglist {
        background: var(--iui-draglist-background, white);
        border: var(--iui-draglist-border, thin solid transparent);
        border-color: var(--iui-draglist-border-color, transparent);
        box-shadow: var(--iui-draglist-box-shadow, 0 0 0 transparent);
        margin: 0;
        opacity: 0.9;
        overflow: hidden;
        padding: 0;
        pointer-events: none;
        position: absolute;
        transition: border-color 0.4s ease-in-out, box-shadow 0.4s ease-in-out;
        z-index: 999;
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #e5e5e5);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #d5d5d5);
    }
    .iui-draglist-copy {
        background: url(../../icons/copy.ico);
        display: block;
        height: 16px;
        opacity: 0.6;
        position: absolute;
        width: 16px;
        z-index: 999;
    }
    .iui-draglist-corner {
        opacity: 1;
        position: absolute;
        right: -1px;
        bottom: -3px;
        zIndex: 999;
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #f5f5f5);
        border: var(--iui-draglist-corner-border, thin solid #e5e5e5);
        border-color: var(--iui-draglist-corner-border-color, #e5e5e5);
        opacity: 1;
        position: absolute;
        top: -35%;
        left: -20%;
        transform: rotate(45deg);
        width: 250%;
        height: 300%;
        zIndex: 0;
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, black);
        padding: 3px;
        position: relative;
        zIndex: 1;
    }
`;var B6=Se`
    .iui-header-expand-box {
        opacity: 0.75;
    }
    .iui-item {
        color: #cccccc;
    }
    /* Item Hover State */
    .iui-item-hovered {
        background-color: #2a2d2e;
        border: thin solid #2a2d2e;
    }
    /* Item Selected State */
    .iui-item-selected {
        background-color: #37373d;
        border: thin solid #37373d;
        color: white;
    } 

    .iui-list {
        background: #252526;
        border: thin solid #151515;
        color: #cccccc;
    }
    .iui-list li {
        color: #cccccc;
    }
    .iui-list li:hover {
        background-color: #2a2d2e;
        border: 2px solid #2a2d2e;
    }
    .iui-list-item-selected {
        background-color: #37373d;
        color: white;
    }

    .iui-draglist {
        background: var(--iui-draglist-background, #303030);
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #151515);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #252525);
    }
    .iui-draglist-copy {
        background: url(../../../icons/copy-white.ico);
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #151515);
        border-color: var(--iui-draglist-corner-border-color, #050505);
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, #cccccc);
    }
`;var U6=Se`
    .iui-header-enter {
        animation-name: iui-combobox-header-animate-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-enter {
        0% { box-shadow: 0 0 0 transparent; }
        100% { box-shadow: 2px 3px 3px #e5e5e5; }
    } 
    .iui-header-leave {
        animation-name: iui-combobox-header-animate-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-leave {
        0% { box-shadow: 2px 3px 3px #e5e5e5; }
        100% { box-shadow: 0 0 0 transparent; }
    } 
`;var bO=Se`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #cecece);
        border-color:  var(--iui-treeview-border-color, #cecece);
        border-radius: var(--iui-treeview-border-radius, 1px);
        border-width: var(--iui-treeview-border-width, thin);
        color: var(--iui-treeview-color, black);
        cursor: var(--iui-treeview-cursor, default);
        display: var(--iui-treeview-display, block);
        float: var(--iui-treeview-float, none);
        height: var(--iui-treeview-height, 100%);
        margin: var(--iui-treeview-margin, 0);
        opacity: var(--iui-treeview-opacity, 1);
        overflow: hidden;
        padding: var(--iui-treeview-padding, 0);
        position: var(--iui-treeview-position, relative);
        width: var(--iui-treeview-width, auto);
        z-index: var(--iui-treeview-z-index, auto);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-treeview-item-empty-content {
        background: #f5f5f5;
        margin: 0;
    }

    .iui-treeview-block-hover, .iui-treeview-block-select {
        background: var(--iui-treeview-block-background, transparent);
        border: var(--iui-treeview-block-border, thin solid #cecece);
        box-shadow: var(--iui-treeview-block-box-shadow, 2px 3px 3px #e5e5e5);
        pointer-events: none;
        position: absolute;
        z-index: 99;
    }
    .iui-treeview-block-hover > div, .iui-treeview-block-select > div {
        background: var(--iui-treeview-block-panel-background, #f5f5f5);
        pointer-events: auto;
        position: absolute;
        right: 0;
        top: 0;
        z-index: 98;
    }

    /* Disabled State */
    .iui-treeview-disabled div, .iui-treeview-disabled ul {
        opacity: var(--iui-treeview-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var j6=Se`
`;var yO=Se`
    .iui-treeview {
        background: #363636;
        border: #121212;
        color: #c5c5c5;
    }
`;var H6=Se`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #d9d9d9);
        color: var(--iui-treeview-color, black);
    }
`;var wO=Se`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--iui-treeitem-color, black);
        list-style-type: none;
        overflow: hidden;
        margin: var(--iui-treeitem-margin, 0);
        padding: var(--iui-treeitem-padding, 0);
        font-family: arial, sans-serif !important;
        font-size: 0.9rem !important;
    }
    .iui-treeitem-block {
        border: var(--iui-treeitem-border, 1px solid transparent);
        border-color: var(--iui-treeitem-border-color, transparent);
        border-width: var(--iui-treeitem-border-width, 1px);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, black);
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
    }
    .iui-treeitem-content-block {
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--iui-treeitem-content-border-color, transparent);
        border-width: var(--iui-treeitem-content-border-width, 1px);
        display: inline-flex;
        align-items: center;
    }
    .iui-treeitem-content-hovered {
        color: var(--iui-treeitem-content-hovered-color, black);
    }
    .iui-treeitem-content-selected {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
    .iui-treeitem-content-block:focus {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
   
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div {
        background-color: var(--lightColor);
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--fwcGrey7);
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div {
        background-color: var(--lightColor);
        max-width: max-content;    
        font-weight: bold !important;
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div:hover {
        background-color: var(--lightColor) !important;
        max-width: max-content !important;
    }

    
    .iui-treeitem:focus {
        outline: none !important;
    }
    .iui-treeitem-empty {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }
    .iui-treeitem-content {
        display: block;
        margin: 0;
        padding: var(--iui-treeitem-content-padding, 0px);
        position: relative;
        white-space: nowrap;
        max-width: max-content;
        line-height: 1.25;
    }
    .iui-treeitem-content:hover {
        background-color: var(--lightColor);
    }
    .iui-treeitem-content-focused {
        max-width: max-content;
    }
    .iui-treeitem-content:focus {
        outline: none !important;
    }
    .iui-treeitem-content-template {
        display: var(--iui-treeitem-content-template-display, inline-block);
        vertical-align: var(--iui-treeitem-content-template-vertical-align, middle);
    }
    .iui-treeitem-expand-box {
        background: url(../../icons/expandbox-icons.png) no-repeat 0 -48px;
        display: inline-block;
        overflow: hidden;
        padding: 0;
        margin: var(--iui-treeitem-expand-box-margin, 1px 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: top;
        color: #333 !important;
        filter: invert(0%) brightness(0%);
    }      
        .iui-treeview-enter .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-enter {
        0% { opacity: 0; }
        100% { opacity: 1; }
    } 
    .iui-treeview-leave .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-leave {
        0% { opacity: 1; }
        100% { opacity: 0; }
    } 
    .iui-treeitem-expand-box-open {
        background-position: 0 -16px;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: 0 0;
    
        animation-name: expand-box-open;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-open {
        0% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
    }
    .iui-treeitem-expand-box-close {
        background-position: 0 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: 0 0;

        animation-name: expand-box-close;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-close {
        0% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
        100% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
    }
    .iui-treeitem-expand-box-load {
        background: var(--iui-treeitem-expand-box-load-background-image, url(../../icons/load.gif)) no-repeat 0 0 !important;
    }
    .iui-treeitem-list {
        list-style-type: none;
        margin: 0;
        padding: 0 0 0 20px;
        overflow: hidden;
    }

    /* Disabled State */
    .iui-treeitem-disabled div {
        opacity: var(--iui-treeitem-disabled-opacity, 0.75);
        pointer-events: none;
    }

    /* CheckBox */
    .iui-treeitem-checkbox {
        background-image: var(--iui-treeitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-treeitem-checkbox-padding, 0);
        margin: var(--iui-treeitem-checkbox-margin, 0 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-treeitem-checkbox-vertical-align, middle);
    }
    .iui-treeitem-checkbox-checked {
        background-image: var(--iui-treeitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
    .iui-treeitem-checkbox-indeterminate {
        background-image: var(--iui-treeitem-checkbox-indeterminate-background-image, url(../../icons/checkbox-indeterminate.ico));
    }

    /* Animations */
    .iui-treeitem-animate {
        border: 0 solid transparent;
        background-color: transparent;
        box-shadow: none;
        list-style-type: none;
        position: relative;
    }
`;var G6=Se`
    .iui-treeitem {
        transition-duration: var(--iui-treeitem-transition-duration, 0.15s);
        transition-property: var(--iui-treeitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-treeitem-transition-timing-function, ease-in-out);
    }
`;var SO=Se`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--fwcDark)!important;
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #eeeeee);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-selected .iui-treeitem-expand-box, .iui-treeitem-content-selected .iui-treeitem-expand-box {
    }
    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -48px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -48px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
    }
    .iui-treeitem-expand-box-close {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close:hover {
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -48px 0;
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: white;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: white;       
    }
`;var z6=Se`
    .iui-treeitem {
        background: var(--iui-treeitem-background, white);
        color: var(--iui-treeitem-color, black);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
        max-width: max-content;
    } 
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, black);
        max-width: max-content;
    }

    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -80px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -80px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
        background-position: -64px -16px;
    }
    .iui-treeitem-expand-box-close {
        background-position: -80px 0;
    }
    .iui-treeitem-expand-box-close:hover {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -64px 0;
    }
    .iui-treeitem.iui-treeitem-block.iui-treeitem-focused {
        font-weight: 700;
        color:black;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: black;       
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: black;
    }
`;var AO=class extends V6{_init(){super._init(),this._isCheckBoxVisible=!1,this._currentCheckMode=zl.TwoState,this._isThereChildItems=!1,this._fullMoveList=[],this._currentItemDisplay=Po.Full,this._currentItemSize={width:1999,height:1999},this._isExpandBoxVisible=!0,this._isLongestInProcess=!1,this._longestObj={data:null,width:0},this._currentBaseColorSchemeSettings=Se``,this._currentBaseStyleSettings=vO,this._currentControlStyleSettings=bO,this._currentItemColorSchemeSettings=Se``,this._currentItemStyleSettings=wO,this._currentItemThemeSettings=Se``,this._currentScrollColorSchemeSettings=Se``,this._currentScrollStyleSettings=kh,this._generalClassName="iui-treeview",this._itemClassName="iui-treeitem",this._itemContentClassName=this._itemClassName+"-content",this._expandBoxClassName=this._itemClassName+"-expand-box",this._isExpandBoxTouched=!1,this._updateOptions(),this._initStyle(),this._updateData(),this._resizeObserver=new ResizeObserver(n=>{let e=this;if(!e._isAnimationInProcess&&n&&n.length>0&&n[0].contentRect){let t=!1;e._elemRef&&e._updateClientRect(),e._clientRect.width!==e._prevClientRect.width&&(e._prevClientRect.width=e._clientRect.width,t=!0),e._clientRect.height!==e._prevClientRect.height&&(e._prevClientRect.height=e._clientRect.height,t=!0),t&&(e._updateScrollLayout(),e._invokeEvent("sizeChanged",{size:e._clientRect}))}})}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=null,this._removeDropMark(),this._loadingEndTimeout&&clearTimeout(this._loadingEndTimeout),this._resetLayoutTimer()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},expandBox:{general:this._expandBoxClassName,load:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{autoExpand:{type:Boolean,attribute:"auto-expand",reflect:!0},autoSize:{type:Boolean,attribute:"auto-size",reflect:!0},checkBoxes:{type:Boolean,attribute:"check-boxes",reflect:!1},checkMode:{attribute:"check-mode",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="twostate"?zl.TwoState:zl.ThreeState,toAttribute:(n,e)=>n===zl.TwoState?"twostate":"threestate"},reflect:!0},compactMode:{type:Boolean,attribute:"compact-mode",reflect:!0},indent:{type:Number,reflect:!0},itemDisplay:{attribute:"item-display",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="partial"?Po.Partial:Po.Full,toAttribute:(n,e)=>n===Po.Partial?"Partial":"Full"},reflect:!0},showExpandBox:{type:Boolean,attribute:"show-expandbox",reflect:!0}}}get autoExpand(){return this._isAutoExpanded}set autoExpand(n){if(this._isAutoExpanded!==n){let e=this._isAutoExpanded;this._isAutoExpanded=n,this.requestUpdate("autoExpand",e)}}get autoSize(){return this._isAutoSized}set autoSize(n){if(this._isAutoSized!==n){let e=this._isAutoSized;this._isAutoSized=n,this.requestUpdate("autoSize",e),this._internalUpdateLayout()}}get checkBoxes(){return this._isCheckBoxVisible}set checkBoxes(n){if(this._isCheckBoxVisible!==n){let e=this._isCheckBoxVisible;this._isCheckBoxVisible=n,this.requestUpdate("checkBoxes",e),this._internalUpdateLayout()}}get checkMode(){return this._currentCheckMode}set checkMode(n){if(this._currentCheckMode!==n){let e=this._currentCheckMode;this._currentCheckMode=n,this.requestUpdate("checkMode",e),this._internalUpdateLayout()}}get compactMode(){return this._currentCompactMode}set compactMode(n){if(this._currentCompactMode!==n){let e=this._currentCompactMode;this._currentCompactMode=n,this.requestUpdate("compactMode",e),this._internalUpdateLayout()}}get indent(){return this._options.indent}set indent(n){if(this._options.indent!==n){let e=this._options.indent;this._options.indent=n,this.requestUpdate("indent",e),this._internalUpdateLayout()}}get itemDisplay(){return this._currentItemDisplay}set itemDisplay(n){if(this._currentItemDisplay!==n){let e=this._currentItemDisplay;this._currentItemDisplay=n,this.requestUpdate("itemDisplay",e),this._internalUpdateLayout()}}get showExpandBox(){return this._isExpandBoxVisible}set showExpandBox(n){if(this._isExpandBoxVisible!==n){let e=this._isExpandBoxVisible;this._isExpandBoxVisible=n,this.requestUpdate("showExpandBox",e),this._internalUpdateLayout()}}_moveItemAt(n,e,t,o){return he(this,null,function*(){let r=this;return(t===Pt.Before||t===Pt.After||t===Pt.Left||t===Pt.Right)&&!e?Promise.resolve():new Promise(s=>{let a=n.filter(l=>r._fullList.indexOf(l)>=0);if(a.length>0){let l=[],c=!0,u=0,g=!1,_=-1,C=null;switch(t){case Pt.At:e?(_=r._getItemCurrentIndex(e),r._commonService.isIndexInRange(_,r._currentList)&&r.isItemExpanded(e)&&(l=r._currentList.filter(w=>w.data.type!=="group"&&w.data[r._options.dataFields.pid]===e[r._options.dataFields.id]))):l=r._currentList.filter(w=>w.data.type!=="group"&&!w.data[r._options.dataFields.pid]),r._commonService.isIndexInRange(o,l)?C=l[o].data:(o=-1,(C=l.length>0?l[l.length-1].data:e)&&(t=Pt.After,e=C,C=r._getLastChildItemFromExpanded(C)));break;case Pt.First:o=0,e?(C=e,u=1):r._currentList.length>0&&(C=r._currentList[0].data);break;case Pt.Last:o=-1,e?C=r._getLastChildItemFromExpanded(e):(l=r._currentList.filter(w=>w.data.type!=="group"&&!w.data[r._options.dataFields.pid]),(C=l.length>0?l[l.length-1].data:null)&&(t=Pt.After,e=C,C=r._getLastChildItemFromExpanded(C)));break;case Pt.Left:e?(t=Pt.After,g=!0,C=r._getLastChildItemFromExpanded(e),(!r.isItemExpanded(e)||a.indexOf(C)>=0)&&(C=null)):c=!1;break;case Pt.Right:o=-1;break;default:e?(C=e,(t===Pt.After||t===Pt.Down)&&(t=Pt.After,C=r._getLastChildItemFromExpanded(C))):c=!1}if(!g&&c){let w=!1;if(e)for(let S=0;S<a.length&&!(w=e===a[S]?!0:r._isChildOf(e,a[S]));S++);if(!w&&C)for(let S=0;S<a.length&&!(w=C===a[S]?!0:r._isChildOf(C,a[S]));S++);c=!w}if(c){for(let S=0;S<a.length;S++)r._dataService.removeAt(a[S]);let w=t===Pt.Before||t===Pt.Up?a:a.toReversed();for(let S=0;S<w.length;S++){let A=w[S];t===Pt.First||t===Pt.Last||t===Pt.Right||t===Pt.At?r._dataService.insert(A,o,e):t===Pt.Before||t===Pt.Up?r._dataService.insertByRef(A,e):(t===Pt.After||t===Pt.Left||t===Pt.Down)&&r._dataService.insertByRef(A,e,!0)}setTimeout(function(){return he(this,null,function*(){let S=r._getObjFromScrollItem(C);if(S){let A=r._getItemCurrentIndex(C),x=r._getItemScrollIndex(S);t===Pt.After||t===Pt.Down||t===Pt.Last?x+=1:t===Pt.First&&(x+=u),r._fullMoveList.length=0,r._updateMoveList(a);let D=0;for(let V=0;V<r._fullMoveList.length;V++){let X=r._getItemCurrentIndex(r._fullMoveList[V]),ee=r._getObjFromScrollItem(r._fullMoveList[V]);X<A&&!ee&&D++}if(r._isAnimationAllowed&&(r._isAnimationInProcess=!0,r._scrollItemList.length>0)){let V=r._scrollItemList[0],X=r._scrollItemList.length-1,ee=r._scrollItemList[X],ae=[];for(let be=0;be<r._fullMoveList.length;be++){let tt=r._getObjFromScrollItem(r._fullMoveList[be]);if(tt)ae.push(tt);else{let Vt=r._getObjFromItem(r._fullMoveList[be]),ai=r._getItemCurrentIndex(r._fullMoveList[be]),rn={clickPos:{x:0,y:0},data:r._fullMoveList[be],indent:Vt?Vt.indent:0,index:X+be+1,inlineStyle:{},position:{x:ee.position.x,y:ee.position.y+r._currentItemSize.height},showCheckBox:r._isItemCheckBoxAllowed(r._fullMoveList[be]),showRadioButton:r._isItemRadioButtonAllowed(r._fullMoveList[be]),size:{width:0,height:r._currentItemSize.height},targetPosition:{x:ee.position.x,y:ee.position.y+r._currentItemSize.height},style:{},tabIndex:0,zIndex:0};ai<A&&(rn.position.y=V.position.y-r._currentItemSize.height,rn.targetPosition.y=rn.position.y),r._updateItemStyle(rn),ae.push(rn),r._scrollItemList.splice(rn.index,0,rn)}}r.update();let me=r._scrollItemList.filter(be=>r._fullMoveList.indexOf(be.data)<0),Ce={x:r._ctrlPadding.left,y:r._ctrlPadding.top};for(let be=0;be<r._scrollItemList.length&&be<x+D;be++){let tt=r._scrollItemList[be];ae.indexOf(tt)<0&&(tt.targetPosition.y=Ce.y,Ce.y+=r._currentItemSize.height)}ae.forEach(be=>{be.targetPosition.y=Ce.y,be.zIndex=999,Ce.y+=r._currentItemSize.height});for(let be=x+D;be<r._scrollItemList.length;be++){let tt=r._scrollItemList[be];ae.indexOf(tt)<0&&(tt.targetPosition.y=Ce.y,Ce.y+=r._currentItemSize.height)}r._repositionItems(ae,0,250),yield r._repositionItems(me,0,250)}r._currentIndex=Math.max(0,r._currentIndex-D),r._currentScrollPos.y=Math.max(0,Math.min(r._avgItemHeight*r._currentIndex,r._maxScrollPos.y))}yield r._processUpdateCurrentLayout(),r._invokeEvent("itemMoved",{item:a}),r._isAnimationInProcess=!1,s()})},1)}else s()}else s()})})}_updateMoveList(n){let e=this;n.forEach(t=>{e._getItemCurrentIndex(t)>=0&&e._isItemAllowed(t)&&(e._fullMoveList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateMoveList(t[e._options.dataFields.items]))})}_itemDblClickEvent(n,e){if(this._isEnabled){let t={cancel:!1,event:n,item:e.data};this._invokeEvent("itemDblClick",t),t.cancel!==!0&&this.toggle(e.data)}}_checkItem(n,e){if(e){let t=this._getItemCheckValue(e);t=t===void 0||t===bo.Indeterminate||t===bo.Unchecked?bo.Checked:bo.Unchecked,this._updateCheckValue(e,t),this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this.refresh(),this._invokeEvent("checkStateChanged",{item:e,checked:e[this._options.dataFields.checked],checkState:e[this._options.dataFields.checkState]})}n.stopPropagation()}_getItemCheckValue(n){return n?this._currentCheckMode===zl.ThreeState?n[this._options.dataFields.checkState]:n[this._options.dataFields.checked]===!0?bo.Checked:bo.Unchecked:bo.Unchecked}_updateCheckValue(n,e){n&&(n[this._options.dataFields.checkState]=e,n[this._options.dataFields.checked]=e===bo.Checked)}_updateChildItemCheckValue(n){if(n&&n[this._options.dataFields.items])for(let e=0;e<n[this._options.dataFields.items].length;e++){let t=this._getItemCheckValue(n);t===bo.Checked?this._updateCheckValue(n.items[e],bo.Checked):t===bo.Unchecked&&this._updateCheckValue(n.items[e],bo.Unchecked),this._updateChildItemCheckValue(n.items[e])}}_updateParentItemCheckValue(n){let e=this.getItemParent(n);for(;e;){let t=e[this._options.dataFields.items];if(t){let o=0,r=0;for(let a=0;a<t.length;a++){let l=this._getItemCheckValue(t[a]);l===bo.Checked?o++:l===bo.Indeterminate&&r++}let s=bo.Unchecked;o===t.length?s=bo.Checked:(o>0||r>0)&&(s=bo.Indeterminate),this._updateCheckValue(e,s)}e=this.getItemParent(e)}}_updateCheckState(){this._currentCheckMode===zl.ThreeState&&this._updateChildrenCheckState(this._dataService.getList())}_updateChildrenCheckState(n){n&&n.forEach(e=>{this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this._updateChildrenCheckState(e[this._options.dataFields.items])})}_updateData(){this._dataService.init([{data:this.items,fields:this._options.dataFields}]),this._internalUpdateLayout()}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),compactMode:this._commonService.isFieldAvailable(n.compactMode,!1),dataFields:null,indent:this._commonService.isFieldAvailable(n.indent,15),loadItems:[],selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,compactMode:!1,dataFields:null,indent:15,loadItems:[],selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",data:n.data?n.data:"data",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",isRoot:n.isRoot?n.id:"isRoot",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.value?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",checkBoxSettings:"checkBoxSettings",canSelect:"canSelect",checked:"checked",checkState:"checkState",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",data:"data",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",isRoot:"isRoot",items:"items",objects:"items",pid:"pid",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateCurrentList(){this._currentList.length=0,this._isThereChildItems=!1;let n=this._dataService.getList();this._options.compactMode===!0&&(n=this._createCompactList(n)),n&&(n=this._applySorting(n)).forEach(e=>this._addChildItems(e,0,null,!1))}_addChildItems(n,e,t,o,r){let s=!0;if(!n[this._options.dataFields.items])return s=this._addItemToCurrentList(n,e,t,o,r);if(this._addItemToCurrentList(n,e,t,o,r)){s=!0;let a=0;if(o||this.isItemExpanded(n)){let l=n[this._options.dataFields.items];l&&(l=this._applySorting(l)).forEach(c=>{this._addChildItems(c,e+this._options.indent,n[this._options.dataFields.id],o,n)&&a++})}!o&&!this._isThereChildItems&&(a>0||this._isThereItems(n))&&(this._isThereChildItems=!0)}return s}_addItemToCurrentList(n,e,t,o,r){n.type="item",n[this._options.dataFields.id]||(n[this._options.dataFields.id]=this._commonService.getUniqueId()),t?n[this._options.dataFields.pid]=t:delete n[this._options.dataFields.pid];let s=this._isItemAllowed(n);return s&&(o?this._fullList.push(n):this._currentList.push({data:n,dragIndent:e,indent:e,inlineStyle:{},style:{general:{},expandBox:{},content:{}}})),s}_isThereItems(n){return!this.isItemExpanded(n)&&n[this._options.dataFields.items]&&n[this._options.dataFields.items].length>0&&this._isThereVisibleChildren(n)}_resetVisiblity(n){n&&n.forEach(e=>{e[this._options.dataFields.visible]=!0,this._resetVisiblity(e[this._options.dataFields.items])})}_collapseChildren(n){n&&n.forEach(e=>{e[this._options.dataFields.expanded]=!1,this._collapseChildren(e[this._options.dataFields.items])})}_createCompactList(n){if(this._resetVisiblity(n),this.selectedItem){let e=this.selectedItem,t=this.getItemParent(this.selectedItem),o=t,r=this.selectedItem;if(this._collapseChildren(r[this._options.dataFields.items]),t)for(;t;){this._updateChildren(t,r);let s=this.getItemParent(t);s||(e=t),r=t,t=s}n.forEach(s=>{this._commonService.isEqual(s[this._options.dataFields.id],e[this._options.dataFields.id])||(s[this._options.dataFields.visible]=o&&this.isItemExpanded(e)?!1:!(this.isItemExpanded(r)&&this._isThereVisibleChildren(this.selectedItem)))})}return n}_updateChildren(n,e){n[this._options.dataFields.items].forEach(t=>{this._commonService.isEqual(t[this._options.dataFields.id],e[this._options.dataFields.id])||(t[this._options.dataFields.expanded]=!1,t[this._options.dataFields.visible]=!(this.isItemExpanded(e)&&this._isThereVisibleChildren(e)))})}loadData(n,e,t,o){this._processLoadData(n,e,t,o)}_updateScrollItemList(n){let e=this;e._resetScrollItemList(),e._scrollItemList.length=0,e.update();let t=e._isInitAnimationAllowed(),o=t?{x:-e._clientRect.width,y:0}:{x:0,y:0},r={x:e._ctrlPadding.left+o.x,y:e._ctrlPadding.top+o.y},s=e._currentIndex,a=0;for(;s+a<e._currentList.length&&s<e._currentIndex+e._visibleRange;){let l=e._currentList[s+a];if(e._isItemDragged(l.data))a++;else{n&&l.data===n&&(r.y+=e._dragListSize.height);let c={clickPos:{x:0,y:0},data:l.data,indent:l.indent,index:s-e._currentIndex,inlineStyle:e._getItemInlineStyle(l),position:{x:t?r.x-25*s:r.x,y:r.y},showCheckBox:e._isItemCheckBoxAllowed(l.data),showRadioButton:e._isItemRadioButtonAllowed(l.data),size:{width:0,height:e._currentItemSize.height},style:{},tabIndex:0,targetPosition:{x:e._ctrlPadding.left,y:r.y},zIndex:e._currentIndex+e._visibleRange-s};e._updateItemStyle(c),e._scrollItemList.push(c),r.y+=e._currentItemSize.height,s++}}}_checkForChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t){for(let o=0;o<t.length;o++)if(this._isItemAllowed(t[o])){e=!0;break}}return e}_updateIsThereChildItems(){let n=!1,e=this._dataService.getList();if(e)for(let t=0;t<e.length&&!(n=this._checkForChildren(e[t]));t++);this.isThereChildItems=n}_processItemAdd(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_processItemRemoval(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===no.Static&&(this._expandItem=null,this._expandTimeout&&clearTimeout(this._expandTimeout),this._processDragDropStatic(n,e.data),n.stopPropagation())}collapse(n){return he(this,null,function*(){return this.toggle(n,!1)})}expand(n){return he(this,null,function*(){return this.toggle(n,!0)})}_expandBoxMouseDown(n,e){this._isEnabled&&(n.which===1&&!this._isExpandBoxTouched&&this.toggle(e),this._isExpandBoxTouched=!1),n.stopPropagation()}_expandBoxMouseUp(n){this._isExpandBoxTouched=!1,n.stopPropagation()}_expandBoxTouchStart(n,e){this._isEnabled&&(this._isExpandBoxTouched=!0,this.toggle(e)),n.stopPropagation()}_expandBoxTouchEnd(n,e){}toggle(n,e){return he(this,null,function*(){let t=this,o=Promise.resolve();if(n){if(!n[t._options.dataFields.hasChildren]&&(!n[t._options.dataFields.items]||n[t._options.dataFields.items].length===0))return;if(e&&n[t._options.dataFields.expanded]!==!1)return;if(e===!1&&n[t._options.dataFields.expanded]===!1)return;let r=e!==void 0?e:n[t._options.dataFields.expanded]!==!1,s=e!==void 0?e:!r,a={cancel:!1,item:n};e!==void 0?e?t._invokeEvent("beforeExpand",a):t._invokeEvent("beforeCollapse",a):r?t._invokeEvent("beforeCollapse",a):t._invokeEvent("beforeExpand",a),a.cancel!==!0&&(s!==n[t._options.dataFields.expanded]&&(n[t._options.dataFields.expanded]=s,t._isAnimationAllowed?t._options.compactMode===!0?t._processSelection(null,n):(t._isAnimationInProcess=!0,t._clearAnimations(),s?o=t._updateItemExpand(n):o=t._updateItemCollapse(n)):t._internalUpdateCurrentLayout()),t.isItemExpanded(n)?t._invokeEvent("afterExpand",{item:n}):t._invokeEvent("afterCollapse",{item:n}))}else t.getFullList().forEach(r=>r[t._options.dataFields.expanded]=e),t._internalUpdateCurrentLayout();return t.update(),o})}exportToJSON(n,e,t,o){t=t||null,n=n||(o===!1?this.items:this.getFullList());let r=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.content,this._options.dataFields.contextMenu,this._options.dataFields.contentVisibility,this._options.dataFields.enabled,this._options.dataFields.expanded,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.pid,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return o===!1&&r.push(this._options.dataFields.items),JSON.stringify(n,r,t)}_getCheckedItems(){return this._fullList.filter(n=>n[this._options.dataFields.checked]===!0)}_getDisplayMode(){return this._currentItemDisplay===Po.Partial&&!this._isHoverTemplatePresent&&!this._isSelectedTemplatePresent?Po.Partial:Po.Full}updateFullList(){this._fullList.length=0;let n=this._dataService.getList();return n&&n.forEach(e=>this._addChildItems(e,0,null,!0)),this._fullList}getItemLevel(n){let e=0,t=this.getItemParent(n);for(;t;)e++,t=this.getItemParent(t);return e}getItemParent(n){return this._dataService.getParent(n)}getList(n,e){let t=[];switch(n){case"checked":t=this._getCheckedItems();break;case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(o=>o.data):[];break;default:t=this._dataService.getList(e)}return t}_isChildOf(n,e){let t=!1;if(n&&e){let o=e[this._options.dataFields.items];if(o&&o.length>0)for(let r=0;r<o.length;r++){if(this._commonService.isEqual(n[this._options.dataFields.id],o[r][this._options.dataFields.id])){t=!0;break}else t=this._isChildOf(n,o[r]);if(t)break}}return t}_isItemCheckBoxAllowed(n){return this._isCheckBoxVisible&&n&&this._commonService.isTrue(n[this._options.dataFields.allowCheckBox])}_isParentOf(n,e){let t=this._dataService.getParent(e);return!!(n&&e&&t&&this._commonService.isEqual(n[this._options.dataFields.id],t[this._options.dataFields.id]))}isThereChildren(){return this._isThereChildItems}_isThereVisibleChildren(n){let e=!1;if(n){let t=n[this._options.dataFields.items];if(t){for(let o=0;o<t.length;o++)if(this._isItemAllowed(t[o])){e=!0;break}}}return e}_getFirstItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[0]),e}_getItemRealIndex(n){let e=this._dataService.getList();return e?e.indexOf(n):-1}getPrevItem(n){let e=null;if(n){let t=this._dataService.getList(),o=this.getItemParent(n);if(o&&(t=o[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let r=t.indexOf(n);(r=r>0?r-1:-1)>=0&&(e=t[r])}}return e}getNextItem(n){let e=null;if(n){let t=this._dataService.getList(),o=this.getItemParent(n);if(o&&(t=o[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let r=t.indexOf(n);(r=r<t.length-1?r+1:-1)>=0&&(e=t[r])}}return e}_getLastItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[t.length-1]),e}moveItem(n,e,t,o){return he(this,null,function*(){if(n){let r=-1;switch(e){case Pt.At:r=o;break;case Pt.Down:t=this.getNextItem(n);break;case Pt.Left:t=this.getItemParent(n);break;case Pt.Right:case Pt.Up:t=this.getPrevItem(n);break;default:r=-1}let s=Array.isArray(n)?n:[n],a=[];for(let l=0;l<s.length;l++){let c=s[l],u=!1,g=this.getItemParent(c);for(;g;){if(s.indexOf(g)>=0){u=!0;break}g=this.getItemParent(g)}u||a.push(c)}a.length>0&&this._getItemCurrentIndex(a[0])>this._getItemCurrentIndex(a[a.length-1])&&(a=a.toReversed()),yield this._moveItemAt(a,t,e,r)}return Promise.resolve()})}_processLeftArrowKey(n,e){return this.collapse(n.data),this._refreshFocusedItem(n),null}_processRightArrowKey(n,e){return this.expand(n.data),this._refreshFocusedItem(n),null}_updateBlockSize(){this._currentItemDisplay===Po.Partial?this.virtualMode!==!1&&this._updateLongestItem():(this._blockSize={width:this._scrollBarSize.width+2,height:this._scrollBarSize.height+2},this._currentScrollAppearance===nn.Dynamic&&(this._blockSize.width+=5),this._longestItemWidthValue=this._getFullItemWidth())}_isItemInCurrentList(n){let e=!1;if(n){for(let t=0;t<this._currentList.length;t++)if(this._currentList[t].data.id===n.id){e=!0;break}}return e}_getFullItemWidth(){return!this._isLongestInProcess&&this._currentItemDisplay===Po.Partial&&(this._isHoverTemplatePresent||this._isSelectedTemplatePresent)?this._longestItemWidth+"px":this._currentItemSize.width+"px"}_updateLongestItem(){let n=this;n._isLongestInProcess=!0,n._prevLongestItemWidth=n._longestObj&&n._isItemInCurrentList(n._longestObj.data)?n._longestObj.width:0,setTimeout(function(){n._longestObj&&!n._isItemInCurrentList(n._longestObj.data)&&(n._longestObj={data:null,width:0});let e=n._getItemContentElemList();e&&(n._calcLongestItem(e),n._prevLongestItemWidth<n._clientRect.width&&(n._prevLongestItemWidth=n._clientRect.width));let t=n._commonService.getPadding(n._elemRef);n._blockSize.width=n._longestObj.width+(t.left+t.right),n._isLongestInProcess=!1,n._longestItemWidth=n._prevLongestItemWidth,n._longestItemWidthValue=n._getFullItemWidth(),n._updateScrollSize()},1)}_calcLongestItem(n,e){let t=0;for(let o=0;o<n.length;o++)if(o<this._scrollItemList.length){let r=this._scrollItemList[o].data,s=this._getObjFromItem(r);if(s){let a=n[o].offsetWidth+s.indent;if(!e&&this._longestObj.data===s.data){this._calcLongestItem(n,!0);break}t<a&&a>=this._longestObj.width&&(t=a,this._longestObj={data:s.data,width:t},this._prevLongestItemWidth=t)}}}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemDisplay===Po.Partial&&n._virtualMode!==!1?n._updateLongestItem():n._updateScrollSize(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),n._updateHoverContentPos(),n._updateSelectContentPos(),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateCurrentLayout(n){let e=this;e._isUpdateAllowed&&(e._resetLayoutTimer(),e._updateCurrentList(),this._isAutoSized&&this._updateVisibleRange(),n&&e.updateFullList(),e._updateScrollItemList(),this._currentItemDisplay===Po.Partial&&this._virtualMode!==!1?e._updateLongestItem():e._updateScrollSize(),e._updateTimer=setTimeout(function(){e._updateBlockSize(),e.update(),e._updateItemElems(),e._updateHoverContentPos(),e._updateSelectContentPos(),e.update(),clearTimeout(e._updateTimer)},1))}_updateScrollLayout(){this._updateClientRect(),this._updateBlockSize(),this._updateScrollSize(),this._currentItemSize={width:this._contentSize.width,height:this._avgItemHeight},this.refresh(),this._updateItemElems(),this.update()}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-3,height:n._clientRect.height},n._scrollSize={width:n._currentItemDisplay===Po.Partial?n._blockSize.width-n._clientRect.width-2:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._currentScrollAppearance===nn.Static?n._contentSize.width-=16:(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._contentSize.width-=13)),n._currentItemDisplay===Po.Partial&&n._scrollSize.width>=-6&&(n.isVerScrollVisible()&&(n._scrollSize.width+=16),(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._scrollSize.width+=4)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-16:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-16:n._clientRect.height},n._currentScrollAppearance===nn.Static?(n._scrollBarSize.width-=2,n._scrollBarSize.height-=2):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect.width=n._clientRect.width-2;let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===nn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}beginLoad(n){if(n)this._options.loadItems.indexOf(n)<0&&this._options.loadItems.push(n);else{this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}this.update()}endLoad(n){let e=this;if(n){let t=e._options.loadItems.indexOf(n);t>=0&&e._options.loadItems.splice(t,1),e._updateCurrentLayout(!0)}else e._options.loadItems.length=0,e._isLoading=!1,e._isLoadingEnd=!0,e.refresh(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_isItemLoading(n){return this._options.loadItems.indexOf(n)>=0}_checkedChanged(n,e){if(!this._isAnimationInProcess){let t=n.detail.checked;e.data[this._options.dataFields.checked]!==t&&(e.data[this._options.dataFields.checked]=t,this._updateItemRadioButtonValue(e),this._invokeEvent("checkedChanged",{event:n,item:e.data,checked:e.data[this._options.dataFields.checked]}),this.update())}}_getItemRadioValue(n){return!!(n&&n[this._options.dataFields.checked]===!0)}_isItemRadioButtonAllowed(n){return n&&n[this._options.dataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n){if(n){let e=this.getItemParent(n.data);(e?e[this._options.dataFields.items]:[]).forEach(t=>{this._isItemRadioButtonAllowed(t)&&t!==n.data&&(t[this._options.dataFields.checked]=!1)})}}scrollTo(n,e){let t=this;if(t.virtualMode!==!1&&n)if(e!==void 0){let o=t._getItemCurrentIndex(n);o>=0&&t.scrollPos({x:t._currentScrollPos.x,y:e!==void 0?t._avgItemHeight*(o-e):t._avgItemHeight*(o+1-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()}else{t.suspendLayout();let o=t.getItemParent(n);for(;o!==null;)t.expand(o),o=t.getItemParent(o);t.resumeLayout();let r=setTimeout(function(){let s=t._getItemCurrentIndex(n);s>=0&&(t.scrollPos({x:t._currentScrollPos.x,y:t._avgItemHeight*(s-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()),clearTimeout(r)},150)}}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e),this._options.compactMode===!0&&(this.getItemParent(n)&&(n[this._options.dataFields.expanded]=!0),this._processUpdateLayout())}_getControlStyle(){let n=this._currentInlineStyle||{};if(n.cursor=this._ctrlCursor,n.overflow=this.virtualMode?"hidden":"auto",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._isAutoSized){let e=this._currentCtrlSize.height;this.isHorScrollVisible()&&(e+=16),n.height=e+"px"}else this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px");return n}_getBlockStyle(){let n={};return this._currentItemDisplay===Po.Partial&&(n={width:this._blockSize.width+"px"}),n}_getItemInlineContentStyle(n){let e={};return e["padding-left"]=n.indent+"px",e}_isThereNoItems(n){return n[this._options.dataFields.items]&&n[this._options.dataFields.items].length===0}_itemHasChildren(n){return n[this._options.dataFields.hasChildren]&&(this._isThereVisibleChildren(n)||!n[this._options.dataFields.items]||this._isThereNoItems(n))}_updateItemStyle(n){if(n){n.style={general:{},expandBox:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._getDisplayMode()===Po.Partial?(n.style.content["iui-treeitem-content-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.content[this._options.currentStyle.item.content.selected]=!0:this._isItemHovered(n.data)&&(n.style.content[this._options.currentStyle.item.content.hovered]=!0):n.style.content[this._options.currentStyle.item.content.disabled]=!0):(n.style.general["iui-treeitem-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.general[this._options.currentStyle.item.general.selected]=!0:this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0):n.style.general[this._options.currentStyle.item.general.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.content[this._options.currentStyle.item.content.focused]=!0),(this._isThereChildItems||n.data[this._options.dataFields.hasChildren])&&(n.style.expandBox[this._options.currentStyle.item.expandBox.general]=!0),(this._itemHasChildren(n.data)||this._isThereVisibleChildren(n.data))&&(this._isItemLoading(n.data)?n.style.expandBox[this._options.currentStyle.item.expandBox.load]=!0:n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.item.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.item.expandBox.collapsed]=!0);let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getAppliedExpandBoxClass(n){return n.style.expandBox}_getAppliedItemClass(n){return n.style.general}_getAppliedItemStyle(n,e){let t=this._commonService.getStyle(n.inlineStyle),o=Q({},t.normal)||{};return this._isItemEnabled(n.data)?this._isItemSelected(n.data)?o=Q({},t.selected)||{}:this._isItemHovered(n.data)&&(o=Q({},t.hovered)||{}):o=Q({},t.disabled)||{},o.position="absolute",n.position&&(o.top=n.position.y+"px",n.removeStart||(o.left=n.position.x-this._currentScrollPos.x+"px")),n.scale!==void 0&&(o.transform="scale("+n.scale+")"),n.animateLeft!==void 0&&(o.left=n.animateLeft+"%"),o.zIndex=n.zIndex!==void 0?n.zIndex:this._visibleRange-e,o.display=this._currentItemDisplay===Po.Partial?"inline-block":"block",o.width=this._longestItemWidthValue,o}_getAppliedItemExpandBoxStyle(n){return this._commonService.getStyle(n.inlineStyle).expandBox||{}}_getCheckBoxClass(n){let e={"iui-treeitem-checkbox":!0};if(this._currentCheckMode===zl.ThreeState)switch(n[this._options.dataFields.checkState]){case bo.Indeterminate:e["iui-treeitem-checkbox-indeterminate"]=!0;break;case bo.Checked:e["iui-treeitem-checkbox-checked"]=!0;break;default:this._defaultFunc()}else n[this._options.dataFields.checked]&&(e["iui-treeitem-checkbox-checked"]=!0);return e}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),expandBox:this._getItemExpandBoxStyle(n.expandBox),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemExpandBoxStyle(n){return this._commonService.isString(n)?n:n?{general:this._commonService.isFieldAvailable(n.disabled,this._expandBoxClassName),load:this._commonService.isFieldAvailable(n.focused,this._expandBoxClassName+"-load"),expanded:this._commonService.isFieldAvailable(n.normal,this._expandBoxClassName+"-open"),collapsed:this._commonService.isFieldAvailable(n.hovered,this._expandBoxClassName+"-close")}:this._getDefaultItemExpandBoxStyle()}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),expandBox:this._getDefaultItemExpandBoxStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemExpandBoxStyle(){return{general:this._defaultStyle.item.expandBox.general,load:this._defaultStyle.item.expandBox.load,expanded:this._defaultStyle.item.expandBox.expanded,collapsed:this._defaultStyle.item.expandBox.collapsed}}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),item:this._getDefaultItemStyle()}}_updateColorSchemeSettings(n){switch(this._currentBaseColorSchemeSettings=Se``,this._currentColorSchemeSettings=Se``,this._currentItemColorSchemeSettings=Se``,this._currentScrollColorSchemeSettings=Se``,n){case Xt.Dark:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(B6.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(yO.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(SO.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(vg.cssText,"../../../icons",this._currentResourcePath);break;case Xt.Light:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(U6.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(H6.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(z6.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(Tb.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentBaseColorSchemeSettings.cssText="",this._currentColorSchemeSettings.cssText="",this._currentItemColorSchemeSettings.cssText="",this._currentScrollColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=Se``,this._currentItemThemeSettings=Se``,this._currentScrollStyleSettings=Se``,n){case on.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(j6.cssText,"../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(G6.cssText,"../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(Eb.cssText,"../../icons",this._currentResourcePath);break;case on.Dark:this._currentThemeSettings.cssText=this._commonService.replaceAll(yO.cssText,"../../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(SO.cssText,"../../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(vg.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText="",this._currentItemThemeSettings.cssText="",this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(kh.cssText,"../../icons",this._currentResourcePath)}}_getItemTemplate(n,e){let t=null,o=null;switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let r=t(n,this._getItemCurrentIndex(n));r&&(o=new ba(r.strings,r.values,"html",lu))}if(!o){let r={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(a=>r[a]=!0),o=ke`                 ${s.length>0?ke`<span class=${tn(r)}></span>`:ke``}                 ${n[this._options.dataFields.iconUrl]?ke`<img style=${Pi({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:ke``}                 <span class="iui-item-label" >${n[this._options.dataFields.text]}</span>             `}return o}_getDragTemplate(n){return ke`             <div class=${tn({[this._itemClassName]:!0})}>                 <div style=${Pi({"padding-left":n.indent+"px"})}>                     <div class=${tn({[this._itemContentClassName]:!0})}>                         ${this.showExpandBox?ke`<span class=${tn(n.style.expandBox)}></span>`:ke``}                         ${this._isCheckBoxVisible?ke`<span class=${tn(this._getCheckBoxClass(n.data))}></span>`:ke``}                         <div style="display:inline-block">                             ${this._getItemTemplate(n.data)}                         </div>                     </div>                 </div>             </div>         `}_isExpandBoxPresent(n){return this._isThereChildItems||n[this._options.dataFields.hasChildren]}_getDragItemExpandBoxStyle(n){let e={};return(this._isThereChildItems||n[this._options.dataFields.hasChildren])&&(e[this._expandBoxClassName]=!0),(this._itemHasChildren(n)||this._isThereVisibleChildren(n))&&(e[this._expandBoxClassName+"-close"]=!0),e}_calcDragMoveSpace(){return Math.floor(.25*this._currentItemSize.height)}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let o=this._scrollItemList.length-1;o>=0;o--){let r=this._scrollItemList[o];if(e=r,this._dragListPos.top+this._dragListSize.height>r.position.y&&this._isDropAllowed(t.source,e.data)){this._dropPos=1,this._dragListPos.top+this._dragListSize.height>r.position.y+this._dragMoveSpace&&(this._dragListIndex=o+1,this._dropPos=0,this._dragListPos.top>r.position.y+r.size.height+this._dragMoveSpace/2?this._dropPos=-1:this._dragListPos.top>r.position.y+r.size.height-this._dragMoveSpace&&(this._dropPos=2)),n=!0,this._dragTargetIndex=o;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let o=0;o<this._scrollItemList.length;o++){let r=this._scrollItemList[o];if(e=r,this._dragListPos.top<r.position.y+r.size.height&&this._isDropAllowed(t.source,e.data)){this._dropPos=2,this._dragListPos.top<r.position.y+r.size.height-this._dragMoveSpace&&(this._dropPos=0,this._dragListPos.top<r.position.y+r.size.height/2&&(this._dragListIndex=o,this._dropPos=1)),n=!0,this._dragTargetIndex=o;break}}return{pass:n,target:e}}_updateDragIndent(n){this._activeAnimations.filter(e=>e.getTarget()==="INDENT").length===0&&this._animateIndent(this._dragItemList,this._dropPos===0?n+this._options.indent:n)}_animateIndent(n,e){let t=this._updateIndentAnimation.bind(this),o=new nr("INDENT");this._activeAnimations.push(o);let r=[];n.forEach(s=>r.push({element:s,current:{paddingLeft:s.indent},values:{paddingLeft:e}})),o.animate(r,0,this._currentAnimationSpeedValue,t)}_updateIndentAnimation(n,e,t){n.length>0&&(n.forEach(o=>{o.element&&(o.element.indent=o.values.paddingLeft,e&&(this._clearTargetAnimation("INDENT"),this._clearInactiveAnimations()))}),this.update())}_getRadioButtonLayout(n){let e=ke``;if(n.showRadioButton){let t=Se`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;e=ke`                 <iui-radiobutton                      .checked=${this._getItemRadioValue(n.data)}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[t,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this._currentTheme}"                     @checkedChanged="${o=>this._checkedChanged(o,n)}"                 ></iui-radiobutton>`}return e}render(){return ke`                 <style>                     ${kh}                     ${this._currentBaseStyleSettings}                     ${this._currentBaseColorSchemeSettings}                     ${this._currentScrollStyleSettings}                     ${this._currentControlStyleSettings}                     ${this._currentItemStyleSettings}                     ${this._currentThemeSettings}                     ${this._currentItemThemeSettings}                     ${this._currentColorSchemeSettings}                     ${this._currentItemColorSchemeSettings}                     ${this._currentScrollColorSchemeSettings}                     ${this._currentCustomStyle}                 </style>                 <div data-ctrl="treeview" class=${tn(this._getControlClass())} style=${Pi(this._getControlStyle())} @DOMMouseScroll="${n=>this._processMouseWheel(n)}" @mousewheel="${n=>this._processMouseWheel(n)}" @mouseenter="${n=>this._ctrlMouseEnter(n)}" @mouseleave="${n=>this._ctrlMouseLeave(n)}" @mousemove="${n=>this._onCtrlMouseMove(n)}" @dragenter="${n=>this._ctrlDragEnter(n)}" @dragleave="${n=>this._ctrlDragLeave(n)}" @dragover="${n=>this._ctrlDragOver(n)}" @drop="${n=>this._ctrlDragDrop(n)}" @dragend="${n=>this._ctrlDragEnd(n)}" @scroll="${n=>this._onScroll(n)}">                     <div class=${tn({"iui-base-loading":!!this._isLoading,"iui-base-loading-end":!!this._isLoadingEnd})}>                         <ul style=${Pi({width:this._currentItemDisplay===Po.Partial?"9999px":this._blockSize.width+"px",height:this._contentSize.height+"px",margin:this._isScrollListInit?"-9999px 0 0 0":0,padding:0})} @touchstart="${n=>this._ctrlTouchStart(n)}" @touchend="${n=>this._ctrlTouchEnd(n)}">                             ${this._scrollItemList.map((n,e)=>ke`                                 <li data-item class=${tn(this._getAppliedItemClass(n))} style=${Pi(this._getAppliedItemStyle(n,e))} @mouseenter="${t=>this._itemMouseEnter(t,n)}" @mousemove="${t=>this._itemMouseMove(t,n)}" @mouseleave="${t=>this._itemMouseLeave(t,n)}">                                     <div style=${Pi({"padding-left":n.indent+"px"})} draggable="true" @mousedown="${t=>this._itemMouseDown(t,n)}" @mouseup="${t=>this._itemMouseUp(t,n)}" @dragstart="${t=>this._itemDragStart(t,n,e)}" @dragover="${t=>this._itemDragOver(t,n,e)}" @drop="${t=>this._itemDragDrop(t,n)}" @dragend="${t=>this._ctrlDragEnd(t)}" @touchstart="${t=>this._itemTouchStart(t,n)}" @touchmove="${t=>this._itemTouchMove(t,n)}" @touchend="${t=>this._itemTouchEnd(t,n)}">                                         <div data-item-content class=${tn(n.style.content)} style=${Pi({display:this._currentItemDisplay===Po.Partial?"inline-block":"block"})} tabindex="${n.tabIndex}" @focus="${()=>this._itemGotFocus(n)}" @blur="${()=>this._itemLostFocus(n)}" @keydown="${t=>this._itemKeyDown(t,n)}" @keypress="${t=>this._itemKeyPress(t,n)}" @keyup="${t=>this._itemKeyUp(t,n)}">                                             <div class="iui-treeitem-content-block">                                                 ${this.showExpandBox?ke`<span class=${tn(this._getAppliedExpandBoxClass(n))} style=${Pi(this._getAppliedItemExpandBoxStyle(n))} @mousedown="${t=>this._expandBoxMouseDown(t,n.data)}" @mouseup="${t=>this._expandBoxMouseUp(t)}" @touchstart="${t=>this._expandBoxTouchStart(t,n.data)}" @touchend="${t=>this._expandBoxTouchEnd(t,n.data)}"></span>`:ke``}                                                 ${n.showCheckBox?ke`<span class=${tn(this._getCheckBoxClass(n.data))} @mousedown="${t=>this._checkItem(t,n.data)}" @touchstart="${t=>this._checkItem(t,n.data)}"></span>`:ke``}                                                 ${this._getRadioButtonLayout(n)}                                                 <div class="iui-treeitem-content-template" @click="${t=>this._itemClickEvent(t,n)}" @dblclick="${t=>this._itemDblClickEvent(t,n)}" @contextmenu="${t=>this._itemRightClickEvent(t,n)}">                                                     ${this._getItemTemplate(n.data)}                                                 </div>                                             </div>                                         </div>                                     </div>                                 </li>                             `)}                         </ul>                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isHoverTemplatePresent&&this._hoverItemObj&&this._isContentAllowed(this._hoverItemObj.data,"hover")?ke`<div class="iui-treeview-block iui-treeview-block-hover" style=${Pi({left:this._blockHoverRect.left+"px",top:this._blockHoverRect.top+"px",height:this._blockHoverRect.height+"px",width:this._blockHoverRect.width+"px"})}>                                     <div style=${Pi({height:this._blockHoverRect.height+"px"})} @mousemove="${n=>this._hoverBlockMouseMove(n)}" @mouseleave="${n=>this._hoverBlockMouseLeave(n)}">                                         ${this._getItemTemplate(this._hoverItemObj.data,"hover")}                                     </div>                                 </div>`:ke``}                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isSelectedTemplatePresent?this._currentSelectedItems.map((n,e)=>ke`<span>                                     ${this._isContentAllowed(n,"select")?ke`<div class="iui-treeview-block iui-treeview-block-select" style=${Pi(this._getSelectBlockRect(e))}>                                             <div style=${Pi({height:this._blockSelectHeight+"px"})}>                                                 ${this._getItemTemplate(n,"select")}                                             </div>                                         </div>`:ke``}                                     </span>`):ke``}                         ${this.isVerScrollVisible()?ke`<iui-scrollbar id="ver-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" .value="${this._currentScrollPos.y}" .max="${this._maxScrollPos.y}" .largeChange="${this._scrollLargeChange.y}" .height="${this._scrollBarSize.height}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onVerticalScrollChanged(n)}" @scrollStart="${n=>this._onVerticalScrollStart(n)}" @scrollEnd="${n=>this._onVerticalScrollEnd(n)}"></iui-scrollbar>`:ke``}                         ${this.isHorScrollVisible()?ke`<iui-scrollbar id="hor-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" orientation="Horizontal" .value="${this._currentScrollPos.x}" .max="${this._maxScrollPos.x}" .width="${this._scrollBarSize.width}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onHorizontalScrollChanged(n)}" @scrollStart="${n=>this._onHorizontalScrollStart(n)}" @scrollEnd="${n=>this._onHorizontalScrollEnd(n)}"></iui-scrollbar>`:ke``}                         ${this.isVerScrollVisible()&&this.isHorScrollVisible()?ke`<div class=${tn(this._getScrollCornerClass())}></div>`:ke``}                     </div>                     ${this._isDragActive&&this._isCtrlDragEntered?ke`<div id="drag-content" class=${tn(this._getDragListClass())} style=${Pi({top:this._dragListPos.top+"px",width:this._contentSize.width-2+"px"})}>                                 ${this._isDragCopy?ke`<span class="iui-draglist-copy" style=${Pi({top:this._currentDragItems===1?this._dragListSize.height/2-8+"px":"3px",left:this._dragListSize.width/2-8+"px"})}></span>`:ke``}                                 <ul style=${Pi({margin:0,padding:0})}>                                     ${this._dragItemList.filter((n,e)=>e<this._maxDragItems).map((n,e)=>ke`                                         <li class=${tn({"iui-listitem-animate":this.allowAnimation})} style=${Pi({border:"thin solid gray2"})}>                                             ${this._getDragTemplate(n)}                                         </li>                                     `)}                                 </ul>                                 ${this._totalDragItems>this._currentDragItems?ke`<div class="iui-draglist-corner">                                             <div class="iui-draglist-corner-block"></div>                                             <div class="iui-draglist-num">+${this._totalDragItems-this._currentDragItems}</div>                                         </div>`:ke``}                             </div>`:ke``}                     ${this._isLoading?ke`<div class="iui-loading-icon" style=${Pi({top:this._loadIconPos.top+"px",left:this._loadIconPos.left+"px"})}></div>`:ke``}                 </div>             `}firstUpdated(n){let e=this;e._updateReferences(),setTimeout(function(){e._isHoverTemplatePresent=!!e.itemHoverTemplate,e._isSelectedTemplatePresent=!!e.itemSelectTemplate,e._internalUpdateLayout()},1)}updated(n){n.forEach((e,t)=>{}),this._updateFocusItem()}_updateControlStyleSettings(n){this._currentBaseStyleSettings=Se``,this._currentBaseStyleSettings.cssText=this._commonService.replaceAll(vO.cssText,"../../icons",n),this._currentControlStyleSettings=Se``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(bO.cssText,"../../icons",n),this._currentItemStyleSettings=Se``,this._currentItemStyleSettings.cssText=this._commonService.replaceAll(wO.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=treeview]"),this._resizeObserver&&this._resizeObserver.observe(this._elemRef)}};window.customElements.define("iui-treeview",AO);var W6=Se`
  .fwcBadge {
    display: inline-block;
    border-radius: 50%;
    color: var(--fwcWhite);
    height: 1.3rem;
    width: 1.3rem;
    line-height: 1.3rem;
    text-align: center;
    margin-bottom: 0.2rem;
  }

  .fwcBadgeFw {
    float: left;
    width: 13px;
    height: 13px;
    display: flex; /* Added for centering content */
    align-items: center; /* Vertically center content */
    justify-content: center; /* Horizontally center content */

    p {
      font-size: 9px;
      font-weight: bold;
      text-align: center;
      color: var(--fwcWhite);
      margin: 0; /* Reset margin to avoid unexpected space */
      line-height: 1; /* Ensure single line height */
    }

    &.fwcBadgeFw-C {
      background-color: var(--fwcPaleOrange);      
      margin-right: 1px;
    }

    &.fwcBadgeFw-I {
      background-color: var(--fwcOrange);     
    }
  }

  .spanInfoPill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;

    span:first-child {
      color: var(--fwcWhite);
      display: inline-block;
      background-color: var(--fwcDarkBlue);
      border: 1px solid var(--fwcDarkBlue);
      padding: 0 0.4rem;

      p {
        vertical-align: middle;
        display: inline-block;
        margin: 0;
        padding: 0;
        font-family: monospace;
        font-size: smaller;
        text-transform: uppercase;
      }
    }

    span:last-child {
      padding: 0 3px;
    }

    &.pillSuccess {
      border: 1px solid var(--fwcGreen);
      color: var(--fwcDarkGreen);

      span:first-child {
        background: var(--fwcPaleGreen);
        border: 1px solid var(--fwcPaleGreen);
        border-right: 1px solid var(--fwcGreen);
        color: var(--fwcDark);
      }
    }

    &.pillDanger {
      border: 1px solid var(--fwcRed2);
      color: var(--fwcRed2);

      span:first-child {
        background: var(--fwcPaleRed);
        border: 1px solid var(--fwcPaleRed);
        border-right: 1px solid var(--fwcRed2);
        color: var(--fwcRed2);
      }
    }

    &.pillInfo {
      border: 1px solid var(--fwcBlue);
      color: var(--fwcBlue);

      span:first-child {
        background: var(--fwcPaleBlue);
        border: 1px solid var(--fwcPaleBlue);
        border-right: 1px solid var(--fwcBlue);
        color: var(--fwcDarkBlue);
      }
    }

    &.pillInfoBadge {
      border: 1px solid var(--fwcPaleBlue);

      span:first-child {
        background: var(--fwcPaleBlue);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillWarnBadge {
      border: 1px solid var(--fwcGreen);

      span:first-child {
        background: var(--fwcGreen);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillSecondaryBadge {
      border: 1px solid var(--fwcPaleDark);

      span:first-child {
        background: var(--fwcPaleDark);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }
  }

  .spanSimplePill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;
    margin: 0 0.5rem;
    padding-left: 3px;
    padding-right: 0.5rem;
    background-color: var(--fwcWhite);
    cursor: pointer;

    &-select {
      font-weight: normal;
      font-style: normal;
      color: var(--fwcMidDark);
    }
  }
`;var $6=Se`
  .flag-icon {
    display: inline-block;
    width: 1.3em;
    height: 1em;
    background-size: cover;
    background-position: 50%;
    background-repeat: no-repeat;
  }
  .flag-icon-ac { background-image: url('/assets/flags/4x3/ac.svg'); }
.flag-icon-ad { background-image: url('/assets/flags/4x3/ad.svg'); }
.flag-icon-ae { background-image: url('/assets/flags/4x3/ae.svg'); }
.flag-icon-af { background-image: url('/assets/flags/4x3/af.svg'); }
.flag-icon-ag { background-image: url('/assets/flags/4x3/ag.svg'); }
.flag-icon-ai { background-image: url('/assets/flags/4x3/ai.svg'); }
.flag-icon-al { background-image: url('/assets/flags/4x3/al.svg'); }
.flag-icon-am { background-image: url('/assets/flags/4x3/am.svg'); }
.flag-icon-ao { background-image: url('/assets/flags/4x3/ao.svg'); }
.flag-icon-aq { background-image: url('/assets/flags/4x3/aq.svg'); }
.flag-icon-ar { background-image: url('/assets/flags/4x3/ar.svg'); }
.flag-icon-as { background-image: url('/assets/flags/4x3/as.svg'); }
.flag-icon-at { background-image: url('/assets/flags/4x3/at.svg'); }
.flag-icon-au { background-image: url('/assets/flags/4x3/au.svg'); }
.flag-icon-aw { background-image: url('/assets/flags/4x3/aw.svg'); }
.flag-icon-ax { background-image: url('/assets/flags/4x3/ax.svg'); }
.flag-icon-az { background-image: url('/assets/flags/4x3/az.svg'); }
.flag-icon-ba { background-image: url('/assets/flags/4x3/ba.svg'); }
.flag-icon-bb { background-image: url('/assets/flags/4x3/bb.svg'); }
.flag-icon-bd { background-image: url('/assets/flags/4x3/bd.svg'); }
.flag-icon-be { background-image: url('/assets/flags/4x3/be.svg'); }
.flag-icon-bf { background-image: url('/assets/flags/4x3/bf.svg'); }
.flag-icon-bg { background-image: url('/assets/flags/4x3/bg.svg'); }
.flag-icon-bh { background-image: url('/assets/flags/4x3/bh.svg'); }
.flag-icon-bi { background-image: url('/assets/flags/4x3/bi.svg'); }
.flag-icon-bj { background-image: url('/assets/flags/4x3/bj.svg'); }
.flag-icon-bl { background-image: url('/assets/flags/4x3/bl.svg'); }
.flag-icon-bm { background-image: url('/assets/flags/4x3/bm.svg'); }
.flag-icon-bn { background-image: url('/assets/flags/4x3/bn.svg'); }
.flag-icon-bo { background-image: url('/assets/flags/4x3/bo.svg'); }
.flag-icon-bq { background-image: url('/assets/flags/4x3/bq.svg'); }
.flag-icon-br { background-image: url('/assets/flags/4x3/br.svg'); }
.flag-icon-bs { background-image: url('/assets/flags/4x3/bs.svg'); }
.flag-icon-bt { background-image: url('/assets/flags/4x3/bt.svg'); }
.flag-icon-bv { background-image: url('/assets/flags/4x3/bv.svg'); }
.flag-icon-bw { background-image: url('/assets/flags/4x3/bw.svg'); }
.flag-icon-by { background-image: url('/assets/flags/4x3/by.svg'); }
.flag-icon-bz { background-image: url('/assets/flags/4x3/bz.svg'); }
.flag-icon-ca { background-image: url('/assets/flags/4x3/ca.svg'); }
.flag-icon-cc { background-image: url('/assets/flags/4x3/cc.svg'); }
.flag-icon-cd { background-image: url('/assets/flags/4x3/cd.svg'); }
.flag-icon-cf { background-image: url('/assets/flags/4x3/cf.svg'); }
.flag-icon-cg { background-image: url('/assets/flags/4x3/cg.svg'); }
.flag-icon-ch { background-image: url('/assets/flags/4x3/ch.svg'); }
.flag-icon-ci { background-image: url('/assets/flags/4x3/ci.svg'); }
.flag-icon-ck { background-image: url('/assets/flags/4x3/ck.svg'); }
.flag-icon-cl { background-image: url('/assets/flags/4x3/cl.svg'); }
.flag-icon-cm { background-image: url('/assets/flags/4x3/cm.svg'); }
.flag-icon-cn { background-image: url('/assets/flags/4x3/cn.svg'); }
.flag-icon-co { background-image: url('/assets/flags/4x3/co.svg'); }
.flag-icon-cp { background-image: url('/assets/flags/4x3/cp.svg'); }
.flag-icon-cr { background-image: url('/assets/flags/4x3/cr.svg'); }
.flag-icon-cu { background-image: url('/assets/flags/4x3/cu.svg'); }
.flag-icon-cv { background-image: url('/assets/flags/4x3/cv.svg'); }
.flag-icon-cw { background-image: url('/assets/flags/4x3/cw.svg'); }
.flag-icon-cx { background-image: url('/assets/flags/4x3/cx.svg'); }
.flag-icon-cy { background-image: url('/assets/flags/4x3/cy.svg'); }
.flag-icon-cz { background-image: url('/assets/flags/4x3/cz.svg'); }
.flag-icon-de { background-image: url('/assets/flags/4x3/de.svg'); }
.flag-icon-dg { background-image: url('/assets/flags/4x3/dg.svg'); }
.flag-icon-dj { background-image: url('/assets/flags/4x3/dj.svg'); }
.flag-icon-dk { background-image: url('/assets/flags/4x3/dk.svg'); }
.flag-icon-dm { background-image: url('/assets/flags/4x3/dm.svg'); }
.flag-icon-do { background-image: url('/assets/flags/4x3/do.svg'); }
.flag-icon-dz { background-image: url('/assets/flags/4x3/dz.svg'); }
.flag-icon-ea { background-image: url('/assets/flags/4x3/ea.svg'); }
.flag-icon-ec { background-image: url('/assets/flags/4x3/ec.svg'); }
.flag-icon-ee { background-image: url('/assets/flags/4x3/ee.svg'); }
.flag-icon-eg { background-image: url('/assets/flags/4x3/eg.svg'); }
.flag-icon-eh { background-image: url('/assets/flags/4x3/eh.svg'); }
.flag-icon-er { background-image: url('/assets/flags/4x3/er.svg'); }
.flag-icon-es-ct { background-image: url('/assets/flags/4x3/es-ct.svg'); }
.flag-icon-es-ga { background-image: url('/assets/flags/4x3/es-ga.svg'); }
.flag-icon-es { background-image: url('/assets/flags/4x3/es.svg'); }
.flag-icon-et { background-image: url('/assets/flags/4x3/et.svg'); }
.flag-icon-eu { background-image: url('/assets/flags/4x3/eu.svg'); }
.flag-icon-fi { background-image: url('/assets/flags/4x3/fi.svg'); }
.flag-icon-fj { background-image: url('/assets/flags/4x3/fj.svg'); }
.flag-icon-fk { background-image: url('/assets/flags/4x3/fk.svg'); }
.flag-icon-fm { background-image: url('/assets/flags/4x3/fm.svg'); }
.flag-icon-fo { background-image: url('/assets/flags/4x3/fo.svg'); }
.flag-icon-fr { background-image: url('/assets/flags/4x3/fr.svg'); }
.flag-icon-ga { background-image: url('/assets/flags/4x3/ga.svg'); }
.flag-icon-gb-eng { background-image: url('/assets/flags/4x3/gb-eng.svg'); }
.flag-icon-gb-nir { background-image: url('/assets/flags/4x3/gb-nir.svg'); }
.flag-icon-gb-sct { background-image: url('/assets/flags/4x3/gb-sct.svg'); }
.flag-icon-gb-wls { background-image: url('/assets/flags/4x3/gb-wls.svg'); }
.flag-icon-gb { background-image: url('/assets/flags/4x3/gb.svg'); }
.flag-icon-gd { background-image: url('/assets/flags/4x3/gd.svg'); }
.flag-icon-ge { background-image: url('/assets/flags/4x3/ge.svg'); }
.flag-icon-gf { background-image: url('/assets/flags/4x3/gf.svg'); }
.flag-icon-gg { background-image: url('/assets/flags/4x3/gg.svg'); }
.flag-icon-gh { background-image: url('/assets/flags/4x3/gh.svg'); }
.flag-icon-gi { background-image: url('/assets/flags/4x3/gi.svg'); }
.flag-icon-gl { background-image: url('/assets/flags/4x3/gl.svg'); }
.flag-icon-gm { background-image: url('/assets/flags/4x3/gm.svg'); }
.flag-icon-gn { background-image: url('/assets/flags/4x3/gn.svg'); }
.flag-icon-gp { background-image: url('/assets/flags/4x3/gp.svg'); }
.flag-icon-gq { background-image: url('/assets/flags/4x3/gq.svg'); }
.flag-icon-gr { background-image: url('/assets/flags/4x3/gr.svg'); }
.flag-icon-gs { background-image: url('/assets/flags/4x3/gs.svg'); }
.flag-icon-gt { background-image: url('/assets/flags/4x3/gt.svg'); }
.flag-icon-gu { background-image: url('/assets/flags/4x3/gu.svg'); }
.flag-icon-gw { background-image: url('/assets/flags/4x3/gw.svg'); }
.flag-icon-gy { background-image: url('/assets/flags/4x3/gy.svg'); }
.flag-icon-hk { background-image: url('/assets/flags/4x3/hk.svg'); }
.flag-icon-hm { background-image: url('/assets/flags/4x3/hm.svg'); }
.flag-icon-hn { background-image: url('/assets/flags/4x3/hn.svg'); }
.flag-icon-hr { background-image: url('/assets/flags/4x3/hr.svg'); }
.flag-icon-ht { background-image: url('/assets/flags/4x3/ht.svg'); }
.flag-icon-hu { background-image: url('/assets/flags/4x3/hu.svg'); }
.flag-icon-ic { background-image: url('/assets/flags/4x3/ic.svg'); }
.flag-icon-id { background-image: url('/assets/flags/4x3/id.svg'); }
.flag-icon-ie { background-image: url('/assets/flags/4x3/ie.svg'); }
.flag-icon-il { background-image: url('/assets/flags/4x3/il.svg'); }
.flag-icon-im { background-image: url('/assets/flags/4x3/im.svg'); }
.flag-icon-in { background-image: url('/assets/flags/4x3/in.svg'); }
.flag-icon-io { background-image: url('/assets/flags/4x3/io.svg'); }
.flag-icon-iq { background-image: url('/assets/flags/4x3/iq.svg'); }
.flag-icon-ir { background-image: url('/assets/flags/4x3/ir.svg'); }
.flag-icon-is { background-image: url('/assets/flags/4x3/is.svg'); }
.flag-icon-it { background-image: url('/assets/flags/4x3/it.svg'); }
.flag-icon-je { background-image: url('/assets/flags/4x3/je.svg'); }
.flag-icon-jm { background-image: url('/assets/flags/4x3/jm.svg'); }
.flag-icon-jo { background-image: url('/assets/flags/4x3/jo.svg'); }
.flag-icon-jp { background-image: url('/assets/flags/4x3/jp.svg'); }
.flag-icon-ke { background-image: url('/assets/flags/4x3/ke.svg'); }
.flag-icon-kg { background-image: url('/assets/flags/4x3/kg.svg'); }
.flag-icon-kh { background-image: url('/assets/flags/4x3/kh.svg'); }
.flag-icon-ki { background-image: url('/assets/flags/4x3/ki.svg'); }
.flag-icon-km { background-image: url('/assets/flags/4x3/km.svg'); }
.flag-icon-kn { background-image: url('/assets/flags/4x3/kn.svg'); }
.flag-icon-kp { background-image: url('/assets/flags/4x3/kp.svg'); }
.flag-icon-kr { background-image: url('/assets/flags/4x3/kr.svg'); }
.flag-icon-kw { background-image: url('/assets/flags/4x3/kw.svg'); }
.flag-icon-ky { background-image: url('/assets/flags/4x3/ky.svg'); }
.flag-icon-kz { background-image: url('/assets/flags/4x3/kz.svg'); }
.flag-icon-la { background-image: url('/assets/flags/4x3/la.svg'); }
.flag-icon-lb { background-image: url('/assets/flags/4x3/lb.svg'); }
.flag-icon-lc { background-image: url('/assets/flags/4x3/lc.svg'); }
.flag-icon-li { background-image: url('/assets/flags/4x3/li.svg'); }
.flag-icon-lk { background-image: url('/assets/flags/4x3/lk.svg'); }
.flag-icon-lr { background-image: url('/assets/flags/4x3/lr.svg'); }
.flag-icon-ls { background-image: url('/assets/flags/4x3/ls.svg'); }
.flag-icon-lt { background-image: url('/assets/flags/4x3/lt.svg'); }
.flag-icon-lu { background-image: url('/assets/flags/4x3/lu.svg'); }
.flag-icon-lv { background-image: url('/assets/flags/4x3/lv.svg'); }
.flag-icon-ly { background-image: url('/assets/flags/4x3/ly.svg'); }
.flag-icon-ma { background-image: url('/assets/flags/4x3/ma.svg'); }
.flag-icon-mc { background-image: url('/assets/flags/4x3/mc.svg'); }
.flag-icon-md { background-image: url('/assets/flags/4x3/md.svg'); }
.flag-icon-me { background-image: url('/assets/flags/4x3/me.svg'); }
.flag-icon-mf { background-image: url('/assets/flags/4x3/mf.svg'); }
.flag-icon-mg { background-image: url('/assets/flags/4x3/mg.svg'); }
.flag-icon-mh { background-image: url('/assets/flags/4x3/mh.svg'); }
.flag-icon-mk { background-image: url('/assets/flags/4x3/mk.svg'); }
.flag-icon-ml { background-image: url('/assets/flags/4x3/ml.svg'); }
.flag-icon-mm { background-image: url('/assets/flags/4x3/mm.svg'); }
.flag-icon-mn { background-image: url('/assets/flags/4x3/mn.svg'); }
.flag-icon-mo { background-image: url('/assets/flags/4x3/mo.svg'); }
.flag-icon-mp { background-image: url('/assets/flags/4x3/mp.svg'); }
.flag-icon-mq { background-image: url('/assets/flags/4x3/mq.svg'); }
.flag-icon-mr { background-image: url('/assets/flags/4x3/mr.svg'); }
.flag-icon-ms { background-image: url('/assets/flags/4x3/ms.svg'); }
.flag-icon-mt { background-image: url('/assets/flags/4x3/mt.svg'); }
.flag-icon-mu { background-image: url('/assets/flags/4x3/mu.svg'); }
.flag-icon-mv { background-image: url('/assets/flags/4x3/mv.svg'); }
.flag-icon-mw { background-image: url('/assets/flags/4x3/mw.svg'); }
.flag-icon-mx { background-image: url('/assets/flags/4x3/mx.svg'); }
.flag-icon-my { background-image: url('/assets/flags/4x3/my.svg'); }
.flag-icon-mz { background-image: url('/assets/flags/4x3/mz.svg'); }
.flag-icon-na { background-image: url('/assets/flags/4x3/na.svg'); }
.flag-icon-nc { background-image: url('/assets/flags/4x3/nc.svg'); }
.flag-icon-ne { background-image: url('/assets/flags/4x3/ne.svg'); }
.flag-icon-nf { background-image: url('/assets/flags/4x3/nf.svg'); }
.flag-icon-ng { background-image: url('/assets/flags/4x3/ng.svg'); }
.flag-icon-ni { background-image: url('/assets/flags/4x3/ni.svg'); }
.flag-icon-nl { background-image: url('/assets/flags/4x3/nl.svg'); }
.flag-icon-no { background-image: url('/assets/flags/4x3/no.svg'); }
.flag-icon-np { background-image: url('/assets/flags/4x3/np.svg'); }
.flag-icon-nr { background-image: url('/assets/flags/4x3/nr.svg'); }
.flag-icon-nu { background-image: url('/assets/flags/4x3/nu.svg'); }
.flag-icon-nz { background-image: url('/assets/flags/4x3/nz.svg'); }
.flag-icon-om { background-image: url('/assets/flags/4x3/om.svg'); }
.flag-icon-pa { background-image: url('/assets/flags/4x3/pa.svg'); }
.flag-icon-pe { background-image: url('/assets/flags/4x3/pe.svg'); }
.flag-icon-pf { background-image: url('/assets/flags/4x3/pf.svg'); }
.flag-icon-pg { background-image: url('/assets/flags/4x3/pg.svg'); }
.flag-icon-ph { background-image: url('/assets/flags/4x3/ph.svg'); }
.flag-icon-pk { background-image: url('/assets/flags/4x3/pk.svg'); }
.flag-icon-pl { background-image: url('/assets/flags/4x3/pl.svg'); }
.flag-icon-pm { background-image: url('/assets/flags/4x3/pm.svg'); }
.flag-icon-pn { background-image: url('/assets/flags/4x3/pn.svg'); }
.flag-icon-pr { background-image: url('/assets/flags/4x3/pr.svg'); }
.flag-icon-ps { background-image: url('/assets/flags/4x3/ps.svg'); }
.flag-icon-pt { background-image: url('/assets/flags/4x3/pt.svg'); }
.flag-icon-pw { background-image: url('/assets/flags/4x3/pw.svg'); }
.flag-icon-py { background-image: url('/assets/flags/4x3/py.svg'); }
.flag-icon-qa { background-image: url('/assets/flags/4x3/qa.svg'); }
.flag-icon-re { background-image: url('/assets/flags/4x3/re.svg'); }
.flag-icon-ro { background-image: url('/assets/flags/4x3/ro.svg'); }
.flag-icon-rs { background-image: url('/assets/flags/4x3/rs.svg'); }
.flag-icon-ru { background-image: url('/assets/flags/4x3/ru.svg'); }
.flag-icon-rw { background-image: url('/assets/flags/4x3/rw.svg'); }
.flag-icon-sa { background-image: url('/assets/flags/4x3/sa.svg'); }
.flag-icon-sb { background-image: url('/assets/flags/4x3/sb.svg'); }
.flag-icon-sc { background-image: url('/assets/flags/4x3/sc.svg'); }
.flag-icon-sd { background-image: url('/assets/flags/4x3/sd.svg'); }
.flag-icon-se { background-image: url('/assets/flags/4x3/se.svg'); }
.flag-icon-sg { background-image: url('/assets/flags/4x3/sg.svg'); }
.flag-icon-sh { background-image: url('/assets/flags/4x3/sh.svg'); }
.flag-icon-si { background-image: url('/assets/flags/4x3/si.svg'); }
.flag-icon-sj { background-image: url('/assets/flags/4x3/sj.svg'); }
.flag-icon-sk { background-image: url('/assets/flags/4x3/sk.svg'); }
.flag-icon-sl { background-image: url('/assets/flags/4x3/sl.svg'); }
.flag-icon-sm { background-image: url('/assets/flags/4x3/sm.svg'); }
.flag-icon-sn { background-image: url('/assets/flags/4x3/sn.svg'); }
.flag-icon-so { background-image: url('/assets/flags/4x3/so.svg'); }
.flag-icon-sr { background-image: url('/assets/flags/4x3/sr.svg'); }
.flag-icon-ss { background-image: url('/assets/flags/4x3/ss.svg'); }
.flag-icon-st { background-image: url('/assets/flags/4x3/st.svg'); }
.flag-icon-sv { background-image: url('/assets/flags/4x3/sv.svg'); }
.flag-icon-sx { background-image: url('/assets/flags/4x3/sx.svg'); }
.flag-icon-sy { background-image: url('/assets/flags/4x3/sy.svg'); }
.flag-icon-sz { background-image: url('/assets/flags/4x3/sz.svg'); }
.flag-icon-ta { background-image: url('/assets/flags/4x3/ta.svg'); }
.flag-icon-tc { background-image: url('/assets/flags/4x3/tc.svg'); }
.flag-icon-td { background-image: url('/assets/flags/4x3/td.svg'); }
.flag-icon-tf { background-image: url('/assets/flags/4x3/tf.svg'); }
.flag-icon-tg { background-image: url('/assets/flags/4x3/tg.svg'); }
.flag-icon-th { background-image: url('/assets/flags/4x3/th.svg'); }
.flag-icon-tj { background-image: url('/assets/flags/4x3/tj.svg'); }
.flag-icon-tk { background-image: url('/assets/flags/4x3/tk.svg'); }
.flag-icon-tl { background-image: url('/assets/flags/4x3/tl.svg'); }
.flag-icon-tm { background-image: url('/assets/flags/4x3/tm.svg'); }
.flag-icon-tn { background-image: url('/assets/flags/4x3/tn.svg'); }
.flag-icon-to { background-image: url('/assets/flags/4x3/to.svg'); }
.flag-icon-tr { background-image: url('/assets/flags/4x3/tr.svg'); }
.flag-icon-tt { background-image: url('/assets/flags/4x3/tt.svg'); }
.flag-icon-tv { background-image: url('/assets/flags/4x3/tv.svg'); }
.flag-icon-tw { background-image: url('/assets/flags/4x3/tw.svg'); }
.flag-icon-tz { background-image: url('/assets/flags/4x3/tz.svg'); }
.flag-icon-ua { background-image: url('/assets/flags/4x3/ua.svg'); }
.flag-icon-ug { background-image: url('/assets/flags/4x3/ug.svg'); }
.flag-icon-um { background-image: url('/assets/flags/4x3/um.svg'); }
.flag-icon-un { background-image: url('/assets/flags/4x3/un.svg'); }
.flag-icon-us { background-image: url('/assets/flags/4x3/us.svg'); }
.flag-icon-uy { background-image: url('/assets/flags/4x3/uy.svg'); }
.flag-icon-uz { background-image: url('/assets/flags/4x3/uz.svg'); }
.flag-icon-va { background-image: url('/assets/flags/4x3/va.svg'); }
.flag-icon-vc { background-image: url('/assets/flags/4x3/vc.svg'); }
.flag-icon-ve { background-image: url('/assets/flags/4x3/ve.svg'); }
.flag-icon-vg { background-image: url('/assets/flags/4x3/vg.svg'); }
.flag-icon-vi { background-image: url('/assets/flags/4x3/vi.svg'); }
.flag-icon-vn { background-image: url('/assets/flags/4x3/vn.svg'); }
.flag-icon-vu { background-image: url('/assets/flags/4x3/vu.svg'); }
.flag-icon-wf { background-image: url('/assets/flags/4x3/wf.svg'); }
.flag-icon-ws { background-image: url('/assets/flags/4x3/ws.svg'); }
.flag-icon-xk { background-image: url('/assets/flags/4x3/xk.svg'); }
.flag-icon-xx { background-image: url('/assets/flags/4x3/xx.svg'); }
.flag-icon-ye { background-image: url('/assets/flags/4x3/ye.svg'); }
.flag-icon-yt { background-image: url('/assets/flags/4x3/yt.svg'); }
.flag-icon-za { background-image: url('/assets/flags/4x3/za.svg'); }
.flag-icon-zm { background-image: url('/assets/flags/4x3/zm.svg'); }
.flag-icon-zw { background-image: url('/assets/flags/4x3/zw.svg'); }

`;var K6=Se`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcTree-item {
    display: inline-flex;
    align-items: center;
    margin-left: 0;
    transition: all 0.3s;
    height: 27px !important;
  }
  
  .fwcTree-item * {
    pointer-events: none;
    margin-right: 0.25rem;
  }
  .fwcTree-item .fwcTreeIcon{
    margin-top: 5px;   
  }
  .fwcTree-item.fwcHighlightNode {
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }
  
  .fwcTree-item.fwcSelectedPolicyNode .fwc-label {
    font-weight: bold !important;
  }
  
  div.fwcTree-item--disabled .fwcTreeIcon::before {
    content: "";    
    position: absolute;
    top: 0.35em;
  }
  
  .fwcTree-item--disabled .fwc-label {
    color: var(--fwcPaleDark) !important;
  }

  .fwcTree-item-highlight{
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }



  .clickable-area {
    display: block;
    width: 100%;
    height: 100%;
    cursor: pointer;
  }
  div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwcDark {
    margin-left: -0.5rem;
  }
`;var q6=Se`
    @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

    .fa-brands {
        display: inline-block;
        font-family: 'Font Awesome 5 Brands';
        font-weight: normal;
        font-style: normal;
        font-size: inherit;
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .fa-windows:before {
        content: "\\f17a";
    }
`;var Y6=(()=>{class i{constructor(e,t){this.el=e,this.tr=t}ngAfterViewInit(){}static{this.\u0275fac=function(t){return new(t||i)(v(Le),v(as))}}static{this.\u0275dir=lt({type:i,selectors:[["","appStepContent",""]],inputs:{stepTitle:"stepTitle"}})}}return i})();var J6=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l){super(o,t,e,s,l,a),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.translate=r,this.cd=s,this.router=a,this.store=l,this.onStepDisplay=new W,this.translate.get("CONFIG_PANEL.TITLE").subscribe(c=>{this.createDialog(c,"fa fa-magic")})}ngOnInit(){this.resetState()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){this.stepsTemplates&&this.stepsTemplates.length&&(this.stepsTemplates.forEach((e,t)=>{this.state.steps.push({stepItem:{id:""+t,label:this.translate.instant(e.stepTitle)},stepTemplate:e})}),this.displayStepContent(0))}resetState(){this.state={loadingData:!1,errorMessages:[],selectedStep:0,steps:this.state&&this.state.steps?this.state.steps:[]}}getStepsItems(){let e=[];return this.state&&Array.isArray(this.state.steps)&&this.state.steps.forEach(t=>{e.push(t.stepItem)}),e}getSelectedStep(){let e=null;return this.state&&Array.isArray(this.state.steps)&&this.state.selectedStep>=0&&this.state.selectedStep<=this.state.steps.length&&(e=this.state.steps[this.state.selectedStep]),e}getSelectedStepTemplate(){let e=null,t=this.getSelectedStep();return t&&(e=t.stepTemplate),e}displayStepContent(e){this.state.selectedStep=e,this.recenterDialog(),this.onStepDisplay.emit(e)}handleClose(e){this.hideDialog(),e&&this.reloadCurrentRouteAlt()}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}reloadCurrentRouteAlt(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(je),v(pe),v(et),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-wizard-panel"]],viewQuery:function(t,o){if(t&1&&ne(Y6,5),t&2){let r;K(r=q())&&(o.stepsTemplates=r)}},outputs:{onStepDisplay:"onStepDisplay"},features:[fe],decls:0,vars:0,template:function(t,o){},encapsulation:2})}}return i})();var bg=class extends Oh{constructor(n){super(n),n&&(this.firewall=n.firewall,this.cluster=n.cluster,this.name=n.name,this.comment=n.comment,this.install_user=n.install_user,this.install_pass=n.install_pass,this.save_user_pass=n.save_user_pass,this.install_interface=n.install_interface,this.install_ipobj=n.install_ipobj,this.fwmaster=n.fwmaster,this.install_port=n.install_port,this.options=n.options,this.plugins=n.plugins,this.install_communication=n.install_communication,this.install_protocol=n.install_protocol,this.install_apikey=n.install_apikey)}getValue(){return Ee(Q({},super.getValue()),{firewall:this.firewall,cluster:this.cluster,name:this.name,comment:this.comment,install_user:this.install_user,install_pass:this.install_pass,save_user_pass:this.save_user_pass,install_interface:this.install_interface,install_ipobj:this.install_ipobj,fwmaster:this.fwmaster,install_port:this.install_port,options:this.options,plugins:this.plugins,install_communication:this.install_communication,install_protocol:this.install_protocol,install_apikey:this.install_apikey})}};var PVe=["fwcInterfacesEditor"],FVe=["buttonNext"],LVe=["inputObjName"],MVe=["fwcIptablesSaveComponent"],kVe=["inputNode"],NVe=["inputDiscoverNode"],VVe=i=>({visibility:i}),BVe=i=>({error:i}),X6=i=>({objName:i});function UVe(i,n){i&1&&(f(0,"div",16)(1,"h6",17),E(2,"i",18),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"WIZARDS.FIREWALL_IMPORT.TITLE")," "))}function jVe(i,n){if(i&1&&(f(0,"div",19),oe(1,21),m()),i&2){let e=h(3);d(),p("ngTemplateOutlet",e.getSelectedStepTemplate().tr)}}function HVe(i,n){if(i&1){let e=k();f(0,"div",19)(1,"p-steps",20),Re("activeIndexChange",function(o){b(e);let r=h(2);return De(r.state.selectedStep,o)||(r.state.selectedStep=o),y(o)}),m(),f(2,"div",9),I(3,jVe,2,1,"div",19),m()()}if(i&2){let e,t=h(2);d(),p("model",t.getStepsItems())("readonly",!0),Oe("activeIndex",t.state.selectedStep),d(2),G((e=t.getSelectedStepTemplate())!=null&&e.tr&&!(!(t.state==null||t.state.errorMessages==null)&&t.state.errorMessages.length)?3:-1)}}function GVe(i,n){if(i&1){let e=k();f(0,"div",19)(1,"p-messages",22),Re("valueChange",function(o){b(e);let r=h(2);return De(r.state.errorMessages,o)||(r.state.errorMessages=o),y(o)}),m()()}if(i&2){let e=h(2);d(),Oe("value",e.state.errorMessages),p("closable",!1)}}function zVe(i,n){if(i&1&&(f(0,"div",9),I(1,HVe,4,4,"div",19)(2,GVe,2,2,"div",19),m()),i&2){let e,t=h();d(),G((e=t.getStepsItems())!=null&&e.length?1:-1),d(),G(t.state.errorMessages!=null&&t.state.errorMessages.length?2:-1)}}function WVe(i,n){if(i&1){let e=k();f(0,"button",26),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.handleClose())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",e.state==null?null:e.state.loadingData)}}function $Ve(i,n){if(i&1){let e=k();f(0,"button",30,1),O(2,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handlePrevNextButton(!0))}),m()}if(i&2){let e=h(3);Z("label",P(2,2,"WIZARDS.GLOBALS.BUTTONS.NEXT")),p("disabled",e.state.loadingData||e.isPrevNextButtonDisabled(!0))}}function KVe(i,n){if(i&1){let e=k();f(0,"button",31),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handleClose(!0))}),m()}i&2&&Z("label",P(1,1,"GLOBALS.MSG_BUTTONS.FINISH"))}function qVe(i,n){if(i&1){let e=k();f(0,"div",25)(1,"button",27),O(2,"translate"),R("click",function(){b(e);let o=h(2);return y(o.handlePrevNextButton())}),m(),I(3,$Ve,3,4,"button",28)(4,KVe,2,3,"button",29),m()}if(i&2){let e=h(2);d(),Z("label",P(2,3,"WIZARDS.GLOBALS.BUTTONS.PREVIOUS")),p("disabled",e.state.loadingData||e.isPrevNextButtonDisabled()),d(2),G(e.state.selectedStep<e.getStepsItems().length-1?3:4)}}function YVe(i,n){if(i&1&&(f(0,"div",9)(1,"div",23),I(2,WVe,2,4,"button",24),m(),I(3,qVe,5,5,"div",25),m()),i&2){let e=h();d(2),G(e.state.selectedStep<e.getStepsItems().length-2?2:-1),d(),G(!(e.state==null||e.state.errorMessages==null)&&e.state.errorMessages.length?-1:3)}}function JVe(i,n){i&1&&(f(0,"div",9)(1,"div",32),E(2,"img",33),m(),E(3,"div",34),O(4,"translate"),m()),i&2&&(d(3),Z("innerHTML",P(4,1,"WIZARDS.FIREWALL_IMPORT.STEPS.0.TEXT"),Fi))}function XVe(i,n){}function QVe(i,n){i&1&&(f(0,"p",55),T(1),O(2,"translate"),m()),i&2&&(d(),z(" ",P(2,1,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "))}function ZVe(i,n){if(i&1){let e=k();f(0,"button",59),O(1,"translate"),R("click",function(){b(e);let o=h().$index,r=h(3);return y(r.nodeRemove(o))}),m()}if(i&2){let e=h(4);Z("pTooltip",P(1,2,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_DELETE")),p("disabled",e.state==null?null:e.state.loadingData)}}function eBe(i,n){if(i&1){let e=k();f(0,"button",60),O(1,"translate"),R("click",function(){b(e);let o=h(4);return y(o.nodeAdd())}),m()}if(i&2){let e=h(4);Z("pTooltip",P(1,2,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_ADD")),p("disabled",(e.state==null?null:e.state.loadingData)||!e.formModel.get("fwnodes").valid)}}function tBe(i,n){if(i&1&&(f(0,"div",53)(1,"div",43)(2,"div",44)(3,"label",45),T(4),O(5,"translate"),m()(),f(6,"div",46),E(7,"input",54,3),O(9,"translate"),I(10,QVe,3,3,"p",55),m(),f(11,"div",56),I(12,ZVe,2,4,"button",57)(13,eBe,2,4,"button",58),m()()()),i&2){let e=n.$implicit,t=n.$index,o=h(3);p("formGroupName",t),d(4),z(" ",P(5,8,"FW.MSG_FW_EDITION.NAME")," "),d(3),w0("id","fwName",t,""),Z("placeholder",P(9,10,"CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME")),d(3),G(!e.get("name").valid&&!e.get("name").pristine?10:-1),d(2),G(o.getFormNodes().controls.length>1?12:-1),d(),G(t+1==o.getFormNodes().controls.length?13:-1)}}function iBe(i,n){if(i&1&&(f(0,"div",51)(1,"div",19)(2,"h5",52),T(3),O(4,"translate"),m()(),fo(5,tBe,14,12,"div",53,ho),m()),i&2){let e=h(2);d(3),z(" ",P(4,1,"CLUSTER.MSG_CLUSTER_EDITION.NODES")," "),d(2),mo(e.getFormNodes().controls)}}function nBe(i,n){if(i&1){let e=k();f(0,"div",9)(1,"div",35),T(2),O(3,"translate"),m(),f(4,"div",19)(5,"div",36)(6,"span",37)(7,"p-radioButton",38),O(8,"translate"),Re("ngModelChange",function(o){b(e);let r=h();return De(r.selectFwCluster,o)||(r.selectFwCluster=o),y(o)}),R("click",function(){b(e);let o=h();return y(o.handleSelectObjType())}),m()(),E(9,"span",39),f(10,"span",37)(11,"p-radioButton",38),O(12,"translate"),Re("ngModelChange",function(o){b(e);let r=h();return De(r.selectFwCluster,o)||(r.selectFwCluster=o),y(o)}),R("click",function(){b(e);let o=h();return y(o.handleSelectObjType())}),m()()()()(),f(13,"form",40)(14,"fieldset",41),R("keyup.enter",function(){b(e);let o=h();return y(o.handlePrevNextButton(!0))}),f(15,"div",9)(16,"div",42)(17,"div",43)(18,"div",44)(19,"label",45),T(20),O(21,"translate"),m()(),f(22,"div",46),E(23,"input",47,2),O(25,"translate"),m()(),f(26,"p",48),T(27),O(28,"translate"),m()(),f(29,"div",42)(30,"div",43)(31,"div",44)(32,"label",49),T(33),O(34,"translate"),m()(),f(35,"div",46),E(36,"input",50),O(37,"translate"),m()()()(),I(38,XVe,0,0)(39,iBe,7,3,"div",51),m()()}if(i&2){let e=h();d(2),z(" ",P(3,15,"WIZARDS.FIREWALL_IMPORT.STEPS.1.TEXT")," "),d(5),Z("label",P(8,17,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.FW")),p("value",e.ObjectTypes.OBJ_FIREWALL),Oe("ngModel",e.selectFwCluster),d(4),Z("label",P(12,19,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.CLUSTER")),p("value",e.ObjectTypes.OBJ_CLUSTER),Oe("ngModel",e.selectFwCluster),d(2),p("formGroup",e.formModel),d(7),H(P(21,21,"FW.MSG_FW_EDITION.NAME")),d(3),Z("placeholder",P(25,23,"FW.MSG_FW_EDITION.NAME")),d(3),p("ngStyle",J(31,VVe,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible")),d(),z(" ",P(28,25,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "),d(6),H(P(34,27,"FW.MSG_FW_EDITION.DESC")),d(3),Z("placeholder",P(37,29,"FW.MSG_FW_EDITION.DESC")),d(2),G(e.selectFwCluster===e.ObjectTypes.OBJ_FIREWALL?38:39)}}function oBe(i,n){if(i&1){let e=k();f(0,"div",72)(1,"div",68)(2,"select",75),R("change",function(){return b(e),y(!0)}),f(3,"option",76),T(4),O(5,"translate"),m(),f(6,"option",77),T(7,"HTTPS"),m(),f(8,"option",78),T(9,"HTTP"),m()()()(),f(10,"div",79)(11,"div",68),E(12,"input",80),O(13,"translate"),f(14,"button",81),R("mousedown",function(){b(e);let o=h().$index,r=h(4);return y(r.displayApiKey[o]=!0)})("mouseup",function(){b(e);let o=h().$index,r=h(4);return y(r.displayApiKey[o]=!1)})("mouseout",function(){b(e);let o=h().$index,r=h(4);return y(r.displayApiKey[o]=!1)}),m()()()}if(i&2){let e=h().$index,t=h(4);d(3),p("value",null),d(),z(" ",P(5,5,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")," "),d(8),Z("placeholder",P(13,7,"FW.MSG_FW_EDITION.AGENT_APIKEY")),p("showPassword",t.displayApiKey[e])("feedback",!1)}}function rBe(i,n){if(i&1){let e=k();f(0,"div",82),E(1,"input",83),O(2,"translate"),m(),f(3,"div",82)(4,"div",68),E(5,"input",84),O(6,"translate"),O(7,"translate"),f(8,"button",81),R("mousedown",function(){b(e);let o=h().$index,r=h(4);return y(r.displaySSH[o]=!0)})("mouseup",function(){b(e);let o=h().$index,r=h(4);return y(r.displaySSH[o]=!1)})("mouseout",function(){b(e);let o=h().$index,r=h(4);return y(r.displaySSH[o]=!1)}),m()()()}if(i&2){let e=h().$index,t=h(4);d(),Z("placeholder",P(2,5,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")),d(4),Z("placeholder",P(6,7,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")),p("showPassword",t.displaySSH[e])("promptLabel",P(7,9,"GLOBALS.MSG_PASSWORD.PASS"))("feedback",!1)}}function sBe(i,n){if(i&1&&(f(0,"div",72),E(1,"p-dropdown",85),m()),i&2){let e=h(5);d(),p("options",e.nodeRoleOptions)}}function aBe(i,n){i&1&&(f(0,"span"),E(1,"i",86),O(2,"translate"),m()),i&2&&(d(),Z("pTooltip",P(2,2,"WIZARDS.FIREWALL_IMPORT.ERRORS.FORM_VALUES")),p("showDelay",300))}function lBe(i,n){i&1&&(f(0,"span"),E(1,"i",87),m())}function cBe(i,n){i&1&&(f(0,"span"),E(1,"i",88),m())}function dBe(i,n){i&1&&(f(0,"span"),E(1,"i",89),m())}function uBe(i,n){if(i&1&&(f(0,"p",55),T(1),O(2,"translate"),m()),i&2){let e=h().$implicit;d(),z(" ",pi(2,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.SSH_ERROR",J(4,BVe,e.get("statusMsg").value))," ")}}function pBe(i,n){if(i&1){let e=k();f(0,"div",62)(1,"p-fieldset",65)(2,"div",66)(3,"div",67)(4,"div",68)(5,"button",69),O(6,"translate"),O(7,"translate"),R("click",function(){let o=b(e).$implicit,r=h(4);return y(r.onClusterNodeInstallCommChange(o))}),m(),E(8,"input",70,4),O(10,"translate"),m()(),f(11,"div",67),E(12,"input",71),O(13,"translate"),m(),I(14,oBe,15,9)(15,rBe,9,11)(16,sBe,2,1,"div",72),f(17,"div",73),I(18,aBe,3,4,"span")(19,lBe,2,0,"span")(20,cBe,2,0,"span")(21,dBe,2,0,"span"),m(),f(22,"div",74),I(23,uBe,3,6,"p",55),m()()()()}if(i&2){let e,t=n.$implicit,o=n.$index,r=h(4);p("formGroupName",o),d(),p("legend",r.buildNodeHeader(o,t.get("name").value,t.get("install_communication").value)),d(2),p("ngClass",r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?"col-2":"col-3"),d(2),p("icon",t.get("install_communication").value==="agent"?"fa fa-user-secret":"fa fa-terminal")("pTooltip",t.get("install_communication").value==="agent"?P(6,13,"CLUSTER.MSG_CLUSTER_EDITION.COMM_FWCAGENT"):P(7,15,"CLUSTER.MSG_CLUSTER_EDITION.COMM_SSH")),d(3),Z("placeholder",P(10,17,"ITEM_PANEL.FIELDS.ADDRESS")),d(3),p("ngClass",r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?"col-1":"col-2"),d(),Z("placeholder",P(13,19,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),d(2),G(t.get("install_communication").value==="agent"?14:15),d(2),G(r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?16:-1),d(2),G(t.dirty&&t.enabled&&!t.valid?18:-1),d(),G((e=t.get("status").value)===r.ItemBatchOperationStatus.RUNNING?19:e===r.ItemBatchOperationStatus.ERROR?20:e===r.ItemBatchOperationStatus.SUCCESS?21:-1),d(4),G(t.get("status").value===r.ItemBatchOperationStatus.ERROR?23:-1)}}function hBe(i,n){if(i&1){let e=k();f(0,"div",19)(1,"h5",52),T(2),O(3,"translate"),f(4,"strong"),T(5),m()()(),fo(6,pBe,24,21,"div",62,ho),f(8,"div",63)(9,"button",64),O(10,"translate"),R("click",function(){b(e);let o=h(3);return y(o.handleDiscoverInterfaces())}),m()()}if(i&2){let e=h(3);d(2),z(" ",P(3,4,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster)," "),d(3),H(e.formModel.get("name").value),d(),mo(e.getSSHFormNodes().controls),d(3),Z("label",P(10,6,"FW.MSG_FW_EDITION.DISCOVER_IF")),p("disabled",(e.state==null?null:e.state.loadingData)||!e.sshFormModel.valid)}}function fBe(i,n){if(i&1){let e=k();f(0,"div",19)(1,"sts-fwc-interfaces-tree-editor",90,5),R("onStartAutodiscover",function(){b(e);let o=h(3);return y(o.handleDiscoverInterfaces())}),m()()}if(i&2){let e=h(3);d(),p("options",e.interfacesEditorOptions)("manualMode",!0)("minimized",!e.autodiscoverFinished)}}function mBe(i,n){if(i&1){let e=k();f(0,"form",61),R("keyup.enter",function(){b(e);let o=h(2);return y(o.handleDiscoverInterfaces())}),f(1,"div",51)(2,"div",35),T(3),O(4,"translate"),m(),I(5,hBe,11,8)(6,fBe,3,3,"div",19),m()()}if(i&2){let e=h(2);p("formGroup",e.sshFormModel),d(3),z(" ",P(4,4,"WIZARDS.FIREWALL_IMPORT.STEPS.2.TEXT")," "),d(2),G(e.autodiscoverFinished?-1:5),d(),G(e.autodiscoverFinished||e.showInterfacesEditor?6:-1)}}function gBe(i,n){if(i&1&&I(0,mBe,7,6,"form",40),i&2){let e=h();G(e.sshFormModel?0:-1)}}function _Be(i,n){if(i&1){let e=k();f(0,"div",9)(1,"div",35),T(2),O(3,"translate"),m()(),f(4,"sts-fwc-iptables-save",91,6),R("onFinish",function(o){b(e);let r=h();return y(r.handleIptablesSaveFinish(o))}),m()}if(i&2){let e=h();d(2),z(" ",P(3,3,"WIZARDS.FIREWALL_IMPORT.STEPS.3.TEXT")," "),d(2),p("hideUI",!0)("importSSHData",e.importSSHData)}}function CBe(i,n){i&1&&(f(0,"div"),E(1,"i",96),f(2,"h6"),T(3),O(4,"translate"),m()()),i&2&&(d(3),H(P(4,1,"WIZARDS.FIREWALL_IMPORT.INFO.IMPORT")))}function IBe(i,n){i&1&&(E(0,"i",97),f(1,"h6"),T(2),O(3,"translate"),m()),i&2&&(d(2),H(P(3,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.IMPORT")))}function vBe(i,n){if(i&1&&(f(0,"div",100),E(1,"i",101)(2,"span",99),m()),i&2){let e=n.$implicit;d(2),p("innerHTML",e,Fi)}}function bBe(i,n){if(i&1&&(f(0,"div",94),E(1,"i",98)(2,"span",99),fo(3,vBe,3,1,"div",100,ho),m()),i&2){let e=n.$implicit;d(),p("ngClass",e.success?"fa-check-circle fwcGreen":"fa-exclamation-triangle fwcOrange"),d(),p("innerHTML",e.summary,Fi),d(),mo(e.details)}}function yBe(i,n){if(i&1&&(f(0,"div"),T(1),O(2,"translate"),O(3,"translate"),O(4,"lowercase"),O(5,"translate"),m()),i&2){let e=h(3);d(),ip(" ",P(2,3,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY1")," ",P(4,7,P(3,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",pi(5,9,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY2",J(12,X6,e.formModel.get("name").value))," ")}}function wBe(i,n){if(i&1&&(T(0),O(1,"translate"),O(2,"translate"),O(3,"lowercase"),O(4,"translate")),i&2){let e=h(3);ip(" ",P(1,3,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY1")," ",P(3,7,P(2,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",pi(4,9,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY2",J(12,X6,e.formModel.get("name").value))," ")}}function SBe(i,n){if(i&1&&(f(0,"div",92)(1,"div",93),I(2,CBe,5,3,"div")(3,IBe,4,3),m(),f(4,"div",19)(5,"h6"),T(6),O(7,"translate"),m()(),fo(8,bBe,5,2,"div",94,ho),f(10,"div",19),E(11,"hr"),m(),f(12,"div",95),I(13,yBe,6,14,"div")(14,wBe,5,14),m()()),i&2){let e=h(2);d(2),G(e.areAllOperationsSuccessful()?2:3),d(4),H(P(7,3,"WIZARDS.FIREWALL_IMPORT.INFO.OPERATIONS")),d(2),mo(e.operationResults),d(5),G(e.areAllOperationsSuccessful()?13:14)}}function ABe(i,n){if(i&1&&I(0,SBe,15,5,"div",92),i&2){let e=h();G(e.operationResults?0:-1)}}var Q6=(()=>{class i extends J6{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S){super(a,o,l,u,_,C,S),this.fwcUserService=e,this.utilService=t,this.appOptionsService=o,this.fwcFirewallService=r,this.fwcObjectTreeService=s,this.itemSelectedService=a,this.appDialogPanelsService=l,this.fwcErrorPipe=c,this.translate=u,this.formBuilder=g,this.cd=_,this.router=C,this.confirmationService=w,this.store=S,this.operationResults=[],this.selectFwCluster=F.OBJ_FIREWALL,this.displaySSH=[],this.displayApiKey=[],this.showInterfacesEditor=!1,this.autodiscoverFinished=!1,this.ObjectTypes=F,this.ItemBatchOperationStatus=Rn,this.iptablesSaveFinished=!1,this.createDialog(u.instant("WIZARDS.FIREWALL_IMPORT.TITLE"),"fa fa-magic",ci.FIREWALL_IMPORT_WIZARD)}ngOnInit(){super.ngOnInit(),this.utilService.fwcAPICall(this.fwcObjectTreeService.getNodes.bind(this.fwcObjectTreeService),B.FOLDER_FW,this.fwcUserService.getActualFwSelectedCloud()).then(e=>{Array.isArray(e.data)&&e.data.length===1&&(this.parentNodeId=e.data[0].id,this.createForm(),this.nodeRoleOptions=[{value:null,label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NO_ROLE")},{value:"M",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.MASTER")},{value:"S",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.SLAVE")},{value:"N",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")}])}).catch(e=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.0"),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.1")}]}),this.onStepDisplay.subscribe(e=>{switch(e){case 0:this.buttonNext&&this.buttonNext.nativeElement.focus();break;case 1:this.inputObjName&&this.inputObjName.nativeElement.focus();break;case 2:this.inputDiscoverNodes&&this.inputDiscoverNodes.first.nativeElement.focus();break}})}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createForm(){let e=$o();this.formModel=this.formBuilder.group({id:new _e(void 0),name:new _e("",[Ne.required]),comment:new _e(""),firewallUUID:new _e(e),fwnodes:new fa([this.createNode()],ri.distinctNameValidator.bind(this))})}onHideDialog(){if(this.state.selectedStep>=3){let e={_fwcObjType:this.selectFwCluster,container:ft.C_FIREWALLS,_fwcTreeAction:qi.NEW_ITEM,_fwcObjId:this.formModel.get("id").value};this.itemSelectedService.setModifiedItem(e)}this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}isPrevNextButtonDisabled(e){let t=!1;if(e)switch(this.state.selectedStep){case 1:t=this.selectFwCluster===F.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===F.OBJ_CLUSTER&&this.formModel.invalid;break;case 2:t=!this.autodiscoverFinished;break;case 3:t=!this.iptablesSaveFinished;break;case this.state.steps.length-1:t=!0}else switch(this.state.selectedStep){case 0:t=!0;break;case 3:t=!0;break;case 4:t=!0;break}return t}handlePrevNextButton(e){return he(this,null,function*(){if(e)switch(this.state.selectedStep){case 1:if(this.state.loadingData||this.selectFwCluster===F.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===F.OBJ_CLUSTER&&this.formModel.invalid)return;this.buildSSHFormModel(),this.displayStepContent(this.state.selectedStep+1);break;case 2:let t,o;this.selectFwCluster===F.OBJ_FIREWALL?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),o=this.doCreateFirewall):(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),o=this.doCreateCluster),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_NEXT",{objType:t.toLowerCase()}),accept:()=>{o.call(this)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")});break;default:this.state.selectedStep<this.state.steps.length&&this.displayStepContent(this.state.selectedStep+1)}else switch(this.state.selectedStep){case 2:this.autodiscoverFinished?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_PREV"),accept:()=>{this.fwcInterfacesEditor.resetProperties(),this.interfacesEditorOptions=null,this.autodiscoverFinished=!1,this.showInterfacesEditor=!1,this.displayStepContent(1)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.displayStepContent(this.state.selectedStep-1);break;default:this.state.selectedStep&&this.displayStepContent(this.state.selectedStep-1)}})}createNode(){return new Ho({name:new _e("",[Ne.required,Ne.pattern(ri.nameRegExp)])})}getFormNodes(){return this.formModel.get("fwnodes")}getSSHFormNodes(){return this.sshFormModel.get("fwnodes")}nodeAdd(){let e=this.formModel.get("fwnodes");if(e){let t=this.createNode();e.push(t)}this.recenterDialog();try{this.inputNodes.last.nativeElement.focus()}catch{}}nodeRemove(e){let t=this.formModel.get("fwnodes"),o=t.length;!t||t.length<2||e<0||e>=t.length||t.at(e).value.id&&o<2||(t.removeAt(e),this.recenterDialog())}handleSelectObjType(){this.inputObjName&&this.inputObjName.nativeElement.focus(),this.recenterDialog()}buildSSHFormModel(){let e;if(this.selectFwCluster===F.OBJ_FIREWALL?this.formModel.get("name").valid&&(e=new fa([new Ho({name:new _e(this.formModel.get("name").value,[Ne.required,Ne.pattern(ri.nameRegExp)]),firewallUUID:new _e(this.formModel.get("firewallUUID").value)})])):this.formModel.get("fwnodes").valid&&(e=this.formModel.get("fwnodes")),e){this.sshFormModel=this.formBuilder.group({fwnodes:new fa([])});let t=this.sshFormModel.get("fwnodes");for(let o=0;o<e.length;o++){let r=e.at(o),s;r.get("firewallUUID")?s=r.get("firewallUUID").value:s=$o(),t.push(new Ho({name:new _e(r.get("name").value),address:new _e("",[Ne.required,Ne.pattern(ri.ipV4Regexp)]),install_port:new _e(22,[Ne.required,Ne.pattern(ri.portRegexp)]),install_user:new _e("",[Ne.required,Ne.pattern(ri.linuxUsername)]),install_pass:new _e("",[Ne.required,Ne.pattern(ri.linuxPassword)]),role:new _e(null),firewallUUID:new _e(s),install_communication:new _e("ssh",[Ne.required]),install_protocol:new _e("https"),install_apikey:new _e(""),status:new _e(Rn.PENDING),statusMsg:new _e("")}))}}}onClusterNodeInstallCommChange(e){if(e){let o=e.get("install_communication").value==="agent"?"ssh":"agent";e.get("install_communication").setValue(o),o==="agent"?(e.get("install_protocol").setValidators([Ne.required]),e.get("install_apikey").setValidators([Ne.required]),e.get("install_port").setValue(33033),e.get("install_user").clearValidators(),e.get("install_pass").clearValidators()):(e.get("install_protocol").clearValidators(),e.get("install_apikey").clearValidators(),e.get("install_port").setValue(22),e.get("install_user").setValidators([Ne.required,Ne.pattern(ri.linuxUsername)]),e.get("install_pass").setValidators([Ne.required,Ne.pattern(ri.linuxPassword)])),e.get("install_protocol").updateValueAndValidity(),e.get("install_apikey").updateValueAndValidity(),e.get("install_user").updateValueAndValidity(),e.get("install_pass").updateValueAndValidity()}}buildNodeHeader(e,t,o){let r="";return this.selectFwCluster===F.OBJ_CLUSTER?r=this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")+" '"+t+"'":r=this.translate.instant("FW.MSG_FW_EDITION.ACCESS"),r+=` (${o==="ssh"?"SSH":"FWCloud-Agent"})`,r}handleDiscoverInterfaces(){this.sshFormModel.valid&&(this.interfacesEditorOptions=null,this.sshFormModel.disable(),this.autodiscoverFinished=!1,this.autodiscoverOpIndex=0,this.showInterfacesEditor=!0,this.doDiscoverInterfaces())}doDiscoverInterfaces(){return he(this,null,function*(){let e=this.sshFormModel.get("fwnodes");if(e){if(this.autodiscoverOpIndex>=0&&this.autodiscoverOpIndex<e.length){let t=e.at(this.autodiscoverOpIndex);if(t.get("status").value===Rn.SUCCESS)this.autodiscoverOpIndex++,this.doDiscoverInterfaces();else{t.get("status").setValue(Rn.RUNNING),t.get("statusMsg").setValue("");let o=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster),r=this.formModel.get("name").value;this.autodiscoverHeader=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.HEADER",{objType:o.toLowerCase(),objName:r}),this.selectFwCluster===F.OBJ_FIREWALL?this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_FW"):this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_CLUSTER",{objName:t.get("name").value});let s=this.fwcUserService.getActualFwcUser().publicKey,a=t.get("install_communication").value,l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ip:t.get("address").value,port:+t.get("install_port").value,communication:a};if(a==="ssh"){let c=t.get("install_user").value,u=t.get("install_pass").value;c&&(c=yield this.utilService.openPGPEncrypt(c,s)),u&&(u=yield this.utilService.openPGPEncrypt(u,s)),l.sshuser=c,l.sshpass=u}else{let c=t.get("install_apikey").value;c&&(c=yield this.utilService.openPGPEncrypt(c,s)),l.apikey=c,l.protocol=t.get("install_protocol").value}this.state.loadingData=!0,this.recenterDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.autoDiscoverInterfaces.bind(this.fwcFirewallService),l).then(c=>{if(Array.isArray(c.data)){let u=c.data;if(t.get("status").setValue(Rn.SUCCESS),t.get("statusMsg").setValue(""),t.disable(),this.selectFwCluster===F.OBJ_CLUSTER){let C=t.get("role").value;C==="N"&&(C=t.get("name").value),C&&(u=u.map(w=>(w.suffixToAdd=C,w)))}let g=t.get("firewallUUID").value,_={isCluster:this.selectFwCluster===F.OBJ_CLUSTER,firewalls:[],discoveredFirewallUUID:g,discoveredAddress:t.get("address").value,discoveredIfs:[],existingIfs:[],hideActionButtons:!0};_.discoveredIfs=[..._.discoveredIfs,...u];for(let C=0;C<e.length;C++){let w=e.at(C),S=w.get("firewallUUID").value,A;this.fwcInterfacesEditor&&(A=this.fwcInterfacesEditor.getInstallationData(S)),_.firewalls.push({firewallUUID:S,firewall_name:w.get("name").value,firewall:void 0,cluster:void 0,installOptions:{firewallUUID:S,interface:A&&A.interface,ipobj:A&&A.address}})}this.fwcInterfacesEditor.processOptions(_),this.autodiscoverOpIndex++,this.doDiscoverInterfaces()}this.refreshDialog()}).catch(c=>{this.state.loadingData=!1;let u=this.utilService.isCommunicationError(c.error);t.get("status").setValue(Rn.ERROR),u?t.get("statusMsg").setValue("("+u+")"):t.get("statusMsg").setValue("("+this.fwcErrorPipe.transform(c)+")"),t.enable(),this.refreshDialog()})}}else if(this.autodiscoverOpIndex===e.length){this.autodiscoverFinished=!0,this.fwcInterfacesEditor.selectAllNodes(!0);let t,o=[];if(this.selectFwCluster===F.OBJ_FIREWALL)t=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_FW",{ip:e.at(0).get("address").value});else{t=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_CLUSTER");for(let s=0;s<e.length;s++){let a=e.at(s);o.push(this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_NODE",{name:a.get("name").value,ip:a.get("address").value}))}}let r={success:!0,summary:t,details:o};this.state.loadingData=!1,this.operationResults.push(r),this.refreshDialog()}}})}doCreateFirewall(){return he(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let e,o=this.sshFormModel.get("fwnodes").at(0),r=this.fwcUserService.getActualFwcUser().publicKey,s=yield this.utilService.openPGPEncrypt(o.get("install_user").value,r),a=yield this.utilService.openPGPEncrypt(o.get("install_pass").value,r),l=yield this.utilService.openPGPEncrypt(o.get("install_apikey").value,r);e={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,install_user:s,install_pass:"",install_port:o.get("install_port").value,save_user_pass:1,fwmaster:1,options:3,plugins:0,install_communication:o.get("install_communication").value,install_protocol:o.get("install_protocol").value,install_apikey:l,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),node_id:this.parentNodeId},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newFirewall.bind(this.fwcFirewallService),e).then(c=>{let u=c.data.insertId;this.formModel.get("id").setValue(u),this.processFwInterfacesOperations(e,c.data).then(()=>{this.operationResults.push({success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_FW",{name:this.formModel.get("name").value})}),this.importSSHData=this.buildSSHApiObject(u),this.displayStepContent(3)}).catch(g=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_GEN"),detail:g.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(c=>{let u=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:u.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:u.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processFwInterfacesOperations(e,t){return new Promise((o,r)=>he(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let s=this.fwcInterfacesEditor.getSelectedTreeNodes(),a=t.insertId;this.fwcInterfacesEditor.setNewLoIds(t);let c=(yield this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())).data,u=[];u.push(c);let g=this.fwcObjectTreeService.getNodesFull(u,B.OBJ_FIREWALL,a);if(g&&Array.isArray(g.items)){let _=g.items.find(C=>C.node_type===B.FOLDER_INTERFACES);if(_){let C={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:g.text,type:F.OBJ_FIREWALL,id:a,id_node:_.id},objectTreeNodes:s,onClose:S=>he(this,null,function*(){let A,x,D=!1;if(S.forEach(V=>{V.operationStatus===Rn.SUCCESS&&V.operationResult&&V.object.installFirewallUUIDs&&V.object.installFirewallUUIDs.has(this.formModel.get("firewallUUID").value)&&(V.object.type===F.OBJ_INTERFACE_FIREWALL?A=V.operationResult.insertId:V.object.type===F.OBJ_ADDRESS&&(x=V.operationResult.insertId)),V.operationStatus===Rn.ERROR&&(D=!0)}),D)return r(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_IFS_OPERATIONS")));if(A&&x){let V=new bg(e);V.firewall=a,V.install_interface=A,V.install_ipobj=x,V.install_pass="";try{let X=V.getValue(),ee=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),X)}catch{return r(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UPDATING_INST")))}}o()})},w={uuid:ci.ITEM_BATCH_MANAGER,data:C};this.appDialogPanelsService.searchAndShowDialog(w)}}else return r(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_MISSING_FIREWALL_NODE")))}else o()}catch{r(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UNKNOWN")))}}))}doCreateCluster(){return he(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let e,t=this.fwcUserService.getActualFwcUser().publicKey,o=this.sshFormModel.get("fwnodes"),r=[];for(let s=0;s<o.length;s++){let a=o.at(s),l=yield this.utilService.openPGPEncrypt(a.get("install_user").value,t),c=yield this.utilService.openPGPEncrypt(a.get("install_pass").value,t),u=yield this.utilService.openPGPEncrypt(a.get("install_apikey").value,t);r.push({name:a.get("name").value,comment:null,install_user:l,install_pass:"",install_port:a.get("install_port").value,save_user_pass:1,fwmaster:s?0:1,install_communication:a.get("install_communication").value,install_protocol:a.get("install_protocol").value,install_apikey:u})}e={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,options:3,plugins:0,fwnodes:r},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newCluster.bind(this.fwcFirewallService),e,this.fwcUserService.getActualFwSelectedCloud(),this.parentNodeId).then(s=>{let a=s.data.insertId;this.formModel.get("id").setValue(a),this.processClusterInterfacesOperations(a,s.data).then(l=>{let c={success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_CLUSTER",{name:this.formModel.get("name").value}),details:[]},u=this.sshFormModel.get("fwnodes"),g=[];for(let _=0;_<u.length;_++){let C=u.at(_);g.push(C.get("name").value)}c.details.push(g.join(", ")),this.operationResults.push(c),this.importSSHData=this.buildSSHApiObject(l),this.displayStepContent(3)}).catch(l=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_CREATING_IFS"),detail:l.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(s=>{let a=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:a.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:a.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processClusterInterfacesOperations(e,t){return new Promise((o,r)=>he(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let s=this.fwcInterfacesEditor.getSelectedTreeNodes();t&&t.loData&&this.fwcInterfacesEditor.setNewLoIds(t);let[a,l]=yield Promise.all([this.utilService.fwcAPICall(this.fwcFirewallService.getCluster.bind(this.fwcFirewallService),e,this.fwcUserService.getActualFwSelectedCloud()),this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())]),c=a.data,u;if(c&&Array.isArray(c.nodes)&&(u=c.nodes),!u||!u.length)return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_EMPTY_CLUSTER")));let g=this.sshFormModel.get("fwnodes").value,_,C=this.fwcUserService.getActualFwcUser().publicKey;for(let x=0;x<u.length;x++){let D=u[x],V=g.find(X=>X.name===D.name);if(V){D.firewallUUID=V.firewallUUID;let X=V.install_user,ee=V.install_pass,ae=V.install_apikey;X&&(D.install_user=yield this.utilService.openPGPEncrypt(X,C)),ee&&(D.install_pass=yield this.utilService.openPGPEncrypt(ee,C)),ae&&(D.install_apikey=yield this.utilService.openPGPEncrypt(ae,C))}else return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_NODE")));D.fwmaster&&(_=D.id)}let w=l.data,S=[];S.push(w);let A=this.fwcObjectTreeService.getNodesFull(S,B.OBJ_CLUSTER,e);if(A&&Array.isArray(A.items)){let x=A.items.find(D=>D.node_type===B.FOLDER_INTERFACES);if(x){let D={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:A.text,type:F.OBJ_FIREWALL,id:_,id_node:x.id},objectTreeNodes:s,onClose:X=>he(this,null,function*(){let ee=!1,ae=new Map;if(X.forEach(me=>{if(me.operationStatus===Rn.SUCCESS&&me.operationResult&&me.object.installFirewallUUIDs){let Ce;me.object.type===F.OBJ_INTERFACE_FIREWALL?Ce={install_interface:me.operationResult.insertId}:me.object.type===F.OBJ_ADDRESS&&(Ce={install_ipobj:me.operationResult.insertId}),me.object.installFirewallUUIDs&&me.object.installFirewallUUIDs.forEach(be=>{let tt=ae.get(be);Ce=Q(Q({},tt),Ce),ae.set(be,Ce)})}me.operationStatus===Rn.ERROR&&(ee=!0)}),ee)return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_IFS_OPERATIONS")));{let me;if(ae.size)for(let[Ce,be]of ae){let tt=u.find(Vt=>Vt.firewallUUID===Ce);if(tt){me=new bg(tt),me.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),me.firewall=tt.id,me.install_interface=be.install_interface,me.install_ipobj=be.install_ipobj,me.install_pass="",me.plugins=0;try{let Vt=me.getValue(),ai=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),Vt)}catch{return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST",{name:tt.name})))}}else return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST_MISSING")))}}o(_)})},V={uuid:ci.ITEM_BATCH_MANAGER,data:D};this.appDialogPanelsService.searchAndShowDialog(V)}else return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_NO_IFS_NODE")))}else return r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_CLUSTER_NODE")))}else o(null)}catch{r(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UNKNOWN")))}}))}handleIptablesSaveFinish(e){let t=e.success?"INFO":"ERRORS";this.operationResults.push({success:e.success,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT."+t+".IPTABLES_SAVE",{ip:this.sshFormModel.get("fwnodes").at(0).get("address").value})}),this.iptablesSaveFinished=!0,this.state.loadingData=!1,this.recenterDialog()}buildSSHApiObject(e){let t;if(this.sshFormModel){let o=this.sshFormModel.get("fwnodes").at(0);t={firewall:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:o.get("address").value,port:o.get("install_port").value,sshuser:o.get("install_user").value,sshpass:o.get("install_pass").value,communication:o.get("install_communication").value,protocol:o.get("install_protocol").value,apikey:o.get("install_apikey").value}}return t}areAllOperationsSuccessful(){let e=!1;return this.operationResults&&(e=this.operationResults.every(t=>t.success)),e}static{this.\u0275fac=function(t){return new(t||i)(v(ot),v(Ct),v(Et),v(Bt),v(tr),v(_t),v(At),v(xi),v(je),v(ao),v(pe),v(et),v(Wt),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-wizard-firewall-import"]],viewQuery:function(t,o){if(t&1&&(ne(PVe,5),ne(FVe,5),ne(LVe,5),ne(MVe,5),ne(kVe,5),ne(NVe,5)),t&2){let r;K(r=q())&&(o.fwcInterfacesEditor=r.first),K(r=q())&&(o.buttonNext=r.first),K(r=q())&&(o.inputObjName=r.first),K(r=q())&&(o.fwcIptablesSaveComponent=r.first),K(r=q())&&(o.inputNodes=r),K(r=q())&&(o.inputDiscoverNodes=r)}},features:[Ge([Bt,tr]),fe],decls:10,vars:5,consts:[["dlgWizardDialog",""],["buttonNext",""],["inputObjName",""],["inputNode",""],["inputDiscoverNode",""],["fwcInterfacesEditor",""],["fwcIptablesSaveComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],["pTemplate","header"],[1,"grid"],["pTemplate","footer"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.0.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.1.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.2.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.3.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.4.TITLE"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"col-12"],[3,"activeIndexChange","model","readonly","activeIndex"],[3,"ngTemplateOutlet"],[3,"valueChange","value","closable"],[1,"col-6","fwc-left"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"disabled","label"],[1,"col-6"],["type","button","pButton","","icon","fa fa-close",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-arrow-left",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-arrow-right",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"label"],["type","button","pButton","","icon","fa fa-arrow-right",1,"p-button-primary",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-check",1,"p-button-success",3,"click","label"],[1,"col-3",2,"padding","2.1875rem"],["src","assets/img/import_wizard.png","height","200px","width","auto"],[1,"col-9",2,"padding-left","0.5rem","padding-top","2.1875rem","font-family","Montserrat, Arial, sans-serif",3,"innerHTML"],[1,"col-12",2,"padding-left","0.5rem","padding-top","2.1875rem","font-family","Montserrat, Arial, sans-serif","font-size",".9rem"],[1,"divInlineInput"],[1,"spanField"],["name","selectFwCluster",3,"ngModelChange","click","value","label","ngModel"],[1,"fwcSepShort"],[2,"width","100%",3,"formGroup"],[3,"keyup.enter"],[1,"col-12","md:col-6"],[1,"divFlexInput"],[1,"divFlexInput-label"],["for","name"],[1,"divFlexInput-control"],["type","text","maxlength","64","pInputText","","formControlName","name","name","name",3,"placeholder"],[1,"fwc-error",3,"ngStyle"],["for","comment"],["type","text","maxlength","255","pInputText","","formControlName","comment","name","comment",3,"placeholder"],["formArrayName","fwnodes",1,"grid"],[1,"fwcBlue"],[1,"col-12","md:col-6",3,"formGroupName"],["formControlName","name","maxlength","64","type","text","pInputText","",3,"id","placeholder"],[1,"fwc-error"],[1,"divFlexInput-buttons"],["tooltipPosition","bottom","showDelay","500","pButton","","type","button","icon","pi pi-minus",1,"p-button-danger","fwcButtonHeight",3,"disabled","pTooltip"],["pButton","","type","button","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"disabled","pTooltip"],["tooltipPosition","bottom","showDelay","500","pButton","","type","button","icon","pi pi-minus",1,"p-button-danger","fwcButtonHeight",3,"click","disabled","pTooltip"],["pButton","","type","button","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"click","disabled","pTooltip"],[2,"width","100%",3,"keyup.enter","formGroup"],[1,"col-12",3,"formGroupName"],[1,"col-12","fwc-centered"],["type","button","pButton","","icon","fa fa-search-plus",1,"p-button-primary",3,"click","disabled","label"],[3,"legend"],[1,"grid",2,"width","100%"],[3,"ngClass"],[1,"p-inputgroup"],["pButton","","type","button","tooltipPosition","top","showDelay","500",1,"p-button-primary","fwcButtonHeight",3,"click","icon","pTooltip"],["maxlength","64","type","text","formControlName","address","pInputText","",3,"placeholder"],["maxlength","64","type","number","formControlName","install_port","pInputText","",3,"placeholder"],[1,"col-2"],[1,"col",2,"line-height","2.4rem"],[1,"col-12","grid","grid-nogutter",2,"width","auto"],["formControlName","install_protocol","name","install_protocol",1,"selNoMargin",3,"change"],["disabled","",3,"value"],["value","https"],["value","http"],[1,"col-4"],["formControlName","install_apikey","name","install_apikey","pPassword","","maxlength","64",3,"showPassword","placeholder","feedback"],["pButton","","type","button","icon","fa fa-eye",1,"p-button-secondary",3,"mousedown","mouseup","mouseout"],[1,"col-3"],["maxlength","64","type","text","formControlName","install_user","pInputText","",3,"placeholder"],["maxlength","64","type","password","formControlName","install_pass","pPassword","",3,"showPassword","placeholder","promptLabel","feedback"],["formControlName","role","styleClass","dropDownForm","appendTo","body",3,"options"],["tooltipPosition","top",1,"fa","fa-lg","fa-exclamation-triangle","fwcRed",3,"pTooltip","showDelay"],[1,"fa","fa-lg","fa-cog","fa-spin","fwcBlue"],[1,"fa","fa-lg","fa-exclamation-circle","fwcRed"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],[3,"onStartAutodiscover","options","manualMode","minimized"],[3,"onFinish","hideUI","importSSHData"],[1,"grid","divSummary"],[1,"col-12","divSummary-header"],[1,"col-12","divSummary-result"],[1,"col-12","divSummary-footer"],[1,"fa","fa-4x","fa-check-circle","fwcGreen"],[1,"fa","fa-4x","fa-exclamation-triangle","fwcOrange"],[1,"fa","fa-lg","fa-fw",3,"ngClass"],[3,"innerHTML"],[1,"divSummary-details"],[1,"fa","fa-check","fwcGreen"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",7,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onHide",function(){return b(r),y(o.onHideDialog())}),I(2,UVe,5,3,"ng-template",8)(3,zVe,3,2,"div",9)(4,YVe,4,2,"ng-template",10),m(),I(5,JVe,5,3,"ng-template",11)(6,nBe,40,33,"ng-template",12)(7,gBe,1,1,"ng-template",13)(8,_Be,6,5,"ng-template",14)(9,ABe,1,1,"ng-template",15)}t&2&&(Oe("visible",o.displayDialog),p("modal",!0)("closable",!1)("resizable",!0),d(3),G(o.state?3:-1))},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.divFlexInput{display:flex}.divFlexInput-label{flex:0;line-height:2.4rem;margin-right:1rem}.divFlexInput-control{flex:1}.divFlexInput-buttons{display:flex;margin-left:.5rem}.divSummary-header{text-align:center}.divSummary-header i{margin-bottom:.3rem}.divSummary-result{padding-left:2.5rem}.divSummary-result i{padding-right:.3rem}.divSummary-details{font-size:.9rem;color:var(--fwcMidDark);padding:.3rem 0 .3rem 2.5rem}.divSummary-details i{padding-right:.3rem}.divSummary hr{border:0;height:1px;background-image:linear-gradient(to right,#0000,#0000004d,#0000)}.divSummary-footer{margin-top:.5rem}.p-steps{padding-top:1.5625rem}.p-toggleable-content{width:100%}.p-fieldset-content{display:flex;flex-direction:row;width:100%}body .p-fieldset{border:1px solid #c8c8c8;background-color:transparent;color:#333}body .p-corner-all{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.p-fieldset .p-fieldset-legend{border:1px solid transparent;background:none;font-weight:400}.p-fieldset .p-fieldset-legend-text{margin-left:15px;font-family:Montserrat,Arial,sans-serif}
`],encapsulation:2,changeDetection:0})}}return i})();var yg=function(i){return i.OBJECT_NAME="POLICY.TREE_SEARCH_OPTIONS.OBJECT_NAME",i.TCP_UDP_PORT="POLICY.TREE_SEARCH_OPTIONS.TCP_UDP_PORT",i.IP_ADDRESS="POLICY.TREE_SEARCH_OPTIONS.IP_ADDRESS",i.IP_OPENVPN="POLICY.TREE_SEARCH_OPTIONS.IP_OPENVPN",i}(yg||{});var Z6=Xs(hg());var xBe=()=>({width:"100%","max-height":"20em",overflow:"auto"}),EBe=i=>({"font-weight":i});function TBe(i,n){i&1&&(f(0,"div",7)(1,"h6",8),E(2,"i",9),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function OBe(i,n){if(i&1){let e=k();f(0,"span",10),R("dblclick",function(){let o=b(e).$implicit,r=h();return y(r.onNodeSelect(o))}),E(1,"i",11),O(2,"fwcIcon"),f(3,"span",12),T(4),m()()}if(i&2){let e=n.$implicit;d(),us("fwcTreeIcon ",P(2,5,e.data==null?null:e.data.object_type),""),d(2),p("ngStyle",J(7,EBe,e.selectable?"normal":"bold")),d(),z(" ",e.label," ")}}function RBe(i,n){if(i&1){let e=k();f(0,"button",13),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.onNodeSelect(o.selectedNode))}),m(),f(2,"button",14),O(3,"translate"),R("click",function(){b(e);let o=h();return y(o.onSelectCancel())}),m()}if(i&2){let e=h();Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.SELECT")),p("disabled",!e.selectedNode),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}var Ob=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S){super(e,t,o,r,_,c),this.appDialogPanelsService=e,this.appOptionsService=t,this.itemSelectedService=o,this.cd=r,this.translate=s,this.fwcUserService=a,this.utilService=l,this.router=c,this.fwcFirewallService=u,this.fwcVpnService=g,this.store=_,this.inputDataService=C,this.confirmationService=w,this.fwcEventService=S,this.displayNodeSelectDialog=!1,this.serviceMap={OSR:xa.openvpn,S01:xa.dhcp,S02:xa.keepalived,S03:xa.HAProxy},this.createDialog(s.instant("VPN.STATUS.NODE_SELECT_DIALOG.TITLE"),"fwcMenuIcon fwci-firewalls fwcOrange")}onNodeSelect(e){return he(this,null,function*(){if(!e||!e.selectable)return;let t=this.clusterNodes.find(o=>o.id===e.data.firewall_id);if(t){this.displayNodeSelectDialog=!1;let o=this.utilService.createDynamicComponentRef(Lh),r=o.instance;r.setDynamicComponentRef(o);let s={fwcloud:this.selectedItem.fwcloud,firewall:t.id,service:this.serviceMap[this.selectedItem.node_type]==="openvpn"?this.serviceMap[this.selectedItem.node_type]+"@"+this.selectedItem._fwcObjName:this.serviceMap[this.selectedItem.node_type]};r.systemCtlSelectorDialog(s)}})}selectNodes(e){this.selectedItem=e,this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),this.selectedItem.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).then(t=>{this.clusterNodes=t.data,this.clusterNodes&&(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes,this.selectedItem.cluster_name),this.displayNodeSelectDialog=!0)}).catch(t=>{console.error(t)})}buildNodesTree(e,t){let o=[],r={label:t,data:{object_type:F.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(s=>{r.children.push({label:s.name,data:{object_type:F.OBJ_FIREWALL,firewall_id:s.id},selectable:!0})}),o.push(r),o}onSelectHide(e){}onSelectCancel(){this.displayNodeSelectDialog=!1,super.hideDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(At),v(Et),v(_t),v(pe),v(je),v(ot),v(Ct),v(et),v(Bt),v(Sr),v(Ke),v(ir),v(Wt),v(_n))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-systemctl-nodes-selector-panel"]],features:[fe],decls:11,vars:12,consts:[["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","resizable","closable","modal"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"nodeselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayNodeSelectDialog,s)||(o.displayNodeSelectDialog=s),s}),R("onHide",function(s){return o.onSelectHide(s)}),I(1,TBe,5,3,"ng-template",1),f(2,"div",2)(3,"div",3)(4,"p"),T(5),O(6,"translate"),m()(),f(7,"div",3)(8,"p-tree",4),Re("selectionChange",function(s){return De(o.selectedNode,s)||(o.selectedNode=s),s}),I(9,OBe,5,9,"ng-template",5),m()()(),I(10,RBe,4,7,"ng-template",6),m()),t&2&&(Oe("visible",o.displayNodeSelectDialog),p("resizable",!1)("closable",!1)("modal",!0),d(5),H(P(6,9,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),d(3),it(Ie(11,xBe)),p("value",o.clusterTreeNodes),Oe("selection",o.selectedNode))}})}}return i})();var DBe=["treeview"],PBe=["hintFirstTreeElement"],FBe=Pl.concat([B.FOLDER_POLICY,B.FOLDER_INTERFACES,B.POLICY_ROUTING,B.OPENVPN_ROOT,B.OPENVPN_PREFIX_FOLDER]).filter(i=>i!==B.ROUTING_TABLE),V4t=(()=>{class i{onContextMenuEvent(e,t){e.preventDefault(),this.contextMenuReference&&this.clearObjectInfo()}fwcIcon(e,t){return un.prototype.transform(e,t)}set treeOptions(e){this.options=Object.assign({},e),this.treeExpandedNodes=new Set,this.selectedPolicyNode=void 0,this.treeLoad(),this.cd.detectChanges()}set searchString(e){this._searchString=e,this.treeFilter()}get searchString(){return this._searchString}set treeSearchOptions(e){this._treeSearchOptions=e,this.treeFilterByOptions()}constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D,V,X,ee,ae,me,Ce,be,tt,Vt,ai,rn){this.refService=e,this.fwcObjectTreeService=t,this.itemSelectedService=o,this.fwcPolicyService=r,this.fwcRoutingTableService=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcInterfaceService=u,this.fwcContextMenuService=g,this.fwcDhcpPolicyService=_,this.fwcHAProxyPolicyService=C,this.fwcKeepalivedPolicyService=w,this.fwcErrorPipe=S,this.fwcPolicyGridRoutingTableFunctionalityService=A,this.confirmationService=x,this.messageService=D,this.inputDataService=V,this.utilService=X,this.fwcVpnService=ee,this.appHintService=ae,this.appDialogPanelsService=me,this.dialogService=Ce,this.cd=be,this.translate=tt,this.store=Vt,this.parentFwcTreePanelComponent=ai,this.fwcTreePanelMenuService=rn,this.currentResourcePath="app/integralui/icons",this.treeIntegralUIStyle=[K6,Wl,W6,Kl,$l,$6],this.currentDragDrop=no.Static,this.currentItemTemplate=Ye=>ke`
      <iui-contextmenu
        .allowAnimation="${!1}"     
        .customStyle="${[Wl,q6,Kl,$l]}"
        .colorScheme="${this.currentColorScheme}"
        .settings=${this.treeContextMenu[Ye.node_type]?this.treeContextMenu[Ye.node_type]:this.treeContextMenu.NO_MENU}
        @menuOpening=${zt=>this.onContextMenuLoad(zt)}
        @menuClick=${zt=>this.onContextMenuHandler(zt)}>
        <div class="fwcTree-item 
          ${this.selectedPolicyNode&&Ye.id==this.selectedPolicyNode.id?"fwcSelectedPolicyNode":""}
          ${Ye.id==this.highlightNodeId?"fwcTree-item-highlight":""}
          ${Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI&&Ye.openvpn_disabled&&!Ye._fwcOpenvpnStatus?"fwcTree-item--disabled":""}"
        @mouseenter=${zt=>this.showObjectInfo(Ye,zt)}
        @mouseleave=${zt=>this.clearObjectInfo(zt)}
        @click=${zt=>this.onItemClickEvent(zt)}
        @dblclick=${zt=>this.onItemDblClickEvent(zt)}
        .draggable=${Ye.allowDrag}
        @dragstart=${zt=>this.onItemDragStart(Ye,zt)}
        @wheel="${()=>this.clearObjectInfo()}"
        @contextmenu=${zt=>this.onContextMenuEvent(zt,Ye)}
      }}
      >
      ${Ye.obj_type==this.ObjectTypes.OBJ_CA&&Ye._fwcCaStatus?ke`
      <span>
        <i class="fa fa-spin fa-spinner fwcBlue"></i>
      </span>`:""}

    ${Ye.obj_type==this.ObjectTypes.OBJ_COUNTRIE?ke`
      <span>
        <i class="flag-icon flag-icon-${Ye.parent_name.toLowerCase()}"></i>
      </span>`:""}
      ${Ye.obj_type==this.ObjectTypes.OBJ_CONTINENT?ke`
          <span>
            <i class="fwcTreeIcon ${this.fwcIcon(Ye.obj_type,Ye.parent_name)}"></i>
          </span>`:""}
      ${Ye.obj_type!=this.ObjectTypes.OBJ_COUNTRIE&&Ye.obj_type!=this.ObjectTypes.OBJ_CONTINENT?ke`
          <i class="fwcTreeIcon ${this.fwcIcon(Ye.obj_type,Ye.node_type)}" aria-hidden="true"></i>
      `:""}
      
      ${Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI&&Ye.openvpn_disabled&&!Ye._fwcOpenvpnStatus?ke`
        <span class="fwcTree-item--disabled" style="margin-left: -0.15em; margin-top:0.3125em;">
          <img width="17.5" height="17.5" src="assets/img/openvpn-disabled.png" />
        </span>`:""}
        
      ${Ye.node_type=="SYS"?ke`
      <span style="font-size: 16px; margin-left: -0.15rem; margin-right: -0.09em;">
        <i class="fa fa-gear fwcBlue"></i>
      </span>`:""}

    ${["S01","S04"].includes(Ye.node_type)?ke`
      <span style="margin-right: -0.09em; margin-top: 0.3125em;">
        <img width="15" height="15" src="assets/img/isc-dhcp.png" />
      </span>`:""}

    ${Ye.node_type=="S02"?ke`
      <span style="margin-right: -0.09em; margin-top:0.3125em;">
        <img width="15" height="15" src="assets/img/keepalived.png" />
      </span>`:""}

    ${Ye.node_type=="S03"?ke`
      <span style="margin-right: -0.09em; margin-top:0.3125em;">
        <img width="15" height="15" src="assets/img/ha-proxy.png" />
      </span>`:""}

    ${Ye.node_type=="FDF"?ke`
      <span>
        <i class="fwcTreeIcon fwci-clusters fwcDarkBlue" aria-hidden="true"></i>
      </span>`:""}

      ${(Ye.obj_type==this.ObjectTypes.OBJ_CLUSTER||Ye.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Ye.status_compiled?ke`
      <span class="fwcBadgeFw fwcBadgeFw-C">
        <p>C</p>
      </span>`:""}
    
    ${(Ye.obj_type==this.ObjectTypes.OBJ_CLUSTER||Ye.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Ye.status_compiled||(Ye.obj_type==this.ObjectTypes.OBJ_CLUSTER||Ye.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&!Ye.status_compiled&&Ye.status_installed?ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}
    
    ${(Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI||Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_SER)&&Ye._fwcOpenvpnStatus?ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}
      <span class="fwc-label ${Ye.fwcloud===null&&Ye.id_obj!==null?"fwcBlue":"fwcDark"}" 
      style="font-weight: ${Ye._fwcObjId===null?"bold":"normal"};
      margin-left: ${Ye.obj_type==this.ObjectTypes.OBJ_CLUSTER||Ye.obj_type==this.ObjectTypes.OBJ_FIREWALL?"3px":"1px"}">

      ${Ye.text}
      ${Ye.labelName&&Ye.labelName!==""?ke`<span>[${Ye.labelName}]</span>`:""}      
      ${(Ye.parent_type===this.ObjectTypes.OBJ_HOST||Ye.parent_type===this.ObjectTypes.OBJ_FIREWALL||Ye.if_id)&&(Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_CLI||Ye.obj_type==this.ObjectTypes.OBJ_VPN_CONFIG_SER)&&Ye.address&&Ye.address!==""?ke`<span>(${Ye.address})</span>`:""}
      ${Ye.obj_type==this.ObjectTypes.OBJ_CA&&Ye._fwcCaStatus?ke`
        <span style="margin-left: 0.3em">
          <i class="fa fa-question-circle fwcOrange" @mouseenter="${zt=>this.appHintService.showRegisteredHint(Zd.HINT_CA_CREATING,void 0,zt)}" aria-hidden="true"></i>
        </span>`:""}
    </span>
    </div>
    </iui-contextmenu>
    `,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=new Set,this.isKeepalivedPolicy=!1,this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this.isHAProxyPolicy=!1,this.customSearchOptions={callback:(Ye,zt)=>{}},this._searchString="",this.alive=!0,this.ObjectTypes=F,this.NodeTypes=B,this.infoTooltipShown=!1,this.CACertTypes=Up,this.HintsIds=Zd,this.serviceMap={OSR:xa.openvpn,S01:xa.dhcp,S02:xa.keepalived,S03:xa.HAProxy},this.items=[],this.fwcTreePanelMenuService.forwardSelection.subscribe(Ye=>{this.onContextMenuHandler(Ye.e,Ye.panel_type)})}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.nodeTranslations=this.translate.instant("NODE_TYPES"),this.store.pipe(yt(()=>this.alive),Sn(Zr)).subscribe(e=>{e==="dark"?this.currentColorScheme=Xt.Dark:this.currentColorScheme=Xt.Light}),this.store.pipe(yt(()=>this.alive),Sn(Sm.selectItemToSelect),No(e=>!!e)).subscribe(e=>{this.treeFindItem(e._fwcObjId,e._fwcObjType,!0,e._fwcSubObjId,e._fwcSubObjType)}),this.options&&(this.options.container===ft.C_FIREWALLS||this.options.container===ft.C_FIREWALLS_CONDENSED)&&this.store.pipe(yt(()=>this.alive),Sn(Sm.selectItemUpdateFwStatus),No(e=>!!e)).subscribe(e=>{this.treeUpdateFwStatus(this.items,e)}),this.itemSelectedService.getItem().pipe(yt(()=>this.alive)).subscribe(e=>{e.container||this.treeFindItem(e._fwcObjId,e._fwcObjType,!1,e._fwcSubObjId,e._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(yt(()=>this.alive)).subscribe(e=>{if(this.options.container==ft.C_FIREWALLS&&e._fwcFwId!==null&&e._fwcFwId!==void 0&&!e._dontLocateInTree){let t=this.treeFindPolicyItem(this.items,e._fwcFwId,e._fwcPolicyType,e._fwcObjId);t&&(this.selectedPolicyNode=t,t!=this.treeview.nativeElement.selectedItem&&(this.treeview.nativeElement.clearSelection(),this.treeview.nativeElement.scrollTo(t),this.treeview.nativeElement.selectItems([t])))}}),this.itemSelectedService.getModifiedItem().pipe(yt(()=>this.alive)).subscribe(e=>{if(!(e.deleteFromList||e.addToList||e.selectItemInPosition)){switch(e._fwcTreeAction){case qi.NEW_ITEM:this.treeNewItem(e);break;case qi.DELETE_ITEM:this.treeDeleteItem(e);break;case qi.NEW_GROUP_ITEM:this.treeNewItem(e,!0);break;case qi.DELETE_GROUP_ITEM:this.treeDeleteItem(e,!0);break;case qi.RELOAD_TREE:(e.containerToReload===this.options.container||Array.isArray(this.items)&&this.items.length&&this.items[0].node_type===e.treeNodeToReload)&&this.treeLoad(e.treeNodeToSelect);break;case qi.MODIFY_ITEM:default:this.treeModifyItem(e);break}this.cd.detectChanges()}}),this.fwcUserService.getFwcUser().pipe(yt(()=>this.alive)).subscribe(e=>{this.fwcUser&&this.fwcUser.selectedLanguage!=e.selectedLanguage&&this.translate.use(e.selectedLanguage),this.fwcUser=e}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(e=>{this.fwcChildTypes=e}),this.appHintService.registerHint({id:Zd.HINT_NO_FW,caption:"HINTS.HINT_NO_FW.CAPTION",description:"HINTS.HINT_NO_FW.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:Zd.HINT_CA_CREATING,caption:"HINTS.HINT_CA_CREATING.CAPTION",description:"HINTS.HINT_CA_CREATING.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t}.bind(this),1)}ngOnDestroy(){this.alive=!1}setExpandedNodes(e,t){let o;e.detail&&(o=e.detail.item,t?this.treeExpandedNodes.add(o.id):this.treeExpandedNodes.delete(o.id))}treeLoad(e,t){let o=this.fwcUserService.getActualFwSelectedCloud();this.items.length=0,this.options.container==ft.C_FIREWALLS||this.options.container==ft.C_FIREWALLS_CONDENSED?(this.store.dispatch(di.requestBlockUI()),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(([r,s])=>{let a,l,c=r.data;c.text=" ",c.expanded=!0,this.items.push(c),this.treeview.nativeElement.updateLayout(),this.treeClusters=[],a=Array.isArray(s.data)?s.data:[];for(let u=0;u<a.length;u++)if(a[u].cluster!==void 0&&a[u].cluster!==null){l=!1;for(let g=0;g<this.treeClusters.length;g++)a[u].cluster==this.treeClusters[g].clusterId&&(this.treeClusters[g].fwnodes.push(a[u]),a[u].fwmaster&&(this.treeClusters[g].fwMasterId=a[u].id),l=!0);if(!l){let g=this.treeClusters.push({clusterId:a[u].cluster,fwnodes:[]});a[u].fwmaster&&(this.treeClusters[g-1].fwMasterId=a[u].id),this.treeClusters[g-1].fwnodes.push(a[u])}}this.buildTree(e,t),this.cd.detectChanges(),this.store.dispatch(di.requestUnblockUI()),setTimeout(()=>{this.options.container==ft.C_FIREWALLS&&Array.isArray(this.items)&&this.items.length&&Array.isArray(this.items[0].items)&&!this.items[0].items.length&&this.appHintService.showRegisteredHint(Zd.HINT_NO_FW,this.hintFirstTreeElement)},500)}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.store.dispatch(di.requestUnblockUI())}),this.cd.detectChanges()):this.options.container==ft.C_CA?(this.store.dispatch(di.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,o).subscribe({next:r=>{let s=r.data;s.text=" ",s.expanded=!0,this.items.push(s),this.treeview.nativeElement.updateLayout(),this.buildTree(e,t),this.store.dispatch(di.requestUnblockUI())},error:r=>{this.errorMessage=r,this.store.dispatch(di.requestUnblockUI())}}),this.cd.detectChanges()):(this.store.dispatch(di.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,o).subscribe({next:r=>{let s;if(r.data.length>1){s=r.data;for(let a=0;a<s.length;a++)s[a].text=this.nodeTranslations+"."+s[a].node_type,s[a].expanded=!0,this.reorderTreeStdNodes(s[a]),this.items.push(s[a]),this.treeview.nativeElement.updateLayout()}else s=r.data,s.text=" ",s.expanded=!0,this.reorderTreeStdNodes(s),this.items.push(s),this.treeview.nativeElement.updateLayout();this.buildTree(e,t),this.store.dispatch(di.requestUnblockUI())},error:r=>{this.errorMessage=r,this.store.dispatch(di.requestUnblockUI())}}),this.cd.detectChanges())}getTree(e){return new Promise((o,r)=>{let s=this.fwcUserService.getActualFwcUser(),a=-1;s.selectedFwCloud!==null&&s.selectedFwCloud!==void 0&&(a=s.selectedFwCloud),this.fwcObjectTreeService.getTree(e,a).subscribe({next:l=>{o(l)},error:l=>{r(l)}})})}getAllFirewalls(){return new Promise((t,o)=>{let r=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(r).subscribe(s=>{t(s)},s=>{o(s)})})}reorderTreeStdNodes(e){}buildTree(e,t){if(this.treePrepare(this.items),this.treeview.nativeElement.updateLayout(),this.selectedPolicyNode&&(this.selectedPolicyNode=this.findItemByIdType(this.items,this.selectedPolicyNode._fwcObjId,this.selectedPolicyNode._fwcObjType),e||(e=this.selectedPolicyNode)),e){let o=this.items[0];this.options.container==e.container&&(t?e._fwcObjTreeParentId!==void 0?o=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId):e.pid!==void 0&&(o=this.treeview.nativeElement.findItemById(e.pid)):e._fwcObjTreeId!==void 0?o=this.treeview.nativeElement.findItemById(e._fwcObjTreeId):e._fwcObjId!==void 0&&e._fwcObjType!==void 0&&(o=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),o&&(this.treeview.nativeElement.scrollTo(o),this.treeview.nativeElement.expand(o),this.treeview.nativeElement.selectItems([o]),Pl.findIndex(r=>o.node_type==r)!=-1&&(this.selectedPolicyNode=o),this.treeview.nativeElement.updateView(),this.itemSelectedService.setSelectedTreeNode(o))}this.treeview.nativeElement.updateLayout()}treePrepare(e,t){let o=t||{};for(let r=0;r<e.length;r++){let s=e[r],a,l,c,u,g=[],_=[],C=[],w=[],S,A,x,D;if(s.node_type==B.CONTINENT&&(l=s.text,s.text=this.nodeTranslations[s.text]),s.node_type==B.COUNTRIE&&(l=s.text,s.text=this.translate.instant("COUNTRIES."+s.text)),this.nodeTranslations[s.node_type]&&!s.id_obj&&(s.text=this.nodeTranslations[s.node_type]),this.options.container===ft.C_FIREWALLS_CONDENSED&&(s.node_type===B.OBJ_FIREWALL||s.node_type===B.OBJ_CLUSTER))for(let V=0;V<s.items.length;V++)s.items[V].node_type!=B.OPENVPN_ROOT&&(s.items.splice(V,1),V=V-1);if(Pl.findIndex(V=>V==s.node_type)!=-1&&(s.obj_type=+si[s.node_type]),Ik.findIndex(V=>V===s.node_type)!=-1&&(s.show_action=!0),g=o.fw_status,_=o.ca_status,C=o.openvpn_status,w=o.openvpn_info,this.treeExpandedNodes.has(s.id)&&(s.expanded=!0),s.container=this.options.container,s.containerReadOnly=this.options.containerReadOnly,s.obj_type==F.OBJ_INTERFACE_FIREWALL||s.obj_type==F.OBJ_INTERFACE_HOST){let V=/(.+)\s+\[(.+)\]$/.exec(s.text);s.labelName="",V&&(s.text=V[1],s.labelName=V[2])}if(s.obj_type==F.OBJ_ADDRESS){let V=/^(.+)\s+\((.+)\)$/.exec(s.text);V&&s.address&&s.address===V[2]&&(s.text=V[1])}if(s._fwcObjName=s.text,s._fwcObjType=s.obj_type,s._fwcObjId=s.id_obj,o.prefix_name!==void 0&&o.prefix_name!==null&&(s._fwcObjName=o.prefix_name+s.text),(s.obj_type==F.OBJ_PREFIX_FOLDER||s.obj_type==F.OBJ_OPENVPN_PREFIX)&&(D=s.text,x=o.parent_cert_name),o.parent_cert_name!==void 0&&o.parent_cert_name!==null&&(s._fwcParentConfigName=o.parent_cert_name),s.obj_type==F.OBJ_VPN_CONFIG_SER&&(x=s._fwcObjName),s.container===ft.C_FIREWALLS||s.container===ft.C_OBJECTS||s.container===ft.C_FIREWALLS_CONDENSED?(o.parent_id&&(a=o.parent_id,l=o.parent_name,c=o.parent_type,u=o.fw_master,o.parent_type===F.OBJ_FIREWALL&&(s._fwcFwId=a,s._fwcFwName=l,s.firewall_id=a,s.firewall_name=l),o.parent_type===F.OBJ_CLUSTER&&(s._fwcClusterId=a,s._fwcClusterName=l,s.cluster_id=a,s.cluster_name=l),o.parent_type===F.OBJ_HOST&&(s._fwcHostId=a,s._fwcHostName=l,s.host_id=a,s.host_name=l)),o.openvpn_id&&(s._fwcOpenVPNId=o.openvpn_id),s.fw_status&&s.fw_status.length&&(g=s.fw_status),s.openvpn_status&&s.openvpn_status.length&&(C=s.openvpn_status),s.openvpn_info&&s.openvpn_info.length&&(w=s.openvpn_info),(s.node_type===B.OBJ_FIREWALL||s.node_type===B.OBJ_CLUSTER||s.node_type===B.OBJ_HOST)&&(a=s.id_obj,l=s.text,c=s.obj_type,s.node_type==B.OBJ_FIREWALL&&(s._fwcFwId=a,s._fwcFwName=l,this.updateFwNodeStatus(s,g)),s.node_type==B.OBJ_CLUSTER&&this.updateClusterNodeStatus(s,g)),(s.obj_type===F.OBJ_VPN_CONFIG_CLI||s.obj_type===F.OBJ_VPN_CONFIG_SER)&&this.updateOPVNStatus(s,C),s.obj_type===F.OBJ_VPN_CONFIG_CLI&&this.updateOPVNInfo(s,w),(s.node_type===B.FOLDER_INTERFACES||s.node_type===B.FOLDER_CLUSTER_FW||s.node_type===B.FOLDER_ROUTING)&&s._fwcClusterId&&(u=s.id_obj),s.parent_id=a,s.parent_name=l,s.parent_type=c,u&&(s._fwcFwId=u),s.node_type===B.OPENVPN_CONFIG_SER&&(s.items=s.items.sort((V,X)=>V.text>X.text?1:-1),A=s.id_obj),s.node_type===B.OPENVPN_PREFIX&&(s.items=s.items.sort((V,X)=>V.text>X.text?1:-1),A=s._fwcOpenVPNId)):s.container===ft.C_CA&&(s.ca_status&&s.ca_status.length&&(_=s.ca_status),s.obj_type==F.OBJ_CA&&(S=s.id_obj),s.obj_type==F.OBJ_PREFIX_FOLDER&&(S=o.ca_id),o.ca_id&&(s._fwcParentCA=o.ca_id),s.obj_type==F.OBJ_CA&&this.updateCAStatus(s,_)),s.expanded=!!s.expanded,s.allowDrag=this.checkItemDraggable(s),Pl.findIndex(V=>s.node_type==V)!=-1&&(s._fwcPolicyFwId=s.id_obj),s.items&&s.items.length){let V={fw_status:g,parent_id:a,parent_name:l,parent_type:c,fw_master:u,ca_status:_,openvpn_status:C,openvpn_info:w,ca_id:S,openvpn_id:A,prefix_name:D,parent_cert_name:x};this.treePrepare(s.items,V)}}this.isKeepalivedPolicy&&e.filter(s=>s.parent_type===F.OBJ_FIREWALL&&s.cluster_id&&s.node_type===B.OBJ_FIREWALL).forEach(s=>{s.allowDrag=!0})}checkItemDraggable(e){let t;if(e)return e._fwcObjId===null||e._fwcObjType===null||Ck.findIndex(o=>e.node_type==o)!=-1||e.obj_type===F.OBJ_FIREWALL&&e._fwcClusterId!==null&&e._fwcClusterId!==void 0?t=!1:t=!0,t}updateFwNodeStatus(e,t){let o,r;if(Array.isArray(t))for(let s=0;s<t.length;s++){let a=t[s];a&&(a.id==e.id_obj&&(o=a),e._fwcClusterId!==null&&e._fwcClusterId!==void 0&&a.cluster==e._fwcClusterId&&(r={clusterId:a.cluster,status_compiled:0,status_installed:a.status&2?1:0}))}o&&(e.status_compiled=o.status&1?1:0,e.status_installed=o.status&2?1:0),r&&e._fwcClusterId!==null&&e._fwcClusterId!==void 0&&e._fwcClusterId==r.clusterId&&(e.status_compiled=0,e.status_installed=r.status_installed)}updateClusterNodeStatus(e,t){let o,r,s=0;if(e){for(let a=0;a<this.treeClusters.length;a++)if(this.treeClusters[a].clusterId==e.id_obj){r=this.treeClusters[a];break}if(Array.isArray(t))for(let a=0;a<t.length;a++){let l=t[a];l&&l.cluster==e.id_obj&&(o=l,r&&r.clusterId==o.cluster&&(r.fwMasterId==o.id&&(e.status_compiled=o.status&1?1:0),o.status&2&&(s=1)))}e.status_installed=s}}updateCAStatus(e,t){let o;if(e){if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]&&e.id_obj==t[r].id&&t[r].status){o=1;break}}e._fwcCaStatus=o}}updateOPVNInfo(e,t){if(!(!e||!Array.isArray(t)))for(let o=0;o<t.length;o++)t[o]&&e.id_obj==t[o].openvpn&&(e.openvpn_disabled=!!t[o].openvpn_disabled)}updateOPVNStatus(e,t){let o;if(!(!e||!Array.isArray(t))){for(let r=0;r<t.length;r++)if(t[r]&&e.id_obj==t[r].id&&t[r].status){o=1;break}e._fwcOpenvpnStatus=o}}treeFindItem(e,t,o,r,s){return he(this,null,function*(){let a=this.findItemByIdType(this.items,e,t,r,s);a&&(o&&this.parentFwcTreePanelComponent&&!this.parentFwcTreePanelComponent.expanded&&(yield this.parentFwcTreePanelComponent.togglePanel()),this.treeview.nativeElement.clearSelection(),this.treeview.nativeElement.scrollTo(a),this.treeview.nativeElement.selectItems([a]),this.treeview.nativeElement.updateLayout())})}treeFindPolicyItem(e,t,o,r){let s=null;for(let a=0;a<e.length&&!s;a++){let l=e[a];o!==co.ROUTING_TABLE&&l._fwcPolicyFwId==t&&l._fwcObjType==o||l.node_type===B.ROUTING_TABLE&&l._fwcFwId===t&&l._fwcObjId===r?s=l:o===si[B.DHCP]||o===si[B.DHCP_FIXED_IP]||o===si[B.KEEPALIVED]||o===si[B.HAPROXY]?(r=void 0,s=this.treeFindPolicyItem(l.items,t,o,r)):l.items&&l.items.length&&(s=this.treeFindPolicyItem(l.items,t,o,r))}return s}findItemsByIdType(e,t,o,r,s){let a=[],l;for(let c=0;c<e.length;c++)if(e[c]._fwcObjId==t&&e[c]._fwcObjType==o&&e[c].node_type!=B.FOLDER_INTERFACES)if(l=e[c],r&&l.items){let u=this.findItemsByIdType(l.items,r,s);u&&u.length&&(a=a.concat(u))}else a=a.concat(l);else e[c].items&&e[c].items.length&&(a=a.concat(this.findItemsByIdType(e[c].items,t,o,r,s)));return a}findItemByIdType(e,t,o,r,s){let a=null;for(let l=0;l<e.length&&!a;l++)if(e[l]._fwcObjId==t&&e[l]._fwcObjType==o){if(a=e[l],r&&a.items){let c=this.findItemByIdType(a.items,r,s);c&&(a=c)}}else e[l].items&&e[l].items.length&&(a=this.findItemByIdType(e[l].items,t,o,r,s));return a}treeFindNode(e,t,o){let r;return e==this.options.container&&(r=this.findItemByIdType(this.items,t,o)),r}treeModifyItem(e){if(this.items&&this.items.length&&e.id!==null&&e.id!==void 0&&e.type!==null&&e.type!==void 0||e.node_id!==null&&e.node_id!==void 0){let t=[];if(e.node_id){let o=this.treeview.nativeElement.findItemById(e.node_id);o&&t.push(o)}else t=this.findItemsByIdType(this.items,e.id,+e.type);if(t&&t.length)for(let o of t){let r=""+o.type,s=o.id;for(let a of Object.keys(o))e[a]!==void 0&&(o[a]=e[a]);o.type=r,o.id=s,e.address&&e.if_id?(o.if_id=e.if_id,o.address=e.address,o.text=e.name,o._fwcObjName=`${e.name} (${e.address})`,o.text=o._fwcObjName):o._fwcObjName=o.text=e.name,this.treeview.nativeElement.updateLayout()}}}treeNewItem(e,t){if(e.container==this.options.container)if(t){let o=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId);if(o){let r=o.items?o.items:[];e.items=[],this.treeview.nativeElement.insertItemAt(e,r.length,o),this.treeview.nativeElement.expand(o),this.treeview.nativeElement.updateLayout()}}else this.treeLoad(e,t);else this.options.container==ft.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,t)}treeDeleteItem(e,t){if(e.container==this.options.container)if(t){let o=this.treeview.nativeElement.findItemById(e._fwcObjTreeParentId);if(o){let s=(o.items?o.items:[]).findIndex(a=>a._fwcObjId==e._fwcObjId&&a._fwcObjType==e._fwcObjType);s!=-1&&(this.treeview.nativeElement.removeItemAt(s,o),this.treeview.nativeElement.selectItems([o]),this.treeview.nativeElement.updateLayout())}}else this.treeLoad(e,t);else this.options.container==ft.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,!0)}treeFilter(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.nativeElement.filter(this.searchOptions)):this.treeview.nativeElement.filter()}treeFilterByOptions(){let e,t,o=s=>Number(s.split(".").map(a=>("000"+a).substr(-3)).join("")),r={callback:(s,a)=>{let l=!1,c=this._treeSearchOptions.searchFields,u=[a];for(;u&&u.length&&!l;){let g=u.shift();if(c.find(_=>_===yg.OBJECT_NAME)&&g.text&&(l=g.text.toLowerCase().includes(this._treeSearchOptions.keyword.toLowerCase())),!l&&c.find(_=>_===yg.TCP_UDP_PORT)&&(g.source_port_start||g.source_port_end||g.destination_port_start||g.destination_port_end)){let _=parseInt(this._treeSearchOptions.keyword);_!=null&&(l=_>=g.source_port_start&&_<=g.source_port_end||_>=g.destination_port_start&&_<=g.destination_port_end)}if(!l&&c.find(_=>_===yg.IP_ADDRESS)&&(g.address||g.range_start||g.range_end)&&(g.address?l=g.address.includes(this._treeSearchOptions.keyword):g.range_start&&g.range_end&&(l=Z6.isValid(this._treeSearchOptions.keyword)&&o(this._treeSearchOptions.keyword)>=o(g.range_start)&&o(this._treeSearchOptions.keyword)<=o(g.range_end))),l){let _=this.treeview.nativeElement.getItemParent(g);for(;_;)_.expanded=!0,_=this.treeview.nativeElement.getItemParent(_)}Array.isArray(g.items)&&u.push(...g.items)}return l}};if(this.treeview.nativeElement.suspendLayout(),this._treeSearchOptions&&this._treeSearchOptions.keyword)this.treeview.nativeElement.filter(r);else if(this.treeview.nativeElement.filter(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length){this.treeview.nativeElement.collapse();let s=this.treeview.nativeElement.getFullList();for(let a=0;a<s.length;a++){let l=s[a];l.expanded=a===0||this.treeExpandedNodes.has(l.id)}}this.treeview.nativeElement.resumeLayout(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length&&this.treeview.nativeElement.scrollTo(this.treeview.nativeElement.items[0])}treeUpdateFwStatus(e,t){let o=null;for(let r=0;r<e.length;r++){let s=e[r];s.node_type==B.OBJ_FIREWALL&&this.updateFwNodeStatus(s,t),s.node_type==B.OBJ_CLUSTER&&this.updateClusterNodeStatus(s,t),s.items&&s.items.length&&(o=this.treeUpdateFwStatus(s.items,t))}return o}onContextMenuLoad(e){let t=this.treeview.nativeElement.selectedItem;if(!t||this.options.container==ft.C_FIREWALLS_CONDENSED&&t.node_type!=B.OPENVPN_CONFIG_SER&&t.node_type!=B.OPENVPN_CONFIG_CLI&&t.node_type!=B.OPENVPN_PREFIX||t.node_type==B.OBJ_FIREWALL&&t._fwcClusterId){e.detail.cancel=!0;return}let o=t._fwcObjId!==null&&t._fwcObjId!==void 0,r=t.fwcloud!==null&&t.fwcloud!==void 0,s,a,l=t.items.length,c=!t._fwcOpenvpnStatus,u=t.obj_type==F.OBJ_VPN_CONFIG_CLI&&t.openvpn_disabled&&c;a=this.treeview.nativeElement.getItemParent(t),s=!!(a&&(a.obj_type==F.OBJ_GROUP||a.obj_type==F.OBJ_SERVICE_GROUP)&&a.id_obj);let g=this.treeContextMenu[t.node_type];g&&g.items?g.items.forEach(_=>{_.type!=="separator"&&(_.id==N.FOLDER_EXPAND?_.visible=!!(!t.expanded&&l):_.id==N.FOLDER_COLLAPSE?_.visible=!!(t.expanded&&l):_.id==N.VPN_CONFIG_BLOCK&&u||_.id==N.VPN_CONFIG_UNBLOCK&&!u||_.userObject&&!r||_.objectInGroup&&!s||_.objectInGroup===!1&&s||_.clusterNode&&!t._fwcClusterId||_.clusterNode===!1&&t._fwcClusterId||_.onlyOnNodeType&&_.onlyOnNodeType!=t.node_type||_.onlyIfConfigInstalled&&!c?_.visible=!1:_.visible=!!(_.finalObject&&o||!_.finalObject&&!o),_.disableOnCACreation&&t._fwcCaStatus?_.enabled=!1:_.enabled=!0)}):e.detail.cancel=!0}onContextMenuHandler(e,t){return he(this,null,function*(){if(e.detail.item){let o=this.treeview.nativeElement.selectedItem;if(t&&(e.detail.item.id==N.TREE_RELOAD||e.detail.item.id==N.TREE_REPAIR)){if(this.parentFwcTreePanelComponent.panel_type!=t)return}else{if(!o)return;o._fwcUserId=this.fwcUser.user_id}switch(e.detail.item.id){case N.WHERE_USED:let r=Object.assign({},o);r._fwcUserId=this.fwcUser.user_id,r._fwcCloud=this.fwcUser.selectedFwCloud,r.whereUsedAction=!0,this.itemSelectedService.setItem(r);break;case N.FOLDER_EXPAND:this.treeview.nativeElement.expand(o);break;case N.FOLDER_COLLAPSE:this.treeview.nativeElement.collapse(o);break;case N.TREE_RELOAD:this.treeLoad(),this.cd.detectChanges();break;case N.TREE_REPAIR:{let Je=t||o.node_type,Qe={tree_name:this.translate.instant("NODE_TYPES."+Je).toLowerCase()},He=$o(),Tt={channelId:He,headerIcon:"fa fa-3x fa-wrench fwcBlue",textHeader:this.translate.instant("TREE_REPAIR_PANEL.HEADER",Qe),textMessage:this.translate.instant("TREE_REPAIR_PANEL.TEXT"),apiCall:this.fwcObjectTreeService.repairTree.bind(this.fwcObjectTreeService),apiParams:[Je,this.fwcUserService.getActualFwSelectedCloud(),He],onClose:ei=>{ei&&!ei.error?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_OK")}),this.treeLoad()):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_ERRORS")})}},li=this.utilService.createDynamicComponentRef(Ss),Ei=li.instance;Ei.setDynamicComponentRef(li),this.communicationSubscription=Ei.socketEventEmitter.subscribe(ei=>{ei=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:Tt}),this.communicationSubscription.unsubscribe()}),Ei.checkConnection();break}case N.FIREWALL_IMPORT:{let Je=this.utilService.createDynamicComponentRef(Q6),Qe=Je.instance;Qe.setDynamicComponentRef(Je),Qe.displayDialog=!0;break}case N.NGFW:o.ngfw=!0,this.itemSelectedService.setItem(o);break;case N.PLUGINS:o.plugins=!0,this.itemSelectedService.setItem(o);break;case N.FIREWALL_EDIT:o.ngfw=!1,this.itemSelectedService.setItem(o);break;case N.NODE_EDIT:this.itemSelectedService.setItem(o);break;case N.POLICY_LOAD:this.actionLoadPolicy(o);break;case N.FIREWALL_NEW:let s={id_obj:null,obj_type:F.OBJ_FIREWALL,_fwcObjType:F.OBJ_FIREWALL,node_id:o.id};this.itemSelectedService.setItem(s);break;case N.FIREWALL_DELETE:let a=Object.assign({},o);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case N.NODE_DELETE:let l=Object.assign({},o);l.deleteAction=!0,this.itemSelectedService.setItem(l);break;case N.FIREWALL_COMPILE:case N.FIREWALL_INSTALL:let c;c={compileAction:e.detail.item.id===N.FIREWALL_INSTALL?Io.COMP_INSTALL:Io.COMP_COMPILE,compileWhat:o._fwcObjType===F.OBJ_FIREWALL?Io.COMP_FIREWALL:Io.COMP_CLUSTER,compileId:o._fwcObjId,compileType:o._fwcObjType},this.itemSelectedService.setCloudToCompile(c);break;case N.POLICY_PANEL_SHOW:let u=this.utilService.createDynamicComponentRef(nO),g=u.instance;g.setDynamicComponentRef(u),g.show(o._fwcObjId);break;case N.POLICY_PANEL_DOWNLOAD:let _=this.utilService.createDynamicComponentRef(nO),C=_.instance;C.setDynamicComponentRef(_),C.downloadPolicyScript(o._fwcObjId);break;case N.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case N.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Io.COMP_INSTALL,compileWhat:Io.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case N.FIREWALL_CLONE:let w={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:o._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:o._fwcObjId},{name:"type",type:"hidden",value:o._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:o.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:`${o._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(w);break;case N.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:o._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let Je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:o._fwcObjId,node_id:o.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertFwToCluster.bind(this.fwcFirewallService),Je).then(Qe=>{let He={},Tt=Qe.data.insertId;He.id=He.id_obj=He._fwcObjId=Tt,He._fwcObjType=F.OBJ_CLUSTER,He._fwcTreeAction=qi.NEW_ITEM,He.container=ft.C_FIREWALLS,this.treeNewItem(He);let li={_fwcFwId:null},Ei=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(li),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:o._fwcObjName})})}).catch(Qe=>{Qe.error.fwcErr==8001||Qe.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+Qe.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(Qe)})})}});break;case N.FIREWALL_IPTABLES_IMPORT:case N.FIREWALL_IPTABLES_EXPORT:let S=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_IMPORT"),A={operation:Tr.IMPORT,objId:o._fwcObjId,objType:o._fwcObjType,objName:o._fwcObjName};e.detail.item.id===N.FIREWALL_IPTABLES_EXPORT&&(A.operation=Tr.EXPORT,S=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_EXPORT")),this.dialogService.open(yb,{showHeader:!0,header:S,closable:!1,closeOnEscape:!1,data:A,styleClass:"custom-dialog"}).onClose.pipe(yt(()=>this.alive)).subscribe(Je=>{});break;case N.FOLDER_NEW:let D={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:o.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(D);break;case N.FOLDER_DELETE:if(o.node_type==B.FOLDER)if(o.items&&o.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{let Je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:o.id};this.utilService.fwcAPICall(this.fwcObjectTreeService.deleteFolder.bind(this.fwcObjectTreeService),Je).then(Qe=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),this.treeLoad()}).catch(Qe=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(Qe)})})}break;case N.FOLDER_RENAME:let V={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:o._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:o.id},{name:"old_name",type:"hidden",value:o._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(V);break;case N.CLUSTER_NEW:let X={id_obj:null,obj_type:F.OBJ_CLUSTER,_fwcObjType:F.OBJ_CLUSTER,node_id:o.id};this.itemSelectedService.setItem(X);break;case N.NGFW:o.ngfw=!0,this.itemSelectedService.setItem(o);break;case N.PLUGINS:o.plugins=!0,this.itemSelectedService.setItem(o);break;case N.CLUSTER_EDIT:o.ngfw=!1,this.itemSelectedService.setItem(o);break;case N.CLUSTER_DELETE:let ee=Object.assign({},o);ee.deleteAction=!0,this.itemSelectedService.setItem(ee);break;case N.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Io.COMP_COMPILE,compileWhat:Io.COMP_CLUSTERS_ALL,compileId:void 0});break;case N.CLUSTER_CLONE:let ae={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:o._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:o._fwcObjId},{name:"type",type:"hidden",value:o._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:o.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:`${o._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(ae);break;case N.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:o._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let Je={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),cluster:o._fwcObjId,node_id:o.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertClusterToFw.bind(this.fwcFirewallService),Je).then(Qe=>{let He={},Tt=Qe.data.insertId;He.id=He.id_obj=He._fwcObjId=Tt,He._fwcObjType=F.OBJ_FIREWALL,He._fwcTreeAction=qi.NEW_ITEM,He.container=ft.C_FIREWALLS,this.treeNewItem(He);let li={_fwcFwId:null},Ei=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(li),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:o._fwcObjName})})}).catch(Qe=>{Qe.error.fwcErr==8001||Qe.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+Qe.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(Qe)})})}});break;case N.NEW_INTERFACE:if(o._fwcFwId&&o._fwcObjType==F.OBJ_INTERFACE_FIREWALL||o._fwcClusterId&&o._fwcObjType==F.OBJ_INTERFACE_FIREWALL||o._fwcObjId&&!o._fwcFwId&&o._fwcObjType==F.OBJ_HOST){let Je,Qe;o._fwcObjType==F.OBJ_INTERFACE_FIREWALL?Qe=F.OBJ_INTERFACE_FIREWALL:Qe=F.OBJ_INTERFACE_HOST;let He=this.fwcChildTypes.data.filter(function(ti){return ti.id_node==o.node_type}),Tt,li=o._fwcObjId!==null&&o._fwcObjId!==void 0;if(He.forEach(ti=>{(ti.is_object&&li||!ti.is_object&&!li)&&(Tt=ti)}),!Tt){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});return}let Ei,ei,mi;o.parent_type===F.OBJ_FIREWALL&&(Ei=o.parent_id),o.parent_type===F.OBJ_CLUSTER&&(Ei=o._fwcFwId,ei=o.parent_id),o.parent_type===F.OBJ_HOST&&(mi=o.parent_id);let Ti;ei&&Ei?Ti="CLUSTER "+ei+", MASTER FIREWALL: "+Ei:mi?Ti="HOST "+mi:Ti="FIREWALL "+Ei,Je={node_parent:o.id,node_order:1,node_type:Tt.node_type,host:mi,firewall:Ei,cluster:ei,interface_type:Qe,_fwcObjId:void 0,_fwcObjType:Qe,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:o.parent_id,parent_name:o.parent_name,parent_type:o.parent_type},this.itemSelectedService.setItem(Je)}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case N.NEW_ADDRESS:case N.NEW_GROUP:case N.NEW_NETWORK:case N.NEW_IP_RANGE:case N.NEW_HOST:case N.NEW_IP_SERVICE:case N.NEW_ICMP_SERVICE:case N.NEW_TCP_SERVICE:case N.NEW_UDP_SERVICE:case N.NEW_SERVICE_GROUP:case N.NEW_DNS:let me,Ce="",be=this.fwcChildTypes.data.filter(Je=>Je.id_node==o.node_type),tt,Vt=o._fwcObjId!==null&&o._fwcObjId!==void 0;if(be.forEach(Je=>{(Je.is_object&&Vt||!Je.is_object&&!Vt)&&(tt=Je)}),!tt){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});return}let ai=o._fwcObjType,rn,Ye;if(e.detail.item.id==N.NEW_ADDRESS&&(o._fwcObjType==F.OBJ_INTERFACE_FIREWALL||o._fwcObjType==F.OBJ_INTERFACE_HOST)){ai=F.OBJ_ADDRESS,rn=o._fwcObjId,Ye=o._fwcObjType;let Je=-1,Qe=o._fwcFwName,He=o._fwcObjName,Tt=`^${He}$`,li=new RegExp(Tt,"g"),Ei=`^${He}:(\\d+)$`,ei=new RegExp(Ei,"g");if(o._fwcClusterName&&o._fwcClusterName.length&&(Qe=o._fwcClusterName),o._fwcHostName&&o._fwcHostName.length&&(Qe=o._fwcHostName),o.items&&o.items.constructor===Array)for(let mi=0;mi<o.items.length;mi++){let Ti=o.items[mi]._fwcObjName,ti,sn;ti=li.exec(Ti),ti&&Je==-1&&(Je=0),ti=ei.exec(Ti),ti&&(sn=+ti[1],Je=sn+1)}Je==-1?Ce=`${He}`:Ce=`${He}:${Je}`}let zt;switch(e.detail.item.id){case N.NEW_TCP_SERVICE:zt=6;break;case N.NEW_ICMP_SERVICE:zt=1;break;case N.NEW_UDP_SERVICE:zt=17;break}me={_fwcObjId:void 0,_fwcObjType:ai,_fwcObjName:Ce,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:rn,_fwcParentInterfaceType:Ye,_fwcParentObjName:o._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:o.id,node_order:1,node_type:tt.node_type,protocol:zt},this.itemSelectedService.setItem(me);break;case N.DUPLICATE:this.onItemDblClickEvent(void 0,!0);break;case N.EDIT:this.onItemDblClickEvent(void 0);break;case N.DELETE:if(o.fwcloud==null||o.fwcloud==null){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:o._fwcObjName})});return}let In=Object.assign({},o);In.deleteAction=!0,this.itemSelectedService.setItem(In);break;case N.DELETE_FROM_GROUP:let Xn=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:o._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:Xn,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let Je=this.treeview.nativeElement.getItemParent(o),Qe={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:Je.id_obj,ipobj:o._fwcObjId,obj_type:o._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),Qe).then(He=>{let Tt=Object.assign({},o);He.data&&He.data.length&&(Tt.fw_status=He.data),Tt._fwcObjTreeParentId=Tt.pid,this.treeDeleteItem(Tt,!0);let li=this.itemSelectedService.getActualItem();this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}).catch(He=>{He.error&&(He.error.restrictions?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:this.translate.instant("TREE.RESTR_ERROR.TEXT",{name:o._fwcObjName})}):He.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:o._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(He)}))})}});break;case N.CA_NEW:case N.CA_CRT_NEW:let yo={_fwcObjId:void 0,container:this.options.container,node_id:o.id,node_type:o.node_type,obj_type:F.OBJ_CA};if(e.detail.item.id==N.CA_CRT_NEW){if(yo.type=Up.client,yo.obj_type=F.OBJ_CERT_CLI,o.obj_type==F.OBJ_CA)yo.ca=o.id_obj,yo.ca_name=o.text;else if(o.obj_type==F.OBJ_PREFIX_FOLDER){let Je=this.treeview.nativeElement.getItemParent(o);yo.ca=Je.id_obj,yo.ca_name=Je.text,yo.folder_prefix=o.text}}this.itemSelectedService.setItem(yo);break;case N.CA_VIEW:case N.CA_CRT_VIEW:o.containerReadOnly=!0,this.itemSelectedService.setItem(o);break;case N.CA_EDIT:case N.CA_CRT_EDIT:o.containerReadOnly=!1,this.itemSelectedService.setItem(o);break;case N.CA_DELETE:case N.CA_CRT_DELETE:let wo,Ea,oc,Js={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};e.detail.item.id==N.CA_DELETE?(Ea=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),wo=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),oc=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:o.text}),Js.ca=o.id_obj):(Ea=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),wo=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),oc=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:o.text}),Js.crt=o.id_obj),wo(Js).subscribe(Je=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:oc,accept:()=>{this.utilService.fwcAPICall(Ea,Js).then(Qe=>{let He=Object.assign({},o);He._fwcTreeAction=qi.DELETE_ITEM,this.treeDeleteItem(He),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.VPN.DELETE_OK")}),this.fwcUserService.setConfirmationToken(void 0)}).catch(Qe=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(Qe)})})},reject:()=>{}})},Je=>{if(Je.error&&Je.error.restrictions){let Qe=Je.error.restrictions,He,Tt;Qe&&(Qe.caHasCertificates?(He=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),Tt=this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:o.text})):Qe.crtUsedInOpenvpn?(He=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),Tt=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:o.text})):Qe.caHasPrefixes&&(He=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),Tt=this.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:o.text}))),this.confirmationService.confirm({header:He,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:Tt})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(Je)})});break;case N.CA_CRT_NEW_PREFIX:case N.VPN_CONFIG_NEW_PREFIX:let Ta=Object.assign({},o);Ta._fwcObjType=Ta.obj_type=o._fwcObjType==F.OBJ_VPN_CONFIG_SER?F.OBJ_OPENVPN_PREFIX:F.OBJ_PREFIX_FOLDER,Ta.newPrefixAction=!0,this.itemSelectedService.setItem(Ta);break;case N.CA_CRT_EDIT_PREFIX:case N.CA_CRT_DELETE_PREFIX:case N.VPN_CONFIG_EDIT_PREFIX:case N.VPN_CONFIG_DELETE_PREFIX:let Es=Object.assign({},o);Es.editPrefixAction=e.detail.item.id==N.CA_CRT_EDIT_PREFIX||e.detail.item.id==N.VPN_CONFIG_EDIT_PREFIX,Es.deletePrefixFolderAction=e.detail.item.id==N.CA_CRT_DELETE_PREFIX,Es.deleteAction=e.detail.item.id==N.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(Es);break;case N.VPN_CONFIG_FILE:case N.VPN_CONFIG_DELETE:case N.VPN_CONFIG_INSTALL:case N.VPN_CONFIG_SYNC_CCD:case N.VPN_CONFIG_SYNC_PENDING_CCD:case N.VPN_CONFIG_UNINSTALL:case N.VPN_CONFIG_BLOCK:case N.VPN_CONFIG_UNBLOCK:case N.VPN_CONFIG_SYSTEMCTL:let Lo=Object.assign({},o),al=Je=>{let Qe=!0,He=[];for(He.push(...o.items);He.length;){let Tt=He.pop();if(Tt._fwcObjType==F.OBJ_VPN_CONFIG_CLI){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:Je,rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),Qe=!1;break}else Tt.items&&Tt.items.length&&He.push(...Tt.items)}return Qe};e.detail.item.id==N.VPN_CONFIG_UNINSTALL?al(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:o._fwcObjName}))&&(Lo.uninstallAction=!0,this.itemSelectedService.setItem(Lo)):(Lo.deleteAction=e.detail.item.id==N.VPN_CONFIG_DELETE,Lo.configFileAction=e.detail.item.id==N.VPN_CONFIG_FILE,Lo.installAction=e.detail.item.id==N.VPN_CONFIG_INSTALL,Lo.syncCCDAction=e.detail.item.id==N.VPN_CONFIG_SYNC_CCD,Lo.syncPendingCCDAction=e.detail.item.id==N.VPN_CONFIG_SYNC_PENDING_CCD,Lo.blockVPNAction=e.detail.item.id==N.VPN_CONFIG_BLOCK,Lo.unblockVPNAction=e.detail.item.id==N.VPN_CONFIG_UNBLOCK,Lo.systemctlAction=e.detail.item.id==N.VPN_CONFIG_SYSTEMCTL,this.itemSelectedService.setItem(Lo)),Lo.blockVPNAction?o.openvpn_disabled=!0:Lo.unblockVPNAction&&(o.openvpn_disabled=!1);break;case N.VPN_CONFIG_INST_WINDOWS:{let Je=this.utilService.createDynamicComponentRef(t6),Qe=Je.instance;Qe.setDynamicComponentRef(Je);let He={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),fwcloudName:this.fwcUserService.getActualFwcUser().selectedFwCloudName,cluster:o._fwcClusterId,clusterName:o._fwcClusterName,firewall:o._fwcFwId,firewallName:o._fwcFwName,openvpn:o._fwcObjId,parentConfigName:o._fwcObjName};Qe.showDialog(He);break}case N.VPN_CONFIG_STATUS:let TO=Object.assign({},o);TO.statusAction=!0,this.itemSelectedService.setItem(TO);break;case N.VPN_CONFIG_HISTORIC:{let Je={cloudId:this.fwcUserService.getActualFwSelectedCloud(),openVpnConfigId:o._fwcOpenVPNId||o._fwcObjId,openVpnConfigType:o._fwcObjType,openVpnConfigName:o._fwcObjName,firewallId:o._fwcFwId,clusterId:o._fwcClusterId},Qe=this.utilService.createDynamicComponentRef(E6),He=Qe.instance;He.setDynamicComponentRef(Qe),He.updateAndShow(Je);break}case N.SYSTEMCTL:{let Je=this.utilService.createDynamicComponentRef(Lh),Qe=Je.instance;Qe.setDynamicComponentRef(Je);let He=o.firewall_id;if(o.cluster_id){let Tt=this.utilService.createDynamicComponentRef(Ob),li=Tt.instance;li.setDynamicComponentRef(Tt),li.selectNodes(o)}else{let Tt={fwcloud:o.fwcloud,firewall:He,service:this.serviceMap[o.node_type]=="openvpn"?this.serviceMap[o.node_type]+"@"+o._fwcObjName:this.serviceMap[o.node_type]};Qe.systemCtlSelectorDialog(Tt)}break}case N.SYSTEM_SHOW_CONFIG:case N.SYSTEM_COMPILE:{let Je=o.firewall_id,Qe=this.fwcUserService.getActualFwSelectedCloud(),He,Tt,li,Ei,ei;if(o.parent_type==F.OBJ_CLUSTER)this.fwcFirewallService.getClusterMasterNode(o.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).subscribe(mi=>he(this,null,function*(){Je=mi.data.id,o.obj_type===si[B.DHCP]?(He=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Je,this.fwcUserService.getActualFwSelectedCloud())).data,He.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(Tt=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),li=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),Ei=this.translate.instant("DHCP.POLICY.RULE"),ei="dhcp",yield this.utilService.fwcAPICall(Tt,Je,Qe).then(Ti=>{let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.showCompilationData(Ti.data,He,Ei,li,void 0,ei)}))):o.obj_type===si[B.KEEPALIVED]?(Tt=yield this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcFirewallService),li=this.translate.instant("KEEPALIVED.POLICY.COMPILE_DIALOG_TITLE"),Ei=this.translate.instant("KEEPALIVED.POLICY.RULE"),ei="keepalived",He=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),Je,this.fwcUserService.getActualFwSelectedCloud())).data,He.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),yield this.utilService.fwcAPICall(Tt,Je,Qe).then(Ti=>{let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.showCompilationData(Ti.data,He,Ei,li,void 0,ei)})):o.obj_type===si[B.HAPROXY]&&(Tt=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),li=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),Ei=this.translate.instant("HAPROXY.POLICY.RULE"),ei="haproxy",He=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Je,this.fwcUserService.getActualFwSelectedCloud())).data,He.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),yield this.utilService.fwcAPICall(Tt,Je,Qe).then(Ti=>{let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.showCompilationData(Ti.data,He,Ei,li,void 0,ei)}))}));else if(o.parent_type==F.OBJ_FIREWALL){if(o.obj_type===si[B.DHCP])He=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Je,Qe)).data,He.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(Tt=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),li=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),Ei=this.translate.instant("DHCP.POLICY.RULE"),ei="dhcp",yield this.utilService.fwcAPICall(Tt,Je,this.fwcUserService.getActualFwSelectedCloud(),He.map(mi=>mi.id)).then(mi=>{let Ti=this.utilService.createDynamicComponentRef(As),ti=Ti.instance;ti.setDynamicComponentRef(Ti),ti.showCompilationData(mi.data,He,Ei,li,void 0,ei)}));else if(o.obj_type===si[B.HAPROXY])He=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Je,Qe)).data,He.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(Tt=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),li=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),Ei=this.translate.instant("HAPROXY.POLICY.RULE"),ei="haproxy",yield this.utilService.fwcAPICall(Tt,Je,this.fwcUserService.getActualFwSelectedCloud(),He.map(mi=>mi.id)).then(mi=>{let Ti=this.utilService.createDynamicComponentRef(As),ti=Ti.instance;ti.setDynamicComponentRef(Ti),ti.showCompilationData(mi.data,He,Ei,li,void 0,ei)}));else if(o.obj_type===si[B.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case N.SYSTEM_DOWNLOAD_CONFIG:{let Je=this.fwcUserService.getActualFwSelectedCloud(),Qe=o.firewall_id,He,Tt,li;if(o.parent_type===F.OBJ_CLUSTER)this.fwcFirewallService.getClusterMasterNode(o.cluster_id,Je).subscribe(Ei=>he(this,null,function*(){Qe=Ei.data.id,o.obj_type===si[B.DHCP]?(He=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),Tt=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Qe,Je)).data,li="dhcp",Tt.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(He,Qe,Je).then(ei=>{let mi="",Ti=ei.data;if(Array.isArray(Ti))for(let Vh of Ti)mi+=Vh.cs,mi+=`
`;let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.onDownloadConfigFile(mi,li)})):o.obj_type===si[B.KEEPALIVED]?(He=yield this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcFirewallService),Tt=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),Qe,Je)).data,li="keepalived",Tt.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(He,Qe,Je).then(ei=>{let mi="",Ti=ei.data;if(Array.isArray(Ti))for(let Vh of Ti)mi+=Vh.cs,mi+=`
`;let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.onDownloadConfigFile(mi,li)})):o.obj_type===si[B.HAPROXY]&&(He=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),Tt=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Qe,Je)).data,li="haproxy",Tt.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT")}):yield this.utilService.fwcAPICall(He,Qe,Je).then(ei=>{let mi="",Ti=ei.data;if(Array.isArray(Ti))for(let Vh of Ti)mi+=Vh.cs,mi+=`
`;let ti=this.utilService.createDynamicComponentRef(As),sn=ti.instance;sn.setDynamicComponentRef(ti),sn.onDownloadConfigFile(mi,li)}))}));else if(o.parent_type===F.OBJ_FIREWALL){if(o.obj_type===si[B.DHCP])He=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),Tt=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Qe,Je)).data,li="dhcp",Tt.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(He,Qe,Je).then(Ei=>{let ei="",mi=Ei.data;if(Array.isArray(mi))for(let sn of mi)ei+=sn.cs,ei+=`
`;let Ti=this.utilService.createDynamicComponentRef(As),ti=Ti.instance;ti.setDynamicComponentRef(Ti),ti.onDownloadConfigFile(ei,li)});else if(o.obj_type===si[B.HAPROXY])He=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),Tt=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Qe,Je)).data,li="haproxy",Tt.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(He,Qe,Je).then(Ei=>{let ei="",mi=Ei.data;if(Array.isArray(mi))for(let sn of mi)ei+=sn.cs,ei+=`
`;let Ti=this.utilService.createDynamicComponentRef(As),ti=Ti.instance;ti.setDynamicComponentRef(Ti),ti.onDownloadConfigFile(ei,li)});else if(o.obj_type===si[B.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case N.SYSTEM_INSTALL:{let Je=o.firewall_id,Qe=this.fwcUserService.getActualFwSelectedCloud(),He;if(o.parent_type===F.OBJ_CLUSTER){let Tt,li=[];this.fwcFirewallService.getCluster(o.cluster_id,Qe).subscribe(Ei=>he(this,null,function*(){let ei=Ei.data.nodes;Tt=!0;for(let mi=0;mi<ei.length;mi++){let Ti=ei[mi];Ti.install_communication==="agent"&&li.push(Ti)}if(li.length===0){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.CLUSTER_TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),Tt=!1;return}else if(Tt){o.obj_type===(si[B.DHCP]||si[B.DHCP_FIXED_IP])?this.fwcFirewallService.getClusterMasterNode(o.cluster_id,Qe).subscribe(sn=>he(this,null,function*(){Je=sn.data.id,He=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Je,Qe)).data,He.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):o.obj_type===si[B.KEEPALIVED]?this.fwcFirewallService.getClusterMasterNode(o.cluster_id,Qe).subscribe(sn=>he(this,null,function*(){Je=sn.data.id,He=yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),Je,Qe),He.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):o.obj_type===si[B.HAPROXY]&&this.fwcFirewallService.getClusterMasterNode(o.cluster_id,Qe).subscribe(sn=>he(this,null,function*(){Je=sn.data.id,He=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Je,Qe)).data,He.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT")})}));let mi=Object.assign({},o),Ti=this.utilService.createDynamicComponentRef(Mh),ti=Ti.instance;ti.setDynamicComponentRef(Ti),yield ti.onItemManage(mi)}}))}else this.fwcFirewallService.getFirewall(o.firewall_id,Qe).subscribe(Tt=>he(this,null,function*(){if(Tt.data.install_communication!=="agent"){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}if(o.obj_type===(si[B.DHCP]||si[B.DHCP_FIXED_IP]))if(He=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),Je,Qe)).data,He.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let li=Object.assign({},o),Ei=this.utilService.createDynamicComponentRef(Mh),ei=Ei.instance;ei.setDynamicComponentRef(Ei),yield ei.onItemManage(li)}else if(o.obj_type===si[B.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}else if(o.obj_type===si[B.HAPROXY])if(He=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),Je,Qe)).data,He.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let li=Object.assign({},o),Ei=this.utilService.createDynamicComponentRef(Mh),ei=Ei.instance;ei.setDynamicComponentRef(Ei),yield ei.onItemManage(li)}}));break}case N.MARK_NEW:let Db=Object.assign({},o);Db._fwcObjName="",Db.node_parent=o.id,this.itemSelectedService.setItem(Db);break;case N.ROUTING_TABLE_NEW:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(o._fwcClusterId,o._fwcClusterName,o._fwcFwId,o._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}case N.ROUTING_TABLE_EDIT:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(o._fwcClusterId,o._fwcClusterName,o._fwcFwId,o._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),o._fwcObjId);break}case N.ROUTING_TABLE_DELETE:{this.deleteRoutingTable(o._fwcFwId,o.id_obj,o._fwcObjName);break}case N.ROUTING_TABLE_NEW_ROUTE:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(o._fwcClusterId,o._fwcFwId,o.id_obj,o._fwcObjName);break}}}})}onItemClickEvent(e){let t=this.treeview.nativeElement.selectedItem,o=Pl;this.clearObjectInfo(void 0),o.findIndex(r=>t.node_type==r)!=-1&&this.actionLoadPolicy(t)}onItemDblClickEvent(e,t){return he(this,null,function*(){if(this.clearObjectInfo(void 0),!this.treeview||!this.treeview.nativeElement.selectedItem)return;let o=Object.assign({},this.treeview.nativeElement.selectedItem);switch(o.node_type){case B.FOLDER_POLICY:case B.POLICY_INPUT:case B.POLICY_OUTPUT:case B.POLICY_FORWARD:case B.FOLDER_NAT:case B.POLICY_SNAT:case B.POLICY_DNAT:case B.POLICY_ROUTING:case B.FOLDER_SYSTEM:case B.DHCP:case B.DHCP_FIXED_IP:case B.KEEPALIVED:case B.HAPROXY:break;case B.FOLDER_POLICY6:case B.POLICY_INPUT6:case B.POLICY_OUTPUT6:case B.POLICY_FORWARD6:case B.POLICY_SNAT6:case B.POLICY_DNAT6:case B.POLICY_ROUTING6:break;case B.OPENVPN_CA:case B.OPENVPN_CERT:o.containerReadOnly=!1,this.itemSelectedService.setItem(o);case B.FOLDER_ROUTING:case B.ROUTING_TABLES:case B.FOLDER_INTERFACES:case B.FOLDER_CLUSTER_FW:break;case B.OPENVPN_PREFIX_FOLDER:case B.OPENVPN_PREFIX:o.editPrefixAction=!0,this.itemSelectedService.setItem(o);break;case B.ROUTING_TABLE:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(o._fwcClusterId,o._fwcClusterName,o._fwcFwId,o._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),o._fwcObjId);break;default:if(o._fwcObjId!==null){let r=this.treeview.nativeElement.getItemParent(o);if(!r)return;if(o.node_type==B.OBJ_FIREWALL&&o._fwcClusterId&&this.onContextMenuHandler(e,o.node_type),o.obj_type==F.OBJ_ADDRESS&&(r._fwcObjType==F.OBJ_INTERFACE_FIREWALL||r._fwcObjType==F.OBJ_INTERFACE_HOST)&&(o._fwcParentInterfaceType=r._fwcObjType,o._fwcParentObjName=r._fwcObjName),t){let s=this.treeview.nativeElement.getItemParent(o);if(s.node_type==B.STANDARD)if(s.pid)o.node_parent=s.pid;else return;else o.node_parent=o.pid;o.duplicateObjectAction=!0}this.itemSelectedService.setItem(o)}break}e&&e.stopPropagation()})}actionLoadPolicy(e){if(Pl.findIndex(s=>e.node_type==s)==-1)return;let o={},r=e.id_obj;switch(e.node_type===B.ROUTING_TABLE&&(r=e._fwcFwId),o._fwcUserId=this.fwcUser.user_id,o._fwcFwId=r,o._fwcFwName=e._fwcFwName,o.fwcloud=e.fwcloud,o._fwcObjId=e._fwcObjId,this.isHAProxyPolicy=!1,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!1),this.isKeepalivedPolicy=!1,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!1),e.node_type){case B.POLICY_ROUTING:o._fwcPolicyType=co.POLICY_ROUTING;break;case B.ROUTING_TABLE:o._fwcPolicyType=co.ROUTING_TABLE,o._fwcPolicyName=e._fwcObjName;break;case B.DHCP:o._fwcPolicyType=si[B.DHCP],o._fwcPolicyName=e._fwcObjName;break;case B.DHCP_FIXED_IP:o._fwcPolicyType=si[B.DHCP_FIXED_IP],o._fwcPolicyName=e._fwcObjName;break;case B.KEEPALIVED:e.cluster_id?(o._fwcPolicyType=si[B.KEEPALIVED],o._fwcPolicyName=e._fwcObjName,this.isKeepalivedPolicy=!0,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!0),this.fwcKeepalivedPolicyService.setKeepalivedClusterId(e.cluster_id),this.buildTree()):this.confirmationService.confirm({header:"Keepalived Policy Error",icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_POLICY_FIREWALL"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});break;case B.HAPROXY:o._fwcPolicyType=si[B.HAPROXY],o._fwcPolicyName=e._fwcObjName,this.isHAProxyPolicy=!0,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!0),this.buildTree();break;default:o._fwcPolicyType=e.obj_type}e._fwcClusterId&&(o._fwcClusterId=e._fwcClusterId,o._fwcFwName=e._fwcClusterName),o._fwcFwId&&o._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(o)}onItemDragStart(e,t){this.clearObjectInfo(void 0);let o;o=Object.assign({},e),o.obj_type==F.OBJ_CONTINENT&&(o.name=o.parent_name),o.obj_type==F.OBJ_COUNTRIE&&(o.name=o.parent_name),this.itemSelectedService.setDragItem(o),t.dataTransfer.setData("dragItemId",o.id),t.dataTransfer.dropEffect="copy",t.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}checkDnDAllowance(e,t){return this.clearObjectInfo(void 0),!!(e&&t&&((e.node_type==B.FOLDER||e.node_type==B.FOLDER_FW)&&(t.node_type==B.FOLDER||t.node_type==B.OBJ_CLUSTER||t.node_type==B.OBJ_FIREWALL)||(e.node_type==B.OBJ_FIREWALL||e.node_type==B.OBJ_CLUSTER)&&t.obj_type==F.OBJ_CERT_SER||e.node_type==B.OPENVPN_CONFIG_SER&&t.obj_type==F.OBJ_CERT_CLI)&&e.id!=t.id&&e.id!=t.pid&&(t.items&&t.items.length&&!t.items.find(function(o){return o.id==e.id})||t.items&&!t.items.length))}onDragOver(e){if(e){let t=e.detail;if(t){let o=t.targetObj,r=t.dragObj;this.checkDnDAllowance(o,r)?this.highlightNodeId=o.id:this.highlightNodeId=void 0}}this.treeview.nativeElement.refresh()}onDragLeave(e){this.highlightNodeId=void 0}onDragDrop(e){let t=e.detail;if(t){let o=t.targetObj,r=t.dragObj;if(this.clearObjectInfo(void 0),this.checkDnDAllowance(o,r)){let s=this.fwcUserService.getActualFwSelectedCloud(),a={fwcloud:s,src:r.id,dst:o.id};if(r&&r.node_type==B.OPENVPN_CERT){let l,c=r,u=o,g,_,C;if(u.node_type==B.OBJ_FIREWALL||u.node_type==B.OBJ_CLUSTER){if(u.items&&u.items.length){for(let w=0;w<u.items.length;w++)if(u.items[w].node_type==B.OPENVPN_ROOT){l=u.items[w];break}}C=F.OBJ_VPN_CONFIG_SER}else u.node_type==B.OPENVPN_CONFIG_SER&&(l=u,C=F.OBJ_VPN_CONFIG_CLI,g=l._fwcObjId,_=l._fwcObjName);if(l){let w=[];Array.isArray(l.items)&&l.items.forEach(x=>{x.node_type===B.OPENVPN_CONFIG_CLI?w.push({id_obj:x.id_obj,obj_type:x.obj_type,name:x._fwcObjName}):x.node_type===B.OPENVPN_PREFIX&&Array.isArray(x.items)&&x.items.forEach(D=>{w.push({id_obj:D.id_obj,obj_type:D.obj_type,name:D._fwcObjName})})});let S={fwcloud:s,obj_type:C,crt:c.id_obj,node_id:l.id,openvpn:g,parent_id:u.parent_id,parent_type:u.parent_type,parent_name:u.parent_name,_fwcObjId:void 0,_fwcCrtType:c.obj_type,_fwcCrtName:c._fwcObjName,_fwcParentConfigName:_,_fwcParentCA:c._fwcParentCA,_fwcChildClientNodes:w},A=this.checkOpenVPNOperationErrors(l,S);A?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(A)}):this.itemSelectedService.setItem(S)}}else this.utilService.fwcAPICall(this.fwcObjectTreeService.dropInFolder.bind(this.fwcObjectTreeService),a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),this.treeLoad()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}}this.highlightNodeId=void 0,e.detail.cancel=!0}checkOpenVPNOperationErrors(e,t){let o,r;if(!e||!t)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(r=this.items[0].openvpn_info);let s=t.crt,a=t.openvpn,l=t._fwcParentCA;if(r)for(let c=0;c<r.length;c++){let u=r[c];if(t.openvpn===void 0&&u.crt==s)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(t.openvpn!==void 0&&u.openvpn_parent==a&&u.crt==s)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(t.openvpn!==void 0&&u.openvpn==a&&u.ca!=l)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}return o}deleteRoutingTable(e,t,o){let r={deleteAction:!0,_fwcObjId:t,_fwcObjName:o,_fwcObjType:F.OBJ_ROUTING_TABLE,_fwcFwId:e};this.itemSelectedService.setItem(r)}processInputDialogData(e){return he(this,null,function*(){let t;if(e)if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.utilService.fwcAPICall(this.fwcObjectTreeService.newFolder.bind(this.fwcObjectTreeService),e).then(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS")}),this.treeLoad()}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.utilService.fwcAPICall(this.fwcObjectTreeService.updateFolder.bind(this.fwcObjectTreeService),e).then(o=>{let r;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),r={node_id:e.id,name:e.new_name,_fwcTreeAction:qi.MODIFY_ITEM},this.treeModifyItem(r)}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)})});else{let o;if(e.firewall!==void 0&&e.firewall!==null)o=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else if(e.cluster!==void 0&&e.cluster!=null)o=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService);else return;t=Object.assign({},e),delete t.type;let r={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("FW.MSG_FW_CLONE.TITLE"),textMessage:this.translate.instant("FW.MSG_FW_CLONE.TEXT"),apiCall:o,apiParams:[t],onClose:s=>{if(s&&!s.error){let a=s.data.insertId,l={};l.container=ft.C_FIREWALLS,l.id=l.id_obj=l._fwcObjId=a,l._fwcObjType=e.type,l._fwcTreeAction=qi.NEW_ITEM,this.treeNewItem(l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FW_CLONE.SUCCESS")})}else s.error&&(s.data.fwcErr==8001||s.data.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+s.data.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s.data)}))}};this.appDialogPanelsService.searchAndShowDialog({uuid:ci.BLOCK_UI_PANEL,data:r})}})}handleClickNodeAction(e){switch(e.node_type){case B.ROUTING_TABLES:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(e._fwcClusterId,e._fwcClusterName,e._fwcFwId,e._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}}}showObjectInfo(e,t){if(!e)return;t&&t.preventDefault();let o=t.target||t.currentTarget;if(!o&&t.composedPath&&t.composedPath().length>0&&(o=t.composedPath()[0]),!o){console.error("No target element found for the event.");return}let r=e.node_type;if(!this.infoTooltipTimer&&!this.infoTooltipShown&&e._fwcObjId!==null&&e._fwcObjType!==null&&FBe.findIndex(s=>r===s)===-1){let s={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(s,{event:t,targetElement:o})},1e3)}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(setTimeout(()=>this.itemSelectedService.setObjectInfo(void 0,e),500),this.infoTooltipShown=!1)}static{this.\u0275fac=function(t){return new(t||i)(v(zs),v(tr),v(_t),v(pn),v(wr),v(ot),v(Bt),v(Kn),v(Do),v(ih),v(pd),v(Cd),v(_d),v(xi),v(md),v(Wt),v(Kt),v(ir),v(Ct),v(Sr),v(JC),v(At),v(ud),v(pe),v(je),v(Ke),v(NV,8),v(qI))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-tree"]],viewQuery:function(t,o){if(t&1&&(ne(DBe,7),ne(PBe,5)),t&2){let r;K(r=q())&&(o.treeview=r.first),K(r=q())&&(o.hintFirstTreeElement=r.first)}},inputs:{treeOptions:"treeOptions",treeStyle:"treeStyle",searchString:"searchString",treeSearchOptions:"treeSearchOptions"},features:[Ge([tr,Kn,Bt,Do,md,ud,un])],decls:2,vars:14,consts:[["treeview",""],[3,"afterExpand","afterCollapse","dragOver","dragLeave","dragDrop","items","itemTemplate","allowDrag","allowDrop","allowFocus","virtualMode","itemDisplay","autoExpand","resourcePath","customStyle","allowAnimation","allowFilter","colorScheme","dragDropMode"]],template:function(t,o){if(t&1){let r=k();f(0,"iui-treeview",1,0),R("afterExpand",function(a){return b(r),y(o.setExpandedNodes(a,!0))})("afterCollapse",function(a){return b(r),y(o.setExpandedNodes(a,!1))})("dragOver",function(a){return b(r),y(o.onDragOver(a))})("dragLeave",function(a){return b(r),y(o.onDragLeave(a))})("dragDrop",function(a){return b(r),y(o.onDragDrop(a))}),m()}t&2&&p("items",o.items)("itemTemplate",o.currentItemTemplate)("allowDrag",!0)("allowDrop",!0)("allowFocus",!0)("virtualMode",!0)("itemDisplay",0)("autoExpand",!(o.options!=null&&o.options.containerReadOnly))("resourcePath",o.currentResourcePath)("customStyle",o.treeIntegralUIStyle)("allowAnimation",!1)("allowFilter",!0)("colorScheme",o.currentColorScheme)("dragDropMode",o.currentDragDrop)},styles:[`:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}fwcTree-item{display:inline-block;margin-left:0;transition:all .3s}fwcTree-item *{pointer-events:none}fwcTree-item.fwcHighlightNode{margin-left:.2em;background-color:var(--fwcPaleGreen)!important;padding-right:8em}fwcTree-item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}fwcTree-item--disabled .fwcTreeIcon:after{content:"\\\\";font-weight:700;color:var(--fwcRed);position:absolute;left:.9em;top:-.4em;font-size:1.7em;font-style:normal}fwcTree-item--disabled .fwc-label{color:var(--fwcPaleDark)!important}
`],encapsulation:2})}}return i})();var LBe=["fwcGroup"];function MBe(i,n){if(i&1){let e=k();f(0,"div",4),R("contextmenu",function(){let o=b(e).$implicit,r=h();return y(r.selectedItem=o)})("mouseenter",function(o){let r=b(e).$implicit,s=h();return y(s.showObjectInfo(r,o))})("mouseleave",function(o){b(e);let r=h();return y(r.clearObjectInfo(o))})("dblclick",function(){let o=b(e).$implicit,r=h();return y(r.onItemDblClick(o))}),f(1,"div"),E(2,"i",5),O(3,"fwcIcon"),f(4,"span",6),T(5),m()()()}if(i&2){let e=n.$implicit;Xi("item-rightclicked",e.rightclicked==!0),M("data-obj_id",e.id),d(2),us("fwcIcon ",P(3,7,e._fwcObjType),""),d(3),z(" ",e._fwcObjName,"")}}var Iu=(()=>{class i{set ipobjs(e){this._ipobjs=e}constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A){this.refService=e,this.store=t,this.renderer=o,this.fwcObjectService=r,this.itemSelectedService=s,this.fwcInterfaceService=a,this.fwcContextMenuService=l,this.fwcKeepalivedPolicyService=c,this.fwcHAProxyPolicyService=u,this.fwcErrorPipe=g,this.fwcUserService=_,this.confirmationService=C,this.utilService=w,this.messageService=S,this.translate=A,this._ipobjs=[],this.groupChanged=new W,this.onVirtualIpChange=new W,this.onHAProxyIpChange=new W,this.applicationRef=null,this.contextMenuReference=null,this.contextMenuStyle=[Wl,Kl,$l],this.groupAllowedTypes=[],this.infoTooltipShown=!1,this.alive=!0,this.customFormMode=!1,this.isDisabled=!1,this.isKeepalived=!1,this.keepalivedClusterId=0,this.isHAProxy=!1,this.onChange=x=>{},this.onTouch=()=>{}}writeValue(e){this.customFormMode=!0,this.formValue=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.isDisabled=e}ngOnInit(){this.contextMenu=this.fwcContextMenuService.getGroupObjectMenus(),this.store.pipe(yt(()=>this.alive),Sn(Zr)).subscribe(e=>{e==="dark"?this.currentColorScheme=Xt.Dark:this.currentColorScheme=Xt.Light}),this.fwcObjectService.getObjectGroupAllowedTypes().subscribe(e=>{this.groupAllowedTypes=e}),this.fwcUserService.getFwcUser().pipe(yt(()=>this.alive)).subscribe(e=>{this.fwcUser=e}),this.fwcKeepalivedPolicyService.isKeepalivedPolicy$.subscribe(e=>{this.isKeepalived=e}),this.fwcHAProxyPolicyService.isHAProxyPolicy$.subscribe(e=>{this.isHAProxy=e})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(()=>{let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t},1)}listDragOver(e){e.preventDefault()}listDragEnter(e){let t;if(this.renderer.addClass(this.fwcGroup.nativeElement,"draggedOver"),e.target==this.fwcGroup.nativeElement&&(t=this.itemSelectedService.getDragItem(),t)){let o=+t._fwcObjType;!t.container||this.groupAllowedTypes[this.groupType].indexOf(o)==-1||this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(function(r){return t._fwcObjId==r._fwcObjId&&t._fwcObjType==r._fwcObjType})||this.readOnly?this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"):this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectAllowed")}}listDragDrop(e){return he(this,null,function*(){let t,o;e.preventDefault(),this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"),o=this.itemSelectedService.getDragItem(),this.itemSelectedService.clearDragItem(),o&&(!o.container||this.readOnly||(t=yield this.checkOperation(o),t?this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:t}):(o._fwcObjTreeParentId=o.pid,this.addObject(o))))})}listDragLeave(e){e.target==this.fwcGroup.nativeElement&&(this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"))}checkOperation(e){return he(this,null,function*(){let t,o=+e._fwcObjType;if(this.groupAllowedTypes[this.groupType].indexOf(o)==-1)t=this.msgNotAllowed?this.msgNotAllowed:this.translate.instant("GROUP.ERROR_NOTALLOWED");else if(this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(r=>e._fwcObjId==r._fwcObjId&&e._fwcObjType==r._fwcObjType))t=this.msgAlreadyExisting?this.msgAlreadyExisting:this.translate.instant("GROUP.ERR_EXISTS",{name:e._fwcObjName});else if((e._fwcObjType===F.OBJ_GROUP||e._fwcObjType===F.OBJ_SERVICE_GROUP)&&(!e.items||!e.items.length))t=this.translate.instant("GROUP.ERROR_EMPTY_GROUP",{name:e._fwcObjName});else if(e._fwcObjType===F.OBJ_INTERFACE_FIREWALL||e._fwcObjType===F.OBJ_INTERFACE_HOST){let r,s;o==F.OBJ_INTERFACE_HOST?(s=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),r=e.host_id):(s=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),e.cluster_id?r=e._fwcFwId:r=e.firewall_id||e._fwcFwId);let l=(yield s(r,e.id_obj,e.fwcloud).toPromise()).data;(l.mac==null||l.mac==null)&&(t=this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC"))}else if(e._fwcObjType===F.OBJ_HOST){let r=!1;if(Array.isArray(e.items)&&e.items.length){for(let s of e.items)if(Array.isArray(s.items)&&s.items.length){r=!!s.items.find(a=>a._fwcObjType===F.OBJ_ADDRESS);break}}r||(t=this.translate.instant("GROUP.ERROR_EMPTY_HOST",{name:e._fwcObjName}))}return t})}addObject(e){if(e){let t=Object.assign({},e);if(this.isHAProxy&&(this.customFormMode=!0),this.isKeepalived&&(this.customFormMode=!0),this.customFormMode){this.formValue=t._fwcObjId;try{if(this.isKeepalived&&(t._fwcObjType===F.OBJ_FIREWALL||t._fwcObjType===F.OBJ_ADDRESS||t._fwcObjType===F.OBJ_INTERFACE_FIREWALL)){let o=this.fwcKeepalivedPolicyService.getKeepalivedClusterId();if(this.keepalivedClusterId=o,t.cluster_id!==o)throw new Error("Invalid cluster")}if(t._fwcObjType===F.OBJ_ADDRESS&&this.isKeepalived)Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(t._fwcObjId),this._ipobjs.push(t),this.onVirtualIpChange.emit({id:t._fwcObjId,type:t._fwcObjType});else try{this.groupType===F.OBJ_HAPROXY_RULE_FRONTEND_IP&&this.isHAProxy?(this._ipobjs=[t],this.onHAProxyIpChange.emit({id:t._fwcObjId,type:t._fwcObjType})):t._fwcObjType===F.OBJ_ADDRESS&&this.isHAProxy?(Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(t._fwcObjId),this._ipobjs.push(t),this.onHAProxyIpChange.emit({id:t._fwcObjId,type:t._fwcObjType})):(this._ipobjs=[t],this.onChange({id:t._fwcObjId,type:t._fwcObjType}))}catch(o){o.message==="Invalid cluster"?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)});return}}catch(o){o.message==="Invalid cluster"?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)});return}}else{t.selected=!1,t.fwcloud=this.fwcUserService.getActualFwSelectedCloud();let o;o={fwcloud:this.fwcUser.selectedFwCloud,node_parent:this.groupTreeId,node_order:1,node_type:t.node_type,ipobj_g:this.groupId,ipobj:t._fwcObjId},this.utilService.fwcAPICall(this.fwcObjectService.newObjectGroupObject.bind(this.fwcObjectService),o).then(r=>{t._fwcTreeAction=qi.NEW_GROUP_ITEM,this.groupType==F.OBJ_SERVICE_GROUP?t.container=ft.C_SERVICES:this.groupType==F.OBJ_GROUP&&(t.container=ft.C_OBJECTS),r.data&&r.data.length&&(t.fw_status=r.data),t._fwcObjTreeParentId=this.groupTreeId,t.text=t._fwcObjName,this.itemSelectedService.setModifiedItem(t),(!this._ipobjs||!Array.isArray(this._ipobjs))&&(this._ipobjs=[]),this._ipobjs.push(t),this.groupChanged.emit(!0),setTimeout(()=>{this.fwcGroup.nativeElement.scrollTop=this.fwcGroup.nativeElement.scrollHeight-this.fwcGroup.nativeElement.clientHeight},1),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_ADDED")})}).catch(r=>{r.error&&r.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("GROUP.ERROR_EMPTY_CONTAINER",{name:t._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})})}}}onItemRightClick(e){this.selectedItem=e,this.clearObjectInfo()}onItemDblClick(e){let t=Object.assign({},e);this.store.dispatch(uo.selectTreeItem({item:t}))}onContextMenuLoad(e){let t=!1,o=!1,r=this.contextMenu.OBJECT;this.customFormMode&&(r=this.contextMenu.OBJECT_CUSTOMFORM),e.detail.event&&e.detail.event.target&&!e.detail.event.target.getAttribute("data-obj_id")&&(t=!0,this.selectedItem=void 0),this.selectedItem&&(this.selectedItem.rightclicked=!0),(this.selectedItem&&this.selectedItem._fwcObjType==F.OBJ_ANY||!this._ipobjs.length||t)&&(o=!0),r&&r.items&&r.items.forEach(s=>{s.userObject&&this.readOnly?s.visible=!1:s.visible=!o&&s.id!=N.NO_MENU||o&&s.id==N.NO_MENU})}onContextMenuClose(e){this.selectedItem&&(this.selectedItem.rightclicked=!1)}onContextMenuHandler(e){let t=this.selectedItem;if(t&&e.detail.item)switch(e.detail.item.id){case N.FIND_IN_TREE:this.onItemDblClick(t);break;case N.WHERE_USED:let o=Object.assign({},t);o.whereUsedAction=!0,this.itemSelectedService.setItem(o);break;case N.DELETE_FROM_GROUP:this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),message:this.translate.instant("GROUP.DEL_OBJ",{name:t._fwcObjName}),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let r={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:this.groupId,ipobj:t._fwcObjId,obj_type:t._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),r).then(s=>{let a=Object.assign({},t);this.removeItem(t),this.groupChanged.emit(!0),this.groupType==F.OBJ_SERVICE_GROUP?a.container=ft.C_SERVICES:this.groupType==F.OBJ_GROUP&&(a.container=ft.C_OBJECTS),a._fwcObjTreeParentId=this.groupTreeId,a._fwcTreeAction=qi.DELETE_GROUP_ITEM,s.data&&s.data.length&&(a.fw_status=s.data),this.itemSelectedService.setModifiedItem(a),this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_DELETED")})}).catch(s=>{s.error&&s.error.fwcErr==5001?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:t._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GROUP.ERR_DELETING")})})}});break;case N.DELETE:{this._ipobjs=[],this.formValue=void 0,this.onChange(void 0);break}}}removeItem(e){let t=-1;if(!this._ipobjs)return-1;for(let o=0;o<this._ipobjs.length;o++)if(this._ipobjs[o]._fwcObjId!=F.OBJ_ANY&&this._ipobjs[o]._fwcObjId==e._fwcObjId){t=o;break}return t>=0&&this._ipobjs.splice(t,1),t}showObjectInfo(e,t){if(t&&t.preventDefault(),e&&!this.infoTooltipTimer&&!this.infoTooltipShown){let o={objId:e._fwcObjId,objType:e._fwcObjType,objParentId:e.parent_id,fwId:e._fwcFwId,clusterId:e.cluster_id};e.highlighted&&delete e.highlighted,o.objId!==null&&o.objType!==null&&o.objType!=F.OBJ_ANY&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(o,t)},1e3))}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1}static{this.\u0275fac=function(t){return new(t||i)(v(zs),v(Ke),v(wt),v(Kn),v(_t),v(Do),v(ih),v(_d),v(Cd),v(xi),v(ot),v(Wt),v(Ct),v(Kt),v(je))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-object-group"]],viewQuery:function(t,o){if(t&1&&ne(LBe,5),t&2){let r;K(r=q())&&(o.fwcGroup=r.first)}},inputs:{groupId:"groupId",groupType:"groupType",groupTreeId:"groupTreeId",readOnly:"readOnly",ipobjs:"ipobjs",msgNotAllowed:"msgNotAllowed",msgAlreadyExisting:"msgAlreadyExisting"},outputs:{groupChanged:"groupChanged",onVirtualIpChange:"onVirtualIpChange",onHAProxyIpChange:"onHAProxyIpChange"},features:[Ge([Kn,Do,{provide:Vi,useExisting:Dt(()=>i),multi:!0}])],decls:5,vars:5,consts:[["fwcGroup",""],[3,"menuClick","menuOpening","menuClosed","settings","allowAnimation","customStyle","colorScheme","contextMenuRef"],[1,"divFwcPosition","divFwcGroup",3,"dragover","dragenter","dragleave","drop","mouseenter"],[1,"divFwcPosition-item","item-general-default","noselect",3,"item-rightclicked"],[1,"divFwcPosition-item","item-general-default","noselect",3,"contextmenu","mouseenter","mouseleave","dblclick"],["aria-hidden","true"],[1,"fwc-label"]],template:function(t,o){if(t&1){let r=k();f(0,"iui-contextmenu",1),R("menuClick",function(a){return b(r),y(o.onContextMenuHandler(a))})("menuOpening",function(a){return b(r),y(o.onContextMenuLoad(a))})("menuClosed",function(a){return b(r),y(o.onContextMenuClose(a))}),f(1,"div",2,0),R("dragover",function(a){return b(r),y(o.listDragOver(a))})("dragenter",function(a){return b(r),y(o.listDragEnter(a))})("dragleave",function(a){return b(r),y(o.listDragLeave(a))})("drop",function(a){return b(r),y(o.listDragDrop(a))})("mouseenter",function(a){return b(r),y(o.clearObjectInfo(a))}),fo(3,MBe,6,9,"div",3,ho),m()()}t&2&&(p("settings",o.customFormMode?o.contextMenu.OBJECT_CUSTOMFORM:o.contextMenu.OBJECT)("allowAnimation",!1)("customStyle",o.contextMenuStyle)("colorScheme",o.currentColorScheme)("contextMenuRef",o.contextMenuReference),d(3),mo(o._ipobjs))},encapsulation:2})}}return i})();var kBe=["treePanel"],NBe=()=>({"max-height":"20em",overflow:"auto"}),VBe=i=>({"font-weight":i});function BBe(i,n){if(i&1){let e=k();f(0,"div",1)(1,"span",11)(2,"input",12),Re("ngModelChange",function(o){b(e);let r=h();return De(r.selectedObjectName,o)||(r.selectedObjectName=o),y(o)}),m(),f(3,"label",13),T(4),O(5,"translate"),m()(),f(6,"button",14),R("click",function(o){b(e),h();let r=Me(2);return y(r.toggle(o))}),m()()}if(i&2){let e=h();d(2),Oe("ngModel",e.selectedObjectName),d(2),H(P(5,2,"ITEM_PANEL.FIELDS.NAME"))}}function UBe(i,n){if(i&1){let e=k();f(0,"span",15),R("dblclick",function(){let o=b(e).$implicit,r=h();return y(r.onSelectObjectNode(o))}),E(1,"i",16),O(2,"fwcIcon"),f(3,"span",17),T(4),m()()}if(i&2){let e=n.$implicit;d(),us("fwcTreeIcon ",pi(2,5,e.data==null?null:e.data.obj_type,e.data==null?null:e.data.node_type),""),d(2),p("ngStyle",J(8,VBe,e.selectable||e.data!=null&&e.data.alreadySelected?"normal":"bold")),d(),z(" ",e.label," ")}}var Nh=(()=>{class i{set disabledObjects(e){this._disabledObjects=e,this.manageOptions(e)}set fwcloudId(e){this._fwcloudId=e}constructor(e,t,o,r,s,a,l){this.appOptionsService=e,this.fwcObjectTreeService=t,this.fwcErrorPipe=o,this.messageService=r,this.translate=s,this.fwcUserService=a,this.cd=l,this.objectSelected=new W}ngOnInit(){}ngOnChanges(e){e.fwcloudId&&this.reloadData(this._fwcloudId)}reloadData(e){let t=this.fwcUserService.getActualFwcUser();this.nodeTranslations=this.translate.instant("NODE_TYPES");let o=Object.assign({},this.appOptionsService.optionsTreeFw),r=Object.assign({},this.appOptionsService.optionsTreeObj);o.user_id=r.user_id=t.user_id,o.fwcloud=r.fwcloud=e!==null?e:t.selectedFwCloud,o.objStandard=r.objStandard=0,o.objCloud=r.objCloud=1,Promise.all([this.getTree(o,this.fwTreeNodes),this.getTree(r,this.objectTreeNodes)]).then(([s,a])=>{this.treeData=s.concat(a),this.manageOptions(this._disabledObjects)}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})})}getTree(e,t){let o;return o=new Promise((r,s)=>{let a=[];Array.isArray(t)&&t.length?this.fwcObjectTreeService.getTree(e,e.fwcloud).subscribe(l=>{let c;if(l.data.length?c=l.data[0]:c=l.data,Array.isArray(c.items)&&c.items.length)for(let u=0;u<c.items.length;u++){let g=c.items[u];t.findIndex(_=>g.node_type==_)==-1&&(c.items.splice(u,1),u=u-1)}a=this.convertTree([c],t),r(a)},l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),s(l)}):r([])}),this.cd.detectChanges(),o}convertTree(e,t,o){let r=[];return Array.isArray(t)||(t=[]),Array.isArray(this.selectableObjects)||(this.selectableObjects=[]),e.forEach(s=>{this.nodeTranslations[s.node_type]&&!s.id_obj&&(s.text=this.nodeTranslations[s.node_type]);let a=t.findIndex(c=>s.node_type==c)!=-1,l=this.selectableObjects.findIndex(c=>s.obj_type==c)!=-1&&s.id_obj!==null;if(s.node_type!=B.STANDARD&&a||!o){let c={label:s.text,data:{name:s.text,id_obj:s.id_obj,obj_type:s.obj_type,node_type:s.node_type,parent_id:o?o.id_obj:void 0},selectable:l,expanded:!o,children:[]};s.items&&s.items.length&&(c.children=this.convertTree(s.items,t,s)),r.push(c)}}),r}showTree(e,t,o){this.treeMetadata=t,o&&(this.selectedObjectNode=null,this.selectedObjectName=""),this.treePanel.toggle(e)}setOptionSelectable(e,t){let o=this.treeData.slice(0);if(e!=null){for(;o.length;){let r=o.shift();r.data&&r.data.id_obj==e&&(r.data.alreadySelected=!t,r.selectable=t),r.children&&r.children.length&&o.push(...r.children)}this.selectedObjectNode=null,this.selectedObjectName=""}}manageOptions(e){if(!this.treeData)return;let t=this.treeData.slice(0);for(Array.isArray(e)||(e=[]);t.length;){let o=t.shift(),r=e.findIndex(s=>s.ipobj==o.data.id_obj);r!=-1&&(o.data.alreadySelected=!0,e.splice(r,1)),o.children&&o.children.length&&t.push(...o.children)}this.selectedObjectNode=null,this.selectedObjectName=""}onSelectObjectNode(e){if(!e||!e.selectable)return;let t=Q({},e.data);this.selectedObjectName=e.label,this.treePanel&&this.treePanel.hide(),this.treeMetadata&&(t._metadata=this.treeMetadata),this.objectSelected.emit(t)}static{this.\u0275fac=function(t){return new(t||i)(v(Et),v(tr),v(xi),v(Kt),v(je),v(ot),v(pe))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-tree-selector"]],viewQuery:function(t,o){if(t&1&&ne(kBe,5),t&2){let r;K(r=q())&&(o.treePanel=r.first)}},inputs:{fwTreeNodes:"fwTreeNodes",objectTreeNodes:"objectTreeNodes",selectableObjects:"selectableObjects",hideObjectName:"hideObjectName",disabledObjects:"disabledObjects",fwcloudId:"fwcloudId"},outputs:{objectSelected:"objectSelected"},features:[Ge([tr]),ki],decls:11,vars:8,consts:[["treePanel",""],[1,"p-inputgroup"],["appendTo","body",3,"dismissable"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"grid"],[1,"col-12"],[1,"fwc-right-float"],["pButton","","type","button","icon","fa fa-times",1,"p-button-warning",3,"click"],[1,"fwcSepShort"],["pButton","","type","button","icon","fa fa-check",1,"p-button-success",3,"click","disabled"],[1,"p-float-label"],["type","text","pInputText","","maxlength","64","name","_object_name","disabled","true",3,"ngModelChange","ngModel"],["for","_object_name"],["pButton","","type","button","icon","fa fa-search",1,"p-button-secondary",2,"width","2rem","height","2.5rem","max-height","100%",3,"click"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"]],template:function(t,o){if(t&1){let r=k();I(0,BBe,7,4,"div",1),f(1,"p-overlayPanel",2,0)(3,"p-tree",3),Re("selectionChange",function(a){return b(r),De(o.selectedObjectNode,a)||(o.selectedObjectNode=a),y(a)}),I(4,UBe,5,10,"ng-template",4),m(),f(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),R("click",function(){b(r);let a=Me(2);return y(a.hide())}),m(),E(9,"span",9),f(10,"button",10),R("click",function(){return b(r),y(o.onSelectObjectNode(o.selectedObjectNode))}),m()()()()()}t&2&&(G(o.hideObjectName?-1:0),d(),p("dismissable",!1),d(2),it(Ie(7,NBe)),p("value",o.treeData),Oe("selection",o.selectedObjectNode),d(7),p("disabled",!o.selectedObjectNode))},dependencies:[ve,Wi,Gi,Ao,wn,ge,at,Kd,Ks,cn,ht,un],encapsulation:2})}}return i})();var tj=Xs(hg());var jBe=["optionsTable"],HBe=["routesTreeSelector"],GBe=()=>({width:"40rem",height:"28rem"}),zBe=(i,n,e,t,o,r)=>[i,n,e,t,o,r],WBe=(i,n,e,t)=>[i,n,e,t],$Be=(i,n)=>[i,n];function KBe(i,n){i&1&&(f(0,"tr"),E(1,"th",8),f(2,"th",9),T(3),O(4,"translate"),E(5,"p-sortIcon",10),m(),f(6,"th"),T(7),O(8,"translate"),m(),f(9,"th"),T(10),O(11,"translate"),m()()),i&2&&(d(3),z(" ",P(4,3,"VPN.CONFIG.GRID_HEADER.0")," "),d(4),H(P(8,5,"VPN.CONFIG.GRID_HEADER.1")),d(3),H(P(11,7,"VPN.CONFIG.GRID_HEADER.2")))}function qBe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=n.$implicit;d(),H(e.label)}}function YBe(i,n){if(i&1&&(f(0,"div")(1,"div"),T(2),m()()),i&2){let e=n.$implicit;d(2),H(e.label)}}function JBe(i,n){if(i&1){let e=k();f(0,"p-dropdown",19),O(1,"translate"),Re("ngModelChange",function(o){b(e);let r=h(2).$implicit;return De(r.name,o)||(r.name=o),y(o)}),R("onChange",function(o){b(e);let r=h(3);return y(r.onDataChanged(o))}),I(2,qBe,2,1,"ng-template",20)(3,YBe,3,1,"ng-template",21),m()}if(i&2){let e=h(2).$implicit,t=h();p("options",t.availableKeywords),Oe("ngModel",e.name),p("autoDisplayFirst",!1)("emptyFilterMessage",P(1,4,"VPN.CONFIG.NO_OPS"))}}function XBe(i,n){if(i&1&&T(0),i&2){let e=h(2).$implicit;z(" ",e.name," ")}}function QBe(i,n){i&1&&(f(0,"div",24)(1,"h6",25),E(2,"i",26),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"VPN.CONFIG.DATA_CIPHERS.HEADER")," "))}function ZBe(i,n){if(i&1){let e=k();f(0,"div",27)(1,"div",28)(2,"label",29),T(3),O(4,"translate"),m(),f(5,"p-listbox",30),Re("ngModelChange",function(o){b(e);let r=h(4);return De(r.selectedItems,o)||(r.selectedItems=o),y(o)}),m()(),f(6,"div",31)(7,"button",32),R("click",function(){b(e);let o=h(4);return y(o.addSelected())}),m(),f(8,"button",33),R("click",function(){b(e);let o=h(4);return y(o.removeSelected())}),m()(),f(9,"div",34)(10,"label",29),T(11),O(12,"translate"),m(),f(13,"p-listbox",30),Re("ngModelChange",function(o){b(e);let r=h(4);return De(r.removedItems,o)||(r.removedItems=o),y(o)}),m()()()}if(i&2){let e=h(4);d(3),H(P(4,8,"VPN.CONFIG.DATA_CIPHERS.AVAILABLE_CIPHERS")),d(2),p("options",e.unselectedOptions),Oe("ngModel",e.selectedItems),p("multiple",!0),d(6),H(P(12,10,"VPN.CONFIG.DATA_CIPHERS.SELECTED_CIPHERS")),d(2),p("options",e.selectedOptions),Oe("ngModel",e.removedItems),p("multiple",!0)}}function e5e(i,n){if(i&1){let e=k();f(0,"button",35),O(1,"translate"),R("click",function(){b(e);let o=h(3).$implicit,r=h();return y(r.confirmSelection(o))}),m(),f(2,"button",36),O(3,"translate"),R("click",function(){b(e);let o=h(4);return y(o.onCloseDialog())}),m()}if(i&2){let e=h(4);Z("label",P(1,3,"GLOBALS.MSG_BUTTONS.ACCEPT")),p("disabled",e.selectedOptions.length===0),d(2),Z("label",P(3,5,"GLOBALS.MSG_BUTTONS.CANCEL"))}}function t5e(i,n){if(i&1){let e=k();f(0,"td",15),R("click",function(){b(e);let o=h(2).$implicit,r=h();return y(r.openDialog(o))}),f(1,"p-dialog",22),Re("visibleChange",function(o){b(e);let r=h(3);return De(r.displayDialog,o)||(r.displayDialog=o),y(o)}),R("onHide",function(){b(e);let o=h(3);return y(o.onCloseDialog())}),I(2,QBe,5,3,"ng-template",4)(3,ZBe,14,12,"ng-template",16)(4,e5e,4,7,"ng-template",23),m(),f(5,"p"),T(6),m()()}if(i&2){let e=h(2).$implicit,t=h();d(),it(Ie(6,GBe)),Oe("visible",t.displayDialog),p("modal",!0)("closable",!0),d(5),z(" ",t.getOptionArgsWithDefault(e)," ")}}function i5e(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=n.$implicit;d(),H(e.label)}}function n5e(i,n){if(i&1&&(f(0,"div"),T(1),m()),i&2){let e=n.$implicit;d(),H(e.label)}}function o5e(i,n){if(i&1){let e=k();f(0,"p-dropdown",19),O(1,"translate"),Re("ngModelChange",function(o){b(e);let r=h(4).$implicit;return De(r.arg,o)||(r.arg=o),y(o)}),R("onChange",function(o){b(e);let r=h(5);return y(r.onDataChanged(o))}),I(2,i5e,2,1,"ng-template",20)(3,n5e,2,1,"ng-template",21),m()}if(i&2){let e=h(4).$implicit,t=h();p("options",t.availableCiphers),Oe("ngModel",e.arg),p("autoDisplayFirst",!1)("emptyFilterMessage",P(1,4,"VPN.CONFIG.NO_OPS"))}}function r5e(i,n){if(i&1&&(f(0,"p"),T(1),m()),i&2){let e=h(4).$implicit,t=h();d(),H(t.getOptionArgsWithDefault(e))}}function s5e(i,n){i&1&&(f(0,"p-cellEditor"),I(1,o5e,4,6,"ng-template",16)(2,r5e,2,1,"ng-template",17),m())}function a5e(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=n.$implicit;d(),H(e.label)}}function l5e(i,n){if(i&1&&(f(0,"div"),T(1),m()),i&2){let e=n.$implicit;d(),H(e.label)}}function c5e(i,n){if(i&1){let e=k();f(0,"p-dropdown",19),O(1,"translate"),Re("ngModelChange",function(o){b(e);let r=h(4).$implicit;return De(r.arg,o)||(r.arg=o),y(o)}),R("onChange",function(o){b(e);let r=h(5);return y(r.onDataChanged(o))}),I(2,a5e,2,1,"ng-template",20)(3,l5e,2,1,"ng-template",21),m()}if(i&2){let e=h(4).$implicit,t=h();p("options",t.complzoOptions),Oe("ngModel",e.arg),p("autoDisplayFirst",!1)("emptyFilterMessage",P(1,4,"VPN.CONFIG.NO_OPS"))}}function d5e(i,n){if(i&1&&(f(0,"p"),T(1),m()),i&2){let e=h(4).$implicit,t=h();d(),z(" ",t.getOptionArgsWithDefault(e),"")}}function u5e(i,n){i&1&&(f(0,"p-cellEditor"),I(1,c5e,4,6,"ng-template",16)(2,d5e,2,1,"ng-template",17),m())}function p5e(i,n){if(i&1){let e=k();f(0,"input",38),Re("ngModelChange",function(o){b(e);let r=h(5).$implicit;return De(r.arg,o)||(r.arg=o),y(o)}),R("change",function(o){b(e);let r=h(6);return y(r.onDataChanged(o))}),m()}if(i&2){let e=h(5).$implicit;Oe("ngModel",e.arg)}}function h5e(i,n){if(i&1&&I(0,p5e,1,1,"input",37),i&2){let e=h(4).$implicit,t=h();G(t.checkFlagOption(e)?-1:0)}}function f5e(i,n){if(i&1&&T(0),i&2){let e=h(4).$implicit;z(" ",e.arg," ")}}function m5e(i,n){i&1&&(f(0,"p-cellEditor"),I(1,h5e,1,1,"ng-template",16)(2,f5e,1,1,"ng-template",17),m())}function g5e(i,n){if(i&1){let e=k();f(0,"td",15),R("click",function(o){b(e);let r=h(3);return y(r.scrollToEditorCell(o))}),I(1,s5e,3,0,"p-cellEditor")(2,u5e,3,0,"p-cellEditor")(3,m5e,3,0,"p-cellEditor"),m()}if(i&2){let e=h(2).$implicit;d(),G(e.name==="cipher"||e.name==="data-ciphers-fallback"?1:e.name==="comp-lzo"?2:3)}}function _5e(i,n){if(i&1){let e=k();f(0,"input",38),Re("ngModelChange",function(o){b(e);let r=h(2).$implicit;return De(r.comment,o)||(r.comment=o),y(o)}),R("change",function(o){b(e);let r=h(3);return y(r.onDataChanged(o))}),m()}if(i&2){let e=h(2).$implicit;Oe("ngModel",e.comment)}}function C5e(i,n){if(i&1&&(f(0,"div",39),T(1),m()),i&2){let e=h(2).$implicit;d(),z(" ",e.comment," ")}}function I5e(i,n){if(i&1){let e=k();f(0,"td",15),R("click",function(o){b(e);let r=h(2);return y(r.scrollToEditorCell(o))}),f(1,"p-cellEditor"),I(2,JBe,4,6,"ng-template",16)(3,XBe,1,1,"ng-template",17),m()(),I(4,t5e,7,7,"td",18)(5,g5e,4,1,"td",18),f(6,"td",18)(7,"p-cellEditor"),I(8,_5e,1,1,"ng-template",16)(9,C5e,2,1,"ng-template",17),m()()}if(i&2){let e=h().$implicit;d(4),G(e.name==="data-ciphers"?4:5)}}function v5e(i,n){if(i&1&&(E(0,"i",40),O(1,"translate")),i&2){let e=h(2).$implicit;Z("pTooltip",P(1,1,e.emptyMessageKey))}}function b5e(i,n){if(i&1){let e=k();f(0,"span"),T(1," \xA0 "),f(2,"i",41),R("mouseenter",function(o){b(e);let r=h(2).$implicit,s=h();return y(s.showObjectInfo(r,o))})("mouseleave",function(o){b(e);let r=h(3);return y(r.clearObjectInfo(o))})("wheel",function(o){b(e);let r=h(3);return y(r.clearObjectInfo(o))}),m()()}}function y5e(i,n){if(i&1&&(f(0,"td")(1,"strong"),T(2),m()(),f(3,"td"),I(4,v5e,2,3,"i",40),f(5,"strong"),T(6),m(),I(7,b5e,3,0,"span"),m(),f(8,"td")(9,"strong"),T(10),m()()),i&2){let e=h().$implicit;d(2),H(e.name),d(2),G(e.arg?-1:4),d(2),H(e.arg),d(),G(e.ipobj?7:-1),d(3),H(e.comment)}}function w5e(i,n){if(i&1){let e=k();f(0,"tr",11,1)(2,"td",12)(3,"iui-contextmenu",13),R("menuOpening",function(o){let r=b(e),s=r.$implicit,a=r.rowIndex,l=h();return y(l.contextMenuLoad(o,s,a))})("menuClick",function(o){let r=b(e),s=r.$implicit,a=r.rowIndex,l=h();return y(l.contextMenuHandler(o,s,a))}),E(4,"i",14),m()(),I(5,I5e,10,1)(6,y5e,11,5),m()}if(i&2){let e=n.$implicit,t=n.rowIndex,o=h();p("pReorderableRow",t),d(3),p("settings",o.contextMenu)("allowAnimation",!1)("customStyle",o.contextMenuStyle)("colorScheme",o.currentColorScheme),d(2),G(e.readonly?6:5)}}function S5e(i,n){if(i&1){let e=k();f(0,"button",42),O(1,"translate"),R("click",function(o){b(e);let r=h();return y(r.onAddRouteOrIRoute(o))}),m(),f(2,"button",42),O(3,"translate"),R("click",function(o){b(e);let r=h();return y(r.onAddRouteOrIRoute(o,!0))}),m(),f(4,"sts-fwc-tree-selector",43,2),R("objectSelected",function(o){b(e);let r=h();return y(r.onRouteObjectSelected(o))}),m()}if(i&2){let e=h();Z("label",P(1,7,"VPN.CONFIG.ADD_ROUTE")),d(2),Z("label",P(3,9,"VPN.CONFIG.ADD_IROUTE")),d(2),p("fwcloudId",null)("hideObjectName",!0)("fwTreeNodes",ca(11,zBe,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Nn(18,WBe,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_NETWORK,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ue(23,$Be,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_NETWORK))}}var Rb=(()=>{class i{set options(e){this.buildKeywords(),this.buildOptions(e)}constructor(e,t,o,r,s,a,l,c,u,g){this.refService=e,this.itemSelectedService=t,this.confirmationService=o,this.utilService=r,this.fwcObjectService=s,this.fwcUserService=a,this.fwcInterfaceService=l,this.cd=c,this.translate=u,this.store=g,this.dataChanges=new W,this.optionDeleted=new W,this.contextMenuReference=null,this.contextMenuStyle=[Wl,Kl,$l],this.applicationRef=null,this.initialized=!1,this.OptionScope=Gt,this.NodeTypes=B,this.ObjectTypes=F,this.alive=!0,this.isClosing=!1,this.infoTooltipShown=!1,this.displayDialog=!1,this.selectedItems=[],this.removedItems=[],this.openVPNDefaultServerOVPOptions=qA,this.gridOptions=[],this.availableKeywords=[],this.availableCiphers=WA,this.defaultCipher=WA[0].value,this.defaultDataCiphersValue=[51,4,0].map(_=>({label:this.availableCiphers[_].label,value:this.availableCiphers[_].value})),this.unselectedOptions=this.availableCiphers.filter(_=>!this.defaultDataCiphersValue.some(C=>C.value===_.value)),this.selectedOptions=[],this.selectedOptionsDisplay=this.defaultDataCiphersValue.map(_=>_.value).join(":"),this.complzoOptions=$A,this.complzoDefaultOption=$A[0].value}ngOnInit(){this.contextMenu={items:[{id:N.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:N.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.store.pipe(yt(()=>this.alive),Sn(Zr)).subscribe(e=>{e==="dark"?this.currentColorScheme=Xt.Dark:this.currentColorScheme=Xt.Light}),this.selectedOptions=this.defaultDataCiphersValue,this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions]}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let e=this;setTimeout(function(){let t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t},1)}ngOnChanges(e){if(e.options){let o=e.options.currentValue;this.gridOptions=o.filter(r=>r.scope===this.scope)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"smooth",block:"start"})},100),this.initialized=!0,this.cd.detectChanges())}buildKeywords(e){let t=this.scope===Gt.ccd?Sk:qA;this.availableKeywords=[];let o=e?e.map(r=>r.name):qC.map(r=>r.name);t.forEach(r=>{let s=o.includes(r),a=KA.includes(r);this.availableKeywords.push({label:r,value:r,disabled:s&&!a})})}buildOptions(e){if(!(!e||this.scope!=Gt.ccd&&this.scope!=Gt.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(let t=0;t<e.length;t++)e[t].scope==this.scope&&this.gridOptions.push(Object.assign({},e[t]))}}onDeleteOption(e,t){this.checkOptionIsMandatory(e)||this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:e.name}),accept:()=>{let o=Object.assign({},e);if(this.checkOptionIsDeletable(e)?(this.gridOptions.splice(t,1),this.optionDeleted.emit(o)):e.arg&&e.arg.length&&(e.arg=void 0,e.ipobj=void 0,e.comment=void 0,this.optionDeleted.emit(o)),!KA.includes(e.name)){let r=this.availableKeywords.find(s=>s.value===e.name);r&&(r.disabled=!1)}}})}onAddOption(){let e=document.activeElement;e&&e.blur(),this.buildKeywords(this.gridOptions),setTimeout(()=>{this.addIPOption("",this.scope)},50)}onAddRouteOrIRoute(e,t){this.routesTreeSelector&&this.routesTreeSelector.showTree(e,{iroute:!!t},!0)}onRouteObjectSelected(e){if(!e||!e._metadata)return;let t,o;switch(e.obj_type){case F.OBJ_ADDRESS:case F.OBJ_NETWORK:t=this.fwcObjectService.getObject.bind(this.fwcObjectService),o=[e.id_obj,this.fwcUserService.getActualFwSelectedCloud()];break}t&&e.id_obj&&this.utilService.fwcAPICall(t,...o).then(r=>{let s=r.data.address,a=r.data.netmask,l,c;if(e.obj_type===F.OBJ_ADDRESS)a="255.255.255.255";else{let u=ri.netmaskCIDRRegexp.exec(a);if(u){let g=parseInt(u[1]);a=tj.IPv4.subnetMaskFromPrefixLength(g).toString()}}e._metadata.iroute?(l="iroute",c=`${s} ${a}`):(l="push",c=`"route ${s} ${a}"`),this.addIPOption(l,this.scope,c)}).catch(r=>{})}onDataChanged(e){this.dataChanges.emit(1)}contextMenuLoad(e,t,o){let r=!1,s=!1;if(r=this.checkOptionIsMandatory(t),s=r,s){e.detail.cancel=!0;return}this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(a){a.id==N.VPN_OPTION_DELETE&&(a.visible=!r)})}checkOptionIsMandatory(e){let t=!1;for(let o in kr)if(e.name==kr[o]){t=!0;break}return t}checkOptionIsDeletable(e){let t=!0;return e.required&&this.gridOptions.filter(r=>r.name==e.name).length<=1&&(t=!1),t}contextMenuHandler(e,t,o){if(e.detail.item)switch(e.detail.item.id){case N.VPN_OPTION_DELETE:this.onDeleteOption(t,o);break}}getOptions(){return this.gridOptions=this.gridOptions.filter(e=>!!e.name),this.gridOptions}getScope(){return this.scope}updateOrCreateIPOption(e,t){if(!e)return;let o=!0,r=this.gridOptions.filter(s=>s.name==e.name);if(r.length==1){let s=r[0];if(!s.ipobj&&s.required||t)for(let a of Object.keys(e))e[a]!==void 0&&e[a]!==null&&(s[a]=e[a]),o=!1}if(o){for(let s=this.gridOptions.length-1;s>=0;s--)if(this.gridOptions[s].name==e.name){this.gridOptions.splice(s+1,0,Object.assign({},e));break}}this.dataChanges.emit(1)}addIPOption(e,t,o,r,s){if(this.gridOptions.length&&!this.gridOptions[this.gridOptions.length-1].name&&this.gridOptions.pop(),this.gridOptions.push({name:e,scope:t,arg:o,ipobj:r,comment:s}),this.selectedOption=this.gridOptions[this.gridOptions.length-1],this.cd.detectChanges(),this.optionsTable&&setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"instant",block:"end"})},0),e)this.dataChanges.emit(1);else{let a=this.optionsTable.el.nativeElement.querySelector("table tbody tr:last-child");if(a){let l=a.querySelector("td:nth-child(2)");l&&setTimeout(()=>{l.click()},0)}}}modifyIPOption(e,t,o,r){let s=this.gridOptions.find(a=>a.name==e);s&&t===this.scope&&(o&&(s.arg=o),r!=null&&(s.ipobj=r))}checkFlagOption(e){return bk.includes(e.name)}clearOptions(){this.options=[],this.gridOptions=[],this.initialized=!1}showObjectInfo(e,t){if(e){let o={objId:e.ipobj};o.objId!==null&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(o,t)},1e3))}}clearObjectInfo(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}addSelected(){let e=this.selectedItems.filter(t=>!this.selectedOptions.some(o=>o.value===t.value));this.selectedOptions.push(...e),this.unselectedOptions=this.unselectedOptions.filter(t=>!this.selectedItems.includes(t)),this.unselectedOptions.sort((t,o)=>t.label.localeCompare(o.label)),this.selectedItems=[],this.removedItems=[],this.cd.detectChanges()}removeSelected(){let e=this.removedItems.filter(t=>!this.unselectedOptions.some(o=>o.value===t.value));this.unselectedOptions.push(...e),this.unselectedOptions.sort((t,o)=>t.label.localeCompare(o.label)),this.selectedOptions=this.selectedOptions.filter(t=>!this.removedItems.includes(t)),this.removedItems=[],this.selectedItems=[],this.cd.detectChanges()}confirmSelection(e){this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions],this.selectedOptionsDisplay=this.selectedOptions.map(t=>t.label).join(":"),e.arg=this.selectedOptionsDisplay,this.displayDialog=!1,this.cd.detectChanges(),this.dataChanges.emit(1)}openDialog(e){if(!this.displayDialog){let t=e?.arg&&e.arg.trim()!==""?e.arg:this.defaultDataCiphersValue.map(r=>r.value).join(":"),o=t.split(":");this.selectedOptions=o.map(r=>this.availableCiphers.find(s=>s.value===r)).filter(r=>r!==void 0),this.unselectedOptions=this.availableCiphers.filter(r=>!t.includes(r.value)).sort((r,s)=>r.label.localeCompare(s.label)),setTimeout(()=>{this.displayDialog=!0,this.cd.detectChanges()},0)}}onCloseDialog(){this.isClosing||(this.isClosing=!0,this.selectedOptions=[...this.initialSelectedOptions],this.unselectedOptions=[...this.initialUnselectedOptions],setTimeout(()=>{this.displayDialog=!1,this.isClosing=!1,this.dataChanges.emit(0),this.cd.detectChanges()},300))}scrollToEditorCell(e){let t=e.currentTarget;t&&setTimeout(()=>{t.scrollIntoView({behavior:"instant",block:"center"}),this.dropdown.show()},0)}getOptionArgsWithDefault(e){return(!e.arg||e.arg===""||e.arg.trim()==="")&&(e.name==="data-ciphers"?e.arg=this.defaultDataCiphersValue.map(t=>t.value).join(":"):e.name==="cipher"||e.name==="data-ciphers-fallback"?e.arg=this.defaultCipher:e.name==="comp-lzo"&&(e.arg=this.complzoDefaultOption)),e.arg}static{this.\u0275fac=function(t){return new(t||i)(v(zs),v(_t),v(Wt),v(Ct),v(Kn),v(ot),v(Do),v(pe),v(je),v(Ke))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-ovoptions-grid"]],viewQuery:function(t,o){if(t&1&&(ne(dr,5),ne(jBe,5),ne(HBe,5)),t&2){let r;K(r=q())&&(o.dropdown=r.first),K(r=q())&&(o.optionsTable=r.first),K(r=q())&&(o.routesTreeSelector=r.first)}},inputs:{scope:"scope",options:"options"},outputs:{dataChanges:"dataChanges",optionDeleted:"optionDeleted"},features:[Ge([Do,Kn]),ki],decls:8,vars:7,consts:[["optionsTable",""],["dropwdown",""],["routesTreeSelector",""],["scrollHeight","13em","selectionMode","single","styleClass","optionsTable",3,"selectionChange","onEditComplete","onRowReorder","value","scrollable","selection"],["pTemplate","header"],["pTemplate","body"],[1,"divGridFooter"],["pButton","","icon","fa fa-plus",3,"click","label"],[1,"tdActionColumn"],["pSortableColumn","name"],["field","name"],[1,"trOptionsGridRow",3,"pReorderableRow"],["pReorderableRowHandle","",1,"tdActionColumn"],["contextMenuRef","contextMenuReference",3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],["pReorderableRowHandle","",1,"fa","fa-bars","fwcBlue"],["pEditableColumn","",3,"click"],["pTemplate","input"],["pTemplate","output"],["pEditableColumn",""],["styleClass","fwcGridDropDown","appendTo","body","filter","true",3,"ngModelChange","onChange","options","ngModel","autoDisplayFirst","emptyFilterMessage"],["pTemplate","selectedItem"],["pTemplate","item"],["id","data-ciphers","styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"dual-list"],[1,"ciphersList"],[1,"fwcBlue"],["optionLabel","label",3,"ngModelChange","options","ngModel","multiple"],[1,"button-group"],["pButton","","icon","pi pi-arrow-right",1,"p-button-primary",3,"click"],["pButton","","icon","pi pi-arrow-left",1,"p-button-danger",3,"click"],[1,"selectedOptions"],["pButton","","icon","pi pi-check",3,"click","label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"click","label"],["pInputText","","type","text","maxlength","255",3,"ngModel"],["pInputText","","type","text","maxlength","255",3,"ngModelChange","change","ngModel"],[1,"divWrapper"],[1,"fa","fa-question-circle","fa-lg","fwcOrange",3,"pTooltip"],[1,"fa","fa-lg","fa-info-circle","fwcBlue",3,"mouseenter","mouseleave","wheel"],["pButton","",3,"click","label"],[3,"objectSelected","fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"]],template:function(t,o){if(t&1){let r=k();f(0,"p-table",3,0),Re("selectionChange",function(a){return b(r),De(o.selectedOption,a)||(o.selectedOption=a),y(a)}),R("onEditComplete",function(a){return b(r),y(o.onDataChanged(a))})("onRowReorder",function(a){return b(r),y(o.onDataChanged(a))}),I(2,KBe,12,9,"ng-template",4)(3,w5e,7,6,"ng-template",5),m(),f(4,"div",6)(5,"button",7),O(6,"translate"),R("click",function(){return b(r),y(o.onAddOption())}),m(),I(7,S5e,6,26),m()}t&2&&(p("value",o.gridOptions)("scrollable",!0),Oe("selection",o.selectedOption),d(5),Z("label",P(6,5,"VPN.CONFIG.ADD_OPTION")),d(2),G(o.scope===o.OptionScope.ccd?7:-1))},dependencies:[Wi,Gi,Ao,wn,Ht,ge,at,On,cn,Oo,Sp,iA,IM,Ap,vM,bM,dr,hE,Nh,ht],styles:[`@charset "UTF-8";:root{--lightColor: #eee;--darkColor: #222;--inputBackgroundColor: #eee;--inputBorderColor: #cacaca;--inputColor: #222;--surfaceBackgroundColor: white;--fixedWhiteColor: #eee;--fixedDarkColor: #333;--translucidColor: transparent;--menuBackground: url(/assets/img/fwc-fondo-menu.jpg);--mainBackground: url(/assets/img/fwc-fondo-home.jpg);--fwcBlue: #0069a7;--fwcBlueDarkened: #005e96;--fwcDarkBlue: #003351;--fwcDarkBlue2: #014071;--fwcLightBlue: #1779ba;--fwcPaleBlue: #689fe1;--fwcPaleBlue2: #cce2f8;--fwcPaleBlue3: #e6f1fd;--fwcBlueGradient1: #386ea0;--fwcBlueGradient2: #21517e;--fwcLightGreyGradient1: #f6f7f9;--fwcLightGreyGradient2: #ebedf0;--fwcOrange: #eb6400;--fwcPaleOrange: #e67e22;--fwcPaleOrange2: #ffcfa4;--fwcPaleOrange3: #fe7815;--fwcOrangeRed: #e74c3c;--fwcRed: #f00;--fwcRed2: #b40b00;--fwcPaleRed: #f77676;--fwcPaleRed2: #ffe1e1;--fwcTranslucidRed: rgba(255, 0, 0, .15);--fwcDarkGreen: #023008;--fwcGreen: #009900;--fwcLightGreen: #28ff28;--fwcPaleGreen: #c7e6c8;--fwcLime: #baf649;--fwcWhite: #eee;--fwcPaleWhite: #f5f5f5;--fwcPaleWhite2: #f4f4f4;--fwcDark: #222;--fwcLightDark: #1e1e1e;--fwcMidDark: #555;--fwcMidDark2: #333;--fwcPaleDark: #888;--fwcPaleDark2: #383838;--fwcGrey: #cacaca;--fwcGrey2: #cecece;--fwcGrey3: #eee;--fwcGrey4: #e5e5e5;--fwcGrey5: #c8c8c8;--fwcGrey6: #efefef;--fwcGrey7: #dedede;--fwcAccent: #ff4081;--fwcShadow: #bbb;--fwcSelected: #ddd;--fwcSelectedB: #0069a7;--fwcRulePink: #ef9a9a;--fwcRulePurple: #ce93d8;--fwcRuleBlue: #90caf9;--fwcRuleTeal: #80cbc4;--fwcRuleGreen: #a5d6a7;--fwcRuleYellow: #fff59d;--fwcRuleOrange: #ffcc80}.p-dropdown.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}tr.trOptionsGridRow td{overflow:hidden;font-family:Montserrat,Arial,sans-serif;padding:.3rem}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:var(--fwcWhite);background:var(--fwcRed);display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}div.divGridFooter{text-align:center;border:1px solid var(--fwcGrey5);background:var(--fwcPaleWhite2);padding:.2rem}div.divGridFooter button{font-size:.8rem!important;margin-left:.5rem}.dual-list{display:flex;width:100%;justify-content:space-between}.dual-list .p-listbox{width:200px;height:300px}.dual-list .p-listbox-list-wrapper{max-height:300px!important}.button-group{display:flex;flex-direction:column;align-items:center;margin-top:20%}.button-group>button{height:3rem;width:4rem;max-height:3rem!important;max-width:4rem!important}.button-group p{margin:10px}.p-datatable-reorderablerow-handle{margin-left:5px!important;margin-top:5px!important}
`],encapsulation:2})}}return i})();var oj=Xs(fd()),xO=Xs(hg());var x5e=["txtConfigFile"],E5e=()=>({width:"80vw"}),T5e=(i,n)=>({obj_type:i,name:n}),EO=i=>({name:i}),wg=i=>({visibility:i}),O5e=(i,n,e,t,o,r)=>[i,n,e,t,o,r],R5e=(i,n,e,t)=>[i,n,e,t],D5e=(i,n)=>[i,n],P5e=()=>({width:"1.7rem",height:"1.7rem"}),F5e=i=>({obj_type:i});function L5e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",12),E(2,"i"),O(3,"fwcIcon"),T(4),O(5,"translate"),O(6,"translate"),m()()),i&2){let e=h(2);d(2),te(da(3,4,e.objectToDelete._fwcObjType,null,"fwcOrange")),d(2),z(" ",pi(6,10,"VPN.CONFIG.HEADER_DELETE_2",Ue(13,T5e,P(5,8,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR"),e.objectToDelete._fwcObjName))," ")}}function M5e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",12),E(2,"i",13),T(3),O(4,"translate"),m()()),i&2){let e=h(2);d(3),z(" ",pi(4,1,"VPN.CONFIG.HEADER_FILE",J(4,EO,e.objectToRetrieve._fwcObjName))," ")}}function k5e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",12),E(2,"i",13),T(3),O(4,"translate"),m()()),i&2){let e=h(2);d(3),z(" ",pi(4,1,e.configManageTranslateKey+".FORM_HEADER",J(4,EO,e.objectToManage._fwcObjName))," ")}}function N5e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",12),E(2,"i",14),T(3),O(4,"translate"),m()()),i&2){let e=h(2);d(3),z(" ",pi(4,1,"VPN.CONFIG.HEADER_WU",J(4,EO,e.objectToSearchWU._fwcObjName))," ")}}function V5e(i,n){if(i&1&&(f(0,"div",10)(1,"h6",12),E(2,"i",13),T(3),m()()),i&2){let e=h(2);d(3),z(" ",e.headerTitle," ")}}function B5e(i,n){if(i&1){let e=k();f(0,"div",11)(1,"button",15),R("click",function(){b(e);let o=h(2);return y(o.minimizeDialog())}),m()()}}function U5e(i,n){if(i&1&&I(0,L5e,7,16,"div",10)(1,M5e,5,6,"div",10)(2,k5e,5,6,"div",10)(3,N5e,5,6,"div",10)(4,V5e,4,1,"div",10)(5,B5e,2,0,"div",11),i&2){let e=h();G(e.objectToDelete?0:-1),d(),G(e.objectToRetrieve?1:-1),d(),G(e.objectToManage?2:-1),d(),G(e.objectToSearchWU?3:-1),d(),G(!e.objectToDelete&&!e.objectToRetrieve&&!e.objectToManage&&!e.objectToSearchWU?4:-1),d(),G(e.disableButtons?-1:5)}}function j5e(i,n){i&1&&(f(0,"div",5)(1,"div",16),E(2,"p-progressSpinner"),m()())}function H5e(i,n){if(i&1&&(f(0,"div",5)(1,"div",17),E(2,"sts-fwc-message",18),m()()),i&2){let e=h();d(2),p("message",e.errorMsg)}}function G5e(i,n){if(i&1){let e=k();f(0,"div",19),E(1,"sts-fwc-message",18),f(2,"sts-fwc-object-restrictions",20),R("onHideParent",function(){b(e);let o=h(3);return y(o.minimizeDialog(!0))})("onRefreshRestrictions",function(){b(e);let o=h(3);return y(o.reloadPanel())}),m()()}if(i&2){let e=h(3);d(),p("message",e.deleteMsg),d(),p("dependencies",e.dependencies)("readOnly",e.restrictionsReadOnly)}}function z5e(i,n){if(i&1&&I(0,G5e,3,3,"div",19),i&2){let e=h(2);G(e.dependencies.restrictionsError?-1:0)}}function W5e(i,n){if(i&1){let e=k();f(0,"div",21)(1,"p-checkbox",22),O(2,"translate"),Re("ngModelChange",function(o){b(e);let r=h(3);return De(r.alsoUninstallConfig,o)||(r.alsoUninstallConfig=o),y(o)}),m()()}if(i&2){let e=h(3);d(),Z("label",P(2,2,"VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST")),Oe("ngModel",e.alsoUninstallConfig)}}function $5e(i,n){if(i&1&&(E(0,"sts-fwc-message",18),I(1,W5e,3,4,"div",21)),i&2){let e=h(2);p("message",e.deleteMsg),d(),G(e.objectToDelete.obj_type==e.ObjectTypes.OBJ_VPN_CONFIG_SER||e.objectToDelete.obj_type==e.ObjectTypes.OBJ_VPN_CONFIG_CLI?1:-1)}}function K5e(i,n){if(i&1&&I(0,z5e,1,1)(1,$5e,2,2),i&2){let e=h();G(e.dependencies?0:1)}}function q5e(i,n){if(i&1&&(f(0,"div",6)(1,"div",23)(2,"textarea",24,1),T(4),m()()()),i&2){let e=h();d(4),H(e.configFile)}}function Y5e(i,n){if(i&1&&(f(0,"span"),E(1,"i",31),T(2,"\xA0"),f(3,"strong"),T(4),m()()),i&2){let e=h(2).$implicit;d(4),H(e.firewallName)}}function J5e(i,n){if(i&1&&(f(0,"span"),E(1,"span",32)(2,"i",33),T(3),m()),i&2){let e=h(2).$implicit;d(3),z("\xA0",e.firewallName,"")}}function X5e(i,n){if(i&1&&(f(0,"td"),I(1,Y5e,5,1,"span")(2,J5e,4,1,"span"),m()),i&2){let e=h().$implicit;d(),G(e.isNode?-1:1),d(),G(e.isNode?2:-1)}}function Q5e(i,n){if(i&1&&(f(0,"td"),E(1,"i",33),T(2),m()),i&2){let e=h().$implicit;d(2),z("\xA0",e.firewallName," ")}}function Z5e(i,n){if(i&1&&(f(0,"tr",29),I(1,X5e,3,2,"td")(2,Q5e,3,1,"td"),f(3,"td",28),E(4,"i"),m()()),i&2){let e=n.$implicit,t=h(2);p("ngClass",e.coloredBg?"bgColored":"bgNormal"),d(),G(e.clusterId!==null&&e.clusterId!==void 0?1:-1),d(),G(e.clusterId===null||e.clusterId===void 0?2:-1),d(2),te(t.FirewallOpsIcons[e.installState])}}function eUe(i,n){if(i&1&&(f(0,"div",6)(1,"div",25)(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th"),T(7),O(8,"translate"),m(),f(9,"th",28),T(10),O(11,"translate"),m()()(),f(12,"tbody"),fo(13,Z5e,5,6,"tr",29,ho),m()()()(),f(15,"div",30),E(16,"sts-fwc-log"),m()()),i&2){let e=h();d(7),H(P(8,2,"COMPILE.FORM.NAME")),d(3),z(" ",P(11,4,e.configManageTranslateKey+".OPERATION")," "),d(3),mo(e.operationQueue)}}function tUe(i,n){if(i&1){let e=k();f(0,"sts-fwc-object-wu",34),R("onHideParent",function(){b(e);let o=h();return y(o.minimizeDialog())}),m()}if(i&2){let e=h();p("objectInfo",e.objectToSearchWU._fwcObjectInfo)("readOnly",e.restrictionsReadOnly)}}function iUe(i,n){if(i&1&&(f(0,"div",42)(1,"label",43),T(2),O(3,"translate"),m(),E(4,"input",44),m()),i&2){let e=h(2);d(2),H(P(3,2,e.object.parent_type==e.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER")),d(2),Z("value",e.object.parent_name)}}function nUe(i,n){if(i&1&&(f(0,"div",42)(1,"label",43),T(2),O(3,"translate"),m(),E(4,"input",44),m()),i&2){let e=h(2);d(2),H(P(3,2,"VPN.CONFIG.SER")),d(2),Z("value",e.object._fwcParentConfigName)}}function oUe(i,n){if(i&1&&(f(0,"div",66)(1,"p",67),T(2),m()()),i&2){let e,t=h(2);d(),p("ngStyle",J(2,wg,(e=t.formModel.get("_ipobj_address"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_address"))!=null&&e.dirty)||(e=t.formModel.get("_ipobj_netmask"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_netmask"))!=null&&e.dirty)||(e=t.formModel.get("_ipobj_name"))!=null&&e.invalid&&((e=t.formModel.get("_ipobj_name"))!=null&&e.dirty)?"visible":"hidden")),d(),z(" ",t.ipNetmaskErrorMsg," ")}}function rUe(i,n){if(i&1&&(f(0,"p",67),T(1),O(2,"translate"),m()),i&2){let e,t=h(3);p("ngStyle",J(4,wg,(e=t.formModel.get("install_dir"))!=null&&e.valid||(e=t.formModel.get("install_dir"))!=null&&e.pristine&&((e=t.formModel.get("install_dir"))!=null&&e.untouched)?"hidden":"visible")),d(),z(" ",P(2,2,"VPN.PANEL.ERRORS.INVALID_INSTALL_PATH")," ")}}function sUe(i,n){if(i&1&&(f(0,"div",17)(1,"p",67),T(2),O(3,"translate"),m()()),i&2){let e,t=h(3);d(),p("ngStyle",J(4,wg,(e=t.formModel.get("install_name"))!=null&&e.valid?"hidden":"visible")),d(),z(" ",P(3,2,"VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")," ")}}function aUe(i,n){if(i&1){let e=k();f(0,"div",57)(1,"p-fieldset",68),O(2,"translate"),f(3,"div",69)(4,"div",70)(5,"div",42)(6,"span",63)(7,"input",71),R("drop",function(){b(e);let o=h(2);return y(o.preventDrop())}),m(),f(8,"label",72),T(9),O(10,"translate"),m()()(),I(11,rUe,3,6,"p",73),m(),f(12,"div",70)(13,"div",42)(14,"span",63)(15,"input",74),R("drop",function(){b(e);let o=h(2);return y(o.preventDrop())}),m(),f(16,"label",75),T(17),O(18,"translate"),m()()(),I(19,sUe,4,6,"div",76),m()()()()}if(i&2){let e,t,o=h(2);d(),p("legend",P(2,5,"VPN.PANEL.FIELDS.INST_OPTIONS")),d(8),H(P(10,7,"VPN.PANEL.FIELDS.CONFIG_DIR")),d(2),p("ngIf",!((e=o.formModel.get("install_dir"))!=null&&e.valid||(e=o.formModel.get("install_dir"))!=null&&e.pristine&&((e=o.formModel.get("install_dir"))!=null&&e.untouched))),d(6),H(P(18,9,"VPN.PANEL.FIELDS.CONFIG_FILE")),d(2),p("ngIf",!((t=o.formModel.get("install_name"))!=null&&t.valid))}}function lUe(i,n){if(i&1&&(f(0,"div",86)(1,"p",67),T(2),O(3,"translate"),m()()),i&2){let e=h(3);d(),p("ngStyle",J(4,wg,e.formModelRemote!=null&&e.formModelRemote.invalid&&(e.formModelRemote!=null&&e.formModelRemote.touched)&&(e.formModelRemote!=null&&e.formModelRemote.dirty)?"visible":"hidden")),d(),z(" ",P(3,2,"VPN.PANEL.ERRORS.INVALID_REMOTE")," ")}}function cUe(i,n){if(i&1){let e=k();f(0,"div",58)(1,"form",37)(2,"p-fieldset",77)(3,"div",78)(4,"div",79)(5,"sts-fwc-tree-selector",80,2),R("objectSelected",function(o){b(e);let r=h(2);return y(r.onRemoteIPObjectChange(o))}),m()(),f(7,"div",47)(8,"span",63)(9,"input",81),R("drop",function(){b(e);let o=h(2);return y(o.preventDrop())}),m(),f(10,"label",82),T(11),O(12,"translate"),m()()(),f(13,"div",83)(14,"button",84),R("click",function(){b(e);let o=h(2);return y(o.onAddRemoteOption())}),m()(),I(15,lUe,4,6,"div",85),m()()()()}if(i&2){let e=h(2);d(),p("formGroup",e.formModelRemote),d(4),p("fwcloudId",null)("fwTreeNodes",ca(11,O5e,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Nn(18,R5e,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_DNS,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ue(23,D5e,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_DNS))("disabledObjects",e.disabledTreeRemoteOptions),d(6),H(P(12,9,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),d(3),p("disabled",!(e.formModelRemote!=null&&e.formModelRemote.valid)),d(),p("ngIf",(e.formModelRemote==null?null:e.formModelRemote.invalid)&&(e.formModelRemote==null?null:e.formModelRemote.touched)&&(e.formModelRemote==null?null:e.formModelRemote.dirty))}}function dUe(i,n){if(i&1){let e=k();f(0,"div",59)(1,"h5",60),T(2),O(3,"translate"),m(),f(4,"sts-fwc-ovoptions-grid",61),R("optionDeleted",function(o){b(e);let r=h(2);return y(r.onOptionsDelete(o))})("dataChanges",function(o){b(e);let r=h(2);return y(r.onOptionsChange(o))}),m()()}if(i&2){let e=h(2);d(2),z(" ",P(3,3,"VPN.CONFIG.CCD")," "),d(2),p("options",e.object.options)("scope",e.OptionScope.ccd)}}function uUe(i,n){if(i&1){let e=k();f(0,"p-tabView",8)(1,"p-tabPanel",35),O(2,"translate"),f(3,"div",36)(4,"form",37)(5,"fieldset",38),R("keyup.enter",function(o){b(e);let r=h();return y(r.checkForm(o))})("keyup.esc",function(){b(e);let o=h();return y(o.onCancel())}),f(6,"div",39)(7,"div",40)(8,"div",39)(9,"div",41),I(10,iUe,5,4,"div",42)(11,nUe,5,4,"div",42),m(),f(12,"div",41)(13,"div",42)(14,"label",43),T(15),O(16,"translate"),m(),E(17,"input",44),m()()()(),f(18,"div",45)(19,"p-fieldset",46)(20,"div",5)(21,"div",47)(22,"div",42)(23,"span",48)(24,"input",49),R("drop",function(){b(e);let o=h();return y(o.preventDrop())}),m(),f(25,"label",50),T(26),O(27,"translate"),m()()()(),f(28,"div",51)(29,"div",42)(30,"span",48)(31,"input",52),R("drop",function(){b(e);let o=h();return y(o.preventDrop())}),m(),f(32,"label",53),T(33),O(34,"translate"),m()()()(),f(35,"div",25)(36,"div",42)(37,"span",48)(38,"input",54),R("drop",function(){b(e);let o=h();return y(o.preventDrop())}),m(),f(39,"label",55),T(40),O(41,"translate"),m()()()(),I(42,oUe,3,4,"div",56),m()()(),I(43,aUe,20,11,"div",57)(44,cUe,16,26,"div",58)(45,dUe,5,5,"div",59),f(46,"div",29)(47,"h5",60),T(48),O(49,"translate"),m(),f(50,"sts-fwc-ovoptions-grid",61),R("optionDeleted",function(o){b(e);let r=h();return y(r.onOptionsDelete(o))})("dataChanges",function(o){b(e);let r=h();return y(r.onOptionsChange(o))}),m()(),f(51,"div",62)(52,"div",42)(53,"span",63)(54,"input",64),R("drop",function(){b(e);let o=h();return y(o.preventDrop())}),m(),f(55,"label",65),T(56),O(57,"translate"),m()()()()()()()()()()}if(i&2){let e,t=h();d(),Z("header",P(2,19,"VPN.PANEL.DATA")),d(3),p("formGroup",t.formModel),d(6),G(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER?10:-1),d(),G(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?11:-1),d(4),H(P(16,21,"VPN.CONFIG.CN")),d(2),Z("value",t.object._fwcCrtName),d(2),Z("legend",t.fieldsetTitle),d(7),H(P(27,23,"ITEM_PANEL.FIELDS.NAME")),d(7),H(P(34,25,"ITEM_PANEL.FIELDS.ADDRESS")),d(7),H(P(41,27,"ITEM_PANEL.FIELDS.MASK")),d(2),p("ngIf",((e=t.formModel.get("_ipobj_address"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_address"))==null?null:e.dirty)||((e=t.formModel.get("_ipobj_netmask"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_netmask"))==null?null:e.dirty)||((e=t.formModel.get("_ipobj_name"))==null?null:e.invalid)&&((e=t.formModel.get("_ipobj_name"))==null?null:e.dirty)),d(),G(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER?43:-1),d(),G(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?44:-1),d(),G(t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?45:-1),d(),p("ngClass",t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?"col-6":"col-12"),d(2),z(" ",P(49,29,"VPN.CONFIG.OVP")," "),d(2),p("options",t.object.options)("scope",t.OptionScope.ovp),d(6),H(P(57,31,"ITEM_PANEL.FIELDS.COMMENTS"))}}function pUe(i,n){if(i&1){let e=k();f(0,"button",92),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.reloadPanel())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"POLICY_GRID.RELOAD")),p("disabled",e.loadingData)}}function hUe(i,n){if(i&1){let e=k();I(0,pUe,2,4,"button",90),f(1,"button",91),O(2,"translate"),O(3,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onProcessDeleteAction())}),m()}if(i&2){let e=h(2);G(e.dependencies?0:-1),d(),Z("label",pi(3,5,"CONTEXT.VPN_CONFIG.DELETE_2",J(8,F5e,P(2,3,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR")))),p("disabled",!e.okToDelete||e.loadingData||e.savingData)}}function fUe(i,n){if(i&1){let e=k();f(0,"button",95),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onCopyConfigFile())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"VPN.CONFIG.CLIPBOARD.BUTTON")),p("disabled",e.loadingData)}}function mUe(i,n){if(i&1){let e=k();f(0,"button",96),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onDownloadConfigFile())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"VPN.CONFIG.DOWNLOAD.BUTTON")),p("disabled",e.loadingData)}}function gUe(i,n){if(i&1&&I(0,fUe,2,4,"button",93)(1,mUe,2,4,"button",94),i&2){let e=h(2);G(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?0:-1),d(),G(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?1:-1)}}function _Ue(i,n){if(i&1){let e=k();f(0,"button",99),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.doPauseProcess(!0))}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"COMPILE.PAUSE")),p("disabled",e.disableButtons)}}function CUe(i,n){if(i&1){let e=k();f(0,"button",100),R("click",function(){b(e);let o=h(3);return y(o.doContinueProcess())}),m()}if(i&2){let e=h(3);p("disabled",e.disableButtons)("label",e.continueButtonText)}}function IUe(i,n){if(i&1&&I(0,_Ue,2,4,"button",97)(1,CUe,1,2,"button",98),i&2){let e=h(2);G(!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?0:-1),d(),G(e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?1:-1)}}function vUe(i,n){if(i&1){let e=k();f(0,"button",103),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onCancel())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CANCEL")),p("disabled",!e.object||e.loadingData||e.savingData)}}function bUe(i,n){if(i&1){let e=k();f(0,"button",104),O(1,"translate"),R("click",function(){b(e);let o=h(3);return y(o.onSave())}),m()}if(i&2){let e=h(3);Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.SAVE")),p("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData||e.savingData)}}function yUe(i,n){if(i&1&&I(0,vUe,2,4,"button",101)(1,bUe,2,4,"button",102),i&2){let e=h(2);G(e.formModel.pristine?-1:0),d(),G(e.formModel.pristine?-1:1)}}function wUe(i,n){if(i&1){let e=k();f(0,"button",105),O(1,"translate"),R("click",function(){b(e);let o=h(2);return y(o.onCancel())}),m()}if(i&2){let e=h(2);Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.savingData||e.disableButtons)}}function SUe(i,n){if(i&1&&(f(0,"div",87),E(1,"p-progressSpinner"),m(),I(2,hUe,4,10,"button",88)(3,gUe,2,2)(4,IUe,2,2)(5,yUe,2,2)(6,wUe,2,4,"button",89)),i&2){let e=h();p("ngStyle",J(8,wg,e.savingData?"visible":"hidden")),d(),it(Ie(10,P5e)),d(),G(e.objectToDelete?2:-1),d(),G(e.objectToRetrieve?3:-1),d(),G(e.objectToManage?4:-1),d(),G(e.object&&e.formModel?5:-1),d(),G(!e.object||!e.formModel||e.object&&e.formModel&&e.formModel.pristine?6:-1)}}var ij=6e4,nj=["server","ifconfig-push","remote"],zBt=(()=>{class i extends Ut{ipNetmaskValidator(e){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};let t=!1,o="",r="",s,a,l;this.formModel.controls._ipobj_address&&(o=this.formModel.controls._ipobj_address.value||""),o&&this.formModel.controls._ipobj_address.markAsTouched(),this.formModel.controls._ipobj_netmask&&(r=this.formModel.controls._ipobj_netmask.value||""),r&&this.formModel.controls._ipobj_netmask.markAsTouched();let c=ri.netmaskCIDRRegexp.exec(r);if(c){let u=parseInt(c[1]);try{r=xO.IPv4.subnetMaskFromPrefixLength(u).toString()}catch{t=!1}}return o.match(ri.ipV4Regexp)&&r.match(ri.netmaskRegexp)&&(l=o.trim()+" "+r.trim(),this.formModel.controls._ipobj_address.setErrors(null),t=!0),this.object.obj_type==F.OBJ_VPN_CONFIG_CLI?(s=Gt.ccd,a=kr.O_CLIENT):this.object.obj_type==F.OBJ_VPN_CONFIG_SER&&(s=Gt.ovp,a=kr.O_SERVER),this.optionsGrids.forEach(u=>{u.getScope()===s&&u.modifyIPOption(a,s,l)}),t?null:{ipNetmaskValidator:!0}}constructor(e,t,o,r,s,a,l,c,u,g,_,C,w,S,A,x,D,V){super(o,t,e,r,D,V),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.cd=r,this.fwcUserService=s,this.fwcFirewallService=a,this.fwcObjectService=l,this.fwcObjectTreeService=c,this.fwcVpnService=u,this.inputDataService=g,this.fwcErrorPipe=_,this.translate=C,this.confirmationService=w,this.utilService=S,this.fwcEventService=A,this.messageService=x,this.store=D,this.router=V,this.restrictionsReadOnly=!1,this.ObjectTypes=F,this.CACertTypes=Up,this.OptionScope=Gt,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=Bp,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=B,this.alive=!0,this.createDialog(this.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn",ci.OVCONFIG_PANEL)}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(yt(()=>this.alive),Sn(Qa.selectDialogUuidsToReload)).subscribe(e=>{e&&e.find(t=>t===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.getItem().pipe(yt(()=>this.alive)).subscribe(e=>he(this,null,function*(){if(!(e.obj_type!=F.OBJ_VPN_CONFIG_SER&&e.obj_type!=F.OBJ_VPN_CONFIG_CLI&&e.obj_type!=F.OBJ_PREFIX_FOLDER&&e.obj_type!=F.OBJ_OPENVPN_PREFIX||e.statusAction||e._onlySelectInTree)){if(this.resetProperties(),e.parent_type==F.OBJ_CLUSTER){let t;if(t=yield this.getClusterMasterFirewall(e.parent_id),t)e.firewall=t.id;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.parent_name})});return}}else e.firewall=e.parent_id;if(e.deleteAction)this.onItemDelete(e);else if(e.configFileAction)this.onItemGetFile(e);else if(e.installAction||e.syncCCDAction||e.uninstallAction||e.syncPendingCCDAction){let t=this.utilService.createDynamicComponentRef(Ss),o=t.instance;o.setDynamicComponentRef(t),this.communicationSubscription=o.socketEventEmitter.subscribe(r=>{r=="connected"&&this.onItemManage(e),this.communicationSubscription.unsubscribe()}),o.checkConnection()}else if(e.newPrefixAction||e.editPrefixAction||e.deletePrefixFolderAction)this.managePrefix(e);else if(e.whereUsedAction)this.showWhereUsed(e);else if(e.blockVPNAction||e.unblockVPNAction)this.blockUnblockVPNConnection(e);else if(Array.isArray(e._fwcChildClientNodes)&&e._fwcChildClientNodes.length){let t=[];e._fwcChildClientNodes.forEach(r=>{t.find(s=>s.id===r.id_obj)||t.push({id:r.id_obj,text:r.name})});let o={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.HEADER_CLI"),type:"select",options:t,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:r=>{if(r)if(r.clientConfId)e._fwcObjId=r.clientConfId,this.onItemSelect(e,!0);else{let s=Q({},e);delete s._fwcChildClientNodes,this.onItemSelect(s)}}};this.inputDataService.setInputData(o)}else this.onItemSelect(e)}}))}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},ij)}refreshTimeoutHandler(){clearTimeout(this.timeoutTimer),this.startTimeoutHandler()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified){if(this.objectToDelete){let e=Object.assign({},this.objectToDelete),t=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(e),this.dialogId==t&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let e=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(e)}}this.store.dispatch(Yi.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.formModel&&this.formModel.reset(),this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null}checkOVPNConfigCanBeDeleted(e){return new Promise((o,r)=>{let s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.checkConfigRestrictions(s).subscribe({next:a=>{o(!0)},error:a=>{a.error&&a.error.restrictions?o(!1):r(a)}})})}onItemDelete(e,t){if(!e)return;let o,r,s;this.objectToDelete=e,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,e.obj_type==F.OBJ_VPN_CONFIG_SER||e.obj_type==F.OBJ_VPN_CONFIG_CLI?(o=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId},s="VPN.CONFIG"):e.obj_type==F.OBJ_OPENVPN_PREFIX&&(o=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj},s="VPN.OPENVPN_PREFIX"),o&&(this.showDialog(),t&&this.recenterDialog(),o(r).subscribe(a=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},e),this.deleteMsg={type:"warning",title:this.translate.instant(s+".DELETE_WARN.SUMMARY"),text:this.translate.instant(s+".DELETE_WARN.TEXT",{name:e._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},a=>{a.error&&a.error.restrictions?(this.dependencies=a.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(s+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(s+".ERRORS.RESTR_ERROR.TEXT",{name:e._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(s+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(a)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(e){if(!e)return;this.objectToRetrieve=e,this.loadingData=!0,this.showDialog();let t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.getConfigFile(t).subscribe({next:o=>{o.data?this.configFile=o.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:o.error})},o.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o.error)})),this.loadingData=!1,this.recenterDialog()},error:o=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(o)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o)}),this.loadingData=!1}})}onItemManage(e,t){if(!e)return;let o=e.id_obj,r,s,a,l=[],c=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):e.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):e.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):e.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),t&&this.recenterDialog(),this.channel_id=$o(),this.utilService.ioListenOnLogEvent(this.channel_id),this.startTimeoutHandler(),this.eventsSubscription=this.fwcEventService.getEvent().pipe(yt(()=>this.displayDialog)).subscribe(u=>{this.refreshTimeoutHandler();let g=new xr(u),_;g.payload.type===nt.MSG_ERROR&&(_=this.utilService.isCommunicationErrorStr(g.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0,this.doTimeoutOp()),_?(this.continueButtonText=this.translate.instant("COMPILE.RETRY"),this.doTimeoutOp()):(this.log.addNewMessage(g),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),e.parent_type==F.OBJ_CLUSTER?(a=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),s=e.parent_id,r=!0):e.parent_type==F.OBJ_FIREWALL&&(a=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),s=e.firewall,r=!1),a&&a(s,c).subscribe(u=>he(this,null,function*(){u.data&&u.data instanceof Array?l=u.data:u.data?(l=[],l.push(u.data)):l=[],this.operationQueue=[];let g;r&&(g={openvpn:o,clusterId:s,firewallId:s,firewallName:e._fwcClusterName,installState:Ui.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},g)));let _=this.fwcUserService.getActualFwcUser().privateKey;for(let C=0;C<l.length;C++){let w=l[C],S=w.install_user,A=w.install_pass;try{S&&(S=yield this.utilService.openPGPDecrypt(S,_)),A&&(A=yield this.utilService.openPGPDecrypt(A,_))}catch{}g={clusterId:w.cluster,clusterName:e._fwcClusterName,isNode:!!w.cluster,openvpn:o,firewallId:l[C].id,firewallName:l[C].name,installState:Ui.FW_PENDING,opInstalled:!1,sshUser:S,sshPassword:A,installInterface:l[C].install_interface,installInterfaceName:l[C].interface_name,installIpobj:l[C].install_ipobj,installIpobjName:l[C].ip_name,installIpobjIP:l[C].ip,installCommunication:l[C].install_communication,installProtocol:l[C].install_protocol,installApikey:l[C].install_apikey,deleteAction:e.deleteAction},this.operationQueue.push(Object.assign({},g))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(!0)}),u=>{u.error&&u.error.fwcErr==1002||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1})}processOVPNOperation(e){let t;if(!this.pauseProcess&&(clearTimeout(this.timeoutTimer),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let o=this.operationQueue[this.operationInProcessId];if(!o)return;if(this.operationWithErrors=!1,o.clusterId!==null&&o.clusterId!==void 0?t=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:o.clusterName,firewallName:o.firewallName}):t=this.translate.instant("COMPILE.INST_FW",{firewallName:o.firewallName}),o.installState==Ui.FW_PENDING)if(o.installState=Ui.FW_PROCESSING,e||this.addMessageToLog("",nt.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:t}),nt.MSG_INFO),o.installInterface&&o.installIpobj)if(o.installCommunication==="ssh"){let r={header:this.translate.instant("COMPILE.INST_SSH",{name:t}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:o.openvpn},{name:"firewall_id",type:"hidden",value:o.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:o.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:o.installIpobjName+" ("+o.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:o.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:o.sshPassword},{name:"deleteAction",type:"hidden",value:o.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"p-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};this.disableButtons=!0,this.inputDataService.setInputData(r);return}else{let r={openvpn:o.openvpn,firewall_id:o.firewallId,interface_name:o.installInterfaceName,deleteAction:o.deleteAction,ip_name:void 0,ssh_user:void 0,ssh_password:void 0};this.disableButtons=!0,this.manageConfig(r)}else o.installState=Ui.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:o.firewallName||o.clusterName}),reject:()=>{this.doPauseProcess()},accept:()=>{let r=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:o.firewallName||o.clusterName});this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:t,error:r}),nt.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()}})},1);else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(e)}}manageConfig(e){return he(this,null,function*(){let t,o,r;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(o=this.operationQueue[this.operationInProcessId]),!(!o||!this.configManageAPICall))if(o.clusterId!==null&&o.clusterId!==void 0?t=`cluster ${o.clusterId} - firewall ${o.firewallId} (${o.firewallName})`:t=`firewall ${o.firewallId} (${o.firewallName})`,this.disableButtons=!1,e){if(this.actualFirewallCompileSSHInputData=e,e.btnPauseProcess){o.installState=Ui.FW_PENDING,this.doPauseProcess(!0);return}this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.doTimeoutOp()},ij),this.log.startDataLoad();let s=this.fwcUserService.getActualFwcUser().publicKey,a=e.ssh_user,l=e.ssh_password;a&&(a=yield this.utilService.openPGPEncrypt(a,s)),l&&(l=yield this.utilService.openPGPEncrypt(l,s)),r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn,firewall:e.firewall_id,sshuser:a,sshpass:l},this.disableButtons=!0,this.utilService.fwcAPICall(this.configManageAPICall,this.channel_id,r).then(c=>{this.disableButtons=!1,o.installState=Ui.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),nt.MSG_ERROR):this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),nt.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processOVPNOperation():e.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ASK_DELETE"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>{this.onDeleteConfigurationOrPrefix()}}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.timeoutTimer)}).catch(c=>{this.disableButtons=!1;let u=this.utilService.isCommunicationError(c.error);u?(o.installState=Ui.FW_PENDING,this.addMessageToLog(u,nt.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(c.error.fwcErr==9e3?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(o.installState=Ui.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:t,error:c.error}),nt.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.timeoutTimer)})}else o.installState=Ui.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:t}),nt.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()})}doTimeoutOp(){clearTimeout(this.timeoutTimer),this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),nt.MSG_WARNING))}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),e&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),nt.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processOVPNOperation()}onItemSelect(e,t){return he(this,null,function*(){if(!e)return;this.loadingData=!0,this.showDialog();let o=e._fwcObjId,r=e.obj_type;if(e.obj_type==F.OBJ_VPN_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let s=yield this.loadIPObjects(),a=yield this.loadDNSObjects();if(!s||!a)return;this.remoteOptions=[],this.remoteOptions.push(s),this.remoteOptions.push(a)}else this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(o===void 0&&r!==void 0){let s=Object.assign({},e);if(s.obj_type==F.OBJ_VPN_CONFIG_CLI){s.options=Jt(yk).concat(Jt(wk));let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},l=yield this.getFirstFreeIP(a),c="",u="";l&&(c=l.ip,u=l.netmask);let g=this.getOption(s.options,kr.O_CLIENT);s._ipobj_address=c,s._ipobj_netmask=u,g.arg=c+" "+u,s.openvpn=e.openvpn}else s.options=Jt(qC);this.createForm(s,!0),this.loadingData=!1}else{let s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:o},a;e.obj_type==F.OBJ_VPN_CONFIG_CLI?a=kr.O_CLIENT:a=kr.O_SERVER,this.fwcVpnService.getConfig(s).subscribe({next:l=>he(this,null,function*(){if(l.data){let c=Object.assign({},l.data);c.fwcloud=s.fwcloud,c.obj_type=e.obj_type,c.parent_type=e.parent_type,c.parent_name=e.parent_name,c._fwcParentConfigName=e._fwcParentConfigName,t?(c.crt=e.crt,c._fwcCrtName=e._fwcCrtName,c._fwcObjId=void 0,c.node_id=e.node_id):(c._fwcCrtName=e._fwcObjName,c._fwcObjId=o);let u=this.getOption(c.options,a);u?this.fwcVpnService.getConfigIPObjects(s).subscribe(g=>he(this,null,function*(){let _=g.data,C=_.filter(w=>w.id==u.ipobj);if(C.length){if(e.obj_type==F.OBJ_VPN_CONFIG_CLI&&t){let S={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},A=yield this.getFirstFreeIP(S),x="",D="";A&&(x=A.ip,D=A.netmask);let V=this.getOption(c.options,kr.O_CLIENT);c._ipobj_address=x,c._ipobj_netmask=D,V.arg=x+" "+D}else{let S=C[0];c._ipobj_name=S.name,c._ipobj_address=S.address,c._ipobj_netmask=S.netmask,c._ipobj_id=S.id}let w=this.convertToStandardNetmask(c._ipobj_netmask);u.arg=c._ipobj_address+" "+w,u.readonly=!0}if(e.obj_type==F.OBJ_VPN_CONFIG_CLI){let w=c.options.filter(S=>S.name=="remote");w.length&&(w.forEach(S=>{for(let A=0;A<_.length;A++){let x=_[A];if(S.ipobj==x.id){let D;x.type==F.OBJ_ADDRESS?D=x.address:x.type==F.OBJ_DNS&&(D=x.name),D&&(S.arg=D+" "+S.arg);break}}}),this.disabledTreeRemoteOptions=w)}this.createForm(c,t),this.loadingData=!1,this.recenterDialog(),this.showDialog()}),g=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(g)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)}),this.loadingData=!1}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else l.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})),this.loadingData=!1}),error:l=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1}})}})}convertToStandardNetmask(e){let t=e,o=ri.netmaskCIDRRegexp.exec(t);if(o){let r=parseInt(o[1]);try{t=xO.IPv4.subnetMaskFromPrefixLength(r).toString()}catch{t=""}}return t}loadIPObjects(){let e;return e=new Promise((t,o)=>{let r;r={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},t(r)}),e}loadDNSObjects(){let e;return e=new Promise((t,o)=>{let r;r={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},t(r)}),e}createForm(e,t){if(!e)return;e.options.forEach(a=>{nj.findIndex(l=>a.name==l)!=-1&&(a.required=!0,a.readonly=!0)}),this.formModel=new Ho({fwcloud:new _e(e.fwcloud),openvpn:new _e(e.openvpn),firewall:new _e(e.firewall,Ne.required),crt:new _e(e.crt,Ne.required),node_id:new _e(e.node_id),comment:new _e(e.comment),options:new fa(this.createOVPNOptions(e.options))});let o=`VPN-${e.parent_name}-${e._fwcCrtName}`;if(e.obj_type==F.OBJ_VPN_CONFIG_SER){o=`LAN-VPN-${e._fwcCrtName}`;let a;e.install_name?a=e.install_name:(a=e._fwcCrtName,a=a.substr(0,59)+".conf"),this.formModel.addControl("install_dir",new _e(e.install_dir||"/etc/openvpn",[Ne.required,Ne.pattern(ri.posixPathRegexp)])),this.formModel.addControl("install_name",new _e(a,[Ne.required,Ne.pattern(ri.posixFilenameRegexp)]))}else e.obj_type==F.OBJ_VPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(e.openvpn),this.formModel.addControl("_remote_options",new fa(this.createOVPNOptions(e.options,"remote"))));let r=e._ipobj_name||o;r=r.substr(0,64),this.formModel.addControl("_ipobj_id",new _e(e._ipobj_id)),this.formModel.addControl("_ipobj_name",new _e(r,[Ne.required,Ne.pattern(ri.nameRegExp)])),this.formModel.addControl("_ipobj_address",new _e(e._ipobj_address,[Ne.required,this.ipNetmaskValidator.bind(this)]));let s=this.convertToStandardNetmask(e._ipobj_netmask);this.formModel.addControl("_ipobj_netmask",new _e({value:s,disabled:e.obj_type==F.OBJ_VPN_CONFIG_CLI},[Ne.required,this.ipNetmaskValidator.bind(this)])),t&&this.formModel.markAsDirty(),this.formModelRemote=new Ho({id_obj:new _e(void 0,[Ne.required]),obj_type:new _e(void 0,[Ne.required]),remote_port:new _e(1194,[Ne.required,Ne.min(0),Ne.max(65535)])}),this.object=e}requiresArgValidation(e,t){return!!t&&nj.includes(e)}createOVPNOptions(e,t){let o=[];for(let r of e)if(!t||r.name===t){let s=new Ho({name:new _e(r.name,Ne.required),arg:new _e(r.arg),ipobj:new _e(r.ipobj),scope:new _e(r.scope),comment:new _e(r.comment)});this.requiresArgValidation(r.name,t)&&s.controls.arg.setValidators(Ne.required),o.push(s)}return o}revalidateForm(e){for(let t in this.formModel.controls)(!e||e==t)&&(this.formModel.controls[t].updateValueAndValidity(),this.formModel.controls[t].markAsTouched())}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(t=>{t.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:qi.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(e){e&&e.target&&e.target.type!="textarea"&&this.formModel.valid&&(e.target.blur(),this.onSave())}onSave(e=0){return he(this,null,function*(){if(!this.object)return;let t=[];this.optionsGrids.forEach(_=>{let C=_.getOptions();t=t.concat(C)});for(let _=0;_<t.length;_++)t[_].name&&!t[_].name.length&&delete t[_];t=Jt(t),t.forEach(_=>{if(_.name=="remote"){let C=/\s*(\d+)$/.exec(_.arg),w;C&&(w=C[1],_.arg=w)}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new fa(this.createOVPNOptions(t)));let o={},r={};for(let _ in this.formModel.controls)o[_]=this.formModel.controls[_].value!==null&&this.formModel.controls[_].value!==void 0?this.formModel.controls[_].value:void 0;let s=this.convertToStandardNetmask(o._ipobj_netmask);r={id:o._ipobj_id,type:void 0,fwcloud:o.fwcloud,name:o._ipobj_name,address:o._ipobj_address,netmask:s,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:e};let a,l,c;this.object.obj_type==F.OBJ_VPN_CONFIG_CLI?(r.type=F.OBJ_ADDRESS,r.node_type=B.OBJ_ADDRESS,a=B.FOLDER_ADDRESSES,l=Gt.ccd,c=kr.O_CLIENT):this.object.obj_type==F.OBJ_VPN_CONFIG_SER&&(r.type=F.OBJ_NETWORK,r.node_type=B.OBJ_NETWORK,a=B.FOLDER_NETWORKS,l=Gt.ovp,c=kr.O_SERVER),delete o._ipobj_id,delete o._ipobj_address,delete o._ipobj_name,delete o._ipobj_netmask,delete o._remote_options;let u,g;if(this.object._fwcObjId===void 0){u=this.fwcVpnService.newConfig.bind(this.fwcVpnService);let _=yield this.getParentId(a);if(_==-1){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1;return}this.object.obj_type==F.OBJ_VPN_CONFIG_SER?(g=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),r.node_parent=_):g=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK")}else o.openvpn=this.object._fwcObjId,delete r.node_order,delete r.node_type,delete o.firewall,delete o.crt,u=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),this.object.obj_type==F.OBJ_VPN_CONFIG_SER?g=this.translate.instant("VPN.CONFIG.UPDATE_SERVER_CFG_OK"):g=this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(r).then(_=>{let C;_.data&&(C=_.data.insertId),this.modifyOption(o.options,c,void 0,C),this.clearOptionsArgs(o.options),this.utilService.fwcAPICall(u,o).then(w=>{let S=w.data&&w.data.insertId?w.data.insertId:o.openvpn,A={container:ft.C_FIREWALLS_CONDENSED,_fwcObjId:S,_fwcObjType:this.object.obj_type,_fwcTreeAction:qi.NEW_ITEM};this.itemSelectedService.setModifiedItem(A),A.container=ft.C_FIREWALLS,this.itemSelectedService.setModifiedItem(A),w.data&&w.data.fw_status&&this.store.dispatch(uo.updateFwStatus({item:w.data.fw_status})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:g}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(w=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(w)}),this.savingData=!1})},_=>{_.error&&_.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(_)}),this.savingData=!1})})}getParentId(e){let t;return t=new Promise((o,r)=>{this.fwcObjectTreeService.getNodes(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a=-1;s.data&&s.data.length&&(a=s.data[0].id),o(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),o(-1)})}),t}getClusterMasterFirewall(e){let t;return t=new Promise((o,r)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a;a=s.data,o(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),o(void 0)})}),t}getFirstFreeIP(e){let t;return t=new Promise((o,r)=>{this.fwcVpnService.getVPNLanNextFreeIP(e).subscribe(s=>{let a;a=s.data,o(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),o(void 0)})}),t}modifyOption(e,t,o,r){let s=e.find(a=>a.name==t);s&&(o&&(s.arg=o),r!=null&&(s.ipobj=r))}getOption(e,t){return e.find(o=>o.name==t)}clearOptionsArgs(e){e.forEach(t=>{t.ipobj!==void 0&&t.ipobj!==null&&t.name!="remote"&&(t.arg="")})}manageNetworkIPObject(e){let t;return t=new Promise((o,r)=>{let s;if(e.id===void 0)s=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine){o({data:void 0});return}s=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}this.utilService.fwcAPICall(s,e).then(a=>{o(a)}).catch(a=>{a.error.fwcErr==1003&&this.confirmDuplicateOVPNOperation(a),r(a)})}),t}updateIPOnGrid(e){let t=this.formModel.controls._ipobj_address.value,o="",r,s,a;this.object.obj_type==F.OBJ_VPN_CONFIG_CLI?(t.match(ri.ipV4Regexp)&&(a=t),r=Gt.ccd,s=kr.O_CLIENT):this.object.obj_type==F.OBJ_VPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(o=this.formModel.controls._ipobj_netmask.value),t.match(ri.ipV4Regexp)&&o.match(ri.netmaskRegexp)&&(a=t.trim()+" "+o.trim()),r=Gt.ovp,s=kr.O_SERVER),a&&this.optionsGrids.forEach(l=>{l.getScope()===r&&l.modifyIPOption(s,r,a)})}confirmDuplicateOVPNOperation(e){let t="",o=[];if(e.data&&e.data.length){o=e.data,t="<ul>";for(let r=0;r<o.length;r++)t+="<li><strong>"+o[r].name+"</strong> ("+o[r].id+") </li>";t+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:t}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let e="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==F.OBJ_VPN_CONFIG_SER)e=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"OpenVPN_Server",e+=".conf";else if(this.objectToRetrieve._fwcObjType==F.OBJ_VPN_CONFIG_CLI){let o=[];o.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),o.push(this.objectToRetrieve._fwcFwName||"FW"),o.push(this.objectToRetrieve._fwcObjName||"OpenVPN_Client"),o=o.map(r=>r.replace(/[^a-z0-9\-]/gi,"_")),e=o.join("-"),e+=".ovpn"}let t=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});(0,oj.saveAs)(t,e)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){if(this.configOrPrefixToDelete)if(this.configOrPrefixToDelete.obj_type==F.OBJ_VPN_CONFIG_SER||this.configOrPrefixToDelete.obj_type==F.OBJ_VPN_CONFIG_CLI)if(this.alsoUninstallConfig){this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0;let e=this.utilService.createDynamicComponentRef(Ss),t=e.instance;t.setDynamicComponentRef(e),this.communicationSubscription=t.socketEventEmitter.subscribe(o=>{o=="connected"&&this.onItemManage(this.configOrPrefixToDelete,!0),this.communicationSubscription.unsubscribe()}),t.checkConnection()}else this.onDeleteConfigurationOrPrefix();else this.onDeleteConfigurationOrPrefix()}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let e,t,o,r=this.configOrPrefixToDelete;r.obj_type==F.OBJ_VPN_CONFIG_SER||r.obj_type==F.OBJ_VPN_CONFIG_CLI?(e=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},o="VPN.CONFIG"):r.obj_type==F.OBJ_OPENVPN_PREFIX&&(e=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:r.id_obj},o="VPN.OPENVPN_PREFIX"),e&&(this.addMessageToLog("",nt.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(o+".DELETING"),nt.MSG_INFO),this.utilService.fwcAPICall(e,t).then(s=>{let a=Object.assign({},this.configOrPrefixToDelete);a._fwcTreeAction=qi.DELETE_ITEM,s.data&&s.data.length&&(a.fw_status=s.data),this.itemSelectedService.setModifiedItem(a),this.log||(this.hideDialog(),this.resetProperties()),r.obj_type==F.OBJ_VPN_CONFIG_SER||r.obj_type==F.OBJ_VPN_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.DELETE_SUCCESS")}),this.addMessageToLog(this.translate.instant("VPN.CONFIG.DELETE_SUCCESS"),nt.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.OPENVPN_PREFIX.DELETE.OK")})}).catch(s=>{let a;a=this.translate.instant(o+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)}),this.errorMsg={type:"error",title:this.translate.instant(o+".ERRORS.DELETE_ERROR.SUMMARY"),text:a},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),this.log&&this.addMessageToLog(a,nt.MSG_ERROR)}))}showRestrictions(e,t){}hideRestrictions(e){}managePrefix(e){let t,o,r,s,a,l,c,u;if(e)if(e.deletePrefixFolderAction){let g={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj};if(e.obj_type==F.OBJ_PREFIX_FOLDER)l=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),c=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),a="VPN.PREFIX_FOLDER";else return;l(g).subscribe(_=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant(a+".DELETE.ASK",{name:e._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(c,g).then(C=>{if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(a+".DELETE.OK")}),e._fwcTreeAction=qi.DELETE_ITEM,this.itemSelectedService.setModifiedItem(e),e.container!=ft.C_FIREWALLS_CONDENSED){let w={_fwcTreeAction:qi.RELOAD_TREE,containerToReload:ft.C_FIREWALLS_CONDENSED};this.itemSelectedService.setModifiedItem(w)}}).catch(C=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(C)})})}})},_=>{_.error&&_.error.restrictions?(this.dependencies=_.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(a+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(a+".DELETE.RESTR_TEXT",{name:e._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(_)})})}else{let g,_,C={[F.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[F.OBJ_OPENVPN_PREFIX]:[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)]};if(e.obj_type==F.OBJ_PREFIX_FOLDER)g=e.id_obj,a="VPN.PREFIX_FOLDER";else if(e.obj_type==F.OBJ_OPENVPN_PREFIX)_=e.id_obj,a="VPN.OPENVPN_PREFIX";else return;if(e.editPrefixAction)t=e._fwcObjName,o=e.id_obj,r=this.translate.instant(a+".EDIT.HEADER"),s=this.translate.instant(a+".EDIT.TEXT"),C[e.obj_type]&&C[e.obj_type][0]&&(u=C[e.obj_type][0]);else if(e.newPrefixAction)r=this.translate.instant(a+".NEW.HEADER"),s=this.translate.instant(a+".NEW.TEXT"),C[e.obj_type]&&C[e.obj_type][1]&&(u=C[e.obj_type][1]);else return;let w={header:r,helpText:s,formControls:[{name:"container",type:"hidden",value:e.container},{name:"id",type:"hidden",value:o},{name:"obj_type",type:"hidden",value:e.obj_type},{name:"ca",type:"hidden",value:g},{name:"orig_name",type:"hidden",value:t},{name:"name",label:this.translate.instant(a+".NAME"),type:"text",required:!0,value:t},{name:"openvpn",type:"hidden",value:_},{name:"translateKey",type:"hidden",value:a},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(w)}}onManagePrefix(e){if(e){if(e.name==e.orig_name)return;let t,o,r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:e.name},s;t=e.translateKey,o=e.apiCall,e.id?(r.prefix=e.id,s=this.translate.instant(t+".EDIT.OK")):(r.ca=e.ca,r.openvpn=e.openvpn,s=this.translate.instant(t+".NEW.OK")),this.utilService.fwcAPICall(o,r).then(a=>{let l=a.data&&a.data.insertId?a.data.insertId:e.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:s});let c={container:e.container,_fwcObjName:e.name,_fwcObjId:l,_fwcObjType:e.obj_type,_fwcTreeAction:qi.NEW_ITEM};this.itemSelectedService.setModifiedItem(c),e.container!=ft.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:qi.RELOAD_TREE,containerToReload:ft.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:qi.RELOAD_TREE,containerToReload:ft.C_OBJECTS}),this.store.dispatch(Yi.reloadDialog({dialogUuids:[ci.ITEM_PANEL]}))}).catch(a=>{let l,c;a.error&&(a.error.fwcErr==1003?(l=this.translate.instant(t+".ERRORS.ERROR_DUP.SUMMARY"),c=this.translate.instant(t+".ERRORS.ERROR_DUP.TEXT")):a.error.fwcErr==5001?(l=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),c=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})),c&&this.confirmationService.confirm({header:l,icon:"fa fa-exclamation-circle fwcRed iconBig",message:c,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(e){if(!e)return;this.objectToSearchWU=e;let t,o;o={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},e.obj_type==F.OBJ_OPENVPN_PREFIX?(t=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),o.prefix=e._fwcObjId):e.obj_type==F.OBJ_VPN_CONFIG_CLI&&(t=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),o.openvpn=e._fwcObjId),this.showDialog(),t&&t(o).subscribe(r=>{let s=Object.assign({},r.data);s._fwcObjType=e.obj_type,this.objectToSearchWU._fwcObjectInfo=s,this.recenterDialog()},r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})}})}blockUnblockVPNConnection(e){let t=e._fwcObjId,o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t},r;this.fwcVpnService.getConfig(o).pipe(jn(s=>{let a=s.data;Array.isArray(a.options)||(a.options=[]);let l,c=[];if(a.options.forEach(u=>{c.push({arg:u.arg,comment:u.comment,ipobj:u.ipobj,name:u.name,scope:u.scope})}),e.blockVPNAction){if(r="VPN.CONFIG.INFO.BLOCK_VPN",c.find(u=>u.name==="disable"))return mt(null);c.push({arg:"",comment:"",ipobj:null,name:"disable",scope:Gt.ccd})}else if(r="VPN.CONFIG.INFO.UNBLOCK_VPN",c.find(u=>u.name==="disable"))c=c.filter(u=>u.name!=="disable");else return mt(null);return c=c.sort((u,g)=>u.scope-g.scope),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:a.id,options:c},ln(this.utilService.fwcAPICall(this.fwcVpnService.updateConfig.bind(this.fwcVpnService),l))})).subscribe(s=>{s===null||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(r+".SUMMARY"),detail:this.translate.instant(r+".TEXT")});let a=this.utilService.createDynamicComponentRef(Ss),l=a.instance;l.setDynamicComponentRef(a),this.communicationSubscription=l.socketEventEmitter.subscribe(c=>{c=="connected"&&(e.installAction=!0,this.onItemManage(e)),this.communicationSubscription.unsubscribe()}),l.checkConnection()},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let e=this.formModelRemote.value,t=this.optionsGrids.find(r=>r.getScope()===Gt.ovp);if(!t)return;let o=t.getOptions();for(let r=0;r<o.length;r++){let s=o[r];if(s.name==="remote"&&s.ipobj===e.id_obj){let a=/\s*(\d+)$/.exec(s.arg),l;if(a&&(l=a[1],e.remote_port===+l)){this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.TEXT"),acceptLabel:"Ok",rejectVisible:!1});return}}}this.fwcObjectService.getObject(e.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe({next:r=>{if(!r.data)return;let s=r.data,a="",l="";e.obj_type==F.OBJ_ADDRESS&&(a=s.address),e.obj_type==F.OBJ_DNS&&(a=s.name),a+=" "+e.remote_port,s.if_name?(s.cluster_name?l+=`Cluster '${s.cluster_name}'`:s.firewall_name?l+=`Firewall '${s.firewall_name}'`:s.host_name&&(l+=`Host '${s.host_name}'`),l+=` - IF '${s.if_name}'`):l+=s.name;let c={name:"remote",scope:Gt.ovp,arg:a,ipobj:e.id_obj,required:!0,readonly:!0},u=[];t.updateOrCreateIPOption(c),u=u.concat(t.getOptions()),this.formModel.controls._remote_options=new fa(this.createOVPNOptions(u,"remote")),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},error:r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}onRemoteIPObjectChange(e){!e||e.obj_type!=F.OBJ_ADDRESS&&e.obj_type!=F.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(e.id_obj),this.formModelRemote.get("obj_type").setValue(e.obj_type))}updateOptions(e){let t=[],o=[...this.formModel.get("options").value];if(this.optionsGrids.forEach(r=>{(!e||r.getScope()==e)&&(t=t.concat(r.getOptions()))}),t.length===o.length){let r=new Set(o.map(l=>l.name)),s=new Set(t.map(l=>l.name));if(!(r.size===s.size&&[...r].every(l=>s.has(l))))for(let l=0;l<t.length;l++){let c=t[l],u=o[l];u&&u.name!==c.name&&(c.name==="cipher"||c.name==="data-ciphers-fallback"?c.arg=this.optionsGrids.first.defaultCipher:c.name==="data-ciphers"?c.arg=this.optionsGrids.first.selectedOptionsDisplay:c.arg="")}}t.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new fa(this.createOVPNOptions(t))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new fa(this.createOVPNOptions(t,"remote")))),this.formModel.updateValueAndValidity())}onOptionsChange(e){this.updateOptions(),e&&this.formModel.markAsDirty(),this.recenterDialog()}onOptionsDelete(e){e&&e.name=="remote"&&e.ipobj&&this.updateOptions(),this.formModel.markAsDirty()}onShowDialog(e){this.recenterDialog()}onHideDialog(e){}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(pe),v(ot),v(Bt),v(Kn),v(tr),v(Sr),v(ir),v(xi),v(je),v(Wt),v(Ct),v(_n),v(Kt),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-ovconfig-panel"]],viewQuery:function(t,o){if(t&1&&(ne(Nh,5),ne(x5e,5),ne(Er,5),ne(Rb,5)),t&2){let r;K(r=q())&&(o.treeSelector=r.first),K(r=q())&&(o.txtConfigFile=r.first),K(r=q())&&(o.log=r.first),K(r=q())&&(o.optionsGrids=r)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},features:[Ge([Kn,tr,Bt]),fe],decls:11,vars:14,consts:[["dlgOVConfigPanel",""],["txtConfigFile",""],["treeSelector",""],["styleClass","dlgFwcDialog fwcObjectDialog",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[1,"grid"],[1,"grid","grid","grid-nogutter"],[3,"objectInfo","readOnly"],["styleClass","objectInfoTab"],["pTemplate","footer"],[1,"divFormHeader"],[1,"divHeaderButtons"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwci-whereused","fwcOrange"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"col-12","divCentered"],[1,"col-12"],[3,"message"],[1,"fwcRestrictionsContainer"],[3,"onHideParent","onRefreshRestrictions","dependencies","readOnly"],[1,"col-12",2,"text-align","center"],["name","chkUninstallConfig","binary","true",3,"ngModelChange","ngModel","label"],[1,"col-12","divConfigFile"],["pInputTextarea","","rows","15","readonly",""],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[3,"onHideParent","objectInfo","readOnly"],["leftIcon","fa fa-pencil",3,"header"],[1,"fwcObjectPanel"],[3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","grid-nogutter"],[1,"col-12","divOPHeader",2,"margin-bottom","10px"],[1,"col-6","grid","grid-nogutter"],[1,"p-inputgroup"],[1,"fwcBlue"],["pInputText","","type","text","readonly","",3,"value"],[1,"col-12","lg:col-6","padding-right",2,"padding-right","10px"],[3,"legend"],[1,"col-5"],[1,"p-float-label",2,"margin-top","10px"],["pInputText","","maxlength","64","type","text","formControlName","_ipobj_name","name","_ipobj_name",3,"drop"],["for","_ipobj_name"],[1,"col-3"],["pInputText","","maxlength","45","type","text","formControlName","_ipobj_address","name","_ipobj_address",3,"drop"],["for","_ipobj_address"],["pInputText","","maxlength","17","type","text","formControlName","_ipobj_netmask","name","_ipobj_netmask",3,"drop"],["for","_ipobj_netmask"],["class","col-12 grid-nogutter",4,"ngIf"],[1,"col-12","lg:col-6",2,"padding-left","10px"],[1,"col-12","lg:col-6"],[1,"col-6",2,"padding-right","10px"],[1,"noVertPad","fwcBlue"],[3,"optionDeleted","dataChanges","options","scope"],[1,"col-12",2,"margin-top","1rem"],[1,"p-float-label"],["pInputText","","type","text","maxlength","255","formControlName","comment","name","comment",3,"drop"],["for","comment"],[1,"col-12","grid-nogutter"],[1,"fwc-error","err-no-margin",3,"ngStyle"],[2,"max-height","fit-content",3,"legend"],[1,"grid",2,"max-height","fit-content","width","100%"],[1,"col-6",2,"margin-top","10px"],["pInputText","","type","text","formControlName","install_dir","name","install_dir",2,"font-family","monospace !important",3,"drop"],["for","install_dir"],["class","fwc-error err-no-margin",3,"ngStyle",4,"ngIf"],["pInputText","","type","text","maxlength","64","formControlName","install_name","name","install_name",2,"font-family","monospace !important",3,"drop"],["for","install_name"],["class","col-12",4,"ngIf"],["legend","Remote"],[1,"grid",2,"width","100%"],[1,"col-6"],[3,"objectSelected","fwcloudId","fwTreeNodes","objectTreeNodes","selectableObjects","disabledObjects"],["pInputText","","type","number","formControlName","remote_port","name","remote_port",3,"drop"],["for","remote_port"],[1,"col"],["pButton","","type","button","icon","fa fa-plus",1,"p-button-primary","fwcButtonHeight",2,"height","2.5rem",3,"click","disabled"],["class","col-12 grid grid-nogutter",4,"ngIf"],[1,"col-12","grid","grid-nogutter"],[1,"divLoadTemp",3,"ngStyle"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"fwc-left-float","p-button-primary",3,"disabled","label"],["type","button","pButton","","icon","fa fa-trash",1,"p-button-danger",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-refresh",1,"fwc-left-float","p-button-primary",3,"click","disabled","label"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"label","disabled"],["pButton","","icon","fa fa-clipboard",1,"p-button-secondary",3,"click","label","disabled"],["pButton","","icon","fa fa-download",1,"p-button-secondary",3,"click","label","disabled"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"disabled","label"],["type","button","pButton","","icon","fa fa-pause",1,"p-button-warning",3,"click","disabled","label"],["type","button","pButton","","icon","fa fa-play",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"label","disabled"],["pButton","","icon","fa fa-save",1,"p-button-success",3,"label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-danger",3,"click","label","disabled"],["pButton","","icon","fa fa-save",1,"p-button-success",3,"click","label","disabled"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",3,0),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onShow",function(a){return b(r),y(o.onShowDialog(a))})("onHide",function(a){return b(r),y(o.onHideDialog(a))}),I(2,U5e,6,6,"ng-template",4)(3,j5e,3,0,"div",5)(4,H5e,3,1,"div",5)(5,K5e,2,1)(6,q5e,5,1,"div",6)(7,eUe,17,6,"div",6)(8,tUe,1,2,"sts-fwc-object-wu",7)(9,uUe,58,33,"p-tabView",8)(10,SUe,7,11,"ng-template",9),m()}t&2&&(it(Ie(13,E5e)),Oe("visible",o.displayDialog),p("modal",!0)("resizable",!0)("closable",!1),d(3),G(o.loadingData?3:-1),d(),G(o.errorMsg?4:-1),d(),G(o.objectToDelete&&!o.loadingData&&!o.errorMsg?5:-1),d(),G(o.objectToRetrieve&&!o.loadingData&&!o.errorMsg?6:-1),d(),G(o.objectToManage&&!o.loadingData&&!o.errorMsg?7:-1),d(),G(o.objectToSearchWU&&!o.loadingData&&!o.errorMsg?8:-1),d(),G(o.object&&o.formModel&&!o.loadingData&&!o.errorMsg?9:-1))},dependencies:[Fe,ze,ve,Gn,Wi,Wd,Gi,Hn,Ao,wn,zn,io,Ht,ge,at,Eo,cn,Qo,Hf,jf,lv,El,Er,FU,LU,gn,Rb,Nh,ht,un],styles:[`.divConfigFile textarea{font-family:monospace!important;font-size:.8rem!important;min-height:18rem}.divOPHeader h6,.divOPHeader label{white-space:nowrap;font-family:Montserrat,sans-serif}.p-fieldset-content{display:flex;flex-direction:row;width:100%}body .p-fieldset{border:1px solid #c8c8c8;background-color:transparent;color:#333}body .p-corner-all{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.p-fieldset .p-fieldset-legend{border:1px solid transparent;background:none;font-weight:400}.p-fieldset .p-fieldset-legend-text{margin-left:15px;font-family:Montserrat,Arial,sans-serif}p-fieldset[legend=Remote] .p-fieldset-content{margin-top:10px}
`],encapsulation:2,data:{animation:[RU]}})}}return i})();var qBt=(()=>{class i{constructor(e){this.el=e}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()},50)}static{this.\u0275fac=function(t){return new(t||i)(v(Le))}}static{this.\u0275dir=lt({type:i,selectors:[["","appAutofocus",""]]})}}return i})();var AUe=["fwcVpnStatusComponent"],xUe=()=>({width:"90vw"});function EUe(i,n){if(i&1&&(f(0,"span"),T(1),m()),i&2){let e=h(2);d(),z(" (",e.configObj==null?null:e.configObj.cluster_name,") ")}}function TUe(i,n){if(i&1&&T(0),i&2){let e=h(2);z(" (",e.configObj==null?null:e.configObj.firewall_name,") ")}}function OUe(i,n){if(i&1&&(f(0,"div",5)(1,"h6",6),E(2,"i",7),T(3),O(4,"translate"),f(5,"strong"),T(6),m(),I(7,EUe,2,1,"span")(8,TUe,1,1),m()()),i&2){let e=h();d(3),z(" ",P(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),d(3),z("'",e.configObj==null?null:e.configObj._fwcObjName,"'"),d(),G(e.configObj!=null&&e.configObj.cluster_id?7:8)}}function RUe(i,n){if(i&1){let e=k();f(0,"button",8),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.closeDialog())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var r5t=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l){super(o,t,e,s,a,l),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.translate=r,this.cd=s,this.store=a,this.router=l,this.alive=!0,this.createDialog(this.translate.instant("VPN.STATUS.PANEL_TITLE"),"fwci2-openvpn",ci.VPN_STATUS_PANEL)}ngOnInit(){this.itemSelectedService.getItem().pipe(yt(()=>this.alive)).subscribe(e=>{e.obj_type==F.OBJ_VPN_CONFIG_SER&&e.statusAction&&(this.loadingData=!0,this.showDialog(),this.configObj=e,this.recenterDialog())})}ngOnDestroy(){super.ngOnDestroy()}closeDialog(){this.fwcVpnStatusComponent&&this.fwcVpnStatusComponent.resetProperties(),this.hideDialog()}onDialogHide(e){this.loadingData=!1}onVpnStatusLoaded(e){this.loadingData=!1,this.recenterDialog()}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(je),v(pe),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-vpn-status-panel"]],viewQuery:function(t,o){if(t&1&&ne(AUe,5),t&2){let r;K(r=q())&&(o.fwcVpnStatusComponent=r.first)}},features:[fe],decls:5,vars:8,consts:[["fwcVpnStatusComponent",""],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","resizable","closable"],["pTemplate","header"],[3,"statusLoaded","statusError","configObj"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci2-vpn-config","fwcOrange"],["pButton","","icon","pi pi-times",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){if(t&1){let r=k();f(0,"p-dialog",1),Re("visibleChange",function(a){return b(r),De(o.displayDialog,a)||(o.displayDialog=a),y(a)}),R("onHide",function(a){return b(r),y(o.onDialogHide(a))}),I(1,OUe,9,5,"ng-template",2),f(2,"sts-fwc-vpn-status",3,0),R("statusLoaded",function(a){return b(r),y(o.onVpnStatusLoaded(a))})("statusError",function(){return b(r),y(o.hideDialog())}),m(),I(4,RUe,2,4,"ng-template",4),m()}t&2&&(it(Ie(7,xUe)),Oe("visible",o.displayDialog),p("modal",!0)("resizable",!0)("closable",!1),d(2),p("configObj",o.configObj))},dependencies:[Ht,ge,at,MU,ht]})}}return i})();var DUe=()=>({width:"40rem",height:"20rem"});function PUe(i,n){i&1&&(f(0,"div",6)(1,"h6",7),E(2,"i",8),T(3),O(4,"translate"),m()()),i&2&&(d(3),z(" ",P(4,1,"FW.FW_MORE_INFO.MORE_INFO")," "))}function FUe(i,n){if(i&1){let e=k();f(0,"button",9),O(1,"translate"),R("click",function(){b(e);let o=h();return y(o.hideDialog())}),m()}if(i&2){let e=h();Z("label",P(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")),p("disabled",e.loadingData)}}var m5t=(()=>{class i extends Ut{constructor(e,t,o,r,s,a,l,c,u,g,_,C){super(o,t,e,g,_,C),this.itemSelectedService=e,this.appOptionsService=t,this.appDialogPanelsService=o,this.utilService=r,this.fwcUserService=s,this.fwcEventService=a,this.translate=l,this.confirmationService=c,this.fwcFirewallService=u,this.cd=g,this.store=_,this.router=C,this.loadingData=!1,this.createDialog("panel","")}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showFirewallPanel(e,t,o,r,s,a){this.showDialog(),this.fwc_agent_version=e,this.host_name=t,this.system_name=o,this.os_version=s,this.kernel_version=a}static{this.\u0275fac=function(t){return new(t||i)(v(_t),v(Et),v(At),v(Ct),v(ot),v(_n),v(je),v(Wt),v(Bt),v(pe),v(Ke),v(et))}}static{this.\u0275cmp=Y({type:i,selectors:[["sts-fwc-info-firewall"]],features:[Ge([Bt]),fe],decls:38,vars:30,consts:[["styleClass","dlgFwcDialog",3,"visibleChange","visible","modal","resizable","closable"],["pTemplate","header"],[2,"justify-content","center"],[2,"margin","0 auto","text-align","center","align-items","center","padding","10px"],[1,"col-8","infoTable"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","disabled","label"]],template:function(t,o){t&1&&(f(0,"p-dialog",0),Re("visibleChange",function(s){return De(o.displayDialog,s)||(o.displayDialog=s),s}),I(1,PUe,5,3,"ng-template",1),f(2,"div",2)(3,"h3",3),T(4),O(5,"translate"),m(),f(6,"table",4)(7,"tr")(8,"th"),T(9),O(10,"translate"),m(),f(11,"td"),T(12),m()(),f(13,"tr")(14,"th"),T(15),O(16,"translate"),m(),f(17,"td"),T(18),m()(),f(19,"tr")(20,"th"),T(21),O(22,"translate"),m(),f(23,"td"),T(24),m()(),f(25,"tr")(26,"th"),T(27),O(28,"translate"),m(),f(29,"td"),T(30),m()(),f(31,"tr")(32,"th"),T(33),O(34,"translate"),m(),f(35,"td"),T(36),m()()()(),I(37,FUe,2,4,"ng-template",5),m()),t&2&&(it(Ie(29,DUe)),Oe("visible",o.displayDialog),p("modal",!0)("resizable",!0)("closable",!1),d(4),H(P(5,17,"FW.FW_MORE_INFO.FIREWALL_INFO")),d(5),H(P(10,19,"FW.FW_MORE_INFO.AGENT_VERSION")),d(3),H(o.fwc_agent_version),d(3),H(P(16,21,"FW.FW_MORE_INFO.HOST_NAME")),d(3),H(o.host_name),d(3),H(P(22,23,"FW.FW_MORE_INFO.SYSTEM_NAME")),d(3),H(o.system_name),d(3),H(P(28,25,"FW.FW_MORE_INFO.OS_VERSION")),d(3),H(o.os_version),d(3),H(P(34,27,"FW.FW_MORE_INFO.KERNEL_VERSION")),d(3),H(o.kernel_version))},dependencies:[Ht,ge,at,ht],styles:[`.infoTable{justify-content:center;align-items:center;width:100%;margin:0 auto;max-width:25vw}@media (max-width: 1300px){.infoTable{max-width:37vw}}@media (max-width: 960px){.infoTable{max-width:45vw}}@media (max-width: 780px){.infoTable{max-width:55vw}}
`],encapsulation:2})}}return i})();var W6t=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=we({type:i})}static{this.\u0275inj=ye({providers:[xi,op],imports:[Be,Ec,wS,b6.forChild(),MS,rE,sE,kS,LS,_o,VS,go,aE,Ls,BS,dE,fh,US,uE,nA,Dc,fE,mE,RT,DT,oA,LT,kT,rA,NT,Qf,qf,BT,UT,CU,yU,wU,SU,mk,AU,EU,OU,UL.forChild(),Be,Ec,wS,MS,rE,sE,kS,LS,_o,VS,go,aE,Ls,BS,dE,fh,US,uE,nA,Dc,fE,mE,RT,DT,oA,LT,kT,rA,NT,Qf,qf,BT,UT]})}}return i})();Wr(qU,function(){return[Ht,ge,at,Eo,gC,Er,gn]},function(){return[ht]});Wr(QU,function(){return[Fe,Gn,Wi,Gi,Hn,Ao,wn,zn,io,ge,at,Kd,On,Ks,cn,El,_U,Qd]},function(){return[G0,ht,un]});Wr(ZU,function(){return[Fe,Ht,ge,at,Kd,ug,bU]},function(){return[H0,ht,un]});Wr(yb,function(){return[A6]},[]);Wr(lb,function(){return[ve,Gn,Wi,Gi,Hn,Ao,zn,io,Ht,ge,at,cn,dr,gn,Iu]},function(){return[ht]});Wr(ub,function(){return[ve,Gn,Wi,Gi,Hn,zn,io,Ht,ge,at,cn,Iu]},function(){return[ht]});Wr(Lh,function(){return[ve,Gn,Gi,Hn,zn,io,Ht,ge,at,Eo,dr,Er]},function(){return[ht]});Wr(Ob,function(){return[ve,Ht,ge,at,Ks]},function(){return[ht,un]});Wr(T6,function(){return[ve,Gn,Wi,Gi,Hn,zn,io,Ht,ge,at,Qo,dr,gn,Iu]},function(){return[ht]});Wr(O6,function(){return[ve,Gn,Wi,Gi,Hn,zn,io,Lf,Ht,ge,at,Qo,dr,gn,Iu]},function(){return[ht]});Wr(Mh,function(){return[Fe,ve,Ht,ge,at,Eo,Er]},function(){return[ht]});Wr(D6,function(){return[ve,Gn,Wi,Gi,Hn,zn,io,Lf,Ht,ge,at,Qo,dr,gn,Iu]},function(){return[ht]});Wr(Iu,[],function(){return[un]});export{Qt as a,Ae as b,zh as c,Wb as d,ko as e,wd as f,mt as g,os as h,Sj as i,xj as j,U as k,jn as l,Kh as m,kj as n,Yb as o,No as p,Jb as q,$ as r,ra as s,Vj as t,Ou as u,rr as v,Qb as w,Bj as x,Uj as y,cl as z,S2 as A,Gj as B,zj as C,qh as D,ny as E,Wj as F,Vo as G,xd as H,yt as I,Ko as J,oy as K,dt as L,Dt as M,ue as N,ye as O,Pe as P,ie as Q,Te as R,Y as S,we as T,lt as U,xn as V,Xu as W,b as X,y as Y,pt as Z,We as _,Zn as $,W as aa,It as ba,Na as ca,Le as da,Lt as ea,OWe as fa,Fi as ga,lr as ha,e1 as ia,y8 as ja,m0 as ka,d as la,v as ma,$u as na,wt as oa,jo as pa,ui as qa,fe as ra,Ve as sa,I as ta,M as ua,p as va,fn as wa,Xi as xa,it as ya,te as za,us as Aa,G as Ba,ho as Ca,fo as Da,mo as Ea,f as Fa,m as Ga,E as Ha,re as Ia,se as Ja,oe as Ka,k as La,R as Ma,h as Na,_i as Oa,jt as Pa,Z as Qa,w0 as Ra,qe as Sa,ne as Ta,K as Ua,q as Va,Me as Wa,T as Xa,H as Ya,z as Za,zr as _a,Oe as $a,De as ab,Re as bb,Ge as cb,Ze as db,Wr as eb,Ie as fb,J as gb,Ue as hb,Ai as ib,Nn as jb,ca as kb,O as lb,P as mb,pi as nb,da as ob,bt as pb,pe as qb,j as rb,xe as sb,Il as tb,ct as ub,Fe as vb,Ni as wb,ze as xb,ve as yb,Xe as zb,XWe as Ab,za as Bb,Be as Cb,rt as Db,$0 as Eb,qo as Fb,Al as Gb,Mt as Hb,ZW as Ib,u$e as Jb,p$e as Kb,KF as Lb,x$e as Mb,E$e as Nb,de as Ob,Ms as Pb,dqe as Qb,$i as Rb,kt as Sb,uqe as Tb,Rt as Ub,lo as Vb,Nt as Wb,ks as Xb,pqe as Yb,Ns as Zb,qL as _b,$L as $b,KL as ac,hqe as bc,Vi as cc,Wi as dc,Fs as ec,Ne as fc,Gi as gc,Hn as hc,Ho as ic,_S as jc,_e as kc,wn as lc,Gn as mc,Wd as nc,zn as oc,RL as pc,Lf as qc,io as rc,Ka as sc,Ac as tc,xc as uc,vS as vc,bS as wc,Ao as xc,fa as yc,Ec as zc,wS as Ac,Lp as Bc,Mr as Cc,Tl as Dc,Rl as Ec,Roe as Fc,et as Gc,Mc as Hc,Vp as Ic,Hs as Jc,At as Kc,JC as Lc,Pit as Mc,F as Nc,B as Oc,co as Pc,zA as Qc,yi as Rc,br as Sc,yr as Tc,Dl as Uc,bs as Vc,si as Wc,N as Xc,KC as Yc,Vn as Zc,qi as _c,ft as $c,Ui as ad,Io as bd,Bp as cd,fit as dd,nt as ed,Di as fd,Gse as gd,Up as hd,Zd as id,ri as jd,eu as kd,Rn as ld,ci as md,mit as nd,git as od,_it as pd,Et as qd,zs as rd,Nf as sd,J$e as td,Pk as ud,Jr as vd,jit as wd,ZC as xd,Xit as yd,Xr as zd,ot as Ad,pp as Bd,je as Cd,ht as Dd,UL as Ed,Jt as Fd,ih as Gd,Ca as Hd,_n as Id,Bt as Jd,Do as Kd,OI as Ld,tr as Md,RI as Nd,Kn as Od,nx as Pd,vo as Qd,h4 as Rd,nh as Sd,ux as Td,wm as Ud,PI as Vd,phe as Wd,fx as Xd,LI as Yd,Ke as Zd,Sn as _d,x4 as $d,Yhe as ae,Spt as be,Vl as ce,E4 as de,Ept as ee,Zr as fe,nfe as ge,ofe as he,rfe as ie,di as je,sfe as ke,lfe as le,uo as me,Yi as ne,_fe as oe,Ife as pe,D4 as qe,jpt as re,Qa as se,pn as te,kI as ue,Kc as ve,wr as we,Sr as xe,ir as ye,_t as ze,qc as Ae,Lht as Be,mp as Ce,le as De,ut as Ee,Yt as Fe,Wt as Ge,Kt as He,xt as Ie,ge as Je,$e as Ke,Ct as Le,xi as Me,L as Ne,gt as Oe,Ri as Pe,Li as Qe,at as Re,FS as Se,go as Te,Ci as Ue,cn as Ve,Ls as We,sv as Xe,dE as Ye,Ki as Ze,Cp as _e,Ip as $e,Vs as af,av as bf,fh as cf,Eo as df,LS as ef,qBt as ff,JSt as gf,tb as hf,RU as if,Ht as jf,MS as kf,vCt as lf,HCt as mf,sE as nf,Kd as of,kS as pf,On as qf,_o as rf,gC as sf,VS as tf,Zo as uf,Bs as vf,Qo as wf,vp as xf,jf as yf,Hf as zf,US as Af,lv as Bf,dr as Cf,Dc as Df,KS as Ef,$f as Ff,Pc as Gf,IC as Hf,vC as If,Oo as Jf,SC as Kf,nA as Lf,El as Mf,Ttt as Nf,rA as Of,dg as Pf,_U as Qf,CU as Rf,F1t as Sf,wU as Tf,Qd as Uf,mk as Vf,dd as Wf,Sa as Xf,ud as Yf,Zv as Zf,pd as _f,un as $f,fAt as ag,SAt as bg,zAt as cg,YAt as dg,FU as eg,LU as fg,Ut as gg,gn as hg,xr as ig,fd as jg,Er as kg,VU as lg,$o as mg,Ss as ng,DTt as og,ab as pg,As as qg,db as rg,md as sg,M2t as tg,nO as ug,WU as vg,$U as wg,ORt as xg,GRt as yg,qU as zg,hg as Ag,oO as Bg,QU as Cg,ZU as Dg,b6 as Eg,HPt as Fg,A6 as Gg,T6 as Hg,_d as Ig,O6 as Jg,Cd as Kg,D6 as Lg,Xt as Mg,Wl as Ng,$l as Og,Kl as Pg,Y6 as Qg,bg as Rg,Q6 as Sg,NV as Tg,yg as Ug,V4t as Vg,Iu as Wg,zBt as Xg,r5t as Yg,m5t as Zg,W6t as _g};
