(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{BY74:function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(l){for(var e in l)n.hasOwnProperty(e)||(n[e]=l[e])}(e("pODc"))},CC75:function(l,n,e){"use strict";var t=this&&this.__decorate||function(l,n,e,t){var i,u=arguments.length,o=u<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(i=l[a])&&(o=(u<3?i(o):u>3?i(n,e,o):i(n,e))||o);return u>3&&o&&Object.defineProperty(n,e,o),o},i=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)};Object.defineProperty(n,"__esModule",{value:!0});var u=e("8Y7J"),o=e("SVse"),a=e("7LN8"),s=e("iInd"),r=function(){function l(){}return l.prototype.ngAfterContentInit=function(){var l=this;this.templates.forEach((function(n){switch(n.getType()){case"item":default:l.itemTemplate=n.template}}))},l.prototype.itemClick=function(l,n){n.disabled?l.preventDefault():(n.url||l.preventDefault(),n.command&&n.command({originalEvent:l,item:n}),this.activeItem=n)},t([u.Input(),i("design:type",Array)],l.prototype,"model",void 0),t([u.Input(),i("design:type",Object)],l.prototype,"activeItem",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"popup",void 0),t([u.Input(),i("design:type",Object)],l.prototype,"style",void 0),t([u.Input(),i("design:type",String)],l.prototype,"styleClass",void 0),t([u.ContentChildren(a.PrimeTemplate),i("design:type",u.QueryList)],l.prototype,"templates",void 0),t([u.Component({selector:"p-tabMenu",template:'\n        <div [ngClass]="\'ui-tabmenu ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <ul class="ui-tabmenu-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" role="tablist">\n                <li *ngFor="let item of model; let i = index"\n                    [ngClass]="{\'ui-tabmenuitem ui-state-default ui-corner-top\':true,\'ui-state-disabled\':item.disabled,\n                        \'ui-tabmenuitem-hasicon\':item.icon,\'ui-state-active\':activeItem==item,\'ui-helper-hidden\': item.visible === false}"\n                        [routerLinkActive]="\'ui-state-active\'" [routerLinkActiveOptions]="item.routerLinkActiveOptions||{exact:false}">\n                    <a *ngIf="!item.routerLink" [href]="item.url||\'#\'" class="ui-menuitem-link ui-corner-all" (click)="itemClick($event,item)" [attr.tabindex]="item.tabindex ? item.tabindex : \'0\'"\n                        [attr.target]="item.target" [attr.title]="item.title" [attr.id]="item.id">\n                        <ng-container *ngIf="!itemTemplate">\n                            <span class="ui-menuitem-icon " [ngClass]="item.icon" *ngIf="item.icon"></span>\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </ng-container>\n                        <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: item, index: i}"></ng-container>\n                    </a>\n                    <a *ngIf="item.routerLink" [routerLink]="item.routerLink" [queryParams]="item.queryParams" class="ui-menuitem-link ui-corner-all" (click)="itemClick($event,item)" [attr.tabindex]="item.tabindex ? item.tabindex : \'0\'"\n                        [attr.target]="item.target" [attr.title]="item.title" [attr.id]="item.id">\n                        <ng-container *ngIf="!itemTemplate">\n                            <span class="ui-menuitem-icon " [ngClass]="item.icon" *ngIf="item.icon"></span>\n                            <span class="ui-menuitem-text">{{item.label}}</span>\n                        </ng-container>\n                        <ng-container *ngTemplateOutlet="itemTemplate; context: {$implicit: item, index: i}"></ng-container>\n                    </a>\n                </li>\n            </ul>\n        </div>\n    '})],l)}();n.TabMenu=r;var c=t([u.NgModule({imports:[o.CommonModule,s.RouterModule,a.SharedModule],exports:[r,s.RouterModule,a.SharedModule],declarations:[r]})],(function(){}));n.TabMenuModule=c},P60h:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");let i;class u{constructor(l){this.injector=l,i=this.injector}}var o=e("VjD2"),a=e("E+82"),s=e("6IMk"),r=e("8ju1"),c=e("pMnS"),d=e("20Yz"),p=e("RG/H"),f=e("5E8m"),g=e("gXDW"),h=e("zdSx"),m=e("zxdc"),v=e("pgN3"),C=e("4KpP"),S=e("6CIp"),_=e("dJKR"),R=e("xFMz"),w=e("BxzT"),E=e("V2eE"),I=e("MAvc"),b=e("VXLs"),O=e("BCss"),y=e("8Urj"),T=e("1IYT"),P=e("hwPf"),N=e("NSZN"),D=e("GiJU"),A=e("uuvS"),L=e("ukJA"),M=e("VYx6"),F=e("ECd8"),U=e("Fa87"),k=e("s7LF"),G=e("VSng"),j=e("UJFw"),x=e("XNiG"),V=e("GJmQ"),B=e("Kj3r");class W{constructor(){this.subjectWindowResized=new x.a,this.alive=!0}hostWindowResize(){this.subjectWindowResized.next()}ngOnInit(){}ngAfterViewInit(){this.containerHeight=this.fwcTreeAccordion.nativeElement.offsetHeight,this.calcPanels(),this.treePanels.forEach(l=>{l.onChange().pipe(Object(V.a)(()=>this.alive)).subscribe(()=>{this.calcPanels()})}),this.onWindowResize().pipe(Object(B.a)(300),Object(V.a)(()=>this.alive)).subscribe(()=>{this.containerHeight=this.fwcTreeAccordion.nativeElement.offsetHeight,this.calcPanels()})}ngOnDestroy(){this.alive=!1}calcPanels(){let l,n=0,e=[],t=0;if(this.treePanels&&(this.treePanels.forEach(l=>{n+=l.expanded?0:1,t||(t=l.getMinHeight()),e.push(l)}),n<e.length)){l=(this.containerHeight-n*t)/(e.length-n);for(let n=0;n<e.length;n++){let i=e[n];i.setHeight(i.expanded?l:t)}}}onWindowResize(){return this.subjectWindowResized.asObservable()}}var H=t["\u0275crt"]({encapsulation:0,styles:[[".fwcTreeAccordion[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;padding-left:.5rem;padding-right:.5rem}"]],data:{}});function J(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{fwcTreeAccordion:0}),(l()(),t["\u0275eld"](1,0,[[1,0],["fwcTreeAccordion",1]],null,1,"div",[["class","fwcTreeAccordion"]],null,null,null,null,null)),t["\u0275ncd"](null,0)],null,null)}var $=e("SVse"),Y=e("nxom"),K=e("LwpX"),q=e("IheW"),X=e("U3yX"),z=e("AjHW"),Z=e("D79Y"),Q=t["\u0275crt"]({encapsulation:0,styles:[["[_ngcontent-%COMP%]:root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.fwcTreePanel-header[_ngcontent-%COMP%]{background:var(--fwcBlue);color:var(--fixedWhiteColor);font-size:.9rem;padding:.5rem;border-bottom:1px solid var(--fwcWhite)}.fwcTreePanel-header.panelCollapsed[_ngcontent-%COMP%]{background:var(--fwcDarkBlue2)}.fwcTreePanel-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat,arial,sans-serif;display:inline-block;width:calc(100% - 1.3em);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.fwcTreePanel-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.fwcTreePanel-content[_ngcontent-%COMP%]{transition:all .3s linear}"]],data:{}});function ll(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{divHeader:0}),t["\u0275qud"](671088640,2,{divContent:0}),(l()(),t["\u0275eld"](2,16777216,[[1,0],["panelHeader",1]],null,10,"div",[["class","fwcTreePanel-header"]],null,[[null,"click"],[null,"menuOpening"],[null,"itemClick"],[null,"contextmenu"],[null,"mousedown"]],(function(l,n,e){var i=!0,u=l.component;return"contextmenu"===n&&(i=!1!==t["\u0275nov"](l,6).onContextMenu(e)&&i),"mousedown"===n&&(i=!1!==t["\u0275nov"](l,6).onMouseDown(e)&&i),"click"===n&&(i=!1!==u.togglePanel()&&i),"menuOpening"===n&&(i=!1!==u.onContextMenuLoad(e)&&i),"itemClick"===n&&(i=!1!==u.onContextMenuHandler(e)&&i),i}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](5,{panelCollapsed:0}),t["\u0275did"](6,1196032,null,1,Y.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),t["\u0275qud"](603979776,3,{templates:1}),(l()(),t["\u0275eld"](8,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),(l()(),t["\u0275eld"](10,0,null,null,2,"i",[["class","pi"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](12,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](13,0,[[2,0],["panelContent",1]],null,4,"div",[["class","fwcTreePanel-content"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](15,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](16,{display:0}),t["\u0275ncd"](null,0)],(function(l,n){var e=n.component,t=l(n,5,0,!e.expanded);l(n,4,0,"fwcTreePanel-header",t),l(n,6,0,e.treeContextMenu.FDO,e.contextMenuReference),l(n,12,0,"pi",e.expanded?"pi-chevron-down":"pi-chevron-right");var i=l(n,16,0,e.expanded?"block":"none");l(n,15,0,i)}),(function(l,n){l(n,9,0,n.component.header)}))}var nl=e("TSSN"),el=e("c3Gj"),tl=e("w2nL"),il=e("77Y5"),ul=e("PIn4"),ol=e("P6hr"),al=e("BCAg"),sl=e("XY+R"),rl=e("2Rin"),cl=e("Mebi"),dl=e("SwFf"),pl=e("mLt5"),fl=e("Y/9N"),gl=e("4Vzq"),hl=e("DQLy"),ml=e("6xRK"),vl=e("zLlU"),Cl=e("H9gU"),Sl=e("3OB9"),_l=e("vY6W"),Rl=e("oygf"),wl=e("yEB0"),El=e("sqqX"),Il=e("36a9"),bl=e("8xOQ"),Ol=e("WW0F"),yl=e("Czxz"),Tl=e("g4HV"),Pl=e("3mRq"),Nl=e("mU/a"),Dl=e("Pchq"),Al=t["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"panelState",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"300ms ease-in"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"300ms ease-out"},options:null}],options:{}}]}});function Ll(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"a",[["role","button"],["tabindex","0"]],null,[[null,"click"],[null,"keydown.enter"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.close(e)&&t),"keydown.enter"===n&&(t=!1!==i.close(e)&&t),t}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](3,{"ui-sidebar-close ui-corner-all":0}),(l()(),t["\u0275eld"](4,0,null,null,0,"span",[["class","pi pi-times"]],null,null,null,null,null))],(function(l,n){var e=l(n,3,0,!0);l(n,2,0,e)}),null)}function Ml(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{containerViewChild:0}),(l()(),t["\u0275eld"](1,0,[[1,0],["container",1]],null,8,"div",[],[[24,"@panelState",0]],[[null,"@panelState.start"]],(function(l,n,e){var t=!0;return"@panelState.start"===n&&(t=!1!==l.component.onAnimationStart(e)&&t),t}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{"ui-sidebar ui-widget ui-widget-content ui-shadow":0,"ui-sidebar-active":1,"ui-sidebar-left":2,"ui-sidebar-right":3,"ui-sidebar-top":4,"ui-sidebar-bottom":5,"ui-sidebar-full":6}),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](6,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ll)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["\u0275ncd"](null,0)],(function(l,n){var e=n.component,t=e.styleClass,i=l(n,4,0,!0,e.visible,"left"===e.position,"right"===e.position,"top"===e.position,"bottom"===e.position,e.fullScreen);l(n,3,0,t,i),l(n,6,0,e.style),l(n,8,0,e.showCloseIcon)}),(function(l,n){l(n,1,0,n.component.visible?"visible":"hidden")}))}var Fl=e("AcEf"),Ul=e("T+K8"),kl=e("RXyF"),Gl=e("7LN8"),jl=e("9a1C"),xl=e("T5x2"),Vl=e("Ge8E"),Bl=e("EjV3"),Wl=e("9uU2"),Hl=e("nciF");class Jl{transform(l,n,e){let t=[];if(e){let i=0,u=n+e;u>=l.length&&(u=l.length);for(let e=n;e<u;e++)t[i++]=l[e]}else t=l;return t}}var $l=e("m6j1"),Yl=e("ugLD"),Kl=e("Znf8"),ql=e("7PmC"),Xl=e("mrSG"),zl=e("o0su"),Zl=(e("24Yq"),e("LvDl")),Ql=e("v8Ou"),ln=e("akDY");class nn{constructor(l,n,e,t,i){this.utilService=l,this.firewallId=n,this.clusterId=e,this.fwcloudId=t,this.policyType=i,this.rules=[]}getFirewallId(){return this.firewallId}getFwcloudId(){return this.fwcloudId}getClusterId(){return this.clusterId}getPolicyType(){return this.policyType}getPolicyRules(){return this.rules}getPolicyRule(l){let n=null;if(Array.isArray(this.rules))for(let e=0;e<this.rules.length&&!n;e++){const t=this.rules[e];t.id===l?n=t:t.rule_group&&Array.isArray(t.rules)&&(n=t.rules.find(n=>n.id===l))}return n}getShowAction(){return this.showAction}setShowAction(l){this.showAction=l}setPolicyRules(l){this.rules=l}getPolicyRulesLength(){return this.rules?this.rules.length:0}}class en extends nn{constructor(l,n,e,t,i,u,o,a,s,r){super(l,t,i,u,o),this.utilService=l,this.fwcRoutingTableService=n,this.fwcPolicyGridRoutingTableFunctionalityService=e,this.translationKeys={ENTITY_NAME:"ROUTING.NEW_TABLE_PANEL.ROUTE",ENTITY_DELETE:"ROUTING.ROUTE.DELETE_TEXT",DELETE_SUCCESS:"ROUTING.ROUTE.DELETE_SUCCESS",ENTITY_COLOR:"ROUTING.ROUTE.COLOR_TEXT"},this.routingTableId=s,this.routingTableName=r,this.buildPolicyRules(a)}getRoutingTableId(){return this.routingTableId}getRoutingTableName(){return this.routingTableName}buildPolicyRules(l){let n=[];Array.isArray(l)&&(n=this.fwcPolicyGridRoutingTableFunctionalityService.parseRoutingTableRoutes(this.firewallId,this.fwcloudId,l)),this.rules=n}newPolicyRule(l,n){l&&void 0!==n?this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(this.clusterId,this.firewallId,this.routingTableId,this.routingTableName,l.id,n):this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(this.clusterId,this.firewallId,this.routingTableId,this.routingTableName)}deletePolicyRuleApiCall(l){return this.utilService.fwcAPICall(this.fwcRoutingTableService.deleteRoutingTableRoutes.bind(this.fwcRoutingTableService),this.firewallId,this.fwcloudId,this.routingTableId,l)}convertPolicyRulesToRoutes(){let l=[];if(Array.isArray(this.rules))for(let n of this.rules){const e=this.convertPolicyRuleToRoute(n);l.push(e)}return l}convertPolicyRuleToRoute(l){let n,e,t=[];if(Array.isArray(l.positions)&&l.positions.length){const i=l.positions.find(l=>l.id===zl.x.GATEWAY_POSITION);if(i){const l=i.ipobjs.find(l=>l.type===zl.t.OBJ_ADDRESS);l&&(n=l.id)}const u=l.positions.find(l=>l.id===zl.x.INTERFACE_POSITION);if(u){const l=u.ipobjs.find(l=>l.type===zl.t.OBJ_INTERFACE_FIREWALL||l.type===zl.t.OBJ_INTERFACE_HOST);l&&(e=l.id)}const o=l.positions.find(l=>l.id===zl.x.TO_POSITION);if(o&&Array.isArray(o.ipobjs))for(const l of o.ipobjs)l._fwcObjType!==zl.t.OBJ_ANY&&t.push({id:l.id,name:l.name,type:l.type,firewall_id:l.firewall_id,cluster_id:l.cluster_id,cluster_name:l.cluster_name,position_order:l.position_order})}return{id:l.id,routingTableId:this.routingTableId,routeGroupId:l.idgroup,comment:l.comment,style:l.style,route_order:l.rule_order,active:!!l.active,firewallApplyToId:null,gatewayId:n,interfaceId:e,items:t}}manageObject(l,n,e,t){this.fwcPolicyGridRoutingTableFunctionalityService.updateRoutePosition(this,this.firewallId,this.fwcloudId,this.routingTableId,l,n,e,t)}deleteObject(l,n){this.fwcPolicyGridRoutingTableFunctionalityService.deleteObjectFromPosition(this.firewallId,this.clusterId,this.fwcloudId,this.routingTableId,l.rule,l,n)}compileSelectedRoutes(){this.fwcPolicyGridRoutingTableFunctionalityService.compileRoutes(this.routingTableId)}moveSelectedRules(l,n){this.fwcPolicyGridRoutingTableFunctionalityService.moveSelectedRoutes(this.clusterId,this.firewallId,this.fwcloudId,this.routingTableId,n.pasteOnRuleId,n.rulesIds,n.pasteOffset)}manageSelectedRules(l,n){return this.utilService.fwcAPICall(this.fwcRoutingTableService.manageTableRoutes.bind(this.fwcRoutingTableService),this.firewallId,this.fwcloudId,this.routingTableId,l.pasteOnRuleId,l.pasteOffset,l.rulesIds,n)}setRuleActive(l,n){this.fwcPolicyGridRoutingTableFunctionalityService.updateSelectedRoutes(this.clusterId,this.firewallId,this.fwcloudId,this.routingTableId,{active:!!n})}setRuleComment(l){this.fwcPolicyGridRoutingTableFunctionalityService.updateRouteComment(this.routingTableId,l)}setRuleApplyTo(l){this.fwcPolicyGridRoutingTableFunctionalityService.updateRuleApplyTo(this.routingTableId,l)}setRuleScript(l){}setRuleStyleApiCall(){return this.fwcPolicyGridRoutingTableFunctionalityService.setRouteStyle.bind(this.fwcPolicyGridRoutingTableFunctionalityService)}newRuleGroupApiCall(){return this.fwcPolicyGridRoutingTableFunctionalityService.newRouteGroup.bind(this.fwcPolicyGridRoutingTableFunctionalityService)}setRuleGroupStyleApiCall(){return this.fwcPolicyGridRoutingTableFunctionalityService.setGroupValues.bind(this.fwcPolicyGridRoutingTableFunctionalityService)}setRuleGroupNameApiCall(){return this.fwcPolicyGridRoutingTableFunctionalityService.setGroupValues.bind(this.fwcPolicyGridRoutingTableFunctionalityService)}removeRulesFromGroupApiCall(l){const n=l.rulesIds;return this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoutes.bind(this.fwcRoutingTableService),this.firewallId,this.fwcloudId,this.routingTableId,n,{routeGroupId:null})}deleteRuleGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcRoutingTableService.deleteRoutingTableRouteGroup.bind(this.fwcRoutingTableService),this.firewallId,this.fwcloudId,l)}}var tn=e("m6dl");class un extends nn{constructor(l,n,e,t,i,u,o,a,s,r,c){super(l,t,i,u,o),this.utilService=l,this.fwcDhcpPolicyService=n,this.fwcPolicyGridDhcpRulesFunctionalityService=e,this.messageService=r,this.translate=c,this.translationKeys={ENTITY_NAME:"RULE.RULE",ENTITY_DELETE:"RULE.DELETE_TEXT",DELETE_SUCCESS:"RULE.DELETE_SUCCESS",ENTITY_COLOR:"RULE.COLOR_TEXT"},this.dhcpGroupId=s,this.buildPolicyRules(a)}compileSelectedRoutes(l){throw new Error("Method not implemented.")}getDhcpGroupId(){return this.dhcpGroupId}buildPolicyRules(l){let n=[];Array.isArray(l)&&(n=this.fwcPolicyGridDhcpRulesFunctionalityService.parseDhcpPolicyRules(this.firewallId,this.fwcloudId,l)),this.rules=n}newPolicyRule(l,n){l&&void 0!==n?this.fwcPolicyGridDhcpRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId,l.id,n):this.fwcPolicyGridDhcpRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId)}deletePolicyRuleApiCall(l){return this.utilService.fwcAPICall(this.fwcDhcpPolicyService.deleteDhcpPolicyRules.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcloudId,l)}manageObject(l,n,e,t){this.fwcPolicyGridDhcpRulesFunctionalityService.updateRulePosition(this,this.firewallId,this.fwcloudId,l,n,e,t).catch(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_MANAGING_OBJECT")})})}deleteObject(l,n){this.fwcPolicyGridDhcpRulesFunctionalityService.deleteObjectFromPosition(this.firewallId,this.clusterId,this.fwcloudId,l.rule,l,n)}compileSelectedRules(){this.fwcPolicyGridDhcpRulesFunctionalityService.compileSelectedRules()}moveSelectedRules(l,n){this.fwcPolicyGridDhcpRulesFunctionalityService.moveSelectedRules(n.firewall,n.fwcloud,n.pasteOnRuleId,n.rulesIds,n.pasteOffset)}manageSelectedRules(l,n){return this.utilService.fwcAPICall(this.fwcDhcpPolicyService.manageDhcpPolicyRules.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcloudId,l.pasteOnRuleId,l.pasteOffset,l.rulesIds,n)}setRuleActive(l,n){this.fwcPolicyGridDhcpRulesFunctionalityService.updateSelectedRules(this.clusterId,this.firewallId,this.fwcloudId,{active:!!n})}setRuleComment(l){this.fwcPolicyGridDhcpRulesFunctionalityService.updateRuleComment(l)}setRuleLeaseTime(l){this.fwcPolicyGridDhcpRulesFunctionalityService.updateRuleLeaseTime(l)}setRuleScript(l){this.fwcPolicyGridDhcpRulesFunctionalityService.updateRuleCfgText(l)}setRuleStyleApiCall(){return this.fwcPolicyGridDhcpRulesFunctionalityService.setRuleStyle.bind(this.fwcPolicyGridDhcpRulesFunctionalityService)}newRuleGroupApiCall(){return this.fwcPolicyGridDhcpRulesFunctionalityService.newDhcpRuleGroup.bind(this.fwcPolicyGridDhcpRulesFunctionalityService)}setRuleGroupStyleApiCall(){return this.fwcPolicyGridDhcpRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridDhcpRulesFunctionalityService)}setRuleGroupNameApiCall(){return this.fwcPolicyGridDhcpRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridDhcpRulesFunctionalityService)}removeRulesFromGroupApiCall(l){const n=l.rulesIds;return this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRules.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcloudId,n,{group:null})}deleteRuleGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcDhcpPolicyService.deleteDhcpPolicyRulesGroup.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcloudId,l)}}class on extends nn{constructor(l,n,e,t,i,u,o,a,s){super(l,t,i,u,o),this.utilService=l,this.fwcKeepalivedPolicyService=n,this.fwcPolicyGridKeepalivedRulesFunctionalityService=e,this.translationKeys={ENTITY_NAME:"RULE.RULE",ENTITY_DELETE:"RULE.DELETE_TEXT",DELETE_SUCCESS:"RULE.DELETE_SUCCESS",ENTITY_COLOR:"RULE.COLOR_TEXT"},this.keepalivedGroupId=s,this.buildPolicyRules(a)}compileSelectedRoutes(l){throw new Error("Method not implemented.")}getKeepalivedGroupId(){return this.keepalivedGroupId}buildPolicyRules(l){let n=[];Array.isArray(l)&&(n=this.fwcPolicyGridKeepalivedRulesFunctionalityService.parseKeepalivedPolicyRules(this.firewallId,this.fwcloudId,l)),this.rules=n}newPolicyRule(l,n){l&&void 0!==n?this.fwcPolicyGridKeepalivedRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId,l.id,n):this.fwcPolicyGridKeepalivedRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId)}deletePolicyRuleApiCall(l){return this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.deleteKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcloudId,l)}manageObject(l,n,e,t){this.fwcPolicyGridKeepalivedRulesFunctionalityService.updateRulePosition(this,this.firewallId,this.fwcloudId,l,n,e,t)}deleteObject(l,n){this.fwcPolicyGridKeepalivedRulesFunctionalityService.deleteObjectFromPosition(this.firewallId,this.clusterId,this.fwcloudId,l.rule,l,n)}compileSelectedRules(){this.fwcPolicyGridKeepalivedRulesFunctionalityService.compileSelectedRules()}moveSelectedRules(l,n){this.fwcPolicyGridKeepalivedRulesFunctionalityService.moveSelectedRules(n.firewall,n.fwcloud,n.pasteOnRuleId,n.rulesIds,n.pasteOffset)}manageSelectedRules(l,n){return this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.manageKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcloudId,l.pasteOnRuleId,l.pasteOffset,l.rulesIds,n)}setRuleActive(l,n){this.fwcPolicyGridKeepalivedRulesFunctionalityService.updateSelectedRules(this.clusterId,this.firewallId,this.fwcloudId,{active:!!n})}setRuleScript(l){this.fwcPolicyGridKeepalivedRulesFunctionalityService.updateRuleCfgText(l)}setRuleComment(l){this.fwcPolicyGridKeepalivedRulesFunctionalityService.updateRuleComment(l)}setRuleStyleApiCall(){return this.fwcPolicyGridKeepalivedRulesFunctionalityService.setRuleStyle.bind(this.fwcPolicyGridKeepalivedRulesFunctionalityService)}newRuleGroupApiCall(){return this.fwcPolicyGridKeepalivedRulesFunctionalityService.newKeepalivedRuleGroup.bind(this.fwcPolicyGridKeepalivedRulesFunctionalityService)}setRuleGroupStyleApiCall(){return this.fwcPolicyGridKeepalivedRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridKeepalivedRulesFunctionalityService)}setRuleGroupNameApiCall(){return this.fwcPolicyGridKeepalivedRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridKeepalivedRulesFunctionalityService)}removeRulesFromGroupApiCall(l){const n=l.rulesIds;return this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRule.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcloudId,n,{group:null})}deleteRuleGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.deleteKeepalivedPolicyRulesGroup.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcloudId,l)}}class an{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h){this.fwcContextMenuService=l,this.fwcErrorPipe=n,this.fwcPolicyService=e,this.fwcFirewallService=t,this.fwcUserService=i,this.itemSelectedService=u,this.ruleSelectedService=o,this.inputDataService=a,this.utilService=s,this.fwcPolicyGridRoutingTableFunctionalityService=r,this.renderer=c,this.cd=d,this.messageService=p,this.confirmationService=f,this.translate=g,this.store=h,this.infoTooltipShown=!1,this.ruleContextMenu=l.getRuleMenus()}setRuleTooltip(l){let n="RULE.RULE_ID";l.type===zl.z.ROUTING_TABLE&&(n="ROUTING.ROUTE.ROUTE_ID");let e="<h6>"+this.translate.instant(n)+" <strong>"+l.id+"</strong></h6><ul>";return l.special&&l.special!=zl.y.HOOKSCRIPT&&(e+='<li><i class="fa fa-fw fa-exclamation-circle fwcOrange"></i> '+this.translate.instant("RULE.RULE_IS_SPECIAL")+"</li>"),l.options&&(e+='<li><i class="fa fa-fw fa-cog fwcBlue"></i> '+this.translate.instant("RULE.RULE_HAS_OPTIONS")+"</li>"),(l.run_before||l.run_after)&&(e+='<li><i class="fa fa-fw fa-file-code fwcOrange"></i> '+this.translate.instant("RULE.RULE_HAS_HOOKS")+"</li>"),l.active||(e+='<li><i class="fa fa-fw fa-times fwcRed"></i> '+this.translate.instant("RULE.RULE_IS_DISABLED")+"</li>"),e+="</ul>",e}selectRule(l,n){if(n&&n.shiftKey){let n,e,t;this.ruleSelectedService.addSelectedRule(l),t=this.ruleSelectedService.getActualSelectedRules();for(let l=0;l<t.length;l++)(t[l].rule_order<n||null==n)&&(n=t[l].rule_order),(t[l].rule_order>n||null==e)&&(e=t[l].rule_order);n&&e&&n!=e&&this.ruleSelectedService.setSelectedRuleRange(n,e)}else n&&n.ctrlKey?(this.ruleSelectedService.isRuleSelected(l.id)?this.ruleSelectedService.removeSelectedRule(l):this.ruleSelectedService.addSelectedRule(l),n.preventDefault()):(this.ruleSelectedService.clearSelectedRules(),this.ruleSelectedService.addSelectedRule(l))}editRule(l){l.type!==zl.z.POLICY_ROUTING&&l.type!==zl.z.ROUTING_TABLE&&l.special!==zl.y.HOOKSCRIPT&&l.special!==zl.y.FAIL2BAN&&this.ruleSelectedService.setRule(l)}getRulePolicyType(l){let n;return Array.isArray(l.positions)&&l.positions.length&&(n=l.positions[0].policy_type),n}onContextMenuLoad(l,n){let e,t,i,u,o,a,s,r,c,d,p,f,g=!1,h=!1,m=!1;switch(l.type){case zl.z.ROUTING_TABLE:f=this.ruleContextMenu.ROUTE;break;case zl.z.POLICY_ROUTING:f=this.ruleContextMenu.ROUTING_RULE;break;case zl.v[zl.r.DHCP]:case zl.v[zl.r.DHCP_FIXED_IP]:f=this.ruleContextMenu.DHCP_RULE;break;case zl.v[zl.r.KEEPALIVED]:f=this.ruleContextMenu.KEEPALIVED_RULE;break;default:f=this.ruleContextMenu.RULE}this.ruleSelectedService.isRuleSelected(l.id)||(this.ruleSelectedService.clearSelectedRules(),this.ruleSelectedService.addSelectedRule(l)),e=this.ruleSelectedService.getActualSelectedRules(),c=e.some(l=>!!l.special),c&&(h=!e.some(l=>l.special&&l.special!=zl.y.HOOKSCRIPT)),d=e.some(l=>l.special==zl.y.CATCHALL),m=e.some(l=>l.special==zl.y.FAIL2BAN),t=this.ruleSelectedService.getSelectedRulesLength(),i=this.ruleSelectedService.getActualClipboardRulesLength(),a=this.ruleSelectedService.getSelectedRulesGroups(),u=a.length,o=-1!=a.indexOf(-1),s=this.checkSequentialSelectedRules(),r=this.ruleSelectedService.getActualClipboardRules(),r&&r.action==zl.b.CUT&&r.rules&&r.rules.length&&(g=r.rules.some(n=>n.id==l.id)),this.fwcContextMenuService.swapMenuOptions(f,"text",t>1?"textMulti":"textSingle"),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_COMPILE,"visible",1==u),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_COLOR_CHANGE,"visible",!c||h),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_EDIT,"visible",1==t&&!h&&!m),p=1==u&&o&&t>=1,p=p&&s,this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_CREATE_GROUP,"visible",p),p=1==u&&!o,this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_REMOVE_GROUP,"visible",p);let v=this.getSelectedRuleIndex();p=1==u&&!o,p=p&&s,p=p&&(v.groupAbove!=v.firstGroup||v.groupBelow!=v.lastGroup),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_REMOVE_FROM_GROUP,"visible",p),1==t?(this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_ENABLE,"visible",!l.active&&(!c||h)),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_DISABLE,"visible",l.active&&(!c||h))):(this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_ENABLE,"visible",!0),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_DISABLE,"visible",!c||h)),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_DELETE,"visible",1==u&&t>1||1==t&&(!c||h)),p=-1!=v.ruleAbove&&!d,this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_MOVE_ABOVE,"visible",1==u&&p),this.fwcContextMenuService.swapMenuOptionText(f,zl.e.RULE_MOVE_ABOVE,"text",p&&s&&1==u&&v.firstGroup!=v.groupAbove&&-1!=v.groupAbove&&null!=v.groupAbove?"textGroup":"textNormal"),p=-1!=v.ruleBelow&&!v.ruleBelowCatchAll,this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_MOVE_BELOW,"visible",1==u&&p),this.fwcContextMenuService.swapMenuOptionText(f,zl.e.RULE_MOVE_BELOW,"text",p&&s&&1==u&&v.lastGroup!=v.groupBelow&&-1!=v.groupBelow&&null!=v.groupBelow?"textGroup":"textNormal"),this.fwcContextMenuService.setMenuOption(f,zl.e.COPY,"visible",1==u&&(!c||h)),this.fwcContextMenuService.setMenuOption(f,zl.e.CUT,"visible",1==u&&(!c||h)),this.fwcContextMenuService.setMenuOption(f,zl.e.PASTE_ABOVE,"visible",i>=1&&!g),this.fwcContextMenuService.setMenuOption(f,zl.e.PASTE_BELOW,"visible",i>=1&&!g&&!d),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_NEW_BELOW,"visible",!d),this.fwcContextMenuService.setMenuOption(f,zl.e.RULE_NEW_HS_BELOW,"visible",!d)}onContextMenuHandler(l,n,e){if(e.item){let t=this.ruleSelectedService.getActualSelectedRules(),i=this.ruleSelectedService.getActualClipboardRules();switch(e.item.id){case zl.e.RULE_COMPILE:case zl.e.COMPILE_IPTABLES:case zl.e.COMPILE_NFTABLES:{let n;e.item.id===zl.e.COMPILE_IPTABLES?n=zl.h[0].id:e.item.id===zl.e.COMPILE_NFTABLES&&(n=zl.h[1].id),l instanceof un||l instanceof on?l.compileSelectedRules():l.compileSelectedRoutes(n);break}case zl.e.SYSTEM_COMPILE:l instanceof un&&l.compileSelectedRules();case zl.e.RULE_SELECT:case zl.e.RULE_UNSELECT:this.selectRule(n);break;case zl.e.RULE_EDIT:this.editRule(n);break;case zl.e.RULE_ENABLE:case zl.e.RULE_DISABLE:l.setRuleActive(n,e.item.id==zl.e.RULE_ENABLE?1:0);break;case zl.e.RULE_NEW_HS_ABOVE:case zl.e.RULE_NEW_HS_BELOW:case zl.e.RULE_NEW_ABOVE:case zl.e.RULE_NEW_BELOW:{const t=n.type===zl.z.POLICY_ROUTING||n.type===zl.z.ROUTING_TABLE||n.type===zl.v[zl.r.DHCP]||n.type===zl.v[zl.r.DHCP_FIXED_IP]||n.type===zl.v[zl.r.KEEPALIVED]?-1:0;let i=e.item.id==zl.e.RULE_NEW_ABOVE||e.item.id==zl.e.RULE_NEW_HS_ABOVE?t:1;n.special=[zl.v[zl.r.DHCP],zl.v[zl.r.KEEPALIVED]].includes(n.type)&&n.special?[zl.e.RULE_NEW_ABOVE,zl.e.RULE_NEW_BELOW].includes(e.item.id)?zl.y.HOOKSCRIPT:0:e.item.id==zl.e.RULE_NEW_HS_ABOVE||e.item.id==zl.e.RULE_NEW_HS_BELOW?zl.y.HOOKSCRIPT:0,l.newPolicyRule(n,i);break}case zl.e.RULE_DELETE:this.deleteSelectedRules(l,n,t,e.item.id);break;case zl.e.COPY:this.ruleSelectedService.copyRulesToClipboard();break;case zl.e.CUT:this.ruleSelectedService.cutRulesToClipboard();break;case zl.e.PASTE_ABOVE:case zl.e.PASTE_BELOW:this.pasteSelectedRules(l,n,i,e.item.id);break;case zl.e.RULE_MOVE_ABOVE:case zl.e.RULE_MOVE_BELOW:{let i;i=this.newRulesData(n,t,e.item.id,zl.b.CUT),l.moveSelectedRules(n,i);break}case zl.e.RULE_CREATE_GROUP:{const e=l.newRuleGroupApiCall();let t={header:this.translate.instant("RULE.GROUP_TEXT_HEADER"),helpText:this.translate.instant("RULE.GROUP_TEXT"),formControls:[{name:"groupName",label:this.translate.instant("POLICY_GRID.GR_NAME.NAME"),type:"text",required:!0}],onAccept:l=>e(n.firewall,this.fwcUserService.getActualFwSelectedCloud(),l)};l instanceof en&&(t.formControls.push({name:"separator",type:"separator"}),t.formControls.push({name:"groupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text"})),l instanceof un&&(t.formControls.push({name:"separator",type:"separator"}),t.formControls.push({name:"groupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text"})),l instanceof on&&(t.formControls.push({name:"separator",type:"separator"}),t.formControls.push({name:"groupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text"})),this.inputDataService.setInputData(t);break}case zl.e.RULE_REMOVE_GROUP:n.idgroup&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("POLICY_GRID.GR_DELETE",{name:n.group_name}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{l.deleteRuleGroupApiCall(n.idgroup).then(l=>{this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]}));let e=[];e.push(n),this.policyReload(e)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}});break;case zl.e.RULE_REMOVE_FROM_GROUP:{let i;i=this.newRulesData(n,t,e.item.id,zl.b.DELETE),l.removeRulesFromGroupApiCall(i).then(l=>{this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]}));let e=[];e.push(n),this.policyReload(e)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})});break}case zl.e.RULE_COLOR_CHANGE:{let e=this.translate.instant(l.translationKeys.ENTITY_COLOR),t=l.setRuleStyleApiCall(),i={header:this.translate.instant("RULE.COLOR_HEADER"),helpText:e,formControls:[{name:"ruleColor",placeholder:this.translate.instant("RULE.COLOR_PLACEHOLDER"),type:"colorpicker",value:n.style}],onAccept:l=>t(n,l)};l instanceof en&&i.formControls.push({name:"routingTableId",type:"hidden",value:l.getRoutingTableId()}),l instanceof un&&i.formControls.push({name:"dhcpGroupId",type:"hidden",value:l.getDhcpGroupId()}),l instanceof on&&i.formControls.push({name:"keepalivedGroupId",type:"hidden",value:l.getKeepalivedGroupId()}),this.inputDataService.setInputData(i);break}}}}checkSequentialSelectedRules(){let l,n,e=!1;if(l=this.fwcPolicyService.getActualPolicySequential(),n=this.ruleSelectedService.getActualSelectedRules(),n.length){n.sort((function(l,n){return l.rule_order>n.rule_order?1:l.rule_order<n.rule_order?-1:0}));for(let t=0;t<l.length;t++)if(l[t].id==n[0].id){e=!0;for(let i=1;i<n.length&&t+i<l.length;i++)if(l[t+i].id!=n[i].id){e=!1;break}break}}return e}getSelectedRuleIndex(){let l,n,e,t,i,u,o,a;if(n=this.fwcPolicyService.getActualPolicySequential(),e=this.ruleSelectedService.getActualSelectedRules(),e.length){e.sort((function(l,n){return l.rule_order>n.rule_order?1:l.rule_order<n.rule_order?-1:0}));let s=e[0],r=e[e.length-1];t=i=u=o=-1;for(let l=0;l<n.length;l++){let e=n[l];if(e.id==s.id)break;t=e.id,u=e.idgroup}for(let l=n.length-1;l>=0;l--){let e=n[l];if(e.id==r.id)break;a=e.special==zl.y.CATCHALL,i=e.id,o=e.idgroup}l={firstRule:s.id,firstGroup:s.idgroup,lastRule:r.id,lastGroup:r.idgroup,ruleBelow:i,ruleBelowCatchAll:a,groupBelow:o,ruleAbove:t,groupAbove:u}}return l}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}createNewRule(l,n){this.utilService.fwcAPICall(this.fwcPolicyService.newPolicyRule.bind(this.fwcPolicyService),l).then(l=>{n&&this.updateFirewallStatus(n),this.policyReload(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("RULE.CREATED")})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}moveSelectedRules(l,n){const e=this.ruleSelectedService.getActualSelectedRules();this.store.dispatch(Ql.d.requestBlockUI()),this.utilService.fwcAPICall(this.fwcPolicyService.managePolicyRules.bind(this.fwcPolicyService),n,zl.b.CUT).then(()=>{this.updateFirewallStatus(l),this.policyReload(e)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.store.dispatch(Ql.d.requestUnblockUI())})}deleteSelectedRules(l,n,e,t){let i;i=this.newRulesData(n,e,t,zl.b.DELETE,!0);const u=i&&i.rulesIds.length;if(u){let e=u+" "+this.translate.instant(l.translationKeys.ENTITY_NAME)+(u>1?"s ":""),t=this.translate.instant(l.translationKeys.ENTITY_DELETE,{text:e}),o=this.translate.instant(l.translationKeys.DELETE_SUCCESS);this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:t,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{l.deletePolicyRuleApiCall(i.rulesIds).then(l=>{this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL,zl.g.CLUSTER_PANEL,zl.g.FIREWALL_PANEL,zl.g.OVCONFIG_PANEL]})),this.updateFirewallStatus(n),this.policyReload(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:o})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.detectChanges()})}})}}pasteSelectedRules(l,n,e,t){let i=!1;if(e&&e.action==zl.b.CUT&&e.rules&&e.rules.length&&(i=e.rules.some(l=>{if(l.id==n.id)return!0})),e&&e.rules&&e.rules.length&&!i){let i;i=this.newRulesData(n,e.rules,t,e.action),this.store.dispatch(Ql.d.requestBlockUI()),l.manageSelectedRules(i,e.action).then(l=>{this.store.dispatch(Ql.d.requestUnblockUI()),this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]})),this.updateFirewallStatus(n),this.policyReload(e.rules),this.ruleSelectedService.clearClipboardRules()}).catch(l=>{this.store.dispatch(Ql.d.requestUnblockUI()),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}}newRulesData(l,n,e,t,i){let u={};u.action=t,u.fwcloud=this.fwcUserService.getActualFwcUser().selectedFwCloud,u.firewall=l.firewall,u.pasteOffset=e==zl.e.PASTE_ABOVE||e==zl.e.RULE_MOVE_ABOVE?-1:1,u.pasteOnRuleOrder=l.rule_order+u.pasteOffset;let o=this.ruleSelectedService.getRulesOrderedIds(n,i),a=o.rulesIds,s=o.orderedRules;if(u.idgroup=l.idgroup,e==zl.e.PASTE_ABOVE||e==zl.e.PASTE_BELOW)u.pasteOnRuleId=l.id;else{let l,n,t,i,o;if(l=e==zl.e.RULE_MOVE_ABOVE?0:s.length-1,n=s[l].id,i=this.fwcPolicyService.getActualPolicySequential(),Array.isArray(i)||(i=[]),o=i.findIndex(l=>l.id==n),-1!=o){let l=o+u.pasteOffset;(l<0||l>=i.length)&&(l=o),t=i[l].id,i[l].idgroup!==i[o].idgroup&&(u.pasteOffset=0)}else t=n;u.pasteOnRuleId=t}if(u.rulesIds=a,u.rulesIds){let l=this.fwcPolicyService.getActualPolicy();l&&(u.rulesOrder=[],u.rulesIds.forEach(n=>{let e=l.findIndex(l=>l.id==n);u.rulesOrder.push(e+1)}))}return u}getFirewallCompiler(l){return new Promise((n,e)=>{this.utilService.fwcAPICall(this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),l,this.fwcUserService.getActualFwSelectedCloud()).then(l=>{n((61440&l.data.options)>>12)}).catch(l=>{e(l)})})}compileSelectedRules(l){return Object(Xl.b)(this,void 0,void 0,(function*(){let n,e,t,i,u,o,a=this.ruleSelectedService.getActualSelectedRules(),s=this.ruleSelectedService.getRulesOrderedIds(a);if(Array.isArray(s.orderedRules)&&s.orderedRules[0]){if(o=s.orderedRules[0],n=this.fwcUserService.getActualFwcUser().customer_id,e=this.fwcUserService.getActualFwcUser().selectedFwCloud,t=o.firewall,i=o.type,u=s.rulesIds,void 0===l)try{l=yield this.getFirewallCompiler(t)}catch(r){return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),void this.ruleSelectedService.setRuleStatus(null)}const c=zl.h.find(n=>n.id===l);let d;if(c&&(d=c.name),!(n&&e&&t&&i&&Array.isArray(u)&&u.length&&d))return;this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(this.fwcPolicyService.getPolicyRulesCompilation.bind(this.fwcPolicyService),t,i,u,this.fwcUserService.getActualFwSelectedCloud(),d).then(l=>{if(Array.isArray(l.data)){const n=this.utilService.createDynamicComponentRef(ln.a),e=n.instance;e.setDynamicComponentRef(n),e.showCompilationData(l.data,a,this.translate.instant("RULE.RULE"),void 0,d)}}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}))}setRulesProperty(l,n,e){let t,i,u=!1;if(i={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l.firewall,type:l.type},"active"==n)t=this.fwcPolicyService.updatePolicyRulesActive.bind(this.fwcPolicyService),u=!0,i.active=e;else{if("style"!=n)return;t=this.fwcPolicyService.updatePolicyRulesStyle.bind(this.fwcPolicyService),i.style=e}let o=this.ruleSelectedService.getActualSelectedRules();if(!o)return;let a=this.ruleSelectedService.getRulesOrderedIds(o,!0);a&&(i.rulesIds=a.rulesIds,this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(t,i).then(t=>{u&&this.updateFirewallStatus(l);for(let l=0;l<o.length;l++){let t=o[l];t.special&&t.special!==zl.y.HOOKSCRIPT||(t[n]=e,t=Object(Zl.cloneDeep)(t))}this.ruleSelectedService.setRuleStatus(null),this.cd.detectChanges()}).catch(l=>{this.ruleSelectedService.setRuleStatus(null),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.cd.detectChanges()}))}newRuleGroup(l,n,e){let t=this.ruleSelectedService.getActualSelectedRules(),i=e?e.groupName:null;if(null!=i&&""!=i){let e={fwcloud:n,firewall:l,name:i,comment:"",rulesIds:[]},u=[],o=t.slice(0);o.sort((function(l,n){return l.rule_order>n.rule_order?1:l.rule_order<n.rule_order?-1:0}));for(let l=0;l<o.length;l++)u.push(o[l].id);e.rulesIds=u,this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.newPolicyRulesGroup.bind(this.fwcPolicyService),e).then(l=>{this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]})),this.policyReload(o)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}onSetRuleCustomColor(l,n){n&&this.setRulesProperty(l,"style",n.ruleColor)}updateFirewallStatus(l){this.store.dispatch(Ql.c.updateFwStatus({item:{cluster:l._fwcClusterId,id:l.firewall,status:3}}))}policyReload(l){const n=this.fwcPolicyService.getActualSelectedPolicy();let e=Object.assign({},n);e._forcePolicyReload=!0,l&&(e._selectedRules=l.slice()),this.fwcPolicyService.setSelectedPolicy(e),this.detectChanges()}updateRule(l){let n,e=!1,t=!1,i=!1,u=!1,o=!1;return new Promise((a,s)=>{l.formModel||s(!1);const r=l.formModel.action,c=l.action,d=l.formModel.comment,p=l.comment,f=l.formModel.fw_apply_to,g=l.fw_apply_to,h=l.formModel.mark,m=l.mark,v=l.formModel.run_before,C=l.run_before;n={rule:l.id,idgroup:l.idgroup,firewall:l.firewall,rule_order:l.rule_order,options:l.options,action:l.action,fw_apply_to:l.fw_apply_to,time_start:l.time_start,time_end:l.time_end,comment:l.comment,active:l.active,style:l.style,type:l.type,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:l.mark,run_before:l.run_before},r!=c&&(n.action=r,e=!0),d!=p&&(n.comment=d,i=!0),f!=g&&(n.fw_apply_to=f,t=!0),h!=m&&(n.mark=h,u=!0),v!=C&&(n.run_before=v,o=!0),e||i||t||u||o?(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.updatePolicyRule.bind(this.fwcPolicyService),n).then(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("RULE.UPDATED")}),e&&(l.action=r),t&&(l.fw_apply_to=f),u&&(l.mark=h),o&&(l.run_before=v),i&&(l.comment=d),(e||i||t||u||o)&&this.updateFirewallStatus(l),a(n),this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),e&&(l.formModel.action=l.action),t&&(l.formModel.fw_apply_to=l.fw_apply_to),i&&(l.formModel.comment=p),o&&(l.formModel.run_before=C),a(!1),this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):a(!0)})}onActionDragEnter(l,n,e){let t=this.itemSelectedService.getDragItem();t&&t._fwcObjType==zl.t.OBJ_MARK&&(this.renderer.addClass(e,"tdActionCell-hovered"),l.labelDraggedOverAction=!0)}onActionDragLeave(l,n,e){n.target==e&&(this.renderer.removeClass(e,"tdActionCell-hovered"),l.labelDraggedOverAction=!1)}onActionDragOver(l){l.preventDefault()}onActionDragDrop(l,n,e){let t=this.itemSelectedService.getDragItem();this.itemSelectedService.clearDragItem(),n.preventDefault();let i=()=>{this.renderer.removeClass(e,"tdActionCell-hovered"),l.labelDraggedOverAction=!1,this.ruleSelectedService.setRuleStatus(null),this.detectChanges()};new Promise((n,e)=>{let i=t&&t._fwcObjType==zl.t.OBJ_MARK&&t.id_obj?t.id_obj:void 0;!i||i===l.mark&&l.mark?e(!1):(this.ruleSelectedService.setRuleStatus(""),l.formModel.mark=i,this.updateRule(l).then(e=>{l.mark_name=t.text,l.mark=i,n(e)}).catch(l=>e(l)))}).then(l=>{i()}).catch(l=>{i()})}onDeleteRuleMark(l){l.mark&&(this.ruleSelectedService.setRuleStatus(""),l.formModel.mark=0,this.updateRule(l).then(l=>{this.ruleSelectedService.setRuleStatus(null),this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]})),this.detectChanges()}).catch(l=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}showMarkInfo(l,n){if(n&&n.preventDefault(),this.itemSelectedService.setObjectInfo(void 0,n),!this.infoTooltipTimer&&!this.infoTooltipShown){let e={objId:l.mark,objType:zl.t.OBJ_MARK,fwId:l.firewall};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(e,n)},1e3)}}clearMarkInfo(l){l&&l.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,l),this.infoTooltipShown=!1)}onCommentFocus(l){l.commentEdit=!0}onCommentBlur(l,n){n.commentEdit=!1,l.setRuleComment(n)}onLeaseTimeFocus(l){l.leaseTimeEdit=!0}onLeaseTimeBlur(l,n){n.leaseTimeEdit=!1,l.setRuleLeaseTime(n)}onScriptFocus(l,n){const e=this.utilService.createDynamicComponentRef(tn.a),t=e.instance;t.setDynamicComponentRef(e),t.show(l,n)}onSetGroupCustomColor(l){if(l){let n=l.groupData,e=l.group;n.style=l.groupColor,n.groupIds=[n.id],this.updateGroup(e,n,!0)}}onSetGroupName(l){if(l){let n=l.group,e=l.groupData,t=""+l.groupName;n&&e&&t.length&&(e.name=t,this.updateGroup(n,e,!1))}}updateGroup(l,n,e){this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.updatePolicyRulesGroupStyleOrName.bind(this.fwcPolicyService),n,e).then(()=>{if(e){l.group_style=n.style;let e=l.rules;for(let n=0;n<e.length;n++)e[n].group_style=l.group_style}else{l.group_name=n.name;let e=l.rules;for(let n=0;n<e.length;n++)e[n].group_name=l.group_name}l=Object(Zl.cloneDeep)(l)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}const sn=new Map([["OpenVPN",1],["GeoIP",2],["CrowdSec",4],["NtopNG",8],["Suricata",16],["Keepalived",32],["Zeek",64],["Elasticsearch",128],["Filebeat",256],["WebSafety",512],["Kibana",1024],["Logstash",2048],["DnsSafety",4096],["iscbind9",8192],["iscdhcp",16384]]);class rn{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g){this.fwcContextMenuService=l,this.fwcErrorPipe=n,this.changeDetectorRef=e,this.fwcUserService=t,this.fwcPolicyService=i,this.itemSelectedService=u,this.confirmationService=o,this.utilService=a,this.ruleSelectedService=s,this.fwcPolicyGridRoutingTableFunctionalityService=r,this.store=c,this.renderer=d,this.messageService=p,this.fwcFirewallService=f,this.translate=g,this.subjectDragEnter=new x.a,this.alive=!0,this.positionContextMenu=this.fwcContextMenuService.getPositionMenus(),this.subjectDragEnter.asObservable().pipe(Object(B.a)(20),Object(V.a)(()=>this.alive)).subscribe(l=>{this.doListDragEnter(l)})}ngOnDestroy(){this.alive=!1}onContextMenuHandler(l,n,e,t,i,u,o){let a=i.selectedItem;if(a&&(a.rightclicked=!1),o.item){switch(o.item.id){case zl.e.POSITION_NEGATE:case zl.e.POSITION_ALLOW:if(i.ipobjs.length>1){let l=o.item.id==zl.e.POSITION_NEGATE,u={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:n,rule:t,position:i.id};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.negatePolicyObject.bind(this.fwcPolicyService),u,l).then(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("POSITION.POS_UPDATED")}),this.updateFirewallStatus(n,e),i.negate=l}).catch(l=>{this.ruleSelectedService.setRuleStatus(null),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}break;case zl.e.PASTE:let a=this.itemSelectedService.getActualClipboardItem();if(a&&-1!=u.indexOf(+a._fwcObjType)){let e=a._fwcPositionId,o=a.action;if(a._fwcRuleId!=t||e!=i.id){let e;e=this.checkOperation(n,i,u,a),e?this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",message:e,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):l.manageObject(t,i,a,o)}}}if(a)switch(o.item.id){case zl.e.OBJECT_EDIT:a._fwcObjId!=zl.t.OBJ_ANY&&this.itemSelectedService.setItem(a);break;case zl.e.COPY:if(a._fwcObjId!=zl.t.OBJ_ANY){let l=Object.assign({},a);this.itemSelectedService.setClipboardItem(l,zl.b.COPY)}break;case zl.e.CUT:a._fwcObjId!=zl.t.OBJ_ANY&&this.itemSelectedService.setClipboardItem(a,zl.b.CUT);break;case zl.e.DELETE:this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("POSITION.DEL_OBJ",{name:a._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{l.deleteObject(i,a)}});break;case zl.e.WHERE_USED:let n=Object.assign({},a);n._fwcUserId=this.fwcUserService.getActualFwcUser().user_id,n._fwcCloud=this.fwcUserService.getActualFwcUser().selectedFwCloud,n.whereUsedAction=!0,this.itemSelectedService.setItem(n)}}}deleteObjectFromPosition(l,n,e,t,i){let u,o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l,rule:e,ipobj:-1,ipobj_g:-1,interface:-1,position:t.id,position_order:void 0},a=0;for(let s=0;s<t.ipobjs.length&&(t.ipobjs[s]._fwcObjId!=i._fwcObjId||t.ipobjs[s]._fwcObjType!=i._fwcObjType);s++)t.ipobjs[s]._fwcObjId!=zl.t.OBJ_ANY&&a++;switch(o.position_order=a+1,t.content){case"I":o.interface=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),delete o.ipobj,delete o.ipobj_g;break;case"O":default:i._fwcObjType==zl.t.OBJ_VPN_CONFIG_CLI?(o.openvpn=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG")):i._fwcObjType==zl.t.OBJ_OPENVPN_PREFIX&&(o.prefix=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_PREFIX")),i._fwcObjType==zl.t.OBJ_INTERFACE_FIREWALL||i._fwcObjType==zl.t.OBJ_INTERFACE_HOST?(o.interface=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")):i._fwcObjType==zl.t.OBJ_GROUP||i._fwcObjType==zl.t.OBJ_SERVICE_GROUP||i._fwcObjType==zl.t.OBJ_CONTINENT?(o.ipobj_g=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP")):(o.ipobj=i._fwcObjId,u=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT")),i._fwcObjType!=zl.t.OBJ_VPN_CONFIG_CLI&&i._fwcObjType!=zl.t.OBJ_OPENVPN_PREFIX||(delete o.ipobj,delete o.ipobj_g,delete o.interface)}this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.deletePolicyObject.bind(this.fwcPolicyService),o,t.content).then(e=>{this.removeItem(t,i),this.updateFirewallStatus(l,n);let o=this.itemSelectedService.getActualClipboardItem();o&&o._fwcObjId===i.id&&o._fwcPositionId===i._fwcPositionId&&this.itemSelectedService.clearClipboardItem(),this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL,zl.g.CLUSTER_PANEL,zl.g.FIREWALL_PANEL,zl.g.OVCONFIG_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:u+this.translate.instant("POSITION.OBJ_DELETED")})}).catch(l=>{this.fwcErrorPipe.transform(l),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}onContextMenuLoad(l,n,e,t,i){let u,o,a,s,r=!1,c=!1,d=!1;this.clearObjectInfo(void 0);let p=this.positionContextMenu.POSITION,f=this.itemSelectedService.getActualClipboardItem();if(i.event&&i.event.target&&!i.event.target.getAttribute("data-obj_id")&&(r=!0,e.selectedItem=void 0),a=14==e.id||16==e.id||34==e.id||35==e.id,(e.selectedItem&&e.selectedItem._fwcObjType==zl.t.OBJ_ANY||e.ipobjs.length<=1||r)&&(c=!0),o=f&&f._fwcRuleId==n&&f._fwcPositionId==e.id,u=f&&-1!=t.indexOf(+f._fwcObjType),s=l===zl.z.POLICY_ROUTING||l===zl.z.ROUTING_TABLE,p&&p.items){for(let l=0;l<p.items.length;l++){const n=p.items[l];n.id==zl.e.POSITION_NEGATE&&(n.visible=!a&&!s&&!e.negate&&e.ipobjs.length>1),n.id==zl.e.POSITION_ALLOW&&(n.visible=!!(!a&&e.negate&&e.ipobjs.length>1)),n.id!=zl.e.OBJECT_EDIT&&n.id!=zl.e.COPY&&n.id!=zl.e.CUT&&n.id!=zl.e.DELETE&&n.id!=zl.e.WHERE_USED&&n.id!=zl.e.SEPARATOR||(n.visible=(e.id!==zl.n.MASTER_NODE||n.id!==zl.e.WHERE_USED)&&!c),n.id==zl.e.PASTE&&(n.visible=!(!f||!u||o)),n.id!=zl.e.DELETE&&n.id!=zl.e.CUT||(n.visible=e.id!==zl.x.GATEWAY_POSITION&&(e.id!==zl.w.FROM_POSITION||e.ipobjs.length>2)),n.visible&&(d=!0)}!f&&c&&e.ipobjs.length<=1||!d?i.cancel=!0:e.selectedItem&&(e.selectedItem.rightclicked=!0)}}onContextMenuClose(l){l.selectedItem&&(l.selectedItem.rightclicked=!1)}onListDragOver(l){l.preventDefault()}onListDragEnter(l,n,e,t,i){let u;n.draggedOver=!0,t.target==i&&(u=this.itemSelectedService.getDragItem(),u.srcPositionUID!=n.positionUID&&u)&&this.doListDragEnter({draggedItem:u,firewallId:l,fwcPosition:n,fwcPositionEl:i,typesPositions:e})}doListDragEnter(l){let{firewallId:n,draggedItem:e,typesPositions:t,fwcPosition:i}=l,u=+e._fwcObjType;t?(i.objectAllowed=!(-1==t.indexOf(u)||i.ipobjs&&i.ipobjs.some((function(l){return e._fwcObjId==l._fwcObjId&&e._fwcObjType==l._fwcObjType}))||"I"==i.content&&u==zl.t.OBJ_INTERFACE_FIREWALL&&e._fwcFwId!=n),this.detectChanges()):i.objectAllowed=!1}onListDragLeave(l,n,e){l.target==e&&(n.draggedOver=!1,n.objectAllowed=void 0,this.detectChanges())}onListDragDrop(l,n,e,t,i,u){let o,a;const s=l.getFirewallId(),r=l.getClusterId();if(i.preventDefault(),e.draggedOver=!1,e.objectAllowed=void 0,a=this.itemSelectedService.getDragItem(),a&&(a._fwcPositionId!=e.id||a._fwcRuleId!=n))if(o=this.checkOperation(s,e,t,a),o)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:o,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else if(!r||24!=a.obj_type&&23!=a.obj_type)if(!s||24!=a.obj_type&&23!=a.obj_type){if(a.container&&(a.container=void 0,a.containerReadOnly=!1,a._fwcObjType===zl.t.OBJ_ADDRESS)){let l=/^(.+)\s+\((.+)\)$/.exec(a.text);l&&(a._fwcObjName=l[1])}l.manageObject(n,e,a)}else this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(s,this.fwcUserService.getActualFwSelectedCloud()).subscribe(t=>{let i=t.data;if(i.plugins&sn.get("GeoIP")||"agent"!=i.install_communication){if(a.container&&(a.container=void 0,a.containerReadOnly=!1,a._fwcObjType===zl.t.OBJ_ADDRESS)){let l=/^(.+)\s+\((.+)\)$/.exec(a.text);l&&(a._fwcObjName=l[1])}l.manageObject(n,e,a)}else this.confirmationService.confirm({header:this.translate.instant("FW.PLUGINS.GEOIP_NOT_ACTIVATED_HEADER"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("FW.PLUGINS.GEOIP_NOT_ACTIVATED_FIREWALL",{firewall:i.name}),rejectVisible:!0,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),reject:()=>{},accept:()=>{if(a.container&&(a.container=void 0,a.containerReadOnly=!1,a._fwcObjType===zl.t.OBJ_ADDRESS)){let l=/^(.+)\s+\((.+)\)$/.exec(a.text);l&&(a._fwcObjName=l[1])}l.manageObject(n,e,a)}})});else this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(r,this.fwcUserService.getActualFwSelectedCloud()).subscribe(t=>{let i=t.data;if(!i.nodes.find(l=>"agent"==l.install_communication)||i.plugins&sn.get("GeoIP")){if(a.container&&(a.container=void 0,a.containerReadOnly=!1,a._fwcObjType===zl.t.OBJ_ADDRESS)){let l=/^(.+)\s+\((.+)\)$/.exec(a.text);l&&(a._fwcObjName=l[1])}l.manageObject(n,e,a)}else this.confirmationService.confirm({header:this.translate.instant("FW.PLUGINS.GEOIP_NOT_ACTIVATED_HEADER"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("FW.PLUGINS.GEOIP_NOT_ACTIVATED_CLUSTER",{cluster:i.name}),rejectVisible:!0,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),reject:()=>{},accept:()=>{if(a.container&&(a.container=void 0,a.containerReadOnly=!1,a._fwcObjType===zl.t.OBJ_ADDRESS)){let l=/^(.+)\s+\((.+)\)$/.exec(a.text);l&&(a._fwcObjName=l[1])}l.manageObject(n,e,a)}})});this.itemSelectedService.clearDragItem()}onItemRightClickEvent(l,n){l.selectedItem=n}onItemClickEvent(l,n){l.selectedItem=n,this.clearObjectInfo(void 0),n._fwcObjId!=zl.t.OBJ_ANY&&this.itemSelectedService.setModifiedItem({_fwcObjId:n._fwcObjId,_fwcObjType:n._fwcObjType,highlighted:!n.highlighted},!1,!1,!1,!0)}onItemDblClickEvent(l,n){l.selectedItem=n;let e=Object.assign({},n);e&&e._fwcObjId!=zl.t.OBJ_ANY&&(e.editPrefixAction=e._fwcObjType==zl.t.OBJ_OPENVPN_PREFIX,this.itemSelectedService.setItem(e))}onMarkDblClickEvent(l){let n={id:l,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),_fwcObjId:l,_fwcObjType:zl.t.OBJ_MARK};this.itemSelectedService.setItem(n)}itemDragStart(l,n,e){let t;e.stopPropagation(),l.selectedItem=n,t=Object.assign({},n),t.srcPositionUID=l.positionUID,this.itemSelectedService.setDragItem(t),e.dataTransfer.setData("dragItemId",t.id.toString()),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}showObjectInfo(l,n){if(l&&(n&&n.preventDefault(),l&&!this.infoTooltipTimer&&!this.infoTooltipShown)){let e={objId:l._fwcObjId,objType:l._fwcObjType,fwId:l._fwcFwId,clusterId:l._fwcClusterId,objParentId:l.parent_id};null!==e.objId&&null!==e.objType&&e.objType!=zl.t.OBJ_ANY&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(e,n)},1e3))}}clearObjectInfo(l){l&&l.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(setTimeout(()=>{this.itemSelectedService.setObjectInfo(void 0,l)},500),this.infoTooltipShown=!1)}manageObject(l,n,e,t,i,u){Object.assign({},i);let o,a,s=i._fwcObjId,r=i._fwcObjType,c=i._fwcPositionId,d=i._fwcRuleId,p=t.id,f=e,g=i.position_order,h=this.fwcPolicyService.getActualSelectedPolicy()._fwcPolicyIPVersion;if(a=this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:i._fwcObjName,ipVersion:h}),u)i.position_order=t.ipobjs.length;else{let l=0;for(let n=0;n<t.ipobjs.length&&(t.ipobjs[n]._fwcObjId!=s||t.ipobjs[n]._fwcObjType!=r);n++)t.ipobjs[n]._fwcObjId!=zl.t.OBJ_ANY&&l++;i.position_order=l+1}i._fwcPositionId=i.position=t.id,i._fwcRuleId=i.rule=e,i.ipobj=void 0,i.ipobj_g=void 0,i.interface=void 0,i.container=void 0,i.ipobj=i.ipobj_g=i.interface=-1;let m={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l,rule:i.rule,position:i.position,position_order:i.position_order};if(i._fwcObjType==zl.t.OBJ_VPN_CONFIG_CLI)m.openvpn=i._fwcObjId,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG");else if(i._fwcObjType==zl.t.OBJ_OPENVPN_PREFIX)m.prefix=i._fwcObjId,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_PREFIX"),a=this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:i._fwcObjName});else switch(m.ipobj=i.ipobj,m.ipobj_g=i.ipobj_g,m.interface=i.interface,t.content){case"I":m.interface=i.interface=i._fwcObjId,o="Interface",delete m.ipobj,delete m.ipobj_g;break;case"O":default:i._fwcObjType==zl.t.OBJ_INTERFACE_FIREWALL||i._fwcObjType==zl.t.OBJ_INTERFACE_HOST?(m.interface=i.interface=i._fwcObjId,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")):i._fwcObjType==zl.t.OBJ_GROUP||i._fwcObjType==zl.t.OBJ_SERVICE_GROUP||i._fwcObjType==zl.t.OBJ_CONTINENT?(m.ipobj_g=i.ipobj_g=i._fwcObjId,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP")):(m.ipobj=i.ipobj=i._fwcObjId,o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT"))}if(null==c||null==d||u==zl.b.COPY)this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.newPolicyObject.bind(this.fwcPolicyService),m,t.content).then(u=>{this.updateFirewallStatus(l,n),this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]})),t.ipobjs.push(i),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:o+this.translate.instant("POSITION.OBJ_ADDED")}),this.ruleSelectedService.setRuleStatus(null),this.ruleSelectedService.setRuleHeightRecalculate(e),this.detectChanges()}).catch(l=>{let n;l.error&&1003==l.error.fwcErr?n=this.translate.instant("POSITION.ERROR_DUP"):l.error&&5001==l.error.fwcErr?n=a:this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),n&&this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:n,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}),this.ruleSelectedService.setRuleStatus(null),this.detectChanges()});else{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l,rule:d,position:c,position_order:g,new_rule:f,new_position:p,new_order:i.position_order};"O"==t.content?i._fwcObjType==zl.t.OBJ_VPN_CONFIG_CLI?e.openvpn=i._fwcObjId:i._fwcObjType==zl.t.OBJ_OPENVPN_PREFIX?e.prefix=i._fwcObjId:(e.ipobj=i.ipobj,e.ipobj_g=i.ipobj_g,e.interface=i.interface):e.interface=i.interface,this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcPolicyService.updatePolicyObject.bind(this.fwcPolicyService),e,t.content).then(e=>{t.ipobjs.push(i),i.srcRuleId=d,i.srcPositionId=c,this.itemSelectedService.setModifiedItem(i,!0),u&&this.itemSelectedService.clearClipboardItem(),this.updateFirewallStatus(l,n),this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:o+this.translate.instant("POSITION.OBJ_ADDED")}),this.ruleSelectedService.setRuleHeightRecalculate(d),this.ruleSelectedService.setRuleHeightRecalculate(f)}).catch(l=>{l.error&&"ACR_ALREADY_EXISTS"==l.error.respCode?this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("POSITION.ERROR_DUP"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}removeItem(l,n){let e=-1;if(!l.ipobjs)return-1;for(let t=0;t<l.ipobjs.length;t++)if(l.ipobjs[t]._fwcObjId!=zl.t.OBJ_ANY&&l.ipobjs[t]._fwcObjId==n._fwcObjId){e=t;break}return e>=0&&l.ipobjs.splice(e,1),l.ipobjs.length<=1&&(l.negate=!1),e}updateFirewallStatus(l,n){this.store.dispatch(Ql.c.updateFwStatus({item:{cluster:n,id:l,status:3}}))}checkOperation(l,n,e,t){let i,u=+t._fwcObjType;return this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+u),(l=>{let n=!1,e=[];for(e.push(l);e.length&&!n;){let l=e.pop();n=l._fwcObjType==zl.t.OBJ_ADDRESS,!n&&l.items&&l.items.length&&e.push(...l.items)}})(t),-1==e.indexOf(u)?i=this.translate.instant("POSITION.ERROR_NOTALLOWED"):n.ipobjs&&n.ipobjs.some((function(l){return t._fwcObjId==l._fwcObjId&&t._fwcObjType==l._fwcObjType}))?i=this.translate.instant("POSITION.ERROR_EXISTS",{name:t._fwcObjName}):"I"==n.content&&u==zl.t.OBJ_INTERFACE_FIREWALL&&t._fwcFwId!=l?i=this.translate.instant("POSITION.ERROR_IF"):n.policy_type!==zl.z.ROUTING_TABLE&&n.single_object&&n.ipobjs&&n.ipobjs.length>=2?i=this.translate.instant("POSITION.ERROR_ONLY1"):n.policy_type===zl.z.ROUTING_TABLE&&n.id===zl.x.INTERFACE_POSITION&&t._fwcObjType===zl.t.OBJ_INTERFACE_HOST&&(i=this.translate.instant("POSITION.ERROR_HOST_IF_IN_ROUTE")),i}removeItemAt(l,n){return l.ipobjs?(n>=0&&n<l.ipobjs.length&&l.ipobjs.splice(n,1),l.ipobjs.length<=1&&(l.negate=!1),n):-1}detectChanges(){this.changeDetectorRef.destroyed||this.changeDetectorRef.detectChanges()}}var cn=e("z7ul"),dn=e("NEDm"),pn=e("n+De");let fn=(()=>{class l{constructor(l,n,e,t,i,u,o,a,s,r,c,d){this.translate=l,this.fwcErrorPipe=n,this.utilService=e,this.fwcUserService=t,this.fwcFirewallService=i,this.fwcPolicyService=u,this.fwcDhcpPolicyService=o,this.ruleSelectedService=a,this.messageService=s,this.confirmationService=r,this.cd=c,this.store=d}setGroupValues(l){if(l){const n=l.groupData;this.updateGroup(l.policyType,n.firewall,n.fwcloud,l.group,{style:l.groupColor,name:l.groupName})}}updateGroup(l,n,e,t,i){let u;l!==zl.v[zl.r.DHCP]&&l!==zl.v[zl.r.DHCP_FIXED_IP]||(u=this.fwcDhcpPolicyService.updateDhcpPolicyRuleGroup.bind(this.fwcDhcpPolicyService)),u&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(u,n,e,t.idgroup,i).then(()=>{if(i.name){t.group_name=i.name;const l=t.rules;for(let n=0;n<l.length;n++)l[n].group_name=t.group_name}if(i.style){t.group_style=i.style;let l=t.rules;for(let n=0;n<l.length;n++)l[n].group_style=t.group_style}t=Object(Zl.cloneDeep)(t)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRules(l){let n,e,t;const i=this.ruleSelectedService.getActualSelectedRules(),u=this.ruleSelectedService.getRulesOrderedIds(i);let o;if(Array.isArray(u.orderedRules)&&u.orderedRules[0]){o=u.orderedRules[0],n=this.fwcUserService.getActualFwcUser().selectedFwCloud,e=o.firewall,t=u.rulesIds;let a=this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcDhcpPolicyService),s=[e,n,t],r=this.translate.instant("DHCP.NEW_RULE_PANEL.RULE"),c=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE");l&&(a=this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcDhcpPolicyService),s=[e,n,l,t],r=this.translate.instant("DHCP.NEW_RULE_PANEL.RULE"),c=this.translate.instant("DHCP.RULE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(a,...s).then(l=>{if(Array.isArray(l.data)){const n=this.utilService.createDynamicComponentRef(ln.a),e=n.instance;e.setDynamicComponentRef(n),e.showCompilationData(l.data,i,r,c,void 0,void 0)}}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(l,n){let e=[];return Array.isArray(l)&&(e=l.filter(n).map(l=>({id:l.id,order:l.position_order}))),e}buildCopyApiData(l,n){const e={};let t,i;const u=l._fwcObjId,o=n.ipobjs;switch(l._fwcObjType){case zl.t.OBJ_NETWORK:t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_NETWORK)[0],i="networkId";break;case zl.t.OBJ_ADDRESS_RANGE:t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_ADDRESS_RANGE)[0],i="rangeId";break;case zl.t.OBJ_ADDRESS:if(n.id===zl.f.DNS){t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_ADDRESS),i="ipObjIds";break}t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_ADDRESS)[0],i="routerId";break;case zl.t.OBJ_INTERFACE_HOST:case zl.t.OBJ_INTERFACE_FIREWALL:t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_INTERFACE_FIREWALL||l._fwcObjType===zl.t.OBJ_INTERFACE_HOST)[0],i="interfaceId"}return e[i]=Array.isArray(t)?[...t,{id:u,order:o?o.length:1}]:u,t&&!Array.isArray(t)&&this.buildRemoveApiData(t,n),e}buildRemoveApiData(l,n){const e={};let t,i;const u=l._fwcObjId,o=n.ipobjs;switch(l._fwcObjType){case zl.t.OBJ_NETWORK:return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("GLOBALS.MSG_OBJ_DELETE.NETWORK")}),l;case zl.t.OBJ_ADDRESS_RANGE:return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("GLOBALS.MSG_OBJ_DELETE.RANGE")}),l;case zl.t.OBJ_ADDRESS:if(n.id===zl.f.DNS){t=this.filterIpObjects(o,l=>l._fwcObjType===zl.t.OBJ_ADDRESS&&l._fwcObjId!==u),i="ipObjIds";break}return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("GLOBALS.MSG_OBJ_DELETE.ROUTER")}),l;case zl.t.OBJ_INTERFACE_HOST:case zl.t.OBJ_INTERFACE_FIREWALL:return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("GLOBALS.MSG_OBJ_DELETE.INTERFACE")}),l}return e[i]=Array.isArray(t)?[...t]:t,e}removeObjectFromPosition(l,n){if(Array.isArray(l.ipobjs)){l.ipobjs=l.ipobjs.filter(l=>l._fwcObjId!==n._fwcObjId||l._fwcObjType!==n._fwcObjType);for(const e of l.ipobjs)null!=e.position_order&&e.position_order>n.position_order&&e.position_order--}}dispatchFwStatusUpdateAction(l,n){this.store.dispatch(Ql.c.updateFwStatus({item:{cluster:l,id:n,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL,zl.g.CLUSTER_PANEL,zl.g.FIREWALL_PANEL,zl.g.OVCONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](nl.l),t["\u0275\u0275inject"](sl.a),t["\u0275\u0275inject"](rl.a),t["\u0275\u0275inject"](il.a),t["\u0275\u0275inject"](tl.a),t["\u0275\u0275inject"](cl.a),t["\u0275\u0275inject"](Sl.a),t["\u0275\u0275inject"](fl.a),t["\u0275\u0275inject"](gl.MessageService),t["\u0275\u0275inject"](Rl.ConfirmationService),t["\u0275\u0275inject"](t.ChangeDetectorRef),t["\u0275\u0275inject"](hl.m))},token:l,providedIn:"root"}),l})(),gn=(()=>{class l extends fn{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p){super(l,n,e,t,i,u,a,s,r,c,d,p),this.translate=l,this.fwcErrorPipe=n,this.utilService=e,this.fwcUserService=t,this.fwcFirewallService=i,this.fwcPolicyService=u,this.fwcInterfaceService=o,this.fwcDhcpPolicyService=a,this.ruleSelectedService=s,this.messageService=r,this.confirmationService=c,this.cd=d,this.store=p}parseDhcpPolicyRules(l,n,e){const t=[];for(const i of e){i.group&&(i.dhcpGroup=i.group);const e=i.rule_type;i.rule_type=2==i.rule_type?zl.v[zl.r.DHCP_FIXED_IP]:zl.v[zl.r.DHCP];const u={id:i.id,idgroup:i.group&&i.dhcpGroup.id,group_name:i.group&&i.dhcpGroup.name,group_style:i.group&&i.dhcpGroup.style,comment:i.comment,style:i.style,type:i.rule_type,max_lease:1===e?i.max_lease:null,cfg_text:3===e?i.cfg_text:null,special:3===e?6:null,rule_order:i.rule_order,active:i.active?1:0,firewall:l,fwcloud:n,positions:[]};let o=1;if(u.type===zl.v[zl.r.DHCP]){const e={id:zl.f.NETWORK,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.DHCP_NETWORK"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.network&&e.ipobjs.push({rule:i.id,position:zl.f.NETWORK,id:i.network.id,name:i.network.name,type:i.network.ipObjTypeId,position_order:1,firewall_id:l,cluster_id:i._fwcClusterId});const t={id:zl.f.RANGE,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.RANGE"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.range&&t.ipobjs.push({rule:i.id,position:zl.f.RANGE,id:i.range.id,name:i.range.name,type:i.range.ipObjTypeId,position_order:1,firewall_id:l,cluster_id:i._fwcClusterId});const a={id:zl.f.ROUTER,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.ROUTER"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.router&&a.ipobjs.push({rule:i.id,position:zl.f.ROUTER,id:i.router.id,name:i.router.name,type:i.router.ipObjTypeId,position_order:1,firewall_id:i.router.firewall?i.router.firewall.id:null,firewall_name:i.router.firewall?i.router.firewall.name:null,cluster_id:i.router.interface&&i.router.interface.firewall&&i.router.interface.firewall.cluster?i.router.interface.firewall.cluster.id:null,cluster_name:i.router.interface&&i.router.interface.firewall&&i.router.interface.firewall.cluster?i.router.interface.firewall.cluster.name:null,host_id:i.router.interface&&i.router.interface.hosts&&i.router.interface.hosts.length>0&&i.router.interface.hosts[0].hostIPObj?i.router.interface.hosts[0].hostIPObj.id:null,host_name:i.router.interface&&i.router.interface.hosts&&i.router.interface.hosts.length>0&&i.router.interface.hosts[0].hostIPObj?i.router.interface.hosts[0].hostIPObj.name:null});const s={id:zl.f.DNS,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.SERVERS"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};if(Array.isArray(i.items)){let l=1;for(const n of i.items){const e={rule:i.id,position:zl.f.DNS,id:n.id,name:n.name,type:n.type,position_order:l++,firewall_id:n.firewall_id?n.firewall_id:null,firewall_name:n.firewall_name?n.firewall_name:null,cluster_id:n.cluster_id?n.cluster_id:null,cluster_name:n.cluster_name?n.cluster_name:null,host_id:n.host_id?n.host_id:null,host_name:n.host_name?n.host_name:null};s.ipobjs.push(e)}}u.positions.push(e,t,a,s)}if(u.type===zl.v[zl.r.DHCP_FIXED_IP]){const e={id:zl.f.INTERFACE,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.INTERFACE"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};if(i.interface){const l={rule:i.id,position:zl.f.INTERFACE,id:i.interface.id,name:i.interface.name,type:i.interface.type,mac:i.interface.mac,position_order:1,firewall_id:i.interface.firewall?i.interface.firewall.id:null,firewall_name:i.interface.firewall?i.interface.firewall.name:null,cluster_id:i.interface.firewall&&i.interface.firewall.cluster?i.interface.firewall.cluster.id:null,cluster_name:i.interface.firewall&&i.interface.firewall.cluster?i.interface.firewall.cluster.name:null,fwcloud:n,host_id:i.interface.hosts&&i.interface.hosts.length>0&&i.interface.hosts[0].hostIPObj?i.interface.hosts[0].hostIPObj.id:null,host_name:i.interface.hosts&&i.interface.hosts.length>0&&i.interface.hosts[0].hostIPObj?i.interface.hosts[0].hostIPObj.name:null};l.mac&&e.ipobjs.push(l)}const t={id:zl.f.IP,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.IP"),policy_type:i.rule_type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.router&&t.ipobjs.push({rule:i.id,position:zl.f.IP,id:i.router.id,name:i.router.name,type:i.router.ipObjTypeId,position_order:1,firewall_id:i.router.interface&&i.router.interface.firewall?i.router.interface.firewall.id:null,firewall_name:i.router.interface&&i.router.interface.firewall?i.router.interface.firewall.name:null,cluster_id:i.router.interface&&i.router.interface.firewall&&i.router.interface.firewall.cluster?i.router.interface.firewall.cluster.id:null,cluster_name:i.router.interface&&i.router.interface.firewall&&i.router.interface.firewall.cluster?i.router.interface.firewall.cluster.name:null,host_id:i.router.interface&&i.router.interface.hosts&&i.router.interface.hosts.length>0&&i.router.interface.hosts[0].hostIPObj?i.router.interface.hosts[0].hostIPObj.id:null,host_name:i.router.interface&&i.router.interface.hosts&&i.router.interface.hosts.length>0&&i.router.interface.hosts[0].hostIPObj?i.router.interface.hosts[0].hostIPObj.name:null}),u.positions.push(e,t)}t.push(u)}return t}updateSelectedRules(l,n,e,t){const i=this.ruleSelectedService.getActualSelectedRules(),u=!!Object.keys(t).filter(l=>"style"!==l).length;if(Array.isArray(i)&&i.length){const o=i.map(l=>l.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRules.bind(this.fwcDhcpPolicyService),n,e,o,t).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("DHCP.SUCCESS.UPDATE_RULE")}),this.fwcPolicyService.reloadPolicy(),u&&this.dispatchFwStatusUpdateAction(l,n)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}updateRuleComment(l){if(l&&l.formModel){const n=l.formModel.comment;if(l.comment!==n){const e=l.firewall,t=l.fwcloud,i={comment:n};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRule.bind(this.fwcDhcpPolicyService),e,t,l.id,i).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),l.comment=n,this.dispatchFwStatusUpdateAction(l._fwcClusterId,e)}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),l.formModel.comment=l.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleCfgText(l){if(l&&l.formModel){const n=l.formModel.cfg_text;if(l.cfg_text!==n){const e=l.firewall,t=l.fwcloud,i={cfg_text:n};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRule.bind(this.fwcDhcpPolicyService),e,t,l.id,i).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),l.cfg_text=n,this.dispatchFwStatusUpdateAction(l._fwcClusterId,e)}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),l.formModel.cfg_text=l.cfg_text}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleLeaseTime(l){if(l&&l.formModel){const n=l.formModel.max_lease;if(l.max_lease!==n){const e=l.firewall,t=l.fwcloud,i={max_lease:n};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRule.bind(this.fwcDhcpPolicyService),e,t,l.id,i).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),l.max_lease=n,this.dispatchFwStatusUpdateAction(l._fwcClusterId,e)}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),l.formModel.max_lease=l.max_lease}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}setRuleStyle(l,n){if(n){const e={style:n.ruleColor};this.updateSelectedRules(l._fwcClusterId,l.firewall,this.fwcUserService.getActualFwSelectedCloud(),e)}}updateRulePosition(l,n,e,t,i,u,o){return Object(Xl.b)(this,void 0,void 0,(function*(){let a={};const s=u._fwcPositionId,r=u._fwcRuleId,c=this.checkOperation(l,u,o);if(c)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:c,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else{const c=l.getClusterId();if(u&&(u.obj_type===zl.t.OBJ_INTERFACE_FIREWALL||u.obj_type===zl.t.OBJ_INTERFACE_HOST)){const l=yield this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService)(n,u.id_obj,u.fwcloud).toPromise();try{if(l.data&&(null==l.data.mac||""===l.data.mac))return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC")})}catch(d){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_GET_INTERFACE")})}}null==s||null==r||o==zl.b.COPY?(a=this.buildCopyApiData(u,i),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRule.bind(this.fwcDhcpPolicyService),n,e,t,a).then(()=>{this.addObjectToPosition(i,u),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("DHCP.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(c,n),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(t)}).catch(l=>{l&&"string"==typeof l.error&&500===l.status&&this.messageService.add("IP version mismatch"===l.error?{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT")}:"Interface mac is not defined"===l.error?{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC")}:{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(l,n,e,t,i,u).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("DHCP.SUCCESS.UPDATE_RULE")})}).catch(l=>{l&&"string"==typeof l.error&&500===l.status&&this.messageService.add("IP version mismatch"===l.error?{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT")}:"Interface mac is not defined"===l.error?{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC")}:{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}}))}checkOperation(l,n,e){let t;return n._fwcRuleId&&n._fwcPositionId&&(e===zl.b.CUT||e===zl.b.DELETE)&&l.getPolicyRule(n._fwcRuleId).positions.find(l=>l.id===n._fwcPositionId).ipobjs.filter(l=>l._fwcObjType!==zl.t.OBJ_ANY).length<2&&(t=this.translate.instant("DHCP.POLICY.ERROR_LAST_IPOBJECT")),t}moveObject(l,n,e,t,i,u){return Object(Xl.b)(this,void 0,void 0,(function*(){try{let o,a;switch(u._fwcObjType){case zl.t.OBJ_GROUP:o="ipObjGroupId";break;case zl.t.OBJ_MARK:o="markId";break;default:o="ipObjId"}const s=l.getPolicyRule(u._fwcRuleId),r=s.positions.find(l=>l.id===u._fwcPositionId);if(u._fwcPositionId!==zl.f.DNS)return Promise.reject(this.translate.instant("DHCP.POLICY.ERROR_MOVING_POSITION"));a={fromId:s.id,toId:t},a[o]=u._fwcObjId,yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.moveObjectBetweenPositions.bind(this.fwcDhcpPolicyService),n,e,a),this.addObjectToPosition(i,u),this.removeObjectFromPosition(r,u),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s.id),this.ruleSelectedService.setRuleHeightRecalculate(t);const c=l.getClusterId();this.dispatchFwStatusUpdateAction(c,n),Promise.resolve()}catch(o){Promise.reject()}}))}deleteObjectFromPosition(l,n,e,t,i,u){let o={};o=this.buildRemoveApiData(u,i),o!==u&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.updateDhcpPolicyRule.bind(this.fwcDhcpPolicyService),l,e,t,o).then(()=>{this.removeObjectFromPosition(i,u),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("DHCP.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(n,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(t)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}addObjectToPosition(l,n){const e={cluster_id:n._fwcClusterId,cluster_name:n._fwcClusterName,firewall_id:n._fwcFwId,firewall_name:n._fwcFwName,host_id:n._fwcHostId,host_name:n._fwcHostName,id:n._fwcObjId,id_obj:n._fwcObjId,name:n._fwcObjName,obj_type:n._fwcObjType,parent_id:n.parent_id,position:l.id,position_order:l.ipobjs?l.ipobjs.length:1,rule:l.rule,type:n._fwcObjType,_fwcFwId:n._fwcFwId,_fwcFwName:n._fwcFwName,_fwcObjId:n._fwcObjId,_fwcObjName:n._fwcObjName,_fwcObjType:n._fwcObjType,_fwcPositionId:l.id,_fwcRuleId:l.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:n.highlighted};l.ipobjs=l.id!==zl.f.DNS&&l.id!==zl.f.INTERFACE?[...l.ipobjs.filter(l=>l.obj_type!==e.obj_type),e]:l.id!==zl.f.DNS&&l.id===zl.f.INTERFACE?[...l.ipobjs.filter(l=>l.obj_type!==zl.t.OBJ_INTERFACE_FIREWALL&&l.obj_type!==zl.t.OBJ_INTERFACE_HOST),e]:[...l.ipobjs,e]}showNewRuleDialog(l,n,e,t,i,u,o){const a=this.utilService.createDynamicComponentRef(pn.a),s=a.instance;s.setDynamicComponentRef(a),s.showNewRuleDialog(l,n,e,t)}moveSelectedRules(l,n,e,t,i){this.store.dispatch(Ql.d.requestBlockUI()),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.manageDhcpPolicyRules.bind(this.fwcDhcpPolicyService),l,n,e,i,t,zl.b.CUT).then(()=>{this.fwcPolicyService.reloadPolicy()}).catch(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(Ql.d.requestUnblockUI())})}newDhcpRuleGroup(l,n,e){const t=e&&e.groupName,i=e&&e.groupComment;if(t){const e=this.ruleSelectedService.getActualSelectedRules().map(l=>l.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.newDhcpPolicyRuleGroup.bind(this.fwcDhcpPolicyService),l,n,t,i,e).then(()=>{this.dispatchReloadItemPanelAction(),this.fwcPolicyService.reloadPolicy()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}compileSelectedRules(){this.compileRules()}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](nl.l),t["\u0275\u0275inject"](sl.a),t["\u0275\u0275inject"](rl.a),t["\u0275\u0275inject"](il.a),t["\u0275\u0275inject"](tl.a),t["\u0275\u0275inject"](cl.a),t["\u0275\u0275inject"](ol.a),t["\u0275\u0275inject"](Sl.a),t["\u0275\u0275inject"](fl.a),t["\u0275\u0275inject"](gl.MessageService),t["\u0275\u0275inject"](Rl.ConfirmationService),t["\u0275\u0275inject"](t.ChangeDetectorRef),t["\u0275\u0275inject"](hl.m))},token:l,providedIn:"root"}),l})();var hn=e("Is0m");let mn=(()=>{class l{constructor(l,n,e,t,i,u,o,a,s,r){this.translate=l,this.fwcErrorPipe=n,this.utilService=e,this.fwcUserService=t,this.fwcPolicyService=i,this.fwcKeepalivedPolicyService=u,this.ruleSelectedService=o,this.messageService=a,this.cd=s,this.store=r}setGroupValues(l){if(l){const n=l.groupData;this.updateGroup(l.policyType,n.firewall,n.fwcloud,l.group,{style:l.groupColor,name:l.groupName})}}updateGroup(l,n,e,t,i){let u;l===zl.v[zl.r.KEEPALIVED]&&(u=this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRuleGroup.bind(this.fwcKeepalivedPolicyService)),u&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(u,n,e,t.idgroup,i).then(()=>{if(i.name){t.group_name=i.name;let l=t.rules;for(let n=0;n<l.length;n++)l[n].group_name=t.group_name}if(i.style){t.group_style=i.style;let l=t.rules;for(let n=0;n<l.length;n++)l[n].group_style=t.group_style}t=Object(Zl.cloneDeep)(t)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRules(l){let n,e,t;const i=this.ruleSelectedService.getActualSelectedRules(),u=this.ruleSelectedService.getRulesOrderedIds(i);let o;if(Array.isArray(u.orderedRules)&&u.orderedRules[0]){o=u.orderedRules[0],n=this.fwcUserService.getActualFwcUser().selectedFwCloud,e=o.firewall,t=u.rulesIds;let a=this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),s=[e,n,t],r=this.translate.instant("KEEPALIVED.POLICY.RULE"),c=this.translate.instant("KEEPALIVED.POLICY.COMPILE_DIALOG_TITLE");l&&(a=this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),s=[e,n,l,t],r=this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.RULE"),c=this.translate.instant("KEEPALIVED.RULE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(a,...s).then(l=>{if(Array.isArray(l.data)){const n=this.utilService.createDynamicComponentRef(ln.a),e=n.instance;e.setDynamicComponentRef(n),e.showCompilationData(l.data,i,r,c,void 0,void 0)}}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(l,n){let e=[];return Array.isArray(l)&&(e=l.filter(n).map(l=>({id:l.id,order:l.position_order}))),e}buildCopyApiData(l,n){const e={};let t,i;const u=l._fwcObjId,o=l._fwcObjType,a=n.ipobjs;switch(o){case zl.t.OBJ_INTERFACE_FIREWALL:t=this.filterIpObjects(a,l=>l._fwcObjType===zl.t.OBJ_INTERFACE_FIREWALL)[0],i="interfaceId";break;case zl.t.OBJ_ADDRESS:t=this.filterIpObjects(a,l=>l._fwcObjType===zl.t.OBJ_ADDRESS),i="virtualIpsIds";break;case zl.t.OBJ_FIREWALL:t=this.filterIpObjects(a,l=>l._fwcObjType===zl.t.OBJ_FIREWALL)[0],i="masterNodeId"}return e[i]=o===zl.t.OBJ_ADDRESS?[...(Array.isArray(t)?t:[t]).filter(l=>l.id!==u),{id:u,order:a?a.length:1}]:u,t&&this.buildRemoveApiData(Array.isArray(t)?t[0]:t,n),e}buildRemoveApiData(l,n){const e={};let t,i;const u=n.ipobjs;let o=l._fwcObjId,a=l._fwcObjType;switch(void 0===a&&n.ipobjs[0]._fwcObjType===zl.t.OBJ_INTERFACE_FIREWALL&&(a=n.ipobjs[0]._fwcObjType,o=n.ipobjs[0]._fwcObjId),a){case zl.t.OBJ_INTERFACE_FIREWALL:t=this.filterIpObjects(u,l=>l._fwcObjType===zl.t.OBJ_INTERFACE_FIREWALL&&l._fwcObjId===o)[0],i="interfaceId";break;case zl.t.OBJ_ADDRESS:t=this.filterIpObjects(u,l=>l._fwcObjType===zl.t.OBJ_ADDRESS&&l._fwcObjId!==o)[0],i="virtualIpsIds";break;case zl.t.OBJ_FIREWALL:t=this.filterIpObjects(u,l=>l._fwcObjType===zl.t.OBJ_FIREWALL&&l._fwcObjId!==o)[0],i="masterNodeId"}return e[i]=Array.isArray(t)?[...t]:t,e}removeObjectFromPosition(l,n){if(Array.isArray(l.ipobjs)){l.ipobjs=l.ipobjs.filter(l=>l._fwcObjId!==n._fwcObjId||l._fwcObjType!==n._fwcObjType);for(const e of l.ipobjs)null!=e.position_order&&e.position_order>n.position_order&&e.position_order--}}dispatchFwStatusUpdateAction(l,n){this.store.dispatch(Ql.c.updateFwStatus({item:{cluster:l,id:n,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL,zl.g.CLUSTER_PANEL,zl.g.FIREWALL_PANEL,zl.g.OVCONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](nl.l),t["\u0275\u0275inject"](sl.a),t["\u0275\u0275inject"](rl.a),t["\u0275\u0275inject"](il.a),t["\u0275\u0275inject"](cl.a),t["\u0275\u0275inject"](_l.a),t["\u0275\u0275inject"](fl.a),t["\u0275\u0275inject"](gl.MessageService),t["\u0275\u0275inject"](t.ChangeDetectorRef),t["\u0275\u0275inject"](hl.m))},token:l,providedIn:"root"}),l})(),vn=(()=>{class l extends mn{constructor(l,n,e,t,i,u,o,a,s,r,c,d){super(l,n,e,t,i,u,a,s,c,d),this.translate=l,this.fwcErrorPipe=n,this.utilService=e,this.fwcUserService=t,this.fwcPolicyService=i,this.fwcKeepalivedPolicyService=u,this.fwcInterfaceService=o,this.ruleSelectedService=a,this.messageService=s,this.confirmationService=r,this.cd=c,this.store=d}parseKeepalivedPolicyRules(l,n,e){let t=[];for(let i of e){i.group&&(i.keepalivedGroup=i.group);const e=i.rule_type;let u={id:i.id,idgroup:i.group&&i.keepalivedGroup.id,group_name:i.group&&i.keepalivedGroup.name,group_style:i.group&&i.keepalivedGroup.style,comment:i.comment,style:i.style,type:zl.v[zl.r.KEEPALIVED],cfg_text:2===e?i.cfg_text:null,special:2===e?6:null,rule_order:i.rule_order,active:i.active?1:0,firewall:l,fwcloud:n,positions:[]},o=1;const a={id:zl.n.INTERFACE,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.INTERFACE"),policy_type:u.type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.interface&&a.ipobjs.push({rule:i.id,position:zl.n.INTERFACE,id:i.interface.id,name:i.interface.name,type:i.interface.type,position_order:1,firewall_id:i.interface.firewall?i.interface.firewall.id:null,firewall_name:i.interface.firewall?i.interface.firewall.name:null,cluster_id:i.interface.firewall&&i.interface.firewall.cluster?i.interface.firewall.cluster.id:null,cluster_name:i.interface.firewall&&i.interface.firewall.cluster?i.interface.firewall.cluster.name:null,fwcloud:n});const s={id:zl.n.VIRTUAL_IPS,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.VIRTUAL_IPS"),policy_type:u.type,position_order:o++,single_object:0,fwcloud:n,firewall:l};if(Array.isArray(i.items))for(const l of i.items)s.ipobjs.push({rule:i.id,position:zl.n.VIRTUAL_IPS,id:l.id,name:l.name,type:l.type,position_order:1,firewall_id:l.firewall_id?l.firewall_id:null,firewall_name:l.firewall_name?l.firewall_name:null,cluster_id:l.cluster_id?l.cluster_id:null,cluster_name:l.cluster_name?l.cluster_name:null,host_id:l.host_id?l.host_id:null,host_name:l.host_name?l.host_name:null});const r={id:zl.n.MASTER_NODE,rule:i.id,ipobjs:[],content:"O",name:this.translate.instant("POLICY_GRID.RULES.MASTER_NODE"),policy_type:u.type,position_order:o++,single_object:0,fwcloud:n,firewall:l};i.masterNode&&r.ipobjs.push({rule:i.id,position:zl.n.MASTER_NODE,id:i.masterNode.id,name:i.masterNode.name,type:zl.t.OBJ_FIREWALL,position_order:1}),u.positions.push(a,s,r),t.push(u)}return t}updateSelectedRules(l,n,e,t){const i=this.ruleSelectedService.getActualSelectedRules(),u=!!Object.keys(t).filter(l=>"style"!==l).length;if(Array.isArray(i)&&i.length){const o=i.map(l=>l.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),n,e,o,t).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("KEEPALIVED.SUCCESS.UPDATE_RULE")}),this.fwcPolicyService.reloadPolicy(),u&&this.dispatchFwStatusUpdateAction(l,n)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}updateRuleCfgText(l){if(l&&l.formModel){const n=l.formModel.cfg_text;if(l.cfg_text!==n){const e=l.firewall,t=l.fwcloud,i={cfg_text:n};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRule.bind(this.fwcKeepalivedPolicyService),e,t,l.id,i).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),l.cfg_text=n,this.dispatchFwStatusUpdateAction(l._fwcClusterId,e)}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),l.formModel.cfg_text=l.cfg_text}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleComment(l){if(l&&l.formModel){const n=l.formModel.comment;if(l.comment!==n){const e=l.firewall,t=l.fwcloud,i={comment:n};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRule.bind(this.fwcKeepalivedPolicyService),e,t,l.id,i).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),l.comment=n,this.dispatchFwStatusUpdateAction(l._fwcClusterId,e)}).catch(n=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(n)}),l.formModel.comment=l.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}setRuleStyle(l,n){if(n){const e={style:n.ruleColor};this.updateSelectedRules(l._fwcClusterId,l.firewall,this.fwcUserService.getActualFwSelectedCloud(),e)}}updateRulePosition(l,n,e,t,i,u,o){return Object(Xl.b)(this,void 0,void 0,(function*(){let a={};const s=u._fwcPositionId,r=u._fwcRuleId,c=this.checkOperation(l,u,o);if(c)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:c,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else{const c=l.getClusterId();if(u&&u.obj_type===zl.t.OBJ_INTERFACE_FIREWALL){const l=yield this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService)(n,u.id_obj,u.fwcloud).toPromise();try{if(l.data&&(null==l.data.mac||""===l.data.mac))return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC")})}catch(d){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("DHCP.POLICY.ERROR_GET_INTERFACE")})}}if(u&&u.obj_type===zl.t.OBJ_FIREWALL){if(u.position===zl.n.MASTER_NODE)return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("KEEPALIVED.POLICY.ERROR_MASTER_NODE")});if(u.cluster_id!==c)return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES")})}null==s||null==r||o==zl.b.COPY?(a=this.buildCopyApiData(u,i),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRule.bind(this.fwcKeepalivedPolicyService),n,e,t,a).then(()=>{this.addObjectToPosition(i,u),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("KEEPALIVED.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(c,n),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(t)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(l,n,e,t,i,u).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("KEEPALIVED.SUCCESS.UPDATE_RULE")})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}}))}checkOperation(l,n,e){let t;return n._fwcRuleId&&n._fwcPositionId&&(e===zl.b.CUT||e===zl.b.DELETE)&&l.getPolicyRule(n._fwcRuleId).positions.find(l=>l.id===n._fwcPositionId).ipobjs.filter(l=>l._fwcObjType!==zl.t.OBJ_ANY).length<2&&(t=this.translate.instant("KEEPALIVED.POLICY.ERROR_LAST_IPOBJECT")),t}moveObject(l,n,e,t,i,u){return Object(Xl.b)(this,void 0,void 0,(function*(){try{let o,a;switch(u._fwcObjType){case zl.t.OBJ_GROUP:o="ipObjGroupId";break;case zl.t.OBJ_MARK:o="markId";break;default:o="ipObjId"}const s=l.getPolicyRule(u._fwcRuleId),r=s.positions.find(l=>l.id===u._fwcPositionId);if(u._fwcPositionId!==zl.n.VIRTUAL_IPS)return Promise.reject(this.translate.instant("KEEPALIVED.POLICY.ERROR_MOVING_POSITION"));a={fromId:s.id,toId:t},a[o]=u._fwcObjId,yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.moveObjectBetweenPositions.bind(this.fwcKeepalivedPolicyService),n,e,a),this.addObjectToPosition(i,u),this.removeObjectFromPosition(r,u),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s.id),this.ruleSelectedService.setRuleHeightRecalculate(t);const c=l.getClusterId();this.dispatchFwStatusUpdateAction(c,n),Promise.resolve()}catch(o){Promise.reject()}}))}deleteObjectFromPosition(l,n,e,t,i,u){let o={};o=this.buildRemoveApiData(u,i),o!==u&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.updateKeepalivedPolicyRule.bind(this.fwcKeepalivedPolicyService),l,e,t,o).then(()=>{this.removeObjectFromPosition(i,u),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("KEEPALIVED.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(n,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(t)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}addObjectToPosition(l,n){const e={cluster_id:n._fwcClusterId,cluster_name:n._fwcClusterName,firewall_id:n._fwcFwId,firewall_name:n._fwcFwName,host_id:n._fwcHostId,host_name:n._fwcHostName,id:n._fwcObjId,id_obj:n._fwcObjId,name:n._fwcObjName,obj_type:n._fwcObjType,parent_id:n.parent_id,position:l.id,position_order:l.ipobjs?l.ipobjs.length:1,rule:l.rule,type:n._fwcObjType,_fwcFwId:n._fwcFwId,_fwcFwName:n._fwcFwName,_fwcObjId:n._fwcObjId,_fwcObjName:n._fwcObjName,_fwcObjType:n._fwcObjType,_fwcPositionId:l.id,_fwcRuleId:l.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:n.highlighted};l.ipobjs=l.id!==zl.n.VIRTUAL_IPS&&l.id!==zl.n.INTERFACE?[...l.ipobjs.filter(l=>l.obj_type!==e.obj_type),e]:l.id!==zl.n.INTERFACE&&l.id===zl.n.VIRTUAL_IPS||l.id===zl.n.INTERFACE?[...l.ipobjs.filter(l=>l.obj_type!==zl.t.OBJ_INTERFACE_FIREWALL),e]:[...l.ipobjs,e]}showNewRuleDialog(l,n,e,t,i,u,o){const a=this.utilService.createDynamicComponentRef(hn.a),s=a.instance;s.setDynamicComponentRef(a),s.showNewRuleDialog(l,n,e,t)}moveSelectedRules(l,n,e,t,i){this.store.dispatch(Ql.d.requestBlockUI()),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.manageKeepalivedPolicyRules.bind(this.fwcKeepalivedPolicyService),l,n,e,i,t,zl.b.CUT).then(()=>{this.fwcPolicyService.reloadPolicy()}).catch(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(Ql.d.requestUnblockUI())})}newKeepalivedRuleGroup(l,n,e){const t=e&&e.groupName,i=e&&e.groupComment;if(t){const e=this.ruleSelectedService.getActualSelectedRules().map(l=>l.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.newKeepalivedPolicyRuleGroup.bind(this.fwcKeepalivedPolicyService),l,n,t,i,e).then(()=>{this.dispatchReloadItemPanelAction(),this.fwcPolicyService.reloadPolicy()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}compileSelectedRules(){this.compileRules()}}return l.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new l(t["\u0275\u0275inject"](nl.l),t["\u0275\u0275inject"](sl.a),t["\u0275\u0275inject"](rl.a),t["\u0275\u0275inject"](il.a),t["\u0275\u0275inject"](cl.a),t["\u0275\u0275inject"](_l.a),t["\u0275\u0275inject"](ol.a),t["\u0275\u0275inject"](fl.a),t["\u0275\u0275inject"](gl.MessageService),t["\u0275\u0275inject"](Rl.ConfirmationService),t["\u0275\u0275inject"](t.ChangeDetectorRef),t["\u0275\u0275inject"](hl.m))},token:l,providedIn:"root"}),l})();var Cn=e("EMdb"),Sn=e("D6ZB"),_n=e("fgKk");e("YsG+");class Rn extends nn{constructor(l,n,e,t,i,u,o,a){super(l,t,i,u,o),this.utilService=l,this.fwcRoutingPolicyService=n,this.fwcPolicyGridRoutingRulesFunctionalityService=e,this.translationKeys={ENTITY_NAME:"RULE.RULE",ENTITY_DELETE:"RULE.DELETE_TEXT",DELETE_SUCCESS:"RULE.DELETE_SUCCESS",ENTITY_COLOR:"RULE.COLOR_TEXT"},this.buildPolicyRules(a)}buildPolicyRules(l){let n=[];Array.isArray(l)&&(n=this.fwcPolicyGridRoutingRulesFunctionalityService.parseRoutingPolicyRules(this.firewallId,this.fwcloudId,l)),this.rules=n}convertPolicyRuleToRoutingRule(l){let n=[];if(Array.isArray(l.positions)&&l.positions.length){const e=l.positions.find(l=>l.id===zl.w.FROM_POSITION);if(e&&Array.isArray(e.ipobjs))for(const l of e.ipobjs)l._fwcObjType!==zl.t.OBJ_ANY&&n.push({id:l.id,name:l.name,type:l.type,firewall_id:l.firewall_id,cluster_id:l.cluster_id,cluster_name:l.cluster_name,position_order:l.position_order})}return{id:l.id,routingTableId:l.routingTableId,routingGroupId:l.idgroup,comment:l.comment,style:l.style,rule_order:l.rule_order,active:!!l.active,items:n}}newPolicyRule(l,n){l&&void 0!==n?this.fwcPolicyGridRoutingRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId,l.id,n):this.fwcPolicyGridRoutingRulesFunctionalityService.showNewRuleDialog(this.clusterId,this.firewallId)}updateRule(l){const n=l.formModel.comment,e=l.formModel.style,t=l.formModel.active,i=this.convertPolicyRuleToRoutingRule(l);this.fwcPolicyGridRoutingRulesFunctionalityService.updateRule(this.clusterId,this.firewallId,this.fwcloudId,i,n,e,!!t)}deletePolicyRuleApiCall(l){return this.utilService.fwcAPICall(this.fwcRoutingPolicyService.deleteRoutingPolicyRules.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcloudId,l)}manageObject(l,n,e,t){this.fwcPolicyGridRoutingRulesFunctionalityService.updateRulePosition(this,this.firewallId,this.fwcloudId,l,n,e,t)}deleteObject(l,n){this.fwcPolicyGridRoutingRulesFunctionalityService.deleteObjectFromPosition(this.firewallId,this.clusterId,this.fwcloudId,l.rule,l,n)}compileSelectedRoutes(){this.fwcPolicyGridRoutingRulesFunctionalityService.compileSelectedRules()}moveSelectedRules(l,n){this.fwcPolicyGridRoutingRulesFunctionalityService.moveSelectedRules(n.firewall,n.fwcloud,n.pasteOnRuleId,n.rulesIds,n.pasteOffset)}manageSelectedRules(l,n){return this.utilService.fwcAPICall(this.fwcRoutingPolicyService.manageRoutingPolicyRules.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcloudId,l.pasteOnRuleId,l.pasteOffset,l.rulesIds,n)}setRuleActive(l,n){this.fwcPolicyGridRoutingRulesFunctionalityService.updateSelectedRules(this.clusterId,this.firewallId,this.fwcloudId,{active:!!n})}setRuleComment(l){this.fwcPolicyGridRoutingRulesFunctionalityService.updateRuleComment(l)}setRuleApplyTo(l){this.fwcPolicyGridRoutingRulesFunctionalityService.handleChangeApplyToTable(l)}setRuleScript(l){}setRuleStyleApiCall(){return this.fwcPolicyGridRoutingRulesFunctionalityService.setRuleStyle.bind(this.fwcPolicyGridRoutingRulesFunctionalityService)}newRuleGroupApiCall(){return this.fwcPolicyGridRoutingRulesFunctionalityService.newRoutingRuleGroup.bind(this.fwcPolicyGridRoutingRulesFunctionalityService)}setRuleGroupStyleApiCall(){return this.fwcPolicyGridRoutingRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridRoutingRulesFunctionalityService)}setRuleGroupNameApiCall(){return this.fwcPolicyGridRoutingRulesFunctionalityService.setGroupValues.bind(this.fwcPolicyGridRoutingRulesFunctionalityService)}removeRulesFromGroupApiCall(l){const n=l.rulesIds;return this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRules.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcloudId,n,{routingGroupId:null})}deleteRuleGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcRoutingPolicyService.deleteRoutingPolicyRulesGroup.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcloudId,l)}}class wn extends nn{constructor(l,n,e,t,i,u,o,a,s){super(l,i,u,o,a),this.utilService=l,this.fwcPolicyService=n,this.fwcPositionFunctionalityService=e,this.fwcRuleFunctionalityService=t,this.translationKeys={ENTITY_NAME:"RULE.RULE",ENTITY_DELETE:"RULE.DELETE_TEXT",DELETE_SUCCESS:"RULE.DELETE_SUCCESS",ENTITY_COLOR:"RULE.COLOR_TEXT"},this.buildPolicyRules(s)}buildPolicyRules(l){this.rules=l||[]}newPolicyRule(l,n){let e;e=l&&void 0!==n?{id:void 0,idgroup:l.idgroup,firewall:l.firewall,rule_order:l.rule_order+n,action:l.action,time_start:void 0,time_end:void 0,active:1,options:0,comment:"",type:l.type,style:l.group_style,fwcloud:this.fwcloudId,special:l.special?l.special:0}:{id:void 0,idgroup:null,firewall:this.firewallId,rule_order:1,action:zl.k.FWACTION_ACCEPT,time_start:void 0,time_end:void 0,active:1,options:0,comment:"",type:this.policyType,fwcloud:this.fwcloudId},this.fwcRuleFunctionalityService.createNewRule(e,l)}deletePolicyRuleApiCall(l){return this.utilService.fwcAPICall(this.fwcPolicyService.deletePolicyRules.bind(this.fwcPolicyService),this.firewallId,l,this.fwcloudId)}manageObject(l,n,e,t){this.fwcPositionFunctionalityService.manageObject(this.firewallId,this.clusterId,l,n,e,t)}deleteObject(l,n){this.fwcPositionFunctionalityService.deleteObjectFromPosition(this.firewallId,this.clusterId,l.rule,l,n)}compileSelectedRoutes(l){this.fwcRuleFunctionalityService.compileSelectedRules(l)}moveSelectedRules(l,n){this.fwcRuleFunctionalityService.moveSelectedRules(l,n)}manageSelectedRules(l,n){return this.utilService.fwcAPICall(this.fwcPolicyService.managePolicyRules.bind(this.fwcPolicyService),l,n)}setRuleActive(l,n){this.fwcRuleFunctionalityService.setRulesProperty(l,"active",n)}setRuleComment(l){this.fwcRuleFunctionalityService.updateRule(l)}setRuleScript(l){this.fwcRuleFunctionalityService.updateRule(l)}setRuleStyleApiCall(){return this.fwcRuleFunctionalityService.onSetRuleCustomColor.bind(this.fwcRuleFunctionalityService)}newRuleGroupApiCall(){return this.fwcRuleFunctionalityService.newRuleGroup.bind(this.fwcRuleFunctionalityService)}setRuleGroupStyleApiCall(){return this.fwcRuleFunctionalityService.onSetGroupCustomColor.bind(this.fwcRuleFunctionalityService)}setRuleGroupNameApiCall(){return this.fwcRuleFunctionalityService.onSetGroupName.bind(this.fwcRuleFunctionalityService)}removeRulesFromGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcPolicyService.deletePolicyRulesGroupRuleFromGroup.bind(this.fwcPolicyService),l)}deleteRuleGroupApiCall(l){return this.utilService.fwcAPICall(this.fwcPolicyService.deletePolicyRulesGroup.bind(this.fwcPolicyService),this.firewallId,l,this.fwcloudId)}setRuleApplyTo(l){this.fwcRuleFunctionalityService.updateRule(l)}}e("ZujO");class En{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h,m,v,C,S,_,R,w,E,I,b,O,y){this.refService=l,this.fwcFirewallService=n,this.fwcPolicyService=e,this.fwcRoutingPolicyService=t,this.fwcRoutingTableService=i,this.fwcPositionService=u,this.itemSelectedService=o,this.ruleSelectedService=a,this.fwcContextMenuService=s,this.fwcRuleFunctionalityService=r,this.fwcPositionFunctionalityService=c,this.fwcPolicyGridFunctionalityService=d,this.fwcPolicyGridRoutingRulesFunctionalityService=p,this.fwcPolicyGridRoutingTableFunctionalityService=f,this.fwcDhcpPolicyService=g,this.fwcPolicyGridDhcpRulesFunctionalityService=h,this.fwcKeepalivedPolicyService=m,this.fwcPolicyGridKeepalivedRulesFunctionalityService=v,this.fwcUserService=C,this.fwActionsService=S,this.fwcErrorPipe=_,this.confirmationService=R,this.messageService=w,this.inputDataService=E,this.utilService=I,this.store=b,this.cd=O,this.translate=y,this.applicationRef=null,this.contextMenuReference=null,this.ruleGroupsExpanded=[],this.fwcSelectedPolicy={},this.RulesStylesBg=Cn.K,this.POLICY_TYPES_FROM_NODES=Cn.H,this.NodeTypes=Cn.B,this.gridColumns=[],this.selectedGridColumns=[],this.alive=!0,this.loadingData=!1,this.ObjectTypes=Cn.E,this.showPaginator=!1,this.MAX_ROWS_PER_PAGE=100,this.SpecialPolicyTypes=Cn.M,this.SpecialPolicyRules=Cn.L,this.RoutingPolicyPositions=Cn.I,this.DhcpPolicyPositions=Cn.j,this.KeepalivedPolicyPositions=Cn.v,this.selectedRules=[],this.columnVisibility={applyTo:!0,comments:!0},this.msgNoRules=this.fwcSelectedPolicy&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.M.ROUTING_TABLE?{type:"warning",title:this.translate.instant("POLICY_GRID.ERR_EMPTY.SUMMARY"),text:this.translate.instant("POLICY_GRID.ERR_EMPTY.TEXT")}:{type:"warning",title:this.translate.instant("POLICY_GRID.ERR_EMPTY_ROUTING_TABLE.SUMMARY"),text:this.translate.instant("POLICY_GRID.ERR_EMPTY_ROUTING_TABLE.TEXT")}}ngAfterViewInit(){let l=this;setTimeout((function(){let n=l.refService.getAppRef();l.contextMenuReference=n,l.applicationRef=n}),1)}ngOnInit(){this.fwcPolicyService.reloadPolicy().pipe(Object(V.a)(()=>this.alive)).subscribe(()=>{this.onPolicySelect(this.fwcSelectedPolicy,!0)}),this.fwcPolicyService.getSelectedPolicy().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.onPolicySelect(l,l&&l._forcePolicyReload)}),this.ruleSelectedService.getSelectedRules().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.selectedRules=l}),this.ruleSelectedService.getRuleStatus().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.ruleStatus=l||""===l?l||this.translate.instant("GLOBALS.MSG_OP_RESULT.LOADING"):null}),this.ruleSelectedService.getRuleHeightRecalculate().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{let n=this.fwcPolicyObject.getPolicyRule(l);n&&this.fwcPolicyGridFunctionalityService.calcRuleHeight(n)}),this.ruleSelectedService.getModifiedRule().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(l){let n;for(let e of this.fwcPolicyGridFunctionalityService.policyIterator(this.fwcPolicyObject.getPolicyRules()))if(e.id===l.id){n=e;break}n&&(n.options=l.options,n.run_before=l.run_before,n.run_after=l.run_after,this.fwcRuleFunctionalityService.setRuleTooltip(n),this.refreshComponent())}}),this.ruleSelectedService.getSelectedRuleRange().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{let n=[];if(l){const e=this.fwcPolicyObject.getPolicyRules();for(let t=0;t<e.length;t++){let i=e[t];if(i.rule_group)for(let e=0;e<i.rules.length;e++){let t=i.rules[e];t.rule_order>=l.minRuleOrder&&t.rule_order<=l.maxRuleOrder&&n.push(t)}else i.rule_order>=l.minRuleOrder&&i.rule_order<=l.maxRuleOrder&&n.push(i)}}this.ruleSelectedService.setSelectedRules(n)}),this.ruleGroupContextMenu=this.fwcContextMenuService.getRuleGroupMenus(),this.fwcUserService.getFwcUser().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{l&&(this.fwcUserObject=l,this.fwcUser=l.user_id,this.fwCloud=l.selectedFwCloud)}),this.itemSelectedService.getModifiedItem().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(this.fwcPolicyObject){const n=this.fwcPolicyObject.getPolicyRules();if(n){if(l.deleteFromList){let e=null;for(let t of this.fwcPolicyGridFunctionalityService.policyIterator(n))if(l.srcRuleId==t.id){e=t;break}if(e&&e.positions){let n=null;for(let t=0;t<e.positions.length;t++){const i=e.positions[t];if(l.srcPositionId==i.id){n=i;break}}if(n&&n.ipobjs)for(let e=0;e<n.ipobjs.length;e++){let t=n.ipobjs[e];t._fwcObjId==l._fwcObjId&&t._fwcObjType==l._fwcObjType&&this.fwcPositionFunctionalityService.removeItemAt(n,e)}}}else if(l.highlightItem){for(let n of this.fwcPolicyGridFunctionalityService.policyIterator(this.fwcPolicyObject.getPolicyRules()))if(Array.isArray(n.positions))for(let e=0;e<n.positions.length;e++){let t=n.positions[e];if(Array.isArray(t.ipobjs))for(let n=0;n<t.ipobjs.length;n++){let e=t.ipobjs[n];e.highlighted=e._fwcObjId==l._fwcObjId&&e._fwcObjType==l._fwcObjType&&l.highlighted}}}else if(l._fwcObjType!=Cn.E.OBJ_FIREWALL&&l._fwcObjType!=Cn.E.OBJ_CLUSTER){for(let n of this.fwcPolicyGridFunctionalityService.policyIterator(this.fwcPolicyObject.getPolicyRules()))if(Array.isArray(n.positions))for(let e=0;e<n.positions.length;e++){let t=n.positions[e];if(Array.isArray(t.ipobjs))for(let n=0;n<t.ipobjs.length;n++){let e=t.ipobjs[n];if(e._fwcObjId==l._fwcObjId&&e._fwcObjType==l._fwcObjType)for(let n of Object.keys(e))void 0!==l[n]&&(e[n]=l[n])}}if(l._fwcObjType===Cn.E.OBJ_MARK)for(let n of this.fwcPolicyGridFunctionalityService.policyIterator(this.fwcPolicyObject.getPolicyRules()))n.mark&&l._fwcObjId===n.mark&&(n.mark_name=l._fwcObjName,l.code&&(n.mark_code=l.code))}this.refreshComponent()}}}),this.utilService.getGridScroll().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.fwcPolicyGridFunctionalityService.showRulesInViewport(this.fwcPolicyObject.getPolicyRules(),l)})}ngOnDestroy(){this.alive=!1}refreshComponent(){this.cd.destroyed||this.cd.detectChanges()}onPolicySelect(l,n){if(!l)return void _n.a.log(">> Undefined selected policy");if(null==l._fwcFwId)return this.fwcTypesPositions=[],this.fwcPolicyPositions=[],this.fwcSelectedPolicy=l,this.fwcPolicyObject&&this.fwcPolicyObject.setPolicyRules(null),this.fwcPolicyService.setActualPolicy(null),void this.refreshComponent();if(this.fwcSelectedPolicy&&l._fwcPolicyName!==this.fwcSelectedPolicy._fwcPolicyName&&(this.fwcSelectedPolicy._fwcPolicyName=l._fwcPolicyName),null!=l.fwcloud&&l.fwcloud!=this.fwCloud)return void this.confirmationService.confirm({header:"ERROR",icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("POLICY_GRID.MSG_POL_LOAD_ERROR"),rejectVisible:!1,acceptLabel:"Ok"});null!=l._fwcFwId&&this.fwcSelectedPolicy&&l._fwcFwId!=this.fwcSelectedPolicy._fwcFwId&&_n.a.log(this.translate.instant("POLICY_GRID.MSG_POL_LOAD_FW"));let e={};n||(e._fwcSelectRuleId=l._fwcSelectRuleId,e._fwcSelectRulePositionIds=l._fwcSelectRulePositionIds,e._fwcSelectObjId=l._fwcSelectObjId,e._fwcSelectObjType=l._fwcSelectObjType),e._selectedRules=l._selectedRules;const t=this.fwcSelectedPolicy&&this.fwcSelectedPolicy._fwcFwId==l._fwcFwId&&this.fwcSelectedPolicy._fwcPolicyType==l._fwcPolicyType&&this.fwcSelectedPolicy._fwcObjId===l._fwcObjId;t&&!n?(this.clearHighlightedRules(),null!=e._fwcSelectRuleId&&(this.highlightRule(e._fwcSelectRuleId,e._fwcSelectRulePositionIds),this.itemSelectedService.setSearchItem(e)),this.refreshComponent()):(this.loadingData=!0,this.refreshComponent(),!this.fwcSelectedPolicy||this.fwcSelectedPolicy._fwcFwId==l._fwcFwId&&this.fwcSelectedPolicy._fwcPolicyType==l._fwcPolicyType||(this.ruleGroupsExpanded=[],this.ruleSelectedService.clearClipboardRules(),this.ruleSelectedService.clearSelectedRules(),this.itemSelectedService.clearClipboardItem()),Promise.all([this.getPolicy(l._fwcFwId,l._fwcClusterId,l._fwcPolicyType,l._fwcObjId),this.getTypesPositions(),this.getClusterNodes(l._fwcClusterId),this.getRoutingTables(l._fwcFwId,l._fwcPolicyType)]).then(([n,i,u,o])=>{this.fwcPolicyObject=n;let a=n.getPolicyRules(),s=i.data,r=u.data,c=o.data;if(e._selectedRules&&this.ruleSelectedService.updateSelectedRules(e._selectedRules,a),this.clusterNodesItems=[{label:this.translate.instant("RULE.ALL_NODES"),value:null}],r&&Array.isArray(r)&&r.forEach(l=>{this.clusterNodesItems.push({label:l.name,value:l.id,icon:"&#x1F6E1;"})}),c){this.routingTablesItems=[];for(const l of c)this.routingTablesItems.push({label:l.name,value:l.id})}t||(this.fwcPolicyGridFunctionalityService.clearActualViewportInfo(),this.fwcPolicyGridFunctionalityService.resetMaximumRuleHeight(),this.utilService.setGridScrollToTop()),this.parsePolicy(a,s,l),this.ruleSelectedService.clearSelectedRules(),null!=e._fwcSelectRuleId&&(this.highlightRule(e._fwcSelectRuleId,e._fwcSelectRulePositionIds),this.itemSelectedService.setSearchItem(e))}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.loadingData=!1,this.refreshComponent()}))}getPolicy(l,n,e,t){return new Promise((i,u)=>{switch(e){case Cn.M.POLICY_ROUTING:this.fwcRoutingPolicyService.getRoutingPolicyGrid(l,this.fwCloud).pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{const u=new Rn(this.utilService,this.fwcRoutingPolicyService,this.fwcPolicyGridRoutingRulesFunctionalityService,l,n,this.fwCloud,e,t.data);i(u)},l=>{u(l)});break;case Cn.M.ROUTING_TABLE:this.fwcRoutingTableService.getRoutingTableRoutesGrid(l,this.fwCloud,t).pipe(Object(V.a)(()=>this.alive)).subscribe(u=>{const o=new en(this.utilService,this.fwcRoutingTableService,this.fwcPolicyGridRoutingTableFunctionalityService,l,n,this.fwCloud,e,u.data,t,this.fwcPolicyService.getActualSelectedPolicy()._fwcPolicyName);i(o)},l=>{u(l)});break;case Cn.H[Cn.B.DHCP]:this.fwcDhcpPolicyService.getDhcpPolicyGrid(l,this.fwCloud,1).pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{const u=new un(this.utilService,this.fwcDhcpPolicyService,this.fwcPolicyGridDhcpRulesFunctionalityService,l,n,this.fwCloud,e,t.data);i(u)},l=>{u(l)});break;case Cn.H[Cn.B.DHCP_FIXED_IP]:this.fwcDhcpPolicyService.getDhcpPolicyGrid(l,this.fwCloud,2).pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{const u=new un(this.utilService,this.fwcDhcpPolicyService,this.fwcPolicyGridDhcpRulesFunctionalityService,l,n,this.fwCloud,e,t.data);i(u)},l=>{u(l)});break;case Cn.H[Cn.B.KEEPALIVED]:this.fwcKeepalivedPolicyService.getKeepalivedPolicyGrid(l,this.fwCloud).pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{const u=new on(this.utilService,this.fwcKeepalivedPolicyService,this.fwcPolicyGridKeepalivedRulesFunctionalityService,l,n,this.fwCloud,e,t.data);i(u)},l=>{u(l)});break;default:this.fwcPolicyService.getPolicy(l,e,this.fwCloud).pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{const u=new wn(this.utilService,this.fwcPolicyService,this.fwcPositionFunctionalityService,this.fwcRuleFunctionalityService,l,n,this.fwCloud,e,t.data);i(u)},l=>{u(l)})}})}getTypesPositions(){return new Promise((l,n)=>{this.fwcPositionService.getTypesPositions().pipe(Object(V.a)(()=>this.alive)).subscribe(n=>{l(n)},l=>{n(l)})})}getClusterNodes(l){return new Promise((n,e)=>{null!=l?this.fwcFirewallService.getClusterNodes(l,this.fwCloud).pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{n(l)},l=>{e(l)}):n({data:[]})})}getRoutingTables(l,n){return new Promise((e,t)=>{n===Cn.M.POLICY_ROUTING?this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),l,this.fwcUserService.getActualFwSelectedCloud()).then(l=>{e(l)}).catch(l=>{t(l)}):e({data:null})})}policyRowTrackBy(l,n){return n.id||null}positionObjectsTrackBy(l,n){return n.id||null}parsePolicy(l,n,e){return Object(Xl.b)(this,void 0,void 0,(function*(){let t=!1;const i=[];let u,o=0;if(e&&l&&n){e._fwcUserId=this.fwcUser,e.show_action=!(e._fwcPolicyType===Cn.H[Cn.B.POLICY_SNAT]||e._fwcPolicyType===Cn.H[Cn.B.POLICY_DNAT]||e._fwcPolicyType===Cn.H[Cn.B.POLICY_ROUTING]||e._fwcPolicyType===Cn.H[Cn.B.ROUTING_TABLE]||e._fwcPolicyType===Cn.H[Cn.B.DHCP]||e._fwcPolicyType===Cn.H[Cn.B.DHCP_FIXED_IP]||e._fwcPolicyType===Cn.H[Cn.B.KEEPALIVED]),0===Object.keys(l).length&&l.constructor===Object&&(l=[]);for(const n of l){o++,n._fwcRuleOrder=o,n._fwcUserId=this.fwcUser,n._fwcClusterId=e._fwcClusterId,n.formModel={action:n.action,comment:n.comment,fw_apply_to:n.fw_apply_to,mark:n.mark,style:n.style,active:n.active,run_before:n.run_before,routingTableId:n.routingTableId,max_lease:n.max_lease,cfg_text:n.cfg_text},n.idgroup&&(t=!0);let l=n.negate,i=[];if(l&&(i=l.split(" ").map(l=>Number(l))),Array.isArray(n.positions)){let l=0;for(let e=0;e<n.positions.length;e++){let t=n.positions[e];t.positionUID=`${n.firewall}-${n.id}-${t.id}`.split("").reduce((function(l,n){return(l=(l<<5)-l+n.charCodeAt(0))&l}),0),t.rule=n.id;let u=+t.id;if(i&&-1!=i.findIndex(l=>l==u)&&(t.negate=!0),Array.isArray(t.ipobjs)){t.ipobjs.length>l&&(l=t.ipobjs.length);for(let l=0;l<t.ipobjs.length;l++){let e=t.ipobjs[l];e.position_order!=l+1&&(e.position_order=l+1),e.type=+e.type,e._fwcObjName=e.type==Cn.E.OBJ_CONTINENT?this.translate.instant("NODE_TYPES."+e.name):e.type==Cn.E.OBJ_COUNTRIE?this.translate.instant("COUNTRIES."+e.name):e.name,e._fwcObjType=e.obj_type=e.type,e._fwcObjId=e.id_obj=e.id,e._fwcFwId=e.parent_id=e.firewall_id,e._fwcFwName=e.firewall_name,e._fwcRuleId=n.id,e._fwcPositionId=t.id,e._fwcUserId=this.fwcUser,e._fwcOpenVPNId=e.openvpn,null!=e.cluster_id&&(e.parent_id=e._fwcClusterId=e.cluster_id),null!=e.host_id&&(e.parent_id=e._fwcHostId=e.host_id)}}else t.ipobjs=[];t.ipobjs.push({_fwcObjId:Cn.E.OBJ_ANY,_fwcObjName:n.special==Cn.L.CROWDSEC&&"Source"==t.name?"":"(Any)",_fwcObjType:Cn.E.OBJ_ANY,allowDrag:!1,hidden:!0})}this.fwcPolicyGridFunctionalityService.calcRuleHeight(n,l)}}l[0]&&l[0].positions&&(u=l[0].positions);for(const l of n){const n=l.type,e=l.position;i[e]||(i[e]=[]),i[e].push(n)}t&&(l=this.parsePolicyWithGroups(l)),this.fwcPolicyGridFunctionalityService.showRulesInViewport(l),this.fwcTypesPositions=i,this.fwcPolicyObject.setPolicyRules(l),this.fwcPolicyPositions=u,this.fwcSelectedPolicy=e,this.numberOfGridColumns=u?u.length+2:0,null!=this.fwcSelectedPolicy._fwcClusterId&&this.numberOfGridColumns++,this.fwcSelectedPolicy.show_action&&this.numberOfGridColumns++,this.fwcSelectedPolicy._fwcPolicyType===Cn.M.POLICY_ROUTING&&this.numberOfGridColumns++,this.fwcSelectedPolicy._fwcPolicyType===Cn.H[Cn.B.DHCP]&&this.numberOfGridColumns++,this.fwcSelectedPolicy._fwcPolicyType===Cn.H[Cn.B.DHCP_FIXED_IP]&&this.numberOfGridColumns++,this.fwcSelectedPolicy._fwcPolicyType===Cn.H[Cn.B.KEEPALIVED]&&this.numberOfGridColumns++,this.fwcPolicyService.setActualPolicy(l)}else _n.a.log("Wrong data in policy parsing")}))}parsePolicyWithGroups(l){let n=[];for(let e=0;e<l.length;e++){let t=l[e];if(t.idgroup){let i,u=t.idgroup,o={rule_group:!0,idgroup:u,group_name:t.group_name,group_style:t.group_style,rules:[],groupHide:!0};for(this.fwcPolicyGridFunctionalityService.calcRuleHeight(o),-1!=this.ruleGroupsExpanded.findIndex(l=>l==o.idgroup)&&(o.groupHide=!1),i=e;i<l.length&&l[i].idgroup==u;i++)o.rules.push(l[i]);n.push(o),e=i-1}else n.push(t)}return n}isRuleSelected(l){for(let n=0;n<this.selectedRules.length;n++)if(this.selectedRules[n].id==l.id)return!0;return!1}clearHighlightedRules(){const l=this.fwcPolicyObject.getPolicyRules();if(l){let n=[],e=l;if(e&&e.length)for(n.push(...e);n.length;){let l=n.pop();if(l.highlighted&&delete l.highlighted,l.positions)for(let n=0;n<l.positions.length;n++)l.positions[n].highlighted&&delete l.positions[n].highlighted;l.rule_group&&l.rules&&l.rules.length&&n.push(...l.rules)}}}highlightRule(l,n){this.expandGroup(l);const e=this.fwcPolicyObject.getPolicyRules();if(e){let t=e;if(t&&t.length)for(let e=0;e<t.length;e++){let i=t[e];if(i.rule_group&&i.rules&&i.rules.length)for(let e=0;e<i.rules.length;e++){let t=i.rules[e];if(t.id===l){this.highlightRulePosition(t,n);break}}else if(i.id===l){this.highlightRulePosition(i,n);break}}this.refreshComponent();let i=document.querySelector("#rule_"+l);i&&i.scrollIntoView({block:"center"})}}highlightRulePosition(l,n){let e=!1;if(Array.isArray(n)||(n=[]),l&&l.positions){for(let t=0;t<l.positions.length;t++){const i=l.positions[t];n.find(l=>l===i.id)&&(i.highlighted=!0,e=!0,setTimeout(()=>{i.highlighted=!1,this.refreshComponent()},4e3))}e||(l.highlighted=!0,setTimeout(()=>{l.highlighted=!1,this.refreshComponent()},4e3))}}expandGroup(l){const n=this.fwcPolicyObject.getPolicyRules();if(n){let e=n;if(e&&e.length)for(let n=0;n<e.length;n++)if(e[n].rule_group){let t=e[n],i=t.rules;i&&i.length&&i.find(n=>n.id===l)&&this.toggleGroupVisible(t,!1)}}}toggleGroupVisible(l,n){if(l.groupHide=!0===n||!1===n?n:!l.groupHide,l.groupHide||-1!=this.ruleGroupsExpanded.findIndex(n=>n==l.idgroup)||this.ruleGroupsExpanded.push(l.idgroup),l.groupHide){let n;n=this.ruleGroupsExpanded.findIndex(n=>n==l.idgroup),-1!=n&&this.ruleGroupsExpanded.splice(n,1)}this.fwcPolicyGridFunctionalityService.showRulesInViewport(this.fwcPolicyObject.getPolicyRules())}createNewRule(l){l.newPolicyRule()}policyReload(l){let n={};n=Object.assign(this.fwcSelectedPolicy),n._forcePolicyReload=!0,l&&(n._selectedRules=l.slice(0)),this.fwcPolicyService.setSelectedPolicy(n)}onRuleEnter(l,n){l.highlighted&&delete l.highlighted,this.itemSelectedService.setObjectInfo(void 0,n)}contextMenuLoad(l,n){let e=this.ruleGroupContextMenu.RULE_GROUP.items;if(e)for(let t=0;t<e.length;t++){let n=e[t];n.id==Cn.g.FOLDER_EXPAND?n.visible=!!l.groupHide:n.id==Cn.g.FOLDER_COLLAPSE&&(n.visible=!l.groupHide)}}contextMenuHandler(l,n,e){let t=n.rules[0];if(e.item)switch(e.item.id){case Cn.g.FOLDER_EXPAND:case Cn.g.FOLDER_COLLAPSE:this.toggleGroupVisible(n);break;case Cn.g.RULE_GROUP_EDIT:case Cn.g.RULE_GROUP_COLOR_CHANGE:{let i={id:t.idgroup,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:t.firewall,style:n.group_style,name:n.group_name,comment:void 0,groupIds:[]},u={header:this.translate.instant("POLICY_GRID.GR_NAME.HEADER"),helpText:this.translate.instant("POLICY_GRID.GR_NAME.TEXT"),formControls:[{name:"groupData",type:"hidden",value:i},{name:"group",type:"hidden",value:n},{name:"policyType",type:"hidden",value:l.getPolicyType()}],onAccept:l.setRuleGroupNameApiCall()};e.item.id==Cn.g.RULE_GROUP_EDIT?(u.formControls.push({name:"groupName",label:this.translate.instant("POLICY_GRID.GR_NAME.NAME"),type:"text",required:!0,value:n.group_name}),this.inputDataService.setInputData(u)):(u.formControls.push({name:"groupColor",placeholder:this.translate.instant("RULE.COLOR_PLACEHOLDER"),type:"colorpicker",value:n.group_style}),u.header=this.translate.instant("RULE.COLOR_HEADER"),u.helpText=this.translate.instant("RULE.GROUP_COLOR_TEXT"),u.onAccept=l.setRuleGroupStyleApiCall(),this.inputDataService.setInputData(u));break}case Cn.g.RULE_REMOVE_GROUP:t.idgroup&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("POLICY_GRID.GR_DELETE",{name:t.group_name}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{l.deleteRuleGroupApiCall(t.idgroup).then(l=>{this.store.dispatch(Ql.a.reloadDialog({dialogUuids:[zl.g.ITEM_PANEL]}));let n=[];n.push(t),this.policyReload(n)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}})}}onKeyup(l){if(l&&l.key&&"BODY"===l.target.nodeName){let n=l.key.toUpperCase(),e=l.shiftKey;if(l.ctrlKey){const t=this.ruleSelectedService.getActualSelectedRules(),i=this.ruleSelectedService.getActualClipboardRules();if("C"==n&&t&&(l.preventDefault(),this.ruleSelectedService.copyRulesToClipboard()),"X"==n&&t&&(l.preventDefault(),this.ruleSelectedService.cutRulesToClipboard()),"V"==n&&t&&i){l.preventDefault();let n=Cn.g.PASTE_BELOW,u=t[t.length-1];e&&(n=Cn.g.PASTE_ABOVE,u=t[0]),this.fwcRuleFunctionalityService.pasteSelectedRules(this.fwcPolicyObject,u,i,n)}if(("ARROWUP"===n||"ARROWDOWN"===n)&&t){l.preventDefault();let e,i=t[t.length-1],u=Cn.g.RULE_MOVE_BELOW;"ARROWUP"===n&&(i=t[0],u=Cn.g.RULE_MOVE_ABOVE),e=this.fwcRuleFunctionalityService.newRulesData(i,t,u,zl.b.CUT),this.fwcRuleFunctionalityService.moveSelectedRules(i,e)}}if("DELETE"==n){const n=this.ruleSelectedService.getActualSelectedRules();l.preventDefault(),n&&this.fwcRuleFunctionalityService.deleteSelectedRules(this.fwcPolicyObject,n[0],n,Cn.g.RULE_DELETE)}}}getPolicyRulesLength(){let l=0;const n=this.fwcPolicyObject.getPolicyRules();if(n)for(let e=0;e<n.length;e++){const t=n[e];t.rules?l+=t.rules.length:l++}return l}onPageChange(l){this.refreshComponent()}getColumnsCount(){let l=this.numberOfGridColumns;return!1===this.columnVisibility.comments&&(l-=1),this.fwcSelectedPolicy&&null!=this.fwcSelectedPolicy._fwcClusterId&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.M.ROUTING_TABLE&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.M.POLICY_ROUTING&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.H[Cn.B.DHCP]&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.H[Cn.B.DHCP_FIXED_IP]&&this.fwcSelectedPolicy._fwcPolicyType!==Cn.H[Cn.B.KEEPALIVED]&&!1===this.columnVisibility.applyTo&&(l-=1),l}}var In=t["\u0275crt"]({encapsulation:0,styles:[[".fwcTableContainer[_ngcontent-%COMP%]{overflow-x:auto;box-sizing:border-box;padding-right:1.5rem}.fwcSticky[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;z-index:10;top:0}div.fwcDivRPad[_ngcontent-%COMP%]{padding-right:1.5rem!important}.divGridLoader[_ngcontent-%COMP%]{display:flex;align-items:center;position:fixed;bottom:1rem;left:50%;transform:translateX(-50%);padding:.2rem 1rem;background:rgba(255,255,255,.7);border-radius:1rem}.divGridLoader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.3rem}"]],data:{}});function bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"h1",[["class","fwc-centerHV fwcIconHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-eye"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" ","\n"])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("POLICY_GRID.POL_PANEL")))}))}function On(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0 "])),(l()(),t["\u0275eld"](3,0,null,null,1,"span",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Cluster: "]))],null,null)}function yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fwcMenuIcon fwci-firewall fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0 "])),(l()(),t["\u0275eld"](2,0,null,null,1,"span",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["Firewall: "]))],null,null)}function Tn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"p-button",[["class","mr-2 ml-2"],["icon","pi pi-cog"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.settingsSidebar=!0)&&t),t}),Ol.b,Ol.a)),t["\u0275did"](1,49152,null,0,G.Button,[],{type:[0,"type"],icon:[1,"icon"]},null)],(function(l,n){l(n,1,0,"button","pi pi-cog")}),null)}function Pn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Nn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","ui-g-12"]],null,null,null,null,null))],null,null)}function Dn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function An(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function Ln(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function Mn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function Fn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function Un(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,11,"colgroup",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"col",[],[[4,"width",null]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Dn)),t["\u0275did"](3,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,An)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ln)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mn)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fn)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.fwcPolicyPositions),l(n,5,0,(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcPolicyType)===e.SpecialPolicyTypes.POLICY_ROUTING),l(n,7,0,null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy.show_action),l(n,9,0,e.columnVisibility.applyTo&&null!=(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcClusterId)&&e.fwcSelectedPolicy._fwcPolicyType!==e.SpecialPolicyTypes.ROUTING_TABLE&&e.fwcSelectedPolicy._fwcPolicyType!==e.SpecialPolicyTypes.POLICY_ROUTING&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]),l(n,11,0,e.columnVisibility.comments)}),(function(l,n){l(n,1,0,"3rem")}))}function kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"th",[["pResizableColumn",""]],[[4,"width",null]],null,null,null,null)),t["\u0275did"](1,4341760,null,0,yl.ResizableColumn,[yl.Table,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](2,null,[" "," "]))],null,(function(l,n){l(n,0,0,"Source"==n.context.$implicit.name||"Destination"==n.context.$implicit.name?"20%":""),l(n,2,0,n.context.$implicit.name)}))}function Gn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ROUTING.NEW_TABLE_PANEL.TABLE")))}))}function jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"th",[["pResizableColumn",""]],null,null,null,null,null)),t["\u0275did"](1,4341760,null,0,yl.ResizableColumn,[yl.Table,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("POLICY_GRID.RULES.ACTION")))}))}function xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"th",[["pResizableColumn",""]],null,null,null,null,null)),t["\u0275did"](1,4341760,null,0,yl.ResizableColumn,[yl.Table,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("POLICY_GRID.RULES.APPLY_TO")))}))}function Vn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"th",[["pResizableColumn",""],["style","width:6rem"]],null,null,null,null,null)),t["\u0275did"](1,4341760,null,0,yl.ResizableColumn,[yl.Table,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("POLICY_GRID.RULES.LEASE_TIME")))}))}function Bn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["#"])),(l()(),t["\u0275and"](16777216,null,null,1,null,kn)),t["\u0275did"](4,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gn)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jn)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xn)),t["\u0275did"](10,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Vn)),t["\u0275did"](12,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](13,0,null,null,3,"th",[["pResizableColumn",""]],null,null,null,null,null)),t["\u0275did"](14,4341760,null,0,yl.ResizableColumn,[yl.Table,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](15,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,4,0,e.fwcPolicyPositions),l(n,6,0,(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcPolicyType)===e.SpecialPolicyTypes.POLICY_ROUTING),l(n,8,0,null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy.show_action),l(n,10,0,null!=(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcClusterId)&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]),l(n,12,0,e.fwcSelectedPolicy._fwcPolicyType===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP])}),(function(l,n){l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("POLICY_GRID.RULES.COMMENT")))}))}function Wn(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Bn)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,(null==e.fwcPolicyPositions?null:e.fwcPolicyPositions.length)||e.fwcSelectedPolicy._fwcPolicyType==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]||e.fwcSelectedPolicy._fwcPolicyType==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED])}),null)}function Hn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Jn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-fw fa-chevron-down"]],null,null,null,null,null))],null,null)}function $n(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-fw fa-chevron-right"]],null,null,null,null,null))],null,null)}function Yn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275ted"](5,null,[" ",") "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,4,0,n.parent.parent.context.$implicit.rules.length),l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("POLICY_GRID.RULES.RULES")))}))}function Kn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["(",")"])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("POLICY_GRID.RULES.NO_RULES")))}))}function qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Xn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,2,null,qn)),t["\u0275did"](2,540672,null,0,$.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](3,{$implicit:0,groupHide:1}),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=l(n,3,0,n.context.$implicit,n.parent.parent.parent.context.$implicit.groupHide);l(n,2,0,e,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent,15))}),null)}function zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Xn)),t["\u0275did"](2,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.rules,n.component.policyRowTrackBy)}),null)}function Zn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"tr",[["class","fwcGridGroup"]],[[4,"background-color",null]],null,null,null,null)),(l()(),t["\u0275eld"](1,16777216,null,null,18,"td",[],[[1,"colspan",0]],[[null,"menuOpening"],[null,"itemClick"],[null,"contextmenu"],[null,"mousedown"]],(function(l,n,e){var i=!0,u=l.component;return"contextmenu"===n&&(i=!1!==t["\u0275nov"](l,2).onContextMenu(e)&&i),"mousedown"===n&&(i=!1!==t["\u0275nov"](l,2).onMouseDown(e)&&i),"menuOpening"===n&&(i=!1!==u.contextMenuLoad(l.parent.context.$implicit,e)&&i),"itemClick"===n&&(i=!1!==u.contextMenuHandler(u.fwcPolicyObject,l.parent.context.$implicit,e)&&i),i}),null,null)),t["\u0275did"](2,1196032,null,1,Y.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),t["\u0275qud"](603979776,3,{templates:1}),(l()(),t["\u0275eld"](4,0,null,null,4,"span",[],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.toggleGroupVisible(l.parent.context.$implicit)&&t),t}),null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Jn)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$n)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275eld"](10,0,null,null,9,"span",[["class","spanGroupName"],["showDelay","700"],["tooltipPosition","bottom"]],null,null,null,null,null)),t["\u0275did"](11,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],escape:[1,"escape"],showDelay:[2,"showDelay"],text:[3,"text"]},null),(l()(),t["\u0275eld"](12,0,null,null,0,"i",[["aria-hidden","true"],["class","fwcMenuIcon fwci-objectgroup fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0\xa0"])),(l()(),t["\u0275eld"](14,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),(l()(),t["\u0275eld"](16,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yn)),t["\u0275did"](18,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["noRulesInGroup",2]],null,0,null,Kn)),(l()(),t["\u0275and"](16777216,null,null,1,null,zn)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.ruleGroupContextMenu.RULE_GROUP,e.contextMenuReference),l(n,6,0,!n.parent.context.$implicit.groupHide),l(n,8,0,n.parent.context.$implicit.groupHide),l(n,11,0,"bottom",!1,"700",t["\u0275inlineInterpolate"](1,"","ID: <strong>"+n.parent.context.$implicit.idgroup+"</strong>","")),l(n,18,0,null==n.parent.context.$implicit.rules?null:n.parent.context.$implicit.rules.length,t["\u0275nov"](n,19)),l(n,21,0,!n.parent.context.$implicit.groupHide)}),(function(l,n){var e=n.component;l(n,0,0,n.parent.context.$implicit.group_style?null!=e.RulesStylesBg[n.parent.context.$implicit.group_style]&&e.RulesStylesBg[n.parent.context.$implicit.group_style].length?e.RulesStylesBg[n.parent.context.$implicit.group_style]:n.parent.context.$implicit.group_style:e.RulesStylesBg[1e3]),l(n,1,0,e.fwcSelectedPolicy._fwcPolicyType===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]?e.getColumnsCount()-2:e.getColumnsCount()),l(n,15,0,n.parent.context.$implicit.group_name)}))}function Qn(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function le(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,2,null,Qn)),t["\u0275did"](1,540672,null,0,$.NgTemplateOutlet,[t.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),t["\u0275pod"](2,{$implicit:0,groupHide:1}),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=l(n,2,0,n.parent.context.$implicit,!1);l(n,1,0,e,t["\u0275nov"](n.parent.parent.parent.parent,15))}),null)}function ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Hn)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["ruleGroup",2]],null,0,null,Zn)),(l()(),t["\u0275and"](0,[["ruleNormal",2]],null,0,null,le))],(function(l,n){l(n,1,0,n.context.$implicit.rule_group,t["\u0275nov"](n,2),t["\u0275nov"](n,3))}),null)}function ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[["class","ui-paginator-current"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pod"](2,{first:0,last:1,totalRecords:2}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){var e=n.component,i=t["\u0275unv"](n,1,0,t["\u0275nov"](n,3).transform("POLICY_GRID.PAGINATOR_REPORT",l(n,2,0,t["\u0275nov"](n.parent,2).first+1,t["\u0275nov"](n.parent,2).first+e.MAX_ROWS_PER_PAGE>t["\u0275nov"](n.parent,2).totalRecords?t["\u0275nov"](n.parent,2).totalRecords:t["\u0275nov"](n.parent,2).first+e.MAX_ROWS_PER_PAGE,t["\u0275nov"](n.parent,2).totalRecords)));l(n,1,0,i)}))}function te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-paginator",[],null,[[null,"onPageChange"]],(function(l,n,e){var t=!0;return"onPageChange"===n&&(t=!1!==l.component.onPageChange(e)&&t),t}),Pl.b,Pl.a)),t["\u0275did"](2,114688,[[1,4],["gridPaginator",4]],0,Nl.Paginator,[t.ChangeDetectorRef],{alwaysShow:[0,"alwaysShow"],templateLeft:[1,"templateLeft"],totalRecords:[2,"totalRecords"],rows:[3,"rows"]},{onPageChange:"onPageChange"}),(l()(),t["\u0275and"](0,[["paginatorInfo",2]],null,0,null,ee))],(function(l,n){var e=n.component;l(n,2,0,!1,t["\u0275nov"](n,3),e.getPolicyRulesLength(),e.MAX_ROWS_PER_PAGE)}),null)}function ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"p-sidebar",[["position","right"]],null,[[null,"visibleChange"]],(function(l,n,e){var t=!0;return"visibleChange"===n&&(t=!1!==(l.component.settingsSidebar=e)&&t),t}),Ml,Al)),t["\u0275did"](1,12763136,null,0,Dl.Sidebar,[t.ElementRef,t.Renderer2],{position:[0,"position"],baseZIndex:[1,"baseZIndex"],visible:[2,"visible"]},{visibleChange:"visibleChange"}),(l()(),t["\u0275eld"](2,0,null,0,19,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"h5",[["class","fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,2,"b",[],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,10,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Nn)),t["\u0275did"](13,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](14,0,null,null,7,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,6,"p-checkbox",[["binary","true"],["name","comments"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.columnVisibility.comments=e)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](16,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],label:[2,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](19,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](21,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](22,0,null,0,2,"button",[["class","ui-button-secondary"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.settingsSidebar=!1)&&t),t}),null,null)),t["\u0275did"](23,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](25,0,null,null,11,"p-table",[["styleClass","fwcGridTable"]],null,null,null,kl.f,kl.c)),t["\u0275prd"](512,null,yl.TableService,yl.TableService,[]),t["\u0275did"](27,5488640,null,1,yl.Table,[t.ElementRef,t.NgZone,yl.TableService,t.ChangeDetectorRef],{style:[0,"style"],styleClass:[1,"styleClass"],rowTrackBy:[2,"rowTrackBy"],responsive:[3,"responsive"],resizableColumns:[4,"resizableColumns"],value:[5,"value"]},null),t["\u0275qud"](603979776,2,{templates:1}),t["\u0275pod"](29,{width:0}),t["\u0275ppd"](30,3),(l()(),t["\u0275and"](0,null,null,1,null,Un)),t["\u0275did"](32,16384,[[2,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Wn)),t["\u0275did"](34,16384,[[2,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,ne)),t["\u0275did"](36,16384,[[2,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,te)),t["\u0275did"](38,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,"right",1e4,e.settingsSidebar),l(n,13,0,null!=(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcClusterId)&&e.fwcSelectedPolicy._fwcPolicyType!==e.SpecialPolicyTypes.ROUTING_TABLE&&e.fwcSelectedPolicy._fwcPolicyType!==e.SpecialPolicyTypes.POLICY_ROUTING&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]),l(n,16,0,"comments","true",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,16,2,t["\u0275nov"](n,17).transform("POLICY_GRID.RULES.COMMENT")),"")),l(n,19,0,"comments",e.columnVisibility.comments),l(n,23,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,23,0,t["\u0275nov"](n,24).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""));var i=l(n,29,0,"100%"),u=e.policyRowTrackBy,o=t["\u0275unv"](n,27,5,l(n,30,0,t["\u0275nov"](n.parent.parent,0),e.fwcPolicyObject.getPolicyRules(),(null==e.gridPaginator?null:e.gridPaginator.first)||0,(null==e.gridPaginator?null:e.gridPaginator.rows)||0));l(n,27,0,i,"fwcGridTable",u,!0,!0,o),l(n,32,0,"colgroup"),l(n,34,0,"header"),l(n,36,0,"body"),l(n,38,0,e.showPaginator)}),(function(l,n){l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("POLICY_GRID.GRID_SETTINGS"))),l(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("POLICY_GRID.COLUMN_VISIBILITY"))),l(n,15,0,t["\u0275nov"](n,21).ngClassUntouched,t["\u0275nov"](n,21).ngClassTouched,t["\u0275nov"](n,21).ngClassPristine,t["\u0275nov"](n,21).ngClassDirty,t["\u0275nov"](n,21).ngClassValid,t["\u0275nov"](n,21).ngClassInvalid,t["\u0275nov"](n,21).ngClassPending)}))}function ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),(l()(),t["\u0275eld"](3,0,null,null,3,"div",[["class","divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"button",[["icon","fa fa-plus"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.createNewRule(i.fwcPolicyObject)&&t),t}),null,null)),t["\u0275did"](5,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.msgNoRules),l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform((null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcPolicyType)!==e.SpecialPolicyTypes.ROUTING_TABLE?"POLICY_GRID.RULES.CREATE":"CONTEXT.ROUTING.NEW_TABLE_ROUTE")),"fa fa-plus")}),null)}function oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,24,"div",[["class","divTableScroll fwcDivPadded fwcDivPaddedTB"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,19,"div",[["class","divFormHeader fwcHead fwcSticky"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,18,"h6",[["class","fwcLeftIcon"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,On)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showFwHeader",2]],null,0,null,yn)),(l()(),t["\u0275eld"](6,0,null,null,7,"span",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,["",""])),(l()(),t["\u0275eld"](9,0,null,null,0,"span",[["class","fwcSep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,[" ",": "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),(l()(),t["\u0275eld"](14,0,null,null,6,"span",[["class","fwc-right-float"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Tn)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275eld"](18,0,null,null,2,"button",[["class","ui-button-primary"],["icon","fwcMenuIcon fwci-loadpolicy"],["pButton",""]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onPolicySelect(i.fwcSelectedPolicy,!0)&&t),t}),null,null)),t["\u0275did"](19,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Pn)),t["\u0275did"](22,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showTable",2]],null,0,null,ie)),(l()(),t["\u0275and"](0,[["noData",2]],null,0,null,ue))],(function(l,n){var e=n.component;l(n,4,0,null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcClusterId,t["\u0275nov"](n,5)),l(n,16,0,e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("POLICY_GRID.RELOAD")),"fwcMenuIcon fwci-loadpolicy"),l(n,22,0,null==e.fwcPolicyObject?null:e.fwcPolicyObject.getPolicyRulesLength(),t["\u0275nov"](n,23),t["\u0275nov"](n,24))}),(function(l,n){var e=n.component;l(n,8,0,e.fwcSelectedPolicy._fwcFwName),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform(e.fwcSelectedPolicy._fwcPolicyType!==e.SpecialPolicyTypes.ROUTING_TABLE?"POLICY_GRID.POL_TYPE":"ROUTING.NEW_TABLE_PANEL.TABLE"))),l(n,13,0,e.fwcSelectedPolicy._fwcPolicyName)}))}function ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","divGridLoader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](2,49152,null,0,Bl.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](3,{width:0,height:1}),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "]))],(function(l,n){var e=l(n,3,0,"2rem","2rem");l(n,2,0,e)}),(function(l,n){l(n,5,0,n.component.ruleStatus)}))}function se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","fwcGroupSpacerDiv"]],null,null,null,null,null))],null,null)}function re(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","leftRibbon"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-times fwcWhite"]],null,null,null,null,null))],null,null)}function ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[["class","fwcRuleOptions"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-fw fa-cog fwcBlue"]],null,null,null,null,null))],null,null)}function de(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-file-code fwcOrange"]],null,null,null,null,null))],null,null)}function pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fwcIcon fwci-negateposition fwcRed"]],null,null,null,null,null))],null,null)}function fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["6"]))],null,null)}function ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"span",[["class","spanActionSpecial"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcIcon fwci-address fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" crowdsec"])),(l()(),t["\u0275and"](16777216,null,null,1,null,fe)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](-1,null,["-blacklists "]))],(function(l,n){l(n,4,0,n.parent.parent.parent.parent.parent.parent.context.$implicit.type>60)}),null)}function he(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"span",[["class","fwcPaleDark"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](2,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275ted"](-1,null,[")\xa0 "]))],null,(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](n,2,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent.parent,1),e.ObjectTypes.OBJ_CLUSTER)),"");l(n,2,0,i),l(n,5,0,n.parent.parent.context.$implicit.cluster_name)}))}function me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"span",[["class","fwcPaleDark"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](2,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275ted"](-1,null,[")\xa0 "]))],null,(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](n,2,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent.parent,1),e.ObjectTypes.OBJ_FIREWALL)),"");l(n,2,0,i),l(n,5,0,n.parent.parent.context.$implicit.firewall_name)}))}function ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"span",[["class","fwcPaleDark"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](2,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](3,1),(l()(),t["\u0275eld"](4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275ted"](-1,null,[")\xa0 "]))],null,(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](n,2,0,l(n,3,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent.parent,1),e.ObjectTypes.OBJ_HOST)),"");l(n,2,0,i),l(n,5,0,n.parent.parent.context.$implicit.host_name)}))}function Ce(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](1,1)],null,(function(l,n){var e=t["\u0275inlineInterpolate"](1,"flag-icon flag-icon flag-icon-",t["\u0275unv"](n,0,0,l(n,1,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent.parent,2),n.parent.parent.context.$implicit.name)),"");l(n,0,0,e)}))}function Se(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](1,2)],null,(function(l,n){var e=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](n,0,0,l(n,1,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent.parent,1),n.parent.parent.context.$implicit.name,n.parent.parent.context.$implicit.name)),"");l(n,0,0,e)}))}function _e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Re(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit._fwcObjName)}))}function we(l){return t["\u0275vid"](0,[(l()(),t["\u0275ted"](0,null,["[","]"]))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.labelName)}))}function Ee(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,pe)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ge)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,17,"span",[["class","fwc-label-grid"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,he)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,me)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ve)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,10,"span",[["class","fwc-label-grid-name"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ce)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Se)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](18,1),(l()(),t["\u0275and"](16777216,null,null,1,null,_e)),t["\u0275did"](20,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["objectName",2]],null,0,null,Re)),(l()(),t["\u0275and"](0,[["labelName",2]],null,0,null,we))],(function(l,n){var e=n.component;l(n,2,0,n.parent.parent.context.$implicit.negate),l(n,4,0,n.parent.parent.parent.parent.parent.context.$implicit.special==e.SpecialPolicyRules.CROWDSEC&&"Source"==n.parent.parent.context.$implicit.name),l(n,7,0,(n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_INTERFACE_FIREWALL||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_OPENVPN_PREFIX||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_DHCP_RULE_INTERFACE||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_VPN_CONFIG_CLI)&&n.parent.context.$implicit.cluster_id&&n.parent.context.$implicit.cluster_id!=n.parent.parent.parent.parent.parent.context.$implicit._fwcClusterId||n.parent.context.$implicit.cluster_id==n.parent.parent.parent.parent.parent.context.$implicit._fwcClusterId&&n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS&&e.fwcSelectedPolicy!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]),l(n,9,0,(n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_INTERFACE_FIREWALL||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_OPENVPN_PREFIX||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_DHCP_RULE_INTERFACE||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_VPN_CONFIG_CLI)&&n.parent.context.$implicit.firewall_id&&!n.parent.context.$implicit.cluster_id&&n.parent.context.$implicit.firewall_id!=n.parent.parent.parent.parent.parent.context.$implicit.firewall||n.parent.context.$implicit.firewall_id==n.parent.parent.parent.parent.parent.context.$implicit.firewall&&n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS&&e.fwcSelectedPolicy!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]),l(n,11,0,(n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_INTERFACE_HOST||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_ADDRESS&&e.fwcSelectedPolicy!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_OPENVPN_PREFIX)&&n.parent.context.$implicit.host_id),l(n,14,0,n.parent.context.$implicit._fwcObjType===e.ObjectTypes.OBJ_COUNTRIE),l(n,16,0,n.parent.context.$implicit._fwcObjType===e.ObjectTypes.OBJ_CONTINENT),l(n,20,0,(n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_INTERFACE_FIREWALL||n.parent.context.$implicit._fwcObjType==e.ObjectTypes.OBJ_INTERFACE_HOST)&&n.parent.context.$implicit.labelName&&n.parent.context.$implicit.labelName.length,t["\u0275nov"](n,22),t["\u0275nov"](n,21))}),(function(l,n){var e=t["\u0275inlineInterpolate"](1,"fwcIcon ",t["\u0275unv"](n,17,0,l(n,18,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent,1),n.parent.context.$implicit._fwcObjType)),"");l(n,17,0,e)}))}function Ie(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divFwcPosition-item"]],[[1,"data-obj_id",0],[2,"item-highlighted",null],[2,"item-rightclicked",null],[8,"draggable",0]],[[null,"contextmenu"],[null,"click"],[null,"dblclick"],[null,"mouseenter"],[null,"mouseleave"],[null,"dragstart"]],(function(l,n,e){var t=!0,i=l.component;return"contextmenu"===n&&(t=!1!==i.fwcPositionFunctionalityService.onItemRightClickEvent(l.parent.context.$implicit,l.context.$implicit)&&t),"click"===n&&(t=!1!==i.fwcPositionFunctionalityService.onItemClickEvent(l.parent.context.$implicit,l.context.$implicit)&&t),"dblclick"===n&&(t=!1!==i.fwcPositionFunctionalityService.onItemDblClickEvent(l.parent.context.$implicit,l.context.$implicit)&&t),"mouseenter"===n&&(t=!1!==i.fwcPositionFunctionalityService.showObjectInfo(l.context.$implicit,e)&&t),"mouseleave"===n&&(t=!1!==i.fwcPositionFunctionalityService.clearObjectInfo(e)&&t),"dragstart"===n&&(t=!1!==i.fwcPositionFunctionalityService.itemDragStart(l.parent.context.$implicit,l.context.$implicit,e)&&t),t}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ee)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"divFwcPosition-item",n.context.$implicit.hidden&&(null==n.parent.context.$implicit.ipobjs?null:n.parent.context.$implicit.ipobjs.length)>1?"item-general-hidden":"item-general-default"),l(n,4,0,n.context.$implicit.hidden&&1==(null==n.parent.context.$implicit.ipobjs?null:n.parent.context.$implicit.ipobjs.length)||!n.context.$implicit.hidden&&(null==n.parent.context.$implicit.ipobjs?null:n.parent.context.$implicit.ipobjs.length)>1)}),(function(l,n){var e=n.component;l(n,0,0,n.context.$implicit.id,1==n.context.$implicit.highlighted,1==n.context.$implicit.rightclicked,!1!==n.context.$implicit.allowDrag&&!(n.parent.context.$implicit.id===e.RoutingPolicyPositions.FROM_POSITION&&(null==n.parent.context.$implicit.ipobjs?null:n.parent.context.$implicit.ipobjs.length)<=2||n.parent.context.$implicit.id===e.DhcpPolicyPositions.NETWORK||n.parent.context.$implicit.id===e.DhcpPolicyPositions.INTERFACE||n.parent.context.$implicit.id===e.DhcpPolicyPositions.ROUTER||n.parent.context.$implicit.id===e.DhcpPolicyPositions.RANGE||n.parent.context.$implicit.id===e.DhcpPolicyPositions.IP))}))}function be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"td",[["class","fwcPositionTd ui-resizable-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,16777216,[["fwcPositionEl",1]],null,7,"div",[["class","divFwcPosition"]],null,[[null,"menuClick"],[null,"menuOpening"],[null,"menuClosed"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"contextmenu"],[null,"mousedown"]],(function(l,n,e){var i=!0,u=l.component;return"contextmenu"===n&&(i=!1!==t["\u0275nov"](l,5).onContextMenu(e)&&i),"mousedown"===n&&(i=!1!==t["\u0275nov"](l,5).onMouseDown(e)&&i),"menuClick"===n&&(i=!1!==u.fwcPositionFunctionalityService.onContextMenuHandler(u.fwcPolicyObject,l.parent.parent.parent.context.$implicit.firewall,l.parent.parent.parent.context.$implicit._fwcClusterId,l.parent.parent.parent.context.$implicit.id,l.context.$implicit,u.fwcTypesPositions[l.context.$implicit.id],e)&&i),"menuOpening"===n&&(i=!1!==u.fwcPositionFunctionalityService.onContextMenuLoad(l.parent.parent.parent.context.$implicit.type,l.parent.parent.parent.context.$implicit.id,l.context.$implicit,u.fwcTypesPositions[l.context.$implicit.id],e)&&i),"menuClosed"===n&&(i=!1!==u.fwcPositionFunctionalityService.onContextMenuClose(l.context.$implicit)&&i),"dragenter"===n&&(i=!1!==u.fwcPositionFunctionalityService.onListDragEnter(l.parent.parent.parent.context.$implicit.firewall,l.context.$implicit,u.fwcTypesPositions[l.context.$implicit.id],e,t["\u0275nov"](l,1))&&i),"dragleave"===n&&(i=!1!==u.fwcPositionFunctionalityService.onListDragLeave(e,l.context.$implicit,t["\u0275nov"](l,1))&&i),"dragover"===n&&(i=!1!==u.fwcPositionFunctionalityService.onListDragOver(e)&&i),"drop"===n&&(i=!1!==u.fwcPositionFunctionalityService.onListDragDrop(u.fwcPolicyObject,l.parent.parent.parent.context.$implicit.id,l.context.$implicit,u.fwcTypesPositions[l.context.$implicit.id],e,t["\u0275nov"](l,1))&&i),i}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{fwcPositionHighlighted:0,draggedOver:1,fwcObjectForbidden:2,fwcObjectAllowed:3}),t["\u0275did"](5,1196032,null,1,Y.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{menuClick:"menuClick",menuOpening:"menuOpening",menuClosed:"menuClosed"}),t["\u0275qud"](603979776,5,{templates:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Ie)),t["\u0275did"](8,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(l,n){var e=n.component,t=l(n,4,0,n.context.$implicit.highlighted,n.context.$implicit.draggedOver,!1===n.context.$implicit.objectAllowed,!0===n.context.$implicit.objectAllowed);l(n,3,0,"divFwcPosition",t),l(n,5,0,e.fwcPositionFunctionalityService.positionContextMenu.POSITION,e.contextMenuReference),l(n,8,0,n.context.$implicit.ipobjs,e.positionObjectsTrackBy)}),null)}function Oe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,be)),t["\u0275did"](2,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.positions)}),null)}function ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"td",[],[[1,"colspan",0]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","fwcTextArea"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"textarea",[["ondragstart","() => {return false}"],["ondrop","() => {return false}"],["style","border: 0;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,3).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(l.parent.parent.context.$implicit.formModel.run_before||(l.parent.parent.context.$implicit.formModel.cfg_text=e))&&i),"focus"===n&&(i=!1!==u.fwcRuleFunctionalityService.onScriptFocus(u.fwcPolicyObject,l.parent.parent.context.$implicit)&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](5,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,["            "]))],(function(l,n){l(n,5,0,n.parent.parent.context.$implicit.formModel.run_before||n.parent.parent.context.$implicit.formModel.cfg_text)}),(function(l,n){var e=n.component;l(n,0,0,null!=(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcClusterId)?e.fwcSelectedPolicy._fwcPolicyType===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]?e.getColumnsCount()-1:e.getColumnsCount()-3:e.getColumnsCount()-1),l(n,2,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function Te(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"p-dropdown",[["appendTo","body"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.parent.parent.context.$implicit.formModel.routingTableId=e)&&t),"onChange"===n&&(t=!1!==i.fwcPolicyGridRoutingRulesFunctionalityService.handleChangeRoutingTable(l.parent.parent.context.$implicit,e.value)&&t),t}),Wl.b,Wl.a)),t["\u0275did"](2,13877248,null,1,Hl.Dropdown,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{appendTo:[0,"appendTo"],options:[1,"options"]},{onChange:"onChange"}),t["\u0275qud"](603979776,6,{templates:1}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Hl.Dropdown]),t["\u0275did"](5,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){l(n,2,0,"body",n.component.routingTablesItems),l(n,5,0,n.parent.parent.context.$implicit.formModel.routingTableId)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,2).filled,t["\u0275nov"](n,2).focused,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function Pe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.icon,"")),l(n,1,0,n.context.$implicit.label)}))}function Ne(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.context.$implicit.icon,"")),l(n,1,0,n.context.$implicit.label)}))}function De(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"p-dropdown",[["styleClass","dropDownAction"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.parent.parent.parent.context.$implicit.formModel.action=e)&&t),"onChange"===n&&(t=!1!==i.fwcRuleFunctionalityService.updateRule(l.parent.parent.parent.context.$implicit)&&t),t}),Wl.b,Wl.a)),t["\u0275did"](1,13877248,null,1,Hl.Dropdown,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{styleClass:[0,"styleClass"],options:[1,"options"]},{onChange:"onChange"}),t["\u0275qud"](603979776,7,{templates:1}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Hl.Dropdown]),t["\u0275did"](4,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](6,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](0,null,null,1,null,Pe)),t["\u0275did"](8,16384,[[7,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,Ne)),t["\u0275did"](10,16384,[[7,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"dropDownAction",n.component.fwActionsService.getActionsItems(n.parent.parent.parent.context.$implicit.special)),l(n,4,0,n.parent.parent.parent.context.$implicit.formModel.action),l(n,8,0,"selectedItem"),l(n,10,0,"item")}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).filled,t["\u0275nov"](n,1).focused,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)}))}function Ae(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[["class","spanActionSpecial"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-fw fa-check fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Accept established, related "]))],null,null)}function Le(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divMarkPlaceholder"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-circle-down fwcGreen"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](4,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-circle-down fwcGreen"]],null,null,null,null,null))],null,(function(l,n){l(n,2,0,t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("RULE.DROP_MARK")))}))}function Me(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[["class","divMark"]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"],[null,"dblclick"]],(function(l,n,e){var t=!0,i=l.component;return"mouseenter"===n&&(t=!1!==i.fwcRuleFunctionalityService.showMarkInfo(l.parent.parent.parent.parent.context.$implicit,e)&&t),"mouseleave"===n&&(t=!1!==i.fwcRuleFunctionalityService.clearMarkInfo(e)&&t),"wheel"===n&&(t=!1!==i.fwcRuleFunctionalityService.clearMarkInfo(e)&&t),"dblclick"===n&&(t=!1!==i.fwcPositionFunctionalityService.onMarkDblClickEvent(l.parent.parent.parent.parent.context.$implicit.mark)&&t),t}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"span",[["class","divMark--label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwci2-label"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),(l()(),t["\u0275eld"](4,0,null,null,1,"div",[["class","divMark--button"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-times"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.fwcRuleFunctionalityService.onDeleteRuleMark(l.parent.parent.parent.parent.context.$implicit)&&t),t}),null,null))],null,(function(l,n){l(n,3,0,n.parent.parent.parent.parent.context.$implicit.mark_name)}))}function Fe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,[["divMarkContainer",1]],null,4,"div",[["class","divMarkContainer"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Le)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Me)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.parent.parent.parent.context.$implicit.mark&&n.parent.parent.parent.context.$implicit.labelDraggedOverAction),l(n,4,0,n.parent.parent.parent.context.$implicit.mark)}),null)}function Ue(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,[["tdActionPosition",1]],null,7,"td",[["class","fwcActionPosition tdActionCell ui-resizable-column"]],null,[[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"]],(function(l,n,e){var i=!0,u=l.component;return"dragenter"===n&&(i=!1!==u.fwcRuleFunctionalityService.onActionDragEnter(l.parent.parent.context.$implicit,e,t["\u0275nov"](l,0))&&i),"dragleave"===n&&(i=!1!==u.fwcRuleFunctionalityService.onActionDragLeave(l.parent.parent.context.$implicit,e,t["\u0275nov"](l,0))&&i),"dragover"===n&&(i=!1!==u.fwcRuleFunctionalityService.onActionDragOver(e)&&i),"drop"===n&&(i=!1!==u.fwcRuleFunctionalityService.onActionDragDrop(l.parent.parent.context.$implicit,e,t["\u0275nov"](l,0))&&i),i}),null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","divFwcPosition"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,De)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ae)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fe)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,n.parent.parent.context.$implicit.special!=e.SpecialPolicyRules.STATEFUL),l(n,5,0,n.parent.parent.context.$implicit.special==e.SpecialPolicyRules.STATEFUL),l(n,7,0,n.parent.parent.context.$implicit.special!=e.SpecialPolicyRules.STATEFUL)}),null)}function ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](2,1),(l()(),t["\u0275ted"](-1,null,["\xa0 "]))],null,(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent,1),e.ObjectTypes.OBJ_FIREWALL)),"");l(n,1,0,i)}))}function Ge(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,ke)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](2,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.value)}),(function(l,n){l(n,2,0,n.context.$implicit.label)}))}function je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](2,1),(l()(),t["\u0275ted"](-1,null,["\xa0 "]))],null,(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent.parent.parent,1),e.ObjectTypes.OBJ_FIREWALL)),"");l(n,1,0,i)}))}function xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,je)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275ted"](2,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.value)}),(function(l,n){l(n,2,0,n.context.$implicit.label)}))}function Ve(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"p-dropdown",[["styleClass","dropDownAction"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.parent.parent.parent.context.$implicit.formModel.fw_apply_to=e)&&t),"onChange"===n&&(t=!1!==i.fwcRuleFunctionalityService.handleChangeApplyTo(i.fwcPolicyObject,l.parent.parent.parent.context.$implicit)&&t),t}),Wl.b,Wl.a)),t["\u0275did"](1,13877248,null,1,Hl.Dropdown,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{styleClass:[0,"styleClass"],options:[1,"options"]},{onChange:"onChange"}),t["\u0275qud"](603979776,8,{templates:1}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Hl.Dropdown]),t["\u0275did"](4,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](6,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](0,null,null,1,null,Ge)),t["\u0275did"](8,16384,[[8,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null),(l()(),t["\u0275and"](0,null,null,1,null,xe)),t["\u0275did"](10,16384,[[8,4]],0,Gl.PrimeTemplate,[t.TemplateRef],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"dropDownAction",n.component.clusterNodesItems),l(n,4,0,n.parent.parent.parent.context.$implicit.formModel.fw_apply_to),l(n,8,0,"selectedItem"),l(n,10,0,"item")}),(function(l,n){l(n,0,0,t["\u0275nov"](n,1).filled,t["\u0275nov"](n,1).focused,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending)}))}function Be(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("RULE.ALL_NODES")))}))}function We(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"td",[["class","fwcActionPosition ui-resizable-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","divFwcPosition"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ve)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Be)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,!n.parent.parent.context.$implicit.special||n.parent.parent.context.$implicit.special==e.SpecialPolicyRules.HOOKSCRIPT||n.parent.parent.context.$implicit.special==e.SpecialPolicyRules.FAIL2BAN),l(n,5,0,n.parent.parent.context.$implicit.special&&n.parent.parent.context.$implicit.special!=e.SpecialPolicyRules.HOOKSCRIPT&&n.parent.parent.context.$implicit.special!=e.SpecialPolicyRules.FAIL2BAN)}),null)}function He(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"td",[["class","fwcPositionTd ui-resizable-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"div",[["class","divFwcPosition"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,6,"input",[["name","max_lease_time"],["style","text-align: right;"],["type","number"]],[[8,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,3).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(l.parent.parent.context.$implicit.formModel.max_lease=e)&&i),"focus"===n&&(i=!1!==u.fwcRuleFunctionalityService.onLeaseTimeFocus(l.parent.parent.context.$implicit)&&i),"blur"===n&&(i=!1!==u.fwcRuleFunctionalityService.onLeaseTimeBlur(u.fwcPolicyObject,l.parent.parent.context.$implicit)&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](4,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](6,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){l(n,6,0,"max_lease_time",n.parent.parent.context.$implicit.formModel.max_lease)}),(function(l,n){l(n,2,0,n.component.max_lease_time,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending)}))}function Je(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"td",[["class","fwcCommentPosition ui-resizable-column"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[["class","fwcTextArea"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,13,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](4,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](5,{divCommentPopup:0}),(l()(),t["\u0275eld"](6,0,null,null,9,"textarea",[["maxlength","255"],["ondragstart","() => {return false}"],["ondrop","() => {return false}"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"focus"],[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,7).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(l.parent.parent.context.$implicit.formModel.comment=e)&&i),"focus"===n&&(i=!1!==u.fwcRuleFunctionalityService.onCommentFocus(l.parent.parent.context.$implicit)&&i),"blur"===n&&(i=!1!==u.fwcRuleFunctionalityService.onCommentBlur(u.fwcPolicyObject,l.parent.parent.context.$implicit)&&i),i}),null,null)),t["\u0275did"](7,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](8,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](11,671744,null,0,k.NgModel,[[8,null],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](13,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["            "]))],(function(l,n){var e=l(n,5,0,n.parent.parent.context.$implicit.commentEdit);l(n,4,0,e),l(n,8,0,"255"),l(n,11,0,n.parent.parent.context.$implicit.formModel.comment)}),(function(l,n){l(n,6,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,6,0,t["\u0275nov"](n,14).transform("GLOBALS.DB_FIELDS.comment")),""),t["\u0275nov"](n,8).maxlength?t["\u0275nov"](n,8).maxlength:null,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending)}))}function $e(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,36,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,35,"tr",[],[[8,"id",0],[4,"background-color",null]],[[null,"mouseenter"]],(function(l,n,e){var t=!0;return"mouseenter"===n&&(t=!1!==l.component.onRuleEnter(l.parent.context.$implicit,e)&&t),t}),null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pod"](4,{fwcRuleSelected:0,fwcRuleDisabled:1,fwcRuleHighlighted:2,fwcRuleSpecial:3}),(l()(),t["\u0275eld"](5,16777216,null,null,18,"td",[["class","fwc-centered"],["showDelay","700"],["style","filter: none !important"],["tooltipPosition","bottom"]],null,[[null,"menuOpening"],[null,"itemClick"],[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"mousedown"]],(function(l,n,e){var i=!0,u=l.component;return"contextmenu"===n&&(i=!1!==t["\u0275nov"](l,6).onContextMenu(e)&&i),"mousedown"===n&&(i=!1!==t["\u0275nov"](l,6).onMouseDown(e)&&i),"menuOpening"===n&&(i=!1!==u.fwcRuleFunctionalityService.onContextMenuLoad(l.parent.context.$implicit,e)&&i),"itemClick"===n&&(i=!1!==u.fwcRuleFunctionalityService.onContextMenuHandler(u.fwcPolicyObject,l.parent.context.$implicit,e)&&i),"click"===n&&(i=!1!==u.fwcRuleFunctionalityService.selectRule(l.parent.context.$implicit,e)&&i),"dblclick"===n&&(i=!1!==u.fwcRuleFunctionalityService.editRule(l.parent.context.$implicit)&&i),i}),null,null)),t["\u0275did"](6,1196032,null,1,Y.IntegralUIContextMenu,[t.ElementRef,t.ViewContainerRef,t.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),t["\u0275qud"](603979776,4,{templates:1}),t["\u0275did"](8,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],escape:[1,"escape"],showDelay:[2,"showDelay"],text:[3,"text"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,se)),t["\u0275did"](10,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,12,"div",[["class","fwcCont"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](13,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](14,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,re)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,1,"span",[["class","fwcRuleOrder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,["",""])),(l()(),t["\u0275eld"](19,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ce)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,de)),t["\u0275did"](23,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Oe)),t["\u0275did"](25,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["specialHookScriptRulePlaceholder",2]],null,0,null,ye)),(l()(),t["\u0275and"](16777216,null,null,1,null,Te)),t["\u0275did"](28,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ue)),t["\u0275did"](30,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,We)),t["\u0275did"](32,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,He)),t["\u0275did"](34,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Je)),t["\u0275did"](36,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,i=l(n,4,0,e.isRuleSelected(n.parent.context.$implicit),!n.parent.context.$implicit.active,n.parent.context.$implicit.highlighted,n.parent.context.$implicit.special&&n.parent.context.$implicit.special!=e.SpecialPolicyRules.HOOKSCRIPT);l(n,3,0,i),l(n,6,0,n.parent.context.$implicit.type===e.SpecialPolicyTypes.ROUTING_TABLE?e.fwcRuleFunctionalityService.ruleContextMenu.ROUTE:n.parent.context.$implicit.type===e.SpecialPolicyTypes.POLICY_ROUTING?e.fwcRuleFunctionalityService.ruleContextMenu.ROUTING_RULE:n.parent.context.$implicit.type===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]||n.parent.context.$implicit.type===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]?e.fwcRuleFunctionalityService.ruleContextMenu.DHCP_RULE:n.parent.context.$implicit.type===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]?e.fwcRuleFunctionalityService.ruleContextMenu.KEEPALIVED_RULE:e.fwcRuleFunctionalityService.ruleContextMenu.RULE,e.contextMenuReference),l(n,8,0,"bottom",!1,"700",e.fwcRuleFunctionalityService.setRuleTooltip(n.parent.context.$implicit)),l(n,10,0,n.parent.context.$implicit.idgroup),l(n,13,0,"fwcCont",n.parent.context.$implicit.idgroup?"fwcGroupCell":"fwcGridCell"),l(n,16,0,!n.parent.context.$implicit.active),l(n,21,0,n.parent.context.$implicit.options),l(n,23,0,n.parent.context.$implicit.run_before||n.parent.context.$implicit.run_after||n.parent.context.$implicit.special==e.SpecialPolicyRules.HOOKSCRIPT),l(n,25,0,n.parent.context.$implicit.special!=e.SpecialPolicyRules.HOOKSCRIPT&&n.parent.context.$implicit.special!=e.SpecialPolicyRules.FAIL2BAN,t["\u0275nov"](n,26)),l(n,28,0,(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy._fwcPolicyType)===e.SpecialPolicyTypes.POLICY_ROUTING),l(n,30,0,(null==e.fwcSelectedPolicy?null:e.fwcSelectedPolicy.show_action)&&n.parent.context.$implicit.special!=e.SpecialPolicyRules.HOOKSCRIPT&&n.parent.context.$implicit.special!=e.SpecialPolicyRules.FAIL2BAN),l(n,32,0,null!=(null==n.parent.context.$implicit?null:n.parent.context.$implicit._fwcClusterId)&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP_FIXED_IP]&&e.fwcSelectedPolicy._fwcPolicyType!==e.POLICY_TYPES_FROM_NODES[e.NodeTypes.KEEPALIVED]),l(n,34,0,e.fwcSelectedPolicy._fwcPolicyType===e.POLICY_TYPES_FROM_NODES[e.NodeTypes.DHCP]&&6!==n.parent.context.$implicit.special),l(n,36,0,e.columnVisibility.comments&&n.parent.context.$implicit.special!=e.SpecialPolicyRules.HOOKSCRIPT)}),(function(l,n){var e=n.component;l(n,1,0,t["\u0275inlineInterpolate"](1,"rule_",n.parent.context.$implicit.id,""),n.parent.context.$implicit.style&&e.RulesStylesBg[n.parent.context.$implicit.style]?e.RulesStylesBg[n.parent.context.$implicit.style]:n.parent.context.$implicit.style),l(n,18,0,n.parent.context.$implicit._fwcRuleOrder)}))}function Ye(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","fwcGroupSpacerDiv"]],null,null,null,null,null))],null,null)}function Ke(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","leftRibbon"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-times fwcWhite"]],null,null,null,null,null))],null,null)}function qe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-cog fwcBlue"]],null,null,null,null,null))],null,null)}function Xe(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-terminal fwcOrange"]],null,null,null,null,null))],null,null)}function ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"tr",[["class","fwcRulePlaceholder"]],[[8,"id",0],[4,"height",null]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"td",[["class","fwc-centered"],["style","filter: none !important"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ye)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](4,0,null,null,12,"div",[["class","fwcCont"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),t["\u0275eld"](7,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ke)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](10,0,null,null,1,"span",[["class","fwcRuleOrder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,qe)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xe)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,0,"td",[],[[1,"colSpan",0]],null,null,null,null))],(function(l,n){l(n,3,0,n.parent.context.$implicit.idgroup),l(n,6,0,"fwcCont",n.parent.context.$implicit.idgroup?"fwcGroupCell":"fwcGridCell"),l(n,9,0,!n.parent.context.$implicit.active),l(n,14,0,n.parent.context.$implicit.options),l(n,16,0,n.parent.context.$implicit.run_before||n.parent.context.$implicit.run_after)}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275inlineInterpolate"](1,"","rule_"+n.parent.context.$implicit.id,""),n.parent.context.$implicit.heightPx+"px"),l(n,11,0,n.parent.context.$implicit._fwcRuleOrder),l(n,17,0,e.getColumnsCount()-1)}))}function Ze(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,$e)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showRulePlaceholder",2]],null,0,null,ze))],(function(l,n){l(n,1,0,n.context.$implicit.visible,t["\u0275nov"](n,2))}),null)}function Qe(l){return t["\u0275vid"](2,[t["\u0275pid"](0,Jl,[]),t["\u0275pid"](0,$l.a,[]),t["\u0275pid"](0,$.LowerCasePipe,[]),t["\u0275qud"](671088640,1,{gridPaginator:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,bn)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oe)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](8,0,null,null,4,"p-blockUI",[],null,null,null,Yl.b,Yl.a)),t["\u0275did"](9,4374528,null,0,Kl.BlockUI,[t.ElementRef],{blocked:[0,"blocked"]},null),(l()(),t["\u0275eld"](10,0,null,0,2,"div",[["class","divCenterHV"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,1,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](12,49152,null,0,Bl.ProgressSpinner,[],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ae)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,[["fwcGridRule",2]],null,0,null,Ze))],(function(l,n){var e=n.component;l(n,5,0,!(null!=e.fwcPolicyObject&&e.fwcPolicyObject.getPolicyRules())),l(n,7,0,!(null==e.fwcPolicyObject||!e.fwcPolicyObject.getPolicyRules())),l(n,9,0,e.loadingData),l(n,14,0,e.ruleStatus)}),null)}var lt=e("sP6A"),nt=e("HQi4"),et=e("3D7H"),tt=e("FHuN"),it=e("glvV"),ut=e("QJSW"),ot=e("wiMV"),at=e("eIZR"),st=e("wmoJ"),rt=e("pmWI"),ct=e("nqUP"),dt=e("pODc"),pt=e("2m6e"),ft=e("g/5Y"),gt=e("Zf0f"),ht=e("iiPk"),mt=e("wf45"),vt=e("kp3z"),Ct=e("QVyK"),St=e("66nc"),_t=e("SVXH"),Rt=e("LRne"),wt=e("1uah"),Et=e("119J"),It=e("VHTt"),bt=(e("BY74"),e("FdYD"));class Ot extends Et.a{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h,m,v,C,S,_,R,w,E){super(o,r,l,S,w,E),this.itemSelectedService=l,this.ruleSelectedService=n,this.fwcObjectService=e,this.fwcFirewallService=t,this.fwcInterfaceService=i,this.fwcPolicyService=u,this.appDialogPanelsService=o,this.fwcObjectTypeService=a,this.fwcVpnService=s,this.appOptionsService=r,this.fwcMarkService=c,this.fwcUserService=d,this.fwcRoutingTableService=p,this.fwcDhcpPolicyService=f,this.confirmationService=g,this.messageService=h,this.utilService=m,this.translate=v,this.fwcErrorPipe=C,this.cd=S,this.elementRef=_,this.renderer=R,this.store=w,this.router=E,this.fwcUserObject={},this.ObjectTypes=Cn.E,this.ipVersions=[{id:4,text:"IP version 4"},{id:6,text:"IP version 6"}],this.optionsFlags=[{name:this.translate.instant("RULE.OPTION_NAMES.0"),optionGroup:"STATE",status:!1,disableOnRuleActive:!0},{name:this.translate.instant("RULE.OPTION_NAMES.1"),optionGroup:"STATE",status:!1,disableOnRuleActive:!0},{name:this.translate.instant("RULE.OPTION_NAMES.2"),status:!1}],this.tabIndex=0,this.disableTabChange=!1,this.messageObject={},this.minMaxValidator=(l,n)=>e=>{let t=!0,i=0,u=0;return this.formModel.controls[l]&&this.formModel.controls[n]&&(i=this.formModel.controls[l].value,u=this.formModel.controls[n].value),t=u>=i,t?null:{minmax:!0}},this.icmp_values=Array(256),this.dependencies=null,this.loadingData=!1,this.okToDelete=!1,this.alive=!0,this.infoTooltipShown=!1,this.createDialog(this.translate.instant("ITEM_PANEL.TITLE"),"fwci-ipobjects",zl.g.ITEM_PANEL),this.helpSection="/ipobjs"}revalidateForm(){for(let l in this.formModel.controls)this.formModel.controls[l].updateValueAndValidity(),this.formModel.controls[l].markAsTouched()}srcPortsValidator(l){let n=l.get("source_port_start").value,e=l.get("source_port_end").value;return n>0&&e>0&&n>e?{sourceports:!0}:null}destPortsValidator(l){let n=l.get("destination_port_start").value,e=l.get("destination_port_end").value;return n>0&&e>0&&n>e?{destinationports:!0}:null}ngOnInit(){this.store.pipe(Object(V.a)(()=>this.alive),Object(hl.B)(bt.a.selectDialogUuidsToReload)).subscribe(l=>{l&&l.find(l=>l===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.hideObjectPanel().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.hideDialog()}),this.itemSelectedService.getItem().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(-1==[Cn.E.OBJ_FIREWALL,Cn.E.OBJ_CLUSTER,Cn.E.OBJ_VPN_CONFIG_SER,Cn.E.OBJ_VPN_CONFIG_CLI,Cn.E.OBJ_PREFIX_FOLDER,Cn.E.OBJ_OPENVPN_PREFIX].findIndex(n=>l._fwcObjType==n)){if(l.unloadAction||null!==l.fwcloud&&null!=l.fwcloud&&l.fwcloud!=this.fwcUserObject.selectedFwCloud)return this.resetProperties(),void this.hideDialog();if(l.deleteAction)this.resetProperties(),this.recenterDialog(),this.showDialog(),this.checkObjectRestrictions(l);else{let n=l.whereUsedAction;l._onlySelectInTree||(this.disableTabChange=!1,l._fwcObjType!=Cn.E.OBJ_GEN_RULE&&(this.resetProperties(),this.onItemSelect(l,n)))}}}),this.ruleSelectedService.getRule().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.onRuleSelect(l)}),this.fwcUserService.getFwcUser().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(l){if(this.fwcUserObject&&this.fwcUserObject.user_id==l.user_id&&this.fwcUserObject.selectedFwCloud==l.selectedFwCloud)return;if(this.fwcUserObject=Object.assign({},l),null==this.fwcUserObject.user_id||null==this.fwcUserObject.selectedFwCloud)return;this.fwcObjectTypeService.getObjectTypes().subscribe(l=>{if(this.OBJECT_TYPES=[],l.data)for(let n of l.data)this.OBJECT_TYPES[n.id]=n.type},l=>{zl.l.error("ERROR getting object types",l.error),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}})}ngAfterViewInit(){}ngOnDestroy(){super.ngOnDestroy()}reloadPanel(l){if(this.objectToDelete&&(this.displayDialog||this.dialogMinified)){let l=this.itemSelectedService.getActualLastMinifiedDialogId(),n=Object.assign({},this.objectToDelete);this.resetProperties(),this.recenterDialog(),this.checkObjectRestrictions(n),this.dialogId==l&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(Ql.a.reloadDialogFinished({dialogUuid:this.dialogUUID}))}else if(this.object&&(this.displayDialog||this.dialogMinified)){let n=this.object.whereUsedAction;if(this.disableTabChange=!0,!l||l._fwcObjType!=Cn.E.OBJ_GEN_RULE){let l=Object.assign({},this.object);this.resetProperties(!0),this.onItemSelect(l,n),this.store.dispatch(Ql.a.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}}showHelp(){this.appOptionsService.showHelp(this.helpSection)}resetProperties(l){l||(this.object=null,this.objectToDelete=null),this.dependencies=null,this.deleteMsg=null}onItemSelect(l,n){let e,t,i,u,o;if(e=l._fwcObjId,t=l._fwcObjType,i=l.fwcloud,u=l._fwcObjName,null==e&&void 0!==t){let n=Object.assign({},l);n.id=e,n.type=t,n.fwcloud=i,n.name=u,this.newObject(n)}else if(void 0!==e&&void 0!==t)switch(t){case Cn.E.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserObject.selectedFwCloud).subscribe(e=>{let i=e.data;i.type=t,this.parseObject(i,n,l),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()},l=>{this.errorMessage=l,o=this.translate.instant("ITEM_PANEL.ERRORS.FW_LOAD",{name:u,error:l}),this.showErrorMsg(o)});break;case Cn.E.OBJ_INTERFACE_FIREWALL:case Cn.E.OBJ_INTERFACE_HOST:let i,a;t==Cn.E.OBJ_INTERFACE_HOST?(i=this.getInterfaceHost.bind(this),a=l.parent_id):(i=this.getInterface.bind(this),a=null!=l._fwcFwId?l._fwcFwId:l.firewall),Promise.all([i(a,e),this.getInterfaceWhereUsed(e,t)]).then(([e,i])=>{let u=e.data,o=i.data;u.type=u.interface_type,this.parseObject(u,n,l),o._fwcObjType=t,this.object&&(this.object._fwcObjectInfo=o),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()}).catch(l=>{o=this.translate.instant("ITEM_PANEL.ERRORS.IF_LOAD",{name:u,error:this.fwcErrorPipe.transform(l)}),this.showErrorMsg(o)});break;case Cn.E.OBJ_CONTINENT:case Cn.E.OBJ_GROUP:case Cn.E.OBJ_SERVICE_GROUP:Promise.all([this.getObjectGroup(e),this.getObjectGroupWhereUsed(e)]).then(([e,i])=>{let u=i.data;this.parseObject(e.data,n,l),u._fwcObjType=t,this.object&&(this.object._fwcObjectInfo=u),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()}).catch(l=>{let n;n=this.fwcErrorPipe.transform(l),n&&(this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.GROUP_READ.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("ITEM_PANEL.ERRORS.GROUP_READ.TEXT",{name:u,error:n})}),this.errorMessage=n.toString(),o=this.translate.instant("ITEM_PANEL.ERRORS.GRP_LOAD",{name:u,errorGrp:l}),this.showErrorMsg(o))});break;case Cn.E.OBJ_MARK:Promise.all([this.getMark(e),this.getMarkWhereUsed(e)]).then(([e,i])=>{let u=e.data,o=i.data;u.type=t,this.parseObject(u,n,l),o._fwcObjType=t,this.object&&(this.object._fwcObjectInfo=o),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()}).catch(l=>{this.errorMessage=this.fwcErrorPipe.transform(l),o=this.translate.instant("ITEM_PANEL.ERRORS.OBJ_LOAD",{name:u,errorObject:this.errorMessage}),this.showErrorMsg(o)});break;case Cn.E.OBJ_OPENVPN_PREFIX:case Cn.E.OBJ_VPN_CONFIG_CLI:Promise.all([this.getVPNObject(e,t),this.getVPNObjecWhereUsedt(e,t)]).then(([e,i])=>{let u=e.data,o=i.data;u.name=u.cn,u.comment||(u.comment=""),u.fwcloud||(u.fwcloud=this.fwcUserService.getActualFwSelectedCloud()),this.parseObject(u,n,l),o._fwcObjType=t,this.object&&(this.object._fwcObjectInfo=o),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()}).catch(l=>{this.errorMessage=this.fwcErrorPipe.transform(l),o=this.translate.instant("ITEM_PANEL.ERRORS.OBJ_LOAD",{name:u,errorObject:this.errorMessage}),this.showErrorMsg(o)});break;default:Promise.all([this.getObject(e),this.getObjectWhereUsed(e,t)]).then(([e,i])=>{let u=i.data;this.parseObject(e.data,n,l),u._fwcObjType=t,this.object&&(this.object._fwcObjectInfo=u),this.equalizeTabHeight(),this.recenterDialog(),this.objectToDelete=null,this.showDialog()}).catch(l=>{this.errorMessage=this.fwcErrorPipe.transform(l),o=this.translate.instant("ITEM_PANEL.ERRORS.OBJ_LOAD",{name:u,errorObject:this.errorMessage}),this.showErrorMsg(o)})}}checkObjectRestrictions(l){let n,e,t,i="ITEM_PANEL.DELETE_WARN.TEXT",u="ITEM_PANEL.ERRORS.RESTR_ERROR.TEXT";if(this.deleteDialogTitle="ITEM_PANEL.HEADER.DEL_OBJ",!l)return;const o=n=>{this.okToDelete=!0,this.deleteMsg={type:"warning",title:this.translate.instant("ITEM_PANEL.DELETE_WARN.SUMMARY"),text:this.translate.instant(n,{name:l._fwcObjName})}};this.objectToDelete=l,this.dependencies=null,this.okToDelete=!1;let a,s,r={fwcloud:this.fwcUserObject.selectedFwCloud,id:l._fwcObjId,type:l._fwcObjType};switch(l._fwcObjType){case Cn.E.OBJ_INTERFACE_FIREWALL:n=this.fwcInterfaceService.checkInterfaceRestrictions.bind(this.fwcInterfaceService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),delete r.type;break;case Cn.E.OBJ_INTERFACE_HOST:n=this.fwcInterfaceService.checkInterfaceRestrictions.bind(this.fwcInterfaceService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),r.host=l._fwcHostId,delete r.type;break;case Cn.E.OBJ_GROUP:case Cn.E.OBJ_SERVICE_GROUP:n=this.fwcObjectService.checkObjectGroupRestrictions.bind(this.fwcObjectService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP");break;case Cn.E.OBJ_FIREWALL:break;case Cn.E.OBJ_MARK:n=this.fwcMarkService.checkMarkRestrictions.bind(this.fwcMarkService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_MARK"),r.mark=r.id,delete r.id,delete r.type;break;case Cn.E.OBJ_ROUTING_TABLE:n=this.fwcRoutingTableService.checkTableRestrictions.bind(this.fwcRoutingTableService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ROUTING_TABLE"),r.firewall=l._fwcFwId,i="ITEM_PANEL.DELETE_WARN.TEXT_ROUTING_TABLE",u="ITEM_PANEL.ERRORS.RESTR_ERROR.TEXT_ROUTING_TABLE",this.deleteDialogTitle="ITEM_PANEL.HEADER.DEL_ROUTING_TABLE";break;case Cn.E.OBJ_DHCP_GROUP:n=this.fwcDhcpPolicyService.checkGroupRestrictions.bind(this.fwcDhcpPolicyService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_DHCP_GROUP"),r.firewall=l._fwcFwId,i="ITEM_PANEL.DELETE_WARN.TEXT_DHCP_GROUP",u="ITEM_PANEL.ERRORS.RESTR_ERROR.TEXT_DHCP_GROUP",this.deleteDialogTitle="ITEM_PANEL.HEADER.DEL_DHCP_GROUP";break;case Cn.E.OBJ_KEEPALIVED_GROUP:n=this.fwcDhcpPolicyService.checkGroupRestrictions.bind(this.fwcDhcpPolicyService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_KEEPALIVED_GROUP"),r.firewall=l._fwcFwId,i="ITEM_PANEL.DELETE_WARN.TEXT_KEEPALIVED_GROUP",u="ITEM_PANEL.ERRORS.RESTR_ERROR.TEXT_KEEPALIVED_GROUP",this.deleteDialogTitle="ITEM_PANEL.HEADER.DEL_KEEPALIVED_GROUP";break;default:n=this.fwcObjectService.checkObjectRestrictions.bind(this.fwcObjectService),t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT")}l._fwcObjType===Cn.E.OBJ_INTERFACE_FIREWALL||l._fwcObjType===Cn.E.OBJ_ADDRESS&&l._fwcFwId?l._fwcClusterId?(e=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),a=l._fwcClusterId,s=this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")):(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),a=l._fwcFwId,s=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")):e=(l,n)=>Object(Rt.a)(null),n&&(this.loadingData=!0,Object(wt.a)(n(r),e(a,this.fwcUserService.getActualFwSelectedCloud())).subscribe(([n,e])=>{let t;if(e){let n=[];const i=e.data;Array.isArray(i)?n=[...i]:n.push(i),t=n.find(n=>l._fwcObjType===Cn.E.OBJ_INTERFACE_FIREWALL&&n.install_interface===l._fwcObjId||l._fwcObjType===Cn.E.OBJ_ADDRESS&&n.install_ipobj===l._fwcObjId)}else t=null;if(t){let n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL");l._fwcObjType===Cn.E.OBJ_ADDRESS&&(n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS")),this.deleteMsg={type:"error",title:this.translate.instant("ITEM_PANEL.ERRORS.INTERFACE_IP_INSTALLATION.SUMMARY",{objType:n}),text:this.translate.instant("ITEM_PANEL.ERRORS.INTERFACE_IP_INSTALLATION.TEXT",{objName:l._fwcObjName,objType:n.toLowerCase(),fwName:t.name,fwType:s.toLowerCase()})}}else o(i);this.dependencies=null,this.loadingData=!1,this.recenterDialog()},n=>{let e;const t=n.error;if(t&&(t.restrictions?e=t.restrictions:t.data&&t.data.restrictions&&(e=t.data.restrictions)),e){this.dependencies=e;let n={};for(let l in this.dependencies)"IpobjInterface"!==l&&Array.isArray(this.dependencies[l])&&this.dependencies[l].length&&(n[l]=this.dependencies[l]);Object.keys(n).length?(n._fwcRestrictedObject={_fwcObjId:l._fwcObjId,_fwcObjType:l._fwcObjType},this.deleteMsg={type:"error",title:this.translate.instant("ITEM_PANEL.ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(u,{name:l._fwcObjName})}):(this.dependencies=null,o(i))}else this.deleteMsg={type:"error",title:this.translate.instant("ITEM_PANEL.ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(n)},this.dependencies={restrictionsError:!0};this.loadingData=!1,this.recenterDialog()}))}onDeleteObject(){let l,n;this.loadingData=!0;let e={fwcloud:this.fwcUserObject.selectedFwCloud,id:this.objectToDelete._fwcObjId,type:this.objectToDelete._fwcObjType};switch(this.objectToDelete._fwcObjType){case Cn.E.OBJ_INTERFACE_FIREWALL:l=this.fwcInterfaceService.deleteInterfaceFw.bind(this.fwcInterfaceService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),e.firewall=this.objectToDelete._fwcFwId;break;case Cn.E.OBJ_INTERFACE_HOST:l=this.fwcInterfaceService.deleteInterfaceHost.bind(this.fwcInterfaceService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),e.host=this.objectToDelete._fwcHostId;break;case Cn.E.OBJ_GROUP:case Cn.E.OBJ_SERVICE_GROUP:l=this.fwcObjectService.deleteObjectGroup.bind(this.fwcObjectService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP");break;case Cn.E.OBJ_FIREWALL:break;case Cn.E.OBJ_MARK:l=this.fwcMarkService.deleteMark.bind(this.fwcMarkService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_MARK"),e.mark=e.id,delete e.id,delete e.type;break;case Cn.E.OBJ_ROUTING_TABLE:l=this.fwcRoutingTableService.deleteRoutingTable.bind(this.fwcRoutingTableService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ROUTING_TABLE"),e.firewall=this.objectToDelete._fwcFwId,delete e.type;break;case Cn.E.OBJ_DHCP_GROUP:l=this.fwcDhcpPolicyService.deleteDhcpPolicyRulesGroup.bind(this.fwcDhcpPolicyService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_DHCP_GROUP"),e.firewall=this.objectToDelete._fwcFwId,delete e.type;break;default:l=this.fwcObjectService.deleteObject.bind(this.fwcObjectService),n=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT")}this.utilService.fwcAPICall(l,e).then(l=>{let e=Object.assign({},this.objectToDelete),t=this.translate.instant("TREE.MSG_DELETE_OBJ_SUCCESS_1",{objtype:n});if(e._fwcTreeAction=Cn.N.DELETE_ITEM,l.data&&l.data.fw_status&&(e.fw_status=l.data.fw_status),this.itemSelectedService.setModifiedItem(e),this.objectToDelete._fwcObjType===Cn.E.OBJ_ROUTING_TABLE){t=this.translate.instant("ROUTING.DELETE_TABLE.SUCCESS"),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Cn.N.RELOAD_TREE,containerToReload:zl.B.C_FIREWALLS});const l=this.fwcPolicyService.getActualSelectedPolicy();l&&l._fwcPolicyType===zl.z.ROUTING_TABLE&&l._fwcObjId===this.objectToDelete._fwcObjId&&this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null})}Array.isArray(l.data)&&this.store.dispatch(Ql.c.updateFwStatus({item:l.data})),this.hideDialog(),this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t})}).catch(l=>{this.deleteMsg={type:"error",title:this.translate.instant("ITEM_PANEL.ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(l)},this.dependencies={restrictionsError:!0},this.loadingData=!1})}showErrorMsg(l){l&&this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:l})}getObject(l){return new Promise((n,e)=>{this.fwcObjectService.getObject(l,this.fwcUserObject.selectedFwCloud).subscribe(l=>{n(l)},l=>{e(l)})})}getObjectWhereUsed(l,n){return new Promise((e,t)=>{this.fwcObjectService.getObjectWhereUsed(l,n,this.fwcUserObject.selectedFwCloud).subscribe(l=>{e(l)},l=>{t(l)})})}getInterface(l,n){return new Promise((e,t)=>{this.fwcInterfaceService.getInterface(l,n,this.fwcUserObject.selectedFwCloud).subscribe(l=>{e(l)},l=>{t(l)})})}getInterfaceHost(l,n){return new Promise((e,t)=>{this.fwcInterfaceService.getInterfaceHost(l,n,this.fwcUserObject.selectedFwCloud).subscribe(l=>{e(l)},l=>{t(l)})})}getInterfaceWhereUsed(l,n){return new Promise((e,t)=>{this.fwcInterfaceService.getInterfaceWhereUsed(l,n,this.fwcUserObject.selectedFwCloud).subscribe(l=>{e(l)},l=>{t(l)})})}getObjectGroup(l){return new Promise((n,e)=>{this.fwcObjectService.getObjectGroup(l,this.fwcUserObject.selectedFwCloud).subscribe(l=>{n(l)},l=>{e(l)})})}getObjectGroupWhereUsed(l){return new Promise((n,e)=>{this.fwcObjectService.getObjectGroupWhereUsed(l,this.fwcUserObject.selectedFwCloud).subscribe(l=>{n(l)},l=>{e(l)})})}getVPNObject(l,n){return new Promise((e,t)=>{let i,u={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};n==Cn.E.OBJ_OPENVPN_PREFIX?(i=this.fwcVpnService.getOpenVPNPrefixInfo.bind(this.fwcVpnService),u.prefix=l):n==Cn.E.OBJ_VPN_CONFIG_CLI&&(i=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),u.openvpn=l),i(u).subscribe(l=>{e(l)},l=>{t(l)})})}getVPNObjecWhereUsedt(l,n){return new Promise((e,t)=>{let i,u={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};n==Cn.E.OBJ_OPENVPN_PREFIX?(i=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),u.prefix=l):n==Cn.E.OBJ_VPN_CONFIG_CLI&&(i=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),u.openvpn=l),i(u).subscribe(l=>{e(l)},l=>{t(l)})})}getMark(l){return new Promise((n,e)=>{this.fwcMarkService.getMark({fwcloud:this.fwcUserObject.selectedFwCloud,mark:l}).subscribe(l=>{n(l)},l=>{e(l)})})}getMarkWhereUsed(l){return new Promise((n,e)=>{this.fwcMarkService.getMarkWhereUsed({fwcloud:this.fwcUserObject.selectedFwCloud,mark:l}).subscribe(l=>{n(l)},l=>{e(l)})})}onRuleSelect(l){let n,e,t,i,u,o;n=this.fwcUserObject.customer_id,e=this.fwcUserObject.selectedFwCloud,t=l.firewall,i=l.type,u=l.id,n&&e&&t&&i&&u?l.type!==zl.v[zl.r.DHCP]&&l.type!==zl.v[zl.r.DHCP_FIXED_IP]&&l.type!==zl.v[zl.r.KEEPALIVED]&&this.fwcPolicyService.getPolicyRule(t,i,u,this.fwcUserObject.selectedFwCloud).pipe(Object(V.a)(()=>this.alive)).subscribe(n=>{let e;n.data&&(e=n.data,o=Object.assign({},l),delete o.positions,o.fwcloud=this.fwcUserObject.selectedFwCloud,o.name=this.translate.instant("ITEM_PANEL.RULE_NAME"),o.type=Cn.E.OBJ_GEN_RULE,o.ruleType=i,this.parseObject(o),this.showDialog())},l=>{this.errorMessage=this.fwcErrorPipe.transform(l),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.errorMessage})}):this.showErrorMsg(this.translate.instant("ITEM_PANEL.ERRORS.RULE_LOAD",{id:u}))}parseObject(l,n,e){let t=0;l&&void 0!==l.id&&void 0!==l.name&&void 0!==l.comment&&(l._fwcObjId=l.id,l._fwcObjName=l.name,l._fwcObjType=l.type,l.type==Cn.E.OBJ_CONTINENT?l.name=this.translate.instant("NODE_TYPES."+l.name):l.type==Cn.E.OBJ_COUNTRIE&&(l.name=this.translate.instant("COUNTRIES."+l.name)),null!==l.firewall&&null!=l.firewall&&(l._fwcFwId=l.firewall),l.ipobjs&&l.ipobjs.forEach((function(l){l._fwcObjId=l.id,l._fwcObjName=l.name,l._fwcObjType=l.obj_type=l.type})),e&&e.duplicateObjectAction&&(l.id=l._fwcObjId=void 0,l._fwcObjName=l.name=l.name+"-DUP",l.container=e.container,l.containerReadOnly=e.containerReadonly,l.duplicateObjectAction=!0,l.node_parent=e.node_parent,l.node_order=1,l.node_type=e.node_type,l.fwcloud=this.fwcUserObject.selectedFwCloud),this.createForm(l),n&&(t=1,l.whereUsedAction=n),this.object=l,this.disableTabChange||(this.tabIndex=t))}newObject(l){this.createForm(l),this.object=l,this.showDialog()}createForm(l){if(l){switch(this.formModel=new k.FormGroup({id:new k.FormControl(l.id),comment:new k.FormControl(l.comment),type:new k.FormControl(l.type)}),l.type!=Cn.E.OBJ_GEN_RULE&&this.formModel.addControl("name",new k.FormControl(l.name,[k.Validators.required,k.Validators.pattern(Cn.e.nameRegExp)])),l.type){case Cn.E.OBJ_FIREWALL:break;case Cn.E.OBJ_ADDRESS:this.formModel.addControl("address",new k.FormControl(l.address,Cn.e.ipAddressValidator.bind(this))),this.formModel.addControl("netmask",new k.FormControl(l.netmask,Cn.e.netmaskValidator.bind(this))),this.formModel.addControl("ip_version",new k.FormControl(l.ip_version?l.ip_version:this.ipVersions[0].id)),this.formModel.addControl("interface",new k.FormControl(l.interface));break;case Cn.E.OBJ_ADDRESS_RANGE:this.formModel.addControl("range_start",new k.FormControl(l.range_start,Cn.e.ipAddressValidator.bind(this))),this.formModel.addControl("range_end",new k.FormControl(l.range_end,Cn.e.ipAddressValidator.bind(this))),this.formModel.addControl("ip_version",new k.FormControl(l.ip_version?l.ip_version:this.ipVersions[0].id));break;case Cn.E.OBJ_NETWORK:this.formModel.addControl("address",new k.FormControl(l.address,Cn.e.ipAddressValidator.bind(this))),this.formModel.addControl("netmask",new k.FormControl(l.netmask,Cn.e.netmaskValidator.bind(this))),this.formModel.addControl("ip_version",new k.FormControl(l.ip_version?l.ip_version:this.ipVersions[0].id));break;case Cn.E.OBJ_HOST:case Cn.E.OBJ_GROUP:break;case Cn.E.OBJ_DNS:this.formModel.controls.name.setValidators([k.Validators.required,k.Validators.pattern(Cn.e.fqdnRegexp)]);break;case Cn.E.OBJ_INTERFACE_HOST:case Cn.E.OBJ_INTERFACE_FIREWALL:this.formModel.addControl("labelName",new k.FormControl(l.labelName,k.Validators.pattern(Cn.e.nameRegExp))),this.formModel.addControl("mac",new k.FormControl(l.mac,k.Validators.pattern(Cn.e.macRegexp)));break;case Cn.E.OBJ_SERVICE_IP:this.formModel.addControl("protocol",new k.FormControl(l.protocol,[k.Validators.min(0),k.Validators.max(255)]));break;case Cn.E.OBJ_SERVICE_TCP:this.formModel.addControl("tcp_flags_mask",new k.FormControl(l.tcp_flags_mask)),this.formModel.addControl("tcp_flags_settings",new k.FormControl(l.tcp_flags_settings)),this.formModel.addControl("source_port_start",new k.FormControl(l.source_port_start?l.source_port_start:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("source_port_end",new k.FormControl(l.source_port_end?l.source_port_end:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("destination_port_start",new k.FormControl(l.destination_port_start?l.destination_port_start:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("destination_port_end",new k.FormControl(l.destination_port_end?l.destination_port_end:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("protocol",new k.FormControl(l.protocol,[k.Validators.min(0),k.Validators.max(255)])),this.formModel.setValidators([this.srcPortsValidator,this.destPortsValidator]),this.setTCPFlags(l.tcp_flags_mask,l.tcp_flags_settings);break;case Cn.E.OBJ_SERVICE_ICMP:this.formModel.addControl("icmp_type",new k.FormControl(l.icmp_type?l.icmp_type:-1,[k.Validators.required,k.Validators.min(-1),k.Validators.max(255)])),this.formModel.addControl("icmp_code",new k.FormControl(l.icmp_code?l.icmp_code:-1,[k.Validators.required,k.Validators.min(-1),k.Validators.max(255)])),this.formModel.addControl("protocol",new k.FormControl(l.protocol,[k.Validators.min(0),k.Validators.max(255)]));break;case Cn.E.OBJ_SERVICE_UDP:this.formModel.addControl("source_port_start",new k.FormControl(l.source_port_start?l.source_port_start:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("source_port_end",new k.FormControl(l.source_port_end?l.source_port_end:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("destination_port_start",new k.FormControl(l.destination_port_start?l.destination_port_start:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("destination_port_end",new k.FormControl(l.destination_port_end?l.destination_port_end:0,[k.Validators.required,k.Validators.min(0),k.Validators.max(65535)])),this.formModel.addControl("protocol",new k.FormControl(l.protocol,[k.Validators.min(0),k.Validators.max(255)])),this.formModel.setValidators([this.srcPortsValidator,this.destPortsValidator]);break;case Cn.E.OBJ_SERVICE_GROUP:break;case Cn.E.OBJ_GEN_RULE:this.formModel.addControl("firewall",new k.FormControl(l.firewall)),this.formModel.addControl("options",new k.FormControl(l.options)),this.formModel.addControl("run_before",new k.FormControl(l.run_before)),this.formModel.addControl("run_after",new k.FormControl(l.run_after)),this.setOptionsFlags(l);break;case Cn.E.OBJ_MARK:this.formModel.addControl("code",new k.FormControl(l.code,[k.Validators.required,k.Validators.min(1)]))}l.duplicateObjectAction&&this.formModel.markAsDirty()}}setOptionsFlags(l){if(l){let n;for(let e=0;e<this.optionsFlags.length;e++){let t=this.optionsFlags[e];n=!!(l.options&Math.pow(2,e)),t.status=n}}}onChangeOptionsFlags(l){let n,e=0;n=this.optionsFlags[l].optionGroup;for(let t=0;t<this.optionsFlags.length;t++)n==this.optionsFlags[t].optionGroup&&t!=l&&(this.optionsFlags[t].status=!1),this.optionsFlags[t].status&&(e|=Math.pow(2,t));this.formModel.controls.options.setValue(e),this.formModel.markAsDirty()}setTCPFlags(l,n){const e=["URG","ACK","PSH","RST","SYN","FIN"];this.tcpFlagsArray=[];for(let t=0;t<e.length;t++){let i;i={name:e[t],mask:!!(l&Math.pow(2,t)),status:!!(n&Math.pow(2,t))},this.tcpFlagsArray.push(i)}}setFormTCPFlags(l){let n=0,e=0;this.tcpFlagsArray[l].mask||(this.tcpFlagsArray[l].status=!1);for(let t=0;t<this.tcpFlagsArray.length;t++){let l=this.tcpFlagsArray[t].status;this.tcpFlagsArray[t].mask&&(n|=Math.pow(2,t)),l&&(e|=Math.pow(2,t))}this.formModel.controls.tcp_flags_mask.setValue(n),this.formModel.controls.tcp_flags_settings.setValue(e),this.formModel.markAsDirty()}checkForm(l){l&&l.target&&"textarea"!=l.target.type&&this.formModel.valid&&(l.target.blur(),this.onSave())}onSave(l=0){if(this.object)if(this.loadingData=!0,this.objErrorMessage=null,null==this.object.id){let n,e,t={fwcloud:this.fwcUserObject.selectedFwCloud},i=this.object;for(let l in this.formModel.controls)t[l]=i[l]=null!=this.formModel.controls[l].value?this.formModel.controls[l].value:void 0;switch(this.object.type!=Cn.E.OBJ_MARK&&(t.node_parent=+this.object.node_parent,t.node_order=+this.object.node_order,t.node_type=this.object.node_type),l&&(t.force=l),this.object.type){case Cn.E.OBJ_FIREWALL:e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL");break;case Cn.E.OBJ_INTERFACE_FIREWALL:case Cn.E.OBJ_INTERFACE_HOST:n=this.fwcInterfaceService.newInterface.bind(this.fwcInterfaceService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),t.firewall=this.object.firewall||this.object.firewall_id||this.object._fwcFwId,t.host=this.object.host||this.object.host_id||this.object._fwcHostId,t.interface_type=this.object.interface_type;break;case Cn.E.OBJ_GROUP:case Cn.E.OBJ_SERVICE_GROUP:n=this.fwcObjectService.newObjectGroup.bind(this.fwcObjectService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP");break;case Cn.E.OBJ_MARK:n=this.fwcMarkService.newMark.bind(this.fwcMarkService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_MARK"),t.node_id=this.object.node_parent,delete t.type;break;default:n=this.fwcObjectService.newObject.bind(this.fwcObjectService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT")}this.utilService.fwcAPICall(n,t).then(l=>{let n=l.data.insertId,t=l.data.TreeinsertId;this.object.id=this.object.id_obj=this.object._fwcObjId=n,this.formModel.controls.id.setValue(n),this.object.id_node=this.object._fwcObjTreeId=t,this.object._fwcObjTreeParentId=this.object.node_parent,this.object.text=this.object.name,this.object.obj_type=this.object._fwcObjType,null!=this.object.firewall&&(this.object._fwcFwId=this.object.firewall),i._fwcTreeAction=Cn.N.NEW_ITEM,this.itemSelectedService.setModifiedItem(i),l.data&&l.data.fw_status&&this.store.dispatch(Ql.c.updateFwStatus({item:l.data.fw_status})),this.formModel.markAsPristine(),this.object._fwcObjType==Cn.E.OBJ_GROUP||this.object._fwcObjType==Cn.E.OBJ_SERVICE_GROUP?(this.displayDialog=!0,this.onItemSelect(this.object)):this.onCancel(),this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("ITEM_PANEL.OBJ_CREATED",{objType:e})})}).catch(l=>{l&&400==l.status&&l.error&&1003==l.error.fwcErr?this.object.type!=Cn.E.OBJ_MARK?this.confirmDuplicateOperation(l.data):this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_MARK_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_MARK_ERROR.TEXT")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1})}else{if(!this.object.fwcloud&&this.object.type!=Cn.E.OBJ_INTERFACE_FIREWALL)return;let n,e,t={fwcloud:this.fwcUserObject.selectedFwCloud},i=Object.assign({},this.object);for(let l in this.formModel.controls)t[l]=i[l]=null!=this.formModel.controls[l].value?this.formModel.controls[l].value:void 0;switch(this.formModel.controls.name&&(i._fwcObjName=this.formModel.controls.name.value),i._fwcUserId=this.fwcUserObject.user_id,i.type){case Cn.E.OBJ_FIREWALL:n=this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL");break;case Cn.E.OBJ_INTERFACE_FIREWALL:case Cn.E.OBJ_INTERFACE_HOST:n=this.fwcInterfaceService.updateInterface.bind(this.fwcInterfaceService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),t.interface_type=this.object.interface_type;break;case Cn.E.OBJ_GROUP:case Cn.E.OBJ_SERVICE_GROUP:n=this.fwcObjectService.updateObjectGroup.bind(this.fwcObjectService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP");break;case Cn.E.OBJ_GEN_RULE:n=this.fwcPolicyService.updatePolicyRuleAsObject.bind(this.fwcPolicyService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_RULE"),t.type=i.type=i.ruleType,t.run_before||(t.run_before=null),t.run_after||(t.run_after=null),t.rule=t.id,delete t.id;break;case Cn.E.OBJ_MARK:n=this.fwcMarkService.updateMark.bind(this.fwcMarkService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_MARK"),t.mark=t.id,delete t.id,delete t.type;break;default:n=this.fwcObjectService.updateObject.bind(this.fwcObjectService),e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GEN_IP_OBJECT")}l&&(t.force=l),this.utilService.fwcAPICall(n,t).then(l=>{if(l.data&&l.data.fw_status&&(i.fw_status=l.data.fw_status),i.ruleType){let l;l={id:i.id,firewall:i.firewall,type:i.ruleType,options:i.options,run_before:i.run_before,run_after:i.run_after},this.ruleSelectedService.setModifiedRule(l),this.store.dispatch(Ql.c.updateFwStatus({item:{cluster:this.object._fwcClusterId,id:this.object._fwcFwId,status:3}}))}else i._fwcTreeAction=Cn.N.MODIFY_ITEM,this.itemSelectedService.setModifiedItem(i),this.store.dispatch(Ql.c.updateFwStatus({item:i.fw_status})),this.itemSelectedService.updateClipboardItem(i);this.loadingData=!1,this.formModel.markAsPristine(),this.onCancel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("ITEM_PANEL.OBJ_UPDATED",{objType:e})})}).catch(l=>{if(l&&400==l.status&&l.error&&1003==l.error.fwcErr)if(this.object.type!=Cn.E.OBJ_MARK){let n;Array.isArray(l.data)&&(n=l.data.filter(l=>l.id!=this.object.id),n&&n.length&&this.confirmDuplicateOperation(n))}else this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_MARK_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_MARK_ERROR.TEXT")});else this.messageService.add(l&&400===l.status&&"The interface cannot be updated. There are references in dhcp_r."===l.data?{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("ITEM_PANEL.ERRORS.INTERFACE_MAC_ERROR.TEXT")}:{key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)});this.loadingData=!1})}}onCancel(l){!l&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.objErrorMessage=null,this.object=null,this.objectToDelete=null,this.fwcUserService.setConfirmationToken(void 0),this.deleteMsg=null)}equalizeTabHeight(){}onDialogShow(){setTimeout(()=>{this.inputObjName&&this.inputObjName.nativeElement.focus();let l=0;this.object&&this.object.whereUsedAction&&(l=1),this.tabIndex=l,this.equalizeTabHeight(),this.recenterDialog()},150)}onDialogHide(){}onTabChange(l){l&&(this.tabIndex=l.index,this.recenterDialog())}showRestrictions(l,n){l&&(l._fwcShowRestrictions=!0,this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(l,n)},1e3))}hideRestrictions(l){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,l),this.infoTooltipShown=!1)}confirmDuplicateOperation(l){let n="";if(this.loadingData=!1,l.length){n="<ul>";for(let e=0;e<l.length;e++)n+="<li><strong>"+l[e].name+"</strong> (Id: "+l[e].id+") </li>";n+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:n}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}}var yt=e("iInd"),Tt=t["\u0275crt"]({encapsulation:2,styles:[[":root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.modalMsg{text-align:center;border-bottom:1px solid}div.fwcItemData{padding-bottom:2rem}.fwcFlagsTable{font-size:.9em}.fwcFlagsTable td,.fwcFlagsTable th{padding:.2rem}.fieldsetFixed{height:10rem}.fieldsetFixed .ui-fieldset-legend-text{font-family:Arial,Montserrat,sans-serif;color:var(--fwcPaleDark)}.tbvRuleHooks.ui-tabview{padding:0}.tbvRuleHooks textarea{font-family:monospace!important;height:10rem!important}"]],data:{animation:[{type:7,name:"fundidoInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"translateY(12%)"},offset:null},options:void 0},{type:0,name:"active, newItemAdded",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"300ms"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});function Pt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Nt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"i",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.HEADER.STD_OBJ")))}))}function Dt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,17,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-edit fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""])),(l()(),t["\u0275eld"](7,0,null,null,0,"span",[["class","fwcSep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" ",": \xa0 "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](10,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](11,1),(l()(),t["\u0275ted"](-1,null,["\xa0 "])),(l()(),t["\u0275eld"](13,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,["\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Nt)),t["\u0275did"](18,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,18,0,!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL)}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("ITEM_PANEL.HEADER.EDIT_OBJ."+e.tabIndex))),l(n,6,0,e.object.name),l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("ITEM_PANEL.HEADER.TYPE")));var i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,10,0,l(n,11,0,t["\u0275nov"](n.parent.parent.parent,0),e.object.type))," fwcOrange");l(n,10,0,i),l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("GLOBALS.DB_OBJECT_NAMES."+e.object.type)))}))}function At(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-edit fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("ITEM_PANEL.HEADER.EDIT_RULE"))),l(n,6,0,e.object.id)}))}function Lt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Pt)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["objIsAnIPObject",2]],null,0,null,Dt)),(l()(),t["\u0275and"](0,[["objIsARule",2]],null,0,null,At))],(function(l,n){var e=n.component;l(n,2,0,e.object.type!=e.ObjectTypes.OBJ_GEN_RULE,t["\u0275nov"](n,3),t["\u0275nov"](n,4))}),null)}function Mt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.HEADER.IN_FW")))}))}function Ft(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.HEADER.IN_CL")))}))}function Ut(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.HEADER.IN_HOST")))}))}function kt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," (",")"]))],null,(function(l,n){var e=n.component;l(n,1,0,e.object.parent_id,e.object.parent_name)}))}function Gt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[""," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](-1,null,[")"]))],null,(function(l,n){var e=n.component;l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.HEADER.IN_IF"))),l(n,4,0,e.object.interface),l(n,7,0,e.object._fwcParentObjName)}))}function jt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,21,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,20,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,19,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwcMenuIcon fwci-new fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Mt)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ft)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ut)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,kt)),t["\u0275did"](13,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gt)),t["\u0275did"](15,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](16,0,null,null,0,"span",[["class","fwcSep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,[" ",": "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](19,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,7,0,e.object.firewall&&!e.object.cluster),l(n,9,0,e.object.cluster),l(n,11,0,e.object.host),l(n,13,0,e.object.parent_id),l(n,15,0,e.object._fwcParentInterfaceType)}),(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("ITEM_PANEL.HEADER.NEW_OBJ"))),l(n,17,0,t["\u0275unv"](n,17,0,t["\u0275nov"](n,18).transform("ITEM_PANEL.HEADER.TYPE"))),l(n,20,0,t["\u0275unv"](n,20,0,t["\u0275nov"](n,21).transform("GLOBALS.DB_OBJECT_NAMES."+e.object.type)))}))}function xt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,15,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,14,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwcMenuIcon fwci-edit fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275eld"](8,0,null,null,0,"span",[["class","fwcSep"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,[" ",": \xa0 "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),t["\u0275ppd"](12,1),(l()(),t["\u0275ted"](-1,null,["\xa0 "])),(l()(),t["\u0275eld"](14,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("ITEM_PANEL.HEADER.DUPLICATE_OBJ"))),l(n,7,0,e.object.name),l(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("ITEM_PANEL.HEADER.TYPE")));var i=t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,11,0,l(n,12,0,t["\u0275nov"](n.parent.parent,0),e.object.type))," fwcOrange");l(n,11,0,i),l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("GLOBALS.DB_OBJECT_NAMES."+e.object.type)))}))}function Vt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Lt)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,jt)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xt)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.object.id&&!e.object.duplicateObjectAction),l(n,4,0,!e.object.id&&!e.object.duplicateObjectAction),l(n,6,0,e.object.duplicateObjectAction)}),null)}function Bt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwcMenuIcon fwci-delete fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""]))],null,(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform(e.deleteDialogTitle))),l(n,7,0,null==e.objectToDelete?null:e.objectToDelete._fwcObjName)}))}function Wt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","ui-button-primary"],["icon","fa fa-question"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showHelp()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"fa fa-question")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Ht(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,22,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275eld"](3,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,[[4,0],["inputObjName",1]],null,8,"input",[["formControlName","name"],["maxlength","64"],["name","name"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,6)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,6).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,13).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](6,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](7,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](10,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](12,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](13,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](14,0,null,null,2,"label",[["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](15,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](17,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](19,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](20,{visibility:0}),(l()(),t["\u0275ted"](21,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.object.type==e.ObjectTypes.OBJ_GROUP||e.object.type==e.ObjectTypes.OBJ_SERVICE_GROUP?"ui-g-12":"ui-g-6"),l(n,7,0,"64"),l(n,10,0,"name"),l(n,13,0);var t=l(n,20,0,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible");l(n,19,0,t)}),(function(l,n){var e=n.component;l(n,5,1,[t["\u0275nov"](n,7).maxlength?t["\u0275nov"](n,7).maxlength:null,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,13).filled]),l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform(e.object.type!=e.ObjectTypes.OBJ_DNS?"ITEM_PANEL.FIELDS.NAME":"ITEM_PANEL.FIELDS.NAME_DNS"))),l(n,21,0,t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform(null!=e.formModel.get("name").errors&&e.formModel.get("name").errors.pattern?"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME":"ITEM_PANEL.ERRORS.FIELD_EMPTY")))}))}function Jt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","ui-g-6"]],null,null,null,null,null))],null,null)}function $t(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","address"],["maxlength","45"],["name","address"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","address"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"45"),l(n,8,0,"address"),l(n,11,0);var t=l(n,18,0,e.formModel.get("address").valid||e.formModel.get("address").pristine&&e.formModel.get("address").untouched?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.ADDRESS"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_ADDR")))}))}function Yt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","netmask"],["maxlength","15"],["name","netmask"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","netmask"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"15"),l(n,8,0,"netmask"),l(n,11,0);var t=l(n,18,0,e.formModel.get("netmask").valid||e.formModel.get("netmask").pristine?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.MASK"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_NETMASK")))}))}function Kt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","range_start"],["maxlength","45"],["name","range_start"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","range_start"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"45"),l(n,8,0,"range_start"),l(n,11,0);var t=l(n,18,0,e.formModel.get("range_start").valid||e.formModel.get("range_start").pristine&&e.formModel.get("range_start").untouched?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.RANGE_S"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_ADDR")))}))}function qt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","range_end"],["maxlength","45"],["name","range_end"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","range_end"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"45"),l(n,8,0,"range_end"),l(n,11,0);var t=l(n,18,0,e.formModel.get("range_end").valid||e.formModel.get("range_end").pristine&&e.formModel.get("range_end").untouched?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.RANGE_E"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_ADDR")))}))}function Xt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.text)}))}function zt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"select",[["class","fwcSelect"],["formControlName","ip_version"],["name","ip_version"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"change"===n&&(i=!1!==u.revalidateForm()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](6,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Xt)),t["\u0275did"](10,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","ip_version"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,6,0,"ip_version"),l(n,10,0,e.ipVersions)}),(function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.IPV")))}))}function Zt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","address"],["maxlength","45"],["name","address"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","address"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"45"),l(n,8,0,"address"),l(n,11,0);var t=l(n,18,0,e.formModel.get("address").valid||e.formModel.get("address").pristine&&e.formModel.get("address").untouched?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.ADDRESS"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_ADDR")))}))}function Qt(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","netmask"],["maxlength","15"],["name","netmask"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","netmask"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"15"),l(n,8,0,"netmask"),l(n,11,0);var t=l(n,18,0,e.formModel.get("netmask").valid||e.formModel.get("netmask").pristine?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.MASK"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_NETMASK")))}))}function li(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.text)}))}function ni(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"select",[["class","fwcSelect"],["formControlName","ip_version"],["name","ip_version"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"change"===n&&(i=!1!==u.revalidateForm()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](6,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,li)),t["\u0275did"](10,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","ip_version"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,6,0,"ip_version"),l(n,10,0,e.ipVersions)}),(function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.IPV")))}))}function ei(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,8,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,4,"sts-fwc-object-group",[],null,null,null,ot.b,ot.a)),t["\u0275prd"](5120,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[at.a]),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275did"](7,4440064,null,0,at.a,[z.a,hl.m,t.Renderer2,ul.a,Cl.a,ol.a,X.a,_l.a,sl.a,il.a,Rl.ConfirmationService,rl.a,gl.MessageService,nl.l],{groupId:[0,"groupId"],groupType:[1,"groupType"],groupTreeId:[2,"groupTreeId"],readOnly:[3,"readOnly"],ipobjs:[4,"ipobjs"]},null),(l()(),t["\u0275eld"](8,0,null,null,2,"label",[["class","fwcFloatLabel"]],null,null,null,null,null)),(l()(),t["\u0275ted"](9,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](11,0,null,null,3,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](13,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](14,{visibility:0})],(function(l,n){var e=n.component;l(n,7,0,e.object.id,e.object.type,e.object.id_node,!e.object.fwcloud,e.object.ipobjs);var t=l(n,14,0,"hidden");l(n,13,0,t)}),(function(l,n){l(n,9,0,t["\u0275unv"](n,9,0,t["\u0275nov"](n,10).transform("ITEM_PANEL.FIELDS.OBJ_GROUP")))}))}function ti(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"input",[["formControlName","protocol"],["max","255"],["min","0"],["name","protocol"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,5).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,5).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,10).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),"click"===n&&(i=!1!==e.target.select()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](7,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](9,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](10,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","protocol"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](14,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](16,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](17,{visibility:0}),(l()(),t["\u0275ted"](18,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,7,0,"protocol"),l(n,10,0);var t=l(n,17,0,e.formModel.get("protocol").valid||e.formModel.get("protocol").pristine?"hidden":"visible");l(n,16,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,10).filled]),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.PROT"))),l(n,18,0,t["\u0275unv"](n,18,0,t["\u0275nov"](n,19).transform("ITEM_PANEL.ERRORS.FIELD_PROTOCOL")))}))}function ii(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_PORT_VAL")))}))}function ui(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_PORT_VAL2")))}))}function oi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null))],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_PORT_VAL")))}))}function ai(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_PORT_VAL2")))}))}function si(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,83,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,82,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,40,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,39,"p-fieldset",[["styleClass","fieldsetFixed"]],null,null,null,st.b,st.a)),t["\u0275did"](4,49152,null,0,rt.Fieldset,[t.ElementRef],{legend:[0,"legend"],styleClass:[1,"styleClass"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,1,28,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,7,"input",[["formControlName","source_port_start"],["max","65535"],["min","0"],["name","source_port_start"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,11)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,11).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,11)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,11)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,12).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,12).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,12).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,17).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),"click"===n&&(i=!1!==e.target.select()&&i),i}),null,null)),t["\u0275did"](11,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](12,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](14,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](16,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](17,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](18,0,null,null,2,"label",[["for","source_port_start"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](21,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,7,"input",[["formControlName","source_port_end"],["max","65535"],["min","0"],["name","source_port_end"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,26).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,26).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,26).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,31).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),"click"===n&&(i=!1!==e.target.select()&&i),i}),null,null)),t["\u0275did"](25,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](26,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](28,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](30,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](31,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](32,0,null,null,2,"label",[["for","source_port_end"]],null,null,null,null,null)),(l()(),t["\u0275ted"](33,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](35,0,null,1,7,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](37,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](38,{visibility:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,ii)),t["\u0275did"](40,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ui)),t["\u0275did"](42,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](43,0,null,null,40,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](44,0,null,null,39,"p-fieldset",[["styleClass","fieldsetFixed"]],null,null,null,st.b,st.a)),t["\u0275did"](45,49152,null,0,rt.Fieldset,[t.ElementRef],{legend:[0,"legend"],styleClass:[1,"styleClass"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](47,0,null,1,28,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](49,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](50,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,7,"input",[["formControlName","destination_port_start"],["max","65535"],["min","0"],["name","destination_port_start"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,52)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,52).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,52)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,52)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,53).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,53).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,53).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,58).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),"click"===n&&(i=!1!==e.target.select()&&i),i}),null,null)),t["\u0275did"](52,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](53,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](55,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](57,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](58,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](59,0,null,null,2,"label",[["for","destination_port_start"]],null,null,null,null,null)),(l()(),t["\u0275ted"](60,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](62,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](64,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,7,"input",[["formControlName","destination_port_end"],["max","65535"],["min","0"],["name","destination_port_end"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"click"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,66)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,66).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,66)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,66)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,67).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,67).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,67).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,72).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),"click"===n&&(i=!1!==e.target.select()&&i),i}),null,null)),t["\u0275did"](66,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](67,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](69,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](71,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](72,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](73,0,null,null,2,"label",[["for","destination_port_end"]],null,null,null,null,null)),(l()(),t["\u0275ted"](74,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](76,0,null,1,7,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](78,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](79,{visibility:0}),(l()(),t["\u0275and"](16777216,null,null,1,null,oi)),t["\u0275did"](81,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ai)),t["\u0275did"](83,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("ITEM_PANEL.FIELDS.SRC_PORT")),""),"fieldsetFixed"),l(n,14,0,"source_port_start"),l(n,17,0),l(n,28,0,"source_port_end"),l(n,31,0);var i=l(n,38,0,null!=e.formModel.get("source_port_start").errors&&e.formModel.get("source_port_start").errors.min||null!=e.formModel.get("source_port_start").errors&&e.formModel.get("source_port_start").errors.max||null!=e.formModel.errors&&e.formModel.errors.sourceports?"visible":"hidden");l(n,37,0,i),l(n,40,0,(null==e.formModel.get("source_port_start").errors?null:e.formModel.get("source_port_start").errors.min)||(null==e.formModel.get("source_port_start").errors?null:e.formModel.get("source_port_start").errors.max)),l(n,42,0,null==e.formModel.errors?null:e.formModel.errors.sourceports),l(n,45,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,45,0,t["\u0275nov"](n,46).transform("ITEM_PANEL.FIELDS.DEST_PORT")),""),"fieldsetFixed"),l(n,55,0,"destination_port_start"),l(n,58,0),l(n,69,0,"destination_port_end"),l(n,72,0);var u=l(n,79,0,null!=e.formModel.get("destination_port_start").errors&&e.formModel.get("destination_port_start").errors.min||null!=e.formModel.get("destination_port_start").errors&&e.formModel.get("destination_port_start").errors.max||null!=e.formModel.errors&&e.formModel.errors.destinationports?"visible":"hidden");l(n,78,0,u),l(n,81,0,(null==e.formModel.get("destination_port_start").errors?null:e.formModel.get("destination_port_start").errors.min)||(null==e.formModel.get("destination_port_start").errors?null:e.formModel.get("destination_port_start").errors.max)),l(n,83,0,null==e.formModel.errors?null:e.formModel.errors.destinationports)}),(function(l,n){l(n,10,1,[t["\u0275nov"](n,16).ngClassUntouched,t["\u0275nov"](n,16).ngClassTouched,t["\u0275nov"](n,16).ngClassPristine,t["\u0275nov"](n,16).ngClassDirty,t["\u0275nov"](n,16).ngClassValid,t["\u0275nov"](n,16).ngClassInvalid,t["\u0275nov"](n,16).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,17).filled]),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.FIELDS.PORT_S"))),l(n,24,1,[t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,31).filled]),l(n,33,0,t["\u0275unv"](n,33,0,t["\u0275nov"](n,34).transform("ITEM_PANEL.FIELDS.PORT_E"))),l(n,51,1,[t["\u0275nov"](n,57).ngClassUntouched,t["\u0275nov"](n,57).ngClassTouched,t["\u0275nov"](n,57).ngClassPristine,t["\u0275nov"](n,57).ngClassDirty,t["\u0275nov"](n,57).ngClassValid,t["\u0275nov"](n,57).ngClassInvalid,t["\u0275nov"](n,57).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,58).filled]),l(n,60,0,t["\u0275unv"](n,60,0,t["\u0275nov"](n,61).transform("ITEM_PANEL.FIELDS.PORT_S"))),l(n,65,1,[t["\u0275nov"](n,71).ngClassUntouched,t["\u0275nov"](n,71).ngClassTouched,t["\u0275nov"](n,71).ngClassPristine,t["\u0275nov"](n,71).ngClassDirty,t["\u0275nov"](n,71).ngClassValid,t["\u0275nov"](n,71).ngClassInvalid,t["\u0275nov"](n,71).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,72).filled]),l(n,74,0,t["\u0275unv"](n,74,0,t["\u0275nov"](n,75).transform("ITEM_PANEL.FIELDS.PORT_E")))}))}function ri(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function ci(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.context.$implicit.mask=e)&&t),"onChange"===n&&(t=!1!==i.setFormTCPFlags(l.context.index)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](2,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{disabled:[0,"disabled"],binary:[1,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](4,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t["\u0275pod"](5,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,2,0,!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL&&e.object.type!=e.ObjectTypes.OBJ_GEN_RULE,!0);var t=!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL&&e.object.type!=e.ObjectTypes.OBJ_GEN_RULE,i=n.context.$implicit.mask,u=l(n,5,0,!0);l(n,4,0,t,i,u)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function di(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.context.$implicit.status=e)&&t),"onChange"===n&&(t=!1!==i.setFormTCPFlags(l.context.index)&&t),t}),Fl.b,Fl.a)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{visibility:0}),t["\u0275did"](5,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{disabled:[0,"disabled"],binary:[1,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](7,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t["\u0275pod"](8,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component,t=l(n,4,0,n.context.$implicit.mask?"visible":"hidden");l(n,3,0,t),l(n,5,0,!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL&&e.object.type!=e.ObjectTypes.OBJ_GEN_RULE,!0);var i=!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL&&e.object.type!=e.ObjectTypes.OBJ_GEN_RULE,u=n.context.$implicit.status,o=l(n,8,0,!0);l(n,7,0,i,u,o)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending)}))}function pi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,36,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,35,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,34,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,33,"p-fieldset",[["styleClass","fieldsetFixed"]],null,null,null,st.b,st.a)),t["\u0275did"](4,49152,null,0,rt.Fieldset,[t.ElementRef],{legend:[0,"legend"],styleClass:[1,"styleClass"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,1,5,"input",[["formControlName","tcp_flags_mask"],["name","tcp_flags_mask"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,7)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,7).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,7)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](7,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](9,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](11,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](12,0,null,1,5,"input",[["formControlName","tcp_flags_settings"],["name","tcp_flags_settings"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,13)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,13).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,13)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,13)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](13,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](15,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](17,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](18,0,null,1,18,"table",[["class","unstriped fwcFlagsTable"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,3,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ri)),t["\u0275did"](23,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](24,0,null,null,12,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,ci)),t["\u0275did"](30,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](31,0,null,null,5,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275ted"](33,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,di)),t["\u0275did"](36,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("ITEM_PANEL.FIELDS.TCP_FLAGS")),""),"fieldsetFixed"),l(n,9,0,"tcp_flags_mask"),l(n,15,0,"tcp_flags_settings"),l(n,23,0,e.tcpFlagsArray),l(n,30,0,e.tcpFlagsArray),l(n,36,0,e.tcpFlagsArray)}),(function(l,n){l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,12,0,t["\u0275nov"](n,17).ngClassUntouched,t["\u0275nov"](n,17).ngClassTouched,t["\u0275nov"](n,17).ngClassPristine,t["\u0275nov"](n,17).ngClassDirty,t["\u0275nov"](n,17).ngClassValid,t["\u0275nov"](n,17).ngClassInvalid,t["\u0275nov"](n,17).ngClassPending),l(n,27,0,t["\u0275unv"](n,27,0,t["\u0275nov"](n,28).transform("ITEM_PANEL.FIELDS.TCP_FLAG_MASK"))),l(n,33,0,t["\u0275unv"](n,33,0,t["\u0275nov"](n,34).transform("ITEM_PANEL.FIELDS.TCP_FLAG_STATUS")))}))}function fi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.index),l(n,2,0,n.context.index)}),(function(l,n){l(n,3,0,n.context.index)}))}function gi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,15,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"select",[["class","fwcSelect"],["formControlName","icmp_type"],["name","icmp_type"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0;return"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](6,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](9,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](10,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](11,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Any"])),(l()(),t["\u0275and"](16777216,null,null,1,null,fi)),t["\u0275did"](14,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](15,0,null,null,2,"label",[["for","icmp_type"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,6,0,"icmp_type"),l(n,10,0,-1),l(n,11,0,-1),l(n,14,0,e.icmp_values)}),(function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("ITEM_PANEL.FIELDS.ICMP_TYPE")))}))}function hi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.index),l(n,2,0,n.context.index)}),(function(l,n){l(n,3,0,n.context.index)}))}function mi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,15,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,11,"select",[["class","fwcSelect"],["formControlName","icmp_code"],["name","icmp_code"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0;return"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](6,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](9,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](10,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](11,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](-1,null,["Any"])),(l()(),t["\u0275and"](16777216,null,null,1,null,hi)),t["\u0275did"](14,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](15,0,null,null,2,"label",[["for","icmp_code"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,6,0,"icmp_code"),l(n,10,0,-1),l(n,11,0,-1),l(n,14,0,e.icmp_values)}),(function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("ITEM_PANEL.FIELDS.ICMP_CODE")))}))}function vi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","labelName"],["maxlength","64"],["name","labelName"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","labelName"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,5,0,"64"),l(n,8,0,"labelName"),l(n,11,0)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.LABEL")))}))}function Ci(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,8,"input",[["formControlName","mac"],["maxlength","17"],["name","mac"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[["for","mac"]],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](17,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](18,{visibility:0}),(l()(),t["\u0275ted"](19,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,5,0,"17"),l(n,8,0,"mac"),l(n,11,0);var t=l(n,18,0,e.formModel.get("mac").valid||e.formModel.get("mac").pristine?"hidden":"visible");l(n,17,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,5).maxlength?t["\u0275nov"](n,5).maxlength:null,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,11).filled]),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("ITEM_PANEL.FIELDS.MAC"))),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("ITEM_PANEL.ERRORS.FIELD_MAC")))}))}function Si(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,19,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,7,"input",[["formControlName","code"],["name","code"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,4)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,4)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,5).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,5).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,5).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,10).onInput(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](5,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](7,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](9,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](10,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","code"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](14,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](16,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](17,{visibility:0}),(l()(),t["\u0275ted"](18,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,7,0,"code"),l(n,10,0);var t=l(n,17,0,e.formModel.get("code").valid||e.formModel.get("code").pristine?"hidden":"visible");l(n,16,0,t)}),(function(l,n){l(n,3,1,[t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,10).filled]),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.MARK_CODE"))),l(n,18,0,t["\u0275unv"](n,18,0,t["\u0275nov"](n,19).transform("ITEM_PANEL.ERRORS.FIELD_MARK_CODE")))}))}function _i(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(l.context.$implicit.status=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags(l.context.index)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](2,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{disabled:[0,"disabled"],binary:[1,"binary"],label:[2,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](4,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t["\u0275pod"](5,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,2,0,e.object.special&&n.context.$implicit.disableOnRuleActive,!0,n.context.$implicit.name);var t=e.object.special&&n.context.$implicit.disableOnRuleActive,i=n.context.$implicit.status,u=l(n,5,0,!0);l(n,4,0,t,i,u)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function Ri(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,47,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12 ui-md-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,3,"div",[["class","ui-g-12 ui-md-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","ui-g-12 ui-md-4"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,_i)),t["\u0275did"](11,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](12,0,null,null,35,"div",[["class","ui-g-12 ui-md-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,34,"p-tabView",[["styleClass","tbvRuleHooks"]],null,null,null,ct.d,ct.b)),t["\u0275did"](14,1097728,null,1,dt.TabView,[t.ElementRef],{styleClass:[0,"styleClass"]},null),t["\u0275qud"](603979776,9,{tabPanels:1}),(l()(),t["\u0275eld"](16,16777216,null,0,15,"p-tabPanel",[["leftIcon","fa fa-fw fa-upload"]],null,null,null,ct.c,ct.a)),t["\u0275did"](17,1228800,[[9,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],leftIcon:[1,"leftIcon"]},null),t["\u0275qud"](603979776,10,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](20,0,null,0,7,"textarea",[["formControlName","run_before"],["pInputTextarea",""],["style","margin-top: 0 !important"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,21)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,21).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,21)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,21)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,26).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,26).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,26).onBlur(e)&&i),i}),null,null)),t["\u0275did"](21,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](23,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](25,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](26,278528,null,0,pt.InputTextarea,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](28,0,null,0,3,"div",[["class","fwc-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(i.formModel.get("run_before").setValue(null),t=!1!==i.formModel.markAsDirty()&&t),t}),null,null)),t["\u0275did"](30,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](32,16777216,null,0,15,"p-tabPanel",[["leftIcon","fa fa-fw fa-download"]],null,null,null,ct.c,ct.a)),t["\u0275did"](33,1228800,[[9,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],leftIcon:[1,"leftIcon"]},null),t["\u0275qud"](603979776,11,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](36,0,null,0,7,"textarea",[["formControlName","run_after"],["pInputTextarea",""],["style","margin-top: 0 !important"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,37)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,37).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,37)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,37)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,42).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,42).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,42).onBlur(e)&&i),i}),null,null)),t["\u0275did"](37,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](39,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](41,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](42,278528,null,0,pt.InputTextarea,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](44,0,null,0,3,"div",[["class","fwc-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(i.formModel.get("run_after").setValue(null),t=!1!==i.formModel.markAsDirty()&&t),t}),null,null)),t["\u0275did"](46,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,11,0,n.component.optionsFlags),l(n,14,0,"tbvRuleHooks"),l(n,17,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,17,0,t["\u0275nov"](n,19).transform("RULE.HOOKS.BEFORE_TITLE")),""),"fa fa-fw fa-upload"),l(n,23,0,"run_before"),l(n,26,0),l(n,30,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,30,0,t["\u0275nov"](n,31).transform("CONTEXT.OBJECTS.DELETE")),""),"fa fa-trash"),l(n,33,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,33,0,t["\u0275nov"](n,35).transform("RULE.HOOKS.AFTER_TITLE")),""),"fa fa-fw fa-download"),l(n,39,0,"run_after"),l(n,42,0),l(n,46,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,46,0,t["\u0275nov"](n,47).transform("CONTEXT.OBJECTS.DELETE")),""),"fa fa-trash")}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("RULE.OPTION_TITLE"))),l(n,7,0,t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform("RULE.HOOKS.TITLE"))),l(n,20,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,20,0,t["\u0275nov"](n,27).transform("RULE.HOOKS.PLACEHOLDER")),""),t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending,!0,!0,t["\u0275nov"](n,26).autoResize,!0,!0,t["\u0275nov"](n,26).filled]),l(n,29,0,!e.formModel.get("run_before").value),l(n,36,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,36,0,t["\u0275nov"](n,43).transform("RULE.HOOKS.PLACEHOLDER")),""),t["\u0275nov"](n,41).ngClassUntouched,t["\u0275nov"](n,41).ngClassTouched,t["\u0275nov"](n,41).ngClassPristine,t["\u0275nov"](n,41).ngClassDirty,t["\u0275nov"](n,41).ngClassValid,t["\u0275nov"](n,41).ngClassInvalid,t["\u0275nov"](n,41).ngClassPending,!0,!0,t["\u0275nov"](n,42).autoResize,!0,!0,t["\u0275nov"](n,42).filled]),l(n,45,0,!e.formModel.get("run_after").value)}))}function wi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,8,"textarea",[["formControlName","comment"],["maxlength","255"],["name","comment"],["pInputTextarea",""]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,3)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,3).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,3)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,10).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,10).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,10).onBlur(e)&&i),"drop"===n&&(i=!1!==u.preventDrop()&&i),i}),null,null)),t["\u0275did"](3,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](4,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](7,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](9,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](10,278528,null,0,pt.InputTextarea,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,4,0,"255"),l(n,7,0,"comment"),l(n,10,0)}),(function(l,n){l(n,2,1,[t["\u0275nov"](n,4).maxlength?t["\u0275nov"](n,4).maxlength:null,t["\u0275nov"](n,9).ngClassUntouched,t["\u0275nov"](n,9).ngClassTouched,t["\u0275nov"](n,9).ngClassPristine,t["\u0275nov"](n,9).ngClassDirty,t["\u0275nov"](n,9).ngClassValid,t["\u0275nov"](n,9).ngClassInvalid,t["\u0275nov"](n,9).ngClassPending,!0,!0,t["\u0275nov"](n,10).autoResize,!0,!0,t["\u0275nov"](n,10).filled]),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.COMMENTS")))}))}function Ei(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,n.component.objErrorMessage)}),null)}function Ii(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,9,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0;return"submit"===n&&(i=!1!==t["\u0275nov"](l,3).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,3).onReset()&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,k["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,4210688,null,0,k.NgForm,[[8,null],[8,null]],null,null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.NgForm]),t["\u0275did"](5,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,4,"sts-fwc-object-wu",[],null,[[null,"onHideParent"]],(function(l,n,e){var t=!0;return"onHideParent"===n&&(t=!1!==l.component.minimizeDialog()&&t),t}),ft.b,ft.a)),t["\u0275prd"](512,null,ql.a,ql.a,[q.HttpClient]),t["\u0275prd"](512,null,gt.a,gt.a,[cl.a,il.a,hl.m]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275did"](10,4308992,null,0,ht.a,[hl.m,z.a,cl.a,ql.a,nl.l,il.a,gt.a,$l.a],{objectInfo:[0,"objectInfo"]},{onHideParent:"onHideParent"})],(function(l,n){l(n,10,0,n.component.object._fwcObjectInfo)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending)}))}function bi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,67,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,66,"p-tabView",[["styleClass","objectInfoTab"]],null,[[null,"onChange"]],(function(l,n,e){var t=!0;return"onChange"===n&&(t=!1!==l.component.onTabChange(e)&&t),t}),ct.d,ct.b)),t["\u0275did"](2,1097728,[[3,4],["tbvItemTabview",4]],1,dt.TabView,[t.ElementRef],{styleClass:[0,"styleClass"],activeIndex:[1,"activeIndex"]},{onChange:"onChange"}),t["\u0275qud"](603979776,7,{tabPanels:1}),(l()(),t["\u0275eld"](4,16777216,null,0,55,"p-tabPanel",[["leftIcon","fa fa-pencil"]],null,null,null,ct.c,ct.a)),t["\u0275did"](5,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,8,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](8,0,null,0,51,"div",[["class","fwcObjectPanel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,50,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0;return"submit"===n&&(i=!1!==t["\u0275nov"](l,11).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,11).onReset()&&i),i}),null,null)),t["\u0275did"](10,16384,null,0,k["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](11,540672,null,0,k.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.FormGroupDirective]),t["\u0275did"](13,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](14,0,null,null,45,"fieldset",[],[[8,"disabled",0]],[[null,"keyup.enter"],[null,"keyup.esc"]],(function(l,n,e){var t=!0,i=l.component;return"keyup.enter"===n&&(t=!1!==i.checkForm(e)&&t),"keyup.esc"===n&&(t=!1!==i.onCancel()&&t),t}),null,null)),(l()(),t["\u0275eld"](15,0,null,null,44,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ht)),t["\u0275did"](17,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Jt)),t["\u0275did"](19,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,$t)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Yt)),t["\u0275did"](23,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Kt)),t["\u0275did"](25,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,qt)),t["\u0275did"](27,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,zt)),t["\u0275did"](29,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Zt)),t["\u0275did"](31,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Qt)),t["\u0275did"](33,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ni)),t["\u0275did"](35,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ei)),t["\u0275did"](37,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ti)),t["\u0275did"](39,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,si)),t["\u0275did"](41,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,pi)),t["\u0275did"](43,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,gi)),t["\u0275did"](45,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,mi)),t["\u0275did"](47,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,vi)),t["\u0275did"](49,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ci)),t["\u0275did"](51,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Si)),t["\u0275did"](53,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ri)),t["\u0275did"](55,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wi)),t["\u0275did"](57,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ei)),t["\u0275did"](59,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](60,16777216,null,0,7,"p-tabPanel",[["leftIcon","fa fa-info-circle"]],null,null,null,ct.c,ct.a)),t["\u0275did"](61,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,12,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](64,0,null,0,3,"div",[["id","infoPanel"]],null,null,null,null,null)),(l()(),t["\u0275eld"](65,0,null,null,2,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ii)),t["\u0275did"](67,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"objectInfoTab",e.tabIndex),l(n,5,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,5,0,t["\u0275nov"](n,7).transform("ITEM_PANEL.HEADER.OBJ")),""),e.loadingData||e.object._fwcObjType==e.ObjectTypes.OBJ_VPN_CONFIG_CLI||e.object._fwcObjType==e.ObjectTypes.OBJ_OPENVPN_PREFIX,"fa fa-pencil"),l(n,11,0,e.formModel),l(n,17,0,e.object.type!=e.ObjectTypes.OBJ_GEN_RULE),l(n,19,0,e.object.type!=e.ObjectTypes.OBJ_GEN_RULE&&e.object.type!=e.ObjectTypes.OBJ_MARK&&e.object.type!=e.ObjectTypes.OBJ_SERVICE_IP&&e.object.type!=e.ObjectTypes.OBJ_SERVICE_ICMP),l(n,21,0,e.object.type==e.ObjectTypes.OBJ_ADDRESS),l(n,23,0,e.object.type==e.ObjectTypes.OBJ_ADDRESS),l(n,25,0,e.object.type==e.ObjectTypes.OBJ_ADDRESS_RANGE),l(n,27,0,e.object.type==e.ObjectTypes.OBJ_ADDRESS_RANGE),l(n,29,0,e.object.type==e.ObjectTypes.OBJ_ADDRESS||e.object.type==e.ObjectTypes.OBJ_ADDRESS_RANGE),l(n,31,0,e.object.type==e.ObjectTypes.OBJ_NETWORK),l(n,33,0,e.object.type==e.ObjectTypes.OBJ_NETWORK),l(n,35,0,e.object.type==e.ObjectTypes.OBJ_NETWORK),l(n,37,0,(e.object.type==e.ObjectTypes.OBJ_GROUP||e.object.type==e.ObjectTypes.OBJ_SERVICE_GROUP)&&e.object.id),l(n,39,0,e.object.type==e.ObjectTypes.OBJ_SERVICE_IP),l(n,41,0,e.object.type==e.ObjectTypes.OBJ_SERVICE_TCP||e.object.type==e.ObjectTypes.OBJ_SERVICE_UDP),l(n,43,0,e.object.type==e.ObjectTypes.OBJ_SERVICE_TCP),l(n,45,0,e.object.type==e.ObjectTypes.OBJ_SERVICE_ICMP),l(n,47,0,e.object.type==e.ObjectTypes.OBJ_SERVICE_ICMP),l(n,49,0,e.object.type==e.ObjectTypes.OBJ_INTERFACE_HOST||e.object.type==e.ObjectTypes.OBJ_INTERFACE_FIREWALL),l(n,51,0,e.object.type==e.ObjectTypes.OBJ_INTERFACE_HOST||e.object.type==e.ObjectTypes.OBJ_INTERFACE_FIREWALL),l(n,53,0,e.object.type==e.ObjectTypes.OBJ_MARK),l(n,55,0,e.object.type==e.ObjectTypes.OBJ_GEN_RULE),l(n,57,0,e.object.type!=e.ObjectTypes.OBJ_GEN_RULE),l(n,59,0,e.objErrorMessage),l(n,61,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,61,0,t["\u0275nov"](n,63).transform("ITEM_PANEL.HEADER.INFO")),""),e.loadingData||!e.object._fwcObjectInfo,"fa fa-info-circle"),l(n,67,0,e.object._fwcObjectInfo)}),(function(l,n){var e=n.component;l(n,9,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,14,0,e.loadingData||!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL&&e.object.type!=e.ObjectTypes.OBJ_GEN_RULE)}))}function Oi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](2,49152,null,0,Bl.ProgressSpinner,[],null,null)],null,null)}function yi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ti(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"],[null,"onRefreshRestrictions"]],(function(l,n,e){var t=!0,i=l.component;return"onHideParent"===n&&(t=!1!==i.minimizeDialog(!0)&&t),"onRefreshRestrictions"===n&&(t=!1!==i.reloadPanel()&&t),t}),mt.b,mt.a)),t["\u0275prd"](512,null,gt.a,gt.a,[cl.a,il.a,hl.m]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275did"](4,114688,null,0,vt.a,[hl.m,nl.l,cl.a,il.a,gt.a,$l.a],{dependencies:[0,"dependencies"]},{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"})],(function(l,n){l(n,4,0,n.component.dependencies)}),null)}function Pi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](1,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ti)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.deleteMsg),l(n,3,0,!e.dependencies.restrictionsError)}),null)}function Ni(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](1,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,1,0,n.component.deleteMsg)}),null)}function Di(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Oi)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yi)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["deleteRestricted",2]],null,0,null,Pi)),(l()(),t["\u0275and"](0,[["deleteAllowed",2]],null,0,null,Ni))],(function(l,n){var e=n.component;l(n,2,0,e.loadingData&&!e.deleteMsg),l(n,4,0,e.dependencies,t["\u0275nov"](n,5),t["\u0275nov"](n,6))}),null)}function Ai(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")}),(function(l,n){var e=n.component;l(n,0,0,!e.object||e.loadingData)}))}function Li(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-save"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-save")}),(function(l,n){var e=n.component;l(n,0,0,!e.formModel.valid||e.formModel.pristine||e.loadingData)}))}function Mi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")}),null)}function Fi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](4,{visibility:0}),(l()(),t["\u0275eld"](5,0,null,null,2,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](6,49152,null,0,Bl.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](7,{width:0,height:1}),(l()(),t["\u0275and"](16777216,null,null,1,null,Ai)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Li)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mi)),t["\u0275did"](13,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component,t=l(n,4,0,e.loadingData?"visible":"hidden");l(n,3,0,t);var i=l(n,7,0,"1.7rem","1.7rem");l(n,6,0,i),l(n,9,0,!e.formModel.pristine),l(n,11,0,!e.formModel.pristine),l(n,13,0,e.formModel.pristine)}),null)}function Ui(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](2,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")}),null)}function ki(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fi)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ui)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.object.fwcloud||e.object.type==e.ObjectTypes.OBJ_INTERFACE_FIREWALL),l(n,4,0,!e.object.fwcloud&&e.object.type!=e.ObjectTypes.OBJ_INTERFACE_FIREWALL)}),null)}function Gi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","fwc-left-float ui-button-primary"],["icon","fa fa-refresh"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reloadPanel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("POLICY_GRID.RELOAD")),""),"fa fa-refresh")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function ji(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Gi)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](5,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](6,{visibility:0}),(l()(),t["\u0275eld"](7,0,null,null,2,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](8,49152,null,0,Bl.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](9,{width:0,height:1}),(l()(),t["\u0275eld"](10,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteObject()&&t),t}),null,null)),t["\u0275did"](11,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](14,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,e.dependencies);var i=l(n,6,0,e.loadingData?"visible":"hidden");l(n,5,0,i);var u=l(n,9,0,"1.7rem","1.7rem");l(n,8,0,u),l(n,11,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform("ITEM_PANEL.HEADER.DEL_OBJ")),""),"fa fa-trash"),l(n,14,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-check")}),(function(l,n){var e=n.component;l(n,10,0,!e.okToDelete||e.loadingData)}))}function xi(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](2,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,0,t["\u0275nov"](n,3).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")}),(function(l,n){l(n,1,0,n.component.loadingData)}))}function Vi(l){return t["\u0275vid"](0,[t["\u0275pid"](0,$l.a,[]),t["\u0275qud"](671088640,1,{dialog:0}),t["\u0275qud"](671088640,2,{divDlgContainer:0}),t["\u0275qud"](671088640,3,{tbvItemTabview:0}),t["\u0275qud"](671088640,4,{inputObjName:0}),(l()(),t["\u0275eld"](5,0,null,null,26,"p-dialog",[],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],(function(l,n,e){var t=!0,i=l.component;return"visibleChange"===n&&(t=!1!==(i.displayDialog=e)&&t),"onShow"===n&&(t=!1!==i.onDialogShow()&&t),"onHide"===n&&(t=!1!==i.onDialogHide()&&t),t}),Ct.b,Ct.a)),t["\u0275did"](6,180224,[[1,4],["dlgItemPanel",4]],2,St.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],modal:[1,"modal"],closable:[2,"closable"],styleClass:[3,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,5,{headerFacet:1}),t["\u0275qud"](603979776,6,{footerFacet:1}),(l()(),t["\u0275eld"](9,0,null,0,10,"p-header",[],null,null,null,_t.d,_t.b)),t["\u0275did"](10,49152,[[5,4]],0,Gl.Header,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Vt)),t["\u0275did"](12,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Bt)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,0,4,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Wt)),t["\u0275did"](17,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.minimizeDialog()&&t),t}),null,null)),t["\u0275did"](19,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,bi)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,Di)),t["\u0275did"](23,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](24,0,null,2,7,"p-footer",[],null,null,null,_t.c,_t.a)),t["\u0275did"](25,49152,[[6,4]],0,Gl.Footer,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,ki)),t["\u0275did"](27,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,ji)),t["\u0275did"](29,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,xi)),t["\u0275did"](31,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,6,0,e.displayDialog,!1,!1,(null==e.object?null:e.object.type)!=e.ObjectTypes.OBJ_GROUP&&(null==e.object?null:e.object.type)!=e.ObjectTypes.OBJ_SERVICE_GROUP?"dlgFwcDialog fwcObjectDialog":"dlgFwcDialog fwcObjectDialog fwcObjectDialog--small"),l(n,12,0,e.object),l(n,14,0,e.objectToDelete),l(n,17,0,e.helpSection),l(n,19,0,"fa fa-window-minimize"),l(n,21,0,e.object),l(n,23,0,e.objectToDelete),l(n,27,0,e.object),l(n,29,0,e.objectToDelete),l(n,31,0,!e.object&&!e.objectToDelete)}),null)}var Bi=e("NqMA"),Wi=e("+Evu"),Hi=e("f0uQ"),Ji=e("IzEk"),$i=e("EcEN"),Yi=e("je4i"),Ki=e("+chh"),qi=e("tjFe"),Xi=function(l){return l.stateful="stateful",l.ipv4="ipv4",l.ipv6="ipv6",l.debug="debug",l.report="report",l.docker="docker",l.crowdsec="crowdsec",l.fail2ban="fail2ban",l}({}),zi=function(l){return l.openvpn="openvpn",l.geoip="geoip",l.crowdsec="crowdsec",l.ntopng="ntopng",l.suricata="suricata",l.keepalived="keepalived",l.zeek="zeek",l.elasticsearch="elasticsearch",l.filebeat="filebeat",l.websafety="websafety",l.kibana="kibana",l.logstash="logstash",l.dnssafety="dnssafety",l.iscbind9="iscbind9",l.iscdhcp="iscdhcp",l.haproxy="haproxy",l}({});const Zi=new Map([[Xi.stateful,0],[Xi.ipv4,1],[Xi.ipv6,2],[Xi.debug,3],[Xi.report,4],[Xi.docker,5],[Xi.crowdsec,6],[Xi.fail2ban,7]]),Qi=new Map([["openvpn",1],["geoip",2],["crowdsec",4],["ntopng",8],["suricata",16],["keepalived",32],["zeek",64],["elasticsearch",128],["filebeat",256],["websafety",512],["kibana",1024],["logstash",2048],["dnssafety",4096],["iscbind9",8192],["iscdhcp",16384],["haproxy",32768]]);class lu extends Et.a{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h,m){super(r,u,n,g,h,m),this.fwcUserService=l,this.itemSelectedService=n,this.fwcFirewallService=e,this.fwcInterfaceService=t,this.confirmationService=i,this.appOptionsService=u,this.fwcPolicyService=o,this.fwcEventService=a,this.fwcErrorPipe=s,this.appDialogPanelsService=r,this.messageService=c,this.translate=d,this.utilService=p,this.inputDataService=f,this.cd=g,this.store=h,this.router=m,this.firewall=null,this.firewallToDelete=null,this.interfaces=[],this.interfacesIpObjs=[],this.displaySSH=!1,this.loadingData=!1,this.loadingCommunication=!1,this.dependencies=null,this.okToDelete=!1,this.alive=!0,this.displayApiKey=!1,this.isSSHCommunicationDisabled=!1,this.FirewallCompilerOptions=Cn.m,this.optionsFlags={stateful:!1,ipv4:!1,ipv6:!1,debug:!1,report:!1,docker:!1,crowdsec:!1,fail2ban:!1},this.optionsPlugins={openvpn:!1,geoip:!1,crowdsec:!1,ntopng:!1,suricata:!1,keepalived:!1,zeek:!1,elasticsearch:!1,filebeat:!1,websafety:!1,kibana:!1,logstash:!1,dnssafety:!1,iscbind9:!1,iscdhcp:!1,haproxy:!1},this.createDialog(this.translate.instant("FW.PANEL_TITLE"),"fwci-firewalls",Cn.k.FIREWALL_PANEL),this.helpSection="/firewalls",this.resetForm()}userAndPassValidator(l){let n=this.controls.install_user.value,e=this.controls.install_pass.value;return n&&n.length||!e||!e.length?null:{userandpass:!0}}ngOnInit(){this.dockerDocURL=`https://fwcloud.net/${"es"!==this.translate.currentLang?this.translate.currentLang+"/":""}documentation/fwcloud-docker`,this.deleteMsgError=null,this.store.pipe(Object(V.a)(()=>this.alive),Object(hl.B)(bt.a.selectDialogUuidsToReload)).subscribe(l=>{l&&l.find(l=>l===this.dialogUUID)&&this.reloadPanel()}),this.checkSSHCommunicationConfig(),this.itemSelectedService.getItem().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{l._fwcObjType==Cn.E.OBJ_FIREWALL&&(this.itemSelectedService.hideObjectPanel(),l.deleteAction?(this.showDialog(),this.checkFirewallRestrictions(l)):(this.resetForm(),null!==l.id_obj&&null!=l.id_obj?Promise.all([this.getClusterNodes(l._fwcClusterId,l.id_obj)]).then(([n])=>{let e=this.getMasterFirewall(n);e||(e=l.id_obj),Promise.all([this.getFirewall(l.id_obj),this.getFirewallInterfaces(e)]).then(([n,e])=>Object(Xl.b)(this,void 0,void 0,(function*(){this.firewall=n.data;const t=this.fwcUserService.getActualFwcUser().privateKey;try{this.firewall.install_user&&(this.firewall.install_user=yield this.utilService.openPGPDecrypt(this.firewall.install_user,t)),this.firewall.install_pass&&(this.firewall.install_pass=yield this.utilService.openPGPDecrypt(this.firewall.install_pass,t)),this.firewall.install_apikey&&(this.firewall.install_apikey=yield this.utilService.openPGPDecrypt(this.firewall.install_apikey,t))}catch(o){}let i,u;this.firewall._fwcClusterId=l._fwcClusterId,this.firewall.firewallUUID=Object($i.v4)(),this.interfaces=e.data,Array.isArray(this.interfaces)&&this.interfaces.forEach(l=>{l.interfaceUUID=Object(Yi.generate)(),this.firewall.install_interface&&this.firewall.install_interface===l.id&&(this.firewall.installInterfaceUUID=l.interfaceUUID,i=l),Array.isArray(l.ipobjs)&&l.ipobjs.forEach(n=>{n.ipObjUUID=l.interfaceUUID+Object(Yi.generate)(),this.firewall.install_ipobj&&this.firewall.install_ipobj===n.id&&(this.firewall.installIpObjUUID=n.ipObjUUID,u=n)})}),Array.isArray(this.interfaces)&&(this.interfacesEditorOptions={isCluster:!1,firewalls:[{firewallUUID:this.firewall.firewallUUID,firewall_name:this.firewall.name,firewall:this.firewall.id,cluster:null,installOptions:{firewallUUID:this.firewall.firewallUUID,interface:i,ipobj:u}}],discoveredFirewallUUID:this.firewall.firewallUUID,discoveredIfs:[],existingIfs:this.interfaces}),this.fillForm(),this.showDialog()}))).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}):(this.firewall={firewallUUID:Object($i.v4)(),id:void 0,fwmaster:1,node_id:l.node_id,options:3,plugins:0},this.fillForm(),this.showDialog())))})}ngOnDestroy(){super.ngOnDestroy()}reloadPanel(){if(this.firewallToDelete&&this.firewallToDelete&&(this.displayDialog||this.dialogMinified)){let l=Object.assign({},this.firewallToDelete),n=this.itemSelectedService.getActualLastMinifiedDialogId();this.checkFirewallRestrictions(l),this.dialogId==n&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(Ql.a.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.firewall=null,this.firewallToDelete=null,this.interfaces=[],this.interfacesIpObjs=[],this.dependencies=null,this.deleteMsgError=null,this.delMessage=null,this.fwcUserService.setConfirmationToken(void 0),this.interfacesEditorOptions=null,this.fwcInterfacesEditor&&this.fwcInterfacesEditor.resetProperties(),this.discoveredInstallOptions=null,this.formModel&&this.formModel.reset()}resetForm(){this.formModel=new k.FormGroup({cluster:new k.FormControl(null),name:new k.FormControl("",k.Validators.required),comment:new k.FormControl(""),fwcloud:new k.FormControl(this.fwcUserService.getActualFwSelectedCloud()),install_user:new k.FormControl(""),install_pass:new k.FormControl(""),save_user_pass:new k.FormControl(1),install_interface:new k.FormControl(null),install_ipobj:new k.FormControl(null),fwmaster:new k.FormControl(1),install_port:new k.FormControl(33033),options:new k.FormControl(3),node_id:new k.FormControl(null),firewall:new k.FormControl(null),plugins:new k.FormControl(0),compiler:new k.FormControl(0),install_communication:new k.FormControl("agent",[k.Validators.required]),install_protocol:new k.FormControl("https"),install_apikey:new k.FormControl("")}),this.formModel.get("install_interface").valueChanges.subscribe(l=>{this.onInterfaceChange(+l)})}fillForm(){this.firewall&&(this.formModel.controls.cluster.setValue(this.firewall.cluster),this.formModel.controls.name.setValue(this.firewall.name,[k.Validators.pattern(Cn.e.nameRegExp)]),this.formModel.controls.comment.setValue(this.firewall.comment),this.formModel.controls.install_user.setValue(this.firewall.install_user,[k.Validators.pattern(Cn.e.linuxUsername)]),this.formModel.controls.install_pass.setValue(this.firewall.install_pass,[k.Validators.pattern(Cn.e.linuxPassword)]),this.formModel.controls.save_user_pass.setValue(1),this.formModel.controls.install_interface.setValue(this.firewall.install_interface),this.formModel.controls.install_ipobj.setValue(this.firewall.install_ipobj),this.formModel.controls.fwmaster.setValue(this.firewall.fwmaster),this.firewall.install_port&&this.formModel.controls.install_port.setValue(this.firewall.install_port),this.formModel.controls.options.setValue(this.firewall.options),this.setOptionsFlags(),this.formModel.controls.plugins.setValue(this.firewall.plugins),this.setOptionsPlugins(),this.formModel.controls.node_id.setValue(this.firewall.node_id),this.formModel.controls.firewall.setValue(this.firewall.id),this.firewall.install_communication&&this.formModel.controls.install_communication.setValue(this.firewall.install_communication),this.firewall.install_protocol&&this.formModel.controls.install_protocol.setValue(this.firewall.install_protocol),this.firewall.install_apikey&&this.formModel.controls.install_apikey.setValue(this.firewall.install_apikey),this.firewall.type=Cn.E.OBJ_FIREWALL,this.firewall.container=Cn.O.C_FIREWALLS,this.formModel.controls.compiler.setValue((61440&this.firewall.options)>>12))}onInterfaceChange(l){if(this.interfaces){for(let n=0;n<this.interfaces.length;n++)this.interfaces[n]&&this.interfaces[n].id==l&&(this.interfacesIpObjs=this.interfaces[n].ipobjs);this.formModel.get("install_ipobj").setValue(null)}}setOptionsFlags(){this.firewall&&Object.values(Xi).forEach(l=>{this.optionsFlags[l]=!!(this.firewall.options&Math.pow(2,Zi.get(l)))})}onChangeOptionsFlags(){const l=[];for(let n of Object.values(Xi))l[Zi.get(n)]=this.optionsFlags[n]?"1":"0";this.formModel.controls.options.setValue(parseInt(l.reduce((l,n)=>n+l,""),2)),this.formModel.markAsDirty()}changeCompilerOptions(){const l=this.formModel.get("compiler").value<<12,n=4095&this.formModel.get("options").value;this.formModel.get("options").setValue(l|n)}getMasterFirewall(l){let n=null;if(l.data)for(let e=0;e<l.data.length;e++){let t=l.data[e];if(t.fwmaster){n=t.id;break}}return n}getClusterNodes(l,n){let e={};return new Promise((n,t)=>{l?this.fwcFirewallService.getClusterNodes(l,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{n(l)},l=>{t(l)}):n(e)})}getFirewalls(){return new Promise((l,n)=>{this.fwcFirewallService.getFirewallsByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(n=>{l(n)},l=>{n(l)})})}getClusters(){return new Promise((l,n)=>{this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(n=>{l(n)},l=>{n(l)})})}getFirewall(l){return new Promise((n,e)=>{this.fwcFirewallService.getFirewall(l,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{n(l)},l=>{e(l)})})}getFirewallInterfaces(l){return new Promise((n,e)=>{this.fwcInterfaceService.getInterfacesInFwFull(l,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{n(l)},l=>{e(l)})})}onCancel(l){!l&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("FW.MSG_FW_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.resetProperties()),this.shownPanel=0}checkFirewallRestrictions(l){l&&(this.loadingData=!0,this.firewallToDelete=l,this.dependencies=null,this.deleteMsgError=null,this.delMessage={type:"loading",title:this.translate.instant("FW.MSG_FW_DELETE.CHECKING_HEAD"),text:this.translate.instant("FW.MSG_FW_DELETE.CHECKING_TEXT")},this.okToDelete=!1,Promise.all([this.getClusterNodes(l._fwcClusterId,l.id_obj),this.getFirewalls(),this.getClusters()]).then(([n,e,t])=>{let i=e.data,u=t.data;for(let l=0;l<i.length;l++){let n=i[l];if(null!=n.cluster)for(let l=0;l<u.length;l++){let e=u[l];if(n.cluster==e.id){n.cluster_name=e.name;break}}}let o=this.getMasterFirewall(n);o||(o=l.id_obj),l._fwcClusterId?this.loadingData=!1:this.fwcFirewallService.checkFwRestrictions(l.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(n=>{this.fwcUserService.setConfirmationToken(n.data.fwc_confirm_token),this.deleteMsgError={type:"warning",title:this.translate.instant("FW.MSG_FW_DELETE.DEL_2"),text:this.translate.instant("FW.MSG_FW_DELETE.DEL_3",{name:l._fwcObjName})},this.dependencies=null,this.loadingData=!1,this.recenterDialog()},n=>{if(n.error){if(n.error.restrictions)try{this.dependencies=n.error.restrictions,this.dependencies._fwcRestrictedObject={_fwcObjId:l.id_obj,_fwcObjType:Cn.E.OBJ_CLUSTER},this.deleteMsgError={type:"error",title:this.translate.instant("FW.MSG_FW_DELETE.DEL_0"),text:this.translate.instant("FW.MSG_FW_DELETE.DEL_1",{name:l._fwcObjName})},this.recenterDialog()}catch(e){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})}else this.deleteMsgError={type:"error",title:this.translate.instant("FW.MSG_FW_DELETE.DEL_0"),text:this.translate.instant("FW.MSG_FW_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(n)})},this.dependencies={restrictionsError:!0};this.loadingData=!1}})}).catch(l=>{this.loadingData=!1,this.deleteMsgError={type:"error",title:this.translate.instant("FW.MSG_FW_DELETE.DEL_0"),text:this.translate.instant("FW.MSG_FW_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(l)})},this.dependencies={restrictionsError:!0}}))}checkForm(l){l&&l.target&&"textarea"!=l.target.type&&this.formModel.valid&&(l.target.blur(),this.onSave())}onSave(l=!1){return Object(Xl.b)(this,void 0,void 0,(function*(){if(!this.firewall)return;if(!l&&this.fwcInterfacesEditor&&!this.fwcInterfacesEditor.isThereAnySelectedNode())return void this.confirmationService.confirm({header:this.translate.instant("IF_EDITOR.TREE.MSG_NO_SELECTED.TITLE"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("IF_EDITOR.TREE.MSG_NO_SELECTED.TEXT",{obj_name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL").toLowerCase()}),accept:()=>{this.onSave(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")});let n,e;this.loadingData=!0;let t=Object.assign({},this.firewall),i={};for(let l in this.formModel.controls)i[l]=t[l]=null!=this.formModel.controls[l].value?this.formModel.controls[l].value:void 0;const u=this.fwcUserService.getActualFwcUser().publicKey;i.install_user&&(i.install_user=yield this.utilService.openPGPEncrypt(i.install_user,u)),i.install_pass&&(i.install_pass=yield this.utilService.openPGPEncrypt(i.install_pass,u)),null==this.firewall.id?(n=this.fwcFirewallService.newFirewall.bind(this.fwcFirewallService),e=this.translate.instant("FW.MSG_FW_CREATE")):(n=this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),e=this.translate.instant("FW.MSG_FW_UPDATE",{name:t.name})),i.install_apikey=i.install_apikey?yield this.utilService.openPGPEncrypt(i.install_apikey,u):null,delete i.compiler,"ssh"==i.install_communication&&(i.install_apikey=""),"agent"==i.install_communication&&(i.install_user="",i.install_pass=""),this.utilService.fwcAPICall(n,i).then(l=>Object(Xl.b)(this,void 0,void 0,(function*(){let n;n=l.data&&l.data.insertId?l.data.insertId:this.firewall.id,i.firewall=n,t.container=Cn.O.C_FIREWALLS,t._fwcObjId=n,t._fwcObjType=Cn.E.OBJ_FIREWALL,t._fwcTreeAction=Cn.N.NEW_ITEM,this.itemSelectedService.setModifiedItem(t),this.loadingData=!1,this.itemSelectedService.getSelectedTreeNode().pipe(Object(Ji.a)(1)).subscribe(u=>{const o=()=>{if(this.itemSelectedService.setModifiedItem(t),null!=t.id||this.fwcInterfacesEditor&&this.fwcInterfacesEditor.operationsModified()){let l=this.fwcPolicyService.getActualSelectedPolicy();null!=l._fwcFwId&&(l._fwcFwId==t.id&&(l._fwcFwName=t.name,l._dontLocateInTree=!0),this.fwcPolicyService.setSelectedPolicy(l),this.fwcPolicyService.reloadPolicy())}this.loadingData=!1,this.hideDialog(),this.resetProperties(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:e})};if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let e=this.fwcInterfacesEditor.getSelectedTreeNodes();if(l.data&&l.data.loData&&this.fwcInterfacesEditor.setNewLoIds(l.data),Array.isArray(u.items)){let l=u.items.find(l=>l.node_type===Cn.B.FOLDER_INTERFACES);if(l){let t={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:u._fwcFwName,type:Cn.E.OBJ_FIREWALL,id:n,id_node:l.id},objectTreeNodes:e,onClose:l=>Object(Xl.b)(this,void 0,void 0,(function*(){let n,e,t=!1;if(l.forEach(l=>{l.operationStatus===Cn.r.SUCCESS&&l.operationResult&&l.object.installFirewallUUIDs&&l.object.installFirewallUUIDs.has(this.firewall.firewallUUID)&&(l.object.type===Cn.E.OBJ_INTERFACE_FIREWALL?n=l.operationResult.insertId:l.object.type===Cn.E.OBJ_ADDRESS&&(e=l.operationResult.insertId)),l.operationStatus===Cn.r.ERROR&&(t=!0)}),!t&&n&&e){i.install_interface=n,i.install_ipobj=e;try{let l=new Ki.a(i).getValue();yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),l)}catch(u){zl.l.log("ERROR UPDATING: ",u)}}o()}))};this.appDialogPanelsService.searchAndShowDialog({uuid:Cn.k.ITEM_BATCH_MANAGER,data:t})}else o()}}else o()})}))).catch(l=>{400==l.status&&8001==l.error.fwcErr?(this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+l.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}),this.loadingData=!1):(this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}))})}))}manageInterfacesAndIps(l){let n=this.itemSelectedService.getActualFwcTreeComponents();Array.isArray(n)&&n.forEach(l=>{})}onDeleteFirewall(){this.okToDelete&&this.firewallToDelete&&(this.loadingData=!0,this.deleteMsgError=null,this.delMessage={type:"loading",title:this.translate.instant("FW.MSG_FW_DELETE.DELETING_HEAD"),text:this.translate.instant("FW.MSG_FW_DELETE.DELETING_TEXT")},this.utilService.fwcAPICall(this.fwcFirewallService.deleteFirewall.bind(this.fwcFirewallService),this.firewallToDelete.id_obj,this.fwcUserService.getActualFwSelectedCloud()).then(l=>{let n=this.firewallToDelete,e=this.fwcPolicyService.getActualSelectedPolicy();this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("FW.MSG_FW_DELETE.DEL_4")}),n._fwcTreeAction=Cn.N.DELETE_ITEM,this.itemSelectedService.setModifiedItem(n),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Cn.N.RELOAD_TREE,containerToReload:Cn.O.C_OBJECTS}),e&&e._fwcFwId==this.firewallToDelete.id_obj&&this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),this.loadingData=!1,this.hideDialog(),this.resetProperties()}).catch(l=>{this.deleteMsgError={type:"error",title:this.translate.instant("FW.MSG_FW_DELETE.ERROR_RES_HEAD"),text:this.translate.instant("FW.MSG_FW_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(l)})},this.fwcUserService.setConfirmationToken(void 0),this.loadingData=!1}))}onDiscoverInterfaces(l=!0){Array.isArray(this.interfacesIpObjs)&&(!l&&this.interfacesEditorOptions&&this.fwcInterfacesEditor.operationsModified()?this.confirmationService.confirm({header:this.translate.instant("FW.MSG_FW_EDITION.CONFIRM_DISCOVER_HEADER"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("FW.MSG_FW_EDITION.CONFIRM_DISCOVER_TEXT"),accept:()=>{this.doShowDiscoverDialog()},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.doShowDiscoverDialog())}onTestFwcAgentCommunication(){return Object(Xl.b)(this,void 0,void 0,(function*(){const l=this.formModel.get("install_ipobj").value;if(l){this.loadingData=!0,this.loadingCommunication=!0;const n=this.formModel.value,e=this.interfacesIpObjs.find(n=>n.id===l);if(e){let l="Error",t="fa fa-exclamation-circle fwcRed iconBig",i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});const u=this.fwcUserService.getActualFwcUser().publicKey;let o={communication:n.install_communication,host:e.address,port:n.install_port};if("ssh"===n.install_communication){let l=n.install_user,e=n.install_pass;l&&(l=yield this.utilService.openPGPEncrypt(l,u)),e&&(e=yield this.utilService.openPGPEncrypt(e,u)),o.username=l,o.password=e}else{let l=n.install_apikey;l&&(l=yield this.utilService.openPGPEncrypt(l,u)),o.protocol=n.install_protocol,o.apikey=l}this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.checkFwCommunication.bind(this.fwcFirewallService),this.fwcUserService.getActualFwSelectedCloud(),o).subscribe({next:()=>{l=this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),t="fa fa-check-circle fwcGreen iconBig",i=this.translate.instant("FW.MSG_FW_EDITION.PING_AGENT_OK"),this.confirmationService.confirm({header:l,icon:t,acceptLabel:"Ok",rejectVisible:!1,message:i}),this.loadingData=!1,this.loadingCommunication=!1},error:n=>Object(Xl.b)(this,void 0,void 0,(function*(){let e;e=this.utilService.isCommunicationError(n.error),e&&(i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:e})),this.confirmationService.confirm({header:l,icon:t,acceptLabel:"Ok",rejectVisible:!1,message:i}),this.loadingData=!1,this.loadingCommunication=!1}))})}}}))}onTestFwcAgentCommunicationDiscoverInterfaces(){return Object(Xl.b)(this,void 0,void 0,(function*(){if(this.discoveredInstallOptions.ipobj){this.loadingData=!0;let l="Error",n="fa fa-exclamation-circle fwcRed iconBig",e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});const t=this.fwcUserService.getActualFwcUser().publicKey;let i={communication:this.formModel.value.install_communication,host:this.discoveredInstallOptions.ipobj.address,port:this.install_port_agent},u=this.formModel.value.install_apikey;u&&(u=yield this.utilService.openPGPEncrypt(u,t)),i.protocol=this.formModel.value.install_protocol,i.apikey=u,this.utilService.fwcAPICall(this.fwcFirewallService.checkFwCommunication.bind(this.fwcFirewallService),this.fwcUserService.getActualFwSelectedCloud(),i).then(t=>{l=this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),n="fa fa-check-circle fwcGreen iconBig",e=this.translate.instant("FW.MSG_FW_EDITION.PING_AGENT_OK")}).catch(l=>{if(l.error){let n;n=this.utilService.isCommunicationError(l.error),n&&(e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:n}))}}).finally(()=>{this.confirmationService.confirm({header:l,icon:n,acceptLabel:"Ok",rejectVisible:!1,message:e}),this.loadingData=!1})}}))}doShowDiscoverDialog(l){let n=this.formModel.get("install_ipobj").value,e="",t=this.formModel.get("install_communication").value||"ssh";if(n){let l=this.interfacesIpObjs.find(l=>l.id===n);l&&(e=l.address)}else this.discoveredInstallOptions&&(e=this.discoveredInstallOptions.ipobj.address);let i={header:this.firewall.name?this.translate.instant("COMPILE.INST_SSH",{name:this.firewall.name}):this.translate.instant("COMPILE.INST_SSH_GEN"),helpText:this.translate.instant("IF_EDITOR.TREE.INST_SSH_TEXT"),modal:!0,formControls:[{name:"install_communication",type:"hidden",value:t},{name:"address",label:this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS"),regexp:Cn.e.ipV4Regexp,type:"text",required:!0,value:l?l.address:e,setFocus:!0},{name:"",label:"",type:"separator"},{name:"install_port",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.PORT"),regexp:Cn.e.portRegexp,type:"number",required:!0,value:l?l.install_port:this.formModel.get("install_port").value},{name:"",label:"",type:"separator"}],onAccept:this.doDiscoverInterfaces.bind(this)};"ssh"===t?i.formControls.push({name:"install_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:l?l.install_user:this.formModel.get("install_user").value},{name:"",label:"",type:"separator"},{name:"install_pass",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:l?l.install_pass:this.formModel.get("install_pass").value}):i.formControls.push({name:"install_protocol",label:this.translate.instant("FW.MSG_FW_EDITION.AGENT_PROTOCOL"),type:"select",required:!0,value:l?l.install_protocol:this.formModel.get("install_protocol").value,options:[{id:"https",text:"HTTPS"},{id:"http",text:"HTTP"}]},{name:"",label:"",type:"separator"},{name:"install_apikey",label:this.translate.instant("FW.MSG_FW_EDITION.AGENT_APIKEY"),type:"password",required:!0,value:l?l.install_apikey:this.formModel.get("install_apikey").value}),this.inputDataService.setInputData(i)}doDiscoverInterfaces(l){return Object(Xl.b)(this,void 0,void 0,(function*(){if(l){const n=this.fwcUserService.getActualFwcUser().publicKey;let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ip:l.address,port:+l.install_port,communication:l.install_communication};if("ssh"===l.install_communication){let t=l.install_user,i=l.install_pass;t&&(t=yield this.utilService.openPGPEncrypt(t,n)),i&&(i=yield this.utilService.openPGPEncrypt(i,n)),e.sshuser=t,e.sshpass=i,this.formModel.get("install_user").value!==l.install_user&&(this.formModel.get("install_user").setValue(l.install_user),this.formModel.markAsDirty())}else{let t=l.install_apikey;t&&(t=yield this.utilService.openPGPEncrypt(t,n)),e.apikey=t,e.protocol=l.install_protocol,this.formModel.get("install_protocol").value!==l.install_protocol&&(this.formModel.get("install_protocol").setValue(l.install_protocol),this.formModel.markAsDirty()),this.formModel.get("install_apikey").value!==l.install_apikey&&(this.formModel.get("install_apikey").setValue(l.install_apikey),this.formModel.markAsDirty())}this.loadingData=!0,this.loadingCommunication=!0,this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.autoDiscoverInterfaces.bind(this.fwcFirewallService),this.fwcFirewallService.autoDiscoverInterfaces(e)).subscribe({next:n=>{if(Array.isArray(n.data)){let e=n.data,t=this.getInterfaceAndAddressByUUID(this.firewall.installInterfaceUUID,this.firewall.installIpObjUUID);this.interfacesEditorOptions={isCluster:!1,firewalls:[{firewallUUID:this.firewall.firewallUUID,firewall_name:this.firewall.name,firewall:this.firewall.id,cluster:null,installOptions:{firewallUUID:this.firewall.firewallUUID,interface:t.interfaceInfo,ipobj:t.ipObjInfo}}],discoveredFirewallUUID:this.firewall.firewallUUID,discoveredAddress:l.address,discoveredIfs:e,existingIfs:this.interfaces},this.install_port_agent=l.install_port,this.formModel.markAsDirty(),this.shownPanel=1,this.recenterDialog()}this.loadingData=!1,this.loadingCommunication=!1},error:n=>Object(Xl.b)(this,void 0,void 0,(function*(){if(9e3==n.error.fwcErr)this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")});else{let e;n&&(e=this.utilService.isCommunicationError(n.error)),this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("FW.MSG_FW_EDITION.ERROR_DISCOVER")+(e?":<br/>"+e:""),accept:()=>{if(e)return this.doShowDiscoverDialog(l)}})}this.loadingData=!1,this.loadingCommunication=!1}))})}}))}showFirewallInfo(){return Object(Xl.b)(this,void 0,void 0,(function*(){this.loadingData=!0,this.loadingCommunication=!0;const l=this.formModel.get("install_ipobj").value;if(l){const n=this.formModel.value,e=this.interfacesIpObjs.find(n=>n.id===l);if(e){const l=this.fwcUserService.getActualFwcUser().publicKey;let t={communication:n.install_communication,host:e.address,port:n.install_port};if("ssh"!==n.install_communication){let e=n.install_apikey;e&&(e=yield this.utilService.openPGPEncrypt(e,l)),t.protocol=n.install_protocol,t.apikey=e}this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.getFirewallInformation.bind(this.fwcFirewallService),this.fwcUserService.getActualFwSelectedCloud(),t).subscribe({next:l=>{const n=this.utilService.createDynamicComponentRef(qi.a),e=n.instance;e.setDynamicComponentRef(n),e.showFirewallPanel(l.data.data.fwc_agent_version,l.data.data.host_name,l.data.data.system_name,l.data.data.os_version,l.data.data.os_version,l.data.data.kernel_version),this.loadingData=!1,this.loadingCommunication=!1},error:l=>Object(Xl.b)(this,void 0,void 0,(function*(){let n,e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});n=this.utilService.isCommunicationError(l.error),n&&(e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:n})),this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:e}),this.loadingData=!1,this.loadingCommunication=!1}))})}}}))}getInterfaceAndAddressByUUID(l,n){let e,t;return Array.isArray(this.interfaces)&&this.interfaces.forEach(i=>{i.interfaceUUID&&i.interfaceUUID===l&&(e=i),Array.isArray(i.ipobjs)&&i.ipobjs.forEach(l=>{l.ipObjUUID&&l.ipObjUUID===n&&(t=l)})}),!e&&this.discoveredInstallOptions&&this.discoveredInstallOptions.interface.interfaceUUID===l&&(e=this.discoveredInstallOptions.interface),!t&&this.discoveredInstallOptions&&this.discoveredInstallOptions.ipobj.ipObjUUID===n&&(t=this.discoveredInstallOptions.ipobj),{interfaceInfo:e,ipObjInfo:t}}onChangeInstallData(l){let n=this.formModel.get("install_interface").value,e=this.formModel.get("install_ipobj").value,t=null;n&&Array.isArray(this.interfaces)&&(t=this.interfaces.find(l=>l.id===n),this.firewall.installInterfaceUUID=t?t.interfaceUUID:void 0);let i=null;e&&t&&Array.isArray(t.ipobjs)&&(i=t.ipobjs.find(l=>l.id===e),this.firewall.installIpObjUUID=i?i.ipObjUUID:void 0);let u={firewallUUID:this.firewall.firewallUUID,interface:t,ipobj:i};this.refreshDialog(),this.fwcInterfacesEditor.updateInstallOptions(u)}onEditorInstallModified(l){if(l)if(l.interface||l.ipobj){let n=l.interface.id,e=l.ipobj.id;this.formModel.get("install_interface").setValue(n),this.formModel.get("install_ipobj").setValue(e),this.firewall.installInterfaceUUID=l.interface.interfaceUUID,this.firewall.installIpObjUUID=l.ipobj.ipObjUUID,this.discoveredInstallOptions=n&&e?null:{interface:l.interface,ipobj:l.ipobj}}else this.formModel.get("install_interface").setValue(null),this.formModel.get("install_ipobj").setValue(null),this.firewall.installInterfaceUUID=null,this.firewall.installIpObjUUID=null,this.discoveredInstallOptions=null;this.formModel.markAsDirty()}onEditorInterfaceOrIpModified(l){if(l&&Object.keys(l).length){if(l.id&&Array.isArray(this.interfaces)){let n=!1;for(let e=0;e<this.interfaces.length&&!n;e++){let t=this.interfaces[e];if(l.id===t.id&&l.type===t.type&&(t.name=l.name,n=!0),Array.isArray(t.ipobjs))for(let e=0;e<t.ipobjs.length&&!n;e++){let i=t.ipobjs[e];l.id===i.id&&l.type===i.type&&(i.name=l.name,i.address=l.address,n=!0)}}}else this.discoveredInstallOptions&&(l.type===Cn.E.OBJ_INTERFACE_FIREWALL?this.discoveredInstallOptions.interface&&(this.discoveredInstallOptions.interface.name=l.name):this.discoveredInstallOptions.ipobj&&(this.discoveredInstallOptions.ipobj.name=l.name,this.discoveredInstallOptions.ipobj.address=l.address));this.formModel.markAsDirty()}}handleFirewallManagementChange(l){l&&l.target&&("agent"===l.target.value?(this.formModel.get("install_protocol").setValidators([k.Validators.required]),this.formModel.get("install_apikey").setValidators([k.Validators.required]),this.formModel.get("install_port").setValue(33033)):(this.formModel.get("install_protocol").clearValidators(),this.formModel.get("install_apikey").clearValidators(),this.formModel.get("install_port").setValue(22)),this.formModel.get("install_protocol").updateValueAndValidity(),this.formModel.get("install_apikey").updateValueAndValidity())}setOptionsPlugins(){this.firewall&&Object.values(zi).forEach(l=>{this.optionsPlugins[l]=!!(this.firewall.plugins&Qi.get(l))})}onChangePluginsDevelop(){const l=[];for(let e of Object.values(zi))l[Qi.get(e)]=this.optionsPlugins[e]?"1":"0";let n;this.formModel.controls.plugins.setValue(parseInt(l.reduce((l,n)=>n+l,""),2)),Object.values(zi).forEach(l=>{(this.formModel.controls.plugins.value&Math.pow(2,Qi.get(l)))!=(this.firewall.plugins&Math.pow(2,Qi.get(l)))&&(n=l)}),this.confirmationService.confirm({header:this.translate.instant("FW.PLUGINS.HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("FW.PLUGINS.NOT_IMPLEMENTED"),reject:()=>{this.setOptionsPlugins()},accept:()=>{this.setOptionsPlugins()}})}onChangePlugins(){const l=[];let n,e,t,i="";if(this.firewall.id?(n=this.firewall.plugins,this.firewall.install_communication||this.formModel.value.install_communication?this.firewall.install_apikey||this.formModel.value.install_apikey?this.firewall.ip||this.formModel.value.install_ipobj?this.firewall.install_port||this.formModel.value.install_ipobj?this.firewall.install_protocol||this.formModel.value.install_protocol||(i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.EPROTO")})):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.ECONNRESET")}):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.ETIMEDOUT")}):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.ApiKeyNotFound")}):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.client-tiemeout")})):(n=this.formModel.controls.plugins.value,this.formModel.value.install_communication?this.formModel.value.install_apikey?this.discoveredInstallOptions?this.formModel.value.install_protocol||(i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.EPROTO")})):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT_IP_PORT"):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.ApiKeyNotFound")}):i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("API_ERROR.client-tiemeout")})),""==i){for(let n of Object.values(zi))l[Qi.get(n)]=this.optionsPlugins[n]?"1":"0";this.formModel.controls.plugins.setValue(parseInt(l.reduce((l,n)=>n+l,""),2)),Object.values(zi).forEach(l=>Object(Xl.b)(this,void 0,void 0,(function*(){if((this.formModel.controls.plugins.value&Qi.get(l))!=(this.firewall.plugins&Qi.get(l))){let i;e=l==zi.iscbind9?"isc-bind9":l==zi.iscdhcp?"isc-dhcp":l,t=this.optionsPlugins[l],i=this.formModel.controls.plugins.value&Qi.get(l)?this.translate.instant("FW.PLUGINS.ENABLE",{plugin:this.translate.instant("FW.PLUGINS."+l.toUpperCase())}):this.translate.instant("FW.PLUGINS.DISABLE",{plugin:this.translate.instant("FW.PLUGINS."+l.toUpperCase())}),this.confirmationService.confirm({header:this.translate.instant("FW.PLUGINS.HEADER"),message:i,reject:()=>{this.setOptionsPlugins()},accept:()=>Object(Xl.b)(this,void 0,void 0,(function*(){this.loadingData=!0;let l,i,u,o,a,s,r=this.firewall.install_user,c=this.firewall.install_pass,d=this.firewall.install_apikey;r&&(r.startsWith("-")||(r=yield this.utilService.openPGPEncrypt(r,this.fwcUserService.getActualFwcUser().publicKey))),c&&(c.startsWith("-")||(c=yield this.utilService.openPGPEncrypt(c,this.fwcUserService.getActualFwcUser().publicKey))),d?d.startsWith("-")||(d=yield this.utilService.openPGPEncrypt(d,this.fwcUserService.getActualFwcUser().publicKey)):d=null,this.discoveredInstallOptions?(a=this.formModel.value.install_communication,i=this.discoveredInstallOptions.ipobj.address,u=this.install_port_agent,o=yield this.utilService.openPGPEncrypt(this.formModel.value.install_apikey,this.fwcUserService.getActualFwcUser().publicKey),l=this.formModel.value.install_protocol,s=!0):this.formModel.value.install_ipobj&&(a=this.formModel.value.install_communication,i=this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj).address,u=this.formModel.value.install_port,o=yield this.utilService.openPGPEncrypt(this.formModel.value.install_apikey,this.fwcUserService.getActualFwcUser().publicKey),l=this.formModel.value.install_protocol,s=!1);let p=Object.assign({},this.firewall),f={};for(let n in this.formModel.controls)f[n]=p[n]=null!=this.formModel.controls[n].value?this.formModel.controls[n].value:void 0;this.fwcUserService.getActualFwcUser(),r&&(f.install_user=r),c&&(f.install_pass=c),d?f.install_apikey=d:f.install_apikey&&(f.install_apikey.startsWith("-")||(f.install_apikey=yield this.utilService.openPGPEncrypt(f.install_apikey,this.fwcUserService.getActualFwcUser().publicKey))),delete f.compiler,f.plugins=this.formModel.controls.plugins.value,this.eventsSubscription=this.fwcEventService.getEvent().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{l.type==It.a.EVENT_PLUGIN_PANEL_CLOSED&&(this.eventsSubscription.unsubscribe(),l.data?(this.setOptionsPlugins(),this.formModel.controls.plugins.setValue(n)):this.firewall.plugins=this.formModel.controls.plugins.value)}),this.itemSelectedService.setFirewallToPluginOperation({firewall:f,plugin:e,enable:t,address:i,persisted:s}),this.loadingData=!1})),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}})))}else this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:i,reject:()=>{this.setOptionsPlugins()},accept:()=>{this.setOptionsPlugins()}})}checkSSHCommunicationConfig(){return Object(Xl.b)(this,void 0,void 0,(function*(){this.isSSHCommunicationDisabled=!(yield this.utilService.fwcAPICall(this.fwcFirewallService.loadBackEndConfig.bind(this.fwcFirewallService))).data.availablecommunications.includes("ssh")}))}checksNtopNGConfig(){return(this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj)||!!this.discoveredInstallOptions&&!!Array.from(this.discoveredInstallOptions.interface.installFirewallUUIDs).find(l=>l===this.firewall.firewallUUID))&&!!(this.firewall.plugins&Qi.get(zi.ntopng))}checksWebSafetyProxyActie(){return(this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj)||!!this.discoveredInstallOptions&&!!Array.from(this.discoveredInstallOptions.interface.installFirewallUUIDs).find(l=>l===this.firewall.firewallUUID))&&!!(this.firewall.plugins&Qi.get(zi.websafety))}checksDNSSafetyActive(){return(this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj)||!!this.discoveredInstallOptions&&!!Array.from(this.discoveredInstallOptions.interface.installFirewallUUIDs).find(l=>l===this.firewall.firewallUUID))&&!!(this.firewall.plugins&Qi.get(zi.dnssafety))}checksElasticSearchActive(){return(this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj)||!!this.discoveredInstallOptions&&!!Array.from(this.discoveredInstallOptions.interface.installFirewallUUIDs).find(l=>l===this.firewall.firewallUUID))&&!!(this.firewall.plugins&Qi.get(zi.elasticsearch))}onClickButtonNGFW(l){let n;console.log(this.interfacesIpObjs,this.discoveredInstallOptions);let e=0!==this.interfacesIpObjs.length?this.interfacesIpObjs.find(l=>l.id==this.formModel.value.install_ipobj).address:this.discoveredInstallOptions.ipobj.address;switch(l){case"NTOPNG":n="http://"+e+":3000";break;case"WEBSAFETYPROXY":n="https://"+e+":8095";break;case"DNSSAFETY":n="https://"+e+":8096";break;case"ELASTICSEARCH":n="http://"+e+":5601"}try{window.open(n)}catch(t){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(t)})}}onShowDialog(l){this.shownPanel=1==this.itemSelectedService.getActualItem().ngfw?4:!0===this.itemSelectedService.getActualItem().plugins?3:0,this.recenterDialog();let n=this.itemSelectedService.getActualItem();delete n.ngfw,delete n.plugins,this.itemSelectedService.setItem(n),setTimeout(()=>{this.inputFirewallName&&this.inputFirewallName.nativeElement.focus()},150)}onChangeTab(l){this.shownPanel=l.index}onHideDialog(l){}onCloseDialog(){this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null,this.loadingData=!1,this.loadingCommunication=!1)}}var nu=e("N7ZF"),eu=t["\u0275crt"]({encapsulation:2,styles:[[""]],data:{}});function tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function iu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.EDIT"))),l(n,6,0,null==e.firewall?null:e.firewall.name)}))}function uu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"i",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["(Master)"]))],null,null)}function ou(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" Cluster "])),(l()(),t["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),(l()(),t["\u0275ted"](6,null,[" - "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,uu)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,9,0,null==e.firewall?null:e.firewall.fwmaster)}),(function(l,n){var e=n.component;l(n,5,0,null==e.firewall?null:e.firewall._fwcClusterId),l(n,6,0,t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform("FW.MSG_FW_EDITION.EDIT_NODE")))}))}function au(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,iu)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ou)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,!(null!=e.firewall&&e.firewall._fwcClusterId)),l(n,3,0,null==e.firewall?null:e.firewall._fwcClusterId)}),null)}function su(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.EDIT")))}))}function ru(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,tu)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["editFirewallHeader",2]],null,0,null,au)),(l()(),t["\u0275and"](0,[["newFirewallHeader",2]],null,0,null,su))],(function(l,n){var e=n.component;l(n,2,0,null==e.firewall?null:e.firewall.id,t["\u0275nov"](n,3),t["\u0275nov"](n,4))}),null)}function cu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwcMenuIcon fwci-delete fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""]))],null,(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("FW.MSG_FW_EDITION.DELETE"))),l(n,7,0,e.firewallToDelete._fwcObjName)}))}function du(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","ui-button-primary"],["icon","fa fa-question"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showHelp()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"fa fa-question")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function pu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function fu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,41,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,23,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,22,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"label",[["for","install_protocol"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,18,"select",[["class","selNoMargin"],["formControlName","install_protocol"],["name","install_protocol"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0;return"change"===n&&(i=!1!==t["\u0275nov"](l,7).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,7).onTouched()&&i),"change"===n&&(i=i),i}),null,null)),t["\u0275did"](7,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](9,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](11,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](12,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](13,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](14,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](15,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](17,0,null,null,3,"option",[["value","https"]],null,null,null,null,null)),t["\u0275did"](18,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](19,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["HTTPS"])),(l()(),t["\u0275eld"](21,0,null,null,3,"option",[["value","http"]],null,null,null,null,null)),t["\u0275did"](22,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](23,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["HTTP"])),(l()(),t["\u0275eld"](25,0,null,null,16,"div",[["class","ui-g-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,15,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,2,"label",[["for","install_apikey"]],null,null,null,null,null)),(l()(),t["\u0275ted"](28,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](30,0,null,null,9,"input",[["formControlName","install_apikey"],["maxlength","64"],["name","install_apikey"],["pPassword",""]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"keyup"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,31)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,31).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,31)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,31)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,38).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,38).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,38).onBlur(e)&&i),"keyup"===n&&(i=!1!==t["\u0275nov"](l,38).onKeyup(e)&&i),i}),null,null)),t["\u0275did"](31,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](32,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](35,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](37,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](38,409600,null,0,Bi.Password,[t.ElementRef,t.NgZone],{feedback:[0,"feedback"],showPassword:[1,"showPassword"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](40,0,null,null,1,"button",[["class","ui-button-secondary fwcButtonHeight"],["icon","fa fa-eye"],["pButton",""],["type","button"]],null,[[null,"mousedown"],[null,"mouseup"],[null,"mouseout"]],(function(l,n,e){var t=!0,i=l.component;return"mousedown"===n&&(t=0!=(i.displayApiKey=!0)&&t),"mouseup"===n&&(t=0!=(i.displayApiKey=!1)&&t),"mouseout"===n&&(t=0!=(i.displayApiKey=!1)&&t),t}),null,null)),t["\u0275did"](41,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component;l(n,9,0,"install_protocol"),l(n,13,0,null),l(n,14,0,null),l(n,18,0,"https"),l(n,19,0,"https"),l(n,22,0,"http"),l(n,23,0,"http"),l(n,32,0,"64"),l(n,35,0,"install_apikey"),l(n,38,0,!1,e.displayApiKey),l(n,41,0,"fa fa-eye")}),(function(l,n){l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("FW.MSG_FW_EDITION.AGENT_PROTOCOL"))),l(n,6,0,t["\u0275nov"](n,11).ngClassUntouched,t["\u0275nov"](n,11).ngClassTouched,t["\u0275nov"](n,11).ngClassPristine,t["\u0275nov"](n,11).ngClassDirty,t["\u0275nov"](n,11).ngClassValid,t["\u0275nov"](n,11).ngClassInvalid,t["\u0275nov"](n,11).ngClassPending),l(n,15,0,t["\u0275unv"](n,15,0,t["\u0275nov"](n,16).transform("FW.MSG_FW_EDITION.AGENT_PROTOCOL"))),l(n,28,0,t["\u0275unv"](n,28,0,t["\u0275nov"](n,29).transform("FW.MSG_FW_EDITION.AGENT_APIKEY"))),l(n,30,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,30,0,t["\u0275nov"](n,39).transform("FW.MSG_FW_EDITION.AGENT_APIKEY")),""),t["\u0275nov"](n,32).maxlength?t["\u0275nov"](n,32).maxlength:null,t["\u0275nov"](n,37).ngClassUntouched,t["\u0275nov"](n,37).ngClassTouched,t["\u0275nov"](n,37).ngClassPristine,t["\u0275nov"](n,37).ngClassDirty,t["\u0275nov"](n,37).ngClassValid,t["\u0275nov"](n,37).ngClassInvalid,t["\u0275nov"](n,37).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,38).filled])}))}function gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","fwc-error"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_USERNAME")))}))}function hu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[["class","ui-g-5"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"label",[["for","install_user"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,9,"input",[["formControlName","install_user"],["maxlength","32"],["name","install_user"],["pInputText",""],["type","text"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,6)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,6).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,13).onInput(e)&&i),i}),null,null)),t["\u0275did"](6,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](7,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](10,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](12,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](13,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,gu)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,20,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,[["divPass",1]],null,19,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"label",[["for","install_pass"]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](22,0,null,null,13,"input",[["formControlName","install_pass"],["maxlength","64"],["name","install_pass"],["pPassword",""]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"keyup"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,23)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,23).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,23)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,23)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,30).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,30).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,30).onBlur(e)&&i),"keyup"===n&&(i=!1!==t["\u0275nov"](l,30).onKeyup(e)&&i),i}),null,null)),t["\u0275did"](23,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](24,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](27,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](29,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](30,409600,null,0,Bi.Password,[t.ElementRef,t.NgZone],{promptLabel:[0,"promptLabel"],weakLabel:[1,"weakLabel"],mediumLabel:[2,"mediumLabel"],strongLabel:[3,"strongLabel"],showPassword:[4,"showPassword"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](36,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-eye"],["pButton",""],["type","button"]],null,[[null,"mousedown"],[null,"mouseup"],[null,"mouseout"]],(function(l,n,e){var t=!0,i=l.component;return"mousedown"===n&&(t=0!=(i.displaySSH=!0)&&t),"mouseup"===n&&(t=0!=(i.displaySSH=!1)&&t),"mouseout"===n&&(t=0!=(i.displaySSH=!1)&&t),t}),null,null)),t["\u0275did"](37,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component;l(n,7,0,"32"),l(n,10,0,"install_user"),l(n,13,0),l(n,16,0,!e.formModel.get("install_user").valid&&!e.formModel.get("install_user").pristine),l(n,24,0,"64"),l(n,27,0,"install_pass"),l(n,30,0,t["\u0275unv"](n,30,0,t["\u0275nov"](n,31).transform("GLOBALS.MSG_PASSWORD.PASS")),t["\u0275unv"](n,30,1,t["\u0275nov"](n,32).transform("GLOBALS.MSG_PASSWORD.WEAK")),t["\u0275unv"](n,30,2,t["\u0275nov"](n,33).transform("GLOBALS.MSG_PASSWORD.NORMAL")),t["\u0275unv"](n,30,3,t["\u0275nov"](n,34).transform("GLOBALS.MSG_PASSWORD.SAFE")),e.displaySSH),l(n,37,0,"fa fa-eye")}),(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.SSH_USER"))),l(n,5,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,5,0,t["\u0275nov"](n,14).transform("FW.MSG_FW_EDITION.SSH_USER")),""),t["\u0275nov"](n,7).maxlength?t["\u0275nov"](n,7).maxlength:null,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,13).filled]),l(n,20,0,t["\u0275unv"](n,20,0,t["\u0275nov"](n,21).transform("FW.MSG_FW_EDITION.SSH_PASS"))),l(n,22,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,22,0,t["\u0275nov"](n,35).transform("FW.MSG_FW_EDITION.SSH_PASS")),""),t["\u0275nov"](n,24).maxlength?t["\u0275nov"](n,24).maxlength:null,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,30).filled])}))}function mu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function vu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,12,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"button",[["class","ui-button-primary"],["icon","fa fa-plug"],["pButton",""],["showDelay","500"],["style","display:inline-flex; height: 2.44rem; width: 50%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTestFwcAgentCommunicationDiscoverInterfaces()&&t),t}),null,null)),t["\u0275did"](3,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](5,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,4,"button",[["class","ui-button-primary"],["icon","fa fa-info-circle"],["pButton",""],["showDelay","500"],["style","display:inline-flex; height: 2.44rem; width: 50%;"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showFirewallInfo()&&t),t}),null,null)),t["\u0275did"](8,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](10,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,0,"div",[],null,null,null,null,null))],(function(l,n){l(n,3,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.AGENT_TEST")),""),"fa fa-plug"),l(n,5,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,5,2,t["\u0275nov"](n,6).transform("FW.MSG_FW_EDITION.AGENT_TOOLTIP")),"")),l(n,8,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("FW.FW_MORE_INFO.MORE_INFO")),""),"fa fa-info-circle"),l(n,10,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,10,2,t["\u0275nov"](n,11).transform("FW.FW_MORE_INFO.AGENT_TOOLTIP")),""))}),(function(l,n){var e=n.component;l(n,2,0,e.loadingData),l(n,7,0,e.loadingData)}))}function Cu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,9,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,8,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"i",[["class","fa fa-lg fa-info-circle fwcBlue"]],null,null,null,null,null)),t["\u0275did"](4,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](6,null,[" \xa0 "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](8,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,9).onInput(e)&&i),i}),null,null)),t["\u0275did"](9,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](10,0,null,null,6,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](12,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](13,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](15,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,16).onInput(e)&&i),i}),null,null)),t["\u0275did"](16,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](17,0,null,null,7,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,6,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,2,"label",[["for","install_port"]],null,null,null,null,null)),(l()(),t["\u0275ted"](20,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](22,0,null,null,2,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"placeholder",0],[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,23).onInput(e)&&i),i}),null,null)),t["\u0275did"](23,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,vu)),t["\u0275did"](26,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e,i=n.component;l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("FW.MSG_FW_EDITION.TOOLTIP_NEW_INSTALL")),"")),l(n,9,0),l(n,16,0),l(n,23,0),l(n,26,0,"agent"===(null==(e=i.formModel.get("install_communication"))?null:e.value))}),(function(l,n){var e=n.component;l(n,6,0,t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform("FW.MSG_FW_EDITION.NEW_IF"))),l(n,8,0,t["\u0275inlineInterpolate"](1,"",null==e.discoveredInstallOptions.interface?null:e.discoveredInstallOptions.interface.name,""),!0,!0,!0,!0,t["\u0275nov"](n,9).filled),l(n,13,0,t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("FW.MSG_FW_EDITION.NEW_IP"))),l(n,15,0,t["\u0275inlineInterpolate"](1,"",(null==e.discoveredInstallOptions.ipobj?null:e.discoveredInstallOptions.ipobj.address)+" ("+(null==e.discoveredInstallOptions.ipobj?null:e.discoveredInstallOptions.ipobj.name)+")",""),!0,!0,!0,!0,t["\u0275nov"](n,16).filled),l(n,20,0,t["\u0275unv"](n,20,0,t["\u0275nov"](n,21).transform("FW.MSG_FW_EDITION.PORT"))),l(n,22,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,22,0,t["\u0275nov"](n,24).transform("FW.MSG_FW_EDITION.PORT")),""),t["\u0275inlineInterpolate"](1,"",e.install_port_agent,""),!0,!0,!0,!0,t["\u0275nov"](n,23).filled)}))}function Su(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function _u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," - "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.id,n.context.$implicit.name)}))}function Ru(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["(",")"]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.address)}))}function wu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["(",")"])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("FW.MSG_FW_EDITION.NO_IP")))}))}function Eu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" ","\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Ru)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wu)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id),l(n,5,0,n.context.$implicit.address),l(n,7,0,!n.context.$implicit.address)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function Iu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,15,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,1,"label",[["style","display: block; margin-top:-7px;"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](4,0,null,null,5,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](5,0,null,null,4,"button",[["class","ui-button-primary"],["icon","fa fa-plug"],["pButton",""],["showDelay","500"],["style","display:inline-flex; width:100%;height: 2.44rem; text-align: center; align-items: center;"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTestFwcAgentCommunication()&&t),t}),null,null)),t["\u0275did"](6,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](8,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](10,0,null,null,5,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,4,"button",[["class","ui-button-primary"],["icon","fa fa-info-circle"],["pButton",""],["showDelay","500"],["style","display:inline-flex; width:100%; height: 2.44rem; text-align: center; align-items: center"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showFirewallInfo()&&t),t}),null,null)),t["\u0275did"](12,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](14,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,6,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,6,0,t["\u0275nov"](n,7).transform("FW.MSG_FW_EDITION.AGENT_TEST")),""),"fa fa-plug"),l(n,8,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,8,2,t["\u0275nov"](n,9).transform("FW.MSG_FW_EDITION.AGENT_TOOLTIP")),"")),l(n,12,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("FW.FW_MORE_INFO.MORE_INFO")),""),"fa fa-info-circle"),l(n,14,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,14,2,t["\u0275nov"](n,15).transform("FW.FW_MORE_INFO.AGENT_TOOLTIP")),""))}),(function(l,n){var e=n.component;l(n,5,0,e.loadingData||e.formModel.get("install_protocol").invalid||e.formModel.get("install_apikey").invalid||!e.formModel.get("install_interface").value||!e.formModel.get("install_ipobj").value||e.formModel.get("install_port").invalid),l(n,11,0,e.loadingData||!e.formModel.get("install_ipobj").value)}))}function bu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"label",[["for","install_interface"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,[["ifSelect",1]],null,12,"select",[["formControlName","install_interface"],["name","install_interface"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,6).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,6).onTouched()&&i),"change"===n&&(i=!1!==u.onChangeInstallData(e)&&i),i}),null,null)),t["\u0275did"](6,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](8,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](10,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](11,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](12,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](13,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](14,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,_u)),t["\u0275did"](17,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](18,0,null,null,17,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"label",[["for","install_ipobj"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](23,0,null,null,12,"select",[["formControlName","install_ipobj"],["name","install_ipobj"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,24).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,24).onTouched()&&i),"change"===n&&(i=!1!==u.onChangeInstallData(e)&&i),i}),null,null)),t["\u0275did"](24,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](26,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](28,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](29,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](30,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](31,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](32,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Eu)),t["\u0275did"](35,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](36,0,null,null,12,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,2,"label",[["for","install_port"]],null,null,null,null,null)),(l()(),t["\u0275ted"](39,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](41,0,null,null,7,"input",[["formControlName","install_port"],["min","1"],["name","install_port"],["pInputText",""],["placeholder","Port"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,42)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,42).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,42)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,42)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,43).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,43).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,43).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,48).onInput(e)&&i),i}),null,null)),t["\u0275did"](42,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](43,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](45,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](47,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](48,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,Iu)),t["\u0275did"](50,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e,t=n.component;l(n,8,0,"install_interface"),l(n,12,0,null),l(n,13,0,null),l(n,17,0,t.interfaces),l(n,26,0,"install_ipobj"),l(n,30,0,null),l(n,31,0,null),l(n,35,0,t.interfacesIpObjs),l(n,45,0,"install_port"),l(n,48,0),l(n,50,0,"agent"===(null==(e=t.formModel.get("install_communication"))?null:e.value))}),(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"))),l(n,5,0,t["\u0275nov"](n,10).ngClassUntouched,t["\u0275nov"](n,10).ngClassTouched,t["\u0275nov"](n,10).ngClassPristine,t["\u0275nov"](n,10).ngClassDirty,t["\u0275nov"](n,10).ngClassValid,t["\u0275nov"](n,10).ngClassInvalid,t["\u0275nov"](n,10).ngClassPending),l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"))),l(n,21,0,t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"))),l(n,23,0,t["\u0275nov"](n,28).ngClassUntouched,t["\u0275nov"](n,28).ngClassTouched,t["\u0275nov"](n,28).ngClassPristine,t["\u0275nov"](n,28).ngClassDirty,t["\u0275nov"](n,28).ngClassValid,t["\u0275nov"](n,28).ngClassInvalid,t["\u0275nov"](n,28).ngClassPending),l(n,32,0,t["\u0275unv"](n,32,0,t["\u0275nov"](n,33).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"))),l(n,39,0,t["\u0275unv"](n,39,0,t["\u0275nov"](n,40).transform("FW.MSG_FW_EDITION.PORT"))),l(n,41,1,[t["\u0275nov"](n,47).ngClassUntouched,t["\u0275nov"](n,47).ngClassTouched,t["\u0275nov"](n,47).ngClassPristine,t["\u0275nov"](n,47).ngClassDirty,t["\u0275nov"](n,47).ngClassValid,t["\u0275nov"](n,47).ngClassInvalid,t["\u0275nov"](n,47).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,48).filled])}))}function Ou(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("FW.MSG_FW_EDITION.NO_IF")))}))}function yu(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Su)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["interfacesInfo",2]],null,0,null,bu)),(l()(),t["\u0275and"](0,[["noInterfaces",2]],null,0,null,Ou))],(function(l,n){var e=n.component;l(n,1,0,null==e.interfaces?null:e.interfaces.length,t["\u0275nov"](n,2),t["\u0275nov"](n,3))}),null)}function Tu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](3,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),t["\u0275pod"](4,{type:0,title:1,text:2})],(function(l,n){var e=n.component,t=l(n,4,0,"error",e.translate.instant("PLUGINS.TITLE"),e.translate.instant("PLUGINS.ERRORS.COMMUNICATION.TEXT"));l(n,3,0,t)}),null)}function Pu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,246,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,120,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.openvpn=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](9,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](11,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](14,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](16,0,null,null,1,"a",[["href","https://www.openvpn.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"img",[["height","20"],["src","assets/img/openvpn.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](21,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.keepalived=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](24,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](26,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](27,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](29,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](31,0,null,null,1,"a",[["href","https://github.com/acassen/keepalived"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,0,"img",[["height","20"],["src","assets/img/keepalived.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](34,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](36,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.geoip=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](39,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](41,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](42,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](44,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](46,0,null,null,1,"a",[["href","https://ipgeolocation.io/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,0,"img",[["height","20"],["src","assets/img/geoip.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](49,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](51,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.crowdsec=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](54,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](56,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](57,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](59,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](61,0,null,null,1,"a",[["href","https://crowdsec.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,0,"img",[["height","20"],["src","assets/img/crowdsec.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](64,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](66,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](67,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](68,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.ntopng=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](69,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](71,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](72,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](74,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](76,0,null,null,1,"a",[["href","https://www.ntop.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](77,0,null,null,0,"img",[["height","20"],["src","assets/img/ntopng.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](79,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](81,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](82,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](83,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.websafety=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](84,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](86,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](87,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](89,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](91,0,null,null,1,"a",[["href","https://www.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](92,0,null,null,0,"img",[["height","20"],["src","assets/img/websafety.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](93,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](94,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](96,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](97,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](98,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.dnssafety=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](99,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](101,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](102,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](104,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](106,0,null,null,1,"a",[["href","https://dnssafety.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](107,0,null,null,0,"img",[["height","20"],["src","assets/img/dnssafety.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](108,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](109,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](111,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](112,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](113,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.iscbind9=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](114,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](116,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](117,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](119,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](121,0,null,null,1,"a",[["href","https://www.isc.org/bind/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](122,0,null,null,0,"img",[["height","20"],["src","assets/img/isc-bind9.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](123,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](124,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](126,0,null,null,120,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](127,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](128,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](129,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.suricata=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](130,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](132,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](133,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](135,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](137,0,null,null,1,"a",[["href","https://suricata.io/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](138,0,null,null,0,"img",[["height","20"],["src","assets/img/suricata.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](139,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](140,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](142,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](143,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](144,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.zeek=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](145,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](147,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](148,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](150,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](152,0,null,null,1,"a",[["href","https://zeek.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](153,0,null,null,0,"img",[["height","20"],["src","assets/img/zeek.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](154,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](155,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](157,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](158,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](159,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.elasticsearch=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](160,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](162,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](163,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](165,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](167,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/elasticsearch"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](168,0,null,null,0,"img",[["height","20"],["src","assets/img/elasticsearch.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](169,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](170,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](172,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](173,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](174,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.kibana=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](175,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](177,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](178,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](180,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](182,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/kibana"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](183,0,null,null,0,"img",[["height","20"],["src","assets/img/kibana.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](184,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](185,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](187,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](188,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](189,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.logstash=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](190,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](192,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](193,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](195,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](197,0,null,null,1,"a",[["href","https://www.elastic.co/logstash/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](198,0,null,null,0,"img",[["height","20"],["src","assets/img/logstash.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](199,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](200,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](202,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](203,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](204,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.filebeat=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](205,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](207,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](208,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](210,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](212,0,null,null,1,"a",[["href","https://www.elastic.co/beats/filebeat"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](213,0,null,null,0,"img",[["height","20"],["src","assets/img/filebeat.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](214,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](215,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](217,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](218,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](219,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.iscdhcp=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](220,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](222,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](223,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](225,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](227,0,null,null,1,"a",[["href","https://www.isc.org/dhcp/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](228,0,null,null,0,"img",[["height","20"],["src","assets/img/isc-dhcp.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](229,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](230,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](232,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](233,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](234,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.haproxy=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](235,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](237,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](238,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](240,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](242,0,null,null,1,"a",[["href","https://www.haproxy.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](243,0,null,null,0,"img",[["height","20"],["src","assets/img/ha-proxy.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](244,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](245,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,9,0,!0);var t=e.optionsPlugins.openvpn,i=l(n,12,0,!0);l(n,11,0,t,i),l(n,24,0,!0);var u=e.optionsPlugins.keepalived,o=l(n,27,0,!0);l(n,26,0,u,o),l(n,39,0,!0);var a=e.optionsPlugins.geoip,s=l(n,42,0,!0);l(n,41,0,a,s),l(n,54,0,!0);var r=e.optionsPlugins.crowdsec,c=l(n,57,0,!0);l(n,56,0,r,c),l(n,69,0,!0);var d=e.optionsPlugins.ntopng,p=l(n,72,0,!0);l(n,71,0,d,p),l(n,84,0,!0);var f=e.optionsPlugins.websafety,g=l(n,87,0,!0);l(n,86,0,f,g),l(n,99,0,!0);var h=e.optionsPlugins.dnssafety,m=l(n,102,0,!0);l(n,101,0,h,m),l(n,114,0,!0);var v=e.optionsPlugins.iscbind9,C=l(n,117,0,!0);l(n,116,0,v,C),l(n,130,0,!0);var S=e.optionsPlugins.suricata,_=l(n,133,0,!0);l(n,132,0,S,_),l(n,145,0,!0);var R=e.optionsPlugins.zeek,w=l(n,148,0,!0);l(n,147,0,R,w),l(n,160,0,!0);var E=e.optionsPlugins.elasticsearch,I=l(n,163,0,!0);l(n,162,0,E,I),l(n,175,0,!0);var b=e.optionsPlugins.kibana,O=l(n,178,0,!0);l(n,177,0,b,O),l(n,190,0,!0);var y=e.optionsPlugins.logstash,T=l(n,193,0,!0);l(n,192,0,y,T),l(n,205,0,!0);var P=e.optionsPlugins.filebeat,N=l(n,208,0,!0);l(n,207,0,P,N),l(n,220,0,!0);var D=e.optionsPlugins.iscdhcp,A=l(n,223,0,!0);l(n,222,0,D,A),l(n,235,0,!0);var L=e.optionsPlugins.haproxy,M=l(n,238,0,!0);l(n,237,0,L,M)}),(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.PLUGINS"))),l(n,8,0,t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("FW.PLUGINS.OPENVPN"))),l(n,23,0,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,34,0,t["\u0275unv"](n,34,0,t["\u0275nov"](n,35).transform("FW.PLUGINS.KEEPALIVED"))),l(n,38,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending),l(n,49,0,t["\u0275unv"](n,49,0,t["\u0275nov"](n,50).transform("FW.PLUGINS.GEOIP"))),l(n,53,0,t["\u0275nov"](n,59).ngClassUntouched,t["\u0275nov"](n,59).ngClassTouched,t["\u0275nov"](n,59).ngClassPristine,t["\u0275nov"](n,59).ngClassDirty,t["\u0275nov"](n,59).ngClassValid,t["\u0275nov"](n,59).ngClassInvalid,t["\u0275nov"](n,59).ngClassPending),l(n,64,0,t["\u0275unv"](n,64,0,t["\u0275nov"](n,65).transform("FW.PLUGINS.CROWDSEC"))),l(n,68,0,t["\u0275nov"](n,74).ngClassUntouched,t["\u0275nov"](n,74).ngClassTouched,t["\u0275nov"](n,74).ngClassPristine,t["\u0275nov"](n,74).ngClassDirty,t["\u0275nov"](n,74).ngClassValid,t["\u0275nov"](n,74).ngClassInvalid,t["\u0275nov"](n,74).ngClassPending),l(n,79,0,t["\u0275unv"](n,79,0,t["\u0275nov"](n,80).transform("FW.PLUGINS.NTOPNG"))),l(n,83,0,t["\u0275nov"](n,89).ngClassUntouched,t["\u0275nov"](n,89).ngClassTouched,t["\u0275nov"](n,89).ngClassPristine,t["\u0275nov"](n,89).ngClassDirty,t["\u0275nov"](n,89).ngClassValid,t["\u0275nov"](n,89).ngClassInvalid,t["\u0275nov"](n,89).ngClassPending),l(n,94,0,t["\u0275unv"](n,94,0,t["\u0275nov"](n,95).transform("FW.PLUGINS.WEBSAFETY"))),l(n,98,0,t["\u0275nov"](n,104).ngClassUntouched,t["\u0275nov"](n,104).ngClassTouched,t["\u0275nov"](n,104).ngClassPristine,t["\u0275nov"](n,104).ngClassDirty,t["\u0275nov"](n,104).ngClassValid,t["\u0275nov"](n,104).ngClassInvalid,t["\u0275nov"](n,104).ngClassPending),l(n,109,0,t["\u0275unv"](n,109,0,t["\u0275nov"](n,110).transform("CLUSTER.PLUGINS.DNSSAFETY"))),l(n,113,0,t["\u0275nov"](n,119).ngClassUntouched,t["\u0275nov"](n,119).ngClassTouched,t["\u0275nov"](n,119).ngClassPristine,t["\u0275nov"](n,119).ngClassDirty,t["\u0275nov"](n,119).ngClassValid,t["\u0275nov"](n,119).ngClassInvalid,t["\u0275nov"](n,119).ngClassPending),l(n,124,0,t["\u0275unv"](n,124,0,t["\u0275nov"](n,125).transform("FW.PLUGINS.ISCBIND9"))),l(n,129,0,t["\u0275nov"](n,135).ngClassUntouched,t["\u0275nov"](n,135).ngClassTouched,t["\u0275nov"](n,135).ngClassPristine,t["\u0275nov"](n,135).ngClassDirty,t["\u0275nov"](n,135).ngClassValid,t["\u0275nov"](n,135).ngClassInvalid,t["\u0275nov"](n,135).ngClassPending),l(n,140,0,t["\u0275unv"](n,140,0,t["\u0275nov"](n,141).transform("FW.PLUGINS.SURICATA"))),l(n,144,0,t["\u0275nov"](n,150).ngClassUntouched,t["\u0275nov"](n,150).ngClassTouched,t["\u0275nov"](n,150).ngClassPristine,t["\u0275nov"](n,150).ngClassDirty,t["\u0275nov"](n,150).ngClassValid,t["\u0275nov"](n,150).ngClassInvalid,t["\u0275nov"](n,150).ngClassPending),l(n,155,0,t["\u0275unv"](n,155,0,t["\u0275nov"](n,156).transform("FW.PLUGINS.ZEEK"))),l(n,159,0,t["\u0275nov"](n,165).ngClassUntouched,t["\u0275nov"](n,165).ngClassTouched,t["\u0275nov"](n,165).ngClassPristine,t["\u0275nov"](n,165).ngClassDirty,t["\u0275nov"](n,165).ngClassValid,t["\u0275nov"](n,165).ngClassInvalid,t["\u0275nov"](n,165).ngClassPending),l(n,170,0,t["\u0275unv"](n,170,0,t["\u0275nov"](n,171).transform("CLUSTER.PLUGINS.ELASTICSEARCH"))),l(n,174,0,t["\u0275nov"](n,180).ngClassUntouched,t["\u0275nov"](n,180).ngClassTouched,t["\u0275nov"](n,180).ngClassPristine,t["\u0275nov"](n,180).ngClassDirty,t["\u0275nov"](n,180).ngClassValid,t["\u0275nov"](n,180).ngClassInvalid,t["\u0275nov"](n,180).ngClassPending),l(n,185,0,t["\u0275unv"](n,185,0,t["\u0275nov"](n,186).transform("CLUSTER.PLUGINS.KIBANA"))),l(n,189,0,t["\u0275nov"](n,195).ngClassUntouched,t["\u0275nov"](n,195).ngClassTouched,t["\u0275nov"](n,195).ngClassPristine,t["\u0275nov"](n,195).ngClassDirty,t["\u0275nov"](n,195).ngClassValid,t["\u0275nov"](n,195).ngClassInvalid,t["\u0275nov"](n,195).ngClassPending),l(n,200,0,t["\u0275unv"](n,200,0,t["\u0275nov"](n,201).transform("CLUSTER.PLUGINS.LOGSTASH"))),l(n,204,0,t["\u0275nov"](n,210).ngClassUntouched,t["\u0275nov"](n,210).ngClassTouched,t["\u0275nov"](n,210).ngClassPristine,t["\u0275nov"](n,210).ngClassDirty,t["\u0275nov"](n,210).ngClassValid,t["\u0275nov"](n,210).ngClassInvalid,t["\u0275nov"](n,210).ngClassPending),l(n,215,0,t["\u0275unv"](n,215,0,t["\u0275nov"](n,216).transform("FW.PLUGINS.FILEBEAT"))),l(n,219,0,t["\u0275nov"](n,225).ngClassUntouched,t["\u0275nov"](n,225).ngClassTouched,t["\u0275nov"](n,225).ngClassPristine,t["\u0275nov"](n,225).ngClassDirty,t["\u0275nov"](n,225).ngClassValid,t["\u0275nov"](n,225).ngClassInvalid,t["\u0275nov"](n,225).ngClassPending),l(n,230,0,t["\u0275unv"](n,230,0,t["\u0275nov"](n,231).transform("FW.PLUGINS.ISCDHCP"))),l(n,234,0,t["\u0275nov"](n,240).ngClassUntouched,t["\u0275nov"](n,240).ngClassTouched,t["\u0275nov"](n,240).ngClassPristine,t["\u0275nov"](n,240).ngClassDirty,t["\u0275nov"](n,240).ngClassValid,t["\u0275nov"](n,240).ngClassInvalid,t["\u0275nov"](n,240).ngClassPending),l(n,245,0,t["\u0275unv"](n,245,0,t["\u0275nov"](n,246).transform("FW.PLUGINS.HAPROXY")))}))}function Nu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](3,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),t["\u0275pod"](4,{type:0,title:1,text:2})],(function(l,n){var e=n.component,t=l(n,4,0,"error",e.translate.instant("NGFW.TITLE"),e.translate.instant("NGFW.ERRORS.COMMUNICATION.TEXT"));l(n,3,0,t)}),null)}function Du(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,44,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,10,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,4,"label",[["for","NTOPNG_BUTTON"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,1,"a",[["href","https://www.ntop.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,0,"img",[["height","40"],["src","assets/img/ntopng.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickButtonNGFW("NTOPNG")&&t),t}),null,null)),t["\u0275did"](8,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](10,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,10,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,"label",[["for","WEBSAFETYPROXY_BUTTON"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,1,"a",[["href","https://www.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,0,"img",[["height","40"],["src","assets/img/websafety.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickButtonNGFW("WEBSAFETYPROXY")&&t),t}),null,null)),t["\u0275did"](19,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](21,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](23,0,null,null,10,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,4,"label",[["for","DNSSAFETY_BUTTON"]],null,null,null,null,null)),(l()(),t["\u0275eld"](25,0,null,null,1,"a",[["href","https://dnssafety.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](26,0,null,null,0,"img",[["height","40"],["src","assets/img/dnssafety.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](27,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](29,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickButtonNGFW("DNSSAFETY")&&t),t}),null,null)),t["\u0275did"](30,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](32,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](34,0,null,null,10,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,4,"label",[["for","ELASTICSEARCH_BUTTON"]],null,null,null,null,null)),(l()(),t["\u0275eld"](36,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/elasticsearch"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,0,"img",[["height","40"],["src","assets/img/elasticsearch.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](38,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](40,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClickButtonNGFW("ELASTICSEARCH")&&t),t}),null,null)),t["\u0275did"](41,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](43,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,8,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("CONTEXT.FW.NTOPNG")),"")),l(n,10,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,10,2,t["\u0275nov"](n,11).transform("CONTEXT.FW.NTOPNG")),"")),l(n,19,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("CONTEXT.FW.WEBSAFETYPROXY")),"")),l(n,21,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,21,2,t["\u0275nov"](n,22).transform("CONTEXT.FW.WEBSAFETYPROXY")),"")),l(n,30,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,30,0,t["\u0275nov"](n,31).transform("CONTEXT.FW.DNSSAFETY")),"")),l(n,32,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,32,2,t["\u0275nov"](n,33).transform("CONTEXT.FW.DNSSAFETY")),"")),l(n,41,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,41,0,t["\u0275nov"](n,42).transform("CLUSTER.PLUGINS.ELASTICSEARCH")),"")),l(n,43,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,43,2,t["\u0275nov"](n,44).transform("CLUSTER.PLUGINS.ELASTICSEARCH")),""))}),(function(l,n){var e=n.component;l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("CONTEXT.FW.NTOPNG"))),l(n,7,0,!e.checksNtopNGConfig()),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("CONTEXT.FW.WEBSAFETYPROXY"))),l(n,18,0,!e.checksWebSafetyProxyActie()),l(n,27,0,t["\u0275unv"](n,27,0,t["\u0275nov"](n,28).transform("CONTEXT.FW.DNSSAFETY"))),l(n,29,0,!e.checksDNSSafetyActive()),l(n,38,0,t["\u0275unv"](n,38,0,t["\u0275nov"](n,39).transform("CLUSTER.PLUGINS.ELASTICSEARCH"))),l(n,40,0,!e.checksElasticSearchActive())}))}function Au(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,Du)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e;l(n,7,0,"agent"===(null==(e=n.component.formModel.get("install_communication"))?null:e.value))}),(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("NGFW.DESCRIPTION")))}))}function Lu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,252,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,251,"form",[["class","fwcFirewallPanel"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"keyup.esc"],[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0,u=l.component;return"submit"===n&&(i=!1!==t["\u0275nov"](l,3).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,3).onReset()&&i),"keyup.enter"===n&&(i=!1!==u.checkForm(e)&&i),"keyup.esc"===n&&(i=!1!==u.onCancel()&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,k["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,540672,null,0,k.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.FormGroupDirective]),t["\u0275did"](5,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,246,"fieldset",[],[[8,"disabled",0]],null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,245,"p-tabView",[],null,[[null,"onChange"]],(function(l,n,e){var t=!0;return"onChange"===n&&(t=!1!==l.component.onChangeTab(e)&&t),t}),ct.d,ct.b)),t["\u0275did"](8,1097728,null,1,dt.TabView,[t.ElementRef],{activeIndex:[0,"activeIndex"]},{onChange:"onChange"}),t["\u0275qud"](603979776,7,{tabPanels:1}),(l()(),t["\u0275eld"](10,16777216,null,0,105,"p-tabPanel",[["leftIcon","fwci-editfirewall"]],null,null,null,ct.c,ct.a)),t["\u0275did"](11,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,8,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](14,0,null,0,77,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](17,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](19,0,null,null,20,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,2,"label",[["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](22,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](24,0,[[3,0],["inputFirewallName",1]],null,9,"input",[["formControlName","name"],["maxlength","64"],["name","name"],["pInputText",""],["type","text"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,32).onInput(e)&&i),i}),null,null)),t["\u0275did"](25,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](26,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](29,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](31,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](32,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](34,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](36,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](37,{visibility:0}),(l()(),t["\u0275ted"](38,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](40,0,null,null,12,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](42,0,null,null,2,"label",[["for","compiler"]],null,null,null,null,null)),(l()(),t["\u0275ted"](43,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](45,0,[["ifSelect",1]],null,7,"select",[["formControlName","compiler"],["name","compiler"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,46).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,46).onTouched()&&i),"change"===n&&(i=!1!==u.changeCompilerOptions()&&i),i}),null,null)),t["\u0275did"](46,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](48,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](50,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,pu)),t["\u0275did"](52,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](53,0,null,null,23,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,22,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](55,0,null,null,2,"label",[["for","install_communication"]],null,null,null,null,null)),(l()(),t["\u0275ted"](56,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](58,0,null,null,18,"select",[["formControlName","install_communication"],["name","install_communication"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,59).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,59).onTouched()&&i),"change"===n&&(i=!1!==u.handleFirewallManagementChange(e)&&i),i}),null,null)),t["\u0275did"](59,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](61,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](63,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](64,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](65,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](66,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](67,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](69,0,null,null,3,"option",[["value","ssh"]],[[8,"disabled",0]],null,null,null,null)),t["\u0275did"](70,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](71,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["SSH"])),(l()(),t["\u0275eld"](73,0,null,null,3,"option",[["value","agent"]],null,null,null,null,null)),t["\u0275did"](74,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](75,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["FWCloud-Agent"])),(l()(),t["\u0275eld"](77,0,null,null,4,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,3,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](79,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(l()(),t["\u0275ted"](80,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](82,0,null,null,9,"div",[["class","ui-g-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](83,0,null,null,8,"textarea",[["formControlName","comment"],["maxlength","255"],["name","comment"],["pInputTextarea",""]],[[8,"rows",0],[8,"cols",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,84)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,84).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,84)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,84)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,91).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,91).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,91).onBlur(e)&&i),i}),null,null)),t["\u0275did"](84,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](85,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](88,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](90,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](91,278528,null,0,pt.InputTextarea,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](92,0,null,0,14,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](93,0,null,null,4,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](94,0,null,null,3,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](95,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,fu)),t["\u0275did"](99,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["sshFirewall",2]],null,0,null,hu)),(l()(),t["\u0275eld"](101,0,null,null,5,"div",[["ngClass","ui-g-3"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](103,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275eld"](104,0,null,null,2,"button",[["class","ui-button-primary"],["icon","fa fa-search-plus"],["pButton",""],["style","height: 2.44rem; width: 100%"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDiscoverInterfaces()&&t),t}),null,null)),t["\u0275did"](105,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](107,0,null,0,8,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](108,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](109,0,null,null,2,"h5",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](110,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,mu)),t["\u0275did"](113,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showNewInstallAddress",2]],null,0,null,Cu)),(l()(),t["\u0275and"](0,[["showExistingInterfaces",2]],null,0,null,yu)),(l()(),t["\u0275eld"](116,16777216,null,0,5,"p-tabPanel",[["leftIcon","fwci-interfaces"]],null,null,null,ct.c,ct.a)),t["\u0275did"](117,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,9,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](120,0,null,0,1,"sts-fwc-interfaces-tree-editor",[],null,[[null,"onInstallModified"],[null,"onIpObjectModified"],[null,"onStartAutodiscover"]],(function(l,n,e){var t=!0,i=l.component;return"onInstallModified"===n&&(t=!1!==i.onEditorInstallModified(e)&&t),"onIpObjectModified"===n&&(t=!1!==i.onEditorInterfaceOrIpModified(e)&&t),"onStartAutodiscover"===n&&(t=!1!==i.onDiscoverInterfaces(!0)&&t),t}),Wi.b,Wi.a)),t["\u0275did"](121,245760,[[4,4],["fwcInterfacesEditor",4]],0,Hi.a,[k.FormBuilder,Rl.ConfirmationService,nl.l,t.ChangeDetectorRef],{options:[0,"options"]},{onInstallModified:"onInstallModified",onIpObjectModified:"onIpObjectModified",onStartAutodiscover:"onStartAutodiscover"}),(l()(),t["\u0275eld"](122,16777216,null,0,108,"p-tabPanel",[["leftIcon","fwci-config"]],null,null,null,ct.c,ct.a)),t["\u0275did"](123,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,10,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](126,0,null,0,5,"input",[["formControlName","options"],["name","options"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,127)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,127).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,127)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,127)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](127,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](129,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](131,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](132,0,null,0,98,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](133,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](134,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](135,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](137,0,null,null,45,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](138,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](139,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](140,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.stateful=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](141,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](143,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](144,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](146,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](147,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](148,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](149,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.ipv4=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](150,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](152,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](153,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](155,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](156,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](157,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](158,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.ipv6=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](159,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](161,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](162,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](164,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](165,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](166,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](167,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.debug=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](168,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](170,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](171,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](173,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](174,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](175,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](176,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.report=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](177,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](179,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](180,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](182,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](183,0,null,null,47,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](184,0,null,null,16,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](185,0,null,null,15,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](186,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.docker=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](187,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](189,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](190,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](192,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](194,0,null,null,1,"a",[["href","https://www.docker.com"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](195,0,null,null,0,"img",[["height","20"],["src","assets/img/docker.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](196,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](197,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](199,0,null,null,1,"a",[["style","margin-left: 8px; margin-top: 2px;"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["(+ info)"])),(l()(),t["\u0275eld"](201,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](202,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](203,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.crowdsec=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](204,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](206,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](207,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](209,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](211,0,null,null,1,"a",[["href","https://crowdsec.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](212,0,null,null,0,"img",[["height","20"],["src","assets/img/crowdsec.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](213,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](214,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](216,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](217,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](218,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.fail2ban=e)&&t),"onChange"===n&&(t=!1!==i.onChangeOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](219,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](221,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](222,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](224,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](226,0,null,null,1,"a",[["href","https://www.fail2ban.org"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](227,0,null,null,0,"img",[["height","20"],["src","assets/img/fail2ban.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](228,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](229,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](231,16777216,null,0,13,"p-tabPanel",[["leftIcon","fa fa-puzzle-piece fwcOrange"]],null,null,null,ct.c,ct.a)),t["\u0275did"](232,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,11,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](235,0,null,0,5,"input",[["formControlName","plugins"],["name","plugins"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,236)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,236).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,236)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,236)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](236,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](238,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](240,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Tu)),t["\u0275did"](242,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Pu)),t["\u0275did"](244,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](245,16777216,null,0,7,"p-tabPanel",[["leftIcon","fa fa-n fwcOrange"]],null,null,null,ct.c,ct.a)),t["\u0275did"](246,1228800,[[7,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,12,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,Nu)),t["\u0275did"](250,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Au)),t["\u0275did"](252,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.formModel),l(n,8,0,e.shownPanel),l(n,11,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,11,0,t["\u0275nov"](n,13).transform("FW.MSG_FW_TAB.FT_0")),""),e.loadingData,"fwci-editfirewall"),l(n,26,0,"64"),l(n,29,0,"name"),l(n,32,0);var i,u=l(n,37,0,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible");l(n,36,0,u),l(n,48,0,"compiler"),l(n,52,0,e.FirewallCompilerOptions),l(n,61,0,"install_communication"),l(n,65,0,null),l(n,66,0,null),l(n,70,0,"ssh"),l(n,71,0,"ssh"),l(n,74,0,"agent"),l(n,75,0,"agent"),l(n,85,0,"255"),l(n,88,0,"comment"),l(n,91,0),l(n,99,0,"agent"===(null==(i=e.formModel.get("install_communication"))?null:i.value),t["\u0275nov"](n,100)),l(n,103,0,"ui-g-3"),l(n,105,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,105,0,t["\u0275nov"](n,106).transform("FW.MSG_FW_EDITION.DISCOVER_IF")),""),"fa fa-search-plus"),l(n,113,0,e.discoveredInstallOptions,t["\u0275nov"](n,114),t["\u0275nov"](n,115)),l(n,117,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,117,0,t["\u0275nov"](n,119).transform("FW.MSG_FW_TAB.FT_1")),""),e.loadingData,"fwci-interfaces"),l(n,121,0,e.interfacesEditorOptions),l(n,123,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,123,0,t["\u0275nov"](n,125).transform("FW.MSG_FW_TAB.FT_2")),""),e.loadingData,"fwci-config"),l(n,129,0,"options"),l(n,141,0,!0,e.translate.instant("FW.OPTION_NAMES.stateful"));var o=e.optionsFlags.stateful,a=l(n,144,0,!0);l(n,143,0,o,a),l(n,150,0,!0,e.translate.instant("FW.OPTION_NAMES.ipv4"));var s=e.optionsFlags.ipv4,r=l(n,153,0,!0);l(n,152,0,s,r),l(n,159,0,!0,e.translate.instant("FW.OPTION_NAMES.ipv6"));var c=e.optionsFlags.ipv6,d=l(n,162,0,!0);l(n,161,0,c,d),l(n,168,0,!0,e.translate.instant("FW.OPTION_NAMES.debug"));var p=e.optionsFlags.debug,f=l(n,171,0,!0);l(n,170,0,p,f),l(n,177,0,!0,e.translate.instant("FW.OPTION_NAMES.report"));var g=e.optionsFlags.report,h=l(n,180,0,!0);l(n,179,0,g,h),l(n,187,0,!0);var m=e.optionsFlags.docker,v=l(n,190,0,!0);l(n,189,0,m,v),l(n,204,0,!0);var C=e.optionsFlags.crowdsec,S=l(n,207,0,!0);l(n,206,0,C,S),l(n,219,0,!0);var _=e.optionsFlags.fail2ban,R=l(n,222,0,!0);l(n,221,0,_,R);var w,E,I=null;l(n,232,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,232,0,t["\u0275nov"](n,234).transform("FW.MSG_FW_EDITION.PLUGINS")),""),e.loadingData||"agent"!==(null==(I=e.formModel.get("install_communication"))?null:I.value),"fa fa-puzzle-piece fwcOrange"),l(n,238,0,"plugins"),l(n,242,0,"agent"!==(null==(w=e.formModel.get("install_communication"))?null:w.value)),l(n,244,0,"agent"===(null==(E=e.formModel.get("install_communication"))?null:E.value));var b,O,y=null;l(n,246,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,246,0,t["\u0275nov"](n,248).transform("NGFW.TITLE")),""),e.loadingData||"agent"!==(null==(y=e.formModel.get("install_communication"))?null:y.value),"fa fa-n fwcOrange"),l(n,250,0,"agent"!==(null==(b=e.formModel.get("install_communication"))?null:b.value)),l(n,252,0,"agent"===(null==(O=e.formModel.get("install_communication"))?null:O.value))}),(function(l,n){var e,i=n.component;l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending),l(n,6,0,i.loadingData),l(n,17,0,t["\u0275unv"](n,17,0,t["\u0275nov"](n,18).transform("FW.MSG_FW_EDITION.BASIC_DATA"))),l(n,22,0,t["\u0275unv"](n,22,0,t["\u0275nov"](n,23).transform("FW.MSG_FW_EDITION.NAME"))),l(n,24,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,24,0,t["\u0275nov"](n,33).transform("FW.MSG_FW_EDITION.NAME")),""),t["\u0275nov"](n,26).maxlength?t["\u0275nov"](n,26).maxlength:null,t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,32).filled]),l(n,38,0,t["\u0275unv"](n,38,0,t["\u0275nov"](n,39).transform("ITEM_PANEL.ERRORS.FIELD_INVALID_NAME"))),l(n,43,0,t["\u0275unv"](n,43,0,t["\u0275nov"](n,44).transform("FW.MSG_FW_EDITION.COMPILER"))),l(n,45,0,t["\u0275nov"](n,50).ngClassUntouched,t["\u0275nov"](n,50).ngClassTouched,t["\u0275nov"](n,50).ngClassPristine,t["\u0275nov"](n,50).ngClassDirty,t["\u0275nov"](n,50).ngClassValid,t["\u0275nov"](n,50).ngClassInvalid,t["\u0275nov"](n,50).ngClassPending),l(n,56,0,t["\u0275unv"](n,56,0,t["\u0275nov"](n,57).transform("FW.MSG_FW_EDITION.COMM_TYPE"))),l(n,58,0,t["\u0275nov"](n,63).ngClassUntouched,t["\u0275nov"](n,63).ngClassTouched,t["\u0275nov"](n,63).ngClassPristine,t["\u0275nov"](n,63).ngClassDirty,t["\u0275nov"](n,63).ngClassValid,t["\u0275nov"](n,63).ngClassInvalid,t["\u0275nov"](n,63).ngClassPending),l(n,67,0,t["\u0275unv"](n,67,0,t["\u0275nov"](n,68).transform("FW.MSG_FW_EDITION.COMM_TYPE"))),l(n,69,0,i.isSSHCommunicationDisabled),l(n,80,0,t["\u0275unv"](n,80,0,t["\u0275nov"](n,81).transform("FW.MSG_FW_EDITION.DESC"))),l(n,83,1,[3,30,t["\u0275nov"](n,85).maxlength?t["\u0275nov"](n,85).maxlength:null,t["\u0275nov"](n,90).ngClassUntouched,t["\u0275nov"](n,90).ngClassTouched,t["\u0275nov"](n,90).ngClassPristine,t["\u0275nov"](n,90).ngClassDirty,t["\u0275nov"](n,90).ngClassValid,t["\u0275nov"](n,90).ngClassInvalid,t["\u0275nov"](n,90).ngClassPending,!0,!0,t["\u0275nov"](n,91).autoResize,!0,!0,t["\u0275nov"](n,91).filled]),l(n,95,0,"agent"===(null==(e=i.formModel.get("install_communication"))?null:e.value)?t["\u0275unv"](n,95,0,t["\u0275nov"](n,96).transform("FW.MSG_FW_EDITION.AGENT_DATA")):t["\u0275unv"](n,95,0,t["\u0275nov"](n,97).transform("FW.MSG_FW_EDITION.SSH"))),l(n,104,0,i.loadingData),l(n,110,0,t["\u0275unv"](n,110,0,t["\u0275nov"](n,111).transform("FW.MSG_FW_EDITION.INSTALL"))),l(n,126,0,t["\u0275nov"](n,131).ngClassUntouched,t["\u0275nov"](n,131).ngClassTouched,t["\u0275nov"](n,131).ngClassPristine,t["\u0275nov"](n,131).ngClassDirty,t["\u0275nov"](n,131).ngClassValid,t["\u0275nov"](n,131).ngClassInvalid,t["\u0275nov"](n,131).ngClassPending),l(n,135,0,t["\u0275unv"](n,135,0,t["\u0275nov"](n,136).transform("FW.MSG_FW_EDITION.OPTIONS_DATA"))),l(n,140,0,t["\u0275nov"](n,146).ngClassUntouched,t["\u0275nov"](n,146).ngClassTouched,t["\u0275nov"](n,146).ngClassPristine,t["\u0275nov"](n,146).ngClassDirty,t["\u0275nov"](n,146).ngClassValid,t["\u0275nov"](n,146).ngClassInvalid,t["\u0275nov"](n,146).ngClassPending),l(n,149,0,t["\u0275nov"](n,155).ngClassUntouched,t["\u0275nov"](n,155).ngClassTouched,t["\u0275nov"](n,155).ngClassPristine,t["\u0275nov"](n,155).ngClassDirty,t["\u0275nov"](n,155).ngClassValid,t["\u0275nov"](n,155).ngClassInvalid,t["\u0275nov"](n,155).ngClassPending),l(n,158,0,t["\u0275nov"](n,164).ngClassUntouched,t["\u0275nov"](n,164).ngClassTouched,t["\u0275nov"](n,164).ngClassPristine,t["\u0275nov"](n,164).ngClassDirty,t["\u0275nov"](n,164).ngClassValid,t["\u0275nov"](n,164).ngClassInvalid,t["\u0275nov"](n,164).ngClassPending),l(n,167,0,t["\u0275nov"](n,173).ngClassUntouched,t["\u0275nov"](n,173).ngClassTouched,t["\u0275nov"](n,173).ngClassPristine,t["\u0275nov"](n,173).ngClassDirty,t["\u0275nov"](n,173).ngClassValid,t["\u0275nov"](n,173).ngClassInvalid,t["\u0275nov"](n,173).ngClassPending),l(n,176,0,t["\u0275nov"](n,182).ngClassUntouched,t["\u0275nov"](n,182).ngClassTouched,t["\u0275nov"](n,182).ngClassPristine,t["\u0275nov"](n,182).ngClassDirty,t["\u0275nov"](n,182).ngClassValid,t["\u0275nov"](n,182).ngClassInvalid,t["\u0275nov"](n,182).ngClassPending),l(n,186,0,t["\u0275nov"](n,192).ngClassUntouched,t["\u0275nov"](n,192).ngClassTouched,t["\u0275nov"](n,192).ngClassPristine,t["\u0275nov"](n,192).ngClassDirty,t["\u0275nov"](n,192).ngClassValid,t["\u0275nov"](n,192).ngClassInvalid,t["\u0275nov"](n,192).ngClassPending),l(n,197,0,t["\u0275unv"](n,197,0,t["\u0275nov"](n,198).transform("FW.OPTION_NAMES.docker"))),l(n,199,0,t["\u0275inlineInterpolate"](1,"",i.dockerDocURL,"")),l(n,203,0,t["\u0275nov"](n,209).ngClassUntouched,t["\u0275nov"](n,209).ngClassTouched,t["\u0275nov"](n,209).ngClassPristine,t["\u0275nov"](n,209).ngClassDirty,t["\u0275nov"](n,209).ngClassValid,t["\u0275nov"](n,209).ngClassInvalid,t["\u0275nov"](n,209).ngClassPending),l(n,214,0,t["\u0275unv"](n,214,0,t["\u0275nov"](n,215).transform("FW.OPTION_NAMES.crowdsec"))),l(n,218,0,t["\u0275nov"](n,224).ngClassUntouched,t["\u0275nov"](n,224).ngClassTouched,t["\u0275nov"](n,224).ngClassPristine,t["\u0275nov"](n,224).ngClassDirty,t["\u0275nov"](n,224).ngClassValid,t["\u0275nov"](n,224).ngClassInvalid,t["\u0275nov"](n,224).ngClassPending),l(n,229,0,t["\u0275unv"](n,229,0,t["\u0275nov"](n,230).transform("FW.OPTION_NAMES.fail2ban"))),l(n,235,0,t["\u0275nov"](n,240).ngClassUntouched,t["\u0275nov"](n,240).ngClassTouched,t["\u0275nov"](n,240).ngClassPristine,t["\u0275nov"](n,240).ngClassDirty,t["\u0275nov"](n,240).ngClassValid,t["\u0275nov"](n,240).ngClassInvalid,t["\u0275nov"](n,240).ngClassPending)}))}function Mu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,n.component.delMessage)}),null)}function Fu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Uu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),(l()(),t["\u0275eld"](3,0,null,null,3,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"],[null,"onRefreshRestrictions"]],(function(l,n,e){var t=!0,i=l.component;return"onHideParent"===n&&(t=!1!==i.minimizeDialog(!0)&&t),"onRefreshRestrictions"===n&&(t=!1!==i.reloadPanel()&&t),t}),mt.b,mt.a)),t["\u0275prd"](512,null,gt.a,gt.a,[cl.a,il.a,hl.m]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275did"](6,114688,null,0,vt.a,[hl.m,nl.l,cl.a,il.a,gt.a,$l.a],{dependencies:[0,"dependencies"]},{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"})],(function(l,n){var e=n.component;l(n,2,0,e.deleteMsgError),l(n,6,0,e.dependencies)}),null)}function ku(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,Uu)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){l(n,1,0,!n.component.dependencies.restrictionsError)}),null)}function Gu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"p-checkbox",[["binary","true"],["name","chkOkToDelete"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.okToDelete=e)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](2,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],label:[2,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](5,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,2,0,"chkOkToDelete","true",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("FW.MSG_FW_DELETE.DEL_5")),"")),l(n,5,0,"chkOkToDelete",e.okToDelete)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function ju(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](1,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Gu)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.deleteMsgError),l(n,3,0,!e.loadingData)}),null)}function xu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Mu)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fu)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["deleteRestricted",2]],null,0,null,ku)),(l()(),t["\u0275and"](0,[["deleteAllowed",2]],null,0,null,ju))],(function(l,n){var e=n.component;l(n,2,0,e.loadingData&&!e.deleteMsgError),l(n,4,0,e.dependencies,t["\u0275nov"](n,5),t["\u0275nov"](n,6))}),null)}function Vu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{visibility:0}),(l()(),t["\u0275eld"](4,0,null,null,2,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](5,49152,null,0,Bl.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](6,{width:0,height:1})],(function(l,n){var e=l(n,3,0,n.component.loadingData?"visible":"hidden");l(n,2,0,e);var t=l(n,6,0,"1.7rem","1.7rem");l(n,5,0,t)}),null)}function Bu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-xmark"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCloseDialog()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.STOP")),""),"fa fa-xmark")}),null)}function Wu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-trash")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Hu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-save"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-save")}),(function(l,n){var e=n.component;l(n,0,0,!e.formModel.valid||e.loadingData)}))}function Ju(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-check")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function $u(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vu)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bu)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wu)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Hu)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ju)),t["\u0275did"](10,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.loadingCommunication),l(n,4,0,e.loadingCommunication),l(n,6,0,!e.formModel.pristine&&!e.loadingCommunication),l(n,8,0,!e.formModel.pristine),l(n,10,0,e.formModel.pristine)}),null)}function Yu(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","fwc-left-float ui-button-primary"],["icon","fa fa-refresh"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reloadPanel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("POLICY_GRID.RELOAD")),""),"fa fa-refresh")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Ku(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Yu)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteFirewall()&&t),t}),null,null)),t["\u0275did"](4,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](7,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,n.component.dependencies),l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("FW.MSG_FW_EDITION.DELETE")),""),"fa fa-trash"),l(n,7,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-check")}),(function(l,n){var e=n.component;l(n,3,0,!e.okToDelete||e.loadingData),l(n,6,0,e.loadingData)}))}function qu(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{dialog:0}),t["\u0275qud"](671088640,2,{divDlgContainer:0}),t["\u0275qud"](671088640,3,{inputFirewallName:0}),t["\u0275qud"](671088640,4,{fwcInterfacesEditor:0}),(l()(),t["\u0275eld"](4,0,null,null,25,"p-dialog",[["styleClass","dlgFwcDialog"]],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],(function(l,n,e){var t=!0,i=l.component;return"visibleChange"===n&&(t=!1!==(i.displayDialog=e)&&t),"onShow"===n&&(t=!1!==i.onShowDialog(e)&&t),"onHide"===n&&(t=!1!==i.onHideDialog(e)&&t),t}),Ct.b,Ct.a)),t["\u0275did"](5,180224,[[1,4],["firewallDialog",4]],2,St.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],modal:[1,"modal"],closable:[2,"closable"],style:[3,"style"],styleClass:[4,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,5,{headerFacet:1}),t["\u0275qud"](603979776,6,{footerFacet:1}),t["\u0275pod"](8,{width:0}),(l()(),t["\u0275eld"](9,0,null,0,10,"p-header",[],null,null,null,_t.d,_t.b)),t["\u0275did"](10,49152,[[5,4]],0,Gl.Header,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,ru)),t["\u0275did"](12,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,cu)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](15,0,null,0,4,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,du)),t["\u0275did"](17,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.minimizeDialog()&&t),t}),null,null)),t["\u0275did"](19,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,Lu)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,xu)),t["\u0275did"](23,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](24,0,null,2,5,"p-footer",[],null,null,null,_t.c,_t.a)),t["\u0275did"](25,49152,[[6,4]],0,Gl.Footer,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,$u)),t["\u0275did"](27,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ku)),t["\u0275did"](29,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=e.displayDialog,i=l(n,8,0,"80vw");l(n,5,0,t,!0,!1,i,"dlgFwcDialog"),l(n,12,0,e.firewall),l(n,14,0,e.firewallToDelete),l(n,17,0,e.helpSection),l(n,19,0,"fa fa-window-minimize"),l(n,21,0,e.firewall),l(n,23,0,e.firewallToDelete),l(n,27,0,e.firewall),l(n,29,0,e.firewallToDelete)}),(function(l,n){l(n,18,0,n.component.loadingData)}))}var Xu=e("quQV"),zu=e("0VEr"),Zu=e("V2QB"),Qu=e("N5zg"),lo=e("BJ9O");class no extends Et.a{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h){super(o,n,l,f,g,h),this.itemSelectedService=l,this.appOptionsService=n,this.fwcUserService=e,this.fwcFirewallService=t,this.fwcPolicyService=i,this.fwcErrorPipe=u,this.appDialogPanelsService=o,this.confirmationService=a,this.messageService=s,this.inputDataService=r,this.fwcEventService=c,this.utilService=d,this.translate=p,this.cd=f,this.store=g,this.router=h,this.displaySelectOptions=!1,this.displayCompileOptions=!1,this.firewalls=[],this.compileChecks=[],this.installChecks=[],this.operationQueue=[],this.operationStatus={},this.loadingData=!1,this.FirewallOpsIcons=Cn.n,this.disableButtons=!1,this.pauseProcess=!1,this.alive=!0,this.createDialog(this.translate.instant("COMPILE.PANEL_TITLE"),"fwci-compileallfirewalls")}ngOnInit(){let l,n;this.continueButtonText=this.translate.instant("COMPILE.CONTINUE");let e=[];this.itemSelectedService.getCloudToCompile().pipe(Object(V.a)(()=>this.alive)).subscribe(t=>{switch(this.loadingData=!0,t.compileWhat){case Cn.f.COMP_CLOUD:l=this.fwcFirewallService.getFirewallsByCloud.bind(this.fwcFirewallService),n=this.translate.instant("COMPILE.NO_DATA");break;case Cn.f.COMP_CLUSTER:l=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService);break;case Cn.f.COMP_FIREWALL:l=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService);break;case Cn.f.COMP_CLUSTERS_ALL:l=this.fwcFirewallService.getFirewallsByCloud.bind(this.fwcFirewallService),n=this.translate.instant("COMPILE.NO_DATA_CL");break;case Cn.f.COMP_FIREWALLS_ALL:l=this.fwcFirewallService.getFirewallsByCloud.bind(this.fwcFirewallService),n=this.translate.instant("COMPILE.NO_DATA_FW")}this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(i=>{e=i.data&&Array.isArray(i.data)?i.data:[],l(t.compileId,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{let i,u,o=[];Array.isArray(l.data)&&l.data.length?o.push(...l.data):l.data&&l.data.id&&o.push(l.data),this.firewalls=[];for(let n=0;n<o.length;n++)if(o[n].status_compiled=1&o[n].status,o[n].status_installed=2&o[n].status,i=o[n].cluster,null==i)t.compileWhat!==Cn.f.COMP_CLOUD&&t.compileWhat!==Cn.f.COMP_FIREWALLS_ALL&&t.compileWhat!==Cn.f.COMP_FIREWALL||this.firewalls.push(o[n]);else if(t.compileWhat===Cn.f.COMP_CLOUD||t.compileWhat===Cn.f.COMP_CLUSTERS_ALL||t.compileWhat===Cn.f.COMP_CLUSTER){u=!1;for(let e=0;e<this.firewalls.length&&!u;e++)this.firewalls[e].cluster==i&&(this.firewalls[e].fwnodes.push(o[n]),u=!0);let l="",t=e.filter(l=>l.id==i);if(t&&t.length&&(l=t[0].name),!u){let e=Object.assign({},o[n]);o[n].name=l,o[n].fwnodes=[],o[n].fwnodes.push(e),this.firewalls.push(o[n])}}if(this.loadingData=!1,this.firewalls.length){for(let l=0;l<this.firewalls.length;l++)this.compileChecks[l]=!!this.firewalls[l].status_compiled,this.installChecks[l]=!!t.compileAction&&!!this.firewalls[l].status_installed;this.checkCompileInstallCheckboxes()}else this.errorMessage={type:"warning",title:this.translate.instant("COMPILE.NO_DATA_HEAD"),text:n};this.recenterDialog()},l=>{l.error&&1002==l.error.fwcErr?this.errorMessage={type:"warning",title:this.translate.instant("COMPILE.NO_DATA_HEAD"),text:n}:l.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1})},l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1}),this.displaySelectOptions=!0,this.showDialog()})}checkCompileInstallCheckboxes(l){this.compileAllCheck=!!this.compileChecks.every(l=>l),this.installAllCheck=!!this.installChecks.every(l=>l),this.enableProcess=this.compileChecks.some(l=>l)||this.installChecks.some(l=>l)}ngOnDestroy(){clearTimeout(this.opTimeout),super.ngOnDestroy()}onDialogHide(l){this.displaySelectOptions=!1,this.displayCompileOptions=!1,this.firewalls=[],this.compileChecks=[],this.errorMessage=null,this.installChecks=[],this.log&&this.log.clearMessages(),this.channel_id&&this.utilService.ioReleaseLogEvent(this.channel_id),this.operationQueue=[],this.pauseProcess=!1,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),void 0!==this.operationInProcessId&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Cn.N.RELOAD_TREE,containerToReload:Cn.O.C_FIREWALLS}),this.actualFirewallCompileSSHInputData=null,this.operationInProcessId=void 0,this.opTimeout&&clearTimeout(this.opTimeout)}compileAll(){this.displaySelectOptions=!0}compileOrInstallAll(l){let n,e;l?(n=this.installAllCheck,e=this.installChecks):(n=this.compileAllCheck,e=this.compileChecks),e.fill(!!n),this.checkCompileInstallCheckboxes()}showCompileDialog(){this.displaySelectOptions=!1,this.displayCompileOptions=!0,this.recenterDialog(),this.startCompileProcess()}resetTimer(){this.opTimeout&&clearTimeout(this.opTimeout),this.opTimeout=setTimeout(()=>{this.doTimeoutOp()},6e4)}startCompileProcess(){let l,n=!1;if(!this.firewalls)return;this.operationQueue=[];for(let i=0;i<this.firewalls.length;i++)if(this.compileChecks[i]||this.installChecks[i]){let e=this.firewalls[i];if(null==e.cluster)l={clusterId:e.cluster,firewallId:e.id,firewallName:e.name,compileState:this.compileChecks[i]?Cn.o.FW_PENDING:Cn.o.FW_DISABLED,installState:this.installChecks[i]?Cn.o.FW_PENDING:Cn.o.FW_DISABLED,coloredBg:n,opCompiled:!1,opInstalled:!1},this.operationQueue.push(Object.assign({},l));else{l={clusterId:e.cluster,clusterName:e.name,firewallId:e.id,firewallName:e.name,compileState:this.compileChecks[i]?Cn.o.FW_PENDING:Cn.o.FW_DISABLED,installState:Cn.o.FW_DISABLED,coloredBg:n,opCompiled:!1,opInstalled:!1},this.operationQueue.push(Object.assign({},l));for(let t=0;e.fwnodes&&t<e.fwnodes.length;t++){let u=e.fwnodes[t];l={clusterId:e.cluster,clusterName:e.name,isNode:!0,firewallId:u.id,firewallName:u.name,compileState:Cn.o.FW_DISABLED,installState:this.installChecks[i]?Cn.o.FW_PENDING:Cn.o.FW_DISABLED,coloredBg:n,opCompiled:!1,opInstalled:!1},this.operationQueue.push(Object.assign({},l))}}n=!n}const e=this.utilService.createDynamicComponentRef(lo.a),t=e.instance;t.setDynamicComponentRef(e),this.communicationSubscription=t.socketEventEmitter.subscribe(l=>{"connected"==l&&(this.channel_id=Object($i.v4)(),this.utilService.ioListenOnLogEvent(this.channel_id),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Object(V.a)(()=>this.displayCompileOptions)).subscribe(l=>{let n,e=new Zu.a(l);e.payload.type===Cn.y.MSG_ERROR&&(this.pauseProcess=!0,n=this.utilService.isCommunicationErrorStr(e.payload.message),this.operationStatus.opMsg=this.translate.instant("COMPILE.GEN_ERROR"),this.operationStatus.opMsgType=Cn.y.MSG_ERROR,this.continueButtonText=this.translate.instant(n?"COMPILE.RETRY":"COMPILE.CONTINUE")),n||this.log.addNewMessage(e),this.resetTimer()}),this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processFirewallOperation()),this.communicationSubscription.unsubscribe()}),t.checkConnection()}processFirewallOperation(l){let n;if(!this.pauseProcess&&(clearTimeout(this.opTimeout),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let l=this.operationQueue[this.operationInProcessId];if(!l)return;if(n=null!=l.clusterId?l.firewallName?this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:l.clusterName,firewallName:l.firewallName}):this.translate.instant("COMPILE.INST_CLUSTER",{clusterName:l.clusterName}):this.translate.instant("COMPILE.INST_FW",{firewallName:l.firewallName}),l.compileState==Cn.o.FW_PENDING)l.compileState=Cn.o.FW_PROCESSING,this.addMessageToLog(this.translate.instant("COMPILE.COMP_START",{name:n}),Cn.y.MSG_INFO),this.operationStatus.opMsg=this.translate.instant("COMPILE.COMP_SUCCESS",{name:n}),this.operationStatus.opMsgType=Cn.y.MSG_OK,this.resetTimer(),this.loadingData=!0,this.log.startDataLoad(),this.utilService.fwcAPICall(this.fwcPolicyService.compileFirewall.bind(this.fwcPolicyService),l.firewallId,this.fwcUserService.getActualFwSelectedCloud(),this.channel_id).then(n=>{l.compileState=Cn.o.FW_OK,this.loadingData=!1,this.log.stopDataLoad(),clearTimeout(this.opTimeout),setTimeout(()=>{this.addMessageToLog(this.operationStatus.opMsg,this.operationStatus.opMsgType),this.addMessageToLog("",Cn.y.MSG_SEPARATOR),this.processFirewallOperation()})}).catch(e=>{this.addMessageToLog(this.translate.instant("COMPILE.COMP_ERROR",{name:n,error:this.fwcErrorPipe.transform(e)}),Cn.y.MSG_ERROR),l.compileState=Cn.o.FW_ERROR,this.doPauseProcess(),this.log.stopDataLoad()});else if(l.installState==Cn.o.FW_PENDING){l.installState=Cn.o.FW_PROCESSING,(this.operationInProcessId||!this.operationInProcessId&&l.compileState!=Cn.o.FW_DISABLED)&&this.addMessageToLog("",Cn.y.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant("COMPILE.INST_START",{name:n}),Cn.y.MSG_INFO);let e={header:this.translate.instant("COMPILE.INST_SSH",{name:n}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:l.firewallId}],onAccept:this.installFirewall.bind(this)};this.fwcFirewallService.getFirewall(l.firewallId,this.fwcUserService.getActualFwSelectedCloud()).subscribe(t=>Object(Xl.b)(this,void 0,void 0,(function*(){let i=t.data;if(i){const t=this.fwcUserService.getActualFwcUser().privateKey;let o=i.install_user,a=i.install_pass,s=i.install_apikey;try{o&&(o=yield this.utilService.openPGPDecrypt(o,t)),a&&(a=yield this.utilService.openPGPDecrypt(a,t)),s&&(s=yield this.utilService.openPGPDecrypt(s,t))}catch(u){}if(i.install_interface&&i.install_ipobj){e.formControls.push({name:"install_communication",type:"hidden",value:i.install_communication}),"ssh"===i.install_communication&&(e.formControls.push({name:"install_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.install_user:o,setFocus:!0}),e.formControls.push({name:"",label:"",type:"separator"}),e.formControls.push({name:"install_pass",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.install_pass:a}));let l={name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"ui-button-warning",value:0};if(e.formControls.push(l),e.formControls.unshift({name:"",label:"",type:"separator"}),e.formControls.unshift({name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:i.ip_name?i.ip_name+" ("+i.ip+")":"-",readonly:!0,halfSized:!0}),e.formControls.unshift({name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:i.interface_name||"-",readonly:!0,halfSized:!0}),"agent"===i.install_communication&&i.install_protocol&&i.install_apikey){const l=this.inputDataService.getInputDataValue(e);this.installFirewall(l)}else this.disableButtons=!0,this.inputDataService.setInputData(e)}else l.installState=Cn.o.FW_ERROR,this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:i.name}),reject:()=>{this.doPauseProcess()},accept:()=>{let l=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT");this.addMessageToLog(this.translate.instant("COMPILE.INST_ERROR",{name:n,error:l}),Cn.y.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processFirewallOperation()}})}else l.installState=Cn.o.FW_ERROR,this.doPauseProcess(),this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.INST_FW_ERROR",{name:n}),Cn.y.MSG_ERROR)})),e=>{l.installState=Cn.o.FW_ERROR,this.doPauseProcess(),this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.INST_DATA_ERROR",{name:n,error:this.fwcErrorPipe.transform(e)}),Cn.y.MSG_ERROR)})}else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processFirewallOperation()}}installFirewall(l){return Object(Xl.b)(this,void 0,void 0,(function*(){let n,e;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(e=this.operationQueue[this.operationInProcessId]),e)if(n=null!=e.clusterId?`cluster ${e.clusterId} - firewall ${e.firewallId} (${e.firewallName})`:`firewall ${e.firewallId} (${e.firewallName})`,this.disableButtons=!1,l){if(this.actualFirewallCompileSSHInputData=l,l.btnPauseProcess)return e.installState=Cn.o.FW_PENDING,void this.doPauseProcess(!0);const t=this.fwcUserService.getActualFwcUser().publicKey;let i=l.install_user,u=l.install_pass;i&&(i=yield this.utilService.openPGPEncrypt(i,t)),u&&(u=yield this.utilService.openPGPEncrypt(u,t)),this.resetTimer(),this.loadingData=!0,this.log.startDataLoad(),this.utilService.fwcAPICall(this.fwcPolicyService.installFirewall.bind(this.fwcPolicyService),l.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),i,u,this.channel_id).then(l=>{e.installState=Cn.o.FW_OK,this.operationStatus.opMsg=this.translate.instant("COMPILE.INST_SUCCESS",{name:n}),this.operationStatus.opMsgType=Cn.y.MSG_OK,this.loadingData=!1,this.log.stopDataLoad(),this.actualFirewallCompileSSHInputData=null,setTimeout(()=>{this.addMessageToLog(this.operationStatus.opMsg,this.operationStatus.opMsgType),this.addMessageToLog("",Cn.y.MSG_SEPARATOR),this.processFirewallOperation()})}).catch(l=>{const t=this.utilService.isCommunicationError(l.error);t?(e.installState=Cn.o.FW_PENDING,this.addMessageToLog(this.translate.instant("COMPILE.INST_ERROR",{name:n,error:t}),Cn.y.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(9e3==l.error.fwcErr?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(e.installState=Cn.o.FW_ERROR,this.addMessageToLog(this.translate.instant("COMPILE.INST_ERROR",{name:n,error:this.fwcErrorPipe.transform(l)}),Cn.y.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.loadingData=!1,this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.opTimeout)})}else e.installState=Cn.o.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:n}),Cn.y.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processFirewallOperation()}))}doTimeoutOp(){this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),Cn.y.MSG_WARNING))}doPauseProcess(l){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.opTimeout),l&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),Cn.y.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processFirewallOperation()}doDownloadCompileLog(){this.log&&this.log.downloadLog()}showPolicyDialog(l){const n=this.utilService.createDynamicComponentRef(Qu.a),e=n.instance;e.setDynamicComponentRef(n),e.show(l)}downloadPolicyScript(l){const n=this.utilService.createDynamicComponentRef(Qu.a),e=n.instance;e.setDynamicComponentRef(n),e.downloadPolicyScript(l)}getDifferentCompiled(){let l=[...new Set(this.operationQueue.map(l=>l.clusterId))];return 1===l.length&&null===l[0]&&1===[...new Set(this.operationQueue.map(l=>l.firewallId))].length?3===this.getFirewallStatusCompiled(this.operationQueue[0].firewallId):1===l.length&&3===this.operationQueue.find(l=>l.firewallId===this.firewalls[0].id).compileState}getFirewallStatusCompiled(l){return this.operationQueue.find(n=>n.firewallId===l).compileState}}var eo=t["\u0275crt"]({encapsulation:2,styles:[[".divFw{height:33rem}.divFwBar{height:32rem}"]],data:{}});function to(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewalls fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("COMPILE.FORM.SELECT")))}))}function io(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-compileallfirewalls fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("COMPILE.FORM.COMP_INST")))}))}function uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["\xa0"," "]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.name)}))}function oo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""])),(l()(),t["\u0275ted"](-1,null,[" ("])),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""])),(l()(),t["\u0275ted"](8,null,[" node",") "]))],null,(function(l,n){l(n,4,0,n.parent.context.$implicit.name),l(n,7,0,null==n.parent.context.$implicit.fwnodes?null:n.parent.context.$implicit.fwnodes.length),l(n,8,0,(null==n.parent.context.$implicit.fwnodes?null:n.parent.context.$implicit.fwnodes.length)>1?"s":"")}))}function ao(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,(function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.context.$implicit.compiled_at,"yyyy-MM-dd HH:mm:ss"));l(n,1,0,e)}))}function so(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function ro(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["",""])),t["\u0275ppd"](2,2)],null,(function(l,n){var e=t["\u0275unv"](n,1,0,l(n,2,0,t["\u0275nov"](n.parent.parent.parent.parent,0),n.parent.context.$implicit.installed_at,"yyyy-MM-dd HH:mm:ss"));l(n,1,0,e)}))}function co(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["-"]))],null,null)}function po(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,29,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,uo)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oo)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](6,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,5,"p-checkbox",[["styleClass","compileCheckbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.compileChecks[l.context.index]=e)&&t),"onChange"===n&&(t=!1!==i.checkCompileInstallCheckboxes(e)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](8,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],styleClass:[2,"styleClass"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](10,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](12,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](13,0,null,null,6,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,5,"p-checkbox",[["styleClass","compileCheckbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.installChecks[l.context.index]=e)&&t),"onChange"===n&&(t=!1!==i.checkCompileInstallCheckboxes(e)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](15,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],styleClass:[2,"styleClass"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](17,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](19,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](20,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ao)),t["\u0275did"](22,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,so)),t["\u0275did"](24,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ro)),t["\u0275did"](27,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,co)),t["\u0275did"](29,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,null===n.context.$implicit.cluster),l(n,5,0,null!==n.context.$implicit.cluster),l(n,8,0,"compile_"+n.context.$implicit.id,!0,"compileCheckbox"),l(n,10,0,"compile_"+n.context.$implicit.id,e.compileChecks[n.context.index]),l(n,15,0,"install_"+n.context.$implicit.id,!0,"compileCheckbox"),l(n,17,0,"install_"+n.context.$implicit.id,e.installChecks[n.context.index]),l(n,22,0,null==n.context.$implicit?null:n.context.$implicit.compiled_at),l(n,24,0,!(null!=n.context.$implicit&&n.context.$implicit.compiled_at)),l(n,27,0,null==n.context.$implicit?null:n.context.$implicit.installed_at),l(n,29,0,!(null!=n.context.$implicit&&n.context.$implicit.installed_at))}),(function(l,n){l(n,7,0,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending),l(n,14,0,t["\u0275nov"](n,19).ngClassUntouched,t["\u0275nov"](n,19).ngClassTouched,t["\u0275nov"](n,19).ngClassPristine,t["\u0275nov"](n,19).ngClassDirty,t["\u0275nov"](n,19).ngClassValid,t["\u0275nov"](n,19).ngClassInvalid,t["\u0275nov"](n,19).ngClassPending)}))}function fo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,32,"table",[["class","tableFw"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,28,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,27,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,8,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,5,"p-checkbox",[["name","compile_all"],["styleClass","compileCheckbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.compileAllCheck=e)&&t),"onChange"===n&&(t=!1!==i.compileOrInstallAll(!1)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](9,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],styleClass:[2,"styleClass"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](11,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](13,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](14,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](16,0,null,null,8,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,5,"p-checkbox",[["name","install_all"],["styleClass","compileCheckbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.installAllCheck=e)&&t),"onChange"===n&&(t=!1!==i.compileOrInstallAll(!0)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](18,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],styleClass:[2,"styleClass"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](20,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](22,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](23,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](25,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](26,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](28,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](29,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](31,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,po)),t["\u0275did"](33,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,9,0,"compile_all",!0,"compileCheckbox"),l(n,11,0,"compile_all",e.compileAllCheck),l(n,18,0,"install_all",!0,"compileCheckbox"),l(n,20,0,"install_all",e.installAllCheck),l(n,33,0,e.firewalls)}),(function(l,n){l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("GLOBALS.MSG_OBJ_TYPES.FIREWALL"))),l(n,8,0,t["\u0275nov"](n,13).ngClassUntouched,t["\u0275nov"](n,13).ngClassTouched,t["\u0275nov"](n,13).ngClassPristine,t["\u0275nov"](n,13).ngClassDirty,t["\u0275nov"](n,13).ngClassValid,t["\u0275nov"](n,13).ngClassInvalid,t["\u0275nov"](n,13).ngClassPending),l(n,14,0,t["\u0275unv"](n,14,0,t["\u0275nov"](n,15).transform("CONTEXT.FW.COMPILE"))),l(n,17,0,t["\u0275nov"](n,22).ngClassUntouched,t["\u0275nov"](n,22).ngClassTouched,t["\u0275nov"](n,22).ngClassPristine,t["\u0275nov"](n,22).ngClassDirty,t["\u0275nov"](n,22).ngClassValid,t["\u0275nov"](n,22).ngClassInvalid,t["\u0275nov"](n,22).ngClassPending),l(n,23,0,t["\u0275unv"](n,23,0,t["\u0275nov"](n,24).transform("CONTEXT.FW.INSTALL"))),l(n,26,0,t["\u0275unv"](n,26,0,t["\u0275nov"](n,27).transform("COMPILE.FORM.LAST_COMP"))),l(n,29,0,t["\u0275unv"](n,29,0,t["\u0275nov"](n,30).transform("COMPILE.FORM.LAST_INST")))}))}function go(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,n.component.errorMessage)}),null)}function ho(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 divLoader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](2,49152,null,0,Bl.ProgressSpinner,[],null,null)],null,null)}function mo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","ui-g divTableScroll"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,fo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,go)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ho)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.firewalls&&e.firewalls.length),l(n,4,0,e.errorMessage),l(n,6,0,e.loadingData)}),null)}function vo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["\xa0"])),(l()(),t["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,["",""]))],null,(function(l,n){l(n,4,0,n.parent.parent.context.$implicit.firewallName)}))}function Co(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,["\xa0",""]))],null,(function(l,n){l(n,3,0,n.parent.parent.context.$implicit.firewallName)}))}function So(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,vo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Co)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.parent.context.$implicit.isNode),l(n,4,0,n.parent.context.$implicit.isNode)}),null)}function _o(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](2,null,["\xa0"," "]))],null,(function(l,n){l(n,2,0,n.parent.context.$implicit.firewallName)}))}function Ro(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"a",[["class","fa fa-eye fwcBlue"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showPolicyDialog(l.parent.parent.parent.context.$implicit.firewallId)&&t),t}),null,null))],null,null)}function wo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.component.FirewallOpsIcons[n.parent.parent.parent.context.$implicit.compileState],""))}))}function Eo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ro)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wo)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,3===n.parent.parent.context.$implicit.compileState||1!==n.parent.parent.context.$implicit.compileState&&2!==n.parent.parent.context.$implicit.compileState&&0===n.component.getFirewallStatusCompiled(n.parent.parent.context.$implicit.firewallId)),l(n,4,0,4===n.parent.parent.context.$implicit.compileState)}),null)}function Io(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Eo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.parent.context.$implicit.isNode)}),null)}function bo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"a",[["class","fa fa-eye fwcBlue"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showPolicyDialog(l.parent.parent.context.$implicit.firewallId)&&t),t}),null,null))],null,null)}function Oo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.component.FirewallOpsIcons[n.parent.parent.context.$implicit.compileState],""))}))}function yo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,bo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Oo)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,3===n.parent.context.$implicit.compileState||1!==n.parent.context.$implicit.compileState&&2!==n.parent.context.$implicit.compileState&&0===n.component.getFirewallStatusCompiled(n.parent.context.$implicit.firewallId)),l(n,4,0,4===n.parent.context.$implicit.compileState)}),null)}function To(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"a",[["class","fa fa-download"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadPolicyScript(l.parent.parent.parent.context.$implicit.firewallId)&&t),t}),null,null))],null,null)}function Po(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.component.FirewallOpsIcons[n.parent.parent.parent.context.$implicit.compileState],""))}))}function No(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,To)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Po)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,3===n.parent.parent.context.$implicit.compileState||1!==n.parent.parent.context.$implicit.compileState&&2!==n.parent.parent.context.$implicit.compileState&&0===n.component.getFirewallStatusCompiled(n.parent.parent.context.$implicit.firewallId)),l(n,4,0,4===n.parent.parent.context.$implicit.compileState)}),null)}function Do(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,No)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.parent.context.$implicit.isNode)}),null)}function Ao(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"a",[["class","fa fa-download"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.downloadPolicyScript(l.parent.parent.context.$implicit.firewallId)&&t),t}),null,null))],null,null)}function Lo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,t["\u0275inlineInterpolate"](1,"",n.component.FirewallOpsIcons[n.parent.parent.context.$implicit.compileState],""))}))}function Mo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ao)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Lo)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,3===n.parent.context.$implicit.compileState||1!==n.parent.context.$implicit.compileState&&2!==n.parent.context.$implicit.compileState&&0===n.component.getFirewallStatusCompiled(n.parent.context.$implicit.firewallId)),l(n,4,0,4===n.parent.context.$implicit.compileState)}),null)}function Fo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,18,"tr",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,So)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_o)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](7,0,null,null,1,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,1,"td",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Io)),t["\u0275did"](12,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,yo)),t["\u0275did"](14,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Do)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Mo)),t["\u0275did"](18,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.context.$implicit.coloredBg?"bgColored":"bgNormal"),l(n,4,0,null!=n.context.$implicit.clusterId),l(n,6,0,null==n.context.$implicit.clusterId),l(n,12,0,null!=n.context.$implicit.clusterId),l(n,14,0,null==n.context.$implicit.clusterId),l(n,16,0,null!=n.context.$implicit.clusterId),l(n,18,0,null==n.context.$implicit.clusterId)}),(function(l,n){var e=n.component;l(n,8,0,t["\u0275inlineInterpolate"](1,"",e.FirewallOpsIcons[n.context.$implicit.compileState],"")),l(n,10,0,t["\u0275inlineInterpolate"](1,"",e.FirewallOpsIcons[n.context.$implicit.installState],""))}))}function Uo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"div",[["class","ui-g divFw"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,21,"div",[["class","ui-g-4"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,20,"div",[["class","divFwBar divTableScroll"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,19,"table",[["class","tableFw unstriped"]],null,null,null,null,null)),(l()(),t["\u0275eld"](4,0,null,null,2,"caption",[],null,null,null,null,null)),(l()(),t["\u0275ted"](5,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](7,0,null,null,12,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t["\u0275ted"](10,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](12,0,null,null,1,"th",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["C"])),(l()(),t["\u0275eld"](14,0,null,null,1,"th",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["I"])),(l()(),t["\u0275eld"](16,0,null,null,1,"th",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["V"])),(l()(),t["\u0275eld"](18,0,null,null,1,"th",[["class","fwc-centered"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["D"])),(l()(),t["\u0275eld"](20,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Fo)),t["\u0275did"](22,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","ui-g-8"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"sts-fwc-log",[],null,null,null,Xu.b,Xu.a)),t["\u0275did"](25,4308992,[[3,4],["compileLog",4]],0,zu.a,[t.ChangeDetectorRef],null,null)],(function(l,n){l(n,22,0,n.component.operationQueue),l(n,25,0)}),(function(l,n){l(n,5,0,t["\u0275unv"](n,5,0,t["\u0275nov"](n,6).transform("COMPILE.FORM.SEL_FW"))),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform("COMPILE.FORM.NAME")))}))}function ko(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-arrow-right"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showCompileDialog()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.NEXT")),""),"fa fa-arrow-right")}),(function(l,n){var e=n.component;l(n,0,0,!e.firewalls||!(null!=e.firewalls&&e.firewalls.length))}))}function Go(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ko)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.hideDialog()&&t),t}),null,null)),t["\u0275did"](4,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,n.component.enableProcess),l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-check")}),null)}function jo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-warning"],["icon","fa fa-pause"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.doPauseProcess(!0)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("COMPILE.PAUSE")),""),"fa fa-pause")}),(function(l,n){l(n,0,0,n.component.disableButtons)}))}function xo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","ui-button-success"],["icon","fa fa-play"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.doContinueProcess()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null)],(function(l,n){l(n,1,0,n.component.continueButtonText,"fa fa-play")}),(function(l,n){l(n,0,0,n.component.disableButtons)}))}function Vo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-download"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.downloadPolicyScript(i.operationQueue[0].firewallId)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("CONTEXT.FW.DOWNLOAD")),""),"fa fa-download")}),null)}function Bo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-eye"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.showPolicyDialog(i.operationQueue[0].firewallId)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("CONTEXT.FW.SHOW")),""),"fa fa-eye")}),null)}function Wo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-download"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.doDownloadCompileLog()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("LOG_PANEL.BTN_DOWNLOAD")),""),"fa fa-download")}),(function(l,n){var e=n.component;l(n,0,0,e.loadingData||e.disableButtons)}))}function Ho(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,jo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xo)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](5,0,null,null,0,"span",[["class","spanSep"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Vo)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Bo)),t["\u0275did"](9,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Wo)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](12,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.hideDialog()&&t),t}),null,null)),t["\u0275did"](13,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,2,0,!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length-1),l(n,4,0,e.pauseProcess&&e.operationInProcessId<e.operationQueue.length),l(n,7,0,!e.pauseProcess&&!(e.operationInProcessId<e.operationQueue.length)&&e.getDifferentCompiled()),l(n,9,0,!e.pauseProcess&&!(e.operationInProcessId<e.operationQueue.length)&&e.getDifferentCompiled()),l(n,11,0,!1===e.pauseProcess&&!(e.operationInProcessId<e.operationQueue.length)),l(n,13,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,13,0,t["\u0275nov"](n,14).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-check")}),(function(l,n){var e=n.component;l(n,12,0,e.loadingData||e.disableButtons)}))}function Jo(l){return t["\u0275vid"](0,[t["\u0275pid"](0,$.DatePipe,[t.LOCALE_ID]),t["\u0275qud"](671088640,1,{dialog:0}),t["\u0275qud"](671088640,2,{divDlgContainer:0}),t["\u0275qud"](671088640,3,{log:0}),(l()(),t["\u0275eld"](4,0,null,null,19,"p-dialog",[["styleClass","dlgFwcDialog dlgFwcDialog--medium"]],null,[[null,"visibleChange"],[null,"onHide"]],(function(l,n,e){var t=!0,i=l.component;return"visibleChange"===n&&(t=!1!==(i.displayDialog=e)&&t),"onHide"===n&&(t=!1!==i.onDialogHide(e)&&t),t}),Ct.b,Ct.a)),t["\u0275did"](5,180224,[[1,4],["fwCompileDialog",4]],2,St.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],styleClass:[4,"styleClass"]},{onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,4,{headerFacet:1}),t["\u0275qud"](603979776,5,{footerFacet:1}),(l()(),t["\u0275eld"](8,0,null,0,5,"p-header",[],null,null,null,_t.d,_t.b)),t["\u0275did"](9,49152,[[4,4]],0,Gl.Header,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,to)),t["\u0275did"](11,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,io)),t["\u0275did"](13,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,mo)),t["\u0275did"](15,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,Uo)),t["\u0275did"](17,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](18,0,null,2,5,"p-footer",[],null,null,null,_t.c,_t.a)),t["\u0275did"](19,49152,[[5,4]],0,Gl.Footer,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Go)),t["\u0275did"](21,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ho)),t["\u0275did"](23,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.displayDialog,!0,!0,!1,"dlgFwcDialog dlgFwcDialog--medium"),l(n,11,0,e.displaySelectOptions),l(n,13,0,e.displayCompileOptions),l(n,15,0,e.displaySelectOptions),l(n,17,0,e.displayCompileOptions),l(n,21,0,e.displaySelectOptions),l(n,23,0,e.displayCompileOptions)}),null)}var $o=function(l){return l.stateful="stateful",l.ipv4="ipv4",l.ipv6="ipv6",l.debug="debug",l.report="report",l.docker="docker",l.crowdsec="crowdsec",l.fail2ban="fail2ban",l}({}),Yo=function(l){return l.openvpn="openvpn",l.geoip="geoip",l.crowdsec="crowdsec",l.ntopng="ntopng",l.suricata="suricata",l.keepalived="keepalived",l.zeek="zeek",l.elasticsearch="elasticsearch",l.filebeat="filebeat",l.websafety="websafety",l.kibana="kibana",l.logstash="logstash",l.dnssafety="dnssafety",l.iscbind9="iscbind9",l.iscdhcp="iscdhcp",l.haproxy="haproxy",l}({});const Ko=new Map([[$o.stateful,0],[$o.ipv4,1],[$o.ipv6,2],[$o.debug,3],[$o.report,4],[$o.docker,5],[$o.crowdsec,6],[$o.fail2ban,7]]),qo=new Map([["openvpn",1],["geoip",2],["crowdsec",4],["ntopng",8],["suricata",16],["keepalived",32],["zeek",64],["elasticsearch",128],["filebeat",256],["websafety",512],["kibana",1024],["logstash",2048],["dnssafety",4096],["iscbind9",8192],["iscdhcp",16384],["haproxy",32768]]);class Xo extends Et.a{constructor(l,n,e,t,i,u,o,a,s,r,c,d,p,f,g,h,m,v){super(c,o,n,g,m,v),this.fwcUserService=l,this.itemSelectedService=n,this.fwcFirewallService=e,this.fwcInterfaceService=t,this.confirmationService=i,this.fwcObjectTreeService=u,this.appOptionsService=o,this.fwcPolicyService=a,this.fwcEventService=s,this.fwcErrorPipe=r,this.appDialogPanelsService=c,this.messageService=d,this.utilService=p,this.inputDataService=f,this.cd=g,this.translate=h,this.store=m,this.router=v,this.cluster=null,this.clusterToDelete=null,this.interfaces=[],this.interfacesIpObjs=new Map,this.clusterNodes=[],this.displaySSH=[],this.displayApiKey=[],this.dependencies=null,this.okToDelete=!1,this.loadingData=!1,this.loadingCommunication=!1,this.alive=!0,this.discoveredInstallOptions=new Map,this.FirewallCompilerOptions=Cn.m,this.optionsFlags={stateful:!1,ipv4:!1,ipv6:!1,debug:!1,report:!1,docker:!1,crowdsec:!1,fail2ban:!1},this.optionsPlugins={openvpn:!1,geoip:!1,crowdsec:!1,ntopng:!1,suricata:!1,keepalived:!1,zeek:!1,elasticsearch:!1,filebeat:!1,websafety:!1,kibana:!1,logstash:!1,dnssafety:!1,iscbind9:!1,iscdhcp:!1,haproxy:!1},this.createDialog(this.translate.instant("CLUSTER.PANEL_TITLE"),"fwci-clusters",Cn.k.CLUSTER_PANEL),this.helpSection="/firewalls",this.resetForm()}ngOnInit(){this.dockerDocURL=`https://fwcloud.net/${"es"!==this.translate.currentLang?this.translate.currentLang+"/":""}documentation/fwcloud-docker`,this.deleteMsgError=null,this.store.pipe(Object(V.a)(()=>this.alive),Object(hl.B)(bt.a.selectDialogUuidsToReload)).subscribe(l=>{l&&l.find(l=>l===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.getItem().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(l._fwcObjType==Cn.E.OBJ_CLUSTER)if(this.itemSelectedService.hideObjectPanel(),l.deleteAction)this.showDialog(),this.checkClusterRestrictions(l);else if(null!==l.id_obj&&null!=l.id_obj){let n,e=[];for(e.push(l);e.length&&!n;){let l=e.pop();l.node_type==Cn.B.FOLDER_CLUSTER_FW?n=l.id:l.items&&l.items.length&&e.push(...l.items)}this.fwcFirewallService.getCluster(l.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>Object(Xl.b)(this,void 0,void 0,(function*(){let e,t;if(l.data){this.cluster=l.data,this.cluster.interfaces&&Array.isArray(this.cluster.interfaces)&&(this.interfaces=this.cluster.interfaces,this.interfaces.forEach(l=>{let n=Object(Yi.generate)();l.interfaceUUID=n,Array.isArray(l.ipobjs)&&l.ipobjs.forEach(l=>{l.ipObjUUID=n+Object(Yi.generate)()})}));const u=this.fwcUserService.getActualFwcUser().privateKey;let o=this.cluster.nodes,a=[];for(let l=0;o&&l<o.length;l++){let n,s,r=o[l];e=r.options,t=r.plugins,r.firewallUUID=Object($i.v4)();try{r.install_user&&(r.install_user=yield this.utilService.openPGPDecrypt(r.install_user,u)),r.install_pass&&(r.install_pass=yield this.utilService.openPGPDecrypt(r.install_pass,u)),r.install_apikey&&(r.install_apikey.startsWith("-")||(r.install_apikey=yield this.utilService.openPGPDecrypt(r.install_apikey,u)))}catch(i){}Array.isArray(this.interfaces)&&this.interfaces.forEach(l=>{r.install_interface&&r.install_interface===l.id&&(r.installInterfaceUUID=l.interfaceUUID,n=l),Array.isArray(l.ipobjs)&&l.ipobjs.forEach(l=>{r.install_ipobj&&r.install_ipobj===l.id&&(r.installIpObjUUID=l.ipObjUUID,s=l)})}),this.setNode(this.cluster.nodes[0].id.toString()+","+this.cluster.nodes[0].name),a.push({firewallUUID:r.firewallUUID,firewall_name:r.name,firewall:r.id,cluster:this.cluster.id,installOptions:{firewallUUID:r.firewallUUID,interface:n,ipobj:s}});for(let l=0;l<this.interfaces.length;l++)if(r.install_interface==this.interfaces[l].id){this.interfacesIpObjs.set(r.firewallUUID,this.interfaces[l].ipobjs);break}}Array.isArray(this.interfaces)&&(this.interfacesEditorOptions={isCluster:!0,firewalls:a,discoveredFirewallUUID:void 0,discoveredIfs:[],existingIfs:this.interfaces}),this.cluster.options=e,this.cluster.nodesParentId=n,this.resetForm(),this.fillForm(),this.showDialog()}})),l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}else this.cluster={id:void 0,node_id:l.node_id,options:3,plugins:0},this.resetForm(),this.fillForm(),this.showDialog()})}ngOnDestroy(){super.ngOnDestroy()}reloadPanel(){if(this.clusterToDelete&&this.clusterToDelete&&(this.displayDialog||this.dialogMinified)){let l=Object.assign({},this.clusterToDelete),n=this.itemSelectedService.getActualLastMinifiedDialogId();this.checkClusterRestrictions(l),this.dialogId==n&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(Ql.a.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}getInterfaceAndAddressByUUID(l,n,e){let t,i;if(Array.isArray(this.interfaces)&&this.interfaces.forEach(l=>{l.interfaceUUID&&l.interfaceUUID===n&&(t=l),Array.isArray(l.ipobjs)&&l.ipobjs.forEach(l=>{l.ipObjUUID&&l.ipObjUUID===e&&(i=l)})}),(!t||!i)&&this.discoveredInstallOptions){let n=this.discoveredInstallOptions.get(l);n&&(t=t||n.interface,i=i||n.ipobj)}return{interfaceInfo:t,ipObjInfo:i}}resetProperties(){this.fwcUserService.setConfirmationToken(void 0),this.cluster=null,this.clusterNodes=[],this.clusterToDelete=null,this.interfaces=[],this.interfacesIpObjs=new Map,this.dependencies=null,this.interfacesEditorOptions=null,this.fwcInterfacesEditor&&this.fwcInterfacesEditor.resetProperties(),this.discoveredInstallOptions=new Map,this.deleteMsgError=null,this.delMessage=null,this.displaySSH=[],this.displayApiKey=[],this.okToDelete=!1,this.loadingData=!1,this.formModel&&this.formModel.reset()}resetForm(){this.formModel=new k.FormGroup({cluster:new k.FormControl(""),name:new k.FormControl("",[k.Validators.required,k.Validators.pattern(Cn.e.nameRegExp)]),comment:new k.FormControl(""),options:new k.FormControl(3),plugins:new k.FormControl(0),node_id:new k.FormControl(null),fwnodes:new k.FormArray([this.createNode()],Cn.e.distinctNameValidator.bind(this)),compiler:new k.FormControl(0)})}createNode(l){let n,e,t,i,u,o,a,s,r,c,d,p,f,g,h,m,v,C;l?(n=l.id,e=l.name,t=l.comment,i=l.fwcloud,u=l.install_user,o=l.install_pass,a=l.save_user_pass,s=l.install_interface,r=l.install_ipobj,c=l.fwmaster,d=l.install_port,p=l.firewallUUID,g=l.installInterfaceUUID,h=l.installIpObjUUID,m=l.install_communication,v=l.install_protocol,C=l.install_apikey):p=Object($i.v4)(),this.cluster&&(f=this.cluster.id),void 0===a&&(a=1),void 0===c&&(c=0),void 0===d&&(d=33033);let S=new k.FormGroup({name:new k.FormControl(e,[k.Validators.required,k.Validators.pattern(Cn.e.nameRegExp)]),comment:new k.FormControl(t),install_user:new k.FormControl(u,k.Validators.pattern(Cn.e.linuxUsername)),install_pass:new k.FormControl(o,k.Validators.pattern(Cn.e.linuxPassword)),save_user_pass:new k.FormControl(a),install_interface:new k.FormControl(s),install_ipobj:new k.FormControl(r),fwmaster:new k.FormControl(c),install_port:new k.FormControl(d),firewallUUID:new k.FormControl(p),installInterfaceUUID:new k.FormControl(g),installIpObjUUID:new k.FormControl(h),install_communication:new k.FormControl(m||"agent",k.Validators.required),install_protocol:new k.FormControl(v||"https"),install_apikey:new k.FormControl(C)});return null!=n&&S.addControl("id",new k.FormControl(n)),null!=f&&S.addControl("cluster",new k.FormControl(f)),S}fillForm(){if(this.cluster){if(this.formModel.controls.cluster.setValue(this.cluster.id),this.formModel.controls.name.setValue(this.cluster.name),this.formModel.controls.comment.setValue(this.cluster.comment),this.formModel.controls.node_id.setValue(this.cluster.node_id),this.formModel.controls.options.setValue(this.cluster.options),this.setOptionsFlags(),this.formModel.controls.plugins.setValue(this.cluster.plugins),this.setOptionsPlugins(),this.cluster.nodes&&this.cluster.nodes.length){let l=this.formModel.controls.fwnodes;for(;0!==l.length;)l.removeAt(0);for(let n=0;n<this.cluster.nodes.length;n++)this.formModel.controls.fwnodes.push(this.createNode(this.cluster.nodes[n]))}this.cluster.type=Cn.E.OBJ_CLUSTER,this.cluster.container=Cn.O.C_FIREWALLS,this.formModel.controls.compiler.setValue((61440&this.cluster.options)>>12)}}setOptionsFlags(){this.cluster&&Object.values($o).forEach(l=>{this.optionsFlags[l]=!!(this.cluster.options&Math.pow(2,Ko.get(l)))})}setFormOptionsFlags(){const l=[];for(let n of Object.values($o))l[Ko.get(n)]=this.optionsFlags[n]?"1":"0";this.formModel.controls.options.setValue(parseInt(l.reduce((l,n)=>n+l,""),2)),this.formModel.markAsDirty()}getFormNodes(){return this.formModel.get("fwnodes")}NodesComunicateViaSsh(){return!this.formModel.value.fwnodes.find(l=>"ssh"!==l.install_communication)}setOptionsPlugins(){this.cluster&&Object.values(Yo).forEach(l=>{this.optionsPlugins[l]=!!(this.cluster.plugins&qo.get(l))})}onChangePluginsDevelop(){this.confirmationService.confirm({header:this.translate.instant("FW.PLUGINS.HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("FW.PLUGINS.NOT_IMPLEMENTED"),reject:()=>{this.setOptionsPlugins()},accept:()=>{this.setOptionsPlugins()}})}NodeHaveDiscoveredIp(l){if(this.discoveredInstallOptions.get(l.value.firewallUUID)){if(null!=this.discoveredInstallOptions.get(l.value.firewallUUID).ipobj.address)return!0}else if(this.interfacesIpObjs.get(l.value.firewallUUID))return!0;return!1}onChangePlugins(){const l=[];let n,e;this.cluster.id?(n=this.cluster.name,e=this.cluster.plugins):(e=this.formModel.controls.plugins.value,n=this.formModel.controls.name.value);for(let a of Object.values(Yo))l[qo.get(a)]=this.optionsPlugins[a]?"1":"0";this.formModel.controls.plugins.setValue(parseInt(l.reduce((l,n)=>n+l,""),2));const t=this.fwcUserService.getActualFwcUser().publicKey;let i,u,o=[];Object.values(Yo).forEach(l=>{if((this.formModel.controls.plugins.value&qo.get(l))!=(this.cluster.plugins&qo.get(l))){let n,a;i=l==Yo.iscbind9?"isc-bind9":l==Yo.iscdhcp?"isc-dhcp":l,u=this.optionsPlugins[l],this.formModel.controls.plugins.value&qo.get(l)?(n=this.translate.instant("CLUSTER.PLUGINS.ENABLE",{plugin:this.translate.instant("CLUSTER.PLUGINS."+l.toUpperCase())}),a=this.translate.instant("CLUSTER.PLUGINS.ENABLE_OK",{plugin:this.translate.instant("CLUSTER.PLUGINS."+l.toUpperCase())})):(n=this.translate.instant("CLUSTER.PLUGINS.DISABLE",{plugin:this.translate.instant("CLUSTER.PLUGINS."+l.toUpperCase())}),a=this.translate.instant("CLUSTER.PLUGINS.DISABLE_OK",{plugin:this.translate.instant("CLUSTER.PLUGINS."+l.toUpperCase())})),this.confirmationService.confirm({header:this.translate.instant("CLUSTER.PLUGINS.HEADER"),message:n,reject:()=>{this.setOptionsPlugins()},accept:()=>Object(Xl.b)(this,void 0,void 0,(function*(){this.loadingData=!0;for(let l=0;l<this.formModel.value.fwnodes.length;l++)if(this.discoveredInstallOptions.get(this.getFormNodes().value[l].firewallUUID)){let n=this.getFormNodes().value[l].install_apikey;n&&(n.startsWith("-")||(this.getFormNodes().value[l].install_apikey=yield this.utilService.openPGPEncrypt(this.getFormNodes().value[l].install_apikey,t))),o.push({firewall:this.getFormNodes().value[l],plugin:i,enable:u,address:this.discoveredInstallOptions.get(this.getFormNodes().value[l].firewallUUID).ipobj.address,persisted:!1})}else{let n=this.formModel.value.fwnodes[l].install_apikey;n&&(n.startsWith("-")||(this.formModel.value.fwnodes[l].install_apikey=yield this.utilService.openPGPEncrypt(this.formModel.value.fwnodes[l].install_apikey,t))),o.push({firewall:this.formModel.value.fwnodes[l],plugin:i,enable:u,address:this.interfacesIpObjs.get(this.formModel.value.fwnodes[l].firewallUUID)?this.interfacesIpObjs.get(this.formModel.value.fwnodes[l].firewallUUID).filter(n=>n.id==this.formModel.value.fwnodes[l].install_ipobj)[0].address:null,persisted:!1})}this.eventsSubscription=this.fwcEventService.getEvent().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(l.type==It.a.EVENT_PLUGIN_PANEL_CLOSED)if(this.eventsSubscription.unsubscribe(),l.data)this.formModel.controls.plugins.setValue(e),this.setOptionsPlugins();else if(this.formModel.controls.plugins.setValue(this.formModel.controls.plugins.value),this.cluster.id){let l=this.formModel.value;l={cluster:this.cluster.id,name:this.cluster.name,comment:this.cluster.comment,options:this.cluster.options,plugins:this.formModel.controls.plugins.value},delete l.compiler;let n=this.fwcUserService.getActualFwSelectedCloud();l=Object(Zl.cloneDeep)(l),this.utilService.fwcAPICall(this.fwcFirewallService.updateCluster.bind(this.fwcFirewallService),l,n,null).then(l=>{let n=this.formModel.get("fwnodes");for(let e=0;e<n.length;e++){let l=n.at(e);l.value.plugins=this.formModel.controls.plugins.value,l.markAllAsTouched()}this.updateNodesAsync().then(()=>{this.processInterfacesOperations(this.cluster.id).then(()=>{this.cluster.plugins=this.formModel.controls.plugins.value,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),detail:a})}).catch(l=>{this.setOptionsPlugins(),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})})}).catch(l=>{this.setOptionsPlugins(),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}else this.cluster.plugins=this.formModel.controls.plugins.value}),this.itemSelectedService.setClusterToPluginOperation({cluster:this.cluster,nodes:o,plugin:i,enable:u}),this.loadingData=!1})),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}}),this.loadingData=!1}onClusterNodeNameChange(l){this.fwcInterfacesEditor&&this.fwcInterfacesEditor.updateFirewallName(l.get("firewallUUID").value,l.get("name").value)}onClusterNodeInstallCommChange(l){return Object(Xl.b)(this,void 0,void 0,(function*(){if(l){const n=l.get("install_communication").value;let e,t=!1;t=!(yield this.utilService.fwcAPICall(this.fwcFirewallService.loadBackEndConfig.bind(this.fwcFirewallService))).data.availablecommunications.includes("ssh"),"ssh"===n?e="agent":t&&"agent"===n?(this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),e="agent"):e="ssh",l.get("install_communication").setValue(e),"agent"===e?(l.get("install_protocol").setValidators([k.Validators.required]),l.get("install_port").setValue(33033)):(l.get("install_protocol").clearValidators(),l.get("install_apikey").clearValidators(),l.get("install_port").setValue(22)),l.get("install_protocol").updateValueAndValidity(),l.get("install_apikey").updateValueAndValidity()}}))}onInterfaceChange(l,n,e=null,t=!0){let i=this.formModel.get("fwnodes");if(i&&l>=0&&l<i.length){let u=i.at(l);if(n){let l=this.interfaces.find(l=>l.id===+n);if(l&&(this.interfacesIpObjs.set(u.get("firewallUUID").value,l.ipobjs),u.get("installInterfaceUUID").setValue(l.interfaceUUID),Array.isArray(l.ipobjs))){let n=l.ipobjs.find(l=>l.id===+e);u.get("install_ipobj").setValue(e),u.get("installIpObjUUID").setValue(n?n.ipObjUUID:null)}}else this.interfacesIpObjs.delete(u.get("firewallUUID").value);this.onChangeInstallData(l,t)}}onChangeInstallData(l,n=!0){let e=this.formModel.get("fwnodes"),t=e.at(l);if(t){let i,u,o=t.value;this.interfacesIpObjs.get(o.firewallUUID)&&(u=this.interfacesIpObjs.get(o.firewallUUID).find(l=>l.id===+o.install_ipobj)),u&&(i=u.ipObjUUID,t.get("installIpObjUUID").setValue(i));let a=o.installInterfaceUUID,s=o.firewallUUID;if(n){let l=this.getInterfaceAndAddressByUUID(s,a,i);this.fwcInterfacesEditor.updateInstallOptions({firewallUUID:s,interface:l.interfaceInfo,ipobj:l.ipObjInfo})}for(let t=0;t<e.length;t++){let u=e.at(t),o=u.value;t!==l&&o.installInterfaceUUID===a&&o.installIpObjUUID===i&&(u.get("install_interface").setValue(null),u.get("install_ipobj").setValue(null),u.get("installInterfaceUUID").setValue(null),u.get("installIpObjUUID").setValue(null),u.markAsTouched(),n&&this.fwcInterfacesEditor.updateInstallOptions({firewallUUID:o.firewallUUID,interface:null,ipobj:null}),this.interfacesIpObjs.delete(o.firewallUUID))}this.refreshDialog()}}nodeAdd(l){let n=this.formModel.get("fwnodes");if(n){let l=this.createNode();n.push(l);let e=l.get("firewallUUID").value;this.fwcInterfacesEditor&&this.fwcInterfacesEditor.addFirewall({cluster:this.cluster.id,firewall:void 0,firewallUUID:e,firewall_name:"",installOptions:{firewallUUID:e,interface:null,ipobj:null}})}this.recenterDialog();try{this.nodeInputs.last.nativeElement.focus()}catch(e){}}getNumberOfExistingNodes(){let l=0,n=this.formModel.get("fwnodes");if(n)for(let e=0;e<n.length;e++){let t=n.at(e);t.get("id")&&t.get("id").value&&l++}return l}nodeRemove(l){let n=this.formModel.get("fwnodes"),e=this.getNumberOfExistingNodes();if(!n||n.length<2||l<0||l>=n.length)return;let t=n.at(l).value;if(!(t.id&&e<2)){if(null!=this.cluster.id&&null!=t.id)this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("CLUSTER.MSG_CLUSTER_NODE_DEL",{name:t.name}),accept:()=>{this.loadingData=!0,this.utilService.fwcAPICall(this.fwcFirewallService.deleteClusterNode.bind(this.fwcFirewallService),t.cluster,t.id,this.fwcUserService.getActualFwSelectedCloud()).then(e=>{let i=t.fwmaster,u=t.id,o=t.cluster,a=t.firewallUUID;if(n.removeAt(l),this.interfacesIpObjs.delete(t.firewallUUID),this.discoveredInstallOptions.delete(a),this.recenterDialog(),i){let l=n.at(0);l.get("fwmaster").setValue(1);let e=Object.assign({},this.fwcPolicyService.getActualSelectedPolicy());e&&e._fwcFwId==u&&(e._fwcFwId=e.fwId=l.get("id").value,this.fwcPolicyService.setSelectedPolicy(e))}this.fwcInterfacesEditor&&this.fwcInterfacesEditor.deleteFirewall(a),this.itemSelectedService.setModifiedItem({_fwcObjId:o,_fwcObjType:Cn.E.OBJ_CLUSTER,container:Cn.O.C_FIREWALLS,_fwcTreeAction:Cn.N.NEW_ITEM}),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("CLUSTER.MSG_CLUSTER_NODES.CN_5",{name:t.name})}),this.loadingData=!1}).catch(l=>{l.error&&l.error.restrictions?this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CLUSTER.MSG_CLUSTER_NODE_RESTR.RESTR_0"),message:this.translate.instant("CLUSTER.MSG_CLUSTER_NODE_RESTR.RESTR_1"),accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1})}});else{let e=t.firewallUUID;n.removeAt(l),this.interfacesIpObjs.delete(e),this.discoveredInstallOptions.delete(e),this.fwcInterfacesEditor&&this.fwcInterfacesEditor.deleteFirewall(e),this.recenterDialog()}this.nodeNGFW=this.formModel.get("fwnodes")[0]}}onTestFwcAgentCommunication(l){return Object(Xl.b)(this,void 0,void 0,(function*(){const n=+l.get("install_ipobj").value;if(n){const e=l.value,t=this.interfacesIpObjs.get(e.firewallUUID);if(t){const l=t.find(l=>l.id===n);if(l){let n="Error",t="fa fa-exclamation-circle fwcRed iconBig",i=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});this.loadingData=!0,this.loadingCommunication=!0;const u=this.fwcUserService.getActualFwcUser().publicKey;let o={communication:e.install_communication,host:l.address,port:e.install_port};if("ssh"===e.install_communication){let l=e.install_user,n=e.install_pass;l&&(l=yield this.utilService.openPGPEncrypt(l,u)),n&&(n=yield this.utilService.openPGPEncrypt(n,u)),o.username=l,o.password=n}else{let l=e.install_apikey;l&&(l.startsWith("-")||(l=yield this.utilService.openPGPEncrypt(l,u))),o.protocol=e.install_protocol,o.apikey=l}({msgHeader:n,msgIcon:t,msgMessage:i}=this.pingSubscription(o,n,t,i))}}}else{let n="Error",e="fa fa-exclamation-circle fwcRed iconBig",t=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});this.loadingData=!0,this.loadingCommunication=!0;const i=this.fwcUserService.getActualFwcUser().publicKey;if("agent"==l.value.install_communication){let u,o=l.value.install_apikey;o&&(o.startsWith("-")||(o=yield this.utilService.openPGPEncrypt(o,i))),u=this.discoveredInstallOptions.get(l.value.firewallUUID)?this.discoveredInstallOptions.get(l.value.firewallUUID).ipobj.address:null;let a={communication:l.value.install_communication,host:u,port:l.value.install_port,protocol:l.value.install_protocol,apikey:o};({msgHeader:n,msgIcon:e,msgMessage:t}=this.pingSubscription(a,n,e,t))}}}))}pingSubscription(l,n,e,t){return this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.checkFwCommunication.bind(this.fwcFirewallService),this.fwcUserService.getActualFwSelectedCloud(),l).subscribe({next:()=>{n=this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),e="fa fa-check-circle fwcGreen iconBig",t=this.translate.instant("FW.MSG_FW_EDITION.PING_AGENT_OK"),this.confirmationService.confirm({header:n,icon:e,acceptLabel:"Ok",rejectVisible:!1,message:t}),this.loadingData=!1,this.loadingCommunication=!1},error:l=>Object(Xl.b)(this,void 0,void 0,(function*(){let i;i=this.utilService.isCommunicationError(l.error),i&&(t=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:i})),this.confirmationService.confirm({header:n,icon:e,acceptLabel:"Ok",rejectVisible:!1,message:t}),this.loadingData=!1,this.loadingCommunication=!1}))}),{msgHeader:n,msgIcon:e,msgMessage:t}}showClusterInfo(l){return Object(Xl.b)(this,void 0,void 0,(function*(){const n=+l.get("install_ipobj").value;if(this.loadingData=!0,this.loadingCommunication=!0,n){const e=l.value;if(n){const l=this.interfacesIpObjs.get(e.firewallUUID),t=l.find(l=>l.id===n);if(l){const l=this.fwcUserService.getActualFwcUser().publicKey,n={communication:e.install_communication,host:t.address,port:e.install_port};if("ssh"!==e.install_communication){let t=e.install_apikey;t&&(t=yield this.utilService.openPGPEncrypt(t,l)),n.protocol=e.install_protocol,n.apikey=t}this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.getFirewallInformation.bind(this.fwcFirewallService),this.fwcUserService.getActualFwSelectedCloud(),n).subscribe({next:l=>{const n=this.utilService.createDynamicComponentRef(qi.a),e=n.instance;e.setDynamicComponentRef(n),e.showFirewallPanel(l.data.data.fwc_agent_version,l.data.data.host_name,l.data.data.system_name,l.data.data.os_version,l.data.data.os_version,l.data.data.kernel_version),this.loadingData=!1,this.loadingCommunication=!1},error:l=>Object(Xl.b)(this,void 0,void 0,(function*(){let n,e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:this.translate.instant("GLOBALS.ERRORS.COMMUNICATION")});n=this.utilService.isCommunicationError(l.error),n&&(e=this.translate.instant("FW.MSG_FW_EDITION.ERROR_PING_AGENT",{errorMsg:n})),this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:e}),this.loadingData=!1,this.loadingCommunication=!1}))})}}}}))}onDiscoverInterfaces(){let l=this.formModel.get("fwnodes");if(!l||!l.controls.some(l=>l.get("name").value))return void this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CLUSTER.MSG_CLUSTER_NO_NODES.HEADER"),message:this.translate.instant("CLUSTER.MSG_CLUSTER_NO_NODES.TEXT"),accept:()=>{this.shownPanel=0},rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")});let n=[],e=!1;l.controls.forEach((l,t)=>{l.get("name").value&&(n.push({id:t,text:l.get("name").value,default:!e}),e=!0)});let t={header:this.translate.instant("CLUSTER.MSG_NODE_SELECT.HEADER"),helpText:this.translate.instant("CLUSTER.MSG_NODE_SELECT.TEXT"),modal:!0,formControls:[{name:"nodeId",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME"),type:"select",options:n,required:!0}],onAccept:l=>{l&&this.nodeAutoDiscoverInterfaces(l.nodeId)}};this.inputDataService.setInputData(t)}nodeAutoDiscoverInterfaces(l,n){let e=this.formModel.get("fwnodes");if(!e||l<0||l>=e.length||!this.interfacesIpObjs)return;let t=e.at(l).value,i="",u=this.interfacesIpObjs.get(t.firewallUUID),o=t.install_ipobj,a=t.install_communication||"agent";if(o){let l=u.find(l=>l.id===o);l&&(i=l.address)}let s={header:this.translate.instant("COMPILE.INST_SSH_GEN"),helpText:this.translate.instant("IF_EDITOR.TREE.INST_SSH_TEXT"),modal:!0,formControls:[{name:"nodeId",value:l,type:"hidden"},{name:"install_communication",value:a,type:"hidden"},{name:"name",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME"),type:"text",readonly:!0,halfSized:!0,value:t.name},{name:"firewallUUID",type:"hidden",value:t.firewallUUID},{name:"role",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.ROLE"),type:"select",halfSized:!0,options:[{id:null,text:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NO_ROLE"),default:!0},{id:"M",text:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.MASTER")},{id:"S",text:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.SLAVE")},{id:"N",text:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")}],value:n?n.role:null},{name:"address",label:this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS"),regexp:Cn.e.ipV4Regexp,type:"text",required:!0,value:n?n.address:i,setFocus:!0},{name:"",label:"",type:"separator"},{name:"install_port",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.PORT"),regexp:Cn.e.portRegexp,type:"number",required:!0,value:n?n.install_port:t.install_port},{name:"",label:"",type:"separator"}],onAccept:this.doDiscoverInterfaces.bind(this)};"ssh"===a?s.formControls.push({name:"install_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:n?n.install_user:t.install_user},{name:"",label:"",type:"separator"},{name:"install_pass",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:n?n.install_pass:t.install_pass}):s.formControls.push({name:"install_protocol",label:this.translate.instant("FW.MSG_FW_EDITION.AGENT_PROTOCOL"),type:"select",required:!0,value:n?n.install_protocol:t.install_protocol,options:[{id:"https",text:"HTTPS"},{id:"http",text:"HTTP"}]},{name:"",label:"",type:"separator"},{name:"install_apikey",label:this.translate.instant("FW.MSG_FW_EDITION.AGENT_APIKEY"),type:"password",required:!0,value:n?n.install_apikey:t.install_apikey}),this.inputDataService.setInputData(s)}doDiscoverInterfaces(l){return Object(Xl.b)(this,void 0,void 0,(function*(){if(l){const n=this.fwcUserService.getActualFwcUser().publicKey,e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ip:l.address,port:+l.install_port,communication:l.install_communication};if("ssh"===l.install_communication){let t=l.install_user,i=l.install_pass;t&&(t=yield this.utilService.openPGPEncrypt(t,n)),i&&(i=yield this.utilService.openPGPEncrypt(i,n)),e.sshuser=t,e.sshpass=i}else{let t=l.install_apikey;t&&(t.startsWith("-")||(t=yield this.utilService.openPGPEncrypt(t,n))),e.apikey=t,e.protocol=l.install_protocol}const t=[],i=this.formModel.get("fwnodes");let u;for(let a=0;a<i.length;a++){const n=i.at(a),e=n.value;let o;if(this.discoveredInstallOptions){const l=this.discoveredInstallOptions.get(e.firewallUUID);l&&l.ipobj&&(o=l.ipobj.address)}e.firewallUUID&&e.firewallUUID===l.firewallUUID&&(u=n,o=l.address);const s=this.getInterfaceAndAddressByUUID(e.firewallUUID,e.installInterfaceUUID,e.installIpObjUUID);t.push({firewallUUID:e.firewallUUID,firewall_name:e.name,firewall:e.id,cluster:e.cluster,installOptions:{firewallUUID:e.firewallUUID,interface:s.interfaceInfo,ipobj:s.ipObjInfo}})}if(!u)return;"ssh"===l.install_communication?u.get("install_user").value!==l.install_user&&(u.get("install_user").setValue(l.install_user),u.markAsDirty()):(u.get("install_protocol").value!==l.install_protocol&&(u.get("install_protocol").setValue(l.install_protocol),u.markAsDirty()),u.get("install_apikey").value!==l.install_apikey&&(u.get("install_apikey").setValue(l.install_apikey),u.markAsDirty()));let o=l.role;"N"===o&&(o=u.get("name").value),this.loadingData=!0,this.loadingCommunication=!0,this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.autoDiscoverInterfaces.bind(this.fwcFirewallService),e).subscribe({next:n=>{if(Array.isArray(n.data)){let e=n.data;Array.isArray(e)&&e.length&&(o&&(e=e.map(l=>(l.suffixToAdd=o,l))),this.interfacesEditorOptions={isCluster:!0,firewalls:t,discoveredFirewallUUID:u.get("firewallUUID").value,discoveredAddress:l.address,discoveredIfs:e,existingIfs:this.interfaces},this.formModel.markAsDirty(),this.shownPanel=1,this.recenterDialog())}this.loadingData=!1,this.loadingCommunication=!1},error:n=>Object(Xl.b)(this,void 0,void 0,(function*(){if(9e3==n.error.fwcErr)this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")});else{let e;n&&(e=this.utilService.isCommunicationError(n.error)),this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("FW.MSG_FW_EDITION.ERROR_DISCOVER")+(e?":<br/>"+e:""),accept:()=>{if(e)return this.nodeAutoDiscoverInterfaces(l.nodeId,l)}})}this.loadingData=!1,this.loadingCommunication=!1}))})}}))}onEditorInstallModified(l){if(l){let n,e,t=this.formModel.get("fwnodes");for(let i=0;i<t.length;i++){let u=t.at(i),o=u.value;l.interface&&o.installInterfaceUUID===l.interface.interfaceUUID&&l.ipobj&&o.installIpObjUUID===l.ipobj.ipObjUUID&&(u.get("install_interface").setValue(null),u.get("install_ipobj").setValue(null),u.get("installInterfaceUUID").setValue(null),u.get("installIpObjUUID").setValue(null),this.discoveredInstallOptions.delete(o.firewallUUID),this.onInterfaceChange(i,null,null,!1),u.markAsTouched(),this.interfacesIpObjs.delete(u.get("firewallUUID").value)),o.firewallUUID&&o.firewallUUID===l.firewallUUID&&(n=u,e=i)}if(n){if(l.interface||l.ipobj){let t=l.interface.id,i=l.ipobj.id;t&&i?(this.discoveredInstallOptions.delete(l.firewallUUID),n.get("install_interface").setValue(t),n.get("install_ipobj").setValue(i),n.get("installInterfaceUUID").setValue(l.interface.interfaceUUID),n.get("installIpObjUUID").setValue(l.ipobj.ipObjUUID),this.onInterfaceChange(e,t,i,!1)):this.discoveredInstallOptions.set(l.firewallUUID,{interface:l.interface,ipobj:l.ipobj})}else n.get("install_interface").setValue(null),n.get("install_ipobj").setValue(null),n.get("installInterfaceUUID").setValue(null),n.get("installIpObjUUID").setValue(null),this.discoveredInstallOptions.delete(l.firewallUUID);n.markAsTouched(),this.formModel.markAsDirty()}}}onEditorInterfaceOrIpModified(l){l&&l.installFirewallUUIDs&&l.installFirewallUUIDs.forEach(n=>{if(l.id&&Array.isArray(this.interfaces)){let n=!1;for(let e=0;e<this.interfaces.length&&!n;e++){let t=this.interfaces[e];if(l.id===t.id&&l.type===t.type&&(t.name=l.name,n=!0),Array.isArray(t.ipobjs))for(let e=0;e<t.ipobjs.length&&!n;e++){let i=t.ipobjs[e];l.id===i.id&&l.type===i.type&&(i.name=l.name,i.address=l.address,n=!0)}}}else if(this.discoveredInstallOptions){let e=this.discoveredInstallOptions.get(n);e&&(l.type===Cn.E.OBJ_INTERFACE_FIREWALL?e.interface.name=l.name:(e.ipobj.name=l.name,e.ipobj.address=l.address))}this.formModel.markAsDirty()})}changeCompilerOptions(){const l=this.formModel.get("compiler").value<<12,n=4095&this.formModel.get("options").value;this.formModel.get("options").setValue(l|n)}checkClusterRestrictions(l){l&&(this.loadingData=!0,this.clusterToDelete=l,this.dependencies=null,this.deleteMsgError=null,this.delMessage={type:"loading",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.CHECKING_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.CHECKING_TEXT")},this.okToDelete=!1,this.fwcFirewallService.getClusterMasterNode(l.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(n=>{n.error?(this.deleteMsgError={type:"error",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(n.error)})},this.dependencies={restrictionsError:!0},this.loadingData=!1):(l.masterFwId=n.data.id,this.fwcFirewallService.checkClusterRestrictions(l.masterFwId,this.fwcUserService.getActualFwSelectedCloud()).subscribe(n=>{this.deleteMsgError={type:"warning",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DEL_2"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DEL_3",{name:l._fwcObjName})},this.dependencies=null,this.loadingData=!1,this.recenterDialog()},n=>{if(n.error&&n.error.restrictions)try{this.dependencies=n.error.restrictions,this.dependencies._fwcRestrictedObject={_fwcObjId:l.masterFwId,_fwcObjType:Cn.E.OBJ_CLUSTER},this.deleteMsgError={type:"error",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DEL_0"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DEL_1",{name:l._fwcObjName})}}catch(e){this.dependencies={restrictionsError:!0},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})}else this.deleteMsgError={type:"error",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_DEL_TEXT",{error:this.fwcErrorPipe.transform(n)})},this.dependencies={restrictionsError:!0};this.loadingData=!1,this.recenterDialog()}))},l=>{this.loadingData=!1,this.deleteMsgError={type:"error",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(l)})},this.dependencies={restrictionsError:!0},this.recenterDialog()}))}onShowDialog(){this.itemSelectedService.getActualItem().ngfw?this.shownPanel=4:this.itemSelectedService.getActualItem().plugins?this.shownPanel=3:(this.shownPanel=0,setTimeout(()=>{this.inputClusterName&&this.inputClusterName.nativeElement.focus()},150));let l=this.itemSelectedService.getActualItem();delete l.ngfw,delete l.plugins,this.itemSelectedService.setItem(l)}onChangeTab(l){this.fwcInterfacesEditor&&this.fwcInterfacesEditor.hideFirewallSelector(),this.shownPanel=l.index}onHideDialog(){}onCancel(l){!l&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLUSTER.MSG_CLUSTER_CONFIRM"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.resetProperties()),this.shownPanel=0}checkForm(l){l&&l.target&&"textarea"!=l.target.type&&this.formModel.valid&&(l.target.blur(),this.onSave())}onSave(l=!1){return Object(Xl.b)(this,void 0,void 0,(function*(){if(!l&&this.fwcInterfacesEditor&&!this.fwcInterfacesEditor.isThereAnySelectedNode())return void this.confirmationService.confirm({header:this.translate.instant("IF_EDITOR.TREE.MSG_NO_SELECTED.TITLE"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("IF_EDITOR.TREE.MSG_NO_SELECTED.TEXT",{obj_name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER").toLowerCase()}),accept:()=>{this.onSave(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")});let n,e;this.formModel.get("fwnodes").at(0).get("fwmaster").setValue(1);let t=Object(Zl.cloneDeep)(this.cluster),i=this.formModel.value;null==this.cluster.id?(n=this.fwcFirewallService.newCluster.bind(this.fwcFirewallService),e=this.translate.instant("CLUSTER.MSG_CLUSTER_NEW")):(n=this.fwcFirewallService.updateCluster.bind(this.fwcFirewallService),e=this.translate.instant("CLUSTER.MSG_CLUSTER_UPDATE_1",{name:this.cluster.name}),i={cluster:t.id,name:i.name,comment:i.comment,options:i.options,plugins:i.plugins}),delete i.compiler;let u=this.fwcUserService.getActualFwSelectedCloud(),o=i.node_id;if(delete i.node_id,i=Object(Zl.cloneDeep)(i),Array.isArray(i.fwnodes)){const l=this.fwcUserService.getActualFwcUser().publicKey;i.fwnodes=i.fwnodes.splice(0);for(let n=0;n<i.fwnodes.length;n++){let e=i.fwnodes[n];delete e.firewallUUID,delete e.installInterfaceUUID,delete e.installIpObjUUID;let t=e.install_user,u=e.install_pass;t&&(t=yield this.utilService.openPGPEncrypt(t,l)),u&&(u=yield this.utilService.openPGPEncrypt(u,l)),e.install_user=t,e.install_pass=u,e.install_apikey?e.install_apikey.startsWith("-")||(e.install_apikey=yield this.utilService.openPGPEncrypt(e.install_apikey,l)):e.install_apikey=null}}this.loadingData=!0,this.utilService.fwcAPICall(n,i,u,o).then(l=>{if(t._fwcObjType=Cn.E.OBJ_CLUSTER,t.container=Cn.O.C_FIREWALLS,t._fwcTreeAction=Cn.N.NEW_ITEM,null==this.cluster.id){let n=l.data.insertId;t.id=t.id_obj=t._fwcObjId=n,this.processInterfacesOperations(n,l.data).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:e})}).catch(l=>{this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_CREATING_IFS"),message:l.message,accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}).finally(()=>{this.itemSelectedService.setModifiedItem(t),this.hideDialog(),this.resetProperties(),this.loadingData=!1})}else this.updateNodesAsync().then(l=>{t.id=t.id_obj=t._fwcObjId=this.cluster.id,t._fwcTreeAction=Cn.N.NEW_ITEM,t.container=Cn.O.C_FIREWALLS,this.processInterfacesOperations(t.id).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:e})}).catch(l=>{this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_CREATING_IFS"),message:l.message,accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}).finally(()=>{this.itemSelectedService.setModifiedItem(t);let l=this.fwcPolicyService.getActualSelectedPolicy();null!=l._fwcFwId&&(l._fwcClusterId==t.id&&(l._fwcFwName=t.name,l._dontLocateInTree=!0),this.fwcPolicyService.setSelectedPolicy(l),this.fwcPolicyService.reloadPolicy()),this.hideDialog(),this.resetProperties(),this.loadingData=!1})},l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("CLUSTER.MSG_CLUSTER_UPDATE_ERR"),detail:l}),this.loadingData=!1})}).catch(l=>{400==l.status&&8002==l.error.fwcErr||400==l.status&&8003==l.error.fwcErr?(this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+l.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}),this.loadingData=!1):(this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}))})}))}processInterfacesOperations(l,n){return new Promise((e,t)=>Object(Xl.b)(this,void 0,void 0,(function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let i=this.fwcInterfacesEditor.getSelectedTreeNodes();n&&n.loData&&this.fwcInterfacesEditor.setNewLoIds(n);let u,[o,a]=yield Promise.all([this.utilService.fwcAPICall(this.fwcFirewallService.getCluster.bind(this.fwcFirewallService),l,this.fwcUserService.getActualFwSelectedCloud()),this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())]),s=o.data;if(s&&Array.isArray(s.nodes)&&(u=s.nodes),!u||!u.length)return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_EMPTY_CLUSTER")));let r,c=this.formModel.get("fwnodes").value;const d=this.fwcUserService.getActualFwcUser().publicKey;for(let l=0;l<u.length;l++){let n=u[l],e=c.find(l=>l.name===n.name);if(!e)return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_NODE")));{n.firewallUUID=e.firewallUUID;let l=e.install_user,t=e.install_pass,i=e.install_apikey;l&&(n.install_user=yield this.utilService.openPGPEncrypt(l,d)),t&&(n.install_pass=yield this.utilService.openPGPEncrypt(t,d)),i&&(n.install_apikey=i.startsWith("-")?i:yield this.utilService.openPGPEncrypt(i,d))}n.fwmaster&&(r=n.id),n.plugins=this.formModel.controls.plugins.value}let p=[];p.push(a.data);let f=this.fwcObjectTreeService.getNodesFull(p,Cn.B.OBJ_CLUSTER,l);if(!f||!Array.isArray(f.items))return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_CLUSTER_NODE")));{let l=f.items.find(l=>l.node_type===Cn.B.FOLDER_INTERFACES);if(!l)return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_NO_IFS_NODE")));{let n={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:f.text,type:Cn.E.OBJ_FIREWALL,id:r,id_node:l.id},objectTreeNodes:i,onClose:l=>Object(Xl.b)(this,void 0,void 0,(function*(){let n=!1,i=new Map;if(l.forEach(l=>{if(l.operationStatus===Cn.r.SUCCESS&&l.operationResult&&l.object.installFirewallUUIDs){let n;l.object.type===Cn.E.OBJ_INTERFACE_FIREWALL?n={install_interface:l.operationResult.insertId}:l.object.type===Cn.E.OBJ_ADDRESS&&(n={install_ipobj:l.operationResult.insertId}),l.object.installFirewallUUIDs&&l.object.installFirewallUUIDs.forEach(l=>{let e=i.get(l);n=Object.assign({},e,n),i.set(l,n)})}l.operationStatus===Cn.r.ERROR&&(n=!0)}),n)return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_IFS_OPERATIONS")));{let l;if(i.size)for(let[n,e]of i){let i=u.find(l=>l.firewallUUID===n);if(!i)return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST_MISSING")));l=new Ki.a(i),l.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),l.firewall=i.id,l.install_interface=e.install_interface,l.install_ipobj=e.install_ipobj;try{let n=l.getValue();yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),n)}catch(o){return t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST",{name:i.name})))}}}e()}))};this.appDialogPanelsService.searchAndShowDialog({uuid:Cn.k.ITEM_BATCH_MANAGER,data:n})}}}else e()}catch(i){t(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UNKNOWN")))}})))}updateOrSaveNode(l){let n,e="";return new Promise((t,i)=>{let u,o=Object.assign({},l);o.options=this.formModel.controls.options.value,o.plugins=this.formModel.controls.plugins.value,null==l.id?(o.node_id=this.cluster.nodesParentId,n=this.translate.instant("CLUSTER.MSG_CLUSTER_NODES.CN_0"),u=this.fwcFirewallService.newFirewall.bind(this.fwcFirewallService)):(o.firewall=o.id,delete o.id,n=this.translate.instant("CLUSTER.MSG_CLUSTER_NODES.CN_1"),u=this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService)),o.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),o.install_interface=+o.install_interface||o.install_interface,o.install_ipobj=+o.install_ipobj||o.install_ipobj,delete o.firewallUUID,delete o.installInterfaceUUID,delete o.installIpObjUUID,"ssh"===o.install_communication?(o.install_protocol=null,o.install_apikey=null):(delete o.install_user,delete o.install_pass),this.utilService.fwcAPICall(u,o).then(n=>{e=this.translate.instant("CLUSTER.MSG_CLUSTER_NODES.CN_3",{name:l.name}),n.response=e,t(n)}).catch(t=>{if(400==t.status&&8003==t.error.fwcErr)this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+t.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}),this.loadingData=!1;else{let u="";u=this.fwcErrorPipe.transform(t),e=this.translate.instant("CLUSTER.MSG_CLUSTER_NODES.CN_2",{action:n,name:l.name,err_code:"",err_msg:u}),t.error=u,i(t)}})})}updateNodesAsync(){return new Promise((l,n)=>Object(Xl.b)(this,void 0,void 0,(function*(){let e={opResult:!0,opResults:[]},t=this.formModel.get("fwnodes");const i=this.fwcUserService.getActualFwcUser().publicKey;for(let l=0;l<t.length;l++){let u=t.at(l);if(u.touched){let l=u.value,t=u.get("install_user").value,o=u.get("install_pass").value,a=u.get("install_apikey").value;t&&(l.install_user=yield this.utilService.openPGPEncrypt(t,i)),o&&(l.install_pass=yield this.utilService.openPGPEncrypt(o,i)),a&&(l.install_apikey=a.startsWith("-")?a:yield this.utilService.openPGPEncrypt(a,i)),yield this.updateOrSaveNode(l).then(l=>{e.opResults.push(l)},l=>(e.opResult=!1,e.opResults.push(l),n(e)))}}l(e)})))}onDeleteCluster(){this.okToDelete&&this.clusterToDelete&&(this.loadingData=!0,this.deleteMsgError=null,this.delMessage={type:"loading",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DELETING_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DELETING_TEXT")},this.utilService.fwcAPICall(this.fwcFirewallService.deleteCluster.bind(this.fwcFirewallService),this.clusterToDelete.id_obj,this.fwcUserService.getActualFwSelectedCloud()).then(l=>{let n=this.clusterToDelete,e=this.fwcPolicyService.getActualSelectedPolicy();this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.DEL_4")}),n._fwcTreeAction=Cn.N.DELETE_ITEM,this.itemSelectedService.setModifiedItem(n),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Cn.N.RELOAD_TREE,containerToReload:Cn.O.C_OBJECTS}),e&&e._fwcClusterId==this.clusterToDelete.id_obj&&this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),this.loadingData=!1,this.hideDialog(),this.resetProperties()}).catch(l=>{this.deleteMsgError={type:"error",title:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_HEAD"),text:this.translate.instant("CLUSTER.MSG_CLUSTER_DELETE.ERROR_RES_TEXT",{error:this.fwcErrorPipe.transform(l)})},this.dependencies={restrictionsError:!0},this.loadingData=!1}))}setNode(l){let n=l.split(",");""!=n[0]?this.fwcFirewallService.getFirewall(+n[0],this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{this.nodeNGFW=l.data}):this.nodeNGFW=this.getFormNodes().value.find(l=>l.name===n[1])}checksNtopNGActive(){return!!(this.cluster.plugins&qo.get(Yo.ntopng))}checksNodeNtopNGConfig(){const l=this.formModel.controls.fwnodes.value;if(this.nodeNGFW&&l.find(l=>l.name===this.nodeNGFW.name)){const n=l.find(l=>l.name===this.nodeNGFW.name);if(this.nodeNGFW=n,n.install_ipobj)return n.install_ipobj&&!!(this.nodeNGFW.plugins&qo.get(Yo.ntopng));if(this.discoveredInstallOptions.get(n.firewallUUID))return this.checksNtopNGActive()}const n=this.nodeNGFW?this.nodeNGFW.firewallUUID:l[0]?l[0].firewallUUID:void 0;return!(!n||!this.discoveredInstallOptions.get(n))&&(this.nodeNGFW=l.find(l=>l.firewallUUID===n),this.checksNtopNGActive())}checksWebSafetyProxyActie(){return!!(this.cluster.plugins&qo.get(Yo.websafety))}checksNodeWebSafetyProxyActie(){const l=this.formModel.controls.fwnodes.value;if(this.nodeNGFW&&l.find(l=>l.name===this.nodeNGFW.name)){const n=l.find(l=>l.name===this.nodeNGFW.name);if(this.nodeNGFW=n,n.install_ipobj)return n.install_ipobj&&!!(this.nodeNGFW.plugins&qo.get(Yo.websafety));if(this.discoveredInstallOptions.get(n.firewallUUID))return this.checksWebSafetyProxyActie()}const n=this.nodeNGFW?this.nodeNGFW.firewallUUID:l[0]?l[0].firewallUUID:void 0;return!(!n||!this.discoveredInstallOptions.get(n))&&(this.nodeNGFW=l.find(l=>l.firewallUUID===n),this.checksWebSafetyProxyActie())}checksDNSSafetyActive(){return!!(this.cluster.plugins&qo.get(Yo.dnssafety))}checksNodeDNSSafetyActive(){const l=this.formModel.controls.fwnodes.value;if(this.nodeNGFW&&l.find(l=>l.name===this.nodeNGFW.name)){const n=l.find(l=>l.name===this.nodeNGFW.name);if(this.nodeNGFW=n,n.install_ipobj)return n.install_ipobj&&!!(this.nodeNGFW.plugins&qo.get(Yo.dnssafety));if(this.discoveredInstallOptions.get(n.firewallUUID))return this.checksDNSSafetyActive()}const n=this.nodeNGFW?this.nodeNGFW.firewallUUID:l[0]?l[0].firewallUUID:void 0;return!(!n||!this.discoveredInstallOptions.get(n))&&(this.nodeNGFW=l.find(l=>l.firewallUUID===n),this.checksDNSSafetyActive())}checksElasticSearchActive(){return!!(this.cluster.plugins&qo.get(Yo.elasticsearch))}checksNodeElasticSearchActive(){const l=this.formModel.controls.fwnodes.value;if(this.nodeNGFW&&l.find(l=>l.name===this.nodeNGFW.name)){const n=l.find(l=>l.name===this.nodeNGFW.name);if(this.nodeNGFW=n,n.install_ipobj)return n.install_ipobj&&!!(this.nodeNGFW.plugins&qo.get(Yo.elasticsearch));if(this.discoveredInstallOptions.get(n.firewallUUID))return this.checksElasticSearchActive()}const n=this.nodeNGFW?this.nodeNGFW.firewallUUID:l[0]?l[0].firewallUUID:void 0;return!(!n||!this.discoveredInstallOptions.get(n))&&(this.nodeNGFW=l.find(l=>l.firewallUUID===n),this.checksElasticSearchActive())}onClickButtonNGFW(l,n){let e,t=this.discoveredInstallOptions.get(this.getFormNodes().value.find(l=>l.name===this.nodeNGFW.name).firewallUUID)?this.discoveredInstallOptions.get(this.getFormNodes().value.find(l=>l.name===this.nodeNGFW.name).firewallUUID).ipobj.address:this.interfacesIpObjs.get(this.getFormNodes().value.find(l=>l.name===this.nodeNGFW.name).firewallUUID).filter(l=>l.id==this.getFormNodes().value.find(l=>l.name===this.nodeNGFW.name).install_ipobj)[0].address;switch(l){case"NTOPNG":e="http://"+t+":3000";break;case"WEBSAFETYPROXY":e="https://"+t+":8095";break;case"DNSSAFETY":e="https://"+t+":8096";break;case"ELASTICSEARCH":e="http://"+t+":5601"}try{window.open(e)}catch(i){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(i)})}}onCloseDialog(){this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null,this.loadingData=!1,this.loadingCommunication=!1)}}var zo=t["\u0275crt"]({encapsulation:2,styles:[[".fwcGridVertPadding{padding-top:.3em!important;padding-bottom:.3em!important}textarea{resize:none}.btnEye .ui-button-text{width:1.6em!important}.divLabelRight{float:right}.selNoMargin{margin:0!important}"]],data:{}});function Zo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Qo(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](6,null,["",""]))],null,(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("CLUSTER.MSG_CLUSTER_EDITION.EDIT"))),l(n,6,0,null==e.cluster?null:e.cluster.name)}))}function la(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("CLUSTER.MSG_CLUSTER_EDITION.NEW")))}))}function na(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Zo)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["editClusterHeader",2]],null,0,null,Qo)),(l()(),t["\u0275and"](0,[["newClusterHeader",2]],null,0,null,la))],(function(l,n){var e=n.component;l(n,2,0,null==e.cluster?null:e.cluster.id,t["\u0275nov"](n,3),t["\u0275nov"](n,4))}),null)}function ea(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","divFormHeader"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,5,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,0,"i",[["class","fwcMenuIcon fwci-delete fwcOrange"]],null,null,null,null,null)),(l()(),t["\u0275ted"](4,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t["\u0275ted"](7,null,["",""]))],null,(function(l,n){var e=n.component;l(n,4,0,t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("CLUSTER.MSG_CLUSTER_EDITION.DELETE"))),l(n,7,0,e.clusterToDelete._fwcObjName)}))}function ta(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"button",[["class","ui-button-primary"],["icon","fa fa-question"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showHelp()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){l(n,1,0,"fa fa-question")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function ia(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{ngValue:[0,"ngValue"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{ngValue:[0,"ngValue"]},null),(l()(),t["\u0275ted"](3,null,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function ua(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","fwc-error"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")))}))}function oa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,35,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,20,"div",[["class","ui-g-1"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,19,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,18,"select",[["class","selNoMargin"],["formControlName","install_protocol"],["name","install_protocol"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0;return"change"===n&&(i=!1!==t["\u0275nov"](l,4).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,4).onTouched()&&i),"change"===n&&(i=i),i}),null,null)),t["\u0275did"](4,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](6,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](9,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](10,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](11,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](12,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](14,0,null,null,3,"option",[["value","https"]],null,null,null,null,null)),t["\u0275did"](15,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](16,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["HTTPS"])),(l()(),t["\u0275eld"](18,0,null,null,3,"option",[["value","http"]],null,null,null,null,null)),t["\u0275did"](19,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](20,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](-1,null,["HTTP"])),(l()(),t["\u0275eld"](22,0,null,null,13,"div",[["class","ui-g-3"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,9,"input",[["formControlName","install_apikey"],["maxlength","64"],["name","install_apikey"],["pPassword",""]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"keyup"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,25)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,25)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,32).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,32).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,32).onBlur(e)&&i),"keyup"===n&&(i=!1!==t["\u0275nov"](l,32).onKeyup(e)&&i),i}),null,null)),t["\u0275did"](25,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](26,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](29,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](31,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](32,409600,null,0,Bi.Password,[t.ElementRef,t.NgZone],{feedback:[0,"feedback"],showPassword:[1,"showPassword"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](34,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-eye"],["pButton",""],["type","button"]],null,[[null,"mousedown"],[null,"mouseup"],[null,"mouseout"]],(function(l,n,e){var t=!0,i=l.component;return"mousedown"===n&&(t=0!=(i.displayApiKey[l.parent.context.index]=!0)&&t),"mouseup"===n&&(t=0!=(i.displayApiKey[l.parent.context.index]=!1)&&t),"mouseout"===n&&(t=0!=(i.displayApiKey[l.parent.context.index]=!1)&&t),t}),null,null)),t["\u0275did"](35,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component;l(n,6,0,"install_protocol"),l(n,10,0,null),l(n,11,0,null),l(n,15,0,"https"),l(n,16,0,"https"),l(n,19,0,"http"),l(n,20,0,"http"),l(n,26,0,"64"),l(n,29,0,"install_apikey"),l(n,32,0,!1,e.displayApiKey[n.parent.context.index]),l(n,35,0,"fa fa-eye")}),(function(l,n){l(n,3,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("FW.MSG_FW_EDITION.AGENT_PROTOCOL"))),l(n,24,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,24,0,t["\u0275nov"](n,33).transform("FW.MSG_FW_EDITION.AGENT_APIKEY")),""),t["\u0275nov"](n,26).maxlength?t["\u0275nov"](n,26).maxlength:null,t["\u0275nov"](n,31).ngClassUntouched,t["\u0275nov"](n,31).ngClassTouched,t["\u0275nov"](n,31).ngClassPristine,t["\u0275nov"](n,31).ngClassDirty,t["\u0275nov"](n,31).ngClassValid,t["\u0275nov"](n,31).ngClassInvalid,t["\u0275nov"](n,31).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,32).filled])}))}function aa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"p",[["class","fwc-error"]],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("ITEM_PANEL.ERRORS.FIELD_USERNAME")))}))}function sa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,16,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](3,2),t["\u0275pad"](4,2),(l()(),t["\u0275eld"](5,0,null,null,9,"input",[["formControlName","install_user"],["maxlength","32"],["pInputText",""],["type","text"]],[[8,"id",0],[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,6)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,6).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,6)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,13).onInput(e)&&i),i}),null,null)),t["\u0275did"](6,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](7,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](10,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](12,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](13,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,aa)),t["\u0275did"](16,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](17,0,null,null,21,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](19,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](20,2),t["\u0275pad"](21,2),(l()(),t["\u0275eld"](22,0,null,null,16,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,13,"input",[["formControlName","install_pass"],["maxlength","64"],["pPassword",""]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"],[null,"keyup"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,24)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,24).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,24)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,24)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,31).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,31).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,31).onBlur(e)&&i),"keyup"===n&&(i=!1!==t["\u0275nov"](l,31).onKeyup(e)&&i),i}),null,null)),t["\u0275did"](24,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](25,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](28,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](30,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](31,409600,null,0,Bi.Password,[t.ElementRef,t.NgZone],{promptLabel:[0,"promptLabel"],weakLabel:[1,"weakLabel"],mediumLabel:[2,"mediumLabel"],strongLabel:[3,"strongLabel"],showPassword:[4,"showPassword"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](37,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-eye"],["pButton",""],["type","button"]],null,[[null,"mousedown"],[null,"mouseup"],[null,"mouseout"]],(function(l,n,e){var t=!0,i=l.component;return"mousedown"===n&&(t=0!=(i.displaySSH[l.parent.context.index]=!0)&&t),"mouseup"===n&&(t=0!=(i.displaySSH[l.parent.context.index]=!1)&&t),"mouseout"===n&&(t=0!=(i.displaySSH[l.parent.context.index]=!1)&&t),t}),null,null)),t["\u0275did"](38,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component,i=null!=e.interfaces&&e.interfaces.length||e.discoveredInstallOptions.has(n.parent.context.$implicit.get("firewallUUID").value)?l(n,3,0,"ui-g-6","ui-lg-2"):l(n,4,0,"ui-g-4","ui-lg-3");l(n,2,0,i),l(n,7,0,"32"),l(n,10,0,"install_user"),l(n,13,0);var u=!n.parent.context.$implicit.get("install_user").valid&&!n.parent.context.$implicit.get("install_user").pristine;l(n,16,0,u);var o=null!=e.interfaces&&e.interfaces.length||e.discoveredInstallOptions.has(n.parent.context.$implicit.get("firewallUUID").value)?l(n,20,0,"ui-g-6","ui-lg-2"):l(n,21,0,"ui-g-4","ui-lg-3");l(n,19,0,o),l(n,25,0,"64"),l(n,28,0,"install_pass"),l(n,31,0,t["\u0275unv"](n,31,0,t["\u0275nov"](n,32).transform("GLOBALS.MSG_PASSWORD.PASS")),t["\u0275unv"](n,31,1,t["\u0275nov"](n,33).transform("GLOBALS.MSG_PASSWORD.WEAK")),t["\u0275unv"](n,31,2,t["\u0275nov"](n,34).transform("GLOBALS.MSG_PASSWORD.NORMAL")),t["\u0275unv"](n,31,3,t["\u0275nov"](n,35).transform("GLOBALS.MSG_PASSWORD.SAFE")),e.displaySSH[n.parent.context.index]),l(n,38,0,"fa fa-eye")}),(function(l,n){l(n,5,1,[t["\u0275inlineInterpolate"](1,"fwSSHUser",n.parent.context.index,""),t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,5,1,t["\u0275nov"](n,14).transform("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")),""),t["\u0275nov"](n,7).maxlength?t["\u0275nov"](n,7).maxlength:null,t["\u0275nov"](n,12).ngClassUntouched,t["\u0275nov"](n,12).ngClassTouched,t["\u0275nov"](n,12).ngClassPristine,t["\u0275nov"](n,12).ngClassDirty,t["\u0275nov"](n,12).ngClassValid,t["\u0275nov"](n,12).ngClassInvalid,t["\u0275nov"](n,12).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,13).filled]),l(n,23,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,23,0,t["\u0275nov"](n,36).transform("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")),""),t["\u0275nov"](n,25).maxlength?t["\u0275nov"](n,25).maxlength:null,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,31).filled])}))}function ra(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ca(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-4 ui-lg-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,3,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](3,0,null,null,2,"i",[["class","fa fa-lg fa-info-circle fwcBlue"],["style","margin-top: 0.9rem"]],null,null,null,null,null)),t["\u0275did"](4,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{text:[0,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,7).onInput(e)&&i),i}),null,null)),t["\u0275did"](7,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](8,0,null,null,3,"div",[["class","ui-g-4 ui-lg-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,2,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,11).onInput(e)&&i),i}),null,null)),t["\u0275did"](11,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null)],(function(l,n){l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("FW.MSG_FW_EDITION.TOOLTIP_NEW_INSTALL")),"")),l(n,7,0),l(n,11,0)}),(function(l,n){var e=n.component,i=t["\u0275inlineInterpolate"](1,"",null==e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).interface?null:e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).interface.name,"");l(n,6,0,i,!0,!0,!0,!0,t["\u0275nov"](n,7).filled);var u=t["\u0275inlineInterpolate"](1,"",(null==e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).ipobj?null:e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).ipobj.address)+" ("+(null==e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).ipobj?null:e.discoveredInstallOptions.get(n.parent.context.$implicit.get("firewallUUID").value).ipobj.name)+")","");l(n,10,0,u,!0,!0,!0,!0,t["\u0275nov"](n,11).filled)}))}function da(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" "," - "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id)}),(function(l,n){l(n,3,0,n.context.$implicit.id,n.context.$implicit.name)}))}function pa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","ui-g-4 ui-lg-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"select",[["class","selNoMargin"],["formControlName","install_interface"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"change"===n&&(i=!1!==u.onInterfaceChange(l.parent.parent.context.index,e.target.value)&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](6,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](10,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,da)),t["\u0275did"](13,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"install_interface"),l(n,8,0,null),l(n,9,0,null),l(n,13,0,e.interfaces)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")))}))}function fa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["(",")"]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.address)}))}function ga(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](1,null,["(",")"])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],null,(function(l,n){l(n,1,0,t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("CLUSTER.MSG_CLUSTER_EDITION.NO_IP")))}))}function ha(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](2,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](3,null,[" ","\xa0 "])),(l()(),t["\u0275and"](16777216,null,null,1,null,fa)),t["\u0275did"](5,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ga)),t["\u0275did"](7,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.context.$implicit.id),l(n,2,0,n.context.$implicit.id),l(n,5,0,n.context.$implicit.address),l(n,7,0,!n.context.$implicit.address)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function ma(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,13,"div",[["class","ui-g-4 ui-lg-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,12,"select",[["class","selNoMargin"],["formControlName","install_ipobj"]],[[8,"name",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"change"===n&&(i=!1!==u.onChangeInstallData(l.parent.parent.context.index)&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](4,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](6,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](7,0,null,null,4,"option",[["disabled",""]],null,null,null,null,null)),t["\u0275did"](8,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[2,k.SelectControlValueAccessor]],{value:[0,"value"]},null),t["\u0275did"](9,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),t["\u0275ted"](10,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,ha)),t["\u0275did"](13,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,4,0,"install_ipobj"),l(n,8,0,null),l(n,9,0,null);var t=e.interfacesIpObjs.get(n.parent.parent.context.$implicit.get("firewallUUID").value);l(n,13,0,t)}),(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"fwIP",n.parent.parent.context.index,""),t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,10,0,t["\u0275unv"](n,10,0,t["\u0275nov"](n,11).transform("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS")))}))}function va(l){return t["\u0275vid"](0,[(l()(),t["\u0275and"](16777216,null,null,1,null,pa)),t["\u0275did"](1,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ma)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.interfaces.length),l(n,3,0,e.interfaces.length)}),null)}function Ca(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"input",[["formControlName","install_port"],["min","1"],["pInputText",""],["style","min-width: 1rem !important"],["type","number"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,1)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,1).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,1)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,1)._compositionEnd(e.target.value)&&i),"change"===n&&(i=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,2).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,2).onTouched()&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,7).onInput(e)&&i),i}),null,null)),t["\u0275did"](1,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](2,16384,null,0,k.NumberValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l,n){return[l,n]}),[k.DefaultValueAccessor,k.NumberValueAccessor]),t["\u0275did"](4,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](6,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](7,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,4,0,"install_port"),l(n,7,0)}),(function(l,n){l(n,0,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,0,0,t["\u0275nov"](n,8).transform("CLUSTER.MSG_CLUSTER_EDITION.PORT")),""),t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,7).filled])}))}function Sa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-plug"],["pButton",""],["showDelay","500"],["tooltipPosition","bottom"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onTestFwcAgentCommunication(l.parent.context.$implicit)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](2,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,"fa fa-plug"),l(n,2,0,"bottom","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("FW.MSG_FW_EDITION.AGENT_TEST_LONG")),""))}),(function(l,n){var e=n.component,t=e.loadingData||n.parent.context.$implicit.get("install_protocol").invalid||n.parent.context.$implicit.get("install_apikey").invalid||n.parent.context.$implicit.get("install_port").invalid||!e.NodeHaveDiscoveredIp(n.parent.context.$implicit);l(n,0,0,t)}))}function _a(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-info-circle"],["pButton",""],["showDelay","500"],["tooltipPosition","bottom"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.showClusterInfo(l.parent.context.$implicit)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](2,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,"fa fa-info-circle"),l(n,2,0,"bottom","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("FW.FW_MORE_INFO.AGENT_TOOLTIP")),""))}),(function(l,n){var e=n.component,t=e.loadingData||n.parent.context.$implicit.get("install_protocol").invalid||n.parent.context.$implicit.get("install_apikey").invalid||n.parent.context.$implicit.get("install_port").invalid||!e.NodeHaveDiscoveredIp(n.parent.context.$implicit);l(n,0,0,t)}))}function Ra(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","ui-button-danger fwcButtonHeight"],["icon","pi pi-minus"],["pButton",""],["showDelay","500"],["tooltipPosition","bottom"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.nodeRemove(l.parent.context.index)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](2,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,"pi pi-minus"),l(n,2,0,"bottom","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_DELETE")),""))}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function wa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-plus"],["pButton",""],["showDelay","500"],["tooltipPosition","bottom"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.nodeAdd(l.parent.context.index)&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](2,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,"fa fa-plus"),l(n,2,0,"bottom","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_ADD")),""))}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Ea(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,56,"div",[["class","ui-g-12 ui-g-nopad"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{"background-color":0}),t["\u0275did"](4,212992,null,0,k.FormGroupName,[[3,k.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.FormGroupName]),t["\u0275did"](6,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](7,0,null,null,22,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](9,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](10,2),t["\u0275pad"](11,2),(l()(),t["\u0275eld"](12,0,null,null,15,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,4,"button",[["class","ui-button-primary fwcButtonHeight"],["pButton",""],["showDelay","500"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onClusterNodeInstallCommChange(l.context.$implicit)&&t),t}),null,null)),t["\u0275did"](14,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](15,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,[[5,0],["nodeInput",1]],null,9,"input",[["formControlName","name"],["maxlength","64"],["pInputText",""],["type","text"]],[[8,"id",0],[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,19)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,19).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,19)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,19)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,26).onInput(e)&&i),"change"===n&&(i=!1!==u.onClusterNodeNameChange(l.context.$implicit)&&i),i}),null,null)),t["\u0275did"](19,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](20,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](23,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](25,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](26,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,ua)),t["\u0275did"](29,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,oa)),t["\u0275did"](31,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["sshNode",2]],null,0,null,sa)),(l()(),t["\u0275and"](16777216,null,null,1,null,ra)),t["\u0275did"](34,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["showNewInstallAddress",2]],null,0,null,ca)),(l()(),t["\u0275and"](0,[["showExistingInterfaces",2]],null,0,null,va)),(l()(),t["\u0275eld"](37,0,null,null,19,"div",[],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](39,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),t["\u0275pad"](40,2),t["\u0275pad"](41,2),(l()(),t["\u0275eld"](42,0,null,null,14,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ca)),t["\u0275did"](44,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Sa)),t["\u0275did"](46,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,_a)),t["\u0275did"](48,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ra)),t["\u0275did"](50,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,wa)),t["\u0275did"](52,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](53,0,null,null,3,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-search-plus"],["pButton",""],["showDelay","500"],["tooltipPosition","bottom"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.nodeAutoDiscoverInterfaces(l.context.index)&&t),t}),null,null)),t["\u0275did"](54,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),t["\u0275did"](55,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component,i=l(n,3,0,n.context.index?"":"aliceblue");l(n,2,0,i),l(n,4,0,n.context.index);var u=null!=e.interfaces&&e.interfaces.length||e.discoveredInstallOptions.has(n.context.$implicit.get("firewallUUID").value)?l(n,10,0,"ui-g-12","ui-lg-2"):l(n,11,0,"ui-g-12","ui-lg-3");l(n,9,0,u);var o="agent"===n.context.$implicit.get("install_communication").value?"fa fa-user-secret":"fa fa-terminal";l(n,14,0,o);var a="agent"===n.context.$implicit.get("install_communication").value?t["\u0275unv"](n,15,2,t["\u0275nov"](n,16).transform("CLUSTER.MSG_CLUSTER_EDITION.COMM_FWCAGENT")):t["\u0275unv"](n,15,2,t["\u0275nov"](n,17).transform("CLUSTER.MSG_CLUSTER_EDITION.COMM_SSH"));l(n,15,0,"top","500",a),l(n,20,0,"64"),l(n,23,0,"name"),l(n,26,0);var s=!n.context.$implicit.get("name").valid&&!n.context.$implicit.get("name").pristine;l(n,29,0,s);var r="agent"===n.context.$implicit.get("install_communication").value;l(n,31,0,r,t["\u0275nov"](n,32));var c=e.discoveredInstallOptions.has(n.context.$implicit.get("firewallUUID").value);l(n,34,0,c,t["\u0275nov"](n,35),t["\u0275nov"](n,36));var d=null!=e.interfaces&&e.interfaces.length||e.discoveredInstallOptions.has(n.context.$implicit.get("firewallUUID").value)?l(n,40,0,"ui-g-4","ui-lg-2"):l(n,41,0,"ui-g-4","ui-lg-3");l(n,39,0,d);var p=e.interfaces.length||n.context.$implicit.get("install_port");l(n,44,0,p);var f,g="agent"===(null==(f=n.context.$implicit.get("install_communication"))?null:f.value);l(n,46,0,g);var h,m="agent"===(null==(h=n.context.$implicit.get("install_communication"))?null:h.value);l(n,48,0,m);var v=null,C=(null==(v=n.context.$implicit.get("id"))?null:v.value)&&e.getNumberOfExistingNodes()>1||!(null!=(v=n.context.$implicit.get("id"))&&v.value)&&e.getFormNodes().controls.length>1;l(n,50,0,C),l(n,52,0,n.context.index+1==e.getFormNodes().controls.length),l(n,54,0,"fa fa-search-plus"),l(n,55,0,"bottom","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,55,2,t["\u0275nov"](n,56).transform("CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_DISCOVER")),""))}),(function(l,n){var e=n.component;l(n,0,0,t["\u0275nov"](n,6).ngClassUntouched,t["\u0275nov"](n,6).ngClassTouched,t["\u0275nov"](n,6).ngClassPristine,t["\u0275nov"](n,6).ngClassDirty,t["\u0275nov"](n,6).ngClassValid,t["\u0275nov"](n,6).ngClassInvalid,t["\u0275nov"](n,6).ngClassPending),l(n,13,0,e.loadingData),l(n,18,1,[t["\u0275inlineInterpolate"](1,"fwName",n.context.index,""),t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,18,1,t["\u0275nov"](n,27).transform("CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME")),""),t["\u0275nov"](n,20).maxlength?t["\u0275nov"](n,20).maxlength:null,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,26).filled]),l(n,53,0,e.loadingData)}))}function Ia(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](3,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),t["\u0275pod"](4,{type:0,title:1,text:2})],(function(l,n){var e=n.component,t=l(n,4,0,"error",e.translate.instant("PLUGINS.TITLE"),e.translate.instant("PLUGINS.ERRORS.COMMUNICATION.TEXT"));l(n,3,0,t)}),null)}function ba(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,246,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](5,0,null,null,120,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.openvpn=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](9,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](11,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](12,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](14,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](16,0,null,null,1,"a",[["href","https://www.openvpn.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"img",[["height","20"],["src","assets/img/openvpn.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](18,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](19,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](21,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.keepalived=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](24,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](26,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](27,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](29,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](31,0,null,null,1,"a",[["href","https://github.com/acassen/keepalived"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](32,0,null,null,0,"img",[["height","20"],["src","assets/img/keepalived.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](34,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](36,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](37,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](38,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.geoip=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](39,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](41,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](42,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](44,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](46,0,null,null,1,"a",[["href","https://ipgeolocation.io/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](47,0,null,null,0,"img",[["height","20"],["src","assets/img/geoip.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](48,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](49,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](51,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](52,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.crowdsec=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](54,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](56,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](57,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](59,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](61,0,null,null,1,"a",[["href","https://crowdsec.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](62,0,null,null,0,"img",[["height","20"],["src","assets/img/crowdsec.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](64,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](66,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](67,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](68,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.ntopng=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](69,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](71,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](72,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](74,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](76,0,null,null,1,"a",[["href","https://www.ntop.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](77,0,null,null,0,"img",[["height","20"],["src","assets/img/ntopng.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](78,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](79,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](81,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](82,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](83,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.websafety=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](84,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](86,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](87,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](89,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](91,0,null,null,1,"a",[["href","https://www.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](92,0,null,null,0,"img",[["height","20"],["src","assets/img/websafety.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](93,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](94,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](96,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](97,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](98,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.dnssafety=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](99,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](101,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](102,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](104,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](106,0,null,null,1,"a",[["href","https://dnssafety.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](107,0,null,null,0,"img",[["height","20"],["src","assets/img/dnssafety.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](108,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](109,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](111,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](112,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](113,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.iscbind9=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](114,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](116,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](117,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](119,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](121,0,null,null,1,"a",[["href","https://www.isc.org/bind/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](122,0,null,null,0,"img",[["height","20"],["src","assets/img/isc-bind9.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](123,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](124,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](126,0,null,null,120,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](127,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](128,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](129,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.suricata=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](130,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](132,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](133,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](135,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](137,0,null,null,1,"a",[["href","https://suricata.io/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](138,0,null,null,0,"img",[["height","20"],["src","assets/img/suricata.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](139,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](140,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](142,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](143,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](144,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.zeek=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](145,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](147,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](148,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](150,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](152,0,null,null,1,"a",[["href","https://zeek.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](153,0,null,null,0,"img",[["height","20"],["src","assets/img/zeek.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](154,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](155,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](157,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](158,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](159,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.elasticsearch=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](160,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](162,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](163,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](165,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](167,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/elasticsearch"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](168,0,null,null,0,"img",[["height","20"],["src","assets/img/elasticsearch.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](169,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](170,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](172,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](173,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](174,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.kibana=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](175,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](177,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](178,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](180,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](182,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/kibana"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](183,0,null,null,0,"img",[["height","20"],["src","assets/img/kibana.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](184,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](185,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](187,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](188,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](189,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.logstash=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](190,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](192,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](193,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](195,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](197,0,null,null,1,"a",[["href","https://www.elastic.co/logstash/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](198,0,null,null,0,"img",[["height","20"],["src","assets/img/logstash.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](199,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](200,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](202,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](203,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](204,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.filebeat=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](205,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](207,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](208,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](210,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](212,0,null,null,1,"a",[["href","https://www.elastic.co/beats/filebeat"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](213,0,null,null,0,"img",[["height","20"],["src","assets/img/filebeat.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](214,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](215,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](217,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](218,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](219,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.iscdhcp=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](220,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](222,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](223,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](225,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](227,0,null,null,1,"a",[["href","https://www.isc.org/dhcp/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](228,0,null,null,0,"img",[["height","20"],["src","assets/img/isc-dhcp.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](229,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](230,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](232,0,null,null,14,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](233,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](234,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsPlugins.haproxy=e)&&t),"onChange"===n&&(t=!1!==i.onChangePlugins()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](235,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](237,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](238,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](240,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](242,0,null,null,1,"a",[["href","https://www.haproxy.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](243,0,null,null,0,"img",[["height","20"],["src","assets/img/ha-proxy.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275eld"](244,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](245,null,["\xa0\xa0",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){var e=n.component;l(n,9,0,!0);var t=e.optionsPlugins.openvpn,i=l(n,12,0,!0);l(n,11,0,t,i),l(n,24,0,!0);var u=e.optionsPlugins.keepalived,o=l(n,27,0,!0);l(n,26,0,u,o),l(n,39,0,!0);var a=e.optionsPlugins.geoip,s=l(n,42,0,!0);l(n,41,0,a,s),l(n,54,0,!0);var r=e.optionsPlugins.crowdsec,c=l(n,57,0,!0);l(n,56,0,r,c),l(n,69,0,!0);var d=e.optionsPlugins.ntopng,p=l(n,72,0,!0);l(n,71,0,d,p),l(n,84,0,!0);var f=e.optionsPlugins.websafety,g=l(n,87,0,!0);l(n,86,0,f,g),l(n,99,0,!0);var h=e.optionsPlugins.dnssafety,m=l(n,102,0,!0);l(n,101,0,h,m),l(n,114,0,!0);var v=e.optionsPlugins.iscbind9,C=l(n,117,0,!0);l(n,116,0,v,C),l(n,130,0,!0);var S=e.optionsPlugins.suricata,_=l(n,133,0,!0);l(n,132,0,S,_),l(n,145,0,!0);var R=e.optionsPlugins.zeek,w=l(n,148,0,!0);l(n,147,0,R,w),l(n,160,0,!0);var E=e.optionsPlugins.elasticsearch,I=l(n,163,0,!0);l(n,162,0,E,I),l(n,175,0,!0);var b=e.optionsPlugins.kibana,O=l(n,178,0,!0);l(n,177,0,b,O),l(n,190,0,!0);var y=e.optionsPlugins.logstash,T=l(n,193,0,!0);l(n,192,0,y,T),l(n,205,0,!0);var P=e.optionsPlugins.filebeat,N=l(n,208,0,!0);l(n,207,0,P,N),l(n,220,0,!0);var D=e.optionsPlugins.iscdhcp,A=l(n,223,0,!0);l(n,222,0,D,A),l(n,235,0,!0);var L=e.optionsPlugins.haproxy,M=l(n,238,0,!0);l(n,237,0,L,M)}),(function(l,n){l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("FW.MSG_FW_EDITION.PLUGINS"))),l(n,8,0,t["\u0275nov"](n,14).ngClassUntouched,t["\u0275nov"](n,14).ngClassTouched,t["\u0275nov"](n,14).ngClassPristine,t["\u0275nov"](n,14).ngClassDirty,t["\u0275nov"](n,14).ngClassValid,t["\u0275nov"](n,14).ngClassInvalid,t["\u0275nov"](n,14).ngClassPending),l(n,19,0,t["\u0275unv"](n,19,0,t["\u0275nov"](n,20).transform("CLUSTER.PLUGINS.OPENVPN"))),l(n,23,0,t["\u0275nov"](n,29).ngClassUntouched,t["\u0275nov"](n,29).ngClassTouched,t["\u0275nov"](n,29).ngClassPristine,t["\u0275nov"](n,29).ngClassDirty,t["\u0275nov"](n,29).ngClassValid,t["\u0275nov"](n,29).ngClassInvalid,t["\u0275nov"](n,29).ngClassPending),l(n,34,0,t["\u0275unv"](n,34,0,t["\u0275nov"](n,35).transform("CLUSTER.PLUGINS.KEEPALIVED"))),l(n,38,0,t["\u0275nov"](n,44).ngClassUntouched,t["\u0275nov"](n,44).ngClassTouched,t["\u0275nov"](n,44).ngClassPristine,t["\u0275nov"](n,44).ngClassDirty,t["\u0275nov"](n,44).ngClassValid,t["\u0275nov"](n,44).ngClassInvalid,t["\u0275nov"](n,44).ngClassPending),l(n,49,0,t["\u0275unv"](n,49,0,t["\u0275nov"](n,50).transform("CLUSTER.PLUGINS.GEOIP"))),l(n,53,0,t["\u0275nov"](n,59).ngClassUntouched,t["\u0275nov"](n,59).ngClassTouched,t["\u0275nov"](n,59).ngClassPristine,t["\u0275nov"](n,59).ngClassDirty,t["\u0275nov"](n,59).ngClassValid,t["\u0275nov"](n,59).ngClassInvalid,t["\u0275nov"](n,59).ngClassPending),l(n,64,0,t["\u0275unv"](n,64,0,t["\u0275nov"](n,65).transform("CLUSTER.PLUGINS.CROWDSEC"))),l(n,68,0,t["\u0275nov"](n,74).ngClassUntouched,t["\u0275nov"](n,74).ngClassTouched,t["\u0275nov"](n,74).ngClassPristine,t["\u0275nov"](n,74).ngClassDirty,t["\u0275nov"](n,74).ngClassValid,t["\u0275nov"](n,74).ngClassInvalid,t["\u0275nov"](n,74).ngClassPending),l(n,79,0,t["\u0275unv"](n,79,0,t["\u0275nov"](n,80).transform("CLUSTER.PLUGINS.NTOPNG"))),l(n,83,0,t["\u0275nov"](n,89).ngClassUntouched,t["\u0275nov"](n,89).ngClassTouched,t["\u0275nov"](n,89).ngClassPristine,t["\u0275nov"](n,89).ngClassDirty,t["\u0275nov"](n,89).ngClassValid,t["\u0275nov"](n,89).ngClassInvalid,t["\u0275nov"](n,89).ngClassPending),l(n,94,0,t["\u0275unv"](n,94,0,t["\u0275nov"](n,95).transform("CLUSTER.PLUGINS.WEBSAFETY"))),l(n,98,0,t["\u0275nov"](n,104).ngClassUntouched,t["\u0275nov"](n,104).ngClassTouched,t["\u0275nov"](n,104).ngClassPristine,t["\u0275nov"](n,104).ngClassDirty,t["\u0275nov"](n,104).ngClassValid,t["\u0275nov"](n,104).ngClassInvalid,t["\u0275nov"](n,104).ngClassPending),l(n,109,0,t["\u0275unv"](n,109,0,t["\u0275nov"](n,110).transform("CLUSTER.PLUGINS.DNSSAFETY"))),l(n,113,0,t["\u0275nov"](n,119).ngClassUntouched,t["\u0275nov"](n,119).ngClassTouched,t["\u0275nov"](n,119).ngClassPristine,t["\u0275nov"](n,119).ngClassDirty,t["\u0275nov"](n,119).ngClassValid,t["\u0275nov"](n,119).ngClassInvalid,t["\u0275nov"](n,119).ngClassPending),l(n,124,0,t["\u0275unv"](n,124,0,t["\u0275nov"](n,125).transform("FW.PLUGINS.ISCBIND9"))),l(n,129,0,t["\u0275nov"](n,135).ngClassUntouched,t["\u0275nov"](n,135).ngClassTouched,t["\u0275nov"](n,135).ngClassPristine,t["\u0275nov"](n,135).ngClassDirty,t["\u0275nov"](n,135).ngClassValid,t["\u0275nov"](n,135).ngClassInvalid,t["\u0275nov"](n,135).ngClassPending),l(n,140,0,t["\u0275unv"](n,140,0,t["\u0275nov"](n,141).transform("CLUSTER.PLUGINS.SURICATA"))),l(n,144,0,t["\u0275nov"](n,150).ngClassUntouched,t["\u0275nov"](n,150).ngClassTouched,t["\u0275nov"](n,150).ngClassPristine,t["\u0275nov"](n,150).ngClassDirty,t["\u0275nov"](n,150).ngClassValid,t["\u0275nov"](n,150).ngClassInvalid,t["\u0275nov"](n,150).ngClassPending),l(n,155,0,t["\u0275unv"](n,155,0,t["\u0275nov"](n,156).transform("CLUSTER.PLUGINS.ZEEK"))),l(n,159,0,t["\u0275nov"](n,165).ngClassUntouched,t["\u0275nov"](n,165).ngClassTouched,t["\u0275nov"](n,165).ngClassPristine,t["\u0275nov"](n,165).ngClassDirty,t["\u0275nov"](n,165).ngClassValid,t["\u0275nov"](n,165).ngClassInvalid,t["\u0275nov"](n,165).ngClassPending),l(n,170,0,t["\u0275unv"](n,170,0,t["\u0275nov"](n,171).transform("CLUSTER.PLUGINS.ELASTICSEARCH"))),l(n,174,0,t["\u0275nov"](n,180).ngClassUntouched,t["\u0275nov"](n,180).ngClassTouched,t["\u0275nov"](n,180).ngClassPristine,t["\u0275nov"](n,180).ngClassDirty,t["\u0275nov"](n,180).ngClassValid,t["\u0275nov"](n,180).ngClassInvalid,t["\u0275nov"](n,180).ngClassPending),l(n,185,0,t["\u0275unv"](n,185,0,t["\u0275nov"](n,186).transform("CLUSTER.PLUGINS.KIBANA"))),l(n,189,0,t["\u0275nov"](n,195).ngClassUntouched,t["\u0275nov"](n,195).ngClassTouched,t["\u0275nov"](n,195).ngClassPristine,t["\u0275nov"](n,195).ngClassDirty,t["\u0275nov"](n,195).ngClassValid,t["\u0275nov"](n,195).ngClassInvalid,t["\u0275nov"](n,195).ngClassPending),l(n,200,0,t["\u0275unv"](n,200,0,t["\u0275nov"](n,201).transform("CLUSTER.PLUGINS.LOGSTASH"))),l(n,204,0,t["\u0275nov"](n,210).ngClassUntouched,t["\u0275nov"](n,210).ngClassTouched,t["\u0275nov"](n,210).ngClassPristine,t["\u0275nov"](n,210).ngClassDirty,t["\u0275nov"](n,210).ngClassValid,t["\u0275nov"](n,210).ngClassInvalid,t["\u0275nov"](n,210).ngClassPending),l(n,215,0,t["\u0275unv"](n,215,0,t["\u0275nov"](n,216).transform("CLUSTER.PLUGINS.FILEBEAT"))),l(n,219,0,t["\u0275nov"](n,225).ngClassUntouched,t["\u0275nov"](n,225).ngClassTouched,t["\u0275nov"](n,225).ngClassPristine,t["\u0275nov"](n,225).ngClassDirty,t["\u0275nov"](n,225).ngClassValid,t["\u0275nov"](n,225).ngClassInvalid,t["\u0275nov"](n,225).ngClassPending),l(n,230,0,t["\u0275unv"](n,230,0,t["\u0275nov"](n,231).transform("FW.PLUGINS.ISCDHCP"))),l(n,234,0,t["\u0275nov"](n,240).ngClassUntouched,t["\u0275nov"](n,240).ngClassTouched,t["\u0275nov"](n,240).ngClassPristine,t["\u0275nov"](n,240).ngClassDirty,t["\u0275nov"](n,240).ngClassValid,t["\u0275nov"](n,240).ngClassInvalid,t["\u0275nov"](n,240).ngClassPending),l(n,245,0,t["\u0275unv"](n,245,0,t["\u0275nov"](n,246).transform("FW.PLUGINS.HAPROXY")))}))}function Oa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](3,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),t["\u0275pod"](4,{type:0,title:1,text:2})],(function(l,n){var e=n.component,t=l(n,4,0,"error",e.translate.instant("NGFW.TITLE"),e.translate.instant("NGFW.ERRORS.COMMUNICATION.TEXT"));l(n,3,0,t)}),null)}function ya(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,5,"option",[],null,null,null,null,null)),t["\u0275did"](1,147456,null,0,k.NgSelectOption,[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275pad"](2,2),t["\u0275did"](3,147456,null,0,k["\u0275angular_packages_forms_forms_y"],[t.ElementRef,t.Renderer2,[8,null]],{value:[0,"value"]},null),t["\u0275pad"](4,2),(l()(),t["\u0275ted"](5,null,[" "," "]))],(function(l,n){var e=l(n,2,0,n.context.$implicit.id,n.context.$implicit.name);l(n,1,0,e);var t=l(n,4,0,n.context.$implicit.id,n.context.$implicit.name);l(n,3,0,t)}),(function(l,n){l(n,5,0,n.context.$implicit.name)}))}function Ta(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,67,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](2,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](3,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275ted"](-1,null,[" \xa0 "])),(l()(),t["\u0275eld"](6,0,null,null,61,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,60,"table",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](8,0,null,null,29,"thead",[],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,28,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,3,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](11,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t["\u0275ted"](12,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](14,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,4,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"a",[["href","https://www.ntop.org/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](17,0,null,null,0,"img",[["height","40"],["src","assets/img/ntopng.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](18,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](20,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](21,0,null,null,4,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](22,0,null,null,1,"a",[["href","https://www.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](23,0,null,null,0,"img",[["height","40"],["src","assets/img/websafety.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](24,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](26,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](27,0,null,null,4,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](28,0,null,null,1,"a",[["href","https://dnssafety.diladele.com/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](29,0,null,null,0,"img",[["height","40"],["src","assets/img/dnssafety.png"],["width","40"]],null,null,null,null,null)),(l()(),t["\u0275ted"](30,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](32,0,null,null,5,"th",[],null,null,null,null,null)),(l()(),t["\u0275eld"](33,0,null,null,4,"label",[],null,null,null,null,null)),(l()(),t["\u0275eld"](34,0,null,null,1,"a",[["href","https://www.elastic.co/what-is/elasticsearch"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](35,0,null,null,0,"img",[["height","30"],["src","assets/img/elasticsearch.png"],["width","30"]],null,null,null,null,null)),(l()(),t["\u0275ted"](36,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](38,0,null,null,29,"tbody",[],null,null,null,null,null)),(l()(),t["\u0275eld"](39,0,null,null,28,"tr",[],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,2,"select",[],null,[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.setNode(e.target.value)&&t),t}),null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ya)),t["\u0275did"](43,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](44,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](45,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onClickButtonNGFW("NTOPNG",i.node)&&t),t}),null,null)),t["\u0275did"](46,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](48,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](50,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](51,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onClickButtonNGFW("WEBSAFETYPROXY",i.node)&&t),t}),null,null)),t["\u0275did"](52,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](54,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](56,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](57,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onClickButtonNGFW("DNSSAFETY",i.node)&&t),t}),null,null)),t["\u0275did"](58,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](60,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](62,0,null,null,5,"td",[],null,null,null,null,null)),(l()(),t["\u0275eld"](63,0,null,null,4,"button",[["class","ui-button-primary"],["pButton",""],["showDelay","500"],["style","height: 2.44rem; width: 100%"],["tooltipPosition","top"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.onClickButtonNGFW("ELASTICSEARCH",i.node)&&t),t}),null,null)),t["\u0275did"](64,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275did"](66,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,43,0,n.component.getFormNodes().value),l(n,46,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,46,0,t["\u0275nov"](n,47).transform("CONTEXT.FW.NTOPNG")),"")),l(n,48,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,48,2,t["\u0275nov"](n,49).transform("CONTEXT.FW.NTOPNG")),"")),l(n,52,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,52,0,t["\u0275nov"](n,53).transform("CONTEXT.FW.WEBSAFETYPROXY")),"")),l(n,54,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,54,2,t["\u0275nov"](n,55).transform("CONTEXT.FW.WEBSAFETYPROXY")),"")),l(n,58,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,58,0,t["\u0275nov"](n,59).transform("CONTEXT.FW.DNSSAFETY")),"")),l(n,60,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,60,2,t["\u0275nov"](n,61).transform("CONTEXT.FW.DNSSAFETY")),"")),l(n,64,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,64,0,t["\u0275nov"](n,65).transform("CLUSTER.PLUGINS.ELASTICSEARCH")),"")),l(n,66,0,"top","500",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,66,2,t["\u0275nov"](n,67).transform("CLUSTER.PLUGINS.ELASTICSEARCH")),""))}),(function(l,n){var e=n.component;l(n,3,0,t["\u0275unv"](n,3,0,t["\u0275nov"](n,4).transform("NGFW.DESCRIPTION"))),l(n,12,0,t["\u0275unv"](n,12,0,t["\u0275nov"](n,13).transform("NGFW.NAME"))),l(n,18,0,t["\u0275unv"](n,18,0,t["\u0275nov"](n,19).transform("CONTEXT.FW.NTOPNG"))),l(n,24,0,t["\u0275unv"](n,24,0,t["\u0275nov"](n,25).transform("CONTEXT.FW.WEBSAFETYPROXY"))),l(n,30,0,t["\u0275unv"](n,30,0,t["\u0275nov"](n,31).transform("CONTEXT.FW.DNSSAFETY"))),l(n,36,0,t["\u0275unv"](n,36,0,t["\u0275nov"](n,37).transform("CLUSTER.PLUGINS.ELASTICSEARCH"))),l(n,45,0,!e.checksNodeNtopNGConfig()),l(n,51,0,!e.checksNodeWebSafetyProxyActie()),l(n,57,0,!e.checksNodeDNSSafetyActive()),l(n,63,0,!e.checksNodeElasticSearchActive())}))}function Pa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,216,null,null,null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,215,"form",[["id","clusterData"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"keyup.esc"],[null,"submit"],[null,"reset"]],(function(l,n,e){var i=!0,u=l.component;return"submit"===n&&(i=!1!==t["\u0275nov"](l,3).onSubmit(e)&&i),"reset"===n&&(i=!1!==t["\u0275nov"](l,3).onReset()&&i),"keyup.enter"===n&&(i=!1!==u.checkForm(e)&&i),"keyup.esc"===n&&(i=!1!==u.onCancel()&&i),i}),null,null)),t["\u0275did"](2,16384,null,0,k["\u0275angular_packages_forms_forms_z"],[],null,null),t["\u0275did"](3,540672,null,0,k.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.FormGroupDirective]),t["\u0275did"](5,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](6,0,null,null,210,"p-tabView",[],null,[[null,"onChange"]],(function(l,n,e){var t=!0;return"onChange"===n&&(t=!1!==l.component.onChangeTab(e)&&t),t}),ct.d,ct.b)),t["\u0275did"](7,1097728,null,1,dt.TabView,[t.ElementRef],{activeIndex:[0,"activeIndex"]},{onChange:"onChange"}),t["\u0275qud"](603979776,8,{tabPanels:1}),(l()(),t["\u0275eld"](9,16777216,null,0,67,"p-tabPanel",[["leftIcon","fwci-cluster"]],null,null,null,ct.c,ct.a)),t["\u0275did"](10,1228800,[[8,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"],selected:[3,"selected"]},null),t["\u0275qud"](603979776,9,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,0,53,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,null,null,20,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](19,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](20,0,null,null,2,"label",[["for","name"]],null,null,null,null,null)),(l()(),t["\u0275ted"](21,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](23,0,[[3,0],["inputClusterName",1]],null,9,"input",[["formControlName","name"],["maxlength","64"],["name","name"],["pInputText",""],["type","text"]],[[8,"placeholder",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,24)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,24).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,24)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,24)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,31).onInput(e)&&i),i}),null,null)),t["\u0275did"](24,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](25,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](28,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](30,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](31,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](33,0,null,null,5,"p",[["class","fwc-error"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](35,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](36,{visibility:0}),(l()(),t["\u0275ted"](37,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](39,0,null,null,12,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](40,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](41,0,null,null,2,"label",[["for","compiler"]],null,null,null,null,null)),(l()(),t["\u0275ted"](42,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](44,0,[["ifSelect",1]],null,7,"select",[["formControlName","compiler"],["name","compiler"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var i=!0,u=l.component;return"change"===n&&(i=!1!==t["\u0275nov"](l,45).onChange(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,45).onTouched()&&i),"change"===n&&(i=!1!==u.changeCompilerOptions()&&i),i}),null,null)),t["\u0275did"](45,16384,null,0,k.SelectControlValueAccessor,[t.Renderer2,t.ElementRef],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.SelectControlValueAccessor]),t["\u0275did"](47,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](49,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,null,1,null,ia)),t["\u0275did"](51,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](52,0,null,null,4,"div",[["class","ui-g-2"]],null,null,null,null,null)),(l()(),t["\u0275eld"](53,0,null,null,3,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](54,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(l()(),t["\u0275ted"](55,null,[""," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](57,0,null,null,9,"div",[["class","ui-g-10"]],null,null,null,null,null)),(l()(),t["\u0275eld"](58,0,null,null,8,"textarea",[["formControlName","comment"],["maxlength","255"],["name","comment"],["pInputTextarea",""]],[[8,"rows",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,59)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,59).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,59)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,59)._compositionEnd(e.target.value)&&i),"input"===n&&(i=!1!==t["\u0275nov"](l,66).onInput(e)&&i),"focus"===n&&(i=!1!==t["\u0275nov"](l,66).onFocus(e)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,66).onBlur(e)&&i),i}),null,null)),t["\u0275did"](59,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275did"](60,540672,null,0,k.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),t["\u0275prd"](1024,null,k.NG_VALIDATORS,(function(l){return[l]}),[k.MaxLengthValidator]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](63,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[6,k.NG_VALIDATORS],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](65,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),t["\u0275did"](66,278528,null,0,pt.InputTextarea,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](67,0,null,0,9,"div",[["class","ui-g"],["formArrayName","fwnodes"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),t["\u0275did"](68,212992,null,0,k.FormArrayName,[[3,k.ControlContainer],[8,null],[8,null]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.ControlContainer,null,[k.FormArrayName]),t["\u0275did"](70,16384,null,0,k.NgControlStatusGroup,[[4,k.ControlContainer]],null,null),(l()(),t["\u0275eld"](71,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](72,0,null,null,2,"h5",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](73,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,Ea)),t["\u0275did"](76,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](77,16777216,null,0,5,"p-tabPanel",[["leftIcon","fwci-interfaces"]],null,null,null,ct.c,ct.a)),t["\u0275did"](78,1228800,[[8,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,10,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](81,0,null,0,1,"sts-fwc-interfaces-tree-editor",[],null,[[null,"onInstallModified"],[null,"onIpObjectModified"],[null,"onStartAutodiscover"]],(function(l,n,e){var t=!0,i=l.component;return"onInstallModified"===n&&(t=!1!==i.onEditorInstallModified(e)&&t),"onIpObjectModified"===n&&(t=!1!==i.onEditorInterfaceOrIpModified(e)&&t),"onStartAutodiscover"===n&&(t=!1!==i.onDiscoverInterfaces()&&t),t}),Wi.b,Wi.a)),t["\u0275did"](82,245760,[[4,4],["fwcInterfacesEditor",4]],0,Hi.a,[k.FormBuilder,Rl.ConfirmationService,nl.l,t.ChangeDetectorRef],{options:[0,"options"]},{onInstallModified:"onInstallModified",onIpObjectModified:"onIpObjectModified",onStartAutodiscover:"onStartAutodiscover"}),(l()(),t["\u0275eld"](83,16777216,null,0,111,"p-tabPanel",[["leftIcon","fwci-config"]],null,null,null,ct.c,ct.a)),t["\u0275did"](84,1228800,[[8,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,11,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](87,0,null,0,5,"input",[["formControlName","options"],["name","options"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,88)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,88).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,88)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,88)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](88,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](90,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](92,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](93,0,null,0,101,"div",[["class","ui-g"]],null,null,null,null,null)),(l()(),t["\u0275eld"](94,0,null,null,3,"div",[["class","ui-g-12 noVertPad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](95,0,null,null,2,"h5",[["class","noVertPad fwcBlue botBorder"]],null,null,null,null,null)),(l()(),t["\u0275ted"](96,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](98,0,null,null,45,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](99,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](100,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](101,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.stateful=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](102,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](104,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](105,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](107,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](108,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](109,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](110,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.ipv4=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](111,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](113,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](114,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](116,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](117,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](118,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](119,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.ipv6=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](120,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](122,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](123,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](125,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](126,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](127,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](128,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.debug=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](129,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](131,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](132,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](134,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](135,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](136,0,null,null,7,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](137,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.report=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](138,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"],label:[1,"label"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](140,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](141,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](143,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275eld"](144,0,null,null,50,"div",[["class","ui-g-6"]],null,null,null,null,null)),(l()(),t["\u0275eld"](145,0,null,null,17,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](146,0,null,null,16,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](147,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.docker=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](148,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](150,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](151,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](153,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](155,0,null,null,1,"a",[["href","https://www.docker.com"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](156,0,null,null,0,"img",[["height","20"],["src","assets/img/docker.png"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](158,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](159,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](161,0,null,null,1,"a",[["style","margin-left: 8px; margin-top: 2px;"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(l()(),t["\u0275ted"](-1,null,["(+ info)"])),(l()(),t["\u0275eld"](163,0,null,null,15,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](164,0,null,null,14,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](165,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.crowdsec=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](166,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](168,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](169,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](171,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](173,0,null,null,1,"a",[["href","https://crowdsec.net/"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](174,0,null,null,0,"img",[["height","20"],["src","assets/img/crowdsec.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](176,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](177,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](179,0,null,null,15,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](180,0,null,null,14,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](181,0,null,null,6,"p-checkbox",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.optionsFlags.fail2ban=e)&&t),"onChange"===n&&(t=!1!==i.setFormOptionsFlags()&&t),t}),Fl.b,Fl.a)),t["\u0275did"](182,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{binary:[0,"binary"]},{onChange:"onChange"}),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](184,671744,null,0,k.NgModel,[[2,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t["\u0275pod"](185,{standalone:0}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](187,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](189,0,null,null,1,"a",[["href","https://www.fail2ban.org"],["target","_blank"]],null,null,null,null,null)),(l()(),t["\u0275eld"](190,0,null,null,0,"img",[["height","20"],["src","assets/img/fail2ban.png"],["width","20"]],null,null,null,null,null)),(l()(),t["\u0275ted"](-1,null,[" \xa0\xa0 "])),(l()(),t["\u0275eld"](192,0,null,null,2,"p",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](193,null,["",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](195,16777216,null,0,13,"p-tabPanel",[["leftIcon","fa fa-puzzle-piece fwcOrange"]],null,null,null,ct.c,ct.a)),t["\u0275did"](196,1228800,[[8,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,12,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](199,0,null,0,5,"input",[["formControlName","plugins"],["name","plugins"],["type","hidden"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var i=!0;return"input"===n&&(i=!1!==t["\u0275nov"](l,200)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==t["\u0275nov"](l,200).onTouched()&&i),"compositionstart"===n&&(i=!1!==t["\u0275nov"](l,200)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t["\u0275nov"](l,200)._compositionEnd(e.target.value)&&i),i}),null,null)),t["\u0275did"](200,16384,null,0,k.DefaultValueAccessor,[t.Renderer2,t.ElementRef,[2,k.COMPOSITION_BUFFER_MODE]],null,null),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[k.DefaultValueAccessor]),t["\u0275did"](202,671744,null,0,k.FormControlName,[[3,k.ControlContainer],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR],[2,k["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),t["\u0275prd"](2048,null,k.NgControl,null,[k.FormControlName]),t["\u0275did"](204,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ia)),t["\u0275did"](206,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,ba)),t["\u0275did"](208,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](209,16777216,null,0,7,"p-tabPanel",[["leftIcon","fa fa-n fwcOrange"]],null,null,null,ct.c,ct.a)),t["\u0275did"](210,1228800,[[8,4]],1,dt.TabPanel,[t.ViewContainerRef],{header:[0,"header"],disabled:[1,"disabled"],leftIcon:[2,"leftIcon"]},null),t["\u0275qud"](603979776,13,{templates:1}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,0,1,null,Oa)),t["\u0275did"](214,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ta)),t["\u0275did"](216,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,e.formModel),l(n,7,0,e.shownPanel),l(n,10,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,10,0,t["\u0275nov"](n,12).transform("CLUSTER.MSG_CLUSTER_TAB.CT_0")),""),e.loadingData,"fwci-cluster",!0),l(n,25,0,"64"),l(n,28,0,"name"),l(n,31,0);var i=l(n,36,0,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible");l(n,35,0,i),l(n,47,0,"compiler"),l(n,51,0,e.FirewallCompilerOptions),l(n,60,0,"255"),l(n,63,0,"comment"),l(n,66,0),l(n,68,0,"fwnodes"),l(n,76,0,e.getFormNodes().controls),l(n,78,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,78,0,t["\u0275nov"](n,80).transform("FW.MSG_FW_TAB.FT_1")),""),e.loadingData,"fwci-interfaces"),l(n,82,0,e.interfacesEditorOptions),l(n,84,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,84,0,t["\u0275nov"](n,86).transform("CLUSTER.MSG_CLUSTER_TAB.CT_1")),""),e.loadingData,"fwci-config"),l(n,90,0,"options"),l(n,102,0,!0,e.translate.instant("FW.OPTION_NAMES.stateful"));var u=e.optionsFlags.stateful,o=l(n,105,0,!0);l(n,104,0,u,o),l(n,111,0,!0,e.translate.instant("FW.OPTION_NAMES.ipv4"));var a=e.optionsFlags.ipv4,s=l(n,114,0,!0);l(n,113,0,a,s),l(n,120,0,!0,e.translate.instant("FW.OPTION_NAMES.ipv6"));var r=e.optionsFlags.ipv6,c=l(n,123,0,!0);l(n,122,0,r,c),l(n,129,0,!0,e.translate.instant("FW.OPTION_NAMES.debug"));var d=e.optionsFlags.debug,p=l(n,132,0,!0);l(n,131,0,d,p),l(n,138,0,!0,e.translate.instant("FW.OPTION_NAMES.report"));var f=e.optionsFlags.report,g=l(n,141,0,!0);l(n,140,0,f,g),l(n,148,0,!0);var h=e.optionsFlags.docker,m=l(n,151,0,!0);l(n,150,0,h,m),l(n,166,0,!0);var v=e.optionsFlags.crowdsec,C=l(n,169,0,!0);l(n,168,0,v,C),l(n,182,0,!0);var S=e.optionsFlags.fail2ban,_=l(n,185,0,!0);l(n,184,0,S,_),l(n,196,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,196,0,t["\u0275nov"](n,198).transform("FW.MSG_FW_EDITION.PLUGINS")),""),e.loadingData||e.NodesComunicateViaSsh(),"fa fa-puzzle-piece fwcOrange"),l(n,202,0,"plugins"),l(n,206,0,e.NodesComunicateViaSsh()),l(n,208,0,!e.NodesComunicateViaSsh()),l(n,210,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,210,0,t["\u0275nov"](n,212).transform("NGFW.TITLE")),""),e.loadingData||e.NodesComunicateViaSsh(),"fa fa-n fwcOrange"),l(n,214,0,e.NodesComunicateViaSsh()),l(n,216,0,!e.NodesComunicateViaSsh())}),(function(l,n){var e=n.component;l(n,1,0,t["\u0275nov"](n,5).ngClassUntouched,t["\u0275nov"](n,5).ngClassTouched,t["\u0275nov"](n,5).ngClassPristine,t["\u0275nov"](n,5).ngClassDirty,t["\u0275nov"](n,5).ngClassValid,t["\u0275nov"](n,5).ngClassInvalid,t["\u0275nov"](n,5).ngClassPending),l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("CLUSTER.MSG_CLUSTER_EDITION.BASIC"))),l(n,21,0,t["\u0275unv"](n,21,0,t["\u0275nov"](n,22).transform("CLUSTER.MSG_CLUSTER_EDITION.NAME"))),l(n,23,1,[t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,23,0,t["\u0275nov"](n,32).transform("CLUSTER.MSG_CLUSTER_EDITION.NAME")),""),t["\u0275nov"](n,25).maxlength?t["\u0275nov"](n,25).maxlength:null,t["\u0275nov"](n,30).ngClassUntouched,t["\u0275nov"](n,30).ngClassTouched,t["\u0275nov"](n,30).ngClassPristine,t["\u0275nov"](n,30).ngClassDirty,t["\u0275nov"](n,30).ngClassValid,t["\u0275nov"](n,30).ngClassInvalid,t["\u0275nov"](n,30).ngClassPending,!0,!0,!0,!0,t["\u0275nov"](n,31).filled]),l(n,37,0,t["\u0275unv"](n,37,0,t["\u0275nov"](n,38).transform("ITEM_PANEL.ERRORS.FIELD_INVALID_NAME"))),l(n,42,0,t["\u0275unv"](n,42,0,t["\u0275nov"](n,43).transform("FW.MSG_FW_EDITION.COMPILER"))),l(n,44,0,t["\u0275nov"](n,49).ngClassUntouched,t["\u0275nov"](n,49).ngClassTouched,t["\u0275nov"](n,49).ngClassPristine,t["\u0275nov"](n,49).ngClassDirty,t["\u0275nov"](n,49).ngClassValid,t["\u0275nov"](n,49).ngClassInvalid,t["\u0275nov"](n,49).ngClassPending),l(n,55,0,t["\u0275unv"](n,55,0,t["\u0275nov"](n,56).transform("CLUSTER.MSG_CLUSTER_EDITION.DESC"))),l(n,58,1,[3,t["\u0275nov"](n,60).maxlength?t["\u0275nov"](n,60).maxlength:null,t["\u0275nov"](n,65).ngClassUntouched,t["\u0275nov"](n,65).ngClassTouched,t["\u0275nov"](n,65).ngClassPristine,t["\u0275nov"](n,65).ngClassDirty,t["\u0275nov"](n,65).ngClassValid,t["\u0275nov"](n,65).ngClassInvalid,t["\u0275nov"](n,65).ngClassPending,!0,!0,t["\u0275nov"](n,66).autoResize,!0,!0,t["\u0275nov"](n,66).filled]),l(n,67,0,t["\u0275nov"](n,70).ngClassUntouched,t["\u0275nov"](n,70).ngClassTouched,t["\u0275nov"](n,70).ngClassPristine,t["\u0275nov"](n,70).ngClassDirty,t["\u0275nov"](n,70).ngClassValid,t["\u0275nov"](n,70).ngClassInvalid,t["\u0275nov"](n,70).ngClassPending),l(n,73,0,t["\u0275unv"](n,73,0,t["\u0275nov"](n,74).transform("CLUSTER.MSG_CLUSTER_EDITION.NODES"))),l(n,87,0,t["\u0275nov"](n,92).ngClassUntouched,t["\u0275nov"](n,92).ngClassTouched,t["\u0275nov"](n,92).ngClassPristine,t["\u0275nov"](n,92).ngClassDirty,t["\u0275nov"](n,92).ngClassValid,t["\u0275nov"](n,92).ngClassInvalid,t["\u0275nov"](n,92).ngClassPending),l(n,96,0,t["\u0275unv"](n,96,0,t["\u0275nov"](n,97).transform("FW.MSG_FW_EDITION.OPTIONS_DATA"))),l(n,101,0,t["\u0275nov"](n,107).ngClassUntouched,t["\u0275nov"](n,107).ngClassTouched,t["\u0275nov"](n,107).ngClassPristine,t["\u0275nov"](n,107).ngClassDirty,t["\u0275nov"](n,107).ngClassValid,t["\u0275nov"](n,107).ngClassInvalid,t["\u0275nov"](n,107).ngClassPending),l(n,110,0,t["\u0275nov"](n,116).ngClassUntouched,t["\u0275nov"](n,116).ngClassTouched,t["\u0275nov"](n,116).ngClassPristine,t["\u0275nov"](n,116).ngClassDirty,t["\u0275nov"](n,116).ngClassValid,t["\u0275nov"](n,116).ngClassInvalid,t["\u0275nov"](n,116).ngClassPending),l(n,119,0,t["\u0275nov"](n,125).ngClassUntouched,t["\u0275nov"](n,125).ngClassTouched,t["\u0275nov"](n,125).ngClassPristine,t["\u0275nov"](n,125).ngClassDirty,t["\u0275nov"](n,125).ngClassValid,t["\u0275nov"](n,125).ngClassInvalid,t["\u0275nov"](n,125).ngClassPending),l(n,128,0,t["\u0275nov"](n,134).ngClassUntouched,t["\u0275nov"](n,134).ngClassTouched,t["\u0275nov"](n,134).ngClassPristine,t["\u0275nov"](n,134).ngClassDirty,t["\u0275nov"](n,134).ngClassValid,t["\u0275nov"](n,134).ngClassInvalid,t["\u0275nov"](n,134).ngClassPending),l(n,137,0,t["\u0275nov"](n,143).ngClassUntouched,t["\u0275nov"](n,143).ngClassTouched,t["\u0275nov"](n,143).ngClassPristine,t["\u0275nov"](n,143).ngClassDirty,t["\u0275nov"](n,143).ngClassValid,t["\u0275nov"](n,143).ngClassInvalid,t["\u0275nov"](n,143).ngClassPending),l(n,147,0,t["\u0275nov"](n,153).ngClassUntouched,t["\u0275nov"](n,153).ngClassTouched,t["\u0275nov"](n,153).ngClassPristine,t["\u0275nov"](n,153).ngClassDirty,t["\u0275nov"](n,153).ngClassValid,t["\u0275nov"](n,153).ngClassInvalid,t["\u0275nov"](n,153).ngClassPending),l(n,159,0,t["\u0275unv"](n,159,0,t["\u0275nov"](n,160).transform("FW.OPTION_NAMES.docker"))),l(n,161,0,t["\u0275inlineInterpolate"](1,"",e.dockerDocURL,"")),l(n,165,0,t["\u0275nov"](n,171).ngClassUntouched,t["\u0275nov"](n,171).ngClassTouched,t["\u0275nov"](n,171).ngClassPristine,t["\u0275nov"](n,171).ngClassDirty,t["\u0275nov"](n,171).ngClassValid,t["\u0275nov"](n,171).ngClassInvalid,t["\u0275nov"](n,171).ngClassPending),l(n,177,0,t["\u0275unv"](n,177,0,t["\u0275nov"](n,178).transform("FW.OPTION_NAMES.crowdsec"))),l(n,181,0,t["\u0275nov"](n,187).ngClassUntouched,t["\u0275nov"](n,187).ngClassTouched,t["\u0275nov"](n,187).ngClassPristine,t["\u0275nov"](n,187).ngClassDirty,t["\u0275nov"](n,187).ngClassValid,t["\u0275nov"](n,187).ngClassInvalid,t["\u0275nov"](n,187).ngClassPending),l(n,193,0,t["\u0275unv"](n,193,0,t["\u0275nov"](n,194).transform("FW.OPTION_NAMES.fail2ban"))),l(n,199,0,t["\u0275nov"](n,204).ngClassUntouched,t["\u0275nov"](n,204).ngClassTouched,t["\u0275nov"](n,204).ngClassPristine,t["\u0275nov"](n,204).ngClassDirty,t["\u0275nov"](n,204).ngClassValid,t["\u0275nov"](n,204).ngClassInvalid,t["\u0275nov"](n,204).ngClassPending)}))}function Na(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](2,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,2,0,n.component.delMessage)}),null)}function Da(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Aa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](1,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null)],(function(l,n){l(n,1,0,n.component.deleteMsgError)}),null)}function La(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,3,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"],[null,"onRefreshRestrictions"]],(function(l,n,e){var t=!0,i=l.component;return"onHideParent"===n&&(t=!1!==i.minimizeDialog(!0)&&t),"onRefreshRestrictions"===n&&(t=!1!==i.reloadPanel()&&t),t}),mt.b,mt.a)),t["\u0275prd"](512,null,gt.a,gt.a,[cl.a,il.a,hl.m]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275did"](3,114688,null,0,vt.a,[hl.m,nl.l,cl.a,il.a,gt.a,$l.a],{dependencies:[0,"dependencies"]},{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"})],(function(l,n){l(n,3,0,n.component.dependencies)}),null)}function Ma(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Aa)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,La)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.deleteMsgError),l(n,4,0,!e.dependencies.restrictionsError)}),null)}function Fa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,6,"p-checkbox",[["binary","true"],["name","chkOkToDelete"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(l,n,e){var t=!0;return"ngModelChange"===n&&(t=!1!==(l.component.okToDelete=e)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](2,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],label:[2,"label"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](5,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](7,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,2,0,"chkOkToDelete","true",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("CLUSTER.MSG_CLUSTER_DELETE.DEL_5")),"")),l(n,5,0,"chkOkToDelete",e.okToDelete)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,7).ngClassUntouched,t["\u0275nov"](n,7).ngClassTouched,t["\u0275nov"](n,7).ngClassPristine,t["\u0275nov"](n,7).ngClassDirty,t["\u0275nov"](n,7).ngClassValid,t["\u0275nov"](n,7).ngClassInvalid,t["\u0275nov"](n,7).ngClassPending)}))}function Ua(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,jl.b,jl.a)),t["\u0275did"](1,114688,null,0,xl.a,[t.ChangeDetectorRef,nl.l],{message:[0,"message"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Fa)),t["\u0275did"](3,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.deleteMsgError),l(n,3,0,!e.loadingData)}),null)}function ka(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Na)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Da)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(l()(),t["\u0275and"](0,[["deleteRestricted",2]],null,0,null,Ma)),(l()(),t["\u0275and"](0,[["deleteAllowed",2]],null,0,null,Ua))],(function(l,n){var e=n.component;l(n,2,0,e.loadingData&&!e.deleteMsgError),l(n,4,0,e.dependencies,t["\u0275nov"](n,5),t["\u0275nov"](n,6))}),null)}function Ga(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgStyleImpl"],$["\u0275NgStyleR2Impl"],[t.ElementRef,t.KeyValueDiffers,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgStyle,[$["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),t["\u0275pod"](3,{visibility:0}),(l()(),t["\u0275eld"](4,0,null,null,2,"p-progressSpinner",[],null,null,null,Vl.b,Vl.a)),t["\u0275did"](5,49152,null,0,Bl.ProgressSpinner,[],{style:[0,"style"]},null),t["\u0275pod"](6,{width:0,height:1})],(function(l,n){var e=l(n,3,0,n.component.loadingData?"visible":"hidden");l(n,2,0,e);var t=l(n,6,0,"1.7rem","1.7rem");l(n,5,0,t)}),null)}function ja(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-xmark"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCloseDialog()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.STOP")),""),"fa fa-xmark")}),null)}function xa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-trash")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Va(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-save"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onSave()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-save")}),(function(l,n){var e=n.component;l(n,0,0,!e.formModel.valid||e.loadingData)}))}function Ba(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-check")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Wa(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ga)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,ja)),t["\u0275did"](4,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,xa)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Va)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,Ba)),t["\u0275did"](10,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.loadingCommunication),l(n,4,0,e.loadingCommunication),l(n,6,0,!e.formModel.pristine&&!e.loadingCommunication),l(n,8,0,!e.formModel.pristine),l(n,10,0,e.formModel.pristine)}),null)}function Ha(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,2,"button",[["class","fwc-left-float ui-button-primary"],["icon","fa fa-refresh"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.reloadPanel()&&t),t}),null,null)),t["\u0275did"](1,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,1,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,1,0,t["\u0275nov"](n,2).transform("POLICY_GRID.RELOAD")),""),"fa fa-refresh")}),(function(l,n){l(n,0,0,n.component.loadingData)}))}function Ja(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,Ha)),t["\u0275did"](2,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](3,0,null,null,2,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onDeleteCluster()&&t),t}),null,null)),t["\u0275did"](4,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](6,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.onCancel()&&t),t}),null,null)),t["\u0275did"](7,4341760,null,0,G.ButtonDirective,[t.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef])],(function(l,n){l(n,2,0,n.component.dependencies),l(n,4,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,4,0,t["\u0275nov"](n,5).transform("CLUSTER.MSG_CLUSTER_EDITION.DELETE")),""),"fa fa-trash"),l(n,7,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,7,0,t["\u0275nov"](n,8).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-check")}),(function(l,n){var e=n.component;l(n,3,0,!e.okToDelete||e.loadingData)}))}function $a(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{dialog:0}),t["\u0275qud"](671088640,2,{divDlgContainer:0}),t["\u0275qud"](671088640,3,{inputClusterName:0}),t["\u0275qud"](671088640,4,{fwcInterfacesEditor:0}),t["\u0275qud"](671088640,5,{nodeInputs:1}),(l()(),t["\u0275eld"](5,0,null,null,25,"p-dialog",[["styleClass","dlgFwcDialog"]],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],(function(l,n,e){var t=!0,i=l.component;return"visibleChange"===n&&(t=!1!==(i.displayDialog=e)&&t),"onShow"===n&&(t=!1!==i.onShowDialog()&&t),"onHide"===n&&(t=!1!==i.onHideDialog()&&t),t}),Ct.b,Ct.a)),t["\u0275did"](6,180224,[[1,4],["clusterDialog",4]],2,St.Dialog,[t.ElementRef,t.Renderer2,t.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],style:[4,"style"],styleClass:[5,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),t["\u0275qud"](603979776,6,{headerFacet:1}),t["\u0275qud"](603979776,7,{footerFacet:1}),t["\u0275pod"](9,{width:0}),(l()(),t["\u0275eld"](10,0,null,0,10,"p-header",[],null,null,null,_t.d,_t.b)),t["\u0275did"](11,49152,[[6,4]],0,Gl.Header,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,na)),t["\u0275did"](13,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,ea)),t["\u0275did"](15,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](16,0,null,0,4,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ta)),t["\u0275did"](18,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](19,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.minimizeDialog()&&t),t}),null,null)),t["\u0275did"](20,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,Pa)),t["\u0275did"](22,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,1,1,null,ka)),t["\u0275did"](24,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](25,0,null,2,5,"p-footer",[],null,null,null,_t.c,_t.a)),t["\u0275did"](26,49152,[[7,4]],0,Gl.Footer,[],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,Wa)),t["\u0275did"](28,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,0,1,null,Ja)),t["\u0275did"](30,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=e.displayDialog,i=l(n,9,0,"80vw");l(n,6,0,t,!0,!0,!1,i,"dlgFwcDialog"),l(n,13,0,e.cluster),l(n,15,0,e.clusterToDelete),l(n,18,0,e.helpSection),l(n,20,0,"fa fa-window-minimize"),l(n,22,0,e.cluster),l(n,24,0,e.clusterToDelete),l(n,28,0,e.cluster),l(n,30,0,e.clusterToDelete)}),(function(l,n){l(n,19,0,n.component.loadingData)}))}var Ya=e("eiS1"),Ka=e("pDcU"),qa=e("AjRs"),Xa=e("5xbn"),za=e("ehic"),Za=e("/uUt"),Qa=e("Tjou"),ls=(e("a4ce"),e("P/9O"));class ns{constructor(l,n,e,i,u,o,a,s,r,c,d){this.appOptionsService=l,this.itemSelectedService=n,this.fwcUserService=e,this.ruleSelectedService=i,this.fwcPolicyService=u,this.fwcSseService=o,this.messageService=a,this.utilService=s,this.cd=r,this.store=c,this.translate=d,this.ClipboardAction=Cn.d,this.fwcStaticMessages=[],this.showObjectPanel=!1,this.searchUpdated=new x.a,this.searchChangeEmitter=new t.EventEmitter,this.alive=!0,this.tabsExpanded=[!0,!0,!0],this.searchOptionsItems=[],this.searchFiltersOptions=[ls.a.OBJECT_NAME,ls.a.TCP_UDP_PORT,ls.a.IP_ADDRESS,ls.a.IP_OPENVPN],this.optionsTreeFw=l.optionsTreeFw,this.optionsTreeObj=l.optionsTreeObj,this.optionsTreeSrv=l.optionsTreeSrv,this.searchChangeEmitter=this.searchUpdated.asObservable().pipe(Object(B.a)(300),Object(Za.a)(),Object(V.a)(()=>this.alive)).subscribe(l=>{this.searchString=l,this.treeSearchOptions=Object.assign({},this.treeSearchOptions,{keyword:l})}),this.treeSearchOptions={keyword:"",searchFields:this.searchFiltersOptions.slice()},this.searchPlaceholderText=this.translate.instant("POLICY.MSG_POLICY_SEARCH.SEARCH")}ngOnDestroy(){this.alive=!1}ngOnInit(){this.menuClipboardItems=[{label:this.translate.instant("POLICY.RULE_CLIPBOARD_EMPTY"),icon:"fa fa-clipboard fwcBlue",command:()=>{}}],this.store.dispatch(Ql.b.loadPolicyTypes()),this.ruleSelectedService.getClipboardRules().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{if(this.clipboardRules=l,this.clipboardRulesTooltip="",l&&l.rules){let n=[];l.rules.forEach(l=>{n.push(l.id)}),l.action==Cn.d.COPY&&(this.clipboardRulesTooltip=this.translate.instant("POLICY.RULE_CLIPBOARD_COPY",{n:n.length,rules:n})),l.action==Cn.d.CUT&&(this.clipboardRulesTooltip=this.translate.instant("POLICY.RULE_CLIPBOARD_CUT",{n:n.length,rules:n}))}}),this.itemSelectedService.getClipboardItem().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.clipboardObjects=l,this.clipboardObjectsTooltip="",l&&(l.action==Cn.d.COPY&&(this.clipboardObjectsTooltip=this.translate.instant("POLICY.OBJECT_CLIPBOARD_COPY",{name:l._fwcObjName})),l.action==Cn.d.CUT&&(this.clipboardObjectsTooltip=this.translate.instant("POLICY.OBJECT_CLIPBOARD_CUT",{name:l._fwcObjName})))}),this.fwcUserService.getFwcUser().pipe(Object(V.a)(()=>this.alive)).subscribe(l=>{this.fwcUser&&(!this.fwcUser||l.user_id==this.fwcUser.user_id&&l.selectedFwCloud==this.fwcUser.selectedFwCloud)||this.loadSelectedFWCloud(l),this.fwcUser=Object.assign({},l),this.showObjectPanel=!1}),this.fwcUserService.reloadSelectedFWCloud().pipe(Object(V.a)(()=>this.alive)).subscribe(()=>{this.loadSelectedFWCloud(this.fwcUser)}),this.utilService.getGridScrollToTop().pipe(Object(V.a)(()=>this.alive)).subscribe(()=>{this.gridContainerDiv&&(this.gridContainerDiv.nativeElement.scrollTop=0)})}ngAfterViewInit(){this.itemSelectedService.setFwcTreeComponents(this.fwcTreeComponents.toArray()),this.policySplitter&&this.policySplitter.refresh()}loadSelectedFWCloud(l){this.loadFwcObjectTree(l.user_id,l.selectedLanguage,l.selectedFwCloud,1,1),this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null})}onSearchType(l){this.searchUpdated.next(l)}handleSearchFilterChange(l,n){l||this.treeSearchOptions.searchFields.length?this.treeSearchOptions=Object.assign({},this.treeSearchOptions):this.treeSearchOptions.searchFields=[n]}loadFwcObjectTree(l,n,e,t,i){let u,o,a;u=Object.assign({},this.optionsTreeFw),o=Object.assign({},this.optionsTreeObj),a=Object.assign({},this.optionsTreeSrv),u.user_id=o.user_id=a.user_id=l,u.fwcloud=o.fwcloud=a.fwcloud=e,u.objStandard=o.objStandard=a.objStandard=t,u.objCloud=o.objCloud=a.objCloud=i,this.optionsTreeFw=Object.assign({},u),this.optionsTreeObj=Object.assign({},o),this.optionsTreeSrv=Object.assign({},a)}emptyRuleClipboard(){this.ruleSelectedService.clearClipboardRules()}emptyObjectClipboard(){this.itemSelectedService.clearClipboardItem()}doSearchTCPUDPPorts(){console.log("Search by ports",this.tcpUdpPortSearchString)}handleGridScroll(l){let n;if(l.target){const e=l.target;n={offsetHeight:e.offsetHeight,offsetTop:e.offsetTop,scrollHeight:e.scrollHeight,scrollTop:e.scrollTop},this.utilService.setGridScroll(n)}}}var es=t["\u0275crt"]({encapsulation:2,styles:[['@charset "UTF-8";:root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.fwcMainContainer{background:var(--surfaceBackgroundColor)!important;width:100%;height:100%}.fwcDivSidebar{padding:.5rem 1.5rem 0 .5rem!important}.fwcDivRuleClipboardNotify{position:fixed;bottom:2em;right:2em;width:3rem;height:3rem;border-radius:50%;box-shadow:2px 2px 10px var(--fwcPaleDark);color:var(--fwcDark)}.fwcDivRuleClipboardNotify.copyRules{background-color:var(--fwcPaleGreen)}.fwcDivRuleClipboardNotify.cutRules{background-color:var(--fwcPaleRed)}.fwcDivRuleClipboardNotify i{text-align:center;display:inherit;line-height:3rem}.divClipContainer{position:fixed;right:2em;bottom:2em;transition:all .25s ease-out}.divClipContainer.divClipContainer--above{bottom:7em}.divClipContainer .divClipButton{height:4em;width:4em;border-radius:2em;overflow:hidden;vertical-align:middle;box-shadow:2px 2px 12px var(--fwcPaleDark);transition:width .25s ease-out}.divClipContainer .divClipButton.copyRules{background-color:var(--fwcPaleGreen)}.divClipContainer .divClipButton.cutRules{background-color:var(--fwcPaleRed)}.divClipContainer .divClipButton.copyObjects{background-color:#b5deb7}.divClipContainer .divClipButton.cutObjects{background-color:#f65e5e}.divClipContainer .divClipButton:hover{width:32em}.divClipContainer .divClipButton i{display:inline-block;height:4em;width:4em;vertical-align:top;text-align:center;line-height:4em}.divClipContainer .divClipButton-msg{font-family:Montserrat,sans-serif;padding:.6em;display:inline-block;margin-right:.5em}.divClipContainer .divClipButton-msg span{font-size:1.1em;font-weight:700}.divClipContainer .divClipButton-msg p{color:var(--fwcPaleDark2)}.divClipContainer .divClipButton-close{display:inline-block;float:right;margin-right:1em;line-height:4em;vertical-align:top}.divClipContainer .divClipButton-close button{display:inline-block}.fwcInputGroup{position:relative;height:3em}.fwcInputGroup input{width:100%;float:left;padding-right:2rem}.fwcInputGroup button{width:2rem;height:100%!important;border-radius:0!important;position:absolute;right:2rem}.fwcInputGroup button:last-child{right:0}textarea.textCompiledString{height:12rem;font-family:monospace,sans-serif,Courier!important}.ovpSearchFilters{max-width:20rem}.ttLeft{text-align:left}']],data:{animation:[{type:7,name:"fundidoInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"translateY(12%)"},offset:null},options:void 0},{type:0,name:"active, newItemAdded",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"300ms"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});function ts(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,70,"div",[["class","ui-g-12 ui-g-nopad fwcDivBoxed"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,69,"jqxSplitter",[],null,null,null,M.b,M.a)),t["\u0275did"](2,638976,null,0,F.a,[t.ElementRef],{attrOrientation:[0,"attrOrientation"],attrPanels:[1,"attrPanels"],attrWidth:[2,"attrWidth"],attrHeight:[3,"attrHeight"]},null),t["\u0275pod"](3,{size:0,min:1,collapsible:2}),t["\u0275pod"](4,{min:0,collapsible:1}),t["\u0275pad"](5,2),(l()(),t["\u0275eld"](6,0,[["divSidebar",1]],0,52,"div",[],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,51,"jqxSplitter",[],null,null,null,M.b,M.a)),t["\u0275did"](8,638976,null,0,F.a,[t.ElementRef],{attrOrientation:[0,"attrOrientation"],attrPanels:[1,"attrPanels"],attrShowSplitBar:[2,"attrShowSplitBar"],attrWidth:[3,"attrWidth"],attrHeight:[4,"attrHeight"]},null),t["\u0275pod"](9,{size:0,collapsible:1}),t["\u0275pod"](10,{collapsible:0}),t["\u0275pad"](11,2),(l()(),t["\u0275eld"](12,0,null,0,7,"div",[["class","fwcDivPadded fwcDivBoxed fwcDivPaddedTB"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,6,"div",[["class","fwcInputGroup"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,[["inputSearch",1]],null,1,"input",[["id","inputSearch"],["maxlength","255"],["name","inputSearch"],["pInputText",""],["type","text"]],[[8,"placeholder",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"keyup"],[null,"input"]],(function(l,n,e){var i=!0,u=l.component;return"input"===n&&(i=!1!==t["\u0275nov"](l,15).onInput(e)&&i),"keyup"===n&&(i=!1!==u.onSearchType(e.target.value)&&i),i}),null,null)),t["\u0275did"](15,278528,null,0,U.InputText,[t.ElementRef,[2,k.NgModel]],null,null),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(l.component.onSearchType(""),i=!1!==(t["\u0275nov"](l,14).value="")&&i),i}),null,null)),t["\u0275did"](17,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275eld"](18,0,null,null,1,"button",[["class","ui-button-primary"],["icon","pi pi-filter"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l.parent,12).toggle(e)&&i),i}),null,null)),t["\u0275did"](19,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275eld"](20,0,null,0,38,"div",[["sts-fwc-tree-accordion",""]],null,[["window","resize"]],(function(l,n,e){var i=!0;return"window:resize"===n&&(i=!1!==t["\u0275nov"](l,21).hostWindowResize()&&i),i}),J,H)),t["\u0275did"](21,4440064,null,1,W,[],null,null),t["\u0275qud"](603979776,5,{treePanels:1}),(l()(),t["\u0275eld"](23,0,null,0,11,"div",[["sts-fwc-tree-panel",""]],null,null,null,ll,Q)),t["\u0275prd"](4608,null,K.a,K.a,[q.HttpClient]),t["\u0275did"](25,4308992,[[5,4]],0,j.a,[t.ElementRef,t.Renderer2,X.a,z.a,Z.a],{header:[0,"header"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](27,0,null,0,7,"sts-fwc-tree",[],null,null,null,el.b,el.a)),t["\u0275prd"](512,null,K.a,K.a,[q.HttpClient]),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,al.a,al.a,[nl.l,sl.a,rl.a,il.a,cl.a,dl.a,pl.a,fl.a,gl.MessageService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,ml.DialogService,ml.DialogService,[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector]),t["\u0275did"](34,4440064,[[4,4]],0,vl.a,[z.a,K.a,Cl.a,cl.a,pl.a,il.a,tl.a,ul.a,ol.a,X.a,Sl.a,_l.a,sl.a,al.a,Rl.ConfirmationService,gl.MessageService,wl.a,rl.a,El.a,Il.a,bl.a,ml.DialogService,t.ChangeDetectorRef,nl.l,hl.m,[2,j.a],Z.a],{treeOptions:[0,"treeOptions"],treeSearchOptions:[1,"treeSearchOptions"]},null),(l()(),t["\u0275eld"](35,0,null,0,11,"div",[["sts-fwc-tree-panel",""]],null,null,null,ll,Q)),t["\u0275prd"](4608,null,K.a,K.a,[q.HttpClient]),t["\u0275did"](37,4308992,[[5,4]],0,j.a,[t.ElementRef,t.Renderer2,X.a,z.a,Z.a],{header:[0,"header"],expanded:[1,"expanded"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](39,0,null,0,7,"sts-fwc-tree",[],null,null,null,el.b,el.a)),t["\u0275prd"](512,null,K.a,K.a,[q.HttpClient]),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,al.a,al.a,[nl.l,sl.a,rl.a,il.a,cl.a,dl.a,pl.a,fl.a,gl.MessageService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,ml.DialogService,ml.DialogService,[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector]),t["\u0275did"](46,4440064,[[4,4]],0,vl.a,[z.a,K.a,Cl.a,cl.a,pl.a,il.a,tl.a,ul.a,ol.a,X.a,Sl.a,_l.a,sl.a,al.a,Rl.ConfirmationService,gl.MessageService,wl.a,rl.a,El.a,Il.a,bl.a,ml.DialogService,t.ChangeDetectorRef,nl.l,hl.m,[2,j.a],Z.a],{treeOptions:[0,"treeOptions"],treeSearchOptions:[1,"treeSearchOptions"]},null),(l()(),t["\u0275eld"](47,0,null,0,11,"div",[["sts-fwc-tree-panel",""]],null,null,null,ll,Q)),t["\u0275prd"](4608,null,K.a,K.a,[q.HttpClient]),t["\u0275did"](49,4308992,[[5,4]],0,j.a,[t.ElementRef,t.Renderer2,X.a,z.a,Z.a],{header:[0,"header"],expanded:[1,"expanded"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](51,0,null,0,7,"sts-fwc-tree",[],null,null,null,el.b,el.a)),t["\u0275prd"](512,null,K.a,K.a,[q.HttpClient]),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,al.a,al.a,[nl.l,sl.a,rl.a,il.a,cl.a,dl.a,pl.a,fl.a,gl.MessageService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,ml.DialogService,ml.DialogService,[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector]),t["\u0275did"](58,4440064,[[4,4]],0,vl.a,[z.a,K.a,Cl.a,cl.a,pl.a,il.a,tl.a,ul.a,ol.a,X.a,Sl.a,_l.a,sl.a,al.a,Rl.ConfirmationService,gl.MessageService,wl.a,rl.a,El.a,Il.a,bl.a,ml.DialogService,t.ChangeDetectorRef,nl.l,hl.m,[2,j.a],Z.a],{treeOptions:[0,"treeOptions"],treeSearchOptions:[1,"treeSearchOptions"]},null),(l()(),t["\u0275eld"](59,0,[[3,0],["gridContainerDiv",1]],0,11,"div",[["class","fwcPolicyMainContainer fwcDivOverflow"]],null,[[null,"scroll"]],(function(l,n,e){var t=!0;return"scroll"===n&&(t=!1!==l.component.handleGridScroll(e)&&t),t}),null,null)),(l()(),t["\u0275eld"](60,0,null,null,10,"sts-fwc-policy-grid",[],null,[["document","keyup"]],(function(l,n,e){var i=!0;return"document:keyup"===n&&(i=!1!==t["\u0275nov"](l,70).onKeyup(e)&&i),i}),Qe,In)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ql.a,ql.a,[q.HttpClient]),t["\u0275prd"](512,null,al.a,al.a,[nl.l,sl.a,rl.a,il.a,cl.a,dl.a,pl.a,fl.a,gl.MessageService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,an,an,[X.a,sl.a,cl.a,tl.a,il.a,Cl.a,fl.a,wl.a,rl.a,al.a,t.Renderer2,t.ChangeDetectorRef,gl.MessageService,Rl.ConfirmationService,nl.l,hl.m]),t["\u0275prd"](131584,null,rn,rn,[X.a,sl.a,t.ChangeDetectorRef,il.a,cl.a,Cl.a,Rl.ConfirmationService,rl.a,fl.a,al.a,hl.m,t.Renderer2,gl.MessageService,tl.a,nl.l]),t["\u0275prd"](512,null,cn.a,cn.a,[t.ChangeDetectorRef,fl.a]),t["\u0275prd"](512,null,dn.a,dn.a,[nl.l,sl.a,rl.a,il.a,cl.a,dl.a,pl.a,fl.a,gl.MessageService,Rl.ConfirmationService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,gn,gn,[nl.l,sl.a,rl.a,il.a,tl.a,cl.a,ol.a,Sl.a,fl.a,gl.MessageService,Rl.ConfirmationService,t.ChangeDetectorRef,hl.m]),t["\u0275prd"](512,null,vn,vn,[nl.l,sl.a,rl.a,il.a,cl.a,_l.a,ol.a,fl.a,gl.MessageService,Rl.ConfirmationService,t.ChangeDetectorRef,hl.m]),t["\u0275did"](70,4440064,null,0,En,[z.a,tl.a,cl.a,dl.a,pl.a,ql.a,Cl.a,fl.a,X.a,an,rn,cn.a,dn.a,al.a,Sl.a,gn,_l.a,vn,il.a,Sn.b,sl.a,Rl.ConfirmationService,gl.MessageService,wl.a,rl.a,hl.m,t.ChangeDetectorRef,nl.l],null,null)],(function(l,n){var e=n.component,i=l(n,5,0,l(n,3,0,280,170,!0),l(n,4,0,500,!1));l(n,2,0,"vertical",i,"100%","99%");var u=l(n,11,0,l(n,9,0,52,!1),l(n,10,0,!1));l(n,8,0,"horizontal",u,!1,"100%","100%"),l(n,15,0),l(n,17,0,"pi pi-times"),l(n,19,0,"pi pi-filter"),l(n,21,0),l(n,25,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,25,0,t["\u0275nov"](n,26).transform("POLICY.MSG_POLICY_TREES.TREE_FW")),"")),l(n,34,0,e.optionsTreeFw,e.treeSearchOptions),l(n,37,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,37,0,t["\u0275nov"](n,38).transform("POLICY.MSG_POLICY_TREES.TREE_OBJ")),""),!1),l(n,46,0,e.optionsTreeObj,e.treeSearchOptions),l(n,49,0,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,49,0,t["\u0275nov"](n,50).transform("POLICY.MSG_POLICY_TREES.TREE_SER")),""),!1),l(n,58,0,e.optionsTreeSrv,e.treeSearchOptions),l(n,70,0)}),(function(l,n){l(n,14,0,n.component.searchPlaceholderText,!0,!0,!0,!0,t["\u0275nov"](n,15).filled),l(n,16,0,!t["\u0275nov"](n,14).value.length)}))}function is(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,14,"div",[["class","divClipContainer"]],[[24,"@fundidoInOut",0]],null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,13,"div",[["class","divClipButton"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](3,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](4,{copyRules:0,cutRules:1}),(l()(),t["\u0275eld"](5,0,null,null,0,"i",[["class","fwci-rule"]],null,null,null,null,null)),(l()(),t["\u0275eld"](6,0,null,null,5,"div",[["class","divClipButton-msg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](7,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](8,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](10,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,["",""])),(l()(),t["\u0275eld"](12,0,null,null,2,"div",[["class","divClipButton-close"]],null,null,null,null,null)),(l()(),t["\u0275eld"](13,0,null,null,1,"button",[["class","ui-button-warning"],["icon","fa fa-trash"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.emptyRuleClipboard()&&t),t}),null,null)),t["\u0275did"](14,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component,t=l(n,4,0,(null==e.clipboardRules?null:e.clipboardRules.action)==e.ClipboardAction.COPY,(null==e.clipboardRules?null:e.clipboardRules.action)==e.ClipboardAction.CUT);l(n,3,0,"divClipButton",t),l(n,14,0,"fa fa-trash")}),(function(l,n){var e=n.component;l(n,0,0,void 0),l(n,8,0,t["\u0275unv"](n,8,0,t["\u0275nov"](n,9).transform("POLICY.RULE_CLIPBOARD"))),l(n,11,0,e.clipboardRulesTooltip)}))}function us(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","divClipContainer"]],[[24,"@fundidoInOut",0]],null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](3,{"divClipContainer--above":0}),(l()(),t["\u0275eld"](4,0,null,null,13,"div",[["class","divClipButton"]],null,null,null,null,null)),t["\u0275prd"](512,null,$["\u0275NgClassImpl"],$["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](6,278528,null,0,$.NgClass,[$["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t["\u0275pod"](7,{copyObjects:0,cutObjects:1}),(l()(),t["\u0275eld"](8,0,null,null,0,"i",[["class","fwci-ipobjects"]],null,null,null,null,null)),(l()(),t["\u0275eld"](9,0,null,null,5,"div",[["class","divClipButton-msg"]],null,null,null,null,null)),(l()(),t["\u0275eld"](10,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t["\u0275ted"](11,null,[" ",""])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](13,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t["\u0275ted"](14,null,["",""])),(l()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","divClipButton-close"]],null,null,null,null,null)),(l()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","ui-button-warning"],["icon","fa fa-trash"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.emptyObjectClipboard()&&t),t}),null,null)),t["\u0275did"](17,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null)],(function(l,n){var e=n.component,t=l(n,3,0,e.clipboardRules);l(n,2,0,"divClipContainer",t);var i=l(n,7,0,(null==e.clipboardObjects?null:e.clipboardObjects.action)==e.ClipboardAction.COPY,(null==e.clipboardObjects?null:e.clipboardObjects.action)==e.ClipboardAction.CUT);l(n,6,0,"divClipButton",i),l(n,17,0,"fa fa-trash")}),(function(l,n){var e=n.component;l(n,0,0,void 0),l(n,11,0,t["\u0275unv"](n,11,0,t["\u0275nov"](n,12).transform("POLICY.OBJECT_CLIPBOARD"))),l(n,14,0,e.clipboardObjectsTooltip)}))}function os(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](1,0,null,null,7,"p-checkbox",[["name","chkSearchFilters"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(l,n,e){var t=!0,i=l.component;return"ngModelChange"===n&&(t=!1!==(i.treeSearchOptions.searchFields=e)&&t),"onChange"===n&&(t=!1!==i.handleSearchFilterChange(e,l.context.$implicit)&&t),t}),Fl.b,Fl.a)),t["\u0275did"](2,49152,null,0,Ul.Checkbox,[t.ChangeDetectorRef],{value:[0,"value"],name:[1,"name"],label:[2,"label"]},{onChange:"onChange"}),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),t["\u0275prd"](1024,null,k.NG_VALUE_ACCESSOR,(function(l){return[l]}),[Ul.Checkbox]),t["\u0275did"](6,671744,null,0,k.NgModel,[[8,null],[8,null],[8,null],[6,k.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,k.NgControl,null,[k.NgModel]),t["\u0275did"](8,16384,null,0,k.NgControlStatus,[[4,k.NgControl]],null,null)],(function(l,n){var e=n.component;l(n,2,0,n.context.$implicit,"chkSearchFilters",t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,2,2,t["\u0275nov"](n,3).transform("POLICY.TREE_SEARCH_OPTIONS.SEARCH_BY"))+" "+t["\u0275unv"](n,2,2,t["\u0275nov"](n,4).transform(n.context.$implicit)),"")),l(n,6,0,"chkSearchFilters",e.treeSearchOptions.searchFields)}),(function(l,n){l(n,1,0,t["\u0275nov"](n,8).ngClassUntouched,t["\u0275nov"](n,8).ngClassTouched,t["\u0275nov"](n,8).ngClassPristine,t["\u0275nov"](n,8).ngClassDirty,t["\u0275nov"](n,8).ngClassValid,t["\u0275nov"](n,8).ngClassInvalid,t["\u0275nov"](n,8).ngClassPending)}))}function as(l){return t["\u0275vid"](0,[t["\u0275qud"](671088640,1,{policySplitter:0}),t["\u0275qud"](671088640,2,{dlgCompile:0}),t["\u0275qud"](671088640,3,{gridContainerDiv:0}),t["\u0275qud"](671088640,4,{fwcTreeComponents:1}),(l()(),t["\u0275eld"](4,0,null,null,2,"div",[["class","ui-g fwcDivBoxed fwcMainContainer"]],null,null,null,null,null)),(l()(),t["\u0275and"](16777216,null,null,1,null,ts)),t["\u0275did"](6,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,is)),t["\u0275did"](8,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275and"](16777216,null,null,1,null,us)),t["\u0275did"](10,16384,null,0,$.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](11,0,null,null,14,"p-overlayPanel",[["appendTo","body"],["styleClass","ovpSearchFilters"]],null,null,null,lt.b,lt.a)),t["\u0275did"](12,180224,[["pnlSearchFilters",4]],0,nt.OverlayPanel,[t.ElementRef,t.Renderer2,t.ChangeDetectorRef,t.NgZone],{styleClass:[0,"styleClass"],appendTo:[1,"appendTo"]},null),(l()(),t["\u0275eld"](13,0,null,0,12,"div",[["class","ui-g-nopad"]],null,null,null,null,null)),(l()(),t["\u0275eld"](14,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(l()(),t["\u0275eld"](15,0,null,null,5,"h6",[["class","fwcBlue"]],null,null,null,null,null)),(l()(),t["\u0275ted"](16,null,[" "," "])),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275eld"](18,0,null,null,2,"i",[["class","fa fa-fw fa-lg fa-info-circle"],["tooltipStyleClass","ttLeft"]],null,null,null,null,null)),t["\u0275did"](19,4341760,null,0,Tl.Tooltip,[t.ElementRef,t.NgZone],{tooltipStyleClass:[0,"tooltipStyleClass"],escape:[1,"escape"],text:[2,"text"]},null),t["\u0275pid"](131072,nl.k,[nl.l,t.ChangeDetectorRef]),(l()(),t["\u0275and"](16777216,null,null,1,null,os)),t["\u0275did"](22,278528,null,0,$.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](23,0,null,null,2,"div",[["class","ui-g-12 fwc-right"]],null,null,null,null,null)),(l()(),t["\u0275eld"](24,0,null,null,1,"button",[["class","ui-button-primary"],["icon","pi pi-check"],["pButton",""]],null,[[null,"click"]],(function(l,n,e){var i=!0;return"click"===n&&(i=!1!==t["\u0275nov"](l,12).hide()&&i),i}),null,null)),t["\u0275did"](25,4341760,null,0,G.ButtonDirective,[t.ElementRef],{icon:[0,"icon"]},null),(l()(),t["\u0275eld"](26,0,null,null,8,"sts-fwc-info-tooltip",[],null,null,null,et.b,et.a)),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,tt.a,tt.a,[q.HttpClient]),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,it.a,it.a,[q.HttpClient]),t["\u0275prd"](512,null,El.a,El.a,[q.HttpClient]),t["\u0275prd"](512,null,$l.a,$l.a,[]),t["\u0275did"](34,245760,null,0,ut.a,[Cn.a,ul.a,ol.a,Cl.a,tt.a,il.a,tl.a,cl.a,it.a,El.a,sl.a,pl.a,Sl.a,nl.l,$l.a,t.ChangeDetectorRef],null,null),(l()(),t["\u0275eld"](35,0,null,null,6,"sts-fwc-item-panel",[],null,null,null,Vi,Tt)),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,tt.a,tt.a,[q.HttpClient]),t["\u0275prd"](512,null,it.a,it.a,[q.HttpClient]),t["\u0275did"](41,4440064,null,0,Ot,[Cl.a,fl.a,ul.a,tl.a,ol.a,cl.a,bl.a,tt.a,El.a,Cn.a,it.a,il.a,pl.a,Sl.a,Rl.ConfirmationService,gl.MessageService,rl.a,nl.l,sl.a,t.ChangeDetectorRef,t.ElementRef,t.Renderer2,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](42,0,null,null,3,"sts-fwc-firewall-panel",[],null,null,null,qu,eu)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275did"](45,245760,null,0,lu,[il.a,Cl.a,tl.a,ol.a,Rl.ConfirmationService,Cn.a,cl.a,nu.a,sl.a,bl.a,gl.MessageService,nl.l,rl.a,wl.a,t.ChangeDetectorRef,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](46,0,null,null,2,"sts-fwc-firewall-compile-panel",[],null,null,null,Jo,eo)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275did"](48,245760,null,0,no,[Cl.a,Cn.a,il.a,tl.a,cl.a,sl.a,bl.a,Rl.ConfirmationService,gl.MessageService,wl.a,nu.a,rl.a,nl.l,t.ChangeDetectorRef,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](49,0,null,null,4,"sts-fwc-cluster-panel",[],null,null,null,$a,zo)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ol.a,ol.a,[q.HttpClient]),t["\u0275prd"](512,null,K.a,K.a,[q.HttpClient]),t["\u0275did"](53,245760,null,0,Xo,[il.a,Cl.a,tl.a,ol.a,Rl.ConfirmationService,K.a,Cn.a,cl.a,nu.a,sl.a,bl.a,gl.MessageService,rl.a,wl.a,t.ChangeDetectorRef,nl.l,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](54,0,null,null,4,"sts-fwc-ovconfig-panel",[],null,null,null,Ya.b,Ya.a)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275prd"](512,null,ul.a,ul.a,[q.HttpClient]),t["\u0275prd"](512,null,K.a,K.a,[q.HttpClient]),t["\u0275did"](58,245760,null,0,Ka.a,[Cl.a,Cn.a,bl.a,t.ChangeDetectorRef,il.a,tl.a,ul.a,K.a,El.a,wl.a,sl.a,nl.l,Rl.ConfirmationService,rl.a,nu.a,gl.MessageService,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](59,0,null,null,1,"sts-fwc-vpn-status-panel",[],null,null,null,qa.b,qa.a)),t["\u0275did"](60,245760,null,0,Xa.a,[Cl.a,Cn.a,bl.a,nl.l,t.ChangeDetectorRef,hl.m,yt.Router],null,null),(l()(),t["\u0275eld"](61,0,null,null,2,"sts-fwc-firewall-plugin-panel",[],null,null,null,O.c,O.b)),t["\u0275prd"](512,null,tl.a,tl.a,[q.HttpClient,il.a]),t["\u0275did"](63,245760,null,0,za.a,[Cl.a,Cn.a,il.a,tl.a,cl.a,sl.a,bl.a,Rl.ConfirmationService,gl.MessageService,wl.a,nu.a,rl.a,nl.l,t.ChangeDetectorRef,hl.m,yt.Router],null,null)],(function(l,n){var e=n.component;l(n,6,0,null!=e.fwcUser&&null!=e.fwcUser),l(n,8,0,e.clipboardRules),l(n,10,0,e.clipboardObjects),l(n,12,0,"ovpSearchFilters","body"),l(n,19,0,"ttLeft",!1,t["\u0275inlineInterpolate"](1,"",t["\u0275unv"](n,19,2,t["\u0275nov"](n,20).transform("POLICY.TREE_SEARCH_OPTIONS.TOOLTIP")),"")),l(n,22,0,e.searchFiltersOptions),l(n,25,0,"pi pi-check"),l(n,34,0),l(n,41,0),l(n,45,0),l(n,48,0),l(n,53,0),l(n,58,0),l(n,60,0),l(n,63,0)}),(function(l,n){l(n,16,0,t["\u0275unv"](n,16,0,t["\u0275nov"](n,17).transform("POLICY.TREE_SEARCH_OPTIONS.HEADER")))}))}function ss(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"sts-fwc-policy-main",[],null,null,null,as,es)),t["\u0275did"](1,4440064,null,0,ns,[Cn.a,Cl.a,il.a,fl.a,cl.a,Qa.a,gl.MessageService,rl.a,t.ChangeDetectorRef,hl.m,nl.l],null,null)],(function(l,n){l(n,1,0)}),null)}var rs=t["\u0275ccf"]("sts-fwc-policy-main",ns,ss,{},{searchChangeEmitter:"searchChangeEmitter"},[]),cs=e("qIZb"),ds=e("xhm7"),ps=e("XOMR"),fs=e("ZcxY"),gs=e("MFfR"),hs=e("zERH"),ms=e("hLWa"),vs=e("MK5l"),Cs=e("tobM"),Ss=e("0mnc"),_s=e("Vse+"),Rs=e("oZHa"),ws=e("rroj"),Es=e("0rG+"),Is=e("mLPb"),bs=e("Vfn7"),Os=e("mGTS"),ys=e("doMC"),Ts=e("vMIA"),Ps=e("WsFF"),Ns=e("+bFR"),Ds=e("dDNM"),As=e("fBTL"),Ls=e("3GNW"),Ms=e("IL0X"),Fs=e("SlyN"),Us=e("WwML"),ks=e("IP0z"),Gs=e("/HVE"),js=e("hOhj"),xs=e("rmC/"),Vs=e("/NBx"),Bs=e("ioIN"),Ws=e("Sn08"),Hs=e("Qe1B"),Js=e("No4M"),$s=e("sy7D"),Ys=e("eaP2"),Ks=e("KB/w"),qs=e("GS5F"),Xs=e("VYqR"),zs=e("4WZM"),Zs=e("bjBz"),Qs=e("ol0q"),lr=e("73c4"),nr=e("OPzY"),er=e("iaQo"),tr=e("emWS"),ir=e("2bbZ"),ur=e("0VuF"),or=e("yS08");class ar{}var sr=e("Itiq"),rr=e("kbps"),cr=e("LIyE"),dr=e("mz28"),pr=e("CC75"),fr=e("Yml6"),gr=e("bOdf"),hr=e("JIr8"),mr=e("lJxs");class vr{constructor(l,n,e,t,i){this.actions$=l,this.fwcPolicyService=n,this.messageService=e,this.translate=t,this.fwcErrorPipe=i,this.$loadPolicyTypes=Object(fr.e)(()=>this.actions$.pipe(Object(fr.f)(Ql.b.loadPolicyTypes),Object(gr.a)(l=>this.fwcPolicyService.getPolicyTypes().pipe(Object(hr.a)(l=>(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(l)}),Object(Rt.a)({data:[]}))))),Object(mr.a)(l=>{const n=l.data,e=n.find(l=>l.id===zl.z.POLICY_ROUTING);return e&&(e.show_action=0),Ql.b.policyTypesLoaded({policyTypes:n})})))}}e.d(n,"FwcPolicyModuleNgFactory",(function(){return Cr}));var Cr=t["\u0275cmf"](u,[],(function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,o.b,a.a,s.a,r.a,c.a,d.a,p.a,f.a,g.a,h.a,m.a,v.a,C.a,S.a,_.a,R.a,w.a,E.a,I.a,b.a,O.a,y.a,T.a,P.a,N.a,D.a,A.a,L.a,rs]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,$.NgLocalization,$.NgLocaleLocalization,[t.LOCALE_ID,[2,$["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,k["\u0275angular_packages_forms_forms_o"],k["\u0275angular_packages_forms_forms_o"],[]),t["\u0275mpd"](4608,k.FormBuilder,k.FormBuilder,[]),t["\u0275mpd"](4608,cs.IntegralUICommonService,cs.IntegralUICommonService,[]),t["\u0275mpd"](4608,ds.IntegralUIDragDropService,ds.IntegralUIDragDropService,[]),t["\u0275mpd"](4608,ps.IntegralUIFilterService,ps.IntegralUIFilterService,[]),t["\u0275mpd"](4608,$.DecimalPipe,$.DecimalPipe,[t.LOCALE_ID]),t["\u0275mpd"](4608,Sn.b,Sn.b,[]),t["\u0275mpd"](1073742336,$.CommonModule,$.CommonModule,[]),t["\u0275mpd"](1073742336,k["\u0275angular_packages_forms_forms_d"],k["\u0275angular_packages_forms_forms_d"],[]),t["\u0275mpd"](1073742336,k.FormsModule,k.FormsModule,[]),t["\u0275mpd"](1073742336,k.ReactiveFormsModule,k.ReactiveFormsModule,[]),t["\u0275mpd"](1073742336,fs.b,fs.b,[]),t["\u0275mpd"](1073742336,gs.IntegralUICoreModule,gs.IntegralUICoreModule,[]),t["\u0275mpd"](1073742336,hs.IntegralUICommonModule,hs.IntegralUICommonModule,[]),t["\u0275mpd"](1073742336,ms.IntegralUIAccordionModule,ms.IntegralUIAccordionModule,[]),t["\u0275mpd"](1073742336,vs.IntegralUIBaseGridModule,vs.IntegralUIBaseGridModule,[]),t["\u0275mpd"](1073742336,Cs.IntegralUIBaseListModule,Cs.IntegralUIBaseListModule,[]),t["\u0275mpd"](1073742336,Ss.IntegralUIGridModule,Ss.IntegralUIGridModule,[]),t["\u0275mpd"](1073742336,_s.IntegralUILayoutModule,_s.IntegralUILayoutModule,[]),t["\u0275mpd"](1073742336,Rs.IntegralUIListBarModule,Rs.IntegralUIListBarModule,[]),t["\u0275mpd"](1073742336,ws.IntegralUIListBoxModule,ws.IntegralUIListBoxModule,[]),t["\u0275mpd"](1073742336,Es.IntegralUIListViewModule,Es.IntegralUIListViewModule,[]),t["\u0275mpd"](1073742336,Is.IntegralUIMenuModule,Is.IntegralUIMenuModule,[]),t["\u0275mpd"](1073742336,bs.IntegralUISlideBarModule,bs.IntegralUISlideBarModule,[]),t["\u0275mpd"](1073742336,Os.IntegralUISplitContainerModule,Os.IntegralUISplitContainerModule,[]),t["\u0275mpd"](1073742336,ys.IntegralUITabStripModule,ys.IntegralUITabStripModule,[]),t["\u0275mpd"](1073742336,Ts.IntegralUITreeGridModule,Ts.IntegralUITreeGridModule,[]),t["\u0275mpd"](1073742336,Ps.IntegralUITreeListModule,Ps.IntegralUITreeListModule,[]),t["\u0275mpd"](1073742336,Ns.IntegralUITreeViewModule,Ns.IntegralUITreeViewModule,[]),t["\u0275mpd"](1073742336,Ds.IntegralUIModule,Ds.IntegralUIModule,[]),t["\u0275mpd"](1073742336,Gl.SharedModule,Gl.SharedModule,[]),t["\u0275mpd"](1073742336,St.DialogModule,St.DialogModule,[]),t["\u0275mpd"](1073742336,As.PanelModule,As.PanelModule,[]),t["\u0275mpd"](1073742336,G.ButtonModule,G.ButtonModule,[]),t["\u0275mpd"](1073742336,Ls.ConfirmDialogModule,Ls.ConfirmDialogModule,[]),t["\u0275mpd"](1073742336,nt.OverlayPanelModule,nt.OverlayPanelModule,[]),t["\u0275mpd"](1073742336,Bl.ProgressSpinnerModule,Bl.ProgressSpinnerModule,[]),t["\u0275mpd"](1073742336,Tl.TooltipModule,Tl.TooltipModule,[]),t["\u0275mpd"](1073742336,Ms.MessageModule,Ms.MessageModule,[]),t["\u0275mpd"](1073742336,Fs.TreeModule,Fs.TreeModule,[]),t["\u0275mpd"](1073742336,U.InputTextModule,U.InputTextModule,[]),t["\u0275mpd"](1073742336,pt.InputTextareaModule,pt.InputTextareaModule,[]),t["\u0275mpd"](1073742336,Bi.PasswordModule,Bi.PasswordModule,[]),t["\u0275mpd"](1073742336,Us.MessagesModule,Us.MessagesModule,[]),t["\u0275mpd"](1073742336,dt.TabViewModule,dt.TabViewModule,[]),t["\u0275mpd"](1073742336,rt.FieldsetModule,rt.FieldsetModule,[]),t["\u0275mpd"](1073742336,ks.a,ks.a,[]),t["\u0275mpd"](1073742336,Gs.b,Gs.b,[]),t["\u0275mpd"](1073742336,js.ScrollingModule,js.ScrollingModule,[]),t["\u0275mpd"](1073742336,Hl.DropdownModule,Hl.DropdownModule,[]),t["\u0275mpd"](1073742336,Nl.PaginatorModule,Nl.PaginatorModule,[]),t["\u0275mpd"](1073742336,yl.TableModule,yl.TableModule,[]),t["\u0275mpd"](1073742336,xs.ListboxModule,xs.ListboxModule,[]),t["\u0275mpd"](1073742336,Vs.ChipsModule,Vs.ChipsModule,[]),t["\u0275mpd"](1073742336,Bs.ChartModule,Bs.ChartModule,[]),t["\u0275mpd"](1073742336,Ws.ToolbarModule,Ws.ToolbarModule,[]),t["\u0275mpd"](1073742336,Ul.CheckboxModule,Ul.CheckboxModule,[]),t["\u0275mpd"](1073742336,yt.RouterModule,yt.RouterModule,[[2,yt["\u0275angular_packages_router_router_a"]],[2,yt.Router]]),t["\u0275mpd"](1073742336,Hs.SplitButtonModule,Hs.SplitButtonModule,[]),t["\u0275mpd"](1073742336,Js.MultiSelectModule,Js.MultiSelectModule,[]),t["\u0275mpd"](1073742336,Kl.BlockUIModule,Kl.BlockUIModule,[]),t["\u0275mpd"](1073742336,$s.RadioButtonModule,$s.RadioButtonModule,[]),t["\u0275mpd"](1073742336,Ys.SelectButtonModule,Ys.SelectButtonModule,[]),t["\u0275mpd"](1073742336,Ks.CalendarModule,Ks.CalendarModule,[]),t["\u0275mpd"](1073742336,qs.ProgressBarModule,qs.ProgressBarModule,[]),t["\u0275mpd"](1073742336,Xs.FileUploadModule,Xs.FileUploadModule,[]),t["\u0275mpd"](1073742336,zs.CardModule,zs.CardModule,[]),t["\u0275mpd"](1073742336,Zs.InputSwitchModule,Zs.InputSwitchModule,[]),t["\u0275mpd"](1073742336,Qs.TreeTableModule,Qs.TreeTableModule,[]),t["\u0275mpd"](1073742336,lr.StepsModule,lr.StepsModule,[]),t["\u0275mpd"](1073742336,nr.ContextMenuModule,nr.ContextMenuModule,[]),t["\u0275mpd"](1073742336,er.MenuModule,er.MenuModule,[]),t["\u0275mpd"](1073742336,tr.ColorPickerModule,tr.ColorPickerModule,[]),t["\u0275mpd"](1073742336,ir.DynamicDialogModule,ir.DynamicDialogModule,[]),t["\u0275mpd"](1073742336,ur.VirtualScrollerModule,ur.VirtualScrollerModule,[]),t["\u0275mpd"](1073742336,nl.i,nl.i,[]),t["\u0275mpd"](1073742336,or.a,or.a,[]),t["\u0275mpd"](1073742336,ar,ar,[]),t["\u0275mpd"](1073742336,sr.AccordionModule,sr.AccordionModule,[]),t["\u0275mpd"](1073742336,rr.GrowlModule,rr.GrowlModule,[]),t["\u0275mpd"](1073742336,cr.KeyFilterModule,cr.KeyFilterModule,[]),t["\u0275mpd"](1073742336,dr.ScrollPanelModule,dr.ScrollPanelModule,[]),t["\u0275mpd"](1073742336,pr.TabMenuModule,pr.TabMenuModule,[]),t["\u0275mpd"](1073742336,Dl.SidebarModule,Dl.SidebarModule,[]),t["\u0275mpd"](512,nl.h,nl.g,[]),t["\u0275mpd"](512,nl.d,nl.f,[]),t["\u0275mpd"](512,nl.j,nl.e,[]),t["\u0275mpd"](512,nl.c,nl.b,[]),t["\u0275mpd"](256,nl.n,void 0,[]),t["\u0275mpd"](256,nl.p,void 0,[]),t["\u0275mpd"](256,nl.o,void 0,[]),t["\u0275mpd"](256,nl.a,void 0,[]),t["\u0275mpd"](512,nl.l,nl.l,[nl.m,nl.h,nl.d,nl.j,nl.c,nl.n,nl.p,nl.o,nl.a]),t["\u0275mpd"](512,sl.a,sl.a,[nl.l]),t["\u0275mpd"](512,vr,vr,[fr.a,cl.a,gl.MessageService,nl.l,sl.a]),t["\u0275mpd"](1024,fr.k,(function(l){return[fr.g(l)]}),[vr]),t["\u0275mpd"](1073742336,fr.c,fr.c,[fr.d,fr.k,[2,hl.o],[2,hl.n]]),t["\u0275mpd"](1073742336,u,u,[t.Injector]),t["\u0275mpd"](1024,yt.ROUTES,(function(){return[[{path:"",component:ns},{path:"**",pathMatch:"full",redirectTo:""}]]}),[])])}))},Pchq:function(l,n,e){"use strict";var t=this&&this.__decorate||function(l,n,e,t){var i,u=arguments.length,o=u<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(i=l[a])&&(o=(u<3?i(o):u>3?i(n,e,o):i(n,e))||o);return u>3&&o&&Object.defineProperty(n,e,o),o},i=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)};Object.defineProperty(n,"__esModule",{value:!0});var u=e("8Y7J"),o=e("GS7A"),a=e("SVse"),s=e("sdDj"),r=function(){function l(l,n){this.el=l,this.renderer=n,this.position="left",this.blockScroll=!1,this.autoZIndex=!0,this.baseZIndex=0,this.modal=!0,this.dismissible=!0,this.showCloseIcon=!0,this.closeOnEscape=!0,this.onShow=new u.EventEmitter,this.onHide=new u.EventEmitter,this.visibleChange=new u.EventEmitter}return l.prototype.ngAfterViewInit=function(){this.initialized=!0,this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.containerViewChild.nativeElement):s.DomHandler.appendChild(this.containerViewChild.nativeElement,this.appendTo)),this.visible&&this.show()},Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(l){this._visible=l,this.initialized&&this.containerViewChild&&this.containerViewChild.nativeElement&&(this._visible?this.show():this.preventVisibleChangePropagation?this.preventVisibleChangePropagation=!1:this.hide())},enumerable:!0,configurable:!0}),l.prototype.ngAfterViewChecked=function(){this.executePostDisplayActions&&(this.onShow.emit({}),this.executePostDisplayActions=!1)},l.prototype.show=function(){this.executePostDisplayActions=!0,this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++s.DomHandler.zindex)),this.modal&&this.enableModality()},l.prototype.hide=function(){this.onHide.emit({}),this.modal&&this.disableModality()},l.prototype.close=function(l){this.preventVisibleChangePropagation=!0,this.hide(),this.visibleChange.emit(!1),l.preventDefault()},l.prototype.enableModality=function(){var l=this;this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(this.containerViewChild.nativeElement.style.zIndex)-1),s.DomHandler.addMultipleClasses(this.mask,"ui-widget-overlay ui-sidebar-mask"),this.dismissible&&(this.maskClickListener=this.renderer.listen(this.mask,"click",(function(n){l.dismissible&&l.close(n)}))),document.body.appendChild(this.mask),this.blockScroll&&s.DomHandler.addClass(document.body,"ui-overflow-hidden"))},l.prototype.disableModality=function(){this.mask&&(this.unbindMaskClickListener(),document.body.removeChild(this.mask),this.blockScroll&&s.DomHandler.removeClass(document.body,"ui-overflow-hidden"),this.mask=null)},l.prototype.onAnimationStart=function(l){switch(l.toState){case"visible":this.closeOnEscape&&this.bindDocumentEscapeListener();break;case"hidden":this.unbindGlobalListeners()}},l.prototype.bindDocumentEscapeListener=function(){var l=this;this.documentEscapeListener=this.renderer.listen("document","keydown",(function(n){27==n.which&&parseInt(l.containerViewChild.nativeElement.style.zIndex)===s.DomHandler.zindex+l.baseZIndex&&l.close(n)}))},l.prototype.unbindDocumentEscapeListener=function(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)},l.prototype.unbindMaskClickListener=function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)},l.prototype.unbindGlobalListeners=function(){this.unbindMaskClickListener(),this.unbindDocumentEscapeListener()},l.prototype.ngOnDestroy=function(){this.initialized=!1,this.visible&&this.hide(),this.appendTo&&this.el.nativeElement.appendChild(this.containerViewChild.nativeElement),this.unbindGlobalListeners()},t([u.Input(),i("design:type",String)],l.prototype,"position",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"fullScreen",void 0),t([u.Input(),i("design:type",String)],l.prototype,"appendTo",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"blockScroll",void 0),t([u.Input(),i("design:type",Object)],l.prototype,"style",void 0),t([u.Input(),i("design:type",String)],l.prototype,"styleClass",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"autoZIndex",void 0),t([u.Input(),i("design:type",Number)],l.prototype,"baseZIndex",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"modal",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"dismissible",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"showCloseIcon",void 0),t([u.Input(),i("design:type",Boolean)],l.prototype,"closeOnEscape",void 0),t([u.ViewChild("container",{static:!1}),i("design:type",u.ElementRef)],l.prototype,"containerViewChild",void 0),t([u.Output(),i("design:type",u.EventEmitter)],l.prototype,"onShow",void 0),t([u.Output(),i("design:type",u.EventEmitter)],l.prototype,"onHide",void 0),t([u.Output(),i("design:type",u.EventEmitter)],l.prototype,"visibleChange",void 0),t([u.Input(),i("design:type",Boolean),i("design:paramtypes",[Boolean])],l.prototype,"visible",null),t([u.Component({selector:"p-sidebar",template:"\n        <div #container [ngClass]=\"{'ui-sidebar ui-widget ui-widget-content ui-shadow':true, 'ui-sidebar-active': visible, \n            'ui-sidebar-left': (position === 'left'), 'ui-sidebar-right': (position === 'right'),\n            'ui-sidebar-top': (position === 'top'), 'ui-sidebar-bottom': (position === 'bottom'), \n            'ui-sidebar-full': fullScreen}\"\n            [@panelState]=\"visible ? 'visible' : 'hidden'\" (@panelState.start)=\"onAnimationStart($event)\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <a [ngClass]=\"{'ui-sidebar-close ui-corner-all':true}\" *ngIf=\"showCloseIcon\" tabindex=\"0\" role=\"button\" (click)=\"close($event)\" (keydown.enter)=\"close($event)\">\n                <span class=\"pi pi-times\"></span>\n            </a>\n            <ng-content></ng-content>\n        </div>\n    ",animations:[o.trigger("panelState",[o.state("hidden",o.style({opacity:0})),o.state("visible",o.style({opacity:1})),o.transition("visible => hidden",o.animate("300ms ease-in")),o.transition("hidden => visible",o.animate("300ms ease-out"))])]}),i("design:paramtypes",[u.ElementRef,u.Renderer2])],l)}();n.Sidebar=r;var c=t([u.NgModule({imports:[a.CommonModule],exports:[r],declarations:[r]})],(function(){}));n.SidebarModule=c},"YsG+":function(l,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(l){for(var e in l)n.hasOwnProperty(e)||(n[e]=l[e])}(e("mU/a"))},ZujO:function(l,n){},mz28:function(l,n,e){"use strict";var t=this&&this.__decorate||function(l,n,e,t){var i,u=arguments.length,o=u<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(i=l[a])&&(o=(u<3?i(o):u>3?i(n,e,o):i(n,e))||o);return u>3&&o&&Object.defineProperty(n,e,o),o},i=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)};Object.defineProperty(n,"__esModule",{value:!0});var u=e("8Y7J"),o=e("SVse"),a=e("sdDj"),s=function(){function l(l,n){this.el=l,this.zone=n,this.timeoutFrame=function(l){return setTimeout(l,0)}}return l.prototype.ngAfterViewInit=function(){var l=this;this.zone.runOutsideAngular((function(){l.moveBar(),l.moveBar=l.moveBar.bind(l),l.onXBarMouseDown=l.onXBarMouseDown.bind(l),l.onYBarMouseDown=l.onYBarMouseDown.bind(l),l.onDocumentMouseMove=l.onDocumentMouseMove.bind(l),l.onDocumentMouseUp=l.onDocumentMouseUp.bind(l),window.addEventListener("resize",l.moveBar),l.contentViewChild.nativeElement.addEventListener("scroll",l.moveBar),l.contentViewChild.nativeElement.addEventListener("mouseenter",l.moveBar),l.xBarViewChild.nativeElement.addEventListener("mousedown",l.onXBarMouseDown),l.yBarViewChild.nativeElement.addEventListener("mousedown",l.onYBarMouseDown),l.calculateContainerHeight(),l.initialized=!0}))},l.prototype.calculateContainerHeight=function(){var l=this.containerViewChild.nativeElement,n=this.contentViewChild.nativeElement,e=this.xBarViewChild.nativeElement,t=getComputedStyle(l),i=getComputedStyle(e),u=a.DomHandler.getHeight(l)-parseInt(i.height,10);"none"!=t["max-height"]&&0==u&&(l.style.height=n.offsetHeight+parseInt(i.height,10)>parseInt(t["max-height"],10)?t["max-height"]:n.offsetHeight+parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)+"px")},l.prototype.moveBar=function(){var l=this,n=this.containerViewChild.nativeElement,e=this.contentViewChild.nativeElement,t=this.xBarViewChild.nativeElement,i=e.scrollWidth,u=-1*(n.clientHeight-t.clientHeight);this.scrollXRatio=e.clientWidth/i;var o=this.yBarViewChild.nativeElement,s=e.scrollHeight,r=-1*(n.clientWidth-o.clientWidth);this.scrollYRatio=e.clientHeight/s,this.requestAnimationFrame((function(){l.scrollXRatio>=1?a.DomHandler.addClass(t,"ui-scrollpanel-hidden"):(a.DomHandler.removeClass(t,"ui-scrollpanel-hidden"),t.style.cssText="width:"+Math.max(100*l.scrollXRatio,10)+"%; left:"+e.scrollLeft/i*100+"%;bottom:"+u+"px;"),l.scrollYRatio>=1?a.DomHandler.addClass(o,"ui-scrollpanel-hidden"):(a.DomHandler.removeClass(o,"ui-scrollpanel-hidden"),o.style.cssText="height:"+Math.max(100*l.scrollYRatio,10)+"%; top: calc("+e.scrollTop/s*100+"% - "+t.clientHeight+"px);right:"+r+"px;")}))},l.prototype.onYBarMouseDown=function(l){this.isYBarClicked=!0,this.lastPageY=l.pageY,a.DomHandler.addClass(this.yBarViewChild.nativeElement,"ui-scrollpanel-grabbed"),a.DomHandler.addClass(document.body,"ui-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),l.preventDefault()},l.prototype.onXBarMouseDown=function(l){this.isXBarClicked=!0,this.lastPageX=l.pageX,a.DomHandler.addClass(this.xBarViewChild.nativeElement,"ui-scrollpanel-grabbed"),a.DomHandler.addClass(document.body,"ui-scrollpanel-grabbed"),document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp),l.preventDefault()},l.prototype.onDocumentMouseMove=function(l){this.isXBarClicked?this.onMouseMoveForXBar(l):(this.isYBarClicked||this.onMouseMoveForXBar(l),this.onMouseMoveForYBar(l))},l.prototype.onMouseMoveForXBar=function(l){var n=this,e=l.pageX-this.lastPageX;this.lastPageX=l.pageX,this.requestAnimationFrame((function(){n.contentViewChild.nativeElement.scrollLeft+=e/n.scrollXRatio}))},l.prototype.onMouseMoveForYBar=function(l){var n=this,e=l.pageY-this.lastPageY;this.lastPageY=l.pageY,this.requestAnimationFrame((function(){n.contentViewChild.nativeElement.scrollTop+=e/n.scrollYRatio}))},l.prototype.scrollTop=function(l){var n=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;this.contentViewChild.nativeElement.scrollTop=l=l>n?n:l>0?l:0},l.prototype.onDocumentMouseUp=function(l){a.DomHandler.removeClass(this.yBarViewChild.nativeElement,"ui-scrollpanel-grabbed"),a.DomHandler.removeClass(this.xBarViewChild.nativeElement,"ui-scrollpanel-grabbed"),a.DomHandler.removeClass(document.body,"ui-scrollpanel-grabbed"),document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),this.isXBarClicked=!1,this.isYBarClicked=!1},l.prototype.requestAnimationFrame=function(l){(window.requestAnimationFrame||this.timeoutFrame)(l)},l.prototype.ngOnDestroy=function(){this.initialized&&(window.removeEventListener("resize",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("scroll",this.moveBar),this.contentViewChild.nativeElement.removeEventListener("mouseenter",this.moveBar),this.xBarViewChild.nativeElement.removeEventListener("mousedown",this.onXBarMouseDown),this.yBarViewChild.nativeElement.removeEventListener("mousedown",this.onYBarMouseDown))},l.prototype.refresh=function(){this.moveBar()},t([u.Input(),i("design:type",Object)],l.prototype,"style",void 0),t([u.Input(),i("design:type",String)],l.prototype,"styleClass",void 0),t([u.ViewChild("container",{static:!1}),i("design:type",u.ElementRef)],l.prototype,"containerViewChild",void 0),t([u.ViewChild("content",{static:!1}),i("design:type",u.ElementRef)],l.prototype,"contentViewChild",void 0),t([u.ViewChild("xBar",{static:!1}),i("design:type",u.ElementRef)],l.prototype,"xBarViewChild",void 0),t([u.ViewChild("yBar",{static:!1}),i("design:type",u.ElementRef)],l.prototype,"yBarViewChild",void 0),t([u.Component({selector:"p-scrollPanel",template:'\n        <div #container [ngClass]="\'ui-scrollpanel ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div class="ui-scrollpanel-wrapper">\n                <div #content class="ui-scrollpanel-content">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n            <div #xBar class="ui-scrollpanel-bar ui-scrollpanel-bar-x"></div>\n            <div #yBar class="ui-scrollpanel-bar ui-scrollpanel-bar-y"></div>   \n        </div>\n    '}),i("design:paramtypes",[u.ElementRef,u.NgZone])],l)}();n.ScrollPanel=s;var r=t([u.NgModule({imports:[o.CommonModule],exports:[s],declarations:[s]})],(function(){}));n.ScrollPanelModule=r}}]);