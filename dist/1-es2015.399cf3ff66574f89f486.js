(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3D7H":function(e,l,t){"use strict";var n=t("8Y7J"),i=t("Ge8E"),a=t("EjV3"),s=t("TSSN"),o=t("SVse"),r=t("m6j1");t("PIn4"),t("IheW"),t("P6hr"),t("FHuN"),t("w2nL"),t("77Y5"),t("glvV"),t("sqqX"),t("QJSW"),t("H9gU"),t("Mebi"),t("XY+R"),t("mLt5"),t.d(l,"a",(function(){return u})),t.d(l,"b",(function(){return h}));var u=n["\u0275crt"]({encapsulation:2,styles:[[":root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}div#fitDivLoader{text-align:center}div.fitOverlayPanel.ui-overlaypanel{min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border-radius:.5rem}div.fitDivInfo{color:var(--fwcDark);line-height:1.5;font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid var(--fwcOrange);padding-bottom:.3rem;margin-bottom:.3rem}div.fitDivInfo .fitDivInfoTitle{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}div.fitDivInfo table{width:100%;table-layout:fixed;margin-top:.3rem;border:0;background:0 0!important}div.fitDivInfo table td,div.fitDivInfo table tr{margin:0!important;padding:.3rem!important}div.fitDivInfo table td{white-space:nowrap;text-overflow:ellipsis;overflow-x:hidden}div.fitDivInfo table *{background:0 0!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;padding-left:1rem;margin-bottom:0}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:var(--fwcWhite);background-color:var(--fwcMidDark2);border:1px solid var(--fwcMidDark2);border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(var(--fwcDark),.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:var(--fwcDark)!important;background-color:var(--fwcWhite)!important;border:1px solid var(--fwcShadow)}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}"]],data:{animation:[{type:7,name:"fundidoIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"250ms linear"}],options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"250ms linear"},options:null}],options:{}}]}});function c(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["id","fitDivLoader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),n["\u0275did"](2,49152,null,0,a.ProgressSpinner,[],{style:[0,"style"]},null),n["\u0275pod"](3,{width:0,height:1})],(function(e,l){var t=e(l,3,0,"1.7rem","1.7rem");e(l,2,0,t)}),null)}function d(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[" "," ",""])),n["\u0275pid"](131072,s.k,[s.l,n.ChangeDetectorRef])],null,(function(e,l){e(l,1,0,l.component.objectInfo.nodes.length,n["\u0275unv"](l,1,1,n["\u0275nov"](l,2).transform("INFO_TT.NODES")))}))}function f(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,21,"div",[["class","fitDivInfo"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"h6",[],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-info-circle fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](3,null,["\xa0"," "])),n["\u0275pid"](131072,s.k,[s.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](5,0,null,null,1,"span",[["class","fitSpanClose"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-times-circle"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=0!=(e.component.showTooltip=!1)&&n),n}),null,null)),(e()(),n["\u0275eld"](7,0,null,null,13,"div",[["class","fitDivInfoTitle"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),n["\u0275ppd"](9,1),(e()(),n["\u0275ted"](-1,null,["\xa0\xa0"])),(e()(),n["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,["",""])),(e()(),n["\u0275ted"](-1,null,[" ("])),(e()(),n["\u0275eld"](14,0,null,null,2,"i",[],null,null,null,null,null)),(e()(),n["\u0275ted"](15,null,["",""])),n["\u0275pid"](131072,s.k,[s.l,n.ChangeDetectorRef]),(e()(),n["\u0275ted"](-1,null,[")"])),(e()(),n["\u0275eld"](18,0,null,null,0,"span",[["class","spanSep"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,d)),n["\u0275did"](20,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](21,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],(function(e,l){e(l,20,0,l.component.objectInfo.nodes)}),(function(e,l){var t=l.component;e(l,3,0,n["\u0275unv"](l,3,0,n["\u0275nov"](l,4).transform("ITEM_PANEL.HEADER.OBJ_INFO")));var i=n["\u0275inlineInterpolate"](1,"fwcIcon ",n["\u0275unv"](l,8,0,e(l,9,0,n["\u0275nov"](l.parent,0),t.objectInfo.type)),"");e(l,8,0,i),e(l,12,0,t.objectInfo.name),e(l,15,0,n["\u0275unv"](l,15,0,n["\u0275nov"](l,16).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectInfo.type))),e(l,21,0,n["\u0275inlineInterpolate"](1,"",t.objectInfo.infoHTML,""))}))}function p(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,4,"h6",[],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-exclamation-circle fwcRed"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["\xa0Error: "])),(e()(),n["\u0275eld"](4,0,null,null,1,"span",[["class","fitSpanClose"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-lg fa-times-circle"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=0!=(e.component.showTooltip=!1)&&n),n}),null,null)),(e()(),n["\u0275eld"](6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](8,null,[" "," "]))],null,(function(e,l){e(l,8,0,l.component.objectError)}))}function h(e){return n["\u0275vid"](0,[n["\u0275pid"](0,r.a,[]),n["\u0275qud"](671088640,1,{tooltipElem:0}),(e()(),n["\u0275eld"](2,0,[[1,0],["tooltipElem",1]],null,9,"div",[["class","fitTooltipDiv--light"],["id","fitTooltipDiv"]],[[24,"@fundidoIn",0]],null,null,null,null)),n["\u0275prd"](512,null,o["\u0275NgStyleImpl"],o["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](4,278528,null,0,o.NgStyle,[o["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](5,{top:0,left:1,visibility:2}),(e()(),n["\u0275and"](16777216,null,null,1,null,c)),n["\u0275did"](7,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,f)),n["\u0275did"](9,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,p)),n["\u0275did"](11,16384,null,0,o.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component,n=e(l,5,0,(null==t.tooltipY?null:t.tooltipY.toString())+"px",(null==t.tooltipX?null:t.tooltipX.toString())+"px",t.showTooltip?"visible":"hidden");e(l,4,0,n),e(l,7,0,t.loadingData),e(l,9,0,!t.loadingData&&t.objectInfo),e(l,11,0,!t.loadingData&&t.objectError)}),(function(e,l){e(l,2,0,void 0)}))}},"8YFm":function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(e){for(var t in e)l.hasOwnProperty(t)||(l[t]=e[t])}(t("Czxz"))},BCAg:function(e,l,t){"use strict";t.d(l,"a",(function(){return u}));var n=t("mrSG"),i=t("o0su"),a=(t("24Yq"),t("v8DO")),s=t("v8Ou"),o=t("tptX"),r=(t("XY+R"),t("/vtt"));class u extends o.a{constructor(e,l,t,n,i,a,s,o,r,u,c){super(e,l,t,n,a,s,o,r,u,c),this.translate=e,this.fwcErrorPipe=l,this.utilService=t,this.fwcUserService=n,this.fwcPolicyService=i,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=s,this.ruleSelectedService=o,this.messageService=r,this.cd=u,this.store=c}showNewRoutingTableDialog(e,l,t,n,i,a){const s=this.utilService.createDynamicComponentRef(r.a),o=s.instance;o.setDynamicComponentRef(s),o.showNewRoutingTableDialog(e,l,t,n,i,a)}showNewRouteDialog(e,l,t,n,i,s){const o=this.utilService.createDynamicComponentRef(a.a),r=o.instance;r.setDynamicComponentRef(o),r.showNewRouteDialog(e,l,t,n,i,s)}parseRoutingTableRoutes(e,l,t){let n=[];for(let a of t){let t={id:a.id,idgroup:a.routeGroupId,group_name:a.routeGroup&&a.routeGroup.name,group_style:a.routeGroup&&a.routeGroup.style,comment:a.comment,style:a.style,type:i.u.ROUTING_TABLE,rule_order:a.route_order,active:a.active?1:0,firewall:e,fwcloud:l,positions:[]},s=1;const o={id:i.t.TO_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_E"),policy_type:t.type,position_order:s++,content:"O",single_object:0,fwcloud:l,firewall:e,rule:t.id,ipobjs:[]};if(Array.isArray(a.items)){let e=1;for(const l of a.items){const n={rule:t.id,position:i.t.TO_POSITION,id:l.id,name:l.name,type:l.type,position_order:e++,firewall_id:l.firewall_id,firewall_name:l.firewall_name,cluster_id:l.cluster_id,cluster_name:l.cluster_name,host_id:l.host_id,host_name:l.host_name};o.ipobjs.push(n)}}if(t.positions.push(o),a.gateway){const n=a.gateway,o={id:i.t.GATEWAY_POSITION,name:this.translate.instant("Gateway"),policy_type:t.type,position_order:s++,content:"O",single_object:1,fwcloud:l,firewall:e,rule:t.id,ipobjs:[{rule:t.id,position:i.t.GATEWAY_POSITION,id:n.id,name:n.name,type:n.ipObjTypeId,allowDrag:!1,position_order:1,firewall_id:n.firewall_id,firewall_name:n.firewall_name,cluster_id:n.cluster_id,cluster_name:n.cluster_name,host_id:n.host_id,host_name:n.host_name}]};t.positions.push(o)}const r={id:i.t.INTERFACE_POSITION,name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),policy_type:t.type,position_order:s++,content:"I",single_object:1,fwcloud:l,firewall:e,rule:t.id,ipobjs:[]};if(a.interface){const e=a.interface;r.ipobjs.push({rule:t.id,position:i.t.INTERFACE_POSITION,id:e.id,name:e.name,type:e.type,position_order:1,firewall_id:e.firewall_id||e.firewallId,firewall_name:e.firewall_name,cluster_id:e.cluster_id,cluster_name:e.cluster_name,host_id:e.host_id,host_name:e.host_name})}t.positions.push(r),n.push(t)}return n}updateRoute(e,l,t,n,i,a){let s=!1,o=!1;const r=t.comment,u=t.style,c=t.active,d=t.id,f=t.routingTableId;let p={};n!==r&&(p.comment=n,s=!0,o=!0),i!==u&&(p.style=i,s=!0),a!==c&&(p.active=!!a,s=!0,o=!0),s&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,l,f,d,p).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),i!==u&&(t.style=i),a!==c&&(t.active=a),n!==r&&(t.comment=n),o&&this.fwcPolicyService.reloadPolicy()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),i!==u&&(t.style=u),a!==c&&(t.active=c),n!==r&&(t.comment=r)}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}updateSelectedRoutes(e,l,t,n,i){const a=this.ruleSelectedService.getActualSelectedRules();if(Array.isArray(a)&&a.length){const s=a.map(e=>e.id);this.ruleSelectedService.setRuleStatus("");const o=!!Object.keys(i).filter(e=>"style"!==e).length;this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoutes.bind(this.fwcRoutingTableService),l,t,n,s,i).then(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),o&&this.dispatchFwStatusUpdateAction(e,l)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}buildRoutesCopyApiData(e,l){let t={};switch(l.id){case i.t.GATEWAY_POSITION:t.gatewayId=e._fwcObjId;break;case i.t.INTERFACE_POSITION:t.interfaceId=e._fwcObjId;break;case i.t.TO_POSITION:t=this.buildCopyApiData(e,l);break;default:return}return t}buildRoutesRemoveApiData(e,l){let t={};switch(l.id){case i.t.GATEWAY_POSITION:break;case i.t.INTERFACE_POSITION:t.interfaceId=null;break;case i.t.TO_POSITION:t=this.buildRemoveApiData(e,l);break;default:return}return t}updateRoutePosition(e,l,t,n,a,s,o,r){let u={};null==o._fwcPositionId||null==o._fwcRuleId||r==i.b.COPY?(u=this.buildRoutesCopyApiData(o,s),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),l,t,n,a,u).then(t=>{this.addOrUpdateObjectToPosition(s,o),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")});const n=e.getClusterId();this.dispatchFwStatusUpdateAction(n,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(a)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(e,l,t,n,a,s,o).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}moveObjectAlt(e,l,t,i,a,s,o){return Object(n.a)(this,void 0,void 0,(function*(){try{const n=this.buildRoutesCopyApiData(o,s);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),l,t,i,a,n);const r=e.getPolicyRule(o._fwcRuleId),u=r.positions.find(e=>e.id===o._fwcPositionId),c=this.buildRoutesRemoveApiData(o,u);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),l,t,i,r.id,c),this.addOrUpdateObjectToPosition(s,o),this.removeObjectFromPosition(u,o);const d=e.getClusterId();this.dispatchFwStatusUpdateAction(d,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(r.id),this.ruleSelectedService.setRuleHeightRecalculate(a)}catch(n){throw n}}))}moveObject(e,l,t,a,s,o,r){return Object(n.a)(this,void 0,void 0,(function*(){try{let n,u;switch(r._fwcObjType){case i.p.OBJ_GROUP:n="ipObjGroupId";break;case i.p.OBJ_OPENVPN_PREFIX:n="openVPNPrefixId";break;case i.p.OBJ_VPN_CONFIG_CLI:n="openVPNId";break;case i.p.OBJ_INTERFACE_FIREWALL:n="interfaceId";break;default:n="ipObjId"}const c=e.getPolicyRule(r._fwcRuleId),d=c.positions.find(e=>e.id===r._fwcPositionId);u={fromId:c.id,toId:s},u[n]=r._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingTableService.moveObjectInRoutes.bind(this.fwcRoutingTableService),l,t,a,o.id,u),this.addOrUpdateObjectToPosition(o,r),this.removeObjectFromPosition(d,r);const f=e.getClusterId();this.dispatchFwStatusUpdateAction(f,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(c.id),this.ruleSelectedService.setRuleHeightRecalculate(s)}catch(n){throw n}}))}addOrUpdateObjectToPosition(e,l){const t={cluster_id:l._fwcClusterId,cluster_name:l._fwcClusterName,firewall_id:l._fwcFwId,firewall_name:l._fwcFwName,host_id:l._fwcHostId,host_name:l._fwcHostName,id:l._fwcObjId,id_obj:l._fwcObjId,name:l._fwcObjName,obj_type:l._fwcObjType,parent_id:l.parent_id,position:e.id,position_order:e.ipobjs?e.ipobjs.length:1,rule:e.rule,type:l._fwcObjType,_fwcFwId:l._fwcFwId,_fwcFwName:l._fwcFwName,_fwcObjId:l._fwcObjId,_fwcObjName:l._fwcObjName,_fwcObjType:l._fwcObjType,_fwcPositionId:e.id,_fwcRuleId:e.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:l.highlighted};e.id===i.t.GATEWAY_POSITION||e.id===i.t.INTERFACE_POSITION?(e.id===i.t.GATEWAY_POSITION?(e.ipobjs=e.ipobjs.filter(e=>e.obj_type!==i.p.OBJ_ADDRESS),t.allowDrag=!1):e.ipobjs=e.ipobjs.filter(e=>e.obj_type!==i.p.OBJ_INTERFACE_FIREWALL&&e.obj_type!==i.p.OBJ_INTERFACE_HOST),e.ipobjs.unshift(t)):e.id===i.t.TO_POSITION&&(e.ipobjs=[...e.ipobjs,t])}deleteObjectFromPosition(e,l,t,n,a,s,o){let r={};switch(s.id){case i.t.INTERFACE_POSITION:r.interfaceId=null;break;case i.t.TO_POSITION:r=this.buildRemoveApiData(o,s);break;default:return}this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),e,t,n,a,r).then(t=>{this.removeObjectFromPosition(s,o),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(l,e),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(a)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}compileRoutes(e){this.compileRulesOrRoutes(e)}moveSelectedRoutes(e,l,t,n,a,o,r){this.store.dispatch(s.d.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingTableService.manageTableRoutes.bind(this.fwcRoutingTableService),l,t,n,a,r,o,i.b.CUT).then(t=>{this.fwcPolicyService.reloadPolicy(),this.dispatchFwStatusUpdateAction(e,l)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(s.d.requestUnblockUI())})}setRouteStyle(e,l){if(l){const t={style:l.ruleColor};this.updateSelectedRoutes(e._fwcClusterId,e.firewall,this.fwcUserService.getActualFwSelectedCloud(),l.routingTableId,t)}}updateRouteComment(e,l){if(l&&l.formModel){const t=l.formModel.comment;if(l.comment!==t){const n=l.firewall,i=l.fwcloud,a={comment:t};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),n,i,e,l.id,a).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),l.comment=t,this.dispatchFwStatusUpdateAction(l._fwcClusterId,n)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),l.formModel.comment=l.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}newRouteGroup(e,l,t){let n=t&&t.groupName,a=t&&t.groupComment;if(n){const t=this.ruleSelectedService.getActualSelectedRules().map(e=>e.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRouteGroup.bind(this.fwcRoutingTableService),e,l,n,a,t).then(e=>{this.store.dispatch(s.a.reloadDialog({dialogUuids:[i.e.ITEM_PANEL]})),this.fwcPolicyService.reloadPolicy()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}}},DSdC:function(e,l,t){"use strict";t.d(l,"a",(function(){return s}));var n=t("8Y7J"),i=t("EMdb"),a=(t("ePWF"),t("AjHW"),t("H9gU"),t("qp7v"));t("24Yq"),t("8YFm"),t("o0su");class s{constructor(e,l,t,a,s,o,r,u,c){this.refService=e,this.itemSelectedService=l,this.confirmationService=t,this.utilService=a,this.fwcObjectService=s,this.fwcUserService=o,this.fwcInterfaceService=r,this.cd=u,this.translate=c,this.dataChanges=new n.EventEmitter,this.optionDeleted=new n.EventEmitter,this.contextMenuReference=null,this.applicationRef=null,this.initialized=!1,this.OptionScope=i.D,this.NodeTypes=i.z,this.ObjectTypes=i.C,this.infoTooltipShown=!1,this.gridOptions=[],this.availableKeywords=[]}set options(e){this.buildKeywords(),this.buildOptions(e)}ngOnInit(){this.contextMenu={items:[{id:i.g.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:i.g.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]}}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l,e.applicationRef=l}),1)}ngOnChanges(e){for(const l in e){const t=e[l];JSON.stringify(t.currentValue),JSON.stringify(t.previousValue)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(()=>{this.optionsTable.el.nativeElement.getElementsByClassName("ui-table-scrollable-body-table")[0].scrollIntoView(!0)},100),this.initialized=!0)}buildKeywords(){let e=i.Q;this.scope==i.D.ccd&&(e=i.N),this.availableKeywords=[];for(let l=0;l<e.length;l++)this.availableKeywords.push({label:e[l],value:e[l]})}buildOptions(e){if(e&&(this.scope==i.D.ccd||this.scope==i.D.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(let l=0;l<e.length;l++)e[l].scope==this.scope&&this.gridOptions.push(Object.assign({},e[l]))}}onDeleteOption(e,l){this.checkOptionIsMandatory(e)||this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:e.name}),accept:()=>{let t=Object.assign({},e);this.checkOptionIsDeletable(e)?(this.gridOptions.splice(l,1),this.optionDeleted.emit(t)):e.arg&&e.arg.length&&(e.arg=void 0,e.ipobj=void 0,e.comment=void 0,this.optionDeleted.emit(t))}})}onAddOption(){this.addIPOption("",this.scope)}onAddRouteOrIRoute(e,l){this.routesTreeSelector&&this.routesTreeSelector.showTree(e,{iroute:!!l},!0)}onRouteObjectSelected(e){if(!e||!e._metadata)return;let l,t;switch(e.obj_type){case i.C.OBJ_ADDRESS:case i.C.OBJ_NETWORK:l=this.fwcObjectService.getObject.bind(this.fwcObjectService),t=[e.id_obj,this.fwcUserService.getActualFwSelectedCloud()]}l&&e.id_obj&&this.utilService.fwcAPICall(l,...t).then(l=>{let t,n,s=l.data.address,o=l.data.netmask;if(e.obj_type===i.C.OBJ_ADDRESS)o="255.255.255.255";else{let e=i.e.netmaskCIDRRegexp.exec(o);if(e){let l=parseInt(e[1]);o=a.IPv4.subnetMaskFromPrefixLength(l).toString()}}e._metadata.iroute?(t="iroute",n=`${s} ${o}`):(t="push",n=`"route ${s} ${o}"`),this.addIPOption(t,this.scope,n)}).catch(e=>{})}onDataChanged(e){this.dataChanges.emit(1)}contextMenuLoad(e,l,t){let n=!1,a=!1;n=this.checkOptionIsMandatory(l),a=n,a?e.cancel=!0:this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach((function(e){e.id==i.g.VPN_OPTION_DELETE&&(e.visible=!n)}))}checkOptionIsMandatory(e){let l=!1;for(let t in i.S)if(e.name==i.S[t]){l=!0;break}return l}checkOptionIsDeletable(e){let l=!0;return e.required&&this.gridOptions.filter(l=>l.name==e.name).length<=1&&(l=!1),l}contextMenuHandler(e,l,t){if(e.item)switch(e.item.id){case i.g.VPN_OPTION_DELETE:this.onDeleteOption(l,t)}}getOptions(){return this.gridOptions=this.gridOptions.filter(e=>!!e.name),this.gridOptions}getScope(){return this.scope}updateOrCreateIPOption(e,l){if(!e)return;let t=!0,n=this.gridOptions.filter(l=>l.name==e.name);if(1==n.length){let i=n[0];if(!i.ipobj&&i.required||l)for(let l of Object.keys(e))null!=e[l]&&(i[l]=e[l]),t=!1}if(t)for(let i=this.gridOptions.length-1;i>=0;i--)if(this.gridOptions[i].name==e.name){this.gridOptions.splice(i+1,0,Object.assign({},e));break}this.dataChanges.emit(1)}addIPOption(e,l,t,n,i){this.gridOptions.length&&!this.gridOptions[this.gridOptions.length-1].name&&this.gridOptions.pop(),this.gridOptions.push({name:e,scope:l,arg:t,ipobj:n,comment:i}),this.selectedOption=this.gridOptions[this.gridOptions.length-1],this.cd.detectChanges(),this.optionsTable&&setTimeout(()=>{let e=this.optionsTable.containerViewChild.nativeElement.getElementsByClassName("ui-table-scrollable-body")[0];e.scrollTop=e.scrollHeight},1),e&&this.dataChanges.emit(1)}modifyIPOption(e,l,t,n){let i=this.gridOptions.find(l=>l.name==e);i&&l===this.scope&&(t&&(i.arg=t),null!=n&&(i.ipobj=n))}clearOptions(){this.options=[],this.gridOptions=[],this.initialized=!1}showObjectInfo(e,l){if(e){let t={objId:e.ipobj};null!==t.objId&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(t,l)},1e3))}}clearObjectInfo(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}}},Ecz1:function(e,l,t){"use strict";var n=t("mrSG"),i=t("8Y7J"),a=t("EMdb");class s{constructor(){this.pk=null,this.vector=null,this.passkey=window.crypto.getRandomValues(new Uint8Array(32)),this.generatePublicKey(),this.vector=window.crypto.getRandomValues(new Uint8Array(16))}createRandomString(e){let l="";for(;l.length<e;l+=Math.random().toString(36).substr(2));return l.substr(0,e)}convertStringToArrayBufferView(e){let l;if(e){l=new Uint8Array(e.length);for(var t=0;t<e.length;t++)l[t]=e.charCodeAt(t)}return l}convertArrayBufferViewtoString(e){let l="";if(e)for(var t=0;t<e.byteLength;t++)l+=String.fromCharCode(e[t]);return l}generatePublicKey(){let e;return e=new Promise((e,l)=>{window.crypto.subtle?window.crypto.subtle.digest({name:"SHA-256"},this.passkey).then(l=>{window.crypto.subtle.importKey("raw",l,{name:"AES-CBC"},!1,["encrypt","decrypt"]).then(l=>{this.pk=l,e(l)},l=>{e(null)})}):(this.pk="CAN't USE CLIENT ENCRYPTION ON NON-HTTPS CONNECTIONS",e(null))}),e}encryptData(e){let l;return l=new Promise((l,t)=>{if(this.vector&&this.pk){let t;window.crypto.subtle?window.crypto.subtle.encrypt({name:"AES-CBC",iv:this.vector},this.pk,this.convertStringToArrayBufferView(e)).then(e=>{t=new Uint8Array(e),l(t)},e=>{l(null)}):l(this.convertStringToArrayBufferView(e))}}),l}decryptData(e){return Object(n.a)(this,void 0,void 0,(function*(){let l;return l=new Promise((l,t)=>{if(this.vector&&this.pk){let t;window.crypto.subtle?window.crypto.subtle.decrypt({name:"AES-CBC",iv:this.vector},this.pk,e).then(e=>{t=new Uint8Array(e),l(this.convertArrayBufferViewtoString(t))},e=>{l(null)}):l(this.convertArrayBufferViewtoString(e))}}),l}))}}t("XY+R"),t("VHTt"),t("o0su"),t("24Yq"),t.d(l,"a",(function(){return o}));class o{constructor(e,l,t,n,a,o,r,u,c){this.fwcFirewallService=e,this.fwcUserService=l,this.translate=t,this.inputDataService=n,this.utilService=a,this.fwcErrorPipe=o,this.fwcVpnService=r,this.fwcEventService=u,this.confirmationService=c,this.statusLoaded=new i.EventEmitter,this.statusError=new i.EventEmitter,this.alive=!0,this.fwcCrypto=new s}set configObj(e){e&&(this._configObj=e,this.resetProperties(),this.selectFirewallToShow())}ngOnInit(){this.vpnClientsChartOptions={title:{display:!0,position:"left",text:this.translate.instant("VPN.STATUS.ALL_CLIENTS")}},this.msgNoData={type:"warning",title:this.translate.instant("VPN.STATUS.NO_DATA.0"),text:this.translate.instant("VPN.STATUS.NO_DATA.1")},this.refreshMenuItems=[{id:"20",label:"20s",command:()=>{this.setRefreshRate(20)}},{id:"40",label:"40s",command:()=>{this.setRefreshRate(40)}},{id:"60",label:"60s",command:()=>{this.setRefreshRate(60)}},{id:"99999",label:this.translate.instant("GLOBALS.MSG_BUTTONS.DISABLE"),command:()=>{this.setRefreshRate(99999)}}],this.setRefreshRate(20)}ngOnDestroy(){this.alive=!1,clearInterval(this.refreshTimer)}resetProperties(){this.vpnClientsData=void 0,this.vpnClientSelected=void 0,this.vpnClientsChartData=null,this.vpnClientsDataHistoric=[],this.vpnClientsChartDataTotals=null,this.sshCredentials=null,this.errorMessage=null,clearInterval(this.refreshTimer)}setRefreshRate(e){this.refreshMenuItems.forEach(l=>{l.id==e.toString()?(l.icon="fa fa-check",this.refreshRateSec=e,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},1e3*this.refreshRateSec))):l.icon=""})}selectFirewallToShow(){if(this._configObj){let e,l,t;null!=this._configObj.cluster_id?(e=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),l=this._configObj.cluster_id,t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")):null!=this._configObj.firewall_id&&(e=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),l=this._configObj.firewall_id,t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")),e&&(this.resetProperties(),e(l,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>Object(n.a)(this,void 0,void 0,(function*(){this.clusterNodes=[],this.selectedNode=null,Array.isArray(e.data)?this.clusterNodes.push(...e.data):this.clusterNodes.push(e.data);const t=this.fwcUserService.getActualFwcUser().privateKey;for(let e=0;e<this.clusterNodes.length;e++){let l=this.clusterNodes[e];try{l.install_user&&(l.install_user=yield this.utilService.openPGPDecrypt(l.install_user,t)),l.install_pass&&(l.install_pass=yield this.utilService.openPGPDecrypt(l.install_pass,t))}catch(n){}}this.loadingData=!1,null!=this._configObj.cluster_id?(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes),this.displaySelectDialog=!0):this.askSSHCredentials(l)})),e=>{this.loadingData=!1;let l=this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.GEN_DETAILS");e.error&&e.error.msg&&(l=e.error.msg),this.errorMessage={type:"error",title:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.SUMMARY",{objType:t}),text:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.TEXT",{objType:t,msg:l})},this.statusLoaded.emit(!0)}))}}buildNodesTree(e){let l=[],t={label:this._configObj.cluster_name,data:{object_type:a.C.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return e.forEach(e=>{t.children.push({label:e.name,data:{object_type:a.C.OBJ_FIREWALL,firewall_id:e.id},selectable:!0})}),l.push(t),l}onNodeSelect(e){e&&e.selectable&&(this.displaySelectDialog=!1,this.askSSHCredentials(e.data.firewall_id))}askSSHCredentials(e,l){if(!this.clusterNodes)return;let t=this.clusterNodes.find(l=>l.id===e);if(t)if(t.install_interface&&t.install_ipobj){let e={header:this.translate.instant("COMPILE.INST_SSH",{name:t.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:t.id},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:t.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:t.ip_name+" ("+t.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:l?l.ssh_user:t.install_user,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:l?l.ssh_password:t.install_pass}],onAccept:this.onGetSSHData.bind(this),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(e)}else this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT"),acceptLabel:"Ok",accept:()=>{this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT")}})}onGetSSHData(e){return Object(n.a)(this,void 0,void 0,(function*(){if(e){let l,t;t=e.ssh_encrypted_password?yield this.fwcCrypto.decryptData(e.ssh_encrypted_password):e.ssh_password;const i=this.fwcUserService.getActualFwcUser().publicKey;let a=e.ssh_user,s=t;a&&(a=yield this.utilService.openPGPEncrypt(a,i)),s&&(s=yield this.utilService.openPGPEncrypt(s,i)),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this._configObj.id_obj,firewall:e.firewall_id,sshuser:a,sshpass:s},this.loadingData=!0,this.fwcVpnService.getConfigStatus(l).subscribe(l=>Object(n.a)(this,void 0,void 0,(function*(){let t=this.parseVpnStatus(l.data),n=yield this.fwcCrypto.encryptData(e.ssh_password);this.sshCredentials||(this.sshCredentials={firewall_id:e.firewall_id,ssh_user:e.ssh_user,ssh_encrypted_password:n}),t&&(this.vpnClientsData=t,this.updateVpnChartData(),this.statusLoaded.emit(!0)),this.loadingData=!1,clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},1e3*this.refreshRateSec)})),l=>{const t=this.utilService.isSSHError(l.error?l.error.msg:"");let n=t||this.fwcErrorPipe.transform(l);this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.TEXT",{error:n}),acceptLabel:"Ok",accept:()=>{if(t)return this.askSSHCredentials(e.firewall_id,e);this.statusError.emit(!0)}}),this.loadingData=!1,clearInterval(this.refreshTimer)})}else this.statusError.emit(!0)}))}parseVpnStatus(e){if(!e||"string"!=typeof e)return[];let l,t,n,i=[],a=e.split("\n"),s={clientsConnected:0,bytesReceived:0,bytesSent:0};return a.forEach(e=>{if(!/Common Name/.exec(e)&&(t=e.split(","),t.map(e=>e.trim()),2==t.length&&/Updated/.exec(t[0])&&(this.vpnStatusUpdated=Date.parse(t[1]),l={timestamp:this.vpnStatusUpdated,clients:[]}),5==t.length)){let e=Date.parse(t[4]);n={cn:t[0],realAddress:t[1],bytesReceived:parseInt(t[2])/1048576,bytesSent:parseInt(t[3])/1048576,connectedSince:e},i.push(n),l||(l={timestamp:Date.parse(Date()),clients:[]}),l.clients.push(n),s.clientsConnected++,s.bytesReceived+=n.bytesReceived,s.bytesSent+=n.bytesSent}}),this.vpnClientsChartDataTotals=s,l&&-1==this.vpnClientsDataHistoric.findIndex(e=>e.timestamp==l.timestamp)&&this.vpnClientsDataHistoric.push(l),i}updateVpnChartData(){let e,l;e={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.BYTES_RECEIVED"),data:[],fill:!1,borderColor:"#0069a7"},{label:this.translate.instant("VPN.STATUS.FIELDS.BYTES_SENT"),data:[],fill:!1,borderColor:"#009900"}]},this.vpnClientsDataHistoric.forEach(t=>{if(e.labels.push(new Date(t.timestamp).toLocaleString()),this.vpnClientSelected?(l=t.clients.filter(e=>e.cn==this.vpnClientSelected.cn),this.vpnClientsChartOptions.title.text=this.vpnClientSelected.cn):(l=t.clients.slice(0),this.vpnClientsChartOptions.title.text=this.translate.instant("VPN.STATUS.ALL_CLIENTS")),l.length){let t=l.reduce((e,l)=>({cn:"",realAddress:"",bytesReceived:e.bytesReceived+l.bytesReceived,bytesSent:e.bytesSent+l.bytesSent,connectedSince:void 0}));e.datasets[0].data.push(t.bytesReceived),e.datasets[1].data.push(t.bytesSent)}}),this.vpnClientsChartData=e}onVpnClientSelect(e){this.updateVpnChartData()}onVpnStatusDataRefresh(){this.onGetSSHData(this.sshCredentials)}onVpnStatusClose(){this.resetProperties()}onSelectHide(e){}onSelectCancel(){this.displaySelectDialog=!1}}},Itiq:function(e,l,t){"use strict";var n=this&&this.__decorate||function(e,l,t,n){var i,a=arguments.length,s=a<3?l:null===n?n=Object.getOwnPropertyDescriptor(l,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,l,t,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(l,t,s):i(l,t))||s);return a>3&&s&&Object.defineProperty(l,t,s),s},i=this&&this.__metadata||function(e,l){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,l)},a=this&&this.__param||function(e,l){return function(t,n){l(t,n,e)}};Object.defineProperty(l,"__esModule",{value:!0});var s=t("8Y7J"),o=t("GS7A"),r=t("SVse"),u=t("7LN8"),c=0,d=function(){function e(e,l){this.changeDetector=l,this.cache=!0,this.selectedChange=new s.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+c++,this.accordion=e}return Object.defineProperty(e.prototype,"animating",{get:function(){return this._animating},set:function(e){this._animating=e,this.changeDetector.destroyed||this.changeDetector.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach((function(l){switch(l.getType()){case"content":default:e.contentTemplate=l.template}}))},e.prototype.toggle=function(e){if(this.disabled||this.animating)return!1;this.animating=!0;var l=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:l});else{if(!this.accordion.multiple)for(var t=0;t<this.accordion.tabs.length;t++)this.accordion.tabs[t].selected=!1,this.accordion.tabs[t].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:l})}this.selectedChange.emit(this.selected),e.preventDefault()},e.prototype.findTabIndex=function(){for(var e=-1,l=0;l<this.accordion.tabs.length;l++)if(this.accordion.tabs[l]==this){e=l;break}return e},Object.defineProperty(e.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),e.prototype.onToggleDone=function(e){this.animating=!1},e.prototype.onKeydown=function(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())},e.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},n([s.Input(),i("design:type",String)],e.prototype,"header",void 0),n([s.Input(),i("design:type",Boolean)],e.prototype,"selected",void 0),n([s.Input(),i("design:type",Boolean)],e.prototype,"disabled",void 0),n([s.Input(),i("design:type",Boolean)],e.prototype,"cache",void 0),n([s.Output(),i("design:type",s.EventEmitter)],e.prototype,"selectedChange",void 0),n([s.Input(),i("design:type",String)],e.prototype,"transitionOptions",void 0),n([s.ContentChildren(u.Header),i("design:type",s.QueryList)],e.prototype,"headerFacet",void 0),n([s.ContentChildren(u.PrimeTemplate),i("design:type",s.QueryList)],e.prototype,"templates",void 0),n([s.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a [attr.tabindex]="disabled ? -1 : 0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown)="onKeydown($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'*\'}} : {value: \'hidden\', params: {transitionParams: transitionOptions, height: \'0\'}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[o.trigger("tabContent",[o.state("hidden",o.style({height:"0"})),o.state("void",o.style({height:"{{height}}"}),{params:{height:"0"}}),o.state("visible",o.style({height:"*"})),o.transition("visible <=> hidden",o.animate("{{transitionParams}}")),o.transition("void => hidden",o.animate("{{transitionParams}}")),o.transition("void => visible",o.animate("{{transitionParams}}"))])]}),a(0,s.Inject(s.forwardRef((function(){return f})))),i("design:paramtypes",[Object,s.ChangeDetectorRef])],e)}();l.AccordionTab=d;var f=function(){function e(e,l){this.el=e,this.changeDetector=l,this.onClose=new s.EventEmitter,this.onOpen=new s.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.tabs=[]}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe((function(l){e.initTabs(),e.changeDetector.markForCheck()}))},e.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.updateSelectionState()},enumerable:!0,configurable:!0}),e.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var l=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;l!==this.tabs[e].selected&&(this.tabs[e].animating=!0,this.tabs[e].selected=l,this.tabs[e].selectedChange.emit(l))}},e.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},n([s.Input(),i("design:type",Boolean)],e.prototype,"multiple",void 0),n([s.Output(),i("design:type",s.EventEmitter)],e.prototype,"onClose",void 0),n([s.Output(),i("design:type",s.EventEmitter)],e.prototype,"onOpen",void 0),n([s.Input(),i("design:type",Object)],e.prototype,"style",void 0),n([s.Input(),i("design:type",String)],e.prototype,"styleClass",void 0),n([s.Input(),i("design:type",String)],e.prototype,"expandIcon",void 0),n([s.Input(),i("design:type",String)],e.prototype,"collapseIcon",void 0),n([s.ContentChildren(d),i("design:type",s.QueryList)],e.prototype,"tabList",void 0),n([s.Input(),i("design:type",Object),i("design:paramtypes",[Object])],e.prototype,"activeIndex",null),n([s.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '}),i("design:paramtypes",[s.ElementRef,s.ChangeDetectorRef])],e)}();l.Accordion=f;var p=n([s.NgModule({imports:[r.CommonModule],exports:[f,d,u.SharedModule],declarations:[f,d]})],(function(){}));l.AccordionModule=p},"P/9O":function(e,l,t){"use strict";t.d(l,"a",(function(){return n}));var n=function(e){return e.OBJECT_NAME="POLICY.TREE_SEARCH_OPTIONS.OBJECT_NAME",e.TCP_UDP_PORT="POLICY.TREE_SEARCH_OPTIONS.TCP_UDP_PORT",e.IP_ADDRESS="POLICY.TREE_SEARCH_OPTIONS.IP_ADDRESS",e}({})},QJSW:function(e,l,t){"use strict";t.d(l,"a",(function(){return o}));var n=t("GJmQ"),i=t("EMdb"),a=t("o0su"),s=t("m6j1");t("XY+R");class o{constructor(e,l,t,n,i,a,s,o,r,u,c,d,f,p){this.fwcObjectService=e,this.fwcInterfaceService=l,this.itemSelectedService=t,this.fwcObjectTypeService=n,this.fwcUserService=i,this.fwcFirewallService=a,this.fwcPolicyService=s,this.fwcMarkService=o,this.fwcVpnService=r,this.fwcErrorPipe=u,this.fwcRoutingTableService=c,this.translate=d,this.pipeFwcIcon=f,this.cd=p,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0}ngOnInit(){this.itemSelectedService.getObjectInfo().pipe(Object(n.a)(()=>this.alive)).subscribe(e=>{if(!e)return;let l=e.obj,t=e.event;this.objectInfo=void 0,this.objectError=void 0,l&&t&&t.target?(this.loadingData=!0,this.tooltipX=t.clientX,this.tooltipY=t.clientY,this.targetElement=t.target,this.showTooltipDialog(),l._fwcShowRestrictions?this.fwcPolicyService.getPolicyRuleFull(l.firewall_id,l.rule_type,l.rule_id,this.fwcUserService.getActualFwSelectedCloud()).pipe(Object(n.a)(()=>this.alive)).subscribe(e=>{},e=>{}):this.getObjectInfo(l.objId,l.objType,l.objParentId,l.fwId,l.clusterId).then(e=>{this.loadingData=!1,this.objectInfo=e,this.showTooltipDialog()}).catch(e=>{this.loadingData=!1,this.objectError=this.fwcErrorPipe.transform(e)})):(this.showTooltip=!1,this.positionTooltip=!1)}),this.fwcObjectTypeService.getObjectTypes().subscribe(e=>{if(this.OBJECT_TYPES=[],e.data){for(let l of e.data)this.OBJECT_TYPES[l.id]=l.type;this.OBJECT_TYPES[i.C.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},e=>{a.i.error("ERROR getting object types",e),this.OBJECT_TYPES=[]})}ngOnDestroy(){this.alive=!1}showTooltipDialog(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0}placeTooltipOld(){if(this.tooltipElem){let e=this.tooltipElem.nativeElement.clientWidth,l=this.tooltipElem.nativeElement.clientHeight,t=window.innerWidth,n=window.innerHeight;this.tooltipX+e>=t-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-e-this.TOOLTIP_GAP),this.tooltipY+l>=n-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-l-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}}placeTooltipDialog(){if(this.tooltipElem&&this.targetElement){let e=this.tooltipElem.nativeElement.clientWidth,l=this.tooltipElem.nativeElement.clientHeight,t=window.innerWidth,n=window.innerHeight,i=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,i.top-l-this.TOOLTIP_GAP>0?this.tooltipY=i.top-l-this.TOOLTIP_GAP:i.bottom+l+this.TOOLTIP_GAP<n&&(this.tooltipY=i.bottom+this.TOOLTIP_GAP),i.left+e+this.TOOLTIP_GAP<t&&(this.tooltipX=i.left)}}getObjectInfo(e,l,t,n,a){return new Promise((a,o)=>{let r;switch(l=+l){case i.C.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(!e.data)return o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));{let t;l=e.data,l.type=i.C.OBJ_FIREWALL,l.cluster&&(l.type=i.C.OBJ_CLUSTER_NODE),t=this.buildInfoTableHeader(l.id);let n="-";l.compiled_at&&(n=l.compiled_at),t+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMPILED_AT")}</p><p>${n}<p></td></tr>`;let a="-";l.installed_at&&(a=l.installed_at),t+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.INSTALLED_AT")}</p><p>${a}<p></td></tr>`,l.comment&&(t+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</p><p>${l.comment}<p></td></tr>`),t+="</table>",l.infoHTML=t}a(l)},e=>{o(e)});break;case i.C.OBJ_CLUSTER:this.fwcFirewallService.getCluster(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let t;l=e.data,l.type=i.C.OBJ_CLUSTER,t=this.buildInfoTableHeader(l.id),l.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),t+="</table>",l.infoHTML=t}a(l)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)});break;case i.C.OBJ_INTERFACE_FIREWALL:case i.C.OBJ_INTERFACE_HOST:let u;l==i.C.OBJ_INTERFACE_HOST?(r=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),u=t):(r=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),u=n),r(u,e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let t,n;l=e.data,t=this.buildInfoTableHeader(l.id),n=+l.type,t+=n==i.C.OBJ_INTERFACE_FIREWALL?null!=l.cluster_id?`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CLUSTER)}'></i> Cluster</td><td><strong>${l.cluster_name} (${l.cluster_id})</strong></td></tr>`:`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${l.firewall_name} (${l.firewall_id})</strong></td></tr>`:`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_HOST)}'></i> Host</td><td><strong>${l.host_name} (${l.host_id})</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.LABEL")}</td><td><strong>${l.labelName?l.labelName:""}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MAC")}</td><td><strong>${l.mac?l.mac:""}</strong></td></tr>`,l.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),t+="</table>",l.infoHTML=t}a(l)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)});break;case i.C.OBJ_GROUP:case i.C.OBJ_SERVICE_GROUP:this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let t;if(l=e.data,t=this.buildInfoTableHeader(l.id),l.ipobjs&&l.ipobjs.length){t+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")}</span><ul class='fitUl'>`;for(let e=0;e<l.ipobjs.length;e++)t+=`<li><i class='fwcIcon ${(new s.a).transform(l.ipobjs[e].type,"","fwcOrange")}'></i> ${l.ipobjs[e].name} (Id: <strong>${l.ipobjs[e].id}</strong>)</li>`;t+="</ul></td></tr>"}else t+=`<tr><td colspan="2"><i>${this.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")}</i></td></tr>`;l.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),t+="</table>",l.infoHTML=t}a(l)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)});break;case i.C.OBJ_CERT_CLI:case i.C.OBJ_CERT_SER:case i.C.OBJ_VPN_CONFIG_CLI:case i.C.OBJ_VPN_CONFIG_SER:case i.C.OBJ_CA:let c,d={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};l==i.C.OBJ_CERT_CLI||l==i.C.OBJ_CERT_SER?(c=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),d.crt=e):l==i.C.OBJ_VPN_CONFIG_CLI||l==i.C.OBJ_VPN_CONFIG_SER?(c=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),d.openvpn=e):l==i.C.OBJ_CA&&(c=this.fwcVpnService.getCA.bind(this.fwcVpnService),d.ca=e),c(d).subscribe(e=>{let t;if(e.data){let n;t=e.data,t.type=l,n=this.buildInfoTableHeader(t.id);let a=this.translate.instant("VPN.PANEL.DAY_OPTS.0");if(void 0!==t.days&&(t.days%365||(t.days/=365,a=this.translate.instant("VPN.PANEL.DAY_OPTS.1"))),l!=i.C.OBJ_CERT_CLI&&l!=i.C.OBJ_CERT_SER||(t.name=t.cn,n+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${t.days} ${a}</strong></td></tr>`),l==i.C.OBJ_VPN_CONFIG_CLI||l==i.C.OBJ_VPN_CONFIG_SER){let e=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED"),a=this.translate.instant(l==i.C.OBJ_VPN_CONFIG_CLI?"GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS":"GLOBALS.MSG_OBJ_TYPES.OBJ_NETWORK");if(n+=`<tr><td><span class='fwcOrange'>CN</span></td><td>${t.cn}</td></tr>`,null!=t.cluster_id?n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${t.cluster_name} (${t.cluster_id})</strong></td></tr>`:null!=t.firewall_id&&(n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${t.firewall_name} (${t.firewall_id})</strong></td></tr>`),n+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CA)}'></i> CA</span></td><td>${t.CA_cn}</td></tr>`,t.openvpn_server_cn&&(n+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG_SER")}</span></td><td><strong>${t.openvpn_server_cn}</strong></td></tr>`),n+=`<tr><td><span class='fwcOrange'>${a}</span></td><td><strong>${t.address}</strong></td></tr>`,t.netmask&&(n+=`<tr><td><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</span></td><td><strong>${t.netmask}</strong></td></tr>`),!t.status&&t.installed_at){let l=new Date(t.installed_at).toLocaleString();e=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:l})}n+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("VPN.CONFIG.INSTALL.STATUS")}</span><br>${e}</td></tr>`}l==i.C.OBJ_CA&&(t.name=t.cn,n+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${t.days} ${a}</strong></td></tr>`,t.status&&(n+=`<tr><td colspan="2">${this.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")}</td></tr>`)),t.comment&&(n+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${t.comment}</td></tr>`),n+="</table>",t.infoHTML=n}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(t)},e=>{o(e)});break;case i.C.OBJ_PREFIX_FOLDER:break;case i.C.OBJ_OPENVPN_PREFIX:let f={prefix:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getOpenVPNPrefixInfo(f).subscribe(e=>{let t;if(e.data){let n;t=e.data,n=this.buildInfoTableHeader(t.id),null!=t.cluster_name?n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${t.cluster_name}</strong></td></tr>`:null!=t.firewall_name&&(n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${t.firewall_name}</strong></td></tr>`),n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${t.ca_cn}</strong></td></tr>`,n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_VPN_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.CONFIG")}</td><td><strong>${t.cn}</strong></td></tr>`,t.openvpn_clients&&Array.isArray(t.openvpn_clients)&&t.openvpn_clients.length&&(n+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_VPN_CONFIG_CLI)}'></i> ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}</td></tr><tr><td colspan="2"><ul>`,t.openvpn_clients.forEach(e=>{n+=`<li>${e.cn} (${e.address})</li>`}),n+="</ul></td></tr>"),n+="</table>",t.type=l,t.infoHTML=n,a(t)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)});break;case i.C.OBJ_MARK:let p={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:e};this.fwcMarkService.getMark(p).subscribe(e=>{let l;if(e.data){{let t;l=e.data,l.type=i.C.OBJ_MARK,t=this.buildInfoTableHeader(l.id),t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MARK_CODE")}</td><td><strong>${l.code}</strong></td></tr>`,l.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),t+="</table>",l.infoHTML=t}a(l)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)});break;case i.C.OBJ_ROUTING_TABLE:this.fwcRoutingTableService.getRoutingTable(n,this.fwcUserService.getActualFwSelectedCloud(),e).subscribe(e=>{let l={};if(e.data){let t;const n=e.data;l.type=i.C.OBJ_ROUTING_TABLE,l.name=n.name,t=this.buildInfoTableHeader(n.id),t+=`<tr><td class='fwcOrange'>${this.translate.instant("PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")}</td><td><strong>${n.number}</strong></td></tr>`,n.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${n.comment}</td></tr>`),t+="</table>",l.infoHTML=t}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(l)},e=>{o(e)});break;default:this.fwcObjectService.getObject(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let l;if(e.data){{let t,n;switch(l=e.data,t=this.buildInfoTableHeader(l.id),n=+l.type,n){case i.C.OBJ_HOST:if(Array.isArray(l.interfaces)){let e;t+="<tr><td colspan=\"2\"><span class='fwcOrange'>Interfaces</span><ul class='fitUl'>";for(let n=0;n<l.interfaces.length;n++)if(e=l.interfaces[n],t+=`<li><i class='fwcIcon ${(new s.a).transform(e.type)}'></i> ${e.name} (Id: <strong>${e.id}</strong>)</li>`,Array.isArray(e.ipobjs)){t+="<ul class='fitUl'>";for(let l=0;l<e.ipobjs.length;l++)t+=`<li><i class='fwcIcon ${(new s.a).transform(e.ipobjs[l].type)}'></i> ${e.ipobjs[l].name} (Id: <strong>${e.ipobjs[l].id}</strong>)</li>`;t+="</ul>"}t+="</ul></td></tr>"}break;case i.C.OBJ_ADDRESS:case i.C.OBJ_NETWORK:if(n==i.C.OBJ_ADDRESS){let e=null!=l.host_id?i.C.OBJ_INTERFACE_HOST:i.C.OBJ_INTERFACE_FIREWALL;t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IPV")}</td><td><strong>IPv${l.ip_version}</strong></td></tr>`,null!=l.cluster_id?t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${l.cluster_name} (${l.cluster_id})</strong></td></tr>`:null!=l.firewall_id?t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${l.firewall_name} (${l.firewall_id})</strong></td></tr>`:null!=l.host_id&&(t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(i.C.OBJ_HOST)}'></i> Host</td><td><strong>${l.host_name} (${l.host_id})</strong></td></tr>`),null!=l.if_id&&(t+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(e)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")}</td><td><strong>${l.if_name} (${l.if_id})</strong></td></tr>`)}t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")}</td><td><strong>${l.address}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</td><td><strong>${l.netmask?l.netmask:""}</strong></td></tr>`;break;case i.C.OBJ_ADDRESS_RANGE:t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")}</td><td><strong>${l.range_start?l.range_start:""}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")}</td><td><strong>${l.range_end?l.range_end:""}</strong></td></tr>`;break;case i.C.OBJ_SERVICE_IP:t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PROT")}</td><td><strong>${l.protocol}</strong></td></tr>`;break;case i.C.OBJ_SERVICE_TCP:case i.C.OBJ_SERVICE_UDP:t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")}</td><td><strong>${l.source_port_start?l.source_port_start:""}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${l.source_port_end?l.source_port_end:""}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")}</td><td><strong>${l.destination_port_start?l.destination_port_start:""}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${l.destination_port_end?l.destination_port_end:""}</strong></td></tr>`;break;case i.C.OBJ_SERVICE_ICMP:let e=l.icmp_type?-1==l.icmp_type?"Any":l.icmp_type.toString():"",a=l.icmp_code?-1==l.icmp_code?"Any":l.icmp_code.toString():"";t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")}</td><td><strong>${e}</strong></td></tr>`,t+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")}</td><td><strong>${a}</strong></td></tr>`}l.comment&&(t+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${l.comment}</td></tr>`),t+="</table>",l.infoHTML=t}a(l)}else o(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},e=>{o(e)})}})}buildInfoTableHeader(e){let l="<table class='fitTableInfo'>";return l+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")}</td><td><strong>${e}</strong></td></tr>`,l}}},UJFw:function(e,l,t){"use strict";t.d(l,"a",(function(){return i}));var n=t("XNiG");class i{constructor(e,l){this.elRef=e,this.renderer=l,this.expanded=!0,this.subjectChange=new n.a,this.el=e.nativeElement}ngOnInit(){}togglePanel(){return new Promise((e,l)=>{this.expanded=!this.expanded,this.subjectChange.next(this.expanded),setTimeout(()=>{e()},300)})}setHeight(e){this.renderer.setStyle(this.divContent.nativeElement,"height",e-this.divHeader.nativeElement.offsetHeight+"px")}getMinHeight(){return this.divHeader.nativeElement.offsetHeight}onChange(){return this.subjectChange.asObservable()}}},Zf0f:function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));var n=t("o0su"),i=t("v8Ou");class a{constructor(e,l,t){this.fwcPolicyService=e,this.fwcUserService=l,this.store=t}goToObjectDependency(e){if((e.rule_id||e.route_id||e.routing_rule_id)&&e.firewall_id&&!e._fwItem){let l,t,i=e.rule_type,a=e.rule_id,s=e.obj_id,o=e.obj_type_id,r=[e.rule_position_id];e.route_id?(i=n.u.ROUTING_TABLE,a=e.route_id,l=e.table_id,t=e.table_name,s=null,o=null,r=[],e.gateway_id&&(s=e.gateway_id,o=e.gateway_type,r.push(n.t.GATEWAY_POSITION)),e.interface_id&&(s=e.interface_id,o=e.interface_type,r.push(n.t.INTERFACE_POSITION)),e.gateway_id||e.interface_id||(s=o=void 0,r.push(n.t.TO_POSITION))):e.routing_rule_id&&(i=n.u.POLICY_ROUTING,a=e.routing_rule_id,e.routing_table_id?r=[n.s.ROUTING_TABLE_POSITION]:(s=e.ipobj_id,o=e.ipobj_type,r=[n.s.FROM_POSITION]));let u={};return u.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),u._fwcPolicyType=i,u._fwcClusterId=e.cluster_id,u._fwcFwId=e.firewall_id,u._fwcFwName=e.cluster_name?e.cluster_name:e.firewall_name,u._fwcObjId=l,e.route_id&&(u._fwcPolicyName=t),u._fwcSelectRuleId=a,u._fwcSelectRulePositionIds=r,u._fwcSelectObjId=s,u._fwcSelectObjType=o,this.fwcPolicyService.setSelectedPolicy(u),!0}{let l={};if(l._fwcSubObjId=e.obj_id,l._fwcSubObjType=e.obj_type_id,l.fwcloud=e.cloud_id||this.fwcUserService.getActualFwSelectedCloud(),e.group_id)l._fwcObjId=e.group_id,l._fwcObjType=e.group_type;else if(e.interface_id)l._fwcObjId=e.interface_id,l._fwcObjType=e.interface_type_id;else if(e.host_id)l._fwcObjId=e.host_id,l._fwcObjType=e.host_type;else if(e.openvpn)l._fwcObjId=e.id,l._fwcObjType=n.p.OBJ_VPN_CONFIG_CLI;else{if(!(e.firewall_id&&e.obj_id&&!e.rule_id||e._fwItem))return;e.cluster_id?(l._fwcObjId=e.cluster_id,l._fwcObjType=n.p.OBJ_CLUSTER):(l._fwcObjId=e.firewall_id,l._fwcObjType=n.p.OBJ_FIREWALL),e._fwItem&&(l._fwcSubObjId=null,l._fwcSubObjType=null)}return this.store.dispatch(i.c.selectTreeItem({item:l})),!0}}}},bFIj:function(e,l,t){"use strict";var n=t("8Y7J"),i=t("TSSN"),a=t("9a1C"),s=t("T5x2"),o=t("Ge8E"),r=t("EjV3"),u=t("SVse"),c=t("Czxz"),d=t("RXyF"),f=t("Sn08"),p=n["\u0275crt"]({encapsulation:2,styles:[],data:{}});function h(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"div",[],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](4,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275ncd"](null,0)],(function(e,l){var t=l.component;e(l,2,0,t.styleClass,"ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix"),e(l,4,0,t.style)}),null)}var m=t("Qe1B"),g=(t("pMnS"),t("VSng")),_=t("iInd"),S=n["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"overlayAnimation",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"translateY(5%)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"translateY(0)",opacity:1},offset:null},options:void 0},{type:1,expr:"void => visible",animation:{type:4,styles:null,timings:"{{showTransitionParams}}"},options:null},{type:1,expr:"visible => void",animation:{type:4,styles:null,timings:"{{hideTransitionParams}}"},options:null}],options:{}}]}});function v(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(e,l){e(l,2,0,l.parent.parent.parent.context.$implicit.icon,"ui-menuitem-icon")}),null)}function O(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"a",[["class","ui-menuitem-link ui-corner-all"]],[[1,"href",4],[1,"target",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.itemClick(t,e.parent.parent.context.$implicit)&&n),n}),null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](3,{"ui-state-disabled":0}),(e()(),n["\u0275and"](16777216,null,null,1,null,v)),n["\u0275did"](5,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](6,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,["",""]))],(function(e,l){var t=e(l,3,0,l.parent.parent.context.$implicit.disabled);e(l,2,0,"ui-menuitem-link ui-corner-all",t),e(l,5,0,l.parent.parent.context.$implicit.icon)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.url,l.parent.parent.context.$implicit.target),e(l,7,0,l.parent.parent.context.$implicit.label)}))}function w(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],(function(e,l){e(l,2,0,l.parent.parent.parent.context.$implicit.icon,"ui-menuitem-icon")}),null)}function I(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"a",[["class","ui-menuitem-link ui-corner-all"]],[[1,"target",0],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,l,t){var i=!0,a=e.component;return"click"===l&&(i=!1!==n["\u0275nov"](e,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),"click"===l&&(i=!1!==a.itemClick(t,e.parent.parent.context.$implicit)&&i),i}),null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](3,{"ui-state-disabled":0}),n["\u0275did"](4,671744,null,0,_.RouterLinkWithHref,[_.Router,_.ActivatedRoute,u.LocationStrategy],{queryParams:[0,"queryParams"],routerLink:[1,"routerLink"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,w)),n["\u0275did"](6,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](7,0,null,null,1,"span",[["class","ui-menuitem-text"]],null,null,null,null,null)),(e()(),n["\u0275ted"](8,null,["",""]))],(function(e,l){var t=e(l,3,0,l.parent.parent.context.$implicit.disabled);e(l,2,0,"ui-menuitem-link ui-corner-all",t),e(l,4,0,l.parent.parent.context.$implicit.queryParams,l.parent.parent.context.$implicit.routerLink),e(l,6,0,l.parent.parent.context.$implicit.icon)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.target,n["\u0275nov"](l,4).target,n["\u0275nov"](l,4).href),e(l,8,0,l.parent.parent.context.$implicit.label)}))}function C(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"li",[["class","ui-menuitem ui-widget ui-corner-all"],["role","menuitem"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,O)),n["\u0275did"](2,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,I)),n["\u0275did"](4,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,2,0,!l.parent.context.$implicit.routerLink),e(l,4,0,l.parent.context.$implicit.routerLink)}),null)}function E(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](16777216,null,null,1,null,C)),n["\u0275did"](1,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,!1!==l.context.$implicit.visible)}),null)}function b(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,[["overlay",1]],null,9,"div",[],[[24,"@overlayAnimation",0]],[[null,"@overlayAnimation.start"]],(function(e,l,t){var n=!0;return"@overlayAnimation.start"===l&&(n=!1!==e.component.onOverlayAnimationStart(t)&&n),n}),null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](4,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](5,{showTransitionParams:0,hideTransitionParams:1}),n["\u0275pod"](6,{value:0,params:1}),(e()(),n["\u0275eld"](7,0,null,null,2,"ul",[["class","ui-menu-list ui-helper-reset"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,E)),n["\u0275did"](9,278528,null,0,u.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,2,0,t.menuStyleClass,"ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow"),e(l,4,0,t.menuStyle),e(l,9,0,t.model)}),(function(e,l){var t=l.component,n=e(l,6,0,"visible",e(l,5,0,t.showTransitionOptions,t.hideTransitionOptions));e(l,0,0,n)}))}function R(e){return n["\u0275vid"](0,[n["\u0275qud"](671088640,1,{containerViewChild:0}),n["\u0275qud"](671088640,2,{buttonViewChild:0}),(e()(),n["\u0275eld"](2,0,[[1,0],["container",1]],null,11,"div",[],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](4,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](5,{"ui-splitbutton ui-buttonset ui-widget":0,"ui-state-disabled":1}),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](7,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](8,0,[[2,0],["defaultbtn",1]],null,1,"button",[["pButton",""],["type","button"]],[[8,"disabled",0],[1,"tabindex",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onDefaultButtonClick(t)&&n),n}),null,null)),n["\u0275did"](9,4341760,null,0,g.ButtonDirective,[n.ElementRef],{iconPos:[0,"iconPos"],cornerStyleClass:[1,"cornerStyleClass"],label:[2,"label"],icon:[3,"icon"]},null),(e()(),n["\u0275eld"](10,0,null,null,1,"button",[["class","ui-splitbutton-menubutton"],["icon","pi pi-chevron-down"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onDropdownButtonClick(t)&&n),n}),null,null)),n["\u0275did"](11,4341760,null,0,g.ButtonDirective,[n.ElementRef],{cornerStyleClass:[0,"cornerStyleClass"],icon:[1,"icon"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,b)),n["\u0275did"](13,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component,n=t.styleClass,i=e(l,5,0,!0,t.disabled);e(l,4,0,n,i),e(l,7,0,t.style),e(l,9,0,t.iconPos,"rtl"===t.dir?"ui-corner-right":"ui-corner-left",t.label,t.icon),e(l,11,0,"rtl"===t.dir?"ui-corner-left":"ui-corner-right","pi pi-chevron-down"),e(l,13,0,t.overlayVisible)}),(function(e,l){var t=l.component;e(l,8,0,t.disabled,t.tabindex),e(l,10,0,t.disabled)}))}var T=t("g4HV"),N=t("s7LF"),y=t("Fa87"),P=t("7LN8"),D=t("ioIN"),L=n["\u0275crt"]({encapsulation:2,styles:[],data:{}});function A(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["style","position:relative"]],[[4,"width",null],[4,"height",null]],null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"canvas",[],[[1,"width",0],[1,"height",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCanvasClick(t)&&n),n}),null,null))],null,(function(e,l){var t=l.component;e(l,0,0,t.responsive&&!t.width?null:t.width,t.responsive&&!t.height?null:t.height),e(l,1,0,t.responsive&&!t.width?null:t.width,t.responsive&&!t.height?null:t.height)}))}var F=t("m6j1"),j=t("QVyK"),M=t("66nc"),V=t("SVXH"),B=t("Meih"),G=t("SlyN"),k=t("B58V");t("w2nL"),t("IheW"),t("77Y5"),t("Ecz1"),t("yEB0"),t("2Rin"),t("XY+R"),t("sqqX"),t("N7ZF"),t("oygf"),t.d(l,"a",(function(){return x})),t.d(l,"b",(function(){return se}));var x=n["\u0275crt"]({encapsulation:0,styles:[["[_ngcontent-%COMP%]:root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.divVpnStatusMain[_ngcontent-%COMP%]{min-height:8rem;max-height:30rem;overflow:auto}.divVpnStatusMain-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.divVpnStatusMain-placeholder[_ngcontent-%COMP%]{text-align:center}.divVpnStatusMain-loader[_ngcontent-%COMP%]{position:absolute;z-index:4000;width:100%;height:100%;top:0;left:0;background:rgba(255,255,255,.5)}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--fwcGrey)}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block}.divVpnStatusMain-loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .divVpnStatusMain-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2rem}.divVpnStatusMain-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.divVpnStatusMain-title[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;font-size:.9rem;font-weight:400;margin-bottom:0!important}.divVpnStatusMain-close[_ngcontent-%COMP%]{text-align:right}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleDark);cursor:pointer}.divVpnStatusMain-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--fwcDark)}.divVpnStatusMain-table[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:70px}.divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-toolbar-group-left[_ngcontent-%COMP%], .divVpnStatusMain-table[_ngcontent-%COMP%]   .ui-toolbar-group-right[_ngcontent-%COMP%]{line-height:2rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]{display:inline!important}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;margin-left:.5rem}.divVpnStatusMain-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6rem!important;height:2rem!important;line-height:2.1rem!important}.divVpnStatusMain-data[_ngcontent-%COMP%]{overflow-y:auto}.divVpnStatusMain-totals[_ngcontent-%COMP%]{overflow-y:auto;display:flex;justify-content:space-between}.divVpnStatusMain-totals--vertical[_ngcontent-%COMP%]{flex-direction:column}.divVpnStatusMain-totals--horizontal[_ngcontent-%COMP%]{flex-direction:row}.divVpnStatusMain-card[_ngcontent-%COMP%]{white-space:nowrap;color:var(--fwcWhite);height:4rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{display:inline-block;height:4rem;text-align:center;line-height:4rem;vertical-align:top;padding:.5rem}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{display:inline-block;height:4rem;text-align:left;overflow:hidden}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   p[_ngcontent-%COMP%]{color:var(--fwcWhite);margin-top:-.5rem;text-transform:uppercase;text-overflow:ellipsis}.divVpnStatusMain-card.fwcOrangeBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card.fwcBlueBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card.fwcGreenBg[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{color:var(--fwcPaleGreen)}.divVpnStatusMain-card2[_ngcontent-%COMP%]{flex:1;margin:.3rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]{color:var(--fwcWhite);text-align:center;border-radius:3px;padding-bottom:.4rem}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]{text-transform:uppercase}.divVpnStatusMain-card2-content[_ngcontent-%COMP%]   .card2-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer}.divVpnStatusMain-card2-content.fwcOrangeBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleOrange2)}.divVpnStatusMain-card2-content.fwcBlueBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleBlue2)}.divVpnStatusMain-card2-content.fwcGreenBg[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--fwcPaleGreen)}@media (max-width:64em){.divVpnStatusMain[_ngcontent-%COMP%]{height:100%}}"]],data:{}});function U(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"div",[["class","ui-g-12 divVpnStatusMain-placeholder"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-bar-chart fa-4x"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],null,(function(e,l){e(l,4,0,n["\u0275unv"](l,4,0,n["\u0275nov"](l,5).transform("VPN.STATUS.DATA")))}))}function J(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,a.b,a.a)),n["\u0275did"](2,114688,null,0,s.a,[n.ChangeDetectorRef,i.l],{message:[0,"message"]},null)],(function(e,l){e(l,2,0,l.component.errorMessage)}),null)}function W(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g-12 divVpnStatusMain-loader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"p-progressSpinner",[],null,null,null,o.b,o.a)),n["\u0275did"](3,49152,null,0,r.ProgressSpinner,[],null,null)],null,null)}function $(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[" (",") "]))],null,(function(e,l){var t=l.component;e(l,1,0,null==t._configObj?null:t._configObj.cluster_name)}))}function H(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](0,null,[" (",") "]))],null,(function(e,l){var t=l.component;e(l,0,0,null==t._configObj?null:t._configObj.firewall_name)}))}function K(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,9,"div",[["class","ui-g-11 divVpnStatusMain-title"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,8,"h6",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"i",[["class","fa fa-fw fa-users fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,["'","'"])),(e()(),n["\u0275and"](16777216,null,null,1,null,$)),n["\u0275did"](9,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),n["\u0275and"](0,[["fwName",2]],null,0,null,H)),(e()(),n["\u0275eld"](11,0,null,null,1,"div",[["class","ui-g-1 divVpnStatusMain-close"]],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,0,"i",[["class","fa fa-lg fa-close"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onVpnStatusClose()&&n),n}),null,null))],(function(e,l){var t=l.component;e(l,9,0,null==t._configObj?null:t._configObj.cluster_id,n["\u0275nov"](l,10))}),(function(e,l){var t=l.component;e(l,4,0,n["\u0275unv"](l,4,0,n["\u0275nov"](l,5).transform("VPN.STATUS.PANEL_TITLE_FULL"))),e(l,7,0,null==t._configObj?null:t._configObj._fwcObjName)}))}function Y(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,24,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](5,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](7,0,null,null,5,"th",[["pSortableColumn","bytesReceived"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,8).onClick(t)&&i),"keydown.enter"===l&&(i=!1!==n["\u0275nov"](e,8).onEnterKey(t)&&i),i}),null,null)),n["\u0275did"](8,212992,null,0,c.SortableColumn,[c.Table],{field:[0,"field"]},null),(e()(),n["\u0275ted"](9,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](11,0,null,null,1,"p-sortIcon",[["field","bytesReceived"]],null,null,null,d.e,d.b)),n["\u0275did"](12,245760,null,0,c.SortIcon,[c.Table],{field:[0,"field"]},null),(e()(),n["\u0275eld"](13,0,null,null,5,"th",[["pSortableColumn","bytesSent"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,14).onClick(t)&&i),"keydown.enter"===l&&(i=!1!==n["\u0275nov"](e,14).onEnterKey(t)&&i),i}),null,null)),n["\u0275did"](14,212992,null,0,c.SortableColumn,[c.Table],{field:[0,"field"]},null),(e()(),n["\u0275ted"](15,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](17,0,null,null,1,"p-sortIcon",[["field","bytesSent"]],null,null,null,d.e,d.b)),n["\u0275did"](18,245760,null,0,c.SortIcon,[c.Table],{field:[0,"field"]},null),(e()(),n["\u0275eld"](19,0,null,null,5,"th",[["pSortableColumn","connectedSince"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,20).onClick(t)&&i),"keydown.enter"===l&&(i=!1!==n["\u0275nov"](e,20).onEnterKey(t)&&i),i}),null,null)),n["\u0275did"](20,212992,null,0,c.SortableColumn,[c.Table],{field:[0,"field"]},null),(e()(),n["\u0275ted"](21,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](23,0,null,null,1,"p-sortIcon",[["field","connectedSince"]],null,null,null,d.e,d.b)),n["\u0275did"](24,245760,null,0,c.SortIcon,[c.Table],{field:[0,"field"]},null)],(function(e,l){e(l,8,0,"bytesReceived"),e(l,12,0,"bytesReceived"),e(l,14,0,"bytesSent"),e(l,18,0,"bytesSent"),e(l,20,0,"connectedSince"),e(l,24,0,"connectedSince")}),(function(e,l){e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("VPN.STATUS.FIELDS.CN"))),e(l,5,0,n["\u0275unv"](l,5,0,n["\u0275nov"](l,6).transform("VPN.STATUS.FIELDS.REAL_ADDRESS"))),e(l,7,0,n["\u0275nov"](l,8).isEnabled(),n["\u0275nov"](l,8).sorted,n["\u0275nov"](l,8).isEnabled()?"0":null),e(l,9,0,n["\u0275unv"](l,9,0,n["\u0275nov"](l,10).transform("VPN.STATUS.FIELDS.BYTES_RECEIVED"))),e(l,13,0,n["\u0275nov"](l,14).isEnabled(),n["\u0275nov"](l,14).sorted,n["\u0275nov"](l,14).isEnabled()?"0":null),e(l,15,0,n["\u0275unv"](l,15,0,n["\u0275nov"](l,16).transform("VPN.STATUS.FIELDS.BYTES_SENT"))),e(l,19,0,n["\u0275nov"](l,20).isEnabled(),n["\u0275nov"](l,20).sorted,n["\u0275nov"](l,20).isEnabled()?"0":null),e(l,21,0,n["\u0275unv"](l,21,0,n["\u0275nov"](l,22).transform("VPN.STATUS.FIELDS.CONNECTED_SINCE")))}))}function z(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,14,"tr",[],[[2,"ui-selectable-row",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"touchend"],[null,"keydown"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,1).onClick(t)&&i),"touchend"===l&&(i=!1!==n["\u0275nov"](e,1).onTouchEnd(t)&&i),"keydown"===l&&(i=!1!==n["\u0275nov"](e,1).onKeyDown(t)&&i),i}),null,null)),n["\u0275did"](1,212992,null,0,c.SelectableRow,[c.Table,c.TableService],{data:[0,"data"]},null),(e()(),n["\u0275eld"](2,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](3,null,["",""])),(e()(),n["\u0275eld"](4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](5,null,["",""])),(e()(),n["\u0275eld"](6,0,null,null,2,"td",[["style","text-align: right"]],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,["",""])),n["\u0275ppd"](8,1),(e()(),n["\u0275eld"](9,0,null,null,2,"td",[["style","text-align: right"]],null,null,null,null,null)),(e()(),n["\u0275ted"](10,null,["",""])),n["\u0275ppd"](11,1),(e()(),n["\u0275eld"](12,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275ted"](13,null,[" "," "])),n["\u0275ppd"](14,2)],(function(e,l){e(l,1,0,l.context.$implicit)}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1).isEnabled(),n["\u0275nov"](l,1).selected,n["\u0275nov"](l,1).isEnabled()?0:void 0),e(l,3,0,l.context.$implicit.cn),e(l,5,0,l.context.$implicit.realAddress);var t=n["\u0275unv"](l,7,0,e(l,8,0,n["\u0275nov"](l.parent.parent,1),l.context.$implicit.bytesReceived));e(l,7,0,t);var i=n["\u0275unv"](l,10,0,e(l,11,0,n["\u0275nov"](l.parent.parent,1),l.context.$implicit.bytesSent));e(l,10,0,i);var a=n["\u0275unv"](l,13,0,e(l,14,0,n["\u0275nov"](l.parent.parent,0),l.context.$implicit.connectedSince,"d/M/y hh:mm"));e(l,13,0,a)}))}function X(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,a.b,a.a)),n["\u0275did"](2,114688,null,0,s.a,[n.ChangeDetectorRef,i.l],{message:[0,"message"]},null)],(function(e,l){e(l,2,0,l.component.msgNoData)}),null)}function q(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,56,"div",[["class","ui-g-12 divVpnStatusMain-table"]],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),n["\u0275eld"](3,0,null,null,42,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,h,p)),n["\u0275did"](4,49152,null,0,f.Toolbar,[n.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),n["\u0275eld"](5,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-fw fa-desktop fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](8,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](10,0,null,0,35,"div",[["class","ui-toolbar-group-right"]],null,null,null,null,null)),(e()(),n["\u0275eld"](11,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,2,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](13,null,["",""])),n["\u0275ppd"](14,2),(e()(),n["\u0275eld"](15,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,29,"div",[["class","divVpnStatusMain-buttons"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,3,"p-splitButton",[["appendTo","body"],["icon","fa fa-refresh"],["showDelay","700"],["tooltipPosition","bottom"]],null,[[null,"onClick"]],(function(e,l,t){var n=!0;return"onClick"===l&&(n=!1!==e.component.onVpnStatusDataRefresh()&&n),n}),R,S)),n["\u0275did"](18,4341760,null,0,T.Tooltip,[n.ElementRef,n.NgZone],{tooltipPosition:[0,"tooltipPosition"],appendTo:[1,"appendTo"],showDelay:[2,"showDelay"],text:[3,"text"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),n["\u0275did"](20,180224,null,0,m.SplitButton,[n.ElementRef,n.Renderer2,_.Router,n.ChangeDetectorRef],{model:[0,"model"],icon:[1,"icon"],appendTo:[2,"appendTo"]},{onClick:"onClick"}),(e()(),n["\u0275eld"](21,0,null,null,6,"button",[["class","ui-button-success"],["icon","fa fa-search"],["pButton",""],["showDelay","700"],["tooltipPosition","bottom"],["type","button"]],null,[[null,"click"]],(function(e,l,t){var i=!0;return"click"===l&&(e.component.vpnClientsDataShowFilter=!0,i=!1!==n["\u0275nov"](e,28).focus()&&i),i}),null,null)),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](23,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](24,{display:0}),n["\u0275did"](25,4341760,null,0,g.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null),n["\u0275did"](26,4341760,null,0,T.Tooltip,[n.ElementRef,n.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](28,0,[["inputSearch",1]],null,10,"input",[["pInputText",""],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,32)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,32).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,32)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,32)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,37).onInput(t)&&i),"ngModelChange"===l&&(i=!1!==(a.vpnClientsDataFilter=t)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,48).filterGlobal(a.vpnClientsDataFilter,"contains")&&i),i}),null,null)),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](30,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](31,{display:0}),n["\u0275did"](32,16384,null,0,N.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,N.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275prd"](1024,null,N.NG_VALUE_ACCESSOR,(function(e){return[e]}),[N.DefaultValueAccessor]),n["\u0275did"](34,671744,null,0,N.NgModel,[[8,null],[8,null],[8,null],[6,N.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,N.NgControl,null,[N.NgModel]),n["\u0275did"](36,16384,null,0,N.NgControlStatus,[[4,N.NgControl]],null,null),n["\u0275did"](37,278528,null,0,y.InputText,[n.ElementRef,[2,N.NgModel]],null,null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](39,0,null,null,6,"button",[["class","ui-button-warning"],["icon","fa fa-close"],["pButton",""],["showDelay","700"],["tooltipPosition","bottom"],["type","button"]],null,[[null,"click"]],(function(e,l,t){var i=!0,a=e.component;return"click"===l&&(a.vpnClientsDataShowFilter=!1,a.vpnClientsDataFilter="",i=!1!==n["\u0275nov"](e,48).reset()&&i),i}),null,null)),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](41,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](42,{display:0}),n["\u0275did"](43,4341760,null,0,g.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null),n["\u0275did"](44,4341760,null,0,T.Tooltip,[n.ElementRef,n.NgZone],{tooltipPosition:[0,"tooltipPosition"],showDelay:[1,"showDelay"],text:[2,"text"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](46,0,null,null,8,"p-table",[["selectionMode","single"],["styleClass","optionsTable"]],null,[[null,"selectionChange"],[null,"onRowSelect"],[null,"onRowUnselect"]],(function(e,l,t){var n=!0,i=e.component;return"selectionChange"===l&&(n=!1!==(i.vpnClientSelected=t)&&n),"onRowSelect"===l&&(n=!1!==i.onVpnClientSelect(t)&&n),"onRowUnselect"===l&&(n=!1!==i.onVpnClientSelect(t)&&n),n}),d.f,d.c)),n["\u0275prd"](512,null,c.TableService,c.TableService,[]),n["\u0275did"](48,5488640,[["tabVpnStatusTable",4]],1,c.Table,[n.ElementRef,n.NgZone,c.TableService,n.ChangeDetectorRef],{styleClass:[0,"styleClass"],selectionMode:[1,"selectionMode"],globalFilterFields:[2,"globalFilterFields"],responsive:[3,"responsive"],value:[4,"value"],selection:[5,"selection"]},{selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect"}),n["\u0275qud"](603979776,1,{templates:1}),n["\u0275pad"](50,2),(e()(),n["\u0275and"](0,null,null,1,null,Y)),n["\u0275did"](52,16384,[[1,4]],0,P.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,z)),n["\u0275did"](54,16384,[[1,4]],0,P.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,X)),n["\u0275did"](56,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,2,0,"ui-g-12 divVpnStatusMain-table",t.verticalTotalsMode?"ui-lg-6":"ui-lg-7"),e(l,4,0,"tbrHighlighted"),e(l,18,0,"bottom","body","700",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,18,3,n["\u0275nov"](l,19).transform("VPN.STATUS.BUTTONS.UPDATE")),"")),e(l,20,0,t.refreshMenuItems,"fa fa-refresh","body");var i=e(l,24,0,t.vpnClientsDataShowFilter?"none":"inline");e(l,23,0,i),e(l,25,0,"fa fa-search"),e(l,26,0,"bottom","700",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,26,2,n["\u0275nov"](l,27).transform("VPN.STATUS.BUTTONS.SEARCH")),""));var a=e(l,31,0,t.vpnClientsDataShowFilter?"inline":"none");e(l,30,0,a),e(l,34,0,t.vpnClientsDataFilter),e(l,37,0);var s=e(l,42,0,t.vpnClientsDataShowFilter?"inline":"none");e(l,41,0,s),e(l,43,0,"fa fa-close"),e(l,44,0,"bottom","700",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,44,2,n["\u0275nov"](l,45).transform("VPN.STATUS.BUTTONS.CLEAR_SEARCH")),""));var o=e(l,50,0,"cn","realAddress");e(l,48,0,"optionsTable","single",o,!1,t.vpnClientsData,t.vpnClientSelected),e(l,52,0,"header"),e(l,54,0,"body"),e(l,56,0,t.vpnClientsData&&!t.vpnClientsData.length)}),(function(e,l){var t=l.component;e(l,8,0,n["\u0275unv"](l,8,0,n["\u0275nov"](l,9).transform("VPN.STATUS.FIELDS.CLIENTS")));var i=n["\u0275unv"](l,13,0,e(l,14,0,n["\u0275nov"](l.parent,0),t.vpnStatusUpdated,"d/M/y HH:mm:ss"));e(l,13,0,i),e(l,28,1,[n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,28,0,n["\u0275nov"](l,38).transform("VPN.STATUS.SEARCH")),""),n["\u0275nov"](l,36).ngClassUntouched,n["\u0275nov"](l,36).ngClassTouched,n["\u0275nov"](l,36).ngClassPristine,n["\u0275nov"](l,36).ngClassDirty,n["\u0275nov"](l,36).ngClassValid,n["\u0275nov"](l,36).ngClassInvalid,n["\u0275nov"](l,36).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,37).filled])}))}function Q(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Z(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Q)),n["\u0275did"](2,540672,null,0,u.NgTemplateOutlet,[n.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){e(l,2,0,n["\u0275nov"](l.parent.parent,18))}),null)}function ee(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,15,"div",[["class","ui-g-12 divVpnStatusMain-data"]],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),n["\u0275eld"](3,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,6,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,h,p)),n["\u0275did"](5,49152,null,0,f.Toolbar,[n.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),n["\u0275eld"](6,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,0,"i",[["class","fa fa-fw fa-bar-chart fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](9,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](11,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](12,0,null,null,1,"p-chart",[["type","line"]],null,null,null,A,L)),n["\u0275did"](13,4374528,null,0,D.UIChart,[n.ElementRef],{type:[0,"type"],options:[1,"options"],data:[2,"data"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Z)),n["\u0275did"](15,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,2,0,"ui-g-12 divVpnStatusMain-data",t.verticalTotalsMode?"ui-lg-4":"ui-lg-5"),e(l,5,0,"tbrHighlighted"),e(l,13,0,"line",t.vpnClientsChartOptions,t.vpnClientsChartData),e(l,15,0,!t.verticalTotalsMode)}),(function(e,l){e(l,9,0,n["\u0275unv"](l,9,0,n["\u0275nov"](l,10).transform("VPN.STATUS.DATA_CONSUMPTION")))}))}function le(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function te(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 ui-lg-2"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,le)),n["\u0275did"](2,540672,null,0,u.NgTemplateOutlet,[n.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,l){e(l,2,0,n["\u0275nov"](l.parent,18))}),null)}function ne(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,31,"div",[["class","divVpnStatusMain-totals"]],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgClassImpl"],u["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,u.NgClass,[u["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),n["\u0275eld"](3,0,null,null,8,"div",[["class","divVpnStatusMain-card2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,7,"div",[["class","divVpnStatusMain-card2-content fwcOrangeBg"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,1,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),n["\u0275ted"](6,null,[" "," "])),(e()(),n["\u0275eld"](7,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,0,"i",[["class","fa fw fa-desktop"]],null,null,null,null,null)),(e()(),n["\u0275ted"](10,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](12,0,null,null,9,"div",[["class","divVpnStatusMain-card2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,8,"div",[["class","divVpnStatusMain-card2-content fwcBlueBg"]],null,null,null,null,null)),(e()(),n["\u0275eld"](14,0,null,null,2,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),n["\u0275ted"](15,null,[" "," "])),n["\u0275ppd"](16,2),(e()(),n["\u0275eld"](17,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](19,0,null,null,0,"i",[["class","fa fw fa-download"]],null,null,null,null,null)),(e()(),n["\u0275ted"](20,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](22,0,null,null,9,"div",[["class","divVpnStatusMain-card2"]],null,null,null,null,null)),(e()(),n["\u0275eld"](23,0,null,null,8,"div",[["class","divVpnStatusMain-card2-content fwcGreenBg"]],null,null,null,null,null)),(e()(),n["\u0275eld"](24,0,null,null,2,"div",[["class","card2-value"]],null,null,null,null,null)),(e()(),n["\u0275ted"](25,null,[" "," "])),n["\u0275ppd"](26,2),(e()(),n["\u0275eld"](27,0,null,null,4,"div",[["class","card2-text"]],null,null,null,null,null)),(e()(),n["\u0275eld"](28,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](29,0,null,null,0,"i",[["class","fa fw fa-upload"]],null,null,null,null,null)),(e()(),n["\u0275ted"](30,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,2,0,"divVpnStatusMain-totals",l.component.verticalTotalsMode?"divVpnStatusMain-totals--vertical":"divVpnStatusMain-totals--horizontal")}),(function(e,l){var t=l.component;e(l,6,0,t.vpnClientsChartDataTotals.clientsConnected),e(l,10,0,n["\u0275unv"](l,10,0,n["\u0275nov"](l,11).transform("VPN.STATUS.FIELDS.CLIENTS")));var i=n["\u0275unv"](l,15,0,e(l,16,0,n["\u0275nov"](l.parent.parent,1),t.vpnClientsChartDataTotals.bytesReceived,".0-0"));e(l,15,0,i),e(l,20,0,n["\u0275unv"](l,20,0,n["\u0275nov"](l,21).transform("VPN.STATUS.FIELDS.BYTES_RECEIVED")));var a=n["\u0275unv"](l,25,0,e(l,26,0,n["\u0275nov"](l.parent.parent,1),t.vpnClientsChartDataTotals.bytesSent,".0-0"));e(l,25,0,a),e(l,30,0,n["\u0275unv"](l,30,0,n["\u0275nov"](l,31).transform("VPN.STATUS.FIELDS.BYTES_SENT")))}))}function ie(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,6,"p-toolbar",[["styleClass","tbrHighlighted"]],null,null,null,h,p)),n["\u0275did"](2,49152,null,0,f.Toolbar,[n.ElementRef],{styleClass:[0,"styleClass"]},null),(e()(),n["\u0275eld"](3,0,null,0,4,"div",[["class","ui-toolbar-group-left"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,3,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,0,"i",[["class","fa fa-fw fa-calculator fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](6,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,null,1,null,ne)),n["\u0275did"](9,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,2,0,"tbrHighlighted"),e(l,9,0,t.vpnClientsChartDataTotals)}),(function(e,l){e(l,6,0,n["\u0275unv"](l,6,0,n["\u0275nov"](l,7).transform("VPN.STATUS.TOTALS")))}))}function ae(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"span",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,t){var n=!0;return"dblclick"===l&&(n=!1!==e.component.onNodeSelect(e.context.$implicit)&&n),n}),null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),n["\u0275ppd"](2,1),(e()(),n["\u0275eld"](3,0,null,null,4,"span",[],null,null,null,null,null)),n["\u0275prd"](512,null,u["\u0275NgStyleImpl"],u["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](5,278528,null,0,u.NgStyle,[u["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](6,{"font-weight":0}),(e()(),n["\u0275ted"](7,null,[" "," "]))],(function(e,l){var t=e(l,6,0,l.context.$implicit.selectable?"normal":"bold");e(l,5,0,t)}),(function(e,l){var t=n["\u0275inlineInterpolate"](1,"fwcTreeIcon ",n["\u0275unv"](l,1,0,e(l,2,0,n["\u0275nov"](l.parent,2),null==l.context.$implicit.data?null:l.context.$implicit.data.object_type)),"");e(l,1,0,t),e(l,7,0,l.context.$implicit.label)}))}function se(e){return n["\u0275vid"](0,[n["\u0275pid"](0,u.DatePipe,[n.LOCALE_ID]),n["\u0275pid"](0,u.DecimalPipe,[n.LOCALE_ID]),n["\u0275pid"](0,F.a,[]),(e()(),n["\u0275eld"](3,0,null,null,14,"div",[["class","ui-g ui-g-nopad divVpnStatusMain"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,U)),n["\u0275did"](5,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,J)),n["\u0275did"](7,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,W)),n["\u0275did"](9,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,K)),n["\u0275did"](11,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,q)),n["\u0275did"](13,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ee)),n["\u0275did"](15,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,te)),n["\u0275did"](17,16384,null,0,u.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,[["vpnTotals",2]],null,0,null,ie)),(e()(),n["\u0275eld"](19,0,null,null,30,"p-dialog",[["styleClass","dlgFwcDialog dlgFwcDialog--small"]],null,[[null,"visibleChange"],[null,"onHide"]],(function(e,l,t){var n=!0,i=e.component;return"visibleChange"===l&&(n=!1!==(i.displaySelectDialog=t)&&n),"onHide"===l&&(n=!1!==i.onSelectHide(t)&&n),n}),j.b,j.a)),n["\u0275did"](20,180224,null,2,M.Dialog,[n.ElementRef,n.Renderer2,n.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],styleClass:[4,"styleClass"]},{onHide:"onHide",visibleChange:"visibleChange"}),n["\u0275qud"](603979776,2,{headerFacet:1}),n["\u0275qud"](603979776,3,{footerFacet:1}),(e()(),n["\u0275eld"](23,0,null,0,6,"p-header",[],null,null,null,V.d,V.b)),n["\u0275did"](24,49152,[[2,4]],0,P.Header,[],null,null),(e()(),n["\u0275eld"](25,0,null,0,4,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](26,0,null,null,3,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewalls fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](28,null,[" ",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](30,0,null,1,11,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](31,0,null,null,3,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](32,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](33,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](35,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](36,0,null,null,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector"]],null,[[null,"selectionChange"]],(function(e,l,t){var n=!0;return"selectionChange"===l&&(n=!1!==(e.component.selectedNode=t)&&n),n}),B.b,B.a)),n["\u0275did"](37,1294336,null,1,G.Tree,[n.ElementRef,[2,k.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),n["\u0275qud"](603979776,4,{templates:1}),n["\u0275pod"](39,{width:0,"max-height":1,overflow:2}),(e()(),n["\u0275and"](0,null,null,1,null,ae)),n["\u0275did"](41,16384,[[4,4]],0,P.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275eld"](42,0,null,2,7,"p-footer",[],null,null,null,V.c,V.a)),n["\u0275did"](43,49152,[[3,4]],0,P.Footer,[],null,null),(e()(),n["\u0275eld"](44,0,null,0,2,"button",[["class","ui-button-success"],["icon","pi pi-check"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0,i=e.component;return"click"===l&&(n=!1!==i.onNodeSelect(i.selectedNode)&&n),n}),null,null)),n["\u0275did"](45,4341760,null,0,g.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](47,0,null,0,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onSelectCancel()&&n),n}),null,null)),n["\u0275did"](48,4341760,null,0,g.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,5,0,!t.vpnClientsData&&!t.errorMessage),e(l,7,0,t.errorMessage),e(l,9,0,t.loadingData),e(l,11,0,t.vpnClientsData&&t.showTitle),e(l,13,0,t.vpnClientsData),e(l,15,0,t.vpnClientsData),e(l,17,0,t.vpnClientsData&&t.verticalTotalsMode),e(l,20,0,t.displaySelectDialog,!1,!!t.showTitle,!1,"dlgFwcDialog dlgFwcDialog--small");var i=t.clusterTreeNodes,a=t.selectedNode,s=e(l,39,0,"100%","20em","auto");e(l,37,0,i,"single",a,s,"treeSelector"),e(l,41,0,"default"),e(l,45,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,45,0,n["\u0275nov"](l,46).transform("GLOBALS.MSG_BUTTONS.SELECT")),""),"pi pi-check"),e(l,48,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,48,0,n["\u0275nov"](l,49).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")}),(function(e,l){var t=l.component;e(l,28,0,n["\u0275unv"](l,28,0,n["\u0275nov"](l,29).transform("VPN.STATUS.NODE_SELECT_DIALOG.TITLE"))),e(l,33,0,n["\u0275unv"](l,33,0,n["\u0275nov"](l,34).transform("VPN.STATUS.NODE_SELECT_DIALOG.TEXT"))),e(l,44,0,!t.selectedNode)}))}},c3Gj:function(e,l,t){"use strict";var n=t("8Y7J"),i=t("SVse"),a=t("nxom"),s=t("m6j1"),o=t("ZQ90"),r=t("jkif"),u=t("qIZb"),c=n["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,"div",[["class","iui-scrollbar-vertical"]],null,[[null,"mousedown"]],(function(e,l,t){var n=!0;return"mousedown"===l&&(n=!1!==e.component.changeScrollPos(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](3,0,null,null,3,"div",[["class","iui-scroll-button-thumb-vertical"]],null,[[null,"mousedown"]],(function(e,l,t){var n=!0;return"mousedown"===l&&(n=!1!==e.component.thumbMouseDown(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](5,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](6,{top:0,height:1})],(function(e,l){var t=l.component;e(l,2,0,t.getScrollBarStyle());var n=e(l,6,0,t.thumbPos.y+"px",t.thumbSize.height+"px");e(l,5,0,n)}),null)}function f(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,"div",[["class","iui-scrollbar-horizontal"]],null,[[null,"mousedown"]],(function(e,l,t){var n=!0;return"mousedown"===l&&(n=!1!==e.component.changeScrollPos(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](3,0,null,null,3,"div",[["class","iui-scroll-button-thumb-horizontal"]],null,[[null,"mousedown"]],(function(e,l,t){var n=!0;return"mousedown"===l&&(n=!1!==e.component.thumbMouseDown(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](5,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](6,{left:0,width:1})],(function(e,l){var t=l.component;e(l,2,0,t.getScrollBarStyle());var n=e(l,6,0,t.thumbPos.x+"px",t.thumbSize.width+"px");e(l,5,0,n)}),null)}function p(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](16777216,null,null,1,null,d)),n["\u0275did"](1,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,f)),n["\u0275did"](3,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,1,0,t.isVertical()),e(l,3,0,!t.isVertical())}),null)}var h=t("WLQa"),m=t("tjEg"),g=n["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](0,null,null,0))],null,null)}function S(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,v,g)),n["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),n["\u0275did"](2,6406144,[[5,4]],0,m.IntegralUITreeItem,[n.ElementRef,h.IntegralUIDataService,u.IntegralUICommonService,o.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"],expanded:[5,"expanded"]},null)],(function(e,l){e(l,2,0,l.context.$implicit,l.context.$implicit.enabled,l.context.$implicit.text,l.context.$implicit.items,l.component.templateRef,l.context.$implicit.expanded)}),null)}function v(e){return n["\u0275vid"](0,[n["\u0275qud"](402653184,1,{contentElem:0}),n["\u0275qud"](402653184,2,{dragElem:0}),n["\u0275qud"](402653184,3,{blockElem:0}),n["\u0275qud"](402653184,4,{expandBoxElem:0}),n["\u0275qud"](671088640,5,{contentList:1}),(e()(),n["\u0275eld"](5,0,null,null,24,"li",[],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](7,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),n["\u0275eld"](8,0,[[1,0],["content",1]],null,13,"div",[],null,[[null,"dragover"],[null,"drop"]],(function(e,l,t){var n=!0,i=e.component;return"dragover"===l&&(n=!1!==i.itemDragOver(t)&&n),"drop"===l&&(n=!1!==i.itemDragDrop(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](10,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](12,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](13,0,[[4,0],["expandBox",1]],null,2,"span",[],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,l,t){var n=!0,i=e.component;return"mousedown"===l&&(n=!1!==i.onExpandBoxMouseDown(t)&&n),"mousedown"===l&&(n=!1!==i.onExpandBoxMouseUp(t)&&n),"touchstart"===l&&(n=!1!==i.onExpandBoxTouchStart(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](15,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),n["\u0275eld"](16,0,[[2,0],["dragElem",1]],null,5,"div",[["draggable","true"]],null,[[null,"click"],[null,"mousedown"],[null,"mouseup"],[null,"mouseenter"],[null,"mousemove"],[null,"mouseleave"],[null,"dragstart"],[null,"touchstart"]],(function(e,l,t){var n=!0,i=e.component;return"click"===l&&(n=!1!==i.onClick(t)&&n),"mousedown"===l&&(n=!1!==i.onMouseDown(t)&&n),"mouseup"===l&&(n=!1!==i.onMouseUp(t)&&n),"mouseenter"===l&&(n=!1!==i.onMouseEnter(t)&&n),"mousemove"===l&&(n=!1!==i.onMouseMove(t)&&n),"mouseleave"===l&&(n=!1!==i.onMouseLeave(t)&&n),"dragstart"===l&&(n=!1!==i.itemDragStart(t)&&n),"touchstart"===l&&(n=!1!==i.onTouchStart(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](18,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](19,{display:0}),(e()(),n["\u0275and"](16777216,null,null,1,null,_)),n["\u0275did"](21,278528,null,0,i.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTemplate:[1,"ngForTemplate"]},null),(e()(),n["\u0275eld"](22,0,[[3,0],["block",1]],null,7,"ul",[],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](24,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](26,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](27,{height:0}),(e()(),n["\u0275and"](16777216,null,null,1,null,S)),n["\u0275did"](29,278528,null,0,i.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,7,0,t.getControlClass()),e(l,10,0,t.getContentClass()),e(l,12,0,t.getControlStyle()),e(l,15,0,t.getExpandBoxClass());var n=e(l,19,0,0==t.getItemDisplayMode()?"inline-block":"block");e(l,18,0,n),e(l,21,0,t.templateData,t.templateRef),e(l,24,0,t.getBlockClass());var i=e(l,27,0,t.blockElemHeight);e(l,26,0,i),e(l,29,0,t.items)}),null)}var O=t("IOOi"),w=t("xhm7"),I=t("XOMR"),C=n["\u0275crt"]({encapsulation:2,styles:[],data:{}});function E(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,[[4,0],["itemElem",1]],null,21,"li",[],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"mousedown"],[null,"mouseup"],[null,"dragover"],[null,"drop"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],(function(e,l,t){var n=!0,i=e.component;return"mouseenter"===l&&(n=!1!==i.itemMouseEnter(t,e.context.$implicit)&&n),"mouseleave"===l&&(n=!1!==i.itemMouseLeave(t,e.context.$implicit)&&n),"mousedown"===l&&(n=!1!==i.itemMouseDown(t,e.context.$implicit)&&n),"mouseup"===l&&(n=!1!==i.itemMouseUp(t,e.context.$implicit)&&n),"dragover"===l&&(n=!1!==i.itemDragOver(t,e.context.$implicit,e.context.index)&&n),"drop"===l&&(n=!1!==i.itemDragDrop(t,e.context.$implicit)&&n),"touchstart"===l&&(n=!1!==i.itemTouchStart(t,e.context.$implicit)&&n),"touchmove"===l&&(n=!1!==i.itemTouchMove(t,e.context.$implicit)&&n),"touchend"===l&&(n=!1!==i.itemTouchEnd(t,e.context.$implicit)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](4,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](5,0,null,null,16,"div",[],[[8,"tabIndex",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"keyup"]],(function(e,l,t){var n=!0,i=e.component;return"focus"===l&&(n=!1!==i.itemGotFocus(e.context.$implicit)&&n),"blur"===l&&(n=!1!==i.itemLostFocus(e.context.$implicit)&&n),"keydown"===l&&(n=!1!==i.itemKeyDown(t,e.context.$implicit)&&n),"keypress"===l&&(n=!1!==i.itemKeyPress(t,e.context.$implicit)&&n),"keyup"===l&&(n=!1!==i.itemKeyUp(t,e.context.$implicit)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](7,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](9,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](10,{display:0}),n["\u0275did"](11,16384,null,0,o.IntegralUIFocus,[n.ElementRef],{settings:[0,"settings"]},null),(e()(),n["\u0275eld"](12,0,null,null,2,"span",[],null,[[null,"mousedown"],[null,"mouseup"],[null,"touchstart"],[null,"touchend"]],(function(e,l,t){var n=!0,i=e.component;return"mousedown"===l&&(n=!1!==i.expandBoxMouseDown(t,e.context.$implicit.data)&&n),"mouseup"===l&&(n=!1!==i.expandBoxMouseUp(t)&&n),"touchstart"===l&&(n=!1!==i.expandBoxTouchStart(t,e.context.$implicit.data)&&n),"touchend"===l&&(n=!1!==i.expandBoxTouchEnd(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](14,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),n["\u0275eld"](15,0,null,null,6,"div",[["draggable","true"]],null,[[null,"dragstart"],[null,"click"],[null,"dblclick"]],(function(e,l,t){var n=!0,i=e.component;return"dragstart"===l&&(n=!1!==i.itemDragStart(t,e.context.$implicit)&&n),"click"===l&&(n=!1!==i.itemClickEvent(t,e.context.$implicit)&&n),"dblclick"===l&&(n=!1!==i.itemDblClickEvent(t,e.context.$implicit)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](17,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](18,{display:0}),(e()(),n["\u0275eld"](19,16777216,null,null,2,"span",[],null,null,null,null,null)),n["\u0275did"](20,671744,null,0,o.IntegralUITemplateOutlet,[n.ViewContainerRef],{iuiTemplateOutletContext:[0,"iuiTemplateOutletContext"],iuiTemplateOutlet:[1,"iuiTemplateOutlet"]},null),n["\u0275pod"](21,{$implicit:0})],(function(e,l){var t=l.component;e(l,2,0,l.context.$implicit.style.general),e(l,4,0,l.context.$implicit.inlineStyle),e(l,7,0,l.context.$implicit.style.content);var n=e(l,10,0,0==t.currentItemDisplay?"inline-block":"block");e(l,9,0,n),e(l,11,0,l.context.$implicit.data==t.currentFocusItem),e(l,14,0,l.context.$implicit.style.expandBox);var i=e(l,18,0,0==t.currentItemDisplay?"inline-block":"block");e(l,17,0,i);var a=e(l,21,0,l.context.$implicit.data);e(l,20,0,a,t.itemTemplate)}),(function(e,l){e(l,5,0,n["\u0275inlineInterpolate"](1,"",l.context.$implicit.tabIndex,""))}))}function b(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],(function(e,l,t){var i=!0,a=e.component;return"document:mousemove"===l&&(i=!1!==n["\u0275nov"](e,1).onWindowMouseMove(t)&&i),"document:mouseup"===l&&(i=!1!==n["\u0275nov"](e,1).onWindowMouseUp(t)&&i),"valueChanged"===l&&(i=!1!==a.onVerticalScrollChanged(t)&&i),"scrollStart"===l&&(i=!1!==a.onVerticalScrollStart(t)&&i),"scrollEnd"===l&&(i=!1!==a.onVerticalScrollEnd(t)&&i),i}),p,c)),n["\u0275did"](1,5488640,[[5,4],["verScroll",4]],0,r.IntegralUIScrollBar,[n.ElementRef,n.Renderer,u.IntegralUICommonService],{enabled:[0,"enabled"],height:[1,"height"],largeChange:[2,"largeChange"],max:[3,"max"],value:[4,"value"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],(function(e,l){var t=l.component;e(l,1,0,t.enabled,t.scrollBarSize.height,t.scrollLargeChange.y,t.maxScrollPos.y,t.currentScrollPos.y)}),null)}function R(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],(function(e,l,t){var i=!0,a=e.component;return"document:mousemove"===l&&(i=!1!==n["\u0275nov"](e,1).onWindowMouseMove(t)&&i),"document:mouseup"===l&&(i=!1!==n["\u0275nov"](e,1).onWindowMouseUp(t)&&i),"valueChanged"===l&&(i=!1!==a.onHorizontalScrollChanged(t)&&i),"scrollStart"===l&&(i=!1!==a.onHorizontalScrollStart(t)&&i),"scrollEnd"===l&&(i=!1!==a.onHorizontalScrollEnd(t)&&i),i}),p,c)),n["\u0275did"](1,5488640,[[6,4],["horScroll",4]],0,r.IntegralUIScrollBar,[n.ElementRef,n.Renderer,u.IntegralUICommonService],{enabled:[0,"enabled"],max:[1,"max"],orientation:[2,"orientation"],value:[3,"value"],width:[4,"width"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],(function(e,l){var t=l.component;e(l,1,0,t.enabled,t.maxScrollPos.x,t.horScrollOrientation,t.currentScrollPos.x,t.scrollBarSize.width)}),null)}function T(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,"div",[["class","iui-scrollbar-corner"],["style","position:absolute;right:0;bottom:0;width:16px;height:16px;"]],null,null,null,null,null))],null,null)}function N(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,12,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"ul",[["style","margin:0;padding:0;"]],null,[[null,"touchstart"],[null,"touchend"]],(function(e,l,t){var n=!0,i=e.component;return"touchstart"===l&&(n=!1!==i.ctrlTouchStart(t)&&n),"touchend"===l&&(n=!1!==i.ctrlTouchEnd(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](3,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](4,{width:0,height:1,"margin-left":2}),(e()(),n["\u0275and"](16777216,null,null,1,null,E)),n["\u0275did"](6,278528,null,0,i.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,b)),n["\u0275did"](8,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,R)),n["\u0275did"](10,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,T)),n["\u0275did"](12,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component,n=e(l,4,0,0==t.currentItemDisplay?"9999px":t.blockSize.width+"px",t.contentSize.height+"px",0-t.currentScrollPos.x+"px");e(l,3,0,n),e(l,6,0,t.scrollItemList),e(l,8,0,t.isVerScrollVisible()),e(l,10,0,t.isHorScrollVisible()),e(l,12,0,t.isVerScrollVisible()&&t.isHorScrollVisible())}),null)}function y(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,v,g)),n["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),n["\u0275did"](2,6406144,[[1,4]],0,m.IntegralUITreeItem,[n.ElementRef,h.IntegralUIDataService,u.IntegralUICommonService,o.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"]},null)],(function(e,l){e(l,2,0,l.context.$implicit,l.context.$implicit.enabled,l.context.$implicit.text,l.context.$implicit.items,l.component.itemTemplate)}),null)}function P(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,4,"ul",[["style","margin:0;padding:0;"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](3,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,y)),n["\u0275did"](5,278528,null,0,i.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var t=l.component;e(l,3,0,t.getBlockStyle()),e(l,5,0,t.items)}),null)}function D(e){return n["\u0275vid"](0,[n["\u0275qud"](671088640,1,{contentList:1}),n["\u0275qud"](402653184,2,{contentRef:0}),n["\u0275qud"](402653184,3,{contentElem:0}),n["\u0275qud"](671088640,4,{itemElems:1}),n["\u0275qud"](671088640,5,{verScrollCmp:0}),n["\u0275qud"](671088640,6,{horScrollCmp:0}),(e()(),n["\u0275eld"](6,0,null,null,10,"div",[],null,[[null,"DOMMouseScroll"],[null,"mousewheel"],[null,"mouseenter"],[null,"mouseleave"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"dragend"],[null,"scroll"]],(function(e,l,t){var n=!0,i=e.component;return"DOMMouseScroll"===l&&(n=!1!==i.processMouseWheel(t)&&n),"mousewheel"===l&&(n=!1!==i.processMouseWheel(t)&&n),"mouseenter"===l&&(n=!1!==i.onCtrlMouseEnter(t)&&n),"mouseleave"===l&&(n=!1!==i.onCtrlMouseLeave(t)&&n),"dragenter"===l&&(n=!1!==i.ctrlDragEnter(t)&&n),"dragleave"===l&&(n=!1!==i.ctrlDragLeave(t)&&n),"dragover"===l&&(n=!1!==i.ctrlDragOver(t)&&n),"drop"===l&&(n=!1!==i.ctrlDragDrop(t)&&n),"dragend"===l&&(n=!1!==i.ctrlDragEnd(t)&&n),"scroll"===l&&(n=!1!==i.onScroll(t)&&n),n}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](8,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](10,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),(e()(),n["\u0275eld"](11,16777216,[[2,3],[3,0],["content",1]],null,5,"span",[],null,null,null,null,null)),n["\u0275did"](12,16384,null,0,i.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,N)),n["\u0275did"](14,278528,null,0,i.NgSwitchCase,[n.ViewContainerRef,n.TemplateRef,i.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,P)),n["\u0275did"](16,16384,null,0,i.NgSwitchDefault,[n.ViewContainerRef,n.TemplateRef,i.NgSwitch],null,null)],(function(e,l){var t=l.component;e(l,8,0,t.getControlClass()),e(l,10,0,t.getControlStyle()),e(l,12,0,t.virtualMode),e(l,14,0,!0)}),null)}t("LwpX"),t("IheW"),t("w2nL"),t("77Y5"),t("PIn4"),t("P6hr"),t("BCAg"),t("TSSN"),t("XY+R"),t("2Rin"),t("Mebi"),t("SwFf"),t("mLt5"),t("Y/9N"),t("4Vzq"),t("DQLy"),t("6xRK"),t("zLlU"),t("AjHW"),t("H9gU"),t("U3yX"),t("oygf"),t("yEB0"),t("sqqX"),t("36a9"),t("8xOQ"),t("UJFw"),t.d(l,"a",(function(){return L})),t.d(l,"b",(function(){return U}));var L=n["\u0275crt"]({encapsulation:2,styles:[[':root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}div.fwcTree-item{display:inline-block;margin-left:0;transition:all .3s}div.fwcTree-item *{pointer-events:none}div.fwcTree-item.fwcHighlightNode{margin-left:.2em;background-color:var(--fwcPaleGreen)!important;padding-right:8em}div.fwcTree-item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}div.fwcTree-item--disabled .fwcTreeIcon::after{content:"\\\\";font-weight:700;color:var(--fwcRed);position:absolute;left:.9em;top:-.4em;font-size:1.7em;font-style:normal}div.fwcTree-item--disabled .fwc-label{color:var(--fwcPaleDark)!important}']],data:{}});function A(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-spin fa-spinner fwcBlue"]],null,null,null,null,null))],null,null)}function F(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,[[2,0],["hintFirstTreeElement",1]],null,0,"i",[["aria-hidden","true"],["class","fwcTreeIcon fwci-clusters fwcDarkBlue"]],null,null,null,null,null))],null,null)}function j(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-C"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["C"]))],null,null)}function M(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["I"]))],null,null)}function V(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["I"]))],null,null)}function B(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["[","]"]))],null,(function(e,l){e(l,1,0,l.parent.context.$implicit.labelName)}))}function G(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["(",")"]))],null,(function(e,l){e(l,1,0,l.parent.context.$implicit.address)}))}function k(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[["style","margin-left: 0.3em"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-question-circle fwcOrange"]],null,[[null,"mouseenter"]],(function(e,l,t){var n=!0,i=e.component;return"mouseenter"===l&&(n=!1!==i.appHintService.showRegisteredHint(i.HintsIds.HINT_CA_CREATING,void 0,t)&&n),n}),null,null))],null,null)}function x(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,16777216,null,null,30,"div",[["class","fwcTree-item"]],[[8,"draggable",0]],[[null,"itemClick"],[null,"menuOpening"],[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"dragstart"],[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"],[null,"mousedown"]],(function(e,l,t){var i=!0,a=e.component;return"contextmenu"===l&&(i=!1!==n["\u0275nov"](e,4).onContextMenu(t)&&i),"mousedown"===l&&(i=!1!==n["\u0275nov"](e,4).onMouseDown(t)&&i),"itemClick"===l&&(i=!1!==a.onContextMenuHandler(t)&&i),"menuOpening"===l&&(i=!1!==a.onContextMenuLoad(t)&&i),"click"===l&&(i=!1!==a.onItemClickEvent(t)&&i),"dblclick"===l&&(i=!1!==a.onItemDblClickEvent(t)&&i),"contextmenu"===l&&(i=!1!==a.clearObjectInfo()&&i),"dragstart"===l&&(i=!1!==a.onItemDragStart(e.context.$implicit,t)&&i),"mouseenter"===l&&(i=!1!==a.showObjectInfo(e.context.$implicit,t)&&i),"mouseleave"===l&&(i=!1!==a.clearObjectInfo(t)&&i),"wheel"===l&&(i=!1!==a.clearObjectInfo()&&i),i}),null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275pod"](3,{fwcHighlightNode:0,fwcSelectedPolicyNode:1,"fwcTree-item--disabled":2}),n["\u0275did"](4,1196032,null,1,a.IntegralUIContextMenu,[n.ElementRef,n.ViewContainerRef,n.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),n["\u0275qud"](603979776,4,{templates:1}),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,A)),n["\u0275did"](7,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](8,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),n["\u0275ppd"](9,2),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,F)),n["\u0275did"](11,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,j)),n["\u0275did"](13,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,M)),n["\u0275did"](15,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,V)),n["\u0275did"](17,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](18,0,null,null,12,"span",[["class","fwc-label"]],null,null,null,null,null)),n["\u0275prd"](512,null,i["\u0275NgClassImpl"],i["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](20,278528,null,0,i.NgClass,[i["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n["\u0275prd"](512,null,i["\u0275NgStyleImpl"],i["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](22,278528,null,0,i.NgStyle,[i["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](23,{"font-weight":0,"margin-left":1}),(e()(),n["\u0275ted"](24,null,[" "," "])),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,B)),n["\u0275did"](26,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,G)),n["\u0275did"](28,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,[[3,2]],null,1,null,k)),n["\u0275did"](30,16384,null,0,i.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component,n=e(l,3,0,l.context.$implicit.id==t.highlightNodeId,l.context.$implicit.id==(null==t.selectedPolicyNode?null:t.selectedPolicyNode.id),l.context.$implicit.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI&&l.context.$implicit.openvpn_disabled&&!l.context.$implicit._fwcOpenvpnStatus);e(l,2,0,"fwcTree-item",n),e(l,4,0,t.treeContextMenu[l.context.$implicit.node_type]?t.treeContextMenu[l.context.$implicit.node_type]:t.treeContextMenu.NO_MENU,t.contextMenuReference),e(l,7,0,l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CA&&l.context.$implicit._fwcCaStatus),e(l,11,0,"FDF"==l.context.$implicit.node_type),e(l,13,0,(l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&l.context.$implicit.status_compiled),e(l,15,0,(l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&l.context.$implicit.status_compiled||(l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&!l.context.$implicit.status_compiled&&l.context.$implicit.status_installed),e(l,17,0,(l.context.$implicit.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI||l.context.$implicit.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER)&&l.context.$implicit._fwcOpenvpnStatus),e(l,20,0,"fwc-label",null===l.context.$implicit.fwcloud&&null!==l.context.$implicit.id_obj?"fwcBlue":"fwcDark");var i=e(l,23,0,null===l.context.$implicit._fwcObjId?"bold":"normal",l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||l.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL?"3px":"1px");e(l,22,0,i),e(l,26,0,l.context.$implicit.labelName&&""!==l.context.$implicit.labelName),e(l,28,0,(l.context.$implicit.parent_type===t.ObjectTypes.OBJ_HOST||l.context.$implicit.parent_type===t.ObjectTypes.OBJ_FIREWALL||l.context.$implicit.if_id)&&l.context.$implicit.address&&""!==l.context.$implicit.address),e(l,30,0,l.context.$implicit.obj_type==t.ObjectTypes.OBJ_CA&&l.context.$implicit._fwcCaStatus)}),(function(e,l){e(l,0,0,l.context.$implicit.allowDrag);var t=n["\u0275inlineInterpolate"](1,"fwcTreeIcon ",n["\u0275unv"](l,8,0,e(l,9,0,n["\u0275nov"](l.parent,0),l.context.$implicit.obj_type,l.context.$implicit.node_type)),"");e(l,8,0,t),e(l,24,0,l.context.$implicit.text)}))}function U(e){return n["\u0275vid"](0,[n["\u0275pid"](0,s.a,[]),n["\u0275qud"](402653184,1,{treeview:0}),n["\u0275qud"](671088640,2,{hintFirstTreeElement:0}),(e()(),n["\u0275eld"](3,0,null,null,5,"iui-treeview",[],null,[[null,"afterExpand"],[null,"afterCollapse"],[null,"dragOver"],[null,"dragLeave"],[null,"dragDrop"],["document","keydown"],["document","keyup"]],(function(e,l,t){var i=!0,a=e.component;return"document:keydown"===l&&(i=!1!==n["\u0275nov"](e,6).onWindowKeyDown(t)&&i),"document:keyup"===l&&(i=!1!==n["\u0275nov"](e,6).onWindowKeyUp(t)&&i),"afterExpand"===l&&(i=!1!==a.setExpandedNodes(t,!0)&&i),"afterCollapse"===l&&(i=!1!==a.setExpandedNodes(t,!1)&&i),"dragOver"===l&&(i=!1!==a.onDragOver(t)&&i),"dragLeave"===l&&(i=!1!==a.onDragLeave(t)&&i),"dragDrop"===l&&(i=!1!==a.onDragDrop(t)&&i),i}),D,C)),n["\u0275prd"](512,null,h.IntegralUIDataService,h.IntegralUIDataService,[]),n["\u0275prd"](512,null,o.IntegralUIBaseService,o.IntegralUIBaseService,[]),n["\u0275did"](6,15974400,[[1,4]],1,O.IntegralUITreeView,[h.IntegralUIDataService,w.IntegralUIDragDropService,n.ElementRef,n.Renderer,u.IntegralUICommonService,I.IntegralUIFilterService,n.ComponentFactoryResolver,o.IntegralUIBaseService],{controlStyle:[0,"controlStyle"],allowDrag:[1,"allowDrag"],allowDrop:[2,"allowDrop"],allowFocus:[3,"allowFocus"],items:[4,"items"],virtualMode:[5,"virtualMode"],autoExpand:[6,"autoExpand"],itemDisplay:[7,"itemDisplay"]},{dragDrop:"dragDrop",dragLeave:"dragLeave",dragOver:"dragOver",afterCollapse:"afterCollapse",afterExpand:"afterExpand"}),n["\u0275qud"](603979776,3,{itemTemplate:0}),(e()(),n["\u0275and"](0,[[3,2]],null,0,null,x))],(function(e,l){var t=l.component;e(l,6,0,t.treeStyle,!0,!0,!0,t.items,!0,!(null!=t.options&&t.options.containerReadOnly),0)}),null)}},eiS1:function(e,l,t){"use strict";var n=t("8Y7J"),i=t("TSSN"),a=t("Ge8E"),s=t("EjV3"),o=t("9a1C"),r=t("T5x2"),u=t("wf45"),c=t("Zf0f"),d=t("Mebi"),f=t("77Y5"),p=t("DQLy"),h=t("m6j1"),m=t("kp3z"),g=t("SVse"),_=t("AcEf"),S=t("T+K8"),v=t("s7LF"),O=t("2m6e"),w=t("quQV"),I=t("0VEr"),C=t("g/5Y"),E=t("7PmC"),b=t("IheW"),R=t("iiPk"),T=t("AjHW"),N=t("Fa87"),y=t("wmoJ"),P=t("pmWI"),D=t("VSng"),L=t("sP6A"),A=t("HQi4"),F=t("Meih"),j=t("SlyN"),M=t("B58V"),V=t("7LN8"),B=t("LwpX"),G=t("ePWF"),k=t("EMdb"),x=t("XY+R"),U=t("4Vzq"),J=n["\u0275crt"]({encapsulation:2,styles:[[""]],data:{}});function W(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,15,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,8,"input",[["disabled","true"],["maxlength","64"],["name","_object_name"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,3)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,3).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,3)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,3)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,10).onInput(t)&&i),"ngModelChange"===l&&(i=!1!==(a.selectedObjectName=t)&&i),i}),null,null)),n["\u0275did"](3,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](4,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](7,671744,null,0,v.NgModel,[[8,null],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,v.NgControl,null,[v.NgModel]),n["\u0275did"](9,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](10,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](11,0,null,null,2,"label",[["for","_object_name"]],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](14,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-search"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e.parent,5).toggle(t)&&i),i}),null,null)),n["\u0275did"](15,4341760,null,0,D.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null)],(function(e,l){var t=l.component;e(l,4,0,"64"),e(l,7,0,"_object_name","true",t.selectedObjectName),e(l,10,0),e(l,15,0,"fa fa-search")}),(function(e,l){e(l,2,1,[n["\u0275nov"](l,4).maxlength?n["\u0275nov"](l,4).maxlength:null,n["\u0275nov"](l,9).ngClassUntouched,n["\u0275nov"](l,9).ngClassTouched,n["\u0275nov"](l,9).ngClassPristine,n["\u0275nov"](l,9).ngClassDirty,n["\u0275nov"](l,9).ngClassValid,n["\u0275nov"](l,9).ngClassInvalid,n["\u0275nov"](l,9).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,10).filled]),e(l,12,0,n["\u0275unv"](l,12,0,n["\u0275nov"](l,13).transform("ITEM_PANEL.FIELDS.NAME")))}))}function $(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"span",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,t){var n=!0;return"dblclick"===l&&(n=!1!==e.component.onSelectObjectNode(e.context.$implicit)&&n),n}),null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),n["\u0275ppd"](2,2),(e()(),n["\u0275eld"](3,0,null,null,4,"span",[],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](5,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](6,{"font-weight":0}),(e()(),n["\u0275ted"](7,null,[" "," "]))],(function(e,l){var t=e(l,6,0,l.context.$implicit.selectable||null!=l.context.$implicit.data&&l.context.$implicit.data.alreadySelected?"normal":"bold");e(l,5,0,t)}),(function(e,l){var t=n["\u0275inlineInterpolate"](1,"fwcTreeIcon ",n["\u0275unv"](l,1,0,e(l,2,0,n["\u0275nov"](l.parent,0),null==l.context.$implicit.data?null:l.context.$implicit.data.obj_type,null==l.context.$implicit.data?null:l.context.$implicit.data.node_type)),"");e(l,1,0,t),e(l,7,0,l.context.$implicit.label)}))}function H(e){return n["\u0275vid"](0,[n["\u0275pid"](0,h.a,[]),n["\u0275qud"](671088640,1,{treePanel:0}),(e()(),n["\u0275and"](16777216,null,null,1,null,W)),n["\u0275did"](3,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](4,0,null,null,15,"p-overlayPanel",[["appendTo","body"]],null,null,null,L.b,L.a)),n["\u0275did"](5,180224,[[1,4],["treePanel",4]],0,A.OverlayPanel,[n.ElementRef,n.Renderer2,n.ChangeDetectorRef,n.NgZone],{dismissable:[0,"dismissable"],appendTo:[1,"appendTo"]},null),(e()(),n["\u0275eld"](6,0,null,0,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector"]],null,[[null,"selectionChange"]],(function(e,l,t){var n=!0;return"selectionChange"===l&&(n=!1!==(e.component.selectedObjectNode=t)&&n),n}),F.b,F.a)),n["\u0275did"](7,1294336,null,1,j.Tree,[n.ElementRef,[2,M.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),n["\u0275qud"](603979776,2,{templates:1}),n["\u0275pod"](9,{"max-height":0,overflow:1}),(e()(),n["\u0275and"](0,null,null,1,null,$)),n["\u0275did"](11,16384,[[2,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275eld"](12,0,null,0,7,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](13,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](14,0,null,null,5,"div",[["class","fwc-right-float"]],null,null,null,null,null)),(e()(),n["\u0275eld"](15,0,null,null,1,"button",[["class","ui-button-warning"],["icon","fa fa-times"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,5).hide()&&i),i}),null,null)),n["\u0275did"](16,4341760,null,0,D.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null),(e()(),n["\u0275eld"](17,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,1,"button",[["class","ui-button-success"],["icon","fa fa-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0,i=e.component;return"click"===l&&(n=!1!==i.onSelectObjectNode(i.selectedObjectNode)&&n),n}),null,null)),n["\u0275did"](19,4341760,null,0,D.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null)],(function(e,l){var t=l.component;e(l,3,0,!t.hideObjectName),e(l,5,0,!1,"body");var n=t.treeData,i=t.selectedObjectNode,a=e(l,9,0,"20em","auto");e(l,7,0,n,"single",i,a,"treeSelector"),e(l,11,0,"default"),e(l,16,0,"fa fa-times"),e(l,19,0,"fa fa-check")}),(function(e,l){e(l,18,0,!l.component.selectedObjectNode)}))}var K=t("Czxz"),Y=t("RXyF"),z=t("9uU2"),X=t("nciF"),q=t("g4HV"),Q=t("nxom"),Z=t("PIn4"),ee=t("P6hr"),le=t("DSdC"),te=t("H9gU"),ne=t("oygf"),ie=t("2Rin"),ae=n["\u0275crt"]({encapsulation:2,styles:[[':root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.ui-dropdown.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}tr.trOptionsGridRow td{overflow:hidden}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\00a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:var(--fwcWhite);background:var(--fwcRed);display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}div.divGridFooter{text-align:center;border:1px solid var(--fwcGrey5);background:var(--fwcPaleWhite2);padding:.2rem}div.divGridFooter button{font-size:.8rem!important;margin-left:.5rem}']],data:{}});function se(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"th",[["class","tdActionColumn"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,5,"th",[["pSortableColumn","name"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,3).onClick(t)&&i),"keydown.enter"===l&&(i=!1!==n["\u0275nov"](e,3).onEnterKey(t)&&i),i}),null,null)),n["\u0275did"](3,212992,null,0,K.SortableColumn,[K.Table],{field:[0,"field"]},null),(e()(),n["\u0275ted"](4,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](6,0,null,null,1,"p-sortIcon",[["field","name"]],null,null,null,Y.e,Y.b)),n["\u0275did"](7,245760,null,0,K.SortIcon,[K.Table],{field:[0,"field"]},null),(e()(),n["\u0275eld"](8,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](9,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](11,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,3,0,"name"),e(l,7,0,"name")}),(function(e,l){e(l,2,0,n["\u0275nov"](l,3).isEnabled(),n["\u0275nov"](l,3).sorted,n["\u0275nov"](l,3).isEnabled()?"0":null),e(l,4,0,n["\u0275unv"](l,4,0,n["\u0275nov"](l,5).transform("VPN.CONFIG.GRID_HEADER.0"))),e(l,9,0,n["\u0275unv"](l,9,0,n["\u0275nov"](l,10).transform("VPN.CONFIG.GRID_HEADER.1"))),e(l,12,0,n["\u0275unv"](l,12,0,n["\u0275nov"](l,13).transform("VPN.CONFIG.GRID_HEADER.2")))}))}function oe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function re(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["",""]))],null,(function(e,l){e(l,1,0,l.context.$implicit.label)}))}function ue(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""]))],null,(function(e,l){e(l,2,0,l.context.$implicit.label)}))}function ce(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,11,"p-dropdown",[["appendTo","body"],["filter","true"],["styleClass","fwcGridDropDown"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],(function(e,l,t){var n=!0,i=e.component;return"ngModelChange"===l&&(n=!1!==(e.parent.parent.context.$implicit.name=t)&&n),"onChange"===l&&(n=!1!==i.onDataChanged(t)&&n),n}),z.b,z.a)),n["\u0275did"](1,13877248,null,1,X.Dropdown,[n.ElementRef,n.Renderer2,n.ChangeDetectorRef,n.NgZone],{filter:[0,"filter"],styleClass:[1,"styleClass"],appendTo:[2,"appendTo"],autoDisplayFirst:[3,"autoDisplayFirst"],emptyFilterMessage:[4,"emptyFilterMessage"],options:[5,"options"]},{onChange:"onChange"}),n["\u0275qud"](603979776,6,{templates:1}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[X.Dropdown]),n["\u0275did"](5,671744,null,0,v.NgModel,[[8,null],[8,null],[8,null],[6,v.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,v.NgControl,null,[v.NgModel]),n["\u0275did"](7,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),(e()(),n["\u0275and"](0,null,null,1,null,re)),n["\u0275did"](9,16384,[[6,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,ue)),n["\u0275did"](11,16384,[[6,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var t=l.component;e(l,1,0,"true","fwcGridDropDown","body",!1,n["\u0275unv"](l,1,4,n["\u0275nov"](l,3).transform("VPN.CONFIG.NO_OPS")),t.availableKeywords),e(l,5,0,l.parent.parent.context.$implicit.name),e(l,9,0,"selectedItem"),e(l,11,0,"item")}),(function(e,l){e(l,0,0,n["\u0275nov"](l,1).filled,n["\u0275nov"](l,1).focused,n["\u0275nov"](l,7).ngClassUntouched,n["\u0275nov"](l,7).ngClassTouched,n["\u0275nov"](l,7).ngClassPristine,n["\u0275nov"](l,7).ngClassDirty,n["\u0275nov"](l,7).ngClassValid,n["\u0275nov"](l,7).ngClassInvalid,n["\u0275nov"](l,7).ngClassPending)}))}function de(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-lg fa-warning fwcRed"]],null,null,null,null,null)),n["\u0275did"](1,4341760,null,0,q.Tooltip,[n.ElementRef,n.NgZone],{text:[0,"text"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("VPN.CONFIG.INVALID_NAME_WARNING")))}),null)}function fe(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](0,null,[" "," "])),(e()(),n["\u0275and"](16777216,null,null,1,null,de)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){e(l,2,0,!l.parent.parent.context.$implicit.name)}),(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.name)}))}function pe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"input",[["maxlength","255"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,1)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,1)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,8).onInput(t)&&i),"ngModelChange"===l&&(i=!1!==(e.parent.parent.context.$implicit.arg=t)&&i),"change"===l&&(i=!1!==a.onDataChanged(t)&&i),i}),null,null)),n["\u0275did"](1,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](2,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](5,671744,null,0,v.NgModel,[[8,null],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,v.NgControl,null,[v.NgModel]),n["\u0275did"](7,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](8,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null)],(function(e,l){e(l,2,0,"255"),e(l,5,0,l.parent.parent.context.$implicit.arg),e(l,8,0)}),(function(e,l){e(l,0,1,[n["\u0275nov"](l,2).maxlength?n["\u0275nov"](l,2).maxlength:null,n["\u0275nov"](l,7).ngClassUntouched,n["\u0275nov"](l,7).ngClassTouched,n["\u0275nov"](l,7).ngClassPristine,n["\u0275nov"](l,7).ngClassDirty,n["\u0275nov"](l,7).ngClassValid,n["\u0275nov"](l,7).ngClassInvalid,n["\u0275nov"](l,7).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,8).filled])}))}function he(e){return n["\u0275vid"](0,[(e()(),n["\u0275ted"](0,null,[" "," "]))],null,(function(e,l){e(l,0,0,l.parent.parent.context.$implicit.arg)}))}function me(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"input",[["maxlength","255"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,1)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,1)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,8).onInput(t)&&i),"ngModelChange"===l&&(i=!1!==(e.parent.parent.context.$implicit.comment=t)&&i),"change"===l&&(i=!1!==a.onDataChanged(t)&&i),i}),null,null)),n["\u0275did"](1,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](2,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](5,671744,null,0,v.NgModel,[[8,null],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,v.NgControl,null,[v.NgModel]),n["\u0275did"](7,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](8,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null)],(function(e,l){e(l,2,0,"255"),e(l,5,0,l.parent.parent.context.$implicit.comment),e(l,8,0)}),(function(e,l){e(l,0,1,[n["\u0275nov"](l,2).maxlength?n["\u0275nov"](l,2).maxlength:null,n["\u0275nov"](l,7).ngClassUntouched,n["\u0275nov"](l,7).ngClassTouched,n["\u0275nov"](l,7).ngClassPristine,n["\u0275nov"](l,7).ngClassDirty,n["\u0275nov"](l,7).ngClassValid,n["\u0275nov"](l,7).ngClassInvalid,n["\u0275nov"](l,7).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,8).filled])}))}function ge(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","divWrapper"]],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,[" "," "]))],null,(function(e,l){e(l,1,0,l.parent.parent.context.$implicit.comment)}))}function _e(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,1).onClick(t)&&i),"keydown"===l&&(i=!1!==n["\u0275nov"](e,1).onKeyDown(t)&&i),i}),null,null)),n["\u0275did"](1,4210688,null,0,K.EditableColumn,[K.Table,n.ElementRef,n.NgZone],{data:[0,"data"]},null),(e()(),n["\u0275eld"](2,0,null,null,6,"p-cellEditor",[],null,null,null,Y.d,Y.a)),n["\u0275did"](3,1097728,null,1,K.CellEditor,[K.Table,[2,K.EditableColumn],[2,K.EditableRow]],null,null),n["\u0275qud"](603979776,5,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,ce)),n["\u0275did"](6,16384,[[5,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,fe)),n["\u0275did"](8,16384,[[5,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275eld"](9,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,10).onClick(t)&&i),"keydown"===l&&(i=!1!==n["\u0275nov"](e,10).onKeyDown(t)&&i),i}),null,null)),n["\u0275did"](10,4210688,null,0,K.EditableColumn,[K.Table,n.ElementRef,n.NgZone],{data:[0,"data"]},null),(e()(),n["\u0275eld"](11,0,null,null,6,"p-cellEditor",[],null,null,null,Y.d,Y.a)),n["\u0275did"](12,1097728,null,1,K.CellEditor,[K.Table,[2,K.EditableColumn],[2,K.EditableRow]],null,null),n["\u0275qud"](603979776,7,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,pe)),n["\u0275did"](15,16384,[[7,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,he)),n["\u0275did"](17,16384,[[7,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275eld"](18,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],(function(e,l,t){var i=!0;return"click"===l&&(i=!1!==n["\u0275nov"](e,19).onClick(t)&&i),"keydown"===l&&(i=!1!==n["\u0275nov"](e,19).onKeyDown(t)&&i),i}),null,null)),n["\u0275did"](19,4210688,null,0,K.EditableColumn,[K.Table,n.ElementRef,n.NgZone],{data:[0,"data"]},null),(e()(),n["\u0275eld"](20,0,null,null,6,"p-cellEditor",[],null,null,null,Y.d,Y.a)),n["\u0275did"](21,1097728,null,1,K.CellEditor,[K.Table,[2,K.EditableColumn],[2,K.EditableRow]],null,null),n["\u0275qud"](603979776,8,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,me)),n["\u0275did"](24,16384,[[8,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,ge)),n["\u0275did"](26,16384,[[8,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null)],(function(e,l){e(l,1,0,""),e(l,6,0,"input"),e(l,8,0,"output"),e(l,10,0,""),e(l,15,0,"input"),e(l,17,0,"output"),e(l,19,0,""),e(l,24,0,"input"),e(l,26,0,"output")}),null)}function Se(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-question-circle fa-lg fwcOrange"]],null,null,null,null,null)),n["\u0275did"](1,4341760,null,0,q.Tooltip,[n.ElementRef,n.NgZone],{text:[0,"text"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform(l.parent.parent.context.$implicit.emptyMessageKey)),""))}),null)}function ve(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,[" \xa0 "])),(e()(),n["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-lg fa-info-circle fwcBlue"]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"]],(function(e,l,t){var n=!0,i=e.component;return"mouseenter"===l&&(n=!1!==i.showObjectInfo(e.parent.parent.context.$implicit,t)&&n),"mouseleave"===l&&(n=!1!==i.clearObjectInfo(t)&&n),"wheel"===l&&(n=!1!==i.clearObjectInfo(t)&&n),n}),null,null))],null,null)}function Oe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),(e()(),n["\u0275eld"](3,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Se)),n["\u0275did"](5,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](7,null,["",""])),(e()(),n["\u0275and"](16777216,null,null,1,null,ve)),n["\u0275did"](9,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](10,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](12,null,["",""]))],(function(e,l){e(l,5,0,!l.parent.context.$implicit.arg),e(l,9,0,l.parent.context.$implicit.ipobj)}),(function(e,l){e(l,2,0,l.parent.context.$implicit.name),e(l,7,0,l.parent.context.$implicit.arg),e(l,12,0,l.parent.context.$implicit.comment)}))}function we(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,11,"tr",[["class","trOptionsGridRow"]],null,[[null,"drop"]],(function(e,l,t){var i=!0;return"drop"===l&&(i=!1!==n["\u0275nov"](e,1).onDrop(t)&&i),i}),null,null)),n["\u0275did"](1,4210688,null,0,K.ReorderableRow,[K.Table,n.ElementRef,n.NgZone],{index:[0,"index"]},null),(e()(),n["\u0275eld"](2,16777216,null,null,5,"td",[["class","tdActionColumn"],["pReorderableRowHandle",""]],null,[[null,"menuOpening"],[null,"itemClick"],[null,"contextmenu"],[null,"mousedown"]],(function(e,l,t){var i=!0,a=e.component;return"contextmenu"===l&&(i=!1!==n["\u0275nov"](e,3).onContextMenu(t)&&i),"mousedown"===l&&(i=!1!==n["\u0275nov"](e,3).onMouseDown(t)&&i),"menuOpening"===l&&(i=!1!==a.contextMenuLoad(t,e.context.$implicit,e.context.rowIndex)&&i),"itemClick"===l&&(i=!1!==a.contextMenuHandler(t,e.context.$implicit,e.context.rowIndex)&&i),i}),null,null)),n["\u0275did"](3,1196032,null,1,Q.IntegralUIContextMenu,[n.ElementRef,n.ViewContainerRef,n.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),n["\u0275qud"](603979776,4,{templates:1}),n["\u0275did"](5,4210688,null,0,K.ReorderableRowHandle,[n.ElementRef],{index:[0,"index"]},null),(e()(),n["\u0275eld"](6,0,null,null,1,"i",[["class","fa fa-bars fwcBlue"],["pReorderableRowHandle",""]],null,null,null,null,null)),n["\u0275did"](7,4210688,null,0,K.ReorderableRowHandle,[n.ElementRef],{index:[0,"index"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,oe)),n["\u0275did"](9,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),n["\u0275and"](0,[["editableOption",2]],null,0,null,_e)),(e()(),n["\u0275and"](0,[["readonlyOption",2]],null,0,null,Oe))],(function(e,l){var t=l.component;e(l,1,0,l.context.rowIndex),e(l,3,0,t.contextMenu,t.contextMenuReference),e(l,5,0,""),e(l,7,0,""),e(l,9,0,!l.context.$implicit.readonly,n["\u0275nov"](l,10),n["\u0275nov"](l,11))}),null)}function Ie(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,12,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"button",[["pButton",""]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onAddRouteOrIRoute(t)&&n),n}),null,null)),n["\u0275did"](2,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,2,"button",[["pButton",""]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onAddRouteOrIRoute(t,!0)&&n),n}),null,null)),n["\u0275did"](5,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](7,0,null,null,5,"sts-fwc-tree-selector",[],null,[[null,"objectSelected"]],(function(e,l,t){var n=!0;return"objectSelected"===l&&(n=!1!==e.component.onRouteObjectSelected(t)&&n),n}),H,J)),n["\u0275prd"](512,null,B.a,B.a,[b.HttpClient]),n["\u0275did"](9,114688,[[2,4],["routesTreeSelector",4]],0,G.a,[k.a,B.a,x.a,U.MessageService,i.l,f.a],{fwTreeNodes:[0,"fwTreeNodes"],objectTreeNodes:[1,"objectTreeNodes"],selectableObjects:[2,"selectableObjects"],hideObjectName:[3,"hideObjectName"],fwcloudId:[4,"fwcloudId"]},{objectSelected:"objectSelected"}),n["\u0275pad"](10,6),n["\u0275pad"](11,4),n["\u0275pad"](12,2)],(function(e,l){var t=l.component;e(l,2,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("VPN.CONFIG.ADD_ROUTE")),"")),e(l,5,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,5,0,n["\u0275nov"](l,6).transform("VPN.CONFIG.ADD_IROUTE")),""));var i=e(l,10,0,t.NodeTypes.FOLDER,t.NodeTypes.OBJ_FIREWALL,t.NodeTypes.OBJ_CLUSTER,t.NodeTypes.FOLDER_INTERFACES,t.NodeTypes.OBJ_IF_FW,t.NodeTypes.OBJ_ADDRESS),a=e(l,11,0,t.NodeTypes.OBJ_ADDRESS,t.NodeTypes.OBJ_NETWORK,t.NodeTypes.OBJ_HOST,t.NodeTypes.OBJ_IF_HOST),s=e(l,12,0,t.ObjectTypes.OBJ_ADDRESS,t.ObjectTypes.OBJ_NETWORK);e(l,9,0,i,a,s,!0,null)}),null)}function Ce(e){return n["\u0275vid"](0,[n["\u0275qud"](671088640,1,{optionsTable:0}),n["\u0275qud"](671088640,2,{routesTreeSelector:0}),(e()(),n["\u0275eld"](2,0,null,null,7,"p-table",[["scrollHeight","13em"],["selectionMode","single"],["styleClass","optionsTable"]],null,[[null,"selectionChange"],[null,"onEditComplete"],[null,"onRowReorder"]],(function(e,l,t){var n=!0,i=e.component;return"selectionChange"===l&&(n=!1!==(i.selectedOption=t)&&n),"onEditComplete"===l&&(n=!1!==i.onDataChanged(t)&&n),"onRowReorder"===l&&(n=!1!==i.onDataChanged(t)&&n),n}),Y.f,Y.c)),n["\u0275prd"](512,null,K.TableService,K.TableService,[]),n["\u0275did"](4,5488640,[[1,4],["optionsTable",4]],1,K.Table,[n.ElementRef,n.NgZone,K.TableService,n.ChangeDetectorRef],{styleClass:[0,"styleClass"],selectionMode:[1,"selectionMode"],scrollable:[2,"scrollable"],scrollHeight:[3,"scrollHeight"],value:[4,"value"],selection:[5,"selection"]},{selectionChange:"selectionChange",onRowReorder:"onRowReorder",onEditComplete:"onEditComplete"}),n["\u0275qud"](603979776,3,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,se)),n["\u0275did"](7,16384,[[3,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275and"](0,null,null,1,null,we)),n["\u0275did"](9,16384,[[3,4]],0,V.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null),(e()(),n["\u0275eld"](10,0,null,null,5,"div",[["class","divGridFooter"]],null,null,null,null,null)),(e()(),n["\u0275eld"](11,0,null,null,2,"button",[["icon","fa fa-plus"],["pButton",""]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onAddOption()&&n),n}),null,null)),n["\u0275did"](12,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,null,1,null,Ie)),n["\u0275did"](15,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,4,0,"optionsTable","single",!0,"13em",t.gridOptions,t.selectedOption),e(l,7,0,"header"),e(l,9,0,"body"),e(l,12,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,12,0,n["\u0275nov"](l,13).transform("VPN.CONFIG.ADD_OPTION")),""),"fa fa-plus"),e(l,15,0,t.scope===t.OptionScope.ccd)}),null)}var Ee=t("nqUP"),be=t("pODc"),Re=t("QVyK"),Te=t("66nc"),Ne=t("SVXH");t("w2nL"),t("pDcU"),t("8xOQ"),t("sqqX"),t("yEB0"),t("N7ZF"),t("iInd"),t.d(l,"a",(function(){return ye})),t.d(l,"b",(function(){return hl}));var ye=n["\u0275crt"]({encapsulation:2,styles:[[".divConfigFile textarea{font-family:monospace!important;font-size:.8rem!important;min-height:18rem}.divOPHeader h6,.divOPHeader label{white-space:nowrap;font-family:Montserrat,sans-serif}"]],data:{animation:[{type:7,name:"fundidoInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"translateY(12%)"},offset:null},options:void 0},{type:0,name:"active, newItemAdded",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"300ms"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});function Pe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,7,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,6,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),n["\u0275ppd"](4,3),(e()(),n["\u0275ted"](5,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),n["\u0275pod"](7,{obj_type:0,name:1}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],null,(function(e,l){var t=l.component,i=n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,3,0,e(l,4,0,n["\u0275nov"](l.parent,0),t.objectToDelete._fwcObjType,null,"fwcOrange")),"");e(l,3,0,i);var a=n["\u0275unv"](l,5,0,n["\u0275nov"](l,8).transform("VPN.CONFIG.HEADER_DELETE_2",e(l,7,0,n["\u0275unv"](l,5,0,n["\u0275nov"](l,6).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectToDelete._fwcObjType+"_ABBR")),t.objectToDelete._fwcObjName)));e(l,5,0,a)}))}function De(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[" "," "])),n["\u0275pod"](5,{name:0}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],null,(function(e,l){var t=l.component,i=n["\u0275unv"](l,4,0,n["\u0275nov"](l,6).transform("VPN.CONFIG.HEADER_FILE",e(l,5,0,t.objectToRetrieve._fwcObjName)));e(l,4,0,i)}))}function Le(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[" "," "])),n["\u0275pod"](5,{name:0}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],null,(function(e,l){var t=l.component,i=n["\u0275unv"](l,4,0,n["\u0275nov"](l,6).transform(t.configManageTranslateKey+".FORM_HEADER",e(l,5,0,t.objectToManage._fwcObjName)));e(l,4,0,i)}))}function Ae(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-whereused fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[" "," "])),n["\u0275pod"](5,{name:0}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],null,(function(e,l){var t=l.component,i=n["\u0275unv"](l,4,0,n["\u0275nov"](l,6).transform("VPN.CONFIG.HEADER_WU",e(l,5,0,t.objectToSearchWU._fwcObjName)));e(l,4,0,i)}))}function Fe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,3,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,2,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,[" "," "]))],null,(function(e,l){e(l,4,0,l.component.headerTitle)}))}function je(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"div",[["class","ui-g-12 divCentered"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"p-progressSpinner",[],null,null,null,a.b,a.a)),n["\u0275did"](3,49152,null,0,s.ProgressSpinner,[],null,null)],null,null)}function Me(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,1,"sts-fwc-message",[],null,null,null,o.b,o.a)),n["\u0275did"](3,114688,null,0,r.a,[n.ChangeDetectorRef,i.l],{message:[0,"message"]},null)],(function(e,l){e(l,3,0,l.component.errorMsg)}),null)}function Ve(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Be(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,6,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,1,"sts-fwc-message",[],null,null,null,o.b,o.a)),n["\u0275did"](2,114688,null,0,r.a,[n.ChangeDetectorRef,i.l],{message:[0,"message"]},null),(e()(),n["\u0275eld"](3,0,null,null,3,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"],[null,"onRefreshRestrictions"]],(function(e,l,t){var n=!0,i=e.component;return"onHideParent"===l&&(n=!1!==i.minimizeDialog(!0)&&n),"onRefreshRestrictions"===l&&(n=!1!==i.reloadPanel()&&n),n}),u.b,u.a)),n["\u0275prd"](512,null,c.a,c.a,[d.a,f.a,p.m]),n["\u0275prd"](512,null,h.a,h.a,[]),n["\u0275did"](6,114688,null,0,m.a,[p.m,i.l,d.a,f.a,c.a,h.a],{dependencies:[0,"dependencies"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"})],(function(e,l){var t=l.component;e(l,2,0,t.deleteMsg),e(l,6,0,t.dependencies,t.restrictionsReadOnly)}),null)}function Ge(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](16777216,null,null,1,null,Be)),n["\u0275did"](1,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){e(l,1,0,!l.component.dependencies.restrictionsError)}),null)}function ke(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-12"],["style","text-align: center"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,6,"p-checkbox",[["binary","true"],["name","chkUninstallConfig"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],(function(e,l,t){var n=!0;return"ngModelChange"===l&&(n=!1!==(e.component.alsoUninstallConfig=t)&&n),n}),_.b,_.a)),n["\u0275did"](2,49152,null,0,S.Checkbox,[n.ChangeDetectorRef],{name:[0,"name"],binary:[1,"binary"],label:[2,"label"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[S.Checkbox]),n["\u0275did"](5,671744,null,0,v.NgModel,[[8,null],[8,null],[8,null],[6,v.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),n["\u0275prd"](2048,null,v.NgControl,null,[v.NgModel]),n["\u0275did"](7,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null)],(function(e,l){var t=l.component;e(l,2,0,"chkUninstallConfig","true",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,2,2,n["\u0275nov"](l,3).transform("VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST")),"")),e(l,5,0,"chkUninstallConfig",t.alsoUninstallConfig)}),(function(e,l){e(l,1,0,n["\u0275nov"](l,7).ngClassUntouched,n["\u0275nov"](l,7).ngClassTouched,n["\u0275nov"](l,7).ngClassPristine,n["\u0275nov"](l,7).ngClassDirty,n["\u0275nov"](l,7).ngClassValid,n["\u0275nov"](l,7).ngClassInvalid,n["\u0275nov"](l,7).ngClassPending)}))}function xe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"sts-fwc-message",[],null,null,null,o.b,o.a)),n["\u0275did"](1,114688,null,0,r.a,[n.ChangeDetectorRef,i.l],{message:[0,"message"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ke)),n["\u0275did"](3,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component;e(l,1,0,t.deleteMsg),e(l,3,0,t.objectToDelete.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER||t.objectToDelete.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI)}),null)}function Ue(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ve)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),n["\u0275and"](0,[["deleteRestricted",2]],null,0,null,Ge)),(e()(),n["\u0275and"](0,[["deleteAllowed",2]],null,0,null,xe))],(function(e,l){e(l,2,0,l.component.dependencies,n["\u0275nov"](l,3),n["\u0275nov"](l,4))}),null)}function Je(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,4,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,3,"div",[["class","ui-g-12 divConfigFile"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,[[5,0],["txtConfigFile",1]],null,2,"textarea",[["pInputTextarea",""],["readonly",""],["rows","15"]],[[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-inputtextarea-resizable",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"],[null,"focus"],[null,"blur"]],(function(e,l,t){var i=!0;return"input"===l&&(i=!1!==n["\u0275nov"](e,4).onInput(t)&&i),"focus"===l&&(i=!1!==n["\u0275nov"](e,4).onFocus(t)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,4).onBlur(t)&&i),i}),null,null)),n["\u0275did"](4,278528,null,0,O.InputTextarea,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275ted"](5,null,["",""]))],(function(e,l){e(l,4,0)}),(function(e,l){var t=l.component;e(l,3,0,!0,!0,n["\u0275nov"](l,4).autoResize,!0,!0,n["\u0275nov"](l,4).filled),e(l,5,0,t.configFile)}))}function We(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](-1,null,["\xa0"])),(e()(),n["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](4,null,["",""]))],null,(function(e,l){e(l,4,0,l.parent.parent.context.$implicit.firewallName)}))}function $e(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](3,null,["\xa0",""]))],null,(function(e,l){e(l,3,0,l.parent.parent.context.$implicit.firewallName)}))}function He(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,We)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,$e)),n["\u0275did"](4,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,2,0,!l.parent.context.$implicit.isNode),e(l,4,0,l.parent.context.$implicit.isNode)}),null)}function Ke(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["\xa0"," "]))],null,(function(e,l){e(l,2,0,l.parent.context.$implicit.firewallName)}))}function Ye(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,"tr",[],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgClassImpl"],g["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](2,278528,null,0,g.NgClass,[g["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,He)),n["\u0275did"](4,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Ke)),n["\u0275did"](6,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](7,0,null,null,1,"td",[["class","fwc-centered"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],(function(e,l){e(l,2,0,l.context.$implicit.coloredBg?"bgColored":"bgNormal"),e(l,4,0,null!=l.context.$implicit.clusterId),e(l,6,0,null==l.context.$implicit.clusterId)}),(function(e,l){e(l,8,0,n["\u0275inlineInterpolate"](1,"",l.component.FirewallOpsIcons[l.context.$implicit.installState],""))}))}function ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,17,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,13,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,12,"div",[["class","divTableScroll"]],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,11,"table",[["class","tableFw unstriped"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),n["\u0275ted"](8,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](10,0,null,null,2,"th",[["class","fwc-centered"]],null,null,null,null,null)),(e()(),n["\u0275ted"](11,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](13,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,Ye)),n["\u0275did"](15,278528,null,0,g.NgForOf,[n.ViewContainerRef,n.TemplateRef,n.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),n["\u0275eld"](16,0,null,null,2,"div",[["class","ui-g-8"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,1,"sts-fwc-log",[],null,null,null,w.b,w.a)),n["\u0275did"](18,114688,[[6,4]],0,I.a,[n.ChangeDetectorRef],null,null)],(function(e,l){e(l,15,0,l.component.operationQueue),e(l,18,0)}),(function(e,l){var t=l.component;e(l,8,0,n["\u0275unv"](l,8,0,n["\u0275nov"](l,9).transform("COMPILE.FORM.NAME"))),e(l,11,0,n["\u0275unv"](l,11,0,n["\u0275nov"](l,12).transform(t.configManageTranslateKey+".OPERATION")))}))}function Xe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,4,"sts-fwc-object-wu",[],null,[[null,"onHideParent"]],(function(e,l,t){var n=!0;return"onHideParent"===l&&(n=!1!==e.component.minimizeDialog()&&n),n}),C.b,C.a)),n["\u0275prd"](512,null,E.a,E.a,[b.HttpClient]),n["\u0275prd"](512,null,c.a,c.a,[d.a,f.a,p.m]),n["\u0275prd"](512,null,h.a,h.a,[]),n["\u0275did"](5,4308992,null,0,R.a,[p.m,T.a,d.a,E.a,i.l,f.a,c.a,h.a],{objectInfo:[0,"objectInfo"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent"})],(function(e,l){var t=l.component;e(l,5,0,t.objectToSearchWU._fwcObjectInfo,t.restrictionsReadOnly)}),null)}function qe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,t){var i=!0;return"input"===l&&(i=!1!==n["\u0275nov"](e,5).onInput(t)&&i),i}),null,null)),n["\u0275did"](5,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null)],(function(e,l){e(l,5,0)}),(function(e,l){var t=l.component;e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform(t.object.parent_type==t.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER"))),e(l,4,0,n["\u0275inlineInterpolate"](1,"",t.object.parent_name,""),!0,!0,!0,!0,n["\u0275nov"](l,5).filled)}))}function Qe(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,t){var i=!0;return"input"===l&&(i=!1!==n["\u0275nov"](e,5).onInput(t)&&i),i}),null,null)),n["\u0275did"](5,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null)],(function(e,l){e(l,5,0)}),(function(e,l){var t=l.component;e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("VPN.CONFIG.SER"))),e(l,4,0,n["\u0275inlineInterpolate"](1,"",t.object._fwcParentConfigName,""),!0,!0,!0,!0,n["\u0275nov"](l,5).filled)}))}function Ze(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,44,"div",[["class","ui-g-12 ui-lg-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,43,"p-fieldset",[],null,null,null,y.b,y.a)),n["\u0275did"](2,49152,null,0,P.Fieldset,[n.ElementRef],{legend:[0,"legend"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,1,40,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,18,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](6,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](7,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](8,0,null,null,6,"input",[["formControlName","install_dir"],["name","install_dir"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,9)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,9).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,9)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,9)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,14).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](9,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](11,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[8,null],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](13,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](14,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](15,0,null,null,2,"label",[["for","install_dir"]],null,null,null,null,null)),(e()(),n["\u0275ted"](16,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](18,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](20,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](21,{visibility:0}),(e()(),n["\u0275ted"](22,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](24,0,null,null,20,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](25,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](26,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](27,0,null,null,8,"input",[["formControlName","install_name"],["maxlength","64"],["name","install_name"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,28)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,28).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,28)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,28)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,35).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](28,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](29,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](32,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](34,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](35,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](36,0,null,null,2,"label",[["for","install_name"]],null,null,null,null,null)),(e()(),n["\u0275ted"](37,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](39,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](41,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](42,{visibility:0}),(e()(),n["\u0275ted"](43,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("VPN.PANEL.FIELDS.INST_OPTIONS"))),e(l,11,0,"install_dir"),e(l,14,0);var i=null,a=e(l,21,0,null!=(i=t.formModel.get("install_dir"))&&i.valid||null!=(i=t.formModel.get("install_dir"))&&i.pristine&&null!=(i=t.formModel.get("install_dir"))&&i.untouched?"hidden":"visible");e(l,20,0,a),e(l,29,0,"64"),e(l,32,0,"install_name"),e(l,35,0);var s,o=e(l,42,0,null!=(s=t.formModel.get("install_name"))&&s.valid?"hidden":"visible");e(l,41,0,o)}),(function(e,l){e(l,8,1,[n["\u0275nov"](l,13).ngClassUntouched,n["\u0275nov"](l,13).ngClassTouched,n["\u0275nov"](l,13).ngClassPristine,n["\u0275nov"](l,13).ngClassDirty,n["\u0275nov"](l,13).ngClassValid,n["\u0275nov"](l,13).ngClassInvalid,n["\u0275nov"](l,13).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,14).filled]),e(l,16,0,n["\u0275unv"](l,16,0,n["\u0275nov"](l,17).transform("VPN.PANEL.FIELDS.CONFIG_DIR"))),e(l,22,0,n["\u0275unv"](l,22,0,n["\u0275nov"](l,23).transform("VPN.PANEL.ERRORS.INVALID_INSTALL_PATH"))),e(l,27,1,[n["\u0275nov"](l,29).maxlength?n["\u0275nov"](l,29).maxlength:null,n["\u0275nov"](l,34).ngClassUntouched,n["\u0275nov"](l,34).ngClassTouched,n["\u0275nov"](l,34).ngClassPristine,n["\u0275nov"](l,34).ngClassDirty,n["\u0275nov"](l,34).ngClassValid,n["\u0275nov"](l,34).ngClassInvalid,n["\u0275nov"](l,34).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,35).filled]),e(l,37,0,n["\u0275unv"](l,37,0,n["\u0275nov"](l,38).transform("VPN.PANEL.FIELDS.CONFIG_FILE"))),e(l,43,0,n["\u0275unv"](l,43,0,n["\u0275nov"](l,44).transform("VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")))}))}function el(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,39,"div",[["class","ui-g-12 ui-lg-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,38,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,l,t){var i=!0;return"submit"===l&&(i=!1!==n["\u0275nov"](e,3).onSubmit(t)&&i),"reset"===l&&(i=!1!==n["\u0275nov"](e,3).onReset()&&i),i}),null,null)),n["\u0275did"](2,16384,null,0,v["\u0275angular_packages_forms_forms_z"],[],null,null),n["\u0275did"](3,540672,null,0,v.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),n["\u0275prd"](2048,null,v.ControlContainer,null,[v.FormGroupDirective]),n["\u0275did"](5,16384,null,0,v.NgControlStatusGroup,[[4,v.ControlContainer]],null,null),(e()(),n["\u0275eld"](6,0,null,null,33,"p-fieldset",[["legend","Remote"]],null,null,null,y.b,y.a)),n["\u0275did"](7,49152,null,0,P.Fieldset,[n.ElementRef],{legend:[0,"legend"]},null),(e()(),n["\u0275eld"](8,0,null,1,24,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,6,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](10,0,null,null,5,"sts-fwc-tree-selector",[],null,[[null,"objectSelected"]],(function(e,l,t){var n=!0;return"objectSelected"===l&&(n=!1!==e.component.onRemoteIPObjectChange(t)&&n),n}),H,J)),n["\u0275prd"](512,null,B.a,B.a,[b.HttpClient]),n["\u0275did"](12,114688,[[4,4],["treeSelector",4]],0,G.a,[k.a,B.a,x.a,U.MessageService,i.l,f.a],{fwTreeNodes:[0,"fwTreeNodes"],objectTreeNodes:[1,"objectTreeNodes"],selectableObjects:[2,"selectableObjects"],disabledObjects:[3,"disabledObjects"],fwcloudId:[4,"fwcloudId"]},{objectSelected:"objectSelected"}),n["\u0275pad"](13,6),n["\u0275pad"](14,4),n["\u0275pad"](15,2),(e()(),n["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](19,0,null,null,7,"input",[["formControlName","remote_port"],["name","remote_port"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,20)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,20).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,20)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,20)._compositionEnd(t.target.value)&&i),"change"===l&&(i=!1!==n["\u0275nov"](e,21).onChange(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,21).onChange(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,21).onTouched()&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,26).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](20,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](21,16384,null,0,v.NumberValueAccessor,[n.Renderer2,n.ElementRef],null,null),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e,l){return[e,l]}),[v.DefaultValueAccessor,v.NumberValueAccessor]),n["\u0275did"](23,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[8,null],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](25,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](26,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](27,0,null,null,2,"label",[["for","remote_port"]],null,null,null,null,null)),(e()(),n["\u0275ted"](28,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](30,0,null,null,2,"div",[["class","ui-g-1"]],null,null,null,null,null)),(e()(),n["\u0275eld"](31,0,null,null,1,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-plus"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onAddRemoteOption()&&n),n}),null,null)),n["\u0275did"](32,4341760,null,0,D.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null),(e()(),n["\u0275eld"](33,0,null,1,6,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](34,0,null,null,5,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](36,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](37,{visibility:0}),(e()(),n["\u0275ted"](38,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,3,0,t.formModelRemote),e(l,7,0,"Remote");var n=e(l,13,0,t.NodeTypes.FOLDER,t.NodeTypes.OBJ_FIREWALL,t.NodeTypes.OBJ_CLUSTER,t.NodeTypes.FOLDER_INTERFACES,t.NodeTypes.OBJ_IF_FW,t.NodeTypes.OBJ_ADDRESS),i=e(l,14,0,t.NodeTypes.OBJ_ADDRESS,t.NodeTypes.OBJ_DNS,t.NodeTypes.OBJ_HOST,t.NodeTypes.OBJ_IF_HOST),a=e(l,15,0,t.ObjectTypes.OBJ_ADDRESS,t.ObjectTypes.OBJ_DNS);e(l,12,0,n,i,a,t.disabledTreeRemoteOptions,null),e(l,23,0,"remote_port"),e(l,26,0),e(l,32,0,"fa fa-plus");var s=e(l,37,0,null!=t.formModelRemote&&t.formModelRemote.valid||null!=t.formModelRemote&&t.formModelRemote.pristine&&null!=t.formModelRemote&&t.formModelRemote.untouched?"hidden":"visible");e(l,36,0,s)}),(function(e,l){var t=l.component;e(l,1,0,n["\u0275nov"](l,5).ngClassUntouched,n["\u0275nov"](l,5).ngClassTouched,n["\u0275nov"](l,5).ngClassPristine,n["\u0275nov"](l,5).ngClassDirty,n["\u0275nov"](l,5).ngClassValid,n["\u0275nov"](l,5).ngClassInvalid,n["\u0275nov"](l,5).ngClassPending),e(l,19,1,[n["\u0275nov"](l,25).ngClassUntouched,n["\u0275nov"](l,25).ngClassTouched,n["\u0275nov"](l,25).ngClassPristine,n["\u0275nov"](l,25).ngClassDirty,n["\u0275nov"](l,25).ngClassValid,n["\u0275nov"](l,25).ngClassInvalid,n["\u0275nov"](l,25).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,26).filled]),e(l,28,0,n["\u0275unv"](l,28,0,n["\u0275nov"](l,29).transform("CLUSTER.MSG_CLUSTER_EDITION.PORT"))),e(l,31,0,!(null!=t.formModelRemote&&t.formModelRemote.valid)),e(l,38,0,n["\u0275unv"](l,38,0,n["\u0275nov"](l,39).transform("VPN.PANEL.ERRORS.INVALID_REMOTE")))}))}function ll(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,7,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](2,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,3,"sts-fwc-ovoptions-grid",[],null,[[null,"optionDeleted"],[null,"dataChanges"]],(function(e,l,t){var n=!0,i=e.component;return"optionDeleted"===l&&(n=!1!==i.onOptionsDelete(t)&&n),"dataChanges"===l&&(n=!1!==i.onOptionsChange(t)&&n),n}),Ce,ae)),n["\u0275prd"](512,null,Z.a,Z.a,[b.HttpClient]),n["\u0275prd"](512,null,ee.a,ee.a,[b.HttpClient]),n["\u0275did"](7,4833280,[[3,4]],0,le.a,[T.a,te.a,ne.ConfirmationService,ie.a,Z.a,f.a,ee.a,n.ChangeDetectorRef,i.l],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",optionDeleted:"optionDeleted"})],(function(e,l){var t=l.component;e(l,7,0,t.OptionScope.ccd,t.object.options)}),(function(e,l){e(l,2,0,n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("VPN.CONFIG.CCD")))}))}function tl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,115,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,114,"p-tabView",[["styleClass","objectInfoTab"]],null,null,null,Ee.d,Ee.b)),n["\u0275did"](2,1097728,null,1,be.TabView,[n.ElementRef],{styleClass:[0,"styleClass"]},null),n["\u0275qud"](603979776,9,{tabPanels:1}),(e()(),n["\u0275eld"](4,16777216,null,0,111,"p-tabPanel",[["leftIcon","fa fa-pencil-square-o"]],null,null,null,Ee.c,Ee.a)),n["\u0275did"](5,1228800,[[9,4]],1,be.TabPanel,[n.ViewContainerRef],{header:[0,"header"],leftIcon:[1,"leftIcon"]},null),n["\u0275qud"](603979776,10,{templates:1}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](8,0,null,0,107,"div",[["class","fwcObjectPanel"]],null,null,null,null,null)),(e()(),n["\u0275eld"](9,0,null,null,106,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,l,t){var i=!0;return"submit"===l&&(i=!1!==n["\u0275nov"](e,11).onSubmit(t)&&i),"reset"===l&&(i=!1!==n["\u0275nov"](e,11).onReset()&&i),i}),null,null)),n["\u0275did"](10,16384,null,0,v["\u0275angular_packages_forms_forms_z"],[],null,null),n["\u0275did"](11,540672,null,0,v.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),n["\u0275prd"](2048,null,v.ControlContainer,null,[v.FormGroupDirective]),n["\u0275did"](13,16384,null,0,v.NgControlStatusGroup,[[4,v.ControlContainer]],null,null),(e()(),n["\u0275eld"](14,0,null,null,101,"fieldset",[],null,[[null,"keyup.enter"],[null,"keyup.esc"]],(function(e,l,t){var n=!0,i=e.component;return"keyup.enter"===l&&(n=!1!==i.checkForm(t)&&n),"keyup.esc"===l&&(n=!1!==i.onCancel()&&n),n}),null,null)),(e()(),n["\u0275eld"](15,0,null,null,100,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-12 divOPHeader"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,12,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,4,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,qe)),n["\u0275did"](20,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,Qe)),n["\u0275did"](22,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](23,0,null,null,6,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](24,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](25,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](26,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](28,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],(function(e,l,t){var i=!0;return"input"===l&&(i=!1!==n["\u0275nov"](e,29).onInput(t)&&i),i}),null,null)),n["\u0275did"](29,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](30,0,null,null,54,"div",[["class","ui-g-12 ui-lg-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](31,0,null,null,53,"p-fieldset",[],null,null,null,y.b,y.a)),n["\u0275did"](32,49152,null,0,P.Fieldset,[n.ElementRef],{legend:[0,"legend"]},null),(e()(),n["\u0275eld"](33,0,null,1,45,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),n["\u0275eld"](34,0,null,null,14,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),n["\u0275eld"](35,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](36,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](37,0,null,null,8,"input",[["formControlName","_ipobj_name"],["maxlength","64"],["name","_ipobj_name"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,38)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,38).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,38)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,38)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,45).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](38,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](39,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](42,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](44,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](45,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](46,0,null,null,2,"label",[["for","_ipobj_name"]],null,null,null,null,null)),(e()(),n["\u0275ted"](47,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](49,0,null,null,14,"div",[["class","ui-g-3"]],null,null,null,null,null)),(e()(),n["\u0275eld"](50,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](51,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](52,0,null,null,8,"input",[["formControlName","_ipobj_address"],["maxlength","45"],["name","_ipobj_address"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,53)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,53).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,53)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,53)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,60).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](53,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](54,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](57,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](59,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](60,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](61,0,null,null,2,"label",[["for","_ipobj_address"]],null,null,null,null,null)),(e()(),n["\u0275ted"](62,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](64,0,null,null,14,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),n["\u0275eld"](65,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](66,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](67,0,null,null,8,"input",[["formControlName","_ipobj_netmask"],["maxlength","17"],["name","_ipobj_netmask"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,68)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,68).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,68)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,68)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,75).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](68,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](69,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](72,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](74,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](75,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](76,0,null,null,2,"label",[["for","_ipobj_netmask"]],null,null,null,null,null)),(e()(),n["\u0275ted"](77,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](79,0,null,1,5,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](80,0,null,null,4,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](82,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](83,{visibility:0}),(e()(),n["\u0275ted"](84,null,[" "," "])),(e()(),n["\u0275and"](16777216,null,null,1,null,Ze)),n["\u0275did"](86,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,el)),n["\u0275did"](88,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,ll)),n["\u0275did"](90,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](91,0,null,null,9,"div",[],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgClassImpl"],g["\u0275NgClassR2Impl"],[n.IterableDiffers,n.KeyValueDiffers,n.ElementRef,n.Renderer2]),n["\u0275did"](93,278528,null,0,g.NgClass,[g["\u0275NgClassImpl"]],{ngClass:[0,"ngClass"]},null),(e()(),n["\u0275eld"](94,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](95,null,[" "," "])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](97,0,null,null,3,"sts-fwc-ovoptions-grid",[],null,[[null,"optionDeleted"],[null,"dataChanges"]],(function(e,l,t){var n=!0,i=e.component;return"optionDeleted"===l&&(n=!1!==i.onOptionsDelete(t)&&n),"dataChanges"===l&&(n=!1!==i.onOptionsChange(t)&&n),n}),Ce,ae)),n["\u0275prd"](512,null,Z.a,Z.a,[b.HttpClient]),n["\u0275prd"](512,null,ee.a,ee.a,[b.HttpClient]),n["\u0275did"](100,4833280,[[3,4]],0,le.a,[T.a,te.a,ne.ConfirmationService,ie.a,Z.a,f.a,ee.a,n.ChangeDetectorRef,i.l],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",optionDeleted:"optionDeleted"}),(e()(),n["\u0275eld"](101,0,null,null,14,"div",[["class","ui-g-12"],["style","margin-top: 1rem"]],null,null,null,null,null)),(e()(),n["\u0275eld"](102,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),n["\u0275eld"](103,0,null,null,12,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),n["\u0275eld"](104,0,null,null,8,"input",[["formControlName","comment"],["maxlength","255"],["name","comment"],["pInputText",""],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,l,t){var i=!0,a=e.component;return"input"===l&&(i=!1!==n["\u0275nov"](e,105)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==n["\u0275nov"](e,105).onTouched()&&i),"compositionstart"===l&&(i=!1!==n["\u0275nov"](e,105)._compositionStart()&&i),"compositionend"===l&&(i=!1!==n["\u0275nov"](e,105)._compositionEnd(t.target.value)&&i),"input"===l&&(i=!1!==n["\u0275nov"](e,112).onInput(t)&&i),"drop"===l&&(i=!1!==a.preventDrop()&&i),i}),null,null)),n["\u0275did"](105,16384,null,0,v.DefaultValueAccessor,[n.Renderer2,n.ElementRef,[2,v.COMPOSITION_BUFFER_MODE]],null,null),n["\u0275did"](106,540672,null,0,v.MaxLengthValidator,[],{maxlength:[0,"maxlength"]},null),n["\u0275prd"](1024,null,v.NG_VALIDATORS,(function(e){return[e]}),[v.MaxLengthValidator]),n["\u0275prd"](1024,null,v.NG_VALUE_ACCESSOR,(function(e){return[e]}),[v.DefaultValueAccessor]),n["\u0275did"](109,671744,null,0,v.FormControlName,[[3,v.ControlContainer],[6,v.NG_VALIDATORS],[8,null],[6,v.NG_VALUE_ACCESSOR],[2,v["\u0275angular_packages_forms_forms_q"]]],{name:[0,"name"]},null),n["\u0275prd"](2048,null,v.NgControl,null,[v.FormControlName]),n["\u0275did"](111,16384,null,0,v.NgControlStatus,[[4,v.NgControl]],null,null),n["\u0275did"](112,278528,null,0,N.InputText,[n.ElementRef,[2,v.NgModel]],null,null),(e()(),n["\u0275eld"](113,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(e()(),n["\u0275ted"](114,null,["",""])),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,2,0,"objectInfoTab"),e(l,5,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,5,0,n["\u0275nov"](l,7).transform("VPN.PANEL.DATA")),""),"fa fa-pencil-square-o"),e(l,11,0,t.formModel),e(l,20,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER),e(l,22,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,29,0),e(l,32,0,n["\u0275inlineInterpolate"](1,"",t.fieldsetTitle,"")),e(l,39,0,"64"),e(l,42,0,"_ipobj_name"),e(l,45,0),e(l,54,0,"45"),e(l,57,0,"_ipobj_address"),e(l,60,0),e(l,69,0,"17"),e(l,72,0,"_ipobj_netmask"),e(l,75,0);var i=null,a=e(l,83,0,null!=(i=t.formModel.get("_ipobj_address"))&&i.invalid&&null!=(i=t.formModel.get("_ipobj_address"))&&i.dirty||null!=(i=t.formModel.get("_ipobj_netmask"))&&i.invalid&&null!=(i=t.formModel.get("_ipobj_netmask"))&&i.dirty||null!=(i=t.formModel.get("_ipobj_name"))&&i.invalid&&null!=(i=t.formModel.get("_ipobj_name"))&&i.dirty?"visible":"hidden");e(l,82,0,a),e(l,86,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER),e(l,88,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,90,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(l,93,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?"ui-g-6":"ui-g-12"),e(l,100,0,t.OptionScope.ovp,t.object.options),e(l,106,0,"255"),e(l,109,0,"comment"),e(l,112,0)}),(function(e,l){var t=l.component;e(l,9,0,n["\u0275nov"](l,13).ngClassUntouched,n["\u0275nov"](l,13).ngClassTouched,n["\u0275nov"](l,13).ngClassPristine,n["\u0275nov"](l,13).ngClassDirty,n["\u0275nov"](l,13).ngClassValid,n["\u0275nov"](l,13).ngClassInvalid,n["\u0275nov"](l,13).ngClassPending),e(l,26,0,n["\u0275unv"](l,26,0,n["\u0275nov"](l,27).transform("VPN.CONFIG.CN"))),e(l,28,0,n["\u0275inlineInterpolate"](1,"",t.object._fwcCrtName,""),!0,!0,!0,!0,n["\u0275nov"](l,29).filled),e(l,37,1,[n["\u0275nov"](l,39).maxlength?n["\u0275nov"](l,39).maxlength:null,n["\u0275nov"](l,44).ngClassUntouched,n["\u0275nov"](l,44).ngClassTouched,n["\u0275nov"](l,44).ngClassPristine,n["\u0275nov"](l,44).ngClassDirty,n["\u0275nov"](l,44).ngClassValid,n["\u0275nov"](l,44).ngClassInvalid,n["\u0275nov"](l,44).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,45).filled]),e(l,47,0,n["\u0275unv"](l,47,0,n["\u0275nov"](l,48).transform("ITEM_PANEL.FIELDS.NAME"))),e(l,52,1,[n["\u0275nov"](l,54).maxlength?n["\u0275nov"](l,54).maxlength:null,n["\u0275nov"](l,59).ngClassUntouched,n["\u0275nov"](l,59).ngClassTouched,n["\u0275nov"](l,59).ngClassPristine,n["\u0275nov"](l,59).ngClassDirty,n["\u0275nov"](l,59).ngClassValid,n["\u0275nov"](l,59).ngClassInvalid,n["\u0275nov"](l,59).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,60).filled]),e(l,62,0,n["\u0275unv"](l,62,0,n["\u0275nov"](l,63).transform("ITEM_PANEL.FIELDS.ADDRESS"))),e(l,67,1,[n["\u0275nov"](l,69).maxlength?n["\u0275nov"](l,69).maxlength:null,n["\u0275nov"](l,74).ngClassUntouched,n["\u0275nov"](l,74).ngClassTouched,n["\u0275nov"](l,74).ngClassPristine,n["\u0275nov"](l,74).ngClassDirty,n["\u0275nov"](l,74).ngClassValid,n["\u0275nov"](l,74).ngClassInvalid,n["\u0275nov"](l,74).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,75).filled]),e(l,77,0,n["\u0275unv"](l,77,0,n["\u0275nov"](l,78).transform("ITEM_PANEL.FIELDS.MASK"))),e(l,84,0,t.ipNetmaskErrorMsg),e(l,95,0,n["\u0275unv"](l,95,0,n["\u0275nov"](l,96).transform("VPN.CONFIG.OVP"))),e(l,104,1,[n["\u0275nov"](l,106).maxlength?n["\u0275nov"](l,106).maxlength:null,n["\u0275nov"](l,111).ngClassUntouched,n["\u0275nov"](l,111).ngClassTouched,n["\u0275nov"](l,111).ngClassPristine,n["\u0275nov"](l,111).ngClassDirty,n["\u0275nov"](l,111).ngClassValid,n["\u0275nov"](l,111).ngClassInvalid,n["\u0275nov"](l,111).ngClassPending,!0,!0,!0,!0,n["\u0275nov"](l,112).filled]),e(l,114,0,n["\u0275unv"](l,114,0,n["\u0275nov"](l,115).transform("ITEM_PANEL.FIELDS.COMMENTS")))}))}function nl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"button",[["class","fwc-left-float ui-button-primary"],["icon","fa fa-refresh"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.reloadPanel()&&n),n}),null,null)),n["\u0275did"](2,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](4,0,null,null,4,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onProcessDeleteAction()&&n),n}),null,null)),n["\u0275did"](5,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef]),n["\u0275pod"](7,{obj_type:0}),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){var t=l.component;e(l,2,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("POLICY_GRID.RELOAD")),""),"fa fa-refresh");var i=n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,5,0,n["\u0275nov"](l,8).transform("CONTEXT.VPN_CONFIG.DELETE_2",e(l,7,0,n["\u0275unv"](l,5,0,n["\u0275nov"](l,6).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectToDelete._fwcObjType+"_ABBR"))))),"");e(l,5,0,i,"fa fa-trash")}),(function(e,l){var t=l.component;e(l,1,0,t.loadingData),e(l,4,0,!t.okToDelete||t.loadingData||t.savingData)}))}function il(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-clipboard"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCopyConfigFile()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("VPN.CONFIG.CLIPBOARD.BUTTON")),""),"fa fa-clipboard")}),(function(e,l){e(l,0,0,l.component.loadingData)}))}function al(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-download"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onDownloadConfigFile()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("VPN.CONFIG.DOWNLOAD.BUTTON")),""),"fa fa-download")}),(function(e,l){e(l,0,0,l.component.loadingData)}))}function sl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,il)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,al)),n["\u0275did"](4,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component;e(l,2,0,!t.errorMsg&&(null==t.configFile?null:t.configFile.length)),e(l,4,0,!t.errorMsg&&(null==t.configFile?null:t.configFile.length))}),null)}function ol(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-warning"],["icon","fa fa-pause"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.doPauseProcess(!0)&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("COMPILE.PAUSE")),""),"fa fa-pause")}),(function(e,l){e(l,0,0,l.component.disableButtons)}))}function rl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"button",[["class","ui-button-success"],["icon","fa fa-play"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.doContinueProcess()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null)],(function(e,l){e(l,1,0,l.component.continueButtonText,"fa fa-play")}),(function(e,l){e(l,0,0,l.component.disableButtons)}))}function ul(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,ol)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,rl)),n["\u0275did"](4,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component;e(l,2,0,!t.pauseProcess&&t.operationInProcessId<t.operationQueue.length),e(l,4,0,t.pauseProcess&&t.operationInProcessId<t.operationQueue.length)}),null)}function cl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCancel()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")}),(function(e,l){var t=l.component;e(l,0,0,!t.object||t.loadingData||t.savingData)}))}function dl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-floppy-o"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onSave()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-floppy-o")}),(function(e,l){var t=l.component;e(l,0,0,!t.formModel.valid||t.formModel.pristine||t.loadingData||t.savingData)}))}function fl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),n["\u0275and"](16777216,null,null,1,null,cl)),n["\u0275did"](2,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,dl)),n["\u0275did"](4,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](0,null,null,0))],(function(e,l){var t=l.component;e(l,2,0,!t.formModel.pristine),e(l,4,0,!t.formModel.pristine)}),null)}function pl(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.onCancel()&&n),n}),null,null)),n["\u0275did"](1,4341760,null,0,D.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,i.k,[i.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")}),(function(e,l){var t=l.component;e(l,0,0,t.savingData||t.disableButtons)}))}function hl(e){return n["\u0275vid"](0,[n["\u0275pid"](0,h.a,[]),n["\u0275qud"](671088640,1,{dialog:0}),n["\u0275qud"](671088640,2,{divDlgContainer:0}),n["\u0275qud"](671088640,3,{optionsGrids:1}),n["\u0275qud"](671088640,4,{treeSelector:0}),n["\u0275qud"](671088640,5,{txtConfigFile:0}),n["\u0275qud"](671088640,6,{log:0}),(e()(),n["\u0275eld"](7,0,null,null,52,"p-dialog",[["styleClass","dlgFwcDialog fwcObjectDialog"]],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],(function(e,l,t){var n=!0,i=e.component;return"visibleChange"===l&&(n=!1!==(i.displayDialog=t)&&n),"onShow"===l&&(n=!1!==i.onShowDialog(t)&&n),"onHide"===l&&(n=!1!==i.onHideDialog(t)&&n),n}),Re.b,Re.a)),n["\u0275did"](8,180224,[[1,4],["dlgOVConfigPanel",4]],2,Te.Dialog,[n.ElementRef,n.Renderer2,n.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],style:[4,"style"],styleClass:[5,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),n["\u0275qud"](603979776,7,{headerFacet:1}),n["\u0275qud"](603979776,8,{footerFacet:1}),n["\u0275pod"](11,{width:0}),(e()(),n["\u0275eld"](12,0,null,0,14,"p-header",[],null,null,null,Ne.d,Ne.b)),n["\u0275did"](13,49152,[[7,4]],0,V.Header,[],null,null),(e()(),n["\u0275and"](16777216,null,0,1,null,Pe)),n["\u0275did"](15,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,De)),n["\u0275did"](17,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,Le)),n["\u0275did"](19,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,Ae)),n["\u0275did"](21,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,Fe)),n["\u0275did"](23,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](24,0,null,0,2,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(e()(),n["\u0275eld"](25,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.minimizeDialog()&&n),n}),null,null)),n["\u0275did"](26,4341760,null,0,D.ButtonDirective,[n.ElementRef],{icon:[0,"icon"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,je)),n["\u0275did"](28,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,Me)),n["\u0275did"](30,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,Ue)),n["\u0275did"](32,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,Je)),n["\u0275did"](34,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,ze)),n["\u0275did"](36,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,Xe)),n["\u0275did"](38,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,1,1,null,tl)),n["\u0275did"](40,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](41,0,null,2,18,"p-footer",[],null,null,null,Ne.c,Ne.a)),n["\u0275did"](42,49152,[[8,4]],0,V.Footer,[],null,null),(e()(),n["\u0275eld"](43,0,null,0,6,"div",[["class","divLoadTemp"]],null,null,null,null,null)),n["\u0275prd"](512,null,g["\u0275NgStyleImpl"],g["\u0275NgStyleR2Impl"],[n.ElementRef,n.KeyValueDiffers,n.Renderer2]),n["\u0275did"](45,278528,null,0,g.NgStyle,[g["\u0275NgStyleImpl"]],{ngStyle:[0,"ngStyle"]},null),n["\u0275pod"](46,{visibility:0}),(e()(),n["\u0275eld"](47,0,null,null,2,"p-progressSpinner",[],null,null,null,a.b,a.a)),n["\u0275did"](48,49152,null,0,s.ProgressSpinner,[],{style:[0,"style"]},null),n["\u0275pod"](49,{width:0,height:1}),(e()(),n["\u0275and"](16777216,null,0,1,null,nl)),n["\u0275did"](51,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,sl)),n["\u0275did"](53,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,ul)),n["\u0275did"](55,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,fl)),n["\u0275did"](57,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,0,1,null,pl)),n["\u0275did"](59,16384,null,0,g.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component,n=t.displayDialog,i=e(l,11,0,"80vw");e(l,8,0,n,!0,!0,!1,i,"dlgFwcDialog fwcObjectDialog"),e(l,15,0,t.objectToDelete),e(l,17,0,t.objectToRetrieve),e(l,19,0,t.objectToManage),e(l,21,0,t.objectToSearchWU),e(l,23,0,!(t.objectToDelete||t.objectToRetrieve||t.objectToManage||t.objectToSearchWU)),e(l,26,0,"fa fa-window-minimize"),e(l,28,0,t.loadingData),e(l,30,0,t.errorMsg),e(l,32,0,t.objectToDelete&&!t.loadingData&&!t.errorMsg),e(l,34,0,t.objectToRetrieve&&!t.loadingData&&!t.errorMsg),e(l,36,0,t.objectToManage&&!t.loadingData&&!t.errorMsg),e(l,38,0,t.objectToSearchWU&&!t.loadingData&&!t.errorMsg),e(l,40,0,t.object&&t.formModel&&!t.loadingData&&!t.errorMsg);var a=e(l,46,0,t.savingData?"visible":"hidden");e(l,45,0,a);var s=e(l,49,0,"1.7rem","1.7rem");e(l,48,0,s),e(l,51,0,t.objectToDelete),e(l,53,0,t.objectToRetrieve),e(l,55,0,t.objectToManage),e(l,57,0,t.object&&t.formModel),e(l,59,0,!t.object||!t.formModel||t.object&&t.formModel&&t.formModel.pristine)}),null)}},"g/5Y":function(e,l,t){"use strict";var n=t("8Y7J"),i=t("Meih"),a=t("SlyN"),s=t("B58V"),o=t("7LN8"),r=t("NZHa"),u=t("IL0X"),c=t("TSSN"),d=t("SVse");t("7PmC"),t("IheW"),t("Zf0f"),t("Mebi"),t("77Y5"),t("DQLy"),t("m6j1"),t("iiPk"),t("AjHW"),t.d(l,"a",(function(){return f})),t.d(l,"b",(function(){return O}));var f=n["\u0275crt"]({encapsulation:2,styles:[[":root{--lightColor:#eee;--darkColor:#222;--inputBackgroundColor:#eee;--inputBorderColor:#cacaca;--inputColor:#222;--surfaceBackgroundColor:white;--fixedWhiteColor:#eee;--fixedDarkColor:#333;--translucidColor:transparent;--menuBackground:url(/assets/img/fwc-fondo-menu.jpg);--mainBackground:url(/assets/img/fwc-fondo-home.jpg);--fwcBlue:#0069a7;--fwcBlueDarkened:#005e96;--fwcDarkBlue:#003351;--fwcDarkBlue2:#014071;--fwcLightBlue:#1779ba;--fwcPaleBlue:#689fe1;--fwcPaleBlue2:#cce2f8;--fwcPaleBlue3:#e6f1fd;--fwcBlueGradient1:#386ea0;--fwcBlueGradient2:#21517e;--fwcLightGreyGradient1:#f6f7f9;--fwcLightGreyGradient2:#ebedf0;--fwcOrange:#eb6400;--fwcPaleOrange:#e67e22;--fwcPaleOrange2:#ffcfa4;--fwcPaleOrange3:#fe7815;--fwcOrangeRed:#e74c3c;--fwcRed:#f00;--fwcRed2:#b40b00;--fwcPaleRed:#f77676;--fwcPaleRed2:#ffe1e1;--fwcTranslucidRed:rgba(255, 0, 0, 0.15);--fwcDarkGreen:#023008;--fwcGreen:#009900;--fwcLightGreen:#28ff28;--fwcPaleGreen:#c7e6c8;--fwcLime:#baf649;--fwcWhite:#eee;--fwcPaleWhite:#f5f5f5;--fwcPaleWhite2:#f4f4f4;--fwcDark:#222;--fwcLightDark:#1e1e1e;--fwcMidDark:#555;--fwcMidDark2:#333;--fwcPaleDark:#888;--fwcPaleDark2:#383838;--fwcGrey:#cacaca;--fwcGrey2:#cecece;--fwcGrey3:#eee;--fwcGrey4:#e5e5e5;--fwcGrey5:#c8c8c8;--fwcGrey6:#efefef;--fwcGrey7:#dedede;--fwcAccent:#ff4081;--fwcShadow:#bbb;--fwcSelected:#ddd;--fwcSelectedB:#0069a7;--fwcRulePink:#ef9a9a;--fwcRulePurple:#ce93d8;--fwcRuleBlue:#90caf9;--fwcRuleTeal:#80cbc4;--fwcRuleGreen:#a5d6a7;--fwcRuleYellow:#fff59d;--fwcRuleOrange:#ffcc80}.divWUPanel label{text-align:left!important;font-family:arial!important;color:var(--fwcBlue)}"]],data:{}});function p(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,t){var n=!0;return"dblclick"===l&&(n=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&n),n}),null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function h(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,t){var n=!0;return"selectionChange"===l&&(n=!1!==(e.component.selectedRule=t)&&n),n}),i.b,i.a)),n["\u0275did"](1,1294336,null,1,a.Tree,[n.ElementRef,[2,s.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),n["\u0275qud"](603979776,1,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,p)),n["\u0275did"](4,16384,[[1,4]],0,o.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var t=l.component;e(l,1,0,t.ruleItemsNodes,"single",t.selectedRule,"treeSelector treeWU"),e(l,4,0,"default")}),null)}function m(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,r.b,r.a)),n["\u0275did"](1,49152,null,0,u.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),n["\u0275pid"](131072,c.k,[c.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,"warn",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,1,n["\u0275nov"](l,2).transform("WU.NOT_USED_RULE")),""))}),null)}function g(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,t){var n=!0;return"dblclick"===l&&(n=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&n),n}),null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function _(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,t){var n=!0;return"selectionChange"===l&&(n=!1!==(e.component.selectedObject=t)&&n),n}),i.b,i.a)),n["\u0275did"](1,1294336,null,1,a.Tree,[n.ElementRef,[2,s.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),n["\u0275qud"](603979776,2,{templates:1}),(e()(),n["\u0275and"](0,null,null,1,null,g)),n["\u0275did"](4,16384,[[2,4]],0,o.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var t=l.component;e(l,1,0,t.objectItemsNodes,"single",t.selectedObject,"treeSelector treeWU"),e(l,4,0,"default")}),null)}function S(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,r.b,r.a)),n["\u0275did"](1,49152,null,0,u.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),n["\u0275pid"](131072,c.k,[c.l,n.ChangeDetectorRef])],(function(e,l){e(l,1,0,"warn",n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,1,1,n["\u0275nov"](l,2).transform("WU.NOT_USED_OBJECT")),""))}),null)}function v(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,29,"div",[["class","divWUPanel"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,14,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](2,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](3,0,null,null,8,"label",[],null,null,null,null,null)),(e()(),n["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275eld"](5,0,null,null,0,"i",[["class","fwcMenuIcon fwci-rule fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](6,null,["\xa0","/","\xa0\xa0"])),n["\u0275pid"](131072,c.k,[c.l,n.ChangeDetectorRef]),n["\u0275pid"](131072,c.k,[c.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](9,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),n["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](11,null,["",""])),(e()(),n["\u0275and"](16777216,null,null,1,null,h)),n["\u0275did"](13,16384,null,0,d.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,m)),n["\u0275did"](15,16384,null,0,d.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),n["\u0275eld"](17,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),n["\u0275eld"](18,0,null,null,7,"label",[],null,null,null,null,null)),(e()(),n["\u0275eld"](19,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275eld"](20,0,null,null,0,"i",[["class","fwcMenuIcon fwci-ipobjects fwcOrange"]],null,null,null,null,null)),(e()(),n["\u0275ted"](21,null,["\xa0","\xa0\xa0"])),n["\u0275pid"](131072,c.k,[c.l,n.ChangeDetectorRef]),(e()(),n["\u0275eld"](23,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),n["\u0275eld"](24,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),n["\u0275ted"](25,null,["",""])),(e()(),n["\u0275and"](16777216,null,null,1,null,_)),n["\u0275did"](27,16384,null,0,d.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,S)),n["\u0275did"](29,16384,null,0,d.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,13,0,null==t.ruleItemsNodes?null:t.ruleItemsNodes.length),e(l,15,0,!(null!=t.ruleItemsNodes&&t.ruleItemsNodes.length)),e(l,27,0,null==t.objectItemsNodes?null:t.objectItemsNodes.length),e(l,29,0,!(null!=t.objectItemsNodes&&t.objectItemsNodes.length))}),(function(e,l){var t=l.component;e(l,6,0,n["\u0275unv"](l,6,0,n["\u0275nov"](l,7).transform("WU.RULES")),n["\u0275unv"](l,6,1,n["\u0275nov"](l,8).transform("WU.ROUTES"))),e(l,11,0,t.getTreeItemsNumber(t.ruleItemsNodes)),e(l,21,0,n["\u0275unv"](l,21,0,n["\u0275nov"](l,22).transform("WU.OBJECTS"))),e(l,25,0,t.getTreeItemsNumber(t.objectItemsNodes))}))}function O(e){return n["\u0275vid"](0,[(e()(),n["\u0275and"](16777216,null,null,1,null,v)),n["\u0275did"](1,16384,null,0,d.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){e(l,1,0,l.component._objectInfo)}),null)}},iiPk:function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));var n=t("8Y7J"),i=(t("VHTt"),t("AjHW"),t("Mebi"),t("7PmC"),t("77Y5"),t("EMdb"));t("m6j1"),t("Zf0f");class a{constructor(e,l,t,a,s,o,r,u){this.store=e,this.refService=l,this.fwcPolicyService=t,this.fwcPositionService=a,this.translate=s,this.fwcUserService=o,this.fwcWhereUsedFunctionalityService=r,this.pipeFwcIcon=u,this.ObjectTypes=i.C,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new n.EventEmitter}set objectInfo(e){e&&(this._objectInfo=e,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())}ngOnInit(){}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l}),1)}parseInfo(){let e,l,t;if(l=this._objectInfo,l&&(t=l.restrictions,t)){this.ruleItemsNodes=[],this.objectItemsNodes=[];for(let l of Object.keys(t)){let n=t[l];Array.isArray(n)&&n.length&&n[0]&&(null!=n[0].rule_id&&null!=n[0].rule_type||null!=n[0].routing_rule_id||null!=n[0].route_id?this.ruleItemsNodes=this.buildRuleTreeNodes(l,n,this.ruleItemsNodes):(e=this.buildObjectTreeNodes(n,l),this.objectItemsNodes.push(e)))}}}getTreeItemsNumber(e){let l,t=0;if(e)for(l=e.slice(0);l.length;){let e=l.pop();e.children&&e.children.length?l.push(...e.children):t++}return t}itemDblClickEvent(e,l){let t;l?t=l.data:e&&(t=e.value),t&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(t)&&this.onHideParent.emit(!0)}buildRuleTreeNodes(e,l,t=[]){for(const n of l){let l,a,s=t.find(e=>!(!e.data||e.data.firewall_id!=n.firewall_id));if(n.rule_id?n.rule_position_name?(l="WU.FOUND_IN_RULE",a={policy_name:n.rule_type_name,rule_id:n.rule_id,pos_name:n.rule_position_name}):(l="WU.FOUND_IN_RULE_NO_POS",a={policy_name:n.rule_type_name,rule_id:n.rule_id}):n.route_id?"IpobjInRouteAsGateway"===e?(l="WU.FOUND_IN_ROUTE_GATEWAY",a={route_id:n.route_id,table_name:n.table_name,table_number:n.table_number}):(l="WU.FOUND_IN_ROUTE",a={route_id:n.route_id,table_name:n.table_name,table_number:n.table_number}):n.routing_rule_id&&(l="WU.FOUND_IN_ROUTING_RULE",a={routing_rule_id:n.routing_rule_id}),s){let e={};s.children||(s.children=[]),s.children.find(e=>void 0!==e.data.rule_id&&e.data.rule_id===n.rule_id&&void 0!==e.data.rule_position_id&&e.data.rule_position_id===n.rule_position_id)||(e.label=this.translate.instant(l,a),e.data=Object.assign({},n),s.children.push(e))}else{let e,s,o={},r={};null!=n.cluster_id?(e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+n.cluster_name+"</strong>",s=i.C.OBJ_CLUSTER):(e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+n.firewall_name+"</strong>",s=i.C.OBJ_FIREWALL),o.label=e,o.icon=this.pipeFwcIcon.transform(s),o.children=[],o.data=Object.assign({},n),o.data._fwItem=!0,o.expanded=!0,r.label=this.translate.instant(l,a),r.data=Object.assign({},n),o.children.push(r),t.push(o)}}return t.length?t:null}buildObjectTreeNodes(e,l){let t,n,a=[];return t={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".1")+"</strong>",icon:"",expanded:!0,children:[]},e.forEach(e=>{let l={};if(e){let t,s,o;null!=e.group_id?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),s=e.group_name,o=this.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:s}),n=this.pipeFwcIcon.transform(i.C.OBJ_GROUP)):null!=e.cluster_id&&null==e.openvpn?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),s=e.cluster_name,o=this.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:s}),n=this.pipeFwcIcon.transform(i.C.OBJ_CLUSTER)):null!=e.firewall_id&&null==e.openvpn?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),s=e.firewall_name,o=this.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:s}),n=this.pipeFwcIcon.transform(i.C.OBJ_FIREWALL)):null!=e.interface_id?(t=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),s=e.interface_name,o=this.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:s}),n=this.pipeFwcIcon.transform(i.C.OBJ_INTERFACE_FIREWALL)):null!=e.host_id?(t="Host",s=e.host_name,o=this.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:s}),n=this.pipeFwcIcon.transform(i.C.OBJ_HOST)):null!=e.openvpn&&(o=null!=e.cluster_id?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",o=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:o}),n=this.pipeFwcIcon.transform(i.C.OBJ_VPN_CONFIG_CLI)),l.label=o,l.data=Object.assign({},e),a.push(l)}}),t.icon=n,t.children=a,t}}},kp3z:function(e,l,t){"use strict";t.d(l,"a",(function(){return a}));var n=t("8Y7J"),i=t("EMdb");t("VHTt"),t("Mebi"),t("77Y5"),t("m6j1"),t("Zf0f");class a{constructor(e,l,t,i,a,s){this.store=e,this.translate=l,this.fwcPolicyService=t,this.fwcUserService=i,this.fwcWhereUsedFunctionalityService=a,this.pipeFwcIcon=s,this.showRefreshButton=!1,this.onHideParent=new n.EventEmitter,this.onRefreshRestrictions=new n.EventEmitter,this.selectedObject=null}set dependencies(e){e&&(this.dependenciesTree=this.buildDependencyTree(e))}ngOnInit(){}buildDependencyTree(e){let l,t,n,i=[];e._fwcRestrictedObject&&(t=e._fwcRestrictedObject._fwcObjId,n=e._fwcRestrictedObject._fwcObjType,delete e._fwcRestrictedObject);for(let a of Object.keys(e)){let s=e[a];Array.isArray(s)?s.length&&s[0]&&(null!=s[0].rule_id&&null!=s[0].rule_type||null!=s[0].routing_rule_id||null!=s[0].route_id?(l=this.buildRuleDependencyTreeNodes(s,a,t,n),i.push(l)):null!=s[0].group_id&&s[0].group_name?(l=this.buildGroupDependencyTreeNodes(s,a,t,n),i.push(l)):null!=s[0].openvpn&&(l=this.buildOpenVPNDependencyTreeNodes(s,a,t,n),i.push(l))):i.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+a+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return i}itemDblClickEvent(e,l){let t=l.data;t&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(t)&&this.onHideParent.emit(!0)}buildRuleDependencyTreeNodes(e,l,t,n){let a,s=[];a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]};for(const o of e){let e=s.find(e=>!(!e.data||e.data.firewall_id!=o.firewall_id)),l={};if(o)if(e)this.setRuleNodeInfo(l,o,t,n),l.data=Object.assign({},o),e.children||(e.children=[]),e.children.push(l);else{let e,a,r={};null!=o.cluster_id?(e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+o.cluster_name+"</code>",a=i.C.OBJ_CLUSTER):(e=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+o.firewall_name+"</code>",a=i.C.OBJ_FIREWALL),l.label=e,l.icon=this.pipeFwcIcon.transform(a),l.children=[],l.data=Object.assign({},o),l.data._fwItem=!0,l.expanded=!0,this.setRuleNodeInfo(r,o,t,n),r.data=Object.assign({},o),l.children.push(r),s.push(l)}}return a.children=s,a}buildGroupDependencyTreeNodes(e,l,t,n){let a,s,o,r=[];return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},e.forEach(e=>{let l={};s=this.translate.instant("WU.FOUND_IN_GROUP",{group_name:e.group_name}),o=this.pipeFwcIcon.transform(i.C.OBJ_GROUP),e.obj_type_id&&e.obj_name&&(o=this.pipeFwcIcon.transform(e.obj_type_id),s+=` > <code>${e.obj_name}</code>`),e&&(l.label=s,l.icon=o,l.data=Object.assign({},e),r.push(l))}),a.children=r,a}buildOpenVPNDependencyTreeNodes(e,l,t,n){let a,s,o,r=[];return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},e.forEach(e=>{let l={};e&&(s=null!=e.cluster_id?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",o=this.pipeFwcIcon.transform(i.C.OBJ_VPN_CONFIG_CLI),e.obj_type_id&&e.obj_name&&(o=this.pipeFwcIcon.transform(e.obj_type_id),s+=` > <code>${e.obj_name}</code>`),l.label=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:s}),l.icon=o,l.data=Object.assign({},e),r.push(l))}),a.children=r,a}setRuleNodeInfo(e,l,t,n){let i,a,s,o;l.rule_id?l.rule_position_name?(s="WU.FOUND_IN_RULE",o={policy_name:l.rule_type_name,rule_id:l.rule_id,pos_name:l.rule_position_name}):(s="WU.FOUND_IN_RULE_NO_POS",o={policy_name:l.rule_type_name,rule_id:l.rule_id},l.rule_position_name=this.translate.instant("POLICY_GRID.RULES.ACTION")):l.route_id?(s="WU.FOUND_IN_ROUTE",o={route_id:l.route_id,table_name:l.table_name,table_number:l.table_number}):l.routing_rule_id&&(s="WU.FOUND_IN_ROUTING_RULE",o={routing_rule_id:l.routing_rule_id}),i=this.translate.instant(s,o),void 0===t||void 0===n||t==l.obj_id&&n==l.obj_type_id||!l.obj_name||(i+=` > <code>${l.obj_name}</code>`),a=this.pipeFwcIcon.transform(l.obj_type_id),e.label=i,e.icon=a}handleRefreshClick(){this.onRefreshRestrictions.emit()}}},pDcU:function(e,l,t){"use strict";t.d(l,"a",(function(){return w}));var n=t("mrSG"),i=t("s7LF"),a=t("EMdb"),s=t("LRne"),o=t("Cfvw"),r=t("GJmQ"),u=t("5+tZ"),c=t("V2QB"),d=(t("VHTt"),t("bGe8")),f=(t("DSdC"),t("ePWF"),t("0VEr"),t("o0su")),p=(t("XY+R"),t("EcEN")),h=t("Iab2"),m=t("qp7v"),g=(t("24Yq"),t("LvDl")),_=t("DQLy"),S=t("FdYD"),v=t("v8Ou");const O=["server","ifconfig-push","remote"];class w extends d.a{constructor(e,l,t,n,i,s,o,r,u,c,d,p,h,m,g,_,S,v){super(t,l,e,n,S,v),this.itemSelectedService=e,this.appOptionsService=l,this.appDialogPanelsService=t,this.cd=n,this.fwcUserService=i,this.fwcFirewallService=s,this.fwcObjectService=o,this.fwcObjectTreeService=r,this.fwcVpnService=u,this.inputDataService=c,this.fwcErrorPipe=d,this.translate=p,this.confirmationService=h,this.utilService=m,this.fwcEventService=g,this.messageService=_,this.store=S,this.router=v,this.restrictionsReadOnly=!1,this.ObjectTypes=a.C,this.CACertTypes=a.b,this.OptionScope=a.D,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=a.m,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=a.z,this.alive=!0,this.createDialog(this.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn",f.e.OVCONFIG_PANEL)}ipNetmaskValidator(e){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};let l,t,n,i=!1,s="",o="";this.formModel.controls._ipobj_address&&(s=this.formModel.controls._ipobj_address.value||""),s&&this.formModel.controls._ipobj_address.markAsTouched(),this.formModel.controls._ipobj_netmask&&(o=this.formModel.controls._ipobj_netmask.value||""),o&&this.formModel.controls._ipobj_netmask.markAsTouched();let r=a.e.netmaskCIDRRegexp.exec(o);if(r){let e=parseInt(r[1]);try{o=m.IPv4.subnetMaskFromPrefixLength(e).toString()}catch(u){i=!1}}return s.match(a.e.ipV4Regexp)&&o.match(a.e.netmaskRegexp)&&(n=s.trim()+" "+o.trim(),this.formModel.controls._ipobj_address.setErrors(null),i=!0),this.object.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(l=a.D.ccd,t=a.S.O_CLIENT):this.object.obj_type==a.C.OBJ_VPN_CONFIG_SER&&(l=a.D.ovp,t=a.S.O_SERVER),this.optionsGrids.forEach(e=>{e.getScope()===l&&e.modifyIPOption(t,l,n)}),i?null:{ipNetmaskValidator:!0}}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(Object(r.a)(()=>this.alive),Object(_.B)(S.a.selectDialogUuidsToReload)).subscribe(e=>{e&&e.find(e=>e===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.getItem().pipe(Object(r.a)(()=>this.alive)).subscribe(e=>Object(n.a)(this,void 0,void 0,(function*(){if(!(e.obj_type!=a.C.OBJ_VPN_CONFIG_SER&&e.obj_type!=a.C.OBJ_VPN_CONFIG_CLI&&e.obj_type!=a.C.OBJ_PREFIX_FOLDER&&e.obj_type!=a.C.OBJ_OPENVPN_PREFIX||e.statusAction||e._onlySelectInTree)){if(this.resetProperties(),e.parent_type==a.C.OBJ_CLUSTER){let l;if(l=yield this.getClusterMasterFirewall(e.parent_id),!l)return void this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:e.parent_name})});e.firewall=l.id}else e.firewall=e.parent_id;if(e.deleteAction)this.onItemDelete(e);else if(e.configFileAction)this.onItemGetFile(e);else if(e.installAction||e.syncCCDAction||e.uninstallAction||e.syncPendingCCDAction)this.onItemManage(e);else if(e.newPrefixAction||e.editPrefixAction||e.deletePrefixFolderAction)this.managePrefix(e);else if(e.whereUsedAction)this.showWhereUsed(e);else if(e.blockVPNAction||e.unblockVPNAction)this.blockUnblockVPNConnection(e);else if(Array.isArray(e._fwcChildClientNodes)&&e._fwcChildClientNodes.length){let l=[];e._fwcChildClientNodes.forEach(e=>{l.find(l=>l.id===e.id_obj)||l.push({id:e.id_obj,text:e.name})});let t={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.HEADER_CLI"),type:"select",options:l,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:l=>{l&&(l.clientConfId?(e._fwcObjId=l.clientConfId,this.onItemSelect(e,!0)):this.onItemSelect(e))}};this.inputDataService.setInputData(t)}else this.onItemSelect(e)}})))}ngOnDestroy(){super.ngOnDestroy()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified)if(this.objectToDelete){let e=Object.assign({},this.objectToDelete),l=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(e),this.dialogId==l&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let e=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(e)}this.store.dispatch(v.a.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.formModel&&this.formModel.reset(),this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null}checkOVPNConfigCanBeDeleted(e){return new Promise((l,t)=>{let n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.checkConfigRestrictions(n).subscribe(e=>{l(!0)},e=>{e.error&&e.error.restrictions?l(!1):t(e)})})}onItemDelete(e,l){if(!e)return;let t,n,i;this.objectToDelete=e,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,e.obj_type==a.C.OBJ_VPN_CONFIG_SER||e.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(t=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId},i="VPN.CONFIG"):e.obj_type==a.C.OBJ_OPENVPN_PREFIX&&(t=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj},i="VPN.OPENVPN_PREFIX"),t&&(this.showDialog(),l&&this.recenterDialog(),t(n).subscribe(l=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},e),this.deleteMsg={type:"warning",title:this.translate.instant(i+".DELETE_WARN.SUMMARY"),text:this.translate.instant(i+".DELETE_WARN.TEXT",{name:e._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(i+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(i+".ERRORS.RESTR_ERROR.TEXT",{name:e._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(i+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(l)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(e){if(!e)return;this.objectToRetrieve=e,this.loadingData=!0,this.showDialog();let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.getConfigFile(l).subscribe(e=>{e.data?this.configFile=e.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:e.error})},e.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e.error)})),this.loadingData=!1,this.recenterDialog()},e=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.loadingData=!1})}onItemManage(e,l){if(!e)return;let t,i,s,o=e.id_obj,u=[],d=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):e.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):e.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):e.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),l&&this.recenterDialog(),this.channel_id=Object(p.v4)(),this.utilService.ioListenOnLogEvent(this.channel_id),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Object(r.a)(()=>this.displayDialog)).subscribe(e=>{let l,t=new c.a(e);t.payload.type===a.w.MSG_ERROR&&(l=this.utilService.isSSHError(t.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0),l?this.continueButtonText=this.translate.instant("COMPILE.RETRY"):(this.log.addNewMessage(t),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),e.parent_type==a.C.OBJ_CLUSTER?(s=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),i=e.parent_id,t=!0):e.parent_type==a.C.OBJ_FIREWALL&&(s=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),i=e.firewall,t=!1),s&&s(i,d).subscribe(l=>Object(n.a)(this,void 0,void 0,(function*(){let n;l.data&&l.data instanceof Array?u=l.data:l.data?(u=[],u.push(l.data)):u=[],this.operationQueue=[],t&&(n={openvpn:o,clusterId:i,firewallId:i,firewallName:e._fwcClusterName,installState:a.n.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},n)));const s=this.fwcUserService.getActualFwcUser().privateKey;for(let l=0;l<u.length;l++){let t=u[l],i=t.install_user,c=t.install_pass;try{i&&(i=yield this.utilService.openPGPDecrypt(i,s)),c&&(c=yield this.utilService.openPGPDecrypt(c,s))}catch(r){}n={clusterId:t.cluster,clusterName:e._fwcClusterName,isNode:!!t.cluster,openvpn:o,firewallId:u[l].id,firewallName:u[l].name,installState:a.n.FW_PENDING,opInstalled:!1,sshUser:i,sshPassword:c,installInterface:u[l].install_interface,installInterfaceName:u[l].interface_name,installIpobj:u[l].install_ipobj,installIpobjName:u[l].ip_name,installIpobjIP:u[l].ip,deleteAction:e.deleteAction},this.operationQueue.push(Object.assign({},n))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(!0)})),e=>{e.error&&1002==e.error.fwcErr||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.loadingData=!1})}processOVPNOperation(e){let l;if(!this.pauseProcess&&(clearTimeout(this.opTimeout),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let t=this.operationQueue[this.operationInProcessId];if(!t)return;if(this.operationWithErrors=!1,l=null!=t.clusterId?this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:t.clusterName,firewallName:t.firewallName}):this.translate.instant("COMPILE.INST_FW",{firewallName:t.firewallName}),t.installState==a.n.FW_PENDING){if(t.installState=a.n.FW_PROCESSING,e||this.addMessageToLog("",a.w.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:l}),a.w.MSG_INFO),t.installInterface&&t.installIpobj){let e={header:this.translate.instant("COMPILE.INST_SSH",{name:l}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:t.openvpn},{name:"firewall_id",type:"hidden",value:t.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:t.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:t.installIpobjName+" ("+t.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:t.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:t.sshPassword},{name:"deleteAction",type:"hidden",value:t.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"ui-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};return this.disableButtons=!0,void this.inputDataService.setInputData(e)}t.installState=a.n.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT"),reject:()=>{this.doPauseProcess()},accept:()=>{let e=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT");this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:l,error:e}),a.w.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()}})},1)}else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(e)}}manageConfig(e){return Object(n.a)(this,void 0,void 0,(function*(){let l,t,n;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(t=this.operationQueue[this.operationInProcessId]),t&&this.configManageAPICall)if(l=null!=t.clusterId?`cluster ${t.clusterId} - firewall ${t.firewallId} (${t.firewallName})`:`firewall ${t.firewallId} (${t.firewallName})`,this.disableButtons=!1,e){if(this.actualFirewallCompileSSHInputData=e,e.btnPauseProcess)return t.installState=a.n.FW_PENDING,void this.doPauseProcess(!0);this.opTimeout&&clearTimeout(this.opTimeout),this.opTimeout=setTimeout(()=>{this.doTimeoutOp()},6e4),this.log.startDataLoad();const i=this.fwcUserService.getActualFwcUser().publicKey;let s=e.ssh_user,o=e.ssh_password;s&&(s=yield this.utilService.openPGPEncrypt(s,i)),o&&(o=yield this.utilService.openPGPEncrypt(o,i)),n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn,firewall:e.firewall_id,sshuser:s,sshpass:o},this.utilService.fwcAPICall(this.configManageAPICall,this.channel_id,n).then(l=>{t.installState=a.n.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),a.w.MSG_ERROR):this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),a.w.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processOVPNOperation():e.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>{this.onDeleteConfigurationOrPrefix()}}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.opTimeout)}).catch(e=>{const n=this.utilService.isSSHError(e.error?e.error.msg:"");n?(t.installState=a.n.FW_PENDING,this.addMessageToLog(n,a.w.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(t.installState=a.n.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:l,error:e.error}),a.w.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.opTimeout)})}else t.installState=a.n.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:l}),a.w.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()}))}doTimeoutOp(){this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),a.w.MSG_WARNING))}doPauseProcess(e){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.opTimeout),e&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),a.w.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processOVPNOperation()}onItemSelect(e,l){return Object(n.a)(this,void 0,void 0,(function*(){if(!e)return;this.loadingData=!0,this.showDialog();let t=e._fwcObjId,i=e.obj_type;if(e.obj_type==a.C.OBJ_VPN_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let e=yield this.loadIPObjects(),l=yield this.loadDNSObjects();if(!e||!l)return;this.remoteOptions=[],this.remoteOptions.push(e),this.remoteOptions.push(l)}else this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(void 0===t&&void 0!==i){let l=Object.assign({},e);if(l.obj_type==a.C.OBJ_VPN_CONFIG_CLI){l.options=a.P.concat(a.O);let t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},n=yield this.getFirstFreeIP(t),i="",s="";n&&(i=n.ip,s=n.netmask);let o=this.getOption(l.options,a.S.O_CLIENT);l._ipobj_address=i,l._ipobj_netmask=s,o.arg=i+" "+s,l.openvpn=e.openvpn}else l.options=a.R;this.createForm(l,!0),this.loadingData=!1}else{let i,s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t};i=e.obj_type==a.C.OBJ_VPN_CONFIG_CLI?a.S.O_CLIENT:a.S.O_SERVER,this.fwcVpnService.getConfig(s).subscribe(o=>Object(n.a)(this,void 0,void 0,(function*(){if(o.data){let r=Object.assign({},o.data);r.fwcloud=s.fwcloud,r.obj_type=e.obj_type,r.parent_type=e.parent_type,r.parent_name=e.parent_name,r._fwcParentConfigName=e._fwcParentConfigName,l?(r.crt=e.crt,r._fwcCrtName=e._fwcCrtName,r._fwcObjId=void 0,r.node_id=e.node_id):(r._fwcCrtName=e._fwcObjName,r._fwcObjId=t);let u=this.getOption(r.options,i);u?this.fwcVpnService.getConfigIPObjects(s).subscribe(t=>Object(n.a)(this,void 0,void 0,(function*(){let n=t.data,i=n.filter(e=>e.id==u.ipobj);if(i.length){if(e.obj_type==a.C.OBJ_VPN_CONFIG_CLI&&l){let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},t=yield this.getFirstFreeIP(l),n="",i="";t&&(n=t.ip,i=t.netmask);let s=this.getOption(r.options,a.S.O_CLIENT);r._ipobj_address=n,r._ipobj_netmask=i,s.arg=n+" "+i}else{let e=i[0];r._ipobj_name=e.name,r._ipobj_address=e.address,r._ipobj_netmask=e.netmask,r._ipobj_id=e.id}let t=this.convertToStandardNetmask(r._ipobj_netmask);u.arg=r._ipobj_address+" "+t,u.readonly=!0}if(e.obj_type==a.C.OBJ_VPN_CONFIG_CLI){let e=r.options.filter(e=>"remote"==e.name);e.length&&(e.forEach(e=>{for(let l=0;l<n.length;l++){let t=n[l];if(e.ipobj==t.id){let l;t.type==a.C.OBJ_ADDRESS?l=t.address:t.type==a.C.OBJ_DNS&&(l=t.name),l&&(e.arg=l+" "+e.arg);break}}}),this.disabledTreeRemoteOptions=e)}this.createForm(r,l),this.loadingData=!1,this.recenterDialog(),this.showDialog()})),e=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.loadingData=!1}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else o.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(o.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(o.error)})),this.loadingData=!1})),e=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.loadingData=!1})}}))}convertToStandardNetmask(e){let l=e,t=a.e.netmaskCIDRRegexp.exec(l);if(t){let e=parseInt(t[1]);try{l=m.IPv4.subnetMaskFromPrefixLength(e).toString()}catch(n){l=""}}return l}loadIPObjects(){let e;return e=new Promise((e,l)=>{let t;t={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},e(t)}),e}loadDNSObjects(){let e;return e=new Promise((e,l)=>{let t;t={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},e(t)}),e}createForm(e,l){if(!e)return;e.options.forEach(e=>{-1!=O.findIndex(l=>e.name==l)&&(e.required=!0,e.readonly=!0)}),this.formModel=new i.FormGroup({fwcloud:new i.FormControl(e.fwcloud),openvpn:new i.FormControl(e.openvpn),firewall:new i.FormControl(e.firewall,i.Validators.required),crt:new i.FormControl(e.crt,i.Validators.required),node_id:new i.FormControl(e.node_id),comment:new i.FormControl(e.comment),options:new i.FormArray(this.createOVPNOptions(e.options))});let t=`VPN-${e.parent_name}-${e._fwcCrtName}`;if(e.obj_type==a.C.OBJ_VPN_CONFIG_SER){let l;t="LAN-VPN-"+e._fwcCrtName,e.install_name?l=e.install_name:(l=e._fwcCrtName,l=l.substr(0,59)+".conf"),this.formModel.addControl("install_dir",new i.FormControl(e.install_dir||"/etc/openvpn",[i.Validators.required,i.Validators.pattern(a.e.posixPathRegexp)])),this.formModel.addControl("install_name",new i.FormControl(l,[i.Validators.required,i.Validators.pattern(a.e.posixFilenameRegexp)]))}else e.obj_type==a.C.OBJ_VPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(e.openvpn),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(e.options,"remote"))));let n=e._ipobj_name||t;n=n.substr(0,64),this.formModel.addControl("_ipobj_id",new i.FormControl(e._ipobj_id)),this.formModel.addControl("_ipobj_name",new i.FormControl(n,[i.Validators.required,i.Validators.pattern(a.e.nameRegExp)])),this.formModel.addControl("_ipobj_address",new i.FormControl(e._ipobj_address,[i.Validators.required,this.ipNetmaskValidator.bind(this)]));let s=this.convertToStandardNetmask(e._ipobj_netmask);this.formModel.addControl("_ipobj_netmask",new i.FormControl({value:s,disabled:e.obj_type==a.C.OBJ_VPN_CONFIG_CLI},[i.Validators.required,this.ipNetmaskValidator.bind(this)])),l&&this.formModel.markAsDirty(),this.formModelRemote=new i.FormGroup({id_obj:new i.FormControl(void 0,[i.Validators.required]),obj_type:new i.FormControl(void 0,[i.Validators.required]),remote_port:new i.FormControl(1194,[i.Validators.required,i.Validators.min(0),i.Validators.max(65535)])}),this.object=e}createOVPNOptions(e,l){let t=[];for(let n=0;n<e.length;n++)if(!l||e[n].name==l){let a=new i.FormGroup({name:new i.FormControl(e[n].name,i.Validators.required),arg:new i.FormControl(e[n].arg),ipobj:new i.FormControl(e[n].ipobj),scope:new i.FormControl(e[n].scope),comment:new i.FormControl(e[n].comment)});l&&-1!=O.findIndex(l=>l==e[n].name)&&a.controls.arg.setValidators(i.Validators.required),t.push(a)}return t}revalidateForm(e){for(let l in this.formModel.controls)e&&e!=l||(this.formModel.controls[l].updateValueAndValidity(),this.formModel.controls[l].markAsTouched())}onCancel(e){!e&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(e=>{e.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.K.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(e){e&&e.target&&"textarea"!=e.target.type&&this.formModel.valid&&(e.target.blur(),this.onSave())}onSave(e=0){return Object(n.a)(this,void 0,void 0,(function*(){if(!this.object)return;let l=[];this.optionsGrids.forEach(e=>{let t=e.getOptions();l=l.concat(t)});for(let e=0;e<l.length;e++)l[e].name&&!l[e].name.length&&delete l[e];l=Object(g.cloneDeep)(l),l.forEach(e=>{if("remote"==e.name){let l,t=/\s*(\d+)$/.exec(e.arg);t&&(l=t[1],e.arg=l)}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(l)));let t={},n={};for(let e in this.formModel.controls)t[e]=null!=this.formModel.controls[e].value?this.formModel.controls[e].value:void 0;let s,o,r,u,c,d=this.convertToStandardNetmask(t._ipobj_netmask);if(n={id:t._ipobj_id,type:void 0,fwcloud:t.fwcloud,name:t._ipobj_name,address:t._ipobj_address,netmask:d,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:e},this.object.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(n.type=a.C.OBJ_ADDRESS,n.node_type=a.z.OBJ_ADDRESS,s=a.z.FOLDER_ADDRESSES,o=a.D.ccd,r=a.S.O_CLIENT):this.object.obj_type==a.C.OBJ_VPN_CONFIG_SER&&(n.type=a.C.OBJ_NETWORK,n.node_type=a.z.OBJ_NETWORK,s=a.z.FOLDER_NETWORKS,o=a.D.ovp,r=a.S.O_SERVER),delete t._ipobj_id,delete t._ipobj_address,delete t._ipobj_name,delete t._ipobj_netmask,delete t._remote_options,void 0===this.object._fwcObjId){u=this.fwcVpnService.newConfig.bind(this.fwcVpnService);let e=yield this.getParentId(s);if(-1==e)return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),void(this.loadingData=!1);this.object.obj_type==a.C.OBJ_VPN_CONFIG_SER?(c=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),n.node_parent=e):c=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK")}else t.openvpn=this.object._fwcObjId,delete n.node_order,delete n.node_type,delete t.firewall,delete t.crt,u=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),c=this.translate.instant(this.object.obj_type==a.C.OBJ_VPN_CONFIG_SER?"VPN.CONFIG.UPDATE_SERVER_CFG_OK":"VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(n).then(e=>{let l;e.data&&(l=e.data.insertId),this.modifyOption(t.options,r,void 0,l),this.clearOptionsArgs(t.options),this.utilService.fwcAPICall(u,t).then(e=>{let l={container:a.L.C_FIREWALLS_CONDENSED,_fwcObjId:e.data&&e.data.insertId?e.data.insertId:t.openvpn,_fwcObjType:this.object.obj_type,_fwcTreeAction:a.K.NEW_ITEM};this.itemSelectedService.setModifiedItem(l),l.container=a.L.C_FIREWALLS,this.itemSelectedService.setModifiedItem(l),e.data&&e.data.fw_status&&this.store.dispatch(v.c.updateFwStatus({item:e.data.fw_status})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:c}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.savingData=!1})},e=>{e.error&&1003!=e.error.fwcErr&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.savingData=!1})}))}getParentId(e){let l;return l=new Promise((l,t)=>{this.fwcObjectTreeService.getNodes(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let t=-1;e.data&&e.data.length&&(t=e.data[0].id),l(t)},e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),l(-1)})}),l}getClusterMasterFirewall(e){let l;return l=new Promise((l,t)=>{this.fwcFirewallService.getClusterMasterNode(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(e=>{let t;t=e.data,l(t)},e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),l(void 0)})}),l}getFirstFreeIP(e){let l;return l=new Promise((l,t)=>{this.fwcVpnService.getVPNLanNextFreeIP(e).subscribe(e=>{let t;t=e.data,l(t)},e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),l(void 0)})}),l}modifyOption(e,l,t,n){let i=e.find(e=>e.name==l);i&&(t&&(i.arg=t),null!=n&&(i.ipobj=n))}getOption(e,l){return e.find(e=>e.name==l)}clearOptionsArgs(e){e.forEach(e=>{null!=e.ipobj&&"remote"!=e.name&&(e.arg="")})}manageNetworkIPObject(e){let l;return l=new Promise((l,t)=>{let n;if(void 0===e.id)n=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine)return void l({data:void 0});n=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}this.utilService.fwcAPICall(n,e).then(e=>{l(e)}).catch(e=>{1003==e.error.fwcErr&&this.confirmDuplicateOVPNOperation(e),t(e)})}),l}updateIPOnGrid(e){let l,t,n,i=this.formModel.controls._ipobj_address.value,s="";this.object.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(i.match(a.e.ipV4Regexp)&&(n=i),l=a.D.ccd,t=a.S.O_CLIENT):this.object.obj_type==a.C.OBJ_VPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(s=this.formModel.controls._ipobj_netmask.value),i.match(a.e.ipV4Regexp)&&s.match(a.e.netmaskRegexp)&&(n=i.trim()+" "+s.trim()),l=a.D.ovp,t=a.S.O_SERVER),n&&this.optionsGrids.forEach(e=>{e.getScope()===l&&e.modifyIPOption(t,l,n)})}confirmDuplicateOVPNOperation(e){let l="",t=[];if(e.data&&e.data.length){t=e.data,l="<ul>";for(let e=0;e<t.length;e++)l+="<li><strong>"+t[e].name+"</strong> ("+t[e].id+") </li>";l+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:l}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let e="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==a.C.OBJ_VPN_CONFIG_SER)e=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"OpenVPN_Server",e+=".conf";else if(this.objectToRetrieve._fwcObjType==a.C.OBJ_VPN_CONFIG_CLI){let l=[];l.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),l.push(this.objectToRetrieve._fwcFwName||"FW"),l.push(this.objectToRetrieve._fwcObjName||"OpenVPN_Client"),l=l.map(e=>e.replace(/[^a-z0-9\-]/gi,"_")),e=l.join("-"),e+=".ovpn"}let l=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});Object(h.saveAs)(l,e)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){this.configOrPrefixToDelete&&(this.configOrPrefixToDelete.obj_type!=a.C.OBJ_VPN_CONFIG_SER&&this.configOrPrefixToDelete.obj_type!=a.C.OBJ_VPN_CONFIG_CLI||!this.alsoUninstallConfig?this.onDeleteConfigurationOrPrefix():(this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0,this.onItemManage(this.configOrPrefixToDelete,!0)))}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let e,l,t,n=this.configOrPrefixToDelete;n.obj_type==a.C.OBJ_VPN_CONFIG_SER||n.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(e=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},t="VPN.CONFIG"):n.obj_type==a.C.OBJ_OPENVPN_PREFIX&&(e=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:n.id_obj},t="VPN.OPENVPN_PREFIX"),e&&(this.addMessageToLog("",a.w.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(t+".DELETING"),a.w.MSG_INFO),this.utilService.fwcAPICall(e,l).then(e=>{let l=Object.assign({},this.configOrPrefixToDelete);l._fwcTreeAction=a.K.DELETE_ITEM,e.data&&e.data.length&&(l.fw_status=e.data),this.itemSelectedService.setModifiedItem(l),this.log||(this.hideDialog(),this.resetProperties()),n.obj_type==a.C.OBJ_VPN_CONFIG_SER||n.obj_type==a.C.OBJ_VPN_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.DELETE_SUCCESS")}),this.addMessageToLog(this.translate.instant("VPN.CONFIG.DELETE_SUCCESS"),a.w.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.OPENVPN_PREFIX.DELETE.OK")})}).catch(e=>{let l;l=this.translate.instant(t+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)}),this.errorMsg={type:"error",title:this.translate.instant(t+".ERRORS.DELETE_ERROR.SUMMARY"),text:l},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.log&&this.addMessageToLog(l,a.w.MSG_ERROR)}))}showRestrictions(e,l){}hideRestrictions(e){}managePrefix(e){let l,t,n,i,s,o,r,u;if(e)if(e.deletePrefixFolderAction){let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj};if(e.obj_type!=a.C.OBJ_PREFIX_FOLDER)return;o=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),r=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),s="VPN.PREFIX_FOLDER",o(l).subscribe(t=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant(s+".DELETE.ASK",{name:e._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(r,l).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(s+".DELETE.OK")}),e._fwcTreeAction=a.K.DELETE_ITEM,this.itemSelectedService.setModifiedItem(e),e.container!=a.L.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.K.RELOAD_TREE,containerToReload:a.L.C_FIREWALLS_CONDENSED})}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})}})},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(s+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(s+".DELETE.RESTR_TEXT",{name:e._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})})}else{let o,r,c={[a.C.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[a.C.OBJ_OPENVPN_PREFIX]:[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)]};if(e.obj_type==a.C.OBJ_PREFIX_FOLDER)o=e.id_obj,s="VPN.PREFIX_FOLDER";else{if(e.obj_type!=a.C.OBJ_OPENVPN_PREFIX)return;r=e.id_obj,s="VPN.OPENVPN_PREFIX"}if(e.editPrefixAction)l=e._fwcObjName,t=e.id_obj,n=this.translate.instant(s+".EDIT.HEADER"),i=this.translate.instant(s+".EDIT.TEXT"),c[e.obj_type]&&c[e.obj_type][0]&&(u=c[e.obj_type][0]);else{if(!e.newPrefixAction)return;n=this.translate.instant(s+".NEW.HEADER"),i=this.translate.instant(s+".NEW.TEXT"),c[e.obj_type]&&c[e.obj_type][1]&&(u=c[e.obj_type][1])}let d={header:n,helpText:i,formControls:[{name:"container",type:"hidden",value:e.container},{name:"id",type:"hidden",value:t},{name:"obj_type",type:"hidden",value:e.obj_type},{name:"ca",type:"hidden",value:o},{name:"orig_name",type:"hidden",value:l},{name:"name",label:this.translate.instant(s+".NAME"),type:"text",required:!0,value:l},{name:"openvpn",type:"hidden",value:r},{name:"translateKey",type:"hidden",value:s},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(d)}}onManagePrefix(e){if(e){if(e.name==e.orig_name)return;let l,t,n,i={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:e.name};l=e.translateKey,t=e.apiCall,e.id?(i.prefix=e.id,n=this.translate.instant(l+".EDIT.OK")):(i.ca=e.ca,i.openvpn=e.openvpn,n=this.translate.instant(l+".NEW.OK")),this.utilService.fwcAPICall(t,i).then(l=>{let t=l.data&&l.data.insertId?l.data.insertId:e.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n}),this.itemSelectedService.setModifiedItem({container:e.container,_fwcObjName:e.name,_fwcObjId:t,_fwcObjType:e.obj_type,_fwcTreeAction:a.K.NEW_ITEM}),e.container!=a.L.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.K.RELOAD_TREE,containerToReload:a.L.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:a.K.RELOAD_TREE,containerToReload:a.L.C_OBJECTS}),this.store.dispatch(v.a.reloadDialog({dialogUuids:[f.e.ITEM_PANEL]}))}).catch(e=>{let t,n;e.error&&(1003==e.error.fwcErr?(t=this.translate.instant(l+".ERRORS.ERROR_DUP.SUMMARY"),n=this.translate.instant(l+".ERRORS.ERROR_DUP.TEXT")):5001==e.error.fwcErr?(t=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),n=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})),n&&this.confirmationService.confirm({header:t,icon:"fa fa-exclamation-circle fwcRed iconBig",message:n,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(e){if(!e)return;let l,t;this.objectToSearchWU=e,t={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},e.obj_type==a.C.OBJ_OPENVPN_PREFIX?(l=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),t.prefix=e._fwcObjId):e.obj_type==a.C.OBJ_VPN_CONFIG_CLI&&(l=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),t.openvpn=e._fwcObjId),this.showDialog(),l&&l(t).subscribe(l=>{let t=Object.assign({},l.data);t._fwcObjType=e.obj_type,this.objectToSearchWU._fwcObjectInfo=t,this.recenterDialog()},e=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)})}})}blockUnblockVPNConnection(e){let l,t=e._fwcObjId,n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t};this.fwcVpnService.getConfig(n).pipe(Object(u.a)(t=>{const n=t.data;let i;Array.isArray(n.options)||(n.options=[]);let r=[];if(n.options.forEach(e=>{r.push({arg:e.arg,comment:e.comment,ipobj:e.ipobj,name:e.name,scope:e.scope})}),e.blockVPNAction){if(l="VPN.CONFIG.INFO.BLOCK_VPN",r.find(e=>"disable"===e.name))return Object(s.a)(null);r.push({arg:"",comment:"",ipobj:null,name:"disable",scope:a.D.ccd})}else{if(l="VPN.CONFIG.INFO.UNBLOCK_VPN",!r.find(e=>"disable"===e.name))return Object(s.a)(null);r=r.filter(e=>"disable"!==e.name)}return r=r.sort((e,l)=>e.scope-l.scope),i={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:n.id,options:r},Object(o.a)(this.utilService.fwcAPICall(this.fwcVpnService.updateConfig.bind(this.fwcVpnService),i))})).subscribe(t=>{null===t||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(l+".SUMMARY"),detail:this.translate.instant(l+".TEXT")}),e.installAction=!0,this.onItemManage(e)},e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let e=this.formModelRemote.value,l=this.optionsGrids.find(e=>e.getScope()===a.D.ovp);if(!l)return;let t=l.getOptions();for(let n=0;n<t.length;n++){let l=t[n];if("remote"===l.name&&l.ipobj===e.id_obj){let t,n=/\s*(\d+)$/.exec(l.arg);if(n&&(t=n[1],e.remote_port===+t))return void this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.TEXT"),acceptLabel:"Ok",rejectVisible:!1})}}this.fwcObjectService.getObject(e.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(t=>{if(!t.data)return;let n=t.data,s="",o="";e.obj_type==a.C.OBJ_ADDRESS&&(s=n.address),e.obj_type==a.C.OBJ_DNS&&(s=n.name),s+=" "+e.remote_port,n.if_name?(n.cluster_name?o+=`Cluster '${n.cluster_name}'`:n.firewall_name?o+=`Firewall '${n.firewall_name}'`:n.host_name&&(o+=`Host '${n.host_name}'`),o+=` - IF '${n.if_name}'`):o+=n.name;let r=[];l.updateOrCreateIPOption({name:"remote",scope:a.D.ovp,arg:s,ipobj:e.id_obj,required:!0,readonly:!0}),r=r.concat(l.getOptions()),this.formModel.controls._remote_options=new i.FormArray(this.createOVPNOptions(r,"remote")),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},e=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(e)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})}onRemoteIPObjectChange(e){!e||e.obj_type!=a.C.OBJ_ADDRESS&&e.obj_type!=a.C.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(e.id_obj),this.formModelRemote.get("obj_type").setValue(e.obj_type))}updateOptions(e){let l=[];this.optionsGrids.forEach(t=>{e&&t.getScope()!=e||(l=l.concat(t.getOptions()))}),l.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(l))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(l,"remote")))),this.formModel.updateValueAndValidity())}onOptionsChange(e){this.updateOptions(),e&&this.formModel.markAsDirty(),this.recenterDialog()}onOptionsDelete(e){e&&"remote"==e.name&&e.ipobj&&this.updateOptions(),this.formModel.markAsDirty()}onShowDialog(e){this.recenterDialog()}onHideDialog(e){}}},tptX:function(e,l,t){"use strict";t.d(l,"a",(function(){return o}));var n=t("o0su"),i=(t("24Yq"),t("v8Ou")),a=t("LvDl"),s=t("akDY");t("XY+R");class o{constructor(e,l,t,n,i,a,s,o,r,u){this.translate=e,this.fwcErrorPipe=l,this.utilService=t,this.fwcUserService=n,this.fwcRoutingPolicyService=i,this.fwcRoutingTableService=a,this.ruleSelectedService=s,this.messageService=o,this.cd=r,this.store=u}setGroupValues(e){if(e){const l=e.groupData;this.updateGroup(e.policyType,l.firewall,l.fwcloud,e.group,{style:e.groupColor,name:e.groupName})}}updateGroup(e,l,t,i,s){let o;e===n.u.POLICY_ROUTING?o=this.fwcRoutingPolicyService.updateRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService):e===n.u.ROUTING_TABLE&&(o=this.fwcRoutingTableService.updateRoutingTableRouteGroup.bind(this.fwcRoutingTableService)),o&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(o,l,t,i.idgroup,s).then(()=>{if(s.name){i.group_name=s.name;let e=i.rules;for(let l=0;l<e.length;l++)e[l].group_name=i.group_name}if(s.style){i.group_style=s.style;let e=i.rules;for(let l=0;l<e.length;l++)e[l].group_style=i.group_style}i=Object(a.cloneDeep)(i)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRulesOrRoutes(e){let l,t,n,i,a=this.ruleSelectedService.getActualSelectedRules(),o=this.ruleSelectedService.getRulesOrderedIds(a);if(Array.isArray(o.orderedRules)&&o.orderedRules[0]){i=o.orderedRules[0],l=this.fwcUserService.getActualFwcUser().selectedFwCloud,t=i.firewall,n=o.rulesIds;let r=this.fwcRoutingPolicyService.compileRoutingPolicyRules.bind(this.fwcRoutingPolicyService),u=[t,l,n],c=this.translate.instant("ROUTING.POLICY.RULE"),d=this.translate.instant("ROUTING.POLICY.COMPILE_DIALOG_TITLE");e&&(r=this.fwcRoutingTableService.compileRoutingTableRoutes.bind(this.fwcRoutingTableService),u=[t,l,e,n],c=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ROUTE"),d=this.translate.instant("ROUTING.ROUTE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(r,...u).then(e=>{if(Array.isArray(e.data)){const l=this.utilService.createDynamicComponentRef(s.a),t=l.instance;t.setDynamicComponentRef(l),t.showCompilationData(e.data,a,c,d)}}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(e,l){let t=[];return Array.isArray(e)&&(t=e.filter(l).map(e=>({id:e.id,order:e.position_order}))),t}buildCopyApiData(e,l){let t,i,a={};const s=e._fwcObjId,o=l.ipobjs;switch(e._fwcObjType){case n.p.OBJ_GROUP:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_GROUP),i="ipObjGroupIds";break;case n.p.OBJ_OPENVPN_PREFIX:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_OPENVPN_PREFIX),i="openVPNPrefixIds";break;case n.p.OBJ_VPN_CONFIG_CLI:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_VPN_CONFIG_CLI),i="openVPNIds";break;case n.p.OBJ_MARK:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_MARK),i="markIds";break;default:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_ADDRESS||e.type===n.p.OBJ_ADDRESS_RANGE||e.type===n.p.OBJ_NETWORK||e.type===n.p.OBJ_HOST||e.type===n.p.OBJ_DNS),i="ipObjIds"}return a[i]=[...t,{id:s,order:o?o.length:1}],a}buildRemoveApiData(e,l){let t,i,a={};const s=e._fwcObjId,o=l.ipobjs;switch(e._fwcObjType){case n.p.OBJ_GROUP:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_GROUP&&e.id!==s),i="ipObjGroupIds";break;case n.p.OBJ_OPENVPN_PREFIX:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_OPENVPN_PREFIX&&e.id!==s),i="openVPNPrefixIds";break;case n.p.OBJ_VPN_CONFIG_CLI:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_VPN_CONFIG_CLI&&e.id!==s),i="openVPNIds";break;case n.p.OBJ_MARK:t=this.filterIpObjects(o,e=>e.type===n.p.OBJ_MARK&&e.id!==s),i="markIds";break;default:t=this.filterIpObjects(o,e=>(e.type===n.p.OBJ_ADDRESS||e.type===n.p.OBJ_ADDRESS_RANGE||e.type===n.p.OBJ_NETWORK||e.type===n.p.OBJ_HOST||e.type===n.p.OBJ_DNS)&&e.id!==s),i="ipObjIds"}return a[i]=[...t],a}removeObjectFromPosition(e,l){if(Array.isArray(e.ipobjs)){e.ipobjs=e.ipobjs.filter(e=>e._fwcObjId!==l._fwcObjId||e._fwcObjType!==l._fwcObjType);for(const t of e.ipobjs)null!=t.position_order&&t.position_order>l.position_order&&t.position_order--}}dispatchFwStatusUpdateAction(e,l){this.store.dispatch(i.c.updateFwStatus({item:{cluster:e,id:l,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(i.a.reloadDialog({dialogUuids:[n.e.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(i.a.reloadDialog({dialogUuids:[n.e.ITEM_PANEL,n.e.CLUSTER_PANEL,n.e.FIREWALL_PANEL,n.e.OVCONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}}},wf45:function(e,l,t){"use strict";var n=t("8Y7J"),i=t("Meih"),a=t("SlyN"),s=t("B58V"),o=t("7LN8"),r=t("VSng"),u=t("TSSN"),c=t("SVse");t("Zf0f"),t("Mebi"),t("77Y5"),t("DQLy"),t("m6j1"),t("kp3z"),t.d(l,"a",(function(){return d})),t.d(l,"b",(function(){return m}));var d=n["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function f(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],(function(e,l,t){var n=!0;return"dblclick"===l&&(n=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&n),n}),null,null)),(e()(),n["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,l){e(l,1,0,n["\u0275inlineInterpolate"](1,"",l.context.$implicit.label,""))}))}function p(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],(function(e,l,t){var n=!0;return"selectionChange"===l&&(n=!1!==(e.component.selectedObject=t)&&n),n}),i.b,i.a)),n["\u0275did"](1,1294336,null,1,a.Tree,[n.ElementRef,[2,s.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),n["\u0275qud"](603979776,1,{templates:1}),n["\u0275pod"](3,{"max-height":0,overflow:1,width:2}),(e()(),n["\u0275and"](0,null,null,1,null,f)),n["\u0275did"](5,16384,[[1,4]],0,o.PrimeTemplate,[n.TemplateRef],{name:[0,"name"]},null)],(function(e,l){var t=l.component,n=t.dependenciesTree,i=t.selectedObject,a=e(l,3,0,"20em","auto","100%");e(l,1,0,n,"single",i,a,"treeSelector treeWU"),e(l,5,0,"default")}),null)}function h(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,3,"div",[["class","vertTopPad"]],null,null,null,null,null)),(e()(),n["\u0275eld"](1,0,null,null,2,"button",[["class","ui-button-primary"],["icon","fa fa-refresh"],["pButton",""],["type","button"]],null,[[null,"click"]],(function(e,l,t){var n=!0;return"click"===l&&(n=!1!==e.component.handleRefreshClick()&&n),n}),null,null)),n["\u0275did"](2,4341760,null,0,r.ButtonDirective,[n.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),n["\u0275pid"](131072,u.k,[u.l,n.ChangeDetectorRef])],(function(e,l){e(l,2,0,n["\u0275inlineInterpolate"](1,"",n["\u0275unv"](l,2,0,n["\u0275nov"](l,3).transform("POLICY_GRID.RELOAD")),""),"fa fa-refresh")}),null)}function m(e){return n["\u0275vid"](0,[(e()(),n["\u0275eld"](0,0,null,null,2,"h5",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),n["\u0275ted"](1,null,["",""])),n["\u0275pid"](131072,u.k,[u.l,n.ChangeDetectorRef]),(e()(),n["\u0275and"](16777216,null,null,1,null,p)),n["\u0275did"](4,16384,null,0,c.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),n["\u0275and"](16777216,null,null,1,null,h)),n["\u0275did"](6,16384,null,0,c.NgIf,[n.ViewContainerRef,n.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(e,l){var t=l.component;e(l,4,0,t.dependenciesTree),e(l,6,0,t.showRefreshButton)}),(function(e,l){e(l,1,0,n["\u0275unv"](l,1,0,n["\u0275nov"](l,2).transform("ITEM_PANEL.RESTR.RESTRICTIONS")))}))}},zLlU:function(e,l,t){"use strict";t.d(l,"a",(function(){return v}));var n=t("mrSG"),i=t("GJmQ"),a=t("pLZG"),s=(t("IOOi"),t("o0su")),o=t("jyb1"),r=t("t6E0"),u=t("WvmN"),c=t("ykhb"),d=t("P/9O"),f=t("EMdb"),p=(t("XY+R"),t("24Yq"),t("qp7v")),h=t("EcEN"),m=t("DQLy"),g=t("v8Ou"),_=t("FdYD");t("BCAg"),t("UJFw");const S=f.E.concat([f.z.FOLDER_POLICY,f.z.FOLDER_INTERFACES,f.z.POLICY_ROUTING,f.z.OPENVPN_ROOT,f.z.OPENVPN_PREFIX_FOLDER]).filter(e=>e!==f.z.ROUTING_TABLE);class v{constructor(e,l,t,n,i,a,s,o,r,u,c,d,p,h,m,g,_,S,v,O,w,I,C,E){this.refService=e,this.fwcObjectTreeService=l,this.itemSelectedService=t,this.fwcPolicyService=n,this.fwcRoutingTableService=i,this.fwcUserService=a,this.fwcFirewallService=s,this.fwcObjectService=o,this.fwcInterfaceService=r,this.fwcContextMenuService=u,this.fwcErrorPipe=c,this.fwcPolicyGridRoutingTableFunctionalityService=d,this.confirmationService=p,this.messageService=h,this.inputDataService=m,this.utilService=g,this.fwcVpnService=_,this.appHintService=S,this.appDialogPanelsService=v,this.dialogService=O,this.cd=w,this.translate=I,this.store=C,this.parentFwcTreePanelComponent=E,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=new Set,this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this.customSearchOptions={callback:(e,l)=>{}},this._searchString="",this.alive=!0,this.ObjectTypes=f.C,this.NodeTypes=f.z,this.infoTooltipShown=!1,this.CACertTypes=f.b,this.HintsIds=f.p,this.items=[]}set treeOptions(e){this.options=Object.assign({},e),this.treeExpandedNodes=new Set,this.selectedPolicyNode=void 0,this.treeLoad()}set searchString(e){this._searchString=e,this.treeFilter()}get searchString(){return this._searchString}set treeSearchOptions(e){this._treeSearchOptions=e,this.treeFilterByOptions()}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.nodeTranslations=this.translate.instant("NODE_TYPES"),this.store.pipe(Object(i.a)(()=>this.alive),Object(m.B)(_.c.selectItemToSelect),Object(a.a)(e=>!!e)).subscribe(e=>{this.treeFindItem(e._fwcObjId,e._fwcObjType,!0,e._fwcSubObjId,e._fwcSubObjType)}),!this.options||this.options.container!==f.L.C_FIREWALLS&&this.options.container!==f.L.C_FIREWALLS_CONDENSED||this.store.pipe(Object(i.a)(()=>this.alive),Object(m.B)(_.c.selectItemUpdateFwStatus),Object(a.a)(e=>!!e)).subscribe(e=>{this.treeUpdateFwStatus(this.items,e)}),this.itemSelectedService.getItem().pipe(Object(i.a)(()=>this.alive)).subscribe(e=>{e.container||this.treeFindItem(e._fwcObjId,e._fwcObjType,!1,e._fwcSubObjId,e._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(Object(i.a)(()=>this.alive)).subscribe(e=>{if(this.options.container==f.L.C_FIREWALLS&&null!=e._fwcFwId&&!e._dontLocateInTree){let l=this.treeFindPolicyItem(this.items,e._fwcFwId,e._fwcPolicyType,e._fwcObjId);l&&(this.selectedPolicyNode=l,l!=this.treeview.selectedItem&&(this.treeview.clearSelection(),this.treeview.scrollTo(l),this.treeview.selectItems([l])))}}),this.itemSelectedService.getModifiedItem().pipe(Object(i.a)(()=>this.alive)).subscribe(e=>{if(!(e.deleteFromList||e.addToList||e.selectItemInPosition))switch(e._fwcTreeAction){case f.K.NEW_ITEM:this.treeNewItem(e);break;case f.K.DELETE_ITEM:this.treeDeleteItem(e);break;case f.K.NEW_GROUP_ITEM:this.treeNewItem(e,!0);break;case f.K.DELETE_GROUP_ITEM:this.treeDeleteItem(e,!0);break;case f.K.RELOAD_TREE:(e.containerToReload===this.options.container||Array.isArray(this.items)&&this.items.length&&this.items[0].node_type===e.treeNodeToReload)&&this.treeLoad(e.treeNodeToSelect);break;case f.K.MODIFY_ITEM:default:this.treeModifyItem(e)}}),this.fwcUserService.getFwcUser().pipe(Object(i.a)(()=>this.alive)).subscribe(e=>{this.fwcUser&&this.fwcUser.selectedLanguage!=e.selectedLanguage&&this.translate.use(e.selectedLanguage),this.fwcUser=e}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(e=>{this.fwcChildTypes=e}),this.appHintService.registerHint({id:f.p.HINT_NO_FW,caption:"HINTS.HINT_NO_FW.CAPTION",description:"HINTS.HINT_NO_FW.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:f.p.HINT_CA_CREATING,caption:"HINTS.HINT_CA_CREATING.CAPTION",description:"HINTS.HINT_CA_CREATING.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})}ngAfterViewInit(){let e=this;setTimeout((function(){let l=e.refService.getAppRef();e.contextMenuReference=l,e.applicationRef=l}).bind(this),1)}ngOnDestroy(){this.alive=!1}setExpandedNodes(e,l){let t;e&&(t=e.item,l?this.treeExpandedNodes.add(t.id):this.treeExpandedNodes.delete(t.id))}treeLoad(e,l){let t=this.fwcUserService.getActualFwSelectedCloud();this.treeview.clearItems(),this.items=[],this.options.container==f.L.C_FIREWALLS||this.options.container==f.L.C_FIREWALLS_CONDENSED?(this.store.dispatch(g.d.requestBlockUI()),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(([t,n])=>{let i,a,s=t.data;s.text=" ",s.expanded=!0,this.items.push(s),this.treeClusters=[],i=Array.isArray(n.data)?n.data:[];for(let e=0;e<i.length;e++)if(null!=i[e].cluster){a=!1;for(let l=0;l<this.treeClusters.length;l++)i[e].cluster==this.treeClusters[l].clusterId&&(this.treeClusters[l].fwnodes.push(i[e]),i[e].fwmaster&&(this.treeClusters[l].fwMasterId=i[e].id),a=!0);if(!a){let l=this.treeClusters.push({clusterId:i[e].cluster,fwnodes:[]});i[e].fwmaster&&(this.treeClusters[l-1].fwMasterId=i[e].id),this.treeClusters[l-1].fwnodes.push(i[e])}}this.buildTree(e,l),this.store.dispatch(g.d.requestUnblockUI()),setTimeout(()=>{this.options.container==f.L.C_FIREWALLS&&Array.isArray(this.items)&&this.items.length&&Array.isArray(this.items[0].items)&&!this.items[0].items.length&&this.appHintService.showRegisteredHint(f.p.HINT_NO_FW,this.hintFirstTreeElement)},500)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}),this.store.dispatch(g.d.requestUnblockUI())})):this.options.container==f.L.C_CA?(this.store.dispatch(g.d.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,t).subscribe(t=>{let n=t.data;n.text=" ",n.expanded=!0,this.items.push(n),this.buildTree(e,l),this.store.dispatch(g.d.requestUnblockUI())},e=>{this.errorMessage=e,this.store.dispatch(g.d.requestUnblockUI())})):(this.store.dispatch(g.d.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,t).subscribe(t=>{let n=t.data;n.text=" ",n.expanded=!0,this.reorderTreeStdNodes(n),this.items.push(n),this.buildTree(e,l),this.store.dispatch(g.d.requestUnblockUI())},e=>{this.errorMessage=e,this.store.dispatch(g.d.requestUnblockUI())}))}getTree(e){return new Promise((l,t)=>{let n=this.fwcUserService.getActualFwcUser(),i=-1;null!=n.selectedFwCloud&&(i=n.selectedFwCloud),this.fwcObjectTreeService.getTree(e,i).subscribe(e=>{l(e)},e=>{t(e)})})}getAllFirewalls(){return new Promise((e,l)=>{let t=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(t).subscribe(l=>{e(l)},e=>{l(e)})})}reorderTreeStdNodes(e){}buildTree(e,l){if(this.treePrepare(this.items),this.treeview.updateLayout(),this.selectedPolicyNode&&(this.selectedPolicyNode=this.findItemByIdType(this.items,this.selectedPolicyNode._fwcObjId,this.selectedPolicyNode._fwcObjType),e||(e=this.selectedPolicyNode)),e){let t=this.items[0];this.options.container==e.container&&(l?void 0!==e._fwcObjTreeParentId?t=this.treeview.findItemById(e._fwcObjTreeParentId):void 0!==e.pid&&(t=this.treeview.findItemById(e.pid)):void 0!==e._fwcObjTreeId?t=this.treeview.findItemById(e._fwcObjTreeId):void 0!==e._fwcObjId&&void 0!==e._fwcObjType&&(t=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),t&&(this.treeview.scrollTo(t),this.treeview.expand(t),this.treeview.selectItems([t]),-1!=f.E.findIndex(e=>t.node_type==e)&&(this.selectedPolicyNode=t),this.treeview.updateView(),this.itemSelectedService.setSelectedTreeNode(t))}}treePrepare(e,l){let t=l||{};for(let n=0;n<e.length;n++){const l=e[n];let i,a,o,r,u,c,d,p,h=[],m=[],g=[],_=[];if(this.nodeTranslations[l.node_type]&&!l.id_obj&&(l.text=this.nodeTranslations[l.node_type]),this.options.container===f.L.C_FIREWALLS_CONDENSED&&(l.node_type===f.z.OBJ_FIREWALL||l.node_type===f.z.OBJ_CLUSTER))for(let e=0;e<l.items.length;e++)l.items[e].node_type!=f.z.OPENVPN_ROOT&&(l.items.splice(e,1),e-=1);if(-1!=f.E.findIndex(e=>e==l.node_type)&&(l.obj_type=+f.F[l.node_type]),-1!=s.m.findIndex(e=>e===l.node_type)&&(l.show_action=!0),h=t.fw_status,m=t.ca_status,g=t.openvpn_status,_=t.openvpn_info,this.treeExpandedNodes.has(l.id)&&(l.expanded=!0),l.container=this.options.container,l.containerReadOnly=this.options.containerReadOnly,l.obj_type==f.C.OBJ_INTERFACE_FIREWALL||l.obj_type==f.C.OBJ_INTERFACE_HOST){let e=/(.+)\s+\[(.+)\]$/.exec(l.text);l.labelName="",e&&(l.text=e[1],l.labelName=e[2])}if(l.obj_type==f.C.OBJ_ADDRESS){let e=/^(.+)\s+\((.+)\)$/.exec(l.text);e&&l.address&&l.address===e[2]&&(l.text=e[1])}l._fwcObjName=l.text,l._fwcObjType=l.obj_type,l._fwcObjId=l.id_obj,null!=t.prefix_name&&(l._fwcObjName=t.prefix_name+l.text),l.obj_type!=f.C.OBJ_PREFIX_FOLDER&&l.obj_type!=f.C.OBJ_OPENVPN_PREFIX||(p=l.text,d=t.parent_cert_name),null!=t.parent_cert_name&&(l._fwcParentConfigName=t.parent_cert_name),l.obj_type==f.C.OBJ_VPN_CONFIG_SER&&(d=l._fwcObjName),l.container===f.L.C_FIREWALLS||l.container===f.L.C_OBJECTS||l.container===f.L.C_FIREWALLS_CONDENSED?(t.parent_id&&(i=t.parent_id,a=t.parent_name,o=t.parent_type,r=t.fw_master,t.parent_type===f.C.OBJ_FIREWALL&&(l._fwcFwId=i,l._fwcFwName=a,l.firewall_id=i,l.firewall_name=a),t.parent_type===f.C.OBJ_CLUSTER&&(l._fwcClusterId=i,l._fwcClusterName=a,l.cluster_id=i,l.cluster_name=a),t.parent_type===f.C.OBJ_HOST&&(l._fwcHostId=i,l._fwcHostName=a,l.host_id=i,l.host_name=a)),t.openvpn_status&&(l._fwcOpenVPNId=t.openvpn_id),l.fw_status&&l.fw_status.length&&(h=l.fw_status),l.openvpn_status&&l.openvpn_status.length&&(g=l.openvpn_status),l.openvpn_info&&l.openvpn_info.length&&(_=l.openvpn_info),l.node_type!==f.z.OBJ_FIREWALL&&l.node_type!==f.z.OBJ_CLUSTER&&l.node_type!==f.z.OBJ_HOST||(i=l.id_obj,a=l.text,o=l.obj_type,l.node_type==f.z.OBJ_FIREWALL&&(l._fwcFwId=i,l._fwcFwName=a,this.updateFwNodeStatus(l,h)),l.node_type==f.z.OBJ_CLUSTER&&this.updateClusterNodeStatus(l,h)),l.obj_type!==f.C.OBJ_VPN_CONFIG_CLI&&l.obj_type!==f.C.OBJ_VPN_CONFIG_SER||this.updateOPVNStatus(l,g),l.obj_type===f.C.OBJ_VPN_CONFIG_CLI&&this.updateOPVNInfo(l,_),l.node_type!==f.z.FOLDER_INTERFACES&&l.node_type!==f.z.FOLDER_CLUSTER_FW&&l.node_type!==f.z.FOLDER_ROUTING||!l._fwcClusterId||(r=l.id_obj),l.parent_id=i,l.parent_name=a,l.parent_type=o,r&&(l._fwcFwId=r),l.node_type===f.z.OPENVPN_CONFIG_SER&&(c=l.id_obj)):l.container===f.L.C_CA&&(l.ca_status&&l.ca_status.length&&(m=l.ca_status),l.obj_type==f.C.OBJ_CA&&(u=l.id_obj),l.obj_type==f.C.OBJ_PREFIX_FOLDER&&(u=t.ca_id),t.ca_id&&(l._fwcParentCA=t.ca_id),l.obj_type==f.C.OBJ_CA&&this.updateCAStatus(l,m)),l.expanded=!!l.expanded,l.allowDrag=this.checkItemDraggable(l),-1!=f.E.findIndex(e=>l.node_type==e)&&(l._fwcPolicyFwId=l.id_obj),l.items&&l.items.length&&this.treePrepare(l.items,{fw_status:h,parent_id:i,parent_name:a,parent_type:o,fw_master:r,ca_status:m,openvpn_status:g,openvpn_info:_,ca_id:u,openvpn_id:c,prefix_name:p,parent_cert_name:d})}}checkItemDraggable(e){let l;if(e)return l=null!==e._fwcObjId&&null!==e._fwcObjType&&-1==f.y.findIndex(l=>e.node_type==l)&&(e.obj_type!==f.C.OBJ_FIREWALL||null==e._fwcClusterId),l}updateFwNodeStatus(e,l){let t,n;if(Array.isArray(l))for(let i=0;i<l.length;i++){const a=l[i];a&&(a.id==e.id_obj&&(t=a),null!=e._fwcClusterId&&a.cluster==e._fwcClusterId&&(n={clusterId:a.cluster,status_compiled:0,status_installed:2&a.status?1:0}))}t&&(e.status_compiled=1&t.status?1:0,e.status_installed=2&t.status?1:0),n&&null!=e._fwcClusterId&&e._fwcClusterId==n.clusterId&&(e.status_compiled=0,e.status_installed=n.status_installed)}updateClusterNodeStatus(e,l){let t,n,i=0;if(e){for(let l=0;l<this.treeClusters.length;l++)if(this.treeClusters[l].clusterId==e.id_obj){n=this.treeClusters[l];break}if(Array.isArray(l))for(let a=0;a<l.length;a++){const s=l[a];s&&s.cluster==e.id_obj&&(t=s,n&&n.clusterId==t.cluster&&(n.fwMasterId==t.id&&(e.status_compiled=1&t.status?1:0),2&t.status&&(i=1)))}e.status_installed=i}}updateCAStatus(e,l){let t;if(e){if(Array.isArray(l))for(let n=0;n<l.length;n++)if(l[n]&&e.id_obj==l[n].id&&l[n].status){t=1;break}e._fwcCaStatus=t}}updateOPVNInfo(e,l){if(e&&Array.isArray(l))for(let t=0;t<l.length;t++)l[t]&&e.id_obj==l[t].openvpn&&(e.openvpn_disabled=!!l[t].openvpn_disabled)}updateOPVNStatus(e,l){let t;if(e&&Array.isArray(l)){for(let n=0;n<l.length;n++)if(l[n]&&e.id_obj==l[n].id&&l[n].status){t=1;break}e._fwcOpenvpnStatus=t}}treeFindItem(e,l,t,i,a){return Object(n.a)(this,void 0,void 0,(function*(){let n=this.findItemByIdType(this.items,e,l,i,a);n&&(t&&this.parentFwcTreePanelComponent&&!this.parentFwcTreePanelComponent.expanded&&(yield this.parentFwcTreePanelComponent.togglePanel()),this.treeview.clearSelection(),this.treeview.scrollTo(n),this.treeview.selectItems([n]),this.treeview.updateLayout())}))}treeFindPolicyItem(e,l,t,n){let i=null;for(let a=0;a<e.length&&!i;a++){const s=e[a];t!==f.J.ROUTING_TABLE&&s._fwcPolicyFwId==l&&s._fwcObjType==t||s.node_type===f.z.ROUTING_TABLE&&s._fwcFwId===l&&s._fwcObjId===n?i=s:s.items&&s.items.length&&(i=this.treeFindPolicyItem(s.items,l,t,n))}return i}findItemsByIdType(e,l,t,n,i){let a,s=[];for(let o=0;o<e.length;o++)if(e[o]._fwcObjId==l&&e[o]._fwcObjType==t&&e[o].node_type!=f.z.FOLDER_INTERFACES)if(a=e[o],n&&a.items){let e=this.findItemsByIdType(a.items,n,i);e&&e.length&&(s=s.concat(e))}else s=s.concat(a);else e[o].items&&e[o].items.length&&(s=s.concat(this.findItemsByIdType(e[o].items,l,t,n,i)));return s}findItemByIdType(e,l,t,n,i){let a=null;for(let s=0;s<e.length&&!a;s++)if(e[s]._fwcObjId==l&&e[s]._fwcObjType==t){if(a=e[s],n&&a.items){let e=this.findItemByIdType(a.items,n,i);e&&(a=e)}}else e[s].items&&e[s].items.length&&(a=this.findItemByIdType(e[s].items,l,t,n,i));return a}treeFindNode(e,l,t){let n;return e==this.options.container&&(n=this.findItemByIdType(this.items,l,t)),n}treeModifyItem(e){if(this.items&&this.items.length&&null!=e.id&&null!=e.type||null!=e.node_id){let l=[];if(e.node_id){let t=this.treeview.findItemById(e.node_id);t&&l.push(t)}else l=this.findItemsByIdType(this.items,e.id,+e.type);if(l&&l.length)for(let t of l){let l=""+t.type,n=t.id;for(let i of Object.keys(t))void 0!==e[i]&&(t[i]=e[i]);t.type=l,t.id=n,e.address&&e.if_id&&(t.if_id=e.if_id,t.address=e.address),t._fwcObjName=t.text=e.name,this.treeview.updateLayout()}}}treeNewItem(e,l){if(e.container==this.options.container)if(l){let l=this.treeview.findItemById(e._fwcObjTreeParentId);if(l){let t=l.items?l.items:[];e.items=[],this.treeview.insertItemAt(e,t.length,l),this.treeview.expand(l),this.treeview.updateLayout()}}else this.treeLoad(e,l);else this.options.container==f.L.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,l)}treeDeleteItem(e,l){if(e.container==this.options.container)if(l){let l=this.treeview.findItemById(e._fwcObjTreeParentId);if(l){let t=(l.items?l.items:[]).findIndex(l=>l._fwcObjId==e._fwcObjId&&l._fwcObjType==e._fwcObjType);-1!=t&&(this.treeview.removeItemAt(t,l),this.treeview.selectItems([l]),this.treeview.updateLayout())}}else this.treeLoad(e,l);else this.options.container==f.L.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&this.treeLoad(e,!0)}treeFilter(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.filter(this.searchOptions)):this.treeview.filter()}treeFilterByOptions(){const e=e=>Number(e.split(".").map(e=>("000"+e).substr(-3)).join("")),l={callback:(l,t)=>{let n=!1;const i=this._treeSearchOptions.searchFields;let a=[t];for(;a&&a.length&&!n;){const l=a.shift();if(i.find(e=>e===d.a.OBJECT_NAME)&&l.text&&(n=l.text.toLowerCase().includes(this._treeSearchOptions.keyword.toLowerCase())),!n&&i.find(e=>e===d.a.TCP_UDP_PORT)&&(l.source_port_start||l.source_port_end||l.destination_port_start||l.destination_port_end)){const e=parseInt(this._treeSearchOptions.keyword);null!=e&&(n=e>=l.source_port_start&&e<=l.source_port_end||e>=l.destination_port_start&&e<=l.destination_port_end)}if(!n&&i.find(e=>e===d.a.IP_ADDRESS)&&(l.address||l.range_start||l.range_end)&&(l.address?n=l.address.includes(this._treeSearchOptions.keyword):l.range_start&&l.range_end&&(n=p.isValid(this._treeSearchOptions.keyword)&&e(this._treeSearchOptions.keyword)>=e(l.range_start)&&e(this._treeSearchOptions.keyword)<=e(l.range_end))),n){let e=this.treeview.getItemParent(l);for(;e;)e.expanded=!0,e=this.treeview.getItemParent(e)}Array.isArray(l.items)&&a.push(...l.items)}return n}};if(this.treeview.suspendLayout(),this._treeSearchOptions&&this._treeSearchOptions.keyword)this.treeview.filter(l);else if(this.treeview.filter(),Array.isArray(this.treeview.items)&&this.treeview.items.length){this.treeview.collapse();const e=this.treeview.getFullList();for(let l=0;l<e.length;l++){const t=e[l];t.expanded=0===l||this.treeExpandedNodes.has(t.id)}}this.treeview.resumeLayout(),Array.isArray(this.treeview.items)&&this.treeview.items.length&&this.treeview.scrollTo(this.treeview.items[0])}treeUpdateFwStatus(e,l){let t=null;for(let n=0;n<e.length;n++){let i=e[n];i.node_type==f.z.OBJ_FIREWALL&&this.updateFwNodeStatus(i,l),i.node_type==f.z.OBJ_CLUSTER&&this.updateClusterNodeStatus(i,l),i.items&&i.items.length&&(t=this.treeUpdateFwStatus(i.items,l))}return t}onContextMenuLoad(e){const l=this.treeview.selectedItem;if(!l||this.options.container==f.L.C_FIREWALLS_CONDENSED&&l.node_type!=f.z.OPENVPN_CONFIG_SER&&l.node_type!=f.z.OPENVPN_CONFIG_CLI&&l.node_type!=f.z.OPENVPN_PREFIX)return void(e.cancel=!0);const t=null!=l._fwcObjId,n=null!=l.fwcloud;let i,a;const s=l.items.length,o=!l._fwcOpenvpnStatus,r=l.obj_type==f.C.OBJ_VPN_CONFIG_CLI&&l.openvpn_disabled&&o;a=this.treeview.getItemParent(l),i=!(!a||a.obj_type!=f.C.OBJ_GROUP&&a.obj_type!=f.C.OBJ_SERVICE_GROUP||!a.id_obj);const u=this.treeContextMenu[l.node_type];u&&u.items?u.items.forEach((function(e){"separator"!==e.type&&(e.visible=e.id==f.g.FOLDER_EXPAND?!(l.expanded||!s):e.id==f.g.FOLDER_COLLAPSE?!(!l.expanded||!s):!(e.id==f.g.VPN_CONFIG_BLOCK&&r||e.id==f.g.VPN_CONFIG_UNBLOCK&&!r||e.userObject&&!n||e.objectInGroup&&!i||!1===e.objectInGroup&&i||e.clusterNode&&!l._fwcClusterId||!1===e.clusterNode&&l._fwcClusterId||e.onlyOnNodeType&&e.onlyOnNodeType!=l.node_type||e.onlyIfConfigInstalled&&!o||!(e.finalObject&&t||!e.finalObject&&!t)),e.enabled=!e.disableOnCACreation||!l._fwcCaStatus)})):e.cancel=!0}onContextMenuHandler(e){if(e.item){let l=this.treeview.selectedItem;if(!l)return;switch(l._fwcUserId=this.fwcUser.user_id,e.item.id){case f.g.WHERE_USED:let t=Object.assign({},l);t._fwcUserId=this.fwcUser.user_id,t._fwcCloud=this.fwcUser.selectedFwCloud,t.whereUsedAction=!0,this.itemSelectedService.setItem(t);break;case f.g.FOLDER_EXPAND:this.treeview.expand(l);break;case f.g.FOLDER_COLLAPSE:this.treeview.collapse(l);break;case f.g.TREE_RELOAD:this.treeLoad();break;case f.g.TREE_REPAIR:{const e=l.node_type,t={tree_name:this.translate.instant("NODE_TYPES."+e).toLowerCase()},n=Object(h.v4)();let i={channelId:n,headerIcon:"fa fa-3x fa-wrench fwcBlue",textHeader:this.translate.instant("TREE_REPAIR_PANEL.HEADER",t),textMessage:this.translate.instant("TREE_REPAIR_PANEL.TEXT"),apiCall:this.fwcObjectTreeService.repairTree.bind(this.fwcObjectTreeService),apiParams:[e,this.fwcUserService.getActualFwSelectedCloud(),n],onClose:e=>{e&&!e.error?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_OK")}),this.treeLoad()):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_ERRORS")})}};this.appDialogPanelsService.searchAndShowDialog({uuid:f.j.BLOCK_UI_PANEL,data:i});break}case f.g.FIREWALL_IMPORT:{const e=this.utilService.createDynamicComponentRef(c.a),l=e.instance;l.setDynamicComponentRef(e),l.displayDialog=!0;break}case f.g.FIREWALL_EDIT:case f.g.NODE_EDIT:this.itemSelectedService.setItem(l);break;case f.g.POLICY_LOAD:this.actionLoadPolicy(l);break;case f.g.FIREWALL_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:f.C.OBJ_FIREWALL,_fwcObjType:f.C.OBJ_FIREWALL,node_id:l.id});break;case f.g.FIREWALL_DELETE:let n=Object.assign({},l);n.deleteAction=!0,this.itemSelectedService.setItem(n);break;case f.g.NODE_DELETE:let a=Object.assign({},l);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case f.g.FIREWALL_COMPILE:case f.g.FIREWALL_INSTALL:let s;s={compileAction:e.item.id===f.g.FIREWALL_INSTALL?f.f.COMP_INSTALL:f.f.COMP_COMPILE,compileWhat:l._fwcObjType===f.C.OBJ_FIREWALL?f.f.COMP_FIREWALL:f.f.COMP_CLUSTER,compileId:l._fwcObjId,compileType:l._fwcObjType},this.itemSelectedService.setCloudToCompile(s);break;case f.g.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:f.f.COMP_COMPILE,compileWhat:f.f.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case f.g.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:f.f.COMP_INSTALL,compileWhat:f.f.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case f.g.FIREWALL_CLONE:let d={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:l._fwcObjId},{name:"type",type:"hidden",value:l._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:l.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:l._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(d);break;case f.g.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:l._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l._fwcObjId,node_id:l.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertFwToCluster.bind(this.fwcFirewallService),e).then(e=>{let t={};t.id=t.id_obj=t._fwcObjId=e.data.insertId,t._fwcObjType=f.C.OBJ_CLUSTER,t._fwcTreeAction=f.K.NEW_ITEM,t.container=f.L.C_FIREWALLS,this.treeNewItem(t),this.fwcPolicyService.getActualSelectedPolicy(),this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null}),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:l._fwcObjName})})}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})})}});break;case f.g.FIREWALL_IPTABLES_IMPORT:case f.g.FIREWALL_IPTABLES_EXPORT:let p=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_IMPORT"),m={operation:u.b.IMPORT,objId:l._fwcObjId,objType:l._fwcObjType,objName:l._fwcObjName};e.item.id===f.g.FIREWALL_IPTABLES_EXPORT&&(m.operation=u.b.EXPORT,p=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_EXPORT")),this.dialogService.open(r.a,{showHeader:!0,header:p,closable:!1,closeOnEscape:!1,data:m}).onClose.pipe(Object(i.a)(()=>this.alive)).subscribe(e=>{});break;case f.g.FOLDER_NEW:let _={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:l.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(_);break;case f.g.FOLDER_DELETE:if(l.node_type==f.z.FOLDER)if(l.items&&l.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:l.id};this.utilService.fwcAPICall(this.fwcObjectTreeService.deleteFolder.bind(this.fwcObjectTreeService),e).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),this.treeLoad()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})}break;case f.g.FOLDER_RENAME:let S={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:l.id},{name:"old_name",type:"hidden",value:l._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(S);break;case f.g.CLUSTER_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:f.C.OBJ_CLUSTER,_fwcObjType:f.C.OBJ_CLUSTER,node_id:l.id});break;case f.g.CLUSTER_EDIT:this.itemSelectedService.setItem(l);break;case f.g.CLUSTER_DELETE:let v=Object.assign({},l);v.deleteAction=!0,this.itemSelectedService.setItem(v);break;case f.g.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:f.f.COMP_COMPILE,compileWhat:f.f.COMP_CLUSTERS_ALL,compileId:void 0});break;case f.g.CLUSTER_CLONE:let O={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:l._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:l._fwcObjId},{name:"type",type:"hidden",value:l._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:l.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:l._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(O);break;case f.g.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:l._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),cluster:l._fwcObjId,node_id:l.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertClusterToFw.bind(this.fwcFirewallService),e).then(e=>{let t={};t.id=t.id_obj=t._fwcObjId=e.data.insertId,t._fwcObjType=f.C.OBJ_FIREWALL,t._fwcTreeAction=f.K.NEW_ITEM,t.container=f.L.C_FIREWALLS,this.treeNewItem(t),this.fwcPolicyService.getActualSelectedPolicy(),this.fwcPolicyService.setSelectedPolicy({_fwcFwId:null}),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:l._fwcObjName})})}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(e)})})}});break;case f.g.NEW_INTERFACE:if(l._fwcFwId&&l._fwcObjType==f.C.OBJ_INTERFACE_FIREWALL||l._fwcClusterId&&l._fwcObjType==f.C.OBJ_INTERFACE_FIREWALL||l._fwcObjId&&!l._fwcFwId&&l._fwcObjType==f.C.OBJ_HOST){let e,t;t=l._fwcObjType==f.C.OBJ_INTERFACE_FIREWALL?f.C.OBJ_INTERFACE_FIREWALL:f.C.OBJ_INTERFACE_HOST;let n,i,a,s,o,r=this.fwcChildTypes.data.filter((function(e){return e.id_node==l.node_type})),u=null!=l._fwcObjId;if(r.forEach(e=>{e.is_object&&u?n=e:e.is_object||u||(n=e)}),!n)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});l.parent_type===f.C.OBJ_FIREWALL&&(i=l.parent_id),l.parent_type===f.C.OBJ_CLUSTER&&(i=l._fwcFwId,a=l.parent_id),l.parent_type===f.C.OBJ_HOST&&(s=l.parent_id),o=a&&i?"CLUSTER "+a+", MASTER FIREWALL: "+i:s?"HOST "+s:"FIREWALL "+i,e={node_parent:l.id,node_order:1,node_type:n.node_type,host:s,firewall:i,cluster:a,interface_type:t,_fwcObjId:void 0,_fwcObjType:t,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:l.parent_id,parent_name:l.parent_name,parent_type:l.parent_type},this.itemSelectedService.setItem(e)}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case f.g.NEW_ADDRESS:case f.g.NEW_GROUP:case f.g.NEW_NETWORK:case f.g.NEW_IP_RANGE:case f.g.NEW_HOST:case f.g.NEW_IP_SERVICE:case f.g.NEW_ICMP_SERVICE:case f.g.NEW_TCP_SERVICE:case f.g.NEW_UDP_SERVICE:case f.g.NEW_SERVICE_GROUP:case f.g.NEW_DNS:let w,I,C="",E=this.fwcChildTypes.data.filter(e=>e.id_node==l.node_type),b=null!=l._fwcObjId;if(E.forEach(e=>{e.is_object&&b?I=e:e.is_object||b||(I=e)}),!I)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});let R=l._fwcObjType,T=void 0,N=void 0;if(e.item.id==f.g.NEW_ADDRESS&&(l._fwcObjType==f.C.OBJ_INTERFACE_FIREWALL||l._fwcObjType==f.C.OBJ_INTERFACE_HOST)){R=f.C.OBJ_ADDRESS,T=l._fwcObjId,N=l._fwcObjType;let e=-1,t=l._fwcFwName,n=l._fwcObjName,i=new RegExp(`^${n}$`,"g"),a=new RegExp(`^${n}:(\\d+)$`,"g");if(l._fwcClusterName&&l._fwcClusterName.length&&(t=l._fwcClusterName),l._fwcHostName&&l._fwcHostName.length&&(t=l._fwcHostName),l.items&&l.items.constructor===Array)for(let s=0;s<l.items.length;s++){let t,n,o=l.items[s]._fwcObjName;t=i.exec(o),t&&-1==e&&(e=0),t=a.exec(o),t&&(n=+t[1],e=n+1)}C=-1==e?""+n:`${n}:${e}`}let y=void 0;switch(e.item.id){case f.g.NEW_TCP_SERVICE:y=6;break;case f.g.NEW_ICMP_SERVICE:y=1;break;case f.g.NEW_UDP_SERVICE:y=17}w={_fwcObjId:void 0,_fwcObjType:R,_fwcObjName:C,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:T,_fwcParentInterfaceType:N,_fwcParentObjName:l._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:l.id,node_order:1,node_type:I.node_type,protocol:y},this.itemSelectedService.setItem(w);break;case f.g.DUPLICATE:this.onItemDblClickEvent(void 0,!0);break;case f.g.EDIT:this.onItemDblClickEvent(void 0);break;case f.g.DELETE:if(null==l.fwcloud||null==l.fwcloud)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:l._fwcObjName})});let P=Object.assign({},l);P.deleteAction=!0,this.itemSelectedService.setItem(P);break;case f.g.DELETE_FROM_GROUP:let D=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:l._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:D,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let e=this.treeview.getItemParent(l),t={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:e.id_obj,ipobj:l._fwcObjId,obj_type:l._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),t).then(e=>{let t=Object.assign({},l);e.data&&e.data.length&&(t.fw_status=e.data),t._fwcObjTreeParentId=t.pid,this.treeDeleteItem(t,!0),this.itemSelectedService.getActualItem(),this.store.dispatch(g.a.reloadDialog({dialogUuids:[f.j.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}).catch(e=>{e.error&&(e.error.restrictions?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:this.translate.instant("TREE.RESTR_ERROR.TEXT",{name:l._fwcObjName})}):5001==e.error.fwcErr?this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:l._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)}))})}});break;case f.g.CA_NEW:case f.g.CA_CRT_NEW:let L={_fwcObjId:void 0,container:this.options.container,node_id:l.id,node_type:l.node_type,obj_type:f.C.OBJ_CA};if(e.item.id==f.g.CA_CRT_NEW)if(L.type=f.b.client,L.obj_type=f.C.OBJ_CERT_CLI,l.obj_type==f.C.OBJ_CA)L.ca=l.id_obj,L.ca_name=l.text;else if(l.obj_type==f.C.OBJ_PREFIX_FOLDER){let e=this.treeview.getItemParent(l);L.ca=e.id_obj,L.ca_name=e.text,L.folder_prefix=l.text}this.itemSelectedService.setItem(L);break;case f.g.CA_EDIT:case f.g.CA_CRT_EDIT:this.onItemDblClickEvent(void 0);break;case f.g.CA_DELETE:case f.g.CA_CRT_DELETE:let A,F,j,M={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};e.item.id==f.g.CA_DELETE?(F=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),A=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),j=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:l.text}),M.ca=l.id_obj):(F=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),A=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),j=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:l.text}),M.crt=l.id_obj),A(M).subscribe(e=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:j,accept:()=>{this.utilService.fwcAPICall(F,M).then(e=>{let t=Object.assign({},l);t._fwcTreeAction=f.K.DELETE_ITEM,this.treeDeleteItem(t),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.VPN.DELETE_OK")}),this.fwcUserService.setConfirmationToken(void 0)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})},reject:()=>{}})},e=>{if(e.error&&e.error.restrictions){let t,n,i=e.error.restrictions;i&&(i.caHasCertificates?(t=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),n=this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:l.text})):i.crtUsedInOpenvpn?(t=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),n=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:l.text})):i.caHasPrefixes&&(t=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),n=this.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:l.text}))),this.confirmationService.confirm({header:t,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:n})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})});break;case f.g.CA_CRT_NEW_PREFIX:case f.g.VPN_CONFIG_NEW_PREFIX:let V=Object.assign({},l);V._fwcObjType=V.obj_type=l._fwcObjType==f.C.OBJ_VPN_CONFIG_SER?f.C.OBJ_OPENVPN_PREFIX:f.C.OBJ_PREFIX_FOLDER,V.newPrefixAction=!0,this.itemSelectedService.setItem(V);break;case f.g.CA_CRT_EDIT_PREFIX:case f.g.CA_CRT_DELETE_PREFIX:case f.g.VPN_CONFIG_EDIT_PREFIX:case f.g.VPN_CONFIG_DELETE_PREFIX:let B=Object.assign({},l);B.editPrefixAction=e.item.id==f.g.CA_CRT_EDIT_PREFIX||e.item.id==f.g.VPN_CONFIG_EDIT_PREFIX,B.deletePrefixFolderAction=e.item.id==f.g.CA_CRT_DELETE_PREFIX,B.deleteAction=e.item.id==f.g.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(B);break;case f.g.VPN_CONFIG_FILE:case f.g.VPN_CONFIG_DELETE:case f.g.VPN_CONFIG_INSTALL:case f.g.VPN_CONFIG_SYNC_CCD:case f.g.VPN_CONFIG_SYNC_PENDING_CCD:case f.g.VPN_CONFIG_UNINSTALL:case f.g.VPN_CONFIG_BLOCK:case f.g.VPN_CONFIG_UNBLOCK:let G=Object.assign({},l);const k=e=>{let t=!0,n=[];for(n.push(...l.items);n.length;){let l=n.pop();if(l._fwcObjType==f.C.OBJ_VPN_CONFIG_CLI){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:e,rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),t=!1;break}l.items&&l.items.length&&n.push(...l.items)}return t};e.item.id==f.g.VPN_CONFIG_UNINSTALL?k(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:l._fwcObjName}))&&(G.uninstallAction=!0,this.itemSelectedService.setItem(G)):(G.deleteAction=e.item.id==f.g.VPN_CONFIG_DELETE,G.configFileAction=e.item.id==f.g.VPN_CONFIG_FILE,G.installAction=e.item.id==f.g.VPN_CONFIG_INSTALL,G.syncCCDAction=e.item.id==f.g.VPN_CONFIG_SYNC_CCD,G.syncPendingCCDAction=e.item.id==f.g.VPN_CONFIG_SYNC_PENDING_CCD,G.blockVPNAction=e.item.id==f.g.VPN_CONFIG_BLOCK,G.unblockVPNAction=e.item.id==f.g.VPN_CONFIG_UNBLOCK,this.itemSelectedService.setItem(G));break;case f.g.VPN_CONFIG_INST_WINDOWS:{const e=this.utilService.createDynamicComponentRef(o.a),t=e.instance;t.setDynamicComponentRef(e);const n={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),fwcloudName:this.fwcUserService.getActualFwcUser().selectedFwCloudName,cluster:l._fwcClusterId,clusterName:l._fwcClusterName,firewall:l._fwcFwId,firewallName:l._fwcFwName,openvpn:l._fwcObjId,parentConfigName:l._fwcObjName};t.showDialog(n);break}case f.g.VPN_CONFIG_STATUS:let x=Object.assign({},l);x.statusAction=!0,this.itemSelectedService.setItem(x);break;case f.g.MARK_NEW:let U=Object.assign({},l);U._fwcObjName="",U.node_parent=l.id,this.itemSelectedService.setItem(U);break;case f.g.ROUTING_TABLE_NEW:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(l._fwcClusterId,l._fwcClusterName,l._fwcFwId,l._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break;case f.g.ROUTING_TABLE_EDIT:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(l._fwcClusterId,l._fwcClusterName,l._fwcFwId,l._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),l._fwcObjId);break;case f.g.ROUTING_TABLE_DELETE:this.deleteRoutingTable(l._fwcFwId,l.id_obj,l._fwcObjName);break;case f.g.ROUTING_TABLE_NEW_ROUTE:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(l._fwcClusterId,l._fwcFwId,l.id_obj,l._fwcObjName)}}}onItemClickEvent(e){let l=this.treeview.selectedItem,t=f.E;this.clearObjectInfo(void 0),-1!=t.findIndex(e=>l.node_type==e)&&this.actionLoadPolicy(l)}onItemDblClickEvent(e,l){if(!this.treeview||!this.treeview.selectedItem)return;let t=Object.assign({},this.treeview.selectedItem);switch(t.node_type){case f.z.FOLDER_POLICY:case f.z.POLICY_INPUT:case f.z.POLICY_OUTPUT:case f.z.POLICY_FORWARD:case f.z.FOLDER_NAT:case f.z.POLICY_SNAT:case f.z.POLICY_DNAT:case f.z.POLICY_ROUTING:break;case f.z.FOLDER_POLICY6:case f.z.POLICY_INPUT6:case f.z.POLICY_OUTPUT6:case f.z.POLICY_FORWARD6:case f.z.POLICY_SNAT6:case f.z.POLICY_DNAT6:case f.z.POLICY_ROUTING6:break;case f.z.FOLDER_ROUTING:case f.z.ROUTING_TABLES:case f.z.FOLDER_INTERFACES:case f.z.FOLDER_CLUSTER_FW:break;case f.z.OPENVPN_PREFIX_FOLDER:case f.z.OPENVPN_PREFIX:t.editPrefixAction=!0,this.itemSelectedService.setItem(t);break;case f.z.ROUTING_TABLE:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(t._fwcClusterId,t._fwcClusterName,t._fwcFwId,t._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),t._fwcObjId);break;default:if(null!==t._fwcObjId){let e=this.treeview.getItemParent(t);if(!e)return;if(t.obj_type!=f.C.OBJ_ADDRESS||e._fwcObjType!=f.C.OBJ_INTERFACE_FIREWALL&&e._fwcObjType!=f.C.OBJ_INTERFACE_HOST||(t._fwcParentInterfaceType=e._fwcObjType,t._fwcParentObjName=e._fwcObjName),l){let e=this.treeview.getItemParent(t);if(e.node_type==f.z.STANDARD){if(!e.pid)return;t.node_parent=e.pid}else t.node_parent=t.pid;t.duplicateObjectAction=!0}this.itemSelectedService.setItem(t)}}e&&e.stopPropagation()}actionLoadPolicy(e){if(-1==f.E.findIndex(l=>e.node_type==l))return;let l={},t=e.id_obj;switch(e.node_type===f.z.ROUTING_TABLE&&(t=e._fwcFwId),l._fwcUserId=this.fwcUser.user_id,l._fwcFwId=t,l._fwcFwName=e._fwcFwName,l.fwcloud=e.fwcloud,l._fwcObjId=e._fwcObjId,e.node_type){case f.z.POLICY_ROUTING:l._fwcPolicyType=f.J.POLICY_ROUTING;break;case f.z.ROUTING_TABLE:l._fwcPolicyType=f.J.ROUTING_TABLE,l._fwcPolicyName=e._fwcObjName;break;default:l._fwcPolicyType=e.obj_type}e._fwcClusterId&&(l._fwcClusterId=e._fwcClusterId,l._fwcFwName=e._fwcClusterName),l._fwcFwId&&l._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(l)}onItemDragStart(e,l){let t;t=Object.assign({},e),this.itemSelectedService.setDragItem(t),l.dataTransfer.setData("dragItemId",t.id),l.dataTransfer.dropEffect="copy",l.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}checkDnDAllowance(e,l){return!(!e||!l||(e.node_type!=f.z.FOLDER&&e.node_type!=f.z.FOLDER_FW||l.node_type!=f.z.FOLDER&&l.node_type!=f.z.OBJ_CLUSTER&&l.node_type!=f.z.OBJ_FIREWALL)&&(e.node_type!=f.z.OBJ_FIREWALL&&e.node_type!=f.z.OBJ_CLUSTER||l.obj_type!=f.C.OBJ_CERT_SER)&&(e.node_type!=f.z.OPENVPN_CONFIG_SER||l.obj_type!=f.C.OBJ_CERT_CLI)||e.id==l.id||e.id==l.pid||!(l.items&&l.items.length&&!l.items.find((function(l){return l.id==e.id}))||l.items&&!l.items.length))}onDragOver(e){e&&(this.highlightNodeId=this.checkDnDAllowance(e.targetItem,e.dragItem)?e.targetItem.id:void 0)}onDragLeave(e){this.highlightNodeId=void 0}onDragDrop(e){if(e&&(this.clearObjectInfo(void 0),this.checkDnDAllowance(e.targetItem,e.dragItem))){let l=this.fwcUserService.getActualFwSelectedCloud(),t={fwcloud:l,src:e.dragItem.id,dst:e.targetItem.id};if(e.dragItem&&e.dragItem.node_type==f.z.OPENVPN_CERT){let t,n,i,a,s=e.dragItem,o=e.targetItem;if(o.node_type==f.z.OBJ_FIREWALL||o.node_type==f.z.OBJ_CLUSTER){if(o.items&&o.items.length)for(let e=0;e<o.items.length;e++)if(o.items[e].node_type==f.z.OPENVPN_ROOT){t=o.items[e];break}a=f.C.OBJ_VPN_CONFIG_SER}else o.node_type==f.z.OPENVPN_CONFIG_SER&&(t=o,a=f.C.OBJ_VPN_CONFIG_CLI,n=t._fwcObjId,i=t._fwcObjName);if(t){let e=[];Array.isArray(t.items)&&t.items.forEach(l=>{l.node_type===f.z.OPENVPN_CONFIG_CLI?e.push({id_obj:l.id_obj,obj_type:l.obj_type,name:l._fwcObjName}):l.node_type===f.z.OPENVPN_PREFIX&&Array.isArray(l.items)&&l.items.forEach(l=>{e.push({id_obj:l.id_obj,obj_type:l.obj_type,name:l._fwcObjName})})});let r={fwcloud:l,obj_type:a,crt:s.id_obj,node_id:t.id,openvpn:n,parent_id:o.parent_id,parent_type:o.parent_type,parent_name:o.parent_name,_fwcObjId:void 0,_fwcCrtType:s.obj_type,_fwcCrtName:s._fwcObjName,_fwcParentConfigName:i,_fwcParentCA:s._fwcParentCA,_fwcChildClientNodes:e},u=this.checkOpenVPNOperationErrors(t,r);u?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(u)}):this.itemSelectedService.setItem(r)}}else this.utilService.fwcAPICall(this.fwcObjectTreeService.dropInFolder.bind(this.fwcObjectTreeService),t).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),this.treeLoad()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})})}this.highlightNodeId=void 0,e.cancel=!0}checkOpenVPNOperationErrors(e,l){let t;if(!e||!l)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(t=this.items[0].openvpn_info);let n=l.crt,i=l.openvpn,a=l._fwcParentCA;if(t)for(let s=0;s<t.length;s++){let e=t[s];if(void 0===l.openvpn&&e.crt==n)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(void 0!==l.openvpn&&e.openvpn_parent==i&&e.crt==n)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(void 0!==l.openvpn&&e.openvpn==i&&e.ca!=a)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}}deleteRoutingTable(e,l,t){this.itemSelectedService.setItem({deleteAction:!0,_fwcObjId:l,_fwcObjName:t,_fwcObjType:f.C.OBJ_ROUTING_TABLE,_fwcFwId:e})}processInputDialogData(e){return Object(n.a)(this,void 0,void 0,(function*(){let l;if(e)if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.utilService.fwcAPICall(this.fwcObjectTreeService.newFolder.bind(this.fwcObjectTreeService),e).then(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS")}),this.treeLoad()}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.utilService.fwcAPICall(this.fwcObjectTreeService.updateFolder.bind(this.fwcObjectTreeService),e).then(l=>{let t;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),t={node_id:e.id,name:e.new_name,_fwcTreeAction:f.K.MODIFY_ITEM},this.treeModifyItem(t)}).catch(e=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(e)})});else{let t;if(null!=e.firewall)t=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else{if(void 0===e.cluster||null==e.cluster)return;t=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService)}l=Object.assign({},e),delete l.type;let n={channelId:void 0,headerIcon:"fa fa-3x fa-hdd-o fwcBlue",textHeader:this.translate.instant("FW.MSG_FW_CLONE.TITLE"),textMessage:this.translate.instant("FW.MSG_FW_CLONE.TEXT"),apiCall:t,apiParams:[l],onClose:l=>{if(l&&!l.error){let t=l.data.insertId,n={};n.container=f.L.C_FIREWALLS,n.id=n.id_obj=n._fwcObjId=t,n._fwcObjType=e.type,n._fwcTreeAction=f.K.NEW_ITEM,this.treeNewItem(n),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FW_CLONE.SUCCESS")})}else l.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})}};this.appDialogPanelsService.searchAndShowDialog({uuid:f.j.BLOCK_UI_PANEL,data:n})}}))}handleClickNodeAction(e){switch(e.node_type){case f.z.ROUTING_TABLES:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(e._fwcClusterId,e._fwcClusterName,e._fwcFwId,e._fwcFwName,this.fwcUserService.getActualFwSelectedCloud())}}showObjectInfo(e,l){if(!e)return;l&&l.preventDefault(),this.itemSelectedService.setObjectInfo(void 0,l);let t=e.node_type;if(!this.infoTooltipTimer&&!this.infoTooltipShown&&null!==e._fwcObjId&&null!==e._fwcObjType&&-1==S.findIndex(e=>t==e)){let t={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(t,l)},1e3)}}clearObjectInfo(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)}}}}]);