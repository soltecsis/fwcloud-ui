(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0VEr":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("EMdb"),l=function(){function e(){this.loadingData=!1,this.messages=[]}return e.prototype.ngOnInit=function(){},e.prototype.addMessage=function(e,t){var n=new Date,l=n.toLocaleTimeString()+"."+("000"+n.getUTCMilliseconds()).slice(-3),r=void 0,a=void 0;switch(t){case i.k.MSG_INFO:r="fwcBlue",a="fa fa-lg fa-info-circle";break;case i.k.MSG_ERROR:r="fwcRed",a="fa fa-lg fa-exclamation-circle";break;case i.k.MSG_WARNING:r="fwcOrange",a="fa fa-lg fa-exclamation-circle";break;case i.k.MSG_OK:r="fwcGreen",a="fa fa-lg fa-check-circle"}this.messages.push(t==i.k.MSG_SEPARATOR?"<br><br><br>":r?'<span class="'+r+'">'+l+' - <i class="fa fa-fw '+a+'"></i> '+e+"</span>":l+" - "+e),this.divLoggerEl.nativeElement.scrollTop=this.divLoggerEl.nativeElement.scrollHeight},e.prototype.setDataLoad=function(e){this.loadingData=e},e.prototype.startDataLoad=function(){this.loadingData=!0},e.prototype.stopDataLoad=function(){this.loadingData=!1},e.prototype.clearMessages=function(){this.messages=[],this.loadingData=!1},e}()},"2xrz":function(e,t,n){"use strict";var i=n("CcnG"),l=n("Ip0R"),r=n("ZQ90"),a=n("CWth"),s=n("jkif"),o=n("qIZb"),c=n("WLQa"),d=n("tjEg"),u=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](0,null,null,0))],null,null)}function f(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,g,u)),i["\u0275prd"](512,null,c.IntegralUIDataService,c.IntegralUIDataService,[]),i["\u0275did"](2,6406144,[[5,4]],0,d.IntegralUITreeItem,[i.ElementRef,c.IntegralUIDataService,o.IntegralUICommonService,r.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"],expanded:[5,"expanded"]},null)],function(e,t){e(t,2,0,t.context.$implicit,t.context.$implicit.enabled,t.context.$implicit.text,t.context.$implicit.items,t.component.templateRef,t.context.$implicit.expanded)},null)}function g(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{contentElem:0}),i["\u0275qud"](402653184,2,{dragElem:0}),i["\u0275qud"](402653184,3,{blockElem:0}),i["\u0275qud"](402653184,4,{expandBoxElem:0}),i["\u0275qud"](671088640,5,{contentList:1}),(e()(),i["\u0275eld"](5,0,null,null,17,"li",[],null,null,null,null,null)),i["\u0275did"](6,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),i["\u0275eld"](7,0,[[1,0],["content",1]],null,9,"div",[],null,[[null,"dragover"],[null,"drop"]],function(e,t,n){var i=!0,l=e.component;return"dragover"===t&&(i=!1!==l.itemDragOver(n)&&i),"drop"===t&&(i=!1!==l.itemDragDrop(n)&&i),i},null,null)),i["\u0275did"](8,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](9,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](10,0,[[4,0],["expandBox",1]],null,1,"span",[],null,[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var i=!0,l=e.component;return"mousedown"===t&&(i=!1!==l.onExpandBoxMouseDown(n)&&i),"mousedown"===t&&(i=!1!==l.onExpandBoxMouseUp(n)&&i),"touchstart"===t&&(i=!1!==l.onExpandBoxTouchStart(n)&&i),i},null,null)),i["\u0275did"](11,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),i["\u0275eld"](12,0,[[2,0],["dragElem",1]],null,4,"div",[["draggable","true"]],null,[[null,"click"],[null,"mousedown"],[null,"mouseup"],[null,"mouseenter"],[null,"mousemove"],[null,"mouseleave"],[null,"dragstart"],[null,"touchstart"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.onClick(n)&&i),"mousedown"===t&&(i=!1!==l.onMouseDown(n)&&i),"mouseup"===t&&(i=!1!==l.onMouseUp(n)&&i),"mouseenter"===t&&(i=!1!==l.onMouseEnter(n)&&i),"mousemove"===t&&(i=!1!==l.onMouseMove(n)&&i),"mouseleave"===t&&(i=!1!==l.onMouseLeave(n)&&i),"dragstart"===t&&(i=!1!==l.itemDragStart(n)&&i),"touchstart"===t&&(i=!1!==l.onTouchStart(n)&&i),i},null,null)),i["\u0275did"](13,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](14,{display:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](16,278528,null,0,l.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTemplate:[1,"ngForTemplate"]},null),(e()(),i["\u0275eld"](17,0,[[3,0],["block",1]],null,5,"ul",[],null,null,null,null,null)),i["\u0275did"](18,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](19,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](20,{height:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](22,278528,null,0,l.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,6,0,n.getControlClass()),e(t,8,0,n.getContentClass()),e(t,9,0,n.getControlStyle()),e(t,11,0,n.getExpandBoxClass());var i=e(t,14,0,0==n.getItemDisplayMode()?"inline-block":"block");e(t,13,0,i),e(t,16,0,n.templateData,n.templateRef),e(t,18,0,n.getBlockClass());var l=e(t,20,0,n.blockElemHeight);e(t,19,0,l),e(t,22,0,n.items)},null)}n("IOOi"),n("xhm7"),n("XOMR"),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return I});var m=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function _(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[4,0],["itemElem",1]],null,15,"li",[],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"mousedown"],[null,"mouseup"],[null,"dragover"],[null,"drop"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(e,t,n){var i=!0,l=e.component;return"mouseenter"===t&&(i=!1!==l.itemMouseEnter(n,e.context.$implicit)&&i),"mouseleave"===t&&(i=!1!==l.itemMouseLeave(n,e.context.$implicit)&&i),"mousedown"===t&&(i=!1!==l.itemMouseDown(n,e.context.$implicit)&&i),"mouseup"===t&&(i=!1!==l.itemMouseUp(n,e.context.$implicit)&&i),"dragover"===t&&(i=!1!==l.itemDragOver(n,e.context.$implicit,e.context.index)&&i),"drop"===t&&(i=!1!==l.itemDragDrop(n,e.context.$implicit)&&i),"touchstart"===t&&(i=!1!==l.itemTouchStart(n,e.context.$implicit)&&i),"touchmove"===t&&(i=!1!==l.itemTouchMove(n,e.context.$implicit)&&i),"touchend"===t&&(i=!1!==l.itemTouchEnd(n,e.context.$implicit)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](2,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](3,0,null,null,12,"div",[],[[8,"tabIndex",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"keyup"]],function(e,t,n){var i=!0,l=e.component;return"focus"===t&&(i=!1!==l.itemGotFocus(e.context.$implicit)&&i),"blur"===t&&(i=!1!==l.itemLostFocus(e.context.$implicit)&&i),"keydown"===t&&(i=!1!==l.itemKeyDown(n,e.context.$implicit)&&i),"keypress"===t&&(i=!1!==l.itemKeyPress(n,e.context.$implicit)&&i),"keyup"===t&&(i=!1!==l.itemKeyUp(n,e.context.$implicit)&&i),i},null,null)),i["\u0275did"](4,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](5,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](6,{display:0}),i["\u0275did"](7,16384,null,0,r.IntegralUIFocus,[i.ElementRef],{settings:[0,"settings"]},null),(e()(),i["\u0275eld"](8,0,null,null,1,"span",[],null,[[null,"mousedown"],[null,"mouseup"],[null,"touchstart"],[null,"touchend"]],function(e,t,n){var i=!0,l=e.component;return"mousedown"===t&&(i=!1!==l.expandBoxMouseDown(n,e.context.$implicit.data)&&i),"mouseup"===t&&(i=!1!==l.expandBoxMouseUp(n)&&i),"touchstart"===t&&(i=!1!==l.expandBoxTouchStart(n,e.context.$implicit.data)&&i),"touchend"===t&&(i=!1!==l.expandBoxTouchEnd(n)&&i),i},null,null)),i["\u0275did"](9,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),i["\u0275eld"](10,0,null,null,5,"div",[["draggable","true"]],null,[[null,"dragstart"],[null,"click"],[null,"dblclick"]],function(e,t,n){var i=!0,l=e.component;return"dragstart"===t&&(i=!1!==l.itemDragStart(n,e.context.$implicit)&&i),"click"===t&&(i=!1!==l.itemClickEvent(n,e.context.$implicit)&&i),"dblclick"===t&&(i=!1!==l.itemDblClickEvent(n,e.context.$implicit)&&i),i},null,null)),i["\u0275did"](11,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](12,{display:0}),(e()(),i["\u0275eld"](13,16777216,null,null,2,"span",[],null,null,null,null,null)),i["\u0275did"](14,671744,null,0,r.IntegralUITemplateOutlet,[i.ViewContainerRef],{iuiTemplateOutletContext:[0,"iuiTemplateOutletContext"],iuiTemplateOutlet:[1,"iuiTemplateOutlet"]},null),i["\u0275pod"](15,{$implicit:0})],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.style.general),e(t,2,0,t.context.$implicit.inlineStyle),e(t,4,0,t.context.$implicit.style.content);var i=e(t,6,0,0==n.currentItemDisplay?"inline-block":"block");e(t,5,0,i),e(t,7,0,t.context.$implicit.data==n.currentFocusItem),e(t,9,0,t.context.$implicit.style.expandBox);var l=e(t,12,0,0==n.currentItemDisplay?"inline-block":"block");e(t,11,0,l);var r=e(t,15,0,t.context.$implicit.data);e(t,14,0,r,n.itemTemplate)},function(e,t){e(t,3,0,i["\u0275inlineInterpolate"](1,"",t.context.$implicit.tabIndex,""))})}function E(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],function(e,t,n){var l=!0,r=e.component;return"document:mousemove"===t&&(l=!1!==i["\u0275nov"](e,1).onWindowMouseMove(n)&&l),"document:mouseup"===t&&(l=!1!==i["\u0275nov"](e,1).onWindowMouseUp(n)&&l),"valueChanged"===t&&(l=!1!==r.onVerticalScrollChanged(n)&&l),"scrollStart"===t&&(l=!1!==r.onVerticalScrollStart(n)&&l),"scrollEnd"===t&&(l=!1!==r.onVerticalScrollEnd(n)&&l),l},a.b,a.a)),i["\u0275did"](1,5488640,[[5,4],["verScroll",4]],0,s.IntegralUIScrollBar,[i.ElementRef,i.Renderer,o.IntegralUICommonService],{enabled:[0,"enabled"],height:[1,"height"],largeChange:[2,"largeChange"],max:[3,"max"],value:[4,"value"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],function(e,t){var n=t.component;e(t,1,0,n.enabled,n.scrollBarSize.height,n.scrollLargeChange.y,n.maxScrollPos.y,n.currentScrollPos.y)},null)}function h(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],function(e,t,n){var l=!0,r=e.component;return"document:mousemove"===t&&(l=!1!==i["\u0275nov"](e,1).onWindowMouseMove(n)&&l),"document:mouseup"===t&&(l=!1!==i["\u0275nov"](e,1).onWindowMouseUp(n)&&l),"valueChanged"===t&&(l=!1!==r.onHorizontalScrollChanged(n)&&l),"scrollStart"===t&&(l=!1!==r.onHorizontalScrollStart(n)&&l),"scrollEnd"===t&&(l=!1!==r.onHorizontalScrollEnd(n)&&l),l},a.b,a.a)),i["\u0275did"](1,5488640,[[6,4],["horScroll",4]],0,s.IntegralUIScrollBar,[i.ElementRef,i.Renderer,o.IntegralUICommonService],{enabled:[0,"enabled"],max:[1,"max"],orientation:[2,"orientation"],value:[3,"value"],width:[4,"width"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],function(e,t){var n=t.component;e(t,1,0,n.enabled,n.maxScrollPos.x,n.horScrollOrientation,n.currentScrollPos.x,n.scrollBarSize.width)},null)}function O(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"div",[["class","iui-scrollbar-corner"],["style","position:absolute;right:0;bottom:0;width:16px;height:16px;"]],null,null,null,null,null))],null,null)}function w(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,11,"span",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,4,"ul",[["style","margin:0;padding:0;"]],null,[[null,"touchstart"],[null,"touchend"]],function(e,t,n){var i=!0,l=e.component;return"touchstart"===t&&(i=!1!==l.ctrlTouchStart(n)&&i),"touchend"===t&&(i=!1!==l.ctrlTouchEnd(n)&&i),i},null,null)),i["\u0275did"](2,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](3,{width:0,height:1,"margin-left":2}),(e()(),i["\u0275and"](16777216,null,null,1,null,_)),i["\u0275did"](5,278528,null,0,l.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,E)),i["\u0275did"](7,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,h)),i["\u0275did"](9,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,O)),i["\u0275did"](11,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,3,0,0==n.currentItemDisplay?"9999px":n.blockSize.width+"px",n.contentSize.height+"px",0-n.currentScrollPos.x+"px");e(t,2,0,i),e(t,5,0,n.scrollItemList),e(t,7,0,n.isVerScrollVisible()),e(t,9,0,n.isHorScrollVisible()),e(t,11,0,n.isVerScrollVisible()&&n.isHorScrollVisible())},null)}function S(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,g,u)),i["\u0275prd"](512,null,c.IntegralUIDataService,c.IntegralUIDataService,[]),i["\u0275did"](2,6406144,[[1,4]],0,d.IntegralUITreeItem,[i.ElementRef,c.IntegralUIDataService,o.IntegralUICommonService,r.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"]},null)],function(e,t){e(t,2,0,t.context.$implicit,t.context.$implicit.enabled,t.context.$implicit.text,t.context.$implicit.items,t.component.itemTemplate)},null)}function v(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,3,"ul",[["style","margin:0;padding:0;"]],null,null,null,null,null)),i["\u0275did"](2,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,S)),i["\u0275did"](4,278528,null,0,l.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.getBlockStyle()),e(t,4,0,n.items)},null)}function I(e){return i["\u0275vid"](0,[i["\u0275qud"](671088640,1,{contentList:1}),i["\u0275qud"](402653184,2,{contentRef:0}),i["\u0275qud"](402653184,3,{contentElem:0}),i["\u0275qud"](671088640,4,{itemElems:1}),i["\u0275qud"](671088640,5,{verScrollCmp:0}),i["\u0275qud"](671088640,6,{horScrollCmp:0}),(e()(),i["\u0275eld"](6,0,null,null,8,"div",[],null,[[null,"DOMMouseScroll"],[null,"mousewheel"],[null,"mouseenter"],[null,"mouseleave"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"dragend"],[null,"scroll"]],function(e,t,n){var i=!0,l=e.component;return"DOMMouseScroll"===t&&(i=!1!==l.processMouseWheel(n)&&i),"mousewheel"===t&&(i=!1!==l.processMouseWheel(n)&&i),"mouseenter"===t&&(i=!1!==l.onCtrlMouseEnter(n)&&i),"mouseleave"===t&&(i=!1!==l.onCtrlMouseLeave(n)&&i),"dragenter"===t&&(i=!1!==l.ctrlDragEnter(n)&&i),"dragleave"===t&&(i=!1!==l.ctrlDragLeave(n)&&i),"dragover"===t&&(i=!1!==l.ctrlDragOver(n)&&i),"drop"===t&&(i=!1!==l.ctrlDragDrop(n)&&i),"dragend"===t&&(i=!1!==l.ctrlDragEnd(n)&&i),"scroll"===t&&(i=!1!==l.onScroll(n)&&i),i},null,null)),i["\u0275did"](7,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngClass:[0,"ngClass"]},null),i["\u0275did"](8,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](9,16777216,[[2,3],[3,0],["content",1]],null,5,"span",[],null,null,null,null,null)),i["\u0275did"](10,16384,null,0,l.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,w)),i["\u0275did"](12,278528,null,0,l.NgSwitchCase,[i.ViewContainerRef,i.TemplateRef,l.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,v)),i["\u0275did"](14,16384,null,0,l.NgSwitchDefault,[i.ViewContainerRef,i.TemplateRef,l.NgSwitch],null,null)],function(e,t){var n=t.component;e(t,7,0,n.getControlClass()),e(t,8,0,n.getControlStyle()),e(t,10,0,n.virtualMode),e(t,12,0,!0)},null)}},"3D7H":function(e,t,n){"use strict";var i=n("CcnG"),l=n("Ge8E"),r=n("EjV3"),a=n("A7o+"),s=n("Ip0R"),o=n("m6j1");n("PIn4"),n("t/Na"),n("P6hr"),n("FHuN"),n("w2nL"),n("sqqX"),n("QJSW"),n("H9gU"),n("77Y5"),n("Mebi"),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return m});var c=i["\u0275crt"]({encapsulation:2,styles:[["div#fitDivLoader{text-align:center}div.fitOverlayPanel.ui-overlaypanel{min-width:250px;max-width:450px;color:#fff;background-color:#333;border-radius:.5rem}div.fitDivInfo{font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid #eb6400;padding-bottom:.3rem}div.fitDivInfo table{margin-top:.3rem;border:0;background:0 0!important}div.fitDivInfo table *{background:0 0!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;margin-bottom:0}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:#fff;background-color:#333;border:1px solid #333;border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(34,34,34,.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:#222!important;background-color:#eee!important;border:1px solid #bbb}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}"]],data:{animation:[{type:7,name:"fundidoIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"250ms linear"}],options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"250ms linear"},options:null}],options:{}}]}});function d(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["id","fitDivLoader"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,l.b,l.a)),i["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),i["\u0275pod"](3,{width:0,height:1})],function(e,t){var n=e(t,3,0,"1.7rem","1.7rem");e(t,2,0,n)},null)}function u(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," ",""])),i["\u0275pid"](131072,a.j,[a.k,i.ChangeDetectorRef])],null,function(e,t){e(t,1,0,t.component.objectInfo.nodes.length,i["\u0275unv"](t,1,1,i["\u0275nov"](t,2).transform("INFO_TT.NODES")))})}function p(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,20,"div",[["class","fitDivInfo"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,5,"h6",[],null,null,null,null,null)),(e()(),i["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-info-circle fwcOrange"]],null,null,null,null,null)),(e()(),i["\u0275ted"](3,null,["\xa0"," "])),i["\u0275pid"](131072,a.j,[a.k,i.ChangeDetectorRef]),(e()(),i["\u0275eld"](5,0,null,null,1,"span",[["class","fitSpanClose"]],null,null,null,null,null)),(e()(),i["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-times-circle"]],null,[[null,"click"]],function(e,t,n){var i=!0;return"click"===t&&(i=0!=(e.component.showTooltip=!1)&&i),i},null,null)),(e()(),i["\u0275eld"](7,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),i["\u0275ppd"](8,1),(e()(),i["\u0275ted"](-1,null,["\xa0\xa0"])),(e()(),i["\u0275eld"](10,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),i["\u0275ted"](11,null,["",""])),(e()(),i["\u0275ted"](-1,null,[" ("])),(e()(),i["\u0275eld"](13,0,null,null,2,"i",[],null,null,null,null,null)),(e()(),i["\u0275ted"](14,null,["",""])),i["\u0275pid"](131072,a.j,[a.k,i.ChangeDetectorRef]),(e()(),i["\u0275ted"](-1,null,[")"])),(e()(),i["\u0275eld"](17,0,null,null,0,"span",[["class","spanSep"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,u)),i["\u0275did"](19,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](20,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(e,t){e(t,19,0,t.component.objectInfo.nodes)},function(e,t){var n=t.component;e(t,3,0,i["\u0275unv"](t,3,0,i["\u0275nov"](t,4).transform("ITEM_PANEL.HEADER.OBJ_INFO")));var l=i["\u0275inlineInterpolate"](1,"fwcIcon ",i["\u0275unv"](t,7,0,e(t,8,0,i["\u0275nov"](t.parent.parent,0),n.objectInfo.type)),"");e(t,7,0,l),e(t,11,0,n.objectInfo.name),e(t,14,0,i["\u0275unv"](t,14,0,i["\u0275nov"](t,15).transform("GLOBALS.DB_OBJECT_NAMES."+n.objectInfo.type))),e(t,20,0,i["\u0275inlineInterpolate"](1,"",n.objectInfo.infoHTML,""))})}function f(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.objectError)})}function g(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,[[1,0],["tooltipElem",1]],null,8,"div",[["class","fitTooltipDiv--light"],["id","fitTooltipDiv"]],[[24,"@fundidoIn",0]],null,null,null,null)),i["\u0275did"](1,278528,null,0,s.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](2,{top:0,left:1}),(e()(),i["\u0275and"](16777216,null,null,1,null,d)),i["\u0275did"](4,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](6,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,f)),i["\u0275did"](8,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,2,0,n.tooltipY.toString()+"px",n.tooltipX.toString()+"px");e(t,1,0,i),e(t,4,0,n.loadingData),e(t,6,0,!n.loadingData&&n.objectInfo),e(t,8,0,!n.loadingData&&n.objectError)},function(e,t){e(t,0,0,void 0)})}function m(e){return i["\u0275vid"](0,[i["\u0275pid"](0,o.a,[]),i["\u0275qud"](671088640,1,{tooltipElem:0}),(e()(),i["\u0275and"](16777216,null,null,1,null,g)),i["\u0275did"](3,16384,null,0,s.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,t.component.showTooltip)},null)}},CWth:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var i=n("CcnG"),l=n("Ip0R"),r=(n("jkif"),n("qIZb"),i["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function a(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","iui-scrollbar-vertical"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.changeScrollPos(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","iui-scroll-button-thumb-vertical"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.thumbMouseDown(n)&&i),i},null,null)),i["\u0275did"](3,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{top:0,height:1})],function(e,t){var n=t.component;e(t,1,0,n.getScrollBarStyle());var i=e(t,4,0,n.thumbPos.y+"px",n.thumbSize.height+"px");e(t,3,0,i)},null)}function s(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,4,"div",[["class","iui-scrollbar-horizontal"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.changeScrollPos(n)&&i),i},null,null)),i["\u0275did"](1,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](2,0,null,null,2,"div",[["class","iui-scroll-button-thumb-horizontal"]],null,[[null,"mousedown"]],function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.thumbMouseDown(n)&&i),i},null,null)),i["\u0275did"](3,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](4,{left:0,width:1})],function(e,t){var n=t.component;e(t,1,0,n.getScrollBarStyle());var i=e(t,4,0,n.thumbPos.x+"px",n.thumbSize.width+"px");e(t,3,0,i)},null)}function o(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](1,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,s)),i["\u0275did"](3,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.isVertical()),e(t,3,0,!n.isVertical())},null)}},FHuN:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),l=n("67Y/"),r=n("9Z1F"),a=n("fgKk"),s=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n}return Object(i.__extends)(t,e),t.prototype.getObjectTypes=function(){return this.httpClient.get(a.a.settings.fwcAppURL+"/ipobj/types").pipe(Object(l.a)(this.parseObjectTypeNames),Object(r.a)(this.handleError.bind(this)))},t.prototype.getObjectType=function(e){return this.httpClient.put(a.a.settings.fwcAppURL+"/ipobj/types/get",JSON.stringify({id:e})).pipe(Object(r.a)(this.handleError.bind(this)))},t.prototype.parseObjectTypeNames=function(e){if(e){var t=e.data;t&&Array.isArray(t)&&t.forEach(function(e){e.type=e.type.replace(" ","_")})}return e},t}(n("kCWp").a)},Itiq:function(e,t,n){var i=n("mrSG").__decorate,l=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var r=n("CcnG"),a=n("ihYY"),s=n("Ip0R"),o=n("7LN8"),c=0,d=function(){function e(e){this.accordion=e,this.cache=!0,this.selectedChange=new r.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+c++}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"content":default:e.contentTemplate=t.template}})},e.prototype.toggle=function(e){if(this.disabled||this.animating)return!1;this.animating=!0;var t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),e.preventDefault()},e.prototype.findTabIndex=function(){for(var e=-1,t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e},Object.defineProperty(e.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),e.prototype.onToggleDone=function(e){this.animating=!1},e.prototype.onKeydown=function(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())},e.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},i([r.Input(),l("design:type",String)],e.prototype,"header",void 0),i([r.Input(),l("design:type",Boolean)],e.prototype,"selected",void 0),i([r.Input(),l("design:type",Boolean)],e.prototype,"disabled",void 0),i([r.Input(),l("design:type",Boolean)],e.prototype,"cache",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"selectedChange",void 0),i([r.Input(),l("design:type",String)],e.prototype,"transitionOptions",void 0),i([r.ContentChildren(o.Header),l("design:type",r.QueryList)],e.prototype,"headerFacet",void 0),i([r.ContentChildren(o.PrimeTemplate),l("design:type",r.QueryList)],e.prototype,"templates",void 0),i([r.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a tabindex="0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown)="onKeydown($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: transitionOptions}} : {value: \'hidden\', params: {transitionParams: transitionOptions}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[a.trigger("tabContent",[a.state("hidden",a.style({height:"0"})),a.state("visible",a.style({height:"*"})),a.transition("visible <=> hidden",a.animate("{{transitionParams}}"))])]})],e)}();t.AccordionTab=d;var u=function(){function e(e,t){this.el=e,this.changeDetector=t,this.onClose=new r.EventEmitter,this.onOpen=new r.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.tabs=[]}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(t){e.initTabs(),e.changeDetector.markForCheck()})},e.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.updateSelectionState()},enumerable:!0,configurable:!0}),e.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].animating=!0),this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t)}},e.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},i([r.Input(),l("design:type",Boolean)],e.prototype,"multiple",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"onClose",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"onOpen",void 0),i([r.Input(),l("design:type",Object)],e.prototype,"style",void 0),i([r.Input(),l("design:type",String)],e.prototype,"styleClass",void 0),i([r.Input(),l("design:type",String)],e.prototype,"expandIcon",void 0),i([r.Input(),l("design:type",String)],e.prototype,"collapseIcon",void 0),i([r.ContentChildren(d),l("design:type",r.QueryList)],e.prototype,"tabList",void 0),i([r.Input(),l("design:type",Object),l("design:paramtypes",[Object])],e.prototype,"activeIndex",null),i([r.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '})],e)}();t.Accordion=u,t.AccordionModule=function(){return i([r.NgModule({imports:[s.CommonModule],exports:[u,d,o.SharedModule],declarations:[u,d]})],function(){})}()},LwpX:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),l=n("F/XL"),r=n("67Y/"),a=n("9Z1F"),s=n("EMdb"),o=n("fgKk"),c=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n.items=[],n.nodeCounter=0,n}return Object(i.__extends)(t,e),t.prototype.getTree=function(e,t){var n=this,i="",l=e.container,c=e.objStandard,d=e.objCloud,u={};switch(e._siblingTree&&(l=e._siblingTree),u.fwcloud=t,l){case s.r.C_FIREWALLS:case s.r.C_FIREWALLS_CONDENSED:i=o.a.settings.fwcAppURL+"/tree/firewalls/get";break;case s.r.C_OBJECTS:i=o.a.settings.fwcAppURL+"/tree/objects/get",u.objStandard=c,u.objCloud=d;break;case s.r.C_CA:i=o.a.settings.fwcAppURL+"/tree/ca/get";break;case s.r.C_SERVICES:i=o.a.settings.fwcAppURL+"/tree/services/get",u.objStandard=c,u.objCloud=d}return this.httpClient.put(i,JSON.stringify(u)).pipe(Object(r.a)(function(t){return n.extractTreeData(t,e)}),Object(a.a)(this.handleError))},t.prototype.getTreeChildTypes=function(){return Object(l.a)({data:[{id_node:"OIA",node_type:"OIA"},{id_node:"OIR",node_type:"OIR"},{id_node:"OIH",node_type:"IFH",is_object:!0},{id_node:"OIH",node_type:"OIH"},{id_node:"OIG",node_type:"OIG"},{id_node:"OIN",node_type:"OIN"},{id_node:"ONS",node_type:"ONS"},{id_node:"FDI",node_type:"IFF",is_object:!0},{id_node:"IFF",node_type:"OIA",is_object:!0},{id_node:"IFH",node_type:"OIA",is_object:!0},{id_node:"SOI",node_type:"SOI"},{id_node:"SOT",node_type:"SOT"},{id_node:"SOM",node_type:"SOM"},{id_node:"SOU",node_type:"SOU"},{id_node:"SOG",node_type:"SOG"}]})},t.prototype.newFolder=function(e){return this.httpClient.post(o.a.settings.fwcAppURL+"/tree/folder",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.dropInFolder=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/tree/folder/drop",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.deleteFolder=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/tree/folder/del",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.updateFolder=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/tree/folder",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.repairTree=function(e,t,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/tree/repair",JSON.stringify({type:e,fwcloud:t,socketid:n})).pipe(Object(a.a)(this.handleError))},t.prototype.getNodes=function(e,t,n){var i=o.a.settings.fwcAppURL+"/tree/node/get",l={node_type:e,fwcloud:t,id_obj:n||null};return o.a.log("Get nodes: ",i,l),this.httpClient.put(i,JSON.stringify(l)).pipe(Object(a.a)(this.handleError))},t.prototype.extractTreeData=function(e,t){var n,i=e.data;try{var l=JSON.stringify(i);l=(l=l.replace(/"children"/g,'"items"')).replace(/"allowdrag"/g,'"allowDrag"'),n=JSON.parse(l),console.log("EXTRACT TREE DATA",t)}catch(r){n=null}return n||{}},t}(n("kCWp").a)},P6hr:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("mrSG"),l=n("9Z1F"),r=n("fgKk"),a=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n}return Object(i.__extends)(t,e),t.prototype.getInterfacesInFw=function(e,t){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/fw/all/get",JSON.stringify({firewall:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.getInterfacesInFwFull=function(e,t){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/fw/full/get",JSON.stringify({firewall:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.getInterface=function(e,t,n){var i,a=r.a.settings.fwcAppURL+"/interface/fw/get";return r.a.log("getInterface URL:",a,i={firewall:e,id:t,fwcloud:n}),this.httpClient.put(a,JSON.stringify(i)).pipe(Object(l.a)(this.handleError))},t.prototype.getInterfaceHost=function(e,t,n){var i,a=r.a.settings.fwcAppURL+"/interface/host/get";return r.a.log("getInterface Host URL:",a,i={host:e,id:t,fwcloud:n}),this.httpClient.put(a,JSON.stringify(i)).pipe(Object(l.a)(this.handleError))},t.prototype.newInterface=function(e){var t=r.a.settings.fwcAppURL+"/interface";return r.a.log("---- ADD INTERFACE, ",t,"---",e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.updateInterface=function(e){var t=r.a.settings.fwcAppURL+"/interface";return r.a.log("---- UPDATE INTERFACE: ",t,"...",e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteInterfaceFw=function(e){var t=r.a.settings.fwcAppURL+"/interface/fw/del";return r.a.log("Deleting firewall interface: ",t),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteInterfaceHost=function(e){var t=r.a.settings.fwcAppURL+"/interface/host/del";return r.a.log("Deleting host interface: ",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getInterfaceWhereUsed=function(e,t,n){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/where",JSON.stringify({fwcloud:n,id:e,type:t})).pipe(Object(l.a)(this.handleError))},t.prototype.checkInterfaceRestrictions=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/restricted",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t}(n("kCWp").a)},PIn4:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),l=n("F/XL"),r=n("67Y/"),a=n("9Z1F"),s=n("EMdb"),o=n("fgKk"),c=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n}return Object(i.__extends)(t,e),t.prototype.getObject=function(e,t){var n=o.a.settings.fwcAppURL+"/ipobj/get",i={fwcloud:t,id:e};return o.a.log("fwc_object_service getObject URL ",n),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(r.a)(this.addFields),Object(a.a)(this.handleError))},t.prototype.getPolicyRuleObjects=function(e,t,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/policy/ipobj/get",JSON.stringify({fwcloud:n,firewall:e,rule:t})).pipe(Object(a.a)(this.handleError))},t.prototype.updateObject=function(e){var t=o.a.settings.fwcAppURL+"/ipobj";return o.a.log("updateObject ",e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.deleteObject=function(e){var t=o.a.settings.fwcAppURL+"/ipobj/del";return o.a.log("Delete object: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.newObject=function(e){var t=o.a.settings.fwcAppURL+"/ipobj";return o.a.log("New object: ",e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.searchObject=function(e){return this.httpClient.get(o.a.settings.fwcAppURL+"/ipobj/ipobj_search_used/"+e._fwcObjId+"/"+e._fwcObjType).pipe(Object(a.a)(this.handleError))},t.prototype.checkObjectRestrictions=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/ipobj/restricted",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.getObjectGroup=function(e,t){var n=o.a.settings.fwcAppURL+"/ipobj/group/get",i={fwcloud:t,id:e};return o.a.log("Object group: ",n),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(a.a)(this.handleError))},t.prototype.getObjectGroupAllowedTypes=function(){var e=[];return e[s.m.OBJ_GROUP]=[s.m.OBJ_ADDRESS,s.m.OBJ_ADDRESS_RANGE,s.m.OBJ_NETWORK,s.m.OBJ_HOST],e[s.m.OBJ_SERVICE_GROUP]=[s.m.OBJ_SERVICE_IP,s.m.OBJ_SERVICE_TCP,s.m.OBJ_SERVICE_ICMP,s.m.OBJ_SERVICE_UDP],Object(l.a)(e)},t.prototype.newObjectGroup=function(e){var t=o.a.settings.fwcAppURL+"/ipobj/group";return o.a.log("Llamando a: "+t,e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.updateObjectGroup=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/ipobj/group",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.deleteObjectGroup=function(e){var t=o.a.settings.fwcAppURL+"/ipobj/group/del";return o.a.log("Llamando a: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.newObjectGroupObject=function(e){var t=o.a.settings.fwcAppURL+"/ipobj/group/addto";return o.a.log("Llamando a: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.deleteObjectGroupObject=function(e){var t=o.a.settings.fwcAppURL+"/ipobj/group/delfrom";return o.a.log("Llamando a: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.getObjectWhereUsed=function(e,t,n){var i=o.a.settings.fwcAppURL+"/ipobj/where",l={id:e,type:t,fwcloud:n};return o.a.log("fwc-object-service-where-used: ",i,l),this.httpClient.put(i,JSON.stringify(l)).pipe(Object(a.a)(this.handleError))},t.prototype.getObjectGroupWhereUsed=function(e,t){var n=o.a.settings.fwcAppURL+"/ipobj/group/where",i={fwcloud:t,id:e};return o.a.log("fwc_object_service getObjectGroupWhereUsed URL ",n),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(a.a)(this.handleError))},t.prototype.checkObjectGroupRestrictions=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/ipobj/group/restricted",JSON.stringify(e)).pipe(Object(a.a)(this.handleError))},t.prototype.getIPProtocols=function(){return this.httpClient.get(o.a.settings.fwcAppURL+"/ipobj-protocols").pipe(Object(a.a)(this.handleError))},t.prototype.addFields=function(e){var t=[];return t.push(e.data[0]),t.forEach(function(e){e._fwcObjId=e.id,e._fwcObjName=e.name,e._fwcObjType=e.type}),e},t}(n("kCWp").a)},QJSW:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("jvbL"),l=n("EMdb"),r=(n("PIn4"),n("P6hr"),n("w2nL"),n("FHuN"),n("77Y5"),n("Mebi"),n("sqqX"),n("H9gU"),n("fgKk")),a=n("m6j1"),s=function(){function e(e,t,n,i,l,r,a,s,o,c,d){this.fwcObjectService=e,this.fwcInterfaceService=t,this.itemSelectedService=n,this.fwcObjectTypeService=i,this.fwcUserService=l,this.fwcFirewallService=r,this.fwcPolicyService=a,this.fwcVpnService=s,this.translate=o,this.pipeFwcIcon=c,this.cd=d,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.alive=!0}return e.prototype.ngOnInit=function(){var e=this;this.itemSelectedService.getObjectInfo().pipe(Object(i.a)(function(){return e.alive})).subscribe(function(t){if(t){var n=t.obj,l=t.event;e.objectInfo=void 0,e.objectError=void 0,n&&l?(e.loadingData=!0,e.tooltipX=l.clientX,e.tooltipY=l.clientY+5,e.showTooltip=!0,n._fwcShowRestrictions?(console.log("DEP: ",n),e.fwcPolicyService.getPolicyRuleFull(n.firewall_id,n.rule_type,n.rule_id,e.fwcUserService.getActualFwSelectedCloud()).pipe(Object(i.a)(function(){return e.alive})).subscribe(function(e){console.log("RULE: ",e)},function(e){console.log("ERR",e)})):e.getObjectInfo(n.objId,n.objType,n.objParentId,n.fwId,n.clusterId).then(function(t){e.loadingData=!1,e.objectInfo=t,e.cd.destroyed||e.cd.detectChanges(),e.placeTooltip()}).catch(function(t){e.loadingData=!1,e.objectError=t})):(e.showTooltip=!1,e.positionTooltip=!1)}}),this.fwcObjectTypeService.getObjectTypes().subscribe(function(t){var n=t.response;if(n&&0==n.respStatus)e.OBJECT_TYPES=[];else if(e.OBJECT_TYPES=[],t.data){for(var i=0,r=t.data;i<r.length;i++){var a=r[i];e.OBJECT_TYPES[a.id]=a.type}e.OBJECT_TYPES[l.m.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},function(e){r.a.error(e)})},e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.placeTooltip=function(){if(this.tooltipElem){var e=this.tooltipElem.nativeElement.offsetWidth,t=this.tooltipElem.nativeElement.offsetHeight,n=window.innerWidth,i=window.innerHeight;this.tooltipX+e>=n-5&&(this.tooltipX=this.tooltipX-e),this.tooltipY+t>=i-5&&(this.tooltipY=this.tooltipY-t-5)}},e.prototype.getObjectInfo=function(e,t,n,i,s){return new Promise((function(s,o){var c,d=this;switch(t=+t){case l.m.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var t,n=e.response;if(r.a.log("INFO OBJ_FIREWALL ",e),n&&0==n.respStatus)o(n.respCode+" - "+n.errorMsg);else if(e.data&&e.data.length){var i=void 0;(t=e.data[0]).type=l.m.OBJ_FIREWALL,t.cluster&&(t.type=l.m.OBJ_CLUSTER_NODE),i="<table class='fitTableInfo'>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",t.comment&&(i+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=i+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(t)},function(e){});break;case l.m.OBJ_CLUSTER:this.fwcFirewallService.getCluster(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var t,n=e.response;if(r.a.log("INFO OBJ_CLUSTER ",e),n&&0==n.respStatus)o(n.respCode+" - "+n.errorMsg);else if(e.data){var i=void 0;(t=e.data.cluster).type=l.m.OBJ_CLUSTER,t.cluster&&(t.type=l.m.OBJ_CLUSTER_NODE),i="<table class='fitTableInfo'>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",t.comment&&(i+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=i+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(t)},function(e){});break;case l.m.OBJ_INTERFACE_FIREWALL:case l.m.OBJ_INTERFACE_HOST:var u=void 0;t==l.m.OBJ_INTERFACE_HOST?(c=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),u=n):(c=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),u=i),c(u,e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var t,n=e.response;if(r.a.log("INFO OBJ_INTERFACE ",e),n&&0==n.respStatus)o(n.respCode+" - "+n.errorMsg);else if(e.data&&e.data.length){var i=void 0;t=e.data[0],i="<table class='fitTableInfo'>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",i+=+t.type==l.m.OBJ_INTERFACE_FIREWALL?null!=t.cluster_id?"<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_CLUSTER)+"'></i> Cluster</td><td><strong>"+t.cluster_name+" ("+t.cluster_id+")</strong></td></tr>":"<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_FIREWALL)+"'></i> Firewall</td><td><strong>"+t.firewall_name+" ("+t.firewall_id+")</strong></td></tr>":"<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_HOST)+"'></i> Host</td><td><strong>"+t.host_name+" ("+t.host_id+")</strong></td></tr>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.LABEL")+"</td><td><strong>"+(t.labelName?t.labelName:"")+"</strong></td></tr>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.MAC")+"</td><td><strong>"+(t.mac?t.mac:"")+"</strong></td></tr>",t.comment&&(i+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=i+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(t)},function(e){o(e)});break;case l.m.OBJ_GROUP:case l.m.OBJ_SERVICE_GROUP:r.a.log("Getting info of Group: ",e,t),this.fwcObjectService.getObjectGroup(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var t,n=e.response;if(r.a.log("INFO OBJ_GROUP ",e),n&&0==n.respStatus)o(n.respCode+" - "+n.errorMsg);else if(e.data&&e.data.length){var i=void 0;if(t=e.data[0],i="<table class='fitTableInfo'>",i+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",t.ipobjs&&t.ipobjs.length){i+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")+"</span><ul class='fitUl'>";for(var l=0;l<t.ipobjs.length;l++)i+='<li><i class="fwcIcon '+(new a.a).transform(t.ipobjs[l].type,"","fwcOrange")+'" aria-hidden="true"></i> '+t.ipobjs[l].name+" (Id: "+t.ipobjs[l].id+")</li>";i+="</ul></td></tr>"}else i+="<tr><td colspan='2'><i>"+d.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")+"</i></td></tr>";t.comment&&(i+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=i+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(t)},function(e){o(e)});break;case l.m.OBJ_CERT_CLI:case l.m.OBJ_CERT_SER:case l.m.OBJ_VPN_CONFIG_CLI:case l.m.OBJ_VPN_CONFIG_SER:case l.m.OBJ_CA:var p=void 0,f=void 0;t==l.m.OBJ_CERT_CLI||t==l.m.OBJ_CERT_SER?(p=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),f={crt:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()}):t==l.m.OBJ_VPN_CONFIG_CLI||t==l.m.OBJ_VPN_CONFIG_SER?(p=this.fwcVpnService.getConfig.bind(this.fwcVpnService),f={openvpn:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()}):t==l.m.OBJ_CA&&(p=this.fwcVpnService.getCA.bind(this.fwcVpnService),f={ca:e,fwcloud:this.fwcUserService.getActualFwSelectedCloud()}),p(f).subscribe(function(e){var n,i=e.response;if(r.a.log("INFO VPN OBJECT ",e),i&&0==i.respStatus)o(i.respCode+" - "+i.errorMsg);else if(e.data){var a=void 0;(n=e.data).type=t,a="<table class='fitTableInfo'>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>";var c=d.translate.instant("VPN.PANEL.DAY_OPTS.0");if(void 0!==n.days&&(n.days%365||(n.days/=365,c=d.translate.instant("VPN.PANEL.DAY_OPTS.1"))),t!=l.m.OBJ_CERT_CLI&&t!=l.m.OBJ_CERT_SER||(n.name=n.cn,a+="<tr><td class='fwcOrange'>"+d.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")+"</td><td><strong>"+n.days+" "+c+"</strong></td></tr>"),t==l.m.OBJ_VPN_CONFIG_CLI||t==l.m.OBJ_VPN_CONFIG_SER){var u=d.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED");n.status||(u=d.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:n.installed_at})),a+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("VPN.CONFIG.INSTALL.STATUS")+"</span><br>"+u+"</td></tr>"}t==l.m.OBJ_CA&&(n.name=n.cn,a+="<tr><td class='fwcOrange'>"+d.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")+"</td><td><strong>"+n.days+" "+c+"</strong></td></tr>",n.status&&(a+="<tr><td colspan='2'>"+d.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")+"</td></tr>")),n.comment&&(a+="<tr><td colspan='2'><span class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=a+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(n)},function(e){o(e)});break;default:r.a.log("Getting info of IP Object: ",e,t),this.fwcObjectService.getObject(e,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var t,n=e.response;if(r.a.log("INFO IP_OBJ ",e),n&&0==n.respStatus)o(n.respCode+" - "+n.errorMsg);else if(e.data&&e.data.length){var i,a=void 0;switch(t=e.data[0],a="<table class='fitTableInfo'>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",i=+t.type){case l.m.OBJ_ADDRESS:case l.m.OBJ_NETWORK:if(i==l.m.OBJ_ADDRESS){var c=null!=t.host_id?l.m.OBJ_INTERFACE_HOST:l.m.OBJ_INTERFACE_FIREWALL;null!=t.cluster_id?a+="<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_CLUSTER)+" fwcWhite'></i> Cluster</td><td><strong>"+t.cluster_name+" ("+t.cluster_id+")</strong></td></tr>":null!=t.firewall_id?a+="<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_FIREWALL)+"'></i> Firewall</td><td><strong>"+t.firewall_name+" ("+t.firewall_id+")</strong></td></tr>":null!=t.host_id&&(a+="<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(l.m.OBJ_HOST)+"'></i> Host</td><td><strong>"+t.host_name+" ("+t.host_id+")</strong></td></tr>"),null!=t.if_id&&(a+="<tr><td class='fwcOrange'><i class='fwcIcon "+d.pipeFwcIcon.transform(c)+"'></i> "+d.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")+"</td><td><strong>"+t.if_name+" ("+t.if_id+")</strong></td></tr>")}a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")+"</td><td><strong>"+t.address+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.MASK")+"</td><td><strong>"+(t.netmask?t.netmask:"")+"</strong></td></tr>";break;case l.m.OBJ_ADDRESS_RANGE:a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")+"</td><td><strong>"+(t.range_start?t.range_start:"")+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")+"</td><td><strong>"+(t.range_end?t.range_end:"")+"</strong></td></tr>";break;case l.m.OBJ_SERVICE_IP:a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.PROT")+"</td><td><strong>"+t.protocol+"</strong></td></tr>";break;case l.m.OBJ_SERVICE_TCP:case l.m.OBJ_SERVICE_UDP:a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")+"</td><td><strong>"+(t.source_port_start?t.source_port_start:"")+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.PORT_E")+"</td><td><strong>"+(t.source_port_end?t.source_port_end:"")+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")+"</td><td><strong>"+(t.destination_port_start?t.destination_port_start:"")+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.PORT_E")+"</td><td><strong>"+(t.destination_port_end?t.destination_port_end:"")+"</strong></td></tr>";break;case l.m.OBJ_SERVICE_ICMP:var u=t.icmp_type?-1==t.icmp_type?"Any":t.icmp_type.toString():"",p=t.icmp_code?-1==t.icmp_code?"Any":t.icmp_code.toString():"";a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")+"</td><td><strong>"+u+"</strong></td></tr>",a+="<tr><td class='fwcOrange'>"+d.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")+"</td><td><strong>"+p+"</strong></td></tr>"}t.comment&&(a+="<tr><td colspan='2'><span class='fwcOrange spanComments'>"+d.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=a+="</table>"}else o(d.translate.instant("GLOBALS.ERRORS.NO_INFO"));s(t)},function(e){o(e)})}}).bind(this))},e}()},Zf7D:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return p});var i=n("CcnG"),l=(n("Itiq"),n("Ip0R")),r=(n("7LN8"),i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"tabContent",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{height:"0"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{height:"*"},offset:null},options:void 0},{type:1,expr:"visible <=> hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}}));function a(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["class","ui-accordion-header-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.component.header)})}function s(e){return i["\u0275vid"](0,[i["\u0275ncd"](null,0),(e()(),i["\u0275and"](0,null,null,0))],null,null)}function o(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function c(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,o)),i["\u0275did"](2,540672,null,0,l.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,2,0,t.component.contentTemplate)},null)}function d(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,9,"div",[["class","ui-accordion-header ui-state-default ui-corner-all"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-state-active":0,"ui-state-disabled":1}),(e()(),i["\u0275eld"](3,0,null,null,6,"a",[["role","tab"],["tabindex","0"]],[[1,"id",0],[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.toggle(n)&&i),"keydown"===t&&(i=!1!==l.onKeydown(n)&&i),i},null,null)),(e()(),i["\u0275eld"](4,0,null,null,1,"span",[["class","ui-accordion-toggle-icon"]],null,null,null,null,null)),i["\u0275did"](5,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](7,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,s)),i["\u0275did"](9,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](10,0,null,null,10,"div",[["class","ui-accordion-content-wrapper"],["role","tabpanel"]],[[1,"id",0],[24,"@tabContent",0],[1,"aria-hidden",0],[1,"aria-labelledby",0]],[[null,"@tabContent.done"]],function(e,t,n){var i=!0;return"@tabContent.done"===t&&(i=!1!==e.component.onToggleDone(n)&&i),i},null,null)),i["\u0275did"](11,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](12,{"ui-accordion-content-wrapper-overflown":0}),i["\u0275pod"](13,{transitionParams:0}),i["\u0275pod"](14,{value:0,params:1}),i["\u0275pod"](15,{transitionParams:0}),i["\u0275pod"](16,{value:0,params:1}),(e()(),i["\u0275eld"](17,0,null,null,3,"div",[["class","ui-accordion-content ui-widget-content"]],null,null,null,null,null)),i["\u0275ncd"](null,1),(e()(),i["\u0275and"](16777216,null,null,1,null,c)),i["\u0275did"](20,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,i=e(t,2,0,n.selected,n.disabled);e(t,1,0,"ui-accordion-header ui-state-default ui-corner-all",i),e(t,5,0,"ui-accordion-toggle-icon",n.selected?n.accordion.collapseIcon:n.accordion.expandIcon),e(t,7,0,!n.hasHeaderFacet),e(t,9,0,n.hasHeaderFacet);var l=e(t,12,0,!n.selected||n.animating);e(t,11,0,"ui-accordion-content-wrapper",l),e(t,20,0,n.contentTemplate&&(n.cache?n.loaded:n.selected))},function(e,t){var n=t.component;e(t,3,0,n.id,n.id+"-content",n.selected);var i=n.id+"-content",l=n.selected?e(t,14,0,"visible",e(t,13,0,n.transitionOptions)):e(t,16,0,"hidden",e(t,15,0,n.transitionOptions));e(t,10,0,i,l,!n.selected,n.id)})}var u=i["\u0275crt"]({encapsulation:2,styles:[],data:{}});function p(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"div",[["role","tablist"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275did"](2,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275ncd"](null,0)],function(e,t){var n=t.component;e(t,1,0,n.styleClass,"ui-accordion ui-widget ui-helper-reset"),e(t,2,0,n.style)},null)}},c3Gj:function(e,t,n){"use strict";var i=n("CcnG"),l=n("Ge8E"),r=n("EjV3"),a=n("Ip0R"),s=n("nxom"),o=n("m6j1"),c=n("2xrz"),d=n("WLQa"),u=n("ZQ90"),p=n("IOOi"),f=n("xhm7"),g=n("qIZb"),m=n("XOMR");n("LwpX"),n("t/Na"),n("w2nL"),n("PIn4"),n("P6hr"),n("zLlU"),n("AjHW"),n("H9gU"),n("Mebi"),n("77Y5"),n("U3yX"),n("oygf"),n("4Vzq"),n("yEB0"),n("2Rin"),n("sqqX"),n("36a9"),n("A7o+"),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return b});var _=i["\u0275crt"]({encapsulation:2,styles:[["div.fwcTree--item{margin-left:0;transition:all .3s}div.fwcTree--item.fwcHighlightNode{margin-left:.2em;background-color:#c8e6c9!important;padding-right:8em}div.fwcTree--item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}"]],data:{}});function E(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,l.b,l.a)),i["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),i["\u0275pod"](3,{width:0,height:1})],function(e,t){var n=e(t,3,0,"1.4em","1.4em");e(t,2,0,n)},null)}function h(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,[[2,0],["hintFirstTreeElement",1]],null,0,"i",[["aria-hidden","true"],["class","fwcTreeIcon fwci-clusters fwcDarkBlue"]],null,null,null,null,null))],null,null)}function O(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-C"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["C"]))],null,null)}function w(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["I"]))],null,null)}function S(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),i["\u0275ted"](-1,null,["I"]))],null,null)}function v(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["[","]"]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.labelName)})}function I(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),i["\u0275ted"](1,null,["(",")"]))],null,function(e,t){e(t,1,0,t.parent.context.$implicit.address)})}function y(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,1,"span",[["style","margin-left: 0.3em"]],null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-question-circle fwcOrange"]],null,[[null,"mouseenter"]],function(e,t,n){var i=!0,l=e.component;return"mouseenter"===t&&(i=!1!==l.appHintService.showRegisteredHint(l.HintsIds.HINT_CA_CREATING,void 0,n)&&i),i},null,null))],null,null)}function C(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,16777216,null,null,26,"div",[["class","fwcTree--item"]],[[8,"draggable",0]],[[null,"itemClick"],[null,"menuOpening"],[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"dragstart"],[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"],[null,"mousedown"]],function(e,t,n){var l=!0,r=e.component;return"contextmenu"===t&&(l=!1!==i["\u0275nov"](e,3).onContextMenu(n)&&l),"mousedown"===t&&(l=!1!==i["\u0275nov"](e,3).onMouseDown(n)&&l),"itemClick"===t&&(l=!1!==r.contextMenuHandler(n)&&l),"menuOpening"===t&&(l=!1!==r.contextMenuLoad(n)&&l),"click"===t&&(l=!1!==r.itemClickEvent(n)&&l),"dblclick"===t&&(l=!1!==r.itemDblClickEvent(n)&&l),"click"===t&&(l=!1!==r.clearObjectInfo()&&l),"contextmenu"===t&&(l=!1!==r.clearObjectInfo()&&l),"dragstart"===t&&(l=!1!==r.onItemDragStart(e.context.$implicit,n)&&l),"mouseenter"===t&&(l=!1!==r.showObjectInfo(e.context.$implicit,n)&&l),"mouseleave"===t&&(l=!1!==r.clearObjectInfo(n)&&l),"wheel"===t&&(l=!1!==r.clearObjectInfo(n)&&l),l},null,null)),i["\u0275did"](1,278528,null,0,a.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{fwcHighlightNode:0,fwcSelectedPolicyNode:1}),i["\u0275did"](3,1196032,null,1,s.IntegralUIContextMenu,[i.ElementRef,i.ViewContainerRef,i.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),i["\u0275qud"](603979776,4,{templates:1}),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,E)),i["\u0275did"](6,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](7,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),i["\u0275ppd"](8,2),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,h)),i["\u0275did"](10,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,O)),i["\u0275did"](12,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,w)),i["\u0275did"](14,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,S)),i["\u0275did"](16,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](17,0,null,null,9,"span",[["class","fwc-label"]],null,null,null,null,null)),i["\u0275did"](18,278528,null,0,a.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),i["\u0275pod"](19,{"font-weight":0,color:1,"margin-left":2}),(e()(),i["\u0275ted"](20,null,[" "," "])),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,v)),i["\u0275did"](22,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,I)),i["\u0275did"](24,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](16777216,[[3,2]],null,1,null,y)),i["\u0275did"](26,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){var n=t.component,i=e(t,2,0,t.context.$implicit.id==n.highlightNodeId,t.context.$implicit.id==n.selectedPolicyNodeId);e(t,1,0,"fwcTree--item",i),e(t,3,0,n.treeContextMenu[t.context.$implicit.node_type]?n.treeContextMenu[t.context.$implicit.node_type]:n.treeContextMenu.NO_MENU,n.contextMenuReference),e(t,6,0,t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CA&&t.context.$implicit._fwcCaStatus),e(t,10,0,"FDF"==t.context.$implicit.node_type),e(t,12,0,(t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||t.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&t.context.$implicit.status_compiled),e(t,14,0,(t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||t.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&t.context.$implicit.status_compiled||(t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||t.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL)&&!t.context.$implicit.status_compiled&&t.context.$implicit.status_installed),e(t,16,0,(t.context.$implicit.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_CLI||t.context.$implicit.obj_type==n.ObjectTypes.OBJ_VPN_CONFIG_SER)&&t.context.$implicit._fwcOpenvpnStatus);var l=e(t,19,0,null===t.context.$implicit._fwcObjId?"bold":"normal",null===t.context.$implicit.fwcloud&&null!==t.context.$implicit.id_obj?"#006ba7":"#222",t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CLUSTER||t.context.$implicit.obj_type==n.ObjectTypes.OBJ_FIREWALL?"3px":"1px");e(t,18,0,l),e(t,22,0,t.context.$implicit.labelName&&""!==t.context.$implicit.labelName),e(t,24,0,t.context.$implicit.address&&""!==t.context.$implicit.address),e(t,26,0,t.context.$implicit.obj_type==n.ObjectTypes.OBJ_CA&&t.context.$implicit._fwcCaStatus)},function(e,t){e(t,0,0,t.context.$implicit.allowDrag);var n=i["\u0275inlineInterpolate"](1,"fwcTreeIcon ",i["\u0275unv"](t,7,0,e(t,8,0,i["\u0275nov"](t.parent,0),t.context.$implicit.obj_type,t.context.$implicit.node_type)),"");e(t,7,0,n),e(t,20,0,t.context.$implicit.text)})}function b(e){return i["\u0275vid"](0,[i["\u0275pid"](0,o.a,[]),i["\u0275qud"](402653184,1,{treeview:0}),i["\u0275qud"](671088640,2,{hintFirstTreeElement:0}),(e()(),i["\u0275eld"](3,0,null,null,5,"iui-treeview",[],null,[[null,"afterExpand"],[null,"afterCollapse"],[null,"dragOver"],[null,"dragLeave"],[null,"dragDrop"],["document","keydown"],["document","keyup"]],function(e,t,n){var l=!0,r=e.component;return"document:keydown"===t&&(l=!1!==i["\u0275nov"](e,6).onWindowKeyDown(n)&&l),"document:keyup"===t&&(l=!1!==i["\u0275nov"](e,6).onWindowKeyUp(n)&&l),"afterExpand"===t&&(l=!1!==r.setExpandedNodes(n,!0)&&l),"afterCollapse"===t&&(l=!1!==r.setExpandedNodes(n,!1)&&l),"dragOver"===t&&(l=!1!==r.onDragOver(n)&&l),"dragLeave"===t&&(l=!1!==r.onDragLeave(n)&&l),"dragDrop"===t&&(l=!1!==r.onDragDrop(n)&&l),l},c.b,c.a)),i["\u0275prd"](512,null,d.IntegralUIDataService,d.IntegralUIDataService,[]),i["\u0275prd"](512,null,u.IntegralUIBaseService,u.IntegralUIBaseService,[]),i["\u0275did"](6,15974400,[[1,4]],1,p.IntegralUITreeView,[d.IntegralUIDataService,f.IntegralUIDragDropService,i.ElementRef,i.Renderer,g.IntegralUICommonService,m.IntegralUIFilterService,i.ComponentFactoryResolver,u.IntegralUIBaseService],{allowDrag:[0,"allowDrag"],allowDrop:[1,"allowDrop"],allowFocus:[2,"allowFocus"],items:[3,"items"],virtualMode:[4,"virtualMode"],itemDisplay:[5,"itemDisplay"]},{dragDrop:"dragDrop",dragLeave:"dragLeave",dragOver:"dragOver",afterCollapse:"afterCollapse",afterExpand:"afterExpand"}),i["\u0275qud"](603979776,3,{itemTemplate:0}),(e()(),i["\u0275and"](0,[[3,2]],null,0,null,C))],function(e,t){e(t,6,0,!0,!0,!0,t.component.items,!0,0)},null)}},m6j1:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,l,r=n("EMdb"),a=((i={})[r.m.OBJ_FIREWALL]="fwci-firewall",i[r.m.OBJ_SERVICE_IP]="fwci-ipservice",i[r.m.OBJ_SERVICE_TCP]="fwci-tcpservice",i[r.m.OBJ_SERVICE_ICMP]="fwci-icmpservice",i[r.m.OBJ_SERVICE_UDP]="fwci-udpservice",i[r.m.OBJ_ADDRESS]="fwci-address",i[r.m.OBJ_ADDRESS_RANGE]="fwci-addressrange",i[r.m.OBJ_NETWORK]="fwci-network",i[r.m.OBJ_HOST]="fwci-host",i[r.m.OBJ_INTERFACE_FIREWALL]="fwci-interface fwcGreen",i[r.m.OBJ_INTERFACE_HOST]="fwci-interface fwcGreen",i[r.m.OBJ_GROUP]="fwci-objectgroup",i[r.m.OBJ_SERVICE_GROUP]="fwci-servicegroup",i[r.m.OBJ_GEN_IP_OBJECT]="fwci-ipobjects",i[r.m.OBJ_CLUSTER]="fwci-cluster fwcDarkBlue",i[r.m.OBJ_DNS]="fwci2-dns-in",i[r.m.OBJ_LABEL]="fwci2-label",i[r.m.OBJ_CA]="fwci2-ca",i[r.m.OBJ_CERT_CLI]="fwci2-certificate",i[r.m.OBJ_CERT_SER]="fwci2-certificate fwcDarkBlue",i[r.m.OBJ_VPN_CONFIG_CLI]="fwci2-vpn-config",i[r.m.OBJ_VPN_CONFIG_SER]="fwci2-vpn-config fwcDarkBlue",i[r.m.OBJ_GEN_RULE]="fwci-rule",i),s=((l={})[r.l.FOLDER_CLUSTER]="fwci-clusters fwcDarkBlue",l[r.l.FOLDER_CLUSTER_FW]="fwci-compileallfirewalls2",l[r.l.FOLDER_CA]="fwci2-ca fwcDarkBlue",l[r.l.FOLDER]="fwci2-folder",l[r.l.STANDARD]="fwci2-folderstd",l[r.l.FOLDER_FW]="fwci-firewalls",l[r.l.OBJ_FIREWALL]="fwci-firewall",l[r.l.FOLDER_OBJECTS]="fwci-ipobjects",l[r.l.FOLDER_SERVICES]="fwci-services",l[r.l.FOLDER_POLICY]="fwci-filterpolicies",l[r.l.POLICY_INPUT]="fwci-input",l[r.l.POLICY_OUTPUT]="fwci-output",l[r.l.POLICY_FORWARD]="fwci-forward",l[r.l.FOLDER_NAT]="fwci-nat",l[r.l.POLICY_SNAT]="fwci-snat",l[r.l.POLICY_DNAT]="fwci-dnat",l[r.l.OPENVPN_ROOT]="fwci2-openvpn",l),o=function(){function e(){}return e.prototype.transform=function(e,t,n){var i="fwcBlue",l="";return t&&s[t]?l=s[t]:a[e]&&(l=a[e]),n&&(i=n),l+" "+i},e}()},pmWI:function(e,t,n){var i=n("mrSG").__decorate,l=n("mrSG").__metadata;Object.defineProperty(t,"__esModule",{value:!0});var r=n("CcnG"),a=n("ihYY"),s=n("Ip0R"),o=n("7LN8"),c=0,d=function(){function e(e){this.el=e,this.collapsed=!1,this.collapsedChange=new r.EventEmitter,this.onBeforeToggle=new r.EventEmitter,this.onAfterToggle=new r.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-fieldset-"+c++}return e.prototype.toggle=function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand(e):this.collapse(e),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()},e.prototype.expand=function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)},e.prototype.collapse=function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.onToggleDone=function(e){this.animating=!1},i([r.Input(),l("design:type",String)],e.prototype,"legend",void 0),i([r.Input(),l("design:type",Boolean)],e.prototype,"toggleable",void 0),i([r.Input(),l("design:type",Boolean)],e.prototype,"collapsed",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"collapsedChange",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"onBeforeToggle",void 0),i([r.Output(),l("design:type",r.EventEmitter)],e.prototype,"onAfterToggle",void 0),i([r.Input(),l("design:type",Object)],e.prototype,"style",void 0),i([r.Input(),l("design:type",String)],e.prototype,"styleClass",void 0),i([r.Input(),l("design:type",String)],e.prototype,"transitionOptions",void 0),i([r.Component({selector:"p-fieldset",template:'\n        <fieldset [attr.id]="id" [ngClass]="{\'ui-fieldset ui-widget ui-widget-content ui-corner-all\': true, \'ui-fieldset-toggleable\': toggleable}" [ngStyle]="style" [class]="styleClass">\n            <legend class="ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text">\n                <ng-container *ngIf="toggleable; else legendContent">\n                    <a tabindex="0" (click)="toggle($event)" (keydown.enter)="toggle($event)" [attr.aria-controls]="id + \'-content\'" [attr.aria-expanded]="!collapsed">\n                        <ng-container *ngTemplateOutlet="legendContent"></ng-container>\n                    </a>\n                </ng-container>\n                <ng-template #legendContent>\n                    <span class="ui-fieldset-toggler pi" *ngIf="toggleable" [ngClass]="{\'pi-minus\': !collapsed,\'pi-plus\':collapsed}"></span>\n                    <span class="ui-fieldset-legend-text">{{legend}}</span>\n                    <ng-content select="p-header"></ng-content>\n                </ng-template>\n            </legend>\n            <div [attr.id]="id + \'-content\'" class="ui-fieldset-content-wrapper" [@fieldsetContent]="collapsed ? {value: \'hidden\', params: {transitionParams: transitionOptions}} : {value: \'visible\', params: {transitionParams: transitionOptions}}" \n                        [ngClass]="{\'ui-fieldset-content-wrapper-overflown\': collapsed||animating}" [attr.aria-hidden]="collapsed"\n                         (@fieldsetContent.done)="onToggleDone($event)" role="region">\n                <div class="ui-fieldset-content">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n        </fieldset>\n    ',animations:[a.trigger("fieldsetContent",[a.state("hidden",a.style({height:"0px"})),a.state("visible",a.style({height:"*"})),a.transition("visible => hidden",a.animate("{{transitionParams}}")),a.transition("hidden => visible",a.animate("{{transitionParams}}"))])]})],e)}();t.Fieldset=d,t.FieldsetModule=function(){return i([r.NgModule({imports:[s.CommonModule],exports:[d,o.SharedModule],declarations:[d]})],function(){})}()},quQV:function(e,t,n){"use strict";var i=n("CcnG"),l=n("Ge8E"),r=n("EjV3"),a=n("Ip0R");n("0VEr"),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return d});var s=i["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function o(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,"span",[["class","logMessage"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.$implicit)})}function c(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"p-progressSpinner",[],null,null,null,l.b,l.a)),i["\u0275did"](1,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),i["\u0275pod"](2,{width:0,height:1})],function(e,t){var n=e(t,2,0,"25px","25px");e(t,1,0,n)},null)}function d(e){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{divLoggerEl:0}),(e()(),i["\u0275eld"](1,0,[[1,0],["divLoggerEl",1]],null,4,"div",[["class","divLoggerComp"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,o)),i["\u0275did"](3,278528,null,0,a.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),i["\u0275and"](16777216,null,null,1,null,c)),i["\u0275did"](5,16384,null,0,a.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.messages),e(t,5,0,n.loadingData)},null)}},sqqX:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),l=n("9Z1F"),r=n("fgKk"),a=n("kCWp"),s=n("CcnG"),o=n("t/Na"),c=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n}return Object(i.__extends)(t,e),t.prototype.getCA=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/pki/ca/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.newCA=function(e){var t=r.a.settings.fwcAppURL+"/vpn/pki/ca";return r.a.log("VPN New CA: "+t,e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteCA=function(e){var t=r.a.settings.fwcAppURL+"/vpn/pki/ca/del";return r.a.log("VPN delete CA: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getCertificate=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/pki/crt/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.newCertificate=function(e){var t=r.a.settings.fwcAppURL+"/vpn/pki/crt";return r.a.log("VPN New certificate: "+t,e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteCertificate=function(e){var t=r.a.settings.fwcAppURL+"/vpn/pki/crt/del";return r.a.log("VPN delete certificate: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getConfig=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteConfig=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/del",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.newConfig=function(e){var t=r.a.settings.fwcAppURL+"/vpn/openvpn";return r.a.log("VPN New configuration: "+t,e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.updateConfig=function(e){var t=r.a.settings.fwcAppURL+"/vpn/openvpn";return r.a.log("VPN Update configuration: "+t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.installConfig=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/install",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getConfigFile=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/file/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getVPNLanNextFreeIP=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/ip/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getConfigRestrictions=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/restricted",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.getConfigIPObjects=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/vpn/openvpn/ipobj/get",JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.ngInjectableDef=s.defineInjectable({factory:function(){return new t(s.inject(o.c))},token:t,providedIn:"root"}),t}(a.a)},w2nL:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n("mrSG"),l=n("9Z1F"),r=n("67Y/"),a=n("fgKk"),s=function(e){function t(t){var n=e.call(this)||this;return n.httpClient=t,n}return Object(i.__extends)(t,e),t.prototype.getAllFirewalls=function(e){return this.httpClient.put(a.a.settings.fwcAppURL+"/firewall/all/get",JSON.stringify({fwcloud:e})).pipe(Object(l.a)(this.handleError))},t.prototype.getFirewall=function(e,t){return this.httpClient.put(a.a.settings.fwcAppURL+"/firewall/get",JSON.stringify({firewall:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.getFirewallsByCloud=function(e,t){return this.httpClient.put(a.a.settings.fwcAppURL+"/firewall/cloud/get",JSON.stringify({fwcloud:e})).pipe(Object(l.a)(this.handleError))},t.prototype.updateFirewall=function(e){var t=a.a.settings.fwcAppURL+"/firewall";return a.a.log("Updating firewall: ",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.newFirewall=function(e){var t=a.a.settings.fwcAppURL+"/firewall";return a.a.log("Creating new firewall ",t,e),this.httpClient.post(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteFirewall=function(e,t){var n=a.a.settings.fwcAppURL+"/firewall/del",i={firewall:e,fwcloud:t};return a.a.log("Deleting firewall ",n,i),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(l.a)(this.handleError))},t.prototype.cloneFirewall=function(e){var t=a.a.settings.fwcAppURL+"/firewall/clone";return a.a.log("Cloning firewall ",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.checkFwRestrictions=function(e,t){return this.httpClient.put(a.a.settings.fwcAppURL+"/firewall/restricted",JSON.stringify({firewall:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.getAllClusters=function(e){return this.httpClient.put(a.a.settings.fwcAppURL+"/cluster/all/get",JSON.stringify({fwcloud:e})).pipe(Object(l.a)(this.handleError))},t.prototype.getCluster=function(e,t){return this.httpClient.put(a.a.settings.fwcAppURL+"/cluster/get",JSON.stringify({cluster:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.getClusterNodes=function(e,t){return this.httpClient.put(a.a.settings.fwcAppURL+"/firewall/cluster/get",JSON.stringify({cluster:e,fwcloud:t})).pipe(Object(l.a)(this.handleError))},t.prototype.deleteClusterNode=function(e,t,n){var i=a.a.settings.fwcAppURL+"/firewall/delfromcluster",r={cluster:e,firewall:t,fwcloud:n};return a.a.log("Delete node from cluster: ",i,r),this.httpClient.put(i,JSON.stringify(r)).pipe(Object(l.a)(this.handleError))},t.prototype.getClusterMasterNode=function(e,t){var n=a.a.settings.fwcAppURL+"/firewall/cluster/get",i={cluster:e,fwcloud:t};return a.a.log("Get cluster master node ",n),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(r.a)(this.parseClusterMasterNode),Object(l.a)(this.handleError))},t.prototype.parseClusterMasterNode=function(e){var t,n={respStatus:!1,respCode:"EMPTY_RES",errorMsg:"UNEXPECTED SERVER RESPONSE"};t=e.data;for(var i=0;t&&i<t.length;i++)if(t[i].fwmaster){n=Object.assign({},t[i]);break}return n},t.prototype.newCluster=function(e,t,n){var i=a.a.settings.fwcAppURL+"/cluster",r={fwcloud:t,node_id:n,clusterData:{}};return r.clusterData=e,a.a.log("New cluster: ",i,JSON.stringify(r)),this.httpClient.post(i,JSON.stringify(r)).pipe(Object(l.a)(this.handleError))},t.prototype.updateCluster=function(e,t,n){var i=a.a.settings.fwcAppURL+"/cluster",r={fwcloud:t,clusterData:{}};return r.clusterData=e,a.a.log("Update cluster: ",i,JSON.stringify(r)),this.httpClient.put(i,JSON.stringify(r)).pipe(Object(l.a)(this.handleError))},t.prototype.deleteCluster=function(e,t){var n=a.a.settings.fwcAppURL+"/cluster/del",i={cluster:e,fwcloud:t};return a.a.log("Deleting cluster ",n,i),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(l.a)(this.handleError))},t.prototype.convertFwToCluster=function(e){var t=a.a.settings.fwcAppURL+"/cluster/fwtocluster";return a.a.log("Convert firewall to cluster",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.convertClusterToFw=function(e){var t=a.a.settings.fwcAppURL+"/cluster/clustertofw";return a.a.log("Convert cluster to firewall",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.cloneCluster=function(e){var t=a.a.settings.fwcAppURL+"/cluster/clone";return a.a.log("Cloning cluster ",t,e),this.httpClient.put(t,JSON.stringify(e)).pipe(Object(l.a)(this.handleError))},t.prototype.checkClusterRestrictions=function(e,t){var n=a.a.settings.fwcAppURL+"/cluster/restricted",i={firewall:e,fwcloud:t};return a.a.log("Cluster check restrictions: ",i),this.httpClient.put(n,JSON.stringify(i)).pipe(Object(l.a)(this.handleError))},t}(n("kCWp").a)},wmoJ:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return d});var i=n("CcnG"),l=(n("pmWI"),n("Ip0R")),r=(n("7LN8"),i["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fieldsetContent",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{height:"0px"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{height:"*"},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}}));function a(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function s(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),i["\u0275eld"](1,0,null,null,2,"a",[["tabindex","0"]],[[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.enter"]],function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.toggle(n)&&i),"keydown.enter"===t&&(i=!1!==l.toggle(n)&&i),i},null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,a)),i["\u0275did"](3,540672,null,0,l.NgTemplateOutlet,[i.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,3,0,i["\u0275nov"](t.parent,7))},function(e,t){var n=t.component;e(t,1,0,n.id+"-content",!n.collapsed)})}function o(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,2,"span",[["class","ui-fieldset-toggler pi"]],null,null,null,null,null)),i["\u0275did"](1,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"pi-minus":0,"pi-plus":1})],function(e,t){var n=t.component,i=e(t,2,0,!n.collapsed,n.collapsed);e(t,1,0,"ui-fieldset-toggler pi",i)},null)}function c(e){return i["\u0275vid"](0,[(e()(),i["\u0275and"](16777216,null,null,1,null,o)),i["\u0275did"](1,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),i["\u0275eld"](2,0,null,null,1,"span",[["class","ui-fieldset-legend-text"]],null,null,null,null,null)),(e()(),i["\u0275ted"](3,null,["",""])),i["\u0275ncd"](null,0),(e()(),i["\u0275and"](0,null,null,0))],function(e,t){e(t,1,0,t.component.toggleable)},function(e,t){e(t,3,0,t.component.legend)})}function d(e){return i["\u0275vid"](0,[(e()(),i["\u0275eld"](0,0,null,null,16,"fieldset",[],[[1,"id",0]],null,null,null,null)),i["\u0275did"](1,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](2,{"ui-fieldset ui-widget ui-widget-content ui-corner-all":0,"ui-fieldset-toggleable":1}),i["\u0275did"](3,278528,null,0,l.NgStyle,[i.KeyValueDiffers,i.ElementRef,i.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),i["\u0275eld"](4,0,null,null,3,"legend",[["class","ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text"]],null,null,null,null,null)),(e()(),i["\u0275and"](16777216,null,null,1,null,s)),i["\u0275did"](6,16384,null,0,l.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),i["\u0275and"](0,[["legendContent",2]],null,0,null,c)),(e()(),i["\u0275eld"](8,0,null,null,8,"div",[["class","ui-fieldset-content-wrapper"],["role","region"]],[[1,"id",0],[24,"@fieldsetContent",0],[1,"aria-hidden",0]],[[null,"@fieldsetContent.done"]],function(e,t,n){var i=!0;return"@fieldsetContent.done"===t&&(i=!1!==e.component.onToggleDone(n)&&i),i},null,null)),i["\u0275did"](9,278528,null,0,l.NgClass,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["\u0275pod"](10,{"ui-fieldset-content-wrapper-overflown":0}),i["\u0275pod"](11,{transitionParams:0}),i["\u0275pod"](12,{value:0,params:1}),i["\u0275pod"](13,{transitionParams:0}),i["\u0275pod"](14,{value:0,params:1}),(e()(),i["\u0275eld"](15,0,null,null,1,"div",[["class","ui-fieldset-content"]],null,null,null,null,null)),i["\u0275ncd"](null,1)],function(e,t){var n=t.component,l=n.styleClass,r=e(t,2,0,!0,n.toggleable);e(t,1,0,l,r),e(t,3,0,n.style),e(t,6,0,n.toggleable,i["\u0275nov"](t,7));var a=e(t,10,0,n.collapsed||n.animating);e(t,9,0,"ui-fieldset-content-wrapper",a)},function(e,t){var n=t.component;e(t,0,0,n.id);var i=n.id+"-content",l=n.collapsed?e(t,12,0,"hidden",e(t,11,0,n.transitionOptions)):e(t,14,0,"visible",e(t,13,0,n.transitionOptions));e(t,8,0,i,l,n.collapsed)})}},zLlU:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("jvbL"),l=(n("IOOi"),n("24Yq"),n("AjHW"),n("LwpX"),n("H9gU"),n("Mebi"),n("PIn4"),n("w2nL"),n("P6hr"),n("U3yX"),n("77Y5"),n("EMdb")),r=n("fgKk"),a=(n("yEB0"),n("36a9"),n("2Rin"),n("sqqX"),function(){function e(e,t,n,i,r,a,s,o,c,d,u,p,f,g,m,_){this.refService=e,this.fwcObjectTreeService=t,this.itemSelectedService=n,this.fwcPolicyService=i,this.fwcUserService=r,this.fwcFirewallService=a,this.fwcObjectService=s,this.fwcInterfaceService=o,this.fwcContextMenuService=c,this.confirmationService=d,this.messageService=u,this.inputDataService=p,this.utilService=f,this.fwcVpnService=g,this.appHintService=m,this.translate=_,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=[],this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this._searchString="",this.alive=!0,this.compileOrInstallLogMessage=void 0,this.ObjectTypes=l.m,this.infoTooltipShown=!1,this.CACertTypes=l.c,this.HintsIds=l.j,this.items=[]}return Object.defineProperty(e.prototype,"treeOptions",{set:function(e){this.options=Object.assign({},e),this.treeExpandedNodes=[],this.selectedPolicyNodeId=void 0,this.treeLoad()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},set:function(e){this._searchString=e,this.treeFilter()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.itemSelectedService.getItem().pipe(Object(i.a)(function(){return e.alive})).subscribe(function(t){t.container||t._onlyReloadInfoPanel||e.treeFindItem(t._fwcObjId,t._fwcObjType,t._fwcSubObjId,t._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(Object(i.a)(function(){return e.alive})).subscribe(function(t){if(e.options.container==l.r.C_FIREWALLS&&null!=t._fwcFwId&&!t._dontLocateInTree){var n=e.treeFindPolicyItem(e.items,t._fwcFwId,t._fwcPolicyType);n&&(e.selectedPolicyNodeId=n.id,n!=e.treeview.selectedItem&&(e.treeview.clearSelection(),e.treeview.scrollTo(n),e.treeview.selectedItem=n))}}),this.itemSelectedService.getModifiedItem().pipe(Object(i.a)(function(){return e.alive})).subscribe(function(t){if(!(t.deleteFromList||t.addToList||t.selectItemInPosition))switch(t._fwcTreeAction){case l.q.NEW_ITEM:e.treeNewItem(t);break;case l.q.DELETE_ITEM:e.treeDeleteItem(t);break;case l.q.NEW_GROUP_ITEM:e.treeNewItem(t,!0);break;case l.q.RELOAD_TREE:t.containerToReload!==e.options.container&&e.items[0].node_type!==t.treeNodeToReload||e.treeLoad();break;case l.q.MODIFY_ITEM:default:e.treeModifyItem(t)}}),this.fwcUserService.getFwcUser().pipe(Object(i.a)(function(){return e.alive})).subscribe(function(t){e.fwcUser&&e.fwcUser.selectedLanguage!=t.selectedLanguage&&e.translate.use(t.selectedLanguage),e.fwcUser=t}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(function(t){e.fwcChildTypes=t}),this.appHintService.registerHint({id:l.j.HINT_NO_FW,caption:this.translate.instant("HINTS.HINT_NO_FW.CAPTION"),description:this.translate.instant("HINTS.HINT_NO_FW.DESC"),imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:l.j.HINT_CA_CREATING,caption:this.translate.instant("HINTS.HINT_CA_CREATING.CAPTION"),description:this.translate.instant("HINTS.HINT_CA_CREATING.DESC"),imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){var t=e.refService.getAppRef();e.contextMenuReference=t,e.applicationRef=t}).bind(this),1)},e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.setExpandedNodes=function(e,t){var n,i;e&&(n=e.item,t&&-1==this.treeExpandedNodes.findIndex(function(e){return e==n.id})&&this.treeExpandedNodes.push(n.id),!t)&&-1!=(i=this.treeExpandedNodes.findIndex(function(e){return e==n.id}))&&this.treeExpandedNodes.splice(i,1)},e.prototype.treeLoad=function(e,t){var n=this,i=this.fwcUserService.getActualFwSelectedCloud();this.treeview.clearItems(),this.items=[],r.a.log("<<< treeLoad ",this.options.container),this.options.container==l.r.C_FIREWALLS||this.options.container==l.r.C_FIREWALLS_CONDENSED?(this.itemSelectedService.setBlockUI(),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(function(i){var a=i[0],s=i[1],o=a.response;if(r.a.log("> TREE RECEIVED: ",a,s),o&&0==o.respStatus)n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg});else{var c,d=void 0;a.text=" ",a.expanded=!0,n.items.push(a),n.treeClusters=[],c=s.data;for(var u=0;u<c.length;u++)if(null!=c[u].cluster){d=!1;for(var p=0;p<n.treeClusters.length;p++)c[u].cluster==n.treeClusters[p].clusterId&&(n.treeClusters[p].fwnodes.push(c[u]),c[u].fwmaster&&(n.treeClusters[p].fwMasterId=c[u].id),d=!0);if(!d){var f=n.treeClusters.push({clusterId:c[u].cluster,fwnodes:[]});c[u].fwmaster&&(n.treeClusters[f-1].fwMasterId=c[u].id),n.treeClusters[f-1].fwnodes.push(c[u])}}r.a.log("> CLUSTER TREE: ",n.treeClusters),n.buildTree(e,t)}n.itemSelectedService.setBlockUI(!1),setTimeout(function(){Array.isArray(n.items)&&n.items.length&&Array.isArray(n.items[0].items)&&!n.items[0].items.length&&n.appHintService.showRegisteredHint(l.j.HINT_NO_FW,n.hintFirstTreeElement)},500)}).catch(function(e){r.a.log(["ERRORS: ",e[0],e[1],e[2]]),n.itemSelectedService.setBlockUI(!1)})):this.options.container==l.r.C_CA?(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,i).subscribe(function(i){i.text=" ",i.expanded=!0,r.a.log("> CA TREE RECEIVED: ",i),n.items.push(i),n.buildTree(e,t),n.itemSelectedService.setBlockUI(!1)},function(e){n.errorMessage=e,r.a.log(["error",n.errorMessage]),n.itemSelectedService.setBlockUI(!1)})):(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,i).subscribe(function(i){i.text=" ",i.expanded=!0,r.a.log("> TREE RECEIVED: ",i),n.reorderTreeStdNodes(i),n.items.push(i),n.buildTree(e,t),n.itemSelectedService.setBlockUI(!1)},function(e){n.errorMessage=e,r.a.log(["error",n.errorMessage]),n.itemSelectedService.setBlockUI(!1)}))},e.prototype.getTree=function(e){return new Promise((function(t,n){var i=this.fwcUserService.getActualFwcUser(),l=-1;null!=i.selectedFwCloud&&(l=i.selectedFwCloud),this.fwcObjectTreeService.getTree(e,l).subscribe(function(e){t(e)},function(e){n(e)})}).bind(this))},e.prototype.getAllFirewalls=function(){return new Promise((function(e,t){var n=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(n).subscribe(function(t){e(t)},function(e){t(e)})}).bind(this))},e.prototype.reorderTreeStdNodes=function(e){},e.prototype.buildTree=function(e,t){if(this.treePrepare(this.items),this.treeview.updateLayout(),e){var n=this.items[0];r.a.log("Inside build tree: ",e,t,this.options),this.options.container==e.container&&(t?void 0!==e._fwcObjTreeParentId?n=this.treeview.findItemById(e._fwcObjTreeParentId):void 0!==e.pid&&(n=this.treeview.findItemById(e.pid)):void 0!==e._fwcObjTreeId?(r.a.log("Locating item by TREE ID: ",e._fwcObjTreeId),n=this.treeview.findItemById(e._fwcObjTreeId)):void 0!==e._fwcObjId&&void 0!==e._fwcObjType&&(r.a.log("Locating item by ID and TYPE: ",e._fwcObjId,e._fwcObjType),n=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),n&&(this.treeview.scrollTo(n),this.treeview.expand(n),this.treeview.selectedItem=n,this.treeview.updateView())}},e.prototype.treePrepare=function(e,t,n,i,r,a,s,o,c){var d=this,u=[l.l.POLICY_INPUT,l.l.POLICY_OUTPUT,l.l.POLICY_FORWARD,l.l.POLICY_SNAT,l.l.POLICY_DNAT,l.l.POLICY_ROUTING],p=u.concat([l.l.FOLDER_POLICY,l.l.FOLDER_INTERFACES,l.l.OPENVPN_ROOT,l.l.OPENVPN_CA,l.l.OPENVPN_CONFIG_SER,l.l.OPENVPN_CONFIG_CLI]);e.forEach(function(e,f,g){var m,_,E,h,O,w,S=[],v=[],I=[];if(d.options.container===l.r.C_FIREWALLS_CONDENSED&&(e.node_type===l.l.OBJ_FIREWALL||e.node_type===l.l.OBJ_CLUSTER))for(var y=0;y<e.items.length;y++)e.items[y].node_type!=l.l.OPENVPN_ROOT&&(e.items.splice(y,1),y-=1);S=t,v=s,I=o,-1!=d.treeExpandedNodes.findIndex(function(t){return t==e.id})&&(e.expanded=!0),e.container=d.options.container,e.containerReadOnly=d.options.containerReadOnly,(e.obj_type==l.m.OBJ_INTERFACE_FIREWALL||e.obj_type==l.m.OBJ_INTERFACE_HOST)&&(w=/(.+)\s+\[(.+)\]$/.exec(e.text))&&(e.text=w[1],e.labelName=w[2]),e.obj_type==l.m.OBJ_ADDRESS&&(w=/(.+)\s+\((.+)\)$/.exec(e.text))&&(e.text=w[1],e.address=w[2]),e._fwcObjName=e.text,e._fwcObjType=e.obj_type,e._fwcObjId=e.id_obj,e.container===l.r.C_FIREWALLS||e.container===l.r.C_OBJECTS||e.container===l.r.C_FIREWALLS_CONDENSED?(n&&(m=n,_=i,E=r,h=a,r===l.m.OBJ_FIREWALL&&(e._fwcFwId=m,e._fwcFwName=_,e.firewall_id=m,e.firewall_name=_),r===l.m.OBJ_CLUSTER&&(e._fwcClusterId=m,e._fwcClusterName=_,e.cluster_id=m,e.cluster_name=_),r===l.m.OBJ_HOST&&(e._fwcHostId=m,e._fwcHostName=_,e.host_id=m,e.host_name=_)),e.fw_status&&e.fw_status.length&&(S=e.fw_status),e.openvpn_status&&e.openvpn_status.length&&(I=e.openvpn_status),e.node_type!==l.l.OBJ_FIREWALL&&e.node_type!==l.l.OBJ_CLUSTER&&e.node_type!==l.l.OBJ_HOST||(m=e.id_obj,_=e.text,E=e.obj_type,e.node_type==l.l.OBJ_FIREWALL&&(e._fwcFwId=m,e._fwcFwName=_,d.updateFwNodeStatus(e,S)),e.node_type==l.l.OBJ_CLUSTER&&d.updateClusterNodeStatus(e,S)),e.obj_type!==l.m.OBJ_VPN_CONFIG_CLI&&e.obj_type!==l.m.OBJ_VPN_CONFIG_SER||d.updateOPVNStatus(e,I),e.node_type!==l.l.FOLDER_INTERFACES&&e.node_type!==l.l.FOLDER_CLUSTER_FW||!e._fwcClusterId||(h=e.id_obj),e.parent_id=m,e.parent_name=_,e.parent_type=E,h&&(e._fwcFwId=h)):e.container===l.r.C_CA&&(e.ca_status&&e.ca_status.length&&(v=e.ca_status),e.obj_type==l.m.OBJ_CA&&(O=e.id_obj),c&&(e._fwcParentCA=c),e.obj_type==l.m.OBJ_CA&&d.updateCAStatus(e,v)),e.expanded=!!e.expanded,e.allowDrag=(e.node_type==l.l.FOLDER||null!==e._fwcObjId&&null!==e._fwcObjType&&-1==p.findIndex(function(t){return e.node_type==t}))&&(e.obj_type!==l.m.OBJ_FIREWALL||null==e._fwcClusterId),-1!=u.findIndex(function(t){return e.node_type==t})&&(e._fwcPolicyFwId=e.id_obj),e.items&&e.items.length&&d.treePrepare(e.items,S,m,_,E,h,v,I,O)})},e.prototype.treePrepareIt=function(){var e,t,n,i,a,s=[l.l.POLICY_INPUT,l.l.POLICY_OUTPUT,l.l.POLICY_FORWARD,l.l.POLICY_SNAT,l.l.POLICY_DNAT,l.l.POLICY_ROUTING],o=s.concat([l.l.FOLDER_POLICY,l.l.FOLDER_INTERFACES]),c=[];c.push(this.items[0]);for(var d=function(){var d=c.pop();if(e=void 0,t=void 0,n=void 0,i=void 0,a=[],-1!=u.treeExpandedNodes.findIndex(function(e){return e==d.id})&&(d.expanded=!0),d.container=u.options.container,d.containerReadOnly=u.options.containerReadOnly,d.obj_type==l.m.OBJ_INTERFACE_FIREWALL||d.obj_type==l.m.OBJ_INTERFACE_HOST){var p=/(.+)\s+\[(.+)\]$/.exec(d.text);p&&(d.text=p[1],d.labelName=p[2])}if(d._fwcObjName=d.text,d._fwcObjType=d.obj_type,d._fwcObjId=d.id_obj,d.container!==l.r.C_FIREWALLS&&d.container!==l.r.C_OBJECTS||(d.parent_id&&(e=d.parent_id,t=d.parent_name,n=d.parent_type,i=d.fw_master,d.parent_type===l.m.OBJ_FIREWALL&&(d._fwcFwId=e,d._fwcFwName=t,d.firewall_id=e,d.firewall_name=t),d.parent_type===l.m.OBJ_CLUSTER&&(d._fwcClusterId=e,d._fwcClusterName=t,d.cluster_id=e,d.cluster_name=t),d.parent_type===l.m.OBJ_HOST&&(d._fwcHostId=e,d._fwcHostName=t,d.host_id=e,d.host_name=t)),d.fw_status&&d.fw_status.length&&r.a.log(">>> TREE fw_status: ",a=d.fw_status),d.node_type!==l.l.OBJ_FIREWALL&&d.node_type!==l.l.OBJ_CLUSTER&&d.node_type!==l.l.OBJ_HOST||(e=d.id_obj,t=d.text,n=d.obj_type,d.node_type==l.l.OBJ_FIREWALL&&(d._fwcFwId=e,d._fwcFwName=t,u.updateFwNodeStatus(d,a)),d.node_type==l.l.OBJ_CLUSTER&&u.updateClusterNodeStatus(d,a)),d.node_type!==l.l.FOLDER_INTERFACES&&d.node_type!==l.l.FOLDER_CLUSTER_FW||!d._fwcClusterId||(i=d.id_obj),d.parent_id=e,d.parent_name=t,d.parent_type=n,i&&(d._fwcFwId=i)),d.expanded=!!d.expanded,d.allowDrag=(d.node_type==l.l.FOLDER||null!==d._fwcObjId&&null!==d._fwcObjType&&-1==o.findIndex(function(e){return d.node_type==e}))&&(d.obj_type!==l.m.OBJ_FIREWALL||null==d._fwcClusterId),s.findIndex(function(e){return d.node_type==e})&&(d._fwcPolicyFwId=d.id_obj),d.items&&d.items.length)for(var f=d.items.length-1;f>=0;f--)e&&(d.items[f].parent_id=e,d.items[f].parent_name=t,d.items[f].parent_type=n),a&&a.length&&(d.items[f].fw_status=a),null!=i&&(d.items[f].fw_master=i),c.push(d.items[f])},u=this;c.length;)d()},e.prototype.updateFwNodeStatus=function(e,t){for(var n,i,l=0;t&&l<t.length;l++)t[l].id==e.id_obj&&(n=t[l]),null!=e._fwcClusterId&&t[l].cluster==e._fwcClusterId&&(i={clusterId:t[l].cluster,status_compiled:0,status_installed:2&t[l].status?1:0});n&&(e.status_compiled=1&n.status?1:0,e.status_installed=2&n.status?1:0),i&&null!=e._fwcClusterId&&e._fwcClusterId==i.clusterId&&(e.status_compiled=0,e.status_installed=i.status_installed)},e.prototype.updateClusterNodeStatus=function(e,t){var n,i,l=0;if(e){for(var r=0;r<this.treeClusters.length;r++)if(this.treeClusters[r].clusterId==e.id_obj){i=this.treeClusters[r];break}for(r=0;t&&r<t.length;r++)t[r].cluster==e.id_obj&&(n=t[r],i&&i.clusterId==n.cluster&&(i.fwMasterId==n.id&&(e.status_compiled=1&n.status?1:0),2&n.status&&(l=1)));e.status_installed=l}},e.prototype.updateCAStatus=function(e,t){var n;if(e){for(var i=0;t&&i<t.length;i++)if(e.id_obj==t[i].id&&t[i].status){n=1;break}e._fwcCaStatus=n}},e.prototype.updateOPVNStatus=function(e,t){var n;if(e){for(var i=0;t&&i<t.length;i++)if(e.id_obj==t[i].id&&t[i].status){n=1;break}e._fwcOpenvpnStatus=n}},e.prototype.treeFindItem=function(e,t,n,i){var l=this.findItemByIdType(this.items,e,t,n,i);l&&(this.treeview.clearSelection(),this.treeview.scrollTo(l),this.treeview.selectedItem=l,this.treeview.updateLayout())},e.prototype.treeFindPolicyItem=function(e,t,n){for(var i=null,l=0;l<e.length&&!i;l++)e[l]._fwcPolicyFwId==t&&e[l]._fwcObjType==n?i=e[l]:e[l].items&&e[l].items.length&&(i=this.treeFindPolicyItem(e[l].items,t,n));return i},e.prototype.findItemsByIdType=function(e,t,n,i,r){for(var a,s=[],o=0;o<e.length;o++)if(e[o]._fwcObjId==t&&e[o]._fwcObjType==n&&e[o].node_type!=l.l.FOLDER_INTERFACES)if(a=e[o],i&&a.items){var c=this.findItemsByIdType(a.items,i,r);c&&c.length&&(s=s.concat(c))}else s=s.concat(a);else e[o].items&&e[o].items.length&&(s=s.concat(this.findItemsByIdType(e[o].items,t,n,i,r)));return s},e.prototype.findItemByIdType=function(e,t,n,i,l){for(var r=null,a=0;a<e.length&&!r;a++)if(e[a]._fwcObjId==t&&e[a]._fwcObjType==n){if(r=e[a],i&&r.items){var s=this.findItemByIdType(r.items,i,l);s&&(r=s)}}else e[a].items&&e[a].items.length&&(r=this.findItemByIdType(e[a].items,t,n,i,l));return r},e.prototype.treeModifyItem=function(e){if(r.a.log(">> treeModifyItem: ",e),this.items&&this.items.length&&null!=e.id&&null!=e.type||null!=e.node_id){var t=[];if(e.node_id){var n=this.treeview.findItemById(e.node_id);n&&t.push(n)}else t=this.findItemsByIdType(this.items,e.id,e.type);if(t&&t.length)for(var i=0,a=t;i<a.length;i++){for(var s=a[i],o=""+s.type,c=s.id,d=0,u=Object.keys(s);d<u.length;d++){var p=u[d];void 0!==e[p]&&(s[p]=e[p])}s.type=o,s.id=c,s._fwcObjName=s.text=e.name,this.treeview.updateLayout()}}this.options.container==l.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&(r.a.log(">>> treeUpdateFwStatus"),this.treeUpdateFwStatus(this.items,e.fw_status))},e.prototype.treeNewItem=function(e,t){r.a.log(">> treeNewItem: ",e),(e.container==this.options.container||this.options.container==l.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length)&&this.treeLoad(e,t)},e.prototype.treeDeleteItem=function(e){r.a.log(">> treeDeleteItem: ",e),(e.container==this.options.container||this.options.container==l.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length)&&this.treeLoad(e,!0)},e.prototype.treeFilter=function(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.filter(this.searchOptions),this.treeview.expand()):this.treeview.filter()},e.prototype.treeUpdateFwStatus=function(e,t){for(var n=null,i=0;i<e.length;i++){var r=e[i];r.node_type==l.l.OBJ_FIREWALL&&this.updateFwNodeStatus(r,t),r.node_type==l.l.OBJ_CLUSTER&&this.updateClusterNodeStatus(r,t),r.items&&r.items.length&&(n=this.treeUpdateFwStatus(r.items,t))}return n},e.prototype.contextMenuLoad=function(e){var t=this.treeview.selectedItem;if(!t||this.options.container==l.r.C_FIREWALLS_CONDENSED&&t.node_type!=l.l.OPENVPN_CONFIG_SER&&t.node_type!=l.l.OPENVPN_CONFIG_CLI)e.cancel=!0;else{var n,i,a=null!=t._fwcObjId,s=null!=t.fwcloud,o=t.items.length;i=this.treeview.getItemParent(t),n=i&&(i.obj_type==l.m.OBJ_GROUP||i.obj_type==l.m.OBJ_SERVICE_GROUP)&&i.id_obj;var c=this.treeContextMenu[t.node_type];r.a.log("Right click on",t,"PARENT:",this.treeview.getItemParent(t)),c&&c.items?c.items.forEach(function(e){"separator"!==e.type&&(e.visible=e.id==l.g.FOLDER_EXPAND?!(t.expanded||!o):e.id==l.g.FOLDER_COLLAPSE?!(!t.expanded||!o):!(e.userObject&&!s||e.objectInGroup&&!n||!1===e.objectInGroup&&n||e.clusterNode&&!t._fwcClusterId||!1===e.clusterNode&&t._fwcClusterId||!(e.finalObject&&a||!e.finalObject&&!a)),e.enabled=!e.disableOnCACreation||!t._fwcCaStatus)}):e.cancel=!0}},e.prototype.contextMenuHandler=function(e){var t=this;if(e.item){var n=this.treeview.selectedItem;if(!n)return;switch(n._fwcUserId=this.fwcUser.user_id,e.item.id){case l.g.WHERE_USED:var i=Object.assign({},n);i._fwcUserId=this.fwcUser.user_id,i._fwcCloud=this.fwcUser.selectedFwCloud,i._infoWhereUsed=!0,this.itemSelectedService.setItem(i);break;case l.g.FOLDER_EXPAND:this.treeview.expand(n);break;case l.g.FOLDER_COLLAPSE:this.treeview.collapse(n);break;case l.g.TREE_RELOAD:this.treeLoad();break;case l.g.TREE_REPAIR:this.itemSelectedService.setRepairTree(n.node_type);break;case l.g.FIREWALL_EDIT:case l.g.NODE_EDIT:this.itemSelectedService.setItem(n);break;case l.g.POLICY_LOAD:this.actionLoadPolicy(n);break;case l.g.FIREWALL_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:l.m.OBJ_FIREWALL,node_id:n.id});break;case l.g.FIREWALL_DELETE:var a=Object.assign({},n);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case l.g.NODE_DELETE:var s=Object.assign({},n);s.deleteAction=!0,this.itemSelectedService.setItem(s);break;case l.g.FIREWALL_COMPILE:case l.g.FIREWALL_INSTALL:this.itemSelectedService.setCloudToCompile({compileAction:e.item.id==l.g.FIREWALL_COMPILE?l.f.COMP_COMPILE:l.f.COMP_INSTALL,compileWhat:l.f.COMP_FIREWALL,compileId:n._fwcObjId,compileType:n._fwcObjType});break;case l.g.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:l.f.COMP_COMPILE,compileWhat:l.f.COMP_CLOUD,compileId:void 0});break;case l.g.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:l.f.COMP_INSTALL,compileWhat:l.f.COMP_CLOUD,compileId:void 0});break;case l.g.FIREWALL_CLONE:var o={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:n._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:n._fwcObjId},{name:"type",type:"hidden",value:n._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:n.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:n._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(o);break;case l.g.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:n._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e={fwcloud:t.fwcUserService.getActualFwSelectedCloud(),firewall:n._fwcObjId,node_id:n.pid};t.fwcFirewallService.convertFwToCluster(e).subscribe(function(i){var a=i.response;r.a.log("OPERATION RESULT ",i),a&&0==a.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:a.respCode+" - "+a.errorMsg}):"ACR_CONFIRM_ASK"==a.respCode&&(t.fwcUserService.setConfirmationToken(i.data.fwc_confirm_token),t.fwcFirewallService.convertFwToCluster(e).subscribe(function(e){var i=e.response;if(r.a.log("CONVERSION RESULT: ",e),i&&0==i.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg});else{var a={};a.id=a.id_obj=a._fwcObjId=e.data.insertId,a._fwcObjType=l.m.OBJ_CLUSTER,a._fwcTreeAction=l.q.NEW_ITEM,a.container=l.r.C_FIREWALLS,t.treeNewItem(a),t.fwcPolicyService.getActualSelectedPolicy(),t.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),t.itemSelectedService.hideObjectPanel(),t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:n._fwcObjName})})}t.fwcUserService.setConfirmationToken(void 0)},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e})})}});break;case l.g.FOLDER_NEW:var c={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:n.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(c);break;case l.g.FOLDER_DELETE:if(n.node_type==l.l.FOLDER)if(n.items&&n.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{var d={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:n.id};this.fwcObjectTreeService.deleteFolder(d).subscribe(function(e){"ACR_CONFIRM_ASK"==e.response.respCode&&(t.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),t.fwcObjectTreeService.deleteFolder(d).subscribe(function(e){r.a.log(">>> DELETE FOLDER 2ND: ",e);var n=e.response;n&&0==n.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}):(t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),t.treeLoad())},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}break;case l.g.FOLDER_RENAME:var u={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:n._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:n.id},{name:"old_name",type:"hidden",value:n._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(u);break;case l.g.CLUSTER_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:l.m.OBJ_CLUSTER,node_id:n.id});break;case l.g.CLUSTER_EDIT:this.itemSelectedService.setItem(n);break;case l.g.CLUSTER_DELETE:var p=Object.assign({},n);p.deleteAction=!0,this.itemSelectedService.setItem(p);break;case l.g.CLUSTER_COMPILE:case l.g.CLUSTER_INSTALL:this.itemSelectedService.setCloudToCompile({compileAction:e.item.id==l.g.CLUSTER_COMPILE?l.f.COMP_COMPILE:l.f.COMP_INSTALL,compileWhat:l.f.COMP_CLUSTER,compileId:n._fwcObjId,compileType:n._fwcObjType});break;case l.g.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:l.f.COMP_COMPILE,compileWhat:l.f.COMP_CLUSTERS_ALL,compileId:void 0});break;case l.g.CLUSTER_CLONE:var f={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:n._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:n._fwcObjId},{name:"type",type:"hidden",value:n._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:n.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:n._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(f);break;case l.g.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:n._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e={fwcloud:t.fwcUserService.getActualFwSelectedCloud(),cluster:n._fwcObjId,node_id:n.pid};t.fwcFirewallService.convertClusterToFw(e).subscribe(function(i){var a=i.response;r.a.log("OPERATION RESULT ",i),a&&0==a.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:a.respCode+" - "+a.errorMsg}):"ACR_CONFIRM_ASK"==a.respCode&&(t.fwcUserService.setConfirmationToken(i.data.fwc_confirm_token),t.fwcFirewallService.convertClusterToFw(e).subscribe(function(e){var i=e.response;if(r.a.log("CONVERSION RESULT: ",e),i&&0==i.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg});else{var a={};a.id=a.id_obj=a._fwcObjId=e.data.insertId,a._fwcObjType=l.m.OBJ_FIREWALL,a._fwcTreeAction=l.q.NEW_ITEM,a.container=l.r.C_FIREWALLS,r.a.log("Object to reload: ",a),t.treeNewItem(a),t.fwcPolicyService.getActualSelectedPolicy(),t.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),t.itemSelectedService.hideObjectPanel(),t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:n._fwcObjName})})}t.fwcUserService.setConfirmationToken(void 0)},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e})})}});break;case l.g.NEW_INTERFACE:if(n._fwcFwId&&n._fwcObjType==l.m.OBJ_INTERFACE_FIREWALL||n._fwcClusterId&&n._fwcObjType==l.m.OBJ_INTERFACE_FIREWALL||n._fwcObjId&&!n._fwcFwId&&n._fwcObjType==l.m.OBJ_HOST){var g;g=n._fwcObjType==l.m.OBJ_INTERFACE_FIREWALL?l.m.OBJ_INTERFACE_FIREWALL:l.m.OBJ_INTERFACE_HOST;var m,_=this.fwcChildTypes.data.filter(function(e){return e.id_node==n.node_type}),E=null!=n._fwcObjId;if(_.forEach(function(e){e.is_object&&E?m=e:e.is_object||E||(m=e)}),!m)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});var h=void 0,O=void 0,w=void 0;n.parent_type===l.m.OBJ_FIREWALL&&(h=n.parent_id),n.parent_type===l.m.OBJ_CLUSTER&&(h=n._fwcFwId,O=n.parent_id),n.parent_type===l.m.OBJ_HOST&&(w=n.parent_id),r.a.log("NEW INTERFACE ON "+(O&&h?"CLUSTER "+O+", MASTER FIREWALL: "+h:w?"HOST "+w:"FIREWALL "+h)),this.itemSelectedService.setItem({node_parent:n.id,node_order:1,node_type:m.node_type,host:w,firewall:h,cluster:O,interface_type:g,_fwcObjId:void 0,_fwcObjType:g,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:n.parent_id,parent_name:n.parent_name,parent_type:n.parent_type})}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case l.g.NEW_ADDRESS:case l.g.NEW_GROUP:case l.g.NEW_NETWORK:case l.g.NEW_IP_RANGE:case l.g.NEW_HOST:case l.g.NEW_IP_SERVICE:case l.g.NEW_ICMP_SERVICE:case l.g.NEW_TCP_SERVICE:case l.g.NEW_UDP_SERVICE:case l.g.NEW_SERVICE_GROUP:case l.g.NEW_DNS:var S,v="",I=this.fwcChildTypes.data.filter(function(e){return e.id_node==n.node_type}),y=null!=n._fwcObjId;if(I.forEach(function(e){e.is_object&&y?S=e:e.is_object||y||(S=e)}),!S)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});var C=n._fwcObjType,b=void 0,R=void 0;if(e.item.id==l.g.NEW_ADDRESS&&(n._fwcObjType==l.m.OBJ_INTERFACE_FIREWALL||n._fwcObjType==l.m.OBJ_INTERFACE_HOST)){C=l.m.OBJ_ADDRESS,b=n._fwcObjId,R=n._fwcObjType;var T=-1,L=n._fwcObjName,N=new RegExp("^"+L+"$","g"),A=new RegExp("^"+L+":(\\d+)$","g");if(n.items&&n.items.constructor===Array)for(var F=0;F<n.items.length;F++){var j,D=n.items[F]._fwcObjName;N.exec(D)&&-1==T&&(T=0),(j=A.exec(D))&&(T=+j[1]+1)}v=-1==T?""+L:L+":"+T}var P=void 0;switch(e.item.id){case l.g.NEW_TCP_SERVICE:P=6;break;case l.g.NEW_ICMP_SERVICE:P=1;break;case l.g.NEW_UDP_SERVICE:P=17}this.itemSelectedService.setItem({_fwcObjId:void 0,_fwcObjType:C,_fwcObjName:v,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:b,_fwcParentInterfaceType:R,_fwcParentObjName:n._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:n.id,node_order:1,node_type:S.node_type,protocol:P});break;case l.g.EDIT:this.itemDblClickEvent(void 0);break;case l.g.DELETE:if(null==n.fwcloud||null==n.fwcloud)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:n._fwcObjName})});var M=Object.assign({},n);M.deleteAction=!0,this.itemSelectedService.setItem(M);break;case l.g.DELETE_FROM_GROUP:var U=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:n._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:U,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e=t.treeview.getItemParent(n),i={fwcloud:t.fwcUser.selectedFwCloud,node_parent:e.id,ipobj_g:e.id_obj,ipobj:n._fwcObjId};t.fwcObjectService.deleteObjectGroupObject(i).subscribe(function(l){var a=l.response;a&&0==a.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:a.respCode+" - "+a.errorMsg}):"ACR_CONFIRM_ASK"==a.respCode&&(l.data.restrictions?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:t.translate.instant("TREE.RESTR_ERROR.TEXT",{name:n._fwcObjName})}):(t.fwcUserService.setConfirmationToken(l.data.fwc_confirm_token),t.fwcObjectService.deleteObjectGroupObject(i).subscribe(function(i){var l=i.response;if(l&&0==l.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else{var a=Object.assign({},n);i.data&&i.data.length&&(a.fw_status=i.data),t.treeDeleteItem(a);var s=t.itemSelectedService.getActualItem();r.a.log("DELETION FROM GROUP: ",i,s,e,n),s&&s._fwcObjId==e._fwcObjId&&t.itemSelectedService.setItem(e),t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}t.fwcUserService.setConfirmationToken(void 0)},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)})))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:t.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),detail:e})})}});break;case l.g.CA_NEW:case l.g.CA_CERT_NEW:var x={_fwcObjId:void 0,container:this.options.container,node_id:n.id,node_type:n.node_type,obj_type:l.m.OBJ_CA};e.item.id==l.g.CA_CERT_NEW&&(x.ca=n.id_obj,x.type=l.c.client,x.obj_type=l.m.OBJ_CERT_CLI,x.ca_name=n.text),this.itemSelectedService.setItem(x);break;case l.g.CA_EDIT:case l.g.CA_CRT_EDIT:this.itemDblClickEvent(void 0);break;case l.g.CA_DELETE:case l.g.CA_CRT_DELETE:var k,B=void 0,J={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};if(e.item.id==l.g.CA_DELETE){if(n.items&&n.items.length)return void this.confirmationService.confirm({header:this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:n.text})});k=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),B=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:n.text}),J.ca=n.id_obj}else k=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),B=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:n.text}),J.crt=n.id_obj;this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:B,accept:function(){k(J).subscribe(function(e){var i=e.response;i&&0==i.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg}):"ACR_CONFIRM_ASK"==i.respCode&&(t.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),k(J).subscribe(function(e){var i=e.response;if(i&&0==i.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg});else{var r=Object.assign({},n);r._fwcTreeAction=l.q.DELETE_ITEM,t.treeDeleteItem(r),t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:t.translate.instant("TREE.VPN.DELETE_OK")}),t.fwcUserService.setConfirmationToken(void 0)}},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})},reject:function(){}});break;case l.g.VPN_CONFIG_FILE:case l.g.VPN_CONFIG_DELETE:case l.g.VPN_CONFIG_INSTALL:var V=Object.assign({},n);V.configFileAction=e.item.id==l.g.VPN_CONFIG_FILE,V.deleteAction=e.item.id==l.g.VPN_CONFIG_DELETE,V.installAction=e.item.id==l.g.VPN_CONFIG_INSTALL,this.itemSelectedService.setItem(V)}}},e.prototype.itemClickEvent=function(e){var t=this.treeview.selectedItem;switch(t.node_type){case l.l.POLICY_INPUT:case l.l.POLICY_OUTPUT:case l.l.POLICY_FORWARD:case l.l.POLICY_SNAT:case l.l.POLICY_DNAT:this.actionLoadPolicy(t);break;default:this.clearObjectInfo(void 0)}},e.prototype.itemDblClickEvent=function(e){var t=this.treeview?this.treeview.selectedItem:void 0;if(t){switch(r.a.log("fwc_tree_component --- DBL CLICK ON",t),t.node_type){case l.l.FOLDER_POLICY:case l.l.POLICY_INPUT:case l.l.POLICY_OUTPUT:case l.l.POLICY_FORWARD:case l.l.FOLDER_NAT:case l.l.POLICY_SNAT:case l.l.POLICY_DNAT:case l.l.FOLDER_ROUTING:case l.l.FOLDER_INTERFACES:break;default:if(null!==t._fwcObjId){var n=this.treeview.getItemParent(t);if(!n)return;t.obj_type!=l.m.OBJ_ADDRESS||n._fwcObjType!=l.m.OBJ_INTERFACE_FIREWALL&&n._fwcObjType!=l.m.OBJ_INTERFACE_HOST||(t._fwcParentInterfaceType=n._fwcObjType,t._fwcParentObjName=n._fwcObjName),this.itemSelectedService.setItem(t)}}e&&e.stopPropagation()}},e.prototype.actionLoadPolicy=function(e){var t={};-1!=[l.l.POLICY_INPUT,l.l.POLICY_OUTPUT,l.l.POLICY_FORWARD,l.l.POLICY_SNAT,l.l.POLICY_DNAT].findIndex(function(t){return e.node_type==t})&&(t._fwcUserId=this.fwcUser.user_id,t._fwcFwId=e.id_obj,t._fwcFwName=e._fwcFwName,t._fwcPolicyType=e.obj_type,t.fwcloud=e.fwcloud,t.show_action=e.show_action,e._fwcClusterId&&(t._fwcClusterId=e._fwcClusterId,t._fwcFwName=e._fwcClusterName),r.a.log("Loading policy: ",t),t._fwcFwId&&t._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(t))},e.prototype.onItemDragStart=function(e,t){var n;n=Object.assign({},e),this.itemSelectedService.setDragItem(n),t.dataTransfer.setData("dragItemId",n.id),t.dataTransfer.dropEffect="copy",t.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)},e.prototype.checkDnDAllowance=function(e,t){return!(!e||!t||(e.node_type!=l.l.FOLDER&&e.node_type!=l.l.FOLDER_FW||t.node_type!=l.l.FOLDER&&t.node_type!=l.l.OBJ_CLUSTER&&t.node_type!=l.l.OBJ_FIREWALL)&&(e.node_type!=l.l.OBJ_FIREWALL&&e.node_type!=l.l.OBJ_CLUSTER||t.obj_type!=l.m.OBJ_CERT_SER)&&(e.node_type!=l.l.OPENVPN_CONFIG_SER||t.obj_type!=l.m.OBJ_CERT_CLI)||e.id==t.id||e.id==t.pid||!(t.items&&t.items.length&&!t.items.find(function(t){return t.id==e.id})||t.items&&!t.items.length))},e.prototype.onDragOver=function(e){e&&(this.highlightNodeId=this.checkDnDAllowance(e.targetItem,e.dragItem)?e.targetItem.id:void 0)},e.prototype.onDragLeave=function(e){this.highlightNodeId=void 0},e.prototype.onDragDrop=function(e){var t=this;if(e&&(this.clearObjectInfo(void 0),this.checkDnDAllowance(e.targetItem,e.dragItem))){var n=this.fwcUserService.getActualFwSelectedCloud(),i={fwcloud:n,src:e.dragItem.id,dst:e.targetItem.id};if(e.dragItem&&e.dragItem.node_type==l.l.OPENVPN_CERT){var a=void 0,s=e.dragItem,o=e.targetItem,c=void 0,d=void 0,u=void 0;if(o.node_type==l.l.OBJ_FIREWALL||o.node_type==l.l.OBJ_CLUSTER){if(o.items&&o.items.length)for(var p=0;p<o.items.length;p++)if(o.items[p].node_type==l.l.OPENVPN_ROOT){a=o.items[p];break}u=l.m.OBJ_VPN_CONFIG_SER}else o.node_type==l.l.OPENVPN_CONFIG_SER&&(u=l.m.OBJ_VPN_CONFIG_CLI,c=(a=o)._fwcObjId,d=a._fwcObjName);if(a){var f={fwcloud:n,obj_type:u,crt:s.id_obj,node_id:a.id,openvpn:c,parent_id:o.parent_id,parent_type:o.parent_type,parent_name:o.parent_name,_fwcObjId:void 0,_fwcCrtType:s.obj_type,_fwcCrtName:s._fwcObjName,_fwcParentConfigName:d,_fwcParentCA:s._fwcParentCA},g=this.checkOpenVPNOperationErrors(a,f);g?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(g)}):(r.a.log("Operation: ",f),this.itemSelectedService.setItem(f))}}else this.fwcObjectTreeService.dropInFolder(i).subscribe(function(e){var n=e.response;n&&0==n.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.translate.instant("TREE.FOLDER.ERROR_DROP")}):"ACR_CONFIRM_ASK"==n.respCode&&(t.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),t.fwcObjectTreeService.dropInFolder(i).subscribe(function(e){r.a.log(">>> DROP IN FOLDER 2ND: ",e);var n=e.response;n&&0==n.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}):(t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),t.treeLoad())},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}this.highlightNodeId=void 0,e.cancel=!0},e.prototype.checkOpenVPNOperationErrors=function(e,t){var n;if(!e||!t)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(n=this.items[0].openvpn_info);var i=t.crt,l=t.openvpn,r=t._fwcParentCA;if(n)for(var a=0;a<n.length;a++){var s=n[a];if(void 0===t.openvpn&&s.crt==i)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(void 0!==t.openvpn&&s.openvpn_parent==l&&s.crt==i)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(void 0!==t.openvpn&&s.openvpn==l&&s.ca!=r)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}},e.prototype.processInputDialogData=function(e){var t,n=this;if(e)if(e.ssh_user)this.itemSelectedService.setFirewallAction({fwAction:l.g.FIREWALL_INSTALL,user_id:this.fwcUser.user_id,fwcloud:this.fwcUser.selectedFwCloud,firewall:e.firewall_id}),this.itemSelectedService.setFirewallAction({loadingData:!0}),this.itemSelectedService.setFirewallAction({logMessage:this.translate.instant("TREE.OPS.INST_START",{name:e.firewall_name}),logMessageType:l.k.MSG_INFO}),this.fwcPolicyService.installFirewall(e.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),e.ssh_user,e.ssh_password,this.utilService.ioGetSocketId()).pipe(Object(i.a)(function(){return n.alive})).subscribe(function(t){var r=t.response;r&&0==r.respStatus?(n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:r.respCode+" - "+r.errorMsg}),n.itemSelectedService.setFirewallAction({logMessage:n.translate.instant("TREE.OPS.INST_ERROR",{error:r.respCode+" - "+r.errorMsg}),logMessageType:l.k.MSG_ERROR}),n.itemSelectedService.setFirewallAction({loadingData:!1})):"ACR_CONFIRM_ASK"==r.respCode&&(n.fwcUserService.setConfirmationToken(t.data.fwc_confirm_token),n.fwcPolicyService.installFirewall(e.firewall_id,n.fwcUserService.getActualFwSelectedCloud(),e.ssh_user,e.ssh_password,n.utilService.ioGetSocketId()).pipe(Object(i.a)(function(){return n.alive})).subscribe(function(e){var t=e.response;t&&0==t.respStatus?(n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}),n.itemSelectedService.setFirewallAction({logMessage:n.translate.instant("TREE.OPS.INST_ERROR",{error:t.respCode+" - "+t.errorMsg}),logMessageType:l.k.MSG_ERROR}),n.itemSelectedService.setFirewallAction({loadingData:!1})):(n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.OPS.INST_SUCCESS")}),n.itemSelectedService.setFirewallAction({logMessage:n.translate.instant("TREE.OPS.INST_SUCCESS"),logMessageType:l.k.MSG_OK}),n.itemSelectedService.setFirewallAction({loadingData:!1})),n.fwcUserService.setConfirmationToken(void 0)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.itemSelectedService.setFirewallAction({logMessage:n.translate.instant("TREE.OPS.INST_ERROR",{error:e}),logMessageType:l.k.MSG_ERROR}),n.itemSelectedService.setFirewallAction({loadingData:!1}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.itemSelectedService.setFirewallAction({logMessage:n.translate.instant("TREE.OPS.INST_ERROR",{error:e}),logMessageType:l.k.MSG_ERROR}),n.itemSelectedService.setFirewallAction({loadingData:!1})});else if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.fwcObjectTreeService.newFolder(e).subscribe(function(t){var i=t.response;i&&0==i.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.translate.instant("TREE.FOLDER.ERROR_NEW")}):"ACR_CONFIRM_ASK"==i.respCode&&(n.fwcUserService.setConfirmationToken(t.data.fwc_confirm_token),n.fwcObjectTreeService.newFolder(e).subscribe(function(e){r.a.log(">>> NEW FOLDER 2ND: ",e);var t=e.response;t&&0==t.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):(n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.FOLDER.SUCCESS")}),n.treeLoad())},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.fwcObjectTreeService.updateFolder(e).subscribe(function(t){var i=t.response;i&&0==i.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.translate.instant("TREE.FOLDER.ERROR_RENAME")}):(n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),n.treeModifyItem({node_id:e.id,name:e.new_name,_fwcTreeAction:l.q.MODIFY_ITEM}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})});else{var a;if(null!=e.firewall)a=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else{if(void 0===e.cluster||null==e.cluster)return;a=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService)}delete(t=Object.assign({},e)).type,a(t).subscribe(function(i){var s=i.response;r.a.log("CLON 1ST: ",i),s&&0==s.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:s.respCode+" - "+s.errorMsg}):"ACR_CONFIRM_ASK"==s.respCode&&(n.fwcUserService.setConfirmationToken(i.data.fwc_confirm_token),a(t).subscribe(function(t){var i=t.response;if(r.a.log("CLONING RESULT: ",t),i&&0==i.respStatus)n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg});else{var a=t.data.insertId,s={};s.container=l.r.C_FIREWALLS,s.id=s.id_obj=s._fwcObjId=a,s._fwcObjType=e.type,s._fwcTreeAction=l.q.NEW_ITEM,n.treeNewItem(s),n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.FW_CLONE.SUCCESS")})}n.fwcUserService.setConfirmationToken(void 0)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}},e.prototype.showObjectInfo=function(e,t){var n=this,i=e.node_type;if(e&&null!==e._fwcObjId&&null!==e._fwcObjType&&-1==[l.l.POLICY_INPUT,l.l.POLICY_OUTPUT,l.l.POLICY_FORWARD,l.l.POLICY_SNAT,l.l.POLICY_DNAT,l.l.FOLDER_INTERFACES,l.l.OPENVPN_ROOT].findIndex(function(e){return i==e})){var r={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(function(){n.infoTooltipShown=!0,n.itemSelectedService.setObjectInfo(r,t)},1e3)}},e.prototype.clearObjectInfo=function(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)},e}())}}]);