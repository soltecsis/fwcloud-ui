(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0VEr":function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("EMdb"),i=function(){function e(){this.loadingData=!1,this.messages=[]}return e.prototype.ngOnInit=function(){},e.prototype.addMessage=function(e,n){var t=new Date,i=t.toLocaleTimeString()+"."+("000"+t.getUTCMilliseconds()).slice(-3),r=void 0,o=void 0;switch(n){case l.k.MSG_INFO:r="fwcBlue",o="fa fa-lg fa-info-circle";break;case l.k.MSG_ERROR:r="fwcRed",o="fa fa-lg fa-exclamation-circle";break;case l.k.MSG_WARNING:r="fwcOrange",o="fa fa-lg fa-exclamation-circle";break;case l.k.MSG_OK:r="fwcGreen",o="fa fa-lg fa-check-circle"}this.messages.push(n==l.k.MSG_SEPARATOR?"<br><br><br>":r?'<span class="'+r+'">'+i+' - <i class="fa fa-fw '+o+'"></i> '+e+"</span>":i+" - "+e),this.divLoggerEl.nativeElement.scrollTop=this.divLoggerEl.nativeElement.scrollHeight},e.prototype.setDataLoad=function(e){this.loadingData=e},e.prototype.startDataLoad=function(){this.loadingData=!0},e.prototype.stopDataLoad=function(){this.loadingData=!1},e.prototype.clearMessages=function(){this.messages=[],this.loadingData=!1},e}()},"3D7H":function(e,n,t){"use strict";var l=t("CcnG"),i=t("Ge8E"),r=t("EjV3"),o=t("A7o+"),a=t("Ip0R"),s=t("m6j1");t("PIn4"),t("t/Na"),t("P6hr"),t("FHuN"),t("w2nL"),t("sqqX"),t("QJSW"),t("H9gU"),t("77Y5"),t("Mebi"),t.d(n,"a",function(){return u}),t.d(n,"b",function(){return m});var u=l["\u0275crt"]({encapsulation:2,styles:[["div#fitDivLoader{text-align:center}div.fitOverlayPanel.ui-overlaypanel{min-width:250px;max-width:450px;color:#fff;background-color:#333;border-radius:.5rem}div.fitDivInfo{font-size:.85rem}div.fitDivInfo h6{border-bottom:1px solid #eb6400;padding-bottom:.3rem}div.fitDivInfo table{margin-top:.3rem;border:0;background:0 0!important}div.fitDivInfo table td,div.fitDivInfo table tr{margin:0!important;padding:.3rem!important}div.fitDivInfo table *{background:0 0!important}div.fitDivInfo spanComments{margin-bottom:.3rem}ul.fitUl{list-style-type:none;margin-bottom:0}div#fitTooltipDiv{position:fixed;z-index:2000;padding:.7em;min-width:250px;max-width:450px;color:#fff;background-color:#333;border:1px solid #333;border-radius:.5rem;box-shadow:0 3px 1.2rem rgba(34,34,34,.6)}div#fitTooltipDiv.fitTooltipDiv--light{color:#222!important;background-color:#eee!important;border:1px solid #bbb}div#fitTooltipDiv .fitSpanClose{float:right}div#fitTooltipDiv .fitSpanClose i{cursor:pointer}"]],data:{animation:[{type:7,name:"fundidoIn",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"250ms linear"}],options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"250ms linear"},options:null}],options:{}}]}});function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"div",[["id","fitDivLoader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),l["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),l["\u0275pod"](3,{width:0,height:1})],function(e,n){var t=e(n,3,0,"1.7rem","1.7rem");e(n,2,0,t)},null)}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," ",""])),l["\u0275pid"](131072,o.j,[o.k,l.ChangeDetectorRef])],null,function(e,n){e(n,1,0,n.component.objectInfo.nodes.length,l["\u0275unv"](n,1,1,l["\u0275nov"](n,2).transform("INFO_TT.NODES")))})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,21,"div",[["class","fitDivInfo"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"h6",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-info-circle fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["\xa0"," "])),l["\u0275pid"](131072,o.j,[o.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](5,0,null,null,1,"span",[["class","fitSpanClose"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,0,"i",[["class","fa fa-lg fa-times-circle"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=0!=(e.component.showTooltip=!1)&&l),l},null,null)),(e()(),l["\u0275eld"](7,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),l["\u0275ppd"](9,1),(e()(),l["\u0275ted"](-1,null,["\xa0\xa0"])),(e()(),l["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,["",""])),(e()(),l["\u0275ted"](-1,null,[" ("])),(e()(),l["\u0275eld"](14,0,null,null,2,"i",[],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,["",""])),l["\u0275pid"](131072,o.j,[o.k,l.ChangeDetectorRef]),(e()(),l["\u0275ted"](-1,null,[")"])),(e()(),l["\u0275eld"](18,0,null,null,0,"span",[["class","spanSep"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](20,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](21,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],function(e,n){e(n,20,0,n.component.objectInfo.nodes)},function(e,n){var t=n.component;e(n,3,0,l["\u0275unv"](n,3,0,l["\u0275nov"](n,4).transform("ITEM_PANEL.HEADER.OBJ_INFO")));var i=l["\u0275inlineInterpolate"](1,"fwcIcon ",l["\u0275unv"](n,8,0,e(n,9,0,l["\u0275nov"](n.parent.parent,0),t.objectInfo.type)),"");e(n,8,0,i),e(n,12,0,t.objectInfo.name),e(n,15,0,l["\u0275unv"](n,15,0,l["\u0275nov"](n,16).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectInfo.type))),e(n,21,0,l["\u0275inlineInterpolate"](1,"",t.objectInfo.infoHTML,""))})}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,n){e(n,1,0,n.component.objectError)})}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,[[1,0],["tooltipElem",1]],null,8,"div",[["class","fitTooltipDiv--light"],["id","fitTooltipDiv"]],[[24,"@fundidoIn",0]],null,null,null,null)),l["\u0275did"](1,278528,null,0,a.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](2,{top:0,left:1}),(e()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](4,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](6,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](8,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=e(n,2,0,t.tooltipY.toString()+"px",t.tooltipX.toString()+"px");e(n,1,0,l),e(n,4,0,t.loadingData),e(n,6,0,!t.loadingData&&t.objectInfo),e(n,8,0,!t.loadingData&&t.objectError)},function(e,n){e(n,0,0,void 0)})}function m(e){return l["\u0275vid"](0,[l["\u0275pid"](0,s.a,[]),l["\u0275qud"](671088640,1,{tooltipElem:0}),(e()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](3,16384,null,0,a.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,3,0,n.component.showTooltip)},null)}},"7PmC":function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("mrSG"),i=t("9Z1F"),r=t("fgKk"),o=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getPositions=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/policy/positions/get",JSON.stringify({type:e})).pipe(Object(i.a)(this.handleError))},n.prototype.getAllPositions=function(){return this.httpClient.put(r.a.settings.fwcAppURL+"/policy/positions/all/get",{}).pipe(Object(i.a)(this.handleError))},n.prototype.getTypesPositions=function(){return this.httpClient.get(r.a.settings.fwcAppURL+"/ipobj/positions/policy").pipe(Object(i.a)(this.handleError))},n}(t("kCWp").a)},"8YFm":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t("Czxz"))},D6ZB:function(e,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return i});var l=function(e){return e[e.FWACTION_ACCEPT=1]="FWACTION_ACCEPT",e[e.FWACTION_DENY=2]="FWACTION_DENY",e[e.FWACTION_REJECT=3]="FWACTION_REJECT",e[e.FWACTION_ACCOUNTING=4]="FWACTION_ACCOUNTING",e}({}),i=function(){function e(){this.fwActions=[{id:l.FWACTION_DENY,text:"Deny",icon:"&#x270B;",FAicon:"&#xf256;",iconClass:"fa fa-fw fa-hand-paper-o fwcRed"},{id:l.FWACTION_ACCEPT,text:"Accept",icon:"&#x2705;",FAicon:"&#xf00c;",iconClass:"fa fa-fw fa-check fwcBlue"},{id:l.FWACTION_REJECT,text:"Reject",icon:"&#x274E;",FAicon:"&#xf00d;",iconClass:"fa fa-fw fa-times fwcRed"},{id:l.FWACTION_ACCOUNTING,text:"Accounting",icon:"&#x270D;",FAicon:"&#xf040;",iconClass:"fa fa-fw fa-pencil-square-o fwcBlue"}]}return e.prototype.getActions=function(){return this.fwActions},e.prototype.getActionsItems=function(){return this.fwActions.map(function(e){return{label:e.text,value:e.id,icon:e.iconClass}})},e}()},DSdC:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("CcnG"),i=t("EMdb"),r=(t("AjHW"),t("H9gU"),t("24Yq"),t("8YFm"),function(){function e(e,n,t,i){this.refService=e,this.itemSelectedService=n,this.confirmationService=t,this.translate=i,this.dataChanges=new l.EventEmitter,this.onOptionDeleted=new l.EventEmitter,this.applicationRef=null,this.contextMenuReference=null,this.initialized=!1,this.infoTooltipShown=!1,this.gridOptions=[],this.availableKeywords=[]}return Object.defineProperty(e.prototype,"options",{set:function(e){this.buildKeywords(),this.buildOptions(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.contextMenu={items:[{id:i.g.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:i.g.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]}},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){var n=e.refService.getAppRef();e.contextMenuReference=n,e.applicationRef=n},1)},e.prototype.ngOnChanges=function(e){var n=this;for(var t in e){var l=e[t];JSON.stringify(l.currentValue),JSON.stringify(l.previousValue)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(function(){n.optionsTable.el.nativeElement.getElementsByClassName("ui-table-scrollable-body-table")[0].scrollIntoView(!0)},100),this.initialized=!0)},e.prototype.buildKeywords=function(){var e=i.w;this.scope==i.n.ccd&&(e=i.t),this.availableKeywords=[];for(var n=0;n<e.length;n++)this.availableKeywords.push({label:e[n],value:e[n]})},e.prototype.buildOptions=function(e){if(e&&(this.scope==i.n.ccd||this.scope==i.n.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(var n=0;n<e.length;n++)e[n].scope==this.scope&&this.gridOptions.push(Object.assign({},e[n]))}},e.prototype.onDeleteOption=function(e,n){var t=this;this.checkOptionDeletion(e)&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:e.name}),accept:function(){var e=Object.assign({},t.gridOptions[n]);t.gridOptions.splice(n,1),t.onOptionDeleted.emit(e)}})},e.prototype.onAddOption=function(){this.gridOptions.push({name:"",arg:"",comment:"",scope:this.scope}),this.selectedOption=this.gridOptions[this.gridOptions.length-1]},e.prototype.onDataChanged=function(e){this.dataChanges.emit(1)},e.prototype.contextMenuLoad=function(e,n,t){var l;!(l=this.checkOptionDeletion(n))&&(e.cancel=!0),this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(e){e.id==i.g.VPN_OPTION_DELETE&&(e.visible=l)})},e.prototype.checkOptionDeletion=function(e){var n=!0;return e.required&&this.gridOptions.filter(function(n){return n.name==e.name}).length<=1&&(n=!1),n},e.prototype.contextMenuHandler=function(e,n,t){if(e.item)switch(e.item.id){case i.g.VPN_OPTION_DELETE:this.onDeleteOption(n,t)}},e.prototype.getOptions=function(){return this.gridOptions=this.gridOptions.filter(function(e){return!!e.name}),this.gridOptions},e.prototype.getScope=function(){return this.scope},e.prototype.updateOrCreateIPOption=function(e,n){if(e){var t=!0,l=this.gridOptions.filter(function(n){return n.name==e.name});if(1==l.length){var i=l[0];if(!i.ipobj&&i.required||n)for(var r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];null!=e[a]&&(i[a]=e[a]),t=!1}}if(t)for(var s=this.gridOptions.length-1;s>=0;s--)if(this.gridOptions[s].name==e.name){this.gridOptions.splice(s+1,0,Object.assign({},e));break}this.dataChanges.emit(1)}},e.prototype.addIPOption=function(e,n,t,l,i){this.gridOptions.push({name:e,scope:n,arg:t,ipobj:l,comment:i})},e.prototype.modifyIPOption=function(e,n,t,l){var i=this.gridOptions.find(function(n){return n.name==e});i&&n===this.scope&&(t&&(i.arg=t),null!=l&&(i.ipobj=l))},e.prototype.clearOptions=function(){this.options=[],this.gridOptions=[],this.initialized=!1},e.prototype.showObjectInfo=function(e,n){var t=this;if(e){var l={objId:e.ipobj};null!==l.objId&&(this.infoTooltipTimer=setTimeout(function(){t.infoTooltipShown=!0,t.itemSelectedService.setObjectInfo(l,n)},1e3))}},e.prototype.clearObjectInfo=function(e){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)},e}())},FHuN:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var l=t("mrSG"),i=t("67Y/"),r=t("9Z1F"),o=t("fgKk"),a=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getObjectTypes=function(){return this.httpClient.get(o.a.settings.fwcAppURL+"/ipobj/types").pipe(Object(i.a)(this.parseObjectTypeNames),Object(r.a)(this.handleError.bind(this)))},n.prototype.getObjectType=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/ipobj/types/get",JSON.stringify({id:e})).pipe(Object(r.a)(this.handleError.bind(this)))},n.prototype.parseObjectTypeNames=function(e){if(e){var n=e.data;n&&Array.isArray(n)&&n.forEach(function(e){e.type=e.type.replace(" ","_")})}return e},n}(t("kCWp").a)},Itiq:function(e,n,t){var l=t("mrSG").__decorate,i=t("mrSG").__metadata;Object.defineProperty(n,"__esModule",{value:!0});var r=t("CcnG"),o=t("ihYY"),a=t("Ip0R"),s=t("7LN8"),u=0,c=function(){function e(e){this.accordion=e,this.cache=!0,this.selectedChange=new r.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+u++}return e.prototype.ngAfterContentInit=function(){var e=this;this.templates.forEach(function(n){switch(n.getType()){case"content":default:e.contentTemplate=n.template}})},e.prototype.toggle=function(e){if(this.disabled||this.animating)return!1;this.animating=!0;var n=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:n});else{if(!this.accordion.multiple)for(var t=0;t<this.accordion.tabs.length;t++)this.accordion.tabs[t].selected=!1,this.accordion.tabs[t].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:n})}this.selectedChange.emit(this.selected),e.preventDefault()},e.prototype.findTabIndex=function(){for(var e=-1,n=0;n<this.accordion.tabs.length;n++)if(this.accordion.tabs[n]==this){e=n;break}return e},Object.defineProperty(e.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),e.prototype.onToggleDone=function(e){this.animating=!1},e.prototype.onKeydown=function(e){32!==e.which&&13!==e.which||(this.toggle(e),e.preventDefault())},e.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},l([r.Input(),i("design:type",String)],e.prototype,"header",void 0),l([r.Input(),i("design:type",Boolean)],e.prototype,"selected",void 0),l([r.Input(),i("design:type",Boolean)],e.prototype,"disabled",void 0),l([r.Input(),i("design:type",Boolean)],e.prototype,"cache",void 0),l([r.Output(),i("design:type",r.EventEmitter)],e.prototype,"selectedChange",void 0),l([r.Input(),i("design:type",String)],e.prototype,"transitionOptions",void 0),l([r.ContentChildren(s.Header),i("design:type",r.QueryList)],e.prototype,"headerFacet",void 0),l([r.ContentChildren(s.PrimeTemplate),i("design:type",r.QueryList)],e.prototype,"templates",void 0),l([r.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a tabindex="0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown)="onKeydown($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: transitionOptions}} : {value: \'hidden\', params: {transitionParams: transitionOptions}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[o.trigger("tabContent",[o.state("hidden",o.style({height:"0"})),o.state("visible",o.style({height:"*"})),o.transition("visible <=> hidden",o.animate("{{transitionParams}}"))])]})],e)}();n.AccordionTab=c;var d=function(){function e(e,n){this.el=e,this.changeDetector=n,this.onClose=new r.EventEmitter,this.onOpen=new r.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.tabs=[]}return e.prototype.ngAfterContentInit=function(){var e=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(n){e.initTabs(),e.changeDetector.markForCheck()})},e.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){this._activeIndex=e,this.updateSelectionState()},enumerable:!0,configurable:!0}),e.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var e=0;e<this.tabs.length;e++){var n=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;n!==this.tabs[e].selected&&(this.tabs[e].animating=!0),this.tabs[e].selected=n,this.tabs[e].selectedChange.emit(n)}},e.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},l([r.Input(),i("design:type",Boolean)],e.prototype,"multiple",void 0),l([r.Output(),i("design:type",r.EventEmitter)],e.prototype,"onClose",void 0),l([r.Output(),i("design:type",r.EventEmitter)],e.prototype,"onOpen",void 0),l([r.Input(),i("design:type",Object)],e.prototype,"style",void 0),l([r.Input(),i("design:type",String)],e.prototype,"styleClass",void 0),l([r.Input(),i("design:type",String)],e.prototype,"expandIcon",void 0),l([r.Input(),i("design:type",String)],e.prototype,"collapseIcon",void 0),l([r.ContentChildren(c),i("design:type",r.QueryList)],e.prototype,"tabList",void 0),l([r.Input(),i("design:type",Object),i("design:paramtypes",[Object])],e.prototype,"activeIndex",null),l([r.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '})],e)}();n.Accordion=d,n.AccordionModule=function(){return l([r.NgModule({imports:[a.CommonModule],exports:[d,c,s.SharedModule],declarations:[d,c]})],function(){})}()},LwpX:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("mrSG"),i=t("F/XL"),r=t("67Y/"),o=t("9Z1F"),a=t("EMdb"),s=t("fgKk"),u=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t.items=[],t.nodeCounter=0,t}return Object(l.__extends)(n,e),n.prototype.getTree=function(e,n){var t=this,l="",i=e.container,u=e.objStandard,c=e.objCloud,d={};switch(e._siblingTree&&(i=e._siblingTree),d.fwcloud=n,i){case a.r.C_FIREWALLS:case a.r.C_FIREWALLS_CONDENSED:l=s.a.settings.fwcAppURL+"/tree/firewalls/get";break;case a.r.C_OBJECTS:l=s.a.settings.fwcAppURL+"/tree/objects/get",d.objStandard=u,d.objCloud=c;break;case a.r.C_CA:l=s.a.settings.fwcAppURL+"/tree/ca/get";break;case a.r.C_SERVICES:l=s.a.settings.fwcAppURL+"/tree/services/get",d.objStandard=u,d.objCloud=c}return this.httpClient.put(l,JSON.stringify(d)).pipe(Object(r.a)(function(n){return t.extractTreeData(n,e)}),Object(o.a)(this.handleError))},n.prototype.getTreeChildTypes=function(){var e={data:[{id_node:a.l.OBJ_ADDRESS,node_type:a.l.OBJ_ADDRESS},{id_node:a.l.OBJ_IP_RANGE,node_type:a.l.OBJ_IP_RANGE},{id_node:a.l.OBJ_HOST,node_type:a.l.OBJ_IF_HOST,is_object:!0},{id_node:a.l.OBJ_HOST,node_type:a.l.OBJ_HOST},{id_node:a.l.OBJ_GROUP,node_type:a.l.OBJ_GROUP},{id_node:a.l.OBJ_NETWORK,node_type:a.l.OBJ_NETWORK},{id_node:a.l.OBJ_DNS,node_type:a.l.OBJ_DNS},{id_node:a.l.FOLDER_INTERFACES,node_type:a.l.OBJ_IF_FW,is_object:!0},{id_node:a.l.OBJ_IF_FW,node_type:a.l.OBJ_ADDRESS,is_object:!0},{id_node:a.l.OBJ_IF_HOST,node_type:a.l.OBJ_ADDRESS,is_object:!0},{id_node:a.l.SERVICE_IP,node_type:a.l.SERVICE_IP},{id_node:a.l.SERVICE_TCP,node_type:a.l.SERVICE_TCP},{id_node:a.l.SERVICE_ICMP,node_type:a.l.SERVICE_ICMP},{id_node:a.l.SERVICE_UDP,node_type:a.l.SERVICE_UDP},{id_node:a.l.SERVICE_GROUP,node_type:a.l.SERVICE_GROUP}]};return Object(i.a)(e)},n.prototype.newFolder=function(e){return this.httpClient.post(s.a.settings.fwcAppURL+"/tree/folder",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.dropInFolder=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/tree/folder/drop",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.deleteFolder=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/tree/folder/del",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.updateFolder=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/tree/folder",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.repairTree=function(e,n,t){return this.httpClient.put(s.a.settings.fwcAppURL+"/tree/repair",JSON.stringify({type:e,fwcloud:n,socketid:t})).pipe(Object(o.a)(this.handleError))},n.prototype.getNodes=function(e,n,t){var l=s.a.settings.fwcAppURL+"/tree/node/get",i={node_type:e,fwcloud:n,id_obj:t||null};return s.a.log("Get nodes: ",l,i),this.httpClient.put(l,JSON.stringify(i)).pipe(Object(o.a)(this.handleError))},n.prototype.extractTreeData=function(e,n){var t,l=e.data;try{var i=JSON.stringify(l);i=(i=i.replace(/"children"/g,'"items"')).replace(/"allowdrag"/g,'"allowDrag"'),t=JSON.parse(i),console.log("EXTRACT TREE DATA",n)}catch(r){t=null}return t||{}},n}(t("kCWp").a)},Meih:function(e,n,t){"use strict";t.d(n,"a",function(){return T}),t.d(n,"b",function(){return B});var l=t("CcnG"),i=t("SlyN"),r=t("Ip0R"),o=(t("7LN8"),t("B58V"),l["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"li",[["class","ui-treenode-droppoint"]],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],function(e,n,t){var l=!0,i=e.component;return"drop"===n&&(l=!1!==i.onDropPoint(t,-1)&&l),"dragover"===n&&(l=!1!==i.onDropPointDragOver(t)&&l),"dragenter"===n&&(l=!1!==i.onDropPointDragEnter(t,-1)&&l),"dragleave"===n&&(l=!1!==i.onDropPointDragLeave(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-treenode-droppoint-active ui-state-highlight":0})],function(e,n){var t=e(n,2,0,n.component.draghoverPrev);e(n,1,0,"ui-treenode-droppoint",t)},null)}function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"div",[["class","ui-chkbox"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","ui-chkbox-box ui-widget ui-corner-all ui-state-default"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](3,{"ui-state-disabled":0}),(e()(),l["\u0275eld"](4,0,null,null,2,"span",[["class","ui-chkbox-icon ui-clickable pi"]],null,null,null,null,null)),l["\u0275did"](5,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](6,{"pi-check":0,"pi-minus":1})],function(e,n){var t=n.component,l=e(n,3,0,!1===t.node.selectable);e(n,2,0,"ui-chkbox-box ui-widget ui-corner-all ui-state-default",l);var i=e(n,6,0,t.isSelected(),t.node.partialSelected);e(n,5,0,"ui-chkbox-icon ui-clickable pi",i)},null)}function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){e(n,0,0,n.component.getIcon())})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.node.label)})}function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,d)),l["\u0275did"](2,540672,null,0,r.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0})],function(e,n){var t=n.component,l=e(n,3,0,t.node);e(n,2,0,l,t.tree.getTemplateForNode(t.node))},null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,y,o)),l["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],parentNode:[1,"parentNode"],index:[2,"index"],firstChild:[3,"firstChild"],lastChild:[4,"lastChild"]},null)],function(e,n){e(n,1,0,n.context.$implicit,n.component.node,n.context.index,n.context.first,n.context.last)},null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","ui-treenode-children"],["role","group"],["style","display: none;"]],[[4,"display",null]],null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(e,n){var t=n.component;e(n,2,0,t.node.children,t.tree.nodeTrackBy)},function(e,n){e(n,0,0,n.component.node.expanded?"block":"none")})}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,21,"li",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pad"](2,3),(e()(),l["\u0275eld"](3,0,null,null,16,"div",[["class","ui-treenode-content"],["role","treeitem"],["tabIndex","0"]],[[8,"draggable",0],[1,"aria-posinset",0],[1,"aria-expanded",0],[1,"aria-selected",0]],[[null,"click"],[null,"contextmenu"],[null,"touchend"],[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"],[null,"dragstart"],[null,"dragend"],[null,"keydown"]],function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onNodeClick(t)&&l),"contextmenu"===n&&(l=!1!==i.onNodeRightClick(t)&&l),"touchend"===n&&(l=!1!==i.onNodeTouchEnd()&&l),"drop"===n&&(l=!1!==i.onDropNode(t)&&l),"dragover"===n&&(l=!1!==i.onDropNodeDragOver(t)&&l),"dragenter"===n&&(l=!1!==i.onDropNodeDragEnter(t)&&l),"dragleave"===n&&(l=!1!==i.onDropNodeDragLeave(t)&&l),"dragstart"===n&&(l=!1!==i.onDragStart(t)&&l),"dragend"===n&&(l=!1!==i.onDragStop(t)&&l),"keydown"===n&&(l=!1!==i.onKeyDown(t)&&l),l},null,null)),l["\u0275did"](4,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](5,{"ui-treenode-selectable":0,"ui-treenode-dragover":1,"ui-treenode-content-selected":2}),(e()(),l["\u0275eld"](6,0,null,null,2,"span",[["class","ui-tree-toggler pi pi-fw ui-unselectable-text"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toggle(t)&&l),l},null,null)),l["\u0275did"](7,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](8,{"pi-caret-right":0,"pi-caret-down":1}),(e()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](10,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](12,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](13,0,null,null,6,"span",[["class","ui-treenode-label ui-corner-all"]],null,null,null,null,null)),l["\u0275did"](14,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](15,{"ui-state-highlight":0}),(e()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=e(n,2,0,"ui-treenode",t.node.styleClass||"",t.isLeaf()?"ui-treenode-leaf":"");e(n,1,0,l);var i=e(n,5,0,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected());e(n,4,0,"ui-treenode-content",i);var r=e(n,8,0,!t.node.expanded,t.node.expanded);e(n,7,0,"ui-tree-toggler pi pi-fw ui-unselectable-text",r),e(n,10,0,"checkbox"==t.tree.selectionMode),e(n,12,0,t.node.icon||t.node.expandedIcon||t.node.collapsedIcon);var o=e(n,15,0,t.isSelected());e(n,14,0,"ui-treenode-label ui-corner-all",o),e(n,17,0,!t.tree.getTemplateForNode(t.node)),e(n,19,0,t.tree.getTemplateForNode(t.node)),e(n,21,0,t.node.children&&t.node.expanded)},function(e,n){var t=n.component;e(n,3,0,t.tree.draggableNodes,t.index+1,t.node.expanded,t.isSelected())})}function _(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"li",[["class","ui-treenode-droppoint"]],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],function(e,n,t){var l=!0,i=e.component;return"drop"===n&&(l=!1!==i.onDropPoint(t,1)&&l),"dragover"===n&&(l=!1!==i.onDropPointDragOver(t)&&l),"dragenter"===n&&(l=!1!==i.onDropPointDragEnter(t,1)&&l),"dragleave"===n&&(l=!1!==i.onDropPointDragLeave(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-treenode-droppoint-active ui-state-highlight":0})],function(e,n){var t=e(n,2,0,n.component.draghoverNext);e(n,1,0,"ui-treenode-droppoint",t)},null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,10,"td",[["class","ui-treenode-connector"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,9,"table",[["class","ui-treenode-connector-table"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,8,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,2,"td",[],null,null,null,null,null)),l["\u0275did"](5,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](6,{"ui-treenode-connector-line":0}),(e()(),l["\u0275eld"](7,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,2,"td",[],null,null,null,null,null)),l["\u0275did"](9,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275pod"](10,{"ui-treenode-connector-line":0})],function(e,n){var t=n.component,l=e(n,6,0,!t.firstChild);e(n,5,0,l);var i=e(n,10,0,!t.lastChild);e(n,9,0,i)},null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","ui-tree-toggler pi pi-fw ui-unselectable-text"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.toggle(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"pi-plus":0,"pi-minus":1})],function(e,n){var t=n.component,l=e(n,2,0,!t.node.expanded,t.node.expanded);e(n,1,0,"ui-tree-toggler pi pi-fw ui-unselectable-text",l)},null)}function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){e(n,0,0,n.component.getIcon())})}function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.node.label)})}function S(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,2,null,S)),l["\u0275did"](2,540672,null,0,r.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l["\u0275pod"](3,{$implicit:0})],function(e,n){var t=n.component,l=e(n,3,0,t.node);e(n,2,0,l,t.tree.getTemplateForNode(t.node))},null)}function R(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,y,o)),l["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],firstChild:[1,"firstChild"],lastChild:[2,"lastChild"]},null)],function(e,n){e(n,1,0,n.context.$implicit,n.context.first,n.context.last)},null)}function C(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"td",[["class","ui-treenode-children-container"]],[[4,"display",null]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","ui-treenode-children"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,R)),l["\u0275did"](3,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(e,n){var t=n.component;e(n,3,0,t.node.children,t.tree.nodeTrackBy)},function(e,n){e(n,0,0,n.component.node.expanded?"table-cell":"none")})}function b(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,21,"table",[],[[8,"className",0]],null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,20,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](4,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](5,0,null,null,14,"td",[["class","ui-treenode"]],null,null,null,null,null)),l["\u0275did"](6,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](7,{"ui-treenode-collapsed":0}),(e()(),l["\u0275eld"](8,0,null,null,11,"div",[["class","ui-treenode-content ui-state-default ui-corner-all"]],null,[[null,"click"],[null,"contextmenu"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onNodeClick(t)&&l),"contextmenu"===n&&(l=!1!==i.onNodeRightClick(t)&&l),"touchend"===n&&(l=!1!==i.onNodeTouchEnd()&&l),l},null,null)),l["\u0275did"](9,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](10,{"ui-treenode-selectable":0,"ui-state-highlight":1}),(e()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](12,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](14,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,0,null,null,4,"span",[["class","ui-treenode-label ui-corner-all"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](17,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](19,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,C)),l["\u0275did"](21,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,4,0,!t.root);var l=e(n,7,0,!t.node.expanded);e(n,6,0,"ui-treenode",l);var i=e(n,10,0,t.tree.selectionMode,t.isSelected());e(n,9,0,"ui-treenode-content ui-state-default ui-corner-all",i),e(n,12,0,!t.isLeaf()),e(n,14,0,t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e(n,17,0,!t.tree.getTemplateForNode(t.node)),e(n,19,0,t.tree.getTemplateForNode(t.node)),e(n,21,0,t.node.children&&t.node.expanded)},function(e,n){e(n,0,0,n.component.node.styleClass)})}function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](1,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,m)),l["\u0275did"](3,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,b)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,t.tree.droppableNodes),e(n,3,0,!t.tree.horizontal),e(n,5,0,t.tree.droppableNodes&&t.lastChild),e(n,7,0,t.tree.horizontal)},null)}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](1,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,1,0,n.component.node)},null)}var T=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function N(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","ui-tree-loading-mask ui-widget-overlay"]],null,null,null,null,null))],null,null)}function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-loading-content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){e(n,1,0,"ui-tree-loading-icon pi-spin "+n.component.loadingIcon)})}function P(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","ui-tree-filter-container"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,[["filter",1]],null,0,"input",[["autocomplete","off"],["class","ui-tree-filter ui-inputtext ui-widget ui-state-default ui-corner-all"],["type","text"]],[[1,"placeholder",0]],[[null,"keydown.enter"],[null,"input"]],function(e,n,t){var l=!0,i=e.component;return"keydown.enter"===n&&(l=!1!==t.preventDefault()&&l),"input"===n&&(l=!1!==i.onFilter(t)&&l),l},null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"span",[["class","ui-tree-filter-icon pi pi-search"]],null,null,null,null,null))],null,function(e,n){e(n,1,0,n.component.filterPlaceholder)})}function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-treeNode",[],null,null,null,y,o)),l["\u0275did"](1,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],index:[1,"index"],firstChild:[2,"firstChild"],lastChild:[3,"lastChild"]},null)],function(e,n){e(n,1,0,n.context.$implicit,n.context.index,n.context.first,n.context.last)},null)}function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"ul",[["class","ui-tree-container"],["role","tree"]],[[1,"aria-label",0],[1,"aria-labelledby",0]],null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](2,278528,null,0,r.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(e,n){var t=n.component;e(n,2,0,t.getRootNode(),t.nodeTrackBy)},function(e,n){var t=n.component;e(n,0,0,t.ariaLabel,t.ariaLabelledBy)})}function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-empty-message"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.emptyMessage)})}function F(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,13,"div",[],null,[[null,"drop"],[null,"dragover"],[null,"dragenter"],[null,"dragleave"]],function(e,n,t){var l=!0,i=e.component;return"drop"===n&&(l=!1!==i.onDrop(t)&&l),"dragover"===n&&(l=!1!==i.onDragOver(t)&&l),"dragenter"===n&&(l=!1!==i.onDragEnter(t)&&l),"dragleave"===n&&(l=!1!==i.onDragLeave(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-tree ui-widget ui-widget-content ui-corner-all":0,"ui-tree-selectable":1,"ui-treenode-dragover":2,"ui-tree-loading":3}),l["\u0275did"](3,278528,null,0,r.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,j)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](13,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=t.styleClass,i=e(n,2,0,!0,t.selectionMode,t.dragHover,t.loading);e(n,1,0,l,i),e(n,3,0,t.style),e(n,5,0,t.loading),e(n,7,0,t.loading),e(n,9,0,t.filter),e(n,11,0,t.getRootNode()),e(n,13,0,!t.loading&&!t.value)},null)}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","ui-tree-loading ui-widget-overlay"]],null,null,null,null,null))],null,null)}function k(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-loading-content"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],null,function(e,n){e(n,1,0,"ui-tree-loading-icon pi-spin "+n.component.loadingIcon)})}function V(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"table",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p-treeNode",[],null,null,null,y,o)),l["\u0275did"](2,114688,null,0,i.UITreeNode,[i.Tree],{node:[0,"node"],root:[1,"root"]},null)],function(e,n){e(n,2,0,n.component.value[0],!0)},null)}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","ui-tree-empty-message"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.component.emptyMessage)})}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"div",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,r.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-tree ui-tree-horizontal ui-widget ui-widget-content ui-corner-all":0,"ui-tree-selectable":1}),l["\u0275did"](3,278528,null,0,r.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](5,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](7,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,V)),l["\u0275did"](9,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](11,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=t.styleClass,i=e(n,2,0,!0,t.selectionMode);e(n,1,0,l,i),e(n,3,0,t.style),e(n,5,0,t.loading),e(n,7,0,t.loading),e(n,9,0,t.value&&t.value[0]),e(n,11,0,!t.loading&&!t.value)},null)}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,F)),l["\u0275did"](1,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](3,16384,null,0,r.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,1,0,!t.horizontal),e(n,3,0,t.horizontal)},null)}},P6hr:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("mrSG"),i=t("9Z1F"),r=t("fgKk"),o=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getInterfacesInFw=function(e,n){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/fw/all/get",JSON.stringify({firewall:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.getInterfacesInFwFull=function(e,n){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/fw/full/get",JSON.stringify({firewall:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.getInterface=function(e,n,t){var l,o=r.a.settings.fwcAppURL+"/interface/fw/get";return r.a.log("getInterface URL:",o,l={firewall:e,id:n,fwcloud:t}),this.httpClient.put(o,JSON.stringify(l)).pipe(Object(i.a)(this.handleError))},n.prototype.getInterfaceHost=function(e,n,t){var l,o=r.a.settings.fwcAppURL+"/interface/host/get";return r.a.log("getInterface Host URL:",o,l={host:e,id:n,fwcloud:t}),this.httpClient.put(o,JSON.stringify(l)).pipe(Object(i.a)(this.handleError))},n.prototype.newInterface=function(e){var n=r.a.settings.fwcAppURL+"/interface";return r.a.log("---- ADD INTERFACE, ",n,"---",e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.updateInterface=function(e){var n=r.a.settings.fwcAppURL+"/interface";return r.a.log("---- UPDATE INTERFACE: ",n,"...",e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.deleteInterfaceFw=function(e){var n=r.a.settings.fwcAppURL+"/interface/fw/del";return r.a.log("Deleting firewall interface: ",n),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.deleteInterfaceHost=function(e){var n=r.a.settings.fwcAppURL+"/interface/host/del";return r.a.log("Deleting host interface: ",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.getInterfaceWhereUsed=function(e,n,t){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/where",JSON.stringify({fwcloud:t,id:e,type:n})).pipe(Object(i.a)(this.handleError))},n.prototype.checkInterfaceRestrictions=function(e){return this.httpClient.put(r.a.settings.fwcAppURL+"/interface/restricted",JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n}(t("kCWp").a)},PIn4:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("mrSG"),i=t("F/XL"),r=t("67Y/"),o=t("9Z1F"),a=t("EMdb"),s=t("fgKk"),u=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getObject=function(e,n){var t=s.a.settings.fwcAppURL+"/ipobj/get",l={fwcloud:n,id:e};return s.a.log("fwc_object_service getObject URL ",t),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(r.a)(this.addFields),Object(o.a)(this.handleError))},n.prototype.getPolicyRuleObjects=function(e,n,t){return this.httpClient.put(s.a.settings.fwcAppURL+"/policy/ipobj/get",JSON.stringify({fwcloud:t,firewall:e,rule:n})).pipe(Object(o.a)(this.handleError))},n.prototype.updateObject=function(e){var n=s.a.settings.fwcAppURL+"/ipobj";return s.a.log("updateObject ",e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.deleteObject=function(e){var n=s.a.settings.fwcAppURL+"/ipobj/del";return s.a.log("Delete object: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.newObject=function(e){var n=s.a.settings.fwcAppURL+"/ipobj";return s.a.log("New object: ",e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.searchObject=function(e){return this.httpClient.get(s.a.settings.fwcAppURL+"/ipobj/ipobj_search_used/"+e._fwcObjId+"/"+e._fwcObjType).pipe(Object(o.a)(this.handleError))},n.prototype.checkObjectRestrictions=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/ipobj/restricted",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.getObjectGroup=function(e,n){var t=s.a.settings.fwcAppURL+"/ipobj/group/get",l={fwcloud:n,id:e};return s.a.log("Object group: ",t,l),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(o.a)(this.handleError))},n.prototype.getObjectGroupAllowedTypes=function(){var e=[];return e[a.m.OBJ_GROUP]=[a.m.OBJ_ADDRESS,a.m.OBJ_ADDRESS_RANGE,a.m.OBJ_NETWORK,a.m.OBJ_HOST,a.m.OBJ_VPN_CONFIG_CLI,a.m.OBJ_OPENVPN_PREFIX],e[a.m.OBJ_SERVICE_GROUP]=[a.m.OBJ_SERVICE_IP,a.m.OBJ_SERVICE_TCP,a.m.OBJ_SERVICE_ICMP,a.m.OBJ_SERVICE_UDP],Object(i.a)(e)},n.prototype.newObjectGroup=function(e){var n=s.a.settings.fwcAppURL+"/ipobj/group";return s.a.log("Llamando a: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.updateObjectGroup=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/ipobj/group",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.deleteObjectGroup=function(e){var n=s.a.settings.fwcAppURL+"/ipobj/group/del";return s.a.log("Llamando a: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.newObjectGroupObject=function(e){var n=s.a.settings.fwcAppURL+"/ipobj/group/addto";return s.a.log("Llamando a: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.deleteObjectGroupObject=function(e){var n=s.a.settings.fwcAppURL+"/ipobj/group/delfrom";return s.a.log("Llamando a: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.getObjectWhereUsed=function(e,n,t){var l=s.a.settings.fwcAppURL+"/ipobj/where",i={id:e,type:n,fwcloud:t};return s.a.log("fwc-object-service-where-used: ",l,i),this.httpClient.put(l,JSON.stringify(i)).pipe(Object(o.a)(this.handleError))},n.prototype.getObjectGroupWhereUsed=function(e,n){var t=s.a.settings.fwcAppURL+"/ipobj/group/where",l={fwcloud:n,id:e};return s.a.log("fwc_object_service getObjectGroupWhereUsed URL ",t,l),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(o.a)(this.handleError))},n.prototype.checkObjectGroupRestrictions=function(e){return this.httpClient.put(s.a.settings.fwcAppURL+"/ipobj/group/restricted",JSON.stringify(e)).pipe(Object(o.a)(this.handleError))},n.prototype.getIPProtocols=function(){return this.httpClient.get(s.a.settings.fwcAppURL+"/ipobj-protocols").pipe(Object(o.a)(this.handleError))},n.prototype.addFields=function(e){var n=[];return n.push(e.data[0]),n.forEach(function(e){e._fwcObjId=e.id,e._fwcObjName=e.name,e._fwcObjType=e.obj_type=e.type}),e},n}(t("kCWp").a)},QJSW:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var l=t("jvbL"),i=t("EMdb"),r=(t("PIn4"),t("P6hr"),t("w2nL"),t("FHuN"),t("77Y5"),t("Mebi"),t("sqqX"),t("H9gU"),t("fgKk")),o=t("m6j1"),a=function(){function e(e,n,t,l,i,r,o,a,s,u,c){this.fwcObjectService=e,this.fwcInterfaceService=n,this.itemSelectedService=t,this.fwcObjectTypeService=l,this.fwcUserService=i,this.fwcFirewallService=r,this.fwcPolicyService=o,this.fwcVpnService=a,this.translate=s,this.pipeFwcIcon=u,this.cd=c,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0}return e.prototype.ngOnInit=function(){var e=this;this.itemSelectedService.getObjectInfo().pipe(Object(l.a)(function(){return e.alive})).subscribe(function(n){if(n){var t=n.obj,i=n.event;e.objectInfo=void 0,e.objectError=void 0,t&&i&&i.target?(e.loadingData=!0,e.tooltipX=i.clientX,e.tooltipY=i.clientY,e.targetElement=i.target,e.showTooltipDialog(),t._fwcShowRestrictions?(console.log("DEP: ",t),e.fwcPolicyService.getPolicyRuleFull(t.firewall_id,t.rule_type,t.rule_id,e.fwcUserService.getActualFwSelectedCloud()).pipe(Object(l.a)(function(){return e.alive})).subscribe(function(e){console.log("RULE: ",e)},function(e){console.log("ERR",e)})):e.getObjectInfo(t.objId,t.objType,t.objParentId,t.fwId,t.clusterId).then(function(n){e.loadingData=!1,e.objectInfo=n,e.showTooltipDialog()}).catch(function(n){e.loadingData=!1,e.objectError=n})):(e.showTooltip=!1,e.positionTooltip=!1)}}),this.fwcObjectTypeService.getObjectTypes().subscribe(function(n){var t=n.response;if(t&&0==t.respStatus)e.OBJECT_TYPES=[];else if(e.OBJECT_TYPES=[],n.data){for(var l=0,r=n.data;l<r.length;l++){var o=r[l];e.OBJECT_TYPES[o.id]=o.type}e.OBJECT_TYPES[i.m.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},function(e){r.a.error(e)})},e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.showTooltipDialog=function(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0},e.prototype.placeTooltipOld=function(){if(this.tooltipElem){var e=this.tooltipElem.nativeElement.clientWidth,n=this.tooltipElem.nativeElement.clientHeight,t=window.innerWidth,l=window.innerHeight;this.tooltipX+e>=t-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-e-this.TOOLTIP_GAP),this.tooltipY+n>=l-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-n-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}},e.prototype.placeTooltipDialog=function(){if(this.tooltipElem&&this.targetElement){var e=this.tooltipElem.nativeElement.clientWidth,n=this.tooltipElem.nativeElement.clientHeight,t=window.innerWidth,l=window.innerHeight,i=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,i.top-n-this.TOOLTIP_GAP>0?this.tooltipY=i.top-n-this.TOOLTIP_GAP:i.bottom+n+this.TOOLTIP_GAP<l&&(this.tooltipY=i.bottom+this.TOOLTIP_GAP),i.left+e+this.TOOLTIP_GAP<t&&(this.tooltipX=i.left)}},e.prototype.getObjectInfo=function(e,n,t,l,a){var s=this;return new Promise(function(a,u){var c;switch(n=+n){case i.m.OBJ_FIREWALL:s.fwcFirewallService.getFirewall(e,s.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,t=e.response;if(r.a.log("INFO OBJ_FIREWALL ",e),t&&0==t.respStatus)u(t.respCode+" - "+t.errorMsg);else if(e.data&&e.data.length){var l=void 0;(n=e.data[0]).type=i.m.OBJ_FIREWALL,n.cluster&&(n.type=i.m.OBJ_CLUSTER_NODE),l="<table class='fitTableInfo'>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>",n.comment&&(l+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=l+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},function(e){});break;case i.m.OBJ_CLUSTER:s.fwcFirewallService.getCluster(e,s.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,t=e.response;if(r.a.log("INFO OBJ_CLUSTER ",e),t&&0==t.respStatus)u(t.respCode+" - "+t.errorMsg);else if(e.data){var l=void 0;(n=e.data.cluster).type=i.m.OBJ_CLUSTER,n.cluster&&(n.type=i.m.OBJ_CLUSTER_NODE),l="<table class='fitTableInfo'>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>",n.comment&&(l+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=l+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},function(e){});break;case i.m.OBJ_INTERFACE_FIREWALL:case i.m.OBJ_INTERFACE_HOST:var d=void 0;n==i.m.OBJ_INTERFACE_HOST?(c=s.fwcInterfaceService.getInterfaceHost.bind(s.fwcInterfaceService),d=t):(c=s.fwcInterfaceService.getInterface.bind(s.fwcInterfaceService),d=l),c(d,e,s.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,t=e.response;if(r.a.log("INFO OBJ_INTERFACE ",e),t&&0==t.respStatus)u(t.respCode+" - "+t.errorMsg);else if(e.data&&e.data.length){var l=void 0;n=e.data[0],l="<table class='fitTableInfo'>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>",l+=+n.type==i.m.OBJ_INTERFACE_FIREWALL?null!=n.cluster_id?"<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_CLUSTER)+"'></i> Cluster</td><td><strong>"+n.cluster_name+" ("+n.cluster_id+")</strong></td></tr>":"<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_FIREWALL)+"'></i> Firewall</td><td><strong>"+n.firewall_name+" ("+n.firewall_id+")</strong></td></tr>":"<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_HOST)+"'></i> Host</td><td><strong>"+n.host_name+" ("+n.host_id+")</strong></td></tr>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.LABEL")+"</td><td><strong>"+(n.labelName?n.labelName:"")+"</strong></td></tr>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.MAC")+"</td><td><strong>"+(n.mac?n.mac:"")+"</strong></td></tr>",n.comment&&(l+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=l+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},function(e){u(e)});break;case i.m.OBJ_GROUP:case i.m.OBJ_SERVICE_GROUP:r.a.log("Getting info of Group: ",e,n),s.fwcObjectService.getObjectGroup(e,s.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,t=e.response;if(r.a.log("INFO OBJ_GROUP ",e),t&&0==t.respStatus)u(t.respCode+" - "+t.errorMsg);else if(e.data&&e.data.length){var l=void 0;if(n=e.data[0],l="<table class='fitTableInfo'>",l+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>",n.ipobjs&&n.ipobjs.length){l+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")+"</span><ul class='fitUl'>";for(var i=0;i<n.ipobjs.length;i++)l+="<li><i class='fwcIcon "+(new o.a).transform(n.ipobjs[i].type,"","fwcOrange")+"'></i> "+n.ipobjs[i].name+" (Id: <strong>"+n.ipobjs[i].id+"</strong>)</li>";l+="</ul></td></tr>"}else l+="<tr><td colspan='2'><i>"+s.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")+"</i></td></tr>";n.comment&&(l+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=l+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},function(e){u(e)});break;case i.m.OBJ_CERT_CLI:case i.m.OBJ_CERT_SER:case i.m.OBJ_VPN_CONFIG_CLI:case i.m.OBJ_VPN_CONFIG_SER:case i.m.OBJ_CA:var p=void 0,f={fwcloud:s.fwcUserService.getActualFwSelectedCloud()};n==i.m.OBJ_CERT_CLI||n==i.m.OBJ_CERT_SER?(p=s.fwcVpnService.getCertificate.bind(s.fwcVpnService),f.crt=e):n==i.m.OBJ_VPN_CONFIG_CLI||n==i.m.OBJ_VPN_CONFIG_SER?(p=s.fwcVpnService.getConfigInfo.bind(s.fwcVpnService),f.openvpn=e):n==i.m.OBJ_CA&&(p=s.fwcVpnService.getCA.bind(s.fwcVpnService),f.ca=e),p(f).subscribe(function(e){var t,l=e.response;if(r.a.log("INFO VPN OBJECT ",e),l&&0==l.respStatus)u(l.respCode+" - "+l.errorMsg);else if(e.data){var o=void 0;(t=e.data).type=n,o="<table class='fitTableInfo'>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>";var c=s.translate.instant("VPN.PANEL.DAY_OPTS.0");if(void 0!==t.days&&(t.days%365||(t.days/=365,c=s.translate.instant("VPN.PANEL.DAY_OPTS.1"))),n!=i.m.OBJ_CERT_CLI&&n!=i.m.OBJ_CERT_SER||(t.name=t.cn,o+="<tr><td class='fwcOrange'>"+s.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")+"</td><td><strong>"+t.days+" "+c+"</strong></td></tr>"),n==i.m.OBJ_VPN_CONFIG_CLI||n==i.m.OBJ_VPN_CONFIG_SER){var d=s.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED");o+="<tr><td><span class='fwcOrange'>CN</span></td><td>"+t.cn+"</td></tr>",o+="<tr><td><span class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_CA)+"'></i> CA</span></td><td>"+t.CA_cn+"</td></tr>",o+="<tr><td><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")+"</span><br>"+t.address+"</td>",t.netmask&&(o+="<td><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.MASK")+"</span><br>"+t.netmask+"</td>"),o+="</tr>",t.status||(d=s.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:t.installed_at})),o+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("VPN.CONFIG.INSTALL.STATUS")+"</span><br>"+d+"</td></tr>"}n==i.m.OBJ_CA&&(t.name=t.cn,o+="<tr><td class='fwcOrange'>"+s.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")+"</td><td><strong>"+t.days+" "+c+"</strong></td></tr>",t.status&&(o+="<tr><td colspan='2'>"+s.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")+"</td></tr>")),t.comment&&(o+="<tr><td colspan='2'><span class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+t.comment+"</td></tr>"),t.infoHTML=o+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(t)},function(e){u(e)});break;case i.m.OBJ_PREFIX_FOLDER:break;case i.m.OBJ_OPENVPN_PREFIX:var g={prefix:e,fwcloud:s.fwcUserService.getActualFwSelectedCloud()};s.fwcVpnService.getOpenVPNPrefixInfo(g).subscribe(function(e){var t,l=e.response;if(l&&0==l.respStatus)u(l.respCode+" - "+l.errorMsg);else if(e.data){var r;t=e.data,r="<table class='fitTableInfo'>",r+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+t.id+"</strong></td></tr>",null!=t.cluster_name?r+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_CLUSTER)+" fwcWhite'></i> Cluster</td><td><strong>"+t.cluster_name+"</strong></td></tr>":null!=t.firewall_name&&(r+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_FIREWALL)+"'></i> Firewall</td><td><strong>"+t.firewall_name+"</strong></td></tr>"),r+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_CA)+"'></i> "+s.translate.instant("VPN.CA_CN")+"</td><td><strong>"+t.ca_cn+"</strong></td></tr>",r+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_VPN_CONFIG_SER)+"'></i> "+s.translate.instant("VPN.CONFIG.CONFIG")+"</td><td><strong>"+t.cn+"</strong></td></tr>",t.openvpn_clients&&Array.isArray(t.openvpn_clients)&&t.openvpn_clients.length&&(r+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_VPN_CONFIG_CLI)+"'></i> "+s.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")+"</td></tr><tr><td><ul>",t.openvpn_clients.forEach(function(e){r+="<li>"+e.cn+" ("+e.address+")</li>"}),r+="</ul></td></tr>"),r+="</table>",t.type=n,t.infoHTML=r,a(t)}});break;case i.m.OBJ_MARK:break;default:r.a.log("Getting info of IP Object: ",e,n),s.fwcObjectService.getObject(e,s.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,t=e.response;if(r.a.log("INFO IP_OBJ ",e),t&&0==t.respStatus)u(t.respCode+" - "+t.errorMsg);else if(e.data&&e.data.length){var l,o=void 0;switch(n=e.data[0],o="<table class='fitTableInfo'>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")+"</td><td><strong>"+n.id+"</strong></td></tr>",l=+n.type){case i.m.OBJ_ADDRESS:case i.m.OBJ_NETWORK:if(l==i.m.OBJ_ADDRESS){var c=null!=n.host_id?i.m.OBJ_INTERFACE_HOST:i.m.OBJ_INTERFACE_FIREWALL;null!=n.cluster_id?o+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_CLUSTER)+" fwcWhite'></i> Cluster</td><td><strong>"+n.cluster_name+" ("+n.cluster_id+")</strong></td></tr>":null!=n.firewall_id?o+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_FIREWALL)+"'></i> Firewall</td><td><strong>"+n.firewall_name+" ("+n.firewall_id+")</strong></td></tr>":null!=n.host_id&&(o+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(i.m.OBJ_HOST)+"'></i> Host</td><td><strong>"+n.host_name+" ("+n.host_id+")</strong></td></tr>"),null!=n.if_id&&(o+="<tr><td class='fwcOrange'><i class='fwcIcon "+s.pipeFwcIcon.transform(c)+"'></i> "+s.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")+"</td><td><strong>"+n.if_name+" ("+n.if_id+")</strong></td></tr>")}o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")+"</td><td><strong>"+n.address+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.MASK")+"</td><td><strong>"+(n.netmask?n.netmask:"")+"</strong></td></tr>";break;case i.m.OBJ_ADDRESS_RANGE:o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")+"</td><td><strong>"+(n.range_start?n.range_start:"")+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")+"</td><td><strong>"+(n.range_end?n.range_end:"")+"</strong></td></tr>";break;case i.m.OBJ_SERVICE_IP:o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.PROT")+"</td><td><strong>"+n.protocol+"</strong></td></tr>";break;case i.m.OBJ_SERVICE_TCP:case i.m.OBJ_SERVICE_UDP:o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")+"</td><td><strong>"+(n.source_port_start?n.source_port_start:"")+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.PORT_E")+"</td><td><strong>"+(n.source_port_end?n.source_port_end:"")+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")+"</td><td><strong>"+(n.destination_port_start?n.destination_port_start:"")+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.PORT_E")+"</td><td><strong>"+(n.destination_port_end?n.destination_port_end:"")+"</strong></td></tr>";break;case i.m.OBJ_SERVICE_ICMP:var d=n.icmp_type?-1==n.icmp_type?"Any":n.icmp_type.toString():"",p=n.icmp_code?-1==n.icmp_code?"Any":n.icmp_code.toString():"";o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")+"</td><td><strong>"+d+"</strong></td></tr>",o+="<tr><td class='fwcOrange'>"+s.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")+"</td><td><strong>"+p+"</strong></td></tr>"}n.comment&&(o+="<tr><td colspan='2'><span class='fwcOrange spanComments'>"+s.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")+"</span><br>"+n.comment+"</td></tr>"),n.infoHTML=o+="</table>"}else u(s.translate.instant("GLOBALS.ERRORS.NO_INFO"));a(n)},function(e){u(e)})}})},e}()},bGe8:function(e,n,t){"use strict";t.d(n,"a",function(){return i});var l=t("jvbL"),i=(t("8xOQ"),t("H9gU"),function(){function e(e,n,t){var i=this;this.appDialogPanelsService=e,this.itemSelectedService=n,this.cd=t,this.displayDialog=!1,this.dialogMinified=!1,this.alive=!0,this.appDialogPanelsService.getRestoredDialogs().pipe(Object(l.a)(function(){return i.alive})).subscribe(function(e){e&&e.dialogId==i.dialogId&&i.restoreDialog()})}return e.prototype.ngOnInit=function(){},e.prototype.createDialog=function(e,n){isNaN(this.dialogId)&&(this.dialogId=this.appDialogPanelsService.addDialog(e,n))},e.prototype.minimizeDialog=function(e){this.displayDialog=!1,this.dialogMinified=!0,this.appDialogPanelsService.setDialogToMinify(this.dialogId),e&&this.itemSelectedService.setLastMinifiedDialogId(this.dialogId)},e.prototype.restoreDialog=function(){this.dialogMinified&&(this.displayDialog=!0,this.dialogMinified=!1),this.cd.markForCheck()},e.prototype.showDialog=function(){this.displayDialog=!0,this.dialogMinified=!1,this.appDialogPanelsService.setDialogToRemoveFromDock(this.dialogId)},e.prototype.hideDialog=function(){this.displayDialog=this.dialogMinified=!1,this.appDialogPanelsService.setDialogToRemoveFromDock(this.dialogId)},e.prototype.recenterDialog=function(e){try{this.cd.destroyed||this.cd.detectChanges(),e&&e.center()}catch(n){}},e.prototype.ngOnDestroy=function(){this.alive=!1},e}())},c3Gj:function(e,n,t){"use strict";var l=t("CcnG"),i=t("Ge8E"),r=t("EjV3"),o=t("Ip0R"),a=t("nxom"),s=t("m6j1"),u=t("ZQ90"),c=t("jkif"),d=t("qIZb"),p=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","iui-scrollbar-vertical"]],null,[[null,"mousedown"]],function(e,n,t){var l=!0;return"mousedown"===n&&(l=!1!==e.component.changeScrollPos(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","iui-scroll-button-thumb-vertical"]],null,[[null,"mousedown"]],function(e,n,t){var l=!0;return"mousedown"===n&&(l=!1!==e.component.thumbMouseDown(t)&&l),l},null,null)),l["\u0275did"](3,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{top:0,height:1})],function(e,n){var t=n.component;e(n,1,0,t.getScrollBarStyle());var l=e(n,4,0,t.thumbPos.y+"px",t.thumbSize.height+"px");e(n,3,0,l)},null)}function g(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"div",[["class","iui-scrollbar-horizontal"]],null,[[null,"mousedown"]],function(e,n,t){var l=!0;return"mousedown"===n&&(l=!1!==e.component.changeScrollPos(t)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","iui-scroll-button-thumb-horizontal"]],null,[[null,"mousedown"]],function(e,n,t){var l=!0;return"mousedown"===n&&(l=!1!==e.component.thumbMouseDown(t)&&l),l},null,null)),l["\u0275did"](3,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](4,{left:0,width:1})],function(e,n){var t=n.component;e(n,1,0,t.getScrollBarStyle());var l=e(n,4,0,t.thumbPos.x+"px",t.thumbSize.width+"px");e(n,3,0,l)},null)}function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](1,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](3,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,1,0,t.isVertical()),e(n,3,0,!t.isVertical())},null)}var _=t("WLQa"),v=t("tjEg"),h=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](0,null,null,0))],null,null)}function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,S,h)),l["\u0275prd"](512,null,_.IntegralUIDataService,_.IntegralUIDataService,[]),l["\u0275did"](2,6406144,[[5,4]],0,v.IntegralUITreeItem,[l.ElementRef,_.IntegralUIDataService,d.IntegralUICommonService,u.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"],expanded:[5,"expanded"]},null)],function(e,n){e(n,2,0,n.context.$implicit,n.context.$implicit.enabled,n.context.$implicit.text,n.context.$implicit.items,n.component.templateRef,n.context.$implicit.expanded)},null)}function S(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{contentElem:0}),l["\u0275qud"](402653184,2,{dragElem:0}),l["\u0275qud"](402653184,3,{blockElem:0}),l["\u0275qud"](402653184,4,{expandBoxElem:0}),l["\u0275qud"](671088640,5,{contentList:1}),(e()(),l["\u0275eld"](5,0,null,null,17,"li",[],null,null,null,null,null)),l["\u0275did"](6,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),l["\u0275eld"](7,0,[[1,0],["content",1]],null,9,"div",[],null,[[null,"dragover"],[null,"drop"]],function(e,n,t){var l=!0,i=e.component;return"dragover"===n&&(l=!1!==i.itemDragOver(t)&&l),"drop"===n&&(l=!1!==i.itemDragDrop(t)&&l),l},null,null)),l["\u0275did"](8,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](9,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](10,0,[[4,0],["expandBox",1]],null,1,"span",[],null,[[null,"mousedown"],[null,"touchstart"]],function(e,n,t){var l=!0,i=e.component;return"mousedown"===n&&(l=!1!==i.onExpandBoxMouseDown(t)&&l),"mousedown"===n&&(l=!1!==i.onExpandBoxMouseUp(t)&&l),"touchstart"===n&&(l=!1!==i.onExpandBoxTouchStart(t)&&l),l},null,null)),l["\u0275did"](11,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),l["\u0275eld"](12,0,[[2,0],["dragElem",1]],null,4,"div",[["draggable","true"]],null,[[null,"click"],[null,"mousedown"],[null,"mouseup"],[null,"mouseenter"],[null,"mousemove"],[null,"mouseleave"],[null,"dragstart"],[null,"touchstart"]],function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onClick(t)&&l),"mousedown"===n&&(l=!1!==i.onMouseDown(t)&&l),"mouseup"===n&&(l=!1!==i.onMouseUp(t)&&l),"mouseenter"===n&&(l=!1!==i.onMouseEnter(t)&&l),"mousemove"===n&&(l=!1!==i.onMouseMove(t)&&l),"mouseleave"===n&&(l=!1!==i.onMouseLeave(t)&&l),"dragstart"===n&&(l=!1!==i.itemDragStart(t)&&l),"touchstart"===n&&(l=!1!==i.onTouchStart(t)&&l),l},null,null)),l["\u0275did"](13,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](14,{display:0}),(e()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](16,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTemplate:[1,"ngForTemplate"]},null),(e()(),l["\u0275eld"](17,0,[[3,0],["block",1]],null,5,"ul",[],null,null,null,null,null)),l["\u0275did"](18,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](19,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](20,{height:0}),(e()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](22,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,6,0,t.getControlClass()),e(n,8,0,t.getContentClass()),e(n,9,0,t.getControlStyle()),e(n,11,0,t.getExpandBoxClass());var l=e(n,14,0,0==t.getItemDisplayMode()?"inline-block":"block");e(n,13,0,l),e(n,16,0,t.templateData,t.templateRef),e(n,18,0,t.getBlockClass());var i=e(n,20,0,t.blockElemHeight);e(n,19,0,i),e(n,22,0,t.items)},null)}var I=t("IOOi"),R=t("xhm7"),C=t("XOMR"),b=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,[[4,0],["itemElem",1]],null,15,"li",[],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"mousedown"],[null,"mouseup"],[null,"dragover"],[null,"drop"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;return"mouseenter"===n&&(l=!1!==i.itemMouseEnter(t,e.context.$implicit)&&l),"mouseleave"===n&&(l=!1!==i.itemMouseLeave(t,e.context.$implicit)&&l),"mousedown"===n&&(l=!1!==i.itemMouseDown(t,e.context.$implicit)&&l),"mouseup"===n&&(l=!1!==i.itemMouseUp(t,e.context.$implicit)&&l),"dragover"===n&&(l=!1!==i.itemDragOver(t,e.context.$implicit,e.context.index)&&l),"drop"===n&&(l=!1!==i.itemDragDrop(t,e.context.$implicit)&&l),"touchstart"===n&&(l=!1!==i.itemTouchStart(t,e.context.$implicit)&&l),"touchmove"===n&&(l=!1!==i.itemTouchMove(t,e.context.$implicit)&&l),"touchend"===n&&(l=!1!==i.itemTouchEnd(t,e.context.$implicit)&&l),l},null,null)),l["\u0275did"](1,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](2,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](3,0,null,null,12,"div",[],[[8,"tabIndex",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"keyup"]],function(e,n,t){var l=!0,i=e.component;return"focus"===n&&(l=!1!==i.itemGotFocus(e.context.$implicit)&&l),"blur"===n&&(l=!1!==i.itemLostFocus(e.context.$implicit)&&l),"keydown"===n&&(l=!1!==i.itemKeyDown(t,e.context.$implicit)&&l),"keypress"===n&&(l=!1!==i.itemKeyPress(t,e.context.$implicit)&&l),"keyup"===n&&(l=!1!==i.itemKeyUp(t,e.context.$implicit)&&l),l},null,null)),l["\u0275did"](4,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](5,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](6,{display:0}),l["\u0275did"](7,16384,null,0,u.IntegralUIFocus,[l.ElementRef],{settings:[0,"settings"]},null),(e()(),l["\u0275eld"](8,0,null,null,1,"span",[],null,[[null,"mousedown"],[null,"mouseup"],[null,"touchstart"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;return"mousedown"===n&&(l=!1!==i.expandBoxMouseDown(t,e.context.$implicit.data)&&l),"mouseup"===n&&(l=!1!==i.expandBoxMouseUp(t)&&l),"touchstart"===n&&(l=!1!==i.expandBoxTouchStart(t,e.context.$implicit.data)&&l),"touchend"===n&&(l=!1!==i.expandBoxTouchEnd(t)&&l),l},null,null)),l["\u0275did"](9,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),l["\u0275eld"](10,0,null,null,5,"div",[["draggable","true"]],null,[[null,"dragstart"],[null,"click"],[null,"dblclick"]],function(e,n,t){var l=!0,i=e.component;return"dragstart"===n&&(l=!1!==i.itemDragStart(t,e.context.$implicit)&&l),"click"===n&&(l=!1!==i.itemClickEvent(t,e.context.$implicit)&&l),"dblclick"===n&&(l=!1!==i.itemDblClickEvent(t,e.context.$implicit)&&l),l},null,null)),l["\u0275did"](11,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](12,{display:0}),(e()(),l["\u0275eld"](13,16777216,null,null,2,"span",[],null,null,null,null,null)),l["\u0275did"](14,671744,null,0,u.IntegralUITemplateOutlet,[l.ViewContainerRef],{iuiTemplateOutletContext:[0,"iuiTemplateOutletContext"],iuiTemplateOutlet:[1,"iuiTemplateOutlet"]},null),l["\u0275pod"](15,{$implicit:0})],function(e,n){var t=n.component;e(n,1,0,n.context.$implicit.style.general),e(n,2,0,n.context.$implicit.inlineStyle),e(n,4,0,n.context.$implicit.style.content);var l=e(n,6,0,0==t.currentItemDisplay?"inline-block":"block");e(n,5,0,l),e(n,7,0,n.context.$implicit.data==t.currentFocusItem),e(n,9,0,n.context.$implicit.style.expandBox);var i=e(n,12,0,0==t.currentItemDisplay?"inline-block":"block");e(n,11,0,i);var r=e(n,15,0,n.context.$implicit.data);e(n,14,0,r,t.itemTemplate)},function(e,n){e(n,3,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.tabIndex,""))})}function y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],function(e,n,t){var i=!0,r=e.component;return"document:mousemove"===n&&(i=!1!==l["\u0275nov"](e,1).onWindowMouseMove(t)&&i),"document:mouseup"===n&&(i=!1!==l["\u0275nov"](e,1).onWindowMouseUp(t)&&i),"valueChanged"===n&&(i=!1!==r.onVerticalScrollChanged(t)&&i),"scrollStart"===n&&(i=!1!==r.onVerticalScrollStart(t)&&i),"scrollEnd"===n&&(i=!1!==r.onVerticalScrollEnd(t)&&i),i},m,p)),l["\u0275did"](1,5488640,[[5,4],["verScroll",4]],0,c.IntegralUIScrollBar,[l.ElementRef,l.Renderer,d.IntegralUICommonService],{enabled:[0,"enabled"],height:[1,"height"],largeChange:[2,"largeChange"],max:[3,"max"],value:[4,"value"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],function(e,n){var t=n.component;e(n,1,0,t.enabled,t.scrollBarSize.height,t.scrollLargeChange.y,t.maxScrollPos.y,t.currentScrollPos.y)},null)}function T(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"iui-scrollbar",[],null,[[null,"valueChanged"],[null,"scrollStart"],[null,"scrollEnd"],["document","mousemove"],["document","mouseup"]],function(e,n,t){var i=!0,r=e.component;return"document:mousemove"===n&&(i=!1!==l["\u0275nov"](e,1).onWindowMouseMove(t)&&i),"document:mouseup"===n&&(i=!1!==l["\u0275nov"](e,1).onWindowMouseUp(t)&&i),"valueChanged"===n&&(i=!1!==r.onHorizontalScrollChanged(t)&&i),"scrollStart"===n&&(i=!1!==r.onHorizontalScrollStart(t)&&i),"scrollEnd"===n&&(i=!1!==r.onHorizontalScrollEnd(t)&&i),i},m,p)),l["\u0275did"](1,5488640,[[6,4],["horScroll",4]],0,c.IntegralUIScrollBar,[l.ElementRef,l.Renderer,d.IntegralUICommonService],{enabled:[0,"enabled"],max:[1,"max"],orientation:[2,"orientation"],value:[3,"value"],width:[4,"width"]},{scrollStart:"scrollStart",scrollEnd:"scrollEnd",valueChanged:"valueChanged"})],function(e,n){var t=n.component;e(n,1,0,t.enabled,t.maxScrollPos.x,t.horScrollOrientation,t.currentScrollPos.x,t.scrollBarSize.width)},null)}function N(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"div",[["class","iui-scrollbar-corner"],["style","position:absolute;right:0;bottom:0;width:16px;height:16px;"]],null,null,null,null,null))],null,null)}function L(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"ul",[["style","margin:0;padding:0;"]],null,[[null,"touchstart"],[null,"touchend"]],function(e,n,t){var l=!0,i=e.component;return"touchstart"===n&&(l=!1!==i.ctrlTouchStart(t)&&l),"touchend"===n&&(l=!1!==i.ctrlTouchEnd(t)&&l),l},null,null)),l["\u0275did"](2,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](3,{width:0,height:1,"margin-left":2}),(e()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](5,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,y)),l["\u0275did"](7,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](9,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,N)),l["\u0275did"](11,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=e(n,3,0,0==t.currentItemDisplay?"9999px":t.blockSize.width+"px",t.contentSize.height+"px",0-t.currentScrollPos.x+"px");e(n,2,0,l),e(n,5,0,t.scrollItemList),e(n,7,0,t.isVerScrollVisible()),e(n,9,0,t.isHorScrollVisible()),e(n,11,0,t.isVerScrollVisible()&&t.isHorScrollVisible())},null)}function P(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"iui-treeitem",[],null,null,null,S,h)),l["\u0275prd"](512,null,_.IntegralUIDataService,_.IntegralUIDataService,[]),l["\u0275did"](2,6406144,[[1,4]],0,v.IntegralUITreeItem,[l.ElementRef,_.IntegralUIDataService,d.IntegralUICommonService,u.IntegralUIBaseService],{data:[0,"data"],enabled:[1,"enabled"],text:[2,"text"],items:[3,"items"],templateRef:[4,"templateRef"]},null)],function(e,n){e(n,2,0,n.context.$implicit,n.context.$implicit.enabled,n.context.$implicit.text,n.context.$implicit.items,n.component.itemTemplate)},null)}function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"ul",[["style","margin:0;padding:0;"]],null,null,null,null,null)),l["\u0275did"](2,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,P)),l["\u0275did"](4,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(e,n){var t=n.component;e(n,2,0,t.getBlockStyle()),e(n,4,0,t.items)},null)}function j(e){return l["\u0275vid"](0,[l["\u0275qud"](671088640,1,{contentList:1}),l["\u0275qud"](402653184,2,{contentRef:0}),l["\u0275qud"](402653184,3,{contentElem:0}),l["\u0275qud"](671088640,4,{itemElems:1}),l["\u0275qud"](671088640,5,{verScrollCmp:0}),l["\u0275qud"](671088640,6,{horScrollCmp:0}),(e()(),l["\u0275eld"](6,0,null,null,8,"div",[],null,[[null,"DOMMouseScroll"],[null,"mousewheel"],[null,"mouseenter"],[null,"mouseleave"],[null,"dragenter"],[null,"dragleave"],[null,"dragover"],[null,"drop"],[null,"dragend"],[null,"scroll"]],function(e,n,t){var l=!0,i=e.component;return"DOMMouseScroll"===n&&(l=!1!==i.processMouseWheel(t)&&l),"mousewheel"===n&&(l=!1!==i.processMouseWheel(t)&&l),"mouseenter"===n&&(l=!1!==i.onCtrlMouseEnter(t)&&l),"mouseleave"===n&&(l=!1!==i.onCtrlMouseLeave(t)&&l),"dragenter"===n&&(l=!1!==i.ctrlDragEnter(t)&&l),"dragleave"===n&&(l=!1!==i.ctrlDragLeave(t)&&l),"dragover"===n&&(l=!1!==i.ctrlDragOver(t)&&l),"drop"===n&&(l=!1!==i.ctrlDragDrop(t)&&l),"dragend"===n&&(l=!1!==i.ctrlDragEnd(t)&&l),"scroll"===n&&(l=!1!==i.onScroll(t)&&l),l},null,null)),l["\u0275did"](7,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](8,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](9,16777216,[[2,3],[3,0],["content",1]],null,5,"span",[],null,null,null,null,null)),l["\u0275did"](10,16384,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](12,278528,null,0,o.NgSwitchCase,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](14,16384,null,0,o.NgSwitchDefault,[l.ViewContainerRef,l.TemplateRef,o.NgSwitch],null,null)],function(e,n){var t=n.component;e(n,7,0,t.getControlClass()),e(n,8,0,t.getControlStyle()),e(n,10,0,t.virtualMode),e(n,12,0,!0)},null)}t("LwpX"),t("t/Na"),t("w2nL"),t("PIn4"),t("P6hr"),t("zLlU"),t("AjHW"),t("H9gU"),t("Mebi"),t("77Y5"),t("U3yX"),t("oygf"),t("4Vzq"),t("yEB0"),t("2Rin"),t("sqqX"),t("36a9"),t("A7o+"),t.d(n,"a",function(){return A}),t.d(n,"b",function(){return W});var A=l["\u0275crt"]({encapsulation:2,styles:[["div.fwcTree--item{margin-left:0;transition:all .3s}div.fwcTree--item.fwcHighlightNode{margin-left:.2em;background-color:#c8e6c9!important;padding-right:8em}div.fwcTree--item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}"]],data:{}});function F(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),l["\u0275did"](2,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),l["\u0275pod"](3,{width:0,height:1})],function(e,n){var t=e(n,3,0,"1.4em","1.4em");e(n,2,0,t)},null)}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,[[2,0],["hintFirstTreeElement",1]],null,0,"i",[["aria-hidden","true"],["class","fwcTreeIcon fwci-clusters fwcDarkBlue"]],null,null,null,null,null))],null,null)}function k(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-C"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["C"]))],null,null)}function V(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["I"]))],null,null)}function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","fwcBadgeFw fwcBadgeFw-I"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["I"]))],null,null)}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["[","]"]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.labelName)})}function B(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["(",")"]))],null,function(e,n){e(n,1,0,n.parent.context.$implicit.address)})}function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[["style","margin-left: 0.3em"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-question-circle fwcOrange"]],null,[[null,"mouseenter"]],function(e,n,t){var l=!0,i=e.component;return"mouseenter"===n&&(l=!1!==i.appHintService.showRegisteredHint(i.HintsIds.HINT_CA_CREATING,void 0,t)&&l),l},null,null))],null,null)}function J(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,16777216,null,null,26,"div",[["class","fwcTree--item"]],[[8,"draggable",0]],[[null,"itemClick"],[null,"menuOpening"],[null,"click"],[null,"dblclick"],[null,"contextmenu"],[null,"dragstart"],[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"],[null,"mousedown"]],function(e,n,t){var i=!0,r=e.component;return"contextmenu"===n&&(i=!1!==l["\u0275nov"](e,3).onContextMenu(t)&&i),"mousedown"===n&&(i=!1!==l["\u0275nov"](e,3).onMouseDown(t)&&i),"itemClick"===n&&(i=!1!==r.onContextMenuHandler(t)&&i),"menuOpening"===n&&(i=!1!==r.onContextMenuLoad(t)&&i),"click"===n&&(i=!1!==r.itemClickEvent(t)&&i),"dblclick"===n&&(i=!1!==r.itemDblClickEvent(t)&&i),"click"===n&&(i=!1!==r.clearObjectInfo()&&i),"contextmenu"===n&&(i=!1!==r.clearObjectInfo()&&i),"dragstart"===n&&(i=!1!==r.onItemDragStart(e.context.$implicit,t)&&i),"mouseenter"===n&&(i=!1!==r.showObjectInfo(e.context.$implicit,t)&&i),"mouseleave"===n&&(i=!1!==r.clearObjectInfo(t)&&i),"wheel"===n&&(i=!1!==r.clearObjectInfo(t)&&i),i},null,null)),l["\u0275did"](1,278528,null,0,o.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{fwcHighlightNode:0,fwcSelectedPolicyNode:1}),l["\u0275did"](3,1196032,null,1,a.IntegralUIContextMenu,[l.ElementRef,l.ViewContainerRef,l.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),l["\u0275qud"](603979776,4,{templates:1}),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,F)),l["\u0275did"](6,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](7,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),l["\u0275ppd"](8,2),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,M)),l["\u0275did"](10,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,k)),l["\u0275did"](12,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,V)),l["\u0275did"](14,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,x)),l["\u0275did"](16,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](17,0,null,null,9,"span",[["class","fwc-label"]],null,null,null,null,null)),l["\u0275did"](18,278528,null,0,o.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](19,{"font-weight":0,color:1,"margin-left":2}),(e()(),l["\u0275ted"](20,null,[" "," "])),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,U)),l["\u0275did"](22,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,B)),l["\u0275did"](24,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,[[3,2]],null,1,null,G)),l["\u0275did"](26,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component,l=e(n,2,0,n.context.$implicit.id==t.highlightNodeId,n.context.$implicit.id==t.selectedPolicyNodeId);e(n,1,0,"fwcTree--item",l),e(n,3,0,t.treeContextMenu[n.context.$implicit.node_type]?t.treeContextMenu[n.context.$implicit.node_type]:t.treeContextMenu.NO_MENU,t.contextMenuReference),e(n,6,0,n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CA&&n.context.$implicit._fwcCaStatus),e(n,10,0,"FDF"==n.context.$implicit.node_type),e(n,12,0,(n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||n.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&n.context.$implicit.status_compiled),e(n,14,0,(n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||n.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&n.context.$implicit.status_compiled||(n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||n.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL)&&!n.context.$implicit.status_compiled&&n.context.$implicit.status_installed),e(n,16,0,(n.context.$implicit.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI||n.context.$implicit.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER)&&n.context.$implicit._fwcOpenvpnStatus);var i=e(n,19,0,null===n.context.$implicit._fwcObjId?"bold":"normal",null===n.context.$implicit.fwcloud&&null!==n.context.$implicit.id_obj?"#006ba7":"#222",n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CLUSTER||n.context.$implicit.obj_type==t.ObjectTypes.OBJ_FIREWALL?"3px":"1px");e(n,18,0,i),e(n,22,0,n.context.$implicit.labelName&&""!==n.context.$implicit.labelName),e(n,24,0,n.context.$implicit.address&&""!==n.context.$implicit.address),e(n,26,0,n.context.$implicit.obj_type==t.ObjectTypes.OBJ_CA&&n.context.$implicit._fwcCaStatus)},function(e,n){e(n,0,0,n.context.$implicit.allowDrag);var t=l["\u0275inlineInterpolate"](1,"fwcTreeIcon ",l["\u0275unv"](n,7,0,e(n,8,0,l["\u0275nov"](n.parent,0),n.context.$implicit.obj_type,n.context.$implicit.node_type)),"");e(n,7,0,t),e(n,20,0,n.context.$implicit.text)})}function W(e){return l["\u0275vid"](0,[l["\u0275pid"](0,s.a,[]),l["\u0275qud"](402653184,1,{treeview:0}),l["\u0275qud"](671088640,2,{hintFirstTreeElement:0}),(e()(),l["\u0275eld"](3,0,null,null,5,"iui-treeview",[],null,[[null,"afterExpand"],[null,"afterCollapse"],[null,"dragOver"],[null,"dragLeave"],[null,"dragDrop"],["document","keydown"],["document","keyup"]],function(e,n,t){var i=!0,r=e.component;return"document:keydown"===n&&(i=!1!==l["\u0275nov"](e,6).onWindowKeyDown(t)&&i),"document:keyup"===n&&(i=!1!==l["\u0275nov"](e,6).onWindowKeyUp(t)&&i),"afterExpand"===n&&(i=!1!==r.setExpandedNodes(t,!0)&&i),"afterCollapse"===n&&(i=!1!==r.setExpandedNodes(t,!1)&&i),"dragOver"===n&&(i=!1!==r.onDragOver(t)&&i),"dragLeave"===n&&(i=!1!==r.onDragLeave(t)&&i),"dragDrop"===n&&(i=!1!==r.onDragDrop(t)&&i),i},j,b)),l["\u0275prd"](512,null,_.IntegralUIDataService,_.IntegralUIDataService,[]),l["\u0275prd"](512,null,u.IntegralUIBaseService,u.IntegralUIBaseService,[]),l["\u0275did"](6,15974400,[[1,4]],1,I.IntegralUITreeView,[_.IntegralUIDataService,R.IntegralUIDragDropService,l.ElementRef,l.Renderer,d.IntegralUICommonService,C.IntegralUIFilterService,l.ComponentFactoryResolver,u.IntegralUIBaseService],{controlStyle:[0,"controlStyle"],allowDrag:[1,"allowDrag"],allowDrop:[2,"allowDrop"],allowFocus:[3,"allowFocus"],items:[4,"items"],virtualMode:[5,"virtualMode"],autoExpand:[6,"autoExpand"],itemDisplay:[7,"itemDisplay"]},{dragDrop:"dragDrop",dragLeave:"dragLeave",dragOver:"dragOver",afterCollapse:"afterCollapse",afterExpand:"afterExpand"}),l["\u0275qud"](603979776,3,{itemTemplate:0}),(e()(),l["\u0275and"](0,[[3,2]],null,0,null,J))],function(e,n){var t=n.component;e(n,6,0,t.treeStyle,!0,!0,!0,t.items,!0,!(null!=t.options&&t.options.containerReadOnly),0)},null)}},ePWF:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("CcnG"),i=t("EMdb"),r=(t("LwpX"),t("77Y5"),t("Tcav"),function(){function e(e,n,t){this.appOptionsService=e,this.fwcObjectTreeService=n,this.fwcUserService=t,this.objectSelected=new l.EventEmitter}return Object.defineProperty(e.prototype,"disabledObjects",{set:function(e){this._disabledObjects=e,this.manageOptions(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this,n=this.fwcUserService.getActualFwcUser(),t=Object.assign({},this.appOptionsService.optionsTreeFw),l=Object.assign({},this.appOptionsService.optionsTreeObj);t.user_id=l.user_id=n.user_id,t.fwcloud=l.fwcloud=n.selectedFwCloud,t.objStandard=l.objStandard=0,t.objCloud=l.objCloud=1,Promise.all([this.getTree(t,this.fwTreeNodes),this.getTree(l,this.objectTreeNodes)]).then(function(n){e.treeData=n[0].concat(n[1]),e.manageOptions(e._disabledObjects)}).catch(function(e){})},e.prototype.getTree=function(e,n){var t=this;return new Promise(function(l,i){var r=[];Array.isArray(n)&&n.length?t.fwcObjectTreeService.getTree(e,e.fwcloud).subscribe(function(e){if(Array.isArray(e.items)&&e.items.length)for(var i,o=function(t){var l=e.items[t];-1==n.findIndex(function(e){return l.node_type==e})&&(e.items.splice(t,1),t-=1),i=t},a=0;a<e.items.length;a++)o(a),a=i;r=t.convertTree([e],n),l(r)},function(e){console.log("Error ",e),i(e)}):l([])})},e.prototype.convertTree=function(e,n,t){var l=this,r=[];return e.forEach(function(e){var o=-1!=n.findIndex(function(n){return e.node_type==n}),a=-1!=l.selectableObjects.findIndex(function(n){return e.obj_type==n})&&null!==e.id_obj;if(e.node_type!=i.l.STANDARD&&o||!t){var s={label:e.text,data:{name:e.text,id_obj:e.id_obj,obj_type:e.obj_type,node_type:e.node_type},selectable:a,expanded:!t,children:[]};e&&e.items.length&&(s.children=l.convertTree(e.items,n,e)),r.push(s)}}),r},e.prototype.setOptionSelectable=function(e,n){var t=this.treeData.slice(0);if(null!=e){for(;t.length;){var l=t.shift();l.data&&l.data.id_obj==e&&(l.data.alreadySelected=!n,l.selectable=n),l.children&&l.children.length&&t.push.apply(t,l.children)}this.selectedObject=null,this.selectedObjectName=""}},e.prototype.manageOptions=function(e){if(this.treeData){for(var n=this.treeData.slice(0),t=function(){var t=n.shift(),l=e.findIndex(function(e){return e.ipobj==t.data.id_obj});-1!=l&&(t.data.alreadySelected=!0,t.selectable=!1,e.splice(l,1)),t.children&&t.children.length&&n.push.apply(n,t.children)};n.length;)t();this.selectedObject=null,this.selectedObjectName=""}},e.prototype.onSelectObject=function(e){e&&e.selectable&&(this.selectedObjectName=e.label,this.treePanel&&this.treePanel.hide(),this.objectSelected.emit(e.data))},e}())},eiS1:function(e,n,t){"use strict";var l=t("CcnG"),i=t("A7o+"),r=t("Ge8E"),o=t("EjV3"),a=t("nP3v"),s=t("WwML"),u=t("4Vzq"),c=t("wf45"),d=t("m6j1"),p=t("kp3z"),f=t("H9gU"),g=t("Mebi"),m=t("77Y5"),_=t("Ip0R"),v=t("quQV"),h=t("0VEr"),O=t("g/5Y"),E=t("7PmC"),S=t("t/Na"),I=t("iiPk"),R=t("AjHW"),C=t("Fa87"),b=t("gIcY"),w=t("wmoJ"),y=t("pmWI"),T=t("VSng"),N=t("sP6A"),L=t("HQi4"),P=t("Meih"),D=t("SlyN"),j=t("B58V"),A=t("7LN8"),F=t("LwpX"),M=t("ePWF"),k=t("EMdb"),V=l["\u0275crt"]({encapsulation:2,styles:[[""]],data:{}});function x(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-check fwcGreen"]],null,null,null,null,null))],null,null)}function U(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"span",[["class","noselect"]],null,[[null,"dblclick"]],function(e,n,t){var l=!0;return"dblclick"===n&&(l=!1!==e.component.onSelectObject(e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"i",[["aria-hidden","true"]],[[8,"className",0]],null,null,null,null)),l["\u0275ppd"](2,2),(e()(),l["\u0275eld"](3,0,null,null,5,"span",[],null,null,null,null,null)),l["\u0275did"](4,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](5,{"font-weight":0,"font-style":1}),(e()(),l["\u0275and"](16777216,null,null,1,null,x)),l["\u0275did"](7,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275ted"](8,null,["\xa0"," "]))],function(e,n){var t=e(n,5,0,n.context.$implicit.selectable||null!=n.context.$implicit.data&&n.context.$implicit.data.alreadySelected?"normal":"bold",null!=n.context.$implicit.data&&n.context.$implicit.data.alreadySelected?"italic":"normal");e(n,4,0,t),e(n,7,0,null==n.context.$implicit.data?null:n.context.$implicit.data.alreadySelected)},function(e,n){var t=l["\u0275inlineInterpolate"](1,"fwcTreeIcon ",l["\u0275unv"](n,1,0,e(n,2,0,l["\u0275nov"](n.parent,0),null==n.context.$implicit.data?null:n.context.$implicit.data.obj_type,null==n.context.$implicit.data?null:n.context.$implicit.data.node_type)),"");e(n,1,0,t),e(n,8,0,n.context.$implicit.label)})}function B(e){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[]),l["\u0275qud"](402653184,1,{treePanel:0}),(e()(),l["\u0275eld"](2,0,null,null,13,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,6,"input",[["disabled","true"],["name","_object_name"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,5)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,5).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,5)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,5)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,10).onInput(t)&&i),"ngModelChange"===n&&(i=!1!==(r.selectedObjectName=t)&&i),i},null,null)),l["\u0275did"](5,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](7,671744,null,0,b.NgModel,[[8,null],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),l["\u0275did"](9,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](10,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](11,0,null,null,2,"label",[["for","_object_name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](14,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-search"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,17).toggle(t)&&i),i},null,null)),l["\u0275did"](15,4341760,null,0,T.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](16,0,null,null,15,"p-overlayPanel",[["appendTo","body"]],null,null,null,N.b,N.a)),l["\u0275did"](17,180224,[[1,4],["treePanel",4]],0,L.OverlayPanel,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{dismissable:[0,"dismissable"],appendTo:[1,"appendTo"]},null),(e()(),l["\u0275eld"](18,0,null,0,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector"]],null,[[null,"selectionChange"]],function(e,n,t){var l=!0;return"selectionChange"===n&&(l=!1!==(e.component.selectedObject=t)&&l),l},P.b,P.a)),l["\u0275did"](19,1294336,null,1,D.Tree,[l.ElementRef,[2,j.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),l["\u0275qud"](603979776,2,{templates:1}),l["\u0275pod"](21,{"max-height":0,overflow:1}),(e()(),l["\u0275and"](0,null,null,1,null,U)),l["\u0275did"](23,16384,[[2,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275eld"](24,0,null,0,7,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),l["\u0275eld"](25,0,null,null,6,"div",[["class","ui-g-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](26,0,null,null,5,"div",[["class","fwc-right-float"]],null,null,null,null,null)),(e()(),l["\u0275eld"](27,0,null,null,1,"button",[["class","ui-button-warning"],["icon","fa fa-times"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,17).hide()&&i),i},null,null)),l["\u0275did"](28,4341760,null,0,T.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](29,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),l["\u0275eld"](30,0,null,null,1,"button",[["class","ui-button-success"],["icon","fa fa-check"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.onSelectObject(i.selectedObject)&&l),l},null,null)),l["\u0275did"](31,4341760,null,0,T.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null)],function(e,n){var t=n.component;e(n,7,0,"_object_name","true",t.selectedObjectName),e(n,10,0),e(n,15,0,"fa fa-search"),e(n,17,0,!1,"body");var l=t.treeData,i=t.selectedObject,r=e(n,21,0,"20em","auto");e(n,19,0,l,"single",i,r,"treeSelector"),e(n,23,0,"default"),e(n,28,0,"fa fa-times"),e(n,31,0,"fa fa-check")},function(e,n){var t=n.component;e(n,4,1,[l["\u0275nov"](n,9).ngClassUntouched,l["\u0275nov"](n,9).ngClassTouched,l["\u0275nov"](n,9).ngClassPristine,l["\u0275nov"](n,9).ngClassDirty,l["\u0275nov"](n,9).ngClassValid,l["\u0275nov"](n,9).ngClassInvalid,l["\u0275nov"](n,9).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,10).filled]),e(n,12,0,l["\u0275unv"](n,12,0,l["\u0275nov"](n,13).transform("ITEM_PANEL.FIELDS.NAME"))),e(n,30,0,!t.selectedObject)})}var G=t("Czxz"),J=t("RXyF"),W=t("9uU2"),H=t("nciF"),K=t("g4HV"),Y=t("nxom"),$=t("DSdC"),X=t("oygf"),q=l["\u0275crt"]({encapsulation:2,styles:[['.ui-dropdown.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}tr.trOptionsGridRow td{overflow:hidden}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\00a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:#eee;background:red;display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{-webkit-transform:scale(.95);transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}.optionsTable{font-size:.8rem!important}.optionsTable td.tdFooter,div.divFooter{text-align:center;border:none}.optionsTable td.tdFooter button,div.divFooter button{font-size:.9em!important}']],data:{}});function z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"th",[["class","tdActionColumn"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,8,"th",[["pSortableColumn","name"]],[[2,"ui-sortable-column",null],[2,"ui-state-highlight",null],[1,"tabindex",0]],[[null,"click"],[null,"keydown.enter"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,3).onClick(t)&&i),"keydown.enter"===n&&(i=!1!==l["\u0275nov"](e,3).onEnterKey(t)&&i),i},null,null)),l["\u0275did"](3,212992,null,0,G.SortableColumn,[G.Table],{field:[0,"field"]},null),(e()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](6,0,null,null,4,"p-sortIcon",[["field","name"]],null,null,null,J.e,J.b)),l["\u0275did"](7,245760,null,0,G.SortIcon,[G.Table],{field:[0,"field"],ariaLabel:[1,"ariaLabel"],ariaLabelDesc:[2,"ariaLabelDesc"],ariaLabelAsc:[3,"ariaLabelAsc"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](11,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](14,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,3,0,"name"),e(n,7,0,"name",l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,7,1,l["\u0275nov"](n,8).transform("VPN.CONFIG.SORT_DESC.0")),""),l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,7,2,l["\u0275nov"](n,9).transform("VPN.CONFIG.SORT_DESC.1")),""),l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,7,3,l["\u0275nov"](n,10).transform("VPN.CONFIG.SORT_DESC.2")),""))},function(e,n){e(n,2,0,l["\u0275nov"](n,3).isEnabled(),l["\u0275nov"](n,3).sorted,l["\u0275nov"](n,3).isEnabled()?"0":null),e(n,4,0,l["\u0275unv"](n,4,0,l["\u0275nov"](n,5).transform("VPN.CONFIG.GRID_HEADER.0"))),e(n,12,0,l["\u0275unv"](n,12,0,l["\u0275nov"](n,13).transform("VPN.CONFIG.GRID_HEADER.1"))),e(n,15,0,l["\u0275unv"](n,15,0,l["\u0275nov"](n,16).transform("VPN.CONFIG.GRID_HEADER.2")))})}function Q(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Z(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""]))],null,function(e,n){e(n,1,0,n.context.$implicit.label)})}function ee(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""]))],null,function(e,n){e(n,2,0,n.context.$implicit.label)})}function ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"p-dropdown",[["appendTo","body"],["filter","true"],["styleClass","fwcGridDropDown"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],function(e,n,t){var l=!0,i=e.component;return"ngModelChange"===n&&(l=!1!==(e.parent.parent.context.$implicit.name=t)&&l),"onChange"===n&&(l=!1!==i.onDataChanged(t)&&l),l},W.b,W.a)),l["\u0275did"](1,13877248,null,1,H.Dropdown,[l.ElementRef,l.Renderer2,l.ChangeDetectorRef,l.NgZone],{filter:[0,"filter"],styleClass:[1,"styleClass"],appendTo:[2,"appendTo"],autoDisplayFirst:[3,"autoDisplayFirst"],emptyFilterMessage:[4,"emptyFilterMessage"],options:[5,"options"]},{onChange:"onChange"}),l["\u0275qud"](603979776,5,{templates:1}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[H.Dropdown]),l["\u0275did"](5,671744,null,0,b.NgModel,[[8,null],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),l["\u0275did"](7,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),(e()(),l["\u0275and"](0,null,null,1,null,Z)),l["\u0275did"](9,16384,[[5,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275and"](0,null,null,1,null,ee)),l["\u0275did"](11,16384,[[5,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){var t=n.component;e(n,1,0,"true","fwcGridDropDown","body",!1,l["\u0275unv"](n,1,4,l["\u0275nov"](n,3).transform("VPN.CONFIG.NO_OPS")),t.availableKeywords),e(n,5,0,n.parent.parent.context.$implicit.name),e(n,9,0,"selectedItem"),e(n,11,0,"item")},function(e,n){e(n,0,0,l["\u0275nov"](n,1).filled,l["\u0275nov"](n,1).focused,l["\u0275nov"](n,7).ngClassUntouched,l["\u0275nov"](n,7).ngClassTouched,l["\u0275nov"](n,7).ngClassPristine,l["\u0275nov"](n,7).ngClassDirty,l["\u0275nov"](n,7).ngClassValid,l["\u0275nov"](n,7).ngClassInvalid,l["\u0275nov"](n,7).ngClassPending)})}function te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-lg fa-warning fwcRed"]],null,null,null,null,null)),l["\u0275did"](1,4341760,null,0,K.Tooltip,[l.ElementRef,l.NgZone],{text:[0,"text"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("VPN.CONFIG.INVALID_NAME_WARNING")))},null)}function le(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](0,null,[" "," "])),(e()(),l["\u0275and"](16777216,null,null,1,null,te)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,2,0,!n.parent.parent.context.$implicit.name)},function(e,n){e(n,0,0,n.parent.parent.context.$implicit.name)})}function ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,1)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,1)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,6).onInput(t)&&i),"ngModelChange"===n&&(i=!1!==(e.parent.parent.context.$implicit.arg=t)&&i),"change"===n&&(i=!1!==r.onDataChanged(t)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](3,671744,null,0,b.NgModel,[[8,null],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),l["\u0275did"](5,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](6,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null)],function(e,n){e(n,3,0,n.parent.parent.context.$implicit.arg),e(n,6,0)},function(e,n){e(n,0,1,[l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,6).filled])})}function re(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](0,null,[" "," "]))],null,function(e,n){e(n,0,0,n.parent.parent.context.$implicit.arg)})}function oe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,"input",[["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"ngModelChange"],[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,1)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,1).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,1)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,1)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,6).onInput(t)&&i),"ngModelChange"===n&&(i=!1!==(e.parent.parent.context.$implicit.comment=t)&&i),"change"===n&&(i=!1!==r.onDataChanged(t)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](3,671744,null,0,b.NgModel,[[8,null],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,b.NgControl,null,[b.NgModel]),l["\u0275did"](5,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](6,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null)],function(e,n){e(n,3,0,n.parent.parent.context.$implicit.comment),e(n,6,0)},function(e,n){e(n,0,1,[l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,6).filled])})}function ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","divWrapper"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,[" "," "]))],null,function(e,n){e(n,1,0,n.parent.parent.context.$implicit.comment)})}function se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,1).onClick(t)&&i),"keydown"===n&&(i=!1!==l["\u0275nov"](e,1).onKeyDown(t)&&i),i},null,null)),l["\u0275did"](1,4210688,null,0,G.EditableColumn,[G.Table,l.ElementRef,l.NgZone],{data:[0,"data"]},null),(e()(),l["\u0275eld"](2,0,null,null,6,"p-cellEditor",[],null,null,null,J.d,J.a)),l["\u0275did"](3,1097728,null,1,G.CellEditor,[G.Table,[2,G.EditableColumn],[2,G.EditableRow]],null,null),l["\u0275qud"](603979776,4,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,ne)),l["\u0275did"](6,16384,[[4,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275and"](0,null,null,1,null,le)),l["\u0275did"](8,16384,[[4,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275eld"](9,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,10).onClick(t)&&i),"keydown"===n&&(i=!1!==l["\u0275nov"](e,10).onKeyDown(t)&&i),i},null,null)),l["\u0275did"](10,4210688,null,0,G.EditableColumn,[G.Table,l.ElementRef,l.NgZone],{data:[0,"data"]},null),(e()(),l["\u0275eld"](11,0,null,null,6,"p-cellEditor",[],null,null,null,J.d,J.a)),l["\u0275did"](12,1097728,null,1,G.CellEditor,[G.Table,[2,G.EditableColumn],[2,G.EditableRow]],null,null),l["\u0275qud"](603979776,6,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,ie)),l["\u0275did"](15,16384,[[6,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275and"](0,null,null,1,null,re)),l["\u0275did"](17,16384,[[6,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275eld"](18,0,null,null,8,"td",[["pEditableColumn",""]],null,[[null,"click"],[null,"keydown"]],function(e,n,t){var i=!0;return"click"===n&&(i=!1!==l["\u0275nov"](e,19).onClick(t)&&i),"keydown"===n&&(i=!1!==l["\u0275nov"](e,19).onKeyDown(t)&&i),i},null,null)),l["\u0275did"](19,4210688,null,0,G.EditableColumn,[G.Table,l.ElementRef,l.NgZone],{data:[0,"data"]},null),(e()(),l["\u0275eld"](20,0,null,null,6,"p-cellEditor",[],null,null,null,J.d,J.a)),l["\u0275did"](21,1097728,null,1,G.CellEditor,[G.Table,[2,G.EditableColumn],[2,G.EditableRow]],null,null),l["\u0275qud"](603979776,7,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,oe)),l["\u0275did"](24,16384,[[7,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275and"](0,null,null,1,null,ae)),l["\u0275did"](26,16384,[[7,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){e(n,1,0,""),e(n,6,0,"input"),e(n,8,0,"output"),e(n,10,0,""),e(n,15,0,"input"),e(n,17,0,"output"),e(n,19,0,""),e(n,24,0,"input"),e(n,26,0,"output")},null)}function ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"i",[["class","fa fa-question-circle fa-lg fwcOrange"]],null,null,null,null,null)),l["\u0275did"](1,4341760,null,0,K.Tooltip,[l.ElementRef,l.NgZone],{text:[0,"text"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform(n.parent.parent.context.$implicit.emptyMessageKey)),""))},null)}function ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" \xa0 "])),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-lg fa-info-circle fwcBlue"]],null,[[null,"mouseenter"],[null,"mouseleave"],[null,"wheel"]],function(e,n,t){var l=!0,i=e.component;return"mouseenter"===n&&(l=!1!==i.showObjectInfo(e.parent.parent.context.$implicit,t)&&l),"mouseleave"===n&&(l=!1!==i.clearObjectInfo(t)&&l),"wheel"===n&&(l=!1!==i.clearObjectInfo(t)&&l),l},null,null))],null,null)}function de(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),(e()(),l["\u0275eld"](3,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ue)),l["\u0275did"](5,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](6,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](7,null,["",""])),(e()(),l["\u0275and"](16777216,null,null,1,null,ce)),l["\u0275did"](9,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](10,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l["\u0275eld"](11,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](12,null,["",""]))],function(e,n){e(n,5,0,!n.parent.context.$implicit.arg),e(n,9,0,n.parent.context.$implicit.ipobj)},function(e,n){e(n,2,0,n.parent.context.$implicit.name),e(n,7,0,n.parent.context.$implicit.arg),e(n,12,0,n.parent.context.$implicit.comment)})}function pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"td",[["class","tdFooter"],["colspan","4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"button",[["icon","fa fa-plus"],["pButton",""]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onAddOption()&&l),l},null,null)),l["\u0275did"](3,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,3,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,3,0,l["\u0275nov"](n,4).transform("VPN.CONFIG.ADD_OPTION")),""),"fa fa-plus")},null)}function fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,11,"tr",[["class","trOptionsGridRow"]],null,[[null,"drop"]],function(e,n,t){var i=!0;return"drop"===n&&(i=!1!==l["\u0275nov"](e,1).onDrop(t)&&i),i},null,null)),l["\u0275did"](1,4210688,null,0,G.ReorderableRow,[G.Table,l.ElementRef,l.NgZone],{index:[0,"index"]},null),(e()(),l["\u0275eld"](2,16777216,null,null,5,"td",[["class","tdActionColumn"],["pReorderableRowHandle",""]],null,[[null,"menuOpening"],[null,"itemClick"],[null,"contextmenu"],[null,"mousedown"]],function(e,n,t){var i=!0,r=e.component;return"contextmenu"===n&&(i=!1!==l["\u0275nov"](e,3).onContextMenu(t)&&i),"mousedown"===n&&(i=!1!==l["\u0275nov"](e,3).onMouseDown(t)&&i),"menuOpening"===n&&(i=!1!==r.contextMenuLoad(t,e.context.$implicit,e.context.rowIndex)&&i),"itemClick"===n&&(i=!1!==r.contextMenuHandler(t,e.context.$implicit,e.context.rowIndex)&&i),i},null,null)),l["\u0275did"](3,1196032,null,1,Y.IntegralUIContextMenu,[l.ElementRef,l.ViewContainerRef,l.ComponentFactoryResolver],{settings:[0,"settings"],contextMenuRef:[1,"contextMenuRef"]},{itemClick:"itemClick",menuOpening:"menuOpening"}),l["\u0275qud"](603979776,3,{templates:1}),l["\u0275did"](5,4210688,null,0,G.ReorderableRowHandle,[l.ElementRef],{index:[0,"index"]},null),(e()(),l["\u0275eld"](6,0,null,null,1,"i",[["class","fa fa-bars fwcBlue"],["pReorderableRowHandle",""]],null,null,null,null,null)),l["\u0275did"](7,4210688,null,0,G.ReorderableRowHandle,[l.ElementRef],{index:[0,"index"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Q)),l["\u0275did"](9,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["editableOption",2]],null,0,null,se)),(e()(),l["\u0275and"](0,[["readonlyOption",2]],null,0,null,de)),(e()(),l["\u0275and"](16777216,null,null,1,null,pe)),l["\u0275did"](13,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,1,0,n.context.rowIndex),e(n,3,0,t.contextMenu,t.contextMenuReference),e(n,5,0,""),e(n,7,0,""),e(n,9,0,!n.context.$implicit.readonly,l["\u0275nov"](n,10),l["\u0275nov"](n,11)),e(n,13,0,n.context.rowIndex==t.gridOptions.length-1)},null)}function ge(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{optionsTable:0}),(e()(),l["\u0275eld"](1,0,null,null,7,"p-table",[["scrollHeight","13em"],["selectionMode","single"],["styleClass","optionsTable"]],null,[[null,"selectionChange"],[null,"onEditComplete"],[null,"onRowReorder"]],function(e,n,t){var l=!0,i=e.component;return"selectionChange"===n&&(l=!1!==(i.selectedOption=t)&&l),"onEditComplete"===n&&(l=!1!==i.onDataChanged(t)&&l),"onRowReorder"===n&&(l=!1!==i.onDataChanged(t)&&l),l},J.f,J.c)),l["\u0275prd"](512,null,G.TableService,G.TableService,[]),l["\u0275did"](3,5488640,[[1,4],["optionsTable",4]],1,G.Table,[l.ElementRef,l.NgZone,G.TableService],{styleClass:[0,"styleClass"],selectionMode:[1,"selectionMode"],scrollable:[2,"scrollable"],scrollHeight:[3,"scrollHeight"],value:[4,"value"],selection:[5,"selection"]},{selectionChange:"selectionChange",onRowReorder:"onRowReorder",onEditComplete:"onEditComplete"}),l["\u0275qud"](603979776,2,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,z)),l["\u0275did"](6,16384,[[2,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null),(e()(),l["\u0275and"](0,null,null,1,null,fe)),l["\u0275did"](8,16384,[[2,4]],0,A.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){var t=n.component;e(n,3,0,"optionsTable","single",!0,"13em",t.gridOptions,t.selectedOption),e(n,6,0,"header"),e(n,8,0,"body")},null)}var me=t("nqUP"),_e=t("pODc"),ve=t("QVyK"),he=t("66nc"),Oe=t("SVXH");t("w2nL"),t("PIn4"),t("pDcU"),t("8xOQ"),t("sqqX"),t("yEB0"),t("2Rin"),t("N7ZF"),t.d(n,"a",function(){return Ee}),t.d(n,"b",function(){return rn});var Ee=l["\u0275crt"]({encapsulation:2,styles:[[".divConfigFile textarea{font-family:monospace;font-size:.8rem}.divOPHeader h6,.divOPHeader label{white-space:nowrap;font-family:Montserrat,sans-serif;padding:.5rem!important}"]],data:{animation:[{type:7,name:"fundidoInOut",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"translateY(12%)"},offset:null},options:void 0},{type:0,name:"active, newItemAdded",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:4,styles:null,timings:"300ms"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:null,timings:"300ms"},options:null}],options:{}}]}});function Se(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,7,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,6,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),l["\u0275ppd"](4,1),(e()(),l["\u0275ted"](5,null,[" "," "])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),l["\u0275pod"](7,{obj_type:0,name:1}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],null,function(e,n){var t=n.component,i=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,3,0,e(n,4,0,l["\u0275nov"](n.parent,0),t.objectToDelete._fwcObjType))," fwcOrange");e(n,3,0,i);var r=l["\u0275unv"](n,5,0,l["\u0275nov"](n,8).transform("VPN.CONFIG.HEADER_DELETE_2",e(n,7,0,l["\u0275unv"](n,5,0,l["\u0275nov"](n,6).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectToDelete._fwcObjType+"_ABBR")),t.objectToDelete._fwcObjName)));e(n,5,0,r)})}function Ie(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275pod"](5,{name:0}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],null,function(e,n){var t=n.component,i=l["\u0275unv"](n,4,0,l["\u0275nov"](n,6).transform("VPN.CONFIG.HEADER_FILE",e(n,5,0,t.objectToRetrieve._fwcObjName)));e(n,4,0,i)})}function Re(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275pod"](5,{name:0}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],null,function(e,n){var t=n.component,i=l["\u0275unv"](n,4,0,l["\u0275nov"](n,6).transform(t.configManageTranslateKey+".FORM_HEADER",e(n,5,0,t.objectToManage._fwcObjName)));e(n,4,0,i)})}function Ce(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,5,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-whereused fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "])),l["\u0275pod"](5,{name:0}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],null,function(e,n){var t=n.component,i=l["\u0275unv"](n,4,0,l["\u0275nov"](n,6).transform("VPN.CONFIG.HEADER_WU",e(n,5,0,t.objectToSearchWU._fwcObjName)));e(n,4,0,i)})}function be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,2,"h6",[["class","fwcWhite fwcIconLeft"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,0,"i",[["class","fwci-edit fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,[" "," "]))],null,function(e,n){e(n,4,0,n.component.headerTitle)})}function we(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","ui-g-12 divConfirmDelete"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p-progressSpinner",[],null,null,null,r.b,r.a)),l["\u0275did"](2,49152,null,0,o.ProgressSpinner,[],null,null)],null,null)}function ye(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],function(e,n,t){var l=!0;return"valueChange"===n&&(l=!1!==(e.component.errorMsgs=t)&&l),l},a.b,a.a)),l["\u0275did"](1,245760,null,0,s.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"})],function(e,n){e(n,1,0,n.component.errorMsgs,!1)},null)}function Te(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ne(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","fwcRestrictionsContainer"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],function(e,n,t){var l=!0;return"valueChange"===n&&(l=!1!==(e.component.deleteMsgs=t)&&l),l},a.b,a.a)),l["\u0275did"](2,245760,null,0,s.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"}),(e()(),l["\u0275eld"](3,0,null,null,2,"sts-fwc-object-restrictions",[],null,[[null,"onHideParent"]],function(e,n,t){var l=!0;return"onHideParent"===n&&(l=!1!==e.component.minimizeDialog(!0)&&l),l},c.b,c.a)),l["\u0275prd"](512,null,d.a,d.a,[]),l["\u0275did"](5,114688,null,0,p.a,[i.k,f.a,g.a,m.a,d.a],{dependencies:[0,"dependencies"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent"})],function(e,n){var t=n.component;e(n,2,0,t.deleteMsgs,!1),e(n,5,0,t.dependencies,t.restrictionsReadOnly)},null)}function Le(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,Ne)),l["\u0275did"](1,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,1,0,!n.component.dependencies.restrictionsError)},null)}function Pe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"p-messages",[],null,[[null,"valueChange"]],function(e,n,t){var l=!0;return"valueChange"===n&&(l=!1!==(e.component.deleteMsgs=t)&&l),l},a.b,a.a)),l["\u0275did"](1,245760,null,0,s.Messages,[[2,u.MessageService]],{value:[0,"value"],closable:[1,"closable"]},{valueChange:"valueChange"})],function(e,n){e(n,1,0,n.component.deleteMsgs,!1)},null)}function De(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Te)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["deleteRestricted",2]],null,0,null,Le)),(e()(),l["\u0275and"](0,[["deleteAllowed",2]],null,0,null,Pe))],function(e,n){e(n,2,0,n.component.dependencies,l["\u0275nov"](n,3),l["\u0275nov"](n,4))},null)}function je(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,15,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,4,"div",[["class","ui-g-6 divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,3,"h6",[["class","noVertPad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,2,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](5,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](7,0,null,null,6,"div",[["class","ui-g-6 divFormHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,5,"h6",[["class","noVertPad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,4,"span",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](10,null,["",": "])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](12,0,null,null,1,"strong",[["class","fwcDark"]],null,null,null,null,null)),(e()(),l["\u0275ted"](13,null,["",""])),(e()(),l["\u0275eld"](14,0,null,null,2,"div",[["class","ui-g-12 divConfigFile"]],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,[[4,0],["txtConfigFile",1]],null,1,"textarea",[["readonly",""],["rows","15"]],null,null,null,null,null)),(e()(),l["\u0275ted"](16,null,["",""]))],null,function(e,n){var t=n.component;e(n,5,0,l["\u0275unv"](n,5,0,l["\u0275nov"](n,6).transform("VPN.CONFIG.FILE"))),e(n,10,0,l["\u0275unv"](n,10,0,l["\u0275nov"](n,11).transform("VPN.CONFIG.CONFIG"))),e(n,13,0,t.objectToRetrieve._fwcObjName),e(n,16,0,t.configFile)})}function Ae(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-cluster fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\xa0"])),(e()(),l["\u0275eld"](3,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](4,null,["",""]))],null,function(e,n){e(n,4,0,n.parent.parent.context.$implicit.firewallName)})}function Fe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","fwcSepShort"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["\xa0",""]))],null,function(e,n){e(n,3,0,n.parent.parent.context.$implicit.firewallName)})}function Me(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ae)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Fe)),l["\u0275did"](4,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,2,0,!n.parent.context.$implicit.isNode),e(n,4,0,n.parent.context.$implicit.isNode)},null)}function ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"i",[["class","fwcMenuIcon fwci-firewall fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["\xa0"," "]))],null,function(e,n){e(n,2,0,n.parent.context.$implicit.firewallName)})}function Ve(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,8,"tr",[],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](2,{"background-color":0}),(e()(),l["\u0275and"](16777216,null,null,1,null,Me)),l["\u0275did"](4,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,ke)),l["\u0275did"](6,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](7,0,null,null,1,"td",[["class","tdCenter"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,0,"i",[],[[8,"className",0]],null,null,null,null))],function(e,n){var t=e(n,2,0,n.context.$implicit.coloredBg?"#f1f1f1":"#fff");e(n,1,0,t),e(n,4,0,null!=n.context.$implicit.clusterId),e(n,6,0,null==n.context.$implicit.clusterId)},function(e,n){e(n,8,0,l["\u0275inlineInterpolate"](1,"",n.component.FirewallOpsIcons[n.context.$implicit.installState],""))})}function xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,18,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,17,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,13,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,12,"div",[["class","table-scroll"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,11,"table",[["class","tableFw unstriped"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,7,"thead",[],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),l["\u0275ted"](8,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](10,0,null,null,2,"th",[["class","tdCenter"]],null,null,null,null,null)),(e()(),l["\u0275ted"](11,null,[" "," "])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](13,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Ve)),l["\u0275did"](15,278528,null,0,_.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275eld"](16,0,null,null,2,"div",[["class","ui-g-8"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,1,"sts-fwc-log",[],null,null,null,v.b,v.a)),l["\u0275did"](18,114688,[[5,4]],0,h.a,[],null,null)],function(e,n){e(n,15,0,n.component.operationQueue),e(n,18,0)},function(e,n){var t=n.component;e(n,8,0,l["\u0275unv"](n,8,0,l["\u0275nov"](n,9).transform("COMPILE.FORM.NAME"))),e(n,11,0,l["\u0275unv"](n,11,0,l["\u0275nov"](n,12).transform(t.configManageTranslateKey+".OPERATION")))})}function Ue(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,3,"sts-fwc-object-wu",[],null,[[null,"onHideParent"]],function(e,n,t){var l=!0;return"onHideParent"===n&&(l=!1!==e.component.minimizeDialog()&&l),l},O.b,O.a)),l["\u0275prd"](512,null,E.a,E.a,[S.c]),l["\u0275prd"](512,null,d.a,d.a,[]),l["\u0275did"](4,4308992,null,0,I.a,[R.a,f.a,g.a,E.a,i.k,m.a,d.a],{objectInfo:[0,"objectInfo"],readOnly:[1,"readOnly"]},{onHideParent:"onHideParent"})],function(e,n){var t=n.component;e(n,4,0,t.objectToSearchWU._fwcObjectInfo,t.restrictionsReadOnly)},null)}function Be(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],function(e,n,t){var i=!0;return"input"===n&&(i=!1!==l["\u0275nov"](e,5).onInput(t)&&i),i},null,null)),l["\u0275did"](5,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null)],function(e,n){e(n,5,0)},function(e,n){var t=n.component;e(n,2,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform(t.object.parent_type==t.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER"))),e(n,4,0,l["\u0275inlineInterpolate"](1,"",t.object.parent_name,""),!0,!0,!0,!0,l["\u0275nov"](n,5).filled)})}function Ge(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](4,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],function(e,n,t){var i=!0;return"input"===n&&(i=!1!==l["\u0275nov"](e,5).onInput(t)&&i),i},null,null)),l["\u0275did"](5,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null)],function(e,n){e(n,5,0)},function(e,n){var t=n.component;e(n,2,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform("VPN.CONFIG.SER"))),e(n,4,0,l["\u0275inlineInterpolate"](1,"",t.object._fwcParentConfigName,""),!0,!0,!0,!0,l["\u0275nov"](n,5).filled)})}function Je(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,39,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,38,"p-fieldset",[["legend","Installation options"]],null,null,null,w.b,w.a)),l["\u0275did"](2,49152,null,0,y.Fieldset,[l.ElementRef],{legend:[0,"legend"]},null),(e()(),l["\u0275eld"](3,0,null,1,36,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,17,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](7,0,null,null,6,"input",[["formControlName","install_dir"],["name","install_dir"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,8)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,8).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,8)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,8)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,13).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](8,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](10,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](12,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](13,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](14,0,null,null,2,"label",[["for","install_dir"]],null,null,null,null,null)),(e()(),l["\u0275ted"](15,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](17,0,null,null,4,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),l["\u0275did"](18,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](19,{visibility:0}),(e()(),l["\u0275ted"](20,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](22,0,null,null,17,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](25,0,null,null,6,"input",[["formControlName","install_name"],["name","install_name"],["pInputText",""],["style","font-family: monospace !important"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,26)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,26).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,26)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,26)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,31).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](26,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](28,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](30,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](31,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](32,0,null,null,2,"label",[["for","install_name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](33,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](35,0,null,null,4,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),l["\u0275did"](36,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](37,{visibility:0}),(e()(),l["\u0275ted"](38,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,"Installation options"),e(n,10,0,"install_dir"),e(n,13,0);var l=null,i=e(n,19,0,null!=(l=t.formModel.get("install_dir"))&&l.valid||null!=(l=t.formModel.get("install_dir"))&&l.pristine&&null!=(l=t.formModel.get("install_dir"))&&l.untouched?"hidden":"visible");e(n,18,0,i),e(n,28,0,"install_name"),e(n,31,0);var r=null,o=e(n,37,0,null!=(r=t.formModel.get("install_name"))&&r.valid||null!=(r=t.formModel.get("install_name"))&&r.pristine&&null!=(r=t.formModel.get("install_name"))&&r.untouched?"hidden":"visible");e(n,36,0,o)},function(e,n){e(n,7,1,[l["\u0275nov"](n,12).ngClassUntouched,l["\u0275nov"](n,12).ngClassTouched,l["\u0275nov"](n,12).ngClassPristine,l["\u0275nov"](n,12).ngClassDirty,l["\u0275nov"](n,12).ngClassValid,l["\u0275nov"](n,12).ngClassInvalid,l["\u0275nov"](n,12).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,13).filled]),e(n,15,0,l["\u0275unv"](n,15,0,l["\u0275nov"](n,16).transform("VPN.PANEL.FIELDS.CONFIG_DIR"))),e(n,20,0,l["\u0275unv"](n,20,0,l["\u0275nov"](n,21).transform("VPN.PANEL.ERRORS.INVALID_INSTALL_PATH"))),e(n,25,1,[l["\u0275nov"](n,30).ngClassUntouched,l["\u0275nov"](n,30).ngClassTouched,l["\u0275nov"](n,30).ngClassPristine,l["\u0275nov"](n,30).ngClassDirty,l["\u0275nov"](n,30).ngClassValid,l["\u0275nov"](n,30).ngClassInvalid,l["\u0275nov"](n,30).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,31).filled]),e(n,33,0,l["\u0275unv"](n,33,0,l["\u0275nov"](n,34).transform("VPN.PANEL.FIELDS.CONFIG_FILE"))),e(n,38,0,l["\u0275unv"](n,38,0,l["\u0275nov"](n,39).transform("VPN.CONFIG.ERRORS.REMOTEOPTION_ERROR.INVALID_REMOTE_DATA")))})}function We(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,38,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var i=!0;return"submit"===n&&(i=!1!==l["\u0275nov"](e,3).onSubmit(t)&&i),"reset"===n&&(i=!1!==l["\u0275nov"](e,3).onReset()&&i),i},null,null)),l["\u0275did"](2,16384,null,0,b["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](3,540672,null,0,b.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,b.ControlContainer,null,[b.FormGroupDirective]),l["\u0275did"](5,16384,null,0,b.NgControlStatusGroup,[[4,b.ControlContainer]],null,null),(e()(),l["\u0275eld"](6,0,null,null,32,"p-fieldset",[["legend","Remote"]],null,null,null,w.b,w.a)),l["\u0275did"](7,49152,null,0,y.Fieldset,[l.ElementRef],{legend:[0,"legend"]},null),(e()(),l["\u0275eld"](8,0,null,1,24,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,6,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,5,"sts-fwc-tree-selector",[],null,[[null,"objectSelected"]],function(e,n,t){var l=!0;return"objectSelected"===n&&(l=!1!==e.component.onRemoteIPObjectChange(t)&&l),l},B,V)),l["\u0275prd"](512,null,F.a,F.a,[S.c]),l["\u0275did"](12,114688,[[2,4],["treeSelector",4]],0,M.a,[k.b,F.a,m.a],{fwTreeNodes:[0,"fwTreeNodes"],objectTreeNodes:[1,"objectTreeNodes"],selectableObjects:[2,"selectableObjects"],disabledObjects:[3,"disabledObjects"]},{objectSelected:"objectSelected"}),l["\u0275pad"](13,6),l["\u0275pad"](14,4),l["\u0275pad"](15,2),(e()(),l["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,12,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,11,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,7,"input",[["formControlName","remote_port"],["name","remote_port"],["pInputText",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,20)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,20).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,20)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,20)._compositionEnd(t.target.value)&&i),"change"===n&&(i=!1!==l["\u0275nov"](e,21).onChange(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,21).onChange(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,21).onTouched()&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,26).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](20,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275did"](21,16384,null,0,b["\u0275angular_packages_forms_forms_be"],[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e,n){return[e,n]},[b.DefaultValueAccessor,b["\u0275angular_packages_forms_forms_be"]]),l["\u0275did"](23,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](25,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](26,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](27,0,null,null,2,"label",[["for","remote_port"]],null,null,null,null,null)),(e()(),l["\u0275ted"](28,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](30,0,null,null,2,"div",[["class","ui-g-1"],["style","padding-top: 1.5rem"]],null,null,null,null,null)),(e()(),l["\u0275eld"](31,0,null,null,1,"button",[["class","ui-button-primary fwcButtonHeight"],["icon","fa fa-plus"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onAddRemoteOption()&&l),l},null,null)),l["\u0275did"](32,4341760,null,0,T.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](33,0,null,1,5,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,4,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),l["\u0275did"](35,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](36,{visibility:0}),(e()(),l["\u0275ted"](37,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,3,0,t.formModelRemote),e(n,7,0,"Remote");var l=e(n,13,0,t.NodeTypes.FOLDER,t.NodeTypes.OBJ_FIREWALL,t.NodeTypes.OBJ_CLUSTER,t.NodeTypes.FOLDER_INTERFACES,t.NodeTypes.OBJ_IF_FW,t.NodeTypes.OBJ_ADDRESS),i=e(n,14,0,t.NodeTypes.OBJ_ADDRESS,t.NodeTypes.OBJ_DNS,t.NodeTypes.OBJ_HOST,t.NodeTypes.OBJ_IF_HOST),r=e(n,15,0,t.ObjectTypes.OBJ_ADDRESS,t.ObjectTypes.OBJ_DNS);e(n,12,0,l,i,r,t.disabledTreeRemoteOptions),e(n,23,0,"remote_port"),e(n,26,0),e(n,32,0,"fa fa-plus");var o=e(n,36,0,null!=t.formModelRemote&&t.formModelRemote.valid||null!=t.formModelRemote&&t.formModelRemote.pristine&&null!=t.formModelRemote&&t.formModelRemote.untouched?"hidden":"visible");e(n,35,0,o)},function(e,n){var t=n.component;e(n,1,0,l["\u0275nov"](n,5).ngClassUntouched,l["\u0275nov"](n,5).ngClassTouched,l["\u0275nov"](n,5).ngClassPristine,l["\u0275nov"](n,5).ngClassDirty,l["\u0275nov"](n,5).ngClassValid,l["\u0275nov"](n,5).ngClassInvalid,l["\u0275nov"](n,5).ngClassPending),e(n,19,1,[l["\u0275nov"](n,25).ngClassUntouched,l["\u0275nov"](n,25).ngClassTouched,l["\u0275nov"](n,25).ngClassPristine,l["\u0275nov"](n,25).ngClassDirty,l["\u0275nov"](n,25).ngClassValid,l["\u0275nov"](n,25).ngClassInvalid,l["\u0275nov"](n,25).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,26).filled]),e(n,28,0,l["\u0275unv"](n,28,0,l["\u0275nov"](n,29).transform("CLUSTER.MSG_CLUSTER_EDITION.PORT"))),e(n,31,0,!(null!=t.formModelRemote&&t.formModelRemote.valid)),e(n,37,0,l["\u0275unv"](n,37,0,l["\u0275nov"](n,38).transform("VPN.PANEL.ERRORS.INVALID_INSTALL_FILENAME")))})}function He(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](2,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](4,0,null,null,1,"sts-fwc-ovoptions-grid",[],null,[[null,"onOptionDeleted"],[null,"dataChanges"]],function(e,n,t){var l=!0,i=e.component;return"onOptionDeleted"===n&&(l=!1!==i.onOptionsDelete(t)&&l),"dataChanges"===n&&(l=!1!==i.onOptionsChange(t)&&l),l},ge,q)),l["\u0275did"](5,4833280,[[1,4]],0,$.a,[R.a,f.a,X.ConfirmationService,i.k],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",onOptionDeleted:"onOptionDeleted"})],function(e,n){var t=n.component;e(n,5,0,t.OptionScope.ccd,t.object.options)},function(e,n){e(n,2,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform("VPN.CONFIG.CCD")))})}function Ke(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,103,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,102,"p-tabView",[["styleClass","objectInfoTab"]],null,null,null,me.d,me.b)),l["\u0275did"](2,1097728,null,1,_e.TabView,[l.ElementRef],{styleClass:[0,"styleClass"]},null),l["\u0275qud"](603979776,8,{tabPanels:1}),(e()(),l["\u0275eld"](4,16777216,null,0,99,"p-tabPanel",[["leftIcon","fa fa-pencil-square-o"]],null,null,null,me.c,me.a)),l["\u0275did"](5,1228800,[[8,4]],1,_e.TabPanel,[l.ViewContainerRef],{header:[0,"header"],leftIcon:[1,"leftIcon"]},null),l["\u0275qud"](603979776,9,{templates:1}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](8,0,null,0,95,"div",[["class","fwcObjectPanel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,94,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,n,t){var i=!0;return"submit"===n&&(i=!1!==l["\u0275nov"](e,11).onSubmit(t)&&i),"reset"===n&&(i=!1!==l["\u0275nov"](e,11).onReset()&&i),i},null,null)),l["\u0275did"](10,16384,null,0,b["\u0275angular_packages_forms_forms_bh"],[],null,null),l["\u0275did"](11,540672,null,0,b.FormGroupDirective,[[8,null],[8,null]],{form:[0,"form"]},null),l["\u0275prd"](2048,null,b.ControlContainer,null,[b.FormGroupDirective]),l["\u0275did"](13,16384,null,0,b.NgControlStatusGroup,[[4,b.ControlContainer]],null,null),(e()(),l["\u0275eld"](14,0,null,null,89,"fieldset",[],null,[[null,"keyup.enter"],[null,"keyup.esc"]],function(e,n,t){var l=!0,i=e.component;return"keyup.enter"===n&&(l=!1!==i.checkForm(t)&&l),"keyup.esc"===n&&(l=!1!==i.onCancel()&&l),l},null,null)),(e()(),l["\u0275eld"](15,0,null,null,88,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,13,"div",[["class","ui-g-12 divOPHeader"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,12,"div",[["class","ui-g ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,4,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,Be)),l["\u0275did"](20,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Ge)),l["\u0275did"](22,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](23,0,null,null,6,"div",[["class","ui-g-6 ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,5,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](25,0,null,null,2,"label",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](26,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](28,0,null,null,1,"input",[["pInputText",""],["readonly",""],["type","text"]],[[8,"value",0],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"input"]],function(e,n,t){var i=!0;return"input"===n&&(i=!1!==l["\u0275nov"](e,29).onInput(t)&&i),i},null,null)),l["\u0275did"](29,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](30,0,null,null,47,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](31,0,null,null,46,"p-fieldset",[],null,null,null,w.b,w.a)),l["\u0275did"](32,49152,null,0,y.Fieldset,[l.ElementRef],{legend:[0,"legend"]},null),(e()(),l["\u0275eld"](33,0,null,1,39,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,12,"div",[["class","ui-g-5"]],null,null,null,null,null)),(e()(),l["\u0275eld"](35,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](36,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](37,0,null,null,6,"input",[["formControlName","_ipobj_name"],["name","_ipobj_name"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,38)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,38).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,38)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,38)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,43).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](38,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](40,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](42,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](43,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](44,0,null,null,2,"label",[["for","_ipobj_name"]],null,null,null,null,null)),(e()(),l["\u0275ted"](45,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](47,0,null,null,12,"div",[["class","ui-g-3"]],null,null,null,null,null)),(e()(),l["\u0275eld"](48,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](49,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](50,0,null,null,6,"input",[["formControlName","_ipobj_address"],["name","_ipobj_address"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,51)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,51).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,51)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,51)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,56).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](51,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](53,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](55,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](56,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](57,0,null,null,2,"label",[["for","_ipobj_address"]],null,null,null,null,null)),(e()(),l["\u0275ted"](58,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](60,0,null,null,12,"div",[["class","ui-g-4"]],null,null,null,null,null)),(e()(),l["\u0275eld"](61,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](62,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](63,0,null,null,6,"input",[["formControlName","_ipobj_netmask"],["name","_ipobj_netmask"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,64)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,64).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,64)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,64)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,69).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](64,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](66,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](68,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](69,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](70,0,null,null,2,"label",[["for","_ipobj_netmask"]],null,null,null,null,null)),(e()(),l["\u0275ted"](71,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](73,0,null,1,4,"div",[["class","ui-g-12 ui-g-nopad"]],null,null,null,null,null)),(e()(),l["\u0275eld"](74,0,null,null,3,"p",[["class","fwc-error err-no-margin"]],null,null,null,null,null)),l["\u0275did"](75,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](76,{visibility:0}),(e()(),l["\u0275ted"](77,null,["",""])),(e()(),l["\u0275and"](16777216,null,null,1,null,Je)),l["\u0275did"](79,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,We)),l["\u0275did"](81,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,He)),l["\u0275did"](83,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](84,0,null,null,6,"div",[],null,null,null,null,null)),l["\u0275did"](85,278528,null,0,_.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),(e()(),l["\u0275eld"](86,0,null,null,2,"h5",[["class","noVertPad fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](87,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](89,0,null,null,1,"sts-fwc-ovoptions-grid",[],null,[[null,"onOptionDeleted"],[null,"dataChanges"]],function(e,n,t){var l=!0,i=e.component;return"onOptionDeleted"===n&&(l=!1!==i.onOptionsDelete(t)&&l),"dataChanges"===n&&(l=!1!==i.onOptionsChange(t)&&l),l},ge,q)),l["\u0275did"](90,4833280,[[1,4]],0,$.a,[R.a,f.a,X.ConfirmationService,i.k],{scope:[0,"scope"],options:[1,"options"]},{dataChanges:"dataChanges",onOptionDeleted:"onOptionDeleted"}),(e()(),l["\u0275eld"](91,0,null,null,12,"div",[["class","ui-g-12"],["style","margin-top: 1rem"]],null,null,null,null,null)),(e()(),l["\u0275eld"](92,0,null,null,11,"div",[["class","ui-inputgroup"]],null,null,null,null,null)),(e()(),l["\u0275eld"](93,0,null,null,10,"span",[["class","ui-float-label"]],null,null,null,null,null)),(e()(),l["\u0275eld"](94,0,null,null,6,"input",[["formControlName","comment"],["name","comment"],["pInputText",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"ui-inputtext",null],[2,"ui-corner-all",null],[2,"ui-state-default",null],[2,"ui-widget",null],[2,"ui-state-filled",null]],[[null,"drop"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,n,t){var i=!0,r=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,95)._handleInput(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,95).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](e,95)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](e,95)._compositionEnd(t.target.value)&&i),"input"===n&&(i=!1!==l["\u0275nov"](e,100).onInput(t)&&i),"drop"===n&&(i=!1!==r.return&&i),i},null,null)),l["\u0275did"](95,16384,null,0,b.DefaultValueAccessor,[l.Renderer2,l.ElementRef,[2,b.COMPOSITION_BUFFER_MODE]],null,null),l["\u0275prd"](1024,null,b.NG_VALUE_ACCESSOR,function(e){return[e]},[b.DefaultValueAccessor]),l["\u0275did"](97,671744,null,0,b.FormControlName,[[3,b.ControlContainer],[8,null],[8,null],[6,b.NG_VALUE_ACCESSOR],[2,b["\u0275angular_packages_forms_forms_k"]]],{name:[0,"name"]},null),l["\u0275prd"](2048,null,b.NgControl,null,[b.FormControlName]),l["\u0275did"](99,16384,null,0,b.NgControlStatus,[[4,b.NgControl]],null,null),l["\u0275did"](100,278528,null,0,C.InputText,[l.ElementRef,[2,b.NgModel]],null,null),(e()(),l["\u0275eld"](101,0,null,null,2,"label",[["for","comment"]],null,null,null,null,null)),(e()(),l["\u0275ted"](102,null,["",""])),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){var t=n.component;e(n,2,0,"objectInfoTab"),e(n,5,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,5,0,l["\u0275nov"](n,7).transform("VPN.PANEL.DATA")),""),"fa fa-pencil-square-o"),e(n,11,0,t.formModel),e(n,20,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER),e(n,22,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(n,29,0),e(n,32,0,l["\u0275inlineInterpolate"](1,"",t.fieldsetTitle,"")),e(n,40,0,"_ipobj_name"),e(n,43,0),e(n,53,0,"_ipobj_address"),e(n,56,0),e(n,66,0,"_ipobj_netmask"),e(n,69,0);var i=null,r=e(n,76,0,null!=(i=t.formModel.get("_ipobj_address"))&&i.valid||null!=(i=t.formModel.get("_ipobj_address"))&&i.pristine&&null!=(i=t.formModel.get("_ipobj_address"))&&i.untouched?"hidden":"visible");e(n,75,0,r),e(n,79,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_SER),e(n,81,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(n,83,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI),e(n,85,0,t.object.obj_type==t.ObjectTypes.OBJ_VPN_CONFIG_CLI?"ui-g-6":"ui-g-12"),e(n,90,0,t.OptionScope.ovp,t.object.options),e(n,97,0,"comment"),e(n,100,0)},function(e,n){var t=n.component;e(n,9,0,l["\u0275nov"](n,13).ngClassUntouched,l["\u0275nov"](n,13).ngClassTouched,l["\u0275nov"](n,13).ngClassPristine,l["\u0275nov"](n,13).ngClassDirty,l["\u0275nov"](n,13).ngClassValid,l["\u0275nov"](n,13).ngClassInvalid,l["\u0275nov"](n,13).ngClassPending),e(n,26,0,l["\u0275unv"](n,26,0,l["\u0275nov"](n,27).transform("VPN.CONFIG.CN"))),e(n,28,0,l["\u0275inlineInterpolate"](1,"",t.object._fwcCrtName,""),!0,!0,!0,!0,l["\u0275nov"](n,29).filled),e(n,37,1,[l["\u0275nov"](n,42).ngClassUntouched,l["\u0275nov"](n,42).ngClassTouched,l["\u0275nov"](n,42).ngClassPristine,l["\u0275nov"](n,42).ngClassDirty,l["\u0275nov"](n,42).ngClassValid,l["\u0275nov"](n,42).ngClassInvalid,l["\u0275nov"](n,42).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,43).filled]),e(n,45,0,l["\u0275unv"](n,45,0,l["\u0275nov"](n,46).transform("ITEM_PANEL.FIELDS.NAME"))),e(n,50,1,[l["\u0275nov"](n,55).ngClassUntouched,l["\u0275nov"](n,55).ngClassTouched,l["\u0275nov"](n,55).ngClassPristine,l["\u0275nov"](n,55).ngClassDirty,l["\u0275nov"](n,55).ngClassValid,l["\u0275nov"](n,55).ngClassInvalid,l["\u0275nov"](n,55).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,56).filled]),e(n,58,0,l["\u0275unv"](n,58,0,l["\u0275nov"](n,59).transform("ITEM_PANEL.FIELDS.ADDRESS"))),e(n,63,1,[l["\u0275nov"](n,68).ngClassUntouched,l["\u0275nov"](n,68).ngClassTouched,l["\u0275nov"](n,68).ngClassPristine,l["\u0275nov"](n,68).ngClassDirty,l["\u0275nov"](n,68).ngClassValid,l["\u0275nov"](n,68).ngClassInvalid,l["\u0275nov"](n,68).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,69).filled]),e(n,71,0,l["\u0275unv"](n,71,0,l["\u0275nov"](n,72).transform("ITEM_PANEL.FIELDS.MASK"))),e(n,77,0,t.ipNetmaskErrorMsg),e(n,87,0,l["\u0275unv"](n,87,0,l["\u0275nov"](n,88).transform("VPN.CONFIG.OVP"))),e(n,94,1,[l["\u0275nov"](n,99).ngClassUntouched,l["\u0275nov"](n,99).ngClassTouched,l["\u0275nov"](n,99).ngClassPristine,l["\u0275nov"](n,99).ngClassDirty,l["\u0275nov"](n,99).ngClassValid,l["\u0275nov"](n,99).ngClassInvalid,l["\u0275nov"](n,99).ngClassPending,!0,!0,!0,!0,l["\u0275nov"](n,100).filled]),e(n,102,0,l["\u0275unv"](n,102,0,l["\u0275nov"](n,103).transform("ITEM_PANEL.FIELDS.COMMENTS")))})}function Ye(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,4,"button",[["class","ui-button-danger"],["icon","fa fa-trash"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onDeleteConfigurationOrPrefix()&&l),l},null,null)),l["\u0275did"](2,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef]),l["\u0275pod"](4,{obj_type:0}),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){var t=n.component,i=l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,2,0,l["\u0275nov"](n,5).transform("CONTEXT.VPN_CONFIG.DELETE_2",e(n,4,0,l["\u0275unv"](n,2,0,l["\u0275nov"](n,3).transform("GLOBALS.DB_OBJECT_NAMES."+t.objectToDelete._fwcObjType+"_ABBR"))))),"");e(n,2,0,i,"fa fa-trash")},function(e,n){var t=n.component;e(n,1,0,!t.okToDelete||t.loadingData||t.savingData)})}function $e(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-clipboard"],["pButton",""]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onCopyConfigFile()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("VPN.CONFIG.CLIPBOARD.BUTTON")),""),"fa fa-clipboard")},null)}function Xe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-secondary"],["icon","fa fa-download"],["pButton",""]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onDownloadConfigFile()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("VPN.CONFIG.DOWNLOAD.BUTTON")),""),"fa fa-download")},null)}function qe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,$e)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Xe)),l["\u0275did"](4,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,!(null!=t.errorMsgs&&t.errorMsgs.length)&&(null==t.configFile?null:t.configFile.length)),e(n,4,0,!(null!=t.errorMsgs&&t.errorMsgs.length)&&(null==t.configFile?null:t.configFile.length))},null)}function ze(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-warning"],["icon","fa fa-pause"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.doPauseProcess(!0)&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("COMPILE.PAUSE")),""),"fa fa-pause")},function(e,n){e(n,0,0,n.component.disableButtons)})}function Qe(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-play"],["pButton",""],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.doContinueProcess()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("COMPILE.CONTINUE")),""),"fa fa-play")},function(e,n){e(n,0,0,n.component.disableButtons)})}function Ze(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,ze)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,Qe)),l["\u0275did"](4,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,!t.pauseProcess&&t.operationInProcessId<t.operationQueue.length),e(n,4,0,t.pauseProcess&&t.operationInProcessId<t.operationQueue.length)},null)}function en(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-danger"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onCancel()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CANCEL")),""),"pi pi-times")},function(e,n){var t=n.component;e(n,0,0,!t.object||t.loadingData||t.savingData)})}function nn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-success"],["icon","fa fa-floppy-o"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onSave()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.SAVE")),""),"fa fa-floppy-o")},function(e,n){var t=n.component;e(n,0,0,!t.formModel.valid||t.formModel.pristine||t.loadingData||t.savingData)})}function tn(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,en)),l["\u0275did"](2,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,nn)),l["\u0275did"](4,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){var t=n.component;e(n,2,0,!t.formModel.pristine),e(n,4,0,!t.formModel.pristine)},null)}function ln(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","ui-button-primary"],["icon","pi pi-times"],["pButton",""]],[[8,"disabled",0]],[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.onCancel()&&l),l},null,null)),l["\u0275did"](1,4341760,null,0,T.ButtonDirective,[l.ElementRef],{label:[0,"label"],icon:[1,"icon"]},null),l["\u0275pid"](131072,i.j,[i.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("GLOBALS.MSG_BUTTONS.CLOSE")),""),"pi pi-times")},function(e,n){var t=n.component;e(n,0,0,t.savingData||t.disableButtons)})}function rn(e){return l["\u0275vid"](0,[l["\u0275pid"](0,d.a,[]),l["\u0275qud"](671088640,1,{optionsGrids:1}),l["\u0275qud"](671088640,2,{treeSelector:0}),l["\u0275qud"](402653184,3,{dialog:0}),l["\u0275qud"](671088640,4,{txtConfigFile:0}),l["\u0275qud"](671088640,5,{log:0}),(e()(),l["\u0275eld"](6,0,null,null,52,"p-dialog",[["styleClass","dlgFwcDialog fwcObjectDialog"]],null,[[null,"visibleChange"],[null,"onShow"],[null,"onHide"]],function(e,n,t){var l=!0,i=e.component;return"visibleChange"===n&&(l=!1!==(i.displayDialog=t)&&l),"onShow"===n&&(l=!1!==i.onShowDialog(t)&&l),"onHide"===n&&(l=!1!==i.onHideDialog(t)&&l),l},ve.b,ve.a)),l["\u0275did"](7,180224,[[3,4],["dlgOVConfigPanel",4]],2,he.Dialog,[l.ElementRef,l.Renderer2,l.NgZone],{visible:[0,"visible"],resizable:[1,"resizable"],modal:[2,"modal"],closable:[3,"closable"],style:[4,"style"],styleClass:[5,"styleClass"]},{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange"}),l["\u0275qud"](603979776,6,{headerFacet:1}),l["\u0275qud"](603979776,7,{footerFacet:1}),l["\u0275pod"](10,{width:0}),(e()(),l["\u0275eld"](11,0,null,0,14,"p-header",[],null,null,null,Oe.d,Oe.b)),l["\u0275did"](12,49152,[[6,4]],0,A.Header,[],null,null),(e()(),l["\u0275and"](16777216,null,0,1,null,Se)),l["\u0275did"](14,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,Ie)),l["\u0275did"](16,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,Re)),l["\u0275did"](18,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,Ce)),l["\u0275did"](20,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,be)),l["\u0275did"](22,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](23,0,null,0,2,"div",[["class","divHeaderButtons"]],null,null,null,null,null)),(e()(),l["\u0275eld"](24,0,null,null,1,"button",[["class","ui-button-secondary"],["icon","fa fa-window-minimize"],["pButton",""],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.minimizeDialog()&&l),l},null,null)),l["\u0275did"](25,4341760,null,0,T.ButtonDirective,[l.ElementRef],{icon:[0,"icon"]},null),(e()(),l["\u0275eld"](26,0,null,1,2,"div",[["class","ui-g"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,we)),l["\u0275did"](28,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,ye)),l["\u0275did"](30,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,De)),l["\u0275did"](32,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,je)),l["\u0275did"](34,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,xe)),l["\u0275did"](36,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,Ue)),l["\u0275did"](38,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,1,1,null,Ke)),l["\u0275did"](40,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](41,0,null,2,17,"p-footer",[],null,null,null,Oe.c,Oe.a)),l["\u0275did"](42,49152,[[7,4]],0,A.Footer,[],null,null),(e()(),l["\u0275eld"](43,0,null,0,5,"div",[["class","divLoadTemp"]],null,null,null,null,null)),l["\u0275did"](44,278528,null,0,_.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),l["\u0275pod"](45,{visibility:0}),(e()(),l["\u0275eld"](46,0,null,null,2,"p-progressSpinner",[],null,null,null,r.b,r.a)),l["\u0275did"](47,49152,null,0,o.ProgressSpinner,[],{style:[0,"style"]},null),l["\u0275pod"](48,{width:0,height:1}),(e()(),l["\u0275and"](16777216,null,0,1,null,Ye)),l["\u0275did"](50,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,qe)),l["\u0275did"](52,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,Ze)),l["\u0275did"](54,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,tn)),l["\u0275did"](56,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,0,1,null,ln)),l["\u0275did"](58,16384,null,0,_.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component,l=t.displayDialog,i=e(n,10,0,"80vw");e(n,7,0,l,!0,!0,!1,i,"dlgFwcDialog fwcObjectDialog"),e(n,14,0,t.objectToDelete),e(n,16,0,t.objectToRetrieve),e(n,18,0,t.objectToManage),e(n,20,0,t.objectToSearchWU),e(n,22,0,!(t.objectToDelete||t.objectToRetrieve||t.objectToManage||t.objectToSearchWU)),e(n,25,0,"fa fa-window-minimize"),e(n,28,0,t.loadingData),e(n,30,0,null==t.errorMsgs?null:t.errorMsgs.length),e(n,32,0,t.objectToDelete&&!t.loadingData&&!(null!=t.errorMsgs&&t.errorMsgs.length)),e(n,34,0,t.objectToRetrieve&&!t.loadingData&&!(null!=t.errorMsgs&&t.errorMsgs.length)),e(n,36,0,t.objectToManage&&!t.loadingData&&!(null!=t.errorMsgs&&t.errorMsgs.length)),e(n,38,0,t.objectToSearchWU&&!t.loadingData&&!(null!=t.errorMsgs&&t.errorMsgs.length)),e(n,40,0,t.object&&t.formModel&&!t.loadingData&&!(null!=t.errorMsgs&&t.errorMsgs.length));var r=e(n,45,0,t.savingData?"visible":"hidden");e(n,44,0,r);var o=e(n,48,0,"1.7rem","1.7rem");e(n,47,0,o),e(n,50,0,t.objectToDelete),e(n,52,0,t.objectToRetrieve),e(n,54,0,t.objectToManage),e(n,56,0,t.object&&t.formModel),e(n,58,0,!t.object||!t.formModel||t.object&&t.formModel&&t.formModel.pristine)},null)}},"g/5Y":function(e,n,t){"use strict";var l=t("CcnG"),i=t("Meih"),r=t("SlyN"),o=t("B58V"),a=t("7LN8"),s=t("IL0X"),u=t("Ip0R"),c=l["\u0275crt"]({encapsulation:2,styles:[],data:{}});function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"div",[["aria-live","polite"],["class","ui-message ui-widget ui-corner-all"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-message-info":0,"ui-message-warn":1,"ui-message-error":2,"ui-message-success":3}),(e()(),l["\u0275eld"](3,0,null,null,1,"span",[["class","ui-message-icon"]],null,null,null,null,null)),l["\u0275did"](4,278528,null,0,u.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l["\u0275eld"](5,0,null,null,0,"span",[["class","ui-message-text"]],[[8,"innerHTML",1]],null,null,null,null))],function(e,n){var t=n.component,l=e(n,2,0,"info"===t.severity,"warn"===t.severity,"error"===t.severity,"success"===t.severity);e(n,1,0,"ui-message ui-widget ui-corner-all",l),e(n,4,0,"ui-message-icon",t.icon)},function(e,n){e(n,5,0,n.component.text)})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](1,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,1,0,n.component.severity)},null)}var f=t("A7o+");t("7PmC"),t("t/Na"),t("m6j1"),t("iiPk"),t("AjHW"),t("H9gU"),t("Mebi"),t("77Y5"),t.d(n,"a",function(){return g}),t.d(n,"b",function(){return I});var g=l["\u0275crt"]({encapsulation:2,styles:[[".divWUPanel label{text-align:left!important;font-family:arial!important;color:#0069a7}"]],data:{}});function m(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],function(e,n,t){var l=!0;return"dblclick"===n&&(l=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.label,""))})}function _(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],function(e,n,t){var l=!0;return"selectionChange"===n&&(l=!1!==(e.component.selectedRule=t)&&l),l},i.b,i.a)),l["\u0275did"](1,1294336,null,1,r.Tree,[l.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),l["\u0275qud"](603979776,1,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,m)),l["\u0275did"](4,16384,[[1,4]],0,a.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){var t=n.component;e(n,1,0,t.ruleItemsNodes,"single",t.selectedRule,"treeSelector treeWU"),e(n,4,0,"default")},null)}function v(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,p,c)),l["\u0275did"](1,49152,null,0,s.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),l["\u0275pid"](131072,f.j,[f.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,"warn",l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,1,l["\u0275nov"](n,2).transform("WU.NOT_USED_RULE")),""))},null)}function h(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],function(e,n,t){var l=!0;return"dblclick"===n&&(l=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.label,""))})}function O(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,4,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],function(e,n,t){var l=!0;return"selectionChange"===n&&(l=!1!==(e.component.selectedObject=t)&&l),l},i.b,i.a)),l["\u0275did"](1,1294336,null,1,r.Tree,[l.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],styleClass:[3,"styleClass"]},{selectionChange:"selectionChange"}),l["\u0275qud"](603979776,2,{templates:1}),(e()(),l["\u0275and"](0,null,null,1,null,h)),l["\u0275did"](4,16384,[[2,4]],0,a.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){var t=n.component;e(n,1,0,t.objectItemsNodes,"single",t.selectedObject,"treeSelector treeWU"),e(n,4,0,"default")},null)}function E(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"p-message",[["severity","warn"]],null,null,null,p,c)),l["\u0275did"](1,49152,null,0,s.UIMessage,[],{severity:[0,"severity"],text:[1,"text"]},null),l["\u0275pid"](131072,f.j,[f.k,l.ChangeDetectorRef])],function(e,n){e(n,1,0,"warn",l["\u0275inlineInterpolate"](1,"",l["\u0275unv"](n,1,1,l["\u0275nov"](n,2).transform("WU.NOT_USED_OBJECT")),""))},null)}function S(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,28,"div",[["class","divWUPanel"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](2,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](3,0,null,null,7,"label",[],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,0,"i",[["class","fwcMenuIcon fwci-rule fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](6,null,["\xa0","\xa0\xa0"])),l["\u0275pid"](131072,f.j,[f.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](8,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),l["\u0275eld"](9,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](10,null,["",""])),(e()(),l["\u0275and"](16777216,null,null,1,null,_)),l["\u0275did"](12,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,v)),l["\u0275did"](14,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](15,0,null,null,13,"div",[["class","ui-g-6"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,8,"div",[],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,7,"label",[],null,null,null,null,null)),(e()(),l["\u0275eld"](18,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275eld"](19,0,null,null,0,"i",[["class","fwcMenuIcon fwci-ipobjects fwcOrange"]],null,null,null,null,null)),(e()(),l["\u0275ted"](20,null,["\xa0","\xa0\xa0"])),l["\u0275pid"](131072,f.j,[f.k,l.ChangeDetectorRef]),(e()(),l["\u0275eld"](22,0,null,null,2,"span",[["class","fwcBlueBg fwcBadge"]],null,null,null,null,null)),(e()(),l["\u0275eld"](23,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),l["\u0275ted"](24,null,["",""])),(e()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](26,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](28,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,12,0,null==t.ruleItemsNodes?null:t.ruleItemsNodes.length),e(n,14,0,!(null!=t.ruleItemsNodes&&t.ruleItemsNodes.length)),e(n,26,0,null==t.objectItemsNodes?null:t.objectItemsNodes.length),e(n,28,0,!(null!=t.objectItemsNodes&&t.objectItemsNodes.length))},function(e,n){var t=n.component;e(n,6,0,l["\u0275unv"](n,6,0,l["\u0275nov"](n,7).transform("WU.RULES"))),e(n,10,0,t.getTreeItemsNumber(t.ruleItemsNodes)),e(n,20,0,l["\u0275unv"](n,20,0,l["\u0275nov"](n,21).transform("WU.OBJECTS"))),e(n,24,0,t.getTreeItemsNumber(t.objectItemsNodes))})}function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,S)),l["\u0275did"](1,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,1,0,n.component._objectInfo)},null)}},glvV:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var l=t("mrSG"),i=t("9Z1F"),r=t("fgKk"),o=t("kCWp"),a=t("CcnG"),s=t("t/Na"),u=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.newMark=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark";return r.a.log("Create new mark: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.getMark=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark/get";return r.a.log("Get mark: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.updateMark=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark";return r.a.log("Update mark: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.deleteMark=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark/del";return r.a.log("Delete mark: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.getMarkWhereUsed=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark/where";return r.a.log("Get mark where used: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.checkMarkRestrictions=function(e){var n=r.a.settings.fwcAppURL+"/ipobj/mark/where";return r.a.log("Get mark where used: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.ngInjectableDef=a.defineInjectable({factory:function(){return new n(a.inject(s.c))},token:n,providedIn:"root"}),n}(o.a)},iiPk:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("CcnG"),i=(t("AjHW"),t("H9gU"),t("Mebi"),t("7PmC"),t("77Y5"),t("EMdb")),r=t("fgKk"),o=(t("m6j1"),function(){function e(e,n,t,r,o,a,s){this.refService=e,this.itemSelectedService=n,this.fwcPolicyService=t,this.fwcPositionService=r,this.translate=o,this.fwcUserService=a,this.pipeFwcIcon=s,this.ObjectTypes=i.m,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new l.EventEmitter}return Object.defineProperty(e.prototype,"objectInfo",{set:function(e){e&&(this._objectInfo=e,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.fwcPositionService.getPositions(1).subscribe(function(n){var t=n.response;console.log(">>>>>>>>>>>>>>> getPositions",n),e.positions=t&&0==t.respStatus?[]:n.data})},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){var n=e.refService.getAppRef();e.contextMenuReference=n},1)},e.prototype.parseInfo=function(){var e,n,t;if((n=this._objectInfo)&&(t=n.restrictions)){r.a.log("SEARCH RESULTS:",t),this.ruleItemsNodes=[],this.objectItemsNodes=[];for(var l=0,i=Object.keys(t);l<i.length;l++){var o=i[l],a=t[o];Array.isArray(a)&&a.length&&a[0]&&(isNaN(a[0].rule_id)||isNaN(a[0].rule_type)||isNaN(a[0].rule_position_id)?(e=this.buildObjectTreeNodes(a,o),this.objectItemsNodes.push(e)):this.ruleItemsNodes=this.buildRuleTreeNodes(a))}}},e.prototype.getTreeItemsNumber=function(e){var n,t=0;if(e)for(n=e.slice(0);n.length;){var l=n.pop();l.children&&l.children.length?n.push.apply(n,l.children):t++}return t},e.prototype.itemClickEvent=function(){},e.prototype.itemDblClickEvent=function(e,n){var t;if(r.a.log("SELECTED NODE: ",e,n),n?t=n.data:e&&(t=e.value),t&&!this.readOnly)if(t.rule_id&&t.rule_position_id&&t.firewall_id&&t.obj_type_id&&!t._fwItem){var l={};l._fwcUserId=this.fwcUserService.getActualFwcUser().user_id,l._fwcSelectRuleId=t.rule_id,l._fwcSelectRulePositionId=t.rule_position_id,l._fwcPolicyType=t.rule_type,l._fwcFwId=t.firewall_id,l._fwcFwName=t.cluster_name?t.cluster_name:t.firewall_name,l.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),l._fwcSelectObjId=t.obj_id,l._fwcSelectObjType=t.obj_type_id,this.fwcPolicyService.setSelectedPolicy(l),this.onHideParent.emit(!0)}else{var o={};if(o._fwcSubObjId=t.obj_id,o._fwcSubObjType=t.obj_type_id,o.fwcloud=t.cloud_id,o._onlySelectInTree=!0,t.group_id)o._fwcObjId=t.group_id,o._fwcObjType=t.group_type;else if(t.interface_id)o._fwcObjId=t.interface_id,o._fwcObjType=t.interface_type_id;else if(t.host_id)o._fwcObjId=t.host_id,o._fwcObjType=t.host_type;else if(t.openvpn);else{if(!(t.firewall_id&&t.obj_id&&!t.rule_id||t._fwItem))return;o._fwcObjId=t.firewall_id,o._fwcObjType=i.m.OBJ_FIREWALL,t._fwItem&&(o._fwcSubObjId=null,o._fwcSubObjType=null)}this.itemSelectedService.setItem(o)}},e.prototype.buildRuleTreeNodes=function(e){var n=this,t=[];return e.forEach(function(e){var l=t.find(function(n){return!(!n.data||n.data.firewall_id!=e.firewall_id)});if(l)(r={}).label=n.translate.instant("WU.FOUND_IN_RULE",{policy_name:e.rule_type_name,rule_id:e.rule_id,pos_name:e.rule_position_name}),r.data=Object.assign({},e),l.children||(l.children=[]),l.children.push(r);else{var r={},o={},a=void 0,s=void 0;null!=e.cluster_id?(a=n.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+e.cluster_name+"</strong>",s=i.m.OBJ_CLUSTER):(a=n.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+e.firewall_name+"</strong>",s=i.m.OBJ_FIREWALL),r.label=a,r.icon=n.pipeFwcIcon.transform(s),r.children=[],r.data=Object.assign({},e),r.data._fwItem=!0,r.expanded=!0,o.label=n.translate.instant("WU.FOUND_IN_RULE",{policy_name:e.rule_type_name,rule_id:e.rule_id,pos_name:e.rule_position_name}),o.data=Object.assign({},e),r.children.push(o),t.push(r)}}),t.length?t:null},e.prototype.buildObjectTreeNodes=function(e,n){var t,l,r=this,o=[];return t={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+n+".1")+"</strong>",icon:"",expanded:!0,children:[]},e.forEach(function(e){var n={};if(e){var t=void 0,a=void 0;isNaN(e.group_id)?!isNaN(e.cluster_id)&&isNaN(e.openvpn)?(t=r.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),a=r.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:e.cluster_name}),l=r.pipeFwcIcon.transform(i.m.OBJ_CLUSTER)):!isNaN(e.firewall_id)&&isNaN(e.openvpn)?(t=r.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),a=r.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:e.firewall_name}),l=r.pipeFwcIcon.transform(i.m.OBJ_FIREWALL)):isNaN(e.interface_id)?isNaN(e.host_id)?isNaN(e.openvpn)||(a=null!=e.cluster_id?r.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":r.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",a=r.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:a}),l=r.pipeFwcIcon.transform(i.m.OBJ_VPN_CONFIG_CLI)):(a=r.translate.instant("WU.FOUND_OBJECT",{type_name:t="Host",obj_name:e.host_name}),l=r.pipeFwcIcon.transform(i.m.OBJ_HOST)):(t=r.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),a=r.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:e.interface_name}),l=r.pipeFwcIcon.transform(i.m.OBJ_INTERFACE_FIREWALL)):(t=r.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),a=r.translate.instant("WU.FOUND_OBJECT",{type_name:t,obj_name:e.group_name}),l=r.pipeFwcIcon.transform(i.m.OBJ_GROUP)),n.label=a,n.data=Object.assign({},e),o.push(n)}}),t.icon=l,t.children=o,t},e}())},kp3z:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var l=t("CcnG"),i=t("EMdb"),r=(t("H9gU"),t("Mebi"),t("77Y5"),t("m6j1"),function(){function e(e,n,t,i,r){this.translate=e,this.itemSelectedService=n,this.fwcPolicyService=t,this.fwcUserService=i,this.pipeFwcIcon=r,this.onHideParent=new l.EventEmitter,this.selectedObject=null}return Object.defineProperty(e.prototype,"dependencies",{set:function(e){e&&(this.dependenciesTree=this.buildDependencyTree(e))},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.buildDependencyTree=function(e){var n,t,l,i=[];e._fwcRestrictedObject&&(t=e._fwcRestrictedObject._fwcObjId,l=e._fwcRestrictedObject._fwcObjType,delete e._fwcRestrictedObject);for(var r=0,o=Object.keys(e);r<o.length;r++){var a=o[r],s=e[a];Array.isArray(s)?s.length&&s[0]&&(isNaN(s[0].rule_id)||isNaN(s[0].rule_type)||isNaN(s[0].rule_position_id)?!isNaN(s[0].group_id)&&s[0].group_name?(n=this.buildGroupDependencyTreeNodes(s,a,t,l),i.push(n)):isNaN(s[0].openvpn)||(n=this.buildOpenVPNDependencyTreeNodes(s,a,t,l),i.push(n)):(n=this.buildRuleDependencyTreeNodes(s,a,t,l),i.push(n))):i.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+a+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return i},e.prototype.itemDblClickEvent=function(e,n){var t=n.data;if(t&&!this.readOnly)if(t.rule_id&&t.rule_position_id&&t.firewall_id&&t.obj_type_id&&!t._fwItem){var l={};l.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),l._fwcUserId=this.fwcUserService.getActualFwcUser().user_id,l._fwcSelectRuleId=t.rule_id,l._fwcSelectRulePositionId=t.rule_position_id,l._fwcPolicyType=t.rule_type,l._fwcFwId=t.firewall_id,l._fwcFwName=t.cluster_name?t.cluster_name:t.firewall_name,l._fwcSelectObjId=t.obj_id,l._fwcSelectObjType=t.obj_type_id,this.fwcPolicyService.setSelectedPolicy(l),this.onHideParent.emit(!0)}else{var r={};if(r._fwcSubObjId=t.obj_id,r._fwcSubObjType=t.obj_type_id,r.fwcloud=t.cloud_id,r._onlySelectInTree=!0,t.group_id)r._fwcObjId=t.group_id,r._fwcObjType=t.group_type;else if(t.interface_id)r._fwcObjId=t.interface_id,r._fwcObjType=t.interface_type_id;else if(t.host_id)r._fwcObjId=t.host_id,r._fwcObjType=t.host_type;else if(t.openvpn);else{if(!(t.firewall_id&&t.obj_id&&!t.rule_id||t._fwItem))return;r._fwcObjId=t.firewall_id,r._fwcObjType=i.m.OBJ_FIREWALL,t._fwItem&&(r._fwcSubObjId=null,r._fwcSubObjType=null)}this.itemSelectedService.setItem(r)}},e.prototype.buildRuleDependencyTreeNodes=function(e,n,t,l){var r,o=this,a=[];return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+n+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]},e.forEach(function(e){var n=a.find(function(n){return!(!n.data||n.data.firewall_id!=e.firewall_id)}),r={};if(e)if(n)o.setRuleNodeInfo(r,e,t,l),r.data=Object.assign({},e),n.children||(n.children=[]),n.children.push(r);else{var s={},u=void 0,c=void 0;null!=e.cluster_id?(u=o.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>",c=i.m.OBJ_CLUSTER):(u=o.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",c=i.m.OBJ_FIREWALL),r.label=u,r.icon=o.pipeFwcIcon.transform(c),r.children=[],r.data=Object.assign({},e),r.data._fwItem=!0,r.expanded=!0,o.setRuleNodeInfo(s,e,t,l),s.data=Object.assign({},e),r.children.push(s),a.push(r)}}),r.children=a,r},e.prototype.buildGroupDependencyTreeNodes=function(e,n,t,l){var r,o,a,s=this,u=[];return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+n+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},e.forEach(function(e){var n={};o=s.translate.instant("WU.FOUND_IN_GROUP",{group_name:e.group_name}),a=s.pipeFwcIcon.transform(i.m.OBJ_GROUP),e.obj_type_id&&e.obj_name&&(a=s.pipeFwcIcon.transform(e.obj_type_id),o+=" > <code>"+e.obj_name+"</code>"),e&&(n.label=o,n.icon=a,n.data=Object.assign({},e),u.push(n))}),r.children=u,r},e.prototype.buildOpenVPNDependencyTreeNodes=function(e,n,t,l){var r,o,a,s=this,u=[];return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+n+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},e.forEach(function(e){var n={};e&&(o=null!=e.cluster_id?s.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+e.cluster_name+"</code>":s.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+e.firewall_name+"</code>",a=s.pipeFwcIcon.transform(i.m.OBJ_VPN_CONFIG_CLI),e.obj_type_id&&e.obj_name&&(a=s.pipeFwcIcon.transform(e.obj_type_id),o+=" > <code>"+e.obj_name+"</code>"),n.label=s.translate.instant("WU.FOUND_IN_OPENVPN",{cn:e.cn,firewall_data:o}),n.icon=a,n.data=Object.assign({},e),u.push(n))}),r.children=u,r},e.prototype.setRuleNodeInfo=function(e,n,t,l){var i,r;i=this.translate.instant("WU.FOUND_IN_RULE",{policy_name:n.rule_type_name,rule_id:n.rule_id,pos_name:n.rule_position_name}),(void 0!==t&&void 0!==l&&t!=n.obj_id||l!=n.obj_type_id)&&(i+=" > <code>"+n.obj_name+"</code>"),r=this.pipeFwcIcon.transform(n.obj_type_id),e.label=i,e.icon=r},e}())},m6j1:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var l,i,r=t("EMdb"),o=((l={})[r.m.OBJ_FIREWALL]="fwci-firewall",l[r.m.OBJ_SERVICE_IP]="fwci-ipservice",l[r.m.OBJ_SERVICE_TCP]="fwci-tcpservice",l[r.m.OBJ_SERVICE_ICMP]="fwci-icmpservice",l[r.m.OBJ_SERVICE_UDP]="fwci-udpservice",l[r.m.OBJ_ADDRESS]="fwci-address",l[r.m.OBJ_ADDRESS_RANGE]="fwci-addressrange",l[r.m.OBJ_NETWORK]="fwci-network",l[r.m.OBJ_HOST]="fwci-host",l[r.m.OBJ_INTERFACE_FIREWALL]="fwci-interface fwcGreen",l[r.m.OBJ_INTERFACE_HOST]="fwci-interface fwcGreen",l[r.m.OBJ_GROUP]="fwci-objectgroup",l[r.m.OBJ_SERVICE_GROUP]="fwci-servicegroup",l[r.m.OBJ_GEN_IP_OBJECT]="fwci-ipobjects",l[r.m.OBJ_CLUSTER]="fwci-cluster fwcDarkBlue",l[r.m.OBJ_DNS]="fwci2-dns-in",l[r.m.OBJ_MARK]="fwci2-label",l[r.m.OBJ_CA]="fwci2-ca",l[r.m.OBJ_CERT_CLI]="fwci2-certificate",l[r.m.OBJ_CERT_SER]="fwci2-certificate fwcDarkBlue",l[r.m.OBJ_VPN_CONFIG_CLI]="fwci2-openvpn fwcOrange",l[r.m.OBJ_VPN_CONFIG_SER]="fwci2-openvpn fwcDarkBlue",l[r.m.OBJ_PREFIX_FOLDER]="fwci2-folder",l[r.m.OBJ_OPENVPN_PREFIX]="fwci2-certificate-prefix",l[r.m.OBJ_GEN_RULE]="fwci-rule",l),a=((i={})[r.l.FOLDER_CLUSTER]="fwci-clusters fwcDarkBlue",i[r.l.FOLDER_CLUSTER_FW]="fwci-compileallfirewalls2",i[r.l.FOLDER_CA]="fwci2-ca fwcDarkBlue",i[r.l.FOLDER]="fwci2-folder",i[r.l.STANDARD]="fwci2-folderstd",i[r.l.FOLDER_FW]="fwci-firewalls",i[r.l.OBJ_FIREWALL]="fwci-firewall",i[r.l.FOLDER_OBJECTS]="fwci-ipobjects",i[r.l.FOLDER_SERVICES]="fwci-services",i[r.l.FOLDER_POLICY]="fwci-filterpolicies",i[r.l.POLICY_INPUT]="fwci-input",i[r.l.POLICY_OUTPUT]="fwci-output",i[r.l.POLICY_FORWARD]="fwci-forward",i[r.l.FOLDER_NAT]="fwci-nat",i[r.l.POLICY_SNAT]="fwci-snat",i[r.l.POLICY_DNAT]="fwci-dnat",i[r.l.OPENVPN_ROOT]="fwci2-openvpn",i),s=function(){function e(){}return e.prototype.transform=function(e,n,t){var l="fwcBlue",i="";return n&&a[n]?i=a[n]:o[e]&&(i=o[e]),t&&(l=t),i+" "+l},e}()},o0su:function(e,n,t){"use strict";t("8xOQ"),t("36a9"),t("Mrgh"),t("EMdb"),t("AjHW"),t("D6ZB"),t("8VK3"),t("kCWp"),t("0wi0");var l=t("fgKk");t.d(n,"a",function(){return l.a}),t("U3yX"),t("N7ZF"),t("w2nL"),t("P6hr"),t("glvV"),t("LwpX"),t("FHuN"),t("PIn4"),t("Mebi"),t("7PmC"),t("77Y5"),t("sqqX"),t("yEB0"),t("H9gU"),t("Y/9N"),t("nauW"),t("2Rin")},pDcU:function(e,n,t){"use strict";t.d(n,"a",function(){return p});var l=t("mrSG"),i=t("gIcY"),r=t("EMdb"),o=t("jvbL"),a=t("bGe8"),s=(t("DSdC"),t("ePWF"),t("0VEr"),t("o0su")),u=(t("24Yq"),t("a4ce"),function(e,n,t,l){return new(t||(t=Promise))(function(i,r){function o(e){try{s(l.next(e))}catch(n){r(n)}}function a(e){try{s(l.throw(e))}catch(n){r(n)}}function s(e){e.done?i(e.value):new t(function(n){n(e.value)}).then(o,a)}s((l=l.apply(e,n||[])).next())})}),c=function(e,n){var t,l,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,l&&(i=2&r[0]?l.return:r[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,r[1])).done)return i;switch(l=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,l=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=n.call(e,o)}catch(a){r=[6,a],l=0}finally{t=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=["server","ifconfig-push","remote"],p=function(e){function n(n,t,l,i,o,a,s,u,c,d,p,f,g,m){var _=e.call(this,t,n,l)||this;return _.itemSelectedService=n,_.appDialogPanelsService=t,_.cd=l,_.fwcUserService=i,_.fwcFirewallService=o,_.fwcObjectService=a,_.fwcObjectTreeService=s,_.fwcVpnService=u,_.inputDataService=c,_.translate=d,_.confirmationService=p,_.utilService=f,_.fwcEventService=g,_.messageService=m,_.restrictionsReadOnly=!1,_.errorMsgs=[],_.deleteMsgs=[],_.ObjectTypes=r.m,_.CACertTypes=r.c,_.OptionScope=r.n,_.netmaskRegexp="^(((255\\.){3}(255|254|252|248|240|224|192|128|0+))|((255\\.){2}(255|254|252|248|240|224|192|128|0+)\\.0)|((255\\.)(255|254|252|248|240|224|192|128|0+)(\\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\\.0+){3}))$",_.ipV4Regexp="^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",_.posixPathRegexp="^\\/{1}(((\\/{1}\\.{1})?[a-zA-Z0-9 ]+\\/?)+(\\.{1}[a-zA-Z0-9]{2,4})?)$",_.posixFilenameRegexp="^[a-zA-Z0-9\\-_\\.]{4,64}$",_.okToDelete=!1,_.dependencies=null,_.FirewallOpsIcons=r.h,_.operationQueue=[],_.operationStatus={},_.pauseProcess=!1,_.disableButtons=!1,_.disabledTreeRemoteOptions=[],_.NodeTypes=r.l,_.alive=!0,_.createDialog(_.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn"),_}return Object(l.__extends)(n,e),n.prototype.ipNetmaskValidator=function(e){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};var n,t,l,i,o="",a="";return this.formModel.controls._ipobj_address&&(o=this.formModel.controls._ipobj_address.value||""),this.formModel.controls._ipobj_netmask&&(a=this.formModel.controls._ipobj_netmask.value||""),o.match(this.ipV4Regexp)&&a.match(this.netmaskRegexp)&&(i=o.trim()+" "+a.trim(),this.formModel.controls._ipobj_address.setErrors(null),n=!0),this.object.obj_type==r.m.OBJ_VPN_CONFIG_CLI?(t=r.n.ccd,l=r.y.O_CLIENT):this.object.obj_type==r.m.OBJ_VPN_CONFIG_SER&&(t=r.n.ovp,l=r.y.O_SERVER),this.optionsGrids.forEach(function(e){e.getScope()===t&&e.modifyIPOption(l,t,i)}),n?null:{ipNetmaskValidator:!0}},n.prototype.ngOnInit=function(){var e=this;this.itemSelectedService.getItem().pipe(Object(o.a)(function(){return e.alive})).subscribe(function(n){return u(e,void 0,void 0,function(){var e,t,l,i,o;return c(this,function(a){switch(a.label){case 0:return n._onlyReloadInfoPanel&&(this.objectToDelete||this.objectToSearchWU)?((this.displayDialog||this.dialogMinified)&&(this.objectToDelete?(e=Object.assign({},this.objectToDelete),t=this.itemSelectedService.getActualLastMinifiedDialogId(),this.resetProperties(),this.onItemDelete(e),this.dialogId==t&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))):this.objectToSearchWU&&(l=Object.assign({},this.objectToSearchWU),this.resetProperties(),this.showWhereUsed(l))),[2]):n.obj_type!=r.m.OBJ_VPN_CONFIG_SER&&n.obj_type!=r.m.OBJ_VPN_CONFIG_CLI&&n.obj_type!=r.m.OBJ_PREFIX_FOLDER&&n.obj_type!=r.m.OBJ_OPENVPN_PREFIX||n._onlySelectInTree?[2]:(this.resetProperties(),n.parent_type!=r.m.OBJ_CLUSTER?[3,2]:(i=void 0,[4,this.getClusterMasterFirewall(n.parent_id)]));case 1:return(i=a.sent())?(n.firewall=i.id,[3,3]):(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:n.parent_name})}),[2]);case 2:n.firewall=n.parent_id,a.label=3;case 3:return o=!0,n.deleteAction?this.onItemDelete(n):n.configFileAction?this.onItemGetFile(n):n.installAction||n.syncCCDAction||n.uninstallAction?this.onItemManage(n):n.newPrefixAction||n.editPrefixAction||n.deletePrefixFolderAction?(o=!1,this.managePrefix(n)):n.whereUsedAction?this.showWhereUsed(n):this.onItemSelect(n),o&&this.showDialog(),[2]}})})})},n.prototype.ngOnDestroy=function(){this.alive=!1},n.prototype.resetProperties=function(){this.formModel&&this.formModel.reset(),this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsgs=[],this.dependencies=null,this.deleteMsgs=[]},n.prototype.onItemDelete=function(e){var n,t,l,i=this;e&&(this.objectToDelete=e,this.loadingData=!0,this.okToDelete=!1,this.deleteMsgs=[],e.obj_type==r.m.OBJ_VPN_CONFIG_SER||e.obj_type==r.m.OBJ_VPN_CONFIG_CLI?(n=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId},l="VPN.CONFIG"):e.obj_type==r.m.OBJ_OPENVPN_PREFIX&&(n=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj},l="VPN.OPENVPN_PREFIX"),n&&n(t).subscribe(function(n){var t=n.response;s.a.log("CHECK CONFIG RESTRICTIONS ",n),t&&0==t.respStatus?"ACR_RESTRICTED"==t.respCode&&(n.data&&n.data.restrictions?(i.dependencies=n.data.restrictions,i.deleteMsgs.push({severity:"error",summary:i.translate.instant(l+".ERRORS.RESTR_ERROR.SUMMARY"),detail:i.translate.instant(l+".ERRORS.RESTR_ERROR.TEXT",{name:e._fwcObjName})})):(i.errorMsgs.push({severity:"error",summary:i.translate.instant(l+".ERRORS.CHECK_RESTR_ERROR.SUMMARY"),detail:i.translate.instant(l+".ERRORS.CHECK_RESTR_ERROR.TEXT")+t.respCode+" - "+t.errorMsg}),i.dependencies={restrictionsError:!0})):"ACR_OK"==t.respCode&&(i.okToDelete=!0,i.configOrPrefixToDelete=e,i.deleteMsgs.push({severity:"warn",summary:i.translate.instant(l+".DELETE_WARN.SUMMARY"),detail:i.translate.instant(l+".DELETE_WARN.TEXT",{name:e._fwcObjName})}),i.dependencies=null,i.okToDelete=!0)},function(e){i.loadingData=!1,i.errorMsgs.push({severity:"error",summary:i.translate.instant(l+".ERRORS.DELETE_ERROR.SUMMARY"),detail:i.translate.instant(l+".ERRORS.DELETE_ERROR.TEXT")+": "+e}),i.dependencies={restrictionsError:!0}},function(){i.loadingData=!1,i.recenterDialog(i.dialog)}))},n.prototype.onItemGetFile=function(e){var n=this;if(e){this.objectToRetrieve=e,this.loadingData=!0;var t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e._fwcObjId};this.fwcVpnService.getConfigFile(t).subscribe(function(e){var t=e.response;t&&0==t.respStatus||!e.data?(n.errorMsgs.push({severity:"error",summary:n.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),detail:n.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:t.respCode+" - "+t.errorMsg})}),n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg})):n.configFile=e.data.cfg,n.loadingData=!1,n.recenterDialog(n.dialog)},function(e){n.errorMsgs.push({severity:"error",summary:n.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),detail:n.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:e})}),n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.loadingData=!1})}},n.prototype.onItemManage=function(e){var n=this;if(e){var t,l,i,a=e.id_obj,u=[],c=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=e,e.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):e.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):e.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription=this.fwcEventService.getLogEvent().pipe(Object(o.a)(function(){return n.displayDialog})).subscribe(function(e){var t=e.message,l=t.search(/error/i);l>=0&&(n.pauseProcess=!0),clearTimeout(n.opTimeout),"END"!=t?(n.log.addMessage(t,l>=0?r.k.MSG_ERROR:void 0),n.opTimeout=setTimeout(function(){n.doTimeoutOp()},6e4)):(n.log.addMessage(n.translate.instant(n.configManageTranslateKey+".COMPLETED"),r.k.MSG_INFO),n.processOVPNOperation())}),e.parent_type==r.m.OBJ_CLUSTER?(i=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),l=e.parent_id,t=!0):e.parent_type==r.m.OBJ_FIREWALL&&(i=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),l=e.firewall,t=!1),i&&i(l,c).subscribe(function(i){var o=i.response;if(o&&0==o.respStatus)"ACR_NOTEXIST"==o.respCode||n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}),n.loadingData=!1;else{u=i.data&&i.data instanceof Array?i.data:[],n.operationQueue=[];var c=void 0;t&&(c={openvpn:a,clusterId:l,firewallId:l,firewallName:e._fwcClusterName,installState:r.i.FW_DISABLED,opInstalled:!1},n.operationQueue.push(Object.assign({},c)));for(var d=0;d<u.length;d++){var p=u[d];c={clusterId:p.cluster,clusterName:e._fwcClusterName,isNode:!!p.cluster,openvpn:a,firewallId:u[d].id,firewallName:u[d].name,installState:r.i.FW_PENDING,opInstalled:!1,sshUser:u[d].install_user,sshPassword:u[d].install_pass,installInterface:u[d].install_interface,installInterfaceName:u[d].interface_name,installIpobj:u[d].install_ipobj,installIpobjName:u[d].ip_name,installIpobjIP:u[d].ip},n.operationQueue.push(Object.assign({},c))}s.a.log("OVPNOperation queue: ",n.operationQueue),n.operationInProcessId=0,n.processOVPNOperation(!0)}},function(e){})}},n.prototype.processOVPNOperation=function(e){var n,t=this;if(!this.pauseProcess&&(clearTimeout(this.opTimeout),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){var l=this.operationQueue[this.operationInProcessId];if(!l)return;if(n=null!=l.clusterId?this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:l.clusterName,firewallName:l.firewallName}):this.translate.instant("COMPILE.INST_FW",{firewallName:l.firewallName}),l.installState==r.i.FW_PENDING){if(l.installState=r.i.FW_PROCESSING,e||this.log.addMessage("",r.k.MSG_SEPARATOR),this.log.addMessage(this.translate.instant(this.configManageTranslateKey+".START",{name:n}),r.k.MSG_INFO),l.installInterface&&l.installIpobj){var i={header:this.translate.instant("COMPILE.INST_SSH",{name:n}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:l.openvpn},{name:"firewall_id",type:"hidden",value:l.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:l.installInterfaceName,readonly:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:l.installIpobjName+" ("+l.installIpobjIP+")",readonly:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:l.sshUser,setFocus:!0},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:l.sshPassword},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"ui-button-warning",value:0}],onAccept:this.manageConfig.bind(this)};return this.disableButtons=!0,void this.inputDataService.setInputData(i)}l.installState=r.i.FW_ERROR,setTimeout(function(){t.confirmationService.confirm({key:"cdErrorFw",header:t.translate.instant("COMPILE.INST_SSH_ERROR"),message:t.translate.instant("COMPILE.INST_SSH_ERROR_TEXT"),reject:function(){t.doPauseProcess()},accept:function(){var e=t.translate.instant("COMPILE.INST_SSH_ERROR_TEXT");t.log.addMessage(t.translate.instant(t.configManageTranslateKey+".ERROR",{name:n,error:e}),r.k.MSG_ERROR),t.operationInProcessId++,t.processOVPNOperation()}})},1)}else this.operationInProcessId++,this.processOVPNOperation(e)}},n.prototype.manageConfig=function(e){var n,t,l,i=this;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(t=this.operationQueue[this.operationInProcessId]),t&&this.configManageAPICall)if(n=null!=t.clusterId?"cluster "+t.clusterId+" - firewall "+t.firewallId+" ("+t.firewallName+")":"firewall "+t.firewallId+" ("+t.firewallName+")",this.disableButtons=!1,e){if(e.btnPauseProcess)return t.installState=r.i.FW_PENDING,void this.doPauseProcess(!0);this.opTimeout=setTimeout(function(){i.doTimeoutOp()},6e4),this.log.startDataLoad(),l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn,firewall:e.firewall_id,sshuser:e.ssh_user,sshpass:e.ssh_password,socketid:this.utilService.ioGetSocketId()},this.configManageAPICall(l).subscribe(function(e){var o=e.response;s.a.log("Config management result 1st call: ",e),o&&0==o.respStatus?(t.installState=r.i.FW_ERROR,i.log.addMessage(i.translate.instant(i.configManageTranslateKey+".ERROR",{name:n,error:o.respCode+" - "+o.errorMsg}),r.k.MSG_ERROR),i.doPauseProcess()):"ACR_CONFIRM_ASK"==o.respCode&&(i.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),i.configManageAPICall(l).subscribe(function(e){var l=e.response;s.a.log("Config management result 2nd call: ",e),l&&0==l.respStatus?(t.installState=r.i.FW_ERROR,i.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg}),i.log.addMessage(i.translate.instant(i.configManageTranslateKey+".ERROR",{name:n,error:l.respCode+" - "+l.errorMsg}),r.k.MSG_ERROR),i.doPauseProcess()):t.installState=r.i.FW_OK},function(e){t.installState=r.i.FW_ERROR,i.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),i.log.addMessage(i.translate.instant(i.configManageTranslateKey+".ERROR",{name:n,error:e}),r.k.MSG_ERROR),i.operationInProcessId+1<i.operationQueue.length&&i.doPauseProcess()}))},function(e){t.installState=r.i.FW_ERROR,i.log.addMessage(i.translate.instant(i.configManageTranslateKey+".ERROR",{name:n,error:e}),r.k.MSG_ERROR),i.operationInProcessId+1<i.operationQueue.length&&i.doPauseProcess()},function(){i.log&&i.log.stopDataLoad()})}else t.installState=r.i.FW_WARNING,this.log.addMessage(this.translate.instant("COMPILE.INST_WARNING",{name:n}),r.k.MSG_ERROR),this.operationInProcessId++,this.processOVPNOperation()},n.prototype.doTimeoutOp=function(){this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.log.addMessage(this.translate.instant("COMPILE.WARN_TIMEOUT"),r.k.MSG_WARNING))},n.prototype.doPauseProcess=function(e){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.opTimeout),e&&this.log.addMessage(this.translate.instant("COMPILE.WARN_PAUSE"),r.k.MSG_WARNING)},n.prototype.doContinueProcess=function(){this.pauseProcess=!1,this.processOVPNOperation()},n.prototype.onItemSelect=function(e){return u(this,void 0,void 0,function(){var n,t,l,i,o,a,s,u,d,p,f,g,m=this;return c(this,function(c){switch(c.label){case 0:return e?(this.loadingData=!0,n=e._fwcObjId,t=e.obj_type,e.obj_type!=r.m.OBJ_VPN_CONFIG_CLI?[3,3]:(this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP"),[4,this.loadIPObjects()])):[2];case 1:return l=c.sent(),[4,this.loadDNSObjects()];case 2:return i=c.sent(),l&&i?(this.remoteOptions=[],this.remoteOptions.push(l),this.remoteOptions.push(i),[3,4]):[2];case 3:this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK"),c.label=4;case 4:return void 0!==n||void 0===t?[3,8]:(o=Object.assign({},e)).obj_type!=r.m.OBJ_VPN_CONFIG_CLI?[3,6]:(o.options=r.v.concat(r.u),a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:e.openvpn},[4,this.getFirstFreeIP(a)]);case 5:return s=c.sent(),u="",d="",s&&(u=s.ip,d=s.netmask),p=this.getOption(o.options,r.y.O_CLIENT),o._ipobj_address=u,o._ipobj_netmask=d,p.arg=u+" "+d,o.openvpn=e.openvpn,[3,7];case 6:o.options=r.x,c.label=7;case 7:return this.createForm(o,!0),this.loadingData=!1,[3,9];case 8:f={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:n},g=e.obj_type==r.m.OBJ_VPN_CONFIG_CLI?r.y.O_CLIENT:r.y.O_SERVER,this.fwcVpnService.getConfig(f).subscribe(function(t){var l=t.response;if(l&&0==l.respStatus||!t.data)m.errorMsgs.push({severity:"error",summary:m.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),detail:m.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:l.respCode+" - "+l.errorMsg})}),m.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg}),m.loadingData=!1;else{var i=Object.assign({},t.data);i.fwcloud=f.fwcloud,i.obj_type=e.obj_type,i.parent_type=e.parent_type,i.parent_name=e.parent_name,i._fwcCrtName=e._fwcObjName,i._fwcParentConfigName=e._fwcParentConfigName,i._fwcObjId=n;var o=m.getOption(i.options,g);o?m.fwcVpnService.getConfigIPObjects(f).subscribe(function(n){if(l&&0==l.respStatus||!n.data)m.errorMsgs.push({severity:"error",summary:m.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),detail:m.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:l.respCode+" - "+l.errorMsg})}),m.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg}),m.loadingData=!1;else{var t=n.data,a=t.filter(function(e){return e.id==o.ipobj});if(a.length){var s=a[0];i._ipobj_name=s.name,i._ipobj_address=s.address,i._ipobj_netmask=s.netmask,i._ipobj_id=s.id,o.arg=s.address+" "+s.netmask,o.readonly=!0}if(e.obj_type==r.m.OBJ_VPN_CONFIG_CLI){var u=i.options.filter(function(e){return"remote"==e.name});u.length&&(u.forEach(function(e){for(var n=0;n<t.length;n++){var l=t[n];if(e.ipobj==l.id){var i=void 0;l.type==r.m.OBJ_ADDRESS?i=l.address:l.type==r.m.OBJ_DNS&&(i=l.name),i&&(e.arg=i+" "+e.arg);break}}}),m.disabledTreeRemoteOptions=u)}m.createForm(i),m.showDialog()}},function(e){m.errorMsgs.push({severity:"error",summary:m.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),detail:m.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:e})}),m.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})},function(){m.loadingData=!1,m.recenterDialog(m.dialog)}):(m.errorMsgs.push({severity:"error",summary:m.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),detail:m.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")}),m.loadingData=!1)}},function(e){m.errorMsgs.push({severity:"error",summary:m.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),detail:m.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:e})}),m.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),m.loadingData=!1}),c.label=9;case 9:return[2]}})})},n.prototype.loadIPObjects=function(){return new Promise(function(e,n){e({label:"fwci-ipobjects fwcBlue",value:"IP Addresses",items:[]})})},n.prototype.loadDNSObjects=function(){return new Promise(function(e,n){e({label:"fwci-firewall fwcBlue",value:"DNS",items:[]})})},n.prototype.createForm=function(e,n){if(e){e.options.forEach(function(e){-1!=d.findIndex(function(n){return e.name==n})&&(e.required=!0,e.readonly=!0)}),this.formModel=new i.FormGroup({fwcloud:new i.FormControl(e.fwcloud),openvpn:new i.FormControl(e.openvpn),firewall:new i.FormControl(e.firewall,i.Validators.required),crt:new i.FormControl(e.crt,i.Validators.required),node_id:new i.FormControl(e.node_id),comment:new i.FormControl(e.comment),options:new i.FormArray(this.createOVPNOptions(e.options))});var t="VPN-"+e.parent_name+"-"+e._fwcCrtName;this.formModel.addControl("_ipobj_id",new i.FormControl(e._ipobj_id)),this.formModel.addControl("_ipobj_name",new i.FormControl(e._ipobj_name||t,i.Validators.required)),this.formModel.addControl("_ipobj_address",new i.FormControl(e._ipobj_address,[i.Validators.required,this.ipNetmaskValidator.bind(this)])),this.formModel.addControl("_ipobj_netmask",new i.FormControl({value:e._ipobj_netmask,disabled:e.obj_type==r.m.OBJ_VPN_CONFIG_CLI},[i.Validators.required,this.ipNetmaskValidator.bind(this)])),e.obj_type==r.m.OBJ_VPN_CONFIG_SER?(t="VPN-LAN-"+e.parent_name,this.formModel.addControl("install_dir",new i.FormControl(e.install_dir||"/etc/openvpn",[i.Validators.required,i.Validators.pattern(this.posixPathRegexp)])),this.formModel.addControl("install_name",new i.FormControl(e.install_name||e._fwcCrtName+".conf",[i.Validators.required,i.Validators.pattern(this.posixFilenameRegexp)]))):e.obj_type==r.m.OBJ_VPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(e.openvpn),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(e.options,"remote")))),this.formModelRemote=new i.FormGroup({id_obj:new i.FormControl(void 0,[i.Validators.required]),obj_type:new i.FormControl(void 0,[i.Validators.required]),remote_port:new i.FormControl(1194,[i.Validators.required,i.Validators.min(0),i.Validators.max(65535)])}),this.object=e}},n.prototype.createOVPNOptions=function(e,n){for(var t=[],l=function(l){if(!n||e[l].name==n){var r=new i.FormGroup({name:new i.FormControl(e[l].name,i.Validators.required),arg:new i.FormControl(e[l].arg),ipobj:new i.FormControl(e[l].ipobj),scope:new i.FormControl(e[l].scope),comment:new i.FormControl(e[l].comment)});n&&-1!=d.findIndex(function(n){return n==e[l].name})&&r.controls.arg.setValidators(i.Validators.required),t.push(r)}},r=0;r<e.length;r++)l(r);return t},n.prototype.revalidateForm=function(e){for(var n in this.formModel.controls)e&&e!=n||(this.formModel.controls[n].updateValueAndValidity(),this.formModel.controls[n].markAsTouched())},n.prototype.onCancel=function(e){var n=this;e||!this.formModel||this.formModel.pristine?(this.hideDialog(),this.optionsGrids.forEach(function(e){e.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.pauseProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:r.q.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties()):this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:function(){n.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})},n.prototype.checkForm=function(e){e&&e.target&&"textarea"!=e.target.type&&this.formModel.valid&&this.onSave()},n.prototype.onSave=function(e){return void 0===e&&(e=0),u(this,void 0,void 0,function(){var n,t,l,o,a,s,u,d,p,f=this;return c(this,function(c){switch(c.label){case 0:if(!this.object)return[2];for(n=[],this.optionsGrids.forEach(function(e){var t=e.getOptions();n=n.concat(t)}),t=0;t<n.length;t++)n[t].name&&!n[t].name.length&&delete n[t];for(a in(n=JSON.parse(JSON.stringify(n))).forEach(function(e){if("remote"==e.name){var n=/\s*(\d+)$/.exec(e.arg);n&&(e.arg=n[1])}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(n))),l={},o={},this.formModel.controls)l[a]=null!=this.formModel.controls[a].value?this.formModel.controls[a].value:void 0;return o={id:l._ipobj_id,type:void 0,fwcloud:l.fwcloud,name:l._ipobj_name,address:l._ipobj_address,netmask:l._ipobj_netmask,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:e},this.object.obj_type==r.m.OBJ_VPN_CONFIG_CLI?(o.type=r.m.OBJ_ADDRESS,o.node_type=r.l.OBJ_ADDRESS,s=r.l.FOLDER_ADDRESSES,u=r.y.O_CLIENT):this.object.obj_type==r.m.OBJ_VPN_CONFIG_SER&&(o.type=r.m.OBJ_NETWORK,o.node_type=r.l.OBJ_NETWORK,s=r.l.FOLDER_NETWORKS,u=r.y.O_SERVER),delete l._ipobj_id,delete l._ipobj_address,delete l._ipobj_name,delete l._ipobj_netmask,delete l._remote_options,void 0!==this.object._fwcObjId?[3,2]:(d=this.fwcVpnService.newConfig.bind(this.fwcVpnService),[4,this.getParentId(s)]);case 1:return-1==c.sent()?(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1,[2]):(p=this.translate.instant(this.object.obj_type==r.m.OBJ_VPN_CONFIG_SER?"VPN.CONFIG.NEW_SERVER_CFG_OK":"VPN.CONFIG.NEW_CLIENT_CFG_OK"),[3,3]);case 2:l.openvpn=this.object._fwcObjId,delete o.node_order,delete o.node_type,delete l.firewall,delete l.crt,d=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),p=this.translate.instant(this.object.obj_type==r.m.OBJ_VPN_CONFIG_SER?"VPN.CONFIG.UPDATE_SERVER_CFG_OK":"VPN.CONFIG.UPDATE_CLIENT_CFG_OK"),c.label=3;case 3:return this.savingData=!0,this.manageNetworkIPObject(o).then(function(e){var n;e.data&&(n=e.data.insertId),f.modifyOption(l.options,u,void 0,n),f.clearOptionsArgs(l.options),d(l).subscribe(function(e){var n=e.response;console.log("1st CONFIG API: ",e),n&&0==n.respStatus?(f.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}),f.savingData=!1):"ACR_CONFIRM_ASK"==n.respCode&&(f.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),d(l).subscribe(function(e){console.log("2ND CONFIG API: ",e);var n=e.response;n&&0==n.respStatus?f.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}):(f.itemSelectedService.setModifiedItem({container:r.r.C_FIREWALLS_CONDENSED,_fwcObjId:e.data&&e.data.insertId?e.data.insertId:l.openvpn,_fwcObjType:f.object.obj_type,_fwcTreeAction:r.q.NEW_ITEM}),f.messageService.add({key:"fwcToastMsgs",severity:"success",summary:f.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:p}),f.hideDialog(),f.resetProperties())},function(e){f.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),f.savingData=!1,f.fwcUserService.setConfirmationToken(void 0)},function(){f.savingData=!1,f.fwcUserService.setConfirmationToken(void 0)}))},function(e){f.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),f.savingData=!1})},function(e){var n=e.response;n&&0==n.respStatus&&"ACR_ALREADY_EXISTS"!=n.respCode&&f.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}),f.savingData=!1}),[2]}})})},n.prototype.getParentId=function(e){var n=this;return new Promise(function(t,l){n.fwcObjectTreeService.getNodes(e,n.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n=e.response,l=-1;n&&0==n.respStatus||e.data&&e.data.length&&(l=e.data[0].id),t(l)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t(-1)})})},n.prototype.getClusterMasterFirewall=function(e){var n=this;return new Promise(function(t,l){n.fwcFirewallService.getClusterMasterNode(e,n.fwcUserService.getActualFwSelectedCloud()).subscribe(function(e){var n,l=e.response;l&&0==l.respStatus||(n=e),t(n)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t(void 0)})})},n.prototype.getFirstFreeIP=function(e){var n=this;return new Promise(function(t,l){n.fwcVpnService.getVPNLanNextFreeIP(e).subscribe(function(n){var l,i=n.response;console.log("GET NEXT IP FOR",e,n),i&&0==i.respStatus||(l=n.data),t(l)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t(void 0)})})},n.prototype.modifyOption=function(e,n,t,l){var i=e.find(function(e){return e.name==n});i&&(t&&(i.arg=t),null!=l&&(i.ipobj=l))},n.prototype.getOption=function(e,n){return e.find(function(e){return e.name==n})},n.prototype.clearOptionsArgs=function(e){e.forEach(function(e){null!=e.ipobj&&"remote"!=e.name&&(e.arg="")})},n.prototype.manageNetworkIPObject=function(e){return new Promise((function(n,t){var l,i=this;if(void 0===e.id)l=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine)return void n({_IPOption_unchanged:!0});l=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}l(e).subscribe(function(r){var o=r.response;o&&0==o.respStatus?(i.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}),t(r)):(s.a.log(">>> Manage IP object response: ",r),"ACR_CONFIRM_ASK"==o.respCode&&(i.fwcUserService.setConfirmationToken(r.data.fwc_confirm_token),l(e).subscribe(function(e){var l=e.response;s.a.log(">>>> Manage IP object Second response: ",e),l&&0==l.respStatus?("ACR_ALREADY_EXISTS"==l.respCode&&i.confirmDuplicateOVPNOperation(e),t(e)):n(e)},function(e){i.fwcUserService.setConfirmationToken(void 0),t(e)},function(){i.fwcUserService.setConfirmationToken(void 0)})))},function(e){t(e)})}).bind(this))},n.prototype.updateIPOnGrid=function(e){var n,t,l,i=this.formModel.controls._ipobj_address.value,o="";this.object.obj_type==r.m.OBJ_VPN_CONFIG_CLI?(i.match(this.ipV4Regexp)&&(l=i),n=r.n.ccd,t=r.y.O_CLIENT):this.object.obj_type==r.m.OBJ_VPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(o=this.formModel.controls._ipobj_netmask.value),i.match(this.ipV4Regexp)&&o.match(this.netmaskRegexp)&&(l=i.trim()+" "+o.trim()),n=r.n.ovp,t=r.y.O_SERVER),l&&this.optionsGrids.forEach(function(e){e.getScope()===n&&e.modifyIPOption(t,n,l)})},n.prototype.confirmDuplicateOVPNOperation=function(e){var n=this,t="",l=[];if(e.data&&e.data.length){l=e.data,t="<ul>";for(var i=0;i<l.length;i++)t+="<li><strong>"+l[i].name+"</strong> ("+l[i].id+") </li>";t+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:t}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){n.onSave(1)}})},n.prototype.onDownloadConfigFile=function(){this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.DOWNLOAD.BUTTON")})},n.prototype.onCopyConfigFile=function(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))},n.prototype.onDeleteConfigurationOrPrefix=function(){var e=this;if(this.configOrPrefixToDelete){var n,t,l,i=this.configOrPrefixToDelete;i.obj_type==r.m.OBJ_VPN_CONFIG_SER||i.obj_type==r.m.OBJ_VPN_CONFIG_CLI?(n=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},l="VPN.CONFIG"):i.obj_type==r.m.OBJ_OPENVPN_PREFIX&&(n=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),t={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:i.id_obj},l="VPN.OPENVPN_PREFIX"),n&&n(t).subscribe(function(o){var a=o.response;a&&0==a.respStatus?(e.errorMsgs.push({severity:"error",summary:e.translate.instant(l+".ERRORS.DELETE_ERROR.SUMMARY"),detail:e.translate.instant(l+".ERRORS.DELETE_ERROR.TEXT",{error:a.respCode+" - "+a.errorMsg})}),e.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:a.respCode+" - "+a.errorMsg})):"ACR_CONFIRM_ASK"==a.respCode&&(e.fwcUserService.setConfirmationToken(o.data.fwc_confirm_token),n(t).subscribe(function(n){console.log("2ND DELETE: ",n);var t=n.response;if(t&&0==t.respStatus)e.errorMsgs.push({severity:"error",summary:e.translate.instant(l+".ERRORS.DELETE_ERROR.SUMMARY"),detail:e.translate.instant(l+".ERRORS.DELETE_ERROR.TEXT",{error:t.respCode+" - "+t.errorMsg})}),e.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg});else{var o=Object.assign({},e.configOrPrefixToDelete);o._fwcTreeAction=r.q.DELETE_ITEM,n.data&&n.data.length&&(o.fw_status=n.data),e.itemSelectedService.setModifiedItem(o),i.obj_type==r.m.OBJ_VPN_CONFIG_SER||i.obj_type==r.m.OBJ_VPN_CONFIG_CLI?e.confirmationService.confirm({header:e.translate.instant("TREE.VPN.CONF_UNINSTALL.HEADER"),icon:"fa fa-question fwcBlue iconBig",message:e.translate.instant("TREE.VPN.CONF_UNINSTALL.QUESTION"),rejectVisible:!0,rejectLabel:e.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:e.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){delete e.objectToManage.deleteAction,e.objectToManage.uninstallAction=!0,e.onItemManage(e.objectToManage)},reject:function(){e.hideDialog(),e.resetProperties(),e.messageService.add({key:"fwcToastMsgs",severity:"success",summary:e.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:e.translate.instant("TREE.MSG_DELETE_OBJ_SUCCESS_1")})}}):(e.hideDialog(),e.resetProperties(),e.messageService.add({key:"fwcToastMsgs",severity:"success",summary:e.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:e.translate.instant("TREE.MSG_DELETE_OBJ_SUCCESS_1")}))}},function(n){e.errorMsgs.push({severity:"error",summary:e.translate.instant(l+".ERRORS.DELETE_ERROR.SUMMARY"),detail:e.translate.instant(l+".ERRORS.DELETE_ERROR.TEXT",{error:n})}),e.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n}),e.fwcUserService.setConfirmationToken(void 0)},function(){e.fwcUserService.setConfirmationToken(void 0)}))},function(n){e.errorMsgs.push({severity:"error",summary:e.translate.instant(l+".ERRORS.DELETE_ERROR.SUMMARY"),detail:e.translate.instant(l+".ERRORS.DELETE_ERROR.TEXT",{error:n})}),e.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n}),e.loadingData=!1},function(){e.loadingData=!1})}},n.prototype.showRestrictions=function(e,n){},n.prototype.hideRestrictions=function(e){},n.prototype.managePrefix=function(e){var n,t,l,i,o,a,u,c,d,p=this;if(e)if(e.deletePrefixFolderAction){var f={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:e.id_obj};if(e.obj_type!=r.m.OBJ_PREFIX_FOLDER)return;u=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),c=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),a="VPN.PREFIX_FOLDER",u(f).subscribe(function(n){var t=n.response;s.a.log("CHECK PREFIX RESTRICTIONS ",n),t&&0==t.respStatus?"ACR_RESTRICTED"==t.respCode?n.data&&n.data.restrictions&&(p.dependencies=n.data.restrictions,p.confirmationService.confirm({header:p.translate.instant(a+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:p.translate.instant(a+".DELETE.RESTR_TEXT",{name:e._fwcObjName})})):p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):"ACR_OK"==t.respCode&&p.confirmationService.confirm({header:p.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:p.translate.instant(a+".DELETE.ASK",{name:e._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:p.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){c(f).subscribe(function(n){var t=n.response;t&&0==t.respStatus?p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):"ACR_CONFIRM_ASK"==t.respCode&&(p.fwcUserService.setConfirmationToken(n.data.fwc_confirm_token),c(f).subscribe(function(n){s.a.log(">>> DELETE CERTIFICATE PREFIX 2ND: ",n);var t=n.response;t&&0==t.respStatus?p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):(p.messageService.add({key:"fwcToastMsgs",severity:"success",summary:p.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:p.translate.instant(a+".DELETE.OK")}),e._fwcTreeAction=r.q.DELETE_ITEM,p.itemSelectedService.setModifiedItem(e),e.container!=r.r.C_FIREWALLS_CONDENSED&&p.itemSelectedService.setModifiedItem({_fwcTreeAction:r.q.RELOAD_TREE,containerToReload:r.r.C_FIREWALLS_CONDENSED}))},function(e){p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})}))},function(e){p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}})},function(e){p.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}else{var g=void 0,m=void 0,_=((n={})[r.m.OBJ_PREFIX_FOLDER]=[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],n[r.m.OBJ_OPENVPN_PREFIX]=[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)],n);if(e.obj_type==r.m.OBJ_PREFIX_FOLDER)g=e.id_obj,a="VPN.PREFIX_FOLDER";else{if(e.obj_type!=r.m.OBJ_OPENVPN_PREFIX)return;m=e.id_obj,a="VPN.OPENVPN_PREFIX"}if(e.editPrefixAction)t=e._fwcObjName,l=e.id_obj,i=this.translate.instant(a+".EDIT.HEADER"),o=this.translate.instant(a+".EDIT.TEXT"),_[e.obj_type]&&_[e.obj_type][0]&&(d=_[e.obj_type][0]);else{if(!e.newPrefixAction)return;i=this.translate.instant(a+".NEW.HEADER"),o=this.translate.instant(a+".NEW.TEXT"),_[e.obj_type]&&_[e.obj_type][1]&&(d=_[e.obj_type][1])}var v={header:i,helpText:o,formControls:[{name:"container",type:"hidden",value:e.container},{name:"id",type:"hidden",value:l},{name:"obj_type",type:"hidden",value:e.obj_type},{name:"ca",type:"hidden",value:g},{name:"orig_name",type:"hidden",value:t},{name:"name",label:this.translate.instant(a+".NAME"),type:"text",required:!0,value:t},{name:"openvpn",type:"hidden",value:m},{name:"translateKey",type:"hidden",value:a},{name:"apiCall",type:"hidden",value:d}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(v)}},n.prototype.onManagePrefix=function(e){var n=this;if(e){if(e.name==e.orig_name)return;var t,l,i,o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:e.name};t=e.translateKey,l=e.apiCall,e.id?(o.prefix=e.id,i=this.translate.instant(t+".EDIT.OK")):(o.ca=e.ca,o.openvpn=e.openvpn,i=this.translate.instant(t+".NEW.OK")),l(o).subscribe(function(a){var u=a.response;u&&0==u.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:u.respCode+" - "+u.errorMsg}):"ACR_CONFIRM_ASK"==u.respCode&&(n.fwcUserService.setConfirmationToken(a.data.fwc_confirm_token),l(o).subscribe(function(l){s.a.log(">>> MANAGE CERTIFICATE PREFIX 2ND: ",l);var o=l.response;if(o&&0==o.respStatus){var a=void 0,u=void 0;"ACR_ALREADY_EXISTS"==o.respCode?(a=n.translate.instant(t+".ERRORS.ERROR_DUP.SUMMARY"),u=n.translate.instant(t+".ERRORS.ERROR_DUP.TEXT")):"ACR_EMPTY_CONTAINER"==o.respCode?(a=n.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),u=n.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}),u&&n.confirmationService.confirm({header:a,icon:"fa fa-exclamation-circle fwcRed iconBig",message:u,rejectVisible:!1,acceptLabel:"Ok",accept:function(){}})}else{var c=l.data&&l.data.insertId?l.data.insertId:e.id;n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:i}),n.itemSelectedService.setModifiedItem({container:e.container,_fwcObjName:e.name,_fwcObjId:c,_fwcObjType:e.obj_type,_fwcTreeAction:r.q.NEW_ITEM}),e.container!=r.r.C_FIREWALLS_CONDENSED&&n.itemSelectedService.setModifiedItem({_fwcTreeAction:r.q.RELOAD_TREE,containerToReload:r.r.C_FIREWALLS_CONDENSED})}}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}},n.prototype.showWhereUsed=function(e){var n,t,l=this;e&&(this.objectToSearchWU=e,t={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},e.obj_type==r.m.OBJ_OPENVPN_PREFIX?(n=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),t.prefix=e._fwcObjId):e.obj_type==r.m.OBJ_VPN_CONFIG_CLI&&(n=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),t.openvpn=e._fwcObjId),n&&n(t).subscribe(function(n){var t=n.response;if(t&&0==t.respStatus)l.errorMsgs.push({severity:"error",summary:l.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),detail:l.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:t.respCode+" - "+t.errorMsg})});else{var i=Object.assign({},n.data);i._fwcObjType=e.obj_type,l.objectToSearchWU._fwcObjectInfo=i}},function(e){}))},n.prototype.onAddRemoteOption=function(){var e=this;if(this.formModelRemote&&this.formModelRemote.valid){var n=this.formModelRemote.value;this.fwcObjectService.getObject(n.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe(function(t){var l=t.response;if(t.data&&t.data.length){var o=t.data[0];if(l&&0==l.respStatus||!o);else{var a="";n.obj_type==r.m.OBJ_ADDRESS&&(a=o.address),n.obj_type==r.m.OBJ_DNS&&(a=o.name);var s={name:"remote",scope:r.n.ovp,arg:a+=" "+n.remote_port,ipobj:n.id_obj,required:!0,readonly:!0},u=[];e.optionsGrids.forEach(function(e){e.getScope()===r.n.ovp&&(e.updateOrCreateIPOption(s),u=u.concat(e.getOptions()))}),e.formModel.controls._remote_options=new i.FormArray(e.createOVPNOptions(u,"remote")),e.formModel.markAsDirty(),e.formModel.updateValueAndValidity(),e.formModelRemote.reset(),e.formModelRemote.controls.remote_port.setValue(1194),e.treeSelector.setOptionSelectable(n.id_obj,!1)}}},function(n){e.errorMsgs.push({severity:"error",summary:e.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),detail:e.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:n})}),e.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n})})}},n.prototype.onRemoteIPObjectChange=function(e){!e||e.obj_type!=r.m.OBJ_ADDRESS&&e.obj_type!=r.m.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(e.id_obj),this.formModelRemote.get("obj_type").setValue(e.obj_type))},n.prototype.updateOptions=function(e){var n=[];this.optionsGrids.forEach(function(t){e&&t.getScope()!=e||(n=n.concat(t.getOptions()))}),n.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new i.FormArray(this.createOVPNOptions(n))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new i.FormArray(this.createOVPNOptions(n,"remote")))),this.formModel.updateValueAndValidity())},n.prototype.onOptionsChange=function(e){this.updateOptions(),e&&this.formModel.markAsDirty(),this.recenterDialog(this.dialog)},n.prototype.onOptionsDelete=function(e){e&&"remote"==e.name&&e.ipobj&&(this.treeSelector.setOptionSelectable(e.ipobj,!0),this.updateOptions()),this.formModel.markAsDirty()},n.prototype.onShowDialog=function(e){this.recenterDialog(this.dialog)},n.prototype.onHideDialog=function(e){},n}(a.a)},quQV:function(e,n,t){"use strict";var l=t("CcnG"),i=t("Ge8E"),r=t("EjV3"),o=t("Ip0R");t("0VEr"),t.d(n,"a",function(){return a}),t.d(n,"b",function(){return c});var a=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,"span",[["class","logMessage"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){e(n,0,0,n.context.$implicit)})}function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"p-progressSpinner",[],null,null,null,i.b,i.a)),l["\u0275did"](1,49152,null,0,r.ProgressSpinner,[],{style:[0,"style"]},null),l["\u0275pod"](2,{width:0,height:1})],function(e,n){var t=e(n,2,0,"25px","25px");e(n,1,0,t)},null)}function c(e){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{divLoggerEl:0}),(e()(),l["\u0275eld"](1,0,[[1,0],["divLoggerEl",1]],null,4,"div",[["class","divLoggerComp"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](3,278528,null,0,o.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](5,16384,null,0,o.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,3,0,t.messages),e(n,5,0,t.loadingData)},null)}},sqqX:function(e,n,t){"use strict";t.d(n,"a",function(){return c});var l=t("mrSG"),i=t("F/XL"),r=t("9Z1F"),o=t("fgKk"),a=t("kCWp"),s=t("CcnG"),u=t("t/Na"),c=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getCA=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/pki/ca/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.newCA=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/ca";return o.a.log("VPN New CA: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.deleteCA=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/ca/del";return o.a.log("VPN delete CA: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.checkCARestrictions=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/ca/restricted";return o.a.log("VPN check restrictions CA: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getCertificate=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/pki/crt/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.newCertificate=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/crt";return o.a.log("VPN New certificate: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.deleteCertificate=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/crt/del";return o.a.log("VPN delete certificate: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.checkCertificateRestrictions=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/crt/restricted";return o.a.log("VPN check restrictions for certificate: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.newPrefixFolder=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/prefix";return o.a.log("VPN New certificate prefix folder: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.editPrefixFolder=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/prefix";return o.a.log("VPN edit certificate prefix folder: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.deletePrefixFolder=function(e){var n=o.a.settings.fwcAppURL+"/vpn/pki/prefix/del";return o.a.log("VPN delete certificate prefix folder: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.checkPrefixFolderRestrictions=function(e){return Object(i.a)({data:{},response:{respCode:"ACR_OK",respStatus:!0}})},n.prototype.newOpenVPNPrefix=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix";return o.a.log("VPN New certificate prefix: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.editOpenVPNPrefix=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix";return o.a.log("VPN Edit certificate prefix: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.deleteOpenVPNPrefix=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix/del";return o.a.log("VPN Delete certificate prefix: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.checkOpenVPNPrefixRestrictions=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix/restricted";return o.a.log("VPN prefix check restrictions: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getOpenVPNPrefixInfo=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix/info/get";return o.a.log("VPN prefix info: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getOpenVPNWhereUsed=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/prefix/where";return o.a.log("VPN prefix where used: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getConfig=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.deleteConfig=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/del",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.newConfig=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn";return o.a.log("VPN New configuration: "+n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.updateConfig=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn";return o.a.log("VPN Update configuration: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.installConfig=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/install";return o.a.log("VPN installation: PUT",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.uninstallConfig=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/uninstall";return o.a.log("VPN UNINSTALL: PUT",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.syncConfigCCD=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/ccdsync";return o.a.log("VPN SYNC CCD FILES: PUT",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getConfigFile=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/file/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getVPNLanNextFreeIP=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/ip/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.checkConfigRestrictions=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/restricted",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getConfigIPObjects=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/ipobj/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getConfigInfo=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/vpn/openvpn/info/get",JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.prototype.getConfigWhereUsed=function(e){var n=o.a.settings.fwcAppURL+"/vpn/openvpn/where";return o.a.log("OpenVPN config where used: "+n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(r.a)(this.handleError))},n.ngInjectableDef=s.defineInjectable({factory:function(){return new n(s.inject(u.c))},token:n,providedIn:"root"}),n}(a.a)},w2nL:function(e,n,t){"use strict";t.d(n,"a",function(){return a});var l=t("mrSG"),i=t("9Z1F"),r=t("67Y/"),o=t("fgKk"),a=function(e){function n(n){var t=e.call(this)||this;return t.httpClient=n,t}return Object(l.__extends)(n,e),n.prototype.getAllFirewalls=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/firewall/all/get",JSON.stringify({fwcloud:e})).pipe(Object(i.a)(this.handleError))},n.prototype.getFirewall=function(e,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/firewall/get",JSON.stringify({firewall:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.getFirewallsByCloud=function(e,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/firewall/cloud/get",JSON.stringify({fwcloud:e})).pipe(Object(i.a)(this.handleError))},n.prototype.updateFirewall=function(e){var n=o.a.settings.fwcAppURL+"/firewall";return o.a.log("Updating firewall: ",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.newFirewall=function(e){var n=o.a.settings.fwcAppURL+"/firewall";return o.a.log("Creating new firewall ",n,e),this.httpClient.post(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.deleteFirewall=function(e,n){var t=o.a.settings.fwcAppURL+"/firewall/del",l={firewall:e,fwcloud:n};return o.a.log("Deleting firewall ",t,l),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(i.a)(this.handleError))},n.prototype.cloneFirewall=function(e){var n=o.a.settings.fwcAppURL+"/firewall/clone";return o.a.log("Cloning firewall ",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.checkFwRestrictions=function(e,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/firewall/restricted",JSON.stringify({firewall:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.getAllClusters=function(e){return this.httpClient.put(o.a.settings.fwcAppURL+"/cluster/all/get",JSON.stringify({fwcloud:e})).pipe(Object(i.a)(this.handleError))},n.prototype.getCluster=function(e,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/cluster/get",JSON.stringify({cluster:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.getClusterNodes=function(e,n){return this.httpClient.put(o.a.settings.fwcAppURL+"/firewall/cluster/get",JSON.stringify({cluster:e,fwcloud:n})).pipe(Object(i.a)(this.handleError))},n.prototype.deleteClusterNode=function(e,n,t){var l=o.a.settings.fwcAppURL+"/firewall/delfromcluster",r={cluster:e,firewall:n,fwcloud:t};return o.a.log("Delete node from cluster: ",l,r),this.httpClient.put(l,JSON.stringify(r)).pipe(Object(i.a)(this.handleError))},n.prototype.getClusterMasterNode=function(e,n){var t=o.a.settings.fwcAppURL+"/firewall/cluster/get",l={cluster:e,fwcloud:n};return o.a.log("Get cluster master node ",t),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(r.a)(this.parseClusterMasterNode),Object(i.a)(this.handleError))},n.prototype.parseClusterMasterNode=function(e){var n,t={respStatus:!1,respCode:"EMPTY_RES",errorMsg:"UNEXPECTED SERVER RESPONSE"};n=e.data;for(var l=0;n&&l<n.length;l++)if(n[l].fwmaster){t=Object.assign({},n[l]);break}return t},n.prototype.newCluster=function(e,n,t){var l=o.a.settings.fwcAppURL+"/cluster",r={fwcloud:n,node_id:t,clusterData:{}};return r.clusterData=e,o.a.log("New cluster: ",l,JSON.stringify(r)),this.httpClient.post(l,JSON.stringify(r)).pipe(Object(i.a)(this.handleError))},n.prototype.updateCluster=function(e,n,t){var l=o.a.settings.fwcAppURL+"/cluster",r={fwcloud:n,clusterData:{}};return r.clusterData=e,o.a.log("Update cluster: ",l,JSON.stringify(r)),this.httpClient.put(l,JSON.stringify(r)).pipe(Object(i.a)(this.handleError))},n.prototype.deleteCluster=function(e,n){var t=o.a.settings.fwcAppURL+"/cluster/del",l={cluster:e,fwcloud:n};return o.a.log("Deleting cluster ",t,l),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(i.a)(this.handleError))},n.prototype.convertFwToCluster=function(e){var n=o.a.settings.fwcAppURL+"/cluster/fwtocluster";return o.a.log("Convert firewall to cluster",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.convertClusterToFw=function(e){var n=o.a.settings.fwcAppURL+"/cluster/clustertofw";return o.a.log("Convert cluster to firewall",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.cloneCluster=function(e){var n=o.a.settings.fwcAppURL+"/cluster/clone";return o.a.log("Cloning cluster ",n,e),this.httpClient.put(n,JSON.stringify(e)).pipe(Object(i.a)(this.handleError))},n.prototype.checkClusterRestrictions=function(e,n){var t=o.a.settings.fwcAppURL+"/cluster/restricted",l={firewall:e,fwcloud:n};return o.a.log("Cluster check restrictions: ",l),this.httpClient.put(t,JSON.stringify(l)).pipe(Object(i.a)(this.handleError))},n}(t("kCWp").a)},wf45:function(e,n,t){"use strict";var l=t("CcnG"),i=t("Meih"),r=t("SlyN"),o=t("B58V"),a=t("7LN8"),s=t("A7o+"),u=t("Ip0R");t("m6j1"),t("kp3z"),t("H9gU"),t("Mebi"),t("77Y5"),t.d(n,"a",function(){return c}),t.d(n,"b",function(){return f});var c=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function d(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","noselect"]],null,[[null,"dblclick"]],function(e,n,t){var l=!0;return"dblclick"===n&&(l=!1!==e.component.itemDblClickEvent(t,e.context.$implicit)&&l),l},null,null)),(e()(),l["\u0275eld"](1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.label,""))})}function p(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,5,"p-tree",[["selectionMode","single"],["styleClass","treeSelector treeWU"]],null,[[null,"selectionChange"]],function(e,n,t){var l=!0;return"selectionChange"===n&&(l=!1!==(e.component.selectedObject=t)&&l),l},i.b,i.a)),l["\u0275did"](1,1294336,null,1,r.Tree,[l.ElementRef,[2,o.TreeDragDropService]],{value:[0,"value"],selectionMode:[1,"selectionMode"],selection:[2,"selection"],style:[3,"style"],styleClass:[4,"styleClass"]},{selectionChange:"selectionChange"}),l["\u0275qud"](603979776,1,{templates:1}),l["\u0275pod"](3,{"max-height":0,overflow:1,width:2}),(e()(),l["\u0275and"](0,null,null,1,null,d)),l["\u0275did"](5,16384,[[1,4]],0,a.PrimeTemplate,[l.TemplateRef],{name:[0,"name"]},null)],function(e,n){var t=n.component,l=t.dependenciesTree,i=t.selectedObject,r=e(n,3,0,"20em","auto","100%");e(n,1,0,l,"single",i,r,"treeSelector treeWU"),e(n,5,0,"default")},null)}function f(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"h5",[["class","fwcBlue"]],null,null,null,null,null)),(e()(),l["\u0275ted"](1,null,["",""])),l["\u0275pid"](131072,s.j,[s.k,l.ChangeDetectorRef]),(e()(),l["\u0275and"](16777216,null,null,1,null,p)),l["\u0275did"](4,16384,null,0,u.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){e(n,4,0,n.component.dependenciesTree)},function(e,n){e(n,1,0,l["\u0275unv"](n,1,0,l["\u0275nov"](n,2).transform("ITEM_PANEL.RESTR.RESTRICTIONS")))})}},wmoJ:function(e,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return c});var l=t("CcnG"),i=(t("pmWI"),t("Ip0R")),r=(t("7LN8"),l["\u0275crt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"fieldsetContent",definitions:[{type:0,name:"hidden",styles:{type:6,styles:{height:"0px"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{height:"*"},offset:null},options:void 0},{type:1,expr:"visible => hidden",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null},{type:1,expr:"hidden => visible",animation:{type:4,styles:null,timings:"{{transitionParams}}"},options:null}],options:{}}]}}));function o(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function a(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,2,"a",[["tabindex","0"]],[[1,"aria-controls",0],[1,"aria-expanded",0]],[[null,"click"],[null,"keydown.enter"]],function(e,n,t){var l=!0,i=e.component;return"click"===n&&(l=!1!==i.toggle(t)&&l),"keydown.enter"===n&&(l=!1!==i.toggle(t)&&l),l},null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,o)),l["\u0275did"](3,540672,null,0,i.NgTemplateOutlet,[l.ViewContainerRef],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,n){e(n,3,0,l["\u0275nov"](n.parent,7))},function(e,n){var t=n.component;e(n,1,0,t.id+"-content",!t.collapsed)})}function s(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,2,"span",[["class","ui-fieldset-toggler pi"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"pi-minus":0,"pi-plus":1})],function(e,n){var t=n.component,l=e(n,2,0,!t.collapsed,t.collapsed);e(n,1,0,"ui-fieldset-toggler pi",l)},null)}function u(e){return l["\u0275vid"](0,[(e()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](1,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](2,0,null,null,1,"span",[["class","ui-fieldset-legend-text"]],null,null,null,null,null)),(e()(),l["\u0275ted"](3,null,["",""])),l["\u0275ncd"](null,0),(e()(),l["\u0275and"](0,null,null,0))],function(e,n){e(n,1,0,n.component.toggleable)},function(e,n){e(n,3,0,n.component.legend)})}function c(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,16,"fieldset",[],[[1,"id",0]],null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"ui-fieldset ui-widget ui-widget-content ui-corner-all":0,"ui-fieldset-toggleable":1}),l["\u0275did"](3,278528,null,0,i.NgStyle,[l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngStyle:[0,"ngStyle"]},null),(e()(),l["\u0275eld"](4,0,null,null,3,"legend",[["class","ui-fieldset-legend ui-corner-all ui-state-default ui-unselectable-text"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](6,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l["\u0275and"](0,[["legendContent",2]],null,0,null,u)),(e()(),l["\u0275eld"](8,0,null,null,8,"div",[["class","ui-fieldset-content-wrapper"],["role","region"]],[[1,"id",0],[24,"@fieldsetContent",0],[1,"aria-hidden",0]],[[null,"@fieldsetContent.done"]],function(e,n,t){var l=!0;return"@fieldsetContent.done"===n&&(l=!1!==e.component.onToggleDone(t)&&l),l},null,null)),l["\u0275did"](9,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](10,{"ui-fieldset-content-wrapper-overflown":0}),l["\u0275pod"](11,{transitionParams:0}),l["\u0275pod"](12,{value:0,params:1}),l["\u0275pod"](13,{transitionParams:0}),l["\u0275pod"](14,{value:0,params:1}),(e()(),l["\u0275eld"](15,0,null,null,1,"div",[["class","ui-fieldset-content"]],null,null,null,null,null)),l["\u0275ncd"](null,1)],function(e,n){var t=n.component,i=t.styleClass,r=e(n,2,0,!0,t.toggleable);e(n,1,0,i,r),e(n,3,0,t.style),e(n,6,0,t.toggleable,l["\u0275nov"](n,7));var o=e(n,10,0,t.collapsed||t.animating);e(n,9,0,"ui-fieldset-content-wrapper",o)},function(e,n){var t=n.component;e(n,0,0,t.id);var l=t.id+"-content",i=t.collapsed?e(n,12,0,"hidden",e(n,11,0,t.transitionOptions)):e(n,14,0,"visible",e(n,13,0,t.transitionOptions));e(n,8,0,l,i,t.collapsed)})}},zLlU:function(e,n,t){"use strict";t.d(n,"a",function(){return o});var l=t("jvbL"),i=(t("IOOi"),t("24Yq"),t("AjHW"),t("LwpX"),t("H9gU"),t("Mebi"),t("PIn4"),t("w2nL"),t("P6hr"),t("U3yX"),t("77Y5"),t("EMdb")),r=t("fgKk"),o=(t("yEB0"),t("36a9"),t("2Rin"),t("sqqX"),function(){function e(e,n,t,l,r,o,a,s,u,c,d,p,f,g,m,_){this.refService=e,this.fwcObjectTreeService=n,this.itemSelectedService=t,this.fwcPolicyService=l,this.fwcUserService=r,this.fwcFirewallService=o,this.fwcObjectService=a,this.fwcInterfaceService=s,this.fwcContextMenuService=u,this.confirmationService=c,this.messageService=d,this.inputDataService=p,this.utilService=f,this.fwcVpnService=g,this.appHintService=m,this.translate=_,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=[],this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this._searchString="",this.alive=!0,this.compileOrInstallLogMessage=void 0,this.ObjectTypes=i.m,this.infoTooltipShown=!1,this.CACertTypes=i.c,this.HintsIds=i.j,this.items=[]}return Object.defineProperty(e.prototype,"treeOptions",{set:function(e){this.options=Object.assign({},e),this.treeExpandedNodes=[],this.selectedPolicyNodeId=void 0,this.treeLoad()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},set:function(e){this._searchString=e,this.treeFilter()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.itemSelectedService.getItem().pipe(Object(l.a)(function(){return e.alive})).subscribe(function(n){n.container||n._onlyReloadInfoPanel||e.treeFindItem(n._fwcObjId,n._fwcObjType,n._fwcSubObjId,n._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(Object(l.a)(function(){return e.alive})).subscribe(function(n){if(e.options.container==i.r.C_FIREWALLS&&null!=n._fwcFwId&&!n._dontLocateInTree){var t=e.treeFindPolicyItem(e.items,n._fwcFwId,n._fwcPolicyType);t&&(e.selectedPolicyNodeId=t.id,t!=e.treeview.selectedItem&&(e.treeview.clearSelection(),e.treeview.scrollTo(t),e.treeview.selectedItem=t))}}),this.itemSelectedService.getModifiedItem().pipe(Object(l.a)(function(){return e.alive})).subscribe(function(n){if(!(n.deleteFromList||n.addToList||n.selectItemInPosition))switch(n._fwcTreeAction){case i.q.NEW_ITEM:e.treeNewItem(n);break;case i.q.DELETE_ITEM:e.treeDeleteItem(n);break;case i.q.NEW_GROUP_ITEM:e.treeNewItem(n,!0);break;case i.q.RELOAD_TREE:(n.containerToReload===e.options.container||e.items[0]&&e.items[0].node_type===n.treeNodeToReload)&&e.treeLoad();break;case i.q.MODIFY_ITEM:default:e.treeModifyItem(n)}}),this.fwcUserService.getFwcUser().pipe(Object(l.a)(function(){return e.alive})).subscribe(function(n){e.fwcUser&&e.fwcUser.selectedLanguage!=n.selectedLanguage&&e.translate.use(n.selectedLanguage),e.fwcUser=n}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(function(n){e.fwcChildTypes=n}),this.appHintService.registerHint({id:i.j.HINT_NO_FW,caption:this.translate.instant("HINTS.HINT_NO_FW.CAPTION"),description:this.translate.instant("HINTS.HINT_NO_FW.DESC"),imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:i.j.HINT_CA_CREATING,caption:this.translate.instant("HINTS.HINT_CA_CREATING.CAPTION"),description:this.translate.instant("HINTS.HINT_CA_CREATING.DESC"),imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){var n=e.refService.getAppRef();e.contextMenuReference=n,e.applicationRef=n}).bind(this),1)},e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.setExpandedNodes=function(e,n){var t,l;e&&(t=e.item,n&&-1==this.treeExpandedNodes.findIndex(function(e){return e==t.id})&&this.treeExpandedNodes.push(t.id),!n)&&-1!=(l=this.treeExpandedNodes.findIndex(function(e){return e==t.id}))&&this.treeExpandedNodes.splice(l,1)},e.prototype.treeLoad=function(e,n){var t=this,l=this.fwcUserService.getActualFwSelectedCloud();this.treeview.clearItems(),this.items=[],r.a.log("<<< treeLoad ",this.options.container),this.options.container==i.r.C_FIREWALLS||this.options.container==i.r.C_FIREWALLS_CONDENSED?(this.itemSelectedService.setBlockUI(),Promise.all([this.getTree(this.options),this.getAllFirewalls()]).then(function(l){var o=l[0],a=l[1],s=o.response;if(r.a.log("> TREE RECEIVED: ",o,a),s&&0==s.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:s.respCode+" - "+s.errorMsg});else{var u,c=void 0;o.text=" ",o.expanded=!0,t.items.push(o),t.treeClusters=[],u=a.data;for(var d=0;d<u.length;d++)if(null!=u[d].cluster){c=!1;for(var p=0;p<t.treeClusters.length;p++)u[d].cluster==t.treeClusters[p].clusterId&&(t.treeClusters[p].fwnodes.push(u[d]),u[d].fwmaster&&(t.treeClusters[p].fwMasterId=u[d].id),c=!0);if(!c){var f=t.treeClusters.push({clusterId:u[d].cluster,fwnodes:[]});u[d].fwmaster&&(t.treeClusters[f-1].fwMasterId=u[d].id),t.treeClusters[f-1].fwnodes.push(u[d])}}r.a.log("> CLUSTER TREE: ",t.treeClusters),t.buildTree(e,n)}t.itemSelectedService.setBlockUI(!1),setTimeout(function(){Array.isArray(t.items)&&t.items.length&&Array.isArray(t.items[0].items)&&!t.items[0].items.length&&t.appHintService.showRegisteredHint(i.j.HINT_NO_FW,t.hintFirstTreeElement)},500)}).catch(function(e){r.a.log(["ERRORS: ",e[0],e[1],e[2]]),t.itemSelectedService.setBlockUI(!1)})):this.options.container==i.r.C_CA?(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,l).subscribe(function(l){l.text=" ",l.expanded=!0,r.a.log("> CA TREE RECEIVED: ",l),t.items.push(l),t.buildTree(e,n),t.itemSelectedService.setBlockUI(!1)},function(e){t.errorMessage=e,r.a.log(["error",t.errorMessage]),t.itemSelectedService.setBlockUI(!1)})):(this.itemSelectedService.setBlockUI(),this.fwcObjectTreeService.getTree(this.options,l).subscribe(function(l){l.text=" ",l.expanded=!0,r.a.log("> TREE RECEIVED: ",l),t.reorderTreeStdNodes(l),t.items.push(l),t.buildTree(e,n),t.itemSelectedService.setBlockUI(!1)},function(e){t.errorMessage=e,r.a.log(["error",t.errorMessage]),t.itemSelectedService.setBlockUI(!1)}))},e.prototype.getTree=function(e){return new Promise((function(n,t){var l=this.fwcUserService.getActualFwcUser(),i=-1;null!=l.selectedFwCloud&&(i=l.selectedFwCloud),this.fwcObjectTreeService.getTree(e,i).subscribe(function(e){n(e)},function(e){t(e)})}).bind(this))},e.prototype.getAllFirewalls=function(){return new Promise((function(e,n){var t=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(t).subscribe(function(n){e(n)},function(e){n(e)})}).bind(this))},e.prototype.reorderTreeStdNodes=function(e){},e.prototype.buildTree=function(e,n){if(this.treePrepare(this.items),this.treeview.updateLayout(),e){var t=this.items[0];r.a.log("Inside build tree: ",e,n,this.options),this.options.container==e.container&&(n?void 0!==e._fwcObjTreeParentId?t=this.treeview.findItemById(e._fwcObjTreeParentId):void 0!==e.pid&&(t=this.treeview.findItemById(e.pid)):void 0!==e._fwcObjTreeId?(r.a.log("Locating item by TREE ID: ",e._fwcObjTreeId),t=this.treeview.findItemById(e._fwcObjTreeId)):void 0!==e._fwcObjId&&void 0!==e._fwcObjType&&(r.a.log("Locating item by ID and TYPE: ",e._fwcObjId,e._fwcObjType),t=this.findItemByIdType(this.items,e._fwcObjId,e._fwcObjType))),t&&(this.treeview.scrollTo(t),this.treeview.expand(t),this.treeview.selectedItem=t,this.treeview.updateView())}},e.prototype.treePrepare=function(e,n){var t=this,l=n||{};e.forEach(function(e,n,r){var o,a,s,u,c,d,p,f,g=[],m=[],_=[];if(t.options.container===i.r.C_FIREWALLS_CONDENSED&&(e.node_type===i.l.OBJ_FIREWALL||e.node_type===i.l.OBJ_CLUSTER))for(var v=0;v<e.items.length;v++)e.items[v].node_type!=i.l.OPENVPN_ROOT&&(e.items.splice(v,1),v-=1);if(g=l.fw_status,m=l.ca_status,_=l.openvpn_status,-1!=t.treeExpandedNodes.findIndex(function(n){return n==e.id})&&(e.expanded=!0),e.container=t.options.container,e.containerReadOnly=t.options.containerReadOnly,e.obj_type==i.m.OBJ_INTERFACE_FIREWALL||e.obj_type==i.m.OBJ_INTERFACE_HOST){var h=/(.+)\s+\[(.+)\]$/.exec(e.text);e.labelName="",h&&(e.text=h[1],e.labelName=h[2])}e.obj_type==i.m.OBJ_ADDRESS&&(h=/(.+)\s+\((.+)\)$/.exec(e.text))&&(e.text=h[1],e.address=h[2]),e._fwcObjName=e.text,e._fwcObjType=e.obj_type,e._fwcObjId=e.id_obj,null!=l.prefix_name&&(e._fwcObjName=l.prefix_name+e.text),e.obj_type!=i.m.OBJ_PREFIX_FOLDER&&e.obj_type!=i.m.OBJ_OPENVPN_PREFIX||(f=e.text,p=l.parent_cert_name),null!=l.parent_cert_name&&(e._fwcParentConfigName=l.parent_cert_name),e.obj_type==i.m.OBJ_VPN_CONFIG_SER&&(p=e._fwcObjName),e.container===i.r.C_FIREWALLS||e.container===i.r.C_OBJECTS||e.container===i.r.C_FIREWALLS_CONDENSED?(l.parent_id&&(o=l.parent_id,a=l.parent_name,s=l.parent_type,u=l.fw_master,l.parent_type===i.m.OBJ_FIREWALL&&(e._fwcFwId=o,e._fwcFwName=a,e.firewall_id=o,e.firewall_name=a),l.parent_type===i.m.OBJ_CLUSTER&&(e._fwcClusterId=o,e._fwcClusterName=a,e.cluster_id=o,e.cluster_name=a),l.parent_type===i.m.OBJ_HOST&&(e._fwcHostId=o,e._fwcHostName=a,e.host_id=o,e.host_name=a)),l.openvpn_status&&(e._fwcOpenVPNId=l.openvpn_id),e.fw_status&&e.fw_status.length&&(g=e.fw_status),e.openvpn_status&&e.openvpn_status.length&&(_=e.openvpn_status),e.node_type!==i.l.OBJ_FIREWALL&&e.node_type!==i.l.OBJ_CLUSTER&&e.node_type!==i.l.OBJ_HOST||(o=e.id_obj,a=e.text,s=e.obj_type,e.node_type==i.l.OBJ_FIREWALL&&(e._fwcFwId=o,e._fwcFwName=a,t.updateFwNodeStatus(e,g)),e.node_type==i.l.OBJ_CLUSTER&&t.updateClusterNodeStatus(e,g)),e.obj_type!==i.m.OBJ_VPN_CONFIG_CLI&&e.obj_type!==i.m.OBJ_VPN_CONFIG_SER||t.updateOPVNStatus(e,_),e.node_type!==i.l.FOLDER_INTERFACES&&e.node_type!==i.l.FOLDER_CLUSTER_FW||!e._fwcClusterId||(u=e.id_obj),e.parent_id=o,e.parent_name=a,e.parent_type=s,u&&(e._fwcFwId=u),e.node_type===i.l.OPENVPN_CONFIG_SER&&(d=e.id_obj)):e.container===i.r.C_CA&&(e.ca_status&&e.ca_status.length&&(m=e.ca_status),e.obj_type==i.m.OBJ_CA&&(c=e.id_obj),e.obj_type==i.m.OBJ_PREFIX_FOLDER&&(c=l.ca_id),l.ca_id&&(e._fwcParentCA=l.ca_id),e.obj_type==i.m.OBJ_CA&&t.updateCAStatus(e,m)),e.expanded=!!e.expanded,e.allowDrag=t.checkItemDraggable(e),-1!=i.z.findIndex(function(n){return e.node_type==n})&&(e._fwcPolicyFwId=e.id_obj),e.items&&e.items.length&&t.treePrepare(e.items,{fw_status:g,parent_id:o,parent_name:a,parent_type:s,fw_master:u,ca_status:m,openvpn_status:_,ca_id:c,openvpn_id:d,prefix_name:f,parent_cert_name:p})})},e.prototype.treePrepareIt=function(){var e,n,t,l,o,a=[];a.push(this.items[0]);for(var s=function(){var s=a.pop();if(e=void 0,n=void 0,t=void 0,l=void 0,o=[],-1!=u.treeExpandedNodes.findIndex(function(e){return e==s.id})&&(s.expanded=!0),s.container=u.options.container,s.containerReadOnly=u.options.containerReadOnly,s.obj_type==i.m.OBJ_INTERFACE_FIREWALL||s.obj_type==i.m.OBJ_INTERFACE_HOST){var c=/(.+)\s+\[(.+)\]$/.exec(s.text);s.labelName="",c&&(s.text=c[1],s.labelName=c[2])}if(s._fwcObjName=s.text,s._fwcObjType=s.obj_type,s._fwcObjId=s.id_obj,s.container!==i.r.C_FIREWALLS&&s.container!==i.r.C_OBJECTS||(s.parent_id&&(e=s.parent_id,n=s.parent_name,t=s.parent_type,l=s.fw_master,s.parent_type===i.m.OBJ_FIREWALL&&(s._fwcFwId=e,s._fwcFwName=n,s.firewall_id=e,s.firewall_name=n),s.parent_type===i.m.OBJ_CLUSTER&&(s._fwcClusterId=e,s._fwcClusterName=n,s.cluster_id=e,s.cluster_name=n),s.parent_type===i.m.OBJ_HOST&&(s._fwcHostId=e,s._fwcHostName=n,s.host_id=e,s.host_name=n)),s.fw_status&&s.fw_status.length&&r.a.log(">>> TREE fw_status: ",o=s.fw_status),s.node_type!==i.l.OBJ_FIREWALL&&s.node_type!==i.l.OBJ_CLUSTER&&s.node_type!==i.l.OBJ_HOST||(e=s.id_obj,n=s.text,t=s.obj_type,s.node_type==i.l.OBJ_FIREWALL&&(s._fwcFwId=e,s._fwcFwName=n,u.updateFwNodeStatus(s,o)),s.node_type==i.l.OBJ_CLUSTER&&u.updateClusterNodeStatus(s,o)),s.node_type!==i.l.FOLDER_INTERFACES&&s.node_type!==i.l.FOLDER_CLUSTER_FW||!s._fwcClusterId||(l=s.id_obj),s.parent_id=e,s.parent_name=n,s.parent_type=t,l&&(s._fwcFwId=l)),s.expanded=!!s.expanded,s.allowDrag=u.checkItemDraggable(s),i.z.findIndex(function(e){return s.node_type==e})&&(s._fwcPolicyFwId=s.id_obj),s.items&&s.items.length)for(var d=s.items.length-1;d>=0;d--)e&&(s.items[d].parent_id=e,s.items[d].parent_name=n,s.items[d].parent_type=t),o&&o.length&&(s.items[d].fw_status=o),null!=l&&(s.items[d].fw_master=l),a.push(s.items[d])},u=this;a.length;)s()},e.prototype.checkItemDraggable=function(e){return null!==e._fwcObjId&&null!==e._fwcObjType&&-1==i.s.findIndex(function(n){return e.node_type==n})&&(e.obj_type!==i.m.OBJ_FIREWALL||null==e._fwcClusterId)},e.prototype.updateFwNodeStatus=function(e,n){for(var t,l,i=0;n&&i<n.length;i++)n[i].id==e.id_obj&&(t=n[i]),null!=e._fwcClusterId&&n[i].cluster==e._fwcClusterId&&(l={clusterId:n[i].cluster,status_compiled:0,status_installed:2&n[i].status?1:0});t&&(e.status_compiled=1&t.status?1:0,e.status_installed=2&t.status?1:0),l&&null!=e._fwcClusterId&&e._fwcClusterId==l.clusterId&&(e.status_compiled=0,e.status_installed=l.status_installed)},e.prototype.updateClusterNodeStatus=function(e,n){var t,l,i=0;if(e){for(var r=0;r<this.treeClusters.length;r++)if(this.treeClusters[r].clusterId==e.id_obj){l=this.treeClusters[r];break}for(r=0;n&&r<n.length;r++)n[r].cluster==e.id_obj&&(t=n[r],l&&l.clusterId==t.cluster&&(l.fwMasterId==t.id&&(e.status_compiled=1&t.status?1:0),2&t.status&&(i=1)));e.status_installed=i}},e.prototype.updateCAStatus=function(e,n){var t;if(e){for(var l=0;n&&l<n.length;l++)if(e.id_obj==n[l].id&&n[l].status){t=1;break}e._fwcCaStatus=t}},e.prototype.updateOPVNStatus=function(e,n){var t;if(e){for(var l=0;n&&l<n.length;l++)if(e.id_obj==n[l].id&&n[l].status){t=1;break}e._fwcOpenvpnStatus=t}},e.prototype.treeFindItem=function(e,n,t,l){var i=this.findItemByIdType(this.items,e,n,t,l);i&&(this.treeview.clearSelection(),this.treeview.scrollTo(i),this.treeview.selectedItem=i,this.treeview.updateLayout())},e.prototype.treeFindPolicyItem=function(e,n,t){for(var l=null,i=0;i<e.length&&!l;i++)e[i]._fwcPolicyFwId==n&&e[i]._fwcObjType==t?l=e[i]:e[i].items&&e[i].items.length&&(l=this.treeFindPolicyItem(e[i].items,n,t));return l},e.prototype.findItemsByIdType=function(e,n,t,l,r){for(var o,a=[],s=0;s<e.length;s++)if(e[s]._fwcObjId==n&&e[s]._fwcObjType==t&&e[s].node_type!=i.l.FOLDER_INTERFACES)if(o=e[s],l&&o.items){var u=this.findItemsByIdType(o.items,l,r);u&&u.length&&(a=a.concat(u))}else a=a.concat(o);else e[s].items&&e[s].items.length&&(a=a.concat(this.findItemsByIdType(e[s].items,n,t,l,r)));return a},e.prototype.findItemByIdType=function(e,n,t,l,i){for(var r=null,o=0;o<e.length&&!r;o++)if(e[o]._fwcObjId==n&&e[o]._fwcObjType==t){if(r=e[o],l&&r.items){var a=this.findItemByIdType(r.items,l,i);a&&(r=a)}}else e[o].items&&e[o].items.length&&(r=this.findItemByIdType(e[o].items,n,t,l,i));return r},e.prototype.treeModifyItem=function(e){if(r.a.log(">> treeModifyItem: ",e),this.items&&this.items.length&&null!=e.id&&null!=e.type||null!=e.node_id){var n=[];if(e.node_id){var t=this.treeview.findItemById(e.node_id);t&&n.push(t)}else n=this.findItemsByIdType(this.items,e.id,e.type);if(n&&n.length)for(var l=0,o=n;l<o.length;l++){for(var a=o[l],s=""+a.type,u=a.id,c=0,d=Object.keys(a);c<d.length;c++){var p=d[c];void 0!==e[p]&&(a[p]=e[p])}a.type=s,a.id=u,a._fwcObjName=a.text=e.name,this.treeview.updateLayout()}}this.options.container==i.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length&&(r.a.log(">>> treeUpdateFwStatus"),this.treeUpdateFwStatus(this.items,e.fw_status))},e.prototype.treeNewItem=function(e,n){r.a.log(">> treeNewItem: ",e),(e.container==this.options.container||this.options.container==i.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length)&&this.treeLoad(e,n)},e.prototype.treeDeleteItem=function(e){r.a.log(">> treeDeleteItem: ",e),(e.container==this.options.container||this.options.container==i.r.C_FIREWALLS&&e.fw_status&&e.fw_status.length)&&this.treeLoad(e,!0)},e.prototype.treeFilter=function(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.filter(this.searchOptions),this.treeview.expand()):this.treeview.filter()},e.prototype.treeUpdateFwStatus=function(e,n){for(var t=null,l=0;l<e.length;l++){var r=e[l];r.node_type==i.l.OBJ_FIREWALL&&this.updateFwNodeStatus(r,n),r.node_type==i.l.OBJ_CLUSTER&&this.updateClusterNodeStatus(r,n),r.items&&r.items.length&&(t=this.treeUpdateFwStatus(r.items,n))}return t},e.prototype.onContextMenuLoad=function(e){var n=this.treeview.selectedItem;if(!n||this.options.container==i.r.C_FIREWALLS_CONDENSED&&n.node_type!=i.l.OPENVPN_CONFIG_SER&&n.node_type!=i.l.OPENVPN_CONFIG_CLI&&n.node_type!=i.l.OPENVPN_PREFIX)e.cancel=!0;else{var t,l,o=null!=n._fwcObjId,a=null!=n.fwcloud,s=n.items.length,u=0===n._fwcOpenvpnStatus;l=this.treeview.getItemParent(n),t=l&&(l.obj_type==i.m.OBJ_GROUP||l.obj_type==i.m.OBJ_SERVICE_GROUP)&&l.id_obj;var c=this.treeContextMenu[n.node_type];r.a.log("Right click on",n,"PARENT:",this.treeview.getItemParent(n)),c&&c.items?c.items.forEach(function(e){"separator"!==e.type&&(e.visible=e.id==i.g.FOLDER_EXPAND?!(n.expanded||!s):e.id==i.g.FOLDER_COLLAPSE?!(!n.expanded||!s):!(e.userObject&&!a||e.objectInGroup&&!t||!1===e.objectInGroup&&t||e.clusterNode&&!n._fwcClusterId||!1===e.clusterNode&&n._fwcClusterId||e.onlyOnNodeType&&e.onlyOnNodeType!=n.node_type||e.onlyIfConfigInstalled&&!u||!(e.finalObject&&o||!e.finalObject&&!o)),e.enabled=!e.disableOnCACreation||!n._fwcCaStatus)}):e.cancel=!0}},e.prototype.onContextMenuHandler=function(e){var n=this;if(e.item){var t=this.treeview.selectedItem;if(!t)return;switch(t._fwcUserId=this.fwcUser.user_id,e.item.id){case i.g.WHERE_USED:var l=Object.assign({},t);l._fwcUserId=this.fwcUser.user_id,l._fwcCloud=this.fwcUser.selectedFwCloud,l.whereUsedAction=!0,this.itemSelectedService.setItem(l);break;case i.g.FOLDER_EXPAND:this.treeview.expand(t);break;case i.g.FOLDER_COLLAPSE:this.treeview.collapse(t);break;case i.g.TREE_RELOAD:this.treeLoad();break;case i.g.TREE_REPAIR:this.itemSelectedService.setRepairTree(t.node_type);break;case i.g.FIREWALL_EDIT:case i.g.NODE_EDIT:this.itemSelectedService.setItem(t);break;case i.g.POLICY_LOAD:this.actionLoadPolicy(t);break;case i.g.FIREWALL_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:i.m.OBJ_FIREWALL,_fwcObjType:i.m.OBJ_FIREWALL,node_id:t.id});break;case i.g.FIREWALL_DELETE:var o=Object.assign({},t);o.deleteAction=!0,this.itemSelectedService.setItem(o);break;case i.g.NODE_DELETE:var a=Object.assign({},t);a.deleteAction=!0,this.itemSelectedService.setItem(a);break;case i.g.FIREWALL_COMPILE:case i.g.FIREWALL_INSTALL:this.itemSelectedService.setCloudToCompile({compileAction:e.item.id==i.g.FIREWALL_COMPILE?i.f.COMP_COMPILE:i.f.COMP_INSTALL,compileWhat:i.f.COMP_FIREWALL,compileId:t._fwcObjId,compileType:t._fwcObjType});break;case i.g.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.f.COMP_COMPILE,compileWhat:i.f.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case i.g.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.f.COMP_INSTALL,compileWhat:i.f.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case i.g.FIREWALL_CLONE:var s={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:t._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:t._fwcObjId},{name:"type",type:"hidden",value:t._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:t.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:t._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(s);break;case i.g.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:t._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e={fwcloud:n.fwcUserService.getActualFwSelectedCloud(),firewall:t._fwcObjId,node_id:t.pid};n.fwcFirewallService.convertFwToCluster(e).subscribe(function(l){var o=l.response;r.a.log("OPERATION RESULT ",l),o&&0==o.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}):"ACR_CONFIRM_ASK"==o.respCode&&(n.fwcUserService.setConfirmationToken(l.data.fwc_confirm_token),n.fwcFirewallService.convertFwToCluster(e).subscribe(function(e){var l=e.response;if(r.a.log("CONVERSION RESULT: ",e),l&&0==l.respStatus)n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else{var o={};o.id=o.id_obj=o._fwcObjId=e.data.insertId,o._fwcObjType=i.m.OBJ_CLUSTER,o._fwcTreeAction=i.q.NEW_ITEM,o.container=i.r.C_FIREWALLS,n.treeNewItem(o),n.fwcPolicyService.getActualSelectedPolicy(),n.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),n.itemSelectedService.hideObjectPanel(),n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:n.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:t._fwcObjName})})}n.fwcUserService.setConfirmationToken(void 0)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e})})}});break;case i.g.FOLDER_NEW:var u={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:t.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(u);break;case i.g.FOLDER_DELETE:if(t.node_type==i.l.FOLDER)if(t.items&&t.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{var c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:t.id};this.fwcObjectTreeService.deleteFolder(c).subscribe(function(e){"ACR_CONFIRM_ASK"==e.response.respCode&&(n.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),n.fwcObjectTreeService.deleteFolder(c).subscribe(function(e){r.a.log(">>> DELETE FOLDER 2ND: ",e);var t=e.response;t&&0==t.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):(n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),n.treeLoad())},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}break;case i.g.FOLDER_RENAME:var d={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:t._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:t.id},{name:"old_name",type:"hidden",value:t._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(d);break;case i.g.CLUSTER_NEW:this.itemSelectedService.setItem({id_obj:null,obj_type:i.m.OBJ_CLUSTER,_fwcObjType:i.m.OBJ_CLUSTER,node_id:t.id});break;case i.g.CLUSTER_EDIT:this.itemSelectedService.setItem(t);break;case i.g.CLUSTER_DELETE:var p=Object.assign({},t);p.deleteAction=!0,this.itemSelectedService.setItem(p);break;case i.g.CLUSTER_COMPILE:case i.g.CLUSTER_INSTALL:this.itemSelectedService.setCloudToCompile({compileAction:e.item.id==i.g.CLUSTER_COMPILE?i.f.COMP_COMPILE:i.f.COMP_INSTALL,compileWhat:i.f.COMP_CLUSTER,compileId:t._fwcObjId,compileType:t._fwcObjType});break;case i.g.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:i.f.COMP_COMPILE,compileWhat:i.f.COMP_CLUSTERS_ALL,compileId:void 0});break;case i.g.CLUSTER_CLONE:var f={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:t._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:t._fwcObjId},{name:"type",type:"hidden",value:t._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:t.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:t._fwcObjName+"_CLONE"},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(f);break;case i.g.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:t._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e={fwcloud:n.fwcUserService.getActualFwSelectedCloud(),cluster:t._fwcObjId,node_id:t.pid};n.fwcFirewallService.convertClusterToFw(e).subscribe(function(l){var o=l.response;r.a.log("OPERATION RESULT ",l),o&&0==o.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}):"ACR_CONFIRM_ASK"==o.respCode&&(n.fwcUserService.setConfirmationToken(l.data.fwc_confirm_token),n.fwcFirewallService.convertClusterToFw(e).subscribe(function(e){var l=e.response;if(r.a.log("CONVERSION RESULT: ",e),l&&0==l.respStatus)n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else{var o={};o.id=o.id_obj=o._fwcObjId=e.data.insertId,o._fwcObjType=i.m.OBJ_FIREWALL,o._fwcTreeAction=i.q.NEW_ITEM,o.container=i.r.C_FIREWALLS,r.a.log("Object to reload: ",o),n.treeNewItem(o),n.fwcPolicyService.getActualSelectedPolicy(),n.fwcPolicyService.setSelectedPolicy({_fwcFwId:null,fwId:null}),n.itemSelectedService.hideObjectPanel(),n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:n.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:t._fwcObjName})})}n.fwcUserService.setConfirmationToken(void 0)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:e})})}});break;case i.g.NEW_INTERFACE:if(t._fwcFwId&&t._fwcObjType==i.m.OBJ_INTERFACE_FIREWALL||t._fwcClusterId&&t._fwcObjType==i.m.OBJ_INTERFACE_FIREWALL||t._fwcObjId&&!t._fwcFwId&&t._fwcObjType==i.m.OBJ_HOST){var g;g=t._fwcObjType==i.m.OBJ_INTERFACE_FIREWALL?i.m.OBJ_INTERFACE_FIREWALL:i.m.OBJ_INTERFACE_HOST;var m,_=this.fwcChildTypes.data.filter(function(e){return e.id_node==t.node_type}),v=null!=t._fwcObjId;if(_.forEach(function(e){e.is_object&&v?m=e:e.is_object||v||(m=e)}),!m)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});var h=void 0,O=void 0,E=void 0;t.parent_type===i.m.OBJ_FIREWALL&&(h=t.parent_id),t.parent_type===i.m.OBJ_CLUSTER&&(h=t._fwcFwId,O=t.parent_id),t.parent_type===i.m.OBJ_HOST&&(E=t.parent_id),r.a.log("NEW INTERFACE ON "+(O&&h?"CLUSTER "+O+", MASTER FIREWALL: "+h:E?"HOST "+E:"FIREWALL "+h)),this.itemSelectedService.setItem({node_parent:t.id,node_order:1,node_type:m.node_type,host:E,firewall:h,cluster:O,interface_type:g,_fwcObjId:void 0,_fwcObjType:g,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:t.parent_id,parent_name:t.parent_name,parent_type:t.parent_type})}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case i.g.NEW_ADDRESS:case i.g.NEW_GROUP:case i.g.NEW_NETWORK:case i.g.NEW_IP_RANGE:case i.g.NEW_HOST:case i.g.NEW_IP_SERVICE:case i.g.NEW_ICMP_SERVICE:case i.g.NEW_TCP_SERVICE:case i.g.NEW_UDP_SERVICE:case i.g.NEW_SERVICE_GROUP:case i.g.NEW_DNS:var S,I="",R=this.fwcChildTypes.data.filter(function(e){return e.id_node==t.node_type}),C=null!=t._fwcObjId;if(R.forEach(function(e){e.is_object&&C?S=e:e.is_object||C||(S=e)}),!S)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});var b=t._fwcObjType,w=void 0,y=void 0;if(e.item.id==i.g.NEW_ADDRESS&&(t._fwcObjType==i.m.OBJ_INTERFACE_FIREWALL||t._fwcObjType==i.m.OBJ_INTERFACE_HOST)){b=i.m.OBJ_ADDRESS,w=t._fwcObjId,y=t._fwcObjType;var T=-1,N=t._fwcObjName,L=new RegExp("^"+N+"$","g"),P=new RegExp("^"+N+":(\\d+)$","g");if(t.items&&t.items.constructor===Array)for(var D=0;D<t.items.length;D++){var j,A=t.items[D]._fwcObjName;L.exec(A)&&-1==T&&(T=0),(j=P.exec(A))&&(T=+j[1]+1)}I=-1==T?""+N:N+":"+T}var F=void 0;switch(e.item.id){case i.g.NEW_TCP_SERVICE:F=6;break;case i.g.NEW_ICMP_SERVICE:F=1;break;case i.g.NEW_UDP_SERVICE:F=17}this.itemSelectedService.setItem({_fwcObjId:void 0,_fwcObjType:b,_fwcObjName:I,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:w,_fwcParentInterfaceType:y,_fwcParentObjName:t._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:t.id,node_order:1,node_type:S.node_type,protocol:F});break;case i.g.EDIT:this.itemDblClickEvent(void 0);break;case i.g.DELETE:if(null==t.fwcloud||null==t.fwcloud)return void this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:t._fwcObjName})});var M=Object.assign({},t);M.deleteAction=!0,this.itemSelectedService.setItem(M);break;case i.g.DELETE_FROM_GROUP:var k=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:t._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle-o fwcBlue iconBig",message:k,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:function(){var e=n.treeview.getItemParent(t),l={fwcloud:n.fwcUser.selectedFwCloud,ipobj_g:e.id_obj,ipobj:t._fwcObjId,obj_type:t._fwcObjType};n.fwcObjectService.deleteObjectGroupObject(l).subscribe(function(i){var o=i.response;o&&0==o.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:o.respCode+" - "+o.errorMsg}):"ACR_CONFIRM_ASK"==o.respCode&&(i.data.restrictions?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:n.translate.instant("TREE.RESTR_ERROR.TEXT",{name:t._fwcObjName})}):(n.fwcUserService.setConfirmationToken(i.data.fwc_confirm_token),n.fwcObjectService.deleteObjectGroupObject(l).subscribe(function(l){var i=l.response;if(i&&0==i.respStatus)"ACR_EMPTY_CONTAINER"==i.respCode?n.confirmationService.confirm({header:n.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:n.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:t._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:function(){}}):n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:i.respCode+" - "+i.errorMsg});else{var o=Object.assign({},t);l.data&&l.data.length&&(o.fw_status=l.data),n.treeDeleteItem(o);var a=n.itemSelectedService.getActualItem();r.a.log("DELETION FROM GROUP: ",l,a,e,t),n.itemSelectedService.setItem({_onlyReloadInfoPanel:!0}),n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:n.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}n.fwcUserService.setConfirmationToken(void 0)},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)})))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:n.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),detail:e})})}});break;case i.g.CA_NEW:case i.g.CA_CRT_NEW:var V={_fwcObjId:void 0,container:this.options.container,node_id:t.id,node_type:t.node_type,obj_type:i.m.OBJ_CA};if(e.item.id==i.g.CA_CRT_NEW)if(V.type=i.c.client,V.obj_type=i.m.OBJ_CERT_CLI,t.obj_type==i.m.OBJ_CA)V.ca=t.id_obj,V.ca_name=t.text;else if(t.obj_type==i.m.OBJ_PREFIX_FOLDER){var x=this.treeview.getItemParent(t);V.ca=x.id_obj,V.ca_name=x.text,V.folder_prefix=t.text}this.itemSelectedService.setItem(V);break;case i.g.CA_EDIT:case i.g.CA_CRT_EDIT:this.itemDblClickEvent(void 0);break;case i.g.CA_DELETE:case i.g.CA_CRT_DELETE:var U,B,G=void 0,J={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};e.item.id==i.g.CA_DELETE?(U=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),G=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),B=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:t.text}),J.ca=t.id_obj):(U=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),G=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),B=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:t.text}),J.crt=t.id_obj),G(J).subscribe(function(e){var l=e.response;if(r.a.log("CHECK CA/CERT RESTRICTIONS ",e),l&&0==l.respStatus)if("ACR_RESTRICTED"==l.respCode){if(e.data&&e.data.restrictions){var o=e.data.restrictions,a=void 0,s=void 0;o&&(o.caHasCertificates?(a=n.translate.instant("TREE.VPN.CA_DELETE_RESTR"),s=n.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:t.text})):o.crtUsedInOpenvpn?(a=n.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),s=n.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:t.text})):o.caHasPrefixes&&(a=n.translate.instant("TREE.VPN.CA_DELETE_RESTR"),s=n.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:t.text}))),n.confirmationService.confirm({header:a,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:s})}}else n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else"ACR_OK"==l.respCode&&n.confirmationService.confirm({header:n.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:n.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:n.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:B,accept:function(){U(J).subscribe(function(e){var l=e.response;l&&0==l.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg}):"ACR_CONFIRM_ASK"==l.respCode&&(n.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),U(J).subscribe(function(e){var l=e.response;if(l&&0==l.respStatus)n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else{var r=Object.assign({},t);r._fwcTreeAction=i.q.DELETE_ITEM,n.treeDeleteItem(r),n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:n.translate.instant("TREE.VPN.DELETE_OK")}),n.fwcUserService.setConfirmationToken(void 0)}},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})},reject:function(){}})},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})});break;case i.g.CA_CRT_NEW_PREFIX:case i.g.VPN_CONFIG_NEW_PREFIX:var W=Object.assign({},t);W._fwcObjType=W.obj_type=t._fwcObjType==i.m.OBJ_VPN_CONFIG_SER?i.m.OBJ_OPENVPN_PREFIX:i.m.OBJ_PREFIX_FOLDER,W.newPrefixAction=!0,this.itemSelectedService.setItem(W);break;case i.g.CA_CRT_EDIT_PREFIX:case i.g.CA_CRT_DELETE_PREFIX:case i.g.VPN_CONFIG_EDIT_PREFIX:case i.g.VPN_CONFIG_DELETE_PREFIX:var H=Object.assign({},t);H.editPrefixAction=e.item.id==i.g.CA_CRT_EDIT_PREFIX||e.item.id==i.g.VPN_CONFIG_EDIT_PREFIX,H.deletePrefixFolderAction=e.item.id==i.g.CA_CRT_DELETE_PREFIX,H.deleteAction=e.item.id==i.g.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(H);break;case i.g.VPN_CONFIG_FILE:case i.g.VPN_CONFIG_DELETE:case i.g.VPN_CONFIG_INSTALL:case i.g.VPN_CONFIG_SYNC_CCD:case i.g.VPN_CONFIG_UNINSTALL:var K=Object.assign({},t);e.item.id==i.g.VPN_CONFIG_UNINSTALL?function(e){var l=!0,r=[];for(r.push.apply(r,t.items);r.length;){var o=r.pop();if(o._fwcObjType==i.m.OBJ_VPN_CONFIG_CLI){n.confirmationService.confirm({header:n.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:e,rejectVisible:!1,acceptLabel:n.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),l=!1;break}o.items&&o.items.length&&r.push.apply(r,o.items)}return l}(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:t._fwcObjName}))&&(K.uninstallAction=!0,this.itemSelectedService.setItem(K)):(K.deleteAction=e.item.id==i.g.VPN_CONFIG_DELETE,K.configFileAction=e.item.id==i.g.VPN_CONFIG_FILE,K.installAction=e.item.id==i.g.VPN_CONFIG_INSTALL,K.syncCCDAction=e.item.id==i.g.VPN_CONFIG_SYNC_CCD,this.itemSelectedService.setItem(K));break;case i.g.MARK_NEW:var Y=Object.assign({},t);Y._fwcObjName="",Y.node_parent=t.id,this.itemSelectedService.setItem(Y)}}},e.prototype.itemClickEvent=function(e){var n=this.treeview.selectedItem;switch(n.node_type){case i.l.POLICY_INPUT:case i.l.POLICY_OUTPUT:case i.l.POLICY_FORWARD:case i.l.POLICY_SNAT:case i.l.POLICY_DNAT:this.actionLoadPolicy(n);break;default:this.clearObjectInfo(void 0)}},e.prototype.itemDblClickEvent=function(e){var n=this.treeview?this.treeview.selectedItem:void 0;if(n){switch(r.a.log("fwc_tree_component --- DBL CLICK ON",n),n.node_type){case i.l.FOLDER_POLICY:case i.l.POLICY_INPUT:case i.l.POLICY_OUTPUT:case i.l.POLICY_FORWARD:case i.l.FOLDER_NAT:case i.l.POLICY_SNAT:case i.l.POLICY_DNAT:case i.l.FOLDER_ROUTING:case i.l.FOLDER_INTERFACES:break;case i.l.OPENVPN_PREFIX_FOLDER:case i.l.OPENVPN_PREFIX:n.editPrefixAction=!0,this.itemSelectedService.setItem(n);break;default:if(null!==n._fwcObjId){var t=this.treeview.getItemParent(n);if(!t)return;n.obj_type!=i.m.OBJ_ADDRESS||t._fwcObjType!=i.m.OBJ_INTERFACE_FIREWALL&&t._fwcObjType!=i.m.OBJ_INTERFACE_HOST||(n._fwcParentInterfaceType=t._fwcObjType,n._fwcParentObjName=t._fwcObjName),this.itemSelectedService.setItem(n)}}e&&e.stopPropagation()}},e.prototype.actionLoadPolicy=function(e){var n={};-1!=[i.l.POLICY_INPUT,i.l.POLICY_OUTPUT,i.l.POLICY_FORWARD,i.l.POLICY_SNAT,i.l.POLICY_DNAT].findIndex(function(n){return e.node_type==n})&&(n._fwcUserId=this.fwcUser.user_id,n._fwcFwId=e.id_obj,n._fwcFwName=e._fwcFwName,n._fwcPolicyType=e.obj_type,n.fwcloud=e.fwcloud,n.show_action=e.show_action,e._fwcClusterId&&(n._fwcClusterId=e._fwcClusterId,n._fwcFwName=e._fwcClusterName),r.a.log("Loading policy: ",n),n._fwcFwId&&n._fwcPolicyType&&this.fwcPolicyService.setSelectedPolicy(n))},e.prototype.onItemDragStart=function(e,n){var t;t=Object.assign({},e),this.itemSelectedService.setDragItem(t),n.dataTransfer.setData("dragItemId",t.id),n.dataTransfer.dropEffect="copy",n.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)},e.prototype.checkDnDAllowance=function(e,n){return!(!e||!n||(e.node_type!=i.l.FOLDER&&e.node_type!=i.l.FOLDER_FW||n.node_type!=i.l.FOLDER&&n.node_type!=i.l.OBJ_CLUSTER&&n.node_type!=i.l.OBJ_FIREWALL)&&(e.node_type!=i.l.OBJ_FIREWALL&&e.node_type!=i.l.OBJ_CLUSTER||n.obj_type!=i.m.OBJ_CERT_SER)&&(e.node_type!=i.l.OPENVPN_CONFIG_SER||n.obj_type!=i.m.OBJ_CERT_CLI)||e.id==n.id||e.id==n.pid||!(n.items&&n.items.length&&!n.items.find(function(n){return n.id==e.id})||n.items&&!n.items.length))},e.prototype.onDragOver=function(e){e&&(this.highlightNodeId=this.checkDnDAllowance(e.targetItem,e.dragItem)?e.targetItem.id:void 0)},e.prototype.onDragLeave=function(e){this.highlightNodeId=void 0},e.prototype.onDragDrop=function(e){var n=this;if(e&&(this.clearObjectInfo(void 0),this.checkDnDAllowance(e.targetItem,e.dragItem))){var t=this.fwcUserService.getActualFwSelectedCloud(),l={fwcloud:t,src:e.dragItem.id,dst:e.targetItem.id};if(e.dragItem&&e.dragItem.node_type==i.l.OPENVPN_CERT){var o=void 0,a=e.dragItem,s=e.targetItem,u=void 0,c=void 0,d=void 0;if(s.node_type==i.l.OBJ_FIREWALL||s.node_type==i.l.OBJ_CLUSTER){if(s.items&&s.items.length)for(var p=0;p<s.items.length;p++)if(s.items[p].node_type==i.l.OPENVPN_ROOT){o=s.items[p];break}d=i.m.OBJ_VPN_CONFIG_SER}else s.node_type==i.l.OPENVPN_CONFIG_SER&&(d=i.m.OBJ_VPN_CONFIG_CLI,u=(o=s)._fwcObjId,c=o._fwcObjName);if(o){var f={fwcloud:t,obj_type:d,crt:a.id_obj,node_id:o.id,openvpn:u,parent_id:s.parent_id,parent_type:s.parent_type,parent_name:s.parent_name,_fwcObjId:void 0,_fwcCrtType:a.obj_type,_fwcCrtName:a._fwcObjName,_fwcParentConfigName:c,_fwcParentCA:a._fwcParentCA},g=this.checkOpenVPNOperationErrors(o,f);g?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(g)}):(r.a.log("Operation: ",f),this.itemSelectedService.setItem(f))}}else this.fwcObjectTreeService.dropInFolder(l).subscribe(function(e){var t=e.response;t&&0==t.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.translate.instant("TREE.FOLDER.ERROR_DROP")}):"ACR_CONFIRM_ASK"==t.respCode&&(n.fwcUserService.setConfirmationToken(e.data.fwc_confirm_token),n.fwcObjectTreeService.dropInFolder(l).subscribe(function(e){r.a.log(">>> DROP IN FOLDER 2ND: ",e);var t=e.response;t&&0==t.respStatus?n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.respCode+" - "+t.errorMsg}):(n.messageService.add({key:"fwcToastMsgs",severity:"success",summary:n.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:n.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),n.treeLoad())},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),n.fwcUserService.setConfirmationToken(void 0)}))},function(e){n.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}this.highlightNodeId=void 0,e.cancel=!0},e.prototype.checkOpenVPNOperationErrors=function(e,n){var t;if(!e||!n)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(t=this.items[0].openvpn_info);var l=n.crt,i=n.openvpn,r=n._fwcParentCA;if(t)for(var o=0;o<t.length;o++){var a=t[o];if(void 0===n.openvpn&&a.crt==l)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(void 0!==n.openvpn&&a.openvpn_parent==i&&a.crt==l)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_CONFIG");if(void 0!==n.openvpn&&a.openvpn==i&&a.ca!=r)return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}},e.prototype.processInputDialogData=function(e){var n,t=this;if(e)if(e.ssh_user)this.itemSelectedService.setFirewallAction({fwAction:i.g.FIREWALL_INSTALL,user_id:this.fwcUser.user_id,fwcloud:this.fwcUser.selectedFwCloud,firewall:e.firewall_id}),this.itemSelectedService.setFirewallAction({loadingData:!0}),this.itemSelectedService.setFirewallAction({logMessage:this.translate.instant("TREE.OPS.INST_START",{name:e.firewall_name}),logMessageType:i.k.MSG_INFO}),this.fwcPolicyService.installFirewall(e.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),e.ssh_user,e.ssh_password,this.utilService.ioGetSocketId()).pipe(Object(l.a)(function(){return t.alive})).subscribe(function(n){var r=n.response;r&&0==r.respStatus?(t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:r.respCode+" - "+r.errorMsg}),t.itemSelectedService.setFirewallAction({logMessage:t.translate.instant("TREE.OPS.INST_ERROR",{error:r.respCode+" - "+r.errorMsg}),logMessageType:i.k.MSG_ERROR}),t.itemSelectedService.setFirewallAction({loadingData:!1})):"ACR_CONFIRM_ASK"==r.respCode&&(t.fwcUserService.setConfirmationToken(n.data.fwc_confirm_token),t.fwcPolicyService.installFirewall(e.firewall_id,t.fwcUserService.getActualFwSelectedCloud(),e.ssh_user,e.ssh_password,t.utilService.ioGetSocketId()).pipe(Object(l.a)(function(){return t.alive})).subscribe(function(e){var n=e.response;n&&0==n.respStatus?(t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}),t.itemSelectedService.setFirewallAction({logMessage:t.translate.instant("TREE.OPS.INST_ERROR",{error:n.respCode+" - "+n.errorMsg}),logMessageType:i.k.MSG_ERROR}),t.itemSelectedService.setFirewallAction({loadingData:!1})):(t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.OPS.INST_SUCCESS")}),t.itemSelectedService.setFirewallAction({logMessage:t.translate.instant("TREE.OPS.INST_SUCCESS"),logMessageType:i.k.MSG_OK}),t.itemSelectedService.setFirewallAction({loadingData:!1})),t.fwcUserService.setConfirmationToken(void 0)},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.itemSelectedService.setFirewallAction({logMessage:t.translate.instant("TREE.OPS.INST_ERROR",{error:e}),logMessageType:i.k.MSG_ERROR}),t.itemSelectedService.setFirewallAction({loadingData:!1}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.itemSelectedService.setFirewallAction({logMessage:t.translate.instant("TREE.OPS.INST_ERROR",{error:e}),logMessageType:i.k.MSG_ERROR}),t.itemSelectedService.setFirewallAction({loadingData:!1})});else if(e.folder_name)e.name=e.folder_name,delete e.folder_name,this.fwcObjectTreeService.newFolder(e).subscribe(function(n){var l=n.response;l&&0==l.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.translate.instant("TREE.FOLDER.ERROR_NEW")}):"ACR_CONFIRM_ASK"==l.respCode&&(t.fwcUserService.setConfirmationToken(n.data.fwc_confirm_token),t.fwcObjectTreeService.newFolder(e).subscribe(function(e){r.a.log(">>> NEW FOLDER 2ND: ",e);var n=e.response;n&&0==n.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:n.respCode+" - "+n.errorMsg}):(t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.FOLDER.SUCCESS")}),t.treeLoad())},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})});else if(e.folder_newname)e.new_name=e.folder_newname,delete e.folder_newname,this.fwcObjectTreeService.updateFolder(e).subscribe(function(n){var l=n.response;l&&0==l.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:t.translate.instant("TREE.FOLDER.ERROR_RENAME")}):(t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),t.treeModifyItem({node_id:e.id,name:e.new_name,_fwcTreeAction:i.q.MODIFY_ITEM}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})});else{var o;if(null!=e.firewall)o=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else{if(void 0===e.cluster||null==e.cluster)return;o=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService)}delete(n=Object.assign({},e)).type,o(n).subscribe(function(l){var a=l.response;r.a.log("CLON 1ST: ",l),a&&0==a.respStatus?t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:a.respCode+" - "+a.errorMsg}):"ACR_CONFIRM_ASK"==a.respCode&&(t.fwcUserService.setConfirmationToken(l.data.fwc_confirm_token),o(n).subscribe(function(n){var l=n.response;if(r.a.log("CLONING RESULT: ",n),l&&0==l.respStatus)t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:l.respCode+" - "+l.errorMsg});else{var o=n.data.insertId,a={};a.container=i.r.C_FIREWALLS,a.id=a.id_obj=a._fwcObjId=o,a._fwcObjType=e.type,a._fwcTreeAction=i.q.NEW_ITEM,t.treeNewItem(a),t.messageService.add({key:"fwcToastMsgs",severity:"success",summary:t.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:t.translate.instant("TREE.FW_CLONE.SUCCESS")})}t.fwcUserService.setConfirmationToken(void 0)},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e}),t.fwcUserService.setConfirmationToken(void 0)}))},function(e){t.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:e})})}},e.prototype.showObjectInfo=function(e,n){var t=this;if(e){n&&n.preventDefault(),this.itemSelectedService.setObjectInfo(void 0,n);var l=e.node_type;if(!this.infoTooltipTimer&&!this.infoTooltipShown&&null!==e._fwcObjId&&null!==e._fwcObjType&&-1==[i.l.FOLDER_POLICY,i.l.POLICY_INPUT,i.l.POLICY_OUTPUT,i.l.POLICY_FORWARD,i.l.POLICY_SNAT,i.l.POLICY_DNAT,i.l.FOLDER_INTERFACES,i.l.POLICY_ROUTING,i.l.OPENVPN_ROOT,i.l.OPENVPN_PREFIX_FOLDER].findIndex(function(e){return l==e})){var r={objId:e._fwcObjId,objType:e._fwcObjType,fwId:e._fwcFwId,clusterId:e._fwcClusterId,objParentId:e.parent_id};this.infoTooltipTimer=setTimeout(function(){t.infoTooltipShown=!0,t.itemSelectedService.setObjectInfo(r,n)},1e3)}}},e.prototype.clearObjectInfo=function(e){e&&e.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,e),this.infoTooltipShown=!1)},e}())}}]);