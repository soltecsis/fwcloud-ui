import{a as ee,b as Fe,c as Xl,d as ZO,e as su,f as Xr,g as V}from"./chunk-GAL4ENT6.js";var K6=ZO((NOt,Sde)=>{Sde.exports={name:"fwc-dashboard",version:"2.3.1",license:"MIT",scripts:{ng:"ng",start:"node --max_old_space_size=2048 node_modules/@angular/cli/bin/ng serve --proxy-config proxy.conf.json",build:"ng version && ng build --configuration production && node createDistVersionFile && node copyDistFiles",fresh_build_start:"clear && rm -rf node_modules package-lock.json build .angular && npm i && npm run build && npm run start",test:"ng test",lint:"ng lint","lint-fix":"ng lint --fix",e2e:"ng e2e"},private:!0,dependencies:{"@angular/animations":"20.3.16","@angular/cdk":"20.2.14","@angular/common":"20.3.16","@angular/compiler":"20.3.16","@angular/core":"20.3.16","@angular/forms":"20.3.16","@angular/platform-browser":"20.3.16","@angular/platform-browser-dynamic":"20.3.16","@angular/router":"20.3.16","@fortawesome/fontawesome-free":"7.1.0","@ngrx/effects":"20.1.0","@ngrx/entity":"20.1.0","@ngrx/store":"20.1.0","@ngrx/store-devtools":"20.1.0","@ngx-translate/core":"17.0.0","@primeuix/themes":"^2.0.3","chart.js":"4.5.1","file-saver":"2.0.5","flag-icons":"7.5.0","ipaddr.js":"2.3.0",nanoid:"5.1.6","ngx-cookie-service":"20.1.1","ngx-markdown":"20.1.0","ngx-translate-multi-http-loader":"20.0.0",openpgp:"6.3.0",postcss:"^8.5.6",primeflex:"4.0.0",primeicons:"7.0.0",primeng:"20.4.0",rxjs:"7.8.2","socket.io-client":"4.8.3"},devDependencies:{"@angular-devkit/build-angular":"20.3.14","@angular/cli":"21.1.0","@angular/compiler-cli":"20.3.16","@angular/language-service":"20.3.16","@tailwindcss/postcss":"^4.1.18","@types/jest":"30.0.0","@types/mocha":"10.0.10","@types/node":"25.0.9","angular-eslint":"20.7.0",eslint:"9.39.2","fs-extra":"11.3.3",tailwindcss:"^4.1.18","ts-node":"10.9.2",tslib:"2.8.1",typescript:"5.9.3","typescript-eslint":"8.53.1"}}});var Oc=ZO((J7,VI)=>{(function(i){"use strict";let n="(0?\\d+|0x[a-f0-9]+)",e={fourOctet:new RegExp(`^${n}\\.${n}\\.${n}\\.${n}$`,"i"),threeOctet:new RegExp(`^${n}\\.${n}\\.${n}$`,"i"),twoOctet:new RegExp(`^${n}\\.${n}$`,"i"),longValue:new RegExp(`^${n}$`,"i")},t=new RegExp("^0[0-7]+$","i"),o=new RegExp("^0x[a-f0-9]+$","i"),r="%[0-9a-z]{1,}",s="(?:[0-9a-f]+::?)+",a={zoneIndex:new RegExp(r,"i"),native:new RegExp(`^(::)?(${s})?([0-9a-f]+)?(::)?(${r})?$`,"i"),deprecatedTransitional:new RegExp(`^(?:::)(${n}\\.${n}\\.${n}\\.${n}(${r})?)$`,"i"),transitional:new RegExp(`^((?:${s})|(?:::)(?:${s})?)${n}\\.${n}\\.${n}\\.${n}(${r})?$`,"i")};function l(g,y){if(g.indexOf("::")!==g.lastIndexOf("::"))return null;let v=0,S=-1,I=(g.match(a.zoneIndex)||[])[0],P,L;for(I&&(I=I.substring(1),g=g.replace(/%.+$/,""));(S=g.indexOf(":",S+1))>=0;)v++;if(g.substr(0,2)==="::"&&v--,g.substr(-2,2)==="::"&&v--,v>y)return null;for(L=y-v,P=":";L--;)P+="0:";return g=g.replace("::",P),g[0]===":"&&(g=g.slice(1)),g[g.length-1]===":"&&(g=g.slice(0,-1)),y=(function(){let F=g.split(":"),K=[];for(let le=0;le<F.length;le++)K.push(parseInt(F[le],16));return K})(),{parts:y,zoneId:I}}function c(g,y,v,S){if(g.length!==y.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");let I=0,P;for(;S>0;){if(P=v-S,P<0&&(P=0),g[I]>>P!==y[I]>>P)return!1;S-=v,I+=1}return!0}function d(g){if(o.test(g))return parseInt(g,16);if(g[0]==="0"&&!isNaN(parseInt(g[1],10))){if(t.test(g))return parseInt(g,8);throw new Error(`ipaddr: cannot parse ${g} as octal`)}return parseInt(g,10)}function u(g,y){for(;g.length<y;)g=`0${g}`;return g}let m={};m.IPv4=(function(){function g(y){if(y.length!==4)throw new Error("ipaddr: ipv4 octet count should be 4");let v,S;for(v=0;v<y.length;v++)if(S=y[v],!(0<=S&&S<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=y}return g.prototype.SpecialRanges={unspecified:[[new g([0,0,0,0]),8]],broadcast:[[new g([255,255,255,255]),32]],multicast:[[new g([224,0,0,0]),4]],linkLocal:[[new g([169,254,0,0]),16]],loopback:[[new g([127,0,0,0]),8]],carrierGradeNat:[[new g([100,64,0,0]),10]],private:[[new g([10,0,0,0]),8],[new g([172,16,0,0]),12],[new g([192,168,0,0]),16]],reserved:[[new g([192,0,0,0]),24],[new g([192,0,2,0]),24],[new g([192,88,99,0]),24],[new g([198,18,0,0]),15],[new g([198,51,100,0]),24],[new g([203,0,113,0]),24],[new g([240,0,0,0]),4]],as112:[[new g([192,175,48,0]),24],[new g([192,31,196,0]),24]],amt:[[new g([192,52,193,0]),24]]},g.prototype.kind=function(){return"ipv4"},g.prototype.match=function(y,v){let S;if(v===void 0&&(S=y,y=S[0],v=S[1]),y.kind()!=="ipv4")throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return c(this.octets,y.octets,8,v)},g.prototype.prefixLengthFromSubnetMask=function(){let y=0,v=!1,S={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},I,P,L;for(I=3;I>=0;I-=1)if(P=this.octets[I],P in S){if(L=S[P],v&&L!==0)return null;L!==8&&(v=!0),y+=L}else return null;return 32-y},g.prototype.range=function(){return m.subnetMatch(this,this.SpecialRanges)},g.prototype.toByteArray=function(){return this.octets.slice(0)},g.prototype.toIPv4MappedAddress=function(){return m.IPv6.parse(`::ffff:${this.toString()}`)},g.prototype.toNormalizedString=function(){return this.toString()},g.prototype.toString=function(){return this.octets.join(".")},g})(),m.IPv4.broadcastAddressFromCIDR=function(g){try{let y=this.parseCIDR(g),v=y[0].toByteArray(),S=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),I=[],P=0;for(;P<4;)I.push(parseInt(v[P],10)|parseInt(S[P],10)^255),P++;return new this(I)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},m.IPv4.isIPv4=function(g){return this.parser(g)!==null},m.IPv4.isValid=function(g){try{return new this(this.parser(g)),!0}catch{return!1}},m.IPv4.isValidCIDR=function(g){try{return this.parseCIDR(g),!0}catch{return!1}},m.IPv4.isValidFourPartDecimal=function(g){return!!(m.IPv4.isValid(g)&&g.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},m.IPv4.isValidCIDRFourPartDecimal=function(g){let y=g.match(/^(.+)\/(\d+)$/);return!m.IPv4.isValidCIDR(g)||!y?!1:m.IPv4.isValidFourPartDecimal(y[1])},m.IPv4.networkAddressFromCIDR=function(g){let y,v,S,I,P;try{for(y=this.parseCIDR(g),S=y[0].toByteArray(),P=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),I=[],v=0;v<4;)I.push(parseInt(S[v],10)&parseInt(P[v],10)),v++;return new this(I)}catch{throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},m.IPv4.parse=function(g){let y=this.parser(g);if(y===null)throw new Error("ipaddr: string is not formatted like an IPv4 Address");return new this(y)},m.IPv4.parseCIDR=function(g){let y;if(y=g.match(/^(.+)\/(\d+)$/)){let v=parseInt(y[2]);if(v>=0&&v<=32){let S=[this.parse(y[1]),v];return Object.defineProperty(S,"toString",{value:function(){return this.join("/")}}),S}}throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},m.IPv4.parser=function(g){let y,v,S;if(y=g.match(e.fourOctet))return(function(){let I=y.slice(1,6),P=[];for(let L=0;L<I.length;L++)v=I[L],P.push(d(v));return P})();if(y=g.match(e.longValue)){if(S=d(y[1]),S>4294967295||S<0)throw new Error("ipaddr: address outside defined range");return(function(){let I=[],P;for(P=0;P<=24;P+=8)I.push(S>>P&255);return I})().reverse()}else return(y=g.match(e.twoOctet))?(function(){let I=y.slice(1,4),P=[];if(S=d(I[1]),S>16777215||S<0)throw new Error("ipaddr: address outside defined range");return P.push(d(I[0])),P.push(S>>16&255),P.push(S>>8&255),P.push(S&255),P})():(y=g.match(e.threeOctet))?(function(){let I=y.slice(1,5),P=[];if(S=d(I[2]),S>65535||S<0)throw new Error("ipaddr: address outside defined range");return P.push(d(I[0])),P.push(d(I[1])),P.push(S>>8&255),P.push(S&255),P})():null},m.IPv4.subnetMaskFromPrefixLength=function(g){if(g=parseInt(g),g<0||g>32)throw new Error("ipaddr: invalid IPv4 prefix length");let y=[0,0,0,0],v=0,S=Math.floor(g/8);for(;v<S;)y[v]=255,v++;return S<4&&(y[S]=Math.pow(2,g%8)-1<<8-g%8),new this(y)},m.IPv6=(function(){function g(y,v){let S,I;if(y.length===16)for(this.parts=[],S=0;S<=14;S+=2)this.parts.push(y[S]<<8|y[S+1]);else if(y.length===8)this.parts=y;else throw new Error("ipaddr: ipv6 part count should be 8 or 16");for(S=0;S<this.parts.length;S++)if(I=this.parts[S],!(0<=I&&I<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");v&&(this.zoneId=v)}return g.prototype.SpecialRanges={unspecified:[new g([0,0,0,0,0,0,0,0]),128],linkLocal:[new g([65152,0,0,0,0,0,0,0]),10],multicast:[new g([65280,0,0,0,0,0,0,0]),8],loopback:[new g([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new g([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new g([0,0,0,0,0,65535,0,0]),96],discard:[new g([256,0,0,0,0,0,0,0]),64],rfc6145:[new g([0,0,0,0,65535,0,0,0]),96],rfc6052:[new g([100,65435,0,0,0,0,0,0]),96],"6to4":[new g([8194,0,0,0,0,0,0,0]),16],teredo:[new g([8193,0,0,0,0,0,0,0]),32],benchmarking:[new g([8193,2,0,0,0,0,0,0]),48],amt:[new g([8193,3,0,0,0,0,0,0]),32],as112v6:[[new g([8193,4,274,0,0,0,0,0]),48],[new g([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new g([8193,16,0,0,0,0,0,0]),28],orchid2:[new g([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new g([8193,48,0,0,0,0,0,0]),28],reserved:[[new g([8193,0,0,0,0,0,0,0]),23],[new g([8193,3512,0,0,0,0,0,0]),32]]},g.prototype.isIPv4MappedAddress=function(){return this.range()==="ipv4Mapped"},g.prototype.kind=function(){return"ipv6"},g.prototype.match=function(y,v){let S;if(v===void 0&&(S=y,y=S[0],v=S[1]),y.kind()!=="ipv6")throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return c(this.parts,y.parts,16,v)},g.prototype.prefixLengthFromSubnetMask=function(){let y=0,v=!1,S={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},I,P;for(let L=7;L>=0;L-=1)if(I=this.parts[L],I in S){if(P=S[I],v&&P!==0)return null;P!==16&&(v=!0),y+=P}else return null;return 128-y},g.prototype.range=function(){return m.subnetMatch(this,this.SpecialRanges)},g.prototype.toByteArray=function(){let y,v=[],S=this.parts;for(let I=0;I<S.length;I++)y=S[I],v.push(y>>8),v.push(y&255);return v},g.prototype.toFixedLengthString=function(){let y=(function(){let S=[];for(let I=0;I<this.parts.length;I++)S.push(u(this.parts[I].toString(16),4));return S}).call(this).join(":"),v="";return this.zoneId&&(v=`%${this.zoneId}`),y+v},g.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let y=this.parts.slice(-2),v=y[0],S=y[1];return new m.IPv4([v>>8,v&255,S>>8,S&255])},g.prototype.toNormalizedString=function(){let y=(function(){let S=[];for(let I=0;I<this.parts.length;I++)S.push(this.parts[I].toString(16));return S}).call(this).join(":"),v="";return this.zoneId&&(v=`%${this.zoneId}`),y+v},g.prototype.toRFC5952String=function(){let y=/((^|:)(0(:|$)){2,})/g,v=this.toNormalizedString(),S=0,I=-1,P;for(;P=y.exec(v);)P[0].length>I&&(S=P.index,I=P[0].length);return I<0?v:`${v.substring(0,S)}::${v.substring(S+I)}`},g.prototype.toString=function(){return this.toRFC5952String()},g})(),m.IPv6.broadcastAddressFromCIDR=function(g){try{let y=this.parseCIDR(g),v=y[0].toByteArray(),S=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),I=[],P=0;for(;P<16;)I.push(parseInt(v[P],10)|parseInt(S[P],10)^255),P++;return new this(I)}catch(y){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${y})`)}},m.IPv6.isIPv6=function(g){return this.parser(g)!==null},m.IPv6.isValid=function(g){if(typeof g=="string"&&g.indexOf(":")===-1)return!1;try{let y=this.parser(g);return new this(y.parts,y.zoneId),!0}catch{return!1}},m.IPv6.isValidCIDR=function(g){if(typeof g=="string"&&g.indexOf(":")===-1)return!1;try{return this.parseCIDR(g),!0}catch{return!1}},m.IPv6.networkAddressFromCIDR=function(g){let y,v,S,I,P;try{for(y=this.parseCIDR(g),S=y[0].toByteArray(),P=this.subnetMaskFromPrefixLength(y[1]).toByteArray(),I=[],v=0;v<16;)I.push(parseInt(S[v],10)&parseInt(P[v],10)),v++;return new this(I)}catch(L){throw new Error(`ipaddr: the address does not have IPv6 CIDR format (${L})`)}},m.IPv6.parse=function(g){let y=this.parser(g);if(y.parts===null)throw new Error("ipaddr: string is not formatted like an IPv6 Address");return new this(y.parts,y.zoneId)},m.IPv6.parseCIDR=function(g){let y,v,S;if((v=g.match(/^(.+)\/(\d+)$/))&&(y=parseInt(v[2]),y>=0&&y<=128))return S=[this.parse(v[1]),y],Object.defineProperty(S,"toString",{value:function(){return this.join("/")}}),S;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},m.IPv6.parser=function(g){let y,v,S,I,P,L;if(S=g.match(a.deprecatedTransitional))return this.parser(`::ffff:${S[1]}`);if(a.native.test(g))return l(g,8);if((S=g.match(a.transitional))&&(L=S[6]||"",y=S[1],S[1].endsWith("::")||(y=y.slice(0,-1)),y=l(y+L,6),y.parts)){for(P=[parseInt(S[2]),parseInt(S[3]),parseInt(S[4]),parseInt(S[5])],v=0;v<P.length;v++)if(I=P[v],!(0<=I&&I<=255))return null;return y.parts.push(P[0]<<8|P[1]),y.parts.push(P[2]<<8|P[3]),{parts:y.parts,zoneId:y.zoneId}}return null},m.IPv6.subnetMaskFromPrefixLength=function(g){if(g=parseInt(g),g<0||g>128)throw new Error("ipaddr: invalid IPv6 prefix length");let y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,S=Math.floor(g/8);for(;v<S;)y[v]=255,v++;return S<16&&(y[S]=Math.pow(2,g%8)-1<<8-g%8),new this(y)},m.fromByteArray=function(g){let y=g.length;if(y===4)return new m.IPv4(g);if(y===16)return new m.IPv6(g);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},m.isValid=function(g){return m.IPv6.isValid(g)||m.IPv4.isValid(g)},m.isValidCIDR=function(g){return m.IPv6.isValidCIDR(g)||m.IPv4.isValidCIDR(g)},m.parse=function(g){if(m.IPv6.isValid(g))return m.IPv6.parse(g);if(m.IPv4.isValid(g))return m.IPv4.parse(g);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},m.parseCIDR=function(g){try{return m.IPv6.parseCIDR(g)}catch{try{return m.IPv4.parseCIDR(g)}catch{throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},m.process=function(g){let y=this.parse(g);return y.kind()==="ipv6"&&y.isIPv4MappedAddress()?y.toIPv4Address():y},m.subnetMatch=function(g,y,v){let S,I,P,L;v==null&&(v="unicast");for(I in y)if(Object.prototype.hasOwnProperty.call(y,I)){for(P=y[I],P[0]&&!(P[0]instanceof Array)&&(P=[P]),S=0;S<P.length;S++)if(L=P[S],g.kind()===L[0].kind()&&g.match.apply(g,L))return I}return v},typeof VI<"u"&&VI.exports?VI.exports=m:i.ipaddr=m})(J7)});var Kd=ZO((p3,u3)=>{(function(i,n){typeof define=="function"&&define.amd?define([],n):typeof p3<"u"?n():(n(),i.FileSaver={})})(p3,function(){"use strict";function i(a,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function n(a,l,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){s(d.response,l,c)},d.onerror=function(){console.error("could not download file")},d.send()}function e(a){var l=new XMLHttpRequest;l.open("HEAD",a,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function t(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(l)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(a,l,c){var d=o.URL||o.webkitURL,u=document.createElement("a");l=l||a.name||"download",u.download=l,u.rel="noopener",typeof a=="string"?(u.href=a,u.origin===location.origin?t(u):e(u.href)?n(a,l,c):t(u,u.target="_blank")):(u.href=d.createObjectURL(a),setTimeout(function(){d.revokeObjectURL(u.href)},4e4),setTimeout(function(){t(u)},0))}:"msSaveOrOpenBlob"in navigator?function(a,l,c){if(l=l||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(i(a,c),l);else if(e(a))n(a,l,c);else{var d=document.createElement("a");d.href=a,d.target="_blank",setTimeout(function(){t(d)})}}:function(a,l,c,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof a=="string")return n(a,l,c);var u=a.type==="application/octet-stream",m=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||u&&m||r)&&typeof FileReader<"u"){var y=new FileReader;y.onloadend=function(){var I=y.result;I=g?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=I:location=I,d=null},y.readAsDataURL(a)}else{var v=o.URL||o.webkitURL,S=v.createObjectURL(a);d?d.location=S:location.href=S,d=null,setTimeout(function(){v.revokeObjectURL(S)},4e4)}});o.saveAs=s.saveAs=s,typeof u3<"u"&&(u3.exports=s)})});var eR;function Lw(){return eR}function $c(i){let n=eR;return eR=i,n}var oB=Symbol("NotFound");function Em(i){return i===oB||i?.name==="\u0275NotFound"}var qs=null,Mw=!1,tR=1,Lte=null,Zr=Symbol("SIGNAL");function Ri(i){let n=qs;return qs=i,n}function jw(){return qs}var Kh={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qh(i){if(Mw)throw new Error("");if(qs===null)return;qs.consumerOnSignalRead(i);let n=qs.producersTail;if(n!==void 0&&n.producer===i)return;let e,t=qs.recomputing;if(t&&(e=n!==void 0?n.nextProducer:qs.producers,e!==void 0&&e.producer===i)){qs.producersTail=e,e.lastReadVersion=i.version;return}let o=i.consumersTail;if(o!==void 0&&o.consumer===qs&&(!t||Bte(o,qs)))return;let r=Om(qs),s={producer:i,consumer:qs,nextProducer:e,prevConsumer:o,lastReadVersion:i.version,nextConsumer:void 0};qs.producersTail=s,n!==void 0?n.nextProducer=s:qs.producers=s,r&&lB(i,s)}function rB(){tR++}function Gw(i){if(!(Om(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===tR)){if(!i.producerMustRecompute(i)&&!Tm(i)){Uw(i);return}i.producerRecomputeValue(i),Uw(i)}}function iR(i){if(i.consumers===void 0)return;let n=Mw;Mw=!0;try{for(let e=i.consumers;e!==void 0;e=e.nextConsumer){let t=e.consumer;t.dirty||Mte(t)}}finally{Mw=n}}function nR(){return qs?.consumerAllowSignalWrites!==!1}function Mte(i){i.dirty=!0,iR(i),i.consumerMarkedDirty?.(i)}function Uw(i){i.dirty=!1,i.lastCleanEpoch=tR}function Jh(i){return i&&sB(i),Ri(i)}function sB(i){i.producersTail=void 0,i.recomputing=!0}function xm(i,n){Ri(n),i&&aB(i)}function aB(i){i.recomputing=!1;let n=i.producersTail,e=n!==void 0?n.nextProducer:i.producers;if(e!==void 0){if(Om(i))do e=oR(e);while(e!==void 0);n!==void 0?n.nextProducer=void 0:i.producers=void 0}}function Tm(i){for(let n=i.producers;n!==void 0;n=n.nextProducer){let e=n.producer,t=n.lastReadVersion;if(t!==e.version||(Gw(e),t!==e.version))return!0}return!1}function Qh(i){if(Om(i)){let n=i.producers;for(;n!==void 0;)n=oR(n)}i.producers=void 0,i.producersTail=void 0,i.consumers=void 0,i.consumersTail=void 0}function lB(i,n){let e=i.consumersTail,t=Om(i);if(e!==void 0?(n.nextConsumer=e.nextConsumer,e.nextConsumer=n):(n.nextConsumer=void 0,i.consumers=n),n.prevConsumer=e,i.consumersTail=n,!t)for(let o=i.producers;o!==void 0;o=o.nextProducer)lB(o.producer,o)}function oR(i){let n=i.producer,e=i.nextProducer,t=i.nextConsumer,o=i.prevConsumer;if(i.nextConsumer=void 0,i.prevConsumer=void 0,t!==void 0?t.prevConsumer=o:n.consumersTail=o,o!==void 0)o.nextConsumer=t;else if(n.consumers=t,!Om(n)){let r=n.producers;for(;r!==void 0;)r=oR(r)}return e}function Om(i){return i.consumerIsAlwaysLive||i.consumers!==void 0}function Hw(i){Lte?.(i)}function Bte(i,n){let e=n.producersTail;if(e!==void 0){let t=n.producers;do{if(t===i)return!0;if(t===e)break;t=t.nextProducer}while(t!==void 0)}return!1}function zw(i,n){return Object.is(i,n)}function A0(i,n){let e=Object.create(Vte);e.computation=i,n!==void 0&&(e.equal=n);let t=()=>{if(Gw(e),qh(e),e.value===P0)throw e.error;return e.value};return t[Zr]=e,Hw(e),t}var Bw=Symbol("UNSET"),Vw=Symbol("COMPUTING"),P0=Symbol("ERRORED"),Vte=Fe(ee({},Kh),{value:Bw,dirty:!0,error:null,equal:zw,kind:"computed",producerMustRecompute(i){return i.value===Bw||i.value===Vw},producerRecomputeValue(i){if(i.value===Vw)throw new Error("");let n=i.value;i.value=Vw;let e=Jh(i),t,o=!1;try{t=i.computation(),Ri(null),o=n!==Bw&&n!==P0&&t!==P0&&i.equal(n,t)}catch(r){t=P0,i.error=r}finally{xm(i,e)}if(o){i.value=n;return}i.value=t,i.version++}});function Ute(){throw new Error}var cB=Ute;function dB(i){cB(i)}function rR(i){cB=i}var jte=null;function sR(i,n){let e=Object.create(Ww);e.value=i,n!==void 0&&(e.equal=n);let t=()=>pB(e);return t[Zr]=e,Hw(e),[t,s=>Yh(e,s),s=>aR(e,s)]}function pB(i){return qh(i),i.value}function Yh(i,n){nR()||dB(i),i.equal(i.value,n)||(i.value=n,Gte(i))}function aR(i,n){nR()||dB(i),Yh(i,n(i.value))}var Ww=Fe(ee({},Kh),{equal:zw,value:void 0,kind:"signal"});function Gte(i){i.version++,rB(),iR(i),jte?.(i)}function Vi(i){return typeof i=="function"}function au(i){let e=i(t=>{Error.call(t),t.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var $w=au(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((t,o)=>`${o+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Xh(i,n){if(i){let e=i.indexOf(n);0<=e&&i.splice(e,1)}}var On=class i{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:t}=this;if(Vi(t))try{t()}catch(r){n=r instanceof $w?r.errors:[r]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let r of o)try{uB(r)}catch(s){n=n??[],s instanceof $w?n=[...n,...s.errors]:n.push(s)}}if(n)throw new $w(n)}}add(n){var e;if(n&&n!==this)if(this.closed)uB(n);else{if(n instanceof i){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Xh(e,n)}remove(n){let{_finalizers:e}=this;e&&Xh(e,n),n instanceof i&&n._removeParent(this)}};On.EMPTY=(()=>{let i=new On;return i.closed=!0,i})();var lR=On.EMPTY;function Kw(i){return i instanceof On||i&&"closed"in i&&Vi(i.remove)&&Vi(i.add)&&Vi(i.unsubscribe)}function uB(i){Vi(i)?i():i.unsubscribe()}var Zl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rm={setTimeout(i,n,...e){let{delegate:t}=Rm;return t?.setTimeout?t.setTimeout(i,n,...e):setTimeout(i,n,...e)},clearTimeout(i){let{delegate:n}=Rm;return(n?.clearTimeout||clearTimeout)(i)},delegate:void 0};function qw(i){Rm.setTimeout(()=>{let{onUnhandledError:n}=Zl;if(n)n(i);else throw i})}function ec(){}var hB=cR("C",void 0,void 0);function fB(i){return cR("E",void 0,i)}function mB(i){return cR("N",i,void 0)}function cR(i,n,e){return{kind:i,value:n,error:e}}var Zh=null;function Dm(i){if(Zl.useDeprecatedSynchronousErrorHandling){let n=!Zh;if(n&&(Zh={errorThrown:!1,error:null}),i(),n){let{errorThrown:e,error:t}=Zh;if(Zh=null,e)throw t}}else i()}function gB(i){Zl.useDeprecatedSynchronousErrorHandling&&Zh&&(Zh.errorThrown=!0,Zh.error=i)}var ef=class extends On{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Kw(n)&&n.add(this)):this.destination=Wte}static create(n,e,t){return new tc(n,e,t)}next(n){this.isStopped?pR(mB(n),this):this._next(n)}error(n){this.isStopped?pR(fB(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?pR(hB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Hte=Function.prototype.bind;function dR(i,n){return Hte.call(i,n)}var uR=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(t){Jw(t)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(t){Jw(t)}else Jw(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Jw(e)}}},tc=class extends ef{constructor(n,e,t){super();let o;if(Vi(n)||!n)o={next:n??void 0,error:e??void 0,complete:t??void 0};else{let r;this&&Zl.useDeprecatedNextContext?(r=Object.create(n),r.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&dR(n.next,r),error:n.error&&dR(n.error,r),complete:n.complete&&dR(n.complete,r)}):o=n}this.destination=new uR(o)}};function Jw(i){Zl.useDeprecatedSynchronousErrorHandling?gB(i):qw(i)}function zte(i){throw i}function pR(i,n){let{onStoppedNotification:e}=Zl;e&&Rm.setTimeout(()=>e(i,n))}var Wte={closed:!0,next:ec,error:zte,complete:ec};var Pm=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ds(i){return i}function hR(...i){return fR(i)}function fR(i){return i.length===0?Ds:i.length===1?i[0]:function(e){return i.reduce((t,o)=>o(t),e)}}var pi=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let t=new i;return t.source=this,t.operator=e,t}subscribe(e,t,o){let r=Kte(e)?e:new tc(e,t,o);return Dm(()=>{let{operator:s,source:a}=this;r.add(s?s.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return t=_B(t),new t((o,r)=>{let s=new tc({next:a=>{try{e(a)}catch(l){r(l),s.unsubscribe()}},error:r,complete:o});this.subscribe(s)})}_subscribe(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)}[Pm](){return this}pipe(...e){return fR(e)(this)}toPromise(e){return e=_B(e),new e((t,o)=>{let r;this.subscribe(s=>r=s,s=>o(s),()=>t(r))})}}return i.create=n=>new i(n),i})();function _B(i){var n;return(n=i??Zl.Promise)!==null&&n!==void 0?n:Promise}function $te(i){return i&&Vi(i.next)&&Vi(i.error)&&Vi(i.complete)}function Kte(i){return i&&i instanceof ef||$te(i)&&Kw(i)}function mR(i){return Vi(i?.lift)}function Zt(i){return n=>{if(mR(n))return n.lift(function(e){try{return i(e,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gt(i,n,e,t,o){return new k0(i,n,e,t,o)}var k0=class extends ef{constructor(n,e,t,o,r,s){super(n),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Am(){return Zt((i,n)=>{let e=null;i._refCount++;let t=Gt(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let o=i._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}var km=class extends pi{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,mR(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new On;let e=this.getSubject();n.add(this.source.subscribe(Gt(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=On.EMPTY)}return n}refCount(){return Am()(this)}};var Nm={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame,{delegate:t}=Nm;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);let o=n(r=>{e=void 0,i(r)});return new On(()=>e?.(o))},requestAnimationFrame(...i){let{delegate:n}=Nm;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){let{delegate:n}=Nm;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0};var bB=au(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class i extends pi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let t=new Qw(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new bB}next(e){Dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(e)}})}error(e){Dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){Dm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:t,isStopped:o,observers:r}=this;return t||o?lR:(this.currentObservers=null,r.push(e),new On(()=>{this.currentObservers=null,Xh(r,e)}))}_checkFinalizedStatuses(e){let{hasError:t,thrownError:o,isStopped:r}=this;t?e.error(o):r&&e.complete()}asObservable(){let e=new pi;return e.source=this,e}}return i.create=(n,e)=>new Qw(n,e),i})(),Qw=class extends Le{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.next)===null||t===void 0||t.call(e,n)}error(n){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.error)===null||t===void 0||t.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,t;return(t=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&t!==void 0?t:lR}};var _n=class extends Le{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:t}=this;if(n)throw e;return this._throwIfClosed(),t}next(n){super.next(this._value=n)}};var N0={now(){return(N0.delegate||Date).now()},delegate:void 0};var F0=class extends Le{constructor(n=1/0,e=1/0,t=N0){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){let{isStopped:e,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:s}=this;e||(t.push(n),!o&&t.push(r.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(n),{_infiniteTimeWindow:t,_buffer:o}=this,r=o.slice();for(let s=0;s<r.length&&!n.closed;s+=t?1:2)n.next(r[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){let{_bufferSize:n,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:o}=this,r=(o?1:2)*n;if(n<1/0&&r<t.length&&t.splice(0,t.length-r),!o){let s=e.now(),a=0;for(let l=1;l<t.length&&t[l]<=s;l+=2)a=l;a&&t.splice(0,a+1)}}};var Yw=class extends On{constructor(n,e){super()}schedule(n,e=0){return this}};var L0={setInterval(i,n,...e){let{delegate:t}=L0;return t?.setInterval?t.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){let{delegate:n}=L0;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var lu=class extends Yw{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var t;if(this.closed)return this;this.state=n;let o=this.id,r=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=(t=this.id)!==null&&t!==void 0?t:this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,t=0){return L0.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(t!=null&&this.delay===t&&this.pending===!1)return e;e!=null&&L0.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let t=this._execute(n,e);if(t)return t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let t=!1,o;try{this.work(n)}catch(r){t=!0,o=r||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Xh(t,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Fm=class i{constructor(n,e=i.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}};Fm.now=N0.now;var cu=class extends Fm{constructor(n,e=Fm.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let t;this._active=!0;do if(t=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}};var ic=new cu(lu),yB=ic;var Xw=class extends lu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}schedule(n,e=0){return e>0?super.schedule(n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)}execute(n,e){return e>0||this.closed?super.execute(n,e):this._execute(n,e)}requestAsyncId(n,e,t=0){return t!=null&&t>0||t==null&&this.delay>0?super.requestAsyncId(n,e,t):(n.flush(this),0)}};var Zw=class extends cu{};var gR=new Zw(Xw);var eC=class extends lu{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return t!==null&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=Nm.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){var o;if(t!=null?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);let{actions:r}=n;e!=null&&e===n._scheduled&&((o=r[r.length-1])===null||o===void 0?void 0:o.id)!==e&&(Nm.cancelAnimationFrame(e),n._scheduled=void 0)}};var tC=class extends cu{flush(n){this._active=!0;let e;n?e=n.id:(e=this._scheduled,this._scheduled=void 0);let{actions:t}=this,o;n=n||t.shift();do if(o=n.execute(n.state,n.delay))break;while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,o){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw o}}};var iC=new tC(eC);var Ar=new pi(i=>i.complete());function nC(i){return i&&Vi(i.schedule)}function _R(i){return i[i.length-1]}function du(i){return Vi(_R(i))?i.pop():void 0}function Kc(i){return nC(_R(i))?i.pop():void 0}function vB(i,n){return typeof _R(i)=="number"?i.pop():n}function CB(i,n,e,t){function o(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function a(d){try{c(t.next(d))}catch(u){s(u)}}function l(d){try{c(t.throw(d))}catch(u){s(u)}}function c(d){d.done?r(d.value):o(d.value).then(a,l)}c((t=t.apply(i,n||[])).next())})}function wB(i){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function tf(i){return this instanceof tf?(this.v=i,this):new tf(i)}function SB(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e.apply(i,n||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(y){return Promise.resolve(y).then(g,u)}}function a(g,y){t[g]&&(o[g]=function(v){return new Promise(function(S,I){r.push([g,v,S,I])>1||l(g,v)})},y&&(o[g]=y(o[g])))}function l(g,y){try{c(t[g](y))}catch(v){m(r[0][3],v)}}function c(g){g.value instanceof tf?Promise.resolve(g.value.v).then(d,u):m(r[0][2],g)}function d(g){l("next",g)}function u(g){l("throw",g)}function m(g,y){g(y),r.shift(),r.length&&l(r[0][0],r[0][1])}}function IB(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],e;return n?n.call(i):(i=typeof wB=="function"?wB(i):i[Symbol.iterator](),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(r){e[r]=i[r]&&function(s){return new Promise(function(a,l){s=i[r](s),o(a,l,s.done,s.value)})}}function o(r,s,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},s)}}var oC=i=>i&&typeof i.length=="number"&&typeof i!="function";function rC(i){return Vi(i?.then)}function sC(i){return Vi(i[Pm])}function aC(i){return Symbol.asyncIterator&&Vi(i?.[Symbol.asyncIterator])}function lC(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qte(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cC=qte();function dC(i){return Vi(i?.[cC])}function pC(i){return SB(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:t,done:o}=yield tf(e.read());if(o)return yield tf(void 0);yield yield tf(t)}}finally{e.releaseLock()}})}function uC(i){return Vi(i?.getReader)}function Qi(i){if(i instanceof pi)return i;if(i!=null){if(sC(i))return Jte(i);if(oC(i))return Qte(i);if(rC(i))return Yte(i);if(aC(i))return EB(i);if(dC(i))return Xte(i);if(uC(i))return Zte(i)}throw lC(i)}function Jte(i){return new pi(n=>{let e=i[Pm]();if(Vi(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qte(i){return new pi(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}function Yte(i){return new pi(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,qw)})}function Xte(i){return new pi(n=>{for(let e of i)if(n.next(e),n.closed)return;n.complete()})}function EB(i){return new pi(n=>{eie(i,n).catch(e=>n.error(e))})}function Zte(i){return EB(pC(i))}function eie(i,n){var e,t,o,r;return CB(this,void 0,void 0,function*(){try{for(e=IB(i);t=yield e.next(),!t.done;){let s=t.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{t&&!t.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}n.complete()})}function Js(i,n,e,t=0,o=!1){let r=n.schedule(function(){e(),o?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(r),!o)return r}function nf(i,n=0){return Zt((e,t)=>{e.subscribe(Gt(t,o=>Js(t,i,()=>t.next(o),n),()=>Js(t,i,()=>t.complete(),n),o=>Js(t,i,()=>t.error(o),n)))})}function hC(i,n=0){return Zt((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function xB(i,n){return Qi(i).pipe(hC(n),nf(n))}function TB(i,n){return Qi(i).pipe(hC(n),nf(n))}function OB(i,n){return new pi(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}function RB(i,n){return new pi(e=>{let t;return Js(e,n,()=>{t=i[cC](),Js(e,n,()=>{let o,r;try{({value:o,done:r}=t.next())}catch(s){e.error(s);return}r?e.complete():e.next(o)},0,!0)}),()=>Vi(t?.return)&&t.return()})}function fC(i,n){if(!i)throw new Error("Iterable cannot be null");return new pi(e=>{Js(e,n,()=>{let t=i[Symbol.asyncIterator]();Js(e,n,()=>{t.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function DB(i,n){return fC(pC(i),n)}function PB(i,n){if(i!=null){if(sC(i))return xB(i,n);if(oC(i))return OB(i,n);if(rC(i))return TB(i,n);if(aC(i))return fC(i,n);if(dC(i))return RB(i,n);if(uC(i))return DB(i,n)}throw lC(i)}function Rn(i,n){return n?PB(i,n):Qi(i)}function Dt(...i){let n=Kc(i);return Rn(i,n)}function Ya(i,n){let e=Vi(i)?i:()=>i,t=o=>o.error(e());return new pi(n?o=>n.schedule(t,0,o):t)}var pu=class i{constructor(n,e,t){this.kind=n,this.value=e,this.error=t,this.hasValue=n==="N"}observe(n){return bR(this,n)}do(n,e,t){let{kind:o,value:r,error:s}=this;return o==="N"?n?.(r):o==="E"?e?.(s):t?.()}accept(n,e,t){var o;return Vi((o=n)===null||o===void 0?void 0:o.next)?this.observe(n):this.do(n,e,t)}toObservable(){let{kind:n,value:e,error:t}=this,o=n==="N"?Dt(e):n==="E"?Ya(()=>t):n==="C"?Ar:0;if(!o)throw new TypeError(`Unexpected notification kind ${n}`);return o}static createNext(n){return new i("N",n)}static createError(n){return new i("E",void 0,n)}static createComplete(){return i.completeNotification}};pu.completeNotification=new pu("C");function bR(i,n){var e,t,o;let{kind:r,value:s,error:a}=i;if(typeof r!="string")throw new TypeError('Invalid notification, missing "kind"');r==="N"?(e=n.next)===null||e===void 0||e.call(n,s):r==="E"?(t=n.error)===null||t===void 0||t.call(n,a):(o=n.complete)===null||o===void 0||o.call(n)}function nc(i){return!!i&&(i instanceof pi||Vi(i.lift)&&Vi(i.subscribe))}var Xa=au(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function tie(i,n){let e=typeof n=="object";return new Promise((t,o)=>{let r=!1,s;i.subscribe({next:a=>{s=a,r=!0},error:o,complete:()=>{r?t(s):e?t(n.defaultValue):o(new Xa)}})})}function Qd(i,n){let e=typeof n=="object";return new Promise((t,o)=>{let r=new tc({next:s=>{t(s),r.unsubscribe()},error:o,complete:()=>{e?t(n.defaultValue):o(new Xa)}});i.subscribe(r)})}function mC(i){return i instanceof Date&&!isNaN(i)}var iie=au(i=>function(e=null){i(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function nie(i,n){let{first:e,each:t,with:o=oie,scheduler:r=n??ic,meta:s=null}=mC(i)?{first:i}:typeof i=="number"?{each:i}:i;if(e==null&&t==null)throw new TypeError("No timeout provided.");return Zt((a,l)=>{let c,d,u=null,m=0,g=y=>{d=Js(l,r,()=>{try{c.unsubscribe(),Qi(o({meta:s,lastValue:u,seen:m})).subscribe(l)}catch(v){l.error(v)}},y)};c=a.subscribe(Gt(l,y=>{d?.unsubscribe(),m++,l.next(u=y),t>0&&g(t)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),u=null})),!m&&g(e!=null?typeof e=="number"?e:+e-r.now():t)})}function oie(i){throw new iie(i)}function J(i,n){return Zt((e,t)=>{let o=0;e.subscribe(Gt(t,r=>{t.next(i.call(n,r,o++))}))})}var{isArray:rie}=Array;function sie(i,n){return rie(n)?i(...n):i(n)}function gC(i){return J(n=>sie(i,n))}var{isArray:aie}=Array,{getPrototypeOf:lie,prototype:cie,keys:die}=Object;function _C(i){if(i.length===1){let n=i[0];if(aie(n))return{args:n,keys:null};if(pie(n)){let e=die(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}function pie(i){return i&&typeof i=="object"&&lie(i)===cie}function bC(i,n){return i.reduce((e,t,o)=>(e[t]=n[o],e),{})}function M0(...i){let n=Kc(i),e=du(i),{args:t,keys:o}=_C(i);if(t.length===0)return Rn([],n);let r=new pi(uie(t,n,o?s=>bC(o,s):Ds));return e?r.pipe(gC(e)):r}function uie(i,n,e=Ds){return t=>{AB(n,()=>{let{length:o}=i,r=new Array(o),s=o,a=o;for(let l=0;l<o;l++)AB(n,()=>{let c=Rn(i[l],n),d=!1;c.subscribe(Gt(t,u=>{r[l]=u,d||(d=!0,a--),a||t.next(e(r.slice()))},()=>{--s||t.complete()}))},t)},t)}}function AB(i,n,e){i?Js(e,i,n):n()}function kB(i,n,e,t,o,r,s,a){let l=[],c=0,d=0,u=!1,m=()=>{u&&!l.length&&!c&&n.complete()},g=v=>c<t?y(v):l.push(v),y=v=>{r&&n.next(v),c++;let S=!1;Qi(e(v,d++)).subscribe(Gt(n,I=>{o?.(I),r?g(I):n.next(I)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<t;){let I=l.shift();s?Js(n,s,()=>y(I)):y(I)}m()}catch(I){n.error(I)}}))};return i.subscribe(Gt(n,g,()=>{u=!0,m()})),()=>{a?.()}}function Xn(i,n,e=1/0){return Vi(n)?Xn((t,o)=>J((r,s)=>n(t,r,o,s))(Qi(i(t,o))),e):(typeof n=="number"&&(e=n),Zt((t,o)=>kB(t,o,i,e)))}function qc(i=1/0){return Xn(Ds,i)}function NB(){return qc(1)}function oc(...i){return NB()(Rn(i,Kc(i)))}function uu(i){return new pi(n=>{Qi(i()).subscribe(n)})}function B0(...i){let n=du(i),{args:e,keys:t}=_C(i),o=new pi(r=>{let{length:s}=e;if(!s){r.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;Qi(e[d]).subscribe(Gt(r,m=>{u||(u=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!u)&&(c||r.next(t?bC(t,a):a),r.complete())}))}});return n?o.pipe(gC(n)):o}function Yd(i=0,n,e=yB){let t=-1;return n!=null&&(nC(n)?e=n:t=n),new pi(o=>{let r=mC(i)?+i-e.now():i;r<0&&(r=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=t?this.schedule(void 0,t):o.complete())},r)})}function yR(i=0,n=ic){return i<0&&(i=0),Yd(i,i,n)}function of(...i){let n=Kc(i),e=vB(i,1/0),t=i;return t.length?t.length===1?Qi(t[0]):qc(e)(Rn(t,n)):Ar}var{isArray:hie}=Array;function FB(i){return i.length===1&&hie(i[0])?i[0]:i}function Zo(i,n){return Zt((e,t)=>{let o=0;e.subscribe(Gt(t,r=>i.call(n,r,o++)&&t.next(r)))})}function vR(...i){let n=du(i),e=FB(i);return e.length?new pi(t=>{let o=e.map(()=>[]),r=e.map(()=>!1);t.add(()=>{o=r=null});for(let s=0;!t.closed&&s<e.length;s++)Qi(e[s]).subscribe(Gt(t,a=>{if(o[s].push(a),o.every(l=>l.length)){let l=o.map(c=>c.shift());t.next(n?n(...l):l),o.some((c,d)=>!c.length&&r[d])&&t.complete()}},()=>{r[s]=!0,!o[s].length&&t.complete()}));return()=>{o=r=null}}):Ar}function LB(i){return Zt((n,e)=>{let t=!1,o=null,r=null,s=!1,a=()=>{if(r?.unsubscribe(),r=null,t){t=!1;let c=o;o=null,e.next(c)}s&&e.complete()},l=()=>{r=null,s&&e.complete()};n.subscribe(Gt(e,c=>{t=!0,o=c,r||Qi(i(c)).subscribe(r=Gt(e,a,l))},()=>{s=!0,(!t||!r||r.closed)&&e.complete()}))})}function Lm(i,n=ic){return LB(()=>Yd(i,n))}function X(i){return Zt((n,e)=>{let t=null,o=!1,r;t=n.subscribe(Gt(e,void 0,void 0,s=>{r=Qi(i(s,X(i)(n))),t?(t.unsubscribe(),t=null,r.subscribe(e)):o=!0})),o&&(t.unsubscribe(),t=null,r.subscribe(e))})}function MB(i,n,e,t,o){return(r,s)=>{let a=e,l=n,c=0;r.subscribe(Gt(s,d=>{let u=c++;l=a?i(l,d,u):(a=!0,d),t&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}function Tl(i,n){return Vi(n)?Xn(i,n,1):Xn(i,1)}function fie(i){return Zt((n,e)=>{let t=!1,o=null,r=null,s=()=>{if(r?.unsubscribe(),r=null,t){t=!1;let a=o;o=null,e.next(a)}};n.subscribe(Gt(e,a=>{r?.unsubscribe(),t=!0,o=a,r=Gt(e,s,ec),Qi(i(a)).subscribe(r)},()=>{s(),e.complete()},void 0,()=>{o=r=null}))})}function Mm(i,n=ic){return Zt((e,t)=>{let o=null,r=null,s=null,a=()=>{if(o){o.unsubscribe(),o=null;let c=r;r=null,t.next(c)}};function l(){let c=s+i,d=n.now();if(d<c){o=this.schedule(void 0,c-d),t.add(o);return}a()}e.subscribe(Gt(t,c=>{r=c,s=n.now(),o||(o=n.schedule(l,i),t.add(o))},()=>{a(),t.complete()},void 0,()=>{r=o=null}))})}function hu(i){return Zt((n,e)=>{let t=!1;n.subscribe(Gt(e,o=>{t=!0,e.next(o)},()=>{t||e.next(i),e.complete()}))})}function es(i){return i<=0?()=>Ar:Zt((n,e)=>{let t=0;n.subscribe(Gt(e,o=>{++t<=i&&(e.next(o),i<=t&&e.complete())}))})}function wR(){return Zt((i,n)=>{i.subscribe(Gt(n,ec))})}function V0(i){return J(()=>i)}function CR(i,n){return n?e=>oc(n.pipe(es(1),wR()),e.pipe(CR(i))):Xn((e,t)=>Qi(i(e,t)).pipe(es(1),V0(e)))}function mie(i,n=ic){let e=Yd(i,n);return CR(()=>e)}function gie(){return Zt((i,n)=>{i.subscribe(Gt(n,e=>bR(e,n)))})}function Jc(i,n=Ds){return i=i??_ie,Zt((e,t)=>{let o,r=!0;e.subscribe(Gt(t,s=>{let a=n(s);(r||!i(o,a))&&(r=!1,o=a,t.next(s))}))})}function _ie(i,n){return i===n}function yC(i=bie){return Zt((n,e)=>{let t=!1;n.subscribe(Gt(e,o=>{t=!0,e.next(o)},()=>t?e.complete():e.error(i())))})}function bie(){return new Xa}function BB(i,n){return n?e=>e.pipe(BB((t,o)=>Qi(i(t,o)).pipe(J((r,s)=>n(t,r,o,s))))):Zt((e,t)=>{let o=0,r=null,s=!1;e.subscribe(Gt(t,a=>{r||(r=Gt(t,void 0,()=>{r=null,s&&t.complete()}),Qi(i(a,o++)).subscribe(r))},()=>{s=!0,!r&&t.complete()}))})}function fu(i){return Zt((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}function Qc(i,n){let e=arguments.length>=2;return t=>t.pipe(i?Zo((o,r)=>i(o,r,t)):Ds,es(1),e?hu(n):yC(()=>new Xa))}function yie(i,n,e,t){return Zt((o,r)=>{let s;!n||typeof n=="function"?s=n:{duration:e,element:s,connector:t}=n;let a=new Map,l=y=>{a.forEach(y),y(r)},c=y=>l(v=>v.error(y)),d=0,u=!1,m=new k0(r,y=>{try{let v=i(y),S=a.get(v);if(!S){a.set(v,S=t?t():new Le);let I=g(v,S);if(r.next(I),e){let P=Gt(S,()=>{S.complete(),P?.unsubscribe()},void 0,void 0,()=>a.delete(v));m.add(Qi(e(I)).subscribe(P))}}S.next(s?s(y):y)}catch(v){c(v)}},()=>l(y=>y.complete()),c,()=>a.clear(),()=>(u=!0,d===0));o.subscribe(m);function g(y,v){let S=new pi(I=>{d++;let P=v.subscribe(I);return()=>{P.unsubscribe(),--d===0&&u&&m.unsubscribe()}});return S.key=y,S}})}function Bm(i){return i<=0?()=>Ar:Zt((n,e)=>{let t=[];n.subscribe(Gt(e,o=>{t.push(o),i<t.length&&t.shift()},()=>{for(let o of t)e.next(o);e.complete()},void 0,()=>{t=null}))})}function SR(i,n){let e=arguments.length>=2;return t=>t.pipe(i?Zo((o,r)=>i(o,r,t)):Ds,Bm(1),e?hu(n):yC(()=>new Xa))}function vie(){return Zt((i,n)=>{i.subscribe(Gt(n,e=>{n.next(pu.createNext(e))},()=>{n.next(pu.createComplete()),n.complete()},e=>{n.next(pu.createError(e)),n.complete()}))})}function IR(...i){let n=i.length;if(n===0)throw new Error("list of properties cannot be empty.");return J(e=>{let t=e;for(let o=0;o<n;o++){let r=t?.[i[o]];if(typeof r<"u")t=r;else return}return t})}function U0(i,n){return Zt(MB(i,n,arguments.length>=2,!0))}function xR(i={}){let{connector:n=()=>new Le,resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=i;return r=>{let s,a,l,c=0,d=!1,u=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=l=void 0,d=u=!1},y=()=>{let v=s;g(),v?.unsubscribe()};return Zt((v,S)=>{c++,!u&&!d&&m();let I=l=l??n();S.add(()=>{c--,c===0&&!u&&!d&&(a=ER(y,o))}),I.subscribe(S),!s&&c>0&&(s=new tc({next:P=>I.next(P),error:P=>{u=!0,m(),a=ER(g,e,P),I.error(P)},complete:()=>{d=!0,m(),a=ER(g,t),I.complete()}}),Qi(v).subscribe(s))})(r)}}function ER(i,n,...e){if(n===!0){i();return}if(n===!1)return;let t=new tc({next:()=>{t.unsubscribe(),i()}});return Qi(n(...e)).subscribe(t)}function rf(i,n,e){let t,o=!1;return i&&typeof i=="object"?{bufferSize:t=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=i:t=i??1/0,xR({connector:()=>new F0(t,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function wie(i){return Zo((n,e)=>i<=e)}function sf(...i){let n=Kc(i);return Zt((e,t)=>{(n?oc(i,e,n):oc(i,e)).subscribe(t)})}function Bo(i,n){return Zt((e,t)=>{let o=null,r=0,s=!1,a=()=>s&&!o&&t.complete();e.subscribe(Gt(t,l=>{o?.unsubscribe();let c=0,d=r++;Qi(i(l,d)).subscribe(o=Gt(t,u=>t.next(n?n(l,u,d,c++):u),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ta(i){return Zt((n,e)=>{Qi(i).subscribe(Gt(e,()=>e.complete(),ec)),!e.closed&&n.subscribe(e)})}function Nt(i,n=!1){return Zt((e,t)=>{let o=0;e.subscribe(Gt(t,r=>{let s=i(r,o++);(s||n)&&t.next(r),!s&&t.complete()}))})}function kr(i,n,e){let t=Vi(i)||n||e?{next:i,error:n,complete:e}:i;return t?Zt((o,r)=>{var s;(s=t.subscribe)===null||s===void 0||s.call(t);let a=!0;o.subscribe(Gt(r,l=>{var c;(c=t.next)===null||c===void 0||c.call(t,l),r.next(l)},()=>{var l;a=!1,(l=t.complete)===null||l===void 0||l.call(t),r.complete()},l=>{var c;a=!1,(c=t.error)===null||c===void 0||c.call(t,l),r.error(l)},()=>{var l,c;a&&((l=t.unsubscribe)===null||l===void 0||l.call(t)),(c=t.finalize)===null||c===void 0||c.call(t)}))}):Ds}function TR(...i){let n=du(i);return Zt((e,t)=>{let o=i.length,r=new Array(o),s=i.map(()=>!1),a=!1;for(let l=0;l<o;l++)Qi(i[l]).subscribe(Gt(t,c=>{r[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Ds))&&(s=null))},ec));e.subscribe(Gt(t,l=>{if(a){let c=[l,...r];t.next(n?n(...c):c)}}))})}function VB(i){let n=Ri(null);try{return i()}finally{Ri(n)}}var UB=Fe(ee({},Kh),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function jB(i){if(i.dirty=!1,i.version>0&&!Tm(i))return;i.version++;let n=Jh(i);try{i.cleanup(),i.fn()}finally{xm(i,n)}}var SC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ot=class extends Error{code;constructor(n,e){super(Ol(n,e)),this.code=n}};function Cie(i){return`NG0${Math.abs(i)}`}function Ol(i,n){return`${Cie(i)}${n?": "+n:""}`}var Nr=globalThis;function Wn(i){for(let n in i)if(i[n]===Wn)return n;throw Error("")}function zB(i,n){for(let e in n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=n[e])}function Zd(i){if(typeof i=="string")return i;if(Array.isArray(i))return`[${i.map(Zd).join(", ")}]`;if(i==null)return""+i;let n=i.overriddenName||i.name;if(n)return`${n}`;let e=i.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t>=0?e.slice(0,t):e}function IC(i,n){return i?n?`${i} ${n}`:i:n||""}var Sie=Wn({__forward_ref__:Wn});function Xt(i){return i.__forward_ref__=Xt,i.toString=function(){return Zd(this())},i}function ts(i){return VR(i)?i():i}function VR(i){return typeof i=="function"&&i.hasOwnProperty(Sie)&&i.__forward_ref__===Xt}function ne(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ve(i){return{providers:i.providers||[],imports:i.imports||[]}}function W0(i){return Iie(i,EC)}function UR(i){return W0(i)!==null}function Iie(i,n){return i.hasOwnProperty(n)&&i[n]||null}function Eie(i){let n=i?.[EC]??null;return n||null}function RR(i){return i&&i.hasOwnProperty(wC)?i[wC]:null}var EC=Wn({\u0275prov:Wn}),wC=Wn({\u0275inj:Wn}),he=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,e){this._desc=n,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=ne({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jR(i){return i&&!!i.\u0275providers}var GR=Wn({\u0275cmp:Wn}),HR=Wn({\u0275dir:Wn}),zR=Wn({\u0275pipe:Wn}),WR=Wn({\u0275mod:Wn}),G0=Wn({\u0275fac:Wn}),pf=Wn({__NG_ELEMENT_ID__:Wn}),GB=Wn({__NG_ENV_ID__:Wn});function Rl(i){return typeof i=="string"?i:i==null?"":String(i)}function WB(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Rl(i)}var $B=Wn({ngErrorCode:Wn}),xie=Wn({ngErrorMessage:Wn}),Tie=Wn({ngTokenPath:Wn});function $R(i,n){return KB("",-200,n)}function xC(i,n){throw new ot(-201,!1)}function KB(i,n,e){let t=new ot(n,i);return t[$B]=n,t[xie]=i,e&&(t[Tie]=e),t}function Oie(i){return i[$B]}var DR;function qB(){return DR}function pa(i){let n=DR;return DR=i,n}function KR(i,n,e){let t=W0(i);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(e&8)return null;if(n!==void 0)return n;xC(i,"Injector")}var Rie={},af=Rie,PR="__NG_DI_FLAG__",AR=class{injector;constructor(n){this.injector=n}retrieve(n,e){let t=lf(e)||0;try{return this.injector.get(n,t&8?null:af,t)}catch(o){if(Em(o))return o;throw o}}};function Die(i,n=0){let e=Lw();if(e===void 0)throw new ot(-203,!1);if(e===null)return KR(i,void 0,n);{let t=Pie(n),o=e.retrieve(i,t);if(Em(o)){if(t.optional)return null;throw o}return o}}function be(i,n=0){return(qB()||Die)(ts(i),n)}function z(i,n){return be(i,lf(n))}function lf(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Pie(i){return{optional:!!(i&8),host:!!(i&1),self:!!(i&2),skipSelf:!!(i&4)}}function kR(i){let n=[];for(let e=0;e<i.length;e++){let t=ts(i[e]);if(Array.isArray(t)){if(t.length===0)throw new ot(900,!1);let o,r=0;for(let s=0;s<t.length;s++){let a=t[s],l=Aie(a);typeof l=="number"?l===-1?o=a.token:r|=l:o=a}n.push(be(o,r))}else n.push(be(t))}return n}function JB(i,n){return i[PR]=n,i.prototype[PR]=n,i}function Aie(i){return i[PR]}function mu(i,n){let e=i.hasOwnProperty(G0);return e?i[G0]:null}function QB(i,n,e){if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){let o=i[t],r=n[t];if(e&&(o=e(o),r=e(r)),r!==o)return!1}return!0}function YB(i){return i.flat(Number.POSITIVE_INFINITY)}function TC(i,n){i.forEach(e=>Array.isArray(e)?TC(e,n):n(e))}function qR(i,n,e){n>=i.length?i.push(e):i.splice(n,0,e)}function $0(i,n){return n>=i.length-1?i.pop():i.splice(n,1)[0]}function XB(i,n){let e=[];for(let t=0;t<i;t++)e.push(n);return e}function ZB(i,n,e,t){let o=i.length;if(o==n)i.push(e,t);else if(o===1)i.push(t,i[0]),i[0]=e;else{for(o--,i.push(i[o-1],i[o]);o>n;){let r=o-2;i[o]=i[r],o--}i[n]=e,i[n+1]=t}}function K0(i,n,e){let t=Um(i,n);return t>=0?i[t|1]=e:(t=~t,ZB(i,t,n,e)),t}function OC(i,n){let e=Um(i,n);if(e>=0)return i[e|1]}function Um(i,n){return kie(i,n,1)}function kie(i,n,e){let t=0,o=i.length>>e;for(;o!==t;){let r=t+(o-t>>1),s=i[r<<e];if(n===s)return r<<e;s>n?o=r:t=r+1}return~(o<<e)}var sc={},Qs=[],Yc=new he(""),JR=new he("",-1),QR=new he(""),H0=class{get(n,e=af){if(e===af){let o=KB("",-201);throw o.name="\u0275NotFound",o}return e}};function YR(i){return i[WR]||null}function Xc(i){return i[GR]||null}function RC(i){return i[HR]||null}function XR(i){return i[zR]||null}function Zc(i){return{\u0275providers:i}}function DC(i){return Zc([{provide:Yc,multi:!0,useValue:i}])}function eV(...i){return{\u0275providers:ZR(!0,i),\u0275fromNgModule:!0}}function ZR(i,...n){let e=[],t=new Set,o,r=s=>{e.push(s)};return TC(n,s=>{let a=s;CC(a,r,[],t)&&(o||=[],o.push(a))}),o!==void 0&&tV(o,r),e}function tV(i,n){for(let e=0;e<i.length;e++){let{ngModule:t,providers:o}=i[e];eD(o,r=>{n(r,t)})}}function CC(i,n,e,t){if(i=ts(i),!i)return!1;let o=null,r=RR(i),s=!r&&Xc(i);if(!r&&!s){let l=i.ngModule;if(r=RR(l),r)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=i}let a=t.has(o);if(s){if(a)return!1;if(t.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)CC(c,n,e,t)}}else if(r){if(r.imports!=null&&!a){t.add(o);let c;try{TC(r.imports,d=>{CC(d,n,e,t)&&(c||=[],c.push(d))})}finally{}c!==void 0&&tV(c,n)}if(!a){let c=mu(o)||(()=>new o);n({provide:o,useFactory:c,deps:Qs},o),n({provide:QR,useValue:o,multi:!0},o),n({provide:Yc,useValue:()=>be(o),multi:!0},o)}let l=r.providers;if(l!=null&&!a){let c=i;eD(l,d=>{n(d,c)})}}else return!1;return o!==i&&i.providers!==void 0}function eD(i,n){for(let e of i)jR(e)&&(e=e.\u0275providers),Array.isArray(e)?eD(e,n):n(e)}var Nie=Wn({provide:String,useValue:Wn});function iV(i){return i!==null&&typeof i=="object"&&Nie in i}function Fie(i){return!!(i&&i.useExisting)}function Lie(i){return!!(i&&i.useFactory)}function cf(i){return typeof i=="function"}function nV(i){return!!i.useClass}var q0=new he(""),vC={},HB={},OR;function jm(){return OR===void 0&&(OR=new H0),OR}var er=class{},df=class extends er{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,e,t,o){super(),this.parent=e,this.source=t,this.scopes=o,FR(n,s=>this.processProvider(s)),this.records.set(JR,Vm(void 0,this)),o.has("environment")&&this.records.set(er,Vm(void 0,this));let r=this.records.get(q0);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(QR,Qs,{self:!0}))}retrieve(n,e){let t=lf(e)||0;try{return this.get(n,af,t)}catch(o){if(Em(o))return o;throw o}}destroy(){j0(this),this._destroyed=!0;let n=Ri(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ri(n)}}onDestroy(n){return j0(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){j0(this);let e=$c(this),t=pa(void 0),o;try{return n()}finally{$c(e),pa(t)}}get(n,e=af,t){if(j0(this),n.hasOwnProperty(GB))return n[GB](this);let o=lf(t),r,s=$c(this),a=pa(void 0);try{if(!(o&4)){let c=this.records.get(n);if(c===void 0){let d=jie(n)&&W0(n);d&&this.injectableDefInScope(d)?c=Vm(NR(n),vC):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,o)}let l=o&2?jm():this.parent;return e=o&8&&e===af?null:e,l.get(n,e)}catch(l){let c=Oie(l);throw c===-200||c===-201?new ot(c,null):l}finally{pa(a),$c(s)}}resolveInjectorInitializers(){let n=Ri(null),e=$c(this),t=pa(void 0),o;try{let r=this.get(Yc,Qs,{self:!0});for(let s of r)s()}finally{$c(e),pa(t),Ri(n)}}toString(){let n=[],e=this.records;for(let t of e.keys())n.push(Zd(t));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ts(n);let e=cf(n)?n:ts(n&&n.provide),t=Bie(n);if(!cf(n)&&n.multi===!0){let o=this.records.get(e);o||(o=Vm(void 0,vC,!0),o.factory=()=>kR(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,t)}hydrate(n,e,t){let o=Ri(null);try{if(e.value===HB)throw $R(Zd(n));return e.value===vC&&(e.value=HB,e.value=e.factory(void 0,t)),typeof e.value=="object"&&e.value&&Uie(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Ri(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=ts(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function NR(i){let n=W0(i),e=n!==null?n.factory:mu(i);if(e!==null)return e;if(i instanceof he)throw new ot(204,!1);if(i instanceof Function)return Mie(i);throw new ot(204,!1)}function Mie(i){if(i.length>0)throw new ot(204,!1);let e=Eie(i);return e!==null?()=>e.factory(i):()=>new i}function Bie(i){if(iV(i))return Vm(void 0,i.useValue);{let n=tD(i);return Vm(n,vC)}}function tD(i,n,e){let t;if(cf(i)){let o=ts(i);return mu(o)||NR(o)}else if(iV(i))t=()=>ts(i.useValue);else if(Lie(i))t=()=>i.useFactory(...kR(i.deps||[]));else if(Fie(i))t=(o,r)=>be(ts(i.useExisting),r!==void 0&&r&8?8:void 0);else{let o=ts(i&&(i.useClass||i.provide));if(Vie(i))t=()=>new o(...kR(i.deps));else return mu(o)||NR(o)}return t}function j0(i){if(i.destroyed)throw new ot(205,!1)}function Vm(i,n,e=!1){return{factory:i,value:n,multi:e?[]:void 0}}function Vie(i){return!!i.deps}function Uie(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function jie(i){return typeof i=="function"||typeof i=="object"&&i.ngMetadataName==="InjectionToken"}function FR(i,n){for(let e of i)Array.isArray(e)?FR(e,n):e&&jR(e)?FR(e.\u0275providers,n):n(e)}function fs(i,n){let e;i instanceof df?(j0(i),e=i):e=new AR(i);let t,o=$c(e),r=pa(void 0);try{return n()}finally{$c(o),pa(r)}}function iD(){return qB()!==void 0||Lw()!=null}var ac=0,yi=1,ki=2,is=3,Dl=4,ua=5,uf=6,Gm=7,vr=8,ha=9,ed=10,Ln=11,Hm=12,nD=13,hf=14,fa=15,ep=16,ff=17,td=18,J0=19,oD=20,Xd=21,PC=22,tp=23,el=24,mf=25,ip=26,So=27,oV=1,rD=6,_u=7,Q0=8,gf=9,cr=10;function id(i){return Array.isArray(i)&&typeof i[oV]=="object"}function lc(i){return Array.isArray(i)&&i[oV]===!0}function sD(i){return(i.flags&4)!==0}function np(i){return i.componentOffset>-1}function zm(i){return(i.flags&1)===1}function cc(i){return!!i.template}function Wm(i){return(i[ki]&512)!==0}function _f(i){return(i[ki]&256)===256}var aD="svg",rV="math";function Pl(i){for(;Array.isArray(i);)i=i[ac];return i}function lD(i,n){return Pl(n[i])}function Oa(i,n){return Pl(n[i.index])}function Y0(i,n){return i.data[n]}function X0(i,n){return i[n]}function cD(i,n,e,t){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),n[e]=t}function Al(i,n){let e=n[i];return id(e)?e:e[ac]}function sV(i){return(i[ki]&4)===4}function AC(i){return(i[ki]&128)===128}function aV(i){return lc(i[is])}function kl(i,n){return n==null?null:i[n]}function dD(i){i[ff]=0}function pD(i){i[ki]&1024||(i[ki]|=1024,AC(i)&&bu(i))}function lV(i,n){for(;i>0;)n=n[hf],i--;return n}function Z0(i){return!!(i[ki]&9216||i[el]?.dirty)}function kC(i){i[ed].changeDetectionScheduler?.notify(8),i[ki]&64&&(i[ki]|=1024),Z0(i)&&bu(i)}function bu(i){i[ed].changeDetectionScheduler?.notify(0);let n=gu(i);for(;n!==null&&!(n[ki]&8192||(n[ki]|=8192,!AC(n)));)n=gu(n)}function uD(i,n){if(_f(i))throw new ot(911,!1);i[Xd]===null&&(i[Xd]=[]),i[Xd].push(n)}function cV(i,n){if(i[Xd]===null)return;let e=i[Xd].indexOf(n);e!==-1&&i[Xd].splice(e,1)}function gu(i){let n=i[is];return lc(n)?n[is]:n}function hD(i){return i[Gm]??=[]}function fD(i){return i.cleanup??=[]}function dV(i,n,e,t){let o=hD(n);o.push(e),i.firstCreatePass&&fD(i).push(t,o.length-1)}var Yi={lFrame:wV(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var LR=!1;function pV(){return Yi.lFrame.elementDepthCount}function uV(){Yi.lFrame.elementDepthCount++}function mD(){Yi.lFrame.elementDepthCount--}function NC(){return Yi.bindingsEnabled}function gD(){return Yi.skipHydrationRootTNode!==null}function _D(i){return Yi.skipHydrationRootTNode===i}function bD(){Yi.skipHydrationRootTNode=null}function Wt(){return Yi.lFrame.lView}function Io(){return Yi.lFrame.tView}function w(i){return Yi.lFrame.contextLView=i,i[vr]}function C(i){return Yi.lFrame.contextLView=null,i}function dr(){let i=yD();for(;i!==null&&i.type===64;)i=i.parent;return i}function yD(){return Yi.lFrame.currentTNode}function hV(){let i=Yi.lFrame,n=i.currentTNode;return i.isParent?n:n.parent}function $m(i,n){let e=Yi.lFrame;e.currentTNode=i,e.isParent=n}function vD(){return Yi.lFrame.isParent}function wD(){Yi.lFrame.isParent=!1}function fV(){return Yi.lFrame.contextLView}function CD(){return LR}function Km(i){let n=LR;return LR=i,n}function tl(){let i=Yi.lFrame,n=i.bindingRootIndex;return n===-1&&(n=i.bindingRootIndex=i.tView.bindingStartIndex),n}function SD(){return Yi.lFrame.bindingIndex}function mV(i){return Yi.lFrame.bindingIndex=i}function nd(){return Yi.lFrame.bindingIndex++}function eb(i){let n=Yi.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+i,e}function gV(){return Yi.lFrame.inI18n}function _V(i,n){let e=Yi.lFrame;e.bindingIndex=e.bindingRootIndex=i,FC(n)}function bV(){return Yi.lFrame.currentDirectiveIndex}function FC(i){Yi.lFrame.currentDirectiveIndex=i}function yV(i){let n=Yi.lFrame.currentDirectiveIndex;return n===-1?null:i[n]}function LC(){return Yi.lFrame.currentQueryIndex}function tb(i){Yi.lFrame.currentQueryIndex=i}function Gie(i){let n=i[yi];return n.type===2?n.declTNode:n.type===1?i[ua]:null}function ID(i,n,e){if(e&4){let o=n,r=i;for(;o=o.parent,o===null&&!(e&1);)if(o=Gie(r),o===null||(r=r[hf],o.type&10))break;if(o===null)return!1;n=o,i=r}let t=Yi.lFrame=vV();return t.currentTNode=n,t.lView=i,!0}function MC(i){let n=vV(),e=i[yi];Yi.lFrame=n,n.currentTNode=e.firstChild,n.lView=i,n.tView=e,n.contextLView=i,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function vV(){let i=Yi.lFrame,n=i===null?null:i.child;return n===null?wV(i):n}function wV(i){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=n),n}function CV(){let i=Yi.lFrame;return Yi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var ED=CV;function BC(){let i=CV();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function SV(i){return(Yi.lFrame.contextLView=lV(i,Yi.lFrame.contextLView))[vr]}function dc(){return Yi.lFrame.selectedIndex}function yu(i){Yi.lFrame.selectedIndex=i}function qm(){let i=Yi.lFrame;return Y0(i.tView,i.selectedIndex)}function xe(){Yi.lFrame.currentNamespace=aD}function IV(){Hie()}function Hie(){Yi.lFrame.currentNamespace=null}function EV(){return Yi.lFrame.currentNamespace}var xV=!0;function VC(){return xV}function ib(i){xV=i}function MR(i,n=null,e=null,t){let o=xD(i,n,e,t);return o.resolveInjectorInitializers(),o}function xD(i,n=null,e=null,t,o=new Set){let r=[e||Qs,eV(i)];return t=t||(typeof i=="object"?void 0:Zd(i)),new df(r,n||jm(),t||null,o)}var hn=class i{static THROW_IF_NOT_FOUND=af;static NULL=new H0;static create(n,e){if(Array.isArray(n))return MR({name:""},e,n,"");{let t=n.name??"";return MR({name:t},n.parent,n.providers,t)}}static \u0275prov=ne({token:i,providedIn:"any",factory:()=>be(JR)});static __NG_ELEMENT_ID__=-1},Ci=new he(""),ms=(()=>{class i{static __NG_ELEMENT_ID__=zie;static __NG_ENV_ID__=e=>e}return i})(),z0=class extends ms{_lView;constructor(n){super(),this._lView=n}get destroyed(){return _f(this._lView)}onDestroy(n){let e=this._lView;return uD(e,n),()=>cV(e,n)}};function zie(){return new z0(Wt())}var Za=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Ra=new he("",{providedIn:"root",factory:()=>{let i=z(er),n;return e=>{i.destroyed&&!n?setTimeout(()=>{throw e}):(n??=i.get(Za),n.handleError(e))}}}),TV={provide:Yc,useValue:()=>void z(Za),multi:!0};function TD(i){return typeof i=="function"&&i[Zr]!==void 0}function lt(i,n){let[e,t,o]=sR(i,n?.equal),r=e,s=r[Zr];return r.set=t,r.update=o,r.asReadonly=UC.bind(r),r}function UC(){let i=this[Zr];if(i.readonlyFn===void 0){let n=()=>this();n[Zr]=i,i.readonlyFn=n}return i.readonlyFn}function OD(i){return TD(i)&&typeof i.set=="function"}var Jm=(()=>{class i{view;node;constructor(e,t){this.view=e,this.node=t}static __NG_ELEMENT_ID__=Wie}return i})();function Wie(){return new Jm(Wt(),dr())}var rc=class{},nb=new he("",{providedIn:"root",factory:()=>!1});var RD=new he(""),DD=new he(""),od=(()=>{class i{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _n(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new pi(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new i})}return i})(),bf=(()=>{class i{internalPendingTasks=z(od);scheduler=z(rc);errorHandler=z(Ra);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let t=this.add();e().catch(this.errorHandler).finally(t)}static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new i})}return i})();function yf(...i){}var ob=(()=>{class i{static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new BR})}return i})(),BR=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let e=n.zone,t=this.queues.get(e);t.has(n)&&(t.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let e=n.zone;this.queues.has(e)||this.queues.set(e,new Set);let t=this.queues.get(e);t.has(n)||t.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[e,t]of this.queues)e===null?n||=this.flushQueue(t):n||=e.run(()=>this.flushQueue(t));n||(this.dirtyEffectCount=0)}}flushQueue(n){let e=!1;for(let t of n)t.dirty&&(this.dirtyEffectCount--,e=!0,t.run());return e}};function pg(i){return{toString:i}.toString()}var jC="__parameters__";function Yie(i){return function(...e){if(i){let t=i(...e);for(let o in t)this[o]=t[o]}}}function Xie(i,n,e){return pg(()=>{let t=Yie(n);function o(...r){if(this instanceof o)return t.apply(this,r),this;let s=new o(...r);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(jC)?l[jC]:Object.defineProperty(l,jC,{value:[]})[jC];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return o.prototype.ngMetadataName=i,o.annotationCls=o,o})}var fb=JB(Xie("Inject",i=>({token:i})),-1);function g4(i){let n=Nr.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Zie(i){return typeof i=="function"}var ZC=class{previousValue;currentValue;firstChange;constructor(n,e,t){this.previousValue=n,this.currentValue=e,this.firstChange=t}isFirstChange(){return this.firstChange}};function _4(i,n,e,t){n!==null?n.applyValueToInputSignal(n,t):i[e]=t}var $n=(()=>{let i=()=>b4;return i.ngInherit=!0,i})();function b4(i){return i.type.prototype.ngOnChanges&&(i.setInput=tne),ene}function ene(){let i=v4(this),n=i?.current;if(n){let e=i.previous;if(e===sc)i.previous=n;else for(let t in n)e[t]=n[t];i.current=null,this.ngOnChanges(n)}}function tne(i,n,e,t,o){let r=this.declaredInputs[t],s=v4(i)||ine(i,{previous:sc,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[r];a[r]=new ZC(c&&c.currentValue,e,l===sc),_4(i,n,o,e)}var y4="__ngSimpleChanges__";function v4(i){return i[y4]||null}function ine(i,n){return i[y4]=n}var OV=[];var po=function(i,n=null,e){for(let t=0;t<OV.length;t++){let o=OV[t];o(i,n,e)}};function nne(i,n,e){let{ngOnChanges:t,ngOnInit:o,ngDoCheck:r}=n.type.prototype;if(t){let s=b4(n);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}o&&(e.preOrderHooks??=[]).push(0-i,o),r&&((e.preOrderHooks??=[]).push(i,r),(e.preOrderCheckHooks??=[]).push(i,r))}function w4(i,n){for(let e=n.directiveStart,t=n.directiveEnd;e<t;e++){let r=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),d!=null&&(i.destroyHooks??=[]).push(e,d)}}function qC(i,n,e){C4(i,n,3,e)}function JC(i,n,e,t){(i[ki]&3)===e&&C4(i,n,e,t)}function PD(i,n){let e=i[ki];(e&3)===n&&(e&=16383,e+=1,i[ki]=e)}function C4(i,n,e,t){let o=t!==void 0?i[ff]&65535:0,r=t??-1,s=n.length-1,a=0;for(let l=o;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],t!=null&&a>=t)break}else n[l]<0&&(i[ff]+=65536),(a<r||r==-1)&&(one(i,e,n,l),i[ff]=(i[ff]&4294901760)+l+2),l++}function RV(i,n){po(4,i,n);let e=Ri(null);try{n.call(i)}finally{Ri(e),po(5,i,n)}}function one(i,n,e,t){let o=e[t]<0,r=e[t+1],s=o?-e[t]:e[t],a=i[s];o?i[ki]>>14<i[ff]>>16&&(i[ki]&3)===n&&(i[ki]+=16384,RV(a,r)):RV(a,r)}var Ym=-1,Cf=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,e,t,o){this.factory=n,this.name=o,this.canSeeViewProviders=e,this.injectImpl=t}};function rne(i){return(i.flags&8)!==0}function sne(i){return(i.flags&16)!==0}function ane(i,n,e){let t=0;for(;t<e.length;){let o=e[t];if(typeof o=="number"){if(o!==0)break;t++;let r=e[t++],s=e[t++],a=e[t++];i.setAttribute(n,s,a,r)}else{let r=o,s=e[++t];lne(r)?i.setProperty(n,r,s):i.setAttribute(n,r,s),t++}}return t}function S4(i){return i===3||i===4||i===6}function lne(i){return i.charCodeAt(0)===64}function ig(i,n){if(!(n===null||n.length===0))if(i===null||i.length===0)i=n.slice();else{let e=-1;for(let t=0;t<n.length;t++){let o=n[t];typeof o=="number"?e=o:e===0||(e===-1||e===2?DV(i,e,o,null,n[++t]):DV(i,e,o,null,null))}}return i}function DV(i,n,e,t,o){let r=0,s=i.length;if(n===-1)s=-1;else for(;r<i.length;){let a=i[r++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=r-1;break}}}for(;r<i.length;){let a=i[r];if(typeof a=="number")break;if(a===e){o!==null&&(i[r+1]=o);return}r++,o!==null&&r++}s!==-1&&(i.splice(s,0,n),r=s+1),i.splice(r++,0,e),o!==null&&i.splice(r++,0,o)}function I4(i){return i!==Ym}function eS(i){return i&32767}function cne(i){return i>>16}function tS(i,n){let e=cne(i),t=n;for(;e>0;)t=t[hf],e--;return t}var GD=!0;function iS(i){let n=GD;return GD=i,n}var dne=256,E4=dne-1,x4=5,pne=0,rd={};function une(i,n,e){let t;typeof e=="string"?t=e.charCodeAt(0)||0:e.hasOwnProperty(pf)&&(t=e[pf]),t==null&&(t=e[pf]=pne++);let o=t&E4,r=1<<o;n.data[i+(o>>x4)]|=r}function nS(i,n){let e=T4(i,n);if(e!==-1)return e;let t=n[yi];t.firstCreatePass&&(i.injectorIndex=n.length,AD(t.data,i),AD(n,null),AD(t.blueprint,null));let o=xP(i,n),r=i.injectorIndex;if(I4(o)){let s=eS(o),a=tS(o,n),l=a[yi].data;for(let c=0;c<8;c++)n[r+c]=a[s+c]|l[s+c]}return n[r+8]=o,r}function AD(i,n){i.push(0,0,0,0,0,0,0,0,n)}function T4(i,n){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||n[i.injectorIndex+8]===null?-1:i.injectorIndex}function xP(i,n){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,t=null,o=n;for(;o!==null;){if(t=A4(o),t===null)return Ym;if(e++,o=o[hf],t.injectorIndex!==-1)return t.injectorIndex|e<<16}return Ym}function HD(i,n,e){une(i,n,e)}function hne(i,n){if(n==="class")return i.classes;if(n==="style")return i.styles;let e=i.attrs;if(e){let t=e.length,o=0;for(;o<t;){let r=e[o];if(S4(r))break;if(r===0)o=o+2;else if(typeof r=="number")for(o++;o<t&&typeof e[o]=="string";)o++;else{if(r===n)return e[o+1];o=o+2}}}return null}function O4(i,n,e){if(e&8||i!==void 0)return i;xC(n,"NodeInjector")}function R4(i,n,e,t){if(e&8&&t===void 0&&(t=null),(e&3)===0){let o=i[ha],r=pa(void 0);try{return o?o.get(n,t,e&8):KR(n,t,e&8)}finally{pa(r)}}return O4(t,n,e)}function D4(i,n,e,t=0,o){if(i!==null){if(n[ki]&2048&&!(t&2)){let s=_ne(i,n,e,t,rd);if(s!==rd)return s}let r=P4(i,n,e,t,rd);if(r!==rd)return r}return R4(n,e,t,o)}function P4(i,n,e,t,o){let r=mne(e);if(typeof r=="function"){if(!ID(n,i,t))return t&1?O4(o,e,t):R4(n,e,t,o);try{let s;if(s=r(t),s==null&&!(t&8))xC(e);else return s}finally{ED()}}else if(typeof r=="number"){let s=null,a=T4(i,n),l=Ym,c=t&1?n[fa][ua]:null;for((a===-1||t&4)&&(l=a===-1?xP(i,n):n[a+8],l===Ym||!AV(t,!1)?a=-1:(s=n[yi],a=eS(l),n=tS(l,n)));a!==-1;){let d=n[yi];if(PV(r,a,d.data)){let u=fne(a,n,e,s,t,c);if(u!==rd)return u}l=n[a+8],l!==Ym&&AV(t,n[yi].data[a+8]===c)&&PV(r,a,n)?(s=d,a=eS(l),n=tS(l,n)):a=-1}}return o}function fne(i,n,e,t,o,r){let s=n[yi],a=s.data[i+8],l=t==null?np(a)&&GD:t!=s&&(a.type&3)!==0,c=o&1&&r===a,d=QC(a,s,e,l,c);return d!==null?ab(n,s,d,a,o):rd}function QC(i,n,e,t,o){let r=i.providerIndexes,s=n.data,a=r&1048575,l=i.directiveStart,c=i.directiveEnd,d=r>>20,u=t?a:a+d,m=o?a+d:c;for(let g=u;g<m;g++){let y=s[g];if(g<l&&e===y||g>=l&&y.type===e)return g}if(o){let g=s[l];if(g&&cc(g)&&g.type===e)return l}return null}function ab(i,n,e,t,o){let r=i[e],s=n.data;if(r instanceof Cf){let a=r;if(a.resolving){let g=WB(s[e]);throw $R(g)}let l=iS(a.canSeeViewProviders);a.resolving=!0;let c=s[e].type||s[e],d,u=a.injectImpl?pa(a.injectImpl):null,m=ID(i,t,0);try{r=i[e]=a.factory(void 0,o,s,i,t),n.firstCreatePass&&e>=t.directiveStart&&nne(e,s[e],n)}finally{u!==null&&pa(u),iS(l),a.resolving=!1,ED()}}return r}function mne(i){if(typeof i=="string")return i.charCodeAt(0)||0;let n=i.hasOwnProperty(pf)?i[pf]:void 0;return typeof n=="number"?n>=0?n&E4:gne:n}function PV(i,n,e){let t=1<<i;return!!(e[n+(i>>x4)]&t)}function AV(i,n){return!(i&2)&&!(i&1&&n)}var vf=class{_tNode;_lView;constructor(n,e){this._tNode=n,this._lView=e}get(n,e,t){return D4(this._tNode,this._lView,n,lf(t),e)}};function gne(){return new vf(dr(),Wt())}function ue(i){return pg(()=>{let n=i.prototype.constructor,e=n[G0]||zD(n),t=Object.prototype,o=Object.getPrototypeOf(i.prototype).constructor;for(;o&&o!==t;){let r=o[G0]||zD(o);if(r&&r!==e)return r;o=Object.getPrototypeOf(o)}return r=>new r})}function zD(i){return VR(i)?()=>{let n=zD(ts(i));return n&&n()}:mu(i)}function _ne(i,n,e,t,o){let r=i,s=n;for(;r!==null&&s!==null&&s[ki]&2048&&!Wm(s);){let a=P4(r,s,e,t|2,rd);if(a!==rd)return a;let l=r.parent;if(!l){let c=s[oD];if(c){let d=c.get(e,rd,t);if(d!==rd)return d}l=A4(s),s=s[hf]}r=l}return o}function A4(i){let n=i[yi],e=n.type;return e===2?n.declTNode:e===1?i[ua]:null}function mb(i){return hne(dr(),i)}function bne(){return ug(dr(),Wt())}function ug(i,n){return new Ei(Oa(i,n))}var Ei=(()=>{class i{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=bne}return i})();function k4(i){return i instanceof Ei?i.nativeElement:i}function yne(){return this._results[Symbol.iterator]()}var oS=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Le}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let t=YB(n);(this._changesDetected=!QB(this._results,t,e))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=yne};function N4(i){return(i.flags&128)===128}var TP=(function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i})(TP||{}),F4=new Map,vne=0;function wne(){return vne++}function Cne(i){F4.set(i[J0],i)}function WD(i){F4.delete(i[J0])}var kV="__ngContext__";function ng(i,n){id(n)?(i[kV]=n[J0],Cne(n)):i[kV]=n}function L4(i){return B4(i[Hm])}function M4(i){return B4(i[Dl])}function B4(i){for(;i!==null&&!lc(i);)i=i[Dl];return i}var $D;function OP(i){$D=i}function RP(){if($D!==void 0)return $D;if(typeof document<"u")return document;throw new ot(210,!1)}var hg=new he("",{providedIn:"root",factory:()=>Sne}),Sne="ng",CS=new he(""),wr=new he("",{providedIn:"platform",factory:()=>"unknown"});var Ine=new he(""),SS=new he("",{providedIn:"root",factory:()=>RP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ene="h",xne="b";var V4="r";var U4="di";var j4=!1,G4=new he("",{providedIn:"root",factory:()=>j4});var IS=new he("");var Tne=(i,n,e,t)=>{};function One(i,n,e,t){Tne(i,n,e,t)}function ES(i){return(i.flags&32)===32}var Rne=()=>null;function H4(i,n,e=!1){return Rne(i,n,e)}function z4(i,n){let e=i.contentQueries;if(e!==null){let t=Ri(null);try{for(let o=0;o<e.length;o+=2){let r=e[o],s=e[o+1];if(s!==-1){let a=i.data[s];tb(r),a.contentQueries(2,n[s],s)}}}finally{Ri(t)}}}function KD(i,n,e){tb(0);let t=Ri(null);try{n(i,e)}finally{Ri(t)}}function DP(i,n,e){if(sD(n)){let t=Ri(null);try{let o=n.directiveStart,r=n.directiveEnd;for(let s=o;s<r;s++){let a=i.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{Ri(t)}}}var op=(function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i})(op||{});var GC;function Dne(){if(GC===void 0&&(GC=null,Nr.trustedTypes))try{GC=Nr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return GC}function xS(i){return Dne()?.createHTML(i)||i}var HC;function W4(){if(HC===void 0&&(HC=null,Nr.trustedTypes))try{HC=Nr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return HC}function NV(i){return W4()?.createHTML(i)||i}function FV(i){return W4()?.createScriptURL(i)||i}var rp=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SC})`}},qD=class extends rp{getTypeName(){return"HTML"}},JD=class extends rp{getTypeName(){return"Style"}},QD=class extends rp{getTypeName(){return"Script"}},YD=class extends rp{getTypeName(){return"URL"}},XD=class extends rp{getTypeName(){return"ResourceURL"}};function Pa(i){return i instanceof rp?i.changingThisBreaksApplicationSecurity:i}function sd(i,n){let e=$4(i);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${SC})`)}return e===n}function $4(i){return i instanceof rp&&i.getTypeName()||null}function PP(i){return new qD(i)}function AP(i){return new JD(i)}function kP(i){return new QD(i)}function NP(i){return new YD(i)}function FP(i){return new XD(i)}function Pne(i){let n=new eP(i);return Ane()?new ZD(n):n}var ZD=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(xS(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},eP=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=xS(n),e}};function Ane(){try{return!!new window.DOMParser().parseFromString(xS(""),"text/html")}catch{return!1}}var kne=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gb(i){return i=String(i),i.match(kne)?i:"unsafe:"+i}function sp(i){let n={};for(let e of i.split(","))n[e]=!0;return n}function _b(...i){let n={};for(let e of i)for(let t in e)e.hasOwnProperty(t)&&(n[t]=!0);return n}var K4=sp("area,br,col,hr,img,wbr"),q4=sp("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J4=sp("rp,rt"),Nne=_b(J4,q4),Fne=_b(q4,sp("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lne=_b(J4,sp("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),LV=_b(K4,Fne,Lne,Nne),Q4=sp("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mne=sp("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bne=sp("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Vne=_b(Q4,Mne,Bne),Une=sp("script,style,template"),tP=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let e=n.firstChild,t=!0,o=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?t=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,t&&e.firstChild){o.push(e),e=Hne(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=Gne(e);if(r){e=r;break}e=o.pop()}}return this.buf.join("")}startElement(n){let e=MV(n).toLowerCase();if(!LV.hasOwnProperty(e))return this.sanitizedSomething=!0,!Une.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let t=n.attributes;for(let o=0;o<t.length;o++){let r=t.item(o),s=r.name,a=s.toLowerCase();if(!Vne.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;Q4[a]&&(l=gb(l)),this.buf.push(" ",s,'="',BV(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=MV(n).toLowerCase();LV.hasOwnProperty(e)&&!K4.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(BV(n))}};function jne(i,n){return(i.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Gne(i){let n=i.nextSibling;if(n&&i!==n.previousSibling)throw Y4(n);return n}function Hne(i){let n=i.firstChild;if(n&&jne(i,n))throw Y4(n);return n}function MV(i){let n=i.nodeName;return typeof n=="string"?n:"FORM"}function Y4(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}var zne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wne=/([^\#-~ |!])/g;function BV(i){return i.replace(/&/g,"&amp;").replace(zne,function(n){let e=n.charCodeAt(0),t=n.charCodeAt(1);return"&#"+((e-55296)*1024+(t-56320)+65536)+";"}).replace(Wne,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zC;function TS(i,n){let e=null;try{zC=zC||Pne(i);let t=n?String(n):"";e=zC.getInertBodyElement(t);let o=5,r=t;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,t=r,r=e.innerHTML,e=zC.getInertBodyElement(t)}while(t!==r);let a=new tP().sanitizeChildren(VV(e)||e);return xS(a)}finally{if(e){let t=VV(e)||e;for(;t.firstChild;)t.firstChild.remove()}}}function VV(i){return"content"in i&&$ne(i)?i.content:null}function $ne(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var Kne=/^>|^->|<!--|-->|--!>|<!-$/g,qne=/(<|>)/g,Jne="\u200B$1\u200B";function Qne(i){return i.replace(Kne,n=>n.replace(qne,Jne))}function Yne(i,n){return i.createText(n)}function Xne(i,n,e){i.setValue(n,e)}function Zne(i,n){return i.createComment(Qne(n))}function X4(i,n,e){return i.createElement(n,e)}function rS(i,n,e,t,o){i.insertBefore(n,e,t,o)}function Z4(i,n,e){i.appendChild(n,e)}function UV(i,n,e,t,o){t!==null?rS(i,n,e,t,o):Z4(i,n,e)}function e5(i,n,e,t){i.removeChild(null,n,e,t)}function eoe(i,n,e){i.setAttribute(n,"style",e)}function toe(i,n,e){e===""?i.removeAttribute(n,"class"):i.setAttribute(n,"class",e)}function t5(i,n,e){let{mergedAttrs:t,classes:o,styles:r}=e;t!==null&&ane(i,n,t),o!==null&&toe(i,n,o),r!==null&&eoe(i,n,r)}var ma=(function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i})(ma||{});function on(i){let n=MP();return n?NV(n.sanitize(ma.HTML,i)||""):sd(i,"HTML")?NV(Pa(i)):TS(RP(),Rl(i))}function Cr(i){let n=MP();return n?n.sanitize(ma.URL,i)||"":sd(i,"URL")?Pa(i):gb(Rl(i))}function OS(i){let n=MP();if(n)return FV(n.sanitize(ma.RESOURCE_URL,i)||"");if(sd(i,"ResourceURL"))return FV(Pa(i));throw new ot(904,!1)}var ioe=new Set(["embed","frame","iframe","media","script"]),noe=new Set(["base","link","script"]);function ooe(i,n){return n==="src"&&ioe.has(i)||n==="href"&&noe.has(i)||n==="xlink:href"&&i==="script"?OS:Cr}function LP(i,n,e){return ooe(n,e)(i)}function MP(){let i=Wt();return i&&i[ed].sanitizer}function roe(i){return i.ownerDocument.defaultView}function BP(i){return i.ownerDocument}function i5(i){return i instanceof Function?i():i}function soe(i,n,e){let t=i.length;for(;;){let o=i.indexOf(n,e);if(o===-1)return o;if(o===0||i.charCodeAt(o-1)<=32){let r=n.length;if(o+r===t||i.charCodeAt(o+r)<=32)return o}e=o+1}}var n5="ng-template";function aoe(i,n,e,t){let o=0;if(t){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&soe(n[o+1].toLowerCase(),e,0)!==-1)return!0}else if(VP(i))return!1;if(o=n.indexOf(1,o),o>-1){let r;for(;++o<n.length&&typeof(r=n[o])=="string";)if(r.toLowerCase()===e)return!0}return!1}function VP(i){return i.type===4&&i.value!==n5}function loe(i,n,e){let t=i.type===4&&!e?n5:i.value;return n===t}function coe(i,n,e){let t=4,o=i.attrs,r=o!==null?uoe(o):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!pc(t)&&!pc(l))return!1;if(s&&pc(l))continue;s=!1,t=l|t&1;continue}if(!s)if(t&4){if(t=2|t&1,l!==""&&!loe(i,l,e)||l===""&&n.length===1){if(pc(t))return!1;s=!0}}else if(t&8){if(o===null||!aoe(i,o,l,e)){if(pc(t))return!1;s=!0}}else{let c=n[++a],d=doe(l,o,VP(i),e);if(d===-1){if(pc(t))return!1;s=!0;continue}if(c!==""){let u;if(d>r?u="":u=o[d+1].toLowerCase(),t&2&&c!==u){if(pc(t))return!1;s=!0}}}}return pc(t)||s}function pc(i){return(i&1)===0}function doe(i,n,e,t){if(n===null)return-1;let o=0;if(t||!e){let r=!1;for(;o<n.length;){let s=n[o];if(s===i)return o;if(s===3||s===6)r=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=r?1:2}return-1}else return hoe(n,i)}function o5(i,n,e=!1){for(let t=0;t<n.length;t++)if(coe(i,n[t],e))return!0;return!1}function poe(i){let n=i.attrs;if(n!=null){let e=n.indexOf(5);if((e&1)===0)return n[e+1]}return null}function uoe(i){for(let n=0;n<i.length;n++){let e=i[n];if(S4(e))return n}return i.length}function hoe(i,n){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let t=i[e];if(typeof t=="number")return-1;if(t===n)return e;e++}return-1}function foe(i,n){e:for(let e=0;e<n.length;e++){let t=n[e];if(i.length===t.length){for(let o=0;o<i.length;o++)if(i[o]!==t[o])continue e;return!0}}return!1}function jV(i,n){return i?":not("+n.trim()+")":n}function moe(i){let n=i[0],e=1,t=2,o="",r=!1;for(;e<i.length;){let s=i[e];if(typeof s=="string")if(t&2){let a=i[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else t&8?o+="."+s:t&4&&(o+=" "+s);else o!==""&&!pc(s)&&(n+=jV(r,o),o=""),t=s,r=r||!pc(t);e++}return o!==""&&(n+=jV(r,o)),n}function goe(i){return i.map(moe).join(",")}function _oe(i){let n=[],e=[],t=1,o=2;for(;t<i.length;){let r=i[t];if(typeof r=="string")o===2?r!==""&&n.push(r,i[++t]):o===8&&e.push(r);else{if(!pc(o))break;o=r}t++}return e.length&&n.push(1,...e),n}var gs={};function UP(i,n,e,t,o,r,s,a,l,c,d){let u=So+t,m=u+o,g=boe(u,m),y=typeof c=="function"?c():c;return g[yi]={type:i,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1,ssrId:d}}function boe(i,n){let e=[];for(let t=0;t<n;t++)e.push(t<i?null:gs);return e}function yoe(i){let n=i.tView;return n===null||n.incompleteFirstPass?i.tView=UP(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):n}function jP(i,n,e,t,o,r,s,a,l,c,d){let u=n.blueprint.slice();return u[ac]=o,u[ki]=t|4|128|8|64|1024,(c!==null||i&&i[ki]&2048)&&(u[ki]|=2048),dD(u),u[is]=u[hf]=i,u[vr]=e,u[ed]=s||i&&i[ed],u[Ln]=a||i&&i[Ln],u[ha]=l||i&&i[ha]||null,u[ua]=r,u[J0]=wne(),u[uf]=d,u[oD]=c,u[fa]=n.type==2?i[fa]:u,u}function voe(i,n,e){let t=Oa(n,i),o=yoe(e),r=i[ed].rendererFactory,s=GP(i,jP(i,o,null,r5(e),t,n,null,r.createRenderer(t,e),null,null,null));return i[n.index]=s}function r5(i){let n=16;return i.signals?n=4096:i.onPush&&(n=64),n}function s5(i,n,e,t){if(e===0)return-1;let o=n.length;for(let r=0;r<e;r++)n.push(t),i.blueprint.push(t),i.data.push(null);return o}function GP(i,n){return i[Hm]?i[nD][Dl]=n:i[Hm]=n,i[nD]=n,n}function p(i=1){a5(Io(),Wt(),dc()+i,!1)}function a5(i,n,e,t){if(!t)if((n[ki]&3)===3){let r=i.preOrderCheckHooks;r!==null&&qC(n,r,e)}else{let r=i.preOrderHooks;r!==null&&JC(n,r,0,e)}yu(e)}var RS=(function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i})(RS||{});function iP(i,n,e,t){let o=Ri(null);try{let[r,s,a]=i.inputs[e],l=null;(s&RS.SignalBased)!==0&&(l=n[r][Zr]),l!==null&&l.transformFn!==void 0?t=l.transformFn(t):a!==null&&(t=a.call(n,t)),i.setInput!==null?i.setInput(n,l,t,e,r):_4(n,l,r,t)}finally{Ri(o)}}var uc=(function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i})(uc||{}),woe;function HP(i,n){return woe(i,n)}function sS(i){if(!i)return 0;let n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function Xm(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}function Coe(i){let n=Xm(i,"transition-property"),e=Xm(i,"transition-duration"),t=Xm(i,"transition-delay"),o={propertyName:"",duration:0,animationName:void 0};for(let r=0;r<n.length;r++){let s=sS(t[r])+sS(e[r]);s>o.duration&&(o.propertyName=n[r],o.duration=s)}return o}function Soe(i){let n=Xm(i,"animation-name"),e=Xm(i,"animation-delay"),t=Xm(i,"animation-duration"),o={animationName:"",propertyName:void 0,duration:0};for(let r=0;r<n.length;r++){let s=sS(e[r])+sS(t[r]);s>o.duration&&(o.animationName=n[r],o.duration=s)}return o}function l5(i,n){return i!==void 0&&i.duration>n.duration}function c5(i){return(i.animationName!=null||i.propertyName!=null)&&i.duration>0}function Ioe(i,n){let e=getComputedStyle(i),t=Soe(e),o=Coe(e),r=t.duration>o.duration?t:o;l5(n.get(i),r)||c5(r)&&n.set(i,r)}function d5(i,n,e){if(!e)return;let t=i.getAnimations();return t.length===0?Ioe(i,n):Eoe(i,n,t)}function Eoe(i,n,e){let t={animationName:void 0,propertyName:void 0,duration:0};for(let o of e){let r=o.effect?.getTiming(),s=typeof r?.duration=="number"?r.duration:0,a=(r?.delay??0)+s,l,c;o.animationName?c=o.animationName:l=o.transitionProperty,a>=t.duration&&(t={animationName:c,propertyName:l,duration:a})}l5(n.get(i),t)||c5(t)&&n.set(i,t)}var vu=new Set,DS=(function(i){return i[i.CHANGE_DETECTION=0]="CHANGE_DETECTION",i[i.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",i})(DS||{}),If=new he(""),GV=new Set;function Nl(i){GV.has(i)||(GV.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}var p5=!1,nP=class extends Le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,iD()&&(this.destroyRef=z(ms,{optional:!0})??void 0,this.pendingTasks=z(od,{optional:!0})??void 0)}emit(n){let e=Ri(null);try{super.next(n)}finally{Ri(e)}}subscribe(n,e,t){let o=n,r=e||(()=>null),s=t;if(n&&typeof n=="object"){let l=n;o=l.next?.bind(l),r=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(r=this.wrapInTimeout(r),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:r,complete:s});return n instanceof On&&n.add(a),a}wrapInTimeout(n){return e=>{let t=this.pendingTasks?.add();setTimeout(()=>{try{n(e)}finally{t!==void 0&&this.pendingTasks?.remove(t)}})}}},te=nP;function u5(i){let n,e;function t(){i=yf;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{i(),t()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{i(),t()})),()=>t()}function HV(i){return queueMicrotask(()=>i()),()=>{i=yf}}var zP="isAngularZone",aS=zP+"_ID",xoe=0,Ft=class i{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new te(!1);onMicrotaskEmpty=new te(!1);onStable=new te(!1);onError=new te(!1);constructor(n){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:r=p5}=n;if(typeof Zone>"u")throw new ot(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&t,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=r,Roe(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zP)===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new ot(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new ot(909,!1)}run(n,e,t){return this._inner.run(n,e,t)}runTask(n,e,t,o){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+o,n,Toe,yf,yf);try{return r.runTask(s,e,t)}finally{r.cancelTask(s)}}runGuarded(n,e,t){return this._inner.runGuarded(n,e,t)}runOutsideAngular(n){return this._outer.run(n)}},Toe={};function WP(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ooe(i){if(i.isCheckStableRunning||i.callbackScheduled)return;i.callbackScheduled=!0;function n(){u5(()=>{i.callbackScheduled=!1,oP(i),i.isCheckStableRunning=!0,WP(i),i.isCheckStableRunning=!1})}i.scheduleInRootZone?Zone.root.run(()=>{n()}):i._outer.run(()=>{n()}),oP(i)}function Roe(i){let n=()=>{Ooe(i)},e=xoe++;i._inner=i._inner.fork({name:"angular",properties:{[zP]:!0,[aS]:e,[aS+e]:!0},onInvokeTask:(t,o,r,s,a,l)=>{if(Doe(l))return t.invokeTask(r,s,a,l);try{return zV(i),t.invokeTask(r,s,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&n(),WV(i)}},onInvoke:(t,o,r,s,a,l,c)=>{try{return zV(i),t.invoke(r,s,a,l,c)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!Poe(l)&&n(),WV(i)}},onHasTask:(t,o,r,s)=>{t.hasTask(r,s),o===r&&(s.change=="microTask"?(i._hasPendingMicrotasks=s.microTask,oP(i),WP(i)):s.change=="macroTask"&&(i.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,o,r,s)=>(t.handleError(r,s),i.runOutsideAngular(()=>i.onError.emit(s)),!1)})}function oP(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.callbackScheduled===!0?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function zV(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function WV(i){i._nesting--,WP(i)}var lb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new te;onMicrotaskEmpty=new te;onStable=new te;onError=new te;run(n,e,t){return n.apply(e,t)}runGuarded(n,e,t){return n.apply(e,t)}runOutsideAngular(n){return n()}runTask(n,e,t,o){return n.apply(e,t)}};function Doe(i){return h5(i,"__ignore_ng_zone__")}function Poe(i){return h5(i,"__scheduler_tick__")}function h5(i,n){return!Array.isArray(i)||i.length!==1?!1:i[0]?.data?.[n]===!0}function f5(i="zone.js",n){return i==="noop"?new lb:i==="zone.js"?new Ft(n):i}var $P=(()=>{class i{impl=null;execute(){this.impl?.execute()}static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new i})}return i})(),m5=[0,1,2,3],g5=(()=>{class i{ngZone=z(Ft);scheduler=z(rc);errorHandler=z(Za,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){z(If,{optional:!0})}execute(){let e=this.sequences.size>0;e&&po(16),this.executing=!0;for(let t of m5)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[t]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=o.hooks[t];return r(o.pipelinedValue)},o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&po(17)}register(e){let{view:t}=e;t!==void 0?((t[mf]??=[]).push(e),bu(t),t[ki]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,t){return t?t.run(DS.AFTER_NEXT_RENDER,e):e()}static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new i})}return i})(),lS=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,e,t,o,r,s=null){this.impl=n,this.hooks=e,this.view=t,this.once=o,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[mf];n&&(this.view[mf]=n.filter(e=>e!==this))}};function Iu(i,n){let e=n?.injector??z(hn);return Nl("NgAfterNextRender"),koe(i,e,n,!0)}function Aoe(i){return i instanceof Function?[void 0,void 0,i,void 0]:[i.earlyRead,i.write,i.mixedReadWrite,i.read]}function koe(i,n,e,t){let o=n.get($P);o.impl??=n.get(g5);let r=n.get(If,null,{optional:!0}),s=e?.manualCleanup!==!0?n.get(ms):null,a=n.get(Jm,null,{optional:!0}),l=new lS(o.impl,Aoe(i),a?.view,t,s,r?.snapshot(null));return o.impl.register(l),l}var PS=new he("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function _5(i,n,e){let t=i.get(PS);if(Array.isArray(n))for(let o of n)t.queue.add(o),e?.detachedLeaveAnimationFns?.push(o);else t.queue.add(n),e?.detachedLeaveAnimationFns?.push(n);t.scheduler&&t.scheduler(i)}function Noe(i,n){let e=i.get(PS);if(n.detachedLeaveAnimationFns){for(let t of n.detachedLeaveAnimationFns)e.queue.delete(t);n.detachedLeaveAnimationFns=void 0}}function Foe(i){let n=i.get(PS);n.isScheduled||(Iu(()=>{n.isScheduled=!1;for(let e of n.queue)e();n.queue.clear()},{injector:i}),n.isScheduled=!0)}function b5(i){let n=i.get(PS);n.scheduler=Foe,n.scheduler(i)}function y5(i,n){for(let[e,t]of n)_5(i,t.animateFns)}function $V(i,n,e,t){let o=i?.[ip]?.enter;n!==null&&o&&o.has(e.index)&&y5(t,o)}function Qm(i,n,e,t,o,r,s,a){if(o!=null){let l,c=!1;lc(o)?l=o:id(o)&&(c=!0,o=o[ac]);let d=Pl(o);i===0&&t!==null?($V(a,t,r,e),s==null?Z4(n,t,d):rS(n,t,d,s||null,!0)):i===1&&t!==null?($V(a,t,r,e),rS(n,t,d,s||null,!0)):i===2?KV(a,r,e,u=>{e5(n,d,c,u)}):i===3&&KV(a,r,e,()=>{n.destroyNode(d)}),l!=null&&$oe(n,i,e,l,r,t,s)}}function Loe(i,n){v5(i,n),n[ac]=null,n[ua]=null}function Moe(i,n,e,t,o,r){t[ac]=o,t[ua]=n,kS(i,t,e,1,o,r)}function v5(i,n){n[ed].changeDetectionScheduler?.notify(9),kS(i,n,n[Ln],2,null,null)}function Boe(i){let n=i[Hm];if(!n)return kD(i[yi],i);for(;n;){let e=null;if(id(n))e=n[Hm];else{let t=n[cr];t&&(e=t)}if(!e){for(;n&&!n[Dl]&&n!==i;)id(n)&&kD(n[yi],n),n=n[is];n===null&&(n=i),id(n)&&kD(n[yi],n),e=n&&n[Dl]}n=e}}function KP(i,n){let e=i[gf],t=e.indexOf(n);e.splice(t,1)}function AS(i,n){if(_f(n))return;let e=n[Ln];e.destroyNode&&kS(i,n,e,3,null,null),Boe(n)}function kD(i,n){if(_f(n))return;let e=Ri(null);try{n[ki]&=-129,n[ki]|=256,n[el]&&Qh(n[el]),joe(i,n),Uoe(i,n),n[yi].type===1&&n[Ln].destroy();let t=n[ep];if(t!==null&&lc(n[is])){t!==n[is]&&KP(t,n);let o=n[td];o!==null&&o.detachView(i)}WD(n)}finally{Ri(e)}}function KV(i,n,e,t){let o=i?.[ip];if(o==null||o.leave==null||!o.leave.has(n.index))return t(!1);i&&vu.add(i),_5(e,()=>{if(o.leave&&o.leave.has(n.index)){let s=o.leave.get(n.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:d}=c();a.push(d)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),Voe(i,t)}else i&&vu.delete(i),t(!1)},o)}function Voe(i,n){let e=i[ip]?.running;if(e){e.then(()=>{i[ip].running=void 0,vu.delete(i),n(!0)});return}n(!1)}function Uoe(i,n){let e=i.cleanup,t=n[Gm];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?t[a]():t[-a].unsubscribe(),s+=2}else{let a=t[e[s+1]];e[s].call(a)}t!==null&&(n[Gm]=null);let o=n[Xd];if(o!==null){n[Xd]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let r=n[tp];if(r!==null){n[tp]=null;for(let s of r)s.destroy()}}function joe(i,n){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let t=0;t<e.length;t+=2){let o=n[e[t]];if(!(o instanceof Cf)){let r=e[t+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let a=o[r[s]],l=r[s+1];po(4,a,l);try{l.call(a)}finally{po(5,a,l)}}else{po(4,o,r);try{r.call(o)}finally{po(5,o,r)}}}}}function w5(i,n,e){return Goe(i,n.parent,e)}function Goe(i,n,e){let t=n;for(;t!==null&&t.type&168;)n=t,t=n.parent;if(t===null)return e[ac];if(np(t)){let{encapsulation:o}=i.data[t.directiveStart+t.componentOffset];if(o===op.None||o===op.Emulated)return null}return Oa(t,e)}function C5(i,n,e){return zoe(i,n,e)}function Hoe(i,n,e){return i.type&40?Oa(i,e):null}var zoe=Hoe,qV;function qP(i,n,e,t){let o=w5(i,t,n),r=n[Ln],s=t.parent||n[ua],a=C5(s,t,n);if(o!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)UV(r,o,e[l],a,!1);else UV(r,o,e,a,!1);qV!==void 0&&qV(r,t,n,e,o)}function rb(i,n){if(n!==null){let e=n.type;if(e&3)return Oa(n,i);if(e&4)return cS(-1,i[n.index]);if(e&8){let t=n.child;if(t!==null)return rb(i,t);{let o=i[n.index];return lc(o)?cS(-1,o):Pl(o)}}else{if(e&128)return rb(i,n.next);if(e&32)return HP(n,i)()||Pl(i[n.index]);{let t=S5(i,n);if(t!==null){if(Array.isArray(t))return t[0];let o=gu(i[fa]);return rb(o,t)}else return rb(i,n.next)}}}return null}function S5(i,n){if(n!==null){let t=i[fa][ua],o=n.projection;return t.projection[o]}return null}function cS(i,n){let e=cr+i+1;if(e<n.length){let t=n[e],o=t[yi].firstChild;if(o!==null)return rb(t,o)}return n[_u]}function JP(i,n,e,t,o,r,s){for(;e!=null;){let a=t[ha];if(e.type===128){e=e.next;continue}let l=t[e.index],c=e.type;if(s&&n===0&&(l&&ng(Pl(l),t),e.flags|=2),!ES(e))if(c&8)JP(i,n,e.child,t,o,r,!1),Qm(n,i,a,o,l,e,r,t);else if(c&32){let d=HP(e,t),u;for(;u=d();)Qm(n,i,a,o,u,e,r,t);Qm(n,i,a,o,l,e,r,t)}else c&16?I5(i,n,t,e,o,r):Qm(n,i,a,o,l,e,r,t);e=s?e.projectionNext:e.next}}function kS(i,n,e,t,o,r){JP(e,t,i.firstChild,n,o,r,!1)}function Woe(i,n,e){let t=n[Ln],o=w5(i,e,n),r=e.parent||n[ua],s=C5(r,e,n);I5(t,0,n,e,o,s)}function I5(i,n,e,t,o,r){let s=e[fa],l=s[ua].projection[t.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];Qm(n,i,e[ha],o,d,t,r,e)}else{let c=l,d=s[is];N4(t)&&(c.flags|=128),JP(i,n,c,d,o,r,!0)}}function $oe(i,n,e,t,o,r,s){let a=t[_u],l=Pl(t);a!==l&&Qm(n,i,e,r,a,o,s);for(let c=cr;c<t.length;c++){let d=t[c];kS(d[yi],d,i,n,r,a)}}function Koe(i,n,e,t,o){if(n)o?i.addClass(e,t):i.removeClass(e,t);else{let r=t.indexOf("-")===-1?void 0:uc.DashCase;o==null?i.removeStyle(e,t,r):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),r|=uc.Important),i.setStyle(e,t,o,r))}}function E5(i,n,e,t,o){let r=dc(),s=t&2;try{yu(-1),s&&n.length>So&&a5(i,n,So,!1),po(s?2:0,o,e),e(t,o)}finally{yu(r),po(s?3:1,o,e)}}function NS(i,n,e){Xoe(i,n,e),(e.flags&64)===64&&Zoe(i,n,e)}function bb(i,n,e=Oa){let t=n.localNames;if(t!==null){let o=n.index+1;for(let r=0;r<t.length;r+=2){let s=t[r+1],a=s===-1?e(n,i):i[s];i[o++]=a}}}function qoe(i,n,e,t){let r=t.get(G4,j4)||e===op.ShadowDom,s=i.selectRootElement(n,r);return Joe(s),s}function Joe(i){Qoe(i)}var Qoe=()=>null;function Yoe(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function x5(i,n,e,t,o,r){let s=n[yi];if(FS(i,s,n,e,t)){np(i)&&O5(n,i.index);return}i.type&3&&(e=Yoe(e)),T5(i,n,e,t,o,r)}function T5(i,n,e,t,o,r){if(i.type&3){let s=Oa(i,n);t=r!=null?r(t,i.value||"",e):t,o.setProperty(s,e,t)}else i.type&12}function O5(i,n){let e=Al(n,i);e[ki]&16||(e[ki]|=64)}function Xoe(i,n,e){let t=e.directiveStart,o=e.directiveEnd;np(e)&&voe(n,e,i.data[t+e.componentOffset]),i.firstCreatePass||nS(e,n);let r=e.initialInputs;for(let s=t;s<o;s++){let a=i.data[s],l=ab(n,i,s,e);if(ng(l,n),r!==null&&ire(n,s-t,l,a,e,r),cc(a)){let c=Al(e.index,n);c[vr]=ab(n,i,s,e)}}}function Zoe(i,n,e){let t=e.directiveStart,o=e.directiveEnd,r=e.index,s=bV();try{yu(r);for(let a=t;a<o;a++){let l=i.data[a],c=n[a];FC(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&ere(l,c)}}finally{yu(-1),FC(s)}}function ere(i,n){i.hostBindings!==null&&i.hostBindings(1,n)}function QP(i,n){let e=i.directiveRegistry,t=null;if(e)for(let o=0;o<e.length;o++){let r=e[o];o5(n,r.selectors,!1)&&(t??=[],cc(r)?t.unshift(r):t.push(r))}return t}function tre(i,n,e,t,o,r){let s=Oa(i,n);R5(n[Ln],s,r,i.value,e,t,o)}function R5(i,n,e,t,o,r,s){if(r==null)i.removeAttribute(n,o,e);else{let a=s==null?Rl(r):s(r,t||"",o);i.setAttribute(n,o,a,e)}}function ire(i,n,e,t,o,r){let s=r[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];iP(t,e,l,c)}}function YP(i,n,e,t,o){let r=So+e,s=n[yi],a=o(s,n,i,t,e);n[r]=a,$m(i,!0);let l=i.type===2;return l?(t5(n[Ln],a,i),(pV()===0||zm(i))&&ng(a,n),uV()):ng(a,n),VC()&&(!l||!ES(i))&&qP(s,n,a,i),i}function XP(i){let n=i;return vD()?wD():(n=n.parent,$m(n,!1)),n}function nre(i,n){let e=i[ha];if(!e)return;let t;try{t=e.get(Ra,null)}catch{t=null}t?.(n)}function FS(i,n,e,t,o){let r=i.inputs?.[t],s=i.hostDirectiveInputs?.[t],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],u=n.data[c];iP(u,e[c],d,o),a=!0}if(r)for(let l of r){let c=e[l],d=n.data[l];iP(d,c,t,o),a=!0}return a}function ore(i,n){let e=Al(n,i),t=e[yi];rre(t,e);let o=e[ac];o!==null&&e[uf]===null&&(e[uf]=H4(o,e[ha])),po(18),ZP(t,e,e[vr]),po(19,e[vr])}function rre(i,n){for(let e=n.length;e<i.blueprint.length;e++)n.push(i.blueprint[e])}function ZP(i,n,e){MC(n);try{let t=i.viewQuery;t!==null&&KD(1,t,e);let o=i.template;o!==null&&E5(i,n,o,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),n[td]?.finishViewCreation(i),i.staticContentQueries&&z4(i,n),i.staticViewQueries&&KD(2,i.viewQuery,e);let r=i.components;r!==null&&sre(n,r)}catch(t){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),t}finally{n[ki]&=-5,BC()}}function sre(i,n){for(let e=0;e<n.length;e++)ore(i,n[e])}function yb(i,n,e,t){let o=Ri(null);try{let r=n.tView,a=i[ki]&4096?4096:16,l=jP(i,r,e,a,null,n,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),c=i[n.index];l[ep]=c;let d=i[td];return d!==null&&(l[td]=d.createEmbeddedView(r)),ZP(r,l,e),l}finally{Ri(o)}}function og(i,n){return!n||n.firstChild===null||N4(i)}function cb(i,n,e,t,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let r=n[e.index];r!==null&&t.push(Pl(r)),lc(r)&&D5(r,t);let s=e.type;if(s&8)cb(i,n,e.child,t);else if(s&32){let a=HP(e,n),l;for(;l=a();)t.push(l)}else if(s&16){let a=S5(n,e);if(Array.isArray(a))t.push(...a);else{let l=gu(n[fa]);cb(l[yi],l,a,t,!0)}}e=o?e.projectionNext:e.next}return t}function D5(i,n){for(let e=cr;e<i.length;e++){let t=i[e],o=t[yi].firstChild;o!==null&&cb(t[yi],t,o,n)}i[_u]!==i[ac]&&n.push(i[_u])}function P5(i){if(i[mf]!==null){for(let n of i[mf])n.impl.addSequence(n);i[mf].length=0}}var A5=[];function are(i){return i[el]??lre(i)}function lre(i){let n=A5.pop()??Object.create(dre);return n.lView=i,n}function cre(i){i.lView[el]!==i&&(i.lView=null,A5.push(i))}var dre=Fe(ee({},Kh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:i=>{bu(i.lView)},consumerOnSignalRead(){this.lView[el]=this}});function pre(i){let n=i[el]??Object.create(ure);return n.lView=i,n}var ure=Fe(ee({},Kh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:i=>{let n=gu(i.lView);for(;n&&!k5(n[yi]);)n=gu(n);n&&pD(n)},consumerOnSignalRead(){this.lView[el]=this}});function k5(i){return i.type!==2}function N5(i){if(i[tp]===null)return;let n=!0;for(;n;){let e=!1;for(let t of i[tp])t.dirty&&(e=!0,t.zone===null||Zone.current===t.zone?t.run():t.zone.run(()=>t.run()));n=e&&!!(i[ki]&8192)}}var hre=100;function F5(i,n=0){let t=i[ed].rendererFactory,o=!1;o||t.begin?.();try{fre(i,n)}finally{o||t.end?.()}}function fre(i,n){let e=CD();try{Km(!0),rP(i,n);let t=0;for(;Z0(i);){if(t===hre)throw new ot(103,!1);t++,rP(i,1)}}finally{Km(e)}}function mre(i,n,e,t){if(_f(n))return;let o=n[ki],r=!1,s=!1;MC(n);let a=!0,l=null,c=null;r||(k5(i)?(c=are(n),l=Jh(c)):jw()===null?(a=!1,c=pre(n),l=Jh(c)):n[el]&&(Qh(n[el]),n[el]=null));try{dD(n),mV(i.bindingStartIndex),e!==null&&E5(i,n,e,2,t);let d=(o&3)===3;if(!r)if(d){let g=i.preOrderCheckHooks;g!==null&&qC(n,g,null)}else{let g=i.preOrderHooks;g!==null&&JC(n,g,0,null),PD(n,0)}if(s||gre(n),N5(n),L5(n,0),i.contentQueries!==null&&z4(i,n),!r)if(d){let g=i.contentCheckHooks;g!==null&&qC(n,g)}else{let g=i.contentHooks;g!==null&&JC(n,g,1),PD(n,1)}bre(i,n);let u=i.components;u!==null&&B5(n,u,0);let m=i.viewQuery;if(m!==null&&KD(2,m,t),!r)if(d){let g=i.viewCheckHooks;g!==null&&qC(n,g)}else{let g=i.viewHooks;g!==null&&JC(n,g,2),PD(n,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),n[PC]){for(let g of n[PC])g();n[PC]=null}r||(P5(n),n[ki]&=-73)}catch(d){throw r||bu(n),d}finally{c!==null&&(xm(c,l),a&&cre(c)),BC()}}function L5(i,n){for(let e=L4(i);e!==null;e=M4(e))for(let t=cr;t<e.length;t++){let o=e[t];M5(o,n)}}function gre(i){for(let n=L4(i);n!==null;n=M4(n)){if(!(n[ki]&2))continue;let e=n[gf];for(let t=0;t<e.length;t++){let o=e[t];pD(o)}}}function _re(i,n,e){po(18);let t=Al(n,i);M5(t,e),po(19,t[vr])}function M5(i,n){AC(i)&&rP(i,n)}function rP(i,n){let t=i[yi],o=i[ki],r=i[el],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(r?.dirty&&Tm(r)),s||=!1,r&&(r.dirty=!1),i[ki]&=-9217,s)mre(t,i,t.template,i[vr]);else if(o&8192){let a=Ri(null);try{N5(i),L5(i,1);let l=t.components;l!==null&&B5(i,l,1),P5(i)}finally{Ri(a)}}}function B5(i,n,e){for(let t=0;t<n.length;t++)_re(i,n[t],e)}function bre(i,n){let e=i.hostBindingOpCodes;if(e!==null)try{for(let t=0;t<e.length;t++){let o=e[t];if(o<0)yu(~o);else{let r=o,s=e[++t],a=e[++t];_V(s,r);let l=n[r];po(24,l),a(2,l),po(25,l)}}}finally{yu(-1)}}function e2(i,n){let e=CD()?64:1088;for(i[ed].changeDetectionScheduler?.notify(n);i;){i[ki]|=e;let t=gu(i);if(Wm(i)&&!t)return i;i=t}return null}function V5(i,n,e,t){return[i,!0,0,n,null,t,null,e,null,null]}function U5(i,n){let e=cr+n;if(e<i.length)return i[e]}function vb(i,n,e,t=!0){let o=n[yi];if(yre(o,n,i,e),t){let s=cS(e,i),a=n[Ln],l=a.parentNode(i[_u]);l!==null&&Moe(o,i[ua],a,n,l,s)}let r=n[uf];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function j5(i,n){let e=db(i,n);return e!==void 0&&AS(e[yi],e),e}function db(i,n){if(i.length<=cr)return;let e=cr+n,t=i[e];if(t){let o=t[ep];o!==null&&o!==i&&KP(o,t),n>0&&(i[e-1][Dl]=t[Dl]);let r=$0(i,cr+n);Loe(t[yi],t);let s=r[td];s!==null&&s.detachView(r[yi]),t[is]=null,t[Dl]=null,t[ki]&=-129}return t}function yre(i,n,e,t){let o=cr+t,r=e.length;t>0&&(e[o-1][Dl]=n),t<r-cr?(n[Dl]=e[o],qR(e,cr+t,n)):(e.push(n),n[Dl]=null),n[is]=e;let s=n[ep];s!==null&&e!==s&&G5(s,n);let a=n[td];a!==null&&a.insertView(i),kC(n),n[ki]|=128}function G5(i,n){let e=i[gf],t=n[is];if(id(t))i[ki]|=2;else{let o=t[is][fa];n[fa]!==o&&(i[ki]|=2)}e===null?i[gf]=[n]:e.push(n)}var wu=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,e=n[yi];return cb(e,n,e.firstChild,[])}constructor(n,e){this._lView=n,this._cdRefInjectingView=e}get context(){return this._lView[vr]}set context(n){this._lView[vr]=n}get destroyed(){return _f(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[is];if(lc(n)){let e=n[Q0],t=e?e.indexOf(this):-1;t>-1&&(db(n,t),$0(e,t))}this._attachedToViewContainer=!1}AS(this._lView[yi],this._lView)}onDestroy(n){uD(this._lView,n)}markForCheck(){e2(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ki]&=-129}reattach(){kC(this._lView),this._lView[ki]|=128}detectChanges(){this._lView[ki]|=1024,F5(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Wm(this._lView),e=this._lView[ep];e!==null&&!n&&KP(e,this._lView),v5(this._lView[yi],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ot(902,!1);this._appRef=n;let e=Wm(this._lView),t=this._lView[ep];t!==null&&!e&&G5(t,this._lView),kC(this._lView)}};var Da=(()=>{class i{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=vre;constructor(e,t,o){this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,o){let r=yb(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:o});return new wu(r)}}return i})();function vre(){return LS(dr(),Wt())}function LS(i,n){return i.type&4?new Da(n,i,ug(i,n)):null}function fg(i,n,e,t,o){let r=i.data[n];if(r===null)r=wre(i,n,e,t,o),gV()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=t,r.attrs=o;let s=hV();r.injectorIndex=s===null?-1:s.injectorIndex}return $m(r,!0),r}function wre(i,n,e,t,o){let r=yD(),s=vD(),a=s?r:r&&r.parent,l=i.data[n]=Sre(i,a,e,n,t,o);return Cre(i,l,r,s),l}function Cre(i,n,e,t){i.firstChild===null&&(i.firstChild=n),e!==null&&(t?e.child==null&&n.parent!==null&&(e.child=n):e.next===null&&(e.next=n,n.prev=e))}function Sre(i,n,e,t,o,r){let s=n?n.injectorIndex:-1,a=0;return gD()&&(a|=128),{type:e,index:t,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Iwt=new RegExp(`^(\\d+)*(${xne}|${Ene})*(.*)`);function Ire(i){let n=i[rD]??[],t=i[is][Ln],o=[];for(let r of n)r.data[U4]!==void 0?o.push(r):Ere(r,t);i[rD]=o}function Ere(i,n){let e=0,t=i.firstChild;if(t){let o=i.data[V4];for(;e<o;){let r=t.nextSibling;e5(n,t,!1),t=r,e++}}}var xre=()=>null,Tre=()=>null;function dS(i,n){return xre(i,n)}function H5(i,n,e){return Tre(i,n,e)}var z5=class{},MS=class{},sP=class{resolveComponentFactory(n){throw new ot(917,!1)}},wb=class{static NULL=new sP},il=class{},Wo=(()=>{class i{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ore()}return i})();function Ore(){let i=Wt(),n=dr(),e=Al(n.index,i);return(id(e)?e:i)[Ln]}var W5=(()=>{class i{static \u0275prov=ne({token:i,providedIn:"root",factory:()=>null})}return i})();var YC={},aP=class{injector;parentInjector;constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,t){let o=this.injector.get(n,YC,t);return o!==YC||e===YC?o:this.parentInjector.get(n,e,t)}};function pS(i,n,e){let t=e?i.styles:null,o=e?i.classes:null,r=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")r=a;else if(r==1)o=IC(o,a);else if(r==2){let l=a,c=n[++s];t=IC(t,l+": "+c+";")}}e?i.styles=t:i.stylesWithoutHost=t,e?i.classes=o:i.classesWithoutHost=o}function x(i,n=0){let e=Wt();if(e===null)return be(i,n);let t=dr();return D4(t,e,ts(i),n)}function t2(){let i="invalid";throw new Error(i)}function $5(i,n,e,t,o){let r=t===null?null:{"":-1},s=o(i,e);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}Pre(i,n,e,a,r,l,c)}r!==null&&t!==null&&Rre(e,t,r)}function Rre(i,n,e){let t=i.localNames=[];for(let o=0;o<n.length;o+=2){let r=e[n[o+1]];if(r==null)throw new ot(-301,!1);t.push(n[o],r)}}function Dre(i,n,e){n.componentOffset=e,(i.components??=[]).push(n.index)}function Pre(i,n,e,t,o,r,s){let a=t.length,l=!1;for(let m=0;m<a;m++){let g=t[m];!l&&cc(g)&&(l=!0,Dre(i,e,m)),HD(nS(e,n),i,g.type)}Mre(e,i.data.length,a);for(let m=0;m<a;m++){let g=t[m];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,u=s5(i,n,a,null);a>0&&(e.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=t[m];if(e.mergedAttrs=ig(e.mergedAttrs,g.hostAttrs),kre(i,e,n,u,g),Lre(u,g,o),s!==null&&s.has(g)){let[v,S]=s.get(g);e.directiveToIndex.set(g.type,[u,v+e.directiveStart,S+e.directiveStart])}else(r===null||!r.has(g))&&e.directiveToIndex.set(g.type,u);g.contentQueries!==null&&(e.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(e.flags|=64);let y=g.type.prototype;!c&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),c=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),d=!0),u++}Are(i,e,r)}function Are(i,n,e){for(let t=n.directiveStart;t<n.directiveEnd;t++){let o=i.data[t];if(e===null||!e.has(o))JV(0,n,o,t),JV(1,n,o,t),YV(n,t,!1);else{let r=e.get(o);QV(0,n,r,t),QV(1,n,r,t),YV(n,t,!0)}}}function JV(i,n,e,t){let o=i===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s;i===0?s=n.inputs??={}:s=n.outputs??={},s[r]??=[],s[r].push(t),K5(n,r)}}function QV(i,n,e,t){let o=i===0?e.inputs:e.outputs;for(let r in o)if(o.hasOwnProperty(r)){let s=o[r],a;i===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(t,r),K5(n,s)}}function K5(i,n){n==="class"?i.flags|=8:n==="style"&&(i.flags|=16)}function YV(i,n,e){let{attrs:t,inputs:o,hostDirectiveInputs:r}=i;if(t===null||!e&&o===null||e&&r===null||VP(i)){i.initialInputs??=[],i.initialInputs.push(null);return}let s=null,a=0;for(;a<t.length;){let l=t[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!e&&o.hasOwnProperty(l)){let c=o[l];for(let d of c)if(d===n){s??=[],s.push(l,t[a+1]);break}}else if(e&&r.hasOwnProperty(l)){let c=r[l];for(let d=0;d<c.length;d+=2)if(c[d]===n){s??=[],s.push(c[d+1],t[a+1]);break}}a+=2}i.initialInputs??=[],i.initialInputs.push(s)}function kre(i,n,e,t,o){i.data[t]=o;let r=o.factory||(o.factory=mu(o.type,!0)),s=new Cf(r,cc(o),x,null);i.blueprint[t]=s,e[t]=s,Nre(i,n,t,s5(i,e,o.hostVars,gs),o)}function Nre(i,n,e,t,o){let r=o.hostBindings;if(r){let s=i.hostBindingOpCodes;s===null&&(s=i.hostBindingOpCodes=[]);let a=~n.index;Fre(s)!=a&&s.push(a),s.push(e,t,r)}}function Fre(i){let n=i.length;for(;n>0;){let e=i[--n];if(typeof e=="number"&&e<0)return e}return 0}function Lre(i,n,e){if(e){if(n.exportAs)for(let t=0;t<n.exportAs.length;t++)e[n.exportAs[t]]=i;cc(n)&&(e[""]=i)}}function Mre(i,n,e){i.flags|=1,i.directiveStart=n,i.directiveEnd=n+e,i.providerIndexes=n}function i2(i,n,e,t,o,r,s,a){let l=n[yi],c=l.consts,d=kl(c,s),u=fg(l,i,e,t,d);return r&&$5(l,n,u,kl(c,a),o),u.mergedAttrs=ig(u.mergedAttrs,u.attrs),u.attrs!==null&&pS(u,u.attrs,!1),u.mergedAttrs!==null&&pS(u,u.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,u),u}function n2(i,n){w4(i,n),sD(n)&&i.queries.elementEnd(n)}function Bre(i,n,e,t,o,r){let s=n.consts,a=kl(s,o),l=fg(n,i,e,t,a);if(l.mergedAttrs=ig(l.mergedAttrs,l.attrs),r!=null){let c=kl(s,r);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&pS(l,l.attrs,!1),l.mergedAttrs!==null&&pS(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function o2(i){return BS(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function q5(i,n){if(Array.isArray(i))for(let e=0;e<i.length;e++)n(i[e]);else{let e=i[Symbol.iterator](),t;for(;!(t=e.next()).done;)n(t.value)}}function BS(i){return i!==null&&(typeof i=="function"||typeof i=="object")}function ap(i,n,e){return i[n]=e}function Cb(i,n){return i[n]}function Ys(i,n,e){if(e===gs)return!1;let t=i[n];return Object.is(t,e)?!1:(i[n]=e,!0)}function rg(i,n,e,t){let o=Ys(i,n,e);return Ys(i,n+1,t)||o}function r2(i,n,e,t,o){let r=rg(i,n,e,t);return Ys(i,n+2,o)||r}function sg(i,n,e,t,o,r){let s=rg(i,n,e,t);return rg(i,n+2,o,r)||s}function XC(i,n,e){return function t(o){let r=np(i)?Al(i.index,n):n;e2(r,5);let s=n[vr],a=XV(n,s,e,o),l=t.__ngNextListenerFn__;for(;l;)a=XV(n,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function XV(i,n,e,t){let o=Ri(null);try{return po(6,n,e),e(t)!==!1}catch(r){return nre(i,r),!1}finally{po(7,n,e),Ri(o)}}function J5(i,n,e,t,o,r,s,a){let l=zm(i),c=!1,d=null;if(!t&&l&&(d=Ure(n,e,r,i.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let u=Oa(i,e),m=t?t(u):u;One(e,m,r,a);let g=o.listen(m,r,a);if(!Vre(r)){let y=t?v=>t(Pl(v[i.index])):i.index;Q5(y,n,e,r,a,g,!1)}}return c}function Vre(i){return i.startsWith("animation")||i.startsWith("transition")}function Ure(i,n,e,t){let o=i.cleanup;if(o!=null)for(let r=0;r<o.length-1;r+=2){let s=o[r];if(s===e&&o[r+1]===t){let a=n[Gm],l=o[r+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(r+=2)}return null}function Q5(i,n,e,t,o,r,s){let a=n.firstCreatePass?fD(n):null,l=hD(e),c=l.length;l.push(o,r),a&&a.push(t,i,c,(c+1)*(s?-1:1))}function ZV(i,n,e,t,o,r){let s=n[e],a=n[yi],c=a.data[e].outputs[t],u=s[c].subscribe(r);Q5(i.index,a,n,o,r,u,!0)}var lP=Symbol("BINDING");var uS=class extends wb{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Xc(n);return new Cu(e,this.ngModule)}};function jre(i){return Object.keys(i).map(n=>{let[e,t,o]=i[n],r={propName:e,templateName:n,isSignal:(t&RS.SignalBased)!==0};return o&&(r.transform=o),r})}function Gre(i){return Object.keys(i).map(n=>({propName:i[n],templateName:n}))}function Hre(i,n,e){let t=n instanceof er?n:n?.injector;return t&&i.getStandaloneInjector!==null&&(t=i.getStandaloneInjector(t)||t),t?new aP(e,t):e}function zre(i){let n=i.get(il,null);if(n===null)throw new ot(407,!1);let e=i.get(W5,null),t=i.get(rc,null);return{rendererFactory:n,sanitizer:e,changeDetectionScheduler:t,ngReflect:!1}}function Wre(i,n){let e=Y5(i);return X4(n,e,e==="svg"?aD:e==="math"?rV:null)}function Y5(i){return(i.selectors[0][0]||"div").toLowerCase()}var Cu=class extends MS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jre(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Gre(this.componentDef.outputs),this.cachedOutputs}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=goe(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!e}create(n,e,t,o,r,s){po(22);let a=Ri(null);try{let l=this.componentDef,c=$re(t,l,s,r),d=Hre(l,o||this.ngModule,n),u=zre(d),m=u.rendererFactory.createRenderer(null,l),g=t?qoe(m,t,l.encapsulation,d):Wre(l,m),y=s?.some(e4)||r?.some(I=>typeof I!="function"&&I.bindings.some(e4)),v=jP(null,c,null,512|r5(l),null,null,u,m,d,null,H4(g,d,!0));v[So]=g,MC(v);let S=null;try{let I=i2(So,v,2,"#host",()=>c.directiveRegistry,!0,0);t5(m,g,I),ng(g,v),NS(c,v,I),DP(c,I,v),n2(c,I),e!==void 0&&qre(I,this.ngContentSelectors,e),S=Al(I.index,v),v[vr]=S[vr],ZP(c,v,null)}catch(I){throw S!==null&&WD(S),WD(v),I}finally{po(23),BC()}return new hS(this.componentType,v,!!y)}finally{Ri(a)}}};function $re(i,n,e,t){let o=i?["ng-version","20.3.16"]:_oe(n.selectors[0]),r=null,s=null,a=0;if(e)for(let d of e)a+=d[lP].requiredVars,d.create&&(d.targetIdx=0,(r??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(t)for(let d=0;d<t.length;d++){let u=t[d];if(typeof u!="function")for(let m of u.bindings){a+=m[lP].requiredVars;let g=d+1;m.create&&(m.targetIdx=g,(r??=[]).push(m)),m.update&&(m.targetIdx=g,(s??=[]).push(m))}}let l=[n];if(t)for(let d of t){let u=typeof d=="function"?d:d.type,m=RC(u);l.push(m)}return UP(0,null,Kre(r,s),1,a,l,null,null,null,[o],null)}function Kre(i,n){return!i&&!n?null:e=>{if(e&1&&i)for(let t of i)t.create();if(e&2&&n)for(let t of n)t.update()}}function e4(i){let n=i[lP].kind;return n==="input"||n==="twoWay"}var hS=class extends z5{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,e,t){super(),this._rootLView=e,this._hasInputBindings=t,this._tNode=Y0(e[yi],So),this.location=ug(this._tNode,e),this.instance=Al(this._tNode.index,e)[vr],this.hostView=this.changeDetectorRef=new wu(e,void 0),this.componentType=n}setInput(n,e){this._hasInputBindings;let t=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView,r=FS(t,o[yi],o,n,e);this.previousInputValues.set(n,e);let s=Al(t.index,o);e2(s,1)}get injector(){return new vf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function qre(i,n,e){let t=i.projection=[];for(let o=0;o<n.length;o++){let r=e[o];t.push(r!=null&&r.length?Array.from(r):null)}}var Fr=(()=>{class i{static __NG_ELEMENT_ID__=Jre}return i})();function Jre(){let i=dr();return Z5(i,Wt())}var Qre=Fr,X5=class extends Qre{_lContainer;_hostTNode;_hostLView;constructor(n,e,t){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=t}get element(){return ug(this._hostTNode,this._hostLView)}get injector(){return new vf(this._hostTNode,this._hostLView)}get parentInjector(){let n=xP(this._hostTNode,this._hostLView);if(I4(n)){let e=tS(n,this._hostLView),t=eS(n),o=e[yi].data[t+8];return new vf(o,e)}else return new vf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=t4(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(n,e,t){let o,r;typeof t=="number"?o=t:t!=null&&(o=t.index,r=t.injector);let s=dS(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(a,o,og(this._hostTNode,s)),a}createComponent(n,e,t,o,r,s,a){let l=n&&!Zie(n),c;if(l)c=e;else{let S=e||{};c=S.index,t=S.injector,o=S.projectableNodes,r=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let d=l?n:new Cu(Xc(n)),u=t||this.parentInjector;if(!r&&d.ngModule==null){let I=(l?u:this.parentInjector).get(er,null);I&&(r=I)}let m=Xc(d.componentType??{}),g=dS(this._lContainer,m?.id??null),y=g?.firstChild??null,v=d.create(u,o,y,r,s,a);return this.insertImpl(v.hostView,c,og(this._hostTNode,g)),v}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,t){let o=n._lView;if(aV(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=o[is],c=new X5(l,l[ua],l[is]);c.detach(c.indexOf(n))}}let r=this._adjustIndex(e),s=this._lContainer;return vb(s,o,r,t),n.attachToViewContainerRef(),qR(ND(s),r,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=t4(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),t=db(this._lContainer,e);t&&($0(ND(this._lContainer),e),AS(t[yi],t))}detach(n){let e=this._adjustIndex(n,-1),t=db(this._lContainer,e);return t&&$0(ND(this._lContainer),e)!=null?new wu(t):null}_adjustIndex(n,e=0){return n??this.length+e}};function t4(i){return i[Q0]}function ND(i){return i[Q0]||(i[Q0]=[])}function Z5(i,n){let e,t=n[i.index];return lc(t)?e=t:(e=V5(t,n,null,i),n[i.index]=e,GP(n,e)),Xre(e,n,i,t),new X5(e,i,n)}function Yre(i,n){let e=i[Ln],t=e.createComment(""),o=Oa(n,i),r=e.parentNode(o);return rS(e,r,t,e.nextSibling(o),!1),t}var Xre=tse,Zre=()=>!1;function ese(i,n,e){return Zre(i,n,e)}function tse(i,n,e,t){if(i[_u])return;let o;e.type&8?o=Pl(t):o=Yre(n,e),i[_u]=o}var cP=class i{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},dP=class i{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let t=n.contentQueries!==null?n.contentQueries[0]:e.length,o=[];for(let r=0;r<t;r++){let s=e.getByIndex(r),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new i(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)a2(n,e).matches!==null&&this.queries[e].setDirty()}},fS=class{flags;read;predicate;constructor(n,e,t=null){this.flags=e,this.read=t,typeof n=="string"?this.predicate=ase(n):this.predicate=n}},pP=class i{queries;constructor(n=[]){this.queries=n}elementStart(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let t=0;t<this.length;t++){let o=e!==null?e.length:0,r=this.getByIndex(t).embeddedTView(n,o);r&&(r.indexInDeclarationView=t,e!==null?e.push(r):e=[r])}return e!==null?new i(e):null}template(n,e){for(let t=0;t<this.queries.length;t++)this.queries[t].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},uP=class i{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,e=-1){this.metadata=n,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new i(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,t=n.parent;for(;t!==null&&t.type&8&&t.index!==e;)t=t.parent;return e===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){let r=t[o];this.matchTNodeWithReadOption(n,e,ise(e,r)),this.matchTNodeWithReadOption(n,e,QC(e,n,r,!1,!1))}else t===Da?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,QC(e,n,t,!1,!1))}matchTNodeWithReadOption(n,e,t){if(t!==null){let o=this.metadata.read;if(o!==null)if(o===Ei||o===Fr||o===Da&&e.type&4)this.addMatch(e.index,-2);else{let r=QC(e,n,o,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,t)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function ise(i,n){let e=i.localNames;if(e!==null){for(let t=0;t<e.length;t+=2)if(e[t]===n)return e[t+1]}return null}function nse(i,n){return i.type&11?ug(i,n):i.type&4?LS(i,n):null}function ose(i,n,e,t){return e===-1?nse(n,i):e===-2?rse(i,n,t):ab(i,i[yi],e,n)}function rse(i,n,e){if(e===Ei)return ug(n,i);if(e===Da)return LS(n,i);if(e===Fr)return Z5(n,i)}function eU(i,n,e,t){let o=n[td].queries[t];if(o.matches===null){let r=i.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=r[c];a.push(ose(n,d,s[l+1],e.metadata.read))}}o.matches=a}return o.matches}function hP(i,n,e,t){let o=i.queries.getByIndex(e),r=o.matches;if(r!==null){let s=eU(i,n,o,e);for(let a=0;a<r.length;a+=2){let l=r[a];if(l>0)t.push(s[a/2]);else{let c=r[a+1],d=n[-l];for(let u=cr;u<d.length;u++){let m=d[u];m[ep]===m[is]&&hP(m[yi],m,c,t)}if(d[gf]!==null){let u=d[gf];for(let m=0;m<u.length;m++){let g=u[m];hP(g[yi],g,c,t)}}}}}return t}function s2(i,n){return i[td].queries[n].queryList}function tU(i,n,e){let t=new oS((e&4)===4);return dV(i,n,t,t.destroy),(n[td]??=new dP).queries.push(new cP(t))-1}function sse(i,n,e){let t=Io();return t.firstCreatePass&&(nU(t,new fS(i,n,e),-1),(n&2)===2&&(t.staticViewQueries=!0)),tU(t,Wt(),n)}function iU(i,n,e,t){let o=Io();if(o.firstCreatePass){let r=dr();nU(o,new fS(n,e,t),r.index),lse(o,i),(e&2)===2&&(o.staticContentQueries=!0)}return tU(o,Wt(),e)}function ase(i){return i.split(",").map(n=>n.trim())}function nU(i,n,e){i.queries===null&&(i.queries=new pP),i.queries.track(new uP(n,e))}function lse(i,n){let e=i.contentQueries||(i.contentQueries=[]),t=e.length?e[e.length-1]:-1;n!==t&&e.push(i.queries.length-1,n)}function a2(i,n){return i.queries.getByIndex(n)}function oU(i,n){let e=i[yi],t=a2(e,n);return t.crossesNgTemplate?hP(e,i,n,[]):eU(e,i,t,n)}function rU(i,n,e){let t,o=A0(()=>{t._dirtyCounter();let r=dse(t,i);if(n&&r===void 0)throw new ot(-951,!1);return r});return t=o[Zr],t._dirtyCounter=lt(0),t._flatValue=void 0,o}function sU(i){return rU(!0,!1,i)}function aU(i){return rU(!0,!0,i)}function cse(i,n){let e=i[Zr];e._lView=Wt(),e._queryIndex=n,e._queryList=s2(e._lView,n),e._queryList.onDirty(()=>e._dirtyCounter.update(t=>t+1))}function dse(i,n){let e=i._lView,t=i._queryIndex;if(e===void 0||t===void 0||e[ki]&4)return n?void 0:Qs;let o=s2(e,t),r=oU(e,t);return o.reset(r,k4),n?o.first:o._changesDetected||i._flatValue===void 0?i._flatValue=o.toArray():i._flatValue}function lU(i){let n=[],e=new Map;function t(o){let r=e.get(o);if(!r){let s=i(o);e.set(o,r=s.then(a=>use(o,a)))}return r}return mS.forEach((o,r)=>{let s=[];o.templateUrl&&s.push(t(o.templateUrl).then(c=>{o.template=c}));let a=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=a,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let c=o.styles.length,d=o.styleUrls;o.styleUrls.forEach((u,m)=>{a.push(""),s.push(t(u).then(g=>{a[c+m]=g,d.splice(d.indexOf(u),1),d.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(t(o.styleUrl).then(c=>{a.push(c),o.styleUrl=void 0}));let l=Promise.all(s).then(()=>hse(r));n.push(l)}),cU(),Promise.all(n).then(()=>{})}var mS=new Map,pse=new Set;function cU(){let i=mS;return mS=new Map,i}function dU(){return mS.size===0}function use(i,n){return typeof n=="string"?n:n.status!==void 0&&n.status!==200?Promise.reject(new ot(918,!1)):n.text()}function hse(i){pse.delete(i)}var Su=class{},VS=class{};function l2(i,n){return new ag(i,n??null,[])}var ag=class extends Su{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new uS(this);constructor(n,e,t,o=!0){super(),this.ngModuleType=n,this._parent=e;let r=YR(n);this._bootstrapComponents=i5(r.bootstrap),this._r3Injector=xD(n,e,[{provide:Su,useValue:this},{provide:wb,useValue:this.componentFactoryResolver},...t],Zd(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},pb=class extends VS{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ag(this.moduleType,n,[])}};function pU(i,n,e){return new ag(i,n,e,!1)}var gS=class extends Su{injector;componentFactoryResolver=new uS(this);instance=null;constructor(n){super();let e=new df([...n.providers,{provide:Su,useValue:this},{provide:wb,useValue:this.componentFactoryResolver}],n.parent||jm(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function mg(i,n,e=null){return new gS({providers:i,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var fse=(()=>{class i{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let t=ZR(!1,e.type),o=t.length>0?mg([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ne({token:i,providedIn:"environment",factory:()=>new i(be(er))})}return i})();function oe(i){return pg(()=>{let n=hU(i),e=Fe(ee({},n),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===TP.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&i.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(fse).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||op.Emulated,styles:i.styles||Qs,_:null,schemas:i.schemas||null,tView:null,id:""});n.standalone&&Nl("NgStandalone"),fU(e);let t=i.dependencies;return e.directiveDefs=_S(t,uU),e.pipeDefs=_S(t,XR),e.id=_se(e),e})}function uU(i){return Xc(i)||RC(i)}function je(i){return pg(()=>({type:i.type,bootstrap:i.bootstrap||Qs,declarations:i.declarations||Qs,imports:i.imports||Qs,exports:i.exports||Qs,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function mse(i,n){if(i==null)return sc;let e={};for(let t in i)if(i.hasOwnProperty(t)){let o=i[t],r,s,a,l;Array.isArray(o)?(a=o[0],r=o[1],s=o[2]??r,l=o[3]||null):(r=o,s=o,a=RS.None,l=null),e[r]=[t,a,l],n[r]=s}return e}function gse(i){if(i==null)return sc;let n={};for(let e in i)i.hasOwnProperty(e)&&(n[i[e]]=e);return n}function ht(i){return pg(()=>{let n=hU(i);return fU(n),n})}function Vo(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone??!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function hU(i){let n={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:n,inputConfig:i.inputs||sc,exportAs:i.exportAs||null,standalone:i.standalone??!0,signals:i.signals===!0,selectors:i.selectors||Qs,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:mse(i.inputs,n),outputs:gse(i.outputs),debugInfo:null}}function fU(i){i.features?.forEach(n=>n(i))}function _S(i,n){return i?()=>{let e=typeof i=="function"?i():i,t=[];for(let o of e){let r=n(o);r!==null&&t.push(r)}return t}:null}function _se(i){let n=0,e=typeof i.consts=="function"?"":i.consts,t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,e,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery];for(let r of t.join("|"))n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function bse(i){return Object.getPrototypeOf(i.prototype).constructor}function re(i){let n=bse(i.type),e=!0,t=[i];for(;n;){let o;if(cc(i))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ot(903,!1);o=n.\u0275dir}if(o){if(e){t.push(o);let s=i;s.inputs=FD(i.inputs),s.declaredInputs=FD(i.declaredInputs),s.outputs=FD(i.outputs);let a=o.hostBindings;a&&Sse(i,a);let l=o.viewQuery,c=o.contentQueries;if(l&&wse(i,l),c&&Cse(i,c),yse(i,o),zB(i.outputs,o.outputs),cc(o)&&o.data.animation){let d=i.data;d.animation=(d.animation||[]).concat(o.data.animation)}}let r=o.features;if(r)for(let s=0;s<r.length;s++){let a=r[s];a&&a.ngInherit&&a(i),a===re&&(e=!1)}}n=Object.getPrototypeOf(n)}vse(t)}function yse(i,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||i.inputs.hasOwnProperty(e))continue;let t=n.inputs[e];t!==void 0&&(i.inputs[e]=t,i.declaredInputs[e]=n.declaredInputs[e])}}function vse(i){let n=0,e=null;for(let t=i.length-1;t>=0;t--){let o=i[t];o.hostVars=n+=o.hostVars,o.hostAttrs=ig(o.hostAttrs,e=ig(e,o.hostAttrs))}}function FD(i){return i===sc?{}:i===Qs?[]:i}function wse(i,n){let e=i.viewQuery;e?i.viewQuery=(t,o)=>{n(t,o),e(t,o)}:i.viewQuery=n}function Cse(i,n){let e=i.contentQueries;e?i.contentQueries=(t,o,r)=>{n(t,o,r),e(t,o,r)}:i.contentQueries=n}function Sse(i,n){let e=i.hostBindings;e?i.hostBindings=(t,o)=>{n(t,o),e(t,o)}:i.hostBindings=n}function nt(i){let n=e=>{let t=Array.isArray(i);e.hostDirectives===null?(e.resolveHostDirectives=Ise,e.hostDirectives=t?i.map(fP):[i]):t?e.hostDirectives.unshift(...i.map(fP)):e.hostDirectives.unshift(i)};return n.ngInherit=!0,n}function Ise(i){let n=[],e=!1,t=null,o=null;for(let r=0;r<i.length;r++){let s=i[r];if(s.hostDirectives!==null){let a=n.length;t??=new Map,o??=new Map,mU(s,n,t),o.set(s,[a,n.length-1])}r===0&&cc(s)&&(e=!0,n.push(s))}for(let r=e?1:0;r<i.length;r++)n.push(i[r]);return[n,t,o]}function mU(i,n,e){if(i.hostDirectives!==null)for(let t of i.hostDirectives)if(typeof t=="function"){let o=t();for(let r of o)i4(fP(r),n,e)}else i4(t,n,e)}function i4(i,n,e){let t=RC(i.directive);Ese(t.declaredInputs,i.inputs),mU(t,n,e),e.set(t,i),n.push(t)}function fP(i){return typeof i=="function"?{directive:ts(i),inputs:sc,outputs:sc}:{directive:ts(i.directive),inputs:n4(i.inputs),outputs:n4(i.outputs)}}function n4(i){if(i===void 0||i.length===0)return sc;let n={};for(let e=0;e<i.length;e+=2)n[i[e]]=i[e+1];return n}function Ese(i,n){for(let e in n)if(n.hasOwnProperty(e)){let t=n[e],o=i[e];i[t]=o}}function gU(i,n,e,t,o,r,s,a){if(e.firstCreatePass){i.mergedAttrs=ig(i.mergedAttrs,i.attrs);let d=i.tView=UP(2,i,o,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,i),d.queries=e.queries.embeddedTView(i))}a&&(i.flags|=a),$m(i,!1);let l=Tse(e,n,i,t);VC()&&qP(e,n,l,i),ng(l,n);let c=V5(l,n,l,i);n[t+So]=c,GP(n,c),ese(c,i,n)}function xse(i,n,e,t,o,r,s,a,l,c,d){let u=e+So,m;return n.firstCreatePass?(m=fg(n,u,4,s||null,a||null),NC()&&$5(n,i,m,kl(n.consts,c),QP),w4(n,m)):m=n.data[u],gU(m,i,n,e,t,o,r,l),zm(m)&&NS(n,i,m),c!=null&&bb(i,m,d),m}function ub(i,n,e,t,o,r,s,a,l,c,d){let u=e+So,m;if(n.firstCreatePass){if(m=fg(n,u,4,s||null,a||null),c!=null){let g=kl(n.consts,c);m.localNames=[];for(let y=0;y<g.length;y+=2)m.localNames.push(g[y],-1)}}else m=n.data[u];return gU(m,i,n,e,t,o,r,l),c!=null&&bb(i,m,d),m}function E(i,n,e,t,o,r,s,a){let l=Wt(),c=Io(),d=kl(c.consts,r);return xse(l,c,i,n,e,t,o,d,void 0,s,a),E}var Tse=Ose;function Ose(i,n,e,t){return ib(!0),n[Ln].createComment("")}var US=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();var jS=new he(""),gg=new he(""),Sb=(()=>{class i{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,t,o){this._ngZone=e,this.registry=t,iD()&&(this._destroyRef=z(ms,{optional:!0})??void 0),c2||(_U(o),o.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),t=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),t.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>t.updateCb&&t.updateCb(e)?(clearTimeout(t.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==r),e()},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,t,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,o){return[]}static \u0275fac=function(t){return new(t||i)(be(Ft),be(Ib),be(gg))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Ib=(()=>{class i{_applications=new Map;registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return c2?.findTestabilityInTree(this,e,t)??null}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function _U(i){c2=i}var c2;function Eu(i){return!!i&&typeof i.then=="function"}function d2(i){return!!i&&typeof i.subscribe=="function"}var p2=new he("");function Eb(i){return Zc([{provide:p2,multi:!0,useValue:i}])}var u2=(()=>{class i{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t});appInits=z(p2,{optional:!0})??[];injector=z(hn);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let r=fs(this.injector,o);if(Eu(r))e.push(r);else if(d2(r)){let s=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(s)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{t()}).catch(o=>{this.reject(o)}),e.length===0&&t(),this.initialized=!0}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),GS=new he("");function bU(){rR(()=>{let i="";throw new ot(600,i)})}function yU(i){return i.isBoundToModule}var Rse=10;function h2(i,n){return Array.isArray(n)?n.reduce(h2,i):ee(ee({},i),n)}var Xs=(()=>{class i{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(Ra);afterRenderManager=z($P);zonelessEnabled=z(nb);rootEffectScheduler=z(ob);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Le;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=z(od);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(e=>!e))}constructor(){z(If,{optional:!0})}whenStable(){let e;return new Promise(t=>{e=this.isStable.subscribe({next:o=>{o&&t()}})}).finally(()=>{e.unsubscribe()})}_injector=z(er);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,t){return this.bootstrapImpl(e,t)}bootstrapImpl(e,t,o=hn.NULL){return this._injector.get(Ft).run(()=>{po(10);let s=e instanceof MS;if(!this._injector.get(u2).done){let y="";throw new ot(405,y)}let l;s?l=e:l=this._injector.get(wb).resolveComponentFactory(e),this.componentTypes.push(l.componentType);let c=yU(l)?void 0:this._injector.get(Su),d=t||l.selector,u=l.create(o,[],d,c),m=u.location.nativeElement,g=u.injector.get(jS,null);return g?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),sb(this.components,u),g?.unregisterApplication(m)}),this._loadComponent(u),po(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){po(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(DS.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ot(101,!1);let e=Ri(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ri(e),this.afterTick.next(),po(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(il,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Rse;)po(14),this.synchronizeOnce(),po(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!t&&!Z0(o))continue;let r=t&&!this.zonelessEnabled?0:1;F5(o,r),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Z0(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;sb(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(e),this._injector.get(GS,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sb(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ot(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function sb(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function Dse(){let i,n;return{promise:new Promise((t,o)=>{i=t,n=o}),resolve:i,reject:n}}function xu(i,n){let e=Wt(),t=nd();if(Ys(e,t,n)){let o=Io(),r=qm();if(FS(r,o,e,i,n))np(r)&&O5(e,r.index);else{let a=Oa(r,e);R5(e[Ln],a,null,r.value,i,n,null)}}return xu}function ce(i,n,e,t){let o=Wt(),r=nd();if(Ys(o,r,n)){let s=Io(),a=qm();tre(a,o,i,n,e,t)}return ce}var vU=new he("",{providedIn:"root",factory:()=>!1});var Pse=!1,xb=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function wU(i){return i[ha].get(vU,Pse)}function Ase(i,n,e){let t=lg.get(i);if(t){for(let o of n)t.classList.push(o);for(let o of e)t.cleanupFns.push(o)}else lg.set(i,{classList:n,cleanupFns:e})}function f2(i){let n=lg.get(i);if(n){for(let e of n.cleanupFns)e();lg.delete(i)}wf.delete(i)}var lg=new WeakMap,wf=new WeakMap,Zm=new WeakMap;function o4(i,n){let e=Zm.get(i);if(e&&e.length>0){let t=e.findIndex(o=>o===n);t>-1&&e.splice(t,1)}e?.length===0&&Zm.delete(i)}function CU(i,n){let e=Zm.get(i)?.shift(),t=n[ep];if(t){let r=cS(i.index,t)?.previousSibling;e&&r&&e===r&&e.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function kse(i,n){Zm.has(i)?Zm.get(i)?.push(n):Zm.set(i,[n])}function r4(i){let n=i[ip]??={};return n.enter??=new Map}function HS(i){let n=i[ip]??={};return n.leave??=new Map}function SU(i){let n=typeof i=="function"?i():i,e=Array.isArray(n)?n:null;return typeof n=="string"&&(e=n.trim().split(/\s+/).filter(t=>t)),e}function Nse(i,n){if(!xb)return;let e=lg.get(i);if(e&&e.classList.length>0&&Fse(i,e.classList))for(let t of e.classList)n.removeClass(i,t);f2(i)}function Fse(i,n){for(let e of n)if(i.classList.contains(e))return!0;return!1}function IU(i,n){let e=wf.get(n);return e===void 0?!0:n===i.target&&(e.animationName!==void 0&&i.animationName===e.animationName||e.propertyName!==void 0&&i.propertyName===e.propertyName)}function EU(i,n,e){let t=i.get(n.index)??{animateFns:[]};t.animateFns.push(e),i.set(n.index,t)}function s4(i,n){if(i)for(let e of i)e();for(let e of n)e()}function a4(i,n){let e=HS(i).get(n.index);e&&(e.resolvers=void 0)}function eg(i){if(Nl("NgAnimateEnter"),!xb)return eg;let n=Wt();if(wU(n))return eg;let e=dr();return CU(e,n),EU(r4(n),e,()=>Lse(n,e,i)),b5(n[ha]),y5(n[ha],r4(n)),eg}function Lse(i,n,e){let t=Oa(n,i),o=i[Ln],r=i[ha].get(Ft),s=SU(e),a=[],l=d=>{if(d.target!==t)return;let u=d instanceof AnimationEvent?"animationend":"transitionend";r.runOutsideAngular(()=>{o.listen(t,u,c)})},c=d=>{d.target===t&&Mse(d,t,o)};if(s&&s.length>0){r.runOutsideAngular(()=>{a.push(o.listen(t,"animationstart",l)),a.push(o.listen(t,"transitionstart",l))}),Ase(t,s,a);for(let d of s)o.addClass(t,d);r.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(d5(t,wf,xb),!wf.has(t)){for(let d of s)o.removeClass(t,d);f2(t)}})})}}function Mse(i,n,e){let t=lg.get(n);if(!(i.target!==n||!t)&&IU(i,n)){i.stopImmediatePropagation();for(let o of t.classList)e.removeClass(n,o);f2(n)}}function tg(i){if(Nl("NgAnimateLeave"),!xb)return tg;let n=Wt();if(wU(n))return tg;let t=dr();return CU(t,n),EU(HS(n),t,()=>Bse(n,t,i)),b5(n[ha]),tg}function Bse(i,n,e){let{promise:t,resolve:o}=Dse(),r=Oa(n,i),s=i[Ln],a=i[ha].get(Ft);vu.add(i),(HS(i).get(n.index).resolvers??=[]).push(o);let l=SU(e);return l&&l.length>0?Vse(r,n,i,l,s,a):o(),{promise:t,resolve:o}}function Vse(i,n,e,t,o,r){Nse(i,o);let s=[],a=HS(e).get(n.index)?.resolvers,l=c=>{if(c.target===i&&(c instanceof CustomEvent||IU(c,i))){if(c.stopImmediatePropagation(),wf.delete(i),o4(n,i),Array.isArray(n.projection))for(let d of t)o.removeClass(i,d);s4(a,s),a4(e,n)}};r.runOutsideAngular(()=>{s.push(o.listen(i,"animationend",l)),s.push(o.listen(i,"transitionend",l))}),kse(n,i);for(let c of t)o.addClass(i,c);r.runOutsideAngular(()=>{requestAnimationFrame(()=>{d5(i,wf,xb),wf.has(i)||(o4(n,i),s4(a,s),a4(e,n))})})}var mP=class{destroy(n){}updateValue(n,e){}swap(n,e){let t=Math.min(n,e),o=Math.max(n,e),r=this.detach(o);if(o-t>1){let s=this.detach(t);this.attach(t,r),this.attach(o,s)}else this.attach(t,r)}move(n,e){this.attach(e,this.detach(n))}};function LD(i,n,e,t,o){return i===e&&Object.is(n,t)?1:Object.is(o(i,n),o(e,t))?-1:0}function Use(i,n,e){let t,o,r=0,s=i.length-1,a=void 0;if(Array.isArray(n)){let l=n.length-1;for(;r<=s&&r<=l;){let c=i.at(r),d=n[r],u=LD(r,c,r,d,e);if(u!==0){u<0&&i.updateValue(r,d),r++;continue}let m=i.at(s),g=n[l],y=LD(s,m,l,g,e);if(y!==0){y<0&&i.updateValue(s,g),s--,l--;continue}let v=e(r,c),S=e(s,m),I=e(r,d);if(Object.is(I,S)){let P=e(l,g);Object.is(P,v)?(i.swap(r,s),i.updateValue(s,g),l--,s--):i.move(s,r),i.updateValue(r,d),r++;continue}if(t??=new bS,o??=c4(i,r,s,e),gP(i,t,r,I))i.updateValue(r,d),r++,s++;else if(o.has(I))t.set(v,i.detach(r)),s--;else{let P=i.create(r,n[r]);i.attach(r,P),r++,s++}}for(;r<=l;)l4(i,t,e,r,n[r]),r++}else if(n!=null){let l=n[Symbol.iterator](),c=l.next();for(;!c.done&&r<=s;){let d=i.at(r),u=c.value,m=LD(r,d,r,u,e);if(m!==0)m<0&&i.updateValue(r,u),r++,c=l.next();else{t??=new bS,o??=c4(i,r,s,e);let g=e(r,u);if(gP(i,t,r,g))i.updateValue(r,u),r++,s++,c=l.next();else if(!o.has(g))i.attach(r,i.create(r,u)),r++,s++,c=l.next();else{let y=e(r,d);t.set(y,i.detach(r)),s--}}}for(;!c.done;)l4(i,t,e,i.length,c.value),c=l.next()}for(;r<=s;)i.destroy(i.detach(s--));t?.forEach(l=>{i.destroy(l)})}function gP(i,n,e,t){return n!==void 0&&n.has(t)?(i.attach(e,n.get(t)),n.delete(t),!0):!1}function l4(i,n,e,t,o){if(gP(i,n,t,e(t,o)))i.updateValue(t,o);else{let r=i.create(t,o);i.attach(t,r)}}function c4(i,n,e,t){let o=new Set;for(let r=n;r<=e;r++)o.add(t(r,i.at(r)));return o}var bS=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let e=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(n,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,e){if(this.kvMap.has(n)){let t=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(t);)t=o.get(t);o.set(t,e)}else this.kvMap.set(n,e)}forEach(n){for(let[e,t]of this.kvMap)if(n(t,e),this._vMap!==void 0){let o=this._vMap;for(;o.has(t);)t=o.get(t),n(t,e)}}};function G(i,n,e,t,o,r,s,a){Nl("NgControlFlow");let l=Wt(),c=Io(),d=kl(c.consts,r);return ub(l,c,i,n,e,t,o,d,256,s,a),m2}function m2(i,n,e,t,o,r,s,a){Nl("NgControlFlow");let l=Wt(),c=Io(),d=kl(c.consts,r);return ub(l,c,i,n,e,t,o,d,512,s,a),m2}function H(i,n){Nl("NgControlFlow");let e=Wt(),t=nd(),o=e[t]!==gs?e[t]:-1,r=o!==-1?yS(e,So+o):void 0,s=0;if(Ys(e,t,i)){let a=Ri(null);try{if(r!==void 0&&j5(r,s),i!==-1){let l=So+i,c=yS(e,l),d=vP(e[yi],l),u=H5(c,d,e),m=yb(e,d,n,{dehydratedView:u});vb(c,m,s,og(d,u))}}finally{Ri(a)}}else if(r!==void 0){let a=U5(r,s);a!==void 0&&(a[vr]=n)}}var _P=class{lContainer;$implicit;$index;constructor(n,e,t){this.lContainer=n,this.$implicit=e,this.$index=t}get $count(){return this.lContainer.length-cr}};function Tb(i){return i}function ro(i,n){return n}var bP=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,e,t){this.hasEmptyBlock=n,this.trackByFn=e,this.liveCollection=t}};function fn(i,n,e,t,o,r,s,a,l,c,d,u,m){Nl("NgControlFlow");let g=Wt(),y=Io(),v=l!==void 0,S=Wt(),I=a?s.bind(S[fa][vr]):s,P=new bP(v,I);S[So+i]=P,ub(g,y,i+1,n,e,t,o,kl(y.consts,r),256),v&&ub(g,y,i+2,l,c,d,u,kl(y.consts,m),512)}var yP=class extends mP{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,e,t){super(),this.lContainer=n,this.hostLView=e,this.templateTNode=t}get length(){return this.lContainer.length-cr}at(n){return this.getLView(n)[vr].$implicit}attach(n,e){let t=e[uf];this.needsIndexUpdate||=n!==this.length,vb(this.lContainer,e,n,og(this.templateTNode,t)),jse(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,Gse(this.lContainer,n),Hse(this.lContainer,n)}create(n,e){let t=dS(this.lContainer,this.templateTNode.tView.ssrId),o=yb(this.hostLView,this.templateTNode,new _P(this.lContainer,e,n),{dehydratedView:t});return this.operationsCounter?.recordCreate(),o}destroy(n){AS(n[yi],n),this.operationsCounter?.recordDestroy()}updateValue(n,e){this.getLView(n)[vr].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[vr].$index=n}getLView(n){return zse(this.lContainer,n)}};function mn(i){let n=Ri(null),e=dc();try{let t=Wt(),o=t[yi],r=t[e],s=e+1,a=yS(t,s);if(r.liveCollection===void 0){let c=vP(o,s);r.liveCollection=new yP(a,t,c)}else r.liveCollection.reset();let l=r.liveCollection;if(Use(l,i,r.trackByFn),l.updateIndexes(),r.hasEmptyBlock){let c=nd(),d=l.length===0;if(Ys(t,c,d)){let u=e+2,m=yS(t,u);if(d){let g=vP(o,u),y=H5(m,g,t),v=yb(t,g,void 0,{dehydratedView:y});vb(m,v,0,og(g,y))}else o.firstUpdatePass&&Ire(m),j5(m,0)}}}finally{Ri(n)}}function yS(i,n){return i[n]}function jse(i,n){if(i.length<=cr)return;let e=cr+n,t=i[e],o=t?t[ip]:void 0;if(t&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let r=t[ha];Noe(r,o),vu.delete(t),o.detachedLeaveAnimationFns=void 0}}function Gse(i,n){if(i.length<=cr)return;let e=cr+n,t=i[e],o=t?t[ip]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function Hse(i,n){return db(i,n)}function zse(i,n){return U5(i,n)}function vP(i,n){return Y0(i,n)}function f(i,n,e){let t=Wt(),o=nd();if(Ys(t,o,n)){let r=Io(),s=qm();x5(s,t,i,n,t[Ln],e)}return f}function wP(i,n,e,t,o){FS(n,i,e,o?"class":"style",t)}function _(i,n,e,t){let o=Wt(),r=o[yi],s=i+So,a=r.firstCreatePass?i2(s,o,2,n,QP,NC(),e,t):r.data[s];if(YP(a,o,i,n,xU),zm(a)){let l=o[yi];NS(l,o,a),DP(l,a,o)}return t!=null&&bb(o,a),_}function b(){let i=Io(),n=dr(),e=XP(n);return i.firstCreatePass&&n2(i,e),_D(e)&&bD(),mD(),e.classesWithoutHost!=null&&rne(e)&&wP(i,e,Wt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&sne(e)&&wP(i,e,Wt(),e.stylesWithoutHost,!1),b}function N(i,n,e,t){return _(i,n,e,t),b(),N}function mi(i,n,e,t){let o=Wt(),r=o[yi],s=i+So,a=r.firstCreatePass?Bre(s,r,2,n,e,t):r.data[s];return YP(a,o,i,n,xU),t!=null&&bb(o,a),mi}function gi(){let i=dr(),n=XP(i);return _D(n)&&bD(),mD(),gi}function wt(i,n,e,t){return mi(i,n,e,t),gi(),wt}var xU=(i,n,e,t,o)=>(ib(!0),X4(n[Ln],t,EV()));function we(i,n,e){let t=Wt(),o=t[yi],r=i+So,s=o.firstCreatePass?i2(r,t,8,"ng-container",QP,NC(),n,e):o.data[r];if(YP(s,t,i,"ng-container",Wse),zm(s)){let a=t[yi];NS(a,t,s),DP(a,s,t)}return e!=null&&bb(t,s),we}function Ce(){let i=Io(),n=dr(),e=XP(n);return i.firstCreatePass&&n2(i,e),Ce}function ve(i,n,e){return we(i,n,e),Ce(),ve}var Wse=(i,n,e,t,o)=>(ib(!0),Zne(n[Ln],""));function B(){return Wt()}function Xi(i,n,e){let t=Wt(),o=nd();if(Ys(t,o,n)){let r=Io(),s=qm();T5(s,t,i,n,t[Ln],e)}return Xi}var WC=void 0;function $se(i){let n=Math.floor(Math.abs(i)),e=i.toString().replace(/^[^.]*\.?/,"").length;return n===1&&e===0?1:5}var Kse=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],WC,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],WC,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",WC,"{1} 'at' {0}",WC],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",$se],MD={};function Aa(i){let n=qse(i),e=d4(n);if(e)return e;let t=n.split("-")[0];if(e=d4(t),e)return e;if(t==="en")return Kse;throw new ot(701,!1)}function d4(i){return i in MD||(MD[i]=Nr.ng&&Nr.ng.common&&Nr.ng.common.locales&&Nr.ng.common.locales[i]),MD[i]}var pr=(function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i})(pr||{});function qse(i){return i.toLowerCase().replace(/_/g,"-")}var Ob="en-US";var Jse=Ob;function TU(i){typeof i=="string"&&(Jse=i.toLowerCase().replace(/_/g,"-"))}function A(i,n,e){let t=Wt(),o=Io(),r=dr();return OU(o,t,t[Ln],r,i,n,e),A}function zS(i,n,e){let t=Wt(),o=Io(),r=dr();return(r.type&3||e)&&J5(r,o,t,e,t[Ln],i,n,XC(r,t,n)),zS}function OU(i,n,e,t,o,r,s){let a=!0,l=null;if((t.type&3||s)&&(l??=XC(t,n,r),J5(t,i,n,s,e,o,r,l)&&(a=!1)),a){let c=t.outputs?.[o],d=t.hostDirectiveOutputs?.[o];if(d&&d.length)for(let u=0;u<d.length;u+=2){let m=d[u],g=d[u+1];l??=XC(t,n,r),ZV(t,n,m,g,o,l)}if(c&&c.length)for(let u of c)l??=XC(t,n,r),ZV(t,n,u,o,o,l)}}function h(i=1){return SV(i)}function Qse(i,n){let e=null,t=poe(i);for(let o=0;o<n.length;o++){let r=n[o];if(r==="*"){e=o;continue}if(t===null?o5(i,r,!0):foe(t,r))return o}return e}function ci(i){let n=Wt()[fa][ua];if(!n.projection){let e=i?i.length:1,t=n.projection=XB(e,null),o=t.slice(),r=n.child;for(;r!==null;){if(r.type!==128){let s=i?Qse(r,i):0;s!==null&&(o[s]?o[s].projectionNext=r:t[s]=r,o[s]=r)}r=r.next}}}function Ht(i,n=0,e,t,o,r){let s=Wt(),a=Io(),l=t?i+1:null;l!==null&&ub(s,a,l,t,o,r,null,e);let c=fg(a,So+i,16,null,e||null);c.projection===null&&(c.projection=n),wD();let u=!s[uf]||gD();s[fa][ua].projection[c.projection]===null&&l!==null?Yse(s,a,l):u&&!ES(c)&&Woe(a,s,c)}function Yse(i,n,e){let t=So+e,o=n.data[t],r=i[t],s=dS(r,o.tView.ssrId),a=yb(i,o,void 0,{dehydratedView:s});vb(r,a,0,og(o,s))}function se(i,n,e,t){iU(i,n,e,t)}function _e(i,n,e){sse(i,n,e)}function W(i){let n=Wt(),e=Io(),t=LC();tb(t+1);let o=a2(e,t);if(i.dirty&&sV(n)===((o.metadata.flags&2)===2)){if(o.matches===null)i.reset([]);else{let r=oU(n,t);i.reset(r,k4),i.notifyOnChanges()}return!0}return!1}function $(){return s2(Wt(),LC())}function _g(i,n,e,t,o){cse(n,iU(i,e,t,o))}function Rb(i=1){tb(LC()+i)}function Ze(i){let n=fV();return X0(n,So+i)}function $C(i,n){return i<<17|n<<2}function Sf(i){return i>>17&32767}function Xse(i){return(i&2)==2}function Zse(i,n){return i&131071|n<<17}function CP(i){return i|2}function cg(i){return(i&131068)>>2}function BD(i,n){return i&-131069|n<<2}function eae(i){return(i&1)===1}function SP(i){return i|1}function tae(i,n,e,t,o,r){let s=r?n.classBindings:n.styleBindings,a=Sf(s),l=cg(s);i[t]=e;let c=!1,d;if(Array.isArray(e)){let u=e;d=u[1],(d===null||Um(u,d)>0)&&(c=!0)}else d=e;if(o)if(l!==0){let m=Sf(i[a+1]);i[t+1]=$C(m,a),m!==0&&(i[m+1]=BD(i[m+1],t)),i[a+1]=Zse(i[a+1],t)}else i[t+1]=$C(a,0),a!==0&&(i[a+1]=BD(i[a+1],t)),a=t;else i[t+1]=$C(l,0),a===0?a=t:i[l+1]=BD(i[l+1],t),l=t;c&&(i[t+1]=CP(i[t+1])),p4(i,d,t,!0),p4(i,d,t,!1),iae(n,d,i,t,r),s=$C(a,l),r?n.classBindings=s:n.styleBindings=s}function iae(i,n,e,t,o){let r=o?i.residualClasses:i.residualStyles;r!=null&&typeof n=="string"&&Um(r,n)>=0&&(e[t+1]=SP(e[t+1]))}function p4(i,n,e,t){let o=i[e+1],r=n===null,s=t?Sf(o):cg(o),a=!1;for(;s!==0&&(a===!1||r);){let l=i[s],c=i[s+1];nae(l,n)&&(a=!0,i[s+1]=t?SP(c):CP(c)),s=t?Sf(c):cg(c)}a&&(i[e+1]=t?CP(o):SP(o))}function nae(i,n){return i===null||n==null||(Array.isArray(i)?i[1]:i)===n?!0:Array.isArray(i)&&typeof n=="string"?Um(i,n)>=0:!1}var ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function RU(i){return i.substring(ns.key,ns.keyEnd)}function oae(i){return i.substring(ns.value,ns.valueEnd)}function rae(i){return AU(i),DU(i,dg(i,0,ns.textEnd))}function DU(i,n){let e=ns.textEnd;return e===n?-1:(n=ns.keyEnd=aae(i,ns.key=n,e),dg(i,n,e))}function sae(i){return AU(i),PU(i,dg(i,0,ns.textEnd))}function PU(i,n){let e=ns.textEnd,t=ns.key=dg(i,n,e);return e===t?-1:(t=ns.keyEnd=lae(i,t,e),t=u4(i,t,e,58),t=ns.value=dg(i,t,e),t=ns.valueEnd=cae(i,t,e),u4(i,t,e,59))}function AU(i){ns.key=0,ns.keyEnd=0,ns.value=0,ns.valueEnd=0,ns.textEnd=i.length}function dg(i,n,e){for(;n<e&&i.charCodeAt(n)<=32;)n++;return n}function aae(i,n,e){for(;n<e&&i.charCodeAt(n)>32;)n++;return n}function lae(i,n,e){let t;for(;n<e&&((t=i.charCodeAt(n))===45||t===95||(t&-33)>=65&&(t&-33)<=90||t>=48&&t<=57);)n++;return n}function u4(i,n,e,t){return n=dg(i,n,e),n<e&&n++,n}function cae(i,n,e){let t=-1,o=-1,r=-1,s=n,a=s;for(;s<e;){let l=i.charCodeAt(s++);if(l===59)return a;l===34||l===39?a=s=h4(i,l,s,e):n===s-4&&r===85&&o===82&&t===76&&l===40?a=s=h4(i,41,s,e):l>32&&(a=s),r=o,o=t,t=l&-33}return a}function h4(i,n,e,t){let o=-1,r=e;for(;r<t;){let s=i.charCodeAt(r++);if(s==n&&o!==92)return r;s==92&&o===92?o=0:o=s}throw new Error}function Kt(i,n,e){return kU(i,n,e,!1),Kt}function Lr(i,n){return kU(i,n,null,!0),Lr}function De(i){NU(MU,dae,i,!1)}function dae(i,n){for(let e=sae(n);e>=0;e=PU(n,e))MU(i,RU(n),oae(n))}function j(i){NU(_ae,pae,i,!0)}function pae(i,n){for(let e=rae(n);e>=0;e=DU(n,e))K0(i,RU(n),!0)}function kU(i,n,e,t){let o=Wt(),r=Io(),s=eb(2);if(r.firstUpdatePass&&LU(r,i,s,t),n!==gs&&Ys(o,s,n)){let a=r.data[dc()];BU(r,a,o,o[Ln],i,o[s+1]=yae(n,e),t,s)}}function NU(i,n,e,t){let o=Io(),r=eb(2);o.firstUpdatePass&&LU(o,null,r,t);let s=Wt();if(e!==gs&&Ys(s,r,e)){let a=o.data[dc()];if(VU(a,t)&&!FU(o,r)){let l=t?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=IC(l,e||"")),wP(o,a,s,e,t)}else bae(o,a,s,s[Ln],s[r+1],s[r+1]=gae(i,n,e),t,r)}}function FU(i,n){return n>=i.expandoStartIndex}function LU(i,n,e,t){let o=i.data;if(o[e+1]===null){let r=o[dc()],s=FU(i,e);VU(r,t)&&n===null&&!s&&(n=!1),n=uae(o,r,n,t),tae(o,r,n,e,s,t)}}function uae(i,n,e,t){let o=yV(i),r=t?n.residualClasses:n.residualStyles;if(o===null)(t?n.classBindings:n.styleBindings)===0&&(e=VD(null,i,n,e,t),e=hb(e,n.attrs,t),r=null);else{let s=n.directiveStylingLast;if(s===-1||i[s]!==o)if(e=VD(o,i,n,e,t),r===null){let l=hae(i,n,t);l!==void 0&&Array.isArray(l)&&(l=VD(null,i,n,l[1],t),l=hb(l,n.attrs,t),fae(i,n,t,l))}else r=mae(i,n,t)}return r!==void 0&&(t?n.residualClasses=r:n.residualStyles=r),e}function hae(i,n,e){let t=e?n.classBindings:n.styleBindings;if(cg(t)!==0)return i[Sf(t)]}function fae(i,n,e,t){let o=e?n.classBindings:n.styleBindings;i[Sf(o)]=t}function mae(i,n,e){let t,o=n.directiveEnd;for(let r=1+n.directiveStylingLast;r<o;r++){let s=i[r].hostAttrs;t=hb(t,s,e)}return hb(t,n.attrs,e)}function VD(i,n,e,t,o){let r=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(r=n[a],t=hb(t,r.hostAttrs,o),r!==i);)a++;return i!==null&&(e.directiveStylingLast=a),t}function hb(i,n,e){let t=e?1:2,o=-1;if(n!==null)for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?o=s:o===t&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),K0(i,s,e?!0:n[++r]))}return i===void 0?null:i}function gae(i,n,e){if(e==null||e==="")return Qs;let t=[],o=Pa(e);if(Array.isArray(o))for(let r=0;r<o.length;r++)i(t,o[r],!0);else if(typeof o=="object")for(let r in o)o.hasOwnProperty(r)&&i(t,r,o[r]);else typeof o=="string"&&n(t,o);return t}function MU(i,n,e){K0(i,n,Pa(e))}function _ae(i,n,e){let t=String(n);t!==""&&!t.includes(" ")&&K0(i,t,e)}function bae(i,n,e,t,o,r,s,a){o===gs&&(o=Qs);let l=0,c=0,d=0<o.length?o[0]:null,u=0<r.length?r[0]:null;for(;d!==null||u!==null;){let m=l<o.length?o[l+1]:void 0,g=c<r.length?r[c+1]:void 0,y=null,v;d===u?(l+=2,c+=2,m!==g&&(y=u,v=g)):u===null||d!==null&&d<u?(l+=2,y=d):(c+=2,y=u,v=g),y!==null&&BU(i,n,e,t,y,v,s,a),d=l<o.length?o[l]:null,u=c<r.length?r[c]:null}}function BU(i,n,e,t,o,r,s,a){if(!(n.type&3))return;let l=i.data,c=l[a+1],d=eae(c)?f4(l,n,e,o,cg(c),s):void 0;if(!vS(d)){vS(r)||Xse(c)&&(r=f4(l,null,e,o,a,s));let u=lD(dc(),e);Koe(t,s,u,o,r)}}function f4(i,n,e,t,o,r){let s=n===null,a;for(;o>0;){let l=i[o],c=Array.isArray(l),d=c?l[1]:l,u=d===null,m=e[o+1];m===gs&&(m=u?Qs:void 0);let g=u?OC(m,t):d===t?m:void 0;if(c&&!vS(g)&&(g=OC(l,t)),vS(g)&&(a=g,s))return a;let y=i[o+1];o=s?Sf(y):cg(y)}if(n!==null){let l=r?n.residualClasses:n.residualStyles;l!=null&&(a=OC(l,t))}return a}function vS(i){return i!==void 0}function yae(i,n){return i==null||i===""||(typeof n=="string"?i=i+n:typeof i=="object"&&(i=Zd(Pa(i)))),i}function VU(i,n){return(i.flags&(n?8:16))!==0}function R(i,n=""){let e=Wt(),t=Io(),o=i+So,r=t.firstCreatePass?fg(t,o,1,n,null):t.data[o],s=vae(t,e,r,n,i);e[o]=s,VC()&&qP(t,e,s,r),$m(r,!1)}var vae=(i,n,e,t,o)=>(ib(!0),Yne(n[Ln],t));function UU(i,n,e,t=""){return Ys(i,nd(),e)?n+Rl(e)+t:gs}function wae(i,n,e,t,o,r=""){let s=SD(),a=rg(i,s,e,o);return eb(2),a?n+Rl(e)+t+Rl(o)+r:gs}function Cae(i,n,e,t,o,r,s,a=""){let l=SD(),c=r2(i,l,e,o,s);return eb(3),c?n+Rl(e)+t+Rl(o)+r+Rl(s)+a:gs}function Q(i){return Y("",i),Q}function Y(i,n,e){let t=Wt(),o=UU(t,i,n,e);return o!==gs&&g2(t,dc(),o),Y}function Ps(i,n,e,t,o){let r=Wt(),s=wae(r,i,n,e,t,o);return s!==gs&&g2(r,dc(),s),Ps}function Ef(i,n,e,t,o,r,s){let a=Wt(),l=Cae(a,i,n,e,t,o,r,s);return l!==gs&&g2(a,dc(),l),Ef}function g2(i,n,e){let t=lD(n,i);Xne(i[Ln],t,e)}function Ae(i,n,e){OD(n)&&(n=n());let t=Wt(),o=nd();if(Ys(t,o,n)){let r=Io(),s=qm();x5(s,t,i,n,t[Ln],e)}return Ae}function Ne(i,n){let e=OD(i);return e&&i.set(n),e}function ke(i,n){let e=Wt(),t=Io(),o=dr();return OU(t,e,e[Ln],o,i,n),ke}function ae(i){return Ys(Wt(),nd(),i)?Rl(i):gs}function _s(i,n,e=""){return UU(Wt(),i,n,e)}function Sae(i,n,e){let t=Io();if(t.firstCreatePass){let o=cc(i);IP(e,t.data,t.blueprint,o,!0),IP(n,t.data,t.blueprint,o,!1)}}function IP(i,n,e,t,o){if(i=ts(i),Array.isArray(i))for(let r=0;r<i.length;r++)IP(i[r],n,e,t,o);else{let r=Io(),s=Wt(),a=dr(),l=cf(i)?i:ts(i.provide),c=tD(i),d=a.providerIndexes&1048575,u=a.directiveStart,m=a.providerIndexes>>20;if(cf(i)||!i.multi){let g=new Cf(c,o,x,null),y=jD(l,n,o?d:d+m,u);y===-1?(HD(nS(a,s),r,l),UD(r,i,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[y]=g,s[y]=g)}else{let g=jD(l,n,d+m,u),y=jD(l,n,d,d+m),v=g>=0&&e[g],S=y>=0&&e[y];if(o&&!S||!o&&!v){HD(nS(a,s),r,l);let I=xae(o?Eae:Iae,e.length,o,t,c,i);!o&&S&&(e[y].providerFactory=I),UD(r,i,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),e.push(I),s.push(I)}else{let I=jU(e[o?y:g],c,!o&&t);UD(r,i,g>-1?g:y,I)}!o&&t&&S&&e[y].componentProviders++}}}function UD(i,n,e,t){let o=cf(n),r=nV(n);if(o||r){let l=(r?ts(n.useClass):n).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!o&&n.multi){let d=c.indexOf(e);d===-1?c.push(e,[t,l]):c[d+1].push(t,l)}else c.push(e,l)}}}function jU(i,n,e){return e&&i.componentProviders++,i.multi.push(n)-1}function jD(i,n,e,t){for(let o=e;o<t;o++)if(n[o]===i)return o;return-1}function Iae(i,n,e,t,o){return EP(this.multi,[])}function Eae(i,n,e,t,o){let r=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=ab(t,t[yi],this.providerFactory.index,o);s=l.slice(0,a),EP(r,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],EP(r,s);return s}function EP(i,n){for(let e=0;e<i.length;e++){let t=i[e];n.push(t())}return n}function xae(i,n,e,t,o,r){let s=new Cf(i,e,x,null);return s.multi=[],s.index=n,s.componentProviders=0,jU(s,o,t&&!e),s}function Se(i,n=[]){return e=>{e.providersResolver=(t,o)=>Sae(t,o?o(i):i,n)}}function Mr(i,n,e){let t=i.\u0275cmp;t.directiveDefs=_S(n,uU),t.pipeDefs=_S(e,XR)}function Pe(i,n,e){let t=tl()+i,o=Wt();return o[t]===gs?ap(o,t,e?n.call(e):n()):Cb(o,t)}function de(i,n,e,t){return GU(Wt(),tl(),i,n,e,t)}function Ct(i,n,e,t,o){return HU(Wt(),tl(),i,n,e,t,o)}function ga(i,n,e,t,o,r){return zU(Wt(),tl(),i,n,e,t,o,r)}function Br(i,n,e,t,o,r,s){return Tae(Wt(),tl(),i,n,e,t,o,r,s)}function xf(i,n,e,t,o,r,s,a){let l=tl()+i,c=Wt(),d=sg(c,l,e,t,o,r);return Ys(c,l+4,s)||d?ap(c,l+5,a?n.call(a,e,t,o,r,s):n(e,t,o,r,s)):Cb(c,l+5)}function bs(i,n,e,t,o,r,s,a,l){let c=tl()+i,d=Wt(),u=sg(d,c,e,t,o,r);return rg(d,c+4,s,a)||u?ap(d,c+6,l?n.call(l,e,t,o,r,s,a):n(e,t,o,r,s,a)):Cb(d,c+6)}function _2(i,n,e,t,o,r,s,a,l,c){let d=tl()+i,u=Wt(),m=sg(u,d,e,t,o,r);return r2(u,d+4,s,a,l)||m?ap(u,d+7,c?n.call(c,e,t,o,r,s,a,l):n(e,t,o,r,s,a,l)):Cb(u,d+7)}function b2(i,n,e,t,o,r,s,a,l,c,d){let u=tl()+i,m=Wt(),g=sg(m,u,e,t,o,r);return sg(m,u+4,s,a,l,c)||g?ap(m,u+8,d?n.call(d,e,t,o,r,s,a,l,c):n(e,t,o,r,s,a,l,c)):Cb(m,u+8)}function WS(i,n){let e=i[n];return e===gs?void 0:e}function GU(i,n,e,t,o,r){let s=n+e;return Ys(i,s,o)?ap(i,s+1,r?t.call(r,o):t(o)):WS(i,s+1)}function HU(i,n,e,t,o,r,s){let a=n+e;return rg(i,a,o,r)?ap(i,a+2,s?t.call(s,o,r):t(o,r)):WS(i,a+2)}function zU(i,n,e,t,o,r,s,a){let l=n+e;return r2(i,l,o,r,s)?ap(i,l+3,a?t.call(a,o,r,s):t(o,r,s)):WS(i,l+3)}function Tae(i,n,e,t,o,r,s,a,l){let c=n+e;return sg(i,c,o,r,s,a)?ap(i,c+4,l?t.call(l,o,r,s,a):t(o,r,s,a)):WS(i,c+4)}function D(i,n){let e=Io(),t,o=i+So;e.firstCreatePass?(t=Oae(n,e.pipeRegistry),e.data[o]=t,t.onDestroy&&(e.destroyHooks??=[]).push(o,t.onDestroy)):t=e.data[o];let r=t.factory||(t.factory=mu(t.type,!0)),s,a=pa(x);try{let l=iS(!1),c=r();return iS(l),cD(e,Wt(),o,c),c}finally{pa(a)}}function Oae(i,n){if(n)for(let e=n.length-1;e>=0;e--){let t=n[e];if(i===t.name)return t}}function k(i,n,e){let t=i+So,o=Wt(),r=X0(o,t);return y2(o,t)?GU(o,tl(),n,r.transform,e,r):r.transform(e)}function vi(i,n,e,t){let o=i+So,r=Wt(),s=X0(r,o);return y2(r,o)?HU(r,tl(),n,s.transform,e,t,s):s.transform(e,t)}function Zs(i,n,e,t,o){let r=i+So,s=Wt(),a=X0(s,r);return y2(s,r)?zU(s,tl(),n,a.transform,e,t,o,a):a.transform(e,t,o)}function y2(i,n){return i[yi].data[n].pure}function ie(i,n){return LS(i,n)}var KC=null;function WU(i){KC!==null&&(i.defaultEncapsulation!==KC.defaultEncapsulation||i.preserveWhitespaces!==KC.preserveWhitespaces)||(KC=i)}var wS=class{ngModuleFactory;componentFactories;constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},v2=(()=>{class i{compileModuleSync(e){return new pb(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let t=this.compileModuleSync(e),o=YR(e),r=i5(o.declarations).reduce((s,a)=>{let l=Xc(a);return l&&s.push(new Cu(l)),s},[]);return new wS(t,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$U=new he("");var Rae=(()=>{class i{zone=z(Ft);changeDetectionScheduler=z(rc);applicationRef=z(Xs);applicationErrorHandler=z(Ra);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function KU({ngZoneFactory:i,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return i??=()=>new Ft(Fe(ee({},w2()),{scheduleInRootZone:e})),[{provide:Ft,useFactory:i},{provide:Yc,multi:!0,useFactory:()=>{let t=z(Rae,{optional:!0});return()=>t.initialize()}},{provide:Yc,multi:!0,useFactory:()=>{let t=z(Dae);return()=>{t.initialize()}}},n===!0?{provide:RD,useValue:!0}:[],{provide:DD,useValue:e??p5},{provide:Ra,useFactory:()=>{let t=z(Ft),o=z(er),r;return s=>{t.runOutsideAngular(()=>{o.destroyed&&!r?setTimeout(()=>{throw s}):(r??=o.get(Za),r.handleError(s))})}}}]}function w2(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}var Dae=(()=>{class i{subscription=new On;initialized=!1;zone=z(Ft);pendingTasks=z(od);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ft.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ft.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var qU=(()=>{class i{applicationErrorHandler=z(Ra);appRef=z(Xs);taskService=z(od);ngZone=z(Ft);zonelessEnabled=z(nb);tracing=z(If,{optional:!0});disableScheduling=z(RD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new On;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(aS):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(DD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lb||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let t=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,t=!0;break}case 12:{this.appRef.dirtyFlags|=16,t=!0;break}case 13:{this.appRef.dirtyFlags|=2,t=!0;break}case 11:{t=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(t))return;let o=this.useMicrotaskScheduler?HV:u5;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(aS+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){this.taskService.remove(e),this.applicationErrorHandler(t)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,HV(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Pae(){return typeof $localize<"u"&&$localize.locale||Ob}var bg=new he("",{providedIn:"root",factory:()=>z(bg,{optional:!0,skipSelf:!0})||Pae()});var Db=class{destroyed=!1;listeners=null;errorHandler=z(Za,{optional:!0});destroyRef=z(ms);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(n){if(this.destroyed)throw new ot(953,!1);return(this.listeners??=[]).push(n),{unsubscribe:()=>{let e=this.listeners?.indexOf(n);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(n){if(this.destroyed){console.warn(Ol(953,!1));return}if(this.listeners===null)return;let e=Ri(null);try{for(let t of this.listeners)try{t(n)}catch(o){this.errorHandler?.handleError(o)}}finally{Ri(e)}}};function Uo(i){return VB(i)}function ct(i,n){return A0(i,n?.equal)}var C2=class{[Zr];constructor(n){this[Zr]=n}destroy(){this[Zr].destroy()}};function In(i,n){let e=n?.injector??z(hn),t=n?.manualCleanup!==!0?e.get(ms):null,o,r=e.get(Jm,null,{optional:!0}),s=e.get(rc);return r!==null?(o=Nae(r.view,s,i),t instanceof z0&&t._lView===r.view&&(t=null)):o=Fae(i,e.get(ob),s),o.injector=e,t!==null&&(o.onDestroyFn=t.onDestroy(()=>o.destroy())),new C2(o)}var JU=Fe(ee({},UB),{cleanupFns:void 0,zone:null,onDestroyFn:yf,run(){let i=Km(!1);try{jB(this)}finally{Km(i)}},cleanup(){if(!this.cleanupFns?.length)return;let i=Ri(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Ri(i)}}}),Aae=Fe(ee({},JU),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Qh(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),kae=Fe(ee({},JU),{consumerMarkedDirty(){this.view[ki]|=8192,bu(this.view),this.notifier.notify(13)},destroy(){Qh(this),this.onDestroyFn(),this.cleanup(),this.view[tp]?.delete(this)}});function Nae(i,n,e){let t=Object.create(kae);return t.view=i,t.zone=typeof Zone<"u"?Zone.current:null,t.notifier=n,t.fn=QU(t,e),i[tp]??=new Set,i[tp].add(t),t.consumerMarkedDirty(t),t}function Fae(i,n,e){let t=Object.create(Aae);return t.fn=QU(t,i),t.scheduler=n,t.notifier=e,t.zone=typeof Zone<"u"?Zone.current:null,t.scheduler.add(t),t.notifier.notify(12),t}function QU(i,n){return()=>{n(e=>(i.cleanupFns??=[]).push(e))}}var JS=Symbol("InputSignalNode#UNSET"),lj=Fe(ee({},Ww),{transformFn:void 0,applyValueToInputSignal(i,n){Yh(i,n)}});function cj(i,n){let e=Object.create(lj);e.value=i,e.transformFn=n?.transform;function t(){if(qh(e),e.value===JS){let o=null;throw new ot(-950,o)}return e.value}return t[Zr]=e,t}var $S=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>mb(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Kae=new he("");Kae.__NG_ELEMENT_ID__=i=>{let n=dr();if(n===null)throw new ot(204,!1);if(n.type&2)return n.value;if(i&8)return null;throw new ot(204,!1)};function dj(i){return new Db}function YU(i,n){return cj(i,n)}function qae(i){return cj(JS,i)}var qe=(YU.required=qae,YU);function XU(i,n){return sU(n)}function Jae(i,n){return aU(n)}var Ab=(XU.required=Jae,XU);function pj(i,n){let e=Object.create(lj),t=new Db;e.value=i;function o(){return qh(e),ZU(e.value),e.value}return o[Zr]=e,o.asReadonly=UC.bind(o),o.set=r=>{e.equal(e.value,r)||(Yh(e,r),t.emit(r))},o.update=r=>{ZU(e.value),o.set(r(e.value))},o.subscribe=t.subscribe.bind(t),o.destroyRef=t.destroyRef,o}function ZU(i){if(i===JS)throw new ot(952,!1)}function ej(i,n){return pj(i,n)}function Qae(i){return pj(JS,i)}var Tf=(ej.required=Qae,ej);function Yae(i,n,e){let t=new pb(e);return Promise.resolve(t)}function tj(i){for(let n=i.length-1;n>=0;n--)if(i[n]!==void 0)return i[n]}var KS=new he(""),Xae=new he("");function Pb(i){return!i.moduleRef}function Zae(i){let n=Pb(i)?i.r3Injector:i.moduleRef.injector,e=n.get(Ft);return e.run(()=>{Pb(i)?i.r3Injector.resolveInjectorInitializers():i.moduleRef.resolveInjectorInitializers();let t=n.get(Ra),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:t})}),Pb(i)){let r=()=>n.destroy(),s=i.platformInjector.get(KS);s.add(r),n.onDestroy(()=>{o.unsubscribe(),s.delete(r)})}else{let r=()=>i.moduleRef.destroy(),s=i.platformInjector.get(KS);s.add(r),i.moduleRef.onDestroy(()=>{sb(i.allPlatformModules,i.moduleRef),o.unsubscribe(),s.delete(r)})}return tle(t,e,()=>{let r=n.get(od),s=r.add(),a=n.get(u2);return a.runInitializers(),a.donePromise.then(()=>{let l=n.get(bg,Ob);if(TU(l||Ob),!n.get(Xae,!0))return Pb(i)?n.get(Xs):(i.allPlatformModules.push(i.moduleRef),i.moduleRef);if(Pb(i)){let d=n.get(Xs);return i.rootComponent!==void 0&&d.bootstrap(i.rootComponent),d}else return uj?.(i.moduleRef,i.allPlatformModules),i.moduleRef}).finally(()=>void r.remove(s))})})}var uj;function ij(){uj=ele}function ele(i,n){let e=i.injector.get(Xs);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(t=>e.bootstrap(t));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(e);else throw new ot(-403,!1);n.push(i)}function tle(i,n,e){try{let t=e();return Eu(t)?t.catch(o=>{throw n.runOutsideAngular(()=>i(o)),o}):t}catch(t){throw n.runOutsideAngular(()=>i(t)),t}}var hj=(()=>{class i{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,t){let o=t?.scheduleInRootZone,r=()=>f5(t?.ngZone,Fe(ee({},w2({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),s=t?.ignoreChangesOutsideZone,a=[KU({ngZoneFactory:r,ignoreChangesOutsideZone:s}),{provide:rc,useExisting:qU},TV],l=pU(e.moduleType,this.injector,a);return ij(),Zae({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,t=[]){let o=h2({},t);return ij(),Yae(this.injector,o,e).then(r=>this.bootstrapModuleFactory(r,o))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());let e=this._injector.get(KS,null);e&&(e.forEach(t=>t()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(t){return new(t||i)(be(hn))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),P2=null;function ile(i){if(k2())throw new ot(400,!1);bU(),P2=i;let n=i.get(hj);return rle(i),n}function A2(i,n,e=[]){let t=`Platform: ${n}`,o=new he(t);return(r=[])=>{let s=k2();if(!s){let a=[...e,...r,{provide:o,useValue:!0}];s=i?.(a)??ile(nle(a,t))}return ole(o)}}function nle(i=[],n){return hn.create({name:n,providers:[{provide:q0,useValue:"platform"},{provide:KS,useValue:new Set([()=>P2=null])},...i]})}function ole(i){let n=k2();if(!n)throw new ot(-401,!1);return n}function k2(){return P2?.get(hj)??null}function rle(i){let n=i.get(CS,null);fs(i,()=>{n?.forEach(e=>e())})}function kb(){return!1}var We=(()=>{class i{static __NG_ELEMENT_ID__=sle}return i})();function sle(i){return ale(dr(),Wt(),(i&16)===16)}function ale(i,n,e){if(np(i)&&!e){let t=Al(i.index,n);return new wu(t,t)}else if(i.type&175){let t=n[fa];return new wu(t,n)}return null}var S2=class{constructor(){}supports(n){return o2(n)}create(n){return new I2(n)}},lle=(i,n)=>n,I2=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||lle}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,t=this._removalsHead,o=0,r=null;for(;e||t;){let s=!t||e&&e.currentIndex<nj(t,o,r)?e:t,a=nj(s,o,r),l=s.currentIndex;if(s===t)o--,t=t._nextRemoved;else if(e=e._next,s.previousIndex==null)o++;else{r||(r=[]);let c=a-o,d=l-o;if(c!=d){for(let m=0;m<c;m++){let g=m<r.length?r[m]:r[m]=0,y=g+m;d<=y&&y<c&&(r[m]=g+1)}let u=s.previousIndex;r[u]=d-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!o2(n))throw new ot(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,t=!1,o,r,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)r=n[a],s=this._trackByFn(a,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,a),t=!0):(t&&(e=this._verifyReinsertion(e,r,s,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else o=0,q5(n,a=>{s=this._trackByFn(o,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,o),t=!0):(t&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,t,o){let r;return n===null?r=this._itTail:(r=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,r,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(t,o),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,r,o)):n=this._addAfter(new E2(e,t),r,o)),n}_verifyReinsertion(n,e,t,o){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(t,null);return r!==null?n=this._reinsertAfter(r,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,t){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,r=n._nextRemoved;return o===null?this._removalsHead=r:o._nextRemoved=r,r===null?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(n,e,t),this._addToMoves(n,t),n}_moveAfter(n,e,t){return this._unlink(n),this._insertAfter(n,e,t),this._addToMoves(n,t),n}_addAfter(n,e,t){return this._insertAfter(n,e,t),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,t){let o=e===null?this._itHead:e._next;return n._next=o,n._prev=e,o===null?this._itTail=n:o._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new qS),this._linkedRecords.put(n),n.currentIndex=t,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,t=n._next;return e===null?this._itHead=t:e._next=t,t===null?this._itTail=e:t._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},E2=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,e){this.item=n,this.trackById=e}},x2=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let t;for(t=this._head;t!==null;t=t._nextDup)if((e===null||e<=t.currentIndex)&&Object.is(t.trackById,n))return t;return null}remove(n){let e=n._prevDup,t=n._nextDup;return e===null?this._head=t:e._nextDup=t,t===null?this._tail=e:t._prevDup=e,this._head===null}},qS=class{map=new Map;put(n){let e=n.trackById,t=this.map.get(e);t||(t=new x2,this.map.set(e,t)),t.add(n)}get(n,e){let t=n,o=this.map.get(t);return o?o.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nj(i,n,e){let t=i.previousIndex;if(t===null)return t;let o=0;return e&&t<e.length&&(o=e[t]),t+n+o}var T2=class{constructor(){}supports(n){return n instanceof Map||BS(n)}create(){return new O2}},O2=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(n){let e;for(e=this._mapHead;e!==null;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}diff(n){if(!n)n=new Map;else if(!(n instanceof Map||BS(n)))throw new ot(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(t,o)=>{if(e&&e.key===o)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{let r=this._getOrCreateRecordForKey(o,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;t!==null;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){let t=n._prev;return e._next=n,e._prev=t,n._prev=e,t&&(t._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){let o=this._records.get(n);this._maybeAddToChanges(o,e);let r=o._prev,s=o._next;return r&&(r._next=s),s&&(s._prev=r),o._next=null,o._prev=null,o}let t=new R2(n);return this._records.set(n,t),t.currentValue=e,this._addToAdditions(t),t}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;n!==null;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;n!=null;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){this._additionsHead===null?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){this._changesHead===null?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(t=>e(n[t],t))}},R2=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(n){this.key=n}};function oj(){return new QS([new S2])}var QS=(()=>{class i{factories;static \u0275prov=ne({token:i,providedIn:"root",factory:oj});constructor(e){this.factories=e}static create(e,t){if(t!=null){let o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:()=>{let t=z(i,{optional:!0,skipSelf:!0});return i.create(e,t||oj())}}}find(e){let t=this.factories.find(o=>o.supports(e));if(t!=null)return t;throw new ot(901,!1)}}return i})();function rj(){return new N2([new T2])}var N2=(()=>{class i{static \u0275prov=ne({token:i,providedIn:"root",factory:rj});factories;constructor(e){this.factories=e}static create(e,t){if(t){let o=t.factories.slice();e=e.concat(o)}return new i(e)}static extend(e){return{provide:i,useFactory:()=>{let t=z(i,{optional:!0,skipSelf:!0});return i.create(e,t||rj())}}}find(e){let t=this.factories.find(o=>o.supports(e));if(t)return t;throw new ot(901,!1)}}return i})();var fj=A2(null,"core",[]),mj=(()=>{class i{constructor(e){}static \u0275fac=function(t){return new(t||i)(be(Xs))};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();function Z(i){return typeof i=="boolean"?i:i!=null&&i!=="false"}function Je(i,n=NaN){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):n}function YS(i,n){let e=Xc(i),t=n.elementInjector||jm();return new Cu(e).create(t,n.projectableNodes,n.hostElement,n.environmentInjector,n.directives,n.bindings)}function gj(i){let n=Xc(i);if(!n)return null;let e=new Cu(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var yj=null;function nl(){return yj}function F2(i){yj??=i}var Nb=class{},Fb=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(vj),providedIn:"platform"})}return i})(),L2=new he(""),vj=(()=>{class i extends Fb{_location;_history;_doc=z(Ci);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nl().getBaseHref(this._doc)}onPopState(e){let t=nl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){let t=nl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,o){this._history.pushState(e,t,o)}replaceState(e,t,o){this._history.replaceState(e,t,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function XS(i,n){return i?n?i.endsWith("/")?n.startsWith("/")?i+n.slice(1):i+n:n.startsWith("/")?i+n:`${i}/${n}`:i:n}function _j(i){let n=i.search(/#|\?|$/);return i[n-1]==="/"?i.slice(0,n-1)+i.slice(n):i}function hc(i){return i&&i[0]!=="?"?`?${i}`:i}var fc=(()=>{class i{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(e1),providedIn:"root"})}return i})(),ZS=new he(""),e1=(()=>{class i extends fc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??z(Ci).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return XS(this._baseHref,e)}path(e=!1){let t=this._platformLocation.pathname+hc(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,r){let s=this.prepareExternalUrl(o+hc(r));this._platformLocation.pushState(e,t,s)}replaceState(e,t,o,r){let s=this.prepareExternalUrl(o+hc(r));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||i)(be(Fb),be(ZS,8))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ad=(()=>{class i{_subject=new Le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let t=this._locationStrategy.getBaseHref();this._basePath=ple(_j(bj(t))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+hc(t))}normalize(e){return i.stripTrailingSlash(dle(this._basePath,bj(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._locationStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hc(t)),o)}replaceState(e,t="",o=null){this._locationStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+hc(t)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{let t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t??void 0,complete:o??void 0})}static normalizeQueryParams=hc;static joinWithSlash=XS;static stripTrailingSlash=_j;static \u0275fac=function(t){return new(t||i)(be(fc))};static \u0275prov=ne({token:i,factory:()=>cle(),providedIn:"root"})}return i})();function cle(){return new ad(be(fc))}function dle(i,n){if(!i||!n.startsWith(i))return n;let e=n.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function bj(i){return i.replace(/\/index.html$/,"")}function ple(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}var H2=(()=>{class i extends fc{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,t!=null&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){let t=XS(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,r){let s=this.prepareExternalUrl(o+hc(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,t,s)}replaceState(e,t,o,r){let s=this.prepareExternalUrl(o+hc(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||i)(be(Fb),be(ZS,8))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var z2=(function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i})(z2||{});var ea=(function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i})(ea||{}),so=(function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i})(so||{}),ka=(function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i})(ka||{}),Na={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Tj(i){return Aa(i)[pr.LocaleId]}function Oj(i,n,e){let t=Aa(i),o=[t[pr.DayPeriodsFormat],t[pr.DayPeriodsStandalone]],r=Fl(o,n);return Fl(r,e)}function Rj(i,n,e){let t=Aa(i),o=[t[pr.DaysFormat],t[pr.DaysStandalone]],r=Fl(o,n);return Fl(r,e)}function Dj(i,n,e){let t=Aa(i),o=[t[pr.MonthsFormat],t[pr.MonthsStandalone]],r=Fl(o,n);return Fl(r,e)}function Pj(i,n){let t=Aa(i)[pr.Eras];return Fl(t,n)}function Lb(i,n){let e=Aa(i);return Fl(e[pr.DateFormat],n)}function Mb(i,n){let e=Aa(i);return Fl(e[pr.TimeFormat],n)}function Bb(i,n){let t=Aa(i)[pr.DateTimeFormat];return Fl(t,n)}function ld(i,n){let e=Aa(i),t=e[pr.NumberSymbols][n];if(typeof t>"u"){if(n===Na.CurrencyDecimal)return e[pr.NumberSymbols][Na.Decimal];if(n===Na.CurrencyGroup)return e[pr.NumberSymbols][Na.Group]}return t}function Aj(i,n){return Aa(i)[pr.NumberFormats][n]}function kj(i){if(!i[pr.ExtraData])throw new ot(2303,!1)}function Nj(i){let n=Aa(i);return kj(n),(n[pr.ExtraData][2]||[]).map(t=>typeof t=="string"?M2(t):[M2(t[0]),M2(t[1])])}function Fj(i,n,e){let t=Aa(i);kj(t);let o=[t[pr.ExtraData][0],t[pr.ExtraData][1]],r=Fl(o,n)||[];return Fl(r,e)||[]}function Fl(i,n){for(let e=n;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new ot(2304,!1)}function M2(i){let[n,e]=i.split(":");return{hours:+n,minutes:+e}}var ule=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,t1={},hle=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Lj(i,n,e,t){let o=Cle(i);n=lp(e,n)||n;let s=[],a;for(;n;)if(a=hle.exec(n),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;n=d}else{s.push(n);break}let l=o.getTimezoneOffset();t&&(l=Bj(t,l),o=wle(o,t));let c="";return s.forEach(d=>{let u=yle(d);c+=u?u(o,e,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function s1(i,n,e){let t=new Date(0);return t.setFullYear(i,n,e),t.setHours(0,0,0),t}function lp(i,n){let e=Tj(i);if(t1[e]??={},t1[e][n])return t1[e][n];let t="";switch(n){case"shortDate":t=Lb(i,ka.Short);break;case"mediumDate":t=Lb(i,ka.Medium);break;case"longDate":t=Lb(i,ka.Long);break;case"fullDate":t=Lb(i,ka.Full);break;case"shortTime":t=Mb(i,ka.Short);break;case"mediumTime":t=Mb(i,ka.Medium);break;case"longTime":t=Mb(i,ka.Long);break;case"fullTime":t=Mb(i,ka.Full);break;case"short":let o=lp(i,"shortTime"),r=lp(i,"shortDate");t=i1(Bb(i,ka.Short),[o,r]);break;case"medium":let s=lp(i,"mediumTime"),a=lp(i,"mediumDate");t=i1(Bb(i,ka.Medium),[s,a]);break;case"long":let l=lp(i,"longTime"),c=lp(i,"longDate");t=i1(Bb(i,ka.Long),[l,c]);break;case"full":let d=lp(i,"fullTime"),u=lp(i,"fullDate");t=i1(Bb(i,ka.Full),[d,u]);break}return t&&(t1[e][n]=t),t}function i1(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(e,t){return n!=null&&t in n?n[t]:e})),i}function mc(i,n,e="-",t,o){let r="";(i<0||o&&i<=0)&&(o?i=-i+1:(i=-i,r=e));let s=String(i);for(;s.length<n;)s="0"+s;return t&&(s=s.slice(s.length-n)),r+s}function fle(i,n){return mc(i,3).substring(0,n)}function Vr(i,n,e=0,t=!1,o=!1){return function(r,s){let a=mle(i,r);if((e>0||a>-e)&&(a+=e),i===3)a===0&&e===-12&&(a=12);else if(i===6)return fle(a,n);let l=ld(s,Na.MinusSign);return mc(a,n,l,t,o)}}function mle(i,n){switch(i){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new ot(2301,!1)}}function Eo(i,n,e=ea.Format,t=!1){return function(o,r){return gle(o,r,i,n,e,t)}}function gle(i,n,e,t,o,r){switch(e){case 2:return Dj(n,o,t)[i.getMonth()];case 1:return Rj(n,o,t)[i.getDay()];case 0:let s=i.getHours(),a=i.getMinutes();if(r){let c=Nj(n),d=Fj(n,o,t),u=c.findIndex(m=>{if(Array.isArray(m)){let[g,y]=m,v=s>=g.hours&&a>=g.minutes,S=s<y.hours||s===y.hours&&a<y.minutes;if(g.hours<y.hours){if(v&&S)return!0}else if(v||S)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return Oj(n,o,t)[s<12?0:1];case 3:return Pj(n,t)[i.getFullYear()<=0?0:1];default:let l=e;throw new ot(2302,!1)}}function n1(i){return function(n,e,t){let o=-1*t,r=ld(e,Na.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(i){case 0:return(o>=0?"+":"")+mc(s,2,r)+mc(Math.abs(o%60),2,r);case 1:return"GMT"+(o>=0?"+":"")+mc(s,1,r);case 2:return"GMT"+(o>=0?"+":"")+mc(s,2,r)+":"+mc(Math.abs(o%60),2,r);case 3:return t===0?"Z":(o>=0?"+":"")+mc(s,2,r)+":"+mc(Math.abs(o%60),2,r);default:throw new ot(2310,!1)}}}var _le=0,r1=4;function ble(i){let n=s1(i,_le,1).getDay();return s1(i,0,1+(n<=r1?r1:r1+7)-n)}function Mj(i){let n=i.getDay(),e=n===0?-3:r1-n;return s1(i.getFullYear(),i.getMonth(),i.getDate()+e)}function B2(i,n=!1){return function(e,t){let o;if(n){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();o=1+Math.floor((s+r)/7)}else{let r=Mj(e),s=ble(r.getFullYear()),a=r.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return mc(o,i,ld(t,Na.MinusSign))}}function o1(i,n=!1){return function(e,t){let r=Mj(e).getFullYear();return mc(r,i,ld(t,Na.MinusSign),n)}}var V2={};function yle(i){if(V2[i])return V2[i];let n;switch(i){case"G":case"GG":case"GGG":n=Eo(3,so.Abbreviated);break;case"GGGG":n=Eo(3,so.Wide);break;case"GGGGG":n=Eo(3,so.Narrow);break;case"y":n=Vr(0,1,0,!1,!0);break;case"yy":n=Vr(0,2,0,!0,!0);break;case"yyy":n=Vr(0,3,0,!1,!0);break;case"yyyy":n=Vr(0,4,0,!1,!0);break;case"Y":n=o1(1);break;case"YY":n=o1(2,!0);break;case"YYY":n=o1(3);break;case"YYYY":n=o1(4);break;case"M":case"L":n=Vr(1,1,1);break;case"MM":case"LL":n=Vr(1,2,1);break;case"MMM":n=Eo(2,so.Abbreviated);break;case"MMMM":n=Eo(2,so.Wide);break;case"MMMMM":n=Eo(2,so.Narrow);break;case"LLL":n=Eo(2,so.Abbreviated,ea.Standalone);break;case"LLLL":n=Eo(2,so.Wide,ea.Standalone);break;case"LLLLL":n=Eo(2,so.Narrow,ea.Standalone);break;case"w":n=B2(1);break;case"ww":n=B2(2);break;case"W":n=B2(1,!0);break;case"d":n=Vr(2,1);break;case"dd":n=Vr(2,2);break;case"c":case"cc":n=Vr(7,1);break;case"ccc":n=Eo(1,so.Abbreviated,ea.Standalone);break;case"cccc":n=Eo(1,so.Wide,ea.Standalone);break;case"ccccc":n=Eo(1,so.Narrow,ea.Standalone);break;case"cccccc":n=Eo(1,so.Short,ea.Standalone);break;case"E":case"EE":case"EEE":n=Eo(1,so.Abbreviated);break;case"EEEE":n=Eo(1,so.Wide);break;case"EEEEE":n=Eo(1,so.Narrow);break;case"EEEEEE":n=Eo(1,so.Short);break;case"a":case"aa":case"aaa":n=Eo(0,so.Abbreviated);break;case"aaaa":n=Eo(0,so.Wide);break;case"aaaaa":n=Eo(0,so.Narrow);break;case"b":case"bb":case"bbb":n=Eo(0,so.Abbreviated,ea.Standalone,!0);break;case"bbbb":n=Eo(0,so.Wide,ea.Standalone,!0);break;case"bbbbb":n=Eo(0,so.Narrow,ea.Standalone,!0);break;case"B":case"BB":case"BBB":n=Eo(0,so.Abbreviated,ea.Format,!0);break;case"BBBB":n=Eo(0,so.Wide,ea.Format,!0);break;case"BBBBB":n=Eo(0,so.Narrow,ea.Format,!0);break;case"h":n=Vr(3,1,-12);break;case"hh":n=Vr(3,2,-12);break;case"H":n=Vr(3,1);break;case"HH":n=Vr(3,2);break;case"m":n=Vr(4,1);break;case"mm":n=Vr(4,2);break;case"s":n=Vr(5,1);break;case"ss":n=Vr(5,2);break;case"S":n=Vr(6,1);break;case"SS":n=Vr(6,2);break;case"SSS":n=Vr(6,3);break;case"Z":case"ZZ":case"ZZZ":n=n1(0);break;case"ZZZZZ":n=n1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=n1(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=n1(2);break;default:return null}return V2[i]=n,n}function Bj(i,n){i=i.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?n:e}function vle(i,n){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+n),i}function wle(i,n,e){let o=i.getTimezoneOffset(),r=Bj(n,o);return vle(i,-1*(r-o))}function Cle(i){if(wj(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[o,r=1,s=1]=i.split("-").map(a=>+a);return s1(o,r-1,s)}let e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let t;if(t=i.match(ule))return Sle(t)}let n=new Date(i);if(!wj(n))throw new ot(2311,!1);return n}function Sle(i){let n=new Date(0),e=0,t=0,o=i[8]?n.setUTCFullYear:n.setFullYear,r=i[8]?n.setUTCHours:n.setHours;i[9]&&(e=Number(i[9]+i[10]),t=Number(i[9]+i[11])),o.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));let s=Number(i[4]||0)-e,a=Number(i[5]||0)-t,l=Number(i[6]||0),c=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return r.call(n,s,a,l,c),n}function wj(i){return i instanceof Date&&!isNaN(i.valueOf())}var Ile=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cj=22,a1=".",Vb="0",Ele=";",xle=",",U2="#";function Tle(i,n,e,t,o,r,s=!1){let a="",l=!1;if(!isFinite(i))a=ld(e,Na.Infinity);else{let c=Dle(i);s&&(c=Rle(c));let d=n.minInt,u=n.minFrac,m=n.maxFrac;if(r){let P=r.match(Ile);if(P===null)throw new ot(2306,!1);let L=P[1],F=P[3],K=P[5];L!=null&&(d=j2(L)),F!=null&&(u=j2(F)),K!=null?m=j2(K):F!=null&&u>m&&(m=u)}Ple(c,u,m);let g=c.digits,y=c.integerLen,v=c.exponent,S=[];for(l=g.every(P=>!P);y<d;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?S=g.splice(y,g.length):(S=g,g=[0]);let I=[];for(g.length>=n.lgSize&&I.unshift(g.splice(-n.lgSize,g.length).join(""));g.length>n.gSize;)I.unshift(g.splice(-n.gSize,g.length).join(""));g.length&&I.unshift(g.join("")),a=I.join(ld(e,t)),S.length&&(a+=ld(e,o)+S.join("")),v&&(a+=ld(e,Na.Exponential)+"+"+v)}return i<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function Vj(i,n,e){let t=Aj(n,z2.Decimal),o=Ole(t,ld(n,Na.MinusSign));return Tle(i,o,n,Na.Group,Na.Decimal,e)}function Ole(i,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},t=i.split(Ele),o=t[0],r=t[1],s=o.indexOf(a1)!==-1?o.split(a1):[o.substring(0,o.lastIndexOf(Vb)+1),o.substring(o.lastIndexOf(Vb)+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf(U2));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Vb?e.minFrac=e.maxFrac=d+1:u===U2?e.maxFrac=d+1:e.posSuf+=u}let c=a.split(xle);if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){let d=o.length-e.posPre.length-e.posSuf.length,u=r.indexOf(U2);e.negPre=r.substring(0,u).replace(/'/g,""),e.negSuf=r.slice(u+d).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function Rle(i){if(i.digits[0]===0)return i;let n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(n===0?i.digits.push(0,0):n===1&&i.digits.push(0),i.integerLen+=2),i}function Dle(i){let n=Math.abs(i)+"",e=0,t,o,r,s,a;for((o=n.indexOf(a1))>-1&&(n=n.replace(a1,"")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;n.charAt(r)===Vb;r++);if(r===(a=n.length))t=[0],o=1;else{for(a--;n.charAt(a)===Vb;)a--;for(o-=r,t=[],s=0;r<=a;r++,s++)t[s]=Number(n.charAt(r))}return o>Cj&&(t=t.splice(0,Cj-1),e=o-1,o=1),{digits:t,exponent:e,integerLen:o}}function Ple(i,n,e){if(n>e)throw new ot(2307,!1);let t=i.digits,o=t.length-i.integerLen,r=Math.min(Math.max(n,o),e),s=r+i.integerLen,a=t[s];if(s>0){t.splice(Math.max(i.integerLen,s));for(let u=s;u<t.length;u++)t[u]=0}else{o=Math.max(0,o),i.integerLen=1,t.length=Math.max(1,s=r+1),t[0]=0;for(let u=1;u<s;u++)t[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)t.unshift(0),i.integerLen++;t.unshift(1),i.integerLen++}else t[s-1]++;for(;o<Math.max(0,r);o++)t.push(0);let l=r!==0,c=n+i.integerLen,d=t.reduceRight(function(u,m,g,y){return m=m+u,y[g]=m<10?m:m-10,l&&(y[g]===0&&g>=c?y.pop():l=!1),m>=10?1:0},0);d&&(t.unshift(d),i.integerLen++)}function j2(i){let n=parseInt(i);if(isNaN(n))throw new ot(2305,!1);return n}var G2=/\s+/,Sj=[],$t=(()=>{class i{_ngEl;_renderer;initialClasses=Sj;rawClass;stateMap=new Map;constructor(e,t){this._ngEl=e,this._renderer=t}set klass(e){this.initialClasses=e!=null?e.trim().split(G2):Sj}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(G2):e}ngDoCheck(){for(let t of this.initialClasses)this._updateState(t,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(e!=null)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let o=this.stateMap.get(e);o!==void 0?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],o=e[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(e,t){e=e.trim(),e.length>0&&e.split(G2).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(t){return new(t||i)(x(Ei),x(Wo))};static \u0275dir=ht({type:i,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return i})(),W2=(()=>{class i{_viewContainerRef;ngComponentOutlet=null;ngComponentOutletInputs;ngComponentOutletInjector;ngComponentOutletEnvironmentInjector;ngComponentOutletContent;ngComponentOutletNgModule;ngComponentOutletNgModuleFactory;_componentRef;_moduleRef;_inputsUsed=new Map;get componentInstance(){return this._componentRef?.instance??null}constructor(e){this._viewContainerRef=e}_needToReCreateNgModuleInstance(e){return e.ngComponentOutletNgModule!==void 0||e.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(e){return e.ngComponentOutlet!==void 0||e.ngComponentOutletContent!==void 0||e.ngComponentOutletInjector!==void 0||e.ngComponentOutletEnvironmentInjector!==void 0||this._needToReCreateNgModuleInstance(e)}ngOnChanges(e){if(this._needToReCreateComponentInstance(e)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(e)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=l2(this.ngComponentOutletNgModule,Ij(t)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Ij(t)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:t,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent,environmentInjector:this.ngComponentOutletEnvironmentInjector})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let e of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(e,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(e){for(let[t,o]of this._inputsUsed)o?(e.setInput(t,this.ngComponentOutletInputs[t]),this._inputsUsed.set(t,!1)):(e.setInput(t,void 0),this._inputsUsed.delete(t))}static \u0275fac=function(t){return new(t||i)(x(Fr))};static \u0275dir=ht({type:i,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletEnvironmentInjector:"ngComponentOutletEnvironmentInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},exportAs:["ngComponentOutlet"],features:[$n]})}return i})();function Ij(i){return i.get(Su).injector}var l1=class{$implicit;ngForOf;index;count;constructor(n,e,t,o){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mn=(()=>{class i{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation((o,r,s)=>{if(o.previousIndex==null)t.createEmbeddedView(this._template,new l1(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)t.remove(r===null?void 0:r);else if(r!==null){let a=t.get(r);t.move(a,s),Ej(a,o)}});for(let o=0,r=t.length;o<r;o++){let a=t.get(o).context;a.index=o,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{let r=t.get(o.currentIndex);Ej(r,o)})}static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||i)(x(Fr),x(Da),x(QS))};static \u0275dir=ht({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return i})();function Ej(i,n){i.context.$implicit=n.item}var pt=(()=>{class i{_viewContainer;_context=new c1;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,t){this._viewContainer=e,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xj(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xj(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||i)(x(Fr),x(Da))};static \u0275dir=ht({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return i})(),c1=class{$implicit=null;ngIf=null};function xj(i,n){if(i&&!i.createEmbeddedView)throw new ot(2020,!1)}var ft=(()=>{class i{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[o,r]=e.split("."),s=o.indexOf("-")===-1?void 0:uc.DashCase;t!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${t}${r}`:t,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static \u0275fac=function(t){return new(t||i)(x(Ei),x(N2),x(Wo))};static \u0275dir=ht({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return i})(),gt=(()=>{class i{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=t.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,t,o):!1,get:(e,t,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,o)}})}static \u0275fac=function(t){return new(t||i)(x(Fr))};static \u0275dir=ht({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[$n]})}return i})();function d1(i,n){return new ot(2100,!1)}var Ale=(()=>{class i{transform(e){if(e==null)return null;if(typeof e!="string")throw d1(i,e);return e.toLowerCase()}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Vo({name:"lowercase",type:i,pure:!0})}return i})();var kle="mediumDate",Uj=new he(""),jj=new he(""),gc=(()=>{class i{locale;defaultTimezone;defaultOptions;constructor(e,t,o){this.locale=e,this.defaultTimezone=t,this.defaultOptions=o}transform(e,t,o,r){if(e==null||e===""||e!==e)return null;try{let s=t??this.defaultOptions?.dateFormat??kle,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Lj(e,s,r||this.locale,a)}catch(s){throw d1(i,s.message)}}static \u0275fac=function(t){return new(t||i)(x(bg,16),x(Uj,24),x(jj,24))};static \u0275pipe=Vo({name:"date",type:i,pure:!0})}return i})();var Ub=(()=>{class i{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Vo({name:"json",type:i,pure:!1})}return i})();var Of=(()=>{class i{_locale;constructor(e){this._locale=e}transform(e,t,o){if(!Nle(e))return null;o||=this._locale;try{let r=Fle(e);return Vj(r,o,t)}catch(r){throw d1(i,r.message)}}static \u0275fac=function(t){return new(t||i)(x(bg,16))};static \u0275pipe=Vo({name:"number",type:i,pure:!0})}return i})();function Nle(i){return!(i==null||i===""||i!==i)}function Fle(i){if(typeof i=="string"&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if(typeof i!="number")throw new ot(2309,!1);return i}var jb=(()=>{class i{transform(e,t,o){if(e==null)return null;if(!(typeof e=="string"||Array.isArray(e)))throw d1(i,e);return e.slice(t,o)}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Vo({name:"slice",type:i,pure:!1})}return i})();var Qe=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();function Gb(i,n){n=encodeURIComponent(n);for(let e of i.split(";")){let t=e.indexOf("="),[o,r]=t==-1?[e,""]:[e.slice(0,t),e.slice(t+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}var Rf=class{};var K2="browser",Ble="server";function At(i){return i===K2}function q2(i){return i===Ble}var Gj=(()=>{class i{static \u0275prov=ne({token:i,providedIn:"root",factory:()=>new $2(z(Ci),window)})}return i})(),$2=class{document;window;offset=()=>[0,0];constructor(n,e){this.document=n,this.window=e}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,e){this.window.scrollTo(Fe(ee({},e),{left:n[0],top:n[1]}))}scrollToAnchor(n,e){let t=Vle(this.document,n);t&&(this.scrollToElement(t,e),t.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(Ol(2400,!1))}}scrollToElement(n,e){let t=n.getBoundingClientRect(),o=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(Fe(ee({},e),{left:o-s[0],top:r-s[1]}))}};function Vle(i,n){let e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),o=t.currentNode;for(;o;){let r=o.shadowRoot;if(r){let s=r.getElementById(n)||r.querySelector(`[name="${n}"]`);if(s)return s}o=t.nextNode()}}return null}var Hb=class{_doc;constructor(n){this._doc=n}manager},p1=(()=>{class i extends Hb{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o,r){return e.addEventListener(t,o,r),()=>this.removeEventListener(e,t,o,r)}removeEventListener(e,t,o,r){return e.removeEventListener(t,o,r)}static \u0275fac=function(t){return new(t||i)(be(Ci))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),h1=new he(""),Z2=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach(s=>{s.manager=this});let o=e.filter(s=>!(s instanceof p1));this._plugins=o.slice().reverse();let r=e.find(s=>s instanceof p1);r&&this._plugins.push(r)}addEventListener(e,t,o,r){return this._findPluginFor(t).addEventListener(e,t,o,r)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(r=>r.supports(e)),!t)throw new ot(5101,!1);return this._eventNameToPlugin.set(e,t),t}static \u0275fac=function(t){return new(t||i)(be(h1),be(Ft))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),J2="ng-app-id";function Hj(i){for(let n of i)n.remove()}function zj(i,n){let e=n.createElement("style");return e.textContent=i,e}function Ule(i,n,e,t){let o=i.head?.querySelectorAll(`style[${J2}="${n}"],link[${J2}="${n}"]`);if(o)for(let r of o)r.removeAttribute(J2),r instanceof HTMLLinkElement?t.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function Y2(i,n){let e=n.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var eA=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,t,o,r={}){this.doc=e,this.appId=t,this.nonce=o,Ule(e,t,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,t){for(let o of e)this.addUsage(o,this.inline,zj);t?.forEach(o=>this.addUsage(o,this.external,Y2))}removeStyles(e,t){for(let o of e)this.removeUsage(o,this.inline);t?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,t,o){let r=t.get(e);r?r.usage++:t.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,t){let o=t.get(e);o&&(o.usage--,o.usage<=0&&(Hj(o.elements),t.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Hj(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[t,{elements:o}]of this.inline)o.push(this.addElement(e,zj(t,this.doc)));for(let[t,{elements:o}]of this.external)o.push(this.addElement(e,Y2(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),e.appendChild(t)}static \u0275fac=function(t){return new(t||i)(be(Ci),be(hg),be(SS,8),be(wr))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Q2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tA=/%COMP%/g;var $j="%COMP%",jle=`_nghost-${$j}`,Gle=`_ngcontent-${$j}`,Hle=!0,zle=new he("",{providedIn:"root",factory:()=>Hle});function Wle(i){return Gle.replace(tA,i)}function $le(i){return jle.replace(tA,i)}function Kj(i,n){return n.map(e=>e.replace(tA,i))}var iA=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,o,r,s,a,l=null,c=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new zb(e,s,a,this.platformIsServer,this.tracingService)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,t);return o instanceof u1?o.applyToHost(e):o instanceof Wb&&o.applyStyles(),o}getOrCreateRenderer(e,t){let o=this.rendererByCompId,r=o.get(t.id);if(!r){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,m=this.tracingService;switch(t.encapsulation){case op.Emulated:r=new u1(l,c,t,this.appId,d,s,a,u,m);break;case op.ShadowDom:return new X2(l,c,e,t,s,a,this.nonce,u,m);default:r=new Wb(l,c,t,d,s,a,u,m);break}o.set(t.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(t){return new(t||i)(be(Z2),be(eA),be(hg),be(zle),be(Ci),be(Ft),be(SS),be(If,8))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),zb=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,e,t,o,r){this.eventManager=n,this.doc=e,this.ngZone=t,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(n,e){return e?this.doc.createElementNS(Q2[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Wj(n)?n.content:n).appendChild(e)}insertBefore(n,e,t){n&&(Wj(n)?n.content:n).insertBefore(e,t)}removeChild(n,e){e.remove()}selectRootElement(n,e){let t=typeof n=="string"?this.doc.querySelector(n):n;if(!t)throw new ot(-5104,!1);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,o){if(o){e=o+":"+e;let r=Q2[o];r?n.setAttributeNS(r,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){let o=Q2[t];o?n.removeAttributeNS(o,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,o){o&(uc.DashCase|uc.Important)?n.style.setProperty(e,t,o&uc.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&uc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){n!=null&&(n[e]=t)}setValue(n,e){n.nodeValue=e}listen(n,e,t,o){if(typeof n=="string"&&(n=nl().getGlobalEventTarget(this.doc,n),!n))throw new ot(5102,!1);let r=this.decoratePreventDefault(t);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(n,e,r)),this.eventManager.addEventListener(n,e,r,o)}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;n(e)===!1&&e.preventDefault()}}};function Wj(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var X2=class extends zb{sharedStylesHost;hostEl;shadowRoot;constructor(n,e,t,o,r,s,a,l,c){super(n,r,s,l,c),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Kj(o.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let u=o.getExternalStyles?.();if(u)for(let m of u){let g=Y2(m,r);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wb=class extends zb{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,e,t,o,r,s,a,l,c){super(n,r,s,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let d=t.styles;this.styles=c?Kj(c,d):d,this.styleUrls=t.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&vu.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},u1=class extends Wb{contentAttr;hostAttr;constructor(n,e,t,o,r,s,a,l,c){let d=o+"-"+t.id;super(n,e,t,r,s,a,l,c,d),this.contentAttr=Wle(d),this.hostAttr=$le(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}};var f1=class i extends Nb{supportsDOMEvents=!0;static makeCurrent(){F2(new i)}onAndCancel(n,e,t,o){return n.addEventListener(e,t,o),()=>{n.removeEventListener(e,t,o)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=Kle();return e==null?null:qle(e)}resetBaseElement(){$b=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Gb(document.cookie,n)}},$b=null;function Kle(){return $b=$b||document.head.querySelector("base"),$b?$b.getAttribute("href"):null}function qle(i){return new URL(i,document.baseURI).pathname}var m1=class{addToWindow(n){Nr.getAngularTestability=(t,o=!0)=>{let r=n.findTestabilityInTree(t,o);if(r==null)throw new ot(5103,!1);return r},Nr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Nr.getAllAngularRootElements=()=>n.getAllRootElements();let e=t=>{let o=Nr.getAllAngularTestabilities(),r=o.length,s=function(){r--,r==0&&t()};o.forEach(a=>{a.whenStable(s)})};Nr.frameworkStabilizers||(Nr.frameworkStabilizers=[]),Nr.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,t){if(e==null)return null;let o=n.getTestability(e);return o??(t?nl().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},Jle=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),qj=["alt","control","meta","shift"],Qle={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yle={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Jj=(()=>{class i extends Hb{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,t,o,r){let s=i.parseEventName(t),a=i.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nl().onAndCancel(e,s.domEventName,a,r))}static parseEventName(e){let t=e.toLowerCase().split("."),o=t.shift();if(t.length===0||!(o==="keydown"||o==="keyup"))return null;let r=i._normalizeKey(t.pop()),s="",a=t.indexOf("code");if(a>-1&&(t.splice(a,1),s="code."),qj.forEach(c=>{let d=t.indexOf(c);d>-1&&(t.splice(d,1),s+=c+".")}),s+=r,t.length!=0||r.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(e,t){let o=Qle[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),qj.forEach(s=>{if(s!==o){let a=Yle[s];a(e)&&(r+=s+".")}}),r+=o,r===t)}static eventCallback(e,t,o){return r=>{i.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>t(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(t){return new(t||i)(be(Ci))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function Xle(){f1.makeCurrent()}function Zle(){return new Za}function ece(){return OP(document),document}var tce=[{provide:wr,useValue:K2},{provide:CS,useValue:Xle,multi:!0},{provide:Ci,useFactory:ece}],ice=A2(fj,"browser",tce);var nce=[{provide:gg,useClass:m1},{provide:jS,useClass:Sb,deps:[Ft,Ib,gg]},{provide:Sb,useClass:Sb,deps:[Ft,Ib,gg]}],oce=[{provide:q0,useValue:"root"},{provide:Za,useFactory:Zle},{provide:h1,useClass:p1,multi:!0,deps:[Ci]},{provide:h1,useClass:Jj,multi:!0,deps:[Ci]},iA,eA,Z2,{provide:il,useExisting:iA},{provide:Rf,useClass:Jle},[]],rce=(()=>{class i{constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({providers:[...oce,...nce],imports:[Qe,mj]})}return i})();var wg=class{},Kb=class{},As=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(e=>{let t=e.indexOf(":");if(t>0){let o=e.slice(0,t),r=e.slice(t+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,t)=>{this.addHeaderEntry(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){let e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(n.name,e);let o=(n.op==="a"?this.headers.get(e):void 0)||[];o.push(...t),this.headers.set(e,o);break;case"d":let r=n.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>r.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(n,e){let t=n.toLowerCase();this.maybeSetNormalizedName(n,t),this.headers.has(t)?this.headers.get(t).push(e):this.headers.set(t,[e])}setHeaderEntries(n,e){let t=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=n.toLowerCase();this.headers.set(o,t),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}};var _1=class{encodeKey(n){return Qj(n)}encodeValue(n){return Qj(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function sce(i,n){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[s,a]=r==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,r)),n.decodeValue(o.slice(r+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}var ace=/%(\d[a-f0-9])/gi,lce={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qj(i){return encodeURIComponent(i).replace(ace,(n,e)=>lce[e]??n)}function g1(i){return`${i}`}var _c=class i{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new _1,n.fromString){if(n.fromObject)throw new ot(2805,!1);this.map=sce(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{let t=n.fromObject[e],o=Array.isArray(t)?t.map(g1):[g1(t)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){let e=[];return Object.keys(n).forEach(t=>{let o=n[t];Array.isArray(o)?o.forEach(r=>{e.push({param:t,value:r,op:"a"})}):e.push({param:t,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let e=(n.op==="a"?this.map.get(n.param):void 0)||[];e.push(g1(n.value)),this.map.set(n.param,e);break;case"d":if(n.value!==void 0){let t=this.map.get(n.param)||[],o=t.indexOf(g1(n.value));o!==-1&&t.splice(o,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var b1=class{map=new Map;set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function cce(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yj(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Xj(i){return typeof Blob<"u"&&i instanceof Blob}function Zj(i){return typeof FormData<"u"&&i instanceof FormData}function dce(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var e6="Content-Type",t6="Accept",n6="X-Request-URL",o6="text/plain",r6="application/json",pce=`${r6}, ${o6}, */*`,yg=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,e,t,o){this.url=e,this.method=n.toUpperCase();let r;if(cce(this.method)||o?(this.body=t!==void 0?t:null,r=o):r=t,r){if(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,this.keepalive=!!r.keepalive,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),r.priority&&(this.priority=r.priority),r.cache&&(this.cache=r.cache),r.credentials&&(this.credentials=r.credentials),typeof r.timeout=="number"){if(r.timeout<1||!Number.isInteger(r.timeout))throw new ot(2822,"");this.timeout=r.timeout}r.mode&&(this.mode=r.mode),r.redirect&&(this.redirect=r.redirect),r.integrity&&(this.integrity=r.integrity),r.referrer&&(this.referrer=r.referrer),this.transferCache=r.transferCache}if(this.headers??=new As,this.context??=new b1,!this.params)this.params=new _c,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),l=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yj(this.body)||Xj(this.body)||Zj(this.body)||dce(this.body)?this.body:this.body instanceof _c?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Zj(this.body)?null:Xj(this.body)?this.body.type||null:Yj(this.body)?null:typeof this.body=="string"?o6:this.body instanceof _c?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?r6:null}clone(n={}){let e=n.method||this.method,t=n.url||this.url,o=n.responseType||this.responseType,r=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,d=n.credentials||this.credentials,u=n.referrer||this.referrer,m=n.integrity||this.integrity,g=n.transferCache??this.transferCache,y=n.timeout??this.timeout,v=n.body!==void 0?n.body:this.body,S=n.withCredentials??this.withCredentials,I=n.reportProgress??this.reportProgress,P=n.headers||this.headers,L=n.params||this.params,F=n.context??this.context;return n.setHeaders!==void 0&&(P=Object.keys(n.setHeaders).reduce((K,le)=>K.set(le,n.setHeaders[le]),P)),n.setParams&&(L=Object.keys(n.setParams).reduce((K,le)=>K.set(le,n.setParams[le]),L)),new i(e,t,v,{params:L,headers:P,context:F,reportProgress:I,responseType:o,withCredentials:S,transferCache:g,keepalive:r,cache:a,priority:s,timeout:y,mode:l,redirect:c,credentials:d,referrer:u,integrity:m})}},bc=(function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i})(bc||{}),Cg=class{headers;status;statusText;url;ok;type;redirected;constructor(n,e=200,t="OK"){this.headers=n.headers||new As,this.status=n.status!==void 0?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},y1=class i extends Cg{constructor(n={}){super(n)}type=bc.ResponseHeader;clone(n={}){return new i({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},cp=class i extends Cg{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=bc.Response;clone(n={}){return new i({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},vg=class extends Cg{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},uce=200,hce=204;function nA(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,credentials:i.credentials,transferCache:i.transferCache,timeout:i.timeout,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,integrity:i.integrity,referrer:i.referrer}}var ai=(()=>{class i{handler;constructor(e){this.handler=e}request(e,t,o={}){let r;if(e instanceof yg)r=e;else{let l;o.headers instanceof As?l=o.headers:l=new As(o.headers);let c;o.params&&(o.params instanceof _c?c=o.params:c=new _c({fromObject:o.params})),r=new yg(e,t,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=Dt(r).pipe(Tl(l=>this.handler.handle(l)));if(e instanceof yg||o.observe==="events")return s;let a=s.pipe(Zo(l=>l instanceof cp));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new ot(2806,!1);return l.body}));case"blob":return a.pipe(J(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new ot(2807,!1);return l.body}));case"text":return a.pipe(J(l=>{if(l.body!==null&&typeof l.body!="string")throw new ot(2808,!1);return l.body}));case"json":default:return a.pipe(J(l=>l.body))}case"response":return a;default:throw new ot(2809,!1)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:new _c().append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,nA(o,t))}post(e,t,o={}){return this.request("POST",e,nA(o,t))}put(e,t,o={}){return this.request("PUT",e,nA(o,t))}static \u0275fac=function(t){return new(t||i)(be(wg))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var fce=new he("");function s6(i,n){return n(i)}function mce(i,n){return(e,t)=>n.intercept(e,{handle:o=>i(o,t)})}function gce(i,n,e){return(t,o)=>fs(e,()=>n(t,r=>i(r,o)))}var a6=new he(""),rA=new he(""),l6=new he(""),sA=new he("",{providedIn:"root",factory:()=>!0});function _ce(){let i=null;return(n,e)=>{i===null&&(i=(z(a6,{optional:!0})??[]).reduceRight(mce,s6));let t=z(bf);if(z(sA)){let r=t.add();return i(n,e).pipe(fu(r))}else return i(n,e)}}var v1=(()=>{class i extends wg{backend;injector;chain=null;pendingTasks=z(bf);contributeToStability=z(sA);constructor(e,t){super(),this.backend=e,this.injector=t}handle(e){if(this.chain===null){let t=Array.from(new Set([...this.injector.get(rA),...this.injector.get(l6,[])]));this.chain=t.reduceRight((o,r)=>gce(o,r,this.injector),s6)}if(this.contributeToStability){let t=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(fu(t))}else return this.chain(e,t=>this.backend.handle(t))}static \u0275fac=function(t){return new(t||i)(be(Kb),be(er))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var bce=/^\)\]\}',?\n/,yce=RegExp(`^${n6}:`,"m");function vce(i){return"responseURL"in i&&i.responseURL?i.responseURL:yce.test(i.getAllResponseHeaders())?i.getResponseHeader(n6):null}var oA=(()=>{class i{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new ot(-2800,!1);let t=this.xhrFactory;return Dt(null).pipe(Bo(()=>new pi(r=>{let s=t.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,I)=>s.setRequestHeader(S,I.join(","))),e.headers.has(t6)||s.setRequestHeader(t6,pce),!e.headers.has(e6)){let S=e.detectContentTypeHeader();S!==null&&s.setRequestHeader(e6,S)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let S=e.responseType.toLowerCase();s.responseType=S!=="json"?S:"text"}let a=e.serializeBody(),l=null,c=()=>{if(l!==null)return l;let S=s.statusText||"OK",I=new As(s.getAllResponseHeaders()),P=vce(s)||e.url;return l=new y1({headers:I,status:s.status,statusText:S,url:P}),l},d=()=>{let{headers:S,status:I,statusText:P,url:L}=c(),F=null;I!==hce&&(F=typeof s.response>"u"?s.responseText:s.response),I===0&&(I=F?uce:0);let K=I>=200&&I<300;if(e.responseType==="json"&&typeof F=="string"){let le=F;F=F.replace(bce,"");try{F=F!==""?JSON.parse(F):null}catch(me){F=le,K&&(K=!1,F={error:me,text:F})}}K?(r.next(new cp({body:F,headers:S,status:I,statusText:P,url:L||void 0})),r.complete()):r.error(new vg({error:F,headers:S,status:I,statusText:P,url:L||void 0}))},u=S=>{let{url:I}=c(),P=new vg({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:I||void 0});r.error(P)},m=u;e.timeout&&(m=S=>{let{url:I}=c(),P=new vg({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:I||void 0});r.error(P)});let g=!1,y=S=>{g||(r.next(c()),g=!0);let I={type:bc.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(I.total=S.total),e.responseType==="text"&&s.responseText&&(I.partialText=s.responseText),r.next(I)},v=S=>{let I={type:bc.UploadProgress,loaded:S.loaded};S.lengthComputable&&(I.total=S.total),r.next(I)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",m),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),r.next({type:bc.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",m),e.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(t){return new(t||i)(be(Rf))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),c6=new he(""),wce="XSRF-TOKEN",Cce=new he("",{providedIn:"root",factory:()=>wce}),Sce="X-XSRF-TOKEN",Ice=new he("",{providedIn:"root",factory:()=>Sce}),qb=class{},Ece=(()=>{class i{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,t){this.doc=e,this.cookieName=t}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gb(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(t){return new(t||i)(be(Ci),be(Cce))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),xce=/^(?:https?:)?\/\//i;function Tce(i,n){if(!z(c6)||i.method==="GET"||i.method==="HEAD"||xce.test(i.url))return n(i);let e=z(qb).getToken(),t=z(Ice);return e!=null&&!i.headers.has(t)&&(i=i.clone({headers:i.headers.set(t,e)})),n(i)}var aA=(function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i})(aA||{});function Oce(i,n){return{\u0275kind:i,\u0275providers:n}}function Rce(...i){let n=[ai,oA,v1,{provide:wg,useExisting:v1},{provide:Kb,useFactory:()=>z(fce,{optional:!0})??z(oA)},{provide:rA,useValue:Tce,multi:!0},{provide:c6,useValue:!0},{provide:qb,useClass:Ece}];for(let e of i)n.push(...e.\u0275providers);return Zc(n)}var i6=new he("");function Dce(){return Oce(aA.LegacyInterceptors,[{provide:i6,useFactory:_ce},{provide:rA,useExisting:i6,multi:!0}])}var d6=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(t){return new(t||i)(be(Ci))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var dp=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:function(t){let o=null;return t?o=new(t||i):o=be(Pce),o},providedIn:"root"})}return i})(),Pce=(()=>{class i extends dp{_doc;constructor(e){super(),this._doc=e}sanitize(e,t){if(t==null)return null;switch(e){case ma.NONE:return t;case ma.HTML:return sd(t,"HTML")?Pa(t):TS(this._doc,String(t)).toString();case ma.STYLE:return sd(t,"Style")?Pa(t):t;case ma.SCRIPT:if(sd(t,"Script"))return Pa(t);throw new ot(5200,!1);case ma.URL:return sd(t,"URL")?Pa(t):gb(String(t));case ma.RESOURCE_URL:if(sd(t,"ResourceURL"))return Pa(t);throw new ot(5201,!1);default:throw new ot(5202,!1)}}bypassSecurityTrustHtml(e){return PP(e)}bypassSecurityTrustStyle(e){return AP(e)}bypassSecurityTrustScript(e){return kP(e)}bypassSecurityTrustUrl(e){return NP(e)}bypassSecurityTrustResourceUrl(e){return FP(e)}static \u0275fac=function(t){return new(t||i)(be(Ci))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var cd=(function(i){return i.script="script",i.docker="docker",i.pkg="pkg",i})(cd||{});var Sg={fwcAppURL:new URL(window.location.href).origin+"/api",fwcAppDocsURL:new URL(window.location.href).origin+"/manual",fwcConsoleLogs:!1,checkUpdates:!0,installMethod:void 0},Ie=(()=>{let n=class n{constructor(t){this.httpClient=t}static loadConfig(){let t="assets/config/config.json";return new Promise((o,r)=>{let s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",t,!0),s.onreadystatechange=()=>{if(s.readyState===4){if(n.settings=Object.assign({},Sg),s.status===200){try{n.settings=JSON.parse(s.responseText)}catch{}n.settings.fwcAppURL||(n.settings.fwcAppURL=Sg.fwcAppURL),n.settings.fwcConsoleLogs||(n.settings.fwcConsoleLogs=Sg.fwcConsoleLogs),n.settings.checkUpdates===void 0&&(n.settings.checkUpdates=Sg.checkUpdates),n.settings.fwcAppDocsURL===void 0&&(n.settings.fwcAppDocsURL=Sg.fwcAppDocsURL),n.settings.installMethod!=null&&!(n.settings.installMethod in cd)&&(n.settings.installMethod=Sg.installMethod),o()}if(n.settings.fwcAppURL=n.settings.fwcAppURL.trim(),/^\/\w+$/.exec(n.settings.fwcAppURL)){let a=new URL(window.location.href);n.settings.fwcAppURL=a.origin+n.settings.fwcAppURL}try{new URL(n.settings.fwcAppURL)}catch{return r("Invalid backend URL in configuration file "+t)}n.log("API URL: ",n.settings.fwcAppURL),o()}},s.send(null)})}static log(...t){t.unshift("[ FWCLOUD LOG "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.log.apply(this,t)}static error(...t){t.unshift("[ FWCLOUD ERROR "+new Date().toLocaleString()+"]"),this.settings&&this.settings.fwcConsoleLogs&&console.error.apply(this,t)}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var b6=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,t){this._renderer=e,this._elementRef=t}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(t){return new(t||i)(x(Wo),x(Ei))};static \u0275dir=ht({type:i})}return i})(),y6=(()=>{class i extends b6{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,features:[re]})}return i})(),Bn=new he("");var Ace={provide:Bn,useExisting:Xt(()=>Hi),multi:!0};function kce(){let i=nl()?nl().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Nce=new he(""),Hi=(()=>{class i extends b6{_compositionMode;_composing=!1;constructor(e,t,o){super(e,t),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!kce())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(t){return new(t||i)(x(Wo),x(Ei),x(Nce,8))};static \u0275dir=ht({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){t&1&&A("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Se([Ace]),re]})}return i})();function dA(i){return i==null||pA(i)===0}function pA(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var Ll=new he(""),Df=new he(""),Fce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Me=class{static min(n){return v6(n)}static max(n){return w6(n)}static required(n){return C6(n)}static requiredTrue(n){return Lce(n)}static email(n){return Mce(n)}static minLength(n){return Bce(n)}static maxLength(n){return S6(n)}static pattern(n){return I6(n)}static nullValidator(n){return S1()}static compose(n){return D6(n)}static composeAsync(n){return P6(n)}};function v6(i){return n=>{if(n.value==null||i==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}function w6(i){return n=>{if(n.value==null||i==null)return null;let e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}function C6(i){return dA(i.value)?{required:!0}:null}function Lce(i){return i.value===!0?null:{required:!0}}function Mce(i){return dA(i.value)||Fce.test(i.value)?null:{email:!0}}function Bce(i){return n=>{let e=n.value?.length??pA(n.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function S6(i){return n=>{let e=n.value?.length??pA(n.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function I6(i){if(!i)return S1;let n,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),t=>{if(dA(t.value))return null;let o=t.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function S1(i){return null}function E6(i){return i!=null}function x6(i){return Eu(i)?Rn(i):i}function T6(i){let n={};return i.forEach(e=>{n=e!=null?ee(ee({},n),e):n}),Object.keys(n).length===0?null:n}function O6(i,n){return n.map(e=>e(i))}function Vce(i){return!i.validate}function R6(i){return i.map(n=>Vce(n)?n:e=>n.validate(e))}function D6(i){if(!i)return null;let n=i.filter(E6);return n.length==0?null:function(e){return T6(O6(e,n))}}function uA(i){return i!=null?D6(R6(i)):null}function P6(i){if(!i)return null;let n=i.filter(E6);return n.length==0?null:function(e){let t=O6(e,n).map(x6);return B0(t).pipe(J(T6))}}function hA(i){return i!=null?P6(R6(i)):null}function p6(i,n){return i===null?[n]:Array.isArray(i)?[...i,n]:[i,n]}function A6(i){return i._rawValidators}function k6(i){return i._rawAsyncValidators}function lA(i){return i?Array.isArray(i)?i:[i]:[]}function I1(i,n){return Array.isArray(i)?i.includes(n):i===n}function u6(i,n){let e=lA(n);return lA(i).forEach(o=>{I1(e,o)||e.push(o)}),e}function h6(i,n){return lA(n).filter(e=>!I1(i,e))}var E1=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=uA(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=hA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},_a=class extends E1{name;get formDirective(){return null}get path(){return null}},os=class extends E1{_parent=null;name=null;valueAccessor=null},x1=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Uce={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vOt=Fe(ee({},Uce),{"[class.ng-submitted]":"isSubmitted"}),_i=(()=>{class i extends x1{constructor(e){super(e)}static \u0275fac=function(t){return new(t||i)(x(os,2))};static \u0275dir=ht({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){t&2&&Lr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[re]})}return i})(),Zn=(()=>{class i extends x1{constructor(e){super(e)}static \u0275fac=function(t){return new(t||i)(x(_a,10))};static \u0275dir=ht({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){t&2&&Lr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[re]})}return i})();var Jb="VALID",C1="INVALID",Ig="PENDING",Qb="DISABLED",Tu=class{},T1=class extends Tu{value;source;constructor(n,e){super(),this.value=n,this.source=e}},Xb=class extends Tu{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},Zb=class extends Tu{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Eg=class extends Tu{status;source;constructor(n,e){super(),this.status=n,this.source=e}},O1=class extends Tu{source;constructor(n){super(),this.source=n}},ey=class extends Tu{source;constructor(n){super(),this.source=n}};function fA(i){return(A1(i)?i.validators:i)||null}function jce(i){return Array.isArray(i)?uA(i):i||null}function mA(i,n){return(A1(n)?n.asyncValidators:i)||null}function Gce(i){return Array.isArray(i)?hA(i):i||null}function A1(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function N6(i,n,e){let t=i.controls;if(!(n?Object.keys(t):t).length)throw new ot(1e3,"");if(!t[e])throw new ot(1001,"")}function F6(i,n,e){i._forEachChild((t,o)=>{if(e[o]===void 0)throw new ot(1002,"")})}var xg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Uo(this.statusReactive)}set status(n){Uo(()=>this.statusReactive.set(n))}_status=ct(()=>this.statusReactive());statusReactive=lt(void 0);get valid(){return this.status===Jb}get invalid(){return this.status===C1}get pending(){return this.status==Ig}get disabled(){return this.status===Qb}get enabled(){return this.status!==Qb}errors;get pristine(){return Uo(this.pristineReactive)}set pristine(n){Uo(()=>this.pristineReactive.set(n))}_pristine=ct(()=>this.pristineReactive());pristineReactive=lt(!0);get dirty(){return!this.pristine}get touched(){return Uo(this.touchedReactive)}set touched(n){Uo(()=>this.touchedReactive.set(n))}_touched=ct(()=>this.touchedReactive());touchedReactive=lt(!1);get untouched(){return!this.touched}_events=new Le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(u6(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(u6(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(h6(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(h6(n,this._rawAsyncValidators))}hasValidator(n){return I1(this._rawValidators,n)}hasAsyncValidator(n){return I1(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(Fe(ee({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new Zb(!0,t))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:t})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t),e&&n.emitEvent!==!1&&this._events.next(new Zb(!1,t))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let t=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(Fe(ee({},n),{sourceControl:t})),e&&n.emitEvent!==!1&&this._events.next(new Xb(!1,t))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),e&&n.emitEvent!==!1&&this._events.next(new Xb(!0,t))}markAsPending(n={}){this.status=Ig;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Eg(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(Fe(ee({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Qb,this.errors=null,this._forEachChild(o=>{o.disable(Fe(ee({},n),{onlySelf:!0}))}),this._updateValue();let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new T1(this.value,t)),this._events.next(new Eg(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Fe(ee({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Jb,this._forEachChild(t=>{t.enable(Fe(ee({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Fe(ee({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jb||this.status===Ig)&&this._runAsyncValidator(t,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new T1(this.value,e)),this._events.next(new Eg(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(Fe(ee({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qb:Jb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=Ig,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let t=x6(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((t,o)=>t&&t._find(o),this)}getError(n,e){let t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,t){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||t)&&this._events.next(new Eg(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,t)}_initObservables(){this.valueChanges=new te,this.statusChanges=new te}_calculateStatus(){return this._allControlsDisabled()?Qb:this.errors?C1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ig)?Ig:this._anyControlsHaveStatus(C1)?C1:Jb}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let t=!this._anyControlsDirty(),o=this.pristine!==t;this.pristine=t,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),o&&this._events.next(new Xb(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Zb(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){A1(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=jce(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Gce(this._rawAsyncValidators)}},ol=class extends xg{constructor(n,e,t){super(fA(e),mA(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){F6(this,!0,n),Object.keys(n).forEach(t=>{N6(this,!0,t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(t=>{let o=this.controls[t];o&&o.patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,o)=>{t.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ey(this))}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>t._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,t]of Object.entries(this.controls))if(this.contains(e)&&n(t))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(n,e){let t=n;return this._forEachChild((o,r)=>{t=e(t,o,r)}),t}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var ho=ol;var cA=class extends ol{};var Tg=new he("",{providedIn:"root",factory:()=>k1}),k1="always";function N1(i,n){return[...n.path,i]}function ty(i,n,e=k1){gA(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(i.disabled),zce(i,n),$ce(i,n),Wce(i,n),Hce(i,n)}function R1(i,n,e=!0){let t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),P1(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function D1(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Hce(i,n){if(n.valueAccessor.setDisabledState){let e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function gA(i,n){let e=A6(i);n.validator!==null?i.setValidators(p6(e,n.validator)):typeof e=="function"&&i.setValidators([e]);let t=k6(i);n.asyncValidator!==null?i.setAsyncValidators(p6(t,n.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let o=()=>i.updateValueAndValidity();D1(n._rawValidators,o),D1(n._rawAsyncValidators,o)}function P1(i,n){let e=!1;if(i!==null){if(n.validator!==null){let o=A6(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.validator);r.length!==o.length&&(e=!0,i.setValidators(r))}}if(n.asyncValidator!==null){let o=k6(i);if(Array.isArray(o)&&o.length>0){let r=o.filter(s=>s!==n.asyncValidator);r.length!==o.length&&(e=!0,i.setAsyncValidators(r))}}}let t=()=>{};return D1(n._rawValidators,t),D1(n._rawAsyncValidators,t),e}function zce(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&L6(i,n)})}function Wce(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&L6(i,n),i.updateOn!=="submit"&&i.markAsTouched()})}function L6(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function $ce(i,n){let e=(t,o)=>{n.valueAccessor.writeValue(t),o&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function M6(i,n){i==null,gA(i,n)}function Kce(i,n){return P1(i,n)}function _A(i,n){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function qce(i){return Object.getPrototypeOf(i.constructor)===y6}function B6(i,n){i._syncPendingControls(),n.forEach(e=>{let t=e.control;t.updateOn==="submit"&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function bA(i,n){if(!n)return null;Array.isArray(n);let e,t,o;return n.forEach(r=>{r.constructor===Hi?e=r:qce(r)?t=r:o=r}),o||t||e||null}function Jce(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}var Qce={provide:_a,useExisting:Xt(()=>yA)},Yb=Promise.resolve(),yA=(()=>{class i extends _a{callSetDisabledState;get submitted(){return Uo(this.submittedReactive)}_submitted=ct(()=>this.submittedReactive());submittedReactive=lt(!1);_directives=new Set;form;ngSubmit=new te;options;constructor(e,t,o){super(),this.callSetDisabledState=o,this.form=new ol({},uA(e),hA(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Yb.then(()=>{let t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),ty(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Yb.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Yb.then(()=>{let t=this._findContainer(e.path),o=new ol({});M6(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Yb.then(()=>{let t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Yb.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),B6(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new O1(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(t){return new(t||i)(x(Ll,10),x(Df,10),x(Tg,8))};static \u0275dir=ht({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){t&1&&A("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Se([Qce]),re]})}return i})();function f6(i,n){let e=i.indexOf(n);e>-1&&i.splice(e,1)}function m6(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ys=class extends xg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,t){super(fA(e),mA(t,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(m6(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new ey(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){f6(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){f6(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){m6(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Ee=ys,Yce=i=>i instanceof ys,Xce=(()=>{class i extends _a{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return N1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,standalone:!1,features:[re]})}return i})();var Zce={provide:os,useExisting:Xt(()=>Zi)},g6=Promise.resolve(),Zi=(()=>{class i extends os{_changeDetectorRef;callSetDisabledState;control=new ys;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new te;constructor(e,t,o,r,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=bA(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),_A(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){g6.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let t=e.isDisabled.currentValue,o=t!==0&&Z(t);g6.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?N1(e,this._parent):[e]}static \u0275fac=function(t){return new(t||i)(x(_a,9),x(Ll,10),x(Df,10),x(Bn,10),x(We,8),x(Tg,8))};static \u0275dir=ht({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Se([Zce]),re,$n]})}return i})();var eo=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),ede={provide:Bn,useExisting:Xt(()=>pp),multi:!0},pp=(()=>{class i extends y6{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){t&1&&A("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Se([ede]),re]})}return i})();var vA=new he(""),tde={provide:os,useExisting:Xt(()=>wA)},wA=(()=>{class i extends os{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new te;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,o,r,s){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=bA(this,o)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&R1(t,this,!1),ty(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}_A(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&R1(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(t){return new(t||i)(x(Ll,10),x(Df,10),x(Bn,10),x(vA,8),x(Tg,8))};static \u0275dir=ht({type:i,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Se([tde]),re,$n]})}return i})(),ide={provide:_a,useExisting:Xt(()=>to)},to=(()=>{class i extends _a{callSetDisabledState;get submitted(){return Uo(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=ct(()=>this._submittedReactive());_submittedReactive=lt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new te;constructor(e,t,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(P1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return ty(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){R1(e.control||null,e,!1),Jce(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),B6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new O1(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,t={}){this.form.reset(e,t),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let t=e.control,o=this.form.get(e.path);t!==o&&(R1(t||null,e),Yce(o)&&(ty(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);M6(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&Kce(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gA(this.form,this),this._oldForm&&P1(this._oldForm,this)}static \u0275fac=function(t){return new(t||i)(x(Ll,10),x(Df,10),x(Tg,8))};static \u0275dir=ht({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){t&1&&A("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Se([ide]),re,$n]})}return i})(),nde={provide:_a,useExisting:Xt(()=>V6)},V6=(()=>{class i extends Xce{name=null;constructor(e,t,o){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}_checkParentType(){U6(this._parent)}static \u0275fac=function(t){return new(t||i)(x(_a,13),x(Ll,10),x(Df,10))};static \u0275dir=ht({type:i,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Se([nde]),re]})}return i})(),ode={provide:_a,useExisting:Xt(()=>iy)},iy=(()=>{class i extends _a{_parent;name=null;constructor(e,t,o){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}ngOnInit(){U6(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return N1(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(t){return new(t||i)(x(_a,13),x(Ll,10),x(Df,10))};static \u0275dir=ht({type:i,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Se([ode]),re]})}return i})();function U6(i){return!(i instanceof V6)&&!(i instanceof to)&&!(i instanceof iy)}var rde={provide:os,useExisting:Xt(()=>ao)},ao=(()=>{class i extends os{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new te;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,o,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=bA(this,r)}ngOnChanges(e){this._added||this._setUpControl(),_A(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return N1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(t){return new(t||i)(x(_a,13),x(Ll,10),x(Df,10),x(Bn,10),x(vA,8))};static \u0275dir=ht({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Se([rde]),re,$n]})}return i})();function sde(i){return typeof i=="number"?i:parseInt(i,10)}function j6(i){return typeof i=="number"?i:parseFloat(i)}var ny=(()=>{class i{_validator=S1;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):S1,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,features:[$n]})}return i})(),ade={provide:Ll,useExisting:Xt(()=>CA),multi:!0},CA=(()=>{class i extends ny{max;inputName="max";normalizeInput=e=>j6(e);createValidator=e=>w6(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&ce("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Se([ade]),re]})}return i})(),lde={provide:Ll,useExisting:Xt(()=>SA),multi:!0},SA=(()=>{class i extends ny{min;inputName="min";normalizeInput=e=>j6(e);createValidator=e=>v6(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&ce("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Se([lde]),re]})}return i})(),cde={provide:Ll,useExisting:Xt(()=>oy),multi:!0};var oy=(()=>{class i extends ny{required;inputName="required";normalizeInput=Z;createValidator=e=>C6;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){t&2&&ce("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Se([cde]),re]})}return i})();var dde={provide:Ll,useExisting:Xt(()=>io),multi:!0},io=(()=>{class i extends ny{maxlength;inputName="maxlength";normalizeInput=e=>sde(e);createValidator=e=>S6(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&ce("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Se([dde]),re]})}return i})(),pde={provide:Ll,useExisting:Xt(()=>IA),multi:!0},IA=(()=>{class i extends ny{pattern;inputName="pattern";normalizeInput=e=>e;createValidator=e=>I6(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,o){t&2&&ce("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Se([pde]),re]})}return i})();var G6=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})(),Ou=class extends xg{constructor(n,e,t){super(fA(e),mA(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){Array.isArray(n)?n.forEach(t=>{this.controls.push(t),this._registerControl(t)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,t={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(n,e={}){let t=this._adjustIndex(n);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,t={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){F6(this,!1,n),n.forEach((t,o)=>{N6(this,!1,o),this.at(o).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((t,o)=>{this.at(o)&&this.at(o).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((t,o)=>{t.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ey(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,t)=>t._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,t)=>{n(e,t)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}},tr=Ou;function _6(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var EA=(()=>{class i{useNonNullable=!1;get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,t=null){let o=this._reduceControls(e),r={};return _6(t)?r=t:t!==null&&(r.validators=t.validator,r.asyncValidators=t.asyncValidator),new ol(o,r)}record(e,t=null){let o=this._reduceControls(e);return new cA(o,t)}control(e,t,o){let r={};return this.useNonNullable?(_6(t)?r=t:(r.validators=t,r.asyncValidators=o),new ys(e,Fe(ee({},r),{nonNullable:!0}))):new ys(e,t,o)}array(e,t,o){let r=e.map(s=>this._createControl(s));return new Ou(r,t,o)}_reduceControls(e){let t={};return Object.keys(e).forEach(o=>{t[o]=this._createControl(e[o])}),t}_createControl(e){if(e instanceof ys)return e;if(e instanceof xg)return e;if(Array.isArray(e)){let t=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,o,r)}else return this.control(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ur=(()=>{class i extends EA{group(e,t=null){return super.group(e,t)}control(e,t,o){return super.control(e,t,o)}array(e,t,o){return super.array(e,t,o)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var rs=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Tg,useValue:e.callSetDisabledState??k1}]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[G6]})}return i})(),xA=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:vA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Tg,useValue:e.callSetDisabledState??k1}]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[G6]})}return i})();var ry=(function(i){return i[i.FWACTION_ACCEPT=1]="FWACTION_ACCEPT",i[i.FWACTION_DENY=2]="FWACTION_DENY",i[i.FWACTION_REJECT=3]="FWACTION_REJECT",i[i.FWACTION_ACCOUNTING=4]="FWACTION_ACCOUNTING",i})(ry||{}),SOt=(()=>{let n=class n{constructor(){this.fwActions=[{id:ry.FWACTION_DENY,text:"Deny",icon:"&#x270B;",FAicon:"&#xf256;",iconClass:"fa fa-fw fa-hand fwcRed"},{id:ry.FWACTION_ACCEPT,text:"Accept",icon:"&#x2705;",FAicon:"&#xf00c;",iconClass:"fa fa-fw fa-check fwcBlue"},{id:ry.FWACTION_REJECT,text:"Reject",icon:"&#x274C;",FAicon:"&#xf00d;",iconClass:"fa fa-fw fa-times fwcRed"},{id:ry.FWACTION_ACCOUNTING,text:"Accounting",icon:"&#x270D;",FAicon:"&#xf040;",iconClass:"fa fa-fw fa-pencil fwcBlue",disabledOnSpecial:!0}],this.fwActionsItems=this.buildActionsItems(),this.fwActionsItemsSpecial=this.buildActionsItems(1)}getActions(){return this.fwActions}getActionsItems(t){return t?this.fwActionsItemsSpecial:this.fwActionsItems}buildActionsItems(t){let o=[];return this.fwActions.forEach(r=>{(!t||!r.disabledOnSpecial)&&o.push({label:r.text,value:r.id,icon:r.iconClass})}),o}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var ly=class{},ude=(()=>{class i{handle(e){return e.key}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Og=class{},hde=(()=>{class i extends Og{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Rg=class{},fde=(()=>{class i extends Rg{getTranslation(e){return Dt({})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function F1(i,n){if(i===n)return!0;if(i===null||n===null)return!1;if(i!==i&&n!==n)return!0;let e=typeof i,t=typeof n,o;if(e==t&&e=="object")if(Array.isArray(i)){if(!Array.isArray(n))return!1;if((o=i.length)==n.length){for(let r=0;r<o;r++)if(!F1(i[r],n[r]))return!1;return!0}}else{if(Array.isArray(n))return!1;if(up(i)&&up(n)){let r=Object.create(null);for(let s in i){if(!F1(i[s],n[s]))return!1;r[s]=!0}for(let s in n)if(!(s in r)&&typeof n[s]<"u")return!1;return!0}}return!1}function Ru(i){return typeof i<"u"&&i!==null}function H6(i){return i!==void 0}function up(i){return ay(i)&&!Pf(i)&&i!==null}function ay(i){return typeof i=="object"&&i!==null}function Pf(i){return Array.isArray(i)}function L1(i){return typeof i=="string"}function mde(i){return typeof i=="function"}function M1(i){if(Pf(i))return i.map(n=>M1(n));if(up(i)){let n={};return Object.keys(i).forEach(e=>{n[e]=M1(i[e])}),n}else return i}function RA(i,n){if(!ay(i))return M1(n);let e=M1(i);return ay(e)&&ay(n)&&Object.keys(n).forEach(t=>{up(n[t])?t in i?e[t]=RA(i[t],n[t]):Object.assign(e,{[t]:n[t]}):Object.assign(e,{[t]:n[t]})}),e}function W6(i,n){let e=n.split(".");n="";do{n+=e.shift();let t=!e.length;if(Ru(i)){if(up(i)&&H6(i[n])&&(up(i[n])||Pf(i[n])||t)){i=i[n],n="";continue}if(Pf(i)){let o=parseInt(n,10);if(H6(i[o])&&(up(i[o])||Pf(i[o])||t)){i=i[o],n="";continue}}}if(t){i=void 0;continue}n+="."}while(e.length);return i}function gde(i,n,e){return RA(i,_de(n,e))}function _de(i,n){return i.split(".").reduceRight((e,t)=>({[t]:e}),n)}var Dg=class{},bde=(()=>{class i extends Dg{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){if(L1(e))return this.interpolateString(e,t);if(mde(e))return this.interpolateFunction(e,t)}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(o,r)=>{let s=this.getInterpolationReplacement(t,r);return s!==void 0?s:o}):e}getInterpolationReplacement(e,t){return this.formatValue(W6(e,t))}formatValue(e){if(L1(e))return e;if(typeof e=="number"||typeof e=="boolean")return e.toString();if(e===null)return"null";if(Pf(e))return e.join(", ");if(ay(e))return typeof e.toString=="function"&&e.toString!==Object.prototype.toString?e.toString():JSON.stringify(e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),TA=(()=>{class i{_onTranslationChange=new Le;_onLangChange=new Le;_onFallbackLangChange=new Le;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(e){return this.translations[e]}setTranslations(e,t,o){this.translations[e]=o&&this.hasTranslationFor(e)?RA(this.translations[e],t):t,this.addLanguages([e]),this._onTranslationChange.next({lang:e,translations:this.getTranslations(e)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(e,t=!0){this.fallbackLang=e,t&&this._onFallbackLangChange.next({lang:e,translations:this.translations[e]})}setCurrentLang(e,t=!0){this.currentLang=e,t&&this._onLangChange.next({lang:e,translations:this.translations[e]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(e){this.languages=Array.from(new Set([...this.languages,...e]))}hasTranslationFor(e){return typeof this.translations[e]<"u"}deleteTranslations(e){delete this.translations[e]}getTranslation(e){let t=this.getValue(this.currentLang,e);return t===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(t=this.getValue(this.fallbackLang,e)),t}getValue(e,t){return W6(this.getTranslations(e),t)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),OA=new he("TRANSLATE_CONFIG"),sy=i=>nc(i)?i:Dt(i);var $e=(()=>{class i{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=z(Rg);compiler=z(Og);parser=z(Dg);missingTranslationHandler=z(ly);store=z(TA);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let e=ee({extend:!1,fallbackLang:null},z(OA,{optional:!0}));e.lang&&this.use(e.lang),e.fallbackLang&&this.setFallbackLang(e.fallbackLang),e.extend&&(this.extend=!0)}setFallbackLang(e){this.getFallbackLang()||this.store.setFallbackLang(e,!1);let t=this.loadOrExtendLanguage(e);return nc(t)?(t.pipe(es(1)).subscribe({next:()=>{this.store.setFallbackLang(e)},error:()=>{}}),t):(this.store.setFallbackLang(e),Dt(this.store.getTranslations(e)))}use(e){this.lastUseLanguage=e,this.getCurrentLang()||this.store.setCurrentLang(e,!1);let t=this.loadOrExtendLanguage(e);return nc(t)?(t.pipe(es(1)).subscribe({next:()=>{this.changeLang(e)},error:()=>{}}),t):(this.changeLang(e),Dt(this.store.getTranslations(e)))}loadOrExtendLanguage(e){if(!this.store.hasTranslationFor(e)||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}changeLang(e){e===this.lastUseLanguage&&this.store.setCurrentLang(e)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(e){this.pending=!0;let t=this.currentLoader.getTranslation(e).pipe(rf(1),es(1));return this.loadingTranslations=t.pipe(J(o=>this.compiler.compileTranslations(o,e)),rf(1),es(1)),this.loadingTranslations.subscribe({next:o=>{this.store.setTranslations(e,o,this.extend),this.pending=!1},error:o=>{this.pending=!1}}),t}setTranslation(e,t,o=!1){let r=this.compiler.compileTranslations(t,e);this.store.setTranslations(e,r,o||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(e){this.store.addLanguages(e)}getParsedResultForKey(e,t){let o=this.getTextToInterpolate(e);if(Ru(o))return this.runInterpolation(o,t);let r=this.missingTranslationHandler.handle(ee({key:e,translateService:this},t!==void 0&&{interpolateParams:t}));return r!==void 0?r:e}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(e){return this.store.getTranslation(e)}runInterpolation(e,t){if(Ru(e))return Pf(e)?this.runInterpolationOnArray(e,t):up(e)?this.runInterpolationOnDict(e,t):this.parser.interpolate(e,t)}runInterpolationOnArray(e,t){return e.map(o=>this.runInterpolation(o,t))}runInterpolationOnDict(e,t){let o={};for(let r in e){let s=this.runInterpolation(e[r],t);s!==void 0&&(o[r]=s)}return o}getParsedResult(e,t){return e instanceof Array?this.getParsedResultForArray(e,t):this.getParsedResultForKey(e,t)}getParsedResultForArray(e,t){let o={},r=!1;for(let a of e)o[a]=this.getParsedResultForKey(a,t),r=r||nc(o[a]);if(!r)return o;let s=e.map(a=>sy(o[a]));return B0(s).pipe(J(a=>{let l={};return a.forEach((c,d)=>{l[e[d]]=c}),l}))}get(e,t){if(!Ru(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Tl(()=>sy(this.getParsedResult(e,t)))):sy(this.getParsedResult(e,t))}getStreamOnTranslationChange(e,t){if(!Ru(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return oc(uu(()=>this.get(e,t)),this.onTranslationChange.pipe(Bo(()=>{let o=this.getParsedResult(e,t);return sy(o)})))}stream(e,t){if(!Ru(e)||!e.length)throw new Error('Parameter "key" required');return oc(uu(()=>this.get(e,t)),this.onLangChange.pipe(Bo(()=>{let o=this.getParsedResult(e,t);return sy(o)})))}instant(e,t){if(!Ru(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let o=this.getParsedResult(e,t);return nc(o)?Array.isArray(e)?e.reduce((r,s)=>(r[s]=s,r),{}):e:o}set(e,t,o=this.getCurrentLang()){this.store.setTranslations(o,gde(this.store.getTranslations(o),e,L1(t)?this.compiler.compile(t,o):this.compiler.compileTranslations(t,o)),!1)}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],this.store.deleteTranslations(e)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return i.getBrowserLang()}getBrowserCultureLang(){return i.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(e){return this.setFallbackLang(e)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var It=(()=>{class i{translate=z($e);_ref=z(We);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(e,t,o){let r=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(o){let s=this.translate.getParsedResult(e,t);nc(s)?s.subscribe(r):r(s)}this.translate.get(e,t).subscribe(r)}transform(e,...t){if(!e||!e.length)return e;if(F1(e,this.lastKey)&&F1(t,this.lastParams))return this.value;let o;if(Ru(t[0])&&t.length)if(L1(t[0])&&t[0].length){let r=t[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{o=JSON.parse(r)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else up(t[0])&&(o=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{(this.lastKey&&r.lang===this.translate.getCurrentLang()||r.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o,r.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,o))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(t){return new(t||i)};static \u0275pipe=Vo({name:"translate",type:i,pure:!1});static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function yde(i){return{provide:Rg,useClass:i}}function vde(i){return{provide:Og,useClass:i}}function wde(i){return{provide:Dg,useClass:i}}function Cde(i){return{provide:ly,useClass:i}}function z6(i={},n){let e=[];i.loader&&e.push(i.loader),i.compiler&&e.push(i.compiler),i.parser&&e.push(i.parser),i.missingTranslationHandler&&e.push(i.missingTranslationHandler),n&&e.push(TA),(i.useDefaultLang||i.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),i.useDefaultLang===!0&&i.defaultLanguage&&(i.fallbackLang=i.defaultLanguage));let t={fallbackLang:i.fallbackLang??null,lang:i.lang,extend:i.extend??!1};return e.push({provide:OA,useValue:t}),e.push({provide:$e,useClass:$e,deps:[TA,Rg,Og,Dg,ly,OA]}),e}var $6=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[...z6(ee({compiler:vde(hde),parser:wde(bde),loader:yde(fde),missingTranslationHandler:Cde(ude)},e),!0)]}}static forChild(e={}){return{ngModule:i,providers:[...z6(e,e.isolate??!1)]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var Pg={name:"prod",production:!0,VERSION:K6().version,socketDebug:!1};function Du(...i){if(i){let n=[];for(let e=0;e<i.length;e++){let t=i[e];if(!t)continue;let o=typeof t;if(o==="string"||o==="number")n.push(t);else if(o==="object"){let r=Array.isArray(t)?[Du(...t)]:Object.entries(t).map(([s,a])=>a?s:void 0);n=r.length?n.concat(r.filter(s=>!!s)):n}}return n.join(" ").trim()}}function no(i,n){return i?i.classList?i.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(i.className):!1}function fo(i,n){if(i&&n){let e=t=>{no(i,t)||(i.classList?i.classList.add(t):i.className+=" "+t)};[n].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(e))}}function Ide(){return window.innerWidth-document.documentElement.offsetWidth}function B1(i){typeof i=="string"?fo(document.body,i||"p-overflow-hidden"):(i!=null&&i.variableName&&document.body.style.setProperty(i.variableName,Ide()+"px"),fo(document.body,i?.className||"p-overflow-hidden"))}function hr(i,n){if(i&&n){let e=t=>{i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")};[n].flat().filter(Boolean).forEach(t=>t.split(" ").forEach(e))}}function V1(i){typeof i=="string"?hr(document.body,i||"p-overflow-hidden"):(i!=null&&i.variableName&&document.body.style.removeProperty(i.variableName),hr(document.body,i?.className||"p-overflow-hidden"))}function cy(i){for(let n of document?.styleSheets)try{for(let e of n?.cssRules)for(let t of e?.style)if(i.test(t))return{name:t,value:e.style.getPropertyValue(t).trim()}}catch{}return null}function q6(i){let n={width:0,height:0};if(i){let[e,t]=[i.style.visibility,i.style.display],o=i.getBoundingClientRect();i.style.visibility="hidden",i.style.display="block",n.width=o.width||i.offsetWidth,n.height=o.height||i.offsetHeight,i.style.display=t,i.style.visibility=e}return n}function yc(){let i=window,n=document,e=n.documentElement,t=n.getElementsByTagName("body")[0],o=i.innerWidth||e.clientWidth||t.clientWidth,r=i.innerHeight||e.clientHeight||t.clientHeight;return{width:o,height:r}}function AA(i){return i?Math.abs(i.scrollLeft):0}function kA(){let i=document.documentElement;return(window.pageXOffset||AA(i))-(i.clientLeft||0)}function NA(){let i=document.documentElement;return(window.pageYOffset||i.scrollTop)-(i.clientTop||0)}function U1(i){return i?getComputedStyle(i).direction==="rtl":!1}function rl(i,n,e=!0){var t,o,r,s;if(i){let a=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:q6(i),l=a.height,c=a.width,d=n.offsetHeight,u=n.offsetWidth,m=n.getBoundingClientRect(),g=NA(),y=kA(),v=yc(),S,I,P="top";m.top+d+l>v.height?(S=m.top+g-l,P="bottom",S<0&&(S=g)):S=d+m.top+g,m.left+c>v.width?I=Math.max(0,m.left+y+u-c):I=m.left+y,U1(i)?i.style.insetInlineEnd=I+"px":i.style.insetInlineStart=I+"px",i.style.top=S+"px",i.style.transformOrigin=P,e&&(i.style.marginTop=P==="bottom"?`calc(${(o=(t=cy(/-anchor-gutter$/))==null?void 0:t.value)!=null?o:"2px"} * -1)`:(s=(r=cy(/-anchor-gutter$/))==null?void 0:r.value)!=null?s:"")}}function Ag(i,n){i&&(typeof n=="string"?i.style.cssText=n:Object.entries(n||{}).forEach(([e,t])=>i.style[e]=t))}function Dn(i,n){if(i instanceof HTMLElement){let e=i.offsetWidth;if(n){let t=getComputedStyle(i);e+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return e}return 0}function dd(i,n,e=!0,t=void 0){var o;if(i){let r=i.offsetParent?{width:i.offsetWidth,height:i.offsetHeight}:q6(i),s=n.offsetHeight,a=n.getBoundingClientRect(),l=yc(),c,d,u=t??"top";if(!t&&a.top+s+r.height>l.height?(c=-1*r.height,u="bottom",a.top+c<0&&(c=-1*a.top)):c=s,r.width>l.width?d=a.left*-1:a.left+r.width>l.width?d=(a.left+r.width-l.width)*-1:d=0,i.style.top=c+"px",i.style.insetInlineStart=d+"px",i.style.transformOrigin=u,e){let m=(o=cy(/-anchor-gutter$/))==null?void 0:o.value;i.style.marginTop=u==="bottom"?`calc(${m??"2px"} * -1)`:m??""}}}function J6(i){if(i){let n=i.parentNode;return n&&n instanceof ShadowRoot&&n.host&&(n=n.host),n}return null}function Ede(i){return!!(i!==null&&typeof i<"u"&&i.nodeName&&J6(i))}function kg(i){return typeof Element<"u"?i instanceof Element:i!==null&&typeof i=="object"&&i.nodeType===1&&typeof i.nodeName=="string"}function Q6(i){let n=i;return i&&typeof i=="object"&&(Object.hasOwn(i,"current")?n=i.current:Object.hasOwn(i,"el")&&(Object.hasOwn(i.el,"nativeElement")?n=i.el.nativeElement:n=i.el)),kg(n)?n:void 0}function FA(i,n){var e,t,o;if(i)switch(i){case"document":return document;case"window":return window;case"body":return document.body;case"@next":return n?.nextElementSibling;case"@prev":return n?.previousElementSibling;case"@first":return n?.firstElementChild;case"@last":return n?.lastElementChild;case"@child":return(e=n?.children)==null?void 0:e[0];case"@parent":return n?.parentElement;case"@grandparent":return(t=n?.parentElement)==null?void 0:t.parentElement;default:{if(typeof i=="string"){let a=i.match(/^@child\[(\d+)]/);return a?((o=n?.children)==null?void 0:o[parseInt(a[1],10)])||null:document.querySelector(i)||null}let r=(a=>typeof a=="function"&&"call"in a&&"apply"in a)(i)?i():i,s=Q6(r);return Ede(s)?s:r?.nodeType===9?r:void 0}}}function sl(i,n){let e=FA(i,n);if(e)e.appendChild(n);else throw new Error("Cannot append "+n+" to "+i)}var DA;function Y6(i){if(i){let n=getComputedStyle(i);return i.offsetHeight-i.clientHeight-parseFloat(n.borderTopWidth)-parseFloat(n.borderBottomWidth)}else{if(DA!=null)return DA;let n=document.createElement("div");Ag(n,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(n);let e=n.offsetHeight-n.clientHeight;return document.body.removeChild(n),DA=e,e}}var PA;function Af(i){if(i){let n=getComputedStyle(i);return i.offsetWidth-i.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}else{if(PA!=null)return PA;let n=document.createElement("div");Ag(n,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(n);let e=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),PA=e,e}}function j1(i,n={}){if(kg(i)){let e=(t,o)=>{var r,s;let a=(r=i?.$attrs)!=null&&r[t]?[(s=i?.$attrs)==null?void 0:s[t]]:[];return[o].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let u=Array.isArray(c)?e(t,c):Object.entries(c).map(([m,g])=>t==="style"&&(g||g===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`:g?m:void 0);l=u.length?l.concat(u.filter(m=>!!m)):l}}return l},a)};Object.entries(n).forEach(([t,o])=>{if(o!=null){let r=t.match(/^on(.+)/);r?i.addEventListener(r[1].toLowerCase(),o):t==="p-bind"||t==="pBind"?j1(i,o):(o=t==="class"?[...new Set(e("class",o))].join(" ").trim():t==="style"?e("style",o).join(";").trim():o,(i.$attrs=i.$attrs||{})&&(i.$attrs[t]=o),i.setAttribute(t,o))}})}}function pd(i,n={},...e){if(i){let t=document.createElement(i);return j1(t,n),t.append(...e),t}}function X6(i,n){if(i){i.style.opacity="0";let e=+new Date,t="0",o=function(){t=`${+i.style.opacity+(new Date().getTime()-e)/n}`,i.style.opacity=t,e=+new Date,+t<1&&("requestAnimationFrame"in window?requestAnimationFrame(o):setTimeout(o,16))};o()}}function ir(i,n){return kg(i)?Array.from(i.querySelectorAll(n)):[]}function Et(i,n){return kg(i)?i.matches(n)?i:i.querySelector(n):null}function Di(i,n){i&&document.activeElement!==i&&i.focus(n)}function Ng(i,n){if(kg(i)){let e=i.getAttribute(n);return isNaN(e)?e==="true"||e==="false"?e==="true":e:+e}}function xde(){let i=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(i)||/(webkit)[ ]([\w.]+)/.exec(i)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(i)||/(msie) ([\w.]+)/.exec(i)||i.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(i)||[];return{browser:n[1]||"",version:n[2]||"0"}}var hp=null;function MOt(){if(!hp){hp={};let i=xde();i.browser&&(hp[i.browser]=!0,hp.version=i.version),hp.chrome?hp.webkit=!0:hp.webkit&&(hp.safari=!0)}return hp}function fp(i,n=""){let e=ir(i,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [href]:not([tabindex = "-1"]):not([style*="display:none"]):not([hidden])${n},
            input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n},
            [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${n}`),t=[];for(let o of e)getComputedStyle(o).display!="none"&&getComputedStyle(o).visibility!="hidden"&&t.push(o);return t}function mp(i,n){let e=fp(i,n);return e.length>0?e[0]:null}function ud(i){if(i){let n=i.offsetHeight,e=getComputedStyle(i);return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)+parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),n}return 0}function dy(i){if(i){let[n,e]=[i.style.visibility,i.style.display];i.style.visibility="hidden",i.style.display="block";let t=i.offsetHeight;return i.style.display=e,i.style.visibility=n,t}return 0}function Fg(i){if(i){let[n,e]=[i.style.visibility,i.style.display];i.style.visibility="hidden",i.style.display="block";let t=i.offsetWidth;return i.style.display=e,i.style.visibility=n,t}return 0}function Pu(i){var n;if(i){let e=(n=J6(i))==null?void 0:n.childNodes,t=0;if(e)for(let o=0;o<e.length;o++){if(e[o]===i)return t;e[o].nodeType===1&&t++}}return-1}function Lg(i,n){let e=fp(i,n);return e.length>0?e[e.length-1]:null}function ta(i){if(i){let n=i.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||AA(document.documentElement)||AA(document.body)||0)}}return{top:"auto",left:"auto"}}function vs(i,n){if(i){let e=i.offsetHeight;if(n){let t=getComputedStyle(i);e+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return e}return 0}function Z6(){if(window.getSelection)return window.getSelection().toString();if(document.getSelection)return document.getSelection().toString()}function ba(i){if(i){let n=i.offsetWidth,e=getComputedStyle(i);return n-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),n}return 0}function e8(){return/(android)/i.test(navigator.userAgent)}function LA(i){return!!(i&&i.offsetParent!=null)}function G1(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window)}function Sr(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function t8(i,n){var e,t;if(i){let o=i.parentElement,r=ta(o),s=yc(),a=i.offsetParent?i.offsetWidth:Fg(i),l=i.offsetParent?i.offsetHeight:dy(i),c=Dn((e=o?.children)==null?void 0:e[0]),d=vs((t=o?.children)==null?void 0:t[0]),u="",m="";r.left+c+a>s.width-Af()?r.left<a?n%2===1?u=r.left?"-"+r.left+"px":"100%":n%2===0&&(u=s.width-a-Af()+"px"):u="-100%":u="100%",i.getBoundingClientRect().top+d+l>s.height?m=`-${l-d}px`:m="0px",i.style.top=m,i.style.insetInlineStart=u}}function i8(i){var n;i&&("remove"in Element.prototype?i.remove():(n=i.parentNode)==null||n.removeChild(i))}function n8(i,n){let e=Q6(i);if(e)e.removeChild(n);else throw new Error("Cannot remove "+n+" from "+i)}function o8(i,n){let e=getComputedStyle(i).getPropertyValue("borderTopWidth"),t=e?parseFloat(e):0,o=getComputedStyle(i).getPropertyValue("paddingTop"),r=o?parseFloat(o):0,s=i.getBoundingClientRect(),a=n.getBoundingClientRect().top+document.body.scrollTop-(s.top+document.body.scrollTop)-t-r,l=i.scrollTop,c=i.clientHeight,d=vs(n);a<0?i.scrollTop=l+a:a+d>c&&(i.scrollTop=l+a-c+d)}function vc(i,n="",e){kg(i)&&e!==null&&e!==void 0&&i.setAttribute(n,e)}function r8(){let i=new Map;return{on(n,e){let t=i.get(n);return t?t.push(e):t=[e],i.set(n,t),this},off(n,e){let t=i.get(n);return t&&t.splice(t.indexOf(e)>>>0,1),this},emit(n,e){let t=i.get(n);t&&t.forEach(o=>{o(e)})},clear(){i.clear()}}}var Tde=Object.defineProperty,s8=Object.getOwnPropertySymbols,Ode=Object.prototype.hasOwnProperty,Rde=Object.prototype.propertyIsEnumerable,a8=(i,n,e)=>n in i?Tde(i,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[n]=e,l8=(i,n)=>{for(var e in n||(n={}))Ode.call(n,e)&&a8(i,e,n[e]);if(s8)for(var e of s8(n))Rde.call(n,e)&&a8(i,e,n[e]);return i};function c8(...i){if(i){let n=[];for(let e=0;e<i.length;e++){let t=i[e];if(!t)continue;let o=typeof t;if(o==="string"||o==="number")n.push(t);else if(o==="object"){let r=Array.isArray(t)?[c8(...t)]:Object.entries(t).map(([s,a])=>a?s:void 0);n=r.length?n.concat(r.filter(s=>!!s)):n}}return n.join(" ").trim()}}function Dde(i){return typeof i=="function"&&"call"in i&&"apply"in i}function Pde({skipUndefined:i=!1},...n){return n?.reduce((e,t={})=>{for(let o in t){let r=t[o];if(!(i&&r===void 0))if(o==="style")e.style=l8(l8({},e.style),t.style);else if(o==="class"||o==="className")e[o]=c8(e[o],t[o]);else if(Dde(r)){let s=e[o];e[o]=s?(...a)=>{s(...a),r(...a)}:r}else e[o]=r}return e},{})}function MA(...i){return Pde({skipUndefined:!1},...i)}function jo(i){return i==null||i===""||Array.isArray(i)&&i.length===0||!(i instanceof Date)&&typeof i=="object"&&Object.keys(i).length===0}function BA(i,n,e=new WeakSet){if(i===n)return!0;if(!i||!n||typeof i!="object"||typeof n!="object"||e.has(i)||e.has(n))return!1;e.add(i).add(n);let t=Array.isArray(i),o=Array.isArray(n),r,s,a;if(t&&o){if(s=i.length,s!=n.length)return!1;for(r=s;r--!==0;)if(!BA(i[r],n[r],e))return!1;return!0}if(t!=o)return!1;let l=i instanceof Date,c=n instanceof Date;if(l!=c)return!1;if(l&&c)return i.getTime()==n.getTime();let d=i instanceof RegExp,u=n instanceof RegExp;if(d!=u)return!1;if(d&&u)return i.toString()==n.toString();let m=Object.keys(i);if(s=m.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,m[r]))return!1;for(r=s;r--!==0;)if(a=m[r],!BA(i[a],n[a],e))return!1;return!0}function py(i,n){return BA(i,n)}function Mg(i){return typeof i=="function"&&"call"in i&&"apply"in i}function qt(i){return!jo(i)}function zi(i,n){if(!i||!n)return null;try{let e=i[n];if(qt(e))return e}catch{}if(Object.keys(i).length){if(Mg(n))return n(i);if(n.indexOf(".")===-1)return i[n];{let e=n.split("."),t=i;for(let o=0,r=e.length;o<r;++o){if(t==null)return null;t=t[e[o]]}return t}}return null}function Kn(i,n,e){return e?zi(i,e)===zi(n,e):py(i,n)}function d8(i,n){if(i!=null&&n&&n.length){for(let e of n)if(Kn(i,e))return!0}return!1}function gp(i,n=!0){return i instanceof Object&&i.constructor===Object&&(n||Object.keys(i).length!==0)}function ss(i,n){let e=-1;if(qt(i))try{e=i.findLastIndex(n)}catch{e=i.lastIndexOf([...i].reverse().find(n))}return e}function $o(i,...n){return Mg(i)?i(...n):i}function Ml(i,n=!0){return typeof i=="string"&&(n||i!=="")}function Au(i){return Ml(i)?i.replace(/(-|_)/g,"").toLowerCase():i}function H1(i,n="",e={}){let t=Au(n).split("."),o=t.shift();if(o){if(gp(i)){let r=Object.keys(i).find(s=>Au(s)===o)||"";return H1($o(i[r],e),t.join("."),e)}return}return $o(i,e)}function uy(i,n=!0){return Array.isArray(i)&&(n||i.length!==0)}function hy(i){return i instanceof Date}function p8(i){return qt(i)&&!isNaN(i)}function hd(i=""){return qt(i)&&i.length===1&&!!i.match(/\S| /)}function wc(i,n){if(n){let e=n.test(i);return n.lastIndex=0,e}return!1}function kf(i){return i&&i.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":").trim()}function ia(i){if(i&&/[\xC0-\xFF\u0100-\u017E]/.test(i)){let n={A:/[\xC0-\xC5\u0100\u0102\u0104]/g,AE:/[\xC6]/g,C:/[\xC7\u0106\u0108\u010A\u010C]/g,D:/[\xD0\u010E\u0110]/g,E:/[\xC8-\xCB\u0112\u0114\u0116\u0118\u011A]/g,G:/[\u011C\u011E\u0120\u0122]/g,H:/[\u0124\u0126]/g,I:/[\xCC-\xCF\u0128\u012A\u012C\u012E\u0130]/g,IJ:/[\u0132]/g,J:/[\u0134]/g,K:/[\u0136]/g,L:/[\u0139\u013B\u013D\u013F\u0141]/g,N:/[\xD1\u0143\u0145\u0147\u014A]/g,O:/[\xD2-\xD6\xD8\u014C\u014E\u0150]/g,OE:/[\u0152]/g,R:/[\u0154\u0156\u0158]/g,S:/[\u015A\u015C\u015E\u0160]/g,T:/[\u0162\u0164\u0166]/g,U:/[\xD9-\xDC\u0168\u016A\u016C\u016E\u0170\u0172]/g,W:/[\u0174]/g,Y:/[\xDD\u0176\u0178]/g,Z:/[\u0179\u017B\u017D]/g,a:/[\xE0-\xE5\u0101\u0103\u0105]/g,ae:/[\xE6]/g,c:/[\xE7\u0107\u0109\u010B\u010D]/g,d:/[\u010F\u0111]/g,e:/[\xE8-\xEB\u0113\u0115\u0117\u0119\u011B]/g,g:/[\u011D\u011F\u0121\u0123]/g,i:/[\xEC-\xEF\u0129\u012B\u012D\u012F\u0131]/g,ij:/[\u0133]/g,j:/[\u0135]/g,k:/[\u0137,\u0138]/g,l:/[\u013A\u013C\u013E\u0140\u0142]/g,n:/[\xF1\u0144\u0146\u0148\u014B]/g,p:/[\xFE]/g,o:/[\xF2-\xF6\xF8\u014D\u014F\u0151]/g,oe:/[\u0153]/g,r:/[\u0155\u0157\u0159]/g,s:/[\u015B\u015D\u015F\u0161]/g,t:/[\u0163\u0165\u0167]/g,u:/[\xF9-\xFC\u0169\u016B\u016D\u016F\u0171\u0173]/g,w:/[\u0175]/g,y:/[\xFD\xFF\u0177]/g,z:/[\u017A\u017C\u017E]/g};for(let e in n)i=i.replace(n[e],e)}return i}function u8(i,n,e){i&&n!==e&&(e>=i.length&&(e%=i.length,n%=i.length),i.splice(e,0,i.splice(n,1)[0]))}function z1(i){return Ml(i)?i.replace(/(_)/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():i}var W1={};function Vt(i="pui_id_"){return Object.hasOwn(W1,i)||(W1[i]=0),W1[i]++,`${i}${W1[i]}`}var h8=["*"],Nf=(function(i){return i[i.ACCEPT=0]="ACCEPT",i[i.REJECT=1]="REJECT",i[i.CANCEL=2]="CANCEL",i})(Nf||{}),ti=(()=>{class i{requireConfirmationSource=new Le;acceptConfirmationSource=new Le;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var as=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return i})(),VA=(()=>{class i{static AND="and";static OR="or"}return i})(),fd=(()=>{class i{filter(e,t,o,r,s){let a=[];if(e)for(let l of e)for(let c of t){let d=zi(l,c);if(this.filters[r](d,o,s)){a.push(l);break}}return a}filters={startsWith:(e,t,o)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let r=ia(t.toString()).toLocaleLowerCase(o);return ia(e.toString()).toLocaleLowerCase(o).slice(0,r.length)===r},contains:(e,t,o)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let r=ia(t.toString()).toLocaleLowerCase(o);return ia(e.toString()).toLocaleLowerCase(o).indexOf(r)!==-1},notContains:(e,t,o)=>{if(t==null||typeof t=="string"&&t.trim()==="")return!0;if(e==null)return!1;let r=ia(t.toString()).toLocaleLowerCase(o);return ia(e.toString()).toLocaleLowerCase(o).indexOf(r)===-1},endsWith:(e,t,o)=>{if(t==null||t.trim()==="")return!0;if(e==null)return!1;let r=ia(t.toString()).toLocaleLowerCase(o),s=ia(e.toString()).toLocaleLowerCase(o);return s.indexOf(r,s.length-r.length)!==-1},equals:(e,t,o)=>t==null||typeof t=="string"&&t.trim()===""?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()===t.getTime():e==t?!0:ia(e.toString()).toLocaleLowerCase(o)==ia(t.toString()).toLocaleLowerCase(o),notEquals:(e,t,o)=>t==null||typeof t=="string"&&t.trim()===""?!1:e==null?!0:e.getTime&&t.getTime?e.getTime()!==t.getTime():e==t?!1:ia(e.toString()).toLocaleLowerCase(o)!=ia(t.toString()).toLocaleLowerCase(o),in:(e,t)=>{if(t==null||t.length===0)return!0;for(let o=0;o<t.length;o++)if(Kn(e,t[o]))return!0;return!1},between:(e,t)=>t==null||t[0]==null||t[1]==null?!0:e==null?!1:e.getTime?t[0].getTime()<=e.getTime()&&e.getTime()<=t[1].getTime():t[0]<=e&&e<=t[1],lt:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<t.getTime():e<t,lte:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()<=t.getTime():e<=t,gt:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>t.getTime():e>t,gte:(e,t,o)=>t==null?!0:e==null?!1:e.getTime&&t.getTime?e.getTime()>=t.getTime():e>=t,is:(e,t,o)=>this.filters.equals(e,t,o),isNot:(e,t,o)=>this.filters.notEquals(e,t,o),before:(e,t,o)=>this.filters.lt(e,t,o),after:(e,t,o)=>this.filters.gt(e,t,o),dateIs:(e,t)=>t==null?!0:e==null?!1:e.toDateString()===t.toDateString(),dateIsNot:(e,t)=>t==null?!0:e==null?!1:e.toDateString()!==t.toDateString(),dateBefore:(e,t)=>t==null?!0:e==null?!1:e.getTime()<t.getTime(),dateAfter:(e,t)=>t==null?!0:e==null?!1:(e.setHours(0,0,0,0),e.getTime()>t.getTime())};register(e,t){this.filters[e]=t}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ii=(()=>{class i{messageSource=new Le;clearSource=new Le;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Ur=(()=>{class i{clickSource=new Le;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Bg=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["p-header"]],standalone:!1,ngContentSelectors:h8,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},encapsulation:2})}return i})(),md=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["p-footer"]],standalone:!1,ngContentSelectors:h8,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},encapsulation:2})}return i})(),_t=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(t){return new(t||i)(x(Da))};static \u0275dir=ht({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]}})}return i})(),Oe=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Qe]})}return i})(),xi=(()=>{class i{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return i})(),f8=(()=>{class i{dragStartSource=new Le;dragStopSource=new Le;dragStart$=this.dragStartSource.asObservable();dragStop$=this.dragStopSource.asObservable();startDrag(e){this.dragStartSource.next(e)}stopDrag(e){this.dragStopSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Ade=Object.defineProperty,kde=Object.defineProperties,Nde=Object.getOwnPropertyDescriptors,$1=Object.getOwnPropertySymbols,_8=Object.prototype.hasOwnProperty,b8=Object.prototype.propertyIsEnumerable,m8=(i,n,e)=>n in i?Ade(i,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[n]=e,Sc=(i,n)=>{for(var e in n||(n={}))_8.call(n,e)&&m8(i,e,n[e]);if($1)for(var e of $1(n))b8.call(n,e)&&m8(i,e,n[e]);return i},UA=(i,n)=>kde(i,Nde(n)),_p=(i,n)=>{var e={};for(var t in i)_8.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(i!=null&&$1)for(var t of $1(i))n.indexOf(t)<0&&b8.call(i,t)&&(e[t]=i[t]);return e};var Fde=r8(),ls=Fde,fy=/{([^}]*)}/g,y8=/(\d+\s+[\+\-\*\/]\s+\d+)/g,v8=/var\([^)]+\)/g;function g8(i){return Ml(i)?i.replace(/[A-Z]/g,(n,e)=>e===0?n:"."+n.toLowerCase()).toLowerCase():i}function Lde(i){return gp(i)&&i.hasOwnProperty("$value")&&i.hasOwnProperty("$type")?i.$value:i}function Mde(i){return i.replaceAll(/ /g,"").replace(/[^\w]/g,"-")}function jA(i="",n=""){return Mde(`${Ml(i,!1)&&Ml(n,!1)?`${i}-`:i}${n}`)}function w8(i="",n=""){return`--${jA(i,n)}`}function Bde(i=""){let n=(i.match(/{/g)||[]).length,e=(i.match(/}/g)||[]).length;return(n+e)%2!==0}function C8(i,n="",e="",t=[],o){if(Ml(i)){let r=i.trim();if(Bde(r))return;if(wc(r,fy)){let s=r.replaceAll(fy,a=>{let l=a.replace(/{|}/g,"").split(".").filter(c=>!t.some(d=>wc(c,d)));return`var(${w8(e,z1(l.join("-")))}${qt(o)?`, ${o}`:""})`});return wc(s.replace(v8,"0"),y8)?`calc(${s})`:s}return r}else if(p8(i))return i}function Vde(i,n,e){Ml(n,!1)&&i.push(`${n}:${e};`)}function Vg(i,n){return i?`${i}{${n}}`:""}function S8(i,n){if(i.indexOf("dt(")===-1)return i;function e(s,a){let l=[],c=0,d="",u=null,m=0;for(;c<=s.length;){let g=s[c];if((g==='"'||g==="'"||g==="`")&&s[c-1]!=="\\"&&(u=u===g?null:g),!u&&(g==="("&&m++,g===")"&&m--,(g===","||c===s.length)&&m===0)){let y=d.trim();y.startsWith("dt(")?l.push(S8(y,a)):l.push(t(y)),d="",c++;continue}g!==void 0&&(d+=g),c++}return l}function t(s){let a=s[0];if((a==='"'||a==="'"||a==="`")&&s[s.length-1]===a)return s.slice(1,-1);let l=Number(s);return isNaN(l)?s:l}let o=[],r=[];for(let s=0;s<i.length;s++)if(i[s]==="d"&&i.slice(s,s+3)==="dt(")r.push(s),s+=2;else if(i[s]===")"&&r.length>0){let a=r.pop();r.length===0&&o.push([a,s])}if(!o.length)return i;for(let s=o.length-1;s>=0;s--){let[a,l]=o[s],c=i.slice(a+3,l),d=e(c,n),u=n(...d);i=i.slice(0,a)+u+i.slice(l+1)}return i}var my=i=>{var n;let e=mo.getTheme(),t=GA(e,i,void 0,"variable"),o=(n=t?.match(/--[\w-]+/g))==null?void 0:n[0],r=GA(e,i,void 0,"value");return{name:o,variable:t,value:r}},bp=(...i)=>GA(mo.getTheme(),...i),GA=(i={},n,e,t)=>{if(n){let{variable:o,options:r}=mo.defaults||{},{prefix:s,transform:a}=i?.options||r||{},l=wc(n,fy)?n:`{${n}}`;return t==="value"||jo(t)&&a==="strict"?mo.getTokenValue(n):C8(l,void 0,s,[o.excludedKeyRegex],e)}return""};function Ug(i,...n){if(i instanceof Array){let e=i.reduce((t,o,r)=>{var s;return t+o+((s=$o(n[r],{dt:bp}))!=null?s:"")},"");return S8(e,bp)}return $o(i,{dt:bp})}function Ude(i,n={}){let e=mo.defaults.variable,{prefix:t=e.prefix,selector:o=e.selector,excludedKeyRegex:r=e.excludedKeyRegex}=n,s=[],a=[],l=[{node:i,path:t}];for(;l.length;){let{node:d,path:u}=l.pop();for(let m in d){let g=d[m],y=Lde(g),v=wc(m,r)?jA(u):jA(u,z1(m));if(gp(y))l.push({node:y,path:v});else{let S=w8(v),I=C8(y,v,t,[r]);Vde(a,S,I);let P=v;t&&P.startsWith(t+"-")&&(P=P.slice(t.length+1)),s.push(P.replace(/-/g,"."))}}}let c=a.join("");return{value:a,tokens:s,declarations:c,css:Vg(o,c)}}var Cc={regex:{rules:{class:{pattern:/^\.([a-zA-Z][\w-]*)$/,resolve(i){return{type:"class",selector:i,matched:this.pattern.test(i.trim())}}},attr:{pattern:/^\[(.*)\]$/,resolve(i){return{type:"attr",selector:`:root${i},:host${i}`,matched:this.pattern.test(i.trim())}}},media:{pattern:/^@media (.*)$/,resolve(i){return{type:"media",selector:i,matched:this.pattern.test(i.trim())}}},system:{pattern:/^system$/,resolve(i){return{type:"system",selector:"@media (prefers-color-scheme: dark)",matched:this.pattern.test(i.trim())}}},custom:{resolve(i){return{type:"custom",selector:i,matched:!0}}}},resolve(i){let n=Object.keys(this.rules).filter(e=>e!=="custom").map(e=>this.rules[e]);return[i].flat().map(e=>{var t;return(t=n.map(o=>o.resolve(e)).find(o=>o.matched))!=null?t:this.rules.custom.resolve(e)})}},_toVariables(i,n){return Ude(i,{prefix:n?.prefix})},getCommon({name:i="",theme:n={},params:e,set:t,defaults:o}){var r,s,a,l,c,d,u;let{preset:m,options:g}=n,y,v,S,I,P,L,F;if(qt(m)&&g.transform!=="strict"){let{primitive:K,semantic:le,extend:me}=m,fe=le||{},{colorScheme:Te}=fe,He=_p(fe,["colorScheme"]),Be=me||{},{colorScheme:rt}=Be,Rt=_p(Be,["colorScheme"]),xt=Te||{},{dark:Lt}=xt,mt=_p(xt,["dark"]),Re=rt||{},{dark:Oi}=Re,Li=_p(Re,["dark"]),Co=qt(K)?this._toVariables({primitive:K},g):{},Lo=qt(He)?this._toVariables({semantic:He},g):{},bn=qt(mt)?this._toVariables({light:mt},g):{},Mo=qt(Lt)?this._toVariables({dark:Lt},g):{},un=qt(Rt)?this._toVariables({semantic:Rt},g):{},xn=qt(Li)?this._toVariables({light:Li},g):{},Ai=qt(Oi)?this._toVariables({dark:Oi},g):{},[ru,Yr]=[(r=Co.declarations)!=null?r:"",Co.tokens],[Yl,vt]=[(s=Lo.declarations)!=null?s:"",Lo.tokens||[]],[ut,it]=[(a=bn.declarations)!=null?a:"",bn.tokens||[]],[ri,nn]=[(l=Mo.declarations)!=null?l:"",Mo.tokens||[]],[Ji,en]=[(c=un.declarations)!=null?c:"",un.tokens||[]],[yn,Yn]=[(d=xn.declarations)!=null?d:"",xn.tokens||[]],[Tn,hs]=[(u=Ai.declarations)!=null?u:"",Ai.tokens||[]];y=this.transformCSS(i,ru,"light","variable",g,t,o),v=Yr;let Ate=this.transformCSS(i,`${Yl}${ut}`,"light","variable",g,t,o),kte=this.transformCSS(i,`${ri}`,"dark","variable",g,t,o);S=`${Ate}${kte}`,I=[...new Set([...vt,...it,...nn])];let Nte=this.transformCSS(i,`${Ji}${yn}color-scheme:light`,"light","variable",g,t,o),Fte=this.transformCSS(i,`${Tn}color-scheme:dark`,"dark","variable",g,t,o);P=`${Nte}${Fte}`,L=[...new Set([...en,...Yn,...hs])],F=$o(m.css,{dt:bp})}return{primitive:{css:y,tokens:v},semantic:{css:S,tokens:I},global:{css:P,tokens:L},style:F}},getPreset({name:i="",preset:n={},options:e,params:t,set:o,defaults:r,selector:s}){var a,l,c;let d,u,m;if(qt(n)&&e.transform!=="strict"){let g=i.replace("-directive",""),y=n,{colorScheme:v,extend:S,css:I}=y,P=_p(y,["colorScheme","extend","css"]),L=S||{},{colorScheme:F}=L,K=_p(L,["colorScheme"]),le=v||{},{dark:me}=le,fe=_p(le,["dark"]),Te=F||{},{dark:He}=Te,Be=_p(Te,["dark"]),rt=qt(P)?this._toVariables({[g]:Sc(Sc({},P),K)},e):{},Rt=qt(fe)?this._toVariables({[g]:Sc(Sc({},fe),Be)},e):{},xt=qt(me)?this._toVariables({[g]:Sc(Sc({},me),He)},e):{},[Lt,mt]=[(a=rt.declarations)!=null?a:"",rt.tokens||[]],[Re,Oi]=[(l=Rt.declarations)!=null?l:"",Rt.tokens||[]],[Li,Co]=[(c=xt.declarations)!=null?c:"",xt.tokens||[]],Lo=this.transformCSS(g,`${Lt}${Re}`,"light","variable",e,o,r,s),bn=this.transformCSS(g,Li,"dark","variable",e,o,r,s);d=`${Lo}${bn}`,u=[...new Set([...mt,...Oi,...Co])],m=$o(I,{dt:bp})}return{css:d,tokens:u,style:m}},getPresetC({name:i="",theme:n={},params:e,set:t,defaults:o}){var r;let{preset:s,options:a}=n,l=(r=s?.components)==null?void 0:r[i];return this.getPreset({name:i,preset:l,options:a,params:e,set:t,defaults:o})},getPresetD({name:i="",theme:n={},params:e,set:t,defaults:o}){var r,s;let a=i.replace("-directive",""),{preset:l,options:c}=n,d=((r=l?.components)==null?void 0:r[a])||((s=l?.directives)==null?void 0:s[a]);return this.getPreset({name:a,preset:d,options:c,params:e,set:t,defaults:o})},applyDarkColorScheme(i){return!(i.darkModeSelector==="none"||i.darkModeSelector===!1)},getColorSchemeOption(i,n){var e;return this.applyDarkColorScheme(i)?this.regex.resolve(i.darkModeSelector===!0?n.options.darkModeSelector:(e=i.darkModeSelector)!=null?e:n.options.darkModeSelector):[]},getLayerOrder(i,n={},e,t){let{cssLayer:o}=n;return o?`@layer ${$o(o.order||o.name||"primeui",e)}`:""},getCommonStyleSheet({name:i="",theme:n={},params:e,props:t={},set:o,defaults:r}){let s=this.getCommon({name:i,theme:n,params:e,set:o,defaults:r}),a=Object.entries(t).reduce((l,[c,d])=>l.push(`${c}="${d}"`)&&l,[]).join(" ");return Object.entries(s||{}).reduce((l,[c,d])=>{if(gp(d)&&Object.hasOwn(d,"css")){let u=kf(d.css),m=`${c}-variables`;l.push(`<style type="text/css" data-primevue-style-id="${m}" ${a}>${u}</style>`)}return l},[]).join("")},getStyleSheet({name:i="",theme:n={},params:e,props:t={},set:o,defaults:r}){var s;let a={name:i,theme:n,params:e,set:o,defaults:r},l=(s=i.includes("-directive")?this.getPresetD(a):this.getPresetC(a))==null?void 0:s.css,c=Object.entries(t).reduce((d,[u,m])=>d.push(`${u}="${m}"`)&&d,[]).join(" ");return l?`<style type="text/css" data-primevue-style-id="${i}-variables" ${c}>${kf(l)}</style>`:""},createTokens(i={},n,e="",t="",o={}){let r=function(a,l={},c=[]){if(c.includes(this.path))return console.warn(`Circular reference detected at ${this.path}`),{colorScheme:a,path:this.path,paths:l,value:void 0};c.push(this.path),l.name=this.path,l.binding||(l.binding={});let d=this.value;if(typeof this.value=="string"&&fy.test(this.value)){let u=this.value.trim().replace(fy,m=>{var g;let y=m.slice(1,-1),v=this.tokens[y];if(!v)return console.warn(`Token not found for path: ${y}`),"__UNRESOLVED__";let S=v.computed(a,l,c);return Array.isArray(S)&&S.length===2?`light-dark(${S[0].value},${S[1].value})`:(g=S?.value)!=null?g:"__UNRESOLVED__"});d=y8.test(u.replace(v8,"0"))?`calc(${u})`:u}return jo(l.binding)&&delete l.binding,c.pop(),{colorScheme:a,path:this.path,paths:l,value:d.includes("__UNRESOLVED__")?void 0:d}},s=(a,l,c)=>{Object.entries(a).forEach(([d,u])=>{let m=wc(d,n.variable.excludedKeyRegex)?l:l?`${l}.${g8(d)}`:g8(d),g=c?`${c}.${d}`:d;gp(u)?s(u,m,g):(o[m]||(o[m]={paths:[],computed:(y,v={},S=[])=>{if(o[m].paths.length===1)return o[m].paths[0].computed(o[m].paths[0].scheme,v.binding,S);if(y&&y!=="none")for(let I=0;I<o[m].paths.length;I++){let P=o[m].paths[I];if(P.scheme===y)return P.computed(y,v.binding,S)}return o[m].paths.map(I=>I.computed(I.scheme,v[I.scheme],S))}}),o[m].paths.push({path:g,value:u,scheme:g.includes("colorScheme.light")?"light":g.includes("colorScheme.dark")?"dark":"none",computed:r,tokens:o}))})};return s(i,e,t),o},getTokenValue(i,n,e){var t;let o=(a=>a.split(".").filter(l=>!wc(l.toLowerCase(),e.variable.excludedKeyRegex)).join("."))(n),r=n.includes("colorScheme.light")?"light":n.includes("colorScheme.dark")?"dark":void 0,s=[(t=i[o])==null?void 0:t.computed(r)].flat().filter(a=>a);return s.length===1?s[0].value:s.reduce((a={},l)=>{let c=l,{colorScheme:d}=c,u=_p(c,["colorScheme"]);return a[d]=u,a},void 0)},getSelectorRule(i,n,e,t){return e==="class"||e==="attr"?Vg(qt(n)?`${i}${n},${i} ${n}`:i,t):Vg(i,Vg(n??":root,:host",t))},transformCSS(i,n,e,t,o={},r,s,a){if(qt(n)){let{cssLayer:l}=o;if(t!=="style"){let c=this.getColorSchemeOption(o,s);n=e==="dark"?c.reduce((d,{type:u,selector:m})=>(qt(m)&&(d+=m.includes("[CSS]")?m.replace("[CSS]",n):this.getSelectorRule(m,a,u,n)),d),""):Vg(a??":root,:host",n)}if(l){let c={name:"primeui",order:"primeui"};gp(l)&&(c.name=$o(l.name,{name:i,type:t})),qt(c.name)&&(n=Vg(`@layer ${c.name}`,n),r?.layerNames(c.name))}return n}return""}},mo={defaults:{variable:{prefix:"p",selector:":root,:host",excludedKeyRegex:/^(primitive|semantic|components|directives|variables|colorscheme|light|dark|common|root|states|extend|css)$/gi},options:{prefix:"p",darkModeSelector:"system",cssLayer:!1}},_theme:void 0,_layerNames:new Set,_loadedStyleNames:new Set,_loadingStyles:new Set,_tokens:{},update(i={}){let{theme:n}=i;n&&(this._theme=UA(Sc({},n),{options:Sc(Sc({},this.defaults.options),n.options)}),this._tokens=Cc.createTokens(this.preset,this.defaults),this.clearLoadedStyleNames())},get theme(){return this._theme},get preset(){var i;return((i=this.theme)==null?void 0:i.preset)||{}},get options(){var i;return((i=this.theme)==null?void 0:i.options)||{}},get tokens(){return this._tokens},getTheme(){return this.theme},setTheme(i){this.update({theme:i}),ls.emit("theme:change",i)},getPreset(){return this.preset},setPreset(i){this._theme=UA(Sc({},this.theme),{preset:i}),this._tokens=Cc.createTokens(i,this.defaults),this.clearLoadedStyleNames(),ls.emit("preset:change",i),ls.emit("theme:change",this.theme)},getOptions(){return this.options},setOptions(i){this._theme=UA(Sc({},this.theme),{options:i}),this.clearLoadedStyleNames(),ls.emit("options:change",i),ls.emit("theme:change",this.theme)},getLayerNames(){return[...this._layerNames]},setLayerNames(i){this._layerNames.add(i)},getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()},getTokenValue(i){return Cc.getTokenValue(this.tokens,i,this.defaults)},getCommon(i="",n){return Cc.getCommon({name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getComponent(i="",n){let e={name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Cc.getPresetC(e)},getDirective(i="",n){let e={name:i,theme:this.theme,params:n,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Cc.getPresetD(e)},getCustomPreset(i="",n,e,t){let o={name:i,preset:n,options:this.options,selector:e,params:t,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}};return Cc.getPreset(o)},getLayerOrderCSS(i=""){return Cc.getLayerOrder(i,this.options,{names:this.getLayerNames()},this.defaults)},transformCSS(i="",n,e="style",t){return Cc.transformCSS(i,n,t,e,this.options,{layerNames:this.setLayerNames.bind(this)},this.defaults)},getCommonStyleSheet(i="",n,e={}){return Cc.getCommonStyleSheet({name:i,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},getStyleSheet(i,n,e={}){return Cc.getStyleSheet({name:i,theme:this.theme,params:n,props:e,defaults:this.defaults,set:{layerNames:this.setLayerNames.bind(this)}})},onStyleMounted(i){this._loadingStyles.add(i)},onStyleUpdated(i){this._loadingStyles.add(i)},onStyleLoaded(i,{name:n}){this._loadingStyles.size&&(this._loadingStyles.delete(n),ls.emit(`theme:${n}:load`,i),!this._loadingStyles.size&&ls.emit("theme:load"))}};var I8=`
    *,
    ::before,
    ::after {
        box-sizing: border-box;
    }

    /* Non vue overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity 0.1s linear;
    }

    /* Vue based overlay animations */
    .p-connected-overlay-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-leave-to {
        opacity: 0;
    }

    .p-connected-overlay-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-leave-active {
        transition: opacity 0.1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter-from,
    .p-toggleable-content-leave-to {
        max-height: 0;
    }

    .p-toggleable-content-enter-to,
    .p-toggleable-content-leave-from {
        max-height: 1000px;
    }

    .p-toggleable-content-leave-active {
        overflow: hidden;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        transition: max-height 1s ease-in-out;
    }

    .p-disabled,
    .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-disabled,
    .p-component:disabled {
        opacity: dt('disabled.opacity');
    }

    .pi {
        font-size: dt('icon.size');
    }

    .p-icon {
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-overlay-mask {
        background: dt('mask.background');
        color: dt('mask.color');
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-overlay-mask-enter {
        animation: p-overlay-mask-enter-animation dt('mask.transition.duration') forwards;
    }

    .p-overlay-mask-leave {
        animation: p-overlay-mask-leave-animation dt('mask.transition.duration') forwards;
    }

    @keyframes p-overlay-mask-enter-animation {
        from {
            background: transparent;
        }
        to {
            background: dt('mask.background');
        }
    }
    @keyframes p-overlay-mask-leave-animation {
        from {
            background: dt('mask.background');
        }
        to {
            background: transparent;
        }
    }
`;var jde=0,E8=(()=>{class i{document=z(Ci);use(e,t={}){let o=!1,r=e,s=null,{immediate:a=!0,manual:l=!1,name:c=`style_${++jde}`,id:d=void 0,media:u=void 0,nonce:m=void 0,first:g=!1,props:y={}}=t;if(this.document){if(s=this.document.querySelector(`style[data-primeng-style-id="${c}"]`)||d&&this.document.getElementById(d)||this.document.createElement("style"),s){if(!s.isConnected){r=e;let v=this.document.head;vc(s,"nonce",m),g&&v.firstChild?v.insertBefore(s,v.firstChild):v.appendChild(s),j1(s,{type:"text/css",media:u,nonce:m,"data-primeng-style-id":c})}s.textContent!==r&&(s.textContent=r)}return{id:d,name:c,el:s,css:r}}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var jg={_loadedStyleNames:new Set,getLoadedStyleNames(){return this._loadedStyleNames},isStyleNameLoaded(i){return this._loadedStyleNames.has(i)},setLoadedStyleName(i){this._loadedStyleNames.add(i)},deleteLoadedStyleName(i){this._loadedStyleNames.delete(i)},clearLoadedStyleNames(){this._loadedStyleNames.clear()}},Gde=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: dt('scrollbar.width');
}
`,Ye=(()=>{class i{name="base";useStyle=z(E8);css=void 0;style=void 0;classes={};inlineStyles={};load=(e,t={},o=r=>r)=>{let r=o(Ug`${$o(e,{dt:bp})}`);return r?this.useStyle.use(kf(r),ee({name:this.name},t)):{}};loadCSS=(e={})=>this.load(this.css,e);loadStyle=(e={},t="")=>this.load(this.style,e,(o="")=>mo.transformCSS(e.name||this.name,`${o}${Ug`${t}`}`));loadBaseCSS=(e={})=>this.load(Gde,e);loadBaseStyle=(e={},t="")=>this.load(I8,e,(o="")=>mo.transformCSS(e.name||this.name,`${o}${Ug`${t}`}`));getCommonTheme=e=>mo.getCommon(this.name,e);getComponentTheme=e=>mo.getComponent(this.name,e);getPresetTheme=(e,t,o)=>mo.getCustomPreset(this.name,e,t,o);getLayerOrderThemeCSS=()=>mo.getLayerOrderCSS(this.name);getStyleSheet=(e="",t={})=>{if(this.css){let o=$o(this.css,{dt:bp}),r=kf(Ug`${o}${e}`),s=Object.entries(t).reduce((a,[l,c])=>a.push(`${l}="${c}"`)&&a,[]).join(" ");return`<style type="text/css" data-primeng-style-id="${this.name}" ${s}>${r}</style>`}return""};getCommonThemeStyleSheet=(e,t={})=>mo.getCommonStyleSheet(this.name,e,t);getThemeStyleSheet=(e,t={})=>{let o=[mo.getStyleSheet(this.name,e,t)];if(this.style){let r=this.name==="base"?"global-style":`${this.name}-style`,s=Ug`${$o(this.style,{dt:bp})}`,a=kf(mo.transformCSS(r,s)),l=Object.entries(t).reduce((c,[d,u])=>c.push(`${d}="${u}"`)&&c,[]).join(" ");o.push(`<style type="text/css" data-primeng-style-id="${r}" ${l}>${a}</style>`)}return o.join("")};static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Hde=(()=>{class i{theme=lt(void 0);csp=lt({nonce:void 0});isThemeChanged=!1;document=z(Ci);baseStyle=z(Ye);constructor(){In(()=>{ls.on("theme:change",e=>{Uo(()=>{this.isThemeChanged=!0,this.theme.set(e)})})}),In(()=>{let e=this.theme();this.document&&e&&(this.isThemeChanged||this.onThemeChange(e),this.isThemeChanged=!1)})}ngOnDestroy(){mo.clearLoadedStyleNames(),ls.clear()}onThemeChange(e){mo.setTheme(e),this.document&&this.loadCommonTheme()}loadCommonTheme(){if(this.theme()!=="none"&&!mo.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:o,style:r}=this.baseStyle.getCommonTheme?.()||{},s={nonce:this.csp?.()?.nonce};this.baseStyle.load(e?.css,ee({name:"primitive-variables"},s)),this.baseStyle.load(t?.css,ee({name:"semantic-variables"},s)),this.baseStyle.load(o?.css,ee({name:"global-variables"},s)),this.baseStyle.loadBaseStyle(ee({name:"global-style"},s),r),mo.setLoadedStyleName("common")}}setThemeConfig(e){let{theme:t,csp:o}=e||{};t&&this.theme.set(t),o&&this.csp.set(o)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gg=(()=>{class i extends Hde{ripple=lt(!1);platformId=z(wr);inputStyle=lt(null);inputVariant=lt(null);overlayAppendTo=lt("self");overlayOptions={};csp=lt({nonce:void 0});unstyled=lt(void 0);pt=lt(void 0);ptOptions=lt(void 0);filterMatchModeOptions={text:[as.STARTS_WITH,as.CONTAINS,as.NOT_CONTAINS,as.ENDS_WITH,as.EQUALS,as.NOT_EQUALS],numeric:[as.EQUALS,as.NOT_EQUALS,as.LESS_THAN,as.LESS_THAN_OR_EQUAL_TO,as.GREATER_THAN,as.GREATER_THAN_OR_EQUAL_TO],date:[as.DATE_IS,as.DATE_IS_NOT,as.DATE_BEFORE,as.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",completed:"Completed",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"Search results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",fileChosenMessage:"Files",noFileChosenMessage:"No file chosen",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize",minimizeLabel:"Minimize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Le;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=ee(ee({},this.translation),e),this.translationSource.next(this.translation)}setConfig(e){let{csp:t,ripple:o,inputStyle:r,inputVariant:s,theme:a,overlayOptions:l,translation:c,filterMatchModeOptions:d,overlayAppendTo:u,zIndex:m,ptOptions:g,pt:y,unstyled:v}=e||{};t&&this.csp.set(t),u&&this.overlayAppendTo.set(u),o&&this.ripple.set(o),r&&this.inputStyle.set(r),s&&this.inputVariant.set(s),l&&(this.overlayOptions=l),c&&this.setTranslation(c),d&&(this.filterMatchModeOptions=d),m&&(this.zIndex=m),y&&this.pt.set(y),g&&this.ptOptions.set(g),v&&this.unstyled.set(v),a&&this.setThemeConfig({theme:a,csp:t})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var T8=(()=>{class i extends Ye{name="common";static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),et=new he("PARENT_INSTANCE"),Xe=(()=>{class i{document=z(Ci);platformId=z(wr);el=z(Ei);injector=z(hn);cd=z(We);renderer=z(Wo);config=z(Gg);$parentInstance=z(et,{optional:!0,skipSelf:!0})??void 0;baseComponentStyle=z(T8);baseStyle=z(Ye);scopedStyleEl;parent=this.$params.parent;cn=Du;_themeScopedListener;dt=qe();unstyled=qe();pt=qe();ptOptions=qe();$attrSelector=Vt("pc");get $name(){return this.componentName||this.constructor?.name?.replace(/^_/,"")||"UnknownComponent"}get $hostName(){return this.hostName}$unstyled=ct(()=>this.unstyled()!==void 0?this.unstyled():this.config?.unstyled()||!1);$pt=ct(()=>$o(this.pt()||this.directivePT(),this.$params));directivePT=lt(void 0);get $globalPT(){return this._getPT(this.config?.pt(),void 0,e=>$o(e,this.$params))}get $defaultPT(){return this._getPT(this.config?.pt(),void 0,e=>this._getOptionValue(e,this.$hostName||this.$name,this.$params)||$o(e,this.$params))}get $style(){return ee(ee({theme:void 0,css:void 0,classes:void 0,inlineStyles:void 0},(this._getHostInstance(this)||{}).$style),this._componentStyle)}get $styleOptions(){return{nonce:this.config?.csp().nonce}}get $params(){let e=this._getHostInstance(this)||this.$parentInstance;return{instance:this,parent:{instance:e}}}onInit(){}onChanges(e){}onDoCheck(){}onAfterContentInit(){}onAfterContentChecked(){}onAfterViewInit(){}onAfterViewChecked(){}onDestroy(){}constructor(){In(e=>{this.document&&!q2(this.platformId)&&(ls.off("theme:change",this._themeScopedListener),this.dt()?(this._loadScopedThemeStyles(this.dt()),this._themeScopedListener=()=>this._loadScopedThemeStyles(this.dt()),this._themeChangeListener(this._themeScopedListener)):this._unloadScopedThemeStyles()),e(()=>{ls.off("theme:change",this._themeScopedListener)})}),In(e=>{this.document&&!q2(this.platformId)&&(ls.off("theme:change",this._loadCoreStyles),this.$unstyled()||(this._loadCoreStyles(),this._themeChangeListener(this._loadCoreStyles))),e(()=>{ls.off("theme:change",this._loadCoreStyles)})}),this._hook("onBeforeInit")}ngOnInit(){this._loadCoreStyles(),this._loadStyles(),this.onInit(),this._hook("onInit")}ngOnChanges(e){this.onChanges(e),this._hook("onChanges",e)}ngDoCheck(){this.onDoCheck(),this._hook("onDoCheck")}ngAfterContentInit(){this.onAfterContentInit(),this._hook("onAfterContentInit")}ngAfterContentChecked(){this.onAfterContentChecked(),this._hook("onAfterContentChecked")}ngAfterViewInit(){this.el?.nativeElement?.setAttribute(this.$attrSelector,""),this.onAfterViewInit(),this._hook("onAfterViewInit")}ngAfterViewChecked(){this.onAfterViewChecked(),this._hook("onAfterViewChecked")}ngOnDestroy(){this._removeThemeListeners(),this._unloadScopedThemeStyles(),this.onDestroy(),this._hook("onDestroy")}_mergeProps(e,...t){return Mg(e)?e(...t):MA(...t)}_getHostInstance(e){return e?this.$hostName?this.$name===this.$hostName?e:this._getHostInstance(e.$parentInstance):e.$parentInstance:void 0}_getPropValue(e){return this[e]||this._getHostInstance(this)?.[e]}_getOptionValue(e,t="",o={}){return H1(e,t,o)}_hook(e,...t){if(!this.$hostName){let o=this._usePT(this._getPT(this.$pt(),this.$name),this._getOptionValue,`hooks.${e}`),r=this._useDefaultPT(this._getOptionValue,`hooks.${e}`);o?.(...t),r?.(...t)}}_load(){jg.isStyleNameLoaded("base")||(this.baseStyle.loadBaseCSS(this.$styleOptions),this._loadGlobalStyles(),jg.setLoadedStyleName("base")),this._loadThemeStyles()}_loadStyles(){this._load(),this._themeChangeListener(()=>this._load())}_loadGlobalStyles(){let e=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);qt(e)&&this.baseStyle.load(e,ee({name:"global"},this.$styleOptions))}_loadCoreStyles(){!jg.isStyleNameLoaded(this.$style?.name)&&this.$style?.name&&(this.baseComponentStyle.loadCSS(this.$styleOptions),this.$style.loadCSS(this.$styleOptions),jg.setLoadedStyleName(this.$style.name))}_loadThemeStyles(){if(!(this.$unstyled()||this.config?.theme()==="none")){if(!mo.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:o,style:r}=this.$style?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,ee({name:"primitive-variables"},this.$styleOptions)),this.baseStyle.load(t?.css,ee({name:"semantic-variables"},this.$styleOptions)),this.baseStyle.load(o?.css,ee({name:"global-variables"},this.$styleOptions)),this.baseStyle.loadBaseStyle(ee({name:"global-style"},this.$styleOptions),r),mo.setLoadedStyleName("common")}if(!mo.isStyleNameLoaded(this.$style?.name)&&this.$style?.name){let{css:e,style:t}=this.$style?.getComponentTheme?.()||{};this.$style?.load(e,ee({name:`${this.$style?.name}-variables`},this.$styleOptions)),this.$style?.loadStyle(ee({name:`${this.$style?.name}-style`},this.$styleOptions),t),mo.setLoadedStyleName(this.$style?.name)}if(!mo.isStyleNameLoaded("layer-order")){let e=this.$style?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,ee({name:"layer-order",first:!0},this.$styleOptions)),mo.setLoadedStyleName("layer-order")}}}_loadScopedThemeStyles(e){let{css:t}=this.$style?.getPresetTheme?.(e,`[${this.$attrSelector}]`)||{},o=this.$style?.load(t,ee({name:`${this.$attrSelector}-${this.$style?.name}`},this.$styleOptions));this.scopedStyleEl=o?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){jg.clearLoadedStyleNames(),ls.on("theme:change",e.bind(this))}_removeThemeListeners(){ls.off("theme:change",this._loadCoreStyles),ls.off("theme:change",this._load),ls.off("theme:change",this._themeScopedListener)}_getPTValue(e={},t="",o={},r=!0){let s=/./g.test(t)&&!!o[t.split(".")[0]],{mergeSections:a=!0,mergeProps:l=!1}=this._getPropValue("ptOptions")?.()||this.config?.ptOptions?.()||{},c=r?s?this._useGlobalPT(this._getPTClassValue,t,o):this._useDefaultPT(this._getPTClassValue,t,o):void 0,d=s?void 0:this._usePT(this._getPT(e,this.$hostName||this.$name),this._getPTClassValue,t,Fe(ee({},o),{global:c||{}})),u=this._getPTDatasets(t);return a||!a&&d?l?this._mergeProps(l,c,d,u):ee(ee(ee({},c),d),u):ee(ee({},d),u)}_getPTDatasets(e=""){let t="data-pc-",o=e==="root"&&qt(this.$pt()?.["data-pc-section"]);return e!=="transition"&&Fe(ee({},e==="root"&&Fe(ee({[`${t}name`]:Au(o?this.$pt()?.["data-pc-section"]:this.$name)},o&&{[`${t}extend`]:Au(this.$name)}),{[`${this.$attrSelector}`]:""})),{[`${t}section`]:Au(e.includes(".")?e.split(".").at(-1)??"":e)})}_getPTClassValue(e,t,o){let r=this._getOptionValue(e,t,o);return Ml(r)||uy(r)?{class:r}:r}_getPT(e,t="",o){let r=(s,a=!1)=>{let l=o?o(s):s,c=Au(t),d=Au(this.$hostName||this.$name);return(a?c!==d?l?.[c]:void 0:l?.[c])??l};return e?.hasOwnProperty("_usept")?{_usept:e._usept,originalValue:r(e.originalValue),value:r(e.value)}:r(e,!0)}_usePT(e,t,o,r){let s=a=>t?.call(this,a,o,r);if(e?.hasOwnProperty("_usept")){let{mergeSections:a=!0,mergeProps:l=!1}=e._usept||this.config?.ptOptions()||{},c=s(e.originalValue),d=s(e.value);return c===void 0&&d===void 0?void 0:Ml(d)?d:Ml(c)?c:a||!a&&d?l?this._mergeProps(l,c,d):ee(ee({},c),d):d}return s(e)}_useGlobalPT(e,t,o){return this._usePT(this.$globalPT,e,t,o)}_useDefaultPT(e,t,o){return this._usePT(this.$defaultPT,e,t,o)}ptm(e="",t={}){return this._getPTValue(this.$pt(),e,ee(ee({},this.$params),t))}ptms(e,t={}){return e.reduce((o,r)=>(o=MA(o,this.ptm(r,t))||{},o),{})}ptmo(e={},t="",o={}){return this._getPTValue(e,t,ee({instance:this},o),!1)}cx(e,t={}){return this.$unstyled()?void 0:Du(this._getOptionValue(this.$style.classes,e,ee(ee({},this.$params),t)))}sx(e="",t=!0,o={}){if(t){let r=this._getOptionValue(this.$style.inlineStyles,e,ee(ee({},this.$params),o)),s=this._getOptionValue(this.baseComponentStyle.inlineStyles,e,ee(ee({},this.$params),o));return ee(ee({},s),r)}}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,inputs:{dt:[1,"dt"],unstyled:[1,"unstyled"],pt:[1,"pt"],ptOptions:[1,"ptOptions"]},features:[Se([T8,Ye]),$n]})}return i})();var st=(()=>{class i{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,t){e&&t&&(e.classList?e.classList.add(t):e.className+=" "+t)}static addMultipleClasses(e,t){if(e&&t)if(e.classList){let o=t.trim().split(" ");for(let r=0;r<o.length;r++)e.classList.add(o[r])}else{let o=t.split(" ");for(let r=0;r<o.length;r++)e.className+=" "+o[r]}}static removeClass(e,t){e&&t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,t){e&&t&&[t].flat().filter(Boolean).forEach(o=>o.split(" ").forEach(r=>this.removeClass(e,r)))}static hasClass(e,t){return e&&t?e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className):!1}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return this.isElement(e)?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,o=0;for(var r=0;r<t.length;r++){if(t[r]==e)return o;t[r].nodeType==1&&o++}return-1}static indexWithinGroup(e,t){let o=e.parentNode?e.parentNode.childNodes:[],r=0;for(var s=0;s<o.length;s++){if(o[s]==e)return r;o[s].attributes&&o[s].attributes[t]&&o[s].nodeType==1&&r++}return-1}static appendOverlay(e,t,o="self"){o!=="self"&&e&&t&&this.appendChild(e,t)}static alignOverlay(e,t,o="self",r=!0){e&&t&&(r&&(e.style.minWidth=`${i.getOuterWidth(t)}px`),o==="self"?this.relativePosition(e,t):this.absolutePosition(e,t))}static relativePosition(e,t,o=!0){let r=L=>{if(L)return getComputedStyle(L).getPropertyValue("position")==="relative"?L:r(L.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=t.offsetHeight,l=t.getBoundingClientRect(),c=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),u=this.getViewport(),g=r(e)?.getBoundingClientRect()||{top:-1*c,left:-1*d},y,v,S="top";l.top+a+s.height>u.height?(y=l.top-g.top-s.height,S="bottom",l.top+y<0&&(y=-1*l.top)):(y=a+l.top-g.top,S="top");let I=l.left+s.width-u.width,P=l.left-g.left;if(s.width>u.width?v=(l.left-g.left)*-1:I>0?v=P-I:v=l.left-g.left,e.style.top=y+"px",e.style.left=v+"px",e.style.transformOrigin=S,o){let L=cy(/-anchor-gutter$/)?.value;e.style.marginTop=S==="bottom"?`calc(${L??"2px"} * -1)`:L??""}}static absolutePosition(e,t,o=!0){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,a=r.width,l=t.offsetHeight,c=t.offsetWidth,d=t.getBoundingClientRect(),u=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),g=this.getViewport(),y,v;d.top+l+s>g.height?(y=d.top+u-s,e.style.transformOrigin="bottom",y<0&&(y=u)):(y=l+d.top+u,e.style.transformOrigin="top"),d.left+a>g.width?v=Math.max(0,d.left+m+c-a):v=d.left+m,e.style.top=y+"px",e.style.left=v+"px",o&&(e.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(e,t=[]){return e.parentNode===null?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}static getScrollableParents(e){let t=[];if(e){let o=this.getParents(e),r=/(auto|scroll)/,s=a=>{let l=window.getComputedStyle(a,null);return r.test(l.getPropertyValue("overflow"))||r.test(l.getPropertyValue("overflowX"))||r.test(l.getPropertyValue("overflowY"))};for(let a of o){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let d of c){let u=this.findSingle(a,d);u&&s(u)&&t.push(u)}}a.nodeType!==9&&s(a)&&t.push(a)}}return t}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let o=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=o?parseFloat(o):0,s=getComputedStyle(e).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,l=e.getBoundingClientRect(),d=t.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-r-a,u=e.scrollTop,m=e.clientHeight,g=this.getOuterHeight(t);d<0?e.scrollTop=u+d:d+g>m&&(e.scrollTop=u+d-m+g)}static fadeIn(e,t){e.style.opacity=0;let o=+new Date,r=0,s=function(){r=+e.style.opacity.replace(",",".")+(new Date().getTime()-o)/t,e.style.opacity=r,o=+new Date,+r<1&&(window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,16))};s()}static fadeOut(e,t){var o=1,r=50,s=t,a=r/s;let l=setInterval(()=>{o=o-a,o<=0&&(o=0,clearInterval(l)),e.style.opacity=o},r)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var o=Element.prototype,r=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(s){return[].indexOf.call(document.querySelectorAll(s),this)!==-1};return r.call(e,t)}static getOuterWidth(e,t){let o=e.offsetWidth;if(t){let r=getComputedStyle(e);o+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return o}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,o=getComputedStyle(e);return t+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),t}static width(e){let t=e.offsetWidth,o=getComputedStyle(e);return t-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,o=getComputedStyle(e);return t+=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom),t}static getOuterHeight(e,t){let o=e.offsetHeight;if(t){let r=getComputedStyle(e);o+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return o}static getHeight(e){let t=e.offsetHeight,o=getComputedStyle(e);return t-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,o=getComputedStyle(e);return t-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),t}static getViewport(){let e=window,t=document,o=t.documentElement,r=t.getElementsByTagName("body")[0],s=e.innerWidth||o.clientWidth||r.clientWidth,a=e.innerHeight||o.clientHeight||r.clientHeight;return{width:s,height:a}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let o=e.parentNode;if(!o)throw"Can't replace element";return o.replaceChild(t,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return!0;var o=e.indexOf("Trident/");if(o>0){var r=e.indexOf("rv:");return!0}var s=e.indexOf("Edge/");return s>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else if(t&&t.el&&t.el.nativeElement)t.el.nativeElement.appendChild(e);else throw"Cannot append "+t+" to "+e}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else if(t.el&&t.el.nativeElement)t.el.nativeElement.removeChild(e);else throw"Cannot remove "+e+" from "+t}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode?.removeChild(e)}static isElement(e){return typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let o=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=o,o}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,o){e[t].apply(e,o)}static clearSelection(){if(window.getSelection&&window.getSelection())window.getSelection()?.empty?window.getSelection()?.empty():window.getSelection()?.removeAllRanges&&(window.getSelection()?.rangeCount||0)>0&&(window.getSelection()?.getRangeAt(0)?.getClientRects()?.length||0)>0&&window.getSelection()?.removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||e.offsetParent===null}static isVisible(e){return e&&e.offsetParent!=null}static isExist(e){return e!==null&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,t){e&&document.activeElement!==e&&e.focus(t)}static getFocusableSelectorString(e=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${e}`}static getFocusableElements(e,t=""){let o=this.find(e,this.getFocusableSelectorString(t)),r=[];for(let s of o){let a=getComputedStyle(s);this.isVisible(s)&&a.display!="none"&&a.visibility!="hidden"&&r.push(s)}return r}static getFocusableElement(e,t=""){let o=this.findSingle(e,this.getFocusableSelectorString(t));if(o){let r=getComputedStyle(o);if(this.isVisible(o)&&r.display!="none"&&r.visibility!="hidden")return o}return null}static getFirstFocusableElement(e,t=""){let o=this.getFocusableElements(e,t);return o.length>0?o[0]:null}static getLastFocusableElement(e,t){let o=this.getFocusableElements(e,t);return o.length>0?o[o.length-1]:null}static getNextFocusableElement(e,t=!1){let o=i.getFocusableElements(e),r=0;if(o&&o.length>0){let s=o.indexOf(o[0].ownerDocument.activeElement);t?s==-1||s===0?r=o.length-1:r=s-1:s!=-1&&s!==o.length-1&&(r=s+1)}return o[r]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection()?.toString():document.getSelection?document.getSelection()?.toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,t){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return t?.nextElementSibling;case"@prev":return t?.previousElementSibling;case"@parent":return t?.parentElement;case"@grandparent":return t?.parentElement?.parentElement;default:let o=typeof e;if(o==="string")return document.querySelector(e);if(o==="object"&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;let s=(a=>!!(a&&a.constructor&&a.call&&a.apply))(e)?e():e;return s&&s.nodeType===9||this.isExist(s)?s:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,t){if(e){let o=e.getAttribute(t);return isNaN(o)?o==="true"||o==="false"?o==="true":o:+o}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}static createElement(e,t={},...o){if(e){let r=document.createElement(e);return this.setAttributes(r,t),r.append(...o),r}}static setAttribute(e,t="",o){this.isElement(e)&&o!==null&&o!==void 0&&e.setAttribute(t,o)}static setAttributes(e,t={}){if(this.isElement(e)){let o=(r,s)=>{let a=e?.$attrs?.[r]?[e?.$attrs?.[r]]:[];return[s].flat().reduce((l,c)=>{if(c!=null){let d=typeof c;if(d==="string"||d==="number")l.push(c);else if(d==="object"){let u=Array.isArray(c)?o(r,c):Object.entries(c).map(([m,g])=>r==="style"&&(g||g===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${g}`:g?m:void 0);l=u.length?l.concat(u.filter(m=>!!m)):l}}return l},a)};Object.entries(t).forEach(([r,s])=>{if(s!=null){let a=r.match(/^on(.+)/);a?e.addEventListener(a[1].toLowerCase(),s):r==="pBind"?this.setAttributes(e,s):(s=r==="class"?[...new Set(o("class",s))].join(" ").trim():r==="style"?o("style",s).join(";").trim():s,(e.$attrs=e.$attrs||{})&&(e.$attrs[r]=s),e.setAttribute(r,s))}})}}static isFocusableElement(e,t=""){return this.isElement(e)?e.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`):!1}}return i})();function gy(){B1({variableName:my("scrollbar.width").name})}function yp(){V1({variableName:my("scrollbar.width").name})}var jr=class{element;listener;scrollableParents;constructor(n,e=()=>{}){this.element=n,this.listener=e}bindScrollListener(){this.scrollableParents=st.getScrollableParents(this.element);for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var fr=(()=>{class i extends Xe{autofocus=!1;focused=!1;platformId=z(wr);document=z(Ci);host=z(Ei);onAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}onAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){At(this.platformId)&&this.autofocus&&setTimeout(()=>{let e=st.getFocusableElements(this.host?.nativeElement);e.length===0&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","pAutoFocus",""]],inputs:{autofocus:[0,"pAutoFocus","autofocus"]},features:[re]})}return i})(),K1=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var pe=(()=>{class i{el;renderer;pBind=qe(void 0);_attrs=lt(void 0);attrs=ct(()=>this._attrs()||this.pBind());styles=ct(()=>this.attrs()?.style);classes=ct(()=>Du(this.attrs()?.class));listeners=[];constructor(e,t){this.el=e,this.renderer=t,In(()=>{let a=this.attrs()||{},{style:o,class:r}=a,s=Xl(a,["style","class"]);for(let[l,c]of Object.entries(s))if(l.startsWith("on")&&typeof c=="function"){let d=l.slice(2).toLowerCase();if(!this.listeners.some(u=>u.eventName===d)){let u=this.renderer.listen(this.el.nativeElement,d,c);this.listeners.push({eventName:d,unlisten:u})}}else c==null?this.renderer.removeAttribute(this.el.nativeElement,l):(this.renderer.setAttribute(this.el.nativeElement,l,c.toString()),l in this.el.nativeElement&&(this.el.nativeElement[l]=c))})}ngOnDestroy(){this.clearListeners()}setAttrs(e){Kn(this._attrs(),e)||this._attrs.set(e)}clearListeners(){this.listeners.forEach(({unlisten:e})=>e()),this.listeners=[]}static \u0275fac=function(t){return new(t||i)(x(Ei),x(Wo))};static \u0275dir=ht({type:i,selectors:[["","pBind",""]],hostVars:4,hostBindings:function(t,o){t&2&&(De(o.styles()),j(o.classes()))},inputs:{pBind:[1,"pBind"]}})}return i})(),Pt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var R8=`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`;var zde=`
    ${R8}

    /* For PrimeNG (directive)*/
    .p-overlay-badge {
        position: relative;
    }

    .p-overlay-badge > .p-badge {
        position: absolute;
        top: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
    }
`,Wde={root:({instance:i})=>{let n=typeof i.value=="function"?i.value():i.value,e=typeof i.size=="function"?i.size():i.size,t=typeof i.badgeSize=="function"?i.badgeSize():i.badgeSize,o=typeof i.severity=="function"?i.severity():i.severity;return["p-badge p-component",{"p-badge-circle":qt(n)&&String(n).length===1,"p-badge-dot":jo(n),"p-badge-sm":e==="small"||t==="small","p-badge-lg":e==="large"||t==="large","p-badge-xl":e==="xlarge"||t==="xlarge","p-badge-info":o==="info","p-badge-success":o==="success","p-badge-warn":o==="warn","p-badge-danger":o==="danger","p-badge-secondary":o==="secondary","p-badge-contrast":o==="contrast"}]}},D8=(()=>{class i extends Ye{name="badge";style=zde;classes=Wde;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var P8=new he("BADGE_INSTANCE");var Ic=(()=>{class i extends Xe{$pcBadge=z(P8,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass=qe();badgeSize=qe();size=qe();severity=qe();value=qe();badgeDisabled=qe(!1,{transform:Z});_componentStyle=z(D8);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-badge"]],hostVars:4,hostBindings:function(t,o){t&2&&(j(o.cn(o.cx("root"),o.styleClass())),Kt("display",o.badgeDisabled()?"none":null))},inputs:{styleClass:[1,"styleClass"],badgeSize:[1,"badgeSize"],size:[1,"size"],severity:[1,"severity"],value:[1,"value"],badgeDisabled:[1,"badgeDisabled"]},features:[Se([D8,{provide:P8,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:1,vars:1,template:function(t,o){t&1&&R(0),t&2&&Q(o.value())},dependencies:[Qe,Oe,Pt],encapsulation:2,changeDetection:0})}return i})(),Bl=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Ic,Oe,Oe]})}return i})();var $de=["*"],Kde={root:"p-fluid"},A8=(()=>{class i extends Ye{name="fluid";classes=Kde;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var k8=new he("FLUID_INSTANCE"),al=(()=>{class i extends Xe{$pcFluid=z(k8,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=z(A8);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-fluid"]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("root"))},features:[Se([A8,{provide:k8,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:$de,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe],encapsulation:2,changeDetection:0})}return i})();var qde=["*"],Jde=`
.p-icon {
    display: inline-block;
    vertical-align: baseline;
    flex-shrink: 0;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,N8=(()=>{class i extends Ye{name="baseicon";css=Jde;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var zt=(()=>{class i extends Xe{spin=!1;_componentStyle=z(N8);getClassNames(){return Du("p-icon",{"p-icon-spin":this.spin})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["ng-component"]],hostAttrs:["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],hostVars:2,hostBindings:function(t,o){t&2&&j(o.getClassNames())},inputs:{spin:[2,"spin","spin",Z]},features:[Se([N8]),re],ngContentSelectors:qde,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},encapsulation:2,changeDetection:0})}return i})();var Qde=["data-p-icon","angle-double-left"],F8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-double-left"]],features:[re],attrs:Qde,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var Yde=["data-p-icon","angle-double-right"],L8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-double-right"]],features:[re],attrs:Yde,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var Xde=["data-p-icon","angle-down"],M8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-down"]],features:[re],attrs:Xde,decls:1,vars:0,consts:[["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var Zde=["data-p-icon","angle-left"],B8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-left"]],features:[re],attrs:Zde,decls:1,vars:0,consts:[["d","M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var epe=["data-p-icon","angle-right"],Hg=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-right"]],features:[re],attrs:epe,decls:1,vars:0,consts:[["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var tpe=["data-p-icon","angle-up"],V8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","angle-up"]],features:[re],attrs:tpe,decls:1,vars:0,consts:[["d","M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var ipe=["data-p-icon","arrow-down"],zg=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","arrow-down"]],features:[re],attrs:ipe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var npe=["data-p-icon","arrow-up"],Wg=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","arrow-up"]],features:[re],attrs:npe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var ope=["data-p-icon","blank"],J1=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","blank"]],features:[re],attrs:ope,decls:1,vars:0,consts:[["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(t,o){t&1&&(xe(),wt(0,"rect",0))},encapsulation:2})}return i})();var rpe=["data-p-icon","calendar"],U8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","calendar"]],features:[re],attrs:rpe,decls:1,vars:0,consts:[["d","M10.7838 1.51351H9.83783V0.567568C9.83783 0.417039 9.77804 0.272676 9.6716 0.166237C9.56516 0.0597971 9.42079 0 9.27027 0C9.11974 0 8.97538 0.0597971 8.86894 0.166237C8.7625 0.272676 8.7027 0.417039 8.7027 0.567568V1.51351H5.29729V0.567568C5.29729 0.417039 5.2375 0.272676 5.13106 0.166237C5.02462 0.0597971 4.88025 0 4.72973 0C4.5792 0 4.43484 0.0597971 4.3284 0.166237C4.22196 0.272676 4.16216 0.417039 4.16216 0.567568V1.51351H3.21621C2.66428 1.51351 2.13494 1.73277 1.74467 2.12305C1.35439 2.51333 1.13513 3.04266 1.13513 3.59459V11.9189C1.13513 12.4709 1.35439 13.0002 1.74467 13.3905C2.13494 13.7807 2.66428 14 3.21621 14H10.7838C11.3357 14 11.865 13.7807 12.2553 13.3905C12.6456 13.0002 12.8649 12.4709 12.8649 11.9189V3.59459C12.8649 3.04266 12.6456 2.51333 12.2553 2.12305C11.865 1.73277 11.3357 1.51351 10.7838 1.51351ZM3.21621 2.64865H4.16216V3.59459C4.16216 3.74512 4.22196 3.88949 4.3284 3.99593C4.43484 4.10237 4.5792 4.16216 4.72973 4.16216C4.88025 4.16216 5.02462 4.10237 5.13106 3.99593C5.2375 3.88949 5.29729 3.74512 5.29729 3.59459V2.64865H8.7027V3.59459C8.7027 3.74512 8.7625 3.88949 8.86894 3.99593C8.97538 4.10237 9.11974 4.16216 9.27027 4.16216C9.42079 4.16216 9.56516 4.10237 9.6716 3.99593C9.77804 3.88949 9.83783 3.74512 9.83783 3.59459V2.64865H10.7838C11.0347 2.64865 11.2753 2.74831 11.4527 2.92571C11.6301 3.10311 11.7297 3.34371 11.7297 3.59459V5.67568H2.27027V3.59459C2.27027 3.34371 2.36993 3.10311 2.54733 2.92571C2.72473 2.74831 2.96533 2.64865 3.21621 2.64865ZM10.7838 12.8649H3.21621C2.96533 12.8649 2.72473 12.7652 2.54733 12.5878C2.36993 12.4104 2.27027 12.1698 2.27027 11.9189V6.81081H11.7297V11.9189C11.7297 12.1698 11.6301 12.4104 11.4527 12.5878C11.2753 12.7652 11.0347 12.8649 10.7838 12.8649Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var spe=["data-p-icon","check"],gd=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","check"]],features:[re],attrs:spe,decls:1,vars:0,consts:[["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var ape=["data-p-icon","chevron-down"],ll=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","chevron-down"]],features:[re],attrs:ape,decls:1,vars:0,consts:[["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var lpe=["data-p-icon","chevron-left"],Q1=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","chevron-left"]],features:[re],attrs:lpe,decls:1,vars:0,consts:[["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var cpe=["data-p-icon","chevron-right"],vp=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","chevron-right"]],features:[re],attrs:cpe,decls:1,vars:0,consts:[["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var dpe=["data-p-icon","chevron-up"],j8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","chevron-up"]],features:[re],attrs:dpe,decls:1,vars:0,consts:[["d","M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var ppe=["data-p-icon","eye"],G8=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","eye"]],features:[re],attrs:ppe,decls:1,vars:0,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var upe=["data-p-icon","eyeslash"],H8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","eyeslash"]],features:[re],attrs:upe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var hpe=["data-p-icon","filter"],z8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","filter"]],features:[re],attrs:hpe,decls:5,vars:2,consts:[["d","M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var fpe=["data-p-icon","filter-slash"],W8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","filter-slash"]],features:[re],attrs:fpe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var mpe=["data-p-icon","minus"],$g=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","minus"]],features:[re],attrs:mpe,decls:1,vars:0,consts:[["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var gpe=["data-p-icon","plus"],ku=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","plus"]],features:[re],attrs:gpe,decls:5,vars:2,consts:[["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var _pe=["data-p-icon","search"],Nu=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","search"]],features:[re],attrs:_pe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var bpe=["data-p-icon","sort-alt"],_y=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","sort-alt"]],features:[re],attrs:bpe,decls:8,vars:2,consts:[["d","M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z","fill","currentColor"],["d","M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z","fill","currentColor"],["d","M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z","fill","currentColor"],["d","M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0)(2,"path",1)(3,"path",2)(4,"path",3),gi(),mi(5,"defs")(6,"clipPath",4),wt(7,"rect",5),gi()()),t&2&&(ce("clip-path",o.pathId),p(6),Xi("id",o.pathId))},encapsulation:2})}return i})();var ype=["data-p-icon","sort-amount-down"],by=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","sort-amount-down"]],features:[re],attrs:ype,decls:5,vars:2,consts:[["d","M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var vpe=["data-p-icon","sort-amount-up-alt"],yy=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","sort-amount-up-alt"]],features:[re],attrs:vpe,decls:5,vars:2,consts:[["d","M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var wpe=["data-p-icon","spinner"],cl=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","spinner"]],features:[re],attrs:wpe,decls:5,vars:2,consts:[["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var Cpe=["data-p-icon","times"],ks=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","times"]],features:[re],attrs:Cpe,decls:1,vars:0,consts:[["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var Spe=["data-p-icon","times-circle"],$8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","times-circle"]],features:[re],attrs:Spe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var Ipe=["data-p-icon","trash"],K8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","trash"]],features:[re],attrs:Ipe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var Epe=["data-p-icon","upload"],q8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","upload"]],features:[re],attrs:Epe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var xpe=["data-p-icon","window-maximize"],J8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","window-maximize"]],features:[re],attrs:xpe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var Tpe=["data-p-icon","window-minimize"],Q8=(()=>{class i extends zt{pathId;onInit(){this.pathId="url(#"+Vt()+")"}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","window-minimize"]],features:[re],attrs:Tpe,decls:5,vars:2,consts:[["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,o){t&1&&(xe(),mi(0,"g"),wt(1,"path",0),gi(),mi(2,"defs")(3,"clipPath",1),wt(4,"rect",2),gi()()),t&2&&(ce("clip-path",o.pathId),p(3),Xi("id",o.pathId))},encapsulation:2})}return i})();var Y8=`
    .p-ink {
        display: block;
        position: absolute;
        background: dt('ripple.background');
        border-radius: 100%;
        transform: scale(0);
        pointer-events: none;
    }

    .p-ink-active {
        animation: ripple 0.4s linear;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`;var Ope=`
    ${Y8}

    /* For PrimeNG */
    .p-ripple {
        overflow: hidden;
        position: relative;
    }

    .p-ripple-disabled .p-ink {
        display: none !important;
    }

    @keyframes ripple {
        100% {
            opacity: 0;
            transform: scale(2.5);
        }
    }
`,Rpe={root:"p-ink"},X8=(()=>{class i extends Ye{name="ripple";style=Ope;classes=Rpe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var oo=(()=>{class i extends Xe{zone=z(Ft);_componentStyle=z(X8);animationListener;mouseDownListener;timeout;constructor(){super(),In(()=>{At(this.platformId)&&(this.config.ripple()?this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))}):this.remove())})}onAfterViewInit(){}onMouseDown(e){let t=this.getInk();if(!t||this.document.defaultView?.getComputedStyle(t,null).display==="none")return;if(hr(t,"p-ink-active"),!ud(t)&&!ba(t)){let a=Math.max(Dn(this.el.nativeElement),vs(this.el.nativeElement));t.style.height=a+"px",t.style.width=a+"px"}let o=ta(this.el.nativeElement),r=e.pageX-o.left+this.document.body.scrollTop-ba(t)/2,s=e.pageY-o.top+this.document.body.scrollLeft-ud(t)/2;this.renderer.setStyle(t,"top",s+"px"),this.renderer.setStyle(t,"left",r+"px"),fo(t,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&hr(a,"p-ink-active")},401)}getInk(){let e=this.el.nativeElement.children;for(let t=0;t<e.length;t++)if(typeof e[t].className=="string"&&e[t].className.indexOf("p-ink")!==-1)return e[t];return null}resetInk(){let e=this.getInk();e&&hr(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),hr(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,i8(e))}onDestroy(){this.config&&this.config.ripple()&&this.remove()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple"],features:[Se([X8]),re]})}return i})(),Z8=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var t9=`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-icon-only::after {
        content: "\0A0";
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;var Dpe=["content"],Ppe=["loadingicon"],Ape=["icon"],kpe=["*"],l9=(i,n)=>({class:i,pt:n});function Npe(i,n){i&1&&ve(0)}function Fpe(i,n){if(i&1&&N(0,"span",7),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),"pi-spin",e.loadingIcon)),f("pBind",e.ptm("loadingIcon")),ce("aria-hidden",!0)}}function Lpe(i,n){if(i&1&&(xe(),N(0,"svg",8)),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),e.spinnerIconClass())),f("pBind",e.ptm("loadingIcon"))("spin",!0),ce("aria-hidden",!0)}}function Mpe(i,n){if(i&1&&(we(0),E(1,Fpe,1,4,"span",3)(2,Lpe,1,5,"svg",6),Ce()),i&2){let e=h(2);p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function Bpe(i,n){}function Vpe(i,n){if(i&1&&E(0,Bpe,0,0,"ng-template",9),i&2){let e=h(2);f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function Upe(i,n){if(i&1&&(we(0),E(1,Mpe,3,2,"ng-container",2)(2,Vpe,1,1,null,5),Ce()),i&2){let e=h();p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)("ngTemplateOutletContext",Ct(3,l9,e.cx("loadingIcon"),e.ptm("loadingIcon")))}}function jpe(i,n){if(i&1&&N(0,"span",7),i&2){let e=h(2);j(e.cn("icon",e.iconClass())),f("pBind",e.ptm("icon"))}}function Gpe(i,n){}function Hpe(i,n){if(i&1&&E(0,Gpe,0,0,"ng-template",9),i&2){let e=h(2);f("ngIf",!e.icon&&(e.iconTemplate||e._iconTemplate))}}function zpe(i,n){if(i&1&&(we(0),E(1,jpe,1,3,"span",3)(2,Hpe,1,1,null,5),Ce()),i&2){let e=h();p(),f("ngIf",e.icon&&!e.iconTemplate&&!e._iconTemplate),p(),f("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",Ct(3,l9,e.cx("icon"),e.ptm("icon")))}}function Wpe(i,n){if(i&1&&(_(0,"span",7),R(1),b()),i&2){let e=h();j(e.cx("label")),f("pBind",e.ptm("label")),ce("aria-hidden",e.icon&&!e.label),p(),Q(e.label)}}function $pe(i,n){if(i&1&&N(0,"p-badge",10),i&2){let e=h();f("value",e.badge)("severity",e.badgeSeverity)("pt",e.ptm("pcBadge"))}}var Kpe={root:({instance:i})=>["p-button p-component",{"p-button-icon-only":(i.icon||i.buttonProps?.icon||i.iconTemplate||i._iconTemplate||i.loadingIcon||i.loadingIconTemplate||i._loadingIconTemplate)&&!i.label&&!i.buttonProps?.label,"p-button-vertical":(i.iconPos==="top"||i.iconPos==="bottom")&&i.label,"p-button-loading":i.loading||i.buttonProps?.loading,"p-button-link":i.link||i.buttonProps?.link,[`p-button-${i.severity||i.buttonProps?.severity}`]:i.severity||i.buttonProps?.severity,"p-button-raised":i.raised||i.buttonProps?.raised,"p-button-rounded":i.rounded||i.buttonProps?.rounded,"p-button-text":i.text||i.variant==="text"||i.buttonProps?.text||i.buttonProps?.variant==="text","p-button-outlined":i.outlined||i.variant==="outlined"||i.buttonProps?.outlined||i.buttonProps?.variant==="outlined","p-button-sm":i.size==="small"||i.buttonProps?.size==="small","p-button-lg":i.size==="large"||i.buttonProps?.size==="large","p-button-plain":i.plain||i.buttonProps?.plain,"p-button-fluid":i.hasFluid}],loadingIcon:"p-button-loading-icon",icon:({instance:i})=>["p-button-icon",{[`p-button-icon-${i.iconPos||i.buttonProps?.iconPos}`]:i.label||i.buttonProps?.label,"p-button-icon-left":(i.iconPos==="left"||i.buttonProps?.iconPos==="left")&&i.label||i.buttonProps?.label,"p-button-icon-right":(i.iconPos==="right"||i.buttonProps?.iconPos==="right")&&i.label||i.buttonProps?.label},i.icon,i.buttonProps?.icon],spinnerIcon:({instance:i})=>Object.entries(i.iconClass()).filter(([,n])=>!!n).reduce((n,[e])=>n+` ${e}`,"p-button-loading-icon"),label:"p-button-label"},Kg=(()=>{class i extends Ye{name="button";style=t9;classes=Kpe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var i9=new he("BUTTON_INSTANCE"),n9=new he("BUTTON_DIRECTIVE_INSTANCE"),o9=new he("BUTTON_LABEL_INSTANCE"),r9=new he("BUTTON_ICON_INSTANCE"),Fu={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},s9=(()=>{class i extends Xe{ptButtonLabel=qe();$pcButtonLabel=z(o9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});constructor(){super(),In(()=>{this.ptButtonLabel()&&this.directivePT.set(this.ptButtonLabel())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","pButtonLabel",""]],hostVars:2,hostBindings:function(t,o){t&2&&Lr("p-button-label",!0)},inputs:{ptButtonLabel:[1,"ptButtonLabel"]},features:[Se([Kg,{provide:o9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})(),a9=(()=>{class i extends Xe{ptButtonIcon=qe();$pcButtonIcon=z(r9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});constructor(){super(),In(()=>{this.ptButtonIcon()&&this.directivePT.set(this.ptButtonIcon())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","pButtonIcon",""]],hostVars:2,hostBindings:function(t,o){t&2&&Lr("p-button-icon",!0)},inputs:{ptButtonIcon:[1,"ptButtonIcon"]},features:[Se([Kg,{provide:r9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})(),Ff=(()=>{class i extends Xe{$pcButtonDirective=z(n9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});_componentStyle=z(Kg);ptButtonDirective=qe();hostName="";onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}constructor(){super(),In(()=>{this.ptButtonDirective()&&this.directivePT.set(this.ptButtonDirective())})}text=!1;plain=!1;raised=!1;size;outlined=!1;rounded=!1;iconPos="left";loadingIcon;fluid=qe(void 0,{transform:Z});iconSignal=Ab(a9);labelSignal=Ab(s9);isIconOnly=ct(()=>!!(!this.labelSignal()&&this.iconSignal()));_label;_icon;_loading=!1;_severity;_buttonProps;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Fu);pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});isTextButton=ct(()=>!!(!this.iconSignal()&&this.labelSignal()&&this.text));get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get buttonProps(){return this._buttonProps}set buttonProps(e){this._buttonProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([t,o])=>this[`_${t}`]!==o&&(this[`_${t}`]=o))}get severity(){return this._severity}set severity(e){this._severity=e,this.initialized&&this.setStyleClass()}spinnerIcon=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">
        <g clip-path="url(#clip0_417_21408)">
            <path
                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"
                fill="currentColor"
            />
        </g>
        <defs>
            <clipPath id="clip0_417_21408">
                <rect width="14" height="14" fill="white" />
            </clipPath>
        </defs>
    </svg>`;onAfterViewInit(){fo(this.htmlElement,this.getStyleClass().join(" ")),At(this.platformId)&&(this.createIcon(),this.createLabel(),this.initialized=!0)}getStyleClass(){let e=[Fu.button,Fu.component];return this.icon&&!this.label&&jo(this.htmlElement.textContent)&&e.push(Fu.iconOnly),this.loading&&(e.push(Fu.disabled,Fu.loading),!this.icon&&this.label&&e.push(Fu.labelOnly),this.icon&&!this.label&&!jo(this.htmlElement.textContent)&&e.push(Fu.iconOnly)),this.text&&e.push("p-button-text"),this.severity&&e.push(`p-button-${this.severity}`),this.plain&&e.push("p-button-plain"),this.raised&&e.push("p-button-raised"),this.size&&e.push(`p-button-${this.size}`),this.outlined&&e.push("p-button-outlined"),this.rounded&&e.push("p-button-rounded"),this.size==="small"&&e.push("p-button-sm"),this.size==="large"&&e.push("p-button-lg"),this.hasFluid&&e.push("p-button-fluid"),e}get hasFluid(){return this.fluid()??!!this.pcFluid}setStyleClass(){let e=this.getStyleClass();this.removeExistingSeverityClass(),this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}removeExistingSeverityClass(){let e=["success","info","warn","danger","help","primary","secondary","contrast"],t=this.htmlElement.classList.value.split(" ").find(o=>e.some(r=>o===`p-button-${r}`));t&&this.htmlElement.classList.remove(t)}createLabel(){if(!Et(this.htmlElement,".p-button-label")&&this.label){let t=pd("span",{class:this.cx("label"),"p-bind":this.ptm("label"),"aria-hidden":this.icon&&!this.label?"true":null});t.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(!Et(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let t=this.label?"p-button-icon-"+this.iconPos:null,o=this.getIconClass(),r=pd("span",{class:this.cn(this.cx("icon"),t,o),"aria-hidden":"true","p-bind":this.ptm("icon")});!this.loadingIcon&&this.loading&&(r.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(r,this.htmlElement.firstChild)}}updateLabel(){let e=Et(this.htmlElement,".p-button-label");if(!this.label){e&&this.htmlElement.removeChild(e);return}e?e.textContent=this.label:this.createLabel()}updateIcon(){let e=Et(this.htmlElement,".p-button-icon"),t=Et(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?this.iconPos?e.className="p-button-icon "+(t?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():e.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}onDestroy(){this.initialized=!1}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","pButton",""]],contentQueries:function(t,o,r){t&1&&(_g(r,o.iconSignal,a9,5),_g(r,o.labelSignal,s9,5)),t&2&&Rb(2)},hostVars:4,hostBindings:function(t,o){t&2&&Lr("p-button-icon-only",o.isIconOnly())("p-button-text",o.isTextButton())},inputs:{ptButtonDirective:[1,"ptButtonDirective"],hostName:"hostName",text:[2,"text","text",Z],plain:[2,"plain","plain",Z],raised:[2,"raised","raised",Z],size:"size",outlined:[2,"outlined","outlined",Z],rounded:[2,"rounded","rounded",Z],iconPos:"iconPos",loadingIcon:"loadingIcon",fluid:[1,"fluid"],label:"label",icon:"icon",loading:"loading",buttonProps:"buttonProps",severity:"severity"},features:[Se([Kg,{provide:n9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})(),bt=(()=>{class i extends Xe{hostName="";$pcButton=z(i9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});_componentStyle=z(Kg);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}type="button";badge;disabled;raised=!1;rounded=!1;text=!1;plain=!1;outlined=!1;link=!1;tabindex;size;variant;style;styleClass;badgeClass;badgeSeverity="secondary";ariaLabel;autofocus;iconPos="left";icon;label;loading=!1;loadingIcon;severity;buttonProps;fluid=qe(void 0,{transform:Z});onClick=new te;onFocus=new te;onBlur=new te;contentTemplate;loadingIconTemplate;iconTemplate;templates;pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}_contentTemplate;_iconTemplate;_loadingIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,e])=>!!e).reduce((e,[t])=>e+` ${t}`,"p-button-loading-icon")}iconClass(){return{[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]:this.loading,"p-button-icon":!0,[this.icon]:!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-button"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Dpe,5),se(r,Ppe,5),se(r,Ape,5),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.loadingIconTemplate=s.first),W(s=$())&&(o.iconTemplate=s.first),W(s=$())&&(o.templates=s)}},inputs:{hostName:"hostName",type:"type",badge:"badge",disabled:[2,"disabled","disabled",Z],raised:[2,"raised","raised",Z],rounded:[2,"rounded","rounded",Z],text:[2,"text","text",Z],plain:[2,"plain","plain",Z],outlined:[2,"outlined","outlined",Z],link:[2,"link","link",Z],tabindex:[2,"tabindex","tabindex",Je],size:"size",variant:"variant",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",badgeSeverity:"badgeSeverity",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Z],iconPos:"iconPos",icon:"icon",label:"label",loading:[2,"loading","loading",Z],loadingIcon:"loadingIcon",severity:"severity",buttonProps:"buttonProps",fluid:[1,"fluid"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Se([Kg,{provide:i9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:kpe,decls:7,vars:14,consts:[["pRipple","",3,"click","focus","blur","ngStyle","disabled","pAutoFocus","pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"value","severity","pt",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","spinner",3,"class","pBind","spin",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"pBind","spin"],[3,"ngIf"],[3,"value","severity","pt"]],template:function(t,o){t&1&&(ci(),_(0,"button",0),A("click",function(s){return o.onClick.emit(s)})("focus",function(s){return o.onFocus.emit(s)})("blur",function(s){return o.onBlur.emit(s)}),Ht(1),E(2,Npe,1,0,"ng-container",1)(3,Upe,3,6,"ng-container",2)(4,zpe,3,6,"ng-container",2)(5,Wpe,2,5,"span",3)(6,$pe,1,3,"p-badge",4),b()),t&2&&(j(o.cn(o.cx("root"),o.styleClass,o.buttonProps==null?null:o.buttonProps.styleClass)),f("ngStyle",o.style||(o.buttonProps==null?null:o.buttonProps.style))("disabled",o.disabled||o.loading||(o.buttonProps==null?null:o.buttonProps.disabled))("pAutoFocus",o.autofocus||(o.buttonProps==null?null:o.buttonProps.autofocus))("pBind",o.ptm("root")),ce("type",o.type||(o.buttonProps==null?null:o.buttonProps.type))("aria-label",o.ariaLabel||(o.buttonProps==null?null:o.buttonProps.ariaLabel))("tabindex",o.tabindex||(o.buttonProps==null?null:o.buttonProps.tabindex)),p(2),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),p(),f("ngIf",o.loading),p(),f("ngIf",!o.loading),p(),f("ngIf",!o.contentTemplate&&!o._contentTemplate&&o.label),p(),f("ngIf",!o.contentTemplate&&!o._contentTemplate&&o.badge))},dependencies:[Qe,pt,gt,ft,oo,fr,cl,Bl,Ic,Oe,pe],encapsulation:2,changeDetection:0})}return i})(),Lf=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Qe,bt,Oe,Oe]})}return i})();var dl=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(dl||{}),qpe="*";function vn(i,n){return{type:dl.Trigger,name:i,definitions:n,options:{}}}function hi(i,n=null){return{type:dl.Animate,styles:n,timings:i}}function B2t(i,n=null){return{type:dl.Sequence,steps:i,options:n}}function Yt(i){return{type:dl.Style,styles:i,offset:null}}function nr(i,n,e){return{type:dl.State,name:i,styles:n,options:e}}function li(i,n,e=null){return{type:dl.Transition,expr:i,animation:n,options:e}}function _d(i,n=null){return{type:dl.Reference,animation:i,options:n}}function Jpe(i=null){return{type:dl.AnimateChild,options:i}}function bd(i,n=null){return{type:dl.AnimateRef,animation:i,options:n}}function WA(i,n,e=null){return{type:dl.Query,selector:i,animation:n,options:e}}function $A(i,n){return{type:dl.Stagger,timings:i,animation:n}}var HA=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,e=0){this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},zA=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let e=0,t=0,o=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==r&&this._onFinish()}),s.onDestroy(()=>{++t==r&&this._onDestroy()}),s.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(t=>{let o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){let n=this.players.reduce((e,t)=>e===null||t.totalTime>e.totalTime?t:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}},Qpe="!";var c9=`
    .p-message {
        border-radius: dt('message.border.radius');
        outline-width: dt('message.border.width');
        outline-style: solid;
    }

    .p-message-content {
        display: flex;
        align-items: center;
        padding: dt('message.content.padding');
        gap: dt('message.content.gap');
        height: 100%;
    }

    .p-message-icon {
        flex-shrink: 0;
    }

    .p-message-close-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        margin-inline-start: auto;
        overflow: hidden;
        position: relative;
        width: dt('message.close.button.width');
        height: dt('message.close.button.height');
        border-radius: dt('message.close.button.border.radius');
        background: transparent;
        transition:
            background dt('message.transition.duration'),
            color dt('message.transition.duration'),
            outline-color dt('message.transition.duration'),
            box-shadow dt('message.transition.duration'),
            opacity 0.3s;
        outline-color: transparent;
        color: inherit;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-message-close-icon {
        font-size: dt('message.close.icon.size');
        width: dt('message.close.icon.size');
        height: dt('message.close.icon.size');
    }

    .p-message-close-button:focus-visible {
        outline-width: dt('message.close.button.focus.ring.width');
        outline-style: dt('message.close.button.focus.ring.style');
        outline-offset: dt('message.close.button.focus.ring.offset');
    }

    .p-message-info {
        background: dt('message.info.background');
        outline-color: dt('message.info.border.color');
        color: dt('message.info.color');
        box-shadow: dt('message.info.shadow');
    }

    .p-message-info .p-message-close-button:focus-visible {
        outline-color: dt('message.info.close.button.focus.ring.color');
        box-shadow: dt('message.info.close.button.focus.ring.shadow');
    }

    .p-message-info .p-message-close-button:hover {
        background: dt('message.info.close.button.hover.background');
    }

    .p-message-info.p-message-outlined {
        color: dt('message.info.outlined.color');
        outline-color: dt('message.info.outlined.border.color');
    }

    .p-message-info.p-message-simple {
        color: dt('message.info.simple.color');
    }

    .p-message-success {
        background: dt('message.success.background');
        outline-color: dt('message.success.border.color');
        color: dt('message.success.color');
        box-shadow: dt('message.success.shadow');
    }

    .p-message-success .p-message-close-button:focus-visible {
        outline-color: dt('message.success.close.button.focus.ring.color');
        box-shadow: dt('message.success.close.button.focus.ring.shadow');
    }

    .p-message-success .p-message-close-button:hover {
        background: dt('message.success.close.button.hover.background');
    }

    .p-message-success.p-message-outlined {
        color: dt('message.success.outlined.color');
        outline-color: dt('message.success.outlined.border.color');
    }

    .p-message-success.p-message-simple {
        color: dt('message.success.simple.color');
    }

    .p-message-warn {
        background: dt('message.warn.background');
        outline-color: dt('message.warn.border.color');
        color: dt('message.warn.color');
        box-shadow: dt('message.warn.shadow');
    }

    .p-message-warn .p-message-close-button:focus-visible {
        outline-color: dt('message.warn.close.button.focus.ring.color');
        box-shadow: dt('message.warn.close.button.focus.ring.shadow');
    }

    .p-message-warn .p-message-close-button:hover {
        background: dt('message.warn.close.button.hover.background');
    }

    .p-message-warn.p-message-outlined {
        color: dt('message.warn.outlined.color');
        outline-color: dt('message.warn.outlined.border.color');
    }

    .p-message-warn.p-message-simple {
        color: dt('message.warn.simple.color');
    }

    .p-message-error {
        background: dt('message.error.background');
        outline-color: dt('message.error.border.color');
        color: dt('message.error.color');
        box-shadow: dt('message.error.shadow');
    }

    .p-message-error .p-message-close-button:focus-visible {
        outline-color: dt('message.error.close.button.focus.ring.color');
        box-shadow: dt('message.error.close.button.focus.ring.shadow');
    }

    .p-message-error .p-message-close-button:hover {
        background: dt('message.error.close.button.hover.background');
    }

    .p-message-error.p-message-outlined {
        color: dt('message.error.outlined.color');
        outline-color: dt('message.error.outlined.border.color');
    }

    .p-message-error.p-message-simple {
        color: dt('message.error.simple.color');
    }

    .p-message-secondary {
        background: dt('message.secondary.background');
        outline-color: dt('message.secondary.border.color');
        color: dt('message.secondary.color');
        box-shadow: dt('message.secondary.shadow');
    }

    .p-message-secondary .p-message-close-button:focus-visible {
        outline-color: dt('message.secondary.close.button.focus.ring.color');
        box-shadow: dt('message.secondary.close.button.focus.ring.shadow');
    }

    .p-message-secondary .p-message-close-button:hover {
        background: dt('message.secondary.close.button.hover.background');
    }

    .p-message-secondary.p-message-outlined {
        color: dt('message.secondary.outlined.color');
        outline-color: dt('message.secondary.outlined.border.color');
    }

    .p-message-secondary.p-message-simple {
        color: dt('message.secondary.simple.color');
    }

    .p-message-contrast {
        background: dt('message.contrast.background');
        outline-color: dt('message.contrast.border.color');
        color: dt('message.contrast.color');
        box-shadow: dt('message.contrast.shadow');
    }

    .p-message-contrast .p-message-close-button:focus-visible {
        outline-color: dt('message.contrast.close.button.focus.ring.color');
        box-shadow: dt('message.contrast.close.button.focus.ring.shadow');
    }

    .p-message-contrast .p-message-close-button:hover {
        background: dt('message.contrast.close.button.hover.background');
    }

    .p-message-contrast.p-message-outlined {
        color: dt('message.contrast.outlined.color');
        outline-color: dt('message.contrast.outlined.border.color');
    }

    .p-message-contrast.p-message-simple {
        color: dt('message.contrast.simple.color');
    }

    .p-message-text {
        font-size: dt('message.text.font.size');
        font-weight: dt('message.text.font.weight');
    }

    .p-message-icon {
        font-size: dt('message.icon.size');
        width: dt('message.icon.size');
        height: dt('message.icon.size');
    }

    .p-message-enter-from {
        opacity: 0;
    }

    .p-message-enter-active {
        transition: opacity 0.3s;
    }

    .p-message.p-message-leave-from {
        max-height: 1000px;
    }

    .p-message.p-message-leave-to {
        max-height: 0;
        opacity: 0;
        margin: 0;
    }

    .p-message-leave-active {
        overflow: hidden;
        transition:
            max-height 0.45s cubic-bezier(0, 1, 0, 1),
            opacity 0.3s,
            margin 0.3s;
    }

    .p-message-leave-active .p-message-close-button {
        opacity: 0;
    }

    .p-message-sm .p-message-content {
        padding: dt('message.content.sm.padding');
    }

    .p-message-sm .p-message-text {
        font-size: dt('message.text.sm.font.size');
    }

    .p-message-sm .p-message-icon {
        font-size: dt('message.icon.sm.size');
        width: dt('message.icon.sm.size');
        height: dt('message.icon.sm.size');
    }

    .p-message-sm .p-message-close-icon {
        font-size: dt('message.close.icon.sm.size');
        width: dt('message.close.icon.sm.size');
        height: dt('message.close.icon.sm.size');
    }

    .p-message-lg .p-message-content {
        padding: dt('message.content.lg.padding');
    }

    .p-message-lg .p-message-text {
        font-size: dt('message.text.lg.font.size');
    }

    .p-message-lg .p-message-icon {
        font-size: dt('message.icon.lg.size');
        width: dt('message.icon.lg.size');
        height: dt('message.icon.lg.size');
    }

    .p-message-lg .p-message-close-icon {
        font-size: dt('message.close.icon.lg.size');
        width: dt('message.close.icon.lg.size');
        height: dt('message.close.icon.lg.size');
    }

    .p-message-outlined {
        background: transparent;
        outline-width: dt('message.outlined.border.width');
    }

    .p-message-simple {
        background: transparent;
        outline-color: transparent;
        box-shadow: none;
    }

    .p-message-simple .p-message-content {
        padding: dt('message.simple.content.padding');
    }

    .p-message-outlined .p-message-close-button:hover,
    .p-message-simple .p-message-close-button:hover {
        background: transparent;
    }
`;var Ype=["container"],Xpe=["icon"],Zpe=["closeicon"],eue=["*"],tue=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),iue=i=>({value:"visible()",params:i}),nue=i=>({closeCallback:i});function oue(i,n){i&1&&ve(0)}function rue(i,n){if(i&1&&E(0,oue,1,0,"ng-container",4),i&2){let e=h(2);f("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}function sue(i,n){if(i&1&&N(0,"i",2),i&2){let e=h(2);j(e.cn(e.cx("icon"),e.icon)),f("pBind",e.ptm("icon"))}}function aue(i,n){i&1&&ve(0)}function lue(i,n){if(i&1&&E(0,aue,1,0,"ng-container",5),i&2){let e=h(2);f("ngTemplateOutlet",e.containerTemplate||e._containerTemplate)("ngTemplateOutletContext",de(2,nue,e.closeCallback))}}function cue(i,n){if(i&1&&N(0,"span",9),i&2){let e=h(4);f("pBind",e.ptm("text"))("ngClass",e.cx("text"))("innerHTML",e.text,on)}}function due(i,n){if(i&1&&(_(0,"div"),E(1,cue,1,3,"span",8),b()),i&2){let e=h(3);p(),f("ngIf",!e.escape)}}function pue(i,n){if(i&1&&(_(0,"span",7),R(1),b()),i&2){let e=h(4);f("pBind",e.ptm("text"))("ngClass",e.cx("text")),p(),Q(e.text)}}function uue(i,n){if(i&1&&E(0,pue,2,3,"span",10),i&2){let e=h(3);f("ngIf",e.escape&&e.text)}}function hue(i,n){if(i&1&&(E(0,due,2,1,"div",6)(1,uue,1,1,"ng-template",null,0,ie),_(3,"span",7),Ht(4),b()),i&2){let e=Ze(2),t=h(2);f("ngIf",!t.escape)("ngIfElse",e),p(3),f("pBind",t.ptm("text"))("ngClass",t.cx("text"))}}function fue(i,n){if(i&1&&N(0,"i",7),i&2){let e=h(3);j(e.cn(e.cx("closeIcon"),e.closeIcon)),f("pBind",e.ptm("closeIcon"))("ngClass",e.closeIcon)}}function mue(i,n){i&1&&ve(0)}function gue(i,n){if(i&1&&E(0,mue,1,0,"ng-container",4),i&2){let e=h(3);f("ngTemplateOutlet",e.closeIconTemplate||e._closeIconTemplate)}}function _ue(i,n){if(i&1&&(xe(),N(0,"svg",14)),i&2){let e=h(3);j(e.cx("closeIcon")),f("pBind",e.ptm("closeIcon"))}}function bue(i,n){if(i&1){let e=B();_(0,"button",11),A("click",function(o){w(e);let r=h(2);return C(r.close(o))}),G(1,fue,1,4,"i",12),G(2,gue,1,1,"ng-container"),G(3,_ue,1,3,":svg:svg",13),b()}if(i&2){let e=h(2);j(e.cx("closeButton")),f("pBind",e.ptm("closeButton")),ce("aria-label",e.closeAriaLabel),p(),H(e.closeIcon?1:-1),p(),H(e.closeIconTemplate||e._closeIconTemplate?2:-1),p(),H(!e.closeIconTemplate&&!e._closeIconTemplate&&!e.closeIcon?3:-1)}}function yue(i,n){if(i&1&&(_(0,"div",2)(1,"div",2),G(2,rue,1,1,"ng-container"),G(3,sue,1,3,"i",1),G(4,lue,1,4,"ng-container")(5,hue,5,4),G(6,bue,4,7,"button",3),b()()),i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("pBind",e.ptm("root"))("@messageAnimation",de(16,iue,Ct(13,tue,e.showTransitionOptions,e.hideTransitionOptions))),ce("aria-live","polite")("role","alert"),p(),j(e.cx("content")),f("pBind",e.ptm("content")),p(),H(e.iconTemplate||e._iconTemplate?2:-1),p(),H(e.icon?3:-1),p(),H(e.containerTemplate||e._containerTemplate?4:5),p(2),H(e.closable?6:-1)}}var vue={root:({instance:i})=>["p-message p-component p-message-"+i.severity,"p-message-"+i.variant,{"p-message-sm":i.size==="small","p-message-lg":i.size==="large"}],content:"p-message-content",icon:"p-message-icon",text:"p-message-text",closeButton:"p-message-close-button",closeIcon:"p-message-close-icon"},d9=(()=>{class i extends Ye{name="message";style=c9;classes=vue;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var p9=new he("MESSAGE_INSTANCE"),wp=(()=>{class i extends Xe{_componentStyle=z(d9);bindDirectiveInstance=z(pe,{self:!0});$pcMessage=z(p9,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}severity="info";text;escape=!0;style;styleClass;closable=!1;icon;closeIcon;life;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";size;variant;onClose=new te;get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}visible=lt(!0);containerTemplate;iconTemplate;closeIconTemplate;templates;_containerTemplate;_iconTemplate;_closeIconTemplate;closeCallback=e=>{this.close(e)};onInit(){this.life&&setTimeout(()=>{this.visible.set(!1)},this.life)}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"container":this._containerTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"closeicon":this._closeIconTemplate=e.template;break}})}close(e){this.visible.set(!1),this.onClose.emit({originalEvent:e})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-message"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Ype,4),se(r,Xpe,4),se(r,Zpe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.containerTemplate=s.first),W(s=$())&&(o.iconTemplate=s.first),W(s=$())&&(o.closeIconTemplate=s.first),W(s=$())&&(o.templates=s)}},inputs:{severity:"severity",text:"text",escape:[2,"escape","escape",Z],style:"style",styleClass:"styleClass",closable:[2,"closable","closable",Z],icon:"icon",closeIcon:"closeIcon",life:"life",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",size:"size",variant:"variant"},outputs:{onClose:"onClose"},features:[Se([d9,{provide:p9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:eue,decls:1,vars:1,consts:[["escapeOut",""],[3,"pBind","class"],[3,"pBind"],["pRipple","","type","button",3,"pBind","class"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"pBind","ngClass"],[3,"pBind","ngClass","innerHTML",4,"ngIf"],[3,"pBind","ngClass","innerHTML"],[3,"pBind","ngClass",4,"ngIf"],["pRipple","","type","button",3,"click","pBind"],[3,"pBind","class","ngClass"],["data-p-icon","times",3,"pBind","class"],["data-p-icon","times",3,"pBind"]],template:function(t,o){t&1&&(ci(),G(0,yue,7,18,"div",1)),t&2&&H(o.visible()?0:-1)},dependencies:[Qe,$t,pt,gt,ks,oo,Oe,pe],encapsulation:2,data:{animation:[vn("messageAnimation",[li(":enter",[Yt({opacity:0,transform:"translateY(-25%)"}),hi("{{showTransitionParams}}")]),li(":leave",[hi("{{hideTransitionParams}}",Yt({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return i})(),Y1=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[wp,Oe,Oe]})}return i})();var u9=`
    .p-progressspinner {
        position: relative;
        margin: 0 auto;
        width: 100px;
        height: 100px;
        display: inline-block;
    }

    .p-progressspinner::before {
        content: '';
        display: block;
        padding-top: 100%;
    }

    .p-progressspinner-spin {
        height: 100%;
        transform-origin: center center;
        width: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        animation: p-progressspinner-rotate 2s linear infinite;
    }

    .p-progressspinner-circle {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: 0;
        stroke: dt('progressspinner.colorOne');
        animation:
            p-progressspinner-dash 1.5s ease-in-out infinite,
            p-progressspinner-color 6s ease-in-out infinite;
        stroke-linecap: round;
    }

    @keyframes p-progressspinner-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    @keyframes p-progressspinner-dash {
        0% {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -35px;
        }
        100% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -124px;
        }
    }
    @keyframes p-progressspinner-color {
        100%,
        0% {
            stroke: dt('progressspinner.color.one');
        }
        40% {
            stroke: dt('progressspinner.color.two');
        }
        66% {
            stroke: dt('progressspinner.color.three');
        }
        80%,
        90% {
            stroke: dt('progressspinner.color.four');
        }
    }
`;var wue={root:()=>["p-progressspinner"],spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},h9=(()=>{class i extends Ye{name="progressspinner";style=u9;classes=wue;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var f9=new he("PROGRESSSPINNER_INSTANCE"),lo=(()=>{class i extends Xe{$pcProgressSpinner=z(f9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});styleClass;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=z(h9);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],hostVars:5,hostBindings:function(t,o){t&2&&(ce("aria-label",o.ariaLabel)("role","progressbar")("aria-busy",!0),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},features:[Se([h9,{provide:f9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:2,vars:10,consts:[["viewBox","25 25 50 50",3,"pBind"],["cx","50","cy","50","r","20","stroke-miterlimit","10",3,"pBind"]],template:function(t,o){t&1&&(xe(),_(0,"svg",0),N(1,"circle",1),b()),t&2&&(j(o.cx("spin")),Kt("animation-duration",o.animationDuration),f("pBind",o.ptm("spin")),p(),j(o.cx("circle")),f("pBind",o.ptm("circle")),ce("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[Qe,Oe,pe],encapsulation:2,changeDetection:0})}return i})(),qA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[lo,Oe,Oe]})}return i})();var qg=(()=>{class i extends Xe{modelValue=lt(void 0);$filled=ct(()=>qt(this.modelValue()));writeModelValue(e){this.modelValue.set(e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,features:[re]})}return i})();var m9=`
    .p-inputtext {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('inputtext.color');
        background: dt('inputtext.background');
        padding-block: dt('inputtext.padding.y');
        padding-inline: dt('inputtext.padding.x');
        border: 1px solid dt('inputtext.border.color');
        transition:
            background dt('inputtext.transition.duration'),
            color dt('inputtext.transition.duration'),
            border-color dt('inputtext.transition.duration'),
            outline-color dt('inputtext.transition.duration'),
            box-shadow dt('inputtext.transition.duration');
        appearance: none;
        border-radius: dt('inputtext.border.radius');
        outline-color: transparent;
        box-shadow: dt('inputtext.shadow');
    }

    .p-inputtext:enabled:hover {
        border-color: dt('inputtext.hover.border.color');
    }

    .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
        box-shadow: dt('inputtext.focus.ring.shadow');
        outline: dt('inputtext.focus.ring.width') dt('inputtext.focus.ring.style') dt('inputtext.focus.ring.color');
        outline-offset: dt('inputtext.focus.ring.offset');
    }

    .p-inputtext.p-invalid {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.p-variant-filled {
        background: dt('inputtext.filled.background');
    }

    .p-inputtext.p-variant-filled:enabled:hover {
        background: dt('inputtext.filled.hover.background');
    }

    .p-inputtext.p-variant-filled:enabled:focus {
        background: dt('inputtext.filled.focus.background');
    }

    .p-inputtext:disabled {
        opacity: 1;
        background: dt('inputtext.disabled.background');
        color: dt('inputtext.disabled.color');
    }

    .p-inputtext::placeholder {
        color: dt('inputtext.placeholder.color');
    }

    .p-inputtext.p-invalid::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-inputtext-sm {
        font-size: dt('inputtext.sm.font.size');
        padding-block: dt('inputtext.sm.padding.y');
        padding-inline: dt('inputtext.sm.padding.x');
    }

    .p-inputtext-lg {
        font-size: dt('inputtext.lg.font.size');
        padding-block: dt('inputtext.lg.padding.y');
        padding-inline: dt('inputtext.lg.padding.x');
    }

    .p-inputtext-fluid {
        width: 100%;
    }
`;var Cue=`
    ${m9}

    /* For PrimeNG */
   .p-inputtext.ng-invalid.ng-dirty {
        border-color: dt('inputtext.invalid.border.color');
    }

    .p-inputtext.ng-invalid.ng-dirty::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,Sue={root:({instance:i})=>["p-inputtext p-component",{"p-filled":i.$filled(),"p-inputtext-sm":i.pSize==="small","p-inputtext-lg":i.pSize==="large","p-invalid":i.invalid(),"p-variant-filled":i.$variant()==="filled","p-inputtext-fluid":i.hasFluid}]},g9=(()=>{class i extends Ye{name="inputtext";style=Cue;classes=Sue;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var _9=new he("INPUTTEXT_INSTANCE"),si=(()=>{class i extends qg{hostName="";ptInputText=qe();bindDirectiveInstance=z(pe,{self:!0});$pcInputText=z(_9,{optional:!0,skipSelf:!0})??void 0;ngControl=z(os,{optional:!0,self:!0});pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});pSize;variant=qe();fluid=qe(void 0,{transform:Z});invalid=qe(void 0,{transform:Z});$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());_componentStyle=z(g9);constructor(){super(),In(()=>{this.ptInputText()&&this.directivePT.set(this.ptInputText())})}onAfterViewInit(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("root"))}onDoCheck(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(){this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}get hasFluid(){return this.fluid()??!!this.pcFluid}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","pInputText",""]],hostVars:2,hostBindings:function(t,o){t&1&&A("input",function(s){return o.onInput(s)}),t&2&&j(o.cx("root"))},inputs:{hostName:"hostName",ptInputText:[1,"ptInputText"],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},features:[Se([g9,{provide:_9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})(),vy=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var b9=`
    .p-floatlabel {
        display: block;
        position: relative;
    }

    .p-floatlabel label {
        position: absolute;
        pointer-events: none;
        top: 50%;
        transform: translateY(-50%);
        transition-property: all;
        transition-timing-function: ease;
        line-height: 1;
        font-weight: dt('floatlabel.font.weight');
        inset-inline-start: dt('floatlabel.position.x');
        color: dt('floatlabel.color');
        transition-duration: dt('floatlabel.transition.duration');
    }

    .p-floatlabel:has(.p-textarea) label {
        top: dt('floatlabel.position.y');
        transform: translateY(0);
    }

    .p-floatlabel:has(.p-inputicon:first-child) label {
        inset-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label,
    .p-floatlabel:has(input[placeholder]) label,
    .p-floatlabel:has(textarea[placeholder]) label {
        top: dt('floatlabel.over.active.top');
        transform: translateY(0);
        font-size: dt('floatlabel.active.font.size');
        font-weight: dt('floatlabel.active.font.weight');
    }

    .p-floatlabel:has(input.p-filled) label,
    .p-floatlabel:has(textarea.p-filled) label,
    .p-floatlabel:has(.p-inputwrapper-filled) label {
        color: dt('floatlabel.active.color');
    }

    .p-floatlabel:has(input:focus) label,
    .p-floatlabel:has(input:-webkit-autofill) label,
    .p-floatlabel:has(textarea:focus) label,
    .p-floatlabel:has(.p-inputwrapper-focus) label {
        color: dt('floatlabel.focus.color');
    }

    .p-floatlabel-in .p-inputtext,
    .p-floatlabel-in .p-textarea,
    .p-floatlabel-in .p-select-label,
    .p-floatlabel-in .p-multiselect-label,
    .p-floatlabel-in .p-multiselect-label:has(.p-chip),
    .p-floatlabel-in .p-autocomplete-input-multiple,
    .p-floatlabel-in .p-cascadeselect-label,
    .p-floatlabel-in .p-treeselect-label {
        padding-block-start: dt('floatlabel.in.input.padding.top');
        padding-block-end: dt('floatlabel.in.input.padding.bottom');
    }

    .p-floatlabel-in:has(input:focus) label,
    .p-floatlabel-in:has(input.p-filled) label,
    .p-floatlabel-in:has(input:-webkit-autofill) label,
    .p-floatlabel-in:has(textarea:focus) label,
    .p-floatlabel-in:has(textarea.p-filled) label,
    .p-floatlabel-in:has(.p-inputwrapper-focus) label,
    .p-floatlabel-in:has(.p-inputwrapper-filled) label,
    .p-floatlabel-in:has(input[placeholder]) label,
    .p-floatlabel-in:has(textarea[placeholder]) label {
        top: dt('floatlabel.in.active.top');
    }

    .p-floatlabel-on:has(input:focus) label,
    .p-floatlabel-on:has(input.p-filled) label,
    .p-floatlabel-on:has(input:-webkit-autofill) label,
    .p-floatlabel-on:has(textarea:focus) label,
    .p-floatlabel-on:has(textarea.p-filled) label,
    .p-floatlabel-on:has(.p-inputwrapper-focus) label,
    .p-floatlabel-on:has(.p-inputwrapper-filled) label,
    .p-floatlabel-on:has(input[placeholder]) label,
    .p-floatlabel-on:has(textarea[placeholder]) label {
        top: 0;
        transform: translateY(-50%);
        border-radius: dt('floatlabel.on.border.radius');
        background: dt('floatlabel.on.active.background');
        padding: dt('floatlabel.on.active.padding');
    }

    .p-floatlabel:has([class^='p-'][class$='-fluid']) {
        width: 100%;
    }

    .p-floatlabel:has(.p-invalid) label {
        color: dt('floatlabel.invalid.color');
    }
`;var Iue=["*"],Eue=`
    ${b9}

    /* For PrimeNG */
    .p-floatlabel:has(.ng-invalid.ng-dirty) label {
        color: dt('floatlabel.invalid.color');
    }
`,xue={root:({instance:i})=>["p-floatlabel",{"p-floatlabel-over":i.variant==="over","p-floatlabel-on":i.variant==="on","p-floatlabel-in":i.variant==="in"}]},y9=(()=>{class i extends Ye{name="floatlabel";style=Eue;classes=xue;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var v9=new he("FLOATLABEL_INSTANCE"),Ir=(()=>{class i extends Xe{_componentStyle=z(y9);$pcFloatLabel=z(v9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}variant="over";static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("root"))},inputs:{variant:"variant"},features:[Se([y9,{provide:v9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Iue,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Oe,Pt],encapsulation:2,changeDetection:0})}return i})(),JA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Ir,Oe,Oe]})}return i})();var w9=(()=>{class i extends Xe{pFocusTrapDisabled=!1;platformId=z(wr);document=z(Ci);firstHiddenFocusableElement;lastHiddenFocusableElement;onInit(){At(this.platformId)&&!this.pFocusTrapDisabled&&!this.firstHiddenFocusableElement&&!this.lastHiddenFocusableElement&&this.createHiddenFocusableElements()}onChanges(e){e.pFocusTrapDisabled&&At(this.platformId)&&(e.pFocusTrapDisabled.currentValue?this.removeHiddenFocusableElements():this.createHiddenFocusableElements())}removeHiddenFocusableElements(){this.firstHiddenFocusableElement&&this.firstHiddenFocusableElement.parentNode&&this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement),this.lastHiddenFocusableElement&&this.lastHiddenFocusableElement.parentNode&&this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement)}getComputedSelector(e){return`:not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])${e??""}`}createHiddenFocusableElements(){let t=o=>pd("span",{class:"p-hidden-accessible p-hidden-focusable",tabindex:"0",role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:o?.bind(this)});this.firstHiddenFocusableElement=t(this.onFirstHiddenElementFocus),this.lastHiddenFocusableElement=t(this.onLastHiddenElementFocus),this.firstHiddenFocusableElement.setAttribute("data-pc-section","firstfocusableelement"),this.lastHiddenFocusableElement.setAttribute("data-pc-section","lastfocusableelement"),this.el.nativeElement.prepend(this.firstHiddenFocusableElement),this.el.nativeElement.append(this.lastHiddenFocusableElement)}onFirstHiddenElementFocus(e){let{currentTarget:t,relatedTarget:o}=e,r=o===this.lastHiddenFocusableElement||!this.el.nativeElement?.contains(o)?mp(t.parentElement,":not(.p-hidden-focusable)"):this.lastHiddenFocusableElement;Di(r)}onLastHiddenElementFocus(e){let{currentTarget:t,relatedTarget:o}=e,r=o===this.firstHiddenFocusableElement||!this.el.nativeElement?.contains(o)?Lg(t.parentElement,":not(.p-hidden-focusable)"):this.firstHiddenFocusableElement;Di(r)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","pFocusTrap",""]],inputs:{pFocusTrapDisabled:[2,"pFocusTrapDisabled","pFocusTrapDisabled",Z]},features:[re]})}return i})(),dkt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var wi=class i{static isArray(n,e=!0){return Array.isArray(n)&&(e||n.length!==0)}static isObject(n,e=!0){return typeof n=="object"&&!Array.isArray(n)&&n!=null&&(e||Object.keys(n).length!==0)}static equals(n,e,t){return t?this.resolveFieldData(n,t)===this.resolveFieldData(e,t):this.equalsByValue(n,e)}static equalsByValue(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),o=Array.isArray(e),r,s,a;if(t&&o){if(s=n.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!this.equalsByValue(n[r],e[r]))return!1;return!0}if(t!=o)return!1;var l=this.isDate(n),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var d=n instanceof RegExp,u=e instanceof RegExp;if(d!=u)return!1;if(d&&u)return n.toString()==e.toString();var m=Object.keys(n);if(s=m.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[r]))return!1;for(r=s;r--!==0;)if(a=m[r],!this.equalsByValue(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static resolveFieldData(n,e){if(n&&e){if(this.isFunction(e))return e(n);if(e.indexOf(".")==-1)return n[e];{let t=e.split("."),o=n;for(let r=0,s=t.length;r<s;++r){if(o==null)return null;o=o[t[r]]}return o}}else return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,e,t){let o;n&&e!==t&&(t>=n.length&&(t%=n.length,e%=n.length),n.splice(t,0,n.splice(e,1)[0]))}static insertIntoOrderedArray(n,e,t,o){if(t.length>0){let r=!1;for(let s=0;s<t.length;s++)if(this.findIndexInList(t[s],o)>e){t.splice(s,0,n),r=!0;break}r||t.push(n)}else t.push(n)}static findIndexInList(n,e){let t=-1;if(e){for(let o=0;o<e.length;o++)if(e[o]==n){t=o;break}}return t}static contains(n,e){if(n!=null&&e&&e.length){for(let t of e)if(this.equals(n,t))return!0}return!1}static removeAccents(n){return n&&(n=n.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),n}static isDate(n){return Object.prototype.toString.call(n)==="[object Date]"}static isEmpty(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!this.isDate(n)&&typeof n=="object"&&Object.keys(n).length===0}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,e,t,o=1){let r=-1,s=this.isEmpty(n),a=this.isEmpty(e);return s&&a?r=0:s?r=o:a?r=-o:typeof n=="string"&&typeof e=="string"?r=n.localeCompare(e,t,{numeric:!0}):r=n<e?-1:n>e?1:0,r}static sort(n,e,t=1,o,r=1){let s=i.compare(n,e,o,t),a=t;return(i.isEmpty(n)||i.isEmpty(e))&&(a=r===1?t:r),a*s}static merge(n,e){if(!(n==null&&e==null)){{if((n==null||typeof n=="object")&&(e==null||typeof e=="object"))return ee(ee({},n||{}),e||{});if((n==null||typeof n=="string")&&(e==null||typeof e=="string"))return[n||"",e||""].join(" ")}return e||n}}static isPrintableCharacter(n=""){return this.isNotEmpty(n)&&n.length===1&&n.match(/\S| /)}static getItemValue(n,...e){return this.isFunction(n)?n(...e):n}static findLastIndex(n,e){let t=-1;if(this.isNotEmpty(n))try{t=n.findLastIndex(e)}catch{t=n.lastIndexOf([...n].reverse().find(e))}return t}static findLast(n,e){let t;if(this.isNotEmpty(n))try{t=n.findLast(e)}catch{t=[...n].reverse().find(e)}return t}static deepEquals(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=Array.isArray(n),o=Array.isArray(e),r,s,a;if(t&&o){if(s=n.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!this.deepEquals(n[r],e[r]))return!1;return!0}if(t!=o)return!1;var l=n instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return n.getTime()==e.getTime();var d=n instanceof RegExp,u=e instanceof RegExp;if(d!=u)return!1;if(d&&u)return n.toString()==e.toString();var m=Object.keys(n);if(s=m.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,m[r]))return!1;for(r=s;r--!==0;)if(a=m[r],!this.deepEquals(n[a],e[a]))return!1;return!0}return n!==n&&e!==e}static minifyCSS(n){return n&&n.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!").replace(/: /g,":")}static toFlatCase(n){return this.isString(n)?n.replace(/(-|_)/g,"").toLowerCase():n}static isString(n,e=!0){return typeof n=="string"&&(e||n!=="")}},C9=0;function S9(i="pn_id_"){return C9++,`${i}${C9}`}function Tue(){let i=[],n=(r,s)=>{let a=i.length>0?i[i.length-1]:{key:r,value:s},l=a.value+(a.key===r?0:s)+2;return i.push({key:r,value:l}),l},e=r=>{i=i.filter(s=>s.value!==r)},t=()=>i.length>0?i[i.length-1].value:0,o=r=>r&&parseInt(r.style.zIndex,10)||0;return{get:o,set:(r,s,a)=>{s&&(s.style.zIndex=String(n(r,a)))},clear:r=>{r&&(e(o(r)),r.style.zIndex="")},getCurrent:()=>t(),generateZIndex:n,revertZIndex:e}}var Bi=Tue(),ukt=i=>!!i;var I9=`
    .p-dialog {
        max-height: 90%;
        transform: scale(1);
        border-radius: dt('dialog.border.radius');
        box-shadow: dt('dialog.shadow');
        background: dt('dialog.background');
        border: 1px solid dt('dialog.border.color');
        color: dt('dialog.color');
    }

    .p-dialog-content {
        overflow-y: auto;
        padding: dt('dialog.content.padding');
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-shrink: 0;
        padding: dt('dialog.header.padding');
    }

    .p-dialog-title {
        font-weight: dt('dialog.title.font.weight');
        font-size: dt('dialog.title.font.size');
    }

    .p-dialog-footer {
        flex-shrink: 0;
        padding: dt('dialog.footer.padding');
        display: flex;
        justify-content: flex-end;
        gap: dt('dialog.footer.gap');
    }

    .p-dialog-header-actions {
        display: flex;
        align-items: center;
        gap: dt('dialog.header.gap');
    }

    .p-dialog-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-dialog-enter-from,
    .p-dialog-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-topleft .p-dialog,
    .p-dialog-topright .p-dialog,
    .p-dialog-bottomleft .p-dialog,
    .p-dialog-bottomright .p-dialog {
        margin: 0.75rem;
        transform: translate3d(0px, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-top .p-dialog-leave-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-leave-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-left .p-dialog-leave-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-right .p-dialog-leave-active,
    .p-dialog-topleft .p-dialog-enter-active,
    .p-dialog-topleft .p-dialog-leave-active,
    .p-dialog-topright .p-dialog-enter-active,
    .p-dialog-topright .p-dialog-leave-active,
    .p-dialog-bottomleft .p-dialog-enter-active,
    .p-dialog-bottomleft .p-dialog-leave-active,
    .p-dialog-bottomright .p-dialog-enter-active,
    .p-dialog-bottomright .p-dialog-leave-active {
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-enter-from,
    .p-dialog-top .p-dialog-leave-to {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter-from,
    .p-dialog-bottom .p-dialog-leave-to {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter-from,
    .p-dialog-left .p-dialog-leave-to,
    .p-dialog-topleft .p-dialog-enter-from,
    .p-dialog-topleft .p-dialog-leave-to,
    .p-dialog-bottomleft .p-dialog-enter-from,
    .p-dialog-bottomleft .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter-from,
    .p-dialog-right .p-dialog-leave-to,
    .p-dialog-topright .p-dialog-enter-from,
    .p-dialog-topright .p-dialog-leave-to,
    .p-dialog-bottomright .p-dialog-enter-from,
    .p-dialog-bottomright .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-left:dir(rtl) .p-dialog-enter-from,
    .p-dialog-left:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-right:dir(rtl) .p-dialog-enter-from,
    .p-dialog-right:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topright:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-maximized {
        width: 100vw !important;
        height: 100vh !important;
        top: 0px !important;
        left: 0px !important;
        max-height: 100%;
        height: 100%;
        border-radius: 0;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }

    .p-dialog .p-resizable-handle {
        position: absolute;
        font-size: 0.1px;
        display: block;
        cursor: se-resize;
        width: 12px;
        height: 12px;
        right: 1px;
        bottom: 1px;
    }
`;var Oue=["header"],E9=["content"],x9=["footer"],Rue=["closeicon"],Due=["maximizeicon"],Pue=["minimizeicon"],Aue=["headless"],kue=["titlebar"],Nue=["*",[["p-footer"]]],Fue=["*","p-footer"],Lue=(i,n)=>({transform:i,transition:n}),Mue=i=>({value:"visible",params:i});function Bue(i,n){i&1&&ve(0)}function Vue(i,n){if(i&1&&(we(0),E(1,Bue,1,0,"ng-container",11),Ce()),i&2){let e=h(3);p(),f("ngTemplateOutlet",e._headlessTemplate||e.headlessTemplate||e.headlessT)}}function Uue(i,n){if(i&1){let e=B();_(0,"div",15),A("mousedown",function(o){w(e);let r=h(4);return C(r.initResize(o))}),b()}if(i&2){let e=h(4);j(e.cx("resizeHandle")),Kt("z-index",90),f("pBind",e.ptm("resizeHandle"))}}function jue(i,n){if(i&1&&(_(0,"span",19),R(1),b()),i&2){let e=h(5);j(e.cx("title")),f("id",e.ariaLabelledBy)("pBind",e.ptm("title")),p(),Q(e.header)}}function Gue(i,n){i&1&&ve(0)}function Hue(i,n){if(i&1&&N(0,"span",23),i&2){let e=h(7);f("ngClass",e.maximized?e.minimizeIcon:e.maximizeIcon)}}function zue(i,n){i&1&&(xe(),N(0,"svg",26))}function Wue(i,n){i&1&&(xe(),N(0,"svg",27))}function $ue(i,n){if(i&1&&(we(0),E(1,zue,1,0,"svg",24)(2,Wue,1,0,"svg",25),Ce()),i&2){let e=h(7);p(),f("ngIf",!e.maximized&&!e._maximizeiconTemplate&&!e.maximizeIconTemplate&&!e.maximizeIconT),p(),f("ngIf",e.maximized&&!e._minimizeiconTemplate&&!e.minimizeIconTemplate&&!e.minimizeIconT)}}function Kue(i,n){}function que(i,n){i&1&&E(0,Kue,0,0,"ng-template")}function Jue(i,n){if(i&1&&(we(0),E(1,que,1,0,null,11),Ce()),i&2){let e=h(7);p(),f("ngTemplateOutlet",e._maximizeiconTemplate||e.maximizeIconTemplate||e.maximizeIconT)}}function Que(i,n){}function Yue(i,n){i&1&&E(0,Que,0,0,"ng-template")}function Xue(i,n){if(i&1&&(we(0),E(1,Yue,1,0,null,11),Ce()),i&2){let e=h(7);p(),f("ngTemplateOutlet",e._minimizeiconTemplate||e.minimizeIconTemplate||e.minimizeIconT)}}function Zue(i,n){if(i&1&&E(0,Hue,1,1,"span",21)(1,$ue,3,2,"ng-container",22)(2,Jue,2,1,"ng-container",22)(3,Xue,2,1,"ng-container",22),i&2){let e=h(6);f("ngIf",e.maximizeIcon&&!e._maximizeiconTemplate&&!e._minimizeiconTemplate),p(),f("ngIf",!e.maximizeIcon&&!(e.maximizeButtonProps!=null&&e.maximizeButtonProps.icon)),p(),f("ngIf",!e.maximized),p(),f("ngIf",e.maximized)}}function ehe(i,n){if(i&1){let e=B();_(0,"p-button",20),A("onClick",function(){w(e);let o=h(5);return C(o.maximize())})("keydown.enter",function(){w(e);let o=h(5);return C(o.maximize())}),E(1,Zue,4,4,"ng-template",null,4,ie),b()}if(i&2){let e=h(5);f("pt",e.ptm("pcMaximizeButton"))("styleClass",e.cx("pcMaximizeButton"))("ariaLabel",e.maximized?e.minimizeLabel:e.maximizeLabel)("tabindex",e.maximizable?"0":"-1")("buttonProps",e.maximizeButtonProps)}}function the(i,n){if(i&1&&N(0,"span"),i&2){let e=h(8);j(e.closeIcon)}}function ihe(i,n){i&1&&(xe(),N(0,"svg",30))}function nhe(i,n){if(i&1&&(we(0),E(1,the,1,2,"span",28)(2,ihe,1,0,"svg",29),Ce()),i&2){let e=h(7);p(),f("ngIf",e.closeIcon),p(),f("ngIf",!e.closeIcon)}}function ohe(i,n){}function rhe(i,n){i&1&&E(0,ohe,0,0,"ng-template")}function she(i,n){if(i&1&&(_(0,"span"),E(1,rhe,1,0,null,11),b()),i&2){let e=h(7);p(),f("ngTemplateOutlet",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function ahe(i,n){if(i&1&&E(0,nhe,3,2,"ng-container",22)(1,she,2,1,"span",22),i&2){let e=h(6);f("ngIf",!e._closeiconTemplate&&!e.closeIconTemplate&&!e.closeIconT&&!(e.closeButtonProps!=null&&e.closeButtonProps.icon)),p(),f("ngIf",e._closeiconTemplate||e.closeIconTemplate||e.closeIconT)}}function lhe(i,n){if(i&1){let e=B();_(0,"p-button",20),A("onClick",function(o){w(e);let r=h(5);return C(r.close(o))})("keydown.enter",function(o){w(e);let r=h(5);return C(r.close(o))}),E(1,ahe,2,2,"ng-template",null,4,ie),b()}if(i&2){let e=h(5);f("pt",e.ptm("pcCloseButton"))("styleClass",e.cx("pcCloseButton"))("ariaLabel",e.closeAriaLabel)("tabindex",e.closeTabindex)("buttonProps",e.closeButtonProps)}}function che(i,n){if(i&1){let e=B();_(0,"div",15,3),A("mousedown",function(o){w(e);let r=h(4);return C(r.initDrag(o))}),E(2,jue,2,5,"span",16)(3,Gue,1,0,"ng-container",11),_(4,"div",17),E(5,ehe,3,5,"p-button",18)(6,lhe,3,5,"p-button",18),b()()}if(i&2){let e=h(4);j(e.cx("header")),f("pBind",e.ptm("header")),p(2),f("ngIf",!e._headerTemplate&&!e.headerTemplate&&!e.headerT),p(),f("ngTemplateOutlet",e._headerTemplate||e.headerTemplate||e.headerT),p(),j(e.cx("headerActions")),f("pBind",e.ptm("headerActions")),p(),f("ngIf",e.maximizable),p(),f("ngIf",e.closable)}}function dhe(i,n){i&1&&ve(0)}function phe(i,n){i&1&&ve(0)}function uhe(i,n){if(i&1&&(_(0,"div",17,5),Ht(2,1),E(3,phe,1,0,"ng-container",11),b()),i&2){let e=h(4);j(e.cx("footer")),f("pBind",e.ptm("footer")),p(3),f("ngTemplateOutlet",e._footerTemplate||e.footerTemplate||e.footerT)}}function hhe(i,n){if(i&1&&(E(0,Uue,1,5,"div",12)(1,che,7,10,"div",13),_(2,"div",7,2),Ht(4),E(5,dhe,1,0,"ng-container",11),b(),E(6,uhe,4,4,"div",14)),i&2){let e=h(3);f("ngIf",e.resizable),p(),f("ngIf",e.showHeader),p(),j(e.cn(e.cx("content"),e.contentStyleClass)),f("ngStyle",e.contentStyle)("pBind",e.ptm("content")),p(3),f("ngTemplateOutlet",e._contentTemplate||e.contentTemplate||e.contentT),p(),f("ngIf",e._footerTemplate||e.footerTemplate||e.footerT)}}function fhe(i,n){if(i&1){let e=B();_(0,"div",9,0),A("@animation.start",function(o){w(e);let r=h(2);return C(r.onAnimationStart(o))})("@animation.done",function(o){w(e);let r=h(2);return C(r.onAnimationEnd(o))}),E(2,Vue,2,1,"ng-container",10)(3,hhe,7,8,"ng-template",null,1,ie),b()}if(i&2){let e=Ze(4),t=h(2);De(t.sx("root")),j(t.cn(t.cx("root"),t.styleClass)),f("ngStyle",t.style)("pBind",t.ptm("root"))("pFocusTrapDisabled",t.focusTrap===!1)("@animation",de(16,Mue,Ct(13,Lue,t.transformOptions,t.transitionOptions))),ce("role",t.role)("aria-labelledby",t.ariaLabelledBy)("aria-modal",!0),p(2),f("ngIf",t._headlessTemplate||t.headlessTemplate||t.headlessT)("ngIfElse",e)}}function mhe(i,n){if(i&1&&(_(0,"div",7),E(1,fhe,5,18,"div",8),b()),i&2){let e=h();De(e.sx("mask")),j(e.cn(e.cx("mask"),e.maskStyleClass)),f("ngStyle",e.maskStyle)("pBind",e.ptm("mask")),p(),f("ngIf",e.visible)}}var ghe={mask:({instance:i})=>({position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:i.position==="left"||i.position==="topleft"||i.position==="bottomleft"?"flex-start":i.position==="right"||i.position==="topright"||i.position==="bottomright"?"flex-end":"center",alignItems:i.position==="top"||i.position==="topleft"||i.position==="topright"?"flex-start":i.position==="bottom"||i.position==="bottomleft"||i.position==="bottomright"?"flex-end":"center",pointerEvents:i.modal?"auto":"none"}),root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},_he={mask:({instance:i})=>{let e=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(t=>t===i.position);return["p-dialog-mask",{"p-overlay-mask p-overlay-mask-enter":i.modal},e?`p-dialog-${e}`:""]},root:({instance:i})=>["p-dialog p-component",{"p-dialog-maximized":i.maximizable&&i.maximized}],header:"p-dialog-header",title:"p-dialog-title",resizeHandle:"p-resizable-handle",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:()=>["p-dialog-content"],footer:"p-dialog-footer"},X1=(()=>{class i extends Ye{name="dialog";style=I9;classes=_he;inlineStyles=ghe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var T9=new he("DIALOG_INSTANCE"),bhe=_d([Yt({transform:"{{transform}}",opacity:0}),hi("{{transition}}")]),yhe=_d([hi("{{transition}}",Yt({transform:"{{transform}}",opacity:0}))]),Ut=(()=>{class i extends Xe{hostName="";$pcDialog=z(T9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}header;draggable=!0;resizable=!0;contentStyle;contentStyleClass;modal=!1;closeOnEscape=!0;dismissableMask=!1;rtl=!1;closable=!0;breakpoints;styleClass;maskStyleClass;maskStyle;showHeader=!0;blockScroll=!1;autoZIndex=!0;baseZIndex=0;minX=0;minY=0;focusOnShow=!0;maximizable=!1;keepInViewport=!0;focusTrap=!0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";closeIcon;closeAriaLabel;closeTabindex="0";minimizeIcon;maximizeIcon;closeButtonProps={severity:"secondary",variant:"text",rounded:!0};maximizeButtonProps={severity:"secondary",variant:"text",rounded:!0};get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}get style(){return this._style}set style(e){e&&(this._style=ee({},e),this.originalStyle=e)}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}role="dialog";appendTo=qe(void 0);onShow=new te;onHide=new te;visibleChange=new te;onResizeInit=new te;onResizeEnd=new te;onDragEnd=new te;onMaximize=new te;headerViewChild;contentViewChild;footerViewChild;headerTemplate;contentTemplate;footerTemplate;closeIconTemplate;maximizeIconTemplate;minimizeIconTemplate;headlessTemplate;_headerTemplate;_contentTemplate;_footerTemplate;_closeiconTemplate;_maximizeiconTemplate;_minimizeiconTemplate;_headlessTemplate;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());_visible=!1;maskVisible;container;wrapper;dragging;ariaLabelledBy=this.getAriaLabelledBy();documentDragListener;documentDragEndListener;resizing;documentResizeListener;documentResizeEndListener;documentEscapeListener;maskClickListener;lastPageX;lastPageY;preventVisibleChangePropagation;maximized;preMaximizeContentHeight;preMaximizeContainerWidth;preMaximizeContainerHeight;preMaximizePageX;preMaximizePageY;id=Vt("pn_id_");_style={};_position="center";originalStyle;transformOptions="scale(0.7)";styleElement;window;_componentStyle=z(X1);headerT;contentT;footerT;closeIconT;maximizeIconT;minimizeIconT;headlessT;zIndexForLayering;get maximizeLabel(){return this.config.getTranslation(xi.ARIA).maximizeLabel}get minimizeLabel(){return this.config.getTranslation(xi.ARIA).minimizeLabel}zone=z(Ft);get maskClass(){let t=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"].find(o=>o===this.position);return{"p-dialog-mask":!0,"p-overlay-mask p-overlay-mask-enter":this.modal||this.dismissableMask,[`p-dialog-${t}`]:t}}onInit(){this.breakpoints&&this.createStyle()}templates;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this.headerT=e.template;break;case"content":this.contentT=e.template;break;case"footer":this.footerT=e.template;break;case"closeicon":this.closeIconT=e.template;break;case"maximizeicon":this.maximizeIconT=e.template;break;case"minimizeicon":this.minimizeIconT=e.template;break;case"headless":this.headlessT=e.template;break;default:this.contentT=e.template;break}})}getAriaLabelledBy(){return this.header!==null?Vt("pn_id_")+"_header":null}parseDurationToMilliseconds(e){let t=/([\d\.]+)(ms|s)\b/g,o=0,r;for(;(r=t.exec(e))!==null;){let s=parseFloat(r[1]),a=r[2];a==="ms"?o+=s:a==="s"&&(o+=s*1e3)}if(o!==0)return o}_focus(e){if(e){let t=this.parseDurationToMilliseconds(this.transitionOptions),o=st.getFocusableElements(e);if(o&&o.length>0)return this.zone.runOutsideAngular(()=>{setTimeout(()=>o[0].focus(),t||5)}),!0}return!1}focus(e=this.contentViewChild?.nativeElement){let t=this._focus(e);t||(t=this._focus(this.footerViewChild?.nativeElement),t||(t=this._focus(this.headerViewChild?.nativeElement),t||this._focus(this.contentViewChild?.nativeElement)))}close(e){this.visibleChange.emit(!1),e.preventDefault()}enableModality(){this.closable&&this.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)})),this.modal&&gy()}disableModality(){if(this.wrapper){this.dismissableMask&&this.unbindMaskClickListener();let e=document.querySelectorAll(".p-dialog-mask-scrollblocker");this.modal&&e&&e.length==1&&yp(),this.cd.destroyed||this.cd.detectChanges()}}maximize(){this.maximized=!this.maximized,!this.modal&&!this.blockScroll&&(this.maximized?gy():yp()),this.onMaximize.emit({maximized:this.maximized})}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}moveOnTop(){this.autoZIndex?(Bi.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1)):this.zIndexForLayering=Bi.generateZIndex("modal",(this.baseZIndex??0)+this.config.zIndex.modal)}createStyle(){if(At(this.platformId)&&!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",vc(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                        @media screen and (max-width: ${t}) {
                            .p-dialog[${this.id}]:not(.p-dialog-maximized) {
                                width: ${this.breakpoints[t]} !important;
                            }
                        }
                    `;this.renderer.setProperty(this.styleElement,"innerHTML",e),vc(this.styleElement,"nonce",this.config?.csp()?.nonce)}}initDrag(e){no(e.target,"p-dialog-maximize-icon")||no(e.target,"p-dialog-header-close-icon")||no(e.target?.parentElement,"p-dialog-header-icon")||this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",fo(this.document.body,"p-unselectable-text"))}onDrag(e){if(this.dragging&&this.container){let t=Dn(this.container),o=vs(this.container),r=e.pageX-this.lastPageX,s=e.pageY-this.lastPageY,a=this.container.getBoundingClientRect(),l=getComputedStyle(this.container),c=parseFloat(l.marginLeft),d=parseFloat(l.marginTop),u=a.left+r-c,m=a.top+s-d,g=yc();this.container.style.position="fixed",this.keepInViewport?(u>=this.minX&&u+t<g.width&&(this._style.left=`${u}px`,this.lastPageX=e.pageX,this.container.style.left=`${u}px`),m>=this.minY&&m+o<g.height&&(this._style.top=`${m}px`,this.lastPageY=e.pageY,this.container.style.top=`${m}px`)):(this.lastPageX=e.pageX,this.container.style.left=`${u}px`,this.lastPageY=e.pageY,this.container.style.top=`${m}px`)}}endDrag(e){this.dragging&&(this.dragging=!1,hr(this.document.body,"p-unselectable-text"),this.cd.detectChanges(),this.onDragEnd.emit(e))}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}center(){this.resetPosition()}initResize(e){this.resizable&&(this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,fo(this.document.body,"p-unselectable-text"),this.onResizeInit.emit(e))}onResize(e){if(this.resizing){let t=e.pageX-this.lastPageX,o=e.pageY-this.lastPageY,r=Dn(this.container),s=vs(this.container),a=vs(this.contentViewChild?.nativeElement),l=r+t,c=s+o,d=this.container.style.minWidth,u=this.container.style.minHeight,m=this.container.getBoundingClientRect(),g=yc();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(l+=t,c+=o),(!d||l>parseInt(d))&&m.left+l<g.width&&(this._style.width=l+"px",this.container.style.width=this._style.width),(!u||c>parseInt(u))&&m.top+c<g.height&&(this.contentViewChild.nativeElement.style.height=a+c-s+"px",this._style.height&&(this._style.height=c+"px",this.container.style.height=this._style.height)),this.lastPageX=e.pageX,this.lastPageY=e.pageY}}resizeEnd(e){this.resizing&&(this.resizing=!1,hr(this.document.body,"p-unselectable-text"),this.onResizeEnd.emit(e))}bindGlobalListeners(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.resizable&&this.bindDocumentResizeListeners(),this.closeOnEscape&&this.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentEscapeListener()}bindDocumentDragListener(){this.documentDragListener||this.zone.runOutsideAngular(()=>{this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onDrag.bind(this))})}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}bindDocumentDragEndListener(){this.documentDragEndListener||this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.endDrag.bind(this))})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}bindDocumentResizeListeners(){!this.documentResizeListener&&!this.documentResizeEndListener&&this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",this.onResize.bind(this)),this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",this.resizeEnd.bind(this))})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(this.documentResizeListener(),this.documentResizeEndListener(),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindDocumentEscapeListener(){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(e,"keydown",t=>{if(t.key=="Escape"){let o=Bi.getCurrent();(parseInt(this.container.style.zIndex)==o||this.zIndexForLayering==o)&&this.close(t)}})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}appendContainer(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.renderer.appendChild(this.document.body,this.wrapper):sl(this.$appendTo(),this.wrapper))}restoreAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.wrapper)}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container?.parentElement,this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.container?.setAttribute(this.id,""),this.modal&&this.enableModality(),this.focusOnShow&&this.focus();break;case"void":this.wrapper&&this.modal&&fo(this.wrapper,"p-overlay-mask-leave");break}}onAnimationEnd(e){switch(e.toState){case"void":this.onContainerDestroy(),this.onHide.emit({}),this.cd.markForCheck(),this.maskVisible!==this.visible&&(this.maskVisible=this.visible);break;case"visible":this.onShow.emit({});break}}onContainerDestroy(){this.unbindGlobalListeners(),this.dragging=!1,this.maskVisible=!1,this.maximized&&(this.document.body.style.removeProperty("--scrollbar;-width"),this.maximized=!1),this.modal&&this.disableModality(),no(this.document.body,"p-overflow-hidden")&&hr(this.document.body,"p-overflow-hidden"),this.container&&this.autoZIndex&&Bi.clear(this.container),this.zIndexForLayering&&Bi.revertZIndex(this.zIndexForLayering),this.container=null,this.wrapper=null,this._style=this.originalStyle?ee({},this.originalStyle):{}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.destroyStyle()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-dialog"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Oue,4),se(r,E9,4),se(r,x9,4),se(r,Rue,4),se(r,Due,4),se(r,Pue,4),se(r,Aue,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o._headerTemplate=s.first),W(s=$())&&(o._contentTemplate=s.first),W(s=$())&&(o._footerTemplate=s.first),W(s=$())&&(o._closeiconTemplate=s.first),W(s=$())&&(o._maximizeiconTemplate=s.first),W(s=$())&&(o._minimizeiconTemplate=s.first),W(s=$())&&(o._headlessTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(kue,5),_e(E9,5),_e(x9,5)),t&2){let r;W(r=$())&&(o.headerViewChild=r.first),W(r=$())&&(o.contentViewChild=r.first),W(r=$())&&(o.footerViewChild=r.first)}},inputs:{hostName:"hostName",header:"header",draggable:[2,"draggable","draggable",Z],resizable:[2,"resizable","resizable",Z],contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",modal:[2,"modal","modal",Z],closeOnEscape:[2,"closeOnEscape","closeOnEscape",Z],dismissableMask:[2,"dismissableMask","dismissableMask",Z],rtl:[2,"rtl","rtl",Z],closable:[2,"closable","closable",Z],breakpoints:"breakpoints",styleClass:"styleClass",maskStyleClass:"maskStyleClass",maskStyle:"maskStyle",showHeader:[2,"showHeader","showHeader",Z],blockScroll:[2,"blockScroll","blockScroll",Z],autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],minX:[2,"minX","minX",Je],minY:[2,"minY","minY",Je],focusOnShow:[2,"focusOnShow","focusOnShow",Z],maximizable:[2,"maximizable","maximizable",Z],keepInViewport:[2,"keepInViewport","keepInViewport",Z],focusTrap:[2,"focusTrap","focusTrap",Z],transitionOptions:"transitionOptions",closeIcon:"closeIcon",closeAriaLabel:"closeAriaLabel",closeTabindex:"closeTabindex",minimizeIcon:"minimizeIcon",maximizeIcon:"maximizeIcon",closeButtonProps:"closeButtonProps",maximizeButtonProps:"maximizeButtonProps",visible:"visible",style:"style",position:"position",role:"role",appendTo:[1,"appendTo"],headerTemplate:[0,"content","headerTemplate"],contentTemplate:"contentTemplate",footerTemplate:"footerTemplate",closeIconTemplate:"closeIconTemplate",maximizeIconTemplate:"maximizeIconTemplate",minimizeIconTemplate:"minimizeIconTemplate",headlessTemplate:"headlessTemplate"},outputs:{onShow:"onShow",onHide:"onHide",visibleChange:"visibleChange",onResizeInit:"onResizeInit",onResizeEnd:"onResizeEnd",onDragEnd:"onDragEnd",onMaximize:"onMaximize"},features:[Se([X1,{provide:T9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Fue,decls:1,vars:1,consts:[["container",""],["notHeadless",""],["content",""],["titlebar",""],["icon",""],["footer",""],[3,"class","style","ngStyle","pBind",4,"ngIf"],[3,"ngStyle","pBind"],["pFocusTrap","",3,"class","style","ngStyle","pBind","pFocusTrapDisabled",4,"ngIf"],["pFocusTrap","",3,"ngStyle","pBind","pFocusTrapDisabled"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[3,"class","pBind","z-index","mousedown",4,"ngIf"],[3,"class","pBind","mousedown",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"mousedown","pBind"],[3,"id","class","pBind",4,"ngIf"],[3,"pBind"],[3,"pt","styleClass","ariaLabel","tabindex","buttonProps","onClick","keydown.enter",4,"ngIf"],[3,"id","pBind"],[3,"onClick","keydown.enter","pt","styleClass","ariaLabel","tabindex","buttonProps"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[3,"ngClass"],["data-p-icon","window-maximize",4,"ngIf"],["data-p-icon","window-minimize",4,"ngIf"],["data-p-icon","window-maximize"],["data-p-icon","window-minimize"],[3,"class",4,"ngIf"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"]],template:function(t,o){t&1&&(ci(Nue),E(0,mhe,2,7,"div",6)),t&2&&f("ngIf",o.maskVisible)},dependencies:[Qe,$t,pt,gt,ft,bt,w9,ks,J8,Q8,Oe,pe],encapsulation:2,data:{animation:[vn("animation",[li("void => visible",[bd(bhe)]),li("visible => void",[bd(yhe)])])]},changeDetection:0})}return i})(),QA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Ut,Oe,Oe]})}return i})();var vhe=["content"],whe=["*"],Che=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),She=(i,n)=>({value:i,params:n}),Ihe=i=>({closeCallback:i});function Ehe(i,n){}function xhe(i,n){i&1&&E(0,Ehe,0,0,"ng-template")}function The(i,n){if(i&1){let e=B();_(0,"div",1),A("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))})("@animation.start",function(o){w(e);let r=h();return C(r.onAnimationStart(o))})("@animation.done",function(o){w(e);let r=h();return C(r.onAnimationEnd(o))}),_(1,"div",2),A("click",function(o){w(e);let r=h();return C(r.onContentClick(o))})("mousedown",function(o){w(e);let r=h();return C(r.onContentClick(o))}),Ht(2),E(3,xhe,1,0,null,3),b()()}if(i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("pBind",e.ptm("root"))("ngStyle",e.style)("@animation",Ct(16,She,e.overlayVisible?"open":"close",Ct(13,Che,e.showTransitionOptions,e.hideTransitionOptions))),ce("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),p(),j(e.cx("content")),f("pBind",e.ptm("content")),p(2),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",de(19,Ihe,e.onCloseClick.bind(e)))}}var Ohe=`
.p-popover {
    margin-top: dt('popover.gutter');
    background: dt('popover.background');
    color: dt('popover.color');
    border: 1px solid dt('popover.border.color');
    border-radius: dt('popover.border.radius');
    box-shadow: dt('popover.shadow');
    position: absolute
}

.p-popover-content {
    padding: dt('popover.content.padding');
}

.p-popover-flipped {
    margin-top: calc(dt('popover.gutter') * -1);
    margin-bottom: dt('popover.gutter');
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(dt('popover.arrow.offset') + dt('popover.arrow.left'));
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(dt('popover.gutter') - 2px);
    margin-left: calc(-1 * (dt('popover.gutter') - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: dt('popover.background');
}

.p-popover:before {
    border-width: dt('popover.gutter');
    margin-left: calc(-1 * dt('popover.gutter'));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: dt('popover.border.color');
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: dt('popover.background');
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: dt('popover.border.color');
}

`,Rhe={root:"p-popover p-component",content:"p-popover-content"},O9=(()=>{class i extends Ye{name="popover";style=Ohe;classes=Rhe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),R9=new he("POPOVER_INSTANCE"),Mu=(()=>{class i extends Xe{$pcPopover=z(R9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new te;onHide=new te;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=z(O9);zone=z(Ft);overlayService=z(Ur);onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break}})}bindDocumentClickListener(){if(At(this.platformId)&&!this.documentClickListener){let e=G1()?"touchstart":"click",t=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(t,e,o=>{this.dismissable&&(!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,t){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,t)&&(this.destroyCallback=()=>{this.show(null,t||e.currentTarget||e.target)}),this.hide()):this.show(e,t))}show(e,t){t&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=t||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let t=e.target;this.selfClick=e.offsetX<t.clientWidth&&e.offsetY<t.clientHeight}hasTargetChanged(e,t){return this.target!=null&&this.target!==(t||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):sl(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&Bi.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),rl(this.container,this.target,!1);let e=ta(this.container),t=ta(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),r=0;e.left<t.left&&(r=t.left-e.left-parseFloat(o)*2),this.container?.style.setProperty(my("popover.arrow.left").name,`${r}px`),e.top<t.top&&(this.container?.setAttribute("data-p-popover-flipped","true"),fo(this.container,"p-popover-flipped"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.container?.setAttribute(this.$attrSelector,""),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=t=>{this.container&&this.container.contains(t.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&Bi.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=Et(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!Sr()&&this.hide()}bindDocumentResizeListener(){if(At(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){At(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new jr(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}onDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Bi.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-popover"]],contentQueries:function(t,o,r){if(t&1&&(se(r,vhe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},hostBindings:function(t,o){t&1&&A("keydown.escape",function(s){return o.onEscapeKeydown(s)},BP)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",Z],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",Z],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",Je],focusOnShow:[2,"focusOnShow","focusOnShow",Z],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[Se([O9,{provide:R9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:whe,decls:1,vars:1,consts:[["role","dialog",3,"pBind","class","ngStyle","click",4,"ngIf"],["role","dialog",3,"click","pBind","ngStyle"],[3,"click","mousedown","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(ci(),E(0,The,4,21,"div",0)),t&2&&f("ngIf",o.render)},dependencies:[Qe,pt,gt,ft,Oe,pe],encapsulation:2,data:{animation:[vn("animation",[nr("void",Yt({transform:"scaleY(0.8)",opacity:0})),nr("close",Yt({opacity:0})),nr("open",Yt({transform:"translateY(0)",opacity:1})),li("void => open",hi("{{showTransitionParams}}")),li("open => close",hi("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),YA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Mu,Oe,Oe]})}return i})();var D9=`
    .p-tooltip {
        position: absolute;
        display: none;
        max-width: dt('tooltip.max.width');
    }

    .p-tooltip-right,
    .p-tooltip-left {
        padding: 0 dt('tooltip.gutter');
    }

    .p-tooltip-top,
    .p-tooltip-bottom {
        padding: dt('tooltip.gutter') 0;
    }

    .p-tooltip-text {
        white-space: pre-line;
        word-break: break-word;
        background: dt('tooltip.background');
        color: dt('tooltip.color');
        padding: dt('tooltip.padding');
        box-shadow: dt('tooltip.shadow');
        border-radius: dt('tooltip.border.radius');
    }

    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }

    .p-tooltip-right .p-tooltip-arrow {
        margin-top: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') dt('tooltip.gutter') dt('tooltip.gutter') 0;
        border-right-color: dt('tooltip.background');
    }

    .p-tooltip-left .p-tooltip-arrow {
        margin-top: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') 0 dt('tooltip.gutter') dt('tooltip.gutter');
        border-left-color: dt('tooltip.background');
    }

    .p-tooltip-top .p-tooltip-arrow {
        margin-left: calc(-1 * dt('tooltip.gutter'));
        border-width: dt('tooltip.gutter') dt('tooltip.gutter') 0 dt('tooltip.gutter');
        border-top-color: dt('tooltip.background');
        border-bottom-color: dt('tooltip.background');
    }

    .p-tooltip-bottom .p-tooltip-arrow {
        margin-left: calc(-1 * dt('tooltip.gutter'));
        border-width: 0 dt('tooltip.gutter') dt('tooltip.gutter') dt('tooltip.gutter');
        border-top-color: dt('tooltip.background');
        border-bottom-color: dt('tooltip.background');
    }
`;var Dhe={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},P9=(()=>{class i extends Ye{name="tooltip";style=D9;classes=Dhe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var A9=new he("TOOLTIP_INSTANCE"),cn=(()=>{class i extends Xe{zone;viewContainer;$pcTooltip=z(A9,{optional:!0,skipSelf:!0})??void 0;tooltipPosition;tooltipEvent="hover";positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;appendTo=qe(void 0);$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Vt("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;rootPTClasses="";showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=z(P9);interactionInProgress=!1;ptTooltip=qe();constructor(e,t){super(),this.zone=e,this.viewContainer=t,In(()=>{this.ptTooltip()&&this.directivePT.set(this.ptTooltip())})}onAfterViewInit(){At(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement)),t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}onChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=ee(ee({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(no(e.relatedTarget,"p-tooltip")||no(e.relatedTarget,"p-tooltip-text")||no(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener?.()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=pd("div",{class:this.cx("root"),role:"tooltip","p-bind":this.ptm("root"),"data-pc-section":"root"});let e=pd("div",{class:"p-tooltip-arrow","p-bind":this.ptm("arrow"),"data-pc-section":"arrow"});this.container.appendChild(e),this.tooltipText=pd("div",{class:"p-tooltip-text","p-bind":this.ptm("text"),"data-pc-section":"text"}),this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?sl(this.container,this.el.nativeElement):sl(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",t=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),X6(this.container,250),this.getOption("tooltipZIndex")==="auto"?Bi.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Bi.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e&&typeof e.createEmbeddedView=="function"){let t=this.viewContainer.createEmbeddedView(e);t.detectChanges(),t.rootNodes.forEach(o=>this.tooltipText.appendChild(o))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){let e=this.getOption("tooltipPosition"),o={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]}[e]||[];for(let[r,s]of o.entries())if(r===0)s.call(this);else if(this.isOutOfBounds())s.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),t=e.left+kA(),o=e.top+NA();return{left:t,top:o}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.startsWith("P-")?Et(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let e=this.activeElement,t=Dn(e),o=(vs(e)-vs(this.container))/2;this.alignTooltip(t,o);let r=this.getArrowElement();r.style.top="50%",r.style.right=null,r.style.bottom=null,r.style.left="0"}alignLeft(){this.preAlign("left");let e=this.getArrowElement(),t=Dn(this.container),o=(vs(this.el.nativeElement)-vs(this.container))/2;this.alignTooltip(-t,o),e.style.top="50%",e.style.right="0",e.style.bottom=null,e.style.left=null}alignTop(){this.preAlign("top");let e=this.getArrowElement(),t=this.getHostOffset(),o=Dn(this.container),r=(Dn(this.el.nativeElement)-Dn(this.container))/2,s=vs(this.container);this.alignTooltip(r,-s);let a=t.left-this.getHostOffset().left+o/2;e.style.top=null,e.style.right=null,e.style.bottom="0",e.style.left=a+"px"}getArrowElement(){return Et(this.container,'[data-pc-section="arrow"]')}alignBottom(){this.preAlign("bottom");let e=this.getArrowElement(),t=Dn(this.container),o=this.getHostOffset(),r=(Dn(this.el.nativeElement)-Dn(this.container))/2,s=vs(this.el.nativeElement);this.alignTooltip(r,s);let a=o.left-this.getHostOffset().left+t/2;e.style.top="0",e.style.right=null,e.style.bottom=null,e.style.left=a+"px"}alignTooltip(e,t){let o=this.getHostOffset(),r=o.left+e,s=o.top+t;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=ee(ee({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return no(e,"p-inputwrapper")?Et(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px",this.container.className=this.cn(this.cx("root"),this.ptm("root")?.class,"p-tooltip-"+e,this.getOption("tooltipStyleClass"))}isOutOfBounds(){let e=this.container.getBoundingClientRect(),t=e.top,o=e.left,r=Dn(this.container),s=vs(this.container),a=yc();return o+r>a.width||o<0||t<0||t+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let t=this.el.nativeElement.querySelector(".p-component");t||(t=this.getTarget(this.el.nativeElement)),t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):n8(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}onDestroy(){this.unbindEvents(),this.container&&Bi.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(t){return new(t||i)(x(Ft),x(Fr))};static \u0275dir=ht({type:i,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",Z],showDelay:[2,"showDelay","showDelay",Je],hideDelay:[2,"hideDelay","hideDelay",Je],life:[2,"life","life",Je],positionTop:[2,"positionTop","positionTop",Je],positionLeft:[2,"positionLeft","positionLeft",Je],autoHide:[2,"autoHide","autoHide",Z],fitContent:[2,"fitContent","fitContent",Z],hideOnEscape:[2,"hideOnEscape","hideOnEscape",Z],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions",appendTo:[1,"appendTo"],ptTooltip:[1,"ptTooltip"]},features:[Se([P9,{provide:A9,useExisting:i},{provide:et,useExisting:i}]),re]})}return i})(),na=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Pt,Pt]})}return i})();var Gr=(()=>{class i extends qg{required=qe(void 0,{transform:Z});invalid=qe(void 0,{transform:Z});disabled=qe(void 0,{transform:Z});name=qe();_disabled=lt(!1);$disabled=ct(()=>this.disabled()||this._disabled());onModelChange=()=>{};onModelTouched=()=>{};writeDisabledState(e){this._disabled.set(e)}writeControlValue(e,t){}writeValue(e){this.writeControlValue(e,this.writeModelValue.bind(this))}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.writeDisabledState(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,inputs:{required:[1,"required"],invalid:[1,"invalid"],disabled:[1,"disabled"],name:[1,"name"]},features:[re]})}return i})();var k9=`
    .p-checkbox {
        position: relative;
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
        width: dt('checkbox.width');
        height: dt('checkbox.height');
    }

    .p-checkbox-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        inset-block-start: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border: 1px solid transparent;
        border-radius: dt('checkbox.border.radius');
    }

    .p-checkbox-box {
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: dt('checkbox.border.radius');
        border: 1px solid dt('checkbox.border.color');
        background: dt('checkbox.background');
        width: dt('checkbox.width');
        height: dt('checkbox.height');
        transition:
            background dt('checkbox.transition.duration'),
            color dt('checkbox.transition.duration'),
            border-color dt('checkbox.transition.duration'),
            box-shadow dt('checkbox.transition.duration'),
            outline-color dt('checkbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('checkbox.shadow');
    }

    .p-checkbox-icon {
        transition-duration: dt('checkbox.transition.duration');
        color: dt('checkbox.icon.color');
        font-size: dt('checkbox.icon.size');
        width: dt('checkbox.icon.size');
        height: dt('checkbox.icon.size');
    }

    .p-checkbox:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        border-color: dt('checkbox.hover.border.color');
    }

    .p-checkbox-checked .p-checkbox-box {
        border-color: dt('checkbox.checked.border.color');
        background: dt('checkbox.checked.background');
    }

    .p-checkbox-checked .p-checkbox-icon {
        color: dt('checkbox.icon.checked.color');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        background: dt('checkbox.checked.hover.background');
        border-color: dt('checkbox.checked.hover.border.color');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-icon {
        color: dt('checkbox.icon.checked.hover.color');
    }

    .p-checkbox:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
        border-color: dt('checkbox.focus.border.color');
        box-shadow: dt('checkbox.focus.ring.shadow');
        outline: dt('checkbox.focus.ring.width') dt('checkbox.focus.ring.style') dt('checkbox.focus.ring.color');
        outline-offset: dt('checkbox.focus.ring.offset');
    }

    .p-checkbox-checked:not(.p-disabled):has(.p-checkbox-input:focus-visible) .p-checkbox-box {
        border-color: dt('checkbox.checked.focus.border.color');
    }

    .p-checkbox.p-invalid > .p-checkbox-box {
        border-color: dt('checkbox.invalid.border.color');
    }

    .p-checkbox.p-variant-filled .p-checkbox-box {
        background: dt('checkbox.filled.background');
    }

    .p-checkbox-checked.p-variant-filled .p-checkbox-box {
        background: dt('checkbox.checked.background');
    }

    .p-checkbox-checked.p-variant-filled:not(.p-disabled):has(.p-checkbox-input:hover) .p-checkbox-box {
        background: dt('checkbox.checked.hover.background');
    }

    .p-checkbox.p-disabled {
        opacity: 1;
    }

    .p-checkbox.p-disabled .p-checkbox-box {
        background: dt('checkbox.disabled.background');
        border-color: dt('checkbox.checked.disabled.border.color');
    }

    .p-checkbox.p-disabled .p-checkbox-box .p-checkbox-icon {
        color: dt('checkbox.icon.disabled.color');
    }

    .p-checkbox-sm,
    .p-checkbox-sm .p-checkbox-box {
        width: dt('checkbox.sm.width');
        height: dt('checkbox.sm.height');
    }

    .p-checkbox-sm .p-checkbox-icon {
        font-size: dt('checkbox.icon.sm.size');
        width: dt('checkbox.icon.sm.size');
        height: dt('checkbox.icon.sm.size');
    }

    .p-checkbox-lg,
    .p-checkbox-lg .p-checkbox-box {
        width: dt('checkbox.lg.width');
        height: dt('checkbox.lg.height');
    }

    .p-checkbox-lg .p-checkbox-icon {
        font-size: dt('checkbox.icon.lg.size');
        width: dt('checkbox.icon.lg.size');
        height: dt('checkbox.icon.lg.size');
    }
`;var Phe=["icon"],Ahe=["input"],khe=(i,n)=>({checked:i,class:n});function Nhe(i,n){if(i&1&&N(0,"span",8),i&2){let e=h(3);j(e.cx("icon")),f("ngClass",e.checkboxIcon)("pBind",e.ptm("icon"))}}function Fhe(i,n){if(i&1&&(xe(),N(0,"svg",9)),i&2){let e=h(3);j(e.cx("icon")),f("pBind",e.ptm("icon"))}}function Lhe(i,n){if(i&1&&(we(0),E(1,Nhe,1,4,"span",6)(2,Fhe,1,3,"svg",7),Ce()),i&2){let e=h(2);p(),f("ngIf",e.checkboxIcon),p(),f("ngIf",!e.checkboxIcon)}}function Mhe(i,n){if(i&1&&(xe(),N(0,"svg",10)),i&2){let e=h(2);j(e.cx("icon")),f("pBind",e.ptm("icon"))}}function Bhe(i,n){if(i&1&&(we(0),E(1,Lhe,3,2,"ng-container",3)(2,Mhe,1,3,"svg",5),Ce()),i&2){let e=h();p(),f("ngIf",e.checked),p(),f("ngIf",e._indeterminate())}}function Vhe(i,n){}function Uhe(i,n){i&1&&E(0,Vhe,0,0,"ng-template")}var jhe=`
    ${k9}

    /* For PrimeNG */
    p-checkBox.ng-invalid.ng-dirty .p-checkbox-box,
    p-check-box.ng-invalid.ng-dirty .p-checkbox-box,
    p-checkbox.ng-invalid.ng-dirty .p-checkbox-box {
        border-color: dt('checkbox.invalid.border.color');
    }
`,Ghe={root:({instance:i})=>["p-checkbox p-component",{"p-checkbox-checked p-highlight":i.checked,"p-disabled":i.$disabled(),"p-invalid":i.invalid(),"p-variant-filled":i.$variant()==="filled","p-checkbox-sm p-inputfield-sm":i.size()==="small","p-checkbox-lg p-inputfield-lg":i.size()==="large"}],box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon"},N9=(()=>{class i extends Ye{name="checkbox";style=jhe;classes=Ghe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var F9=new he("CHECKBOX_INSTANCE"),Hhe={provide:Bn,useExisting:Xt(()=>or),multi:!0},or=(()=>{class i extends Gr{hostName="";value;binary;ariaLabelledBy;ariaLabel;tabindex;inputId;inputStyle;styleClass;inputClass;indeterminate=!1;formControl;checkboxIcon;readonly;autofocus;trueValue=!0;falseValue=!1;variant=qe();size=qe();onChange=new te;onFocus=new te;onBlur=new te;inputViewChild;get checked(){return this._indeterminate()?!1:this.binary?this.modelValue()===this.trueValue:d8(this.value,this.modelValue())}_indeterminate=lt(void 0);checkboxIconTemplate;templates;_checkboxIconTemplate;focused=!1;_componentStyle=z(N9);bindDirectiveInstance=z(pe,{self:!0});$pcCheckbox=z(F9,{optional:!0,skipSelf:!0})??void 0;$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"icon":this._checkboxIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break}})}onChanges(e){e.indeterminate&&this._indeterminate.set(e.indeterminate.currentValue)}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}updateModel(e){let t,o=this.injector.get(os,null,{optional:!0,self:!0}),r=o&&!this.formControl?o.value:this.modelValue();this.binary?(t=this._indeterminate()?this.trueValue:this.checked?this.falseValue:this.trueValue,this.writeModelValue(t),this.onModelChange(t)):(this.checked||this._indeterminate()?t=r.filter(s=>!Kn(s,this.value)):t=r?[...r,this.value]:[this.value],this.onModelChange(t),this.writeModelValue(t),this.formControl&&this.formControl.setValue(t)),this._indeterminate()&&this._indeterminate.set(!1),this.onChange.emit({checked:t,originalEvent:e})}handleChange(e){this.readonly||this.updateModel(e)}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeControlValue(e,t){t(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-checkbox"],["p-checkBox"],["p-check-box"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Phe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.checkboxIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&_e(Ahe,5),t&2){let r;W(r=$())&&(o.inputViewChild=r.first)}},hostVars:5,hostBindings:function(t,o){t&2&&(ce("data-p-highlight",o.checked)("data-p-checked",o.checked)("data-p-disabled",o.$disabled()),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{hostName:"hostName",value:"value",binary:[2,"binary","binary",Z],ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",Je],inputId:"inputId",inputStyle:"inputStyle",styleClass:"styleClass",inputClass:"inputClass",indeterminate:[2,"indeterminate","indeterminate",Z],formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",Z],autofocus:[2,"autofocus","autofocus",Z],trueValue:"trueValue",falseValue:"falseValue",variant:[1,"variant"],size:[1,"size"]},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[Se([Hhe,N9,{provide:F9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:5,vars:24,consts:[["input",""],["type","checkbox",3,"focus","blur","change","checked","pBind"],[3,"pBind"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus",3,"class","pBind",4,"ngIf"],[3,"class","ngClass","pBind",4,"ngIf"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],[3,"ngClass","pBind"],["data-p-icon","check",3,"pBind"],["data-p-icon","minus",3,"pBind"]],template:function(t,o){if(t&1){let r=B();_(0,"input",1,0),A("focus",function(a){return w(r),C(o.onInputFocus(a))})("blur",function(a){return w(r),C(o.onInputBlur(a))})("change",function(a){return w(r),C(o.handleChange(a))}),b(),_(2,"div",2),E(3,Bhe,3,2,"ng-container",3)(4,Uhe,1,0,null,4),b()}t&2&&(De(o.inputStyle),j(o.cn(o.cx("input"),o.inputClass)),f("checked",o.checked)("pBind",o.ptm("input")),ce("id",o.inputId)("value",o.value)("name",o.name())("tabindex",o.tabindex)("required",o.required()?"":void 0)("readonly",o.readonly?"":void 0)("disabled",o.$disabled()?"":void 0)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel),p(2),j(o.cx("box")),f("pBind",o.ptm("box")),p(),f("ngIf",!o.checkboxIconTemplate&&!o._checkboxIconTemplate),p(),f("ngTemplateOutlet",o.checkboxIconTemplate||o._checkboxIconTemplate)("ngTemplateOutletContext",Ct(21,khe,o.checked,o.cx("icon"))))},dependencies:[Qe,$t,pt,gt,Oe,gd,$g,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),wy=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[or,Oe,Oe]})}return i})();var L9=`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
        overflow: hidden;
        background: dt('tabs.tablist.background');
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`;var zhe=["previcon"],Whe=["nexticon"],K9=["content"],$he=["prevButton"],Khe=["nextButton"],qhe=["inkbar"],Jhe=["tabs"],Cy=["*"];function Qhe(i,n){i&1&&ve(0)}function Yhe(i,n){if(i&1&&E(0,Qhe,1,0,"ng-container",11),i&2){let e=h(2);f("ngTemplateOutlet",e.prevIconTemplate||e._prevIconTemplate)}}function Xhe(i,n){i&1&&(xe(),N(0,"svg",10))}function Zhe(i,n){if(i&1){let e=B();_(0,"button",9,3),A("click",function(){w(e);let o=h();return C(o.onPrevButtonClick())}),G(2,Yhe,1,1,"ng-container")(3,Xhe,1,0,":svg:svg",10),b()}if(i&2){let e=h();j(e.cx("prevButton")),f("pBind",e.ptm("prevButton")),ce("aria-label",e.prevButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),p(2),H(e.prevIconTemplate||e._prevIconTemplate?2:3)}}function efe(i,n){i&1&&ve(0)}function tfe(i,n){if(i&1&&E(0,efe,1,0,"ng-container",11),i&2){let e=h(2);f("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function ife(i,n){i&1&&(xe(),N(0,"svg",12))}function nfe(i,n){if(i&1){let e=B();_(0,"button",9,4),A("click",function(){w(e);let o=h();return C(o.onNextButtonClick())}),G(2,tfe,1,1,"ng-container")(3,ife,1,0,":svg:svg",12),b()}if(i&2){let e=h();j(e.cx("nextButton")),f("pBind",e.ptm("nextButton")),ce("aria-label",e.nextButtonAriaLabel)("tabindex",e.tabindex())("data-pc-group-section","navigator"),p(2),H(e.nextIconTemplate||e._nextIconTemplate?2:3)}}function ofe(i,n){i&1&&Ht(0)}function rfe(i,n){i&1&&ve(0)}function sfe(i,n){if(i&1&&E(0,rfe,1,0,"ng-container",1),i&2){let e=h(),t=Ze(1);f("ngTemplateOutlet",e.content()?e.content():t)}}var afe={root:({instance:i})=>["p-tabs p-component",{"p-tabs-scrollable":i.scrollable()}]},M9=(()=>{class i extends Ye{name="tabs";style=L9;classes=afe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var lfe={root:({instance:i})=>["p-tab",{"p-tab-active":i.active(),"p-disabled":i.disabled()}]},B9=(()=>{class i extends Ye{name="tab";classes=lfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var cfe={root:"p-tablist",content:"p-tablist-content p-tablist-viewport",tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},V9=(()=>{class i extends Ye{name="tablist";classes=cfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var U9=new he("TABLIST_INSTANCE"),q9=(()=>{class i extends Xe{$pcTabList=z(U9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}prevIconTemplate;nextIconTemplate;templates;content;prevButton;nextButton;inkbar;tabs;pcTabs=z(Xt(()=>Z1));isPrevButtonEnabled=lt(!1);isNextButtonEnabled=lt(!1);resizeObserver;showNavigators=ct(()=>this.pcTabs.showNavigators());tabindex=ct(()=>this.pcTabs.tabindex());scrollable=ct(()=>this.pcTabs.scrollable());_componentStyle=z(V9);constructor(){super(),In(()=>{this.pcTabs.value(),At(this.platformId)&&setTimeout(()=>{this.updateInkBar()})})}get prevButtonAriaLabel(){return this.config?.translation?.aria?.previous}get nextButtonAriaLabel(){return this.config?.translation?.aria?.next}onAfterViewInit(){this.showNavigators()&&At(this.platformId)&&(this.updateButtonState(),this.bindResizeObserver())}_prevIconTemplate;_nextIconTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"previcon":this._prevIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break}})}onDestroy(){this.unbindResizeObserver()}onScroll(e){this.showNavigators()&&this.updateButtonState(),e.preventDefault()}onPrevButtonClick(){let e=this.content.nativeElement,t=ba(e),o=Math.abs(e.scrollLeft)-t,r=o<=0?0:o;e.scrollLeft=U1(e)?-1*r:r}onNextButtonClick(){let e=this.content.nativeElement,t=ba(e)-this.getVisibleButtonWidths(),o=e.scrollLeft+t,r=e.scrollWidth-t,s=o>=r?r:o;e.scrollLeft=U1(e)?-1*s:s}updateButtonState(){let e=this.content?.nativeElement,t=this.el?.nativeElement,{scrollWidth:o,offsetWidth:r}=e,s=Math.abs(e.scrollLeft),a=ba(e);this.isPrevButtonEnabled.set(s!==0),this.isNextButtonEnabled.set(t.offsetWidth>=r&&Math.abs(s-o+a)>1)}updateInkBar(){let e=this.content?.nativeElement,t=this.inkbar?.nativeElement,o=this.tabs?.nativeElement,r=Et(e,'[data-pc-name="tab"][data-p-active="true"]');t&&(t.style.width=Dn(r)+"px",t.style.left=ta(r).left-ta(o).left+"px")}getVisibleButtonWidths(){let e=this.prevButton?.nativeElement,t=this.nextButton?.nativeElement;return[e,t].reduce((o,r)=>r?o+ba(r):o,0)}bindResizeObserver(){this.resizeObserver=new ResizeObserver(()=>this.updateButtonState()),this.resizeObserver.observe(this.el.nativeElement)}unbindResizeObserver(){this.resizeObserver&&(this.resizeObserver.unobserve(this.el.nativeElement),this.resizeObserver=null)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["p-tablist"]],contentQueries:function(t,o,r){if(t&1&&(se(r,zhe,4),se(r,Whe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.prevIconTemplate=s.first),W(s=$())&&(o.nextIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(K9,5),_e($he,5),_e(Khe,5),_e(qhe,5),_e(Jhe,5)),t&2){let r;W(r=$())&&(o.content=r.first),W(r=$())&&(o.prevButton=r.first),W(r=$())&&(o.nextButton=r.first),W(r=$())&&(o.inkbar=r.first),W(r=$())&&(o.tabs=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("root"))},features:[Se([V9,{provide:U9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Cy,decls:9,vars:11,consts:[["content",""],["tabs",""],["inkbar",""],["prevButton",""],["nextButton",""],["type","button","pRipple","",3,"pBind","class"],[3,"scroll","pBind"],["role","tablist",3,"pBind"],["role","presentation",3,"pBind"],["type","button","pRipple","",3,"click","pBind"],["data-p-icon","chevron-left"],[4,"ngTemplateOutlet"],["data-p-icon","chevron-right"]],template:function(t,o){if(t&1){let r=B();ci(),G(0,Zhe,4,7,"button",5),_(1,"div",6,0),A("scroll",function(a){return w(r),C(o.onScroll(a))}),_(3,"div",7,1),Ht(5),N(6,"span",8,2),b()(),G(8,nfe,4,7,"button",5)}t&2&&(H(o.showNavigators()&&o.isPrevButtonEnabled()?0:-1),p(),j(o.cx("content")),f("pBind",o.ptm("content")),p(2),j(o.cx("tabList")),f("pBind",o.ptm("tabList")),p(3),j(o.cx("activeBar")),f("pBind",o.ptm("activeBar")),p(2),H(o.showNavigators()&&o.isNextButtonEnabled()?8:-1))},dependencies:[Qe,gt,Q1,vp,Z8,oo,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),j9=new he("TAB_INSTANCE"),dfe=(()=>{class i extends Xe{$pcTab=z(j9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value=Tf();disabled=qe(!1,{transform:Z});pcTabs=z(Xt(()=>Z1));pcTabList=z(Xt(()=>q9));el=z(Ei);_componentStyle=z(B9);ripple=ct(()=>this.config.ripple());id=ct(()=>`${this.pcTabs.id()}_tab_${this.value()}`);ariaControls=ct(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);active=ct(()=>Kn(this.pcTabs.value(),this.value()));tabindex=ct(()=>this.disabled()?-1:this.active()?this.pcTabs.tabindex():-1);mutationObserver;onFocus(e){this.disabled()||this.pcTabs.selectOnFocus()&&this.changeActiveValue()}onClick(e){this.disabled()||this.changeActiveValue()}onKeyDown(e){switch(e.code){case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(e);break;default:break}e.stopPropagation()}onAfterViewInit(){this.bindMutationObserver()}onArrowRightKey(e){let t=this.findNextTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onHomeKey(e),e.preventDefault()}onArrowLeftKey(e){let t=this.findPrevTab(e.currentTarget);t?this.changeFocusedTab(e,t):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let t=this.findFirstTab();this.changeFocusedTab(e,t),e.preventDefault()}onEndKey(e){let t=this.findLastTab();this.changeFocusedTab(e,t),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.findLastTab()),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.findFirstTab()),e.preventDefault()}onEnterKey(e){this.disabled()||this.changeActiveValue(),e.preventDefault()}findNextTab(e,t=!1){let o=t?e:e.nextElementSibling;return o?Ng(o,"data-p-disabled")||Ng(o,"data-pc-section")==="activebar"?this.findNextTab(o):o:null}findPrevTab(e,t=!1){let o=t?e:e.previousElementSibling;return o?Ng(o,"data-p-disabled")||Ng(o,"data-pc-section")==="activebar"?this.findPrevTab(o):o:null}findFirstTab(){return this.findNextTab(this.pcTabList?.tabs?.nativeElement?.firstElementChild,!0)}findLastTab(){return this.findPrevTab(this.pcTabList?.tabs?.nativeElement?.lastElementChild,!0)}changeActiveValue(){this.pcTabs.updateValue(this.value())}changeFocusedTab(e,t){Di(t),this.scrollInView(t)}scrollInView(e){e?.scrollIntoView?.({block:"nearest"})}bindMutationObserver(){At(this.platformId)&&(this.mutationObserver=new MutationObserver(e=>{e.forEach(()=>{this.active()&&this.pcTabList?.updateInkBar()})}),this.mutationObserver.observe(this.el.nativeElement,{childList:!0,characterData:!0,subtree:!0}))}unbindMutationObserver(){this.mutationObserver?.disconnect()}onDestroy(){this.mutationObserver&&this.unbindMutationObserver()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-tab"]],hostVars:10,hostBindings:function(t,o){t&1&&A("focus",function(s){return o.onFocus(s)})("click",function(s){return o.onClick(s)})("keydown",function(s){return o.onKeyDown(s)}),t&2&&(ce("id",o.id())("aria-controls",o.ariaControls())("role","tab")("aria-selected",o.active())("aria-disabled",o.disabled())("data-p-disabled",o.disabled())("data-p-active",o.active())("tabindex",o.tabindex()),j(o.cx("root")))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},features:[Se([B9,{provide:j9,useExisting:i},{provide:et,useExisting:i}]),nt([oo,pe]),re],ngContentSelectors:Cy,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Oe,Pt],encapsulation:2,changeDetection:0})}return i})(),pfe={root:({instance:i})=>["p-tabpanel",{"p-tabpanel-active":i.active()}]},G9=(()=>{class i extends Ye{name="tabpanel";classes=pfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var H9=new he("TABPANEL_INSTANCE"),ufe=(()=>{class i extends Xe{$pcTabPanel=z(H9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});pcTabs=z(Xt(()=>Z1));onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}lazy=qe(!1,{transform:Z});value=Tf(void 0);content=Ab("content");id=ct(()=>`${this.pcTabs.id()}_tabpanel_${this.value()}`);ariaLabelledby=ct(()=>`${this.pcTabs.id()}_tab_${this.value()}`);active=ct(()=>Kn(this.pcTabs.value(),this.value()));isLazyEnabled=ct(()=>this.pcTabs.lazy()||this.lazy());hasBeenRendered=!1;shouldRender=ct(()=>!this.isLazyEnabled()||this.hasBeenRendered?!0:this.active()?(this.hasBeenRendered=!0,!0):!1);_componentStyle=z(G9);static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-tabpanel"]],contentQueries:function(t,o,r){t&1&&_g(r,o.content,K9,5),t&2&&Rb()},hostVars:7,hostBindings:function(t,o){t&2&&(Xi("hidden",!o.active()),ce("id",o.id())("role","tabpanel")("aria-labelledby",o.ariaLabelledby())("data-p-active",o.active()),j(o.cx("root")))},inputs:{lazy:[1,"lazy"],value:[1,"value"]},outputs:{value:"valueChange"},features:[Se([G9,{provide:H9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Cy,decls:3,vars:1,consts:[["defaultContent",""],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(ci(),E(0,ofe,1,0,"ng-template",null,0,ie),G(2,sfe,1,1,"ng-container")),t&2&&(p(2),H(o.shouldRender()?2:-1))},dependencies:[gt,Pt],encapsulation:2,changeDetection:0})}return i})(),hfe={root:"p-tabpanels"},z9=(()=>{class i extends Ye{name="tabpanels";classes=hfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var W9=new he("TABPANELS_INSTANCE"),ffe=(()=>{class i extends Xe{$pcTabPanels=z(W9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});_componentStyle=z(z9);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-tabpanels"]],hostVars:3,hostBindings:function(t,o){t&2&&(ce("role","presentation"),j(o.cx("root")))},features:[Se([z9,{provide:W9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Cy,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Pt],encapsulation:2,changeDetection:0})}return i})(),$9=new he("TABS_INSTANCE"),Z1=(()=>{class i extends Xe{$pcTabs=z($9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value=Tf(void 0);scrollable=qe(!1,{transform:Z});lazy=qe(!1,{transform:Z});selectOnFocus=qe(!1,{transform:Z});showNavigators=qe(!0,{transform:Z});tabindex=qe(0,{transform:Je});id=lt(Vt("pn_id_"));_componentStyle=z(M9);updateValue(e){this.value.update(()=>e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-tabs"]],hostVars:3,hostBindings:function(t,o){t&2&&(ce("id",o.id()),j(o.cx("root")))},inputs:{value:[1,"value"],scrollable:[1,"scrollable"],lazy:[1,"lazy"],selectOnFocus:[1,"selectOnFocus"],showNavigators:[1,"showNavigators"],tabindex:[1,"tabindex"]},outputs:{value:"valueChange"},features:[Se([M9,{provide:$9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Cy,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Pt],encapsulation:2,changeDetection:0})}return i})(),ZA=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Z1,ffe,ufe,q9,dfe,Pt,Pt]})}return i})();var Bu=(()=>{class i extends Gr{pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});fluid=qe(void 0,{transform:Z});variant=qe();size=qe();inputSize=qe();pattern=qe();min=qe();max=qe();step=qe();minlength=qe();maxlength=qe();$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());get hasFluid(){return this.fluid()??!!this.pcFluid}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,inputs:{fluid:[1,"fluid"],variant:[1,"variant"],size:[1,"size"],inputSize:[1,"inputSize"],pattern:[1,"pattern"],min:[1,"min"],max:[1,"max"],step:[1,"step"],minlength:[1,"minlength"],maxlength:[1,"maxlength"]},features:[re]})}return i})();var J9=`
    .p-iconfield {
        position: relative;
        display: block;
    }

    .p-inputicon {
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * (dt('icon.size') / 2));
        color: dt('iconfield.icon.color');
        line-height: 1;
        z-index: 1;
    }

    .p-iconfield .p-inputicon:first-child {
        inset-inline-start: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputicon:last-child {
        inset-inline-end: dt('form.field.padding.x');
    }

    .p-iconfield .p-inputtext:not(:first-child),
    .p-iconfield .p-inputwrapper:not(:first-child) .p-inputtext {
        padding-inline-start: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield .p-inputtext:not(:last-child) {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-iconfield:has(.p-inputfield-sm) .p-inputicon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
        margin-top: calc(-1 * (dt('form.field.sm.font.size') / 2));
    }

    .p-iconfield:has(.p-inputfield-lg) .p-inputicon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
        margin-top: calc(-1 * (dt('form.field.lg.font.size') / 2));
    }
`;var mfe=["*"],gfe={root:({instance:i})=>["p-iconfield",{"p-iconfield-left":i.iconPosition=="left","p-iconfield-right":i.iconPosition=="right"}]},Q9=(()=>{class i extends Ye{name="iconfield";style=J9;classes=gfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Y9=new he("ICONFIELD_INSTANCE"),Vu=(()=>{class i extends Xe{hostName="";_componentStyle=z(Q9);$pcIconField=z(Y9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}iconPosition="left";styleClass;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{hostName:"hostName",iconPosition:"iconPosition",styleClass:"styleClass"},features:[Se([Q9,{provide:Y9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:mfe,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Pt],encapsulation:2,changeDetection:0})}return i})();var _fe=["*"],bfe={root:"p-inputicon"},X9=(()=>{class i extends Ye{name="inputicon";classes=bfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Z9=new he("INPUTICON_INSTANCE"),Uu=(()=>{class i extends Xe{hostName="";styleClass;_componentStyle=z(X9);$pcInputIcon=z(Z9,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{hostName:"hostName",styleClass:"styleClass"},features:[Se([X9,{provide:Z9,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:_fe,decls:1,vars:0,template:function(t,o){t&1&&(ci(),Ht(0))},dependencies:[Qe,Oe,Pt],encapsulation:2,changeDetection:0})}return i})();var eG=["content"],yfe=["overlay"],vfe=["*"],wfe=(i,n,e)=>({showTransitionParams:i,hideTransitionParams:n,transform:e}),Cfe=i=>({value:"visible",params:i}),Sfe=i=>({mode:i}),Ife=i=>({$implicit:i});function Efe(i,n){i&1&&ve(0)}function xfe(i,n){if(i&1){let e=B();_(0,"div",3,1),A("click",function(o){w(e);let r=h(2);return C(r.onOverlayContentClick(o))})("@overlayContentAnimation.start",function(o){w(e);let r=h(2);return C(r.onOverlayContentAnimationStart(o))})("@overlayContentAnimation.done",function(o){w(e);let r=h(2);return C(r.onOverlayContentAnimationDone(o))}),Ht(2),E(3,Efe,1,0,"ng-container",4),b()}if(i&2){let e=h(2);j(e.cn(e.cx("content"),e.contentStyleClass)),f("pBind",e.ptm("content"))("@overlayContentAnimation",de(10,Cfe,ga(6,wfe,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),p(3),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",de(14,Ife,de(12,Sfe,e.overlayMode)))}}function Tfe(i,n){if(i&1){let e=B();_(0,"div",3,0),A("click",function(){w(e);let o=h();return C(o.onOverlayClick())}),E(2,xfe,4,16,"div",2),b()}if(i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("pBind",e.ptm("root")),p(2),f("ngIf",e.visible)}}var Ofe=`
.p-overlay {
    position: absolute;
    top: 0;
}

.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
}

/* Github Issue #18560 */
.p-component-overlay.p-component {
    position: relative;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}

.p-overlay-content ~ .p-overlay-content {
    display: none;
}
`,Rfe={host:"p-overlay-host",root:({instance:i})=>["p-overlay p-component",{"p-overlay-modal p-overlay-mask p-overlay-mask-enter":i.modal,"p-overlay-center":i.modal&&i.overlayResponsiveDirection==="center","p-overlay-top":i.modal&&i.overlayResponsiveDirection==="top","p-overlay-top-start":i.modal&&i.overlayResponsiveDirection==="top-start","p-overlay-top-end":i.modal&&i.overlayResponsiveDirection==="top-end","p-overlay-bottom":i.modal&&i.overlayResponsiveDirection==="bottom","p-overlay-bottom-start":i.modal&&i.overlayResponsiveDirection==="bottom-start","p-overlay-bottom-end":i.modal&&i.overlayResponsiveDirection==="bottom-end","p-overlay-left":i.modal&&i.overlayResponsiveDirection==="left","p-overlay-left-start":i.modal&&i.overlayResponsiveDirection==="left-start","p-overlay-left-end":i.modal&&i.overlayResponsiveDirection==="left-end","p-overlay-right":i.modal&&i.overlayResponsiveDirection==="right","p-overlay-right-start":i.modal&&i.overlayResponsiveDirection==="right-start","p-overlay-right-end":i.modal&&i.overlayResponsiveDirection==="right-end"}],content:"p-overlay-content"},tG=(()=>{class i extends Ye{name="overlay";style=Ofe;classes=Rfe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),iG=new he("OVERLAY_INSTANCE"),Dfe=_d([Yt({transform:"{{transform}}",opacity:0}),hi("{{showTransitionParams}}")]),Pfe=_d([hi("{{hideTransitionParams}}",Yt({transform:"{{transform}}",opacity:0}))]),eI=(()=>{class i extends Xe{overlayService;zone;$pcOverlay=z(iG,{optional:!0,skipSelf:!0})??void 0;hostName="";get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return wi.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return wi.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return wi.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return wi.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}appendTo=qe(void 0);visibleChange=new te;onBeforeShow=new te;onShow=new te;onBeforeHide=new te;onHide=new te;onAnimationStart=new te;onAnimationDone=new te;overlayViewChild;contentViewChild;contentTemplate;templates;hostAttrSelector=qe();$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=z(tG);bindDirectiveInstance=z(pe,{self:!0});documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(At(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return ee(ee({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return ee(ee({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return FA(this.target,this.el?.nativeElement)}constructor(e,t){super(),this.overlayService=e,this.zone=t}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}show(e,t=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&Di(this.targetEl),this.modal&&fo(this.document?.body,"p-overflow-hidden")}hide(e,t=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),t&&Di(this.targetEl),this.modal&&hr(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&st.alignOverlay(this.overlayEl,this.targetEl,this.$appendTo())}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Bi.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),this.hostAttrSelector()&&this.overlayEl&&this.overlayEl.setAttribute(this.hostAttrSelector(),""),st.appendOverlay(this.overlayEl,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo()),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&fo(this.overlayEl,"p-overlay-mask-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let t=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&(this.show(t,!0),this.bindListeners());break;case"void":if(!this.visible){this.hide(t,!0),this.modalVisible=!1,this.unbindListeners(),st.appendOverlay(this.overlayEl,this.targetEl,this.$appendTo()),Bi.clear(t),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,t){this[e].emit(t),this.options&&this.options[e]&&this.options[e](t),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](t)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let o=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&o}):o)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Sr()}):!Sr())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Sr()}):!Sr())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}onDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&this.$appendTo()!=="self"&&(this.renderer.appendChild(this.el.nativeElement,this.overlayEl),Bi.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(t){return new(t||i)(x(Ur),x(Ft))};static \u0275cmp=oe({type:i,selectors:[["p-overlay"]],contentQueries:function(t,o,r){if(t&1&&(se(r,eG,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(yfe,5),_e(eG,5)),t&2){let r;W(r=$())&&(o.overlayViewChild=r.first),W(r=$())&&(o.contentViewChild=r.first)}},inputs:{hostName:"hostName",visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options",appendTo:[1,"appendTo"],hostAttrSelector:[1,"hostAttrSelector"]},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Se([tG,{provide:iG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:vfe,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"class","pBind","click",4,"ngIf"],[3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(ci(),E(0,Tfe,3,4,"div",2)),t&2&&f("ngIf",o.modalVisible)},dependencies:[Qe,pt,gt,Oe,pe],encapsulation:2,data:{animation:[vn("overlayContentAnimation",[li(":enter",[bd(Dfe)]),li(":leave",[bd(Pfe)])])]},changeDetection:0})}return i})();var nG=["content"],Afe=["item"],kfe=["loader"],Nfe=["loadericon"],Ffe=["element"],Lfe=["*"],ek=(i,n)=>({$implicit:i,options:n}),Mfe=i=>({numCols:i}),sG=i=>({options:i}),Bfe=()=>({styleClass:"p-virtualscroller-loading-icon"}),Vfe=(i,n)=>({rows:i,columns:n});function Ufe(i,n){i&1&&ve(0)}function jfe(i,n){if(i&1&&(we(0),E(1,Ufe,1,0,"ng-container",10),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Ct(2,ek,e.loadedItems,e.getContentOptions()))}}function Gfe(i,n){i&1&&ve(0)}function Hfe(i,n){if(i&1&&(we(0),E(1,Gfe,1,0,"ng-container",10),Ce()),i&2){let e=n.$implicit,t=n.index,o=h(3);p(),f("ngTemplateOutlet",o.itemTemplate||o._itemTemplate)("ngTemplateOutletContext",Ct(2,ek,e,o.getOptions(t)))}}function zfe(i,n){if(i&1&&(_(0,"div",11,3),E(2,Hfe,2,5,"ng-container",12),b()),i&2){let e=h(2);De(e.contentStyle),j(e.cn(e.cx("content"),e.contentStyleClass)),f("pBind",e.ptm("content")),p(2),f("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy)}}function Wfe(i,n){if(i&1&&N(0,"div",13),i&2){let e=h(2);j(e.cx("spacer")),f("ngStyle",e.spacerStyle)("pBind",e.ptm("spacer"))}}function $fe(i,n){i&1&&ve(0)}function Kfe(i,n){if(i&1&&(we(0),E(1,$fe,1,0,"ng-container",10),Ce()),i&2){let e=n.index,t=h(4);p(),f("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",de(4,sG,t.getLoaderOptions(e,t.both&&de(2,Mfe,t.numItemsInViewport.cols))))}}function qfe(i,n){if(i&1&&(we(0),E(1,Kfe,2,6,"ng-container",14),Ce()),i&2){let e=h(3);p(),f("ngForOf",e.loaderArr)}}function Jfe(i,n){i&1&&ve(0)}function Qfe(i,n){if(i&1&&(we(0),E(1,Jfe,1,0,"ng-container",10),Ce()),i&2){let e=h(4);p(),f("ngTemplateOutlet",e.loaderIconTemplate||e._loaderIconTemplate)("ngTemplateOutletContext",de(3,sG,Pe(2,Bfe)))}}function Yfe(i,n){if(i&1&&(xe(),N(0,"svg",15)),i&2){let e=h(4);j(e.cx("loadingIcon")),f("spin",!0)("pBind",e.ptm("loadingIcon"))}}function Xfe(i,n){if(i&1&&E(0,Qfe,2,5,"ng-container",6)(1,Yfe,1,4,"ng-template",null,5,ie),i&2){let e=Ze(2),t=h(3);f("ngIf",t.loaderIconTemplate||t._loaderIconTemplate)("ngIfElse",e)}}function Zfe(i,n){if(i&1&&(_(0,"div",11),E(1,qfe,2,1,"ng-container",6)(2,Xfe,3,2,"ng-template",null,4,ie),b()),i&2){let e=Ze(3),t=h(2);j(t.cx("loader")),f("pBind",t.ptm("loader")),p(),f("ngIf",t.loaderTemplate||t._loaderTemplate)("ngIfElse",e)}}function eme(i,n){if(i&1){let e=B();we(0),_(1,"div",7,1),A("scroll",function(o){w(e);let r=h();return C(r.onContainerScroll(o))}),E(3,jfe,2,5,"ng-container",6)(4,zfe,3,7,"ng-template",null,2,ie)(6,Wfe,1,4,"div",8)(7,Zfe,4,5,"div",9),b(),Ce()}if(i&2){let e=Ze(5),t=h();p(),j(t.cn(t.cx("root"),t.styleClass)),f("ngStyle",t._style)("pBind",t.ptm("root")),ce("id",t._id)("tabindex",t.tabindex),p(2),f("ngIf",t.contentTemplate||t._contentTemplate)("ngIfElse",e),p(3),f("ngIf",t._showSpacer),p(),f("ngIf",!t.loaderDisabled&&t._showLoader&&t.d_loading)}}function tme(i,n){i&1&&ve(0)}function ime(i,n){if(i&1&&(we(0),E(1,tme,1,0,"ng-container",10),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Ct(5,ek,e.items,Ct(2,Vfe,e._items,e.loadedColumns)))}}function nme(i,n){if(i&1&&(Ht(0),E(1,ime,2,8,"ng-container",16)),i&2){let e=h();p(),f("ngIf",e.contentTemplate||e._contentTemplate)}}var ome=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: dt('virtualscroller.loader.mask.background');
    color: dt('virtualscroller.loader.mask.color');
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: dt('virtualscroller.loader.icon.size');
    width: dt('virtualscroller.loader.icon.size');
    height: dt('virtualscroller.loader.icon.size');
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,rme={root:({instance:i})=>["p-virtualscroller",{"p-virtualscroller-inline":i.inline,"p-virtualscroller-both p-both-scroll":i.both,"p-virtualscroller-horizontal p-horizontal-scroll":i.horizontal}],content:"p-virtualscroller-content",spacer:"p-virtualscroller-spacer",loader:({instance:i})=>["p-virtualscroller-loader",{"p-virtualscroller-loader-mask":!i.loaderTemplate}],loadingIcon:"p-virtualscroller-loading-icon"},oG=(()=>{class i extends Ye{name="virtualscroller";css=ome;classes=rme;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var rG=new he("SCROLLER_INSTANCE"),Fa=(()=>{class i extends Xe{zone;componentName="virtualScroller";bindDirectiveInstance=z(pe,{self:!0});$pcScroller=z(rG,{optional:!0,skipSelf:!0})??void 0;hostName="";get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&(Object.entries(e).forEach(([t,o])=>this[`_${t}`]!==o&&(this[`_${t}`]=o)),Object.entries(e).forEach(([t,o])=>this[`${t}`]!==o&&(this[`${t}`]=o)))}onLazyLoad=new te;onScroll=new te;onScrollIndexChange=new te;elementViewChild;contentViewChild;height;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;templates;_contentTemplate;_itemTemplate;_loaderTemplate;_loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;_contentStyleClass;get contentStyleClass(){return this._contentStyleClass}set contentStyleClass(e){this._contentStyleClass=e}get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:Array.isArray(e)?e.slice(this._appendOnly?0:this.first.cols,this.last.cols):e):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}_componentStyle=z(oG);constructor(e){super(),this.zone=e}onInit(){this.setInitialState()}onChanges(e){let t=!1;if(this.scrollHeight=="100%"&&(this.height="100%"),e.loading){let{previousValue:o,currentValue:r}=e.loading;this.lazy&&o!==r&&r!==this.d_loading&&(this.d_loading=r,t=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:o,currentValue:r}=e.numToleratedItems;o!==r&&r!==this.d_numToleratedItems&&(this.d_numToleratedItems=r)}if(e.options){let{previousValue:o,currentValue:r}=e.options;this.lazy&&o?.loading!==r?.loading&&r?.loading!==this.d_loading&&(this.d_loading=r.loading,t=!0),o?.numToleratedItems!==r?.numToleratedItems&&r?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=r.numToleratedItems)}this.initialized&&!t&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"loadericon":this._loaderIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host")),this.initialized||this.viewInit()}onDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){At(this.platformId)&&!this.initialized&&LA(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=ba(this.elementViewChild?.nativeElement),this.defaultHeight=ud(this.elementViewChild?.nativeElement),this.defaultContentWidth=ba(this.contentEl),this.defaultContentHeight=ud(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.bindResizeListener(),setTimeout(()=>{this.setSpacerSize(),this.setSize(),this.calculateOptions(),this.cd.detectChanges()},1))}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Et(this.elementViewChild?.nativeElement,".p-virtualscroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,(this.d_loading===void 0||this.d_loading===!1)&&(this.d_loading=this._loading||!1),this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=this.loaderArr.length>0?this.loaderArr:[]}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,t="auto"){if(this.both?e.every(r=>r>-1):e>-1){let r=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),d=this.itemSize,u=(I=0,P)=>I<=P?0:I,m=(I,P,L)=>I*P+L,g=(I=0,P=0)=>this.scrollTo({left:I,top:P,behavior:t}),y=this.both?{rows:0,cols:0}:0,v=!1,S=!1;this.both?(y={rows:u(e[0],l[0]),cols:u(e[1],l[1])},g(m(y.cols,d[1],c.left),m(y.rows,d[0],c.top)),S=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,v=y.rows!==r.rows||y.cols!==r.cols):(y=u(e,l),this.horizontal?g(m(y,d,c.left),s):g(a,m(y,d,c.top)),S=this.lastScrollPos!==(this.horizontal?a:s),v=y!==r),this.isRangeChanged=v,S&&(this.first=y)}}scrollInView(e,t,o="auto"){if(t){let{first:r,viewport:s}=this.getRenderedRange(),a=(d=0,u=0)=>this.scrollTo({left:d,top:u,behavior:o}),l=t==="to-start",c=t==="to-end";if(l){if(this.both)s.first.rows-r.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-r.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-r>e){let d=(s.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(c){if(this.both)s.last.rows-r.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-r.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-r<=e+1){let d=(s.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(e,o)}getRenderedRange(){let e=(r,s)=>s||r?Math.floor(r/(s||r)):0,t=this.first,o=0;if(this.elementViewChild?.nativeElement){let{scrollTop:r,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)t={rows:e(r,this._itemSize[0]),cols:e(s,this._itemSize[1])},o={rows:t.rows+this.numItemsInViewport.rows,cols:t.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:r;t=e(a,this._itemSize),o=t+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:t,last:o}}}calculateNumItems(){let e=this.getContentPosition(),t=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,o=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,r=(c,d)=>d||c?Math.ceil(c/(d||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:r(o,this._itemSize[0]),cols:r(t,this._itemSize[1])}:r(this.horizontal?t:o,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:t}=this.calculateNumItems(),o=(a,l,c,d=!1)=>this.getLast(a+l+(a<c?2:3)*c,d),r=this.first,s=this.both?{rows:o(this.first.rows,e.rows,t[0]),cols:o(this.first.cols,e.cols,t[1],!0)}:o(this.first,e,t);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=t,this._showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:r.cols}:0:r,last:Math.min(this._step?this._step:this.last,this._items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,t]=[ba(this.contentEl),ud(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),t!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[o,r]=[ba(this.elementViewChild.nativeElement),ud(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=o<this.defaultWidth?o+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=r<this.defaultHeight?r+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,t=!1){return this._items?Math.min(t?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),t=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),o=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),r=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:t,right:o,top:r,bottom:s,x:t+o,y:r+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement,t=e.parentElement?.parentElement,o=e.offsetWidth,r=t?.offsetWidth||0,s=this._scrollWidth||`${o||r}px`,a=e.offsetHeight,l=t?.offsetHeight||0,c=this._scrollHeight||`${a||l}px`,d=(u,m)=>e.style[u]=m;this.both||this.horizontal?(d("height",c),d("width",s)):d("height",c)}}setSpacerSize(){if(this._items){let e=this.getContentPosition(),t=(o,r,s,a=0)=>this.spacerStyle=Fe(ee({},this.spacerStyle),{[`${o}`]:(r||[]).length*s+a+"px"});this.both?(t("height",this._items,this._itemSize[0],e.y),t("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?t("width",this._columns||this._items,this._itemSize,e.x):t("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let t=e?e.first:this.first,o=(s,a)=>s*a,r=(s=0,a=0)=>this.contentStyle=Fe(ee({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)r(o(t.cols,this._itemSize[1]),o(t.rows,this._itemSize[0]));else{let s=o(t,this._itemSize);this.horizontal?r(s,0):r(0,s)}}}onScrollPositionChange(e){let t=e.target;if(!t)throw new Error("Event target is null");let o=this.getContentPosition(),r=(S,I)=>S?S>I?S-I:S:0,s=(S,I)=>I||S?Math.floor(S/(I||S)):0,a=(S,I,P,L,F,K)=>S<=F?F:K?P-L-F:I+F-1,l=(S,I,P,L,F,K,le)=>S<=K?0:Math.max(0,le?S<I?P:S-K:S>I?P:S-2*K),c=(S,I,P,L,F,K=!1)=>{let le=I+L+2*F;return S>=F&&(le+=F+1),this.getLast(le,K)},d=r(t.scrollTop,o.top),u=r(t.scrollLeft,o.left),m=this.both?{rows:0,cols:0}:0,g=this.last,y=!1,v=this.lastScrollPos;if(this.both){let S=this.lastScrollPos.top<=d,I=this.lastScrollPos.left<=u;if(!this._appendOnly||this._appendOnly&&(S||I)){let P={rows:s(d,this._itemSize[0]),cols:s(u,this._itemSize[1])},L={rows:a(P.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],S),cols:a(P.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],I)};m={rows:l(P.rows,L.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],S),cols:l(P.cols,L.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],I)},g={rows:c(P.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(P.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},y=m.rows!==this.first.rows||g.rows!==this.last.rows||m.cols!==this.first.cols||g.cols!==this.last.cols||this.isRangeChanged,v={top:d,left:u}}}else{let S=this.horizontal?u:d,I=this.lastScrollPos<=S;if(!this._appendOnly||this._appendOnly&&I){let P=s(S,this._itemSize),L=a(P,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I);m=l(P,L,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,I),g=c(P,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),y=m!==this.first||g!==this.last||this.isRangeChanged,v=S}}return{first:m,last:g,isRangeChanged:y,scrollPos:v}}onScrollChange(e){let{first:t,last:o,isRangeChanged:r,scrollPos:s}=this.onScrollPositionChange(e);if(r){let a={first:t,last:o};if(this.setContentPosition(a),this.first=t,this.last=o,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(t)){let l={first:this._step?Math.min(this.getPageByFirst(t)*this._step,this._items.length-this._step):t,last:Math.min(this._step?(this.getPageByFirst(t)+1)*this._step:o,this._items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this._showLoader){let{isRangeChanged:t}=this.onScrollPositionChange(e);(t||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this._showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst()),this.cd.detectChanges()},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){At(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,t=Sr()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,t,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(LA(this.elementViewChild?.nativeElement)){let[e,t]=[ba(this.elementViewChild?.nativeElement),ud(this.elementViewChild?.nativeElement)],[o,r]=[e!==this.defaultWidth,t!==this.defaultHeight];(this.both?o||r:this.horizontal?o:this.vertical?r:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=t,this.defaultContentWidth=ba(this.contentEl),this.defaultContentHeight=ud(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,t){return this.options&&this.options[e]?this.options[e](t):this[e].emit(t)}getContentOptions(){return{contentStyleClass:`p-virtualscroller-content ${this.d_loading?"p-virtualscroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,t)=>this.getLoaderOptions(e,t),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both,scrollTo:this.scrollTo.bind(this),scrollToIndex:this.scrollToIndex.bind(this),orientation:this._orientation,scrollableElement:this.elementViewChild?.nativeElement}}getOptions(e){let t=(this._items||[]).length,o=this.both?this.first.rows+e:this.first+e;return{index:o,count:t,first:o===0,last:o===t-1,even:o%2===0,odd:o%2!==0}}getLoaderOptions(e,t){let o=this.loaderArr.length;return ee({index:e,count:o,first:e===0,last:e===o-1,even:e%2===0,odd:e%2!==0,loading:this.d_loading},t)}static \u0275fac=function(t){return new(t||i)(x(Ft))};static \u0275cmp=oe({type:i,selectors:[["p-scroller"],["p-virtualscroller"],["p-virtual-scroller"],["p-virtualScroller"]],contentQueries:function(t,o,r){if(t&1&&(se(r,nG,4),se(r,Afe,4),se(r,kfe,4),se(r,Nfe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.loaderTemplate=s.first),W(s=$())&&(o.loaderIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(Ffe,5),_e(nG,5)),t&2){let r;W(r=$())&&(o.elementViewChild=r.first),W(r=$())&&(o.contentViewChild=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&Kt("height",o.height)},inputs:{hostName:"hostName",id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Se([oG,{provide:rG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:Lfe,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","pBind"],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pBind"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle","pBind"],[4,"ngFor","ngForOf"],["data-p-icon","spinner",3,"spin","pBind"],[4,"ngIf"]],template:function(t,o){if(t&1&&(ci(),E(0,eme,8,10,"ng-container",6)(1,nme,2,1,"ng-template",null,0,ie)),t&2){let r=Ze(2);f("ngIf",!o._disabled)("ngIfElse",r)}},dependencies:[Qe,Mn,pt,gt,ft,cl,Oe,pe],encapsulation:2})}return i})(),tk=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Fa,Oe,Oe]})}return i})();var aG=`
    .p-select {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('select.background');
        border: 1px solid dt('select.border.color');
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            outline-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration');
        border-radius: dt('select.border.radius');
        outline-color: transparent;
        box-shadow: dt('select.shadow');
    }

    .p-select:not(.p-disabled):hover {
        border-color: dt('select.hover.border.color');
    }

    .p-select:not(.p-disabled).p-focus {
        border-color: dt('select.focus.border.color');
        box-shadow: dt('select.focus.ring.shadow');
        outline: dt('select.focus.ring.width') dt('select.focus.ring.style') dt('select.focus.ring.color');
        outline-offset: dt('select.focus.ring.offset');
    }

    .p-select.p-variant-filled {
        background: dt('select.filled.background');
    }

    .p-select.p-variant-filled:not(.p-disabled):hover {
        background: dt('select.filled.hover.background');
    }

    .p-select.p-variant-filled:not(.p-disabled).p-focus {
        background: dt('select.filled.focus.background');
    }

    .p-select.p-invalid {
        border-color: dt('select.invalid.border.color');
    }

    .p-select.p-disabled {
        opacity: 1;
        background: dt('select.disabled.background');
    }

    .p-select-clear-icon {
        align-self: center;
        color: dt('select.clear.icon.color');
        inset-inline-end: dt('select.dropdown.width');
    }

    .p-select-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('select.dropdown.color');
        width: dt('select.dropdown.width');
        border-start-end-radius: dt('select.border.radius');
        border-end-end-radius: dt('select.border.radius');
    }

    .p-select-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        padding: dt('select.padding.y') dt('select.padding.x');
        text-overflow: ellipsis;
        cursor: pointer;
        color: dt('select.color');
        background: transparent;
        border: 0 none;
        outline: 0 none;
        font-size: 1rem;
    }

    .p-select-label.p-placeholder {
        color: dt('select.placeholder.color');
    }

    .p-select.p-invalid .p-select-label.p-placeholder {
        color: dt('select.invalid.placeholder.color');
    }

    .p-select.p-disabled .p-select-label {
        color: dt('select.disabled.color');
    }

    .p-select-label-empty {
        overflow: hidden;
        opacity: 0;
    }

    input.p-select-label {
        cursor: default;
    }

    .p-select-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('select.overlay.background');
        color: dt('select.overlay.color');
        border: 1px solid dt('select.overlay.border.color');
        border-radius: dt('select.overlay.border.radius');
        box-shadow: dt('select.overlay.shadow');
        min-width: 100%;
    }

    .p-select-header {
        padding: dt('select.list.header.padding');
    }

    .p-select-filter {
        width: 100%;
    }

    .p-select-list-container {
        overflow: auto;
    }

    .p-select-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('select.option.group.padding');
        background: dt('select.option.group.background');
        color: dt('select.option.group.color');
        font-weight: dt('select.option.group.font.weight');
    }

    .p-select-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('select.list.padding');
        gap: dt('select.list.gap');
        display: flex;
        flex-direction: column;
    }

    .p-select-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        padding: dt('select.option.padding');
        border: 0 none;
        color: dt('select.option.color');
        background: transparent;
        transition:
            background dt('select.transition.duration'),
            color dt('select.transition.duration'),
            border-color dt('select.transition.duration'),
            box-shadow dt('select.transition.duration'),
            outline-color dt('select.transition.duration');
        border-radius: dt('select.option.border.radius');
    }

    .p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
        background: dt('select.option.focus.background');
        color: dt('select.option.focus.color');
    }

    .p-select-option.p-select-option-selected {
        background: dt('select.option.selected.background');
        color: dt('select.option.selected.color');
    }

    .p-select-option.p-select-option-selected.p-focus {
        background: dt('select.option.selected.focus.background');
        color: dt('select.option.selected.focus.color');
    }

    .p-select-option-blank-icon {
        flex-shrink: 0;
    }

    .p-select-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('select.checkmark.gutter.start');
        margin-inline-end: dt('select.checkmark.gutter.end');
        color: dt('select.checkmark.color');
    }

    .p-select-empty-message {
        padding: dt('select.empty.message.padding');
    }

    .p-select-fluid {
        display: flex;
        width: 100%;
    }

    .p-select-sm .p-select-label {
        font-size: dt('select.sm.font.size');
        padding-block: dt('select.sm.padding.y');
        padding-inline: dt('select.sm.padding.x');
    }

    .p-select-sm .p-select-dropdown .p-icon {
        font-size: dt('select.sm.font.size');
        width: dt('select.sm.font.size');
        height: dt('select.sm.font.size');
    }

    .p-select-lg .p-select-label {
        font-size: dt('select.lg.font.size');
        padding-block: dt('select.lg.padding.y');
        padding-inline: dt('select.lg.padding.x');
    }

    .p-select-lg .p-select-dropdown .p-icon {
        font-size: dt('select.lg.font.size');
        width: dt('select.lg.font.size');
        height: dt('select.lg.font.size');
    }

    .p-floatlabel-in .p-select-filter {
        padding-block-start: dt('select.padding.y');
        padding-block-end: dt('select.padding.y');
    }
`;var Sy=i=>({height:i}),ik=i=>({$implicit:i});function ame(i,n){if(i&1&&(xe(),N(0,"svg",6)),i&2){let e=h(2);j(e.cx("optionCheckIcon")),f("pBind",e.$pcSelect==null?null:e.$pcSelect.ptm("optionCheckIcon"))}}function lme(i,n){if(i&1&&(xe(),N(0,"svg",7)),i&2){let e=h(2);j(e.cx("optionBlankIcon")),f("pBind",e.$pcSelect==null?null:e.$pcSelect.ptm("optionBlankIcon"))}}function cme(i,n){if(i&1&&(we(0),E(1,ame,1,3,"svg",4)(2,lme,1,3,"svg",5),Ce()),i&2){let e=h();p(),f("ngIf",e.selected),p(),f("ngIf",!e.selected)}}function dme(i,n){if(i&1&&(_(0,"span",8),R(1),b()),i&2){let e=h();f("pBind",e.$pcSelect==null?null:e.$pcSelect.ptm("optionLabel")),p(),Q(e.label??"empty")}}function pme(i,n){i&1&&ve(0)}var ume=["item"],hme=["group"],fme=["loader"],mme=["selectedItem"],gme=["header"],lG=["filter"],_me=["footer"],bme=["emptyfilter"],yme=["empty"],vme=["dropdownicon"],wme=["loadingicon"],Cme=["clearicon"],Sme=["filtericon"],Ime=["onicon"],Eme=["officon"],xme=["cancelicon"],Tme=["focusInput"],Ome=["editableInput"],Rme=["items"],Dme=["scroller"],Pme=["overlay"],Ame=["firstHiddenFocusableEl"],kme=["lastHiddenFocusableEl"],cG=i=>({class:i}),dG=i=>({options:i}),pG=(i,n)=>({$implicit:i,options:n}),Nme=()=>({});function Fme(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Q(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Lme(i,n){if(i&1&&ve(0,24),i&2){let e=h(2);f("ngTemplateOutlet",e.selectedItemTemplate||e._selectedItemTemplate)("ngTemplateOutletContext",de(2,ik,e.selectedOption))}}function Mme(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3);p(),Q(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Bme(i,n){if(i&1&&E(0,Mme,2,1,"span",18),i&2){let e=h(2);f("ngIf",e.isSelectedOptionEmpty())}}function Vme(i,n){if(i&1){let e=B();_(0,"span",22,3),A("focus",function(o){w(e);let r=h();return C(r.onInputFocus(o))})("blur",function(o){w(e);let r=h();return C(r.onInputBlur(o))})("keydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))}),E(2,Fme,2,1,"ng-container",20)(3,Lme,1,4,"ng-container",23)(4,Bme,1,1,"ng-template",null,4,ie),b()}if(i&2){let e=Ze(5),t=h();j(t.cx("label")),f("pBind",t.ptm("label"))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass)("pAutoFocus",t.autofocus),ce("aria-disabled",t.$disabled())("id",t.inputId)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-labelledby",t.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",t.overlayVisible??!1)("aria-controls",t.overlayVisible?t.id+"_list":null)("tabindex",t.$disabled()?-1:t.tabindex)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)("aria-required",t.required())("required",t.required()?"":void 0)("disabled",t.$disabled()?"":void 0),p(2),f("ngIf",!t.selectedItemTemplate&&!t._selectedItemTemplate)("ngIfElse",e),p(),f("ngIf",(t.selectedItemTemplate||t._selectedItemTemplate)&&!t.isSelectedOptionEmpty())}}function Ume(i,n){if(i&1){let e=B();_(0,"input",25,5),A("input",function(o){w(e);let r=h();return C(r.onEditableInput(o))})("keydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))})("focus",function(o){w(e);let r=h();return C(r.onInputFocus(o))})("blur",function(o){w(e);let r=h();return C(r.onInputBlur(o))}),b()}if(i&2){let e=h();j(e.cx("label")),f("pBind",e.ptm("label"))("pAutoFocus",e.autofocus),ce("id",e.inputId)("aria-haspopup","listbox")("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)("name",e.name())("minlength",e.minlength())("min",e.min())("max",e.max())("pattern",e.pattern())("size",e.inputSize())("maxlength",e.maxlength())("required",e.required()?"":void 0)("readonly",e.readonly?"":void 0)("disabled",e.$disabled()?"":void 0)}}function jme(i,n){if(i&1){let e=B();xe(),_(0,"svg",28),A("click",function(o){w(e);let r=h(2);return C(r.clear(o))}),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),ce("data-pc-section","clearicon")}}function Gme(i,n){}function Hme(i,n){i&1&&E(0,Gme,0,0,"ng-template")}function zme(i,n){if(i&1){let e=B();_(0,"span",29),A("click",function(o){w(e);let r=h(2);return C(r.clear(o))}),E(1,Hme,1,0,null,30),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),ce("data-pc-section","clearicon"),p(),f("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)("ngTemplateOutletContext",de(6,cG,e.cx("clearIcon")))}}function Wme(i,n){if(i&1&&(we(0),E(1,jme,1,4,"svg",26)(2,zme,2,8,"span",27),Ce()),i&2){let e=h();p(),f("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),p(),f("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function $me(i,n){i&1&&ve(0)}function Kme(i,n){if(i&1&&(we(0),E(1,$me,1,0,"ng-container",31),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function qme(i,n){if(i&1&&N(0,"span",33),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon)),f("pBind",e.ptm("loadingIcon"))}}function Jme(i,n){if(i&1&&N(0,"span",33),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),"pi pi-spinner pi-spin")),f("pBind",e.ptm("loadingIcon"))}}function Qme(i,n){if(i&1&&(we(0),E(1,qme,1,3,"span",32)(2,Jme,1,3,"span",32),Ce()),i&2){let e=h(2);p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function Yme(i,n){if(i&1&&(we(0),E(1,Kme,2,1,"ng-container",18)(2,Qme,3,2,"ng-container",18),Ce()),i&2){let e=h();p(),f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate),p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate)}}function Xme(i,n){if(i&1&&N(0,"span",36),i&2){let e=h(3);j(e.cn(e.cx("dropdownIcon"),e.dropdownIcon)),f("pBind",e.ptm("dropdownIcon"))}}function Zme(i,n){if(i&1&&(xe(),N(0,"svg",37)),i&2){let e=h(3);j(e.cx("dropdownIcon")),f("pBind",e.ptm("dropdownIcon"))}}function ege(i,n){if(i&1&&(we(0),E(1,Xme,1,3,"span",34)(2,Zme,1,3,"svg",35),Ce()),i&2){let e=h(2);p(),f("ngIf",e.dropdownIcon),p(),f("ngIf",!e.dropdownIcon)}}function tge(i,n){}function ige(i,n){i&1&&E(0,tge,0,0,"ng-template")}function nge(i,n){if(i&1&&(_(0,"span",36),E(1,ige,1,0,null,30),b()),i&2){let e=h(2);j(e.cx("dropdownIcon")),f("pBind",e.ptm("dropdownIcon")),p(),f("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)("ngTemplateOutletContext",de(5,cG,e.cx("dropdownIcon")))}}function oge(i,n){if(i&1&&E(0,ege,3,2,"ng-container",18)(1,nge,2,7,"span",34),i&2){let e=h();f("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),p(),f("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function rge(i,n){i&1&&ve(0)}function sge(i,n){i&1&&ve(0)}function age(i,n){if(i&1&&(we(0),E(1,sge,1,0,"ng-container",30),Ce()),i&2){let e=h(3);p(),f("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",de(2,dG,e.filterOptions))}}function lge(i,n){if(i&1&&(xe(),N(0,"svg",45)),i&2){let e=h(4);f("pBind",e.ptm("filterIcon"))}}function cge(i,n){}function dge(i,n){i&1&&E(0,cge,0,0,"ng-template")}function pge(i,n){if(i&1&&(_(0,"span",36),E(1,dge,1,0,null,31),b()),i&2){let e=h(4);f("pBind",e.ptm("filterIcon")),p(),f("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function uge(i,n){if(i&1){let e=B();_(0,"p-iconfield",41)(1,"input",42,10),A("input",function(o){w(e);let r=h(3);return C(r.onFilterInputChange(o))})("keydown",function(o){w(e);let r=h(3);return C(r.onFilterKeyDown(o))})("blur",function(o){w(e);let r=h(3);return C(r.onFilterBlur(o))}),b(),_(3,"p-inputicon",41),E(4,lge,1,1,"svg",43)(5,pge,2,2,"span",44),b()()}if(i&2){let e=h(3);f("pt",e.ptm("pcFilterContainer")),p(),j(e.cx("pcFilter")),f("pSize",e.size())("value",e._filterValue()||"")("variant",e.$variant())("pt",e.ptm("pcFilter")),ce("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),p(2),f("pt",e.ptm("pcFilterIconContainer")),p(),f("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),p(),f("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function hge(i,n){if(i&1){let e=B();_(0,"div",29),A("click",function(o){return w(e),C(o.stopPropagation())}),E(1,age,2,4,"ng-container",20)(2,uge,6,14,"ng-template",null,9,ie),b()}if(i&2){let e=Ze(3),t=h(2);j(t.cx("header")),f("pBind",t.ptm("header")),p(),f("ngIf",t.filterTemplate||t._filterTemplate)("ngIfElse",e)}}function fge(i,n){i&1&&ve(0)}function mge(i,n){if(i&1&&E(0,fge,1,0,"ng-container",30),i&2){let e=n.$implicit,t=n.options;h(2);let o=Ze(9);f("ngTemplateOutlet",o)("ngTemplateOutletContext",Ct(2,pG,e,t))}}function gge(i,n){i&1&&ve(0)}function _ge(i,n){if(i&1&&E(0,gge,1,0,"ng-container",30),i&2){let e=n.options,t=h(4);f("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",de(2,dG,e))}}function bge(i,n){i&1&&(we(0),E(1,_ge,1,4,"ng-template",null,12,ie),Ce())}function yge(i,n){if(i&1){let e=B();_(0,"p-scroller",46,11),A("onLazyLoad",function(o){w(e);let r=h(2);return C(r.onLazyLoad.emit(o))}),E(2,mge,1,5,"ng-template",null,2,ie)(4,bge,3,0,"ng-container",18),b()}if(i&2){let e=h(2);De(de(9,Sy,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("pt",e.ptm("virtualScroller")),p(4),f("ngIf",e.loaderTemplate||e._loaderTemplate)}}function vge(i,n){i&1&&ve(0)}function wge(i,n){if(i&1&&(we(0),E(1,vge,1,0,"ng-container",30),Ce()),i&2){h();let e=Ze(9),t=h();p(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Ct(3,pG,t.visibleOptions(),Pe(2,Nme)))}}function Cge(i,n){if(i&1&&(_(0,"span",36),R(1),b()),i&2){let e=h(2).$implicit,t=h(3);j(t.cx("optionGroupLabel")),f("pBind",t.ptm("optionGroupLabel")),p(),Q(t.getOptionGroupLabel(e.optionGroup))}}function Sge(i,n){i&1&&ve(0)}function Ige(i,n){if(i&1&&(we(0),_(1,"li",50),E(2,Cge,2,4,"span",34)(3,Sge,1,0,"ng-container",30),b(),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),j(s.cx("optionGroup")),f("ngStyle",de(8,Sy,r.itemSize+"px"))("pBind",s.ptm("optionGroup")),ce("id",s.id+"_"+s.getOptionIndex(o,r)),p(),f("ngIf",!s.groupTemplate&&!s._groupTemplate),p(),f("ngTemplateOutlet",s.groupTemplate||s._groupTemplate)("ngTemplateOutletContext",de(10,ik,t.optionGroup))}}function Ege(i,n){if(i&1){let e=B();we(0),_(1,"p-selectItem",51),A("onClick",function(o){w(e);let r=h().$implicit,s=h(3);return C(s.onOptionSelect(o,r))})("onMouseEnter",function(o){w(e);let r=h().index,s=h().options,a=h(2);return C(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))}),b(),Ce()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),f("id",s.id+"_"+s.getOptionIndex(o,r))("option",t)("checkmark",s.checkmark)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate||s._itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(o,r))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r)))("ariaSetSize",s.ariaSetSize)("index",o)("scrollerOptions",r)}}function xge(i,n){if(i&1&&E(0,Ige,4,12,"ng-container",18)(1,Ege,2,12,"ng-container",18),i&2){let e=n.$implicit,t=h(3);f("ngIf",t.isOptionGroup(e)),p(),f("ngIf",!t.isOptionGroup(e))}}function Tge(i,n){if(i&1&&R(0),i&2){let e=h(4);Y(" ",e.emptyFilterMessageLabel," ")}}function Oge(i,n){i&1&&ve(0,null,14)}function Rge(i,n){if(i&1&&E(0,Oge,2,0,"ng-container",31),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e.emptyTemplate||e._emptyTemplate)}}function Dge(i,n){if(i&1&&(_(0,"li",50),G(1,Tge,1,1)(2,Rge,1,1,"ng-container"),b()),i&2){let e=h().options,t=h(2);j(t.cx("emptyMessage")),f("ngStyle",de(5,Sy,e.itemSize+"px"))("pBind",t.ptm("emptyMessage")),p(),H(!t.emptyFilterTemplate&&!t._emptyFilterTemplate&&!t.emptyTemplate?1:2)}}function Pge(i,n){if(i&1&&R(0),i&2){let e=h(4);Y(" ",e.emptyMessageLabel||e.emptyFilterMessageLabel," ")}}function Age(i,n){i&1&&ve(0,null,15)}function kge(i,n){if(i&1&&E(0,Age,2,0,"ng-container",31),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function Nge(i,n){if(i&1&&(_(0,"li",50),G(1,Pge,1,1)(2,kge,1,1,"ng-container"),b()),i&2){let e=h().options,t=h(2);j(t.cx("emptyMessage")),f("ngStyle",de(5,Sy,e.itemSize+"px"))("pBind",t.ptm("emptyMessage")),p(),H(!t.emptyTemplate&&!t._emptyTemplate?1:2)}}function Fge(i,n){if(i&1&&(_(0,"ul",47,13),E(2,xge,2,2,"ng-template",48)(3,Dge,3,7,"li",49)(4,Nge,3,7,"li",49),b()),i&2){let e=n.$implicit,t=n.options,o=h(2);De(t.contentStyle),j(o.cn(o.cx("list"),t.contentStyleClass)),f("pBind",o.ptm("list")),ce("id",o.id+"_list")("aria-label",o.listLabel),p(2),f("ngForOf",e),p(),f("ngIf",o.filterValue&&o.isEmpty()),p(),f("ngIf",!o.filterValue&&o.isEmpty())}}function Lge(i,n){i&1&&ve(0)}function Mge(i,n){if(i&1){let e=B();_(0,"div",38)(1,"span",39,6),A("focus",function(o){w(e);let r=h();return C(r.onFirstHiddenFocus(o))}),b(),E(3,rge,1,0,"ng-container",31)(4,hge,4,5,"div",27),_(5,"div",36),E(6,yge,5,11,"p-scroller",40)(7,wge,2,6,"ng-container",18)(8,Fge,5,10,"ng-template",null,7,ie),b(),E(10,Lge,1,0,"ng-container",31),_(11,"span",39,8),A("focus",function(o){w(e);let r=h();return C(r.onLastHiddenFocus(o))}),b()()}if(i&2){let e=h();j(e.cn(e.cx("overlay"),e.panelStyleClass)),f("ngStyle",e.panelStyle)("pBind",e.ptm("overlay")),p(),f("pBind",e.ptm("hiddenFirstFocusableEl")),ce("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),p(),f("ngIf",e.filter),p(),j(e.cx("listContainer")),Kt("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),f("pBind",e.ptm("listContainer")),p(),f("ngIf",e.virtualScroll),p(),f("ngIf",!e.virtualScroll),p(3),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate),p(),f("pBind",e.ptm("hiddenLastFocusableEl")),ce("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Bge=`
    ${aG}

    /* For PrimeNG */
    .p-select-label.p-placeholder {
        color: dt('select.placeholder.color');
    }

    .p-select.ng-invalid.ng-dirty {
        border-color: dt('select.invalid.border.color');
    }

    .p-dropdown.ng-invalid.ng-dirty .p-dropdown-label.p-placeholder,
    .p-select.ng-invalid.ng-dirty .p-select-label.p-placeholder {
        color: dt('select.invalid.placeholder.color');
    }
`,Vge={root:({instance:i})=>["p-select p-component p-inputwrapper",{"p-disabled":i.$disabled(),"p-variant-filled":i.$variant()==="filled","p-focus":i.focused,"p-invalid":i.invalid(),"p-inputwrapper-filled":i.$filled(),"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-select-open":i.overlayVisible,"p-select-fluid":i.hasFluid,"p-select-sm p-inputfield-sm":i.size()==="small","p-select-lg p-inputfield-lg":i.size()==="large"}],label:({instance:i})=>["p-select-label",{"p-placeholder":i.placeholder()&&i.label()===i.placeholder(),"p-select-label-empty":!i.editable&&!i.selectedItemTemplate&&(i.label()===void 0||i.label()===null||i.label()==="p-emptylabel"||i.label().length===0)}],clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingIcon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:({instance:i})=>["p-select-option",{"p-select-option-selected":i.selected&&!i.checkmark,"p-disabled":i.disabled,"p-focus":i.focused}],optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},tI=(()=>{class i extends Ye{name="select";style=Bge;classes=Vge;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var uG=new he("SELECT_INSTANCE"),Uge=new he("SELECT_ITEM_INSTANCE"),jge={provide:Bn,useExisting:Xt(()=>Pn),multi:!0},Gge=(()=>{class i extends Xe{hostName="select";$pcSelectItem=z(Uge,{optional:!0,skipSelf:!0})??void 0;$pcSelect=z(uG,{optional:!0,skipSelf:!0})??void 0;id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;index;scrollerOptions;onClick=new te;onMouseEnter=new te;_componentStyle=z(tI);onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}getPTOptions(){return this.$pcSelect?.getPTItemOptions?.(this.option,this.scrollerOptions,this.index??0,"option")??this.$pcSelect?.ptm("option",{context:{option:this.option,selected:this.selected,focused:this.focused,disabled:this.disabled}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-selectItem"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",Z],focused:[2,"focused","focused",Z],label:"label",disabled:[2,"disabled","disabled",Z],visible:[2,"visible","visible",Z],itemSize:[2,"itemSize","itemSize",Je],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",Z],index:"index",scrollerOptions:"scrollerOptions"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Se([tI,{provide:et,useExisting:i}]),re],decls:4,vars:20,consts:[["role","option","pRipple","",3,"click","mouseenter","id","pBind","ngStyle"],[4,"ngIf"],[3,"pBind",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],["data-p-icon","blank",3,"class","pBind",4,"ngIf"],["data-p-icon","check",3,"pBind"],["data-p-icon","blank",3,"pBind"],[3,"pBind"]],template:function(t,o){t&1&&(_(0,"li",0),A("click",function(s){return o.onOptionClick(s)})("mouseenter",function(s){return o.onOptionMouseEnter(s)}),E(1,cme,3,2,"ng-container",1)(2,dme,2,2,"span",2)(3,pme,1,0,"ng-container",3),b()),t&2&&(j(o.cx("option")),f("id",o.id)("pBind",o.getPTOptions())("ngStyle",de(16,Sy,o.itemSize+"px")),ce("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled),p(),f("ngIf",o.checkmark),p(),f("ngIf",!o.template),p(),f("ngTemplateOutlet",o.template)("ngTemplateOutletContext",de(18,ik,o.option)))},dependencies:[Qe,pt,gt,ft,Oe,oo,gd,J1,Pt,pe],encapsulation:2})}return i})(),Pn=(()=>{class i extends Bu{zone;filterService;bindDirectiveInstance=z(pe,{self:!0});id;scrollHeight="200px";filter;panelStyle;styleClass;panelStyleClass;readonly;editable;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!0;selectOnFocus=!1;autoOptionFocus=!1;autofocusFilter=!0;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){py(e,this._options())||this._options.set(e)}appendTo=qe(void 0);onChange=new te;onFilter=new te;onFocus=new te;onBlur=new te;onClick=new te;onShow=new te;onHide=new te;onClear=new te;onLazyLoad=new te;_componentStyle=z(tI);filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;itemsWrapper;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;onIconTemplate;offIconTemplate;cancelIconTemplate;templates;_itemTemplate;_selectedItemTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_groupTemplate;_loaderTemplate;_dropdownIconTemplate;_loadingIconTemplate;_clearIconTemplate;_filterIconTemplate;_cancelIconTemplate;_onIconTemplate;_offIconTemplate;filterOptions;_options=lt(null);_placeholder=lt(void 0);value;hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=lt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=lt(-1);labelId;listId;clicked=lt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(xi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(xi.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.$disabled()}get listLabel(){return this.config.getTranslation(xi.ARIA).listLabel}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=ct(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let o=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options?.filter(r=>r.label?r.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:r.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let r=this.options||[],s=[];return r.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(d=>o?.includes(d));c.length>0&&s.push(Fe(ee({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return o}return e});label=ct(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=e.findIndex(o=>this.isOptionValueEqualsModelValue(o));if(t!==-1){let o=e[t];return this.getOptionLabel(o)}return this.placeholder()||"p-emptylabel"});selectedOption;constructor(e,t){super(),this.zone=e,this.filterService=t,In(()=>{let o=this.modelValue(),r=this.visibleOptions();if(r&&qt(r)){let s=this.findSelectedOptionIndex();if(s!==-1||o===void 0||typeof o=="string"&&o.length===0||this.isModelValueNotSet()||this.editable)this.selectedOption=r[s];else{let a=r.findIndex(l=>this.isSelected(l));a!==-1&&(this.selectedOption=r[a])}}jo(r)&&(o===void 0||this.isModelValueNotSet())&&qt(this.selectedOption)&&(this.selectedOption=null),o!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}onInit(){this.id=this.id||Vt("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"selectedItem":this._selectedItemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"cancelicon":this._cancelIconTemplate=e.template;break;case"onicon":this._onIconTemplate=e.template;break;case"officon":this._offIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}onAfterViewChecked(){if(this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"])),this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=Et(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-select-option-selected");e&&o8(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1))}onOptionSelect(e,t,o=!0,r=!1){if(!this.isOptionDisabled(t)){if(!this.isSelected(t)){let s=this.getOptionValue(t);this.updateModel(s,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r===!1&&this.onChange.emit({originalEvent:e,value:s})}o&&this.hide(!0)}}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}updateModel(e,t){this.value=e,this.onModelChange(e),this.writeModelValue(e),this.selectedOptionUpdated=!0}allowModelChange(){return!!this.modelValue()&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return e!=null&&!this.isOptionGroup(e)&&Kn(this.modelValue(),this.getOptionValue(e),this.equalityKey())}onAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){let e=this.el.nativeElement.parentElement,t=e?.classList.contains("p-float-label");if(e&&t&&!this.selectedOption){let o=e.querySelector("label");o&&this._placeholder.set(o.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?zi(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?zi(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getPTItemOptions(e,t,o,r){return this.ptm(r,{context:{option:e,index:o,selected:this.isSelected(e),focused:this.focusedOptionIndex()===this.getOptionIndex(o,t),disabled:this.isOptionDisabled(e)}})}isSelectedOptionEmpty(){return jo(this.selectedOption)}isOptionDisabled(e){return this.optionDisabled?zi(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?zi(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?zi(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}onContainerClick(e){this.$disabled()||this.readonly||this.loading||e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]')||((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges())}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let t=e.target.value;this.searchValue="",!this.searchOptions(e,t)&&this.focusedOptionIndex.set(-1),this.onModelChange(t),this.updateModel(t||null,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:t})},1),!this.overlayVisible&&qt(t)&&this.show()}show(e){this.overlayVisible=!0,this.focusedOptionIndex.set(this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex()),e&&Di(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=Et(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-select-list-container"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=Et(this.itemsWrapper,".p-select-option.p-select-option-selected");t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&yp(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&Di(this.focusInputViewChild?.nativeElement),this.editable&&this.editableInputViewChild&&Di(this.editableInputViewChild?.nativeElement)),this.cd.markForCheck()}onInputFocus(e){if(this.$disabled())return;this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),!this.preventModelTouched&&!this.overlayVisible&&this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,t=!1){if(!(this.$disabled()||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,t);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&hd(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,t)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,t){if(this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus)){let o=this.visibleOptions()[t];this.onOptionSelect(e,o,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let o=Et(this.itemsViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?void 0:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?ss(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findLastOptionIndex(){return ss(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,t=!1){if(e.altKey&&!t){if(this.focusedOptionIndex()!==-1){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}this.overlayVisible&&this.hide()}else{let o=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,t=!1){if(t&&e.currentTarget&&e.currentTarget.setSelectionRange){let o=e.currentTarget;e.shiftKey?o.setSelectionRange(0,o.value.length):(o.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,t=!1){if(t&&e.currentTarget&&e.currentTarget.setSelectionRange){let o=e.currentTarget;if(e.shiftKey)o.setSelectionRange(0,o.value.length);else{let r=o.value.length;o.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,t=!1){!this.editable&&!t&&this.onEnterKey(e)}onEnterKey(e,t=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}!t&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&(this.hide(!0),e.preventDefault(),e.stopPropagation())}onTabKey(e,t=!1){if(!t)if(this.overlayVisible&&this.hasFocusableElements())Di(e.shiftKey?this.lastHiddenFocusableElementOnOverlay?.nativeElement:this.firstHiddenFocusableElementOnOverlay?.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let o=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,o)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?mp(this.overlayViewChild?.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;Di(t)}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?Lg(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Di(t)}hasFocusableElements(){return fp(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,t=!1){t&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&setTimeout(()=>{this.changeFocusedOptionIndex(e,o)}),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue?.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller?.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild?.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?Et(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Di(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}writeControlValue(e,t){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),t(this.value),this.updateEditableLabel(),this.cd.markForCheck()}static \u0275fac=function(t){return new(t||i)(x(Ft),x(fd))};static \u0275cmp=oe({type:i,selectors:[["p-select"]],contentQueries:function(t,o,r){if(t&1&&(se(r,ume,4),se(r,hme,4),se(r,fme,4),se(r,mme,4),se(r,gme,4),se(r,lG,4),se(r,_me,4),se(r,bme,4),se(r,yme,4),se(r,vme,4),se(r,wme,4),se(r,Cme,4),se(r,Sme,4),se(r,Ime,4),se(r,Eme,4),se(r,xme,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.groupTemplate=s.first),W(s=$())&&(o.loaderTemplate=s.first),W(s=$())&&(o.selectedItemTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.filterTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.emptyFilterTemplate=s.first),W(s=$())&&(o.emptyTemplate=s.first),W(s=$())&&(o.dropdownIconTemplate=s.first),W(s=$())&&(o.loadingIconTemplate=s.first),W(s=$())&&(o.clearIconTemplate=s.first),W(s=$())&&(o.filterIconTemplate=s.first),W(s=$())&&(o.onIconTemplate=s.first),W(s=$())&&(o.offIconTemplate=s.first),W(s=$())&&(o.cancelIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(lG,5),_e(Tme,5),_e(Ome,5),_e(Rme,5),_e(Dme,5),_e(Pme,5),_e(Ame,5),_e(kme,5)),t&2){let r;W(r=$())&&(o.filterViewChild=r.first),W(r=$())&&(o.focusInputViewChild=r.first),W(r=$())&&(o.editableInputViewChild=r.first),W(r=$())&&(o.itemsViewChild=r.first),W(r=$())&&(o.scroller=r.first),W(r=$())&&(o.overlayViewChild=r.first),W(r=$())&&(o.firstHiddenFocusableElementOnOverlay=r.first),W(r=$())&&(o.lastHiddenFocusableElementOnOverlay=r.first)}},hostVars:3,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onContainerClick(s)}),t&2&&(ce("id",o.id),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",Z],panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",Z],editable:[2,"editable","editable",Z],tabindex:[2,"tabindex","tabindex",Je],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",Z],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",Z],checkmark:[2,"checkmark","checkmark",Z],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",Z],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",group:[2,"group","group",Z],showClear:[2,"showClear","showClear",Z],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",Z],virtualScroll:[2,"virtualScroll","virtualScroll",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",Z],selectOnFocus:[2,"selectOnFocus","selectOnFocus",Z],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",Z],autofocusFilter:[2,"autofocusFilter","autofocusFilter",Z],filterValue:"filterValue",options:"options",appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Se([jge,tI,{provide:uG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:11,vars:16,consts:[["elseBlock",""],["overlay",""],["content",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["loader",""],["items",""],["emptyFilter",""],["empty",""],["role","combobox",3,"class","pBind","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","focus","blur","keydown",4,"ngIf"],["type","text",3,"class","pBind","pAutoFocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",3,"pBind"],[4,"ngIf","ngIfElse"],["hostName","select",3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","pt","visible","options","target","appendTo"],["role","combobox",3,"focus","blur","keydown","pBind","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text",3,"input","keydown","focus","blur","pBind","pAutoFocus"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"class","pBind","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"class","pBind",4,"ngIf"],["aria-hidden","true",3,"pBind"],[3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"class","pBind",4,"ngIf"],[3,"pBind"],["data-p-icon","chevron-down",3,"pBind"],[3,"ngStyle","pBind"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","pBind"],["hostName","select",3,"items","style","itemSize","autoSize","lazy","options","pt","onLazyLoad",4,"ngIf"],[3,"pt"],["pInputText","","type","text","role","searchbox","autocomplete","off",3,"input","keydown","blur","pSize","value","variant","pt"],["data-p-icon","search",3,"pBind",4,"ngIf"],[3,"pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],["hostName","select",3,"onLazyLoad","items","itemSize","autoSize","lazy","options","pt"],["role","listbox",3,"pBind"],["ngFor","",3,"ngForOf"],["role","option",3,"class","ngStyle","pBind",4,"ngIf"],["role","option",3,"ngStyle","pBind"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize","index","scrollerOptions"]],template:function(t,o){if(t&1){let r=B();E(0,Vme,6,23,"span",16)(1,Ume,2,19,"input",17)(2,Wme,3,2,"ng-container",18),_(3,"div",19),E(4,Yme,3,2,"ng-container",20)(5,oge,2,2,"ng-template",null,0,ie),b(),_(7,"p-overlay",21,1),ke("visibleChange",function(a){return w(r),Ne(o.overlayVisible,a)||(o.overlayVisible=a),C(a)}),A("onAnimationStart",function(a){return w(r),C(o.onOverlayAnimationStart(a))})("onHide",function(){return w(r),C(o.hide())}),E(9,Mge,13,22,"ng-template",null,2,ie),b()}if(t&2){let r=Ze(6);f("ngIf",!o.editable),p(),f("ngIf",o.editable),p(),f("ngIf",o.isVisibleClearIcon),p(),j(o.cx("dropdown")),f("pBind",o.ptm("dropdown")),ce("aria-expanded",o.overlayVisible??!1)("data-pc-section","trigger"),p(),f("ngIf",o.loading)("ngIfElse",r),p(3),f("hostAttrSelector",o.$attrSelector)("pt",o.ptm("pcOverlay")),Ae("visible",o.overlayVisible),f("options",o.overlayOptions)("target","@parent")("appendTo",o.$appendTo())}},dependencies:[Qe,Mn,pt,gt,ft,Gge,eI,cn,fr,ks,ll,Nu,si,Vu,Uu,Fa,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),Iy=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Pn,Oe,Oe]})}return i})();var hG=`
    .p-inputnumber {
        display: inline-flex;
        position: relative;
    }

    .p-inputnumber-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto;
        cursor: pointer;
        background: dt('inputnumber.button.background');
        color: dt('inputnumber.button.color');
        width: dt('inputnumber.button.width');
        transition:
            background dt('inputnumber.transition.duration'),
            color dt('inputnumber.transition.duration'),
            border-color dt('inputnumber.transition.duration'),
            outline-color dt('inputnumber.transition.duration');
    }

    .p-inputnumber-button:disabled {
        cursor: auto;
    }

    .p-inputnumber-button:not(:disabled):hover {
        background: dt('inputnumber.button.hover.background');
        color: dt('inputnumber.button.hover.color');
    }

    .p-inputnumber-button:not(:disabled):active {
        background: dt('inputnumber.button.active.background');
        color: dt('inputnumber.button.active.color');
    }

    .p-inputnumber-stacked .p-inputnumber-button {
        position: relative;
        flex: 1 1 auto;
        border: 0 none;
    }

    .p-inputnumber-stacked .p-inputnumber-button-group {
        display: flex;
        flex-direction: column;
        position: absolute;
        inset-block-start: 1px;
        inset-inline-end: 1px;
        height: calc(100% - 2px);
        z-index: 1;
    }

    .p-inputnumber-stacked .p-inputnumber-increment-button {
        padding: 0;
        border-start-end-radius: calc(dt('inputnumber.button.border.radius') - 1px);
    }

    .p-inputnumber-stacked .p-inputnumber-decrement-button {
        padding: 0;
        border-end-end-radius: calc(dt('inputnumber.button.border.radius') - 1px);
    }

    .p-inputnumber-stacked .p-inputnumber-input {
        padding-inline-end: calc(dt('inputnumber.button.width') + dt('form.field.padding.x'));
    }

    .p-inputnumber-horizontal .p-inputnumber-button {
        border: 1px solid dt('inputnumber.button.border.color');
    }

    .p-inputnumber-horizontal .p-inputnumber-button:hover {
        border-color: dt('inputnumber.button.hover.border.color');
    }

    .p-inputnumber-horizontal .p-inputnumber-button:active {
        border-color: dt('inputnumber.button.active.border.color');
    }

    .p-inputnumber-horizontal .p-inputnumber-increment-button {
        order: 3;
        border-start-end-radius: dt('inputnumber.button.border.radius');
        border-end-end-radius: dt('inputnumber.button.border.radius');
        border-inline-start: 0 none;
    }

    .p-inputnumber-horizontal .p-inputnumber-input {
        order: 2;
        border-radius: 0;
    }

    .p-inputnumber-horizontal .p-inputnumber-decrement-button {
        order: 1;
        border-start-start-radius: dt('inputnumber.button.border.radius');
        border-end-start-radius: dt('inputnumber.button.border.radius');
        border-inline-end: 0 none;
    }

    .p-floatlabel:has(.p-inputnumber-horizontal) label {
        margin-inline-start: dt('inputnumber.button.width');
    }

    .p-inputnumber-vertical {
        flex-direction: column;
    }

    .p-inputnumber-vertical .p-inputnumber-button {
        border: 1px solid dt('inputnumber.button.border.color');
        padding: dt('inputnumber.button.vertical.padding');
    }

    .p-inputnumber-vertical .p-inputnumber-button:hover {
        border-color: dt('inputnumber.button.hover.border.color');
    }

    .p-inputnumber-vertical .p-inputnumber-button:active {
        border-color: dt('inputnumber.button.active.border.color');
    }

    .p-inputnumber-vertical .p-inputnumber-increment-button {
        order: 1;
        border-start-start-radius: dt('inputnumber.button.border.radius');
        border-start-end-radius: dt('inputnumber.button.border.radius');
        width: 100%;
        border-block-end: 0 none;
    }

    .p-inputnumber-vertical .p-inputnumber-input {
        order: 2;
        border-radius: 0;
        text-align: center;
    }

    .p-inputnumber-vertical .p-inputnumber-decrement-button {
        order: 3;
        border-end-start-radius: dt('inputnumber.button.border.radius');
        border-end-end-radius: dt('inputnumber.button.border.radius');
        width: 100%;
        border-block-start: 0 none;
    }

    .p-inputnumber-input {
        flex: 1 1 auto;
    }

    .p-inputnumber-fluid {
        width: 100%;
    }

    .p-inputnumber-fluid .p-inputnumber-input {
        width: 1%;
    }

    .p-inputnumber-fluid.p-inputnumber-vertical .p-inputnumber-input {
        width: 100%;
    }

    .p-inputnumber:has(.p-inputtext-sm) .p-inputnumber-button .p-icon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
    }

    .p-inputnumber:has(.p-inputtext-lg) .p-inputnumber-button .p-icon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
    }

    .p-inputnumber-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        inset-inline-end: dt('form.field.padding.x');
        color: dt('form.field.icon.color');
    }

    .p-inputnumber:has(.p-inputnumber-clear-icon) .p-inputnumber-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-inputnumber-stacked .p-inputnumber-clear-icon {
        inset-inline-end: calc(dt('inputnumber.button.width') + dt('form.field.padding.x'));
    }

    .p-inputnumber-stacked:has(.p-inputnumber-clear-icon) .p-inputnumber-input {
        padding-inline-end: calc(dt('inputnumber.button.width') + (dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-inputnumber-horizontal .p-inputnumber-clear-icon {
        inset-inline-end: calc(dt('inputnumber.button.width') + dt('form.field.padding.x'));
    }
`;var Hge=["clearicon"],zge=["incrementbuttonicon"],Wge=["decrementbuttonicon"],$ge=["input"];function Kge(i,n){if(i&1){let e=B();xe(),_(0,"svg",7),A("click",function(){w(e);let o=h(2);return C(o.clear())}),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon"))}}function qge(i,n){}function Jge(i,n){i&1&&E(0,qge,0,0,"ng-template")}function Qge(i,n){if(i&1){let e=B();_(0,"span",8),A("click",function(){w(e);let o=h(2);return C(o.clear())}),E(1,Jge,1,0,null,9),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),p(),f("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function Yge(i,n){if(i&1&&(we(0),E(1,Kge,1,3,"svg",5)(2,Qge,2,4,"span",6),Ce()),i&2){let e=h();p(),f("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),p(),f("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function Xge(i,n){if(i&1&&N(0,"span",13),i&2){let e=h(2);f("pBind",e.ptm("incrementButtonIcon"))("ngClass",e.incrementButtonIcon)}}function Zge(i,n){if(i&1&&(xe(),N(0,"svg",15)),i&2){let e=h(3);f("pBind",e.ptm("incrementButtonIcon"))}}function e_e(i,n){}function t_e(i,n){i&1&&E(0,e_e,0,0,"ng-template")}function i_e(i,n){if(i&1&&(we(0),E(1,Zge,1,1,"svg",14)(2,t_e,1,0,null,9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.incrementButtonIconTemplate&&!e._incrementButtonIconTemplate),p(),f("ngTemplateOutlet",e.incrementButtonIconTemplate||e._incrementButtonIconTemplate)}}function n_e(i,n){if(i&1&&N(0,"span",13),i&2){let e=h(2);f("pBind",e.ptm("decrementButtonIcon"))("ngClass",e.decrementButtonIcon)}}function o_e(i,n){if(i&1&&(xe(),N(0,"svg",17)),i&2){let e=h(3);f("pBind",e.ptm("decrementButtonIcon"))}}function r_e(i,n){}function s_e(i,n){i&1&&E(0,r_e,0,0,"ng-template")}function a_e(i,n){if(i&1&&(we(0),E(1,o_e,1,1,"svg",16)(2,s_e,1,0,null,9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.decrementButtonIconTemplate&&!e._decrementButtonIconTemplate),p(),f("ngTemplateOutlet",e.decrementButtonIconTemplate||e._decrementButtonIconTemplate)}}function l_e(i,n){if(i&1){let e=B();_(0,"span",10)(1,"button",11),A("mousedown",function(o){w(e);let r=h();return C(r.onUpButtonMouseDown(o))})("mouseup",function(){w(e);let o=h();return C(o.onUpButtonMouseUp())})("mouseleave",function(){w(e);let o=h();return C(o.onUpButtonMouseLeave())})("keydown",function(o){w(e);let r=h();return C(r.onUpButtonKeyDown(o))})("keyup",function(){w(e);let o=h();return C(o.onUpButtonKeyUp())}),E(2,Xge,1,2,"span",12)(3,i_e,3,2,"ng-container",2),b(),_(4,"button",11),A("mousedown",function(o){w(e);let r=h();return C(r.onDownButtonMouseDown(o))})("mouseup",function(){w(e);let o=h();return C(o.onDownButtonMouseUp())})("mouseleave",function(){w(e);let o=h();return C(o.onDownButtonMouseLeave())})("keydown",function(o){w(e);let r=h();return C(r.onDownButtonKeyDown(o))})("keyup",function(){w(e);let o=h();return C(o.onDownButtonKeyUp())}),E(5,n_e,1,2,"span",12)(6,a_e,3,2,"ng-container",2),b()()}if(i&2){let e=h();j(e.cx("buttonGroup")),f("pBind",e.ptm("buttonGroup")),p(),j(e.cn(e.cx("incrementButton"),e.incrementButtonClass)),f("pBind",e.ptm("incrementButton")),ce("disabled",e.$disabled()?"":void 0)("aria-hidden",!0),p(),f("ngIf",e.incrementButtonIcon),p(),f("ngIf",!e.incrementButtonIcon),p(),j(e.cn(e.cx("decrementButton"),e.decrementButtonClass)),f("pBind",e.ptm("decrementButton")),ce("disabled",e.$disabled()?"":void 0)("aria-hidden",!0),p(),f("ngIf",e.decrementButtonIcon),p(),f("ngIf",!e.decrementButtonIcon)}}function c_e(i,n){if(i&1&&N(0,"span",13),i&2){let e=h(2);f("pBind",e.ptm("incrementButtonIcon"))("ngClass",e.incrementButtonIcon)}}function d_e(i,n){if(i&1&&(xe(),N(0,"svg",15)),i&2){let e=h(3);f("pBind",e.ptm("incrementButtonIcon"))}}function p_e(i,n){}function u_e(i,n){i&1&&E(0,p_e,0,0,"ng-template")}function h_e(i,n){if(i&1&&(we(0),E(1,d_e,1,1,"svg",14)(2,u_e,1,0,null,9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.incrementButtonIconTemplate&&!e._incrementButtonIconTemplate),p(),f("ngTemplateOutlet",e.incrementButtonIconTemplate||e._incrementButtonIconTemplate)}}function f_e(i,n){if(i&1){let e=B();_(0,"button",11),A("mousedown",function(o){w(e);let r=h();return C(r.onUpButtonMouseDown(o))})("mouseup",function(){w(e);let o=h();return C(o.onUpButtonMouseUp())})("mouseleave",function(){w(e);let o=h();return C(o.onUpButtonMouseLeave())})("keydown",function(o){w(e);let r=h();return C(r.onUpButtonKeyDown(o))})("keyup",function(){w(e);let o=h();return C(o.onUpButtonKeyUp())}),E(1,c_e,1,2,"span",12)(2,h_e,3,2,"ng-container",2),b()}if(i&2){let e=h();j(e.cn(e.cx("incrementButton"),e.incrementButtonClass)),f("pBind",e.ptm("incrementButton")),ce("disabled",e.$disabled()?"":void 0)("aria-hidden",!0),p(),f("ngIf",e.incrementButtonIcon),p(),f("ngIf",!e.incrementButtonIcon)}}function m_e(i,n){if(i&1&&N(0,"span",13),i&2){let e=h(2);f("pBind",e.ptm("decrementButtonIcon"))("ngClass",e.decrementButtonIcon)}}function g_e(i,n){if(i&1&&(xe(),N(0,"svg",17)),i&2){let e=h(3);f("pBind",e.ptm("decrementButtonIcon"))}}function __e(i,n){}function b_e(i,n){i&1&&E(0,__e,0,0,"ng-template")}function y_e(i,n){if(i&1&&(we(0),E(1,g_e,1,1,"svg",16)(2,b_e,1,0,null,9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.decrementButtonIconTemplate&&!e._decrementButtonIconTemplate),p(),f("ngTemplateOutlet",e.decrementButtonIconTemplate||e._decrementButtonIconTemplate)}}function v_e(i,n){if(i&1){let e=B();_(0,"button",11),A("mousedown",function(o){w(e);let r=h();return C(r.onDownButtonMouseDown(o))})("mouseup",function(){w(e);let o=h();return C(o.onDownButtonMouseUp())})("mouseleave",function(){w(e);let o=h();return C(o.onDownButtonMouseLeave())})("keydown",function(o){w(e);let r=h();return C(r.onDownButtonKeyDown(o))})("keyup",function(){w(e);let o=h();return C(o.onDownButtonKeyUp())}),E(1,m_e,1,2,"span",12)(2,y_e,3,2,"ng-container",2),b()}if(i&2){let e=h();j(e.cn(e.cx("decrementButton"),e.decrementButtonClass)),f("pBind",e.ptm("decrementButton")),ce("disabled",e.$disabled()?"":void 0)("aria-hidden",!0),p(),f("ngIf",e.decrementButtonIcon),p(),f("ngIf",!e.decrementButtonIcon)}}var w_e=`
    ${hG}

    /* For PrimeNG */
    p-inputNumber.ng-invalid.ng-dirty > .p-inputtext,
    p-input-number.ng-invalid.ng-dirty > .p-inputtext,
    p-inputnumber.ng-invalid.ng-dirty > .p-inputtext {
        border-color: dt('inputtext.invalid.border.color');
    }

    p-inputNumber.ng-invalid.ng-dirty > .p-inputtext:enabled:focus,
    p-input-number.ng-invalid.ng-dirty > .p-inputtext:enabled:focus,
    p-inputnumber.ng-invalid.ng-dirty > .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
    }

    p-inputNumber.ng-invalid.ng-dirty > .p-inputtext::placeholder,
    p-input-number.ng-invalid.ng-dirty > .p-inputtext::placeholder,
    p-inputnumber.ng-invalid.ng-dirty > .p-inputtext::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }
`,C_e={root:({instance:i})=>["p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":i.$filled()||i.allowEmpty===!1,"p-inputwrapper-focus":i.focused,"p-inputnumber-stacked":i.showButtons&&i.buttonLayout==="stacked","p-inputnumber-horizontal":i.showButtons&&i.buttonLayout==="horizontal","p-inputnumber-vertical":i.showButtons&&i.buttonLayout==="vertical","p-inputnumber-fluid":i.hasFluid,"p-invalid":i.invalid()}],pcInputText:"p-inputnumber-input",buttonGroup:"p-inputnumber-button-group",incrementButton:({instance:i})=>["p-inputnumber-button p-inputnumber-increment-button",{"p-disabled":i.showButtons&&i.max()!=null&&i.maxlength()}],decrementButton:({instance:i})=>["p-inputnumber-button p-inputnumber-decrement-button",{"p-disabled":i.showButtons&&i.min()!=null&&i.minlength()}],clearIcon:"p-inputnumber-clear-icon"},fG=(()=>{class i extends Ye{name="inputnumber";style=w_e;classes=C_e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var mG=new he("INPUTNUMBER_INSTANCE"),S_e={provide:Bn,useExisting:Xt(()=>iI),multi:!0},iI=(()=>{class i extends Bu{injector;$pcInputNumber=z(mG,{optional:!0,skipSelf:!0})??void 0;_componentStyle=z(fG);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}showButtons=!1;format=!0;buttonLayout="stacked";inputId;styleClass;placeholder;tabindex;title;ariaLabelledBy;ariaDescribedBy;ariaLabel;ariaRequired;autocomplete;incrementButtonClass;decrementButtonClass;incrementButtonIcon;decrementButtonIcon;readonly;allowEmpty=!0;locale;localeMatcher;mode="decimal";currency;currencyDisplay;useGrouping=!0;minFractionDigits;maxFractionDigits;prefix;suffix;inputStyle;inputStyleClass;showClear=!1;autofocus;onInput=new te;onFocus=new te;onBlur=new te;onKeyDown=new te;onClear=new te;clearIconTemplate;incrementButtonIconTemplate;decrementButtonIconTemplate;templates;input;_clearIconTemplate;_incrementButtonIconTemplate;_decrementButtonIconTemplate;value;focused;initialized;groupChar="";prefixChar="";suffixChar="";isSpecialChar;timer;lastValue;_numeral;numberFormat;_decimal;_decimalChar="";_group;_minusSign;_currency;_prefix;_suffix;_index;ngControl=null;constructor(e){super(),this.injector=e}onChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(o=>!!e[o])&&this.updateConstructParser()}onInit(){this.ngControl=this.injector.get(os,null,{optional:!0}),this.constructParser(),this.initialized=!0}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"clearicon":this._clearIconTemplate=e.template;break;case"incrementbuttonicon":this._incrementButtonIconTemplate=e.template;break;case"decrementbuttonicon":this._decrementButtonIconTemplate=e.template;break}})}getOptions(){let e=(s,a,l)=>{if(!(s==null||isNaN(s)||!isFinite(s)))return Math.max(a,Math.min(l,Math.floor(s)))},t=e(this.minFractionDigits,0,20),o=e(this.maxFractionDigits,0,100),r=t!=null&&o!=null&&t>o?o:t;return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:r,maximumFractionDigits:o}}constructParser(){let e=this.getOptions(),t=Object.fromEntries(Object.entries(e).filter(([s,a])=>a!==void 0));this.numberFormat=new Intl.NumberFormat(this.locale,t);let o=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),r=new Map(o.map((s,a)=>[s,a]));this._numeral=new RegExp(`[${o.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._decimalChar=this.getDecimalChar(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=s=>r.get(s)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){let e=this.getDecimalChar();return new RegExp(`[${e}]`,"g")}getDecimalChar(){return new Intl.NumberFormat(this.locale,Fe(ee({},this.getOptions()),{useGrouping:!1})).format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}getGroupingExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){let e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){let e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{let e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(e!=null){if(e==="-")return e;if(this.format){let o=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&e!=this.prefix&&(o=this.prefix+o),this.suffix&&e!=this.suffix&&(o=o+this.suffix),o}return e.toString()}return""}parseValue(e){let t=this._suffix?new RegExp(this._suffix,""):/(?:)/,o=this._prefix?new RegExp(this._prefix,""):/(?:)/,r=this._currency?new RegExp(this._currency,""):/(?:)/,s=e.replace(t,"").replace(o,"").trim().replace(/\s/g,"").replace(r,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(s){if(s==="-")return s;let a=+s;return isNaN(a)?null:a}return null}repeat(e,t,o){if(this.readonly)return;let r=t||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,o)},r),this.spin(e,o)}spin(e,t){let o=(this.step()??1)*t,r=this.parseValue(this.input?.nativeElement.value)||0,s=this.validateValue(r+o),a=this.maxlength();a&&a<this.formatValue(s).length||(this.updateInput(s,null,"spin",null),this.updateModel(e,s),this.handleOnInput(e,r,s))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.$disabled()||(this.input?.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault())}onUpButtonMouseUp(){this.$disabled()||this.clearTimer()}onUpButtonMouseLeave(){this.$disabled()||this.clearTimer()}onUpButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.$disabled()||this.clearTimer()}onDownButtonMouseDown(e){if(e.button===2){this.clearTimer();return}this.$disabled()||(this.input?.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault())}onDownButtonMouseUp(){this.$disabled()||this.clearTimer()}onDownButtonMouseLeave(){this.$disabled()||this.clearTimer()}onDownButtonKeyUp(){this.$disabled()||this.clearTimer()}onDownButtonKeyDown(e){(e.keyCode===32||e.keyCode===13)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey){this.isSpecialChar=!0;return}let t=e.target.selectionStart,o=e.target.selectionEnd,r=e.target.value,s=null;switch(e.altKey&&e.preventDefault(),e.key){case"ArrowUp":this.spin(e,1),e.preventDefault();break;case"ArrowDown":this.spin(e,-1),e.preventDefault();break;case"ArrowLeft":for(let a=t;a<=r.length;a++){let l=a===0?0:a-1;if(this.isNumeralChar(r.charAt(l))){this.input.nativeElement.setSelectionRange(a,a);break}}break;case"ArrowRight":for(let a=o;a>=0;a--)if(this.isNumeralChar(r.charAt(a))){this.input.nativeElement.setSelectionRange(a,a);break}break;case"Tab":case"Enter":s=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(s),this.input.nativeElement.setAttribute("aria-valuenow",s),this.updateModel(e,s);break;case"Backspace":{if(e.preventDefault(),t===o){if(t==1&&this.prefix||t==r.length&&this.suffix)break;let a=r.charAt(t-1),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,s=r.slice(0,t-2)+r.slice(t-1);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(t-1,t-1):s=r.slice(0,t-1)+r.slice(t);else if(l>0&&t>l){let u=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";s=r.slice(0,t-1)+u+r.slice(t)}else c===1?(s=r.slice(0,t-1)+"0"+r.slice(t),s=this.parseValue(s)>0?s:""):s=r.slice(0,t-1)+r.slice(t)}else this.mode==="currency"&&this._currency&&a.search(this._currency)!=-1&&(s=r.slice(1));this.updateValue(e,s,null,"delete-single")}else s=this.deleteRange(r,t,o),this.updateValue(e,s,null,"delete-range");break}case"Delete":if(e.preventDefault(),t===o){if(t==0&&this.prefix||t==r.length-1&&this.suffix)break;let a=r.charAt(t),{decimalCharIndex:l,decimalCharIndexWithoutPrefix:c}=this.getDecimalCharIndexes(r);if(this.isNumeralChar(a)){let d=this.getDecimalLength(r);if(this._group.test(a))this._group.lastIndex=0,s=r.slice(0,t)+r.slice(t+2);else if(this._decimal.test(a))this._decimal.lastIndex=0,d?this.input?.nativeElement.setSelectionRange(t+1,t+1):s=r.slice(0,t)+r.slice(t+1);else if(l>0&&t>l){let u=this.isDecimalMode()&&(this.minFractionDigits||0)<d?"":"0";s=r.slice(0,t)+u+r.slice(t+1)}else c===1?(s=r.slice(0,t)+"0"+r.slice(t+1),s=this.parseValue(s)>0?s:""):s=r.slice(0,t)+r.slice(t+1)}this.updateValue(e,s,null,"delete-back-single")}else s=this.deleteRange(r,t,o),this.updateValue(e,s,null,"delete-range");break;case"Home":this.min()&&(this.updateModel(e,this.min()),e.preventDefault());break;case"End":this.max()&&(this.updateModel(e,this.max()),e.preventDefault());break;default:break}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;let t=e.which||e.keyCode,o=String.fromCharCode(t),r=this.isDecimalSign(o),s=this.isMinusSign(o);t!=13&&e.preventDefault(),!r&&e.code==="NumpadDecimal"&&(r=!0,o=this._decimalChar,t=o.charCodeAt(0));let{value:a,selectionStart:l,selectionEnd:c}=this.input.nativeElement,d=this.parseValue(a+o),u=d!=null?d.toString():"",m=a.substring(l,c),g=this.parseValue(m),y=g!=null?g.toString():"";if(l!==c&&y.length>0){this.insert(e,o,{isDecimalSign:r,isMinusSign:s});return}let v=this.maxlength();v&&u.length>v||(48<=t&&t<=57||s||r)&&this.insert(e,o,{isDecimalSign:r,isMinusSign:s})}onPaste(e){if(!this.$disabled()&&!this.readonly){e.preventDefault();let t=(e.clipboardData||this.document.defaultView.clipboardData).getData("Text");if(this.inputId==="integeronly"&&/[^\d-]/.test(t))return;if(t){this.maxlength()&&(t=t.toString().substring(0,this.maxlength()));let o=this.parseValue(t);o!=null&&this.insert(e,o.toString())}}}allowMinusSign(){let e=this.min();return e==null||e<0}isMinusSign(e){return this._minusSign.test(e)||e==="-"?(this._minusSign.lastIndex=0,!0):!1}isDecimalSign(e){return this._decimal.test(e)?(this._decimal.lastIndex=0,!0):!1}isDecimalMode(){return this.mode==="decimal"}getDecimalCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let r=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:t,decimalCharIndexWithoutPrefix:r}}getCharIndexes(e){let t=e.search(this._decimal);this._decimal.lastIndex=0;let o=e.search(this._minusSign);this._minusSign.lastIndex=0;let r=e.search(this._suffix);this._suffix.lastIndex=0;let s=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:t,minusCharIndex:o,suffixCharIndex:r,currencyCharIndex:s}}insert(e,t,o={isDecimalSign:!1,isMinusSign:!1}){let r=t.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&r!==-1)return;let s=this.input?.nativeElement.selectionStart,a=this.input?.nativeElement.selectionEnd,l=this.input?.nativeElement.value.trim(),{decimalCharIndex:c,minusCharIndex:d,suffixCharIndex:u,currencyCharIndex:m}=this.getCharIndexes(l),g;if(o.isMinusSign)s===0&&(g=l,(d===-1||a!==0)&&(g=this.insertText(l,t,0,a)),this.updateValue(e,g,t,"insert"));else if(o.isDecimalSign)c>0&&s===c?this.updateValue(e,l,t,"insert"):c>s&&c<a?(g=this.insertText(l,t,s,a),this.updateValue(e,g,t,"insert")):c===-1&&this.maxFractionDigits&&(g=this.insertText(l,t,s,a),this.updateValue(e,g,t,"insert"));else{let y=this.numberFormat.resolvedOptions().maximumFractionDigits,v=s!==a?"range-insert":"insert";if(c>0&&s>c){if(s+t.length-(c+1)<=y){let S=m>=s?m-1:u>=s?u:l.length;g=l.slice(0,s)+t+l.slice(s+t.length,S)+l.slice(S),this.updateValue(e,g,t,v)}}else g=this.insertText(l,t,s,a),this.updateValue(e,g,t,v)}}insertText(e,t,o,r){if((t==="."?t:t.split(".")).length===2){let a=e.slice(o,r).search(this._decimal);return this._decimal.lastIndex=0,a>0?e.slice(0,o)+this.formatValue(t)+e.slice(r):e||this.formatValue(t)}else return r-o===e.length?this.formatValue(t):o===0?t+e.slice(r):r===e.length?e.slice(0,o)+t:e.slice(0,o)+t+e.slice(r)}deleteRange(e,t,o){let r;return o-t===e.length?r="":t===0?r=e.slice(o):o===e.length?r=e.slice(0,t):r=e.slice(0,t)+e.slice(o),r}initCursor(){let e=this.input?.nativeElement.selectionStart,t=this.input?.nativeElement.selectionEnd,o=this.input?.nativeElement.value,r=o.length,s=null,a=(this.prefixChar||"").length;o=o.replace(this._prefix,""),(e===t||e!==0||t<a)&&(e-=a);let l=o.charAt(e);if(this.isNumeralChar(l))return e+a;let c=e-1;for(;c>=0;)if(l=o.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c--;if(s!==null)this.input?.nativeElement.setSelectionRange(s+1,s+1);else{for(c=e;c<r;)if(l=o.charAt(c),this.isNumeralChar(l)){s=c+a;break}else c++;s!==null&&this.input?.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){let e=this.input?.nativeElement.value;!this.readonly&&e!==Z6()&&this.initCursor()}isNumeralChar(e){return e.length===1&&(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))?(this.resetRegex(),!0):!1}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,t,o,r){let s=this.input?.nativeElement.value,a=null;t!=null&&(a=this.parseValue(t),a=!a&&!this.allowEmpty?0:a,this.updateInput(a,o,r,t),this.handleOnInput(e,s,a))}handleOnInput(e,t,o){this.isValueChanged(t,o)&&(this.input.nativeElement.value=this.formatValue(o),this.input?.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,o),this.onInput.emit({originalEvent:e,value:o,formattedValue:t}))}isValueChanged(e,t){if(t===null&&e!==null)return!0;if(t!=null){let o=typeof e=="string"?this.parseValue(e):e;return t!==o}return!1}validateValue(e){if(e==="-"||e==null)return null;let t=this.min(),o=this.max();return t!=null&&e<t?this.min():o!=null&&e>o?o:e}updateInput(e,t,o,r){t=t||"";let s=this.input?.nativeElement.value,a=this.formatValue(e),l=s.length;if(a!==r&&(a=this.concatValues(a,r)),l===0){this.input.nativeElement.value=a,this.input.nativeElement.setSelectionRange(0,0);let d=this.initCursor()+t.length;this.input.nativeElement.setSelectionRange(d,d)}else{let c=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd,u=this.maxlength();if(u&&a.length>u&&(a=a.slice(0,u),c=Math.min(c,u),d=Math.min(d,u)),u&&u<a.length)return;this.input.nativeElement.value=a;let m=a.length;if(o==="range-insert"){let g=this.parseValue((s||"").slice(0,c)),v=(g!==null?g.toString():"").split("").join(`(${this.groupChar})?`),S=new RegExp(v,"g");S.test(a);let I=t.split("").join(`(${this.groupChar})?`),P=new RegExp(I,"g");P.test(a.slice(S.lastIndex)),d=S.lastIndex+P.lastIndex,this.input.nativeElement.setSelectionRange(d,d)}else if(m===l)o==="insert"||o==="delete-back-single"?this.input.nativeElement.setSelectionRange(d+1,d+1):o==="delete-single"?this.input.nativeElement.setSelectionRange(d-1,d-1):(o==="delete-range"||o==="spin")&&this.input.nativeElement.setSelectionRange(d,d);else if(o==="delete-back-single"){let g=s.charAt(d-1),y=s.charAt(d),v=l-m,S=this._group.test(y);S&&v===1?d+=1:!S&&this.isNumeralChar(g)&&(d+=-1*v+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(d,d)}else if(s==="-"&&o==="insert"){this.input.nativeElement.setSelectionRange(0,0);let y=this.initCursor()+t.length+1;this.input.nativeElement.setSelectionRange(y,y)}else d=d+(m-l),this.input.nativeElement.setSelectionRange(d,d)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,t){if(e&&t){let o=t.search(this._decimal);return this._decimal.lastIndex=0,this.suffixChar?o!==-1?e.replace(this.suffixChar,"").split(this._decimal)[0]+t.replace(this.suffixChar,"").slice(o)+this.suffixChar:e:o!==-1?e.split(this._decimal)[0]+t.slice(o):e}return e}getDecimalLength(e){if(e){let t=e.split(this._decimal);if(t.length===2)return t[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let t=this.validateValue(this.parseValue(this.input.nativeElement.value)),o=t?.toString();this.input.nativeElement.value=this.formatValue(o),this.input.nativeElement.setAttribute("aria-valuenow",o),this.updateModel(e,t),this.onModelTouched(),this.onBlur.emit(e)}formattedValue(){let e=!this.value&&!this.allowEmpty?0:this.value;return this.formatValue(e)}updateModel(e,t){let o=this.ngControl?.control?.updateOn==="blur";this.value!==t?(this.value=t,o&&this.focused||this.onModelChange(t)):o&&this.onModelChange(t)}writeControlValue(e,t){this.value=e&&Number(e),t(e),this.cd.markForCheck()}clearTimer(){this.timer&&clearInterval(this.timer)}static \u0275fac=function(t){return new(t||i)(x(hn))};static \u0275cmp=oe({type:i,selectors:[["p-inputNumber"],["p-inputnumber"],["p-input-number"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Hge,4),se(r,zge,4),se(r,Wge,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.clearIconTemplate=s.first),W(s=$())&&(o.incrementButtonIconTemplate=s.first),W(s=$())&&(o.decrementButtonIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&_e($ge,5),t&2){let r;W(r=$())&&(o.input=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{showButtons:[2,"showButtons","showButtons",Z],format:[2,"format","format",Z],buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",tabindex:[2,"tabindex","tabindex",Je],title:"title",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",ariaLabel:"ariaLabel",ariaRequired:[2,"ariaRequired","ariaRequired",Z],autocomplete:"autocomplete",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:[2,"readonly","readonly",Z],allowEmpty:[2,"allowEmpty","allowEmpty",Z],locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:[2,"useGrouping","useGrouping",Z],minFractionDigits:[2,"minFractionDigits","minFractionDigits",e=>Je(e,void 0)],maxFractionDigits:[2,"maxFractionDigits","maxFractionDigits",e=>Je(e,void 0)],prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:[2,"showClear","showClear",Z],autofocus:[2,"autofocus","autofocus",Z]},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[Se([S_e,fG,{provide:mG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:6,vars:36,consts:[["input",""],["pInputText","","role","spinbutton","inputmode","decimal",3,"input","keydown","keypress","paste","click","focus","blur","value","ngStyle","variant","invalid","pSize","pt","pAutoFocus","fluid"],[4,"ngIf"],[3,"pBind","class",4,"ngIf"],["type","button","tabindex","-1",3,"pBind","class","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],["data-p-icon","times",3,"pBind","class","click",4,"ngIf"],[3,"pBind","class","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[3,"click","pBind"],[4,"ngTemplateOutlet"],[3,"pBind"],["type","button","tabindex","-1",3,"mousedown","mouseup","mouseleave","keydown","keyup","pBind"],[3,"pBind","ngClass",4,"ngIf"],[3,"pBind","ngClass"],["data-p-icon","angle-up",3,"pBind",4,"ngIf"],["data-p-icon","angle-up",3,"pBind"],["data-p-icon","angle-down",3,"pBind",4,"ngIf"],["data-p-icon","angle-down",3,"pBind"]],template:function(t,o){if(t&1){let r=B();_(0,"input",1,0),A("input",function(a){return w(r),C(o.onUserInput(a))})("keydown",function(a){return w(r),C(o.onInputKeyDown(a))})("keypress",function(a){return w(r),C(o.onInputKeyPress(a))})("paste",function(a){return w(r),C(o.onPaste(a))})("click",function(){return w(r),C(o.onInputClick())})("focus",function(a){return w(r),C(o.onInputFocus(a))})("blur",function(a){return w(r),C(o.onInputBlur(a))}),b(),E(2,Yge,3,2,"ng-container",2)(3,l_e,7,17,"span",3)(4,f_e,3,7,"button",4)(5,v_e,3,7,"button",4)}t&2&&(j(o.cn(o.cx("pcInputText"),o.inputStyleClass)),f("value",o.formattedValue())("ngStyle",o.inputStyle)("variant",o.$variant())("invalid",o.invalid())("pSize",o.size())("pt",o.ptm("pcInputText"))("pAutoFocus",o.autofocus)("fluid",o.hasFluid),ce("id",o.inputId)("aria-valuemin",o.min())("aria-valuemax",o.max())("aria-valuenow",o.value)("placeholder",o.placeholder)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy)("title",o.title)("size",o.inputSize())("name",o.name())("autocomplete",o.autocomplete)("maxlength",o.maxlength())("minlength",o.minlength())("tabindex",o.tabindex)("aria-required",o.ariaRequired)("min",o.min())("max",o.max())("step",o.step()??1)("required",o.required()?"":void 0)("readonly",o.readonly?"":void 0)("disabled",o.$disabled()?"":void 0),p(2),f("ngIf",o.buttonLayout!="vertical"&&o.showClear&&o.value),p(),f("ngIf",o.showButtons&&o.buttonLayout==="stacked"),p(),f("ngIf",o.showButtons&&o.buttonLayout!=="stacked"),p(),f("ngIf",o.showButtons&&o.buttonLayout!=="stacked"))},dependencies:[Qe,$t,pt,gt,ft,si,fr,ks,V8,M8,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),gG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[iI,Oe,Oe]})}return i})();var _G=`
    .p-paginator {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        background: dt('paginator.background');
        color: dt('paginator.color');
        padding: dt('paginator.padding');
        border-radius: dt('paginator.border.radius');
        gap: dt('paginator.gap');
    }

    .p-paginator-content {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        gap: dt('paginator.gap');
    }

    .p-paginator-content-start {
        margin-inline-end: auto;
    }

    .p-paginator-content-end {
        margin-inline-start: auto;
    }

    .p-paginator-page,
    .p-paginator-next,
    .p-paginator-last,
    .p-paginator-first,
    .p-paginator-prev {
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        user-select: none;
        overflow: hidden;
        position: relative;
        background: dt('paginator.nav.button.background');
        border: 0 none;
        color: dt('paginator.nav.button.color');
        min-width: dt('paginator.nav.button.width');
        height: dt('paginator.nav.button.height');
        transition:
            background dt('paginator.transition.duration'),
            color dt('paginator.transition.duration'),
            outline-color dt('paginator.transition.duration'),
            box-shadow dt('paginator.transition.duration');
        border-radius: dt('paginator.nav.button.border.radius');
        padding: 0;
        margin: 0;
    }

    .p-paginator-page:focus-visible,
    .p-paginator-next:focus-visible,
    .p-paginator-last:focus-visible,
    .p-paginator-first:focus-visible,
    .p-paginator-prev:focus-visible {
        box-shadow: dt('paginator.nav.button.focus.ring.shadow');
        outline: dt('paginator.nav.button.focus.ring.width') dt('paginator.nav.button.focus.ring.style') dt('paginator.nav.button.focus.ring.color');
        outline-offset: dt('paginator.nav.button.focus.ring.offset');
    }

    .p-paginator-page:not(.p-disabled):not(.p-paginator-page-selected):hover,
    .p-paginator-first:not(.p-disabled):hover,
    .p-paginator-prev:not(.p-disabled):hover,
    .p-paginator-next:not(.p-disabled):hover,
    .p-paginator-last:not(.p-disabled):hover {
        background: dt('paginator.nav.button.hover.background');
        color: dt('paginator.nav.button.hover.color');
    }

    .p-paginator-page.p-paginator-page-selected {
        background: dt('paginator.nav.button.selected.background');
        color: dt('paginator.nav.button.selected.color');
    }

    .p-paginator-current {
        color: dt('paginator.current.page.report.color');
    }

    .p-paginator-pages {
        display: flex;
        align-items: center;
        gap: dt('paginator.gap');
    }

    .p-paginator-jtp-input .p-inputtext {
        max-width: dt('paginator.jump.to.page.input.max.width');
    }

    .p-paginator-first:dir(rtl),
    .p-paginator-prev:dir(rtl),
    .p-paginator-next:dir(rtl),
    .p-paginator-last:dir(rtl) {
        transform: rotate(180deg);
    }
`;var I_e=["dropdownicon"],E_e=["firstpagelinkicon"],x_e=["previouspagelinkicon"],T_e=["lastpagelinkicon"],O_e=["nextpagelinkicon"],nI=i=>({$implicit:i}),R_e=i=>({pageLink:i});function D_e(i,n){i&1&&ve(0)}function P_e(i,n){if(i&1&&(_(0,"div",10),E(1,D_e,1,0,"ng-container",11),b()),i&2){let e=h();j(e.cx("contentStart")),f("pBind",e.ptm("contentStart")),p(),f("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",de(5,nI,e.paginatorState))}}function A_e(i,n){if(i&1&&(_(0,"span",10),R(1),b()),i&2){let e=h();j(e.cx("current")),f("pBind",e.ptm("current")),p(),Q(e.currentPageReport)}}function k_e(i,n){if(i&1&&(xe(),N(0,"svg",14)),i&2){let e=h(2);j(e.cx("firstIcon")),f("pBind",e.ptm("firstIcon"))}}function N_e(i,n){}function F_e(i,n){i&1&&E(0,N_e,0,0,"ng-template")}function L_e(i,n){if(i&1&&(_(0,"span"),E(1,F_e,1,0,null,15),b()),i&2){let e=h(2);j(e.cx("firstIcon")),p(),f("ngTemplateOutlet",e.firstPageLinkIconTemplate||e._firstPageLinkIconTemplate)}}function M_e(i,n){if(i&1){let e=B();_(0,"button",12),A("click",function(o){w(e);let r=h();return C(r.changePageToFirst(o))}),E(1,k_e,1,3,"svg",13)(2,L_e,2,3,"span",4),b()}if(i&2){let e=h();j(e.cx("first")),f("pBind",e.ptm("first")),ce("aria-label",e.getAriaLabel("firstPageLabel")),p(),f("ngIf",!e.firstPageLinkIconTemplate&&!e._firstPageLinkIconTemplate),p(),f("ngIf",e.firstPageLinkIconTemplate||e._firstPageLinkIconTemplate)}}function B_e(i,n){if(i&1&&(xe(),N(0,"svg",16)),i&2){let e=h();j(e.cx("prevIcon")),f("pBind",e.ptm("prevIcon"))}}function V_e(i,n){}function U_e(i,n){i&1&&E(0,V_e,0,0,"ng-template")}function j_e(i,n){if(i&1&&(_(0,"span"),E(1,U_e,1,0,null,15),b()),i&2){let e=h();j(e.cx("prevIcon")),p(),f("ngTemplateOutlet",e.previousPageLinkIconTemplate||e._previousPageLinkIconTemplate)}}function G_e(i,n){if(i&1){let e=B();_(0,"button",12),A("click",function(o){let r=w(e).$implicit,s=h(2);return C(s.onPageLinkClick(o,r-1))}),R(1),b()}if(i&2){let e=n.$implicit,t=h(2);j(t.cx("page",de(6,R_e,e))),f("pBind",t.ptm("page")),ce("aria-label",t.getPageAriaLabel(e))("aria-current",e-1==t.getPage()?"page":void 0),p(),Y(" ",t.getLocalization(e)," ")}}function H_e(i,n){if(i&1&&(_(0,"span",10),E(1,G_e,2,8,"button",17),b()),i&2){let e=h();j(e.cx("pages")),f("pBind",e.ptm("pages")),p(),f("ngForOf",e.pageLinks)}}function z_e(i,n){if(i&1&&R(0),i&2){let e=h(2);Q(e.currentPageReport)}}function W_e(i,n){i&1&&ve(0)}function $_e(i,n){if(i&1&&E(0,W_e,1,0,"ng-container",11),i&2){let e=n.$implicit,t=h(3);f("ngTemplateOutlet",t.jumpToPageItemTemplate)("ngTemplateOutletContext",de(2,nI,e))}}function K_e(i,n){i&1&&(we(0),E(1,$_e,1,4,"ng-template",21),Ce())}function q_e(i,n){i&1&&ve(0)}function J_e(i,n){if(i&1&&E(0,q_e,1,0,"ng-container",15),i&2){let e=h(3);f("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function Q_e(i,n){i&1&&E(0,J_e,1,1,"ng-template",22)}function Y_e(i,n){if(i&1){let e=B();_(0,"p-select",18),A("onChange",function(o){w(e);let r=h();return C(r.onPageDropdownChange(o))}),E(1,z_e,1,1,"ng-template",19)(2,K_e,2,0,"ng-container",20)(3,Q_e,1,0,null,20),b()}if(i&2){let e=h();f("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("styleClass",e.cx("pcJumpToPageDropdown"))("appendTo",e.dropdownAppendTo||e.$appendTo())("scrollHeight",e.dropdownScrollHeight)("pt",e.ptm("pcJumpToPageDropdown")),ce("aria-label",e.getAriaLabel("jumpToPageDropdownLabel")),p(2),f("ngIf",e.jumpToPageItemTemplate),p(),f("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function X_e(i,n){if(i&1&&(xe(),N(0,"svg",23)),i&2){let e=h();j(e.cx("nextIcon")),f("pBind",e.ptm("nextIcon"))}}function Z_e(i,n){}function e0e(i,n){i&1&&E(0,Z_e,0,0,"ng-template")}function t0e(i,n){if(i&1&&(_(0,"span"),E(1,e0e,1,0,null,15),b()),i&2){let e=h();j(e.cx("nextIcon")),p(),f("ngTemplateOutlet",e.nextPageLinkIconTemplate||e._nextPageLinkIconTemplate)}}function i0e(i,n){if(i&1&&(xe(),N(0,"svg",25)),i&2){let e=h(2);j(e.cx("lastIcon")),f("pBind",e.ptm("lastIcon"))}}function n0e(i,n){}function o0e(i,n){i&1&&E(0,n0e,0,0,"ng-template")}function r0e(i,n){if(i&1&&(_(0,"span"),E(1,o0e,1,0,null,15),b()),i&2){let e=h(2);j(e.cx("lastIcon")),p(),f("ngTemplateOutlet",e.lastPageLinkIconTemplate||e._lastPageLinkIconTemplate)}}function s0e(i,n){if(i&1){let e=B();_(0,"button",2),A("click",function(o){w(e);let r=h();return C(r.changePageToLast(o))}),E(1,i0e,1,3,"svg",24)(2,r0e,2,3,"span",4),b()}if(i&2){let e=h();j(e.cx("last")),f("pBind",e.ptm("last"))("disabled",e.isLastPage()||e.empty()),ce("aria-label",e.getAriaLabel("lastPageLabel")),p(),f("ngIf",!e.lastPageLinkIconTemplate&&!e._lastPageLinkIconTemplate),p(),f("ngIf",e.lastPageLinkIconTemplate||e._lastPageLinkIconTemplate)}}function a0e(i,n){if(i&1){let e=B();_(0,"p-inputnumber",26),A("ngModelChange",function(o){w(e);let r=h();return C(r.changePage(o-1))}),b()}if(i&2){let e=h();j(e.cx("pcJumpToPageInput")),f("pt",e.ptm("pcJumpToPageInput"))("ngModel",e.currentPage())("disabled",e.empty())}}function l0e(i,n){i&1&&ve(0)}function c0e(i,n){if(i&1&&E(0,l0e,1,0,"ng-container",11),i&2){let e=n.$implicit,t=h(3);f("ngTemplateOutlet",t.dropdownItemTemplate)("ngTemplateOutletContext",de(2,nI,e))}}function d0e(i,n){i&1&&(we(0),E(1,c0e,1,4,"ng-template",21),Ce())}function p0e(i,n){i&1&&ve(0)}function u0e(i,n){if(i&1&&E(0,p0e,1,0,"ng-container",15),i&2){let e=h(3);f("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function h0e(i,n){i&1&&E(0,u0e,1,1,"ng-template",22)}function f0e(i,n){if(i&1){let e=B();_(0,"p-select",27),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.rows,o)||(r.rows=o),C(o)}),A("onChange",function(o){w(e);let r=h();return C(r.onRppChange(o))}),E(1,d0e,2,0,"ng-container",20)(2,h0e,1,0,null,20),b()}if(i&2){let e=h();f("options",e.rowsPerPageItems),Ae("ngModel",e.rows),f("styleClass",e.cx("pcRowPerPageDropdown"))("disabled",e.empty())("appendTo",e.dropdownAppendTo||e.$appendTo())("scrollHeight",e.dropdownScrollHeight)("ariaLabel",e.getAriaLabel("rowsPerPageLabel"))("pt",e.ptm("pcRowPerPageDropdown")),p(),f("ngIf",e.dropdownItemTemplate),p(),f("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function m0e(i,n){i&1&&ve(0)}function g0e(i,n){if(i&1&&(_(0,"div",10),E(1,m0e,1,0,"ng-container",11),b()),i&2){let e=h();j(e.cx("contentEnd")),f("pBind",e.ptm("contentEnd")),p(),f("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",de(5,nI,e.paginatorState))}}var _0e={paginator:({instance:i})=>["p-paginator p-component"],content:"p-paginator-content",contentStart:"p-paginator-content-start",contentEnd:"p-paginator-content-end",first:({instance:i})=>["p-paginator-first",{"p-disabled":i.isFirstPage()||i.empty()}],firstIcon:"p-paginator-first-icon",prev:({instance:i})=>["p-paginator-prev",{"p-disabled":i.isFirstPage()||i.empty()}],prevIcon:"p-paginator-prev-icon",next:({instance:i})=>["p-paginator-next",{"p-disabled":i.isLastPage()||i.empty()}],nextIcon:"p-paginator-next-icon",last:({instance:i})=>["p-paginator-last",{"p-disabled":i.isLastPage()||i.empty()}],lastIcon:"p-paginator-last-icon",pages:"p-paginator-pages",page:({instance:i,pageLink:n})=>["p-paginator-page",{"p-paginator-page-selected":n-1==i.getPage()}],current:"p-paginator-current",pcRowPerPageDropdown:"p-paginator-rpp-dropdown",pcJumpToPageDropdown:"p-paginator-jtp-dropdown",pcJumpToPageInput:"p-paginator-jtp-input"},bG=(()=>{class i extends Ye{name="paginator";style=_G;classes=_0e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var yG=new he("PAGINATOR_INSTANCE"),Ey=(()=>{class i extends Xe{bindDirectiveInstance=z(pe,{self:!0});$pcPaginator=z(yG,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}pageLinkSize=5;styleClass;alwaysShow=!0;dropdownAppendTo;templateLeft;templateRight;dropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showFirstLastIcon=!0;totalRecords=0;rows=0;rowsPerPageOptions;showJumpToPageDropdown;showJumpToPageInput;jumpToPageItemTemplate;showPageLinks=!0;locale;dropdownItemTemplate;get first(){return this._first}set first(e){this._first=e}appendTo=qe(void 0);onPageChange=new te;dropdownIconTemplate;firstPageLinkIconTemplate;previousPageLinkIconTemplate;lastPageLinkIconTemplate;nextPageLinkIconTemplate;templates;_dropdownIconTemplate;_firstPageLinkIconTemplate;_previousPageLinkIconTemplate;_lastPageLinkIconTemplate;_nextPageLinkIconTemplate;pageLinks;pageItems;rowsPerPageItems;paginatorState;_first=0;_page=0;_componentStyle=z(bG);$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());get display(){return this.alwaysShow||this.pageLinks&&this.pageLinks.length>1?null:"none"}constructor(){super()}onInit(){this.updatePaginatorState()}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"firstpagelinkicon":this._firstPageLinkIconTemplate=e.template;break;case"previouspagelinkicon":this._previousPageLinkIconTemplate=e.template;break;case"lastpagelinkicon":this._lastPageLinkIconTemplate=e.template;break;case"nextpagelinkicon":this._nextPageLinkIconTemplate=e.template;break}})}getAriaLabel(e){return this.config.translation.aria?this.config.translation.aria[e]:void 0}getPageAriaLabel(e){return this.config.translation.aria?this.config.translation.aria.pageLabel?.replace(/{page}/g,`${e}`):void 0}getLocalization(e){let t=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),o=new Map(t.map((r,s)=>[s,r]));return e>9?String(e).split("").map(s=>o.get(Number(s))).join(""):o.get(e)}onChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions(),e.pageLinkSize&&this.updatePageLinks()}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];let e=null;for(let t of this.rowsPerPageOptions)typeof t=="object"&&t.showAll?e={label:t.showAll,value:this.totalRecords}:this.rowsPerPageItems.push({label:String(this.getLocalization(t)),value:t});e&&this.rowsPerPageItems.push(e)}}isFirstPage(){return this.getPage()===0}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),t=Math.min(this.pageLinkSize,e),o=Math.max(0,Math.ceil(this.getPage()-t/2)),r=Math.min(e-1,o+t-1);var s=this.pageLinkSize-(r-o+1);return o=Math.max(0,o-s),[o,r]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),t=e[0],o=e[1];for(let r=t;r<=o;r++)this.pageLinks.push(r+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let r=0;r<this.getPageCount();r++)this.pageItems.push({label:String(r+1),value:r})}}changePage(e){var t=this.getPageCount();if(e>=0&&e<t){this._first=this.rows*e;var o={page:e,first:this.first,rows:this.rows,pageCount:t};this.updatePageLinks(),this.onPageChange.emit(o),this.updatePaginatorState()}}updateFirst(){let e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,t){this.changePage(t),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return this.getPageCount()===0}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["p-paginator"]],contentQueries:function(t,o,r){if(t&1&&(se(r,I_e,4),se(r,E_e,4),se(r,x_e,4),se(r,T_e,4),se(r,O_e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.dropdownIconTemplate=s.first),W(s=$())&&(o.firstPageLinkIconTemplate=s.first),W(s=$())&&(o.previousPageLinkIconTemplate=s.first),W(s=$())&&(o.lastPageLinkIconTemplate=s.first),W(s=$())&&(o.nextPageLinkIconTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:4,hostBindings:function(t,o){t&2&&(j(o.cn(o.cx("paginator"),o.styleClass)),Kt("display",o.display))},inputs:{pageLinkSize:[2,"pageLinkSize","pageLinkSize",Je],styleClass:"styleClass",alwaysShow:[2,"alwaysShow","alwaysShow",Z],dropdownAppendTo:"dropdownAppendTo",templateLeft:"templateLeft",templateRight:"templateRight",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",Z],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",Z],totalRecords:[2,"totalRecords","totalRecords",Je],rows:[2,"rows","rows",Je],rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",Z],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",Z],jumpToPageItemTemplate:"jumpToPageItemTemplate",showPageLinks:[2,"showPageLinks","showPageLinks",Z],locale:"locale",dropdownItemTemplate:"dropdownItemTemplate",first:"first",appendTo:[1,"appendTo"]},outputs:{onPageChange:"onPageChange"},features:[Se([bG,{provide:yG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:15,vars:23,consts:[[3,"pBind","class",4,"ngIf"],["type","button","pRipple","",3,"pBind","class","click",4,"ngIf"],["type","button","pRipple","",3,"click","pBind","disabled"],["data-p-icon","angle-left",3,"pBind","class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"options","ngModel","disabled","styleClass","appendTo","scrollHeight","pt","onChange",4,"ngIf"],["data-p-icon","angle-right",3,"pBind","class",4,"ngIf"],["type","button","pRipple","",3,"pBind","disabled","class","click",4,"ngIf"],[3,"pt","ngModel","class","disabled","ngModelChange",4,"ngIf"],[3,"options","ngModel","styleClass","disabled","appendTo","scrollHeight","ariaLabel","pt","ngModelChange","onChange",4,"ngIf"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","pRipple","",3,"click","pBind"],["data-p-icon","angle-double-left",3,"pBind","class",4,"ngIf"],["data-p-icon","angle-double-left",3,"pBind"],[4,"ngTemplateOutlet"],["data-p-icon","angle-left",3,"pBind"],["type","button","pRipple","",3,"pBind","class","click",4,"ngFor","ngForOf"],[3,"onChange","options","ngModel","disabled","styleClass","appendTo","scrollHeight","pt"],["pTemplate","selectedItem"],[4,"ngIf"],["pTemplate","item"],["pTemplate","dropdownicon"],["data-p-icon","angle-right",3,"pBind"],["data-p-icon","angle-double-right",3,"pBind","class",4,"ngIf"],["data-p-icon","angle-double-right",3,"pBind"],[3,"ngModelChange","pt","ngModel","disabled"],[3,"ngModelChange","onChange","options","ngModel","styleClass","disabled","appendTo","scrollHeight","ariaLabel","pt"]],template:function(t,o){t&1&&(E(0,P_e,2,7,"div",0)(1,A_e,2,4,"span",0)(2,M_e,3,6,"button",1),_(3,"button",2),A("click",function(s){return o.changePageToPrev(s)}),E(4,B_e,1,3,"svg",3)(5,j_e,2,3,"span",4),b(),E(6,H_e,2,4,"span",0)(7,Y_e,4,10,"p-select",5),_(8,"button",2),A("click",function(s){return o.changePageToNext(s)}),E(9,X_e,1,3,"svg",6)(10,t0e,2,3,"span",4),b(),E(11,s0e,3,7,"button",7)(12,a0e,1,5,"p-inputnumber",8)(13,f0e,3,10,"p-select",9)(14,g0e,2,7,"div",0)),t&2&&(f("ngIf",o.templateLeft),p(),f("ngIf",o.showCurrentPageReport),p(),f("ngIf",o.showFirstLastIcon),p(),j(o.cx("prev")),f("pBind",o.ptm("prev"))("disabled",o.isFirstPage()||o.empty()),ce("aria-label",o.getAriaLabel("prevPageLabel")),p(),f("ngIf",!o.previousPageLinkIconTemplate&&!o._previousPageLinkIconTemplate),p(),f("ngIf",o.previousPageLinkIconTemplate||o._previousPageLinkIconTemplate),p(),f("ngIf",o.showPageLinks),p(),f("ngIf",o.showJumpToPageDropdown),p(),j(o.cx("next")),f("pBind",o.ptm("next"))("disabled",o.isLastPage()||o.empty()),ce("aria-label",o.getAriaLabel("nextPageLabel")),p(),f("ngIf",!o.nextPageLinkIconTemplate&&!o._nextPageLinkIconTemplate),p(),f("ngIf",o.nextPageLinkIconTemplate||o._nextPageLinkIconTemplate),p(),f("ngIf",o.showFirstLastIcon),p(),f("ngIf",o.showJumpToPageInput),p(),f("ngIf",o.rowsPerPageOptions),p(),f("ngIf",o.templateRight))},dependencies:[Qe,Mn,pt,gt,Pn,iI,rs,_i,Zi,oo,F8,L8,B8,Hg,Oe,_t,pe],encapsulation:2,changeDetection:0})}return i})(),oI=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Ey,Oe,Oe]})}return i})();var wG=`
    .p-datatable {
        position: relative;
        display: block;
    }

    .p-datatable-table {
        border-spacing: 0;
        border-collapse: separate;
        width: 100%;
    }

    .p-datatable-scrollable > .p-datatable-table-container {
        position: relative;
    }

    .p-datatable-scrollable-table > .p-datatable-thead {
        inset-block-start: 0;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody {
        position: sticky;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-tfoot {
        inset-block-end: 0;
        z-index: 1;
    }

    .p-datatable-scrollable .p-datatable-frozen-column {
        position: sticky;
    }

    .p-datatable-scrollable th.p-datatable-frozen-column {
        z-index: 1;
    }

    .p-datatable-scrollable td.p-datatable-frozen-column {
        background: inherit;
    }

    .p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-thead,
    .p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-thead {
        background: dt('datatable.header.cell.background');
    }

    .p-datatable-scrollable > .p-datatable-table-container > .p-datatable-table > .p-datatable-tfoot,
    .p-datatable-scrollable > .p-datatable-table-container > .p-virtualscroller > .p-datatable-table > .p-datatable-tfoot {
        background: dt('datatable.footer.cell.background');
    }

    .p-datatable-flex-scrollable {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .p-datatable-flex-scrollable > .p-datatable-table-container {
        display: flex;
        flex-direction: column;
        flex: 1;
        height: 100%;
    }

    .p-datatable-scrollable-table > .p-datatable-tbody > .p-datatable-row-group-header {
        position: sticky;
        z-index: 1;
    }

    .p-datatable-resizable-table > .p-datatable-thead > tr > th,
    .p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
    .p-datatable-resizable-table > .p-datatable-tbody > tr > td {
        overflow: hidden;
        white-space: nowrap;
    }

    .p-datatable-resizable-table > .p-datatable-thead > tr > th.p-datatable-resizable-column:not(.p-datatable-frozen-column) {
        background-clip: padding-box;
        position: relative;
    }

    .p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-datatable-resizable-column:last-child .p-datatable-column-resizer {
        display: none;
    }

    .p-datatable-column-resizer {
        display: block;
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        margin: 0;
        width: dt('datatable.column.resizer.width');
        height: 100%;
        padding: 0;
        cursor: col-resize;
        border: 1px solid transparent;
    }

    .p-datatable-column-header-content {
        display: flex;
        align-items: center;
        gap: dt('datatable.header.cell.gap');
    }

    .p-datatable-column-resize-indicator {
        width: dt('datatable.resize.indicator.width');
        position: absolute;
        z-index: 10;
        display: none;
        background: dt('datatable.resize.indicator.color');
    }

    .p-datatable-row-reorder-indicator-up,
    .p-datatable-row-reorder-indicator-down {
        position: absolute;
        display: none;
    }

    .p-datatable-reorderable-column,
    .p-datatable-reorderable-row-handle {
        cursor: move;
    }

    .p-datatable-mask {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }

    .p-datatable-inline-filter {
        display: flex;
        align-items: center;
        width: 100%;
        gap: dt('datatable.filter.inline.gap');
    }

    .p-datatable-inline-filter .p-datatable-filter-element-container {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-datatable-filter-overlay {
        background: dt('datatable.filter.overlay.select.background');
        color: dt('datatable.filter.overlay.select.color');
        border: 1px solid dt('datatable.filter.overlay.select.border.color');
        border-radius: dt('datatable.filter.overlay.select.border.radius');
        box-shadow: dt('datatable.filter.overlay.select.shadow');
        min-width: 12.5rem;
    }

    .p-datatable-filter-constraint-list {
        margin: 0;
        list-style: none;
        display: flex;
        flex-direction: column;
        padding: dt('datatable.filter.constraint.list.padding');
        gap: dt('datatable.filter.constraint.list.gap');
    }

    .p-datatable-filter-constraint {
        padding: dt('datatable.filter.constraint.padding');
        color: dt('datatable.filter.constraint.color');
        border-radius: dt('datatable.filter.constraint.border.radius');
        cursor: pointer;
        transition:
            background dt('datatable.transition.duration'),
            color dt('datatable.transition.duration'),
            border-color dt('datatable.transition.duration'),
            box-shadow dt('datatable.transition.duration');
    }

    .p-datatable-filter-constraint-selected {
        background: dt('datatable.filter.constraint.selected.background');
        color: dt('datatable.filter.constraint.selected.color');
    }

    .p-datatable-filter-constraint:not(.p-datatable-filter-constraint-selected):not(.p-disabled):hover {
        background: dt('datatable.filter.constraint.focus.background');
        color: dt('datatable.filter.constraint.focus.color');
    }

    .p-datatable-filter-constraint:focus-visible {
        outline: 0 none;
        background: dt('datatable.filter.constraint.focus.background');
        color: dt('datatable.filter.constraint.focus.color');
    }

    .p-datatable-filter-constraint-selected:focus-visible {
        outline: 0 none;
        background: dt('datatable.filter.constraint.selected.focus.background');
        color: dt('datatable.filter.constraint.selected.focus.color');
    }

    .p-datatable-filter-constraint-separator {
        border-block-start: 1px solid dt('datatable.filter.constraint.separator.border.color');
    }

    .p-datatable-popover-filter {
        display: inline-flex;
        margin-inline-start: auto;
    }

    .p-datatable-filter-overlay-popover {
        background: dt('datatable.filter.overlay.popover.background');
        color: dt('datatable.filter.overlay.popover.color');
        border: 1px solid dt('datatable.filter.overlay.popover.border.color');
        border-radius: dt('datatable.filter.overlay.popover.border.radius');
        box-shadow: dt('datatable.filter.overlay.popover.shadow');
        min-width: 12.5rem;
        padding: dt('datatable.filter.overlay.popover.padding');
        display: flex;
        flex-direction: column;
        gap: dt('datatable.filter.overlay.popover.gap');
    }

    .p-datatable-filter-operator-dropdown {
        width: 100%;
    }

    .p-datatable-filter-rule-list,
    .p-datatable-filter-rule {
        display: flex;
        flex-direction: column;
        gap: dt('datatable.filter.overlay.popover.gap');
    }

    .p-datatable-filter-rule {
        border-block-end: 1px solid dt('datatable.filter.rule.border.color');
        padding-bottom: dt('datatable.filter.overlay.popover.gap');
    }

    .p-datatable-filter-rule:last-child {
        border-block-end: 0 none;
        padding-bottom: 0;
    }

    .p-datatable-filter-add-rule-button {
        width: 100%;
    }

    .p-datatable-filter-remove-rule-button {
        width: 100%;
    }

    .p-datatable-filter-buttonbar {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .p-datatable-virtualscroller-spacer {
        display: flex;
    }

    .p-datatable .p-virtualscroller .p-virtualscroller-loading {
        transform: none !important;
        min-height: 0;
        position: sticky;
        inset-block-start: 0;
        inset-inline-start: 0;
    }

    .p-datatable-paginator-top {
        border-color: dt('datatable.paginator.top.border.color');
        border-style: solid;
        border-width: dt('datatable.paginator.top.border.width');
    }

    .p-datatable-paginator-bottom {
        border-color: dt('datatable.paginator.bottom.border.color');
        border-style: solid;
        border-width: dt('datatable.paginator.bottom.border.width');
    }

    .p-datatable-header {
        background: dt('datatable.header.background');
        color: dt('datatable.header.color');
        border-color: dt('datatable.header.border.color');
        border-style: solid;
        border-width: dt('datatable.header.border.width');
        padding: dt('datatable.header.padding');
    }

    .p-datatable-footer {
        background: dt('datatable.footer.background');
        color: dt('datatable.footer.color');
        border-color: dt('datatable.footer.border.color');
        border-style: solid;
        border-width: dt('datatable.footer.border.width');
        padding: dt('datatable.footer.padding');
    }

    .p-datatable-header-cell {
        padding: dt('datatable.header.cell.padding');
        background: dt('datatable.header.cell.background');
        border-color: dt('datatable.header.cell.border.color');
        border-style: solid;
        border-width: 0 0 1px 0;
        color: dt('datatable.header.cell.color');
        font-weight: normal;
        text-align: start;
        transition:
            background dt('datatable.transition.duration'),
            color dt('datatable.transition.duration'),
            border-color dt('datatable.transition.duration'),
            outline-color dt('datatable.transition.duration'),
            box-shadow dt('datatable.transition.duration');
    }

    .p-datatable-column-title {
        font-weight: dt('datatable.column.title.font.weight');
    }

    .p-datatable-tbody > tr {
        outline-color: transparent;
        background: dt('datatable.row.background');
        color: dt('datatable.row.color');
        transition:
            background dt('datatable.transition.duration'),
            color dt('datatable.transition.duration'),
            border-color dt('datatable.transition.duration'),
            outline-color dt('datatable.transition.duration'),
            box-shadow dt('datatable.transition.duration');
    }

    .p-datatable-tbody > tr > td {
        text-align: start;
        border-color: dt('datatable.body.cell.border.color');
        border-style: solid;
        border-width: 0 0 1px 0;
        padding: dt('datatable.body.cell.padding');
    }

    .p-datatable-hoverable .p-datatable-tbody > tr:not(.p-datatable-row-selected):hover {
        background: dt('datatable.row.hover.background');
        color: dt('datatable.row.hover.color');
    }

    .p-datatable-tbody > tr.p-datatable-row-selected {
        background: dt('datatable.row.selected.background');
        color: dt('datatable.row.selected.color');
    }

    .p-datatable-tbody > tr:has(+ .p-datatable-row-selected) > td {
        border-block-end-color: dt('datatable.body.cell.selected.border.color');
    }

    .p-datatable-tbody > tr.p-datatable-row-selected > td {
        border-block-end-color: dt('datatable.body.cell.selected.border.color');
    }

    .p-datatable-tbody > tr:focus-visible,
    .p-datatable-tbody > tr.p-datatable-contextmenu-row-selected {
        box-shadow: dt('datatable.row.focus.ring.shadow');
        outline: dt('datatable.row.focus.ring.width') dt('datatable.row.focus.ring.style') dt('datatable.row.focus.ring.color');
        outline-offset: dt('datatable.row.focus.ring.offset');
    }

    .p-datatable-tfoot > tr > td {
        text-align: start;
        padding: dt('datatable.footer.cell.padding');
        border-color: dt('datatable.footer.cell.border.color');
        border-style: solid;
        border-width: 0 0 1px 0;
        color: dt('datatable.footer.cell.color');
        background: dt('datatable.footer.cell.background');
    }

    .p-datatable-column-footer {
        font-weight: dt('datatable.column.footer.font.weight');
    }

    .p-datatable-sortable-column {
        cursor: pointer;
        user-select: none;
        outline-color: transparent;
    }

    .p-datatable-column-title,
    .p-datatable-sort-icon,
    .p-datatable-sort-badge {
        vertical-align: middle;
    }

    .p-datatable-sort-icon {
        color: dt('datatable.sort.icon.color');
        font-size: dt('datatable.sort.icon.size');
        width: dt('datatable.sort.icon.size');
        height: dt('datatable.sort.icon.size');
        transition: color dt('datatable.transition.duration');
    }

    .p-datatable-sortable-column:not(.p-datatable-column-sorted):hover {
        background: dt('datatable.header.cell.hover.background');
        color: dt('datatable.header.cell.hover.color');
    }

    .p-datatable-sortable-column:not(.p-datatable-column-sorted):hover .p-datatable-sort-icon {
        color: dt('datatable.sort.icon.hover.color');
    }

    .p-datatable-column-sorted {
        background: dt('datatable.header.cell.selected.background');
        color: dt('datatable.header.cell.selected.color');
    }

    .p-datatable-column-sorted .p-datatable-sort-icon {
        color: dt('datatable.header.cell.selected.color');
    }

    .p-datatable-sortable-column:focus-visible {
        box-shadow: dt('datatable.header.cell.focus.ring.shadow');
        outline: dt('datatable.header.cell.focus.ring.width') dt('datatable.header.cell.focus.ring.style') dt('datatable.header.cell.focus.ring.color');
        outline-offset: dt('datatable.header.cell.focus.ring.offset');
    }

    .p-datatable-hoverable .p-datatable-selectable-row {
        cursor: pointer;
    }

    .p-datatable-tbody > tr.p-datatable-dragpoint-top > td {
        box-shadow: inset 0 2px 0 0 dt('datatable.drop.point.color');
    }

    .p-datatable-tbody > tr.p-datatable-dragpoint-bottom > td {
        box-shadow: inset 0 -2px 0 0 dt('datatable.drop.point.color');
    }

    .p-datatable-loading-icon {
        font-size: dt('datatable.loading.icon.size');
        width: dt('datatable.loading.icon.size');
        height: dt('datatable.loading.icon.size');
    }

    .p-datatable-gridlines .p-datatable-header {
        border-width: 1px 1px 0 1px;
    }

    .p-datatable-gridlines .p-datatable-footer {
        border-width: 0 1px 1px 1px;
    }

    .p-datatable-gridlines .p-datatable-paginator-top {
        border-width: 1px 1px 0 1px;
    }

    .p-datatable-gridlines .p-datatable-paginator-bottom {
        border-width: 0 1px 1px 1px;
    }

    .p-datatable-gridlines .p-datatable-thead > tr > th {
        border-width: 1px 0 1px 1px;
    }

    .p-datatable-gridlines .p-datatable-thead > tr > th:last-child {
        border-width: 1px;
    }

    .p-datatable-gridlines .p-datatable-tbody > tr > td {
        border-width: 1px 0 0 1px;
    }

    .p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {
        border-width: 1px 1px 0 1px;
    }

    .p-datatable-gridlines .p-datatable-tbody > tr:last-child > td {
        border-width: 1px 0 1px 1px;
    }

    .p-datatable-gridlines .p-datatable-tbody > tr:last-child > td:last-child {
        border-width: 1px;
    }

    .p-datatable-gridlines .p-datatable-tfoot > tr > td {
        border-width: 1px 0 1px 1px;
    }

    .p-datatable-gridlines .p-datatable-tfoot > tr > td:last-child {
        border-width: 1px 1px 1px 1px;
    }

    .p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td {
        border-width: 0 0 1px 1px;
    }

    .p-datatable.p-datatable-gridlines .p-datatable-thead + .p-datatable-tfoot > tr > td:last-child {
        border-width: 0 1px 1px 1px;
    }

    .p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td {
        border-width: 0 0 1px 1px;
    }

    .p-datatable.p-datatable-gridlines:has(.p-datatable-thead):has(.p-datatable-tbody) .p-datatable-tbody > tr > td:last-child {
        border-width: 0 1px 1px 1px;
    }

    .p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td {
        border-width: 0 0 0 1px;
    }

    .p-datatable.p-datatable-gridlines:has(.p-datatable-tbody):has(.p-datatable-tfoot) .p-datatable-tbody > tr:last-child > td:last-child {
        border-width: 0 1px 0 1px;
    }

    .p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd {
        background: dt('datatable.row.striped.background');
    }

    .p-datatable.p-datatable-striped .p-datatable-tbody > tr.p-row-odd.p-datatable-row-selected {
        background: dt('datatable.row.selected.background');
        color: dt('datatable.row.selected.color');
    }

    .p-datatable-striped.p-datatable-hoverable .p-datatable-tbody > tr:not(.p-datatable-row-selected):hover {
        background: dt('datatable.row.hover.background');
        color: dt('datatable.row.hover.color');
    }

    .p-datatable.p-datatable-sm .p-datatable-header {
        padding: dt('datatable.header.sm.padding');
    }

    .p-datatable.p-datatable-sm .p-datatable-thead > tr > th {
        padding: dt('datatable.header.cell.sm.padding');
    }

    .p-datatable.p-datatable-sm .p-datatable-tbody > tr > td {
        padding: dt('datatable.body.cell.sm.padding');
    }

    .p-datatable.p-datatable-sm .p-datatable-tfoot > tr > td {
        padding: dt('datatable.footer.cell.sm.padding');
    }

    .p-datatable.p-datatable-sm .p-datatable-footer {
        padding: dt('datatable.footer.sm.padding');
    }

    .p-datatable.p-datatable-lg .p-datatable-header {
        padding: dt('datatable.header.lg.padding');
    }

    .p-datatable.p-datatable-lg .p-datatable-thead > tr > th {
        padding: dt('datatable.header.cell.lg.padding');
    }

    .p-datatable.p-datatable-lg .p-datatable-tbody > tr > td {
        padding: dt('datatable.body.cell.lg.padding');
    }

    .p-datatable.p-datatable-lg .p-datatable-tfoot > tr > td {
        padding: dt('datatable.footer.cell.lg.padding');
    }

    .p-datatable.p-datatable-lg .p-datatable-footer {
        padding: dt('datatable.footer.lg.padding');
    }

    .p-datatable-row-toggle-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        width: dt('datatable.row.toggle.button.size');
        height: dt('datatable.row.toggle.button.size');
        color: dt('datatable.row.toggle.button.color');
        border: 0 none;
        background: transparent;
        cursor: pointer;
        border-radius: dt('datatable.row.toggle.button.border.radius');
        transition:
            background dt('datatable.transition.duration'),
            color dt('datatable.transition.duration'),
            border-color dt('datatable.transition.duration'),
            outline-color dt('datatable.transition.duration'),
            box-shadow dt('datatable.transition.duration');
        outline-color: transparent;
        user-select: none;
    }

    .p-datatable-row-toggle-button:enabled:hover {
        color: dt('datatable.row.toggle.button.hover.color');
        background: dt('datatable.row.toggle.button.hover.background');
    }

    .p-datatable-tbody > tr.p-datatable-row-selected .p-datatable-row-toggle-button:hover {
        background: dt('datatable.row.toggle.button.selected.hover.background');
        color: dt('datatable.row.toggle.button.selected.hover.color');
    }

    .p-datatable-row-toggle-button:focus-visible {
        box-shadow: dt('datatable.row.toggle.button.focus.ring.shadow');
        outline: dt('datatable.row.toggle.button.focus.ring.width') dt('datatable.row.toggle.button.focus.ring.style') dt('datatable.row.toggle.button.focus.ring.color');
        outline-offset: dt('datatable.row.toggle.button.focus.ring.offset');
    }

    .p-datatable-row-toggle-icon:dir(rtl) {
        transform: rotate(180deg);
    }
`;var CG=`
    .p-datepicker {
        display: inline-flex;
        max-width: 100%;
    }

    .p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-input {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-datepicker-dropdown {
        cursor: pointer;
        display: inline-flex;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        width: dt('datepicker.dropdown.width');
        border-start-end-radius: dt('datepicker.dropdown.border.radius');
        border-end-end-radius: dt('datepicker.dropdown.border.radius');
        background: dt('datepicker.dropdown.background');
        border: 1px solid dt('datepicker.dropdown.border.color');
        border-inline-start: 0 none;
        color: dt('datepicker.dropdown.color');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        outline-color: transparent;
    }

    .p-datepicker-dropdown:not(:disabled):hover {
        background: dt('datepicker.dropdown.hover.background');
        border-color: dt('datepicker.dropdown.hover.border.color');
        color: dt('datepicker.dropdown.hover.color');
    }

    .p-datepicker-dropdown:not(:disabled):active {
        background: dt('datepicker.dropdown.active.background');
        border-color: dt('datepicker.dropdown.active.border.color');
        color: dt('datepicker.dropdown.active.color');
    }

    .p-datepicker-dropdown:focus-visible {
        box-shadow: dt('datepicker.dropdown.focus.ring.shadow');
        outline: dt('datepicker.dropdown.focus.ring.width') dt('datepicker.dropdown.focus.ring.style') dt('datepicker.dropdown.focus.ring.color');
        outline-offset: dt('datepicker.dropdown.focus.ring.offset');
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) {
        position: relative;
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker-input-icon-container {
        cursor: pointer;
        position: absolute;
        top: 50%;
        inset-inline-end: dt('form.field.padding.x');
        margin-block-start: calc(-1 * (dt('icon.size') / 2));
        color: dt('datepicker.input.icon.color');
        line-height: 1;
        z-index: 1;
    }

    .p-datepicker:has(.p-datepicker-input:disabled) .p-datepicker-input-icon-container {
        cursor: default;
    }

    .p-datepicker-fluid {
        display: flex;
    }

    .p-datepicker-fluid:has(.p-datepicker-dropdown) .p-datepicker-input {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-datepicker .p-datepicker-panel {
        min-width: 100%;
    }

    .p-datepicker-panel {
        width: auto;
        padding: dt('datepicker.panel.padding');
        background: dt('datepicker.panel.background');
        color: dt('datepicker.panel.color');
        border: 1px solid dt('datepicker.panel.border.color');
        border-radius: dt('datepicker.panel.border.radius');
        box-shadow: dt('datepicker.panel.shadow');
    }

    .p-datepicker-panel-inline {
        display: inline-block;
        overflow-x: auto;
        box-shadow: none;
    }

    .p-datepicker-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: dt('datepicker.header.padding');
        background: dt('datepicker.header.background');
        color: dt('datepicker.header.color');
        border-block-end: 1px solid dt('datepicker.header.border.color');
    }

    .p-datepicker-next-button:dir(rtl) {
        order: -1;
    }

    .p-datepicker-prev-button:dir(rtl) {
        order: 1;
    }

    .p-datepicker-title {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: dt('datepicker.title.gap');
        font-weight: dt('datepicker.title.font.weight');
    }

    .p-datepicker-select-year,
    .p-datepicker-select-month {
        border: none;
        background: transparent;
        margin: 0;
        cursor: pointer;
        font-weight: inherit;
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration');
    }

    .p-datepicker-select-month {
        padding: dt('datepicker.select.month.padding');
        color: dt('datepicker.select.month.color');
        border-radius: dt('datepicker.select.month.border.radius');
    }

    .p-datepicker-select-year {
        padding: dt('datepicker.select.year.padding');
        color: dt('datepicker.select.year.color');
        border-radius: dt('datepicker.select.year.border.radius');
    }

    .p-datepicker-select-month:enabled:hover {
        background: dt('datepicker.select.month.hover.background');
        color: dt('datepicker.select.month.hover.color');
    }

    .p-datepicker-select-year:enabled:hover {
        background: dt('datepicker.select.year.hover.background');
        color: dt('datepicker.select.year.hover.color');
    }

    .p-datepicker-select-month:focus-visible,
    .p-datepicker-select-year:focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-calendar-container {
        display: flex;
    }

    .p-datepicker-calendar-container .p-datepicker-calendar {
        flex: 1 1 auto;
        border-inline-start: 1px solid dt('datepicker.group.border.color');
        padding-inline-end: dt('datepicker.group.gap');
        padding-inline-start: dt('datepicker.group.gap');
    }

    .p-datepicker-calendar-container .p-datepicker-calendar:first-child {
        padding-inline-start: 0;
        border-inline-start: 0 none;
    }

    .p-datepicker-calendar-container .p-datepicker-calendar:last-child {
        padding-inline-end: 0;
    }

    .p-datepicker-day-view {
        width: 100%;
        border-collapse: collapse;
        font-size: 1rem;
        margin: dt('datepicker.day.view.margin');
    }

    .p-datepicker-weekday-cell {
        padding: dt('datepicker.week.day.padding');
    }

    .p-datepicker-weekday {
        font-weight: dt('datepicker.week.day.font.weight');
        color: dt('datepicker.week.day.color');
    }

    .p-datepicker-day-cell {
        padding: dt('datepicker.date.padding');
    }

    .p-datepicker-day {
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        width: dt('datepicker.date.width');
        height: dt('datepicker.date.height');
        border-radius: dt('datepicker.date.border.radius');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border: 1px solid transparent;
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-day:not(.p-datepicker-day-selected):not(.p-disabled):hover {
        background: dt('datepicker.date.hover.background');
        color: dt('datepicker.date.hover.color');
    }

    .p-datepicker-day:focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-day-selected {
        background: dt('datepicker.date.selected.background');
        color: dt('datepicker.date.selected.color');
    }

    .p-datepicker-day-selected-range {
        background: dt('datepicker.date.range.selected.background');
        color: dt('datepicker.date.range.selected.color');
    }

    .p-datepicker-today > .p-datepicker-day {
        background: dt('datepicker.today.background');
        color: dt('datepicker.today.color');
    }

    .p-datepicker-today > .p-datepicker-day-selected {
        background: dt('datepicker.date.selected.background');
        color: dt('datepicker.date.selected.color');
    }

    .p-datepicker-today > .p-datepicker-day-selected-range {
        background: dt('datepicker.date.range.selected.background');
        color: dt('datepicker.date.range.selected.color');
    }

    .p-datepicker-weeknumber {
        text-align: center;
    }

    .p-datepicker-month-view {
        margin: dt('datepicker.month.view.margin');
    }

    .p-datepicker-month {
        width: 33.3%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
        padding: dt('datepicker.month.padding');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border-radius: dt('datepicker.month.border.radius');
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-month:not(.p-disabled):not(.p-datepicker-month-selected):hover {
        color: dt('datepicker.date.hover.color');
        background: dt('datepicker.date.hover.background');
    }

    .p-datepicker-month-selected {
        color: dt('datepicker.date.selected.color');
        background: dt('datepicker.date.selected.background');
    }

    .p-datepicker-month:not(.p-disabled):focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-year-view {
        margin: dt('datepicker.year.view.margin');
    }

    .p-datepicker-year {
        width: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        overflow: hidden;
        position: relative;
        padding: dt('datepicker.year.padding');
        transition:
            background dt('datepicker.transition.duration'),
            color dt('datepicker.transition.duration'),
            border-color dt('datepicker.transition.duration'),
            box-shadow dt('datepicker.transition.duration'),
            outline-color dt('datepicker.transition.duration');
        border-radius: dt('datepicker.year.border.radius');
        outline-color: transparent;
        color: dt('datepicker.date.color');
    }

    .p-datepicker-year:not(.p-disabled):not(.p-datepicker-year-selected):hover {
        color: dt('datepicker.date.hover.color');
        background: dt('datepicker.date.hover.background');
    }

    .p-datepicker-year-selected {
        color: dt('datepicker.date.selected.color');
        background: dt('datepicker.date.selected.background');
    }

    .p-datepicker-year:not(.p-disabled):focus-visible {
        box-shadow: dt('datepicker.date.focus.ring.shadow');
        outline: dt('datepicker.date.focus.ring.width') dt('datepicker.date.focus.ring.style') dt('datepicker.date.focus.ring.color');
        outline-offset: dt('datepicker.date.focus.ring.offset');
    }

    .p-datepicker-buttonbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('datepicker.buttonbar.padding');
        border-block-start: 1px solid dt('datepicker.buttonbar.border.color');
    }

    .p-datepicker-buttonbar .p-button {
        width: auto;
    }

    .p-datepicker-time-picker {
        display: flex;
        justify-content: center;
        align-items: center;
        border-block-start: 1px solid dt('datepicker.time.picker.border.color');
        padding: 0;
        gap: dt('datepicker.time.picker.gap');
    }

    .p-datepicker-calendar-container + .p-datepicker-time-picker {
        padding: dt('datepicker.time.picker.padding');
    }

    .p-datepicker-time-picker > div {
        display: flex;
        align-items: center;
        flex-direction: column;
        gap: dt('datepicker.time.picker.button.gap');
    }

    .p-datepicker-time-picker span {
        font-size: 1rem;
    }

    .p-datepicker-timeonly .p-datepicker-time-picker {
        border-block-start: 0 none;
    }

    .p-datepicker-time-picker:dir(rtl) {
        flex-direction: row-reverse;
    }

    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown {
        width: dt('datepicker.dropdown.sm.width');
    }

    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-dropdown .p-icon,
    .p-datepicker:has(.p-inputtext-sm) .p-datepicker-input-icon {
        font-size: dt('form.field.sm.font.size');
        width: dt('form.field.sm.font.size');
        height: dt('form.field.sm.font.size');
    }

    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown {
        width: dt('datepicker.dropdown.lg.width');
    }

    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-dropdown .p-icon,
    .p-datepicker:has(.p-inputtext-lg) .p-datepicker-input-icon {
        font-size: dt('form.field.lg.font.size');
        width: dt('form.field.lg.font.size');
        height: dt('form.field.lg.font.size');
    }

    .p-datepicker-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        color: dt('form.field.icon.color');
        inset-inline-end: dt('form.field.padding.x');
    }

    .p-datepicker:has(.p-datepicker-dropdown) .p-datepicker-clear-icon {
        inset-inline-end: calc(dt('datepicker.dropdown.width') + dt('form.field.padding.x'));
    }

    .p-datepicker:has(.p-datepicker-input-icon-container) .p-datepicker-clear-icon {
        inset-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker:has(.p-datepicker-clear-icon) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-datepicker:has(.p-datepicker-input-icon-container):has(.p-datepicker-clear-icon) .p-datepicker-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 3) + calc(dt('icon.size') * 2));
    }

    .p-inputgroup .p-datepicker-dropdown {
        border-radius: 0;
    }

    .p-inputgroup > .p-datepicker:last-child:has(.p-datepicker-dropdown) > .p-datepicker-input {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
    }

    .p-inputgroup > .p-datepicker:last-child .p-datepicker-dropdown {
        border-start-end-radius: dt('datepicker.dropdown.border.radius');
        border-end-end-radius: dt('datepicker.dropdown.border.radius');
    }
`;var b0e=["date"],y0e=["header"],v0e=["footer"],w0e=["disabledDate"],C0e=["decade"],S0e=["previousicon"],I0e=["nexticon"],E0e=["triggericon"],x0e=["clearicon"],T0e=["decrementicon"],O0e=["incrementicon"],R0e=["inputicon"],D0e=["buttonbar"],P0e=["inputfield"],A0e=["contentWrapper"],k0e=[[["p-header"]],[["p-footer"]]],N0e=["p-header","p-footer"],F0e=i=>({clickCallBack:i}),L0e=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),M0e=i=>({value:"visible",params:i}),SG=i=>({visibility:i}),nk=i=>({$implicit:i}),B0e=i=>({date:i}),V0e=(i,n)=>({month:i,index:n}),U0e=i=>({year:i}),j0e=(i,n)=>({todayCallback:i,clearCallback:n});function G0e(i,n){if(i&1){let e=B();xe(),_(0,"svg",10),A("click",function(){w(e);let o=h(3);return C(o.clear())}),b()}if(i&2){let e=h(3);j(e.cx("clearIcon")),f("pBind",e.ptm("inputIcon"))}}function H0e(i,n){}function z0e(i,n){i&1&&E(0,H0e,0,0,"ng-template")}function W0e(i,n){if(i&1){let e=B();_(0,"span",11),A("click",function(){w(e);let o=h(3);return C(o.clear())}),E(1,z0e,1,0,null,12),b()}if(i&2){let e=h(3);j(e.cx("clearIcon")),f("pBind",e.ptm("inputIcon")),p(),f("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function $0e(i,n){if(i&1&&(we(0),E(1,G0e,1,3,"svg",8)(2,W0e,2,4,"span",9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),p(),f("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function K0e(i,n){if(i&1&&N(0,"span",15),i&2){let e=h(3);f("ngClass",e.icon)("pBind",e.ptm("dropdownIcon"))}}function q0e(i,n){if(i&1&&(xe(),N(0,"svg",17)),i&2){let e=h(4);f("pBind",e.ptm("dropdownIcon"))}}function J0e(i,n){}function Q0e(i,n){i&1&&E(0,J0e,0,0,"ng-template")}function Y0e(i,n){if(i&1&&(we(0),E(1,q0e,1,1,"svg",16)(2,Q0e,1,0,null,12),Ce()),i&2){let e=h(3);p(),f("ngIf",!e.triggerIconTemplate&&!e._triggerIconTemplate),p(),f("ngTemplateOutlet",e.triggerIconTemplate||e._triggerIconTemplate)}}function X0e(i,n){if(i&1){let e=B();_(0,"button",13),A("click",function(o){w(e),h();let r=Ze(1),s=h();return C(s.onButtonClick(o,r))}),E(1,K0e,1,2,"span",14)(2,Y0e,3,2,"ng-container",6),b()}if(i&2){let e=h(2);j(e.cx("dropdown")),f("disabled",e.$disabled())("pBind",e.ptm("dropdown")),ce("aria-label",e.iconButtonAriaLabel)("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.panelId:null),p(),f("ngIf",e.icon),p(),f("ngIf",!e.icon)}}function Z0e(i,n){if(i&1){let e=B();xe(),_(0,"svg",21),A("click",function(o){w(e);let r=h(3);return C(r.onButtonClick(o))}),b()}if(i&2){let e=h(3);j(e.cx("inputIcon")),f("pBind",e.ptm("inputIcon"))}}function ebe(i,n){i&1&&ve(0)}function tbe(i,n){if(i&1&&(we(0),_(1,"span",18),E(2,Z0e,1,3,"svg",19)(3,ebe,1,0,"ng-container",20),b(),Ce()),i&2){let e=h(2);p(),j(e.cx("inputIconContainer")),f("pBind",e.ptm("inputIconContainer")),p(),f("ngIf",!e.inputIconTemplate&&!e._inputIconTemplate),p(),f("ngTemplateOutlet",e.inputIconTemplate||e._inputIconTemplate)("ngTemplateOutletContext",de(6,F0e,e.onButtonClick.bind(e)))}}function ibe(i,n){if(i&1){let e=B();_(0,"input",5,0),A("focus",function(o){w(e);let r=h();return C(r.onInputFocus(o))})("keydown",function(o){w(e);let r=h();return C(r.onInputKeydown(o))})("click",function(){w(e);let o=h();return C(o.onInputClick())})("blur",function(o){w(e);let r=h();return C(r.onInputBlur(o))})("input",function(o){w(e);let r=h();return C(r.onUserInput(o))}),b(),E(2,$0e,3,2,"ng-container",6)(3,X0e,3,9,"button",7)(4,tbe,4,8,"ng-container",6)}if(i&2){let e=h();j(e.cn(e.cx("pcInputText"),e.inputStyleClass)),f("pSize",e.size())("value",e.inputFieldValue)("ngStyle",e.inputStyle)("pAutoFocus",e.autofocus)("variant",e.$variant())("fluid",e.hasFluid)("invalid",e.invalid())("pt",e.ptm("pcInputText")),ce("size",e.inputSize())("id",e.inputId)("name",e.name())("aria-required",e.required())("aria-expanded",e.overlayVisible??!1)("aria-controls",e.overlayVisible?e.panelId:null)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("required",e.required()?"":void 0)("readonly",e.readonlyInput?"":void 0)("disabled",e.$disabled()?"":void 0)("placeholder",e.placeholder)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null),p(2),f("ngIf",e.showClear&&!e.$disabled()&&(e.inputfieldViewChild==null||e.inputfieldViewChild.nativeElement==null?null:e.inputfieldViewChild.nativeElement.value)),p(),f("ngIf",e.showIcon&&e.iconDisplay==="button"),p(),f("ngIf",e.iconDisplay==="input"&&e.showIcon)}}function nbe(i,n){i&1&&ve(0)}function obe(i,n){i&1&&(xe(),N(0,"svg",30))}function rbe(i,n){}function sbe(i,n){i&1&&E(0,rbe,0,0,"ng-template")}function abe(i,n){if(i&1&&(_(0,"span"),E(1,sbe,1,0,null,12),b()),i&2){let e=h(5);p(),f("ngTemplateOutlet",e.previousIconTemplate||e._previousIconTemplate)}}function lbe(i,n){if(i&1&&E(0,obe,1,0,"svg",29)(1,abe,2,1,"span",6),i&2){let e=h(4);f("ngIf",!e.previousIconTemplate&&!e._previousIconTemplate),p(),f("ngIf",e.previousIconTemplate||e._previousIconTemplate)}}function cbe(i,n){if(i&1){let e=B();_(0,"button",31),A("click",function(o){w(e);let r=h(4);return C(r.switchToMonthView(o))})("keydown",function(o){w(e);let r=h(4);return C(r.onContainerButtonKeydown(o))}),R(1),b()}if(i&2){let e=h().$implicit,t=h(3);j(t.cx("selectMonth")),f("pBind",t.ptm("selectMonth")),ce("disabled",t.switchViewButtonDisabled()?"":void 0)("aria-label",t.getTranslation("chooseMonth"))("data-pc-group-section","navigator"),p(),Y(" ",t.getMonthName(e.month)," ")}}function dbe(i,n){if(i&1){let e=B();_(0,"button",31),A("click",function(o){w(e);let r=h(4);return C(r.switchToYearView(o))})("keydown",function(o){w(e);let r=h(4);return C(r.onContainerButtonKeydown(o))}),R(1),b()}if(i&2){let e=h().$implicit,t=h(3);j(t.cx("selectYear")),f("pBind",t.ptm("selectYear")),ce("disabled",t.switchViewButtonDisabled()?"":void 0)("aria-label",t.getTranslation("chooseYear"))("data-pc-group-section","navigator"),p(),Y(" ",t.getYear(e)," ")}}function pbe(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(5);p(),Ps("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1])}}function ube(i,n){i&1&&ve(0)}function hbe(i,n){if(i&1&&(_(0,"span",18),E(1,pbe,2,2,"ng-container",6)(2,ube,1,0,"ng-container",20),b()),i&2){let e=h(4);j(e.cx("decade")),f("pBind",e.ptm("decade")),p(),f("ngIf",!e.decadeTemplate&&!e._decadeTemplate),p(),f("ngTemplateOutlet",e.decadeTemplate||e._decadeTemplate)("ngTemplateOutletContext",de(6,nk,e.yearPickerValues))}}function fbe(i,n){i&1&&(xe(),N(0,"svg",33))}function mbe(i,n){}function gbe(i,n){i&1&&E(0,mbe,0,0,"ng-template")}function _be(i,n){if(i&1&&(we(0),E(1,gbe,1,0,null,12),Ce()),i&2){let e=h(5);p(),f("ngTemplateOutlet",e.nextIconTemplate||e._nextIconTemplate)}}function bbe(i,n){if(i&1&&E(0,fbe,1,0,"svg",32)(1,_be,2,1,"ng-container",6),i&2){let e=h(4);f("ngIf",!e.nextIconTemplate&&!e._nextIconTemplate),p(),f("ngIf",e.nextIconTemplate||e._nextIconTemplate)}}function ybe(i,n){if(i&1&&(_(0,"th",18)(1,"span",18),R(2),b()()),i&2){let e=h(5);j(e.cx("weekHeader")),f("pBind",e.ptm("weekHeader")),p(),f("pBind",e.ptm("weekHeaderLabel")),p(),Q(e.getTranslation("weekHeader"))}}function vbe(i,n){if(i&1&&(_(0,"th",37)(1,"span",18),R(2),b()()),i&2){let e=n.$implicit,t=h(5);j(t.cx("weekDayCell")),f("pBind",t.ptm("weekDayCell")),p(),j(t.cx("weekDay")),f("pBind",t.ptm("weekDay")),p(),Q(e)}}function wbe(i,n){if(i&1&&(_(0,"td",18)(1,"span",18),R(2),b()()),i&2){let e=h().index,t=h(2).$implicit,o=h(3);j(o.cx("weekNumber")),f("pBind",o.ptm("weekNumber")),p(),j(o.cx("weekLabelContainer")),f("pBind",o.ptm("weekLabelContainer")),p(),Y(" ",t.weekNumbers[e]," ")}}function Cbe(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2).$implicit;p(),Q(e.day)}}function Sbe(i,n){i&1&&ve(0)}function Ibe(i,n){if(i&1&&(we(0),E(1,Sbe,1,0,"ng-container",20),Ce()),i&2){let e=h(2).$implicit,t=h(6);p(),f("ngTemplateOutlet",t.dateTemplate||t._dateTemplate)("ngTemplateOutletContext",de(2,nk,e))}}function Ebe(i,n){i&1&&ve(0)}function xbe(i,n){if(i&1&&(we(0),E(1,Ebe,1,0,"ng-container",20),Ce()),i&2){let e=h(2).$implicit,t=h(6);p(),f("ngTemplateOutlet",t.disabledDateTemplate||t._disabledDateTemplate)("ngTemplateOutletContext",de(2,nk,e))}}function Tbe(i,n){if(i&1&&(_(0,"div",40),R(1),b()),i&2){let e=h(2).$implicit;p(),Y(" ",e.day," ")}}function Obe(i,n){if(i&1){let e=B();we(0),_(1,"span",38),A("click",function(o){w(e);let r=h().$implicit,s=h(6);return C(s.onDateSelect(o,r))})("keydown",function(o){w(e);let r=h().$implicit,s=h(3).index,a=h(3);return C(a.onDateCellKeydown(o,r,s))}),E(2,Cbe,2,1,"ng-container",6)(3,Ibe,2,4,"ng-container",6)(4,xbe,2,4,"ng-container",6),b(),E(5,Tbe,2,1,"div",39),Ce()}if(i&2){let e=h().$implicit,t=h(6);p(),f("ngClass",t.dayClass(e))("pBind",t.ptm("day")),ce("data-date",t.formatDateKey(t.formatDateMetaToDate(e))),p(),f("ngIf",!t.dateTemplate&&!t._dateTemplate&&(e.selectable||!t.disabledDateTemplate&&!t._disabledDateTemplate)),p(),f("ngIf",e.selectable||!t.disabledDateTemplate&&!t._disabledDateTemplate),p(),f("ngIf",!e.selectable),p(),f("ngIf",t.isSelected(e))}}function Rbe(i,n){if(i&1&&(_(0,"td",18),E(1,Obe,6,7,"ng-container",6),b()),i&2){let e=n.$implicit,t=h(6);j(t.cx("dayCell",de(5,B0e,e))),f("pBind",t.ptm("dayCell")),ce("aria-label",e.day),p(),f("ngIf",e.otherMonth?t.showOtherMonths:!0)}}function Dbe(i,n){if(i&1&&(_(0,"tr",18),E(1,wbe,3,7,"td",23)(2,Rbe,2,7,"td",24),b()),i&2){let e=n.$implicit,t=h(5);f("pBind",t.ptm("tableBodyRow")),p(),f("ngIf",t.showWeek),p(),f("ngForOf",e)}}function Pbe(i,n){if(i&1&&(_(0,"table",34)(1,"thead",18)(2,"tr",18),E(3,ybe,3,5,"th",23)(4,vbe,3,7,"th",35),b()(),_(5,"tbody",18),E(6,Dbe,3,3,"tr",36),b()()),i&2){let e=h().$implicit,t=h(3);j(t.cx("dayView")),f("pBind",t.ptm("table")),p(),f("pBind",t.ptm("tableHeader")),p(),f("pBind",t.ptm("tableHeaderRow")),p(),f("ngIf",t.showWeek),p(),f("ngForOf",t.weekDays),p(),f("pBind",t.ptm("tableBody")),p(),f("ngForOf",e.dates)}}function Abe(i,n){if(i&1){let e=B();_(0,"div",18)(1,"div",18)(2,"p-button",25),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("onClick",function(o){w(e);let r=h(3);return C(r.onPrevButtonClick(o))}),E(3,lbe,2,2,"ng-template",null,2,ie),b(),_(5,"div",18),E(6,cbe,2,7,"button",26)(7,dbe,2,7,"button",26)(8,hbe,3,8,"span",23),b(),_(9,"p-button",27),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("onClick",function(o){w(e);let r=h(3);return C(r.onNextButtonClick(o))}),E(10,bbe,2,2,"ng-template",null,2,ie),b()(),E(12,Pbe,7,9,"table",28),b()}if(i&2){let e=n.index,t=h(3);j(t.cx("calendar")),f("pBind",t.ptm("calendar")),p(),j(t.cx("header")),f("pBind",t.ptm("header")),p(),f("styleClass",t.cx("pcPrevButton"))("ngStyle",de(23,SG,e===0?"visible":"hidden"))("ariaLabel",t.prevIconAriaLabel)("pt",t.ptm("pcPrevButton")),ce("data-pc-group-section","navigator"),p(3),j(t.cx("title")),f("pBind",t.ptm("title")),p(),f("ngIf",t.currentView==="date"),p(),f("ngIf",t.currentView!=="year"),p(),f("ngIf",t.currentView==="year"),p(),f("styleClass",t.cx("pcNextButton"))("ngStyle",de(25,SG,e===t.months.length-1?"visible":"hidden"))("ariaLabel",t.nextIconAriaLabel)("pt",t.ptm("pcNextButton")),ce("data-pc-group-section","navigator"),p(3),f("ngIf",t.currentView==="date")}}function kbe(i,n){if(i&1&&(_(0,"div",40),R(1),b()),i&2){let e=h().$implicit;p(),Y(" ",e," ")}}function Nbe(i,n){if(i&1){let e=B();_(0,"span",42),A("click",function(o){let r=w(e).index,s=h(4);return C(s.onMonthSelect(o,r))})("keydown",function(o){let r=w(e).index,s=h(4);return C(s.onMonthCellKeydown(o,r))}),R(1),E(2,kbe,2,1,"div",39),b()}if(i&2){let e=n.$implicit,t=n.index,o=h(4);j(o.cx("month",Ct(5,V0e,e,t))),f("pBind",o.ptm("month")),p(),Y(" ",e," "),p(),f("ngIf",o.isMonthSelected(t))}}function Fbe(i,n){if(i&1&&(_(0,"div",18),E(1,Nbe,3,8,"span",41),b()),i&2){let e=h(3);j(e.cx("monthView")),f("pBind",e.ptm("monthView")),p(),f("ngForOf",e.monthPickerValues())}}function Lbe(i,n){if(i&1&&(_(0,"div",40),R(1),b()),i&2){let e=h().$implicit;p(),Y(" ",e," ")}}function Mbe(i,n){if(i&1){let e=B();_(0,"span",42),A("click",function(o){let r=w(e).$implicit,s=h(4);return C(s.onYearSelect(o,r))})("keydown",function(o){let r=w(e).$implicit,s=h(4);return C(s.onYearCellKeydown(o,r))}),R(1),E(2,Lbe,2,1,"div",39),b()}if(i&2){let e=n.$implicit,t=h(4);j(t.cx("year",de(5,U0e,e))),f("pBind",t.ptm("year")),p(),Y(" ",e," "),p(),f("ngIf",t.isYearSelected(e))}}function Bbe(i,n){if(i&1&&(_(0,"div",18),E(1,Mbe,3,7,"span",41),b()),i&2){let e=h(3);j(e.cx("yearView")),f("pBind",e.ptm("yearView")),p(),f("ngForOf",e.yearPickerValues())}}function Vbe(i,n){if(i&1&&(we(0),_(1,"div",18),E(2,Abe,13,27,"div",24),b(),E(3,Fbe,2,4,"div",23)(4,Bbe,2,4,"div",23),Ce()),i&2){let e=h(2);p(),j(e.cx("calendarContainer")),f("pBind",e.ptm("calendarContainer")),p(),f("ngForOf",e.months),p(),f("ngIf",e.currentView==="month"),p(),f("ngIf",e.currentView==="year")}}function Ube(i,n){if(i&1&&(xe(),N(0,"svg",46)),i&2){let e=h(4);f("pBind",e.ptm("pcIncrementButton").icon)}}function jbe(i,n){}function Gbe(i,n){i&1&&E(0,jbe,0,0,"ng-template")}function Hbe(i,n){if(i&1&&E(0,Ube,1,1,"svg",45)(1,Gbe,1,0,null,12),i&2){let e=h(3);f("ngIf",!e.incrementIconTemplate&&!e._incrementIconTemplate),p(),f("ngTemplateOutlet",e.incrementIconTemplate||e._incrementIconTemplate)}}function zbe(i,n){i&1&&(we(0),R(1,"0"),Ce())}function Wbe(i,n){if(i&1&&(xe(),N(0,"svg",48)),i&2){let e=h(4);f("pBind",e.ptm("pcDecrementButton").icon)}}function $be(i,n){}function Kbe(i,n){i&1&&E(0,$be,0,0,"ng-template")}function qbe(i,n){if(i&1&&E(0,Wbe,1,1,"svg",47)(1,Kbe,1,0,null,12),i&2){let e=h(3);f("ngIf",!e.decrementIconTemplate&&!e._decrementIconTemplate),p(),f("ngTemplateOutlet",e.decrementIconTemplate||e._decrementIconTemplate)}}function Jbe(i,n){if(i&1&&(xe(),N(0,"svg",46)),i&2){let e=h(4);f("pBind",e.ptm("pcIncrementButton").icon)}}function Qbe(i,n){}function Ybe(i,n){i&1&&E(0,Qbe,0,0,"ng-template")}function Xbe(i,n){if(i&1&&E(0,Jbe,1,1,"svg",45)(1,Ybe,1,0,null,12),i&2){let e=h(3);f("ngIf",!e.incrementIconTemplate&&!e._incrementIconTemplate),p(),f("ngTemplateOutlet",e.incrementIconTemplate||e._incrementIconTemplate)}}function Zbe(i,n){i&1&&(we(0),R(1,"0"),Ce())}function eye(i,n){if(i&1&&(xe(),N(0,"svg",48)),i&2){let e=h(4);f("pBind",e.ptm("pcDecrementButton").icon)}}function tye(i,n){}function iye(i,n){i&1&&E(0,tye,0,0,"ng-template")}function nye(i,n){if(i&1&&E(0,eye,1,1,"svg",47)(1,iye,1,0,null,12),i&2){let e=h(3);f("ngIf",!e.decrementIconTemplate&&!e._decrementIconTemplate),p(),f("ngTemplateOutlet",e.decrementIconTemplate||e._decrementIconTemplate)}}function oye(i,n){if(i&1&&(_(0,"div",18)(1,"span",18),R(2),b()()),i&2){let e=h(3);j(e.cx("separator")),f("pBind",e.ptm("separatorContainer")),p(),f("pBind",e.ptm("separator")),p(),Q(e.timeSeparator)}}function rye(i,n){if(i&1&&(xe(),N(0,"svg",46)),i&2){let e=h(5);f("pBind",e.ptm("pcIncrementButton").icon)}}function sye(i,n){}function aye(i,n){i&1&&E(0,sye,0,0,"ng-template")}function lye(i,n){if(i&1&&E(0,rye,1,1,"svg",45)(1,aye,1,0,null,12),i&2){let e=h(4);f("ngIf",!e.incrementIconTemplate&&!e._incrementIconTemplate),p(),f("ngTemplateOutlet",e.incrementIconTemplate||e._incrementIconTemplate)}}function cye(i,n){i&1&&(we(0),R(1,"0"),Ce())}function dye(i,n){if(i&1&&(xe(),N(0,"svg",48)),i&2){let e=h(5);f("pBind",e.ptm("pcDecrementButton").icon)}}function pye(i,n){}function uye(i,n){i&1&&E(0,pye,0,0,"ng-template")}function hye(i,n){if(i&1&&E(0,dye,1,1,"svg",47)(1,uye,1,0,null,12),i&2){let e=h(4);f("ngIf",!e.decrementIconTemplate&&!e._decrementIconTemplate),p(),f("ngTemplateOutlet",e.decrementIconTemplate||e._decrementIconTemplate)}}function fye(i,n){if(i&1){let e=B();_(0,"div",18)(1,"p-button",43),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(3);return C(r.incrementSecond(o))})("keydown.space",function(o){w(e);let r=h(3);return C(r.incrementSecond(o))})("mousedown",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseDown(o,2,1))})("mouseup",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(3);return C(o.onTimePickerElementMouseLeave())}),E(2,lye,2,2,"ng-template",null,2,ie),b(),_(4,"span",18),E(5,cye,2,0,"ng-container",6),R(6),b(),_(7,"p-button",43),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(3);return C(r.decrementSecond(o))})("keydown.space",function(o){w(e);let r=h(3);return C(r.decrementSecond(o))})("mousedown",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseDown(o,2,-1))})("mouseup",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(3);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(3);return C(o.onTimePickerElementMouseLeave())}),E(8,hye,2,2,"ng-template",null,2,ie),b()()}if(i&2){let e=h(3);j(e.cx("secondPicker")),f("pBind",e.ptm("secondPicker")),p(),f("styleClass",e.cx("pcIncrementButton"))("pt",e.ptm("pcIncrementButton")),ce("aria-label",e.getTranslation("nextSecond"))("data-pc-group-section","timepickerbutton"),p(3),f("pBind",e.ptm("second")),p(),f("ngIf",e.currentSecond<10),p(),Q(e.currentSecond),p(),f("styleClass",e.cx("pcDecrementButton"))("pt",e.ptm("pcDecrementButton")),ce("aria-label",e.getTranslation("prevSecond"))("data-pc-group-section","timepickerbutton")}}function mye(i,n){if(i&1&&(_(0,"div",18)(1,"span",18),R(2),b()()),i&2){let e=h(3);j(e.cx("separator")),f("pBind",e.ptm("separatorContainer")),p(),f("pBind",e.ptm("separator")),p(),Q(e.timeSeparator)}}function gye(i,n){if(i&1&&(xe(),N(0,"svg",46)),i&2){let e=h(5);f("pBind",e.ptm("pcIncrementButton").icon)}}function _ye(i,n){}function bye(i,n){i&1&&E(0,_ye,0,0,"ng-template")}function yye(i,n){if(i&1&&E(0,gye,1,1,"svg",45)(1,bye,1,0,null,12),i&2){let e=h(4);f("ngIf",!e.incrementIconTemplate&&!e._incrementIconTemplate),p(),f("ngTemplateOutlet",e.incrementIconTemplate||e._incrementIconTemplate)}}function vye(i,n){if(i&1&&(xe(),N(0,"svg",48)),i&2){let e=h(5);f("pBind",e.ptm("pcDecrementButton").icon)}}function wye(i,n){}function Cye(i,n){i&1&&E(0,wye,0,0,"ng-template")}function Sye(i,n){if(i&1&&E(0,vye,1,1,"svg",47)(1,Cye,1,0,null,12),i&2){let e=h(4);f("ngIf",!e.decrementIconTemplate&&!e._decrementIconTemplate),p(),f("ngTemplateOutlet",e.decrementIconTemplate||e._decrementIconTemplate)}}function Iye(i,n){if(i&1){let e=B();_(0,"div",18)(1,"p-button",49),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("onClick",function(o){w(e);let r=h(3);return C(r.toggleAMPM(o))})("keydown.enter",function(o){w(e);let r=h(3);return C(r.toggleAMPM(o))}),E(2,yye,2,2,"ng-template",null,2,ie),b(),_(4,"span",18),R(5),b(),_(6,"p-button",50),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("click",function(o){w(e);let r=h(3);return C(r.toggleAMPM(o))})("keydown.enter",function(o){w(e);let r=h(3);return C(r.toggleAMPM(o))}),E(7,Sye,2,2,"ng-template",null,2,ie),b()()}if(i&2){let e=h(3);j(e.cx("ampmPicker")),f("pBind",e.ptm("ampmPicker")),p(),f("styleClass",e.cx("pcIncrementButton"))("pt",e.ptm("pcIncrementButton")),ce("aria-label",e.getTranslation("am"))("data-pc-group-section","timepickerbutton"),p(3),f("pBind",e.ptm("ampm")),p(),Q(e.pm?"PM":"AM"),p(),f("styleClass",e.cx("pcDecrementButton"))("pt",e.ptm("pcDecrementButton")),ce("aria-label",e.getTranslation("pm"))("data-pc-group-section","timepickerbutton")}}function Eye(i,n){if(i&1){let e=B();_(0,"div",18)(1,"div",18)(2,"p-button",43),A("keydown",function(o){w(e);let r=h(2);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(2);return C(r.incrementHour(o))})("keydown.space",function(o){w(e);let r=h(2);return C(r.incrementHour(o))})("mousedown",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseDown(o,0,1))})("mouseup",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(2);return C(o.onTimePickerElementMouseLeave())}),E(3,Hbe,2,2,"ng-template",null,2,ie),b(),_(5,"span",18),E(6,zbe,2,0,"ng-container",6),R(7),b(),_(8,"p-button",43),A("keydown",function(o){w(e);let r=h(2);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(2);return C(r.decrementHour(o))})("keydown.space",function(o){w(e);let r=h(2);return C(r.decrementHour(o))})("mousedown",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseDown(o,0,-1))})("mouseup",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(2);return C(o.onTimePickerElementMouseLeave())}),E(9,qbe,2,2,"ng-template",null,2,ie),b()(),_(11,"div",44)(12,"span",18),R(13),b()(),_(14,"div",18)(15,"p-button",43),A("keydown",function(o){w(e);let r=h(2);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(2);return C(r.incrementMinute(o))})("keydown.space",function(o){w(e);let r=h(2);return C(r.incrementMinute(o))})("mousedown",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseDown(o,1,1))})("mouseup",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(2);return C(o.onTimePickerElementMouseLeave())}),E(16,Xbe,2,2,"ng-template",null,2,ie),b(),_(18,"span",18),E(19,Zbe,2,0,"ng-container",6),R(20),b(),_(21,"p-button",43),A("keydown",function(o){w(e);let r=h(2);return C(r.onContainerButtonKeydown(o))})("keydown.enter",function(o){w(e);let r=h(2);return C(r.decrementMinute(o))})("keydown.space",function(o){w(e);let r=h(2);return C(r.decrementMinute(o))})("mousedown",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseDown(o,1,-1))})("mouseup",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.enter",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("keyup.space",function(o){w(e);let r=h(2);return C(r.onTimePickerElementMouseUp(o))})("mouseleave",function(){w(e);let o=h(2);return C(o.onTimePickerElementMouseLeave())}),E(22,nye,2,2,"ng-template",null,2,ie),b()(),E(24,oye,3,5,"div",23)(25,fye,10,14,"div",23)(26,mye,3,5,"div",23)(27,Iye,9,13,"div",23),b()}if(i&2){let e=h(2);j(e.cx("timePicker")),f("pBind",e.ptm("timePicker")),p(),j(e.cx("hourPicker")),f("pBind",e.ptm("hourPicker")),p(),f("styleClass",e.cx("pcIncrementButton"))("pt",e.ptm("pcIncrementButton")),ce("aria-label",e.getTranslation("nextHour"))("data-pc-group-section","timepickerbutton"),p(3),f("pBind",e.ptm("hour")),p(),f("ngIf",e.currentHour<10),p(),Q(e.currentHour),p(),f("styleClass",e.cx("pcDecrementButton"))("pt",e.ptm("pcDecrementButton")),ce("aria-label",e.getTranslation("prevHour"))("data-pc-group-section","timepickerbutton"),p(3),f("pBind",e.ptm("separatorContainer")),p(),f("pBind",e.ptm("separator")),p(),Q(e.timeSeparator),p(),j(e.cx("minutePicker")),f("pBind",e.ptm("minutePicker")),p(),f("styleClass",e.cx("pcIncrementButton"))("pt",e.ptm("pcIncrementButton")),ce("aria-label",e.getTranslation("nextMinute"))("data-pc-group-section","timepickerbutton"),p(3),f("pBind",e.ptm("minute")),p(),f("ngIf",e.currentMinute<10),p(),Q(e.currentMinute),p(),f("styleClass",e.cx("pcDecrementButton"))("pt",e.ptm("pcDecrementButton")),ce("aria-label",e.getTranslation("prevMinute"))("data-pc-group-section","timepickerbutton"),p(3),f("ngIf",e.showSeconds),p(),f("ngIf",e.showSeconds),p(),f("ngIf",e.hourFormat=="12"),p(),f("ngIf",e.hourFormat=="12")}}function xye(i,n){i&1&&ve(0)}function Tye(i,n){if(i&1&&E(0,xye,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.buttonBarTemplate||e._buttonBarTemplate)("ngTemplateOutletContext",Ct(2,j0e,e.onTodayButtonClick.bind(e),e.onClearButtonClick.bind(e)))}}function Oye(i,n){if(i&1){let e=B();_(0,"p-button",51),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("onClick",function(o){w(e);let r=h(3);return C(r.onTodayButtonClick(o))}),b(),_(1,"p-button",51),A("keydown",function(o){w(e);let r=h(3);return C(r.onContainerButtonKeydown(o))})("onClick",function(o){w(e);let r=h(3);return C(r.onClearButtonClick(o))}),b()}if(i&2){let e=h(3);f("styleClass",e.cx("pcTodayButton"))("label",e.getTranslation("today"))("ngClass",e.todayButtonStyleClass)("pt",e.ptm("pcTodayButton")),ce("data-pc-group-section","button"),p(),f("styleClass",e.cx("pcClearButton"))("label",e.getTranslation("clear"))("ngClass",e.clearButtonStyleClass)("pt",e.ptm("pcClearButton")),ce("data-pc-group-section","button")}}function Rye(i,n){if(i&1&&(_(0,"div",18),G(1,Tye,1,5,"ng-container")(2,Oye,2,10),b()),i&2){let e=h(2);j(e.cx("buttonbar")),f("pBind",e.ptm("buttonbar")),p(),H(e.buttonBarTemplate||e._buttonBarTemplate?1:2)}}function Dye(i,n){i&1&&ve(0)}function Pye(i,n){if(i&1){let e=B();_(0,"div",22,1),A("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onOverlayAnimationDone(o))})("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))}),Ht(2),E(3,nbe,1,0,"ng-container",12)(4,Vbe,5,6,"ng-container",6)(5,Eye,28,38,"div",23)(6,Rye,3,4,"div",23),Ht(7,1),E(8,Dye,1,0,"ng-container",12),b()}if(i&2){let e=h();j(e.cn(e.cx("panel"),e.panelStyleClass)),f("ngStyle",e.panelStyle)("@overlayAnimation",de(18,M0e,Ct(15,L0e,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0)("pBind",e.ptm("panel")),ce("id",e.panelId)("aria-label",e.getTranslation("chooseDate"))("role",e.inline?null:"dialog")("aria-modal",e.inline?null:"true"),p(3),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),p(),f("ngIf",!e.timeOnly),p(),f("ngIf",(e.showTime||e.timeOnly)&&e.currentView==="date"),p(),f("ngIf",e.showButtonBar),p(2),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var Aye=`
    ${CG}

    /* For PrimeNG */
    .p-datepicker.ng-invalid.ng-dirty .p-inputtext {
        border-color: dt('inputtext.invalid.border.color');
    }
`,kye={root:()=>({position:"relative"})},Nye={root:({instance:i})=>["p-datepicker p-component p-inputwrapper",{"p-invalid":i.invalid(),"p-datepicker-fluid":i.hasFluid,"p-inputwrapper-filled":i.$filled(),"p-variant-filled":i.$variant()==="filled","p-inputwrapper-focus":i.focus||i.overlayVisible,"p-focus":i.focus||i.overlayVisible}],pcInputText:"p-datepicker-input",dropdown:"p-datepicker-dropdown",inputIconContainer:"p-datepicker-input-icon-container",inputIcon:"p-datepicker-input-icon",panel:({instance:i})=>["p-datepicker-panel p-component",{"p-datepicker-panel p-component":!0,"p-datepicker-panel-inline":i.inline,"p-disabled":i.$disabled(),"p-datepicker-timeonly":i.timeOnly}],calendarContainer:"p-datepicker-calendar-container",calendar:"p-datepicker-calendar",header:"p-datepicker-header",pcPrevButton:"p-datepicker-prev-button",title:"p-datepicker-title",selectMonth:"p-datepicker-select-month",selectYear:"p-datepicker-select-year",decade:"p-datepicker-decade",pcNextButton:"p-datepicker-next-button",dayView:"p-datepicker-day-view",weekHeader:"p-datepicker-weekheader p-disabled",weekNumber:"p-datepicker-weeknumber",weekLabelContainer:"p-datepicker-weeklabel-container p-disabled",weekDayCell:"p-datepicker-weekday-cell",weekDay:"p-datepicker-weekday",dayCell:({date:i})=>["p-datepicker-day-cell",{"p-datepicker-other-month":i.otherMonth,"p-datepicker-today":i.today}],day:({instance:i,date:n})=>{let e="";if(i.isRangeSelection()&&i.isSelected(n)&&n.selectable){let t=i.value[0],o=i.value[1],r=t&&n.year===t.getFullYear()&&n.month===t.getMonth()&&n.day===t.getDate(),s=o&&n.year===o.getFullYear()&&n.month===o.getMonth()&&n.day===o.getDate();e=r||s?"p-datepicker-day-selected":"p-datepicker-day-selected-range"}return{"p-datepicker-day":!0,"p-datepicker-day-selected":!i.isRangeSelection()&&i.isSelected(n)&&n.selectable,"p-disabled":i.$disabled()||!n.selectable,[e]:!0}},monthView:"p-datepicker-month-view",month:({instance:i,index:n})=>["p-datepicker-month",{"p-datepicker-month-selected":i.isMonthSelected(n),"p-disabled":i.isMonthDisabled(n)}],yearView:"p-datepicker-year-view",year:({instance:i,year:n})=>["p-datepicker-year",{"p-datepicker-year-selected":i.isYearSelected(n),"p-disabled":i.isYearDisabled(n)}],timePicker:"p-datepicker-time-picker",hourPicker:"p-datepicker-hour-picker",pcIncrementButton:"p-datepicker-increment-button",pcDecrementButton:"p-datepicker-decrement-button",separator:"p-datepicker-separator",minutePicker:"p-datepicker-minute-picker",secondPicker:"p-datepicker-second-picker",ampmPicker:"p-datepicker-ampm-picker",buttonbar:"p-datepicker-buttonbar",pcTodayButton:"p-datepicker-today-button",pcClearButton:"p-datepicker-clear-button",clearIcon:"p-datepicker-clear-icon"},IG=(()=>{class i extends Ye{name="datepicker";style=Aye;classes=Nye;inlineStyles=kye;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Fye={provide:Bn,useExisting:Xt(()=>ju),multi:!0},EG=new he("DATEPICKER_INSTANCE"),ju=(()=>{class i extends Bu{zone;overlayService;bindDirectiveInstance=z(pe,{self:!0});$pcDatePicker=z(EG,{optional:!0,skipSelf:!0})??void 0;iconDisplay="button";styleClass;inputStyle;inputId;inputStyleClass;placeholder;ariaLabelledBy;ariaLabel;iconAriaLabel;get dateFormat(){return this._dateFormat}set dateFormat(e){this._dateFormat=e,this.initialized&&this.updateInputfield()}multipleSeparator=",";rangeSeparator="-";inline=!1;showOtherMonths=!0;selectOtherMonths;showIcon;icon;readonlyInput;shortYearCutoff="+10";get hourFormat(){return this._hourFormat}set hourFormat(e){this._hourFormat=e,this.initialized&&this.updateInputfield()}timeOnly;stepHour=1;stepMinute=1;stepSecond=1;showSeconds=!1;showOnFocus=!0;showWeek=!1;startWeekFromFirstDayOfYear=!1;showClear=!1;dataType="date";selectionMode="single";maxDateCount;showButtonBar;todayButtonStyleClass;clearButtonStyleClass;autofocus;autoZIndex=!0;baseZIndex=0;panelStyleClass;panelStyle;keepInvalid=!1;hideOnDateTimeSelect=!0;touchUI;timeSeparator=":";focusTrap=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";tabindex;get minDate(){return this._minDate}set minDate(e){this._minDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,this.currentMonth!=null&&this.currentMonth!=null&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get showTime(){return this._showTime}set showTime(e){this._showTime=e,this.currentHour===void 0&&this.initTime(this.value||new Date),this.updateInputfield()}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){let t=e||new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.initTime(t),this.createMonths(this.currentMonth,this.currentYear)}}appendTo=qe(void 0);onFocus=new te;onBlur=new te;onClose=new te;onSelect=new te;onClear=new te;onInput=new te;onTodayClick=new te;onClearClick=new te;onMonthChange=new te;onYearChange=new te;onClickOutside=new te;onShow=new te;inputfieldViewChild;set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):!this.focus&&!this.inline&&this.initFocusableCell())}_componentStyle=z(IG);contentViewChild;value;dates;months;weekDays;currentMonth;currentYear;currentHour;currentMinute;currentSecond;p;pm;mask;maskClickListener;overlay;responsiveStyleElement;overlayVisible;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());calendarElement;timePickerTimer;documentClickListener;animationEndListener;ticksTo1970;yearOptions;focus;isKeydown;_minDate;_maxDate;_dateFormat;_hourFormat="24";_showTime;_yearRange;preventDocumentListener;dayClass(e){return this._componentStyle.classes.day({instance:this,date:e})}dateTemplate;headerTemplate;footerTemplate;disabledDateTemplate;decadeTemplate;previousIconTemplate;nextIconTemplate;triggerIconTemplate;clearIconTemplate;decrementIconTemplate;incrementIconTemplate;inputIconTemplate;buttonBarTemplate;_dateTemplate;_headerTemplate;_footerTemplate;_disabledDateTemplate;_decadeTemplate;_previousIconTemplate;_nextIconTemplate;_triggerIconTemplate;_clearIconTemplate;_decrementIconTemplate;_incrementIconTemplate;_inputIconTemplate;_buttonBarTemplate;_disabledDates;_disabledDays;selectElement;todayElement;focusElement;scrollHandler;documentResizeListener;navigationState=null;isMonthNavigate;initialized;translationSubscription;_locale;_responsiveOptions;currentView;attributeSelector;panelId;_numberOfMonths=1;_firstDayOfWeek;_view="date";preventFocus;_defaultDate;_focusKey=null;window;get locale(){return this._locale}get iconButtonAriaLabel(){return this.iconAriaLabel?this.iconAriaLabel:this.getTranslation("chooseDate")}get prevIconAriaLabel(){return this.currentView==="year"?this.getTranslation("prevDecade"):this.currentView==="month"?this.getTranslation("prevYear"):this.getTranslation("prevMonth")}get nextIconAriaLabel(){return this.currentView==="year"?this.getTranslation("nextDecade"):this.currentView==="month"?this.getTranslation("nextYear"):this.getTranslation("nextMonth")}constructor(e,t){super(),this.zone=e,this.overlayService=t,this.window=this.document.defaultView}onInit(){this.attributeSelector=Vt("pn_id_"),this.panelId=this.attributeSelector+"_panel";let e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.yearOptions=[],this.currentView=this.view,this.view==="date"&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=(1969*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays(),this.cd.markForCheck()}),this.initialized=!0}onAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),!this.$disabled()&&!this.inline&&(this.initFocusableCell(),this.numberOfMonths===1&&this.contentViewChild&&this.contentViewChild.nativeElement&&(this.contentViewChild.nativeElement.style.width=Dn(this.el?.nativeElement)+"px")))}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":this._dateTemplate=e.template;break;case"decade":this._decadeTemplate=e.template;break;case"disabledDate":this._disabledDateTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"inputicon":this._inputIconTemplate=e.template;break;case"buttonbar":this._buttonBarTemplate=e.template;break;case"previousicon":this._previousIconTemplate=e.template;break;case"nexticon":this._nextIconTemplate=e.template;break;case"triggericon":this._triggerIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"decrementicon":this._decrementIconTemplate=e.template;break;case"incrementicon":this._incrementIconTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._dateTemplate=e.template;break}})}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,t){this.yearOptions=[];for(let o=e;o<=t;o++)this.yearOptions.push(o)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),t=this.getTranslation(xi.DAY_NAMES_MIN);for(let o=0;o<7;o++)this.weekDays.push(t[e]),e=e==6?0:++e}monthPickerValues(){let e=[];for(let t=0;t<=11;t++)e.push(this.config.getTranslation("monthNamesShort")[t]);return e}yearPickerValues(){let e=[],t=this.currentYear-this.currentYear%10;for(let o=0;o<10;o++)e.push(t+o);return e}createMonths(e,t){this.months=this.months=[];for(let o=0;o<this.numberOfMonths;o++){let r=e+o,s=t;r>11&&(r=r%12,s=t+Math.floor((e+o)/12)),this.months.push(this.createMonth(r,s))}}getWeekNumber(e){let t=new Date(e.getTime());if(this.startWeekFromFirstDayOfYear){let r=+this.getFirstDateOfWeek();t.setDate(t.getDate()+6+r-t.getDay())}else t.setDate(t.getDate()+4-(t.getDay()||7));let o=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((o-t.getTime())/864e5)/7)+1}createMonth(e,t){let o=[],r=this.getFirstDayOfMonthIndex(e,t),s=this.getDaysCountInMonth(e,t),a=this.getDaysCountInPrevMonth(e,t),l=1,c=new Date,d=[],u=Math.ceil((s+r)/7);for(let m=0;m<u;m++){let g=[];if(m==0){for(let v=a-r+1;v<=a;v++){let S=this.getPreviousMonthAndYear(e,t);g.push({day:v,month:S.month,year:S.year,otherMonth:!0,today:this.isToday(c,v,S.month,S.year),selectable:this.isSelectable(v,S.month,S.year,!0)})}let y=7-g.length;for(let v=0;v<y;v++)g.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)}),l++}else for(let y=0;y<7;y++){if(l>s){let v=this.getNextMonthAndYear(e,t);g.push({day:l-s,month:v.month,year:v.year,otherMonth:!0,today:this.isToday(c,l-s,v.month,v.year),selectable:this.isSelectable(l-s,v.month,v.year,!0)})}else g.push({day:l,month:e,year:t,today:this.isToday(c,l,e,t),selectable:this.isSelectable(l,e,t,!1)});l++}this.showWeek&&d.push(this.getWeekNumber(new Date(g[0].year,g[0].month,g[0].day))),o.push(g)}return{month:e,year:t,dates:o,weekNumbers:d}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=this.showSeconds?e.getSeconds():0,this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){if(this.$disabled()){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===0?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}navForward(e){if(this.$disabled()){e.preventDefault();return}this.isMonthNavigate=!0,this.currentView==="month"?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):this.currentView==="year"?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(this.currentMonth===11?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear))}decrementYear(){this.currentYear--;let e=this.yearOptions;if(this.currentYear<e[0]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]-t,e[e.length-1]-t)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){this.currentYear++;let e=this.yearOptions;if(this.currentYear>e[e.length-1]){let t=e[e.length-1]-e[0];this.populateYearOptions(e[0]+t,e[e.length-1]+t)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,t){if(this.$disabled()||!t.selectable){e.preventDefault();return}this.isMultipleSelection()&&this.isSelected(t)?(this.value=this.value.filter((o,r)=>!this.isDateEquals(o,t)),this.value.length===0&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(t)&&this.selectDate(t),this.hideOnDateTimeSelect&&(this.isSingleSelection()||this.isRangeSelection()&&this.value[1])&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()}shouldSelectDate(e){return this.isMultipleSelection()&&this.maxDateCount!=null?this.maxDateCount>(this.value?this.value.length:0):!0}onMonthSelect(e,t){this.view==="month"?this.onDateSelect(e,{year:this.currentYear,month:t,day:1,selectable:!0}):(this.currentMonth=t,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,t){this.view==="year"?this.onDateSelect(e,{year:t,month:0,day:1,selectable:!0}):(this.currentYear=t,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value){if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let t=0;t<this.value.length;t++){let o=this.formatDateTime(this.value[t]);e+=o,t!==this.value.length-1&&(e+=this.multipleSeparator+" ")}else if(this.isRangeSelection()&&this.value&&this.value.length){let t=this.value[0],o=this.value[1];e=this.formatDateTime(t),o&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(o))}}this.writeModelValue(e),this.inputFieldValue=e,this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}inputFieldValue=null;formatDateTime(e){let t=this.keepInvalid?e:null,o=this.isValidDateForTimeConstraints(e);return this.isValidDate(e)?this.timeOnly?t=this.formatTime(e):(t=this.formatDate(e,this.getDateFormat()),this.showTime&&(t+=" "+this.formatTime(e))):this.dataType==="string"&&(t=e),t=o?t:"",t}formatDateMetaToDate(e){return new Date(e.year,e.month,e.day)}formatDateKey(e){return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()}`}setCurrentHourPM(e){this.hourFormat=="12"?(this.pm=e>11,e>=12?this.currentHour=e==12?12:e-12:this.currentHour=e==0?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let t=this.formatDateMetaToDate(e);if(this.showTime&&(this.hourFormat=="12"?this.currentHour===12?t.setHours(this.pm?12:0):t.setHours(this.pm?this.currentHour+12:this.currentHour):t.setHours(this.currentHour),t.setMinutes(this.currentMinute),t.setSeconds(this.currentSecond)),this.minDate&&this.minDate>t&&(t=this.minDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.maxDate&&this.maxDate<t&&(t=this.maxDate,this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=t.getSeconds()),this.isSingleSelection())this.updateModel(t);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,t]:[t]);else if(this.isRangeSelection())if(this.value&&this.value.length){let o=this.value[0],r=this.value[1];!r&&t.getTime()>=o.getTime()?r=t:(o=t,r=null),this.updateModel([o,r])}else this.updateModel([t,null]);this.onSelect.emit(t)}updateModel(e){if(this.value=e,this.dataType=="date")this.writeModelValue(this.value),this.onModelChange(this.value);else if(this.dataType=="string")if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let t=null;Array.isArray(this.value)&&(t=this.value.map(o=>this.formatDateTime(o))),this.writeModelValue(t),this.onModelChange(t)}}getFirstDayOfMonthIndex(e,t){let o=new Date;o.setDate(1),o.setMonth(e),o.setFullYear(t);let r=o.getDay()+this.getSundayIndex();return r>=7?r-7:r}getDaysCountInMonth(e,t){return 32-this.daylightSavingAdjust(new Date(t,e,32)).getDate()}getDaysCountInPrevMonth(e,t){let o=this.getPreviousMonthAndYear(e,t);return this.getDaysCountInMonth(o.month,o.year)}getPreviousMonthAndYear(e,t){let o,r;return e===0?(o=11,r=t-1):(o=e-1,r=t),{month:o,year:r}}getNextMonthAndYear(e,t){let o,r;return e===11?(o=0,r=t+1):(o=e+1,r=t),{month:o,year:r}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(this.value){if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let t=!1;for(let o of this.value)if(t=this.isDateEquals(o,e),t)break;return t}else if(this.isRangeSelection())return this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e)}else return!1}isComparable(){return this.value!=null&&typeof this.value!="string"}isMonthSelected(e){if(!this.isComparable())return!1;if(this.isMultipleSelection())return this.value.some(t=>t.getMonth()===e&&t.getFullYear()===this.currentYear);if(this.isRangeSelection())if(this.value[1]){let t=new Date(this.currentYear,e,1),o=new Date(this.value[0].getFullYear(),this.value[0].getMonth(),1),r=new Date(this.value[1].getFullYear(),this.value[1].getMonth(),1);return t>=o&&t<=r}else return this.value[0]?.getFullYear()===this.currentYear&&this.value[0]?.getMonth()===e;else return this.value.getMonth()===e&&this.value.getFullYear()===this.currentYear}isMonthDisabled(e,t){let o=t??this.currentYear;for(let r=1;r<this.getDaysCountInMonth(e,o)+1;r++)if(this.isSelectable(r,e,o,!1))return!1;return!0}isYearDisabled(e){return Array(12).fill(0).every((t,o)=>this.isMonthDisabled(o,e))}isYearSelected(e){if(this.isComparable()){let t=this.isRangeSelection()?this.value[0]:this.value;return this.isMultipleSelection()?!1:t.getFullYear()===e}return!1}isDateEquals(e,t){return e&&hy(e)?e.getDate()===t.day&&e.getMonth()===t.month&&e.getFullYear()===t.year:!1}isDateBetween(e,t,o){let r=!1;if(hy(e)&&hy(t)){let s=this.formatDateMetaToDate(o);return e.getTime()<=s.getTime()&&t.getTime()>=s.getTime()}return r}isSingleSelection(){return this.selectionMode==="single"}isRangeSelection(){return this.selectionMode==="range"}isMultipleSelection(){return this.selectionMode==="multiple"}isToday(e,t,o,r){return e.getDate()===t&&e.getMonth()===o&&e.getFullYear()===r}isSelectable(e,t,o,r){let s=!0,a=!0,l=!0,c=!0;return r&&!this.selectOtherMonths?!1:(this.minDate&&(this.minDate.getFullYear()>o||this.minDate.getFullYear()===o&&this.currentView!="year"&&(this.minDate.getMonth()>t||this.minDate.getMonth()===t&&this.minDate.getDate()>e))&&(s=!1),this.maxDate&&(this.maxDate.getFullYear()<o||this.maxDate.getFullYear()===o&&(this.maxDate.getMonth()<t||this.maxDate.getMonth()===t&&this.maxDate.getDate()<e))&&(a=!1),this.disabledDates&&(l=!this.isDateDisabled(e,t,o)),this.disabledDays&&(c=!this.isDayDisabled(e,t,o)),s&&a&&l&&c)}isDateDisabled(e,t,o){if(this.disabledDates){for(let r of this.disabledDates)if(r.getFullYear()===o&&r.getMonth()===t&&r.getDate()===e)return!0}return!1}isDayDisabled(e,t,o){if(this.disabledDays){let s=new Date(o,t,e).getDay();return this.disabledDays.indexOf(s)!==-1}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,t=this.inputfieldViewChild?.nativeElement){this.$disabled()||(this.overlayVisible?this.hideOverlay():(t.focus(),this.showOverlay()))}clear(){this.value=null,this.inputFieldValue=null,this.writeModelValue(this.value),this.onModelChange(this.value),this.updateInputfield(),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return this.currentView==="month"?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.$disabled()}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:if(this.inline||this.trapFocus(e),this.inline){let t=Et(this.el?.nativeElement,".p-datepicker-header"),o=e.target;if(this.timeOnly)return;o==t?.children[t?.children?.length-1]&&this.initFocusableCell()}break;case 27:this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break;default:break}}onInputKeydown(e){this.isKeydown=!0,e.keyCode===40&&this.contentViewChild?this.trapFocus(e):e.keyCode===27?this.overlayVisible&&(this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault()):e.keyCode===13?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):e.keyCode===9&&this.contentViewChild&&(fp(this.contentViewChild.nativeElement).forEach(t=>t.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,t,o){let r=e.currentTarget,s=r.parentElement,a=this.formatDateMetaToDate(t);switch(e.which){case 40:{r.tabIndex="-1";let y=Pu(s),v=s.parentElement.nextElementSibling;if(v){let S=v.children[y].children[0];no(S,"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(v.children[y].children[0].tabIndex="0",v.children[y].children[0].focus())}else this.navigationState={backward:!1},this.navForward(e);e.preventDefault();break}case 38:{r.tabIndex="-1";let y=Pu(s),v=s.parentElement.previousElementSibling;if(v){let S=v.children[y].children[0];no(S,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(S.tabIndex="0",S.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{r.tabIndex="-1";let y=s.previousElementSibling;if(y){let v=y.children[0];no(v,"p-disabled")||no(v.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,o):(v.tabIndex="0",v.focus())}else this.navigateToMonth(!0,o);e.preventDefault();break}case 39:{r.tabIndex="-1";let y=s.nextElementSibling;if(y){let v=y.children[0];no(v,"p-disabled")?this.navigateToMonth(!1,o):(v.tabIndex="0",v.focus())}else this.navigateToMonth(!1,o);e.preventDefault();break}case 13:case 32:{this.onDateSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}case 33:{r.tabIndex="-1";let y=new Date(a.getFullYear(),a.getMonth()-1,a.getDate()),v=this.formatDateKey(y);this.navigateToMonth(!0,o,`span[data-date='${v}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 34:{r.tabIndex="-1";let y=new Date(a.getFullYear(),a.getMonth()+1,a.getDate()),v=this.formatDateKey(y);this.navigateToMonth(!1,o,`span[data-date='${v}']:not(.p-disabled):not(.p-ink)`),e.preventDefault();break}case 36:r.tabIndex="-1";let l=new Date(a.getFullYear(),a.getMonth(),1),c=this.formatDateKey(l),d=Et(r.offsetParent,`span[data-date='${c}']:not(.p-disabled):not(.p-ink)`);d&&(d.tabIndex="0",d.focus()),e.preventDefault();break;case 35:r.tabIndex="-1";let u=new Date(a.getFullYear(),a.getMonth()+1,0),m=this.formatDateKey(u),g=Et(r.offsetParent,`span[data-date='${m}']:not(.p-disabled):not(.p-ink)`);u&&(g.tabIndex="0",g.focus()),e.preventDefault();break;default:break}}onMonthCellKeydown(e,t){let o=e.currentTarget;switch(e.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=Pu(o);let a=r[e.which===40?s+3:s-3];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onMonthSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.inline||this.trapFocus(e);break}default:break}}onYearCellKeydown(e,t){let o=e.currentTarget;switch(e.which){case 38:case 40:{o.tabIndex="-1";var r=o.parentElement.children,s=Pu(o);let a=r[e.which===40?s+2:s-2];a&&(a.tabIndex="0",a.focus()),e.preventDefault();break}case 37:{o.tabIndex="-1";let a=o.previousElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{o.tabIndex="-1";let a=o.nextElementSibling;a?(a.tabIndex="0",a.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:{this.onYearSelect(e,t),e.preventDefault();break}case 27:{this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,e.preventDefault();break}case 9:{this.trapFocus(e);break}default:break}}navigateToMonth(e,t,o){if(e)if(this.numberOfMonths===1||t===0)this.navigationState={backward:!0},this._focusKey=o,this.navBackward(event);else{let r=this.contentViewChild.nativeElement.children[t-1];if(o){let s=Et(r,o);s.tabIndex="0",s.focus()}else{let s=ir(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}}else if(this.numberOfMonths===1||t===this.numberOfMonths-1)this.navigationState={backward:!1},this._focusKey=o,this.navForward(event);else{let r=this.contentViewChild.nativeElement.children[t+1];if(o){let s=Et(r,o);s.tabIndex="0",s.focus()}else{let s=Et(r,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Et(this.contentViewChild.nativeElement,".p-datepicker-prev-button").focus():Et(this.contentViewChild.nativeElement,".p-datepicker-next-button").focus();else{if(this.navigationState.backward){let t;this.currentView==="month"?t=ir(this.contentViewChild.nativeElement,".p-datepicker-month-view .p-datepicker-month:not(.p-disabled)"):this.currentView==="year"?t=ir(this.contentViewChild.nativeElement,".p-datepicker-year-view .p-datepicker-year:not(.p-disabled)"):t=ir(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),t&&t.length>0&&(e=t[t.length-1])}else this.currentView==="month"?e=Et(this.contentViewChild.nativeElement,".p-datepicker-month-view .p-datepicker-month:not(.p-disabled)"):this.currentView==="year"?e=Et(this.contentViewChild.nativeElement,".p-datepicker-year-view .p-datepicker-year:not(.p-disabled)"):e=Et(this.contentViewChild.nativeElement,this._focusKey||".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null,this._focusKey=null}else this.initFocusableCell()}initFocusableCell(){let e=this.contentViewChild?.nativeElement,t;if(this.currentView==="month"){let o=ir(e,".p-datepicker-month-view .p-datepicker-month:not(.p-disabled)"),r=Et(e,".p-datepicker-month-view .p-datepicker-month.p-highlight");o.forEach(s=>s.tabIndex=-1),t=r||o[0],o.length===0&&ir(e,'.p-datepicker-month-view .p-datepicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(this.currentView==="year"){let o=ir(e,".p-datepicker-year-view .p-datepicker-year:not(.p-disabled)"),r=Et(e,".p-datepicker-year-view .p-datepicker-year.p-highlight");o.forEach(s=>s.tabIndex=-1),t=r||o[0],o.length===0&&ir(e,'.p-datepicker-year-view .p-datepicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(t=Et(e,"span.p-highlight"),!t){let o=Et(e,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");o?t=o:t=Et(e,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}t&&(t.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{this.$disabled()||t.focus()},1),this.preventFocus=!1)}trapFocus(e){let t=fp(this.contentViewChild.nativeElement);if(t&&t.length>0)if(!t[0].ownerDocument.activeElement)t[0].focus();else{let o=t.indexOf(t[0].ownerDocument.activeElement);if(e.shiftKey)if(o==-1||o===0)if(this.focusTrap)t[t.length-1].focus();else{if(o===-1)return this.hideOverlay();if(o===0)return}else t[o-1].focus();else if(o==-1)if(this.timeOnly)t[0].focus();else{let r=0;for(let s=0;s<t.length;s++)t[s].tagName==="SPAN"&&(r=s);t[r].focus()}else if(o===t.length-1){if(!this.focusTrap&&o!=-1)return this.hideOverlay();t[0].focus()}else t[o+1].focus()}e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}convertTo24Hour(e,t){return this.hourFormat=="12"?e===12?t?12:0:t?e+12:e:e}constrainTime(e,t,o,r){let s=[e,t,o],a=!1,l=this.value,c=this.convertTo24Hour(e,r),d=this.isRangeSelection(),u=this.isMultipleSelection();(d||u)&&(this.value||(this.value=[new Date,new Date]),d&&(l=this.value[1]||this.value[0]),u&&(l=this.value[this.value.length-1]));let g=l?l.toDateString():null,y=this.minDate&&g&&this.minDate.toDateString()===g,v=this.maxDate&&g&&this.maxDate.toDateString()===g;switch(y&&(a=this.minDate.getHours()>=12),!0){case(y&&a&&this.minDate.getHours()===12&&this.minDate.getHours()>c):s[0]=11;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(y&&!a&&this.minDate.getHours()-1===c&&this.minDate.getHours()>c):s[0]=11,this.pm=!0;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(y&&a&&this.minDate.getHours()>c&&c!==12):this.setCurrentHourPM(this.minDate.getHours()),s[0]=this.currentHour||0;case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(y&&this.minDate.getHours()>c):s[0]=this.minDate.getHours();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()>t):s[1]=this.minDate.getMinutes();case(y&&this.minDate.getHours()===c&&this.minDate.getMinutes()===t&&this.minDate.getSeconds()>o):s[2]=this.minDate.getSeconds();break;case(v&&this.maxDate.getHours()<c):s[0]=this.maxDate.getHours();case(v&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()<t):s[1]=this.maxDate.getMinutes();case(v&&this.maxDate.getHours()===c&&this.maxDate.getMinutes()===t&&this.maxDate.getSeconds()<o):s[2]=this.maxDate.getSeconds();break}return s}incrementHour(e){let t=this.currentHour??0,o=(this.currentHour??0)+this.stepHour,r=this.pm;this.hourFormat=="24"?o=o>=24?o-24:o:this.hourFormat=="12"&&(t<12&&o>11&&(r=!this.pm),o=o>=13?o-12:o),this.toggleAMPMIfNotMinDate(r),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(o,this.currentMinute,this.currentSecond,r),e.preventDefault()}toggleAMPMIfNotMinDate(e){let t=this.value,o=t?t.toDateString():null;this.minDate&&o&&this.minDate.toDateString()===o&&this.minDate.getHours()>=12?this.pm=!0:this.pm=e}onTimePickerElementMouseDown(e,t,o){this.$disabled()||(this.repeat(e,null,t,o),e.preventDefault())}onTimePickerElementMouseUp(e){this.$disabled()||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.$disabled()&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,t,o,r){let s=t||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,o,r),this.cd.markForCheck()},s),o){case 0:r===1?this.incrementHour(e):this.decrementHour(e);break;case 1:r===1?this.incrementMinute(e):this.decrementMinute(e);break;case 2:r===1?this.incrementSecond(e):this.decrementSecond(e);break}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let t=(this.currentHour??0)-this.stepHour,o=this.pm;this.hourFormat=="24"?t=t<0?24+t:t:this.hourFormat=="12"&&(this.currentHour===12&&(o=!this.pm),t=t<=0?12+t:t),this.toggleAMPMIfNotMinDate(o),[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(t,this.currentMinute,this.currentSecond,o),e.preventDefault()}incrementMinute(e){let t=(this.currentMinute??0)+this.stepMinute;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour||0,t,this.currentSecond,this.pm),e.preventDefault()}decrementMinute(e){let t=(this.currentMinute??0)-this.stepMinute;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour||0,t,this.currentSecond||0,this.pm),e.preventDefault()}incrementSecond(e){let t=this.currentSecond+this.stepSecond;t=t>59?t-60:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour||0,this.currentMinute||0,t,this.pm),e.preventDefault()}decrementSecond(e){let t=this.currentSecond-this.stepSecond;t=t<0?60+t:t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour||0,this.currentMinute||0,t,this.pm),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,this.hourFormat=="12"?this.currentHour===12?e.setHours(this.pm?12:0):e.setHours(this.pm?this.currentHour+12:this.currentHour):e.setHours(this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(this.value[1]?e=[this.value[0],e]:e=[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){let t=!this.pm;this.pm=t,[this.currentHour,this.currentMinute,this.currentSecond]=this.constrainTime(this.currentHour||0,this.currentMinute||0,this.currentSecond||0,t),this.updateTime(),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let t=e.target.value;try{let o=this.parseValueFromString(t);this.isValidSelection(o)?(this.updateModel(o),this.updateUI()):this.keepInvalid&&this.updateModel(o)}catch{let r=this.keepInvalid?t:null;this.updateModel(r)}this.onInput.emit(e)}isValidSelection(e){if(this.isSingleSelection())return this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1);let t=e.every(o=>this.isSelectable(o.getDate(),o.getMonth(),o.getFullYear(),!1));return t&&this.isRangeSelection()&&(t=e.length===1||e.length>1&&e[1]>=e[0]),t}parseValueFromString(e){if(!e||e.trim().length===0)return null;let t;if(this.isSingleSelection())t=this.parseDateTime(e);else if(this.isMultipleSelection()){let o=e.split(this.multipleSeparator);t=[];for(let r of o)t.push(this.parseDateTime(r.trim()))}else if(this.isRangeSelection()){let o=e.split(" "+this.rangeSeparator+" ");t=[];for(let r=0;r<o.length;r++)t[r]=this.parseDateTime(o[r].trim())}return t}parseDateTime(e){let t,o=e.split(" ");if(this.timeOnly)t=new Date,this.populateTime(t,o[0],o[1]);else{let r=this.getDateFormat();if(this.showTime){let s=this.hourFormat=="12"?o.pop():null,a=o.pop();t=this.parseDate(o.join(" "),r),this.populateTime(t,a,s)}else t=this.parseDate(e,r)}return t}populateTime(e,t,o){if(this.hourFormat=="12"&&!o)throw"Invalid Time";this.pm=o==="PM"||o==="pm";let r=this.parseTime(t);e.setHours(r.hour),e.setMinutes(r.minute),e.setSeconds(r.second)}isValidDate(e){return hy(e)&&qt(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e.length===2?e[1]:e[0]);let t=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(t.getHours()),this.currentMinute=t.getMinutes(),this.currentSecond=this.showSeconds?t.getSeconds():0)}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.inputfieldViewChild?.nativeElement.focus(),this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild?.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":if(!this.inline){this.overlay=e.element,this.$attrSelector&&this.overlay.setAttribute(this.$attrSelector,"");let t=this.inline?void 0:{position:"absolute",top:"0"};Ag(this.overlay,t||{}),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Bi.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Bi.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e)}break;case"void":this.onOverlayHide(),this.onClose.emit(e);break}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Bi.clear(e.element);break}}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.document.body.appendChild(this.overlay):sl(this.$appendTo(),this.overlay))}restoreOverlayAppend(){this.overlay&&this.$appendTo()!=="self"&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.view==="date"?(this.overlay.style.width||(this.overlay.style.width=Dn(this.overlay)+"px"),this.overlay.style.minWidth||(this.overlay.style.minWidth=Dn(this.inputfieldViewChild?.nativeElement)+"px")):this.overlay.style.width||(this.overlay.style.width=Dn(this.inputfieldViewChild?.nativeElement)+"px"),this.$appendTo()&&this.$appendTo()!=="self"?rl(this.overlay,this.inputfieldViewChild?.nativeElement):dd(this.overlay,this.inputfieldViewChild?.nativeElement))}enableModality(e){!this.mask&&this.touchUI&&(this.mask=this.renderer.createElement("div"),this.renderer.setStyle(this.mask,"zIndex",String(parseInt(e.style.zIndex)-1)),fo(this.mask,"p-overlay-mask p-datepicker-mask p-datepicker-mask-scrollblocker p-overlay-mask p-overlay-mask-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",o=>{this.disableModality(),this.overlayVisible=!1}),this.renderer.appendChild(this.document.body,this.mask),gy())}disableModality(){this.mask&&(fo(this.mask,"p-overlay-mask-leave"),this.animationEndListener||(this.animationEndListener=this.renderer.listen(this.mask,"animationend",this.destroyMask.bind(this))))}destroyMask(){if(!this.mask)return;this.renderer.removeChild(this.document.body,this.mask);let e=this.document.body.children,t;for(let o=0;o<e.length;o++){let r=e[o];if(no(r,"p-datepicker-mask-scrollblocker")){t=!0;break}}t||yp(),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(xi.FIRST_DAY_OF_WEEK)}formatDate(e,t){if(!e)return"";let o,r=d=>{let u=o+1<t.length&&t.charAt(o+1)===d;return u&&o++,u},s=(d,u,m)=>{let g=""+u;if(r(d))for(;g.length<m;)g="0"+g;return g},a=(d,u,m,g)=>r(d)?g[u]:m[u],l="",c=!1;if(e)for(o=0;o<t.length;o++)if(c)t.charAt(o)==="'"&&!r("'")?c=!1:l+=t.charAt(o);else switch(t.charAt(o)){case"d":l+=s("d",e.getDate(),2);break;case"D":l+=a("D",e.getDay(),this.getTranslation(xi.DAY_NAMES_SHORT),this.getTranslation(xi.DAY_NAMES));break;case"o":l+=s("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=s("m",e.getMonth()+1,2);break;case"M":l+=a("M",e.getMonth(),this.getTranslation(xi.MONTH_NAMES_SHORT),this.getTranslation(xi.MONTH_NAMES));break;case"y":l+=r("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":l+=e.getTime();break;case"!":l+=e.getTime()*1e4+this.ticksTo1970;break;case"'":r("'")?l+="'":c=!0;break;default:l+=t.charAt(o)}return l}formatTime(e){if(!e)return"";let t="",o=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return this.hourFormat=="12"&&o>11&&o!=12&&(o-=12),this.hourFormat=="12"?t+=o===0?12:o<10?"0"+o:o:t+=o<10?"0"+o:o,t+=":",t+=r<10?"0"+r:r,this.showSeconds&&(t+=":",t+=s<10?"0"+s:s),this.hourFormat=="12"&&(t+=e.getHours()>11?" PM":" AM"),t}parseTime(e){let t=e.split(":"),o=this.showSeconds?3:2;if(t.length!==o)throw"Invalid time";let r=parseInt(t[0]),s=parseInt(t[1]),a=this.showSeconds?parseInt(t[2]):null;if(isNaN(r)||isNaN(s)||r>23||s>59||this.hourFormat=="12"&&r>12||this.showSeconds&&(isNaN(a)||a>59))throw"Invalid time";return this.hourFormat=="12"&&(r!==12&&this.pm?r+=12:!this.pm&&r===12&&(r-=12)),{hour:r,minute:s,second:a}}parseDate(e,t){if(t==null||e==null)throw"Invalid arguments";if(e=typeof e=="object"?e.toString():e+"",e==="")return null;let o,r,s,a=0,l=typeof this.shortYearCutoff!="string"?this.shortYearCutoff:new Date().getFullYear()%100+parseInt(this.shortYearCutoff,10),c=-1,d=-1,u=-1,m=-1,g=!1,y,v=L=>{let F=o+1<t.length&&t.charAt(o+1)===L;return F&&o++,F},S=L=>{let F=v(L),K=L==="@"?14:L==="!"?20:L==="y"&&F?4:L==="o"?3:2,le=L==="y"?K:1,me=new RegExp("^\\d{"+le+","+K+"}"),fe=e.substring(a).match(me);if(!fe)throw"Missing number at position "+a;return a+=fe[0].length,parseInt(fe[0],10)},I=(L,F,K)=>{let le=-1,me=v(L)?K:F,fe=[];for(let Te=0;Te<me.length;Te++)fe.push([Te,me[Te]]);fe.sort((Te,He)=>-(Te[1].length-He[1].length));for(let Te=0;Te<fe.length;Te++){let He=fe[Te][1];if(e.substr(a,He.length).toLowerCase()===He.toLowerCase()){le=fe[Te][0],a+=He.length;break}}if(le!==-1)return le+1;throw"Unknown name at position "+a},P=()=>{if(e.charAt(a)!==t.charAt(o))throw"Unexpected literal at position "+a;a++};for(this.view==="month"&&(u=1),o=0;o<t.length;o++)if(g)t.charAt(o)==="'"&&!v("'")?g=!1:P();else switch(t.charAt(o)){case"d":u=S("d");break;case"D":I("D",this.getTranslation(xi.DAY_NAMES_SHORT),this.getTranslation(xi.DAY_NAMES));break;case"o":m=S("o");break;case"m":d=S("m");break;case"M":d=I("M",this.getTranslation(xi.MONTH_NAMES_SHORT),this.getTranslation(xi.MONTH_NAMES));break;case"y":c=S("y");break;case"@":y=new Date(S("@")),c=y.getFullYear(),d=y.getMonth()+1,u=y.getDate();break;case"!":y=new Date((S("!")-this.ticksTo1970)/1e4),c=y.getFullYear(),d=y.getMonth()+1,u=y.getDate();break;case"'":v("'")?P():g=!0;break;default:P()}if(a<e.length&&(s=e.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(c===-1?c=new Date().getFullYear():c<100&&(c+=new Date().getFullYear()-new Date().getFullYear()%100+(c<=l?0:-100)),m>-1){d=1,u=m;do{if(r=this.getDaysCountInMonth(c,d-1),u<=r)break;d++,u-=r}while(!0)}if(this.view==="year"&&(d=d===-1?1:d,u=u===-1?1:u),y=this.daylightSavingAdjust(new Date(c,d-1,u)),y.getFullYear()!==c||y.getMonth()+1!==d||y.getDate()!==u)throw"Invalid date";return y}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}isValidDateForTimeConstraints(e){return this.keepInvalid?!0:(!this.minDate||e>=this.minDate)&&(!this.maxDate||e<=this.maxDate)}onTodayButtonClick(e){let t=new Date,o={day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),otherMonth:t.getMonth()!==this.currentMonth||t.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.createMonths(t.getMonth(),t.getFullYear()),this.onDateSelect(e,o),this.onTodayClick.emit(t)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",vc(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.body,this.responsiveStyleElement));let e="";if(this.responsiveOptions){let t=[...this.responsiveOptions].filter(o=>!!(o.breakpoint&&o.numMonths)).sort((o,r)=>-1*o.breakpoint.localeCompare(r.breakpoint,void 0,{numeric:!0}));for(let o=0;o<t.length;o++){let{breakpoint:r,numMonths:s}=t[o],a=`
                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${s}) .p-datepicker-next {
                            display: inline-flex !important;
                        }
                    `;for(let l=s;l<this.numberOfMonths;l++)a+=`
                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${l+1}) {
                                display: none !important;
                            }
                        `;e+=`
                        @media screen and (max-width: ${r}) {
                            ${a}
                        }
                    `}}this.responsiveStyleElement.innerHTML=e,vc(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce)}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(e,"mousedown",t=>{this.isOutsideClicked(t)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(t),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.el?.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return no(e.target,"p-datepicker-prev-button")||no(e.target,"p-datepicker-prev-icon")||no(e.target,"p-datepicker-next-button")||no(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Sr()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}writeControlValue(e){if(this.value=e,this.value&&typeof this.value=="string")try{this.value=this.parseValueFromString(this.value)}catch{this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}onDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Bi.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(x(Ft),x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-datePicker"],["p-datepicker"],["p-date-picker"]],contentQueries:function(t,o,r){if(t&1&&(se(r,b0e,4),se(r,y0e,4),se(r,v0e,4),se(r,w0e,4),se(r,C0e,4),se(r,S0e,4),se(r,I0e,4),se(r,E0e,4),se(r,x0e,4),se(r,T0e,4),se(r,O0e,4),se(r,R0e,4),se(r,D0e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.dateTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.disabledDateTemplate=s.first),W(s=$())&&(o.decadeTemplate=s.first),W(s=$())&&(o.previousIconTemplate=s.first),W(s=$())&&(o.nextIconTemplate=s.first),W(s=$())&&(o.triggerIconTemplate=s.first),W(s=$())&&(o.clearIconTemplate=s.first),W(s=$())&&(o.decrementIconTemplate=s.first),W(s=$())&&(o.incrementIconTemplate=s.first),W(s=$())&&(o.inputIconTemplate=s.first),W(s=$())&&(o.buttonBarTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(P0e,5),_e(A0e,5)),t&2){let r;W(r=$())&&(o.inputfieldViewChild=r.first),W(r=$())&&(o.content=r.first)}},hostVars:4,hostBindings:function(t,o){t&2&&(De(o.sx("root")),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{iconDisplay:"iconDisplay",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",iconAriaLabel:"iconAriaLabel",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:[2,"inline","inline",Z],showOtherMonths:[2,"showOtherMonths","showOtherMonths",Z],selectOtherMonths:[2,"selectOtherMonths","selectOtherMonths",Z],showIcon:[2,"showIcon","showIcon",Z],icon:"icon",readonlyInput:[2,"readonlyInput","readonlyInput",Z],shortYearCutoff:"shortYearCutoff",hourFormat:"hourFormat",timeOnly:[2,"timeOnly","timeOnly",Z],stepHour:[2,"stepHour","stepHour",Je],stepMinute:[2,"stepMinute","stepMinute",Je],stepSecond:[2,"stepSecond","stepSecond",Je],showSeconds:[2,"showSeconds","showSeconds",Z],showOnFocus:[2,"showOnFocus","showOnFocus",Z],showWeek:[2,"showWeek","showWeek",Z],startWeekFromFirstDayOfYear:"startWeekFromFirstDayOfYear",showClear:[2,"showClear","showClear",Z],dataType:"dataType",selectionMode:"selectionMode",maxDateCount:[2,"maxDateCount","maxDateCount",Je],showButtonBar:[2,"showButtonBar","showButtonBar",Z],todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autofocus:[2,"autofocus","autofocus",Z],autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:[2,"keepInvalid","keepInvalid",Z],hideOnDateTimeSelect:[2,"hideOnDateTimeSelect","hideOnDateTimeSelect",Z],touchUI:[2,"touchUI","touchUI",Z],timeSeparator:"timeSeparator",focusTrap:[2,"focusTrap","focusTrap",Z],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:[2,"tabindex","tabindex",Je],minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",view:"view",defaultDate:"defaultDate",appendTo:[1,"appendTo"]},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[Se([Fye,IG,{provide:EG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:N0e,decls:2,vars:2,consts:[["inputfield",""],["contentWrapper",""],["icon",""],[3,"ngIf"],[3,"ngStyle","class","pBind","click",4,"ngIf"],["pInputText","","type","text","role","combobox","aria-autocomplete","none","aria-haspopup","dialog","autocomplete","off",3,"focus","keydown","click","blur","input","pSize","value","ngStyle","pAutoFocus","variant","fluid","invalid","pt"],[4,"ngIf"],["type","button","aria-haspopup","dialog","tabindex","0",3,"class","disabled","pBind","click",4,"ngIf"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"class","pBind","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[3,"click","pBind"],[4,"ngTemplateOutlet"],["type","button","aria-haspopup","dialog","tabindex","0",3,"click","disabled","pBind"],[3,"ngClass","pBind",4,"ngIf"],[3,"ngClass","pBind"],["data-p-icon","calendar",3,"pBind",4,"ngIf"],["data-p-icon","calendar",3,"pBind"],[3,"pBind"],["data-p-icon","calendar",3,"class","pBind","click",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","calendar",3,"click","pBind"],[3,"click","ngStyle","pBind"],[3,"class","pBind",4,"ngIf"],[3,"class","pBind",4,"ngFor","ngForOf"],["rounded","","variant","text","severity","secondary","type","button",3,"keydown","onClick","styleClass","ngStyle","ariaLabel","pt"],["type","button","pRipple","",3,"class","pBind","click","keydown",4,"ngIf"],["rounded","","variant","text","severity","secondary",3,"keydown","onClick","styleClass","ngStyle","ariaLabel","pt"],["role","grid",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-left",4,"ngIf"],["data-p-icon","chevron-left"],["type","button","pRipple","",3,"click","keydown","pBind"],["data-p-icon","chevron-right",4,"ngIf"],["data-p-icon","chevron-right"],["role","grid",3,"pBind"],["scope","col",3,"class","pBind",4,"ngFor","ngForOf"],[3,"pBind",4,"ngFor","ngForOf"],["scope","col",3,"pBind"],["draggable","false","pRipple","",3,"click","keydown","ngClass","pBind"],["class","p-hidden-accessible","aria-live","polite",4,"ngIf"],["aria-live","polite",1,"p-hidden-accessible"],["pRipple","",3,"class","pBind","click","keydown",4,"ngFor","ngForOf"],["pRipple","",3,"click","keydown","pBind"],["rounded","","variant","text","severity","secondary",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave","styleClass","pt"],[1,"p-datepicker-separator",3,"pBind"],["data-p-icon","chevron-up",3,"pBind",4,"ngIf"],["data-p-icon","chevron-up",3,"pBind"],["data-p-icon","chevron-down",3,"pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"pBind"],["text","","rounded","","severity","secondary",3,"keydown","onClick","keydown.enter","styleClass","pt"],["text","","rounded","","severity","secondary",3,"keydown","click","keydown.enter","styleClass","pt"],["size","small","severity","secondary","variant","text","size","small",3,"keydown","onClick","styleClass","label","ngClass","pt"]],template:function(t,o){t&1&&(ci(k0e),E(0,ibe,5,27,"ng-template",3)(1,Pye,9,20,"div",4)),t&2&&(f("ngIf",!o.inline),p(),f("ngIf",o.inline||o.overlayVisible))},dependencies:[Qe,$t,Mn,pt,gt,ft,bt,oo,Q1,vp,j8,ll,ks,U8,fr,si,Oe,Pt,pe],encapsulation:2,data:{animation:[vn("overlayAnimation",[nr("visibleTouchUI",Yt({transform:"translate(-50%,-50%)",opacity:1})),li("void => visible",[Yt({opacity:0,transform:"scaleY(0.8)"}),hi("{{showTransitionParams}}",Yt({opacity:1,transform:"*"}))]),li("visible => void",[hi("{{hideTransitionParams}}",Yt({opacity:0}))]),li("void => visibleTouchUI",[Yt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),hi("{{showTransitionParams}}")]),li("visibleTouchUI => void",[hi("{{hideTransitionParams}}",Yt({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0})}return i})(),xG=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[ju,Oe,Oe]})}return i})();var Lye=["data-p-icon","filter-fill"],OG=(()=>{class i extends zt{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","data-p-icon","filter-fill"]],features:[re],attrs:Lye,decls:1,vars:0,consts:[["d","M13.7274 0.33847C13.6228 0.130941 13.4095 0 13.1764 0H0.82351C0.590451 0 0.377157 0.130941 0.272568 0.33847C0.167157 0.545999 0.187746 0.795529 0.325275 0.98247L4.73527 6.99588V13.3824C4.73527 13.7233 5.01198 14 5.35292 14H8.64704C8.98798 14 9.26469 13.7233 9.26469 13.3824V6.99588L13.6747 0.98247C13.8122 0.795529 13.8328 0.545999 13.7274 0.33847Z","fill","currentColor"]],template:function(t,o){t&1&&(xe(),wt(0,"path",0))},encapsulation:2})}return i})();var RG=`
    .p-radiobutton {
        position: relative;
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
        width: dt('radiobutton.width');
        height: dt('radiobutton.height');
    }

    .p-radiobutton-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        top: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border: 1px solid transparent;
        border-radius: 50%;
    }

    .p-radiobutton-box {
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 50%;
        border: 1px solid dt('radiobutton.border.color');
        background: dt('radiobutton.background');
        width: dt('radiobutton.width');
        height: dt('radiobutton.height');
        transition:
            background dt('radiobutton.transition.duration'),
            color dt('radiobutton.transition.duration'),
            border-color dt('radiobutton.transition.duration'),
            box-shadow dt('radiobutton.transition.duration'),
            outline-color dt('radiobutton.transition.duration');
        outline-color: transparent;
        box-shadow: dt('radiobutton.shadow');
    }

    .p-radiobutton-icon {
        transition-duration: dt('radiobutton.transition.duration');
        background: transparent;
        font-size: dt('radiobutton.icon.size');
        width: dt('radiobutton.icon.size');
        height: dt('radiobutton.icon.size');
        border-radius: 50%;
        backface-visibility: hidden;
        transform: translateZ(0) scale(0.1);
    }

    .p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
        border-color: dt('radiobutton.hover.border.color');
    }

    .p-radiobutton-checked .p-radiobutton-box {
        border-color: dt('radiobutton.checked.border.color');
        background: dt('radiobutton.checked.background');
    }

    .p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
        background: dt('radiobutton.icon.checked.color');
        transform: translateZ(0) scale(1, 1);
        visibility: visible;
    }

    .p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:hover) .p-radiobutton-box {
        border-color: dt('radiobutton.checked.hover.border.color');
        background: dt('radiobutton.checked.hover.background');
    }

    .p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box .p-radiobutton-icon {
        background: dt('radiobutton.icon.checked.hover.color');
    }

    .p-radiobutton:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
        border-color: dt('radiobutton.focus.border.color');
        box-shadow: dt('radiobutton.focus.ring.shadow');
        outline: dt('radiobutton.focus.ring.width') dt('radiobutton.focus.ring.style') dt('radiobutton.focus.ring.color');
        outline-offset: dt('radiobutton.focus.ring.offset');
    }

    .p-radiobutton-checked:not(.p-disabled):has(.p-radiobutton-input:focus-visible) .p-radiobutton-box {
        border-color: dt('radiobutton.checked.focus.border.color');
    }

    .p-radiobutton.p-invalid > .p-radiobutton-box {
        border-color: dt('radiobutton.invalid.border.color');
    }

    .p-radiobutton.p-variant-filled .p-radiobutton-box {
        background: dt('radiobutton.filled.background');
    }

    .p-radiobutton.p-variant-filled.p-radiobutton-checked .p-radiobutton-box {
        background: dt('radiobutton.checked.background');
    }

    .p-radiobutton.p-variant-filled:not(.p-disabled):has(.p-radiobutton-input:hover).p-radiobutton-checked .p-radiobutton-box {
        background: dt('radiobutton.checked.hover.background');
    }

    .p-radiobutton.p-disabled {
        opacity: 1;
    }

    .p-radiobutton.p-disabled .p-radiobutton-box {
        background: dt('radiobutton.disabled.background');
        border-color: dt('radiobutton.checked.disabled.border.color');
    }

    .p-radiobutton-checked.p-disabled .p-radiobutton-box .p-radiobutton-icon {
        background: dt('radiobutton.icon.disabled.color');
    }

    .p-radiobutton-sm,
    .p-radiobutton-sm .p-radiobutton-box {
        width: dt('radiobutton.sm.width');
        height: dt('radiobutton.sm.height');
    }

    .p-radiobutton-sm .p-radiobutton-icon {
        font-size: dt('radiobutton.icon.sm.size');
        width: dt('radiobutton.icon.sm.size');
        height: dt('radiobutton.icon.sm.size');
    }

    .p-radiobutton-lg,
    .p-radiobutton-lg .p-radiobutton-box {
        width: dt('radiobutton.lg.width');
        height: dt('radiobutton.lg.height');
    }

    .p-radiobutton-lg .p-radiobutton-icon {
        font-size: dt('radiobutton.icon.lg.size');
        width: dt('radiobutton.icon.lg.size');
        height: dt('radiobutton.icon.lg.size');
    }
`;var Mye=["input"],Bye=`
    ${RG}

    /* For PrimeNG */
    p-radioButton.ng-invalid.ng-dirty .p-radiobutton-box,
    p-radio-button.ng-invalid.ng-dirty .p-radiobutton-box,
    p-radiobutton.ng-invalid.ng-dirty .p-radiobutton-box {
        border-color: dt('radiobutton.invalid.border.color');
    }
`,Vye={root:({instance:i})=>["p-radiobutton p-component",{"p-radiobutton-checked":i.checked,"p-disabled":i.$disabled(),"p-invalid":i.invalid(),"p-variant-filled":i.$variant()==="filled","p-radiobutton-sm p-inputfield-sm":i.size()==="small","p-radiobutton-lg p-inputfield-lg":i.size()==="large"}],box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},DG=(()=>{class i extends Ye{name="radiobutton";style=Bye;classes=Vye;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var PG=new he("RADIOBUTTON_INSTANCE"),Uye={provide:Bn,useExisting:Xt(()=>Qg),multi:!0},jye=(()=>{class i{accessors=[];add(e,t){this.accessors.push([e,t])}remove(e){this.accessors=this.accessors.filter(t=>t[1]!==e)}select(e){this.accessors.forEach(t=>{this.isSameGroup(t,e)&&t[1]!==e&&t[1].writeValue(e.value)})}isSameGroup(e,t){return e[0].control?e[0].control.root===t.control.control.root&&e[1].name()===t.name():!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qg=(()=>{class i extends Gr{$pcRadioButton=z(PG,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value;tabindex;inputId;ariaLabelledBy;ariaLabel;styleClass;autofocus;binary;variant=qe();size=qe();onClick=new te;onFocus=new te;onBlur=new te;inputViewChild;$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());checked;focused;control;_componentStyle=z(DG);injector=z(hn);registry=z(jye);onInit(){this.control=this.injector.get(os),this.registry.add(this.control,this)}onChange(e){this.$disabled()||this.select(e)}select(e){this.$disabled()||(this.checked=!0,this.writeModelValue(this.checked),this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:e,value:this.value}))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}focus(){this.inputViewChild.nativeElement.focus()}writeControlValue(e,t){this.checked=this.binary?!!e:e==this.value,t(this.checked),this.cd.markForCheck()}onDestroy(){this.registry.remove(this)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-radioButton"],["p-radiobutton"],["p-radio-button"]],viewQuery:function(t,o){if(t&1&&_e(Mye,5),t&2){let r;W(r=$())&&(o.inputViewChild=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("root"))},inputs:{value:"value",tabindex:[2,"tabindex","tabindex",Je],inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",styleClass:"styleClass",autofocus:[2,"autofocus","autofocus",Z],binary:[2,"binary","binary",Z],variant:[1,"variant"],size:[1,"size"]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[Se([Uye,DG,{provide:PG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:4,vars:20,consts:[["input",""],["type","radio",3,"focus","blur","change","checked","pAutoFocus","pBind"],[3,"pBind"]],template:function(t,o){if(t&1){let r=B();_(0,"input",1,0),A("focus",function(a){return w(r),C(o.onInputFocus(a))})("blur",function(a){return w(r),C(o.onInputBlur(a))})("change",function(a){return w(r),C(o.onChange(a))}),b(),_(2,"div",2),N(3,"div",2),b()}t&2&&(j(o.cx("input")),f("checked",o.checked)("pAutoFocus",o.autofocus)("pBind",o.ptm("input")),ce("id",o.inputId)("name",o.name())("required",o.required()?"":void 0)("disabled",o.$disabled()?"":void 0)("value",o.modelValue())("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-checked",o.checked)("tabindex",o.tabindex),p(2),j(o.cx("box")),f("pBind",o.ptm("box")),p(),j(o.cx("icon")),f("pBind",o.ptm("icon")))},dependencies:[Qe,fr,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),xy=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Qg,Oe,Oe]})}return i})();var kG=`
    .p-togglebutton {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        color: dt('togglebutton.color');
        background: dt('togglebutton.background');
        border: 1px solid dt('togglebutton.border.color');
        padding: dt('togglebutton.padding');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('togglebutton.transition.duration'),
            color dt('togglebutton.transition.duration'),
            border-color dt('togglebutton.transition.duration'),
            outline-color dt('togglebutton.transition.duration'),
            box-shadow dt('togglebutton.transition.duration');
        border-radius: dt('togglebutton.border.radius');
        outline-color: transparent;
        font-weight: dt('togglebutton.font.weight');
    }

    .p-togglebutton-content {
        display: inline-flex;
        flex: 1 1 auto;
        align-items: center;
        justify-content: center;
        gap: dt('togglebutton.gap');
        padding: dt('togglebutton.content.padding');
        background: transparent;
        border-radius: dt('togglebutton.content.border.radius');
        transition:
            background dt('togglebutton.transition.duration'),
            color dt('togglebutton.transition.duration'),
            border-color dt('togglebutton.transition.duration'),
            outline-color dt('togglebutton.transition.duration'),
            box-shadow dt('togglebutton.transition.duration');
    }

    .p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover {
        background: dt('togglebutton.hover.background');
        color: dt('togglebutton.hover.color');
    }

    .p-togglebutton.p-togglebutton-checked {
        background: dt('togglebutton.checked.background');
        border-color: dt('togglebutton.checked.border.color');
        color: dt('togglebutton.checked.color');
    }

    .p-togglebutton-checked .p-togglebutton-content {
        background: dt('togglebutton.content.checked.background');
        box-shadow: dt('togglebutton.content.checked.shadow');
    }

    .p-togglebutton:focus-visible {
        box-shadow: dt('togglebutton.focus.ring.shadow');
        outline: dt('togglebutton.focus.ring.width') dt('togglebutton.focus.ring.style') dt('togglebutton.focus.ring.color');
        outline-offset: dt('togglebutton.focus.ring.offset');
    }

    .p-togglebutton.p-invalid {
        border-color: dt('togglebutton.invalid.border.color');
    }

    .p-togglebutton:disabled {
        opacity: 1;
        cursor: default;
        background: dt('togglebutton.disabled.background');
        border-color: dt('togglebutton.disabled.border.color');
        color: dt('togglebutton.disabled.color');
    }

    .p-togglebutton-label,
    .p-togglebutton-icon {
        position: relative;
        transition: none;
    }

    .p-togglebutton-icon {
        color: dt('togglebutton.icon.color');
    }

    .p-togglebutton:not(:disabled):not(.p-togglebutton-checked):hover .p-togglebutton-icon {
        color: dt('togglebutton.icon.hover.color');
    }

    .p-togglebutton.p-togglebutton-checked .p-togglebutton-icon {
        color: dt('togglebutton.icon.checked.color');
    }

    .p-togglebutton:disabled .p-togglebutton-icon {
        color: dt('togglebutton.icon.disabled.color');
    }

    .p-togglebutton-sm {
        padding: dt('togglebutton.sm.padding');
        font-size: dt('togglebutton.sm.font.size');
    }

    .p-togglebutton-sm .p-togglebutton-content {
        padding: dt('togglebutton.content.sm.padding');
    }

    .p-togglebutton-lg {
        padding: dt('togglebutton.lg.padding');
        font-size: dt('togglebutton.lg.font.size');
    }

    .p-togglebutton-lg .p-togglebutton-content {
        padding: dt('togglebutton.content.lg.padding');
    }

    .p-togglebutton-fluid {
        width: 100%;
    }
`;var Gye=["icon"],Hye=["content"],LG=i=>({$implicit:i});function zye(i,n){i&1&&ve(0)}function Wye(i,n){if(i&1&&N(0,"span",0),i&2){let e=h(3);j(e.cn(e.cx("icon"),e.checked?e.onIcon:e.offIcon,e.iconPos==="left"?e.cx("iconLeft"):e.cx("iconRight"))),f("pBind",e.ptm("icon"))}}function $ye(i,n){if(i&1&&G(0,Wye,1,3,"span",2),i&2){let e=h(2);H(e.onIcon||e.offIcon?0:-1)}}function Kye(i,n){i&1&&ve(0)}function qye(i,n){if(i&1&&E(0,Kye,1,0,"ng-container",1),i&2){let e=h(2);f("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",de(2,LG,e.checked))}}function Jye(i,n){if(i&1&&(G(0,$ye,1,1)(1,qye,1,4,"ng-container"),_(2,"span",0),R(3),b()),i&2){let e=h();H(e.iconTemplate?1:0),p(2),j(e.cx("label")),f("pBind",e.ptm("label")),p(),Q(e.checked?e.hasOnLabel?e.onLabel:"\xA0":e.hasOffLabel?e.offLabel:"\xA0")}}var Qye=`
    ${kG}

    /* For PrimeNG (iconPos) */
    .p-togglebutton-icon-right {
        order: 1;
    }

    .p-togglebutton.ng-invalid.ng-dirty {
        border-color: dt('togglebutton.invalid.border.color');
    }
`,Yye={root:({instance:i})=>["p-togglebutton p-component",{"p-togglebutton-checked":i.checked,"p-invalid":i.invalid(),"p-disabled":i.$disabled(),"p-togglebutton-sm p-inputfield-sm":i.size==="small","p-togglebutton-lg p-inputfield-lg":i.size==="large","p-togglebutton-fluid":i.fluid()}],content:"p-togglebutton-content",icon:"p-togglebutton-icon",iconLeft:"p-togglebutton-icon-left",iconRight:"p-togglebutton-icon-right",label:"p-togglebutton-label"},NG=(()=>{class i extends Ye{name="togglebutton";style=Qye;classes=Yye;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var FG=new he("TOGGLEBUTTON_INSTANCE"),Xye={provide:Bn,useExisting:Xt(()=>ok),multi:!0},ok=(()=>{class i extends Gr{$pcToggleButton=z(FG,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}toggle(e){!this.$disabled()&&!(this.allowEmpty===!1&&this.checked)&&(this.checked=!this.checked,this.writeModelValue(this.checked),this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onLabel="Yes";offLabel="No";onIcon;offIcon;ariaLabel;ariaLabelledBy;styleClass;inputId;tabindex=0;iconPos="left";autofocus;size;allowEmpty;fluid=qe(void 0,{transform:Z});onChange=new te;iconTemplate;contentTemplate;templates;checked=!1;onInit(){(this.checked===null||this.checked===void 0)&&(this.checked=!1)}_componentStyle=z(NG);onBlur(){this.onModelTouched()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.offLabel&&this.offLabel.length>0}get active(){return this.checked===!0}_iconTemplate;_contentTemplate;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this._iconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}writeControlValue(e,t){this.checked=e,t(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-toggleButton"],["p-togglebutton"],["p-toggle-button"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Gye,4),se(r,Hye,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.iconTemplate=s.first),W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:8,hostBindings:function(t,o){t&1&&A("keydown",function(s){return o.onKeyDown(s)})("click",function(s){return o.toggle(s)}),t&2&&(ce("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("aria-pressed",o.checked?"true":"false")("role","button")("tabindex",o.tabindex!==void 0?o.tabindex:o.$disabled()?-1:0)("data-pc-name","togglebutton"),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",Je],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",Z],size:"size",allowEmpty:"allowEmpty",fluid:[1,"fluid"]},outputs:{onChange:"onChange"},features:[Se([Xye,NG,{provide:FG,useExisting:i},{provide:et,useExisting:i}]),nt([oo,pe]),re],decls:3,vars:8,consts:[[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","pBind"]],template:function(t,o){t&1&&(_(0,"span",0),E(1,zye,1,0,"ng-container",1),G(2,Jye,4,5),b()),t&2&&(j(o.cx("content")),f("pBind",o.ptm("content")),p(),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate)("ngTemplateOutletContext",de(6,LG,o.checked)),p(),H(o.contentTemplate?-1:2))},dependencies:[Qe,gt,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})();var MG=`
    .p-selectbutton {
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
        outline-color: transparent;
        border-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton .p-togglebutton {
        border-radius: 0;
        border-width: 1px 1px 1px 0;
    }

    .p-selectbutton .p-togglebutton:focus-visible {
        position: relative;
        z-index: 1;
    }

    .p-selectbutton .p-togglebutton:first-child {
        border-inline-start-width: 1px;
        border-start-start-radius: dt('selectbutton.border.radius');
        border-end-start-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton .p-togglebutton:last-child {
        border-start-end-radius: dt('selectbutton.border.radius');
        border-end-end-radius: dt('selectbutton.border.radius');
    }

    .p-selectbutton.p-invalid {
        outline: 1px solid dt('selectbutton.invalid.border.color');
        outline-offset: 0;
    }

    .p-selectbutton-fluid {
        width: 100%;
    }
    
    .p-selectbutton-fluid .p-togglebutton {
        flex: 1 1 0;
    }
`;var Zye=["item"],eve=(i,n)=>({$implicit:i,index:n});function tve(i,n){return this.getOptionLabel(n)}function ive(i,n){i&1&&ve(0)}function nve(i,n){if(i&1&&E(0,ive,1,0,"ng-container",3),i&2){let e=h(2),t=e.$implicit,o=e.$index,r=h();f("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",Ct(2,eve,t,o))}}function ove(i,n){i&1&&E(0,nve,1,5,"ng-template",null,0,ie)}function rve(i,n){if(i&1){let e=B();_(0,"p-togglebutton",2),A("onChange",function(o){let r=w(e),s=r.$implicit,a=r.$index,l=h();return C(l.onOptionSelect(o,s,a))}),G(1,ove,2,0),b()}if(i&2){let e=n.$implicit,t=h();f("autofocus",t.autofocus)("styleClass",t.styleClass)("ngModel",t.isSelected(e))("onLabel",t.getOptionLabel(e))("offLabel",t.getOptionLabel(e))("disabled",t.$disabled()||t.isOptionDisabled(e))("allowEmpty",t.getAllowEmpty())("size",t.size())("fluid",t.fluid())("pt",t.ptm("pcToggleButton")),p(),H(t.itemTemplate||t._itemTemplate?1:-1)}}var sve=`
    ${MG}

    /* For PrimeNG */
    .p-selectbutton.ng-invalid.ng-dirty {
        outline: 1px solid dt('selectbutton.invalid.border.color');
        outline-offset: 0;
    }
`,ave={root:({instance:i})=>["p-selectbutton p-component",{"p-invalid":i.invalid(),"p-selectbutton-fluid":i.fluid()}]},BG=(()=>{class i extends Ye{name="selectbutton";style=sve;classes=ave;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var VG=new he("SELECTBUTTON_INSTANCE"),lve={provide:Bn,useExisting:Xt(()=>rI),multi:!0},rI=(()=>{class i extends Gr{options;optionLabel;optionValue;optionDisabled;get unselectable(){return this._unselectable}_unselectable=!1;set unselectable(e){this._unselectable=e,this.allowEmpty=!e}tabindex=0;multiple;allowEmpty=!0;styleClass;ariaLabelledBy;dataKey;autofocus;size=qe();fluid=qe(void 0,{transform:Z});onOptionClick=new te;onChange=new te;itemTemplate;_itemTemplate;get equalityKey(){return this.optionValue?null:this.dataKey}value;focusedIndex=0;_componentStyle=z(BG);$pcSelectButton=z(VG,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}getAllowEmpty(){return this.multiple?this.allowEmpty||this.value?.length!==1:this.allowEmpty}getOptionLabel(e){return this.optionLabel?zi(e,this.optionLabel):e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?zi(e,this.optionValue):this.optionLabel||e.value===void 0?e:e.value}isOptionDisabled(e){return this.optionDisabled?zi(e,this.optionDisabled):e.disabled!==void 0?e.disabled:!1}onOptionSelect(e,t,o){if(this.$disabled()||this.isOptionDisabled(t))return;let r=this.isSelected(t);if(r&&this.unselectable)return;let s=this.getOptionValue(t),a;if(this.multiple)r?a=this.value.filter(l=>!Kn(l,s,this.equalityKey||void 0)):a=this.value?[...this.value,s]:[s];else{if(r&&!this.allowEmpty)return;a=r?null:s}this.focusedIndex=o,this.value=a,this.writeModelValue(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.onOptionClick.emit({originalEvent:e,option:t,index:o})}changeTabIndexes(e,t){let o,r;for(let s=0;s<=this.el.nativeElement.children.length-1;s++)this.el.nativeElement.children[s].getAttribute("tabindex")==="0"&&(o={elem:this.el.nativeElement.children[s],index:s});t==="prev"?o.index===0?r=this.el.nativeElement.children.length-1:r=o.index-1:o.index===this.el.nativeElement.children.length-1?r=0:r=o.index+1,this.focusedIndex=r,this.el.nativeElement.children[r].focus()}onFocus(e,t){this.focusedIndex=t}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(t=>!Kn(t,this.getOptionValue(e),this.dataKey))}isSelected(e){let t=!1,o=this.getOptionValue(e);if(this.multiple){if(this.value&&Array.isArray(this.value)){for(let r of this.value)if(Kn(r,o,this.dataKey)){t=!0;break}}}else t=Kn(this.getOptionValue(e),this.value,this.equalityKey||void 0);return t}templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break}})}writeControlValue(e,t){this.value=e,t(this.value),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-selectButton"],["p-selectbutton"],["p-select-button"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Zye,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:4,hostBindings:function(t,o){t&2&&(ce("role","group")("aria-labelledby",o.ariaLabelledBy),j(o.cx("root")))},inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",unselectable:[2,"unselectable","unselectable",Z],tabindex:[2,"tabindex","tabindex",Je],multiple:[2,"multiple","multiple",Z],allowEmpty:[2,"allowEmpty","allowEmpty",Z],styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",dataKey:"dataKey",autofocus:[2,"autofocus","autofocus",Z],size:[1,"size"],fluid:[1,"fluid"]},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[Se([lve,BG,{provide:VG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:2,vars:0,consts:[["content",""],[3,"autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size","fluid","pt"],[3,"onChange","autofocus","styleClass","ngModel","onLabel","offLabel","disabled","allowEmpty","size","fluid","pt"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&fn(0,rve,2,11,"p-togglebutton",1,tve,!0),t&2&&mn(o.options)},dependencies:[ok,rs,_i,Zi,Qe,gt,Oe,Pt],encapsulation:2,changeDetection:0})}return i})(),Ty=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[rI,Oe,Oe]})}return i})();var dve=["header"],pve=["headergrouped"],uve=["body"],hve=["loadingbody"],fve=["caption"],mve=["footer"],gve=["footergrouped"],_ve=["summary"],bve=["colgroup"],yve=["expandedrow"],vve=["groupheader"],wve=["groupfooter"],Cve=["frozenexpandedrow"],Sve=["frozenheader"],Ive=["frozenbody"],Eve=["frozenfooter"],xve=["frozencolgroup"],Tve=["emptymessage"],Ove=["paginatorleft"],Rve=["paginatorright"],Dve=["paginatordropdownitem"],Pve=["loadingicon"],Ave=["reorderindicatorupicon"],kve=["reorderindicatordownicon"],Nve=["sorticon"],Fve=["checkboxicon"],Lve=["headercheckboxicon"],Mve=["paginatordropdownicon"],Bve=["paginatorfirstpagelinkicon"],Vve=["paginatorlastpagelinkicon"],Uve=["paginatorpreviouspagelinkicon"],jve=["paginatornextpagelinkicon"],Gve=["resizeHelper"],Hve=["reorderIndicatorUp"],zve=["reorderIndicatorDown"],Wve=["wrapper"],$ve=["table"],Kve=["thead"],qve=["tfoot"],Jve=["scroller"],Qve=i=>({height:i}),UG=(i,n)=>({$implicit:i,options:n}),Yve=i=>({columns:i}),sI=i=>({$implicit:i});function Xve(i,n){if(i&1&&N(0,"i",17),i&2){let e=h(2);j(e.cn(e.cx("loadingIcon"),e.loadingIcon)),f("pBind",e.ptm("loadingIcon"))}}function Zve(i,n){if(i&1&&(xe(),N(0,"svg",19)),i&2){let e=h(3);j(e.cx("loadingIcon")),f("spin",!0)("pBind",e.ptm("loadingIcon"))}}function ewe(i,n){}function twe(i,n){i&1&&E(0,ewe,0,0,"ng-template")}function iwe(i,n){if(i&1&&(_(0,"span",17),E(1,twe,1,0,null,20),b()),i&2){let e=h(3);j(e.cx("loadingIcon")),f("pBind",e.ptm("loadingIcon")),p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function nwe(i,n){if(i&1&&(we(0),E(1,Zve,1,4,"svg",18)(2,iwe,2,4,"span",10),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),p(),f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function owe(i,n){if(i&1&&(_(0,"div",17),E(1,Xve,1,3,"i",10)(2,nwe,3,2,"ng-container",14),b()),i&2){let e=h();j(e.cx("mask")),f("pBind",e.ptm("mask")),p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function rwe(i,n){i&1&&ve(0)}function swe(i,n){if(i&1&&(_(0,"div",17),E(1,rwe,1,0,"ng-container",20),b()),i&2){let e=h();j(e.cx("header")),f("pBind",e.ptm("header")),p(),f("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function awe(i,n){i&1&&ve(0)}function lwe(i,n){if(i&1&&E(0,awe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorDropdownIconTemplate||e._paginatorDropdownIconTemplate)}}function cwe(i,n){i&1&&E(0,lwe,1,1,"ng-template",22)}function dwe(i,n){i&1&&ve(0)}function pwe(i,n){if(i&1&&E(0,dwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function uwe(i,n){i&1&&E(0,pwe,1,1,"ng-template",23)}function hwe(i,n){i&1&&ve(0)}function fwe(i,n){if(i&1&&E(0,hwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function mwe(i,n){i&1&&E(0,fwe,1,1,"ng-template",24)}function gwe(i,n){i&1&&ve(0)}function _we(i,n){if(i&1&&E(0,gwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function bwe(i,n){i&1&&E(0,_we,1,1,"ng-template",25)}function ywe(i,n){i&1&&ve(0)}function vwe(i,n){if(i&1&&E(0,ywe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function wwe(i,n){i&1&&E(0,vwe,1,1,"ng-template",26)}function Cwe(i,n){if(i&1){let e=B();_(0,"p-paginator",21),A("onPageChange",function(o){w(e);let r=h();return C(r.onPageChange(o))}),E(1,cwe,1,0,null,14)(2,uwe,1,0,null,14)(3,mwe,1,0,null,14)(4,bwe,1,0,null,14)(5,wwe,1,0,null,14),b()}if(i&2){let e=h();f("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate||e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate||e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate||e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.cx("pcPaginator")+" "+e.paginatorStyleClass&&e.paginatorStyleClass)("locale",e.paginatorLocale)("pt",e.ptm("pcPaginator")),p(),f("ngIf",e.paginatorDropdownIconTemplate||e._paginatorDropdownIconTemplate),p(),f("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),p(),f("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),p(),f("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),p(),f("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Swe(i,n){i&1&&ve(0)}function Iwe(i,n){if(i&1&&E(0,Swe,1,0,"ng-container",28),i&2){let e=n.$implicit,t=n.options;h(2);let o=Ze(8);f("ngTemplateOutlet",o)("ngTemplateOutletContext",Ct(2,UG,e,t))}}function Ewe(i,n){if(i&1){let e=B();_(0,"p-scroller",27,2),A("onLazyLoad",function(o){w(e);let r=h();return C(r.onLazyItemLoad(o))}),E(2,Iwe,1,5,"ng-template",null,3,ie),b()}if(i&2){let e=h();De(de(16,Qve,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),f("items",e.processedData)("columns",e.columns)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("step",e.rows)("delay",e.lazy?e.virtualScrollDelay:0)("inline",!0)("autoSize",!0)("lazy",e.lazy)("loaderDisabled",!0)("showSpacer",!1)("showLoader",e.loadingBodyTemplate||e._loadingBodyTemplate)("options",e.virtualScrollOptions)("pt",e.ptm("virtualScroller"))}}function xwe(i,n){i&1&&ve(0)}function Twe(i,n){if(i&1&&(we(0),E(1,xwe,1,0,"ng-container",28),Ce()),i&2){let e=h(),t=Ze(8);p(),f("ngTemplateOutlet",t)("ngTemplateOutletContext",Ct(4,UG,e.processedData,de(2,Yve,e.columns)))}}function Owe(i,n){i&1&&ve(0)}function Rwe(i,n){i&1&&ve(0)}function Dwe(i,n){if(i&1&&N(0,"tbody",35),i&2){let e=h().options,t=h();j(t.cx("tbody")),f("pBind",t.ptm("tbody"))("value",t.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",t.frozenBodyTemplate||t._frozenBodyTemplate)("frozen",!0)}}function Pwe(i,n){if(i&1&&N(0,"tbody",36),i&2){let e=h().options,t=h();De("height: calc("+e.spacerStyle.height+" - "+e.rows.length*e.itemSize+"px);"),j(t.cx("virtualScrollerSpacer")),f("pBind",t.ptm("virtualScrollerSpacer"))}}function Awe(i,n){i&1&&ve(0)}function kwe(i,n){if(i&1&&(_(0,"tfoot",37,6),E(2,Awe,1,0,"ng-container",28),b()),i&2){let e=h().options,t=h();f("ngClass",t.cx("footer"))("ngStyle",t.sx("tfoot"))("pBind",t.ptm("tfoot")),p(2),f("ngTemplateOutlet",t.footerGroupedTemplate||t.footerTemplate||t._footerTemplate||t._footerGroupedTemplate)("ngTemplateOutletContext",de(5,sI,e.columns))}}function Nwe(i,n){if(i&1&&(_(0,"table",29,4),E(2,Owe,1,0,"ng-container",28),_(3,"thead",30,5),E(5,Rwe,1,0,"ng-container",28),b(),E(6,Dwe,1,8,"tbody",31),N(7,"tbody",32),E(8,Pwe,1,5,"tbody",33)(9,kwe,3,7,"tfoot",34),b()),i&2){let e=n.options,t=h();De(t.tableStyle),j(t.cn(t.cx("table"),t.tableStyleClass)),f("pBind",t.ptm("table")),ce("id",t.id+"-table"),p(2),f("ngTemplateOutlet",t.colGroupTemplate||t._colGroupTemplate)("ngTemplateOutletContext",de(26,sI,e.columns)),p(),j(t.cx("thead")),f("ngStyle",t.sx("thead"))("pBind",t.ptm("thead")),p(2),f("ngTemplateOutlet",t.headerGroupedTemplate||t.headerTemplate||t._headerTemplate)("ngTemplateOutletContext",de(28,sI,e.columns)),p(),f("ngIf",t.frozenValue||t.frozenBodyTemplate||t._frozenBodyTemplate),p(),De(e.contentStyle),j(t.cx("tbody",e.contentStyleClass)),f("pBind",t.ptm("tbody"))("value",t.dataToRender(e.rows))("pTableBody",e.columns)("pTableBodyTemplate",t.bodyTemplate||t._bodyTemplate)("scrollerOptions",e),p(),f("ngIf",e.spacerStyle),p(),f("ngIf",t.footerGroupedTemplate||t.footerTemplate||t._footerTemplate||t._footerGroupedTemplate)}}function Fwe(i,n){i&1&&ve(0)}function Lwe(i,n){if(i&1&&E(0,Fwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorDropdownIconTemplate||e._paginatorDropdownIconTemplate)}}function Mwe(i,n){i&1&&E(0,Lwe,1,1,"ng-template",22)}function Bwe(i,n){i&1&&ve(0)}function Vwe(i,n){if(i&1&&E(0,Bwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function Uwe(i,n){i&1&&E(0,Vwe,1,1,"ng-template",23)}function jwe(i,n){i&1&&ve(0)}function Gwe(i,n){if(i&1&&E(0,jwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function Hwe(i,n){i&1&&E(0,Gwe,1,1,"ng-template",24)}function zwe(i,n){i&1&&ve(0)}function Wwe(i,n){if(i&1&&E(0,zwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function $we(i,n){i&1&&E(0,Wwe,1,1,"ng-template",25)}function Kwe(i,n){i&1&&ve(0)}function qwe(i,n){if(i&1&&E(0,Kwe,1,0,"ng-container",20),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Jwe(i,n){i&1&&E(0,qwe,1,1,"ng-template",26)}function Qwe(i,n){if(i&1){let e=B();_(0,"p-paginator",21),A("onPageChange",function(o){w(e);let r=h();return C(r.onPageChange(o))}),E(1,Mwe,1,0,null,14)(2,Uwe,1,0,null,14)(3,Hwe,1,0,null,14)(4,$we,1,0,null,14)(5,Jwe,1,0,null,14),b()}if(i&2){let e=h();f("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate||e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate||e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate||e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)("styleClass",e.cx("pcPaginator")+" "+e.paginatorStyleClass&&e.paginatorStyleClass)("locale",e.paginatorLocale)("pt",e.ptm("pcPaginator")),p(),f("ngIf",e.paginatorDropdownIconTemplate||e._paginatorDropdownIconTemplate),p(),f("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),p(),f("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),p(),f("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),p(),f("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function Ywe(i,n){i&1&&ve(0)}function Xwe(i,n){if(i&1&&(_(0,"div",38),E(1,Ywe,1,0,"ng-container",20),b()),i&2){let e=h();f("ngClass",e.cx("footer"))("pBind",e.ptm("footer")),p(),f("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function Zwe(i,n){if(i&1&&N(0,"div",38,7),i&2){let e=h();Kt("display","none"),f("ngClass",e.cx("columnResizeIndicator"))("pBind",e.ptm("columnResizeIndicator"))}}function eCe(i,n){if(i&1&&(xe(),N(0,"svg",40)),i&2){let e=h(2);f("pBind",e.ptm("rowReorderIndicatorUp").icon)}}function tCe(i,n){}function iCe(i,n){i&1&&E(0,tCe,0,0,"ng-template")}function nCe(i,n){if(i&1&&(_(0,"span",38,8),E(2,eCe,1,1,"svg",39)(3,iCe,1,0,null,20),b()),i&2){let e=h();Kt("display","none"),f("ngClass",e.cx("rowReorderIndicatorUp"))("pBind",e.ptm("rowReorderIndicatorUp")),p(2),f("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),p(),f("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function oCe(i,n){if(i&1&&(xe(),N(0,"svg",42)),i&2){let e=h(2);f("pBind",e.ptm("rowReorderIndicatorDown").icon)}}function rCe(i,n){}function sCe(i,n){i&1&&E(0,rCe,0,0,"ng-template")}function aCe(i,n){if(i&1&&(_(0,"span",38,9),E(2,oCe,1,1,"svg",41)(3,sCe,1,0,null,20),b()),i&2){let e=h();Kt("display","none"),f("ngClass",e.cx("rowReorderIndicatorDown"))("pBind",e.ptm("rowReorderIndicatorDown")),p(2),f("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),p(),f("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var lCe=["pTableBody",""],rk=(i,n,e,t,o)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:o}),cCe=(i,n,e,t,o,r,s)=>({$implicit:i,rowIndex:n,columns:e,editing:t,frozen:o,rowgroup:r,rowspan:s}),lI=(i,n,e,t,o,r)=>({$implicit:i,rowIndex:n,columns:e,expanded:t,editing:o,frozen:r}),jG=(i,n,e,t)=>({$implicit:i,rowIndex:n,columns:e,frozen:t}),GG=(i,n)=>({$implicit:i,frozen:n});function dCe(i,n){i&1&&ve(0)}function pCe(i,n){if(i&1&&(we(0,3),E(1,dCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.groupHeaderTemplate||r.dataTable._groupHeaderTemplate)("ngTemplateOutletContext",xf(2,rk,t,r.getRowIndex(o),r.columns,r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function uCe(i,n){i&1&&ve(0)}function hCe(i,n){if(i&1&&(we(0),E(1,uCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",t?r.template:r.dataTable.loadingBodyTemplate||r.dataTable._loadingBodyTemplate)("ngTemplateOutletContext",xf(2,rk,t,r.getRowIndex(o),r.columns,r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function fCe(i,n){i&1&&ve(0)}function mCe(i,n){if(i&1&&(we(0),E(1,fCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",t?r.template:r.dataTable.loadingBodyTemplate||r.dataTable._loadingBodyTemplate)("ngTemplateOutletContext",_2(2,cCe,t,r.getRowIndex(o),r.columns,r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen,r.shouldRenderRowspan(r.value,t,o),r.calculateRowGroupSize(r.value,t,o)))}}function gCe(i,n){i&1&&ve(0)}function _Ce(i,n){if(i&1&&(we(0,3),E(1,gCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.groupFooterTemplate||r.dataTable._groupFooterTemplate)("ngTemplateOutletContext",xf(2,rk,t,r.getRowIndex(o),r.columns,r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function bCe(i,n){if(i&1&&E(0,pCe,2,8,"ng-container",2)(1,hCe,2,8,"ng-container",0)(2,mCe,2,10,"ng-container",0)(3,_Ce,2,8,"ng-container",2),i&2){let e=n.$implicit,t=n.index,o=h(2);f("ngIf",(o.dataTable.groupHeaderTemplate||o.dataTable._groupHeaderTemplate)&&!o.dataTable.virtualScroll&&o.dataTable.rowGroupMode==="subheader"&&o.shouldRenderRowGroupHeader(o.value,e,o.getRowIndex(t))),p(),f("ngIf",o.dataTable.rowGroupMode!=="rowspan"),p(),f("ngIf",o.dataTable.rowGroupMode==="rowspan"),p(),f("ngIf",(o.dataTable.groupFooterTemplate||o.dataTable._groupFooterTemplate)&&!o.dataTable.virtualScroll&&o.dataTable.rowGroupMode==="subheader"&&o.shouldRenderRowGroupFooter(o.value,e,o.getRowIndex(t)))}}function yCe(i,n){if(i&1&&(we(0),E(1,bCe,4,4,"ng-template",1),Ce()),i&2){let e=h();p(),f("ngForOf",e.value)("ngForTrackBy",e.dataTable.rowTrackBy)}}function vCe(i,n){i&1&&ve(0)}function wCe(i,n){if(i&1&&(we(0),E(1,vCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",bs(2,lI,t,r.getRowIndex(o),r.columns,r.dataTable.isRowExpanded(t),r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function CCe(i,n){i&1&&ve(0)}function SCe(i,n){if(i&1&&(we(0,3),E(1,CCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.groupHeaderTemplate||r.dataTable._groupHeaderTemplate)("ngTemplateOutletContext",bs(2,lI,t,r.getRowIndex(o),r.columns,r.dataTable.isRowExpanded(t),r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function ICe(i,n){i&1&&ve(0)}function ECe(i,n){i&1&&ve(0)}function xCe(i,n){if(i&1&&(we(0,3),E(1,ECe,1,0,"ng-container",4),Ce()),i&2){let e=h(2),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.groupFooterTemplate||r.dataTable._groupFooterTemplate)("ngTemplateOutletContext",bs(2,lI,t,r.getRowIndex(o),r.columns,r.dataTable.isRowExpanded(t),r.dataTable.editMode==="row"&&r.dataTable.isRowEditing(t),r.frozen))}}function TCe(i,n){if(i&1&&(we(0),E(1,ICe,1,0,"ng-container",4)(2,xCe,2,9,"ng-container",2),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.expandedRowTemplate||r.dataTable._expandedRowTemplate)("ngTemplateOutletContext",Br(3,jG,t,r.getRowIndex(o),r.columns,r.frozen)),p(),f("ngIf",(r.dataTable.groupFooterTemplate||r.dataTable._groupFooterTemplate)&&r.dataTable.rowGroupMode==="subheader"&&r.shouldRenderRowGroupFooter(r.value,t,r.getRowIndex(o)))}}function OCe(i,n){if(i&1&&E(0,wCe,2,9,"ng-container",0)(1,SCe,2,9,"ng-container",2)(2,TCe,3,8,"ng-container",0),i&2){let e=n.$implicit,t=n.index,o=h(2);f("ngIf",!(o.dataTable.groupHeaderTemplate&&o.dataTable._groupHeaderTemplate)),p(),f("ngIf",(o.dataTable.groupHeaderTemplate||o.dataTable._groupHeaderTemplate)&&o.dataTable.rowGroupMode==="subheader"&&o.shouldRenderRowGroupHeader(o.value,e,o.getRowIndex(t))),p(),f("ngIf",o.dataTable.isRowExpanded(e))}}function RCe(i,n){if(i&1&&(we(0),E(1,OCe,3,3,"ng-template",1),Ce()),i&2){let e=h();p(),f("ngForOf",e.value)("ngForTrackBy",e.dataTable.rowTrackBy)}}function DCe(i,n){i&1&&ve(0)}function PCe(i,n){i&1&&ve(0)}function ACe(i,n){if(i&1&&(we(0),E(1,PCe,1,0,"ng-container",4),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);p(),f("ngTemplateOutlet",r.dataTable.frozenExpandedRowTemplate||r.dataTable._frozenExpandedRowTemplate)("ngTemplateOutletContext",Br(2,jG,t,r.getRowIndex(o),r.columns,r.frozen))}}function kCe(i,n){if(i&1&&E(0,DCe,1,0,"ng-container",4)(1,ACe,2,7,"ng-container",0),i&2){let e=n.$implicit,t=n.index,o=h(2);f("ngTemplateOutlet",o.template)("ngTemplateOutletContext",bs(3,lI,e,o.getRowIndex(t),o.columns,o.dataTable.isRowExpanded(e),o.dataTable.editMode==="row"&&o.dataTable.isRowEditing(e),o.frozen)),p(),f("ngIf",o.dataTable.isRowExpanded(e))}}function NCe(i,n){if(i&1&&(we(0),E(1,kCe,2,10,"ng-template",1),Ce()),i&2){let e=h();p(),f("ngForOf",e.value)("ngForTrackBy",e.dataTable.rowTrackBy)}}function FCe(i,n){i&1&&ve(0)}function LCe(i,n){if(i&1&&(we(0),E(1,FCe,1,0,"ng-container",4),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.dataTable.loadingBodyTemplate||e.dataTable._loadingBodyTemplate)("ngTemplateOutletContext",Ct(2,GG,e.columns,e.frozen))}}function MCe(i,n){i&1&&ve(0)}function BCe(i,n){if(i&1&&(we(0),E(1,MCe,1,0,"ng-container",4),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.dataTable.emptyMessageTemplate||e.dataTable._emptyMessageTemplate)("ngTemplateOutletContext",Ct(2,GG,e.columns,e.frozen))}}function VCe(i,n){if(i&1&&(xe(),N(0,"svg",6)),i&2){let e=h(2);j(e.cx("sortableColumnIcon"))}}function UCe(i,n){if(i&1&&(xe(),N(0,"svg",7)),i&2){let e=h(2);j(e.cx("sortableColumnIcon"))}}function jCe(i,n){if(i&1&&(xe(),N(0,"svg",8)),i&2){let e=h(2);j(e.cx("sortableColumnIcon"))}}function GCe(i,n){if(i&1&&(we(0),E(1,VCe,1,2,"svg",3)(2,UCe,1,2,"svg",4)(3,jCe,1,2,"svg",5),Ce()),i&2){let e=h();p(),f("ngIf",e.sortOrder===0),p(),f("ngIf",e.sortOrder===1),p(),f("ngIf",e.sortOrder===-1)}}function HCe(i,n){}function zCe(i,n){i&1&&E(0,HCe,0,0,"ng-template")}function WCe(i,n){if(i&1&&(_(0,"span"),E(1,zCe,1,0,null,9),b()),i&2){let e=h();j(e.cx("sortableColumnIcon")),p(),f("ngTemplateOutlet",e.dataTable.sortIconTemplate||e.dataTable._sortIconTemplate)("ngTemplateOutletContext",de(4,sI,e.sortOrder))}}function $Ce(i,n){if(i&1&&N(0,"p-badge",10),i&2){let e=h();j(e.cx("sortableColumnBadge")),f("value",e.getBadgeValue())}}var KCe=["input"],qCe=["output"];function JCe(i,n){i&1&&ve(0)}function QCe(i,n){if(i&1&&(we(0),E(1,JCe,1,0,"ng-container",1),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.inputTemplate||e._inputTemplate)}}function YCe(i,n){i&1&&ve(0)}function XCe(i,n){if(i&1&&(we(0),E(1,YCe,1,0,"ng-container",1),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.outputTemplate||e._outputTemplate)}}var ZCe=`
    ${wG}

    /* For PrimeNG */
    .p-datatable-scrollable-table > .p-datatable-thead {
        top: 0;
        z-index: 2;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody {
        position: sticky;
        z-index: 2;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody + .p-datatable-frozen-tbody {
        z-index: 1;
    }

    .p-datatable-mask.p-overlay-mask {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 3;
    }

    .p-datatable-filter-overlay {
        position: absolute;
        background: dt('datatable.filter.overlay.select.background');
        color: dt('datatable.filter.overlay.select.color');
        border: 1px solid dt('datatable.filter.overlay.select.border.color');
        border-radius: dt('datatable.filter.overlay.select.border.radius');
        box-shadow: dt('datatable.filter.overlay.select.shadow');
        min-width: 12.5rem;
    }

    .p-datatable-filter-rule {
        border-bottom: 1px solid dt('datatable.filter.rule.border.color');
    }

    .p-datatable-filter-rule:last-child {
        border-bottom: 0 none;
    }

    .p-datatable-filter-add-rule-button,
    .p-datatable-filter-remove-rule-button {
        width: 100%;
    }

    .p-datatable-filter-remove-button {
        width: 100%;
    }

    .p-datatable-thead > tr > th {
        padding: dt('datatable.header.cell.padding');
        background: dt('datatable.header.cell.background');
        border-color: dt('datatable.header.cell.border.color');
        border-style: solid;
        border-width: 0 0 1px 0;
        color: dt('datatable.header.cell.color');
        font-weight: dt('datatable.column.title.font.weight');
        text-align: start;
        transition:
            background dt('datatable.transition.duration'),
            color dt('datatable.transition.duration'),
            border-color dt('datatable.transition.duration'),
            outline-color dt('datatable.transition.duration'),
            box-shadow dt('datatable.transition.duration');
    }

    .p-datatable-thead > tr > th p-columnfilter {
        font-weight: normal;
    }

    .p-datatable-thead > tr > th,
    .p-datatable-sort-icon,
    .p-datatable-sort-badge {
        vertical-align: middle;
    }

    .p-datatable-thead > tr > th.p-datatable-column-sorted {
        background: dt('datatable.header.cell.selected.background');
        color: dt('datatable.header.cell.selected.color');
    }

    .p-datatable-thead > tr > th.p-datatable-column-sorted .p-datatable-sort-icon {
        color: dt('datatable.header.cell.selected.color');
    }

    .p-datatable.p-datatable-striped .p-datatable-tbody > tr:nth-child(odd) {
        background: dt('datatable.row.striped.background');
    }

    .p-datatable.p-datatable-striped .p-datatable-tbody > tr:nth-child(odd).p-datatable-row-selected {
        background: dt('datatable.row.selected.background');
        color: dt('datatable.row.selected.color');
    }

    p-sortIcon, p-sort-icon, p-sorticon {
        display: inline-flex;
        align-items: center;
        gap: dt('datatable.header.cell.gap');
    }

    .p-datatable .p-editable-column.p-cell-editing {
        padding: 0;
    }

    .p-datatable .p-editable-column.p-cell-editing p-celleditor {
        display: block;
        width: 100%;
    }
`,eSe={root:({instance:i})=>["p-datatable p-component",{"p-datatable-hoverable":i.rowHover||i.selectionMode,"p-datatable-resizable":i.resizableColumns,"p-datatable-resizable-fit":i.resizableColumns&&i.columnResizeMode==="fit","p-datatable-scrollable":i.scrollable,"p-datatable-flex-scrollable":i.scrollable&&i.scrollHeight==="flex","p-datatable-striped":i.stripedRows,"p-datatable-gridlines":i.showGridlines,"p-datatable-sm":i.size==="small","p-datatable-lg":i.size==="large"}],mask:"p-datatable-mask p-overlay-mask",loadingIcon:"p-datatable-loading-icon",header:"p-datatable-header",pcPaginator:({instance:i})=>"p-datatable-paginator-"+i.paginatorPosition,tableContainer:"p-datatable-table-container",table:({instance:i})=>["p-datatable-table",{"p-datatable-scrollable-table":i.scrollable,"p-datatable-resizable-table":i.resizableColumns,"p-datatable-resizable-table-fit":i.resizableColumns&&i.columnResizeMode==="fit"}],thead:"p-datatable-thead",columnResizer:"p-datatable-column-resizer",columnHeaderContent:"p-datatable-column-header-content",columnTitle:"p-datatable-column-title",columnFooter:"p-datatable-column-footer",sortIcon:"p-datatable-sort-icon",pcSortBadge:"p-datatable-sort-badge",filter:({instance:i})=>({"p-datatable-filter":!0,"p-datatable-inline-filter":i.display==="row","p-datatable-popover-filter":i.display==="menu"}),filterElementContainer:"p-datatable-filter-element-container",pcColumnFilterButton:"p-datatable-column-filter-button",pcColumnFilterClearButton:"p-datatable-column-filter-clear-button",filterOverlay:({instance:i})=>({"p-datatable-filter-overlay p-component":!0,"p-datatable-filter-overlay-popover":i.display==="menu"}),filterConstraintList:"p-datatable-filter-constraint-list",filterConstraint:"p-datatable-filter-constraint",filterConstraintSeparator:"p-datatable-filter-constraint-separator",filterOperator:"p-datatable-filter-operator",pcFilterOperatorDropdown:"p-datatable-filter-operator-dropdown",filterRuleList:"p-datatable-filter-rule-list",filterRule:"p-datatable-filter-rule",pcFilterConstraintDropdown:"p-datatable-filter-constraint-dropdown",pcFilterRemoveRuleButton:"p-datatable-filter-remove-rule-button",pcFilterAddRuleButton:"p-datatable-filter-add-rule-button",filterButtonbar:"p-datatable-filter-buttonbar",pcFilterClearButton:"p-datatable-filter-clear-button",pcFilterApplyButton:"p-datatable-filter-apply-button",tbody:({instance:i})=>({"p-datatable-tbody":!0,"p-datatable-frozen-tbody":i.frozenValue||i.frozenBodyTemplate,"p-virtualscroller-content":i.virtualScroll}),rowGroupHeader:"p-datatable-row-group-header",rowToggleButton:"p-datatable-row-toggle-button",rowToggleIcon:"p-datatable-row-toggle-icon",rowExpansion:"p-datatable-row-expansion",rowGroupFooter:"p-datatable-row-group-footer",emptyMessage:"p-datatable-empty-message",bodyCell:({instance:i})=>({"p-datatable-frozen-column":i.columnProp("frozen")}),reorderableRowHandle:"p-datatable-reorderable-row-handle",pcRowEditorInit:"p-datatable-row-editor-init",pcRowEditorSave:"p-datatable-row-editor-save",pcRowEditorCancel:"p-datatable-row-editor-cancel",tfoot:"p-datatable-tfoot",footerCell:({instance:i})=>({"p-datatable-frozen-column":i.columnProp("frozen")}),virtualScrollerSpacer:"p-datatable-virtualscroller-spacer",footer:"p-datatable-tfoot",columnResizeIndicator:"p-datatable-column-resize-indicator",rowReorderIndicatorUp:"p-datatable-row-reorder-indicator-up",rowReorderIndicatorDown:"p-datatable-row-reorder-indicator-down",sortableColumn:({instance:i})=>({"p-datatable-sortable-column":i.isEnabled()," p-datatable-column-sorted":i.sorted}),sortableColumnIcon:"p-datatable-sort-icon",sortableColumnBadge:"p-sortable-column-badge",selectableRow:({instance:i})=>({"p-datatable-selectable-row":i.isEnabled(),"p-datatable-row-selected":i.selected}),resizableColumn:"p-datatable-resizable-column",reorderableColumn:"p-datatable-reorderable-column",rowEditorCancel:"p-datatable-row-editor-cancel"},tSe={tableContainer:({instance:i})=>({"max-height":i.virtualScroll?"":i.scrollHeight,overflow:"auto"}),thead:{position:"sticky"},tfoot:{position:"sticky"}},pl=(()=>{class i extends Ye{name="datatable";style=ZCe;classes=eSe;inlineStyles=tSe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var iSe=new he("TABLE_INSTANCE"),aI=(()=>{class i{sortSource=new Le;selectionSource=new Le;contextMenuSource=new Le;valueSource=new Le;columnsSource=new Le;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();valueSource$=this.valueSource.asObservable();columnsSource$=this.columnsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),go=(()=>{class i extends Xe{frozenColumns;frozenValue;styleClass;tableStyle;tableStyleClass;paginator;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;paginatorDropdownScrollHeight="200px";currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showJumpToPageInput;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;selectionMode;selectionPageOnly;contextMenuSelection;contextMenuSelectionChange=new te;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;rowSelectable;rowTrackBy=(e,t)=>t;lazy=!1;lazyLoadOnInit=!0;compareSelectionBy="deepEquals";csvSeparator=",";exportFilename="download";filters={};globalFilterFields;filterDelay=300;filterLocale;expandedRowKeys={};editingRowKeys={};rowExpandMode="multiple";scrollable;rowGroupMode;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=250;frozenWidth;contextMenu;resizableColumns;columnResizeMode="fit";reorderableColumns;loading;loadingIcon;showLoader=!0;rowHover;customSort;showInitialSortBadge=!0;exportFunction;exportHeader;stateKey;stateStorage="session";editMode="cell";groupRowsBy;size;showGridlines;stripedRows;groupRowsByOrder=1;responsiveLayout="scroll";breakpoint="960px";paginatorLocale;get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}totalRecords=0;get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}selectAllChange=new te;selectionChange=new te;onRowSelect=new te;onRowUnselect=new te;onPage=new te;onSort=new te;onFilter=new te;onLazyLoad=new te;onRowExpand=new te;onRowCollapse=new te;onContextMenuSelect=new te;onColResize=new te;onColReorder=new te;onRowReorder=new te;onEditInit=new te;onEditComplete=new te;onEditCancel=new te;onHeaderCheckboxToggle=new te;sortFunction=new te;firstChange=new te;rowsChange=new te;onStateSave=new te;onStateRestore=new te;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;wrapperViewChild;tableViewChild;tableHeaderViewChild;tableFooterViewChild;scroller;_templates;_value=[];_columns;_totalRecords=0;_first=0;_rows;filteredValue;_headerTemplate;headerTemplate;_headerGroupedTemplate;headerGroupedTemplate;_bodyTemplate;bodyTemplate;_loadingBodyTemplate;loadingBodyTemplate;_captionTemplate;captionTemplate;_footerTemplate;footerTemplate;_footerGroupedTemplate;footerGroupedTemplate;_summaryTemplate;summaryTemplate;_colGroupTemplate;colGroupTemplate;_expandedRowTemplate;expandedRowTemplate;_groupHeaderTemplate;groupHeaderTemplate;_groupFooterTemplate;groupFooterTemplate;_frozenExpandedRowTemplate;frozenExpandedRowTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_paginatorDropdownIconTemplate;paginatorDropdownIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;selectionKeys={};lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;draggedRowIndex;droppedRowIndex;rowDragging;dropPosition;editingCell;editingCellData;editingCellField;editingCellRowIndex;selfClick;documentEditListener;_multiSortMeta;_sortField;_sortOrder=1;preventSelectionSetterPropagation;_selection;_selectAll=null;anchorRowIndex;rangeRowIndex;filterTimeout;initialized;rowTouched;restoringSort;restoringFilter;stateRestored;columnOrderStateRestored;columnWidthsState;tableWidthState;overlaySubscription;resizeColumnElement;columnResizing=!1;rowGroupHeaderStyleObject={};id=S9();styleElement;responsiveStyleElement;overlayService=z(Ur);filterService=z(fd);tableService=z(aI);zone=z(Ft);_componentStyle=z(pl);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}onInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),this.responsiveLayout==="stack"&&this.createResponsiveStyle(),this.initialized=!0}onAfterContentInit(){this._templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"expandedrow":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenexpandedrow":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownicon":this.paginatorDropdownIconTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break}})}onAfterViewInit(){At(this.platformId)&&this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths()}onChanges(e){e.totalRecords&&e.totalRecords.firstChange&&(this._totalRecords=e.totalRecords.currentValue),e.value&&(this.isStateful()&&!this.stateRestored&&At(this.platformId)&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._totalRecords===0&&this._value?this._value.length:this._totalRecords??0,this.sortMode=="single"&&(this.sortField||this.groupRowsBy)?this.sortSingle():this.sortMode=="multiple"&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this.isStateful()||(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue)),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&(this.restoreColumnOrder(),this.tableService.onColumnsChange(this._columns))),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get processedData(){return this.filteredValue||this.value||[]}_initialColWidths;dataToRender(e){let t=e||this.processedData;if(t&&this.paginator){let o=this.lazy?0:this.first;return t.slice(o,o+this.rows)}return t}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(wi.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(wi.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.onPage.emit({first:this.first,rows:this.rows}),this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),this.sortMode==="multiple"){let o=t.metaKey||t.ctrlKey,r=this.getSortMeta(e.field);r?o?r.order=r.order*-1:(this._multiSortMeta=[{field:e.field,order:r.order*-1}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,t=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField){this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],this.sortMultiple();return}if(e&&t){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:t}):(this.value.sort((r,s)=>{let a=wi.resolveFieldData(r,e),l=wi.resolveFieldData(s,e),c=null;return a==null&&l!=null?c=-1:a!=null&&l==null?c=1:a==null&&l==null?c=0:typeof a=="string"&&typeof l=="string"?c=a.localeCompare(l):c=a<l?-1:a>l?1:0,t*(c||0)}),this._value=[...this.value]),this.hasFilter()&&this._filter());let o={field:e,order:t};this.onSort.emit(o),this.tableService.onSort(o)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,t)=>this.multisortField(e,t,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,t,o,r){let s=wi.resolveFieldData(e,o[r].field),a=wi.resolveFieldData(t,o[r].field);return wi.compare(s,a,this.filterLocale)===0?o.length-1>r?this.multisortField(e,t,o,r+1):0:this.compareValuesOnSort(s,a,o[r].order)}compareValuesOnSort(e,t,o){return wi.sort(e,t,o,this.filterLocale,this.sortOrder)}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==e){t=!0;break}}return t}}handleRowClick(e){let t=e.originalEvent.target,o=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;if(!(o=="INPUT"||o=="BUTTON"||o=="A"||r=="INPUT"||r=="BUTTON"||r=="A"||st.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){let s=e.rowData,a=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&this.anchorRowIndex!=null)st.clearSelection(),this.rangeRowIndex!=null&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=a,this.selectRange(e.originalEvent,a);else{let l=this.isSelected(s);if(!l&&!this.isRowSelectable(s,a))return;let c=this.rowTouched?!1:this.metaKeySelection,d=this.dataKey?String(wi.resolveFieldData(s,this.dataKey)):null;if(this.anchorRowIndex=a,this.rangeRowIndex=a,c){let u=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(l&&u){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let m=this.findIndexInSelection(s);this._selection=this.selection.filter((g,y)=>y!=m),this.selectionChange.emit(this.selection),d&&delete this.selectionKeys[d]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row"})}else this.isSingleSelectionMode()?(this._selection=s,this.selectionChange.emit(s),d&&(this.selectionKeys={},this.selectionKeys[d]=1)):this.isMultipleSelectionMode()&&(u?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,s],this.selectionChange.emit(this.selection),d&&(this.selectionKeys[d]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})}else if(this.selectionMode==="single")l?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a})):(this._selection=s,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&(this.selectionKeys={},this.selectionKeys[d]=1));else if(this.selectionMode==="multiple")if(l){let u=this.findIndexInSelection(s);this._selection=this.selection.filter((m,g)=>g!=u),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&delete this.selectionKeys[d]}else this._selection=this.selection?[...this.selection,s]:[s],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:s,type:"row",index:a}),d&&(this.selectionKeys[d]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowData,o=e.rowIndex,r=()=>{this.contextMenu.show(e.originalEvent),this.contextMenu.hideCallback=()=>{this.contextMenuSelection=null,this.contextMenuSelectionChange.emit(null),this.tableService.onContextMenu(null)}};if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:t,index:e.rowIndex}),r(),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(t),a=this.dataKey?String(wi.resolveFieldData(t,this.dataKey)):null;if(!s){if(!this.isRowSelectable(t,o))return;this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t),a&&(this.selectionKeys={},this.selectionKeys[a]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),a&&(this.selectionKeys[a]=1))}this.tableService.onSelectionChange(),r(),this.onContextMenuSelect.emit({originalEvent:e,data:t,index:e.rowIndex})}}}selectRange(e,t,o){let r,s;this.anchorRowIndex>t?(r=t,s=this.anchorRowIndex):this.anchorRowIndex<t?(r=this.anchorRowIndex,s=t):(r=t,s=t),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let a=[];for(let l=r;l<=s;l++){let c=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(c)&&!o){if(!this.isRowSelectable(c,t))continue;a.push(c),this._selection=[...this.selection,c];let d=this.dataKey?String(wi.resolveFieldData(c,this.dataKey)):null;d&&(this.selectionKeys[d]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:a,type:"row"})}clearSelectionRange(e){let t,o,r=this.rangeRowIndex,s=this.anchorRowIndex;r>s?(t=this.anchorRowIndex,o=this.rangeRowIndex):r<s?(t=this.rangeRowIndex,o=this.anchorRowIndex):(t=this.rangeRowIndex,o=this.rangeRowIndex);for(let a=t;a<=o;a++){let l=this.value[a],c=this.findIndexInSelection(l);this._selection=this.selection.filter((u,m)=>m!=c);let d=this.dataKey?String(wi.resolveFieldData(l,this.dataKey)):null;d&&delete this.selectionKeys[d],this.onRowUnselect.emit({originalEvent:e,data:l,type:"row"})}}isSelected(e){return e&&this.selection?this.dataKey?this.selectionKeys[wi.resolveFieldData(e,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let o=0;o<this.selection.length;o++)if(this.equals(e,this.selection[o])){t=o;break}}return t}isRowSelectable(e,t){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:t}))}toggleRowWithRadio(e,t){if(this.preventSelectionSetterPropagation=!0,this.selection!=t){if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=t,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(wi.resolveFieldData(t,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,t){this.selection=this.selection||[];let o=this.isSelected(t),r=this.dataKey?String(wi.resolveFieldData(t,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,o){let s=this.findIndexInSelection(t);this._selection=this.selection.filter((a,l)=>l!=s),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),r&&delete this.selectionKeys[r]}else{if(!this.isRowSelectable(t,e.rowIndex))return;this._selection=this.selection?[...this.selection,t]:[t],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:t,type:"checkbox"}),r&&(this.selectionKeys[r]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox({originalEvent:e},t){if(this._selectAll!==null)this.selectAllChange.emit({originalEvent:e,checked:t});else{let o=this.selectionPageOnly?this.dataToRender(this.processedData):this.processedData,r=this.selectionPageOnly&&this._selection?this._selection.filter(s=>!o.some(a=>this.equals(s,a))):[];t&&(r=this.frozenValue?[...r,...this.frozenValue,...o]:[...r,...o],r=this.rowSelectable?r.filter((s,a)=>this.rowSelectable({data:s,index:a})):r),this._selection=r,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t}),this.isStateful()&&this.saveState()}}equals(e,t){return this.compareSelectionBy==="equals"?e===t:wi.equals(e,t,this.dataKey)}filter(e,t,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredValue=null,this.paginator&&(this.totalRecords=this._totalRecords===0&&this.value?this.value.length:this._totalRecords);else{let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let t=0;t<this.value.length;t++){let o=!0,r=!1,s=!1;for(let l in this.filters)if(this.filters.hasOwnProperty(l)&&l!=="global"){s=!0;let c=l,d=this.filters[c];if(Array.isArray(d)){for(let u of d)if(o=this.executeLocalFilter(c,this.value[t],u),u.operator===VA.OR&&o||u.operator===VA.AND&&!o)break}else o=this.executeLocalFilter(c,this.value[t],d);if(!o)break}if(this.filters.global&&!r&&e)for(let l=0;l<e.length;l++){let c=e[l].field||e[l];if(r=this.filterService.filters[this.filters.global.matchMode](wi.resolveFieldData(this.value[t],c),this.filters.global.value,this.filterLocale),r)break}let a;this.filters.global?a=s?s&&o&&r:r:a=s&&o,a&&this.filteredValue.push(this.value[t])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this._totalRecords===0&&this.value?this.value.length:this._totalRecords??0)}}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,t,o){let r=o.value,s=o.matchMode||as.STARTS_WITH,a=wi.resolveFieldData(t,e),l=this.filterService.filters[s];return l(a,r,this.filterLocale)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.clearFilterValues(),this.filteredValue=null,this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._totalRecords===0&&this._value?this._value.length:this._totalRecords??0}clearFilterValues(){for(let[,e]of Object.entries(this.filters))if(Array.isArray(e))for(let t of e)t.value=null;else e&&(e.value=null)}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let t,o="",r=this.columns;e&&e.selectionOnly?t=this.selection||[]:e&&e.allValues?t=this.value||[]:(t=this.filteredValue||this.value,this.frozenValue&&(t=t?[...this.frozenValue,...t]:this.frozenValue));let s=r.filter(d=>d.exportable!==!1&&d.field);o+=s.map(d=>'"'+this.getExportHeader(d)+'"').join(this.csvSeparator);let a=t.map(d=>s.map(u=>{let m=wi.resolveFieldData(d,u.field);return m!=null?this.exportFunction?m=this.exportFunction({data:m,field:u.field}):m=String(m).replace(/"/g,'""'):m="",'"'+m+'"'}).join(this.csvSeparator)).join(`
`);a.length&&(o+=`
`+a);let l=new Blob([new Uint8Array([239,187,191]),o],{type:"text/csv;charset=utf-8;"}),c=this.renderer.createElement("a");c.style.display="none",this.renderer.appendChild(this.document.body,c),c.download!==void 0?(c.setAttribute("href",URL.createObjectURL(l)),c.setAttribute("download",this.exportFilename+".csv"),c.click()):(o="data:text/csv;charset=utf-8,"+o,this.document.defaultView?.open(encodeURI(o))),this.renderer.removeChild(this.document.body,c)}onLazyItemLoad(e){this.onLazyLoad.emit(Fe(ee(ee({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,t,o,r){this.editingCell=e,this.editingCellData=t,this.editingCellField=o,this.editingCellRowIndex=r,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&st.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(st.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}initRowEdit(e){let t=String(wi.resolveFieldData(e,this.dataKey));this.editingRowKeys[t]=!0}saveRowEdit(e,t){if(st.find(t,".ng-invalid.ng-dirty").length===0){let o=String(wi.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[o]}}cancelRowEdit(e){let t=String(wi.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[t]}toggleRow(e,t){if(!this.dataKey&&!this.groupRowsBy)throw new Error("dataKey or groupRowsBy must be defined to use row expansion");let o=this.groupRowsBy?String(wi.resolveFieldData(e,this.groupRowsBy)):String(wi.resolveFieldData(e,this.dataKey));this.expandedRowKeys[o]!=null?(delete this.expandedRowKeys[o],this.onRowCollapse.emit({originalEvent:t,data:e})):(this.rowExpandMode==="single"&&(this.expandedRowKeys={}),this.expandedRowKeys[o]=!0,this.onRowExpand.emit({originalEvent:t,data:e})),t&&t.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return this.groupRowsBy?this.expandedRowKeys[String(wi.resolveFieldData(e,this.groupRowsBy))]===!0:this.expandedRowKeys[String(wi.resolveFieldData(e,this.dataKey))]===!0}isRowEditing(e){return this.editingRowKeys[String(wi.resolveFieldData(e,this.dataKey))]===!0}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}onColumnResizeBegin(e){let t=st.getOffset(this.el?.nativeElement).left;this.resizeColumnElement=e.target.closest("th"),this.columnResizing=!0,e.type=="touchstart"?this.lastResizerHelperX=e.changedTouches[0].clientX-t+this.el?.nativeElement.scrollLeft:this.lastResizerHelperX=e.pageX-t+this.el?.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let t=st.getOffset(this.el?.nativeElement).left;st.addClass(this.el?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.el?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",e.type=="touchmove"?this.resizeHelperViewChild.nativeElement.style.left=e.changedTouches[0].clientX-t+this.el?.nativeElement.scrollLeft+"px":this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.el?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild?.nativeElement.offsetLeft-this.lastResizerHelperX,o=this.resizeColumnElement.offsetWidth+e,r=this.resizeColumnElement.style.minWidth.replace(/[^\d.]/g,""),s=r?parseFloat(r):15;if(o>=s){if(this.columnResizeMode==="fit"){let l=this.resizeColumnElement.nextElementSibling.offsetWidth-e;o>15&&l>15&&this.resizeTableCells(o,l)}else if(this.columnResizeMode==="expand"){this._initialColWidths=this._totalTableWidth();let a=this.tableViewChild?.nativeElement.offsetWidth+e;this.setResizeTableWidth(a+"px"),this.resizeTableCells(o,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",st.removeClass(this.el?.nativeElement,"p-unselectable-text")}_totalTableWidth(){let e=[],t=st.findSingle(this.el.nativeElement,".p-datatable-thead");return st.find(t,"tr > th").forEach(r=>e.push(st.getOuterWidth(r))),e}onColumnDragStart(e,t){this.reorderIconWidth=st.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=st.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let o=st.getOffset(this.el?.nativeElement),r=st.getOffset(t);if(this.draggedColumn!=t){let s=st.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),a=st.indexWithinGroup(t,"preorderablecolumn"),l=r.left-o.left,c=o.top-r.top,d=r.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=r.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=r.top-o.top+t.offsetHeight+"px",e.pageX>d?(this.reorderIndicatorUpViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=l-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&e.preventDefault()}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let o=st.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),r=st.indexWithinGroup(t,"preorderablecolumn"),s=o!=r;if(s&&(r-o==1&&this.dropPosition===-1||o-r==1&&this.dropPosition===1)&&(s=!1),s&&r<o&&this.dropPosition===1&&(r=r+1),s&&r>o&&this.dropPosition===-1&&(r=r-1),s&&(wi.reorderArray(this.columns,o,r),this.onColReorder.emit({dragIndex:o,dropIndex:r,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.resizableColumns&&this.resizeColumnElement){let a=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();wi.reorderArray(a,o+1,r+1),this.updateStyleElement(a,o,0,0)}this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}resizeTableCells(e,t){let o=st.index(this.resizeColumnElement),r=this.columnResizeMode==="expand"?this._initialColWidths:this._totalTableWidth();this.updateStyleElement(r,o,e,t)}updateStyleElement(e,t,o,r){this.destroyStyleElement(),this.createStyleElement();let s="";e.forEach((a,l)=>{let c=l===t?o:r&&l===t+1?r:a,d=`width: ${c}px !important; max-width: ${c}px !important;`;s+=`
                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${l+1}),
                #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${l+1}) {
                    ${d}
                }
            `}),this.renderer.setProperty(this.styleElement,"innerHTML",s)}onRowDragStart(e,t){this.rowDragging=!0,this.draggedRowIndex=t,e.dataTransfer.setData("text","b")}onRowDragOver(e,t,o){if(this.rowDragging&&this.draggedRowIndex!==t){let r=st.getOffset(o).top,s=e.pageY,a=r+st.getOuterHeight(o)/2,l=o.previousElementSibling;s<a?(st.removeClass(o,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=t,l?st.addClass(l,"p-datatable-dragpoint-bottom"):st.addClass(o,"p-datatable-dragpoint-top")):(l?st.removeClass(l,"p-datatable-dragpoint-bottom"):st.addClass(o,"p-datatable-dragpoint-top"),this.droppedRowIndex=t+1,st.addClass(o,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,t){let o=t.previousElementSibling;o&&st.removeClass(o,"p-datatable-dragpoint-bottom"),st.removeClass(t,"p-datatable-dragpoint-bottom"),st.removeClass(t,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,t){if(this.droppedRowIndex!=null){let o=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:this.droppedRowIndex===0?0:this.droppedRowIndex-1;wi.reorderArray(this.value,this.draggedRowIndex,o),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:o})}this.onRowDragLeave(e,t),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){if(At(this.platformId))switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}else throw new Error("Browser storage is not available in the server side.")}isStateful(){return this.stateKey!=null}saveState(){let e=this.getStorage(),t={};this.paginator&&(t.first=this.first,t.rows=this.rows),this.sortField&&(t.sortField=this.sortField,t.sortOrder=this.sortOrder),this.multiSortMeta&&(t.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(t.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(t),this.reorderableColumns&&this.saveColumnOrder(t),this.selection&&(t.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(t.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(t)),this.onStateSave.emit(t)}clearState(){let e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){let t=this.getStorage().getItem(this.stateKey),o=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,r=function(s,a){return typeof a=="string"&&o.test(a)?new Date(a):a};if(t){let s=JSON.parse(t,r);this.paginator&&(this.first!==void 0&&(this.first=s.first,this.firstChange.emit(this.first)),this.rows!==void 0&&(this.rows=s.rows,this.rowsChange.emit(this.rows))),s.sortField&&(this.restoringSort=!0,this._sortField=s.sortField,this._sortOrder=s.sortOrder),s.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=s.multiSortMeta),s.filters&&(this.restoringFilter=!0,this.filters=s.filters),this.resizableColumns&&(this.columnWidthsState=s.columnWidths,this.tableWidthState=s.tableWidth),s.expandedRowKeys&&(this.expandedRowKeys=s.expandedRowKeys),s.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(s.selection)),this.stateRestored=!0,this.onStateRestore.emit(s)}}saveColumnWidths(e){let t=[],o=[],r=this.el?.nativeElement;r&&(o=st.find(r,".p-datatable-thead > tr > th")),o.forEach(s=>t.push(st.getOuterWidth(s))),e.columnWidths=t.join(","),this.columnResizeMode==="expand"&&this.tableViewChild&&(e.tableWidth=st.getOuterWidth(this.tableViewChild.nativeElement))}setResizeTableWidth(e){this.tableViewChild.nativeElement.style.width=e,this.tableViewChild.nativeElement.style.minWidth=e}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if(this.columnResizeMode==="expand"&&this.tableWidthState&&this.setResizeTableWidth(this.tableWidthState+"px"),wi.isNotEmpty(e)){this.createStyleElement();let t="";e.forEach((o,r)=>{let s=`width: ${o}px !important; max-width: ${o}px !important`;t+=`
                        #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${r+1}),
                        #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${r+1}),
                        #${this.id}-table > .p-datatable-tfoot > tr > td:nth-child(${r+1}) {
                            ${s}
                        }
                    `}),this.styleElement.innerHTML=t}}}saveColumnOrder(e){if(this.columns){let t=[];this.columns.map(o=>{t.push(o.field||o.key)}),e.columnOrder=t}}restoreColumnOrder(){let t=this.getStorage().getItem(this.stateKey);if(t){let r=JSON.parse(t).columnOrder;if(r){let s=[];r.map(a=>{let l=this.findColumnByKey(a);l&&s.push(l)}),this.columnOrderStateRestored=!0,this.columns=s}}}findColumnByKey(e){if(this.columns){for(let t of this.columns)if(t.key===e||t.field===e)return t}else return null}createStyleElement(){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",st.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement),st.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){if(At(this.platformId)&&!this.responsiveStyleElement){this.responsiveStyleElement=this.renderer.createElement("style"),this.responsiveStyleElement.type="text/css",st.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.responsiveStyleElement);let e=`
    @media screen and (max-width: ${this.breakpoint}) {
        #${this.id}-table > .p-datatable-thead > tr > th,
        #${this.id}-table > .p-datatable-tfoot > tr > td {
            display: none !important;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td {
            display: flex;
            width: 100% !important;
            align-items: center;
            justify-content: space-between;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td:not(:last-child) {
            border: 0 none;
        }

        #${this.id}.p-datatable-gridlines > .p-datatable-table-container > .p-datatable-table > .p-datatable-tbody > tr > td:last-child {
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }

        #${this.id}-table > .p-datatable-tbody > tr > td > .p-datatable-column-title {
            display: block;
        }
    }
    `;this.renderer.setProperty(this.responsiveStyleElement,"innerHTML",e),st.setAttribute(this.responsiveStyleElement,"nonce",this.config?.csp()?.nonce)}}destroyResponsiveStyle(){this.responsiveStyleElement&&(this.renderer.removeChild(this.document.head,this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}onDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.destroyStyleElement(),this.destroyResponsiveStyle()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-table"]],contentQueries:function(t,o,r){if(t&1&&(se(r,dve,4),se(r,pve,4),se(r,uve,4),se(r,hve,4),se(r,fve,4),se(r,mve,4),se(r,gve,4),se(r,_ve,4),se(r,bve,4),se(r,yve,4),se(r,vve,4),se(r,wve,4),se(r,Cve,4),se(r,Sve,4),se(r,Ive,4),se(r,Eve,4),se(r,xve,4),se(r,Tve,4),se(r,Ove,4),se(r,Rve,4),se(r,Dve,4),se(r,Pve,4),se(r,Ave,4),se(r,kve,4),se(r,Nve,4),se(r,Fve,4),se(r,Lve,4),se(r,Mve,4),se(r,Bve,4),se(r,Vve,4),se(r,Uve,4),se(r,jve,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o._headerTemplate=s.first),W(s=$())&&(o._headerGroupedTemplate=s.first),W(s=$())&&(o._bodyTemplate=s.first),W(s=$())&&(o._loadingBodyTemplate=s.first),W(s=$())&&(o._captionTemplate=s.first),W(s=$())&&(o._footerTemplate=s.first),W(s=$())&&(o._footerGroupedTemplate=s.first),W(s=$())&&(o._summaryTemplate=s.first),W(s=$())&&(o._colGroupTemplate=s.first),W(s=$())&&(o._expandedRowTemplate=s.first),W(s=$())&&(o._groupHeaderTemplate=s.first),W(s=$())&&(o._groupFooterTemplate=s.first),W(s=$())&&(o._frozenExpandedRowTemplate=s.first),W(s=$())&&(o._frozenHeaderTemplate=s.first),W(s=$())&&(o._frozenBodyTemplate=s.first),W(s=$())&&(o._frozenFooterTemplate=s.first),W(s=$())&&(o._frozenColGroupTemplate=s.first),W(s=$())&&(o._emptyMessageTemplate=s.first),W(s=$())&&(o._paginatorLeftTemplate=s.first),W(s=$())&&(o._paginatorRightTemplate=s.first),W(s=$())&&(o._paginatorDropdownItemTemplate=s.first),W(s=$())&&(o._loadingIconTemplate=s.first),W(s=$())&&(o._reorderIndicatorUpIconTemplate=s.first),W(s=$())&&(o._reorderIndicatorDownIconTemplate=s.first),W(s=$())&&(o._sortIconTemplate=s.first),W(s=$())&&(o._checkboxIconTemplate=s.first),W(s=$())&&(o._headerCheckboxIconTemplate=s.first),W(s=$())&&(o._paginatorDropdownIconTemplate=s.first),W(s=$())&&(o._paginatorFirstPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorLastPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorPreviousPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorNextPageLinkIconTemplate=s.first),W(s=$())&&(o._templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(Gve,5),_e(Hve,5),_e(zve,5),_e(Wve,5),_e($ve,5),_e(Kve,5),_e(qve,5),_e(Jve,5)),t&2){let r;W(r=$())&&(o.resizeHelperViewChild=r.first),W(r=$())&&(o.reorderIndicatorUpViewChild=r.first),W(r=$())&&(o.reorderIndicatorDownViewChild=r.first),W(r=$())&&(o.wrapperViewChild=r.first),W(r=$())&&(o.tableViewChild=r.first),W(r=$())&&(o.tableHeaderViewChild=r.first),W(r=$())&&(o.tableFooterViewChild=r.first),W(r=$())&&(o.scroller=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:[2,"paginator","paginator",Z],pageLinks:[2,"pageLinks","pageLinks",Je],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",Z],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",Z],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",Z],showJumpToPageInput:[2,"showJumpToPageInput","showJumpToPageInput",Z],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",Z],showPageLinks:[2,"showPageLinks","showPageLinks",Z],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",Je],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",Z],selectionMode:"selectionMode",selectionPageOnly:[2,"selectionPageOnly","selectionPageOnly",Z],contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",Z],rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:[2,"lazy","lazy",Z],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",Z],compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",Je],filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:[2,"scrollable","scrollable",Z],rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",Je],frozenWidth:"frozenWidth",contextMenu:"contextMenu",resizableColumns:[2,"resizableColumns","resizableColumns",Z],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",Z],loading:[2,"loading","loading",Z],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",Z],rowHover:[2,"rowHover","rowHover",Z],customSort:[2,"customSort","customSort",Z],showInitialSortBadge:[2,"showInitialSortBadge","showInitialSortBadge",Z],exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",size:"size",showGridlines:[2,"showGridlines","showGridlines",Z],stripedRows:[2,"stripedRows","stripedRows",Z],groupRowsByOrder:[2,"groupRowsByOrder","groupRowsByOrder",Je],responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",paginatorLocale:"paginatorLocale",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{contextMenuSelectionChange:"contextMenuSelectionChange",selectAllChange:"selectAllChange",selectionChange:"selectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},standalone:!1,features:[Se([aI,pl,{provide:iSe,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:14,vars:14,consts:[["wrapper",""],["buildInTable",""],["scroller",""],["content",""],["table",""],["thead",""],["tfoot",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"class","pBind",4,"ngIf"],[3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","pt","onPageChange",4,"ngIf"],[3,"ngStyle","pBind"],[3,"items","columns","style","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options","pt","onLazyLoad",4,"ngIf"],[4,"ngIf"],[3,"ngClass","pBind",4,"ngIf"],[3,"ngClass","pBind","display",4,"ngIf"],[3,"pBind"],["data-p-icon","spinner",3,"spin","class","pBind",4,"ngIf"],["data-p-icon","spinner",3,"spin","pBind"],[4,"ngTemplateOutlet"],[3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","styleClass","locale","pt"],["pTemplate","dropdownicon"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[3,"onLazyLoad","items","columns","scrollHeight","itemSize","step","delay","inline","autoSize","lazy","loaderDisabled","showSpacer","showLoader","options","pt"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","table",3,"pBind"],["role","rowgroup",3,"ngStyle","pBind"],["role","rowgroup",3,"class","pBind","value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],["role","rowgroup",3,"pBind","value","pTableBody","pTableBodyTemplate","scrollerOptions"],["role","rowgroup",3,"style","class","pBind",4,"ngIf"],["role","rowgroup",3,"ngClass","ngStyle","pBind",4,"ngIf"],["role","rowgroup",3,"pBind","value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],["role","rowgroup",3,"pBind"],["role","rowgroup",3,"ngClass","ngStyle","pBind"],[3,"ngClass","pBind"],["data-p-icon","arrow-down",3,"pBind",4,"ngIf"],["data-p-icon","arrow-down",3,"pBind"],["data-p-icon","arrow-up",3,"pBind",4,"ngIf"],["data-p-icon","arrow-up",3,"pBind"]],template:function(t,o){t&1&&(E(0,owe,3,5,"div",10)(1,swe,2,4,"div",10)(2,Cwe,6,25,"p-paginator",11),_(3,"div",12,0),E(5,Ewe,4,18,"p-scroller",13)(6,Twe,2,7,"ng-container",14)(7,Nwe,10,30,"ng-template",null,1,ie),b(),E(9,Qwe,6,25,"p-paginator",11)(10,Xwe,2,3,"div",15)(11,Zwe,2,4,"div",16)(12,nCe,4,6,"span",16)(13,aCe,4,6,"span",16)),t&2&&(f("ngIf",o.loading&&o.showLoader),p(),f("ngIf",o.captionTemplate||o._captionTemplate),p(),f("ngIf",o.paginator&&(o.paginatorPosition==="top"||o.paginatorPosition=="both")),p(),j(o.cx("tableContainer")),f("ngStyle",o.sx("tableContainer"))("pBind",o.ptm("tableContainer")),p(2),f("ngIf",o.virtualScroll),p(),f("ngIf",!o.virtualScroll),p(3),f("ngIf",o.paginator&&(o.paginatorPosition==="bottom"||o.paginatorPosition=="both")),p(),f("ngIf",o.summaryTemplate||o._summaryTemplate),p(),f("ngIf",o.resizableColumns),p(),f("ngIf",o.reorderableColumns),p(),f("ngIf",o.reorderableColumns))},dependencies:()=>[$t,pt,gt,ft,Ey,_t,Fa,zg,Wg,cl,pe,nSe],encapsulation:2})}return i})(),nSe=(()=>{class i extends Xe{dataTable;tableService;hostName="Table";columns;template;get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dataTable.scrollable&&this.dataTable.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}frozen;frozenRows;scrollerOptions;subscription;_value;onAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dataTable.scrollable&&this.dataTable.rowGroupMode==="subheader"&&this.updateFrozenRowGroupHeaderStickyPosition()}constructor(e,t){super(),this.dataTable=e,this.tableService=t,this.subscription=this.dataTable.tableService.valueSource$.subscribe(()=>{this.dataTable.virtualScroll&&this.cd.detectChanges()})}shouldRenderRowGroupHeader(e,t,o){let r=wi.resolveFieldData(t,this.dataTable?.groupRowsBy||""),s=e[o-(this.dataTable?._first||0)-1];if(s){let a=wi.resolveFieldData(s,this.dataTable?.groupRowsBy||"");return r!==a}else return!0}shouldRenderRowGroupFooter(e,t,o){let r=wi.resolveFieldData(t,this.dataTable?.groupRowsBy||""),s=e[o-(this.dataTable?._first||0)+1];if(s){let a=wi.resolveFieldData(s,this.dataTable?.groupRowsBy||"");return r!==a}else return!0}shouldRenderRowspan(e,t,o){let r=wi.resolveFieldData(t,this.dataTable?.groupRowsBy),s=e[o-1];if(s){let a=wi.resolveFieldData(s,this.dataTable?.groupRowsBy||"");return r!==a}else return!0}calculateRowGroupSize(e,t,o){let r=wi.resolveFieldData(t,this.dataTable?.groupRowsBy),s=r,a=0;for(;r===s;){a++;let l=e[++o];if(l)s=wi.resolveFieldData(l,this.dataTable?.groupRowsBy||"");else break}return a===1?null:a}onDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=st.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=st.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dataTable.rowGroupHeaderStyleObject.top=e+"px"}}getScrollerOption(e,t){return this.dataTable.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.dataTable.paginator?this.dataTable.first+e:e,o=this.getScrollerOption("getItemOptions");return o?o(t).index:t}static \u0275fac=function(t){return new(t||i)(x(go),x(aI))};static \u0275cmp=oe({type:i,selectors:[["","pTableBody",""]],inputs:{columns:[0,"pTableBody","columns"],template:[0,"pTableBodyTemplate","template"],value:"value",frozen:[2,"frozen","frozen",Z],frozenRows:[2,"frozenRows","frozenRows",Z],scrollerOptions:"scrollerOptions"},standalone:!1,features:[re],attrs:lCe,decls:5,vars:5,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&E(0,yCe,2,2,"ng-container",0)(1,RCe,2,2,"ng-container",0)(2,NCe,2,2,"ng-container",0)(3,LCe,2,5,"ng-container",0)(4,BCe,2,5,"ng-container",0),t&2&&(f("ngIf",!o.dataTable.expandedRowTemplate&&!o.dataTable._expandedRowTemplate),p(),f("ngIf",(o.dataTable.expandedRowTemplate||o.dataTable._expandedRowTemplate)&&!(o.frozen&&(o.dataTable.frozenExpandedRowTemplate||o.dataTable._frozenExpandedRowTemplate))),p(),f("ngIf",(o.dataTable.frozenExpandedRowTemplate||o.dataTable._frozenExpandedRowTemplate)&&o.frozen),p(),f("ngIf",o.dataTable.loading),p(),f("ngIf",o.dataTable.isEmpty()&&!o.dataTable.loading))},dependencies:[Mn,pt,gt],encapsulation:2})}return i})();var ul=(()=>{class i extends Xe{dataTable;field;pSortableColumnDisabled;role=this.el.nativeElement?.tagName!=="TH"?"columnheader":null;sorted;sortOrder;subscription;_componentStyle=z(pl);constructor(e){super(),this.dataTable=e,this.isEnabled()&&(this.subscription=this.dataTable.tableService.sortSource$.subscribe(t=>{this.updateSortState()}))}onInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){let e=!1,t=0;if(this.dataTable.sortMode==="single")e=this.dataTable.isSorted(this.field),t=this.dataTable.sortOrder;else if(this.dataTable.sortMode==="multiple"){let o=this.dataTable.getSortMeta(this.field);e=!!o,t=o?o.order:0}this.sorted=e,this.sortOrder=e?t===1?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dataTable.sort({originalEvent:e,field:this.field}),st.clearSelection())}onEnterKey(e){this.onClick(e),e.preventDefault()}isEnabled(){return this.pSortableColumnDisabled!==!0}isFilterElement(e){return this.isFilterElementIconOrButton(e)||this.isFilterElementIconOrButton(e?.parentElement?.parentElement)}isFilterElementIconOrButton(e){return st.hasClass(e,"pi-filter-icon")||st.hasClass(e,"p-column-filter-menu-button")}onDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(go))};static \u0275dir=ht({type:i,selectors:[["","pSortableColumn",""]],hostVars:5,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onClick(s)})("keydown.space",function(s){return o.onEnterKey(s)})("keydown.enter",function(s){return o.onEnterKey(s)}),t&2&&(Xi("tabIndex",o.isEnabled()?"0":null)("role","columnheader"),ce("aria-sort",o.sortOrder),j(o.cx("sortableColumn")))},inputs:{field:[0,"pSortableColumn","field"],pSortableColumnDisabled:[2,"pSortableColumnDisabled","pSortableColumnDisabled",Z]},standalone:!1,features:[Se([pl]),re]})}return i})(),hl=(()=>{class i extends Xe{dataTable;cd;field;subscription;sortOrder;_componentStyle=z(pl);constructor(e,t){super(),this.dataTable=e,this.cd=t,this.subscription=this.dataTable.tableService.sortSource$.subscribe(o=>{this.updateSortState()})}onInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if(this.dataTable.sortMode==="single")this.sortOrder=this.dataTable.isSorted(this.field)?this.dataTable.sortOrder:0;else if(this.dataTable.sortMode==="multiple"){let e=this.dataTable.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dataTable._multiSortMeta,t=-1;if(e&&this.dataTable.sortMode==="multiple"&&this.dataTable.showInitialSortBadge&&e.length>1)for(let o=0;o<e.length;o++){let r=e[o];if(r.field===this.field||r.field===this.field){t=o;break}}return t}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dataTable?.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return this.dataTable.sortMode==="multiple"&&this.getMultiSortMetaIndex()>-1}onDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(go),x(We))};static \u0275cmp=oe({type:i,selectors:[["p-sortIcon"]],inputs:{field:"field"},standalone:!1,features:[Se([pl]),re],decls:3,vars:3,consts:[[4,"ngIf"],[3,"class",4,"ngIf"],["size","small",3,"class","value",4,"ngIf"],["data-p-icon","sort-alt",3,"class",4,"ngIf"],["data-p-icon","sort-amount-up-alt",3,"class",4,"ngIf"],["data-p-icon","sort-amount-down",3,"class",4,"ngIf"],["data-p-icon","sort-alt"],["data-p-icon","sort-amount-up-alt"],["data-p-icon","sort-amount-down"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["size","small",3,"value"]],template:function(t,o){t&1&&E(0,GCe,4,3,"ng-container",0)(1,WCe,2,6,"span",1)(2,$Ce,1,3,"p-badge",2),t&2&&(f("ngIf",!(o.dataTable.sortIconTemplate||o.dataTable._sortIconTemplate)),p(),f("ngIf",o.dataTable.sortIconTemplate||o.dataTable._sortIconTemplate),p(),f("ngIf",o.isMultiSorted()))},dependencies:()=>[pt,gt,Ic,_y,yy,by],encapsulation:2,changeDetection:0})}return i})(),Gu=(()=>{class i extends Xe{dataTable;tableService;data;index;pSelectableRowDisabled;selected;subscription;_componentStyle=z(pl);constructor(e,t){super(),this.dataTable=e,this.tableService=t,this.isEnabled()&&(this.subscription=this.dataTable.tableService.selectionSource$.subscribe(()=>{this.selected=this.dataTable.isSelected(this.data)}))}setRowTabIndex(){if(this.dataTable.selectionMode==="single"||this.dataTable.selectionMode==="multiple")return this.dataTable.selection?this.dataTable.anchorRowIndex===this.index?0:-1:0}onInit(){this.isEnabled()&&(this.selected=this.dataTable.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dataTable.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dataTable.handleRowTouchEnd(e)}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;default:if(e.code==="KeyA"&&(e.metaKey||e.ctrlKey)&&this.dataTable.selectionMode==="multiple"){let t=this.dataTable.dataToRender(this.dataTable.processedData);this.dataTable.selection=[...t],this.dataTable.selectRange(e,t.length-1,!0),e.preventDefault()}break}}onArrowDownKey(e){if(!this.isEnabled())return;let t=e.currentTarget,o=this.findNextSelectableRow(t);o&&o.focus(),e.preventDefault()}onArrowUpKey(e){if(!this.isEnabled())return;let t=e.currentTarget,o=this.findPrevSelectableRow(t);o&&o.focus(),e.preventDefault()}onEnterKey(e){this.isEnabled()&&this.dataTable.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onEndKey(e){let t=this.findLastSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let o=this.dataTable.dataToRender(this.dataTable.rows),r=st.getAttribute(t,"index");this.dataTable.anchorRowIndex=r,this.dataTable.selection=o.slice(this.index||0,o.length),this.dataTable.selectRange(e,this.index||0)}e.preventDefault()}onHomeKey(e){let t=this.findFirstSelectableRow();if(t&&this.focusRowChange(this.el.nativeElement,t),e.ctrlKey&&e.shiftKey){let o=this.dataTable.dataToRender(this.dataTable.rows),r=st.getAttribute(t,"index");this.dataTable.anchorRowIndex=this.dataTable.anchorRowIndex||r||0,this.dataTable.selection=o.slice(0,(this.index||0)+1),this.dataTable.selectRange(e,this.index||0)}e.preventDefault()}onSpaceKey(e){if(!(e.target instanceof HTMLInputElement||e.target instanceof HTMLSelectElement||e.target instanceof HTMLTextAreaElement)){if(this.onEnterKey(e),e.shiftKey&&this.dataTable.selection!==null){let o=this.dataTable.dataToRender(this.dataTable.rows),r;if(wi.isNotEmpty(this.dataTable.selection)&&this.dataTable.selection.length>0){let s,a;s=wi.findIndexInList(this.dataTable.selection[0],o),a=wi.findIndexInList(this.dataTable.selection[this.dataTable.selection.length-1],o),r=(this.index||0)<=s?a:s}else r=wi.findIndexInList(this.dataTable.selection,o);this.dataTable.anchorRowIndex=r||0,this.dataTable.selection=r!==this.index?o.slice(Math.min(r||0,this.index||0),Math.max(r||0,this.index||0)+1):[this.data],this.dataTable.selectRange(e,this.index||0)}e.preventDefault()}}focusRowChange(e,t){e.tabIndex="-1",t.tabIndex="0",st.focus(t)}findLastSelectableRow(){let e=st.find(this.dataTable.el.nativeElement,".p-datatable-selectable-row");return e?e[e.length-1]:null}findFirstSelectableRow(){return st.findSingle(this.dataTable.el.nativeElement,".p-datatable-selectable-row")}findNextSelectableRow(e){let t=e.nextElementSibling;return t?st.hasClass(t,"p-datatable-selectable-row")?t:this.findNextSelectableRow(t):null}findPrevSelectableRow(e){let t=e.previousElementSibling;return t?st.hasClass(t,"p-datatable-selectable-row")?t:this.findPrevSelectableRow(t):null}isEnabled(){return this.pSelectableRowDisabled!==!0}onDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(go),x(aI))};static \u0275dir=ht({type:i,selectors:[["","pSelectableRow",""]],hostVars:4,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onClick(s)})("touchend",function(s){return o.onTouchEnd(s)})("keydown",function(s){return o.onKeyDown(s)}),t&2&&(Xi("tabIndex",o.setRowTabIndex()),ce("data-p-selectable-row",!0),j(o.cx("selectableRow")))},inputs:{data:[0,"pSelectableRow","data"],index:[0,"pSelectableRowIndex","index"],pSelectableRowDisabled:[2,"pSelectableRowDisabled","pSelectableRowDisabled",Z]},standalone:!1,features:[Se([pl]),re]})}return i})();var Mf=(()=>{class i extends Xe{dataTable;zone;pResizableColumnDisabled;resizer;resizerMouseDownListener;resizerTouchStartListener;resizerTouchMoveListener;resizerTouchEndListener;documentMouseMoveListener;documentMouseUpListener;_componentStyle=z(pl);constructor(e,t){super(),this.dataTable=e,this.zone=t}onAfterViewInit(){At(this.platformId)&&this.isEnabled()&&(st.addClass(this.el.nativeElement,"p-datatable-resizable-column"),this.resizer=this.renderer.createElement("span"),this.renderer.addClass(this.resizer,"p-datatable-column-resizer"),this.renderer.appendChild(this.el.nativeElement,this.resizer),this.zone.runOutsideAngular(()=>{this.resizerMouseDownListener=this.renderer.listen(this.resizer,"mousedown",this.onMouseDown.bind(this)),this.resizerTouchStartListener=this.renderer.listen(this.resizer,"touchstart",this.onTouchStart.bind(this))}))}bindDocumentEvents(){this.zone.runOutsideAngular(()=>{this.documentMouseMoveListener=this.renderer.listen(this.document,"mousemove",this.onDocumentMouseMove.bind(this)),this.documentMouseUpListener=this.renderer.listen(this.document,"mouseup",this.onDocumentMouseUp.bind(this)),this.resizerTouchMoveListener=this.renderer.listen(this.resizer,"touchmove",this.onTouchMove.bind(this)),this.resizerTouchEndListener=this.renderer.listen(this.resizer,"touchend",this.onTouchEnd.bind(this))})}unbindDocumentEvents(){this.documentMouseMoveListener&&(this.documentMouseMoveListener(),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(this.documentMouseUpListener(),this.documentMouseUpListener=null),this.resizerTouchMoveListener&&(this.resizerTouchMoveListener(),this.resizerTouchMoveListener=null),this.resizerTouchEndListener&&(this.resizerTouchEndListener(),this.resizerTouchEndListener=null)}onMouseDown(e){this.dataTable.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchStart(e){this.dataTable.onColumnResizeBegin(e),this.bindDocumentEvents()}onTouchMove(e){this.dataTable.onColumnResize(e)}onDocumentMouseMove(e){this.dataTable.onColumnResize(e)}onDocumentMouseUp(e){this.dataTable.onColumnResizeEnd(),this.unbindDocumentEvents()}onTouchEnd(e){this.dataTable.onColumnResizeEnd(),this.unbindDocumentEvents()}isEnabled(){return this.pResizableColumnDisabled!==!0}onDestroy(){this.resizerMouseDownListener&&(this.resizerMouseDownListener(),this.resizerMouseDownListener=null),this.unbindDocumentEvents()}static \u0275fac=function(t){return new(t||i)(x(go),x(Ft))};static \u0275dir=ht({type:i,selectors:[["","pResizableColumn",""]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("resizableColumn"))},inputs:{pResizableColumnDisabled:[2,"pResizableColumnDisabled","pResizableColumnDisabled",Z]},standalone:!1,features:[Se([pl]),re]})}return i})();var Bf=(()=>{class i extends Xe{dataTable;zone;data;field;rowIndex;pEditableColumnDisabled;pFocusCellSelector;overlayEventListener;constructor(e,t){super(),this.dataTable=e,this.zone=t}onChanges(e){this.el.nativeElement&&!e.data?.firstChange&&this.dataTable.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex)}onAfterViewInit(){this.isEnabled()&&st.addClass(this.el.nativeElement,"p-editable-column")}onClick(e){if(this.isEnabled())if(this.dataTable.selfClick=!0,this.dataTable.editingCell){if(this.dataTable.editingCell!==this.el.nativeElement){if(!this.dataTable.isEditingCellValid())return;this.closeEditingCell(!0,e),this.openCell()}}else this.openCell()}openCell(){this.dataTable.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),st.addClass(this.el.nativeElement,"p-cell-editing"),this.dataTable.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let e=this.pFocusCellSelector||"input, textarea, select",t=st.findSingle(this.el.nativeElement,e);t&&t.focus()},50)}),this.overlayEventListener=e=>{this.el&&this.el.nativeElement.contains(e.target)&&(this.dataTable.selfClick=!0)},this.dataTable.overlaySubscription=this.dataTable.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(e,t){let o={field:this.dataTable.editingCellField,data:this.dataTable.editingCellData,originalEvent:t,index:this.dataTable.editingCellRowIndex};e?this.dataTable.onEditComplete.emit(o):(this.dataTable.onEditCancel.emit(o),this.dataTable.value.forEach(r=>{r[this.dataTable.editingCellField]===this.data&&(r[this.dataTable.editingCellField]=this.dataTable.editingCellData)})),st.removeClass(this.dataTable.editingCell,"p-cell-editing"),this.dataTable.editingCell=null,this.dataTable.editingCellData=null,this.dataTable.editingCellField=null,this.dataTable.unbindDocumentEditListener(),this.dataTable.overlaySubscription&&this.dataTable.overlaySubscription.unsubscribe()}onEnterKeyDown(e){this.isEnabled()&&!e.shiftKey&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onTabKeyDown(e){this.isEnabled()&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onEscapeKeyDown(e){this.isEnabled()&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!1,e),e.preventDefault())}onShiftKeyDown(e){this.isEnabled()&&(e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e))}onArrowDown(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let o=st.index(t),r=this.findNextEditableColumnByIndex(t,o);r&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),st.invokeElementMethod(e.target,"blur"),st.invokeElementMethod(r,"click")),e.preventDefault()}}}onArrowUp(e){if(this.isEnabled()){let t=this.findCell(e.target);if(t){let o=st.index(t),r=this.findPrevEditableColumnByIndex(t,o);r&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),st.invokeElementMethod(e.target,"blur"),st.invokeElementMethod(r,"click")),e.preventDefault()}}}onArrowLeft(e){this.isEnabled()&&this.moveToPreviousCell(e)}onArrowRight(e){this.isEnabled()&&this.moveToNextCell(e)}findCell(e){if(e){let t=e;for(;t&&!st.hasClass(t,"p-cell-editing");)t=t.parentElement;return t}else return null}moveToPreviousCell(e){let t=this.findCell(e.target);if(t){let o=this.findPreviousEditableColumn(t);o&&(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),st.invokeElementMethod(e.target,"blur"),st.invokeElementMethod(o,"click"),e.preventDefault())}}moveToNextCell(e){let t=this.findCell(e.target);if(t){let o=this.findNextEditableColumn(t);o?(this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e),st.invokeElementMethod(e.target,"blur"),st.invokeElementMethod(o,"click"),e.preventDefault()):this.dataTable.isEditingCellValid()&&this.closeEditingCell(!0,e)}}findPreviousEditableColumn(e){let t=e.previousElementSibling;if(!t){let o=e.parentElement?.previousElementSibling;o&&(t=o.lastElementChild)}return t?st.hasClass(t,"p-editable-column")?t:this.findPreviousEditableColumn(t):null}findNextEditableColumn(e){let t=e.nextElementSibling;if(!t){let o=e.parentElement?.nextElementSibling;o&&(t=o.firstElementChild)}return t?st.hasClass(t,"p-editable-column")?t:this.findNextEditableColumn(t):null}findNextEditableColumnByIndex(e,t){let o=e.parentElement?.nextElementSibling;if(o){let r=o.children[t];return r&&st.hasClass(r,"p-editable-column")?r:null}else return null}findPrevEditableColumnByIndex(e,t){let o=e.parentElement?.previousElementSibling;if(o){let r=o.children[t];return r&&st.hasClass(r,"p-editable-column")?r:null}else return null}isEnabled(){return this.pEditableColumnDisabled!==!0}onDestroy(){this.dataTable.overlaySubscription&&this.dataTable.overlaySubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(go),x(Ft))};static \u0275dir=ht({type:i,selectors:[["","pEditableColumn",""]],hostBindings:function(t,o){t&1&&A("click",function(s){return o.onClick(s)})("keydown.enter",function(s){return o.onEnterKeyDown(s)})("keydown.tab",function(s){return o.onShiftKeyDown(s)})("keydown.escape",function(s){return o.onEscapeKeyDown(s)})("keydown.shift.tab",function(s){return o.onShiftKeyDown(s)})("keydown.meta.tab",function(s){return o.onShiftKeyDown(s)})("keydown.arrowdown",function(s){return o.onArrowDown(s)})("keydown.arrowup",function(s){return o.onArrowUp(s)})("keydown.arrowleft",function(s){return o.onArrowLeft(s)})("keydown.arrowright",function(s){return o.onArrowRight(s)})},inputs:{data:[0,"pEditableColumn","data"],field:[0,"pEditableColumnField","field"],rowIndex:[0,"pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:[2,"pEditableColumnDisabled","pEditableColumnDisabled",Z],pFocusCellSelector:"pFocusCellSelector"},standalone:!1,features:[re]})}return i})(),oSe=(()=>{class i extends Xe{data;pEditableRowDisabled;isEnabled(){return this.pEditableRowDisabled!==!0}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","pEditableRow",""]],inputs:{data:[0,"pEditableRow","data"],pEditableRowDisabled:[2,"pEditableRowDisabled","pEditableRowDisabled",Z]},standalone:!1,features:[re]})}return i})();var Yg=(()=>{class i extends Xe{dataTable;editableColumn;editableRow;_templates;_inputTemplate;_outputTemplate;inputTemplate;outputTemplate;constructor(e,t,o){super(),this.dataTable=e,this.editableColumn=t,this.editableRow=o}onAfterContentInit(){this._templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;case"output":this.outputTemplate=e.template;break}})}get editing(){return this.dataTable.editingCell&&this.editableColumn&&this.dataTable.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&this.dataTable.editMode==="row"&&this.dataTable.isRowEditing(this.editableRow.data)}static \u0275fac=function(t){return new(t||i)(x(go),x(Bf,8),x(oSe,8))};static \u0275cmp=oe({type:i,selectors:[["p-cellEditor"]],contentQueries:function(t,o,r){if(t&1&&(se(r,KCe,5),se(r,qCe,5),se(r,_t,4)),t&2){let s;W(s=$())&&(o._inputTemplate=s.first),W(s=$())&&(o._outputTemplate=s.first),W(s=$())&&(o._templates=s)}},standalone:!1,features:[re],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&E(0,QCe,2,1,"ng-container",0)(1,XCe,2,1,"ng-container",0),t&2&&(f("ngIf",o.editing),p(),f("ngIf",!o.editing))},dependencies:[pt,gt],encapsulation:2})}return i})();var Xg=(()=>{class i extends Xe{el;hostName="Table";bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("reorderableRowHandle"))}_componentStyle=z(pl);constructor(e){super(),this.el=e}onAfterViewInit(){}static \u0275fac=function(t){return new(t||i)(x(Ei))};static \u0275dir=ht({type:i,selectors:[["","pReorderableRowHandle",""]],hostVars:2,hostBindings:function(t,o){t&2&&j(o.cx("reorderableRowHandle"))},standalone:!1,features:[Se([pl]),nt([pe]),re]})}return i})(),Zg=(()=>{class i extends Xe{dataTable;zone;hostName="Table";bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("reorderableRow"))}index;pReorderableRowDisabled;mouseDownListener;dragStartListener;dragEndListener;dragOverListener;dragLeaveListener;dropListener;constructor(e,t){super(),this.dataTable=e,this.zone=t}onAfterViewInit(){this.isEnabled()&&(this.el.nativeElement.droppable=!0,this.bindEvents())}bindEvents(){this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this)),this.dragStartListener=this.renderer.listen(this.el.nativeElement,"dragstart",this.onDragStart.bind(this)),this.dragEndListener=this.renderer.listen(this.el.nativeElement,"dragend",this.onDragEnd.bind(this)),this.dragOverListener=this.renderer.listen(this.el.nativeElement,"dragover",this.onDragOver.bind(this)),this.dragLeaveListener=this.renderer.listen(this.el.nativeElement,"dragleave",this.onDragLeave.bind(this))})}unbindEvents(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=null),this.dragStartListener&&(this.dragStartListener(),this.dragStartListener=null),this.dragEndListener&&(this.dragEndListener(),this.dragEndListener=null),this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.dragLeaveListener&&(this.dragLeaveListener(),this.dragLeaveListener=null)}onMouseDown(e){let t=e.target,o=this.isHandleElement(t);this.el.nativeElement.draggable=o}isHandleElement(e){return e?.classList.contains("p-datatable-reorderable-row-handle")?!0:e?.parentElement&&!["TD","TR"].includes(e?.parentElement?.tagName)?this.isHandleElement(e?.parentElement):!1}onDragStart(e){this.dataTable.onRowDragStart(e,this.index)}onDragEnd(e){this.dataTable.onRowDragEnd(e),this.el.nativeElement.draggable=!1}onDragOver(e){this.dataTable.onRowDragOver(e,this.index,this.el.nativeElement),e.preventDefault()}onDragLeave(e){this.dataTable.onRowDragLeave(e,this.el.nativeElement)}isEnabled(){return this.pReorderableRowDisabled!==!0}onDrop(e){this.isEnabled()&&this.dataTable.rowDragging&&this.dataTable.onRowDrop(e,this.el.nativeElement),e.preventDefault()}onDestroy(){this.unbindEvents()}static \u0275fac=function(t){return new(t||i)(x(go),x(Ft))};static \u0275dir=ht({type:i,selectors:[["","pReorderableRow",""]],hostBindings:function(t,o){t&1&&A("drop",function(s){return o.onDrop(s)})},inputs:{index:[0,"pReorderableRow","index"],pReorderableRowDisabled:[2,"pReorderableRowDisabled","pReorderableRowDisabled",Z]},standalone:!1,features:[nt([pe]),re]})}return i})();var sk=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({providers:[pl],imports:[Qe,oI,vy,Iy,rs,Lf,Ty,xG,gG,Bl,wy,tk,zg,Wg,cl,_y,yy,by,z8,OG,W8,ku,K8,xy,Pt,Oe,tk]})}return i})();var HG=`
    .p-blockui {
        position: relative;
    }

    .p-blockui-mask {
        border-radius: dt('blockui.border.radius');
    }

    .p-blockui-mask.p-overlay-mask {
        position: absolute;
    }

    .p-blockui-mask-document.p-overlay-mask {
        position: fixed;
    }
`;var rSe=["content"],sSe=["*"];function aSe(i,n){i&1&&ve(0)}var lSe={root:({instance:i})=>["p-blockui p-blockui-mask p-overlay-mask",{"p-blockui-mask-document":!i.target}]},zG=(()=>{class i extends Ye{name="blockui";style=HG;classes=lSe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var WG=new he("BLOCKUI_INSTANCE"),cSe=(()=>{class i extends Xe{$pcBlockUI=z(WG,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}target;autoZIndex=!0;baseZIndex=0;styleClass;get blocked(){return this._blocked}set blocked(e){this.el&&this.el.nativeElement?e?this.block():this.unblock():this._blocked=e}contentTemplate;_blocked=!1;animationEndListener;_componentStyle=z(zG);constructor(){super()}onAfterViewInit(){if(this._blocked&&this.block(),this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}_contentTemplate;templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}block(){At(this.platformId)&&(this._blocked=!0,this.el.nativeElement.style.display="flex",this.target?(this.target.getBlockableElement().appendChild(this.el.nativeElement),this.target.getBlockableElement().style.position="relative"):(this.renderer.appendChild(this.document.body,this.el.nativeElement),B1()),this.autoZIndex&&Bi.set("modal",this.el.nativeElement,this.baseZIndex+this.config.zIndex.modal))}unblock(){At(this.platformId)&&this.el&&!this.animationEndListener&&this.destroyModal()}destroyModal(){this._blocked=!1,this.el&&At(this.platformId)&&(Bi.clear(this.el.nativeElement),this.renderer.removeChild(this.el.nativeElement,this.el.nativeElement),V1()),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.el&&(this.animationEndListener(),this.animationEndListener=null)}onDestroy(){this.unblock(),this.destroyModal()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["p-blockUI"],["p-blockui"],["p-block-ui"]],contentQueries:function(t,o,r){if(t&1&&(se(r,rSe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:3,hostBindings:function(t,o){t&2&&(ce("aria-busy",o.blocked),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{target:"target",autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],styleClass:"styleClass",blocked:[2,"blocked","blocked",Z]},features:[Se([zG,{provide:WG,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:sSe,decls:2,vars:1,consts:[[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(ci(),Ht(0),E(1,aSe,1,0,"ng-container",0)),t&2&&(p(),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate))},dependencies:[Qe,gt,Oe],encapsulation:2,changeDetection:0})}return i})(),ak=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[cSe,Oe,Oe]})}return i})();var Wi="primary",Uy=Symbol("RouteTitle"),uk=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function jf(i){return new uk(i)}function ZG(i,n,e){let t=e.path.split("/");if(t.length>i.length||e.pathMatch==="full"&&(n.hasChildren()||t.length<i.length))return null;let o={};for(let r=0;r<t.length;r++){let s=t[r],a=i[r];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:o}}function dSe(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!yd(i[e],n[e]))return!1;return!0}function yd(i,n){let e=i?hk(i):void 0,t=n?hk(n):void 0;if(!e||!t||e.length!=t.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!e7(i[o],n[o]))return!1;return!0}function hk(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function e7(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;let e=[...i].sort(),t=[...n].sort();return e.every((o,r)=>t[r]===o)}else return i===n}function t7(i){return i.length>0?i[i.length-1]:null}function Ip(i){return nc(i)?i:Eu(i)?Rn(Promise.resolve(i)):Dt(i)}var pSe={exact:n7,subset:o7},i7={exact:uSe,subset:hSe,ignored:()=>!0};function $G(i,n,e){return pSe[e.paths](i.root,n.root,e.matrixParams)&&i7[e.queryParams](i.queryParams,n.queryParams)&&!(e.fragment==="exact"&&i.fragment!==n.fragment)}function uSe(i,n){return yd(i,n)}function n7(i,n,e){if(!Vf(i.segments,n.segments)||!pI(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(let t in n.children)if(!i.children[t]||!n7(i.children[t],n.children[t],e))return!1;return!0}function hSe(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>e7(i[e],n[e]))}function o7(i,n,e){return r7(i,n,n.segments,e)}function r7(i,n,e,t){if(i.segments.length>e.length){let o=i.segments.slice(0,e.length);return!(!Vf(o,e)||n.hasChildren()||!pI(o,e,t))}else if(i.segments.length===e.length){if(!Vf(i.segments,e)||!pI(i.segments,e,t))return!1;for(let o in n.children)if(!i.children[o]||!o7(i.children[o],n.children[o],t))return!1;return!0}else{let o=e.slice(0,i.segments.length),r=e.slice(i.segments.length);return!Vf(i.segments,o)||!pI(i.segments,o,t)||!i.children[Wi]?!1:r7(i.children[Wi],n,r,t)}}function pI(i,n,e){return n.every((t,o)=>i7[e](i[o].parameters,t.parameters))}var wd=class{root;queryParams;fragment;_queryParamMap;constructor(n=new jn([],{}),e={},t=null){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){return gSe.serialize(this)}},jn=class{segments;children;parent=null;constructor(n,e){this.segments=n,this.children=e,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uI(this)}},Hu=class{path;parameters;_parameterMap;constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=jf(this.parameters),this._parameterMap}toString(){return a7(this)}};function fSe(i,n){return Vf(i,n)&&i.every((e,t)=>yd(e.parameters,n[t].parameters))}function Vf(i,n){return i.length!==n.length?!1:i.every((e,t)=>e.path===n[t].path)}function mSe(i,n){let e=[];return Object.entries(i.children).forEach(([t,o])=>{t===Wi&&(e=e.concat(n(o,t)))}),Object.entries(i.children).forEach(([t,o])=>{t!==Wi&&(e=e.concat(n(o,t)))}),e}var Gf=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>new zu,providedIn:"root"})}return i})(),zu=class{parse(n){let e=new mk(n);return new wd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Oy(n.root,!0)}`,t=ySe(n.queryParams),o=typeof n.fragment=="string"?`#${_Se(n.fragment)}`:"";return`${e}${t}${o}`}},gSe=new zu;function uI(i){return i.segments.map(n=>a7(n)).join("/")}function Oy(i,n){if(!i.hasChildren())return uI(i);if(n){let e=i.children[Wi]?Oy(i.children[Wi],!1):"",t=[];return Object.entries(i.children).forEach(([o,r])=>{o!==Wi&&t.push(`${o}:${Oy(r,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}else{let e=mSe(i,(t,o)=>o===Wi?[Oy(i.children[Wi],!1)]:[`${o}:${Oy(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[Wi]!=null?`${uI(i)}/${e[0]}`:`${uI(i)}/(${e.join("//")})`}}function s7(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cI(i){return s7(i).replace(/%3B/gi,";")}function _Se(i){return encodeURI(i)}function fk(i){return s7(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hI(i){return decodeURIComponent(i)}function KG(i){return hI(i.replace(/\+/g,"%20"))}function a7(i){return`${fk(i.path)}${bSe(i.parameters)}`}function bSe(i){return Object.entries(i).map(([n,e])=>`;${fk(n)}=${fk(e)}`).join("")}function ySe(i){let n=Object.entries(i).map(([e,t])=>Array.isArray(t)?t.map(o=>`${cI(e)}=${cI(o)}`).join("&"):`${cI(e)}=${cI(t)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var vSe=/^[^\/()?;#]+/;function lk(i){let n=i.match(vSe);return n?n[0]:""}var wSe=/^[^\/()?;=#]+/;function CSe(i){let n=i.match(wSe);return n?n[0]:""}var SSe=/^[^=?&#]+/;function ISe(i){let n=i.match(SSe);return n?n[0]:""}var ESe=/^[^&#]+/;function xSe(i){let n=i.match(ESe);return n?n[0]:""}var mk=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Wi]=new jn(n,e)),t}parseSegment(){let n=lk(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new ot(4009,!1);return this.capture(n),new Hu(hI(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=CSe(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let o=lk(this.remaining);o&&(t=o,this.capture(t))}n[hI(e)]=hI(t)}parseQueryParam(n){let e=ISe(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){let s=xSe(this.remaining);s&&(t=s,this.capture(t))}let o=KG(e),r=KG(t);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(r)}else n[o]=r}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=lk(this.remaining),o=this.remaining[t.length];if(o!=="/"&&o!==")"&&o!==";")throw new ot(4010,!1);let r;t.indexOf(":")>-1?(r=t.slice(0,t.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=Wi);let s=this.parseChildren();e[r??Wi]=Object.keys(s).length===1&&s[Wi]?s[Wi]:new jn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new ot(4011,!1)}};function l7(i){return i.segments.length>0?new jn([],{[Wi]:i}):i}function c7(i){let n={};for(let[t,o]of Object.entries(i.children)){let r=c7(o);if(t===Wi&&r.segments.length===0&&r.hasChildren())for(let[s,a]of Object.entries(r.children))n[s]=a;else(r.segments.length>0||r.hasChildren())&&(n[t]=r)}let e=new jn(i.segments,n);return TSe(e)}function TSe(i){if(i.numberOfChildren===1&&i.children[Wi]){let n=i.children[Wi];return new jn(i.segments.concat(n.segments),n.children)}return i}function Wu(i){return i instanceof wd}function d7(i,n,e=null,t=null){let o=p7(i);return u7(o,n,e,t)}function p7(i){let n;function e(r){let s={};for(let l of r.children){let c=e(l);s[l.outlet]=c}let a=new jn(r.url,s);return r===i&&(n=a),a}let t=e(i.root),o=l7(t);return n??o}function u7(i,n,e,t){let o=i;for(;o.parent;)o=o.parent;if(n.length===0)return ck(o,o,o,e,t);let r=OSe(n);if(r.toRoot())return ck(o,o,new jn([],{}),e,t);let s=RSe(r,o,i),a=s.processChildren?Dy(s.segmentGroup,s.index,r.commands):f7(s.segmentGroup,s.index,r.commands);return ck(o,s.segmentGroup,a,e,t)}function fI(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ay(i){return typeof i=="object"&&i!=null&&i.outlets}function ck(i,n,e,t,o){let r={};t&&Object.entries(t).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;i===n?s=e:s=h7(i,n,e);let a=l7(c7(s));return new wd(a,r,o)}function h7(i,n,e){let t={};return Object.entries(i.children).forEach(([o,r])=>{r===n?t[o]=e:t[o]=h7(r,n,e)}),new jn(i.segments,t)}var mI=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&fI(t[0]))throw new ot(4003,!1);let o=t.find(Ay);if(o&&o!==t7(t))throw new ot(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function OSe(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new mI(!0,0,i);let n=0,e=!1,t=i.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,r]},[]);return new mI(e,n,t)}var i_=class{segmentGroup;processChildren;index;constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}};function RSe(i,n,e){if(i.isAbsolute)return new i_(n,!0,0);if(!e)return new i_(n,!1,NaN);if(e.parent===null)return new i_(e,!0,0);let t=fI(i.commands[0])?0:1,o=e.segments.length-1+t;return DSe(e,o,i.numberOfDoubleDots)}function DSe(i,n,e){let t=i,o=n,r=e;for(;r>o;){if(r-=o,t=t.parent,!t)throw new ot(4005,!1);o=t.segments.length}return new i_(t,!1,o-r)}function PSe(i){return Ay(i[0])?i[0].outlets:{[Wi]:i}}function f7(i,n,e){if(i??=new jn([],{}),i.segments.length===0&&i.hasChildren())return Dy(i,n,e);let t=ASe(i,n,e),o=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let r=new jn(i.segments.slice(0,t.pathIndex),{});return r.children[Wi]=new jn(i.segments.slice(t.pathIndex),i.children),Dy(r,0,o)}else return t.match&&o.length===0?new jn(i.segments,{}):t.match&&!i.hasChildren()?gk(i,n,e):t.match?Dy(i,0,o):gk(i,n,e)}function Dy(i,n,e){if(e.length===0)return new jn(i.segments,{});{let t=PSe(e),o={};if(Object.keys(t).some(r=>r!==Wi)&&i.children[Wi]&&i.numberOfChildren===1&&i.children[Wi].segments.length===0){let r=Dy(i.children[Wi],n,e);return new jn(i.segments,r.children)}return Object.entries(t).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=f7(i.children[r],n,s))}),Object.entries(i.children).forEach(([r,s])=>{t[r]===void 0&&(o[r]=s)}),new jn(i.segments,o)}}function ASe(i,n,e){let t=0,o=n,r={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(t>=e.length)return r;let s=i.segments[o],a=e[t];if(Ay(a))break;let l=`${a}`,c=t<e.length-1?e[t+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!JG(l,c,s))return r;t+=2}else{if(!JG(l,{},s))return r;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}function gk(i,n,e){let t=i.segments.slice(0,n),o=0;for(;o<e.length;){let r=e[o];if(Ay(r)){let l=kSe(r.outlets);return new jn(t,l)}if(o===0&&fI(e[0])){let l=i.segments[n];t.push(new Hu(l.path,qG(e[0]))),o++;continue}let s=Ay(r)?r.outlets[Wi]:`${r}`,a=o<e.length-1?e[o+1]:null;s&&a&&fI(a)?(t.push(new Hu(s,qG(a))),o+=2):(t.push(new Hu(s,{})),o++)}return new jn(t,{})}function kSe(i){let n={};return Object.entries(i).forEach(([e,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(n[e]=gk(new jn([],{}),0,t))}),n}function qG(i){let n={};return Object.entries(i).forEach(([e,t])=>n[e]=`${t}`),n}function JG(i,n,e){return i==e.path&&yd(n,e.parameters)}var n_="imperative",cs=(function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i})(cs||{}),ml=class{id;url;constructor(n,e){this.id=n,this.url=e}},$u=class extends ml{type=cs.NavigationStart;navigationTrigger;restoredState;constructor(n,e,t="imperative",o=null){super(n,e),this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ns=class extends ml{urlAfterRedirects;type=cs.NavigationEnd;constructor(n,e,t){super(n,e),this.urlAfterRedirects=t}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ya=(function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i})(ya||{}),r_=(function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i})(r_||{}),vd=class extends ml{reason;code;type=cs.NavigationCancel;constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Cd=class extends ml{reason;code;type=cs.NavigationSkipped;constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o}},s_=class extends ml{error;target;type=cs.NavigationError;constructor(n,e,t,o){super(n,e),this.error=t,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ky=class extends ml{urlAfterRedirects;state;type=cs.RoutesRecognized;constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gI=class extends ml{urlAfterRedirects;state;type=cs.GuardsCheckStart;constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_I=class extends ml{urlAfterRedirects;state;shouldActivate;type=cs.GuardsCheckEnd;constructor(n,e,t,o,r){super(n,e),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bI=class extends ml{urlAfterRedirects;state;type=cs.ResolveStart;constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yI=class extends ml{urlAfterRedirects;state;type=cs.ResolveEnd;constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vI=class{route;type=cs.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wI=class{route;type=cs.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CI=class{snapshot;type=cs.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SI=class{snapshot;type=cs.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},II=class{snapshot;type=cs.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},EI=class{snapshot;type=cs.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},a_=class{routerEvent;position;anchor;type=cs.Scroll;constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ny=class{},l_=class{url;navigationBehaviorOptions;constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function NSe(i){return!(i instanceof Ny)&&!(i instanceof l_)}function FSe(i,n){return i.providers&&!i._injector&&(i._injector=mg(i.providers,n,`Route: ${i.path}`)),i._injector??n}function xc(i){return i.outlet||Wi}function LSe(i,n){let e=i.filter(t=>xc(t)===n);return e.push(...i.filter(t=>xc(t)!==n)),e}function p_(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var xI=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return p_(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Hf(this.rootInjector)}},Hf=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,t){let o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){let t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new xI(this.rootInjector),this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(t){return new(t||i)(be(er))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),TI=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=_k(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){let e=_k(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=bk(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return bk(n,this._root).map(e=>e.value)}};function _k(i,n){if(i===n.value)return n;for(let e of n.children){let t=_k(i,e);if(t)return t}return null}function bk(i,n){if(i===n.value)return[n];for(let e of n.children){let t=bk(i,e);if(t.length)return t.unshift(n),t}return[]}var fl=class{value;children;constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function t_(i){let n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}var Fy=class extends TI{snapshot;constructor(n,e){super(n),this.snapshot=e,xk(this,n)}toString(){return this.snapshot.toString()}};function m7(i){let n=MSe(i),e=new _n([new Hu("",{})]),t=new _n({}),o=new _n({}),r=new _n({}),s=new _n(""),a=new Tc(e,t,r,s,o,Wi,i,n.root);return a.snapshot=n.root,new Fy(new fl(a,[]),n)}function MSe(i){let n={},e={},t={},r=new Uf([],n,t,"",e,Wi,i,null,{});return new Ly("",new fl(r,[]))}var Tc=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,e,t,o,r,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(c=>c[Uy]))??Dt(void 0),this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(n=>jf(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(n=>jf(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function OI(i,n,e="emptyOnly"){let t,{routeConfig:o}=i;return n!==null&&(e==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?t={params:ee(ee({},n.params),i.params),data:ee(ee({},n.data),i.data),resolve:ee(ee(ee(ee({},i.data),n.data),o?.data),i._resolvedData)}:t={params:ee({},i.params),data:ee({},i.data),resolve:ee(ee({},i.data),i._resolvedData??{})},o&&_7(o)&&(t.resolve[Uy]=o.title),t}var Uf=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Uy]}constructor(n,e,t,o,r,s,a,l,c){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=jf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=jf(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(t=>t.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},Ly=class extends TI{url;constructor(n,e){super(e),this.url=n,xk(this,e)}toString(){return g7(this._root)}};function xk(i,n){n.value._routerState=i,n.children.forEach(e=>xk(i,e))}function g7(i){let n=i.children.length>0?` { ${i.children.map(g7).join(", ")} } `:"";return`${i.value}${n}`}function dk(i){if(i.snapshot){let n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,yd(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),yd(n.params,e.params)||i.paramsSubject.next(e.params),dSe(n.url,e.url)||i.urlSubject.next(e.url),yd(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function yk(i,n){let e=yd(i.params,n.params)&&fSe(i.url,n.url),t=!i.parent!=!n.parent;return e&&!t&&(!i.parent||yk(i.parent,n.parent))}function _7(i){return typeof i.title=="string"||i.title===null}var b7=new he(""),Tk=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Wi;activateEvents=new te;deactivateEvents=new te;attachEvents=new te;detachEvents=new te;routerOutletData=qe();parentContexts=z(Hf);location=z(Fr);changeDetector=z(We);inputBinder=z(jy,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:t,previousValue:o}=e.name;if(t)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ot(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ot(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ot(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new ot(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vk(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:t}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$n]})}return i})(),vk=class{route;childContexts;parent;outletData;constructor(n,e,t,o){this.route=n,this.childContexts=e,this.parent=t,this.outletData=o}get(n,e){return n===Tc?this.route:n===Hf?this.childContexts:n===b7?this.outletData:this.parent.get(n,e)}},jy=new he(""),Ok=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:t}=e,o=M0([t.queryParams,t.params,t.data]).pipe(Bo(([r,s,a],l)=>(a=ee(ee(ee({},r),s),a),l===0?Dt(a):Promise.resolve(a)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||t.component===null){this.unsubscribeFromRouteData(e);return}let s=gj(t.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Rk=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(t,o){t&1&&N(0,"router-outlet")},dependencies:[Tk],encapsulation:2})}return i})();function Dk(i){let n=i.children&&i.children.map(Dk),e=n?Fe(ee({},i),{children:n}):ee({},i);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Wi&&(e.component=Rk),e}function BSe(i,n,e){let t=My(i,n._root,e?e._root:void 0);return new Fy(t,n)}function My(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){let t=e.value;t._futureSnapshot=n.value;let o=VSe(i,n,e);return new fl(t,o)}else{if(i.shouldAttach(n.value)){let r=i.retrieve(n.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>My(i,a)),s}}let t=USe(n.value),o=n.children.map(r=>My(i,r));return new fl(t,o)}}function VSe(i,n,e){return n.children.map(t=>{for(let o of e.children)if(i.shouldReuseRoute(t.value,o.value.snapshot))return My(i,t,o);return My(i,t)})}function USe(i){return new Tc(new _n(i.url),new _n(i.params),new _n(i.queryParams),new _n(i.fragment),new _n(i.data),i.outlet,i.component,i)}var c_=class{redirectTo;navigationBehaviorOptions;constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},y7="ngNavigationCancelingError";function RI(i,n){let{redirectTo:e,navigationBehaviorOptions:t}=Wu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=v7(!1,ya.Redirect);return o.url=e,o.navigationBehaviorOptions=t,o}function v7(i,n){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[y7]=!0,e.cancellationCode=n,e}function jSe(i){return w7(i)&&Wu(i.url)}function w7(i){return!!i&&i[y7]}var GSe=(i,n,e,t)=>J(o=>(new wk(n,o.targetRouterState,o.currentRouterState,e,t).activate(i),o)),wk=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,e,t,o,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=o,this.inputBindingEnabled=r}activate(n){let e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),dk(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){let o=t_(e);n.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],t),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,t)})}deactivateRoutes(n,e,t){let o=n.value,r=e?e.value:null;if(o===r)if(o.component){let s=t.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=t_(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(t&&t.outlet){let s=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=t_(n);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(n,e,t){let o=t_(e);n.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],t),this.forwardEvent(new EI(r.value.snapshot))}),n.children.length&&this.forwardEvent(new SI(n.value.snapshot))}activateRoutes(n,e,t){let o=n.value,r=e?e.value:null;if(dk(o),o===r)if(o.component){let s=t.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,t);else if(o.component){let s=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dk(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,t)}},DI=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},o_=class{component;route;constructor(n,e){this.component=n,this.route=e}};function HSe(i,n,e){let t=i._root,o=n?n._root:null;return Ry(t,o,e,[t.value])}function zSe(i){let n=i.routeConfig?i.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:i,guards:n}}function u_(i,n){let e=Symbol(),t=n.get(i,e);return t===e?typeof i=="function"&&!UR(i)?i:n.get(i):t}function Ry(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=t_(n);return i.children.forEach(s=>{WSe(s,r[s.value.outlet],e,t.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,a])=>Py(a,e.getContext(s),o)),o}function WSe(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=i.value,s=n?n.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let l=$Se(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new DI(t)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?Ry(i,n,a?a.children:null,t,o):Ry(i,n,e,t,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new o_(a.outlet.component,s))}else s&&Py(n,a,o),o.canActivateChecks.push(new DI(t)),r.component?Ry(i,null,a?a.children:null,t,o):Ry(i,null,e,t,o);return o}function $Se(i,n,e){if(typeof e=="function")return e(i,n);switch(e){case"pathParamsChange":return!Vf(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Vf(i.url,n.url)||!yd(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yk(i,n)||!yd(i.queryParams,n.queryParams);case"paramsChange":default:return!yk(i,n)}}function Py(i,n,e){let t=t_(i),o=i.value;Object.entries(t).forEach(([r,s])=>{o.component?n?Py(s,n.children.getContext(r),e):Py(s,null,e):Py(s,n,e)}),o.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new o_(n.outlet.component,o)):e.canDeactivateChecks.push(new o_(null,o)):e.canDeactivateChecks.push(new o_(null,o))}function Gy(i){return typeof i=="function"}function KSe(i){return typeof i=="boolean"}function qSe(i){return i&&Gy(i.canLoad)}function JSe(i){return i&&Gy(i.canActivate)}function QSe(i){return i&&Gy(i.canActivateChild)}function YSe(i){return i&&Gy(i.canDeactivate)}function XSe(i){return i&&Gy(i.canMatch)}function C7(i){return i instanceof Xa||i?.name==="EmptyError"}var dI=Symbol("INITIAL_VALUE");function d_(){return Bo(i=>M0(i.map(n=>n.pipe(es(1),sf(dI)))).pipe(J(n=>{for(let e of n)if(e!==!0){if(e===dI)return dI;if(e===!1||ZSe(e))return e}return!0}),Zo(n=>n!==dI),es(1)))}function ZSe(i){return Wu(i)||i instanceof c_}function e1e(i,n){return Xn(e=>{let{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?Dt(Fe(ee({},e),{guardsResult:!0})):t1e(s,t,o,i).pipe(Xn(a=>a&&KSe(a)?i1e(t,r,i,n):Dt(a)),J(a=>Fe(ee({},e),{guardsResult:a})))})}function t1e(i,n,e,t){return Rn(i).pipe(Xn(o=>a1e(o.component,o.route,e,n,t)),Qc(o=>o!==!0,!0))}function i1e(i,n,e,t){return Rn(n).pipe(Tl(o=>oc(o1e(o.route.parent,t),n1e(o.route,t),s1e(i,o.path,e),r1e(i,o.route,e))),Qc(o=>o!==!0,!0))}function n1e(i,n){return i!==null&&n&&n(new II(i)),Dt(!0)}function o1e(i,n){return i!==null&&n&&n(new CI(i)),Dt(!0)}function r1e(i,n,e){let t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||t.length===0)return Dt(!0);let o=t.map(r=>uu(()=>{let s=p_(n)??e,a=u_(r,s),l=JSe(a)?a.canActivate(n,i):fs(s,()=>a(n,i));return Ip(l).pipe(Qc())}));return Dt(o).pipe(d_())}function s1e(i,n,e){let t=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(s=>zSe(s)).filter(s=>s!==null).map(s=>uu(()=>{let a=s.guards.map(l=>{let c=p_(s.node)??e,d=u_(l,c),u=QSe(d)?d.canActivateChild(t,i):fs(c,()=>d(t,i));return Ip(u).pipe(Qc())});return Dt(a).pipe(d_())}));return Dt(r).pipe(d_())}function a1e(i,n,e,t,o){let r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!r||r.length===0)return Dt(!0);let s=r.map(a=>{let l=p_(n)??o,c=u_(a,l),d=YSe(c)?c.canDeactivate(i,n,e,t):fs(l,()=>c(i,n,e,t));return Ip(d).pipe(Qc())});return Dt(s).pipe(d_())}function l1e(i,n,e,t){let o=n.canLoad;if(o===void 0||o.length===0)return Dt(!0);let r=o.map(s=>{let a=u_(s,i),l=qSe(a)?a.canLoad(n,e):fs(i,()=>a(n,e));return Ip(l)});return Dt(r).pipe(d_(),S7(t))}function S7(i){return hR(kr(n=>{if(typeof n!="boolean")throw RI(i,n)}),J(n=>n===!0))}function c1e(i,n,e,t){let o=n.canMatch;if(!o||o.length===0)return Dt(!0);let r=o.map(s=>{let a=u_(s,i),l=XSe(a)?a.canMatch(n,e):fs(i,()=>a(n,e));return Ip(l)});return Dt(r).pipe(d_(),S7(t))}var By=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Vy=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function e_(i){return Ya(new By(i))}function d1e(i){return Ya(new ot(4e3,!1))}function p1e(i){return Ya(v7(!1,ya.GuardRejected))}var Ck=class{urlSerializer;urlTree;constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let t=[],o=e.root;for(;;){if(t=t.concat(o.segments),o.numberOfChildren===0)return Dt(t);if(o.numberOfChildren>1||!o.children[Wi])return d1e(`${n.redirectTo}`);o=o.children[Wi]}}applyRedirectCommands(n,e,t,o,r){return u1e(e,o,r).pipe(J(s=>{if(s instanceof wd)throw new Vy(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,t);if(s[0]==="/")throw new Vy(a);return a}))}applyRedirectCreateUrlTree(n,e,t,o){let r=this.createSegmentGroup(n,e.root,t,o);return new wd(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let t={};return Object.entries(n).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);t[o]=e[a]}else t[o]=r}),t}createSegmentGroup(n,e,t,o){let r=this.createSegments(n,e.segments,t,o),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,t,o)}),new jn(r,s)}createSegments(n,e,t,o){return e.map(r=>r.path[0]===":"?this.findPosParam(n,r,o):this.findOrReturn(r,t))}findPosParam(n,e,t){let o=t[e.path.substring(1)];if(!o)throw new ot(4001,!1);return o}findOrReturn(n,e){let t=0;for(let o of e){if(o.path===n.path)return e.splice(t),o;t++}return n}};function u1e(i,n,e){if(typeof i=="string")return Dt(i);let t=i,{queryParams:o,fragment:r,routeConfig:s,url:a,outlet:l,params:c,data:d,title:u}=n;return Ip(fs(e,()=>t({params:c,data:d,queryParams:o,fragment:r,routeConfig:s,url:a,outlet:l,title:u})))}var Sk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h1e(i,n,e,t,o){let r=I7(i,n,e);return r.matched?(t=FSe(n,t),c1e(t,n,e,o).pipe(J(s=>s===!0?r:ee({},Sk)))):Dt(r)}function I7(i,n,e){if(n.path==="**")return f1e(e);if(n.path==="")return n.pathMatch==="full"&&(i.hasChildren()||e.length>0)?ee({},Sk):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(n.matcher||ZG)(e,i,n);if(!o)return ee({},Sk);let r={};Object.entries(o.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let s=o.consumed.length>0?ee(ee({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function f1e(i){return{matched:!0,parameters:i.length>0?t7(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function QG(i,n,e,t){return e.length>0&&_1e(i,e,t)?{segmentGroup:new jn(n,g1e(t,new jn(e,i.children))),slicedSegments:[]}:e.length===0&&b1e(i,e,t)?{segmentGroup:new jn(i.segments,m1e(i,e,t,i.children)),slicedSegments:e}:{segmentGroup:new jn(i.segments,i.children),slicedSegments:e}}function m1e(i,n,e,t){let o={};for(let r of e)if(AI(i,n,r)&&!t[xc(r)]){let s=new jn([],{});o[xc(r)]=s}return ee(ee({},t),o)}function g1e(i,n){let e={};e[Wi]=n;for(let t of i)if(t.path===""&&xc(t)!==Wi){let o=new jn([],{});e[xc(t)]=o}return e}function _1e(i,n,e){return e.some(t=>AI(i,n,t)&&xc(t)!==Wi)}function b1e(i,n,e){return e.some(t=>AI(i,n,t))}function AI(i,n,e){return(i.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function y1e(i,n,e){return n.length===0&&!i.children[e]}var Ik=class{};function v1e(i,n,e,t,o,r,s="emptyOnly"){return new Ek(i,n,e,t,o,s,r).recognize()}var w1e=31,Ek=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,e,t,o,r,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=t,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ck(this.urlSerializer,this.urlTree)}noMatchError(n){return new ot(4002,`'${n.segmentGroup}'`)}recognize(){let n=QG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(J(({children:e,rootSnapshot:t})=>{let o=new fl(t,e),r=new Ly("",o),s=d7(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(n){let e=new Uf([],Object.freeze({}),Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Wi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Wi,e).pipe(J(t=>({children:t,rootSnapshot:e})),X(t=>{if(t instanceof Vy)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof By?this.noMatchError(t):t}))}processSegmentGroup(n,e,t,o,r){return t.segments.length===0&&t.hasChildren()?this.processChildren(n,e,t,r):this.processSegment(n,e,t,t.segments,o,!0,r).pipe(J(s=>s instanceof fl?[s]:[]))}processChildren(n,e,t,o){let r=[];for(let s of Object.keys(t.children))s==="primary"?r.unshift(s):r.push(s);return Rn(r).pipe(Tl(s=>{let a=t.children[s],l=LSe(e,s);return this.processSegmentGroup(n,l,a,s,o)}),U0((s,a)=>(s.push(...a),s)),hu(null),SR(),Xn(s=>{if(s===null)return e_(t);let a=E7(s);return C1e(a),Dt(a)}))}processSegment(n,e,t,o,r,s,a){return Rn(e).pipe(Tl(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,t,o,r,s,a).pipe(X(c=>{if(c instanceof By)return Dt(null);throw c}))),Qc(l=>!!l),X(l=>{if(C7(l))return y1e(t,o,r)?Dt(new Ik):e_(t);throw l}))}processSegmentAgainstRoute(n,e,t,o,r,s,a,l){return xc(t)!==s&&(s===Wi||!AI(o,r,t))?e_(o):t.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,t,r,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,t,r,s,l):e_(o)}expandSegmentAgainstRouteUsingRedirect(n,e,t,o,r,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:m}=I7(e,o,r);if(!l)return e_(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w1e&&(this.allowRedirects=!1));let g=new Uf(r,c,Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,YG(o),xc(o),o.component??o._loadedComponent??null,o,XG(o)),y=OI(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(y.params),g.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,u,g,n).pipe(Bo(S=>this.applyRedirects.lineralizeSegments(o,S)),Xn(S=>this.processSegment(n,t,e,S.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,e,t,o,r,s){let a=h1e(e,t,o,n,this.urlSerializer);return t.path==="**"&&(e.children={}),a.pipe(Bo(l=>l.matched?(n=t._injector??n,this.getChildConfig(n,t,o).pipe(Bo(({routes:c})=>{let d=t._loadedInjector??n,{parameters:u,consumedSegments:m,remainingSegments:g}=l,y=new Uf(m,u,Object.freeze(ee({},this.urlTree.queryParams)),this.urlTree.fragment,YG(t),xc(t),t.component??t._loadedComponent??null,t,XG(t)),v=OI(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let{segmentGroup:S,slicedSegments:I}=QG(e,m,g,c);if(I.length===0&&S.hasChildren())return this.processChildren(d,c,S,y).pipe(J(L=>new fl(y,L)));if(c.length===0&&I.length===0)return Dt(new fl(y,[]));let P=xc(t)===r;return this.processSegment(d,c,S,I,P?Wi:r,!0,y).pipe(J(L=>new fl(y,L instanceof fl?[L]:[])))}))):e_(e)))}getChildConfig(n,e,t){return e.children?Dt({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?Dt({routes:e._loadedRoutes,injector:e._loadedInjector}):l1e(n,e,t,this.urlSerializer).pipe(Xn(o=>o?this.configLoader.loadChildren(n,e).pipe(kr(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):p1e(e))):Dt({routes:[],injector:n})}};function C1e(i){i.sort((n,e)=>n.value.outlet===Wi?-1:e.value.outlet===Wi?1:n.value.outlet.localeCompare(e.value.outlet))}function S1e(i){let n=i.value.routeConfig;return n&&n.path===""}function E7(i){let n=[],e=new Set;for(let t of i){if(!S1e(t)){n.push(t);continue}let o=n.find(r=>t.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...t.children),e.add(o)):n.push(t)}for(let t of e){let o=E7(t.children);n.push(new fl(t.value,o))}return n.filter(t=>!e.has(t))}function YG(i){return i.data||{}}function XG(i){return i.resolve||{}}function I1e(i,n,e,t,o,r){return Xn(s=>v1e(i,n,e,t,s.extractedUrl,o,r).pipe(J(({state:a,tree:l})=>Fe(ee({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function E1e(i,n){return Xn(e=>{let{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return Dt(e);let r=new Set(o.map(l=>l.route)),s=new Set;for(let l of r)if(!s.has(l))for(let c of x7(l))s.add(c);let a=0;return Rn(s).pipe(Tl(l=>r.has(l)?x1e(l,t,i,n):(l.data=OI(l,l.parent,i).resolve,Dt(void 0))),kr(()=>a++),Bm(1),Xn(l=>a===s.size?Dt(e):Ar))})}function x7(i){let n=i.children.map(e=>x7(e)).flat();return[i,...n]}function x1e(i,n,e,t){let o=i.routeConfig,r=i._resolve;return o?.title!==void 0&&!_7(o)&&(r[Uy]=o.title),uu(()=>(i.data=OI(i,i.parent,e).resolve,T1e(r,i,n,t).pipe(J(s=>(i._resolvedData=s,i.data=ee(ee({},i.data),s),null)))))}function T1e(i,n,e,t){let o=hk(i);if(o.length===0)return Dt({});let r={};return Rn(o).pipe(Xn(s=>O1e(i[s],n,e,t).pipe(Qc(),kr(a=>{if(a instanceof c_)throw RI(new zu,a);r[s]=a}))),Bm(1),J(()=>r),X(s=>C7(s)?Ar:Ya(s)))}function O1e(i,n,e,t){let o=p_(n)??t,r=u_(i,o),s=r.resolve?r.resolve(n,e):fs(o,()=>r(n,e));return Ip(s)}function pk(i){return Bo(n=>{let e=i(n);return e?Rn(e).pipe(J(()=>n)):Dt(n)})}var Pk=(()=>{class i{buildTitle(e){let t,o=e.root;for(;o!==void 0;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(r=>r.outlet===Wi);return t}getResolvedTitleForRoute(e){return e.data[Uy]}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(T7),providedIn:"root"})}return i})(),T7=(()=>{class i extends Pk{title;constructor(e){super(),this.title=e}updateTitle(e){let t=this.buildTitle(e);t!==void 0&&this.title.setTitle(t)}static \u0275fac=function(t){return new(t||i)(be(d6))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ku=new he("",{providedIn:"root",factory:()=>({})}),h_=new he(""),kI=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=z(v2);loadComponent(e,t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let o=Ip(fs(e,()=>t.loadComponent())).pipe(J(R7),Bo(D7),kr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),fu(()=>{this.componentLoaders.delete(t)})),r=new km(o,()=>new Le).pipe(Am());return this.componentLoaders.set(t,r),r}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return Dt({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);let r=O7(t,this.compiler,e,this.onLoadEndListener).pipe(fu(()=>{this.childrenLoaders.delete(t)})),s=new km(r,()=>new Le).pipe(Am());return this.childrenLoaders.set(t,s),s}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function O7(i,n,e,t){return Ip(fs(e,()=>i.loadChildren())).pipe(J(R7),Bo(D7),Xn(o=>o instanceof VS||Array.isArray(o)?Dt(o):Rn(n.compileModuleAsync(o))),J(o=>{t&&t(i);let r,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(r=o.create(e).injector,s=r.get(h_,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dk),injector:r}}))}function R1e(i){return i&&typeof i=="object"&&"default"in i}function R7(i){return R1e(i)?i.default:i}function D7(i){return Dt(i)}var NI=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(D1e),providedIn:"root"})}return i})(),D1e=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ak=new he(""),kk=new he("");function P7(i,n,e){let t=i.get(kk),o=i.get(Ci);if(!o.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,s=new Promise(c=>{r=c}),a=o.startViewTransition(()=>(r(),P1e(i)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=t;return l&&fs(i,()=>l({transition:a,from:n,to:e})),s}function P1e(i){return new Promise(n=>{Iu({read:()=>setTimeout(n)},{injector:i})})}var Nk=new he(""),FI=(()=>{class i{currentNavigation=lt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortWithErrorSubject=new Le;configLoader=z(kI);environmentInjector=z(er);destroyRef=z(ms);urlSerializer=z(Gf);rootContexts=z(Hf);location=z(ad);inputBindingEnabled=z(jy,{optional:!0})!==null;titleStrategy=z(Pk);options=z(Ku,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=z(NI);createViewTransition=z(Ak,{optional:!0});navigationErrorHandler=z(Nk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Dt(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new vI(o)),t=o=>this.events.next(new wI(o));this.configLoader.onLoadEndListener=t,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let t=++this.navigationId;Uo(()=>{this.transitions?.next(Fe(ee({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:t}))})}setupNavigations(e){return this.transitions=new _n(null),this.transitions.pipe(Zo(t=>t!==null),Bo(t=>{let o=!1;return Dt(t).pipe(Bo(r=>{if(this.navigationId>t.id)return this.cancelNavigationTransition(t,"",ya.SupersededByNewNavigation),Ar;this.currentTransition=t,this.currentNavigation.set({id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(ee({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>r.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=r.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Cd(r.id,this.urlSerializer.serialize(r.rawUrl),"",r_.IgnoredSameUrlNavigation)),r.resolve(!1),Ar;if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return Dt(r).pipe(Bo(l=>(this.events.next(new $u(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ar:Promise.resolve(l))),I1e(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),kr(l=>{t.targetSnapshot=l.targetSnapshot,t.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));let c=new ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:u,extras:m}=r,g=new $u(l,this.urlSerializer.serialize(c),d,u);this.events.next(g);let y=m7(this.rootComponentType).snapshot;return this.currentTransition=t=Fe(ee({},r),{targetSnapshot:y,urlAfterRedirects:c,extras:Fe(ee({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(v=>(v.finalUrl=c,v)),Dt(t)}else return this.events.next(new Cd(r.id,this.urlSerializer.serialize(r.extractedUrl),"",r_.IgnoredByUrlHandlingStrategy)),r.resolve(!1),Ar}),kr(r=>{let s=new gI(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(s)}),J(r=>(this.currentTransition=t=Fe(ee({},r),{guards:HSe(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),t)),e1e(this.environmentInjector,r=>this.events.next(r)),kr(r=>{if(t.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw RI(this.urlSerializer,r.guardsResult);let s=new _I(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(s)}),Zo(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",ya.GuardRejected),!1)),pk(r=>{if(r.guards.canActivateChecks.length!==0)return Dt(r).pipe(kr(s=>{let a=new bI(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Bo(s=>{let a=!1;return Dt(s).pipe(E1e(this.paramsInheritanceStrategy,this.environmentInjector),kr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ya.NoDataFromResolver)}}))}),kr(s=>{let a=new yI(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),pk(r=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let c=p_(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(kr(d=>{a.component=d}),J(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return M0(s(r.targetSnapshot.root)).pipe(hu(null),es(1))}),pk(()=>this.afterPreactivation()),Bo(()=>{let{currentSnapshot:r,targetSnapshot:s}=t,a=this.createViewTransition?.(this.environmentInjector,r.root,s.root);return a?Rn(a).pipe(J(()=>t)):Dt(t)}),J(r=>{let s=BSe(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=t=Fe(ee({},r),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),t}),kr(()=>{this.events.next(new Ny)}),GSe(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),es(1),Ta(new pi(r=>{let s=t.abortController.signal,a=()=>r.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Zo(()=>!o&&!t.targetRouterState),kr(()=>{this.cancelNavigationTransition(t,t.abortController.signal.reason+"",ya.Aborted)}))),kr({next:r=>{o=!0,this.lastSuccessfulNavigation=Uo(this.currentNavigation),this.events.next(new Ns(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{o=!0}}),Ta(this.transitionAbortWithErrorSubject.pipe(kr(r=>{throw r}))),fu(()=>{o||this.cancelNavigationTransition(t,"",ya.SupersededByNewNavigation),this.currentTransition?.id===t.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),X(r=>{if(this.destroyed)return t.resolve(!1),Ar;if(o=!0,w7(r))this.events.next(new vd(t.id,this.urlSerializer.serialize(t.extractedUrl),r.message,r.cancellationCode)),jSe(r)?this.events.next(new l_(r.url,r.navigationBehaviorOptions)):t.resolve(!1);else{let s=new s_(t.id,this.urlSerializer.serialize(t.extractedUrl),r,t.targetSnapshot??void 0);try{let a=fs(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof c_){let{message:l,cancellationCode:c}=RI(this.urlSerializer,a);this.events.next(new vd(t.id,this.urlSerializer.serialize(t.extractedUrl),l,c)),this.events.next(new l_(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),r}catch(a){this.options.resolveNavigationPromiseOnError?t.resolve(!1):t.reject(a)}}return Ar}))}))}cancelNavigationTransition(e,t,o){let r=new vd(e.id,this.urlSerializer.serialize(e.extractedUrl),t,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),t=Uo(this.currentNavigation),o=t?.targetBrowserUrl??t?.extractedUrl;return e.toString()!==o?.toString()&&!t?.extras.skipLocationChange}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function A1e(i){return i!==n_}var A7=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(k1e),providedIn:"root"})}return i})(),PI=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},k1e=(()=>{class i extends PI{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),k7=(()=>{class i{urlSerializer=z(Gf);options=z(Ku,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=z(ad);urlHandlingStrategy=z(NI);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wd;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:t,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,t):t,s=o??r;return s instanceof wd?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:t,initialUrl:o}){t&&e?(this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(t,o),this.routerState=e):this.rawUrlTree=o}routerState=m7(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:()=>z(N1e),providedIn:"root"})}return i})(),N1e=(()=>{class i extends k7{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{t.type==="popstate"&&setTimeout(()=>{e(t.url,t.state,"popstate")})})}handleRouterEvent(e,t){e instanceof $u?this.updateStateMemento():e instanceof Cd?this.commitTransition(t):e instanceof ky?this.urlUpdateStrategy==="eager"&&(t.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof Ny?(this.commitTransition(t),this.urlUpdateStrategy==="deferred"&&!t.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(t),t)):e instanceof vd&&e.code!==ya.SupersededByNewNavigation&&e.code!==ya.Redirect?this.restoreHistory(t):e instanceof s_?this.restoreHistory(t,!0):e instanceof Ns&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:t,id:o}){let{replaceUrl:r,state:s}=t;if(this.location.isCurrentPathEqualTo(e)||r){let a=this.browserPageId,l=ee(ee({},s),this.generateNgRouterState(o,a));this.location.replaceState(e,"",l)}else{let a=ee(ee({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",a)}}restoreHistory(e,t=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(t&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function LI(i,n){i.events.pipe(Zo(e=>e instanceof Ns||e instanceof vd||e instanceof s_||e instanceof Cd),J(e=>e instanceof Ns||e instanceof Cd?0:(e instanceof vd?e.code===ya.Redirect||e.code===ya.SupersededByNewNavigation:!1)?2:1),Zo(e=>e!==2),es(1)).subscribe(()=>{n()})}var F1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},at=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=z(US);stateManager=z(k7);options=z(Ku,{optional:!0})||{};pendingTasks=z(od);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=z(FI);urlSerializer=z(Gf);location=z(ad);urlHandlingStrategy=z(NI);injector=z(er);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=z(A7);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=z(h_,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!z(jy,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new On;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(t=>{try{let o=this.navigationTransitions.currentTransition,r=Uo(this.navigationTransitions.currentNavigation);if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(t,r),t instanceof vd&&t.code!==ya.Redirect&&t.code!==ya.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof Ns)this.navigated=!0;else if(t instanceof l_){let s=t.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(t.url,o.currentRawUrl),l=ee({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||A1e(o.source)},s);this.scheduleNavigation(a,n_,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}NSe(t)&&this._events.next(t)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),n_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t,o)=>{this.navigateToSyncWithBrowser(e,o,t)})}navigateToSyncWithBrowser(e,t,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=ee({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,t,s,r).catch(l=>{this.disposed||this.injector.get(Ra)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Uo(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Dk),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:a,preserveFragment:l}=t,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=ee(ee({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let m=o?o.snapshot:this.routerState.snapshot.root;u=p7(m)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),u=this.currentUrlTree.root}return u7(u,e,d,c??null)}navigateByUrl(e,t={skipLocationChange:!1}){let o=Wu(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,n_,null,t)}navigate(e,t={skipLocationChange:!1}){return M1e(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Ol(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,t){let o;if(t===!0?o=ee({},F1e):t===!1?o=ee({},L1e):o=t,Wu(e))return $G(this.currentUrlTree,e,o);let r=this.parseUrl(e);return $G(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((t,[o,r])=>(r!=null&&(t[o]=r),t),{})}scheduleNavigation(e,t,o,r,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,m)=>{a=u,l=m});let d=this.pendingTasks.add();return LI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function M1e(i){for(let n=0;n<i.length;n++)if(i[n]==null)throw new ot(4008,!1)}var Vl=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=lt(null);get href(){return Uo(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Le;applicationErrorHandler=z(Ra);options=z(Ku,{optional:!0});constructor(e,t,o,r,s,a){this.router=e,this.route=t,this.tabIndexAttribute=o,this.renderer=r,this.el=s,this.locationStrategy=a,this.reactiveHref.set(z(new $S("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,t=o=>o==="merge"||o==="preserve";e||=t(this.queryParamsHandling),e||=!this.queryParamsHandling&&!t(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Ns&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Wu(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,t,o,r,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||t||o||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,t){let o=this.renderer,r=this.el.nativeElement;t!==null?o.setAttribute(r,e,t):o.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Wu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(t){return new(t||i)(x(at),x(Tc),mb("tabindex"),x(Wo),x(Ei),x(fc))};static \u0275dir=ht({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),t&2&&ce("href",o.reactiveHref(),LP)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Z],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Z],replaceUrl:[2,"replaceUrl","replaceUrl",Z],routerLink:"routerLink"},features:[$n]})}return i})(),zy=(()=>{class i{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new te;constructor(e,t,o,r,s){this.router=e,this.element=t,this.renderer=o,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Ns&&this.update()})}ngAfterContentInit(){Dt(this.links.changes,Dt(null)).pipe(qc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Rn(e).pipe(qc()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){let t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let t=B1e(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let r=o.urlTree;return r?e.isActive(r,t):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(t){return new(t||i)(x(at),x(Ei),x(Wo),x(We),x(Vl,8))};static \u0275dir=ht({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,o,r){if(t&1&&se(r,Vl,5),t&2){let s;W(s=$())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[$n]})}return i})();function B1e(i){return!!i.paths}var Hy=class{};var N7=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,t,o,r){this.router=e,this.injector=t,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(Zo(e=>e instanceof Ns),Tl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){let o=[];for(let r of t){r.providers&&!r._injector&&(r._injector=mg(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,a=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Rn(o).pipe(qc())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let o;t.loadChildren&&t.canLoad===void 0?o=this.loader.loadChildren(e,t):o=Dt(null);let r=o.pipe(Xn(s=>s===null?Dt(void 0):(t._loadedRoutes=s.routes,t._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(t.loadComponent&&!t._loadedComponent){let s=this.loader.loadComponent(e,t);return Rn([r,s]).pipe(qc())}else return r})}static \u0275fac=function(t){return new(t||i)(be(at),be(er),be(Hy),be(kI))};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),F7=new he(""),V1e=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=n_;restoredId=0;store={};constructor(e,t,o,r,s={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=o,this.zone=r,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof $u?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ns?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Cd&&e.code===r_.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof a_))return;let t={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],t):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,t):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>V(this,null,function*(){yield new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new a_(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,t))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(t){t2()};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function U1e(i){return i.routerState.root}function Wy(i,n){return{\u0275kind:i,\u0275providers:n}}function j1e(){let i=z(hn);return n=>{let e=i.get(Xs);if(n!==e.components[0])return;let t=i.get(at),o=i.get(L7);i.get(Lk)===1&&t.initialNavigation(),i.get(V7,null,{optional:!0})?.setUpPreloading(),i.get(F7,null,{optional:!0})?.init(),t.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var L7=new he("",{factory:()=>new Le}),Lk=new he("",{providedIn:"root",factory:()=>1});function M7(){let i=[{provide:IS,useValue:!0},{provide:Lk,useValue:0},Eb(()=>{let n=z(hn);return n.get(L2,Promise.resolve()).then(()=>new Promise(t=>{let o=n.get(at),r=n.get(L7);LI(o,()=>{t(!0)}),n.get(FI).afterPreactivation=()=>(t(!0),r.closed?Dt(void 0):r),o.initialNavigation()}))})];return Wy(2,i)}function B7(){let i=[Eb(()=>{z(at).setUpLocationChangeListener()}),{provide:Lk,useValue:2}];return Wy(3,i)}var V7=new he("");function U7(i){return Wy(0,[{provide:V7,useExisting:N7},{provide:Hy,useExisting:i}])}function j7(){return Wy(8,[Ok,{provide:jy,useExisting:Ok}])}function G7(i){Nl("NgRouterViewTransitions");let n=[{provide:Ak,useValue:P7},{provide:kk,useValue:ee({skipNextTransition:!!i?.skipInitialTransition},i)}];return Wy(9,n)}var H7=[ad,{provide:Gf,useClass:zu},at,Hf,{provide:Tc,useFactory:U1e,deps:[at]},kI,[]],Ul=(()=>{class i{constructor(){}static forRoot(e,t){return{ngModule:i,providers:[H7,[],{provide:h_,multi:!0,useValue:e},[],t?.errorHandler?{provide:Nk,useValue:t.errorHandler}:[],{provide:Ku,useValue:t||{}},t?.useHash?H1e():z1e(),G1e(),t?.preloadingStrategy?U7(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?W1e(t):[],t?.bindToComponentInputs?j7().\u0275providers:[],t?.enableViewTransitions?G7().\u0275providers:[],$1e()]}}static forChild(e){return{ngModule:i,providers:[{provide:h_,multi:!0,useValue:e}]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();function G1e(){return{provide:F7,useFactory:()=>{let i=z(Gj),n=z(Ft),e=z(Ku),t=z(FI),o=z(Gf);return e.scrollOffset&&i.setOffset(e.scrollOffset),new V1e(o,t,i,n,e)}}}function H1e(){return{provide:fc,useClass:H2}}function z1e(){return{provide:fc,useClass:e1}}function W1e(i){return[i.initialNavigation==="disabled"?B7().\u0275providers:[],i.initialNavigation==="enabledBlocking"?M7().\u0275providers:[]]}var Fk=new he("");function $1e(){return[{provide:Fk,useFactory:j1e},{provide:GS,multi:!0,useExisting:Fk}]}var z7=`
    .p-menu {
        background: dt('menu.background');
        color: dt('menu.color');
        border: 1px solid dt('menu.border.color');
        border-radius: dt('menu.border.radius');
        min-width: 12.5rem;
    }

    .p-menu-list {
        margin: 0;
        padding: dt('menu.list.padding');
        outline: 0 none;
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: dt('menu.list.gap');
    }

    .p-menu-item-content {
        transition:
            background dt('menu.transition.duration'),
            color dt('menu.transition.duration');
        border-radius: dt('menu.item.border.radius');
        color: dt('menu.item.color');
        overflow: hidden;
    }

    .p-menu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('menu.item.padding');
        gap: dt('menu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-menu-item-label {
        line-height: 1;
    }

    .p-menu-item-icon {
        color: dt('menu.item.icon.color');
    }

    .p-menu-item.p-focus .p-menu-item-content {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item.p-focus .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
        color: dt('menu.item.focus.color');
        background: dt('menu.item.focus.background');
    }

    .p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
        color: dt('menu.item.icon.focus.color');
    }

    .p-menu-overlay {
        box-shadow: dt('menu.shadow');
    }

    .p-menu-submenu-label {
        background: dt('menu.submenu.label.background');
        padding: dt('menu.submenu.label.padding');
        color: dt('menu.submenu.label.color');
        font-weight: dt('menu.submenu.label.font.weight');
    }

    .p-menu-separator {
        border-block-start: 1px solid dt('menu.separator.border.color');
    }
`;var K1e=["pMenuItemContent",""],BI=i=>({$implicit:i}),q1e=()=>({exact:!1}),J1e=i=>({item:i});function Q1e(i,n){i&1&&ve(0)}function Y1e(i,n){if(i&1&&(_(0,"a",6),E(1,Q1e,1,0,"ng-container",7),b()),i&2){let e=h(2),t=Ze(4);j(e.cx("itemLink")),f("target",e.item.target)("pBind",e.getPTOptions("itemLink")),ce("title",e.item.title)("href",e.item.url||null,Cr)("data-automationid",e.item.automationId)("tabindex",-1),p(),f("ngTemplateOutlet",t)("ngTemplateOutletContext",de(10,BI,e.item))}}function X1e(i,n){i&1&&ve(0)}function Z1e(i,n){if(i&1&&(_(0,"a",8),E(1,X1e,1,0,"ng-container",7),b()),i&2){let e=h(2),t=Ze(4);j(e.cx("itemLink")),f("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||Pe(18,q1e))("target",e.item.target)("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state)("pBind",e.getPTOptions("itemLink")),ce("data-automationid",e.item.automationId)("tabindex",-1)("title",e.item.title),p(),f("ngTemplateOutlet",t)("ngTemplateOutletContext",de(19,BI,e.item))}}function eIe(i,n){if(i&1&&(we(0),E(1,Y1e,2,12,"a",4)(2,Z1e,2,21,"a",5),Ce()),i&2){let e=h();p(),f("ngIf",!(e.item!=null&&e.item.routerLink)),p(),f("ngIf",e.item==null?null:e.item.routerLink)}}function tIe(i,n){}function iIe(i,n){i&1&&E(0,tIe,0,0,"ng-template")}function nIe(i,n){if(i&1&&(we(0),E(1,iIe,1,0,null,7),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",de(2,BI,e.item))}}function oIe(i,n){if(i&1&&N(0,"span",12),i&2){let e=h(2);De(e.item.iconStyle),j(e.cn(e.cx("itemIcon",de(6,J1e,e.item)),e.item.iconClass)),f("pBind",e.getPTOptions("itemIcon")),ce("data-pc-section","itemicon")}}function rIe(i,n){if(i&1&&(_(0,"span",12),R(1),b()),i&2){let e=h(2);j(e.cx("itemLabel")),f("pBind",e.getPTOptions("itemLabel")),ce("data-pc-section","itemlabel"),p(),Q(e.item.label)}}function sIe(i,n){if(i&1&&(N(0,"span",13),D(1,"safeHtml")),i&2){let e=h(2);f("innerHTML",k(1,3,e.item.label),on)("pBind",e.getPTOptions("itemLabel")),ce("data-pc-section","itemlabel")}}function aIe(i,n){if(i&1&&N(0,"p-badge",14),i&2){let e=h(2);f("styleClass",e.item.badgeStyleClass)("value",e.item.badge)("pt",e.getPTOptions("pcBadge"))}}function lIe(i,n){if(i&1&&E(0,oIe,1,8,"span",9)(1,rIe,2,5,"span",10)(2,sIe,2,5,"ng-template",null,1,ie)(4,aIe,1,3,"p-badge",11),i&2){let e=Ze(3),t=h();f("ngIf",t.item.icon),p(),f("ngIf",t.item.escape!==!1)("ngIfElse",e),p(3),f("ngIf",t.item.badge)}}var cIe=["start"],dIe=["end"],pIe=["header"],uIe=["item"],hIe=["submenuheader"],fIe=["list"],mIe=["container"],gIe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),_Ie=i=>({value:"visible",params:i}),$7=(i,n)=>({item:i,id:n});function bIe(i,n){i&1&&ve(0)}function yIe(i,n){if(i&1&&(_(0,"div",8),E(1,bIe,1,0,"ng-container",9),b()),i&2){let e=h(2);j(e.cx("start")),f("pBind",e.ptm("start")),ce("data-pc-section","start"),p(),f("ngTemplateOutlet",e.startTemplate??e._startTemplate)}}function vIe(i,n){if(i&1&&N(0,"li",13),i&2){let e=h(4);j(e.cx("separator")),f("pBind",e.ptm("separator")),ce("data-pc-section","separator")}}function wIe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3).$implicit;p(),Q(e.label)}}function CIe(i,n){if(i&1&&(N(0,"span",17),D(1,"safeHtml")),i&2){let e=h(3).$implicit;f("innerHTML",k(1,1,e.label),on)}}function SIe(i,n){if(i&1&&(we(0),E(1,wIe,2,1,"span",16)(2,CIe,2,3,"ng-template",null,2,ie),Ce()),i&2){let e=Ze(3),t=h(2).$implicit;p(),f("ngIf",t.escape!==!1)("ngIfElse",e)}}function IIe(i,n){i&1&&ve(0)}function EIe(i,n){if(i&1&&(_(0,"li",14),E(1,SIe,4,2,"ng-container",7)(2,IIe,1,0,"ng-container",15),b()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h(3);j(r.cx("submenuLabel")),f("pBind",r.ptm("submenuLabel"))("tooltipOptions",t.tooltipOptions),ce("data-automationid",t.automationId)("id",r.menuitemId(t,r.id,o))("data-pc-section","submenulabel"),p(),f("ngIf",!r.submenuHeaderTemplate&&!r._submenuHeaderTemplate),p(),f("ngTemplateOutlet",r.submenuHeaderTemplate??r._submenuHeaderTemplate)("ngTemplateOutletContext",de(10,BI,t))}}function xIe(i,n){if(i&1&&N(0,"li",13),i&2){let e=h(5);j(e.cx("separator")),f("pBind",e.ptm("separator")),ce("data-pc-section","separator")}}function TIe(i,n){if(i&1){let e=B();_(0,"li",19),A("onMenuItemClick",function(o){w(e);let r=h(),s=r.$implicit,a=r.index,l=h().index,c=h(3);return C(c.itemClick(o,c.menuitemId(s,c.id,l,a)))}),b()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().index,s=h(3);De(t.style),j(s.cn(s.cx("item",Ct(15,$7,t,s.menuitemId(t,s.id,r,o))),t==null?null:t.styleClass)),f("pMenuItemContent",t)("itemTemplate",s.itemTemplate??s._itemTemplate)("idx",o)("menuitemId",s.menuitemId(t,s.id,r,o))("tooltipOptions",t.tooltipOptions),ce("data-pc-section","menuitem")("aria-label",s.label(t.label))("data-p-focused",s.isItemFocused(s.menuitemId(t,s.id,r,o)))("data-p-disabled",s.disabled(t.disabled))("aria-disabled",s.disabled(t.disabled))("id",s.menuitemId(t,s.id,r,o))}}function OIe(i,n){if(i&1&&E(0,xIe,1,4,"li",11)(1,TIe,1,18,"li",18),i&2){let e=n.$implicit,t=h().$implicit;f("ngIf",e.separator&&(e.visible!==!1||t.visible!==!1)),p(),f("ngIf",!e.separator&&e.visible!==!1&&(e.visible!==void 0||t.visible!==!1))}}function RIe(i,n){if(i&1&&E(0,vIe,1,4,"li",11)(1,EIe,3,12,"li",12)(2,OIe,2,2,"ng-template",10),i&2){let e=n.$implicit;f("ngIf",e.separator&&e.visible!==!1),p(),f("ngIf",!e.separator),p(),f("ngForOf",e.items)}}function DIe(i,n){if(i&1&&E(0,RIe,3,3,"ng-template",10),i&2){let e=h(2);f("ngForOf",e.model)}}function PIe(i,n){if(i&1&&N(0,"li",13),i&2){let e=h(4);j(e.cx("separator")),f("pBind",e.ptm("separator")),ce("data-pc-section","separator")}}function AIe(i,n){if(i&1){let e=B();_(0,"li",21),A("onMenuItemClick",function(o){w(e);let r=h(),s=r.$implicit,a=r.index,l=h(3);return C(l.itemClick(o,l.menuitemId(s,l.id,a)))}),b()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h(3);j(r.cn(r.cx("item",Ct(14,$7,t,r.menuitemId(t,r.id,o))),t==null?null:t.styleClass)),f("pMenuItemContent",t)("itemTemplate",r.itemTemplate??r._itemTemplate)("idx",o)("menuitemId",r.menuitemId(t,r.id,o))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),ce("data-pc-section","menuitem")("aria-label",r.label(t.label))("data-p-focused",r.isItemFocused(r.menuitemId(t,r.id,o)))("data-p-disabled",r.disabled(t.disabled))("aria-disabled",r.disabled(t.disabled))("id",r.menuitemId(t,r.id,o))}}function kIe(i,n){if(i&1&&E(0,PIe,1,4,"li",11)(1,AIe,1,17,"li",20),i&2){let e=n.$implicit;f("ngIf",e.separator&&e.visible!==!1),p(),f("ngIf",!e.separator&&e.visible!==!1)}}function NIe(i,n){if(i&1&&E(0,kIe,2,2,"ng-template",10),i&2){let e=h(2);f("ngForOf",e.model)}}function FIe(i,n){i&1&&ve(0)}function LIe(i,n){if(i&1&&(_(0,"div",8),E(1,FIe,1,0,"ng-container",9),b()),i&2){let e=h(2);j(e.cx("end")),f("pBind",e.ptm("end")),ce("data-pc-section","end"),p(),f("ngTemplateOutlet",e.endTemplate??e._endTemplate)}}function MIe(i,n){if(i&1){let e=B();_(0,"div",4,0),A("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onOverlayAnimationEnd(o))}),E(2,yIe,2,5,"div",5),_(3,"ul",6,1),A("focus",function(o){w(e);let r=h();return C(r.onListFocus(o))})("blur",function(o){w(e);let r=h();return C(r.onListBlur(o))})("keydown",function(o){w(e);let r=h();return C(r.onListKeyDown(o))}),E(5,DIe,1,1,null,7)(6,NIe,1,1,null,7),b(),E(7,LIe,2,5,"div",5),b()}if(i&2){let e=h();De(e.sx("root")),j(e.cn(e.cx("root"),e.styleClass)),f("ngStyle",e.style)("@overlayAnimation",de(26,_Ie,Ct(23,gIe,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0)("pBind",e.ptm("root")),ce("data-pc-name","menu")("id",e.id),p(2),f("ngIf",e.startTemplate??e._startTemplate),p(),j(e.cx("list")),f("pBind",e.ptm("list")),ce("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),p(2),f("ngIf",e.hasSubMenu()),p(),f("ngIf",!e.hasSubMenu()),p(),f("ngIf",e.endTemplate??e._endTemplate)}}var BIe={root:({instance:i})=>({position:i.popup?"absolute":"relative"})},VIe={root:({instance:i})=>["p-menu p-component",{"p-menu-overlay":i.popup}],start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:({instance:i,item:n,id:e})=>["p-menu-item",{"p-focus":i.focusedOptionId()&&e===i.focusedOptionId(),"p-disabled":i.disabled(n.disabled)},n.styleClass],itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:({item:i})=>["p-menu-item-icon",i.icon,i.iconClass],itemLabel:"p-menu-item-label"},MI=(()=>{class i extends Ye{name="menu";style=z7;classes=VIe;inlineStyles=BIe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var W7=new he("MENU_INSTANCE"),K7=(()=>{class i{platformId;sanitizer;constructor(e,t){this.platformId=e,this.sanitizer=t}transform(e){return!e||!At(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||i)(x(wr,16),x(dp,16))};static \u0275pipe=Vo({name:"safeHtml",type:i,pure:!0})}return i})(),UIe=(()=>{class i extends Xe{item;itemTemplate;menuitemId=qe("");idx=qe(0);onMenuItemClick=new te;menu;_componentStyle=z(MI);hostName="Menu";constructor(e){super(),this.menu=e}onItemClick(e,t){this.onMenuItemClick.emit({originalEvent:e,item:t})}getPTOptions(e){return this.menu.getPTOptions(e,this.item,this.idx(),this.menuitemId())}static \u0275fac=function(t){return new(t||i)(x(Xt(()=>qu)))};static \u0275cmp=oe({type:i,selectors:[["","pMenuItemContent",""]],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate",menuitemId:[1,"menuitemId"],idx:[1,"idx"]},outputs:{onMenuItemClick:"onMenuItemClick"},features:[Se([MI]),re],attrs:K1e,decls:5,vars:6,consts:[["itemContent",""],["htmlLabel",""],[3,"click","pBind"],[4,"ngIf"],["pRipple","",3,"class","target","pBind",4,"ngIf"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind",4,"ngIf"],["pRipple","",3,"target","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menu-item-link-active","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind"],[3,"class","pBind","style",4,"ngIf"],[3,"class","pBind",4,"ngIf","ngIfElse"],[3,"styleClass","value","pt",4,"ngIf"],[3,"pBind"],[1,"p-menu-item-label",3,"innerHTML","pBind"],[3,"styleClass","value","pt"]],template:function(t,o){if(t&1){let r=B();_(0,"div",2),A("click",function(a){return w(r),C(o.onItemClick(a,o.item))}),E(1,eIe,3,2,"ng-container",3)(2,nIe,2,4,"ng-container",3)(3,lIe,5,4,"ng-template",null,0,ie),b()}t&2&&(j(o.cx("itemContent")),f("pBind",o.getPTOptions("itemContent")),ce("data-pc-section","content"),p(),f("ngIf",!o.itemTemplate),p(),f("ngIf",o.itemTemplate))},dependencies:[Qe,pt,gt,Ul,Vl,zy,oo,na,pe,Bl,Ic,Oe,Pt,K7],encapsulation:2})}return i})(),qu=(()=>{class i extends Xe{overlayService;model;popup;style;styleClass;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;appendTo=qe(void 0);onShow=new te;onHide=new te;onBlur=new te;onFocus=new te;listViewChild;containerViewChild;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=ct(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=lt(-1);selectedOptionIndex=lt(-1);focused=!1;overlayVisible=!1;relativeAlign;$pcMenu=z(W7,{optional:!0,skipSelf:!0})??void 0;_componentStyle=z(MI);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}constructor(e){super(),this.overlayService=e,this.id=this.id||Vt("pn_id_")}getPTOptions(e,t,o,r){return this.ptm(e,{context:{item:t,index:o,focused:this.isItemFocused(r),disabled:this.disabled(t.disabled)}})}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.markForCheck()}onInit(){this.popup||this.bindDocumentClickListener()}startTemplate;_startTemplate;endTemplate;_endTemplate;headerTemplate;_headerTemplate;itemTemplate;_itemTemplate;submenuHeaderTemplate;_submenuHeaderTemplate;templates;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this._startTemplate=e.template;break;case"end":this._endTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"submenuheader":this._submenuHeaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),Di(this.listViewChild?.nativeElement));break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&Bi.clear(e.element);break}}alignOverlay(){this.relativeAlign?dd(this.container,this.target):rl(this.container,this.target)}appendOverlay(){st.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Bi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.visible&&!Sr()&&this.hide()}menuitemId(e,t,o,r){return e?.id??`${t}_${o}${r!==void 0?"_"+r:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(Di(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let t=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)Di(this.target),this.hide(),e.preventDefault();else{let t=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(ir(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let t=Et(this.containerViewChild?.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),o=t&&(Et(t,'[data-pc-section="itemlink"]')||Et(t,"a,button"));this.popup&&Di(this.target),o?o.click():t&&t.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let o=[...ir(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(r=>r.id===e);return o>-1?o+1:0}findPrevOptionIndex(e){let o=[...ir(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(r=>r.id===e);return o>-1?o-1:0}changeFocusedOptionIndex(e){let t=ir(this.containerViewChild?.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(t.length>0){let o=e>=t.length?t.length-1:e<0?0:e;o>-1&&this.focusedOptionIndex.set(t[o].getAttribute("id"))}}itemClick(e,t){let{originalEvent:o,item:r}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),r.disabled){o.preventDefault();return}!r.url&&!r.routerLink&&o.preventDefault(),r.command&&r.command({originalEvent:o,item:r}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==t&&this.focusedOptionIndex.set(t)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&At(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{let o=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(t.target),r=!(this.target&&(this.target===t.target||this.target.contains(t.target)));!this.popup&&o&&r&&this.onListBlur(t),this.preventDocumentDefault&&this.overlayVisible&&o&&r&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&At(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&At(this.platformId)&&(this.scrollHandler=new jr(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.cd.destroyed||(this.target=null)}onDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Bi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){return this.model?.some(e=>e.items)??!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(t=>t.visible!==!1):e.visible===!1}static \u0275fac=function(t){return new(t||i)(x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-menu"]],contentQueries:function(t,o,r){if(t&1&&(se(r,cIe,4),se(r,dIe,4),se(r,pIe,4),se(r,uIe,4),se(r,hIe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.startTemplate=s.first),W(s=$())&&(o.endTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.submenuHeaderTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(fIe,5),_e(mIe,5)),t&2){let r;W(r=$())&&(o.listViewChild=r.first),W(r=$())&&(o.containerViewChild=r.first)}},inputs:{model:"model",popup:[2,"popup","popup",Z],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",Je],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[Se([MI,{provide:W7,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"class","style","ngStyle","pBind","click",4,"ngIf"],[3,"click","ngStyle","pBind"],[3,"class","pBind",4,"ngIf"],["role","menu",3,"focus","blur","keydown","pBind"],[4,"ngIf"],[3,"pBind"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["role","separator",3,"class","pBind",4,"ngIf"],["pTooltip","","role","none",3,"class","pBind","tooltipOptions",4,"ngIf"],["role","separator",3,"pBind"],["pTooltip","","role","none",3,"pBind","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","idx","menuitemId","style","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","idx","menuitemId","tooltipOptions"],["pTooltip","","role","menuitem",3,"class","pMenuItemContent","itemTemplate","idx","menuitemId","ngStyle","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","idx","menuitemId","ngStyle","tooltipOptions"]],template:function(t,o){t&1&&E(0,MIe,8,28,"div",3),t&2&&f("ngIf",!o.popup||o.visible)},dependencies:[Qe,Mn,pt,gt,ft,Ul,UIe,na,cn,pe,Bl,Oe,Pt,K7],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0,transform:"scaleY(0.8)"}),hi("{{showTransitionParams}}")]),li(":leave",[hi("{{hideTransitionParams}}",Yt({opacity:0}))])])]},changeDetection:0})}return i})(),q7=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[qu,Oe,Oe]})}return i})();var gl=Xr(Oc());var O=(function(i){return i[i.OBJ_FIREWALL=0]="OBJ_FIREWALL",i[i.OBJ_SERVICE_IP=1]="OBJ_SERVICE_IP",i[i.OBJ_SERVICE_TCP=2]="OBJ_SERVICE_TCP",i[i.OBJ_SERVICE_ICMP=3]="OBJ_SERVICE_ICMP",i[i.OBJ_SERVICE_UDP=4]="OBJ_SERVICE_UDP",i[i.OBJ_ADDRESS=5]="OBJ_ADDRESS",i[i.OBJ_ADDRESS_RANGE=6]="OBJ_ADDRESS_RANGE",i[i.OBJ_NETWORK=7]="OBJ_NETWORK",i[i.OBJ_HOST=8]="OBJ_HOST",i[i.OBJ_DNS=9]="OBJ_DNS",i[i.OBJ_INTERFACE_FIREWALL=10]="OBJ_INTERFACE_FIREWALL",i[i.OBJ_INTERFACE_HOST=11]="OBJ_INTERFACE_HOST",i[i.OBJ_GROUP=20]="OBJ_GROUP",i[i.OBJ_SERVICE_GROUP=21]="OBJ_SERVICE_GROUP",i[i.OBJ_CONTINENT=23]="OBJ_CONTINENT",i[i.OBJ_COUNTRIE=24]="OBJ_COUNTRIE",i[i.OBJ_MARK=30]="OBJ_MARK",i[i.OBJ_GEN_IP_OBJECT=99]="OBJ_GEN_IP_OBJECT",i[i.OBJ_CLUSTER=100]="OBJ_CLUSTER",i[i.OBJ_CLUSTER_NODE=101]="OBJ_CLUSTER_NODE",i[i.OBJ_GEN_RULE=199]="OBJ_GEN_RULE",i[i.OBJ_CA=300]="OBJ_CA",i[i.OBJ_CERT_CLI=301]="OBJ_CERT_CLI",i[i.OBJ_CERT_SER=302]="OBJ_CERT_SER",i[i.OBJ_OPENVPN_CONFIG=310]="OBJ_OPENVPN_CONFIG",i[i.OBJ_OPENVPN_CONFIG_CLI=311]="OBJ_OPENVPN_CONFIG_CLI",i[i.OBJ_OPENVPN_CONFIG_SER=312]="OBJ_OPENVPN_CONFIG_SER",i[i.OBJ_WG_CONFIG=320]="OBJ_WG_CONFIG",i[i.OBJ_WGC_CONFIG_CLI=321]="OBJ_WGC_CONFIG_CLI",i[i.OBJ_WGS_CONFIG_SER=322]="OBJ_WGS_CONFIG_SER",i[i.OBJ_IPSEC_CONFIG=330]="OBJ_IPSEC_CONFIG",i[i.OBJ_ISC_CONFIG_CLI=331]="OBJ_ISC_CONFIG_CLI",i[i.OBJ_ISS_CONFIG_SER=332]="OBJ_ISS_CONFIG_SER",i[i.OBJ_PREFIX_FOLDER=400]="OBJ_PREFIX_FOLDER",i[i.OBJ_OPENVPN_PREFIX=401]="OBJ_OPENVPN_PREFIX",i[i.OBJ_WIREGUARD_PREFIX=402]="OBJ_WIREGUARD_PREFIX",i[i.OBJ_IPSEC_PREFIX=403]="OBJ_IPSEC_PREFIX",i[i.OBJ_ROUTING_GATEWAY=500]="OBJ_ROUTING_GATEWAY",i[i.OBJ_ROUTING_RULE_FROM=600]="OBJ_ROUTING_RULE_FROM",i[i.OBJ_ROUTING_TABLE=201]="OBJ_ROUTING_TABLE",i[i.OBJ_ANY=-9999]="OBJ_ANY",i[i.OBJ_DHCP_RULE_RANGE=700]="OBJ_DHCP_RULE_RANGE",i[i.OBJ_DHCP_RULE_ROUTER=701]="OBJ_DHCP_RULE_ROUTER",i[i.OBJ_DHCP_RULE_NETWORK=750]="OBJ_DHCP_RULE_NETWORK",i[i.OBJ_DHCP_RULE_INTERFACE=755]="OBJ_DHCP_RULE_INTERFACE",i[i.OBJ_DHCP_RULE_IP=756]="OBJ_DHCP_RULE_IP",i[i.OBJ_DHCP_RULE_DNS=757]="OBJ_DHCP_RULE_DNS",i[i.OBJ_DHCP_MAX_LEASE_TIME=758]="OBJ_DHCP_MAX_LEASE_TIME",i[i.OBJ_DHCP_GROUP=800]="OBJ_DHCP_GROUP",i[i.OBJ_KEEPALIVED_GROUP=801]="OBJ_KEEPALIVED_GROUP",i[i.OBJ_KEEPALIVED_VIRTUAL_IPS=760]="OBJ_KEEPALIVED_VIRTUAL_IPS",i[i.OBJ_KEEPALIVED_MASTER_NODE=761]="OBJ_KEEPALIVED_MASTER_NODE",i[i.OBJ_KEEPALIVED_INTERFACE=762]="OBJ_KEEPALIVED_INTERFACE",i[i.OBJ_HAPROXY_GROUP=802]="OBJ_HAPROXY_GROUP",i[i.OBJ_HAPROXY_RULE_FRONTEND_IP=803]="OBJ_HAPROXY_RULE_FRONTEND_IP",i[i.OBJ_HAPROXY_RULE_FRONTEND_PORT=804]="OBJ_HAPROXY_RULE_FRONTEND_PORT",i[i.OBJ_HAPROXY_RULE_BACKEND_IPS=805]="OBJ_HAPROXY_RULE_BACKEND_IPS",i[i.OBJ_HAPROXY_RULE_BACKEND_PORT=806]="OBJ_HAPROXY_RULE_BACKEND_PORT",i})(O||{}),M=(function(i){return i.OBJ_FIREWALL="FW",i.OBJ_CLUSTER="CL",i.OBJ_HOST="OIH",i.OBJ_ADDRESS="OIA",i.OBJ_DNS="ONS",i.OBJ_NETWORK="OIN",i.OBJ_GROUP="OIG",i.OBJ_IP_RANGE="OIR",i.OBJ_IF_FW="IFF",i.OBJ_IF_HOST="IFH",i.OBJ_MARK="MRK",i.SERVICE_IP="SOI",i.SERVICE_ICMP="SOM",i.SERVICE_UDP="SOU",i.SERVICE_TCP="SOT",i.SERVICE_GROUP="SOG",i.STANDARD="STD",i.FOLDER="FD",i.FOLDER_INTERFACES="FDI",i.FOLDER_OBJECTS="FDO",i.FOLDER_SERVICES="FDS",i.FOLDER_TIME="FDT",i.FOLDER_FW="FDF",i.FOLDER_CLUSTER="FDC",i.FOLDER_CLUSTER_FW="FCF",i.FOLDER_POLICY="FP",i.FOLDER_POLICY6="FP6",i.FOLDER_NAT="NT",i.FOLDER_ROUTING="ROU",i.FOLDER_ADDRESSES="OIA",i.FOLDER_NETWORKS="OIN",i.FOLDER_CA="FCA",i.FOLDER_VPN="VPN",i.FOLDER_SYSTEM="SYS",i.POLICY_INPUT="PI",i.POLICY_OUTPUT="PO",i.POLICY_FORWARD="PF",i.POLICY_ROUTING="RR",i.POLICY_SNAT="NTS",i.POLICY_DNAT="NTD",i.POLICY_DHCP="DHCP",i.POLICY_INPUT6="PI6",i.POLICY_OUTPUT6="PO6",i.POLICY_FORWARD6="PF6",i.POLICY_ROUTING6="RR6",i.POLICY_SNAT6="NS6",i.POLICY_DNAT6="ND6",i.OPENVPN_ROOT="OPN",i.OPENVPN_CA="CA",i.OPENVPN_CERT="CRT",i.OPENVPN_CONFIG_SER="OSR",i.OPENVPN_CONFIG_CLI="OCL",i.OPENVPN_PREFIX_FOLDER="PRE",i.OPENVPN_PREFIX="PRO",i.WIREGUARD_ROOT="WG",i.WIREGUARD_CA="CA",i.WIREGUARD_CERT="CRT",i.WIREGUARD_CONFIG_SER="WGS",i.WIREGUARD_CONFIG_CLI="WGC",i.WIREGUARD_PREFIX_FOLDER="PRE",i.WIREGUARD_PREFIX="PRW",i.IPSEC_ROOT="IS",i.IPSEC_CA="CA",i.IPSEC_CERT="CRT",i.IPSEC_CONFIG_SER="ISS",i.IPSEC_CONFIG_CLI="ISC",i.IPSEC_PREFIX_FOLDER="PRE",i.IPSEC_PREFIX="PRI",i.ROUTING_TABLES="RTS",i.ROUTING_TABLE="RT",i.COUNTRIES="COF",i.CONTINENT="CON",i.COUNTRIE="COD",i.AF="AF",i.AN="AN",i.AS="AS",i.EU="EU",i.NA="NA",i.OC="OC",i.SA="SA",i.DHCP="S01",i.DHCP_FIXED_IP="S04",i.KEEPALIVED="S02",i.HAPROXY="S03",i})(M||{}),gr=(function(i){return i[i.POLICY_ROUTING=6]="POLICY_ROUTING",i[i.ROUTING_TABLE=201]="ROUTING_TABLE",i})(gr||{}),Bk=(function(i){return i[i.STATEFUL=1]="STATEFUL",i[i.CATCHALL=2]="CATCHALL",i[i.DOCKER=3]="DOCKER",i[i.CROWDSEC=4]="CROWDSEC",i[i.FAIL2BAN=5]="FAIL2BAN",i[i.HOOKSCRIPT=6]="HOOKSCRIPT",i})(Bk||{}),ji=(function(i){return i[i.TO_POSITION=771]="TO_POSITION",i[i.GATEWAY_POSITION=881]="GATEWAY_POSITION",i[i.INTERFACE_POSITION=991]="INTERFACE_POSITION",i})(ji||{}),Hr=(function(i){return i[i.FROM_POSITION=772]="FROM_POSITION",i[i.ROUTING_TABLE_POSITION=882]="ROUTING_TABLE_POSITION",i})(Hr||{}),ra=(function(i){return i[i.NETWORK=775]="NETWORK",i[i.RANGE=776]="RANGE",i[i.ROUTER=777]="ROUTER",i[i.DNS=778]="DNS",i[i.INTERFACE=779]="INTERFACE",i[i.IP=780]="IP",i})(ra||{}),Ep=(function(i){return i[i.INTERFACE=785]="INTERFACE",i[i.VIRTUAL_IPS=786]="VIRTUAL_IPS",i[i.MASTER_NODE=787]="MASTER_NODE",i})(Ep||{}),_l=(function(i){return i[i.FRONTEND_IP=790]="FRONTEND_IP",i[i.FRONTEND_PORT=791]="FRONTEND_PORT",i[i.BACKEND_IPS=792]="BACKEND_IPS",i[i.BACKEND_PORT=793]="BACKEND_PORT",i})(_l||{}),Q7={[O.OBJ_INTERFACE_FIREWALL]:M.OBJ_IF_FW,[O.OBJ_INTERFACE_HOST]:M.OBJ_IF_HOST,[O.OBJ_ADDRESS]:M.OBJ_ADDRESS},Sd=[M.POLICY_INPUT,M.POLICY_OUTPUT,M.POLICY_FORWARD,M.POLICY_SNAT,M.POLICY_DNAT,M.POLICY_ROUTING,M.POLICY_INPUT6,M.POLICY_OUTPUT6,M.POLICY_FORWARD6,M.POLICY_SNAT6,M.POLICY_DNAT6,M.ROUTING_TABLE,M.DHCP,M.DHCP_FIXED_IP,M.KEEPALIVED,M.HAPROXY],Fi={[M.POLICY_INPUT]:1,[M.POLICY_OUTPUT]:2,[M.POLICY_FORWARD]:3,[M.POLICY_SNAT]:4,[M.POLICY_DNAT]:5,[M.POLICY_INPUT6]:61,[M.POLICY_OUTPUT6]:62,[M.POLICY_FORWARD6]:63,[M.POLICY_SNAT6]:64,[M.POLICY_DNAT6]:65,[M.DHCP]:66,[M.DHCP_FIXED_IP]:67,[M.KEEPALIVED]:68,[M.HAPROXY]:69,[M.POLICY_ROUTING]:gr.POLICY_ROUTING,[M.ROUTING_TABLE]:gr.ROUTING_TABLE},Y7={1:"IPv4",2:"IPv4",3:"IPv4",4:"IPv4",5:"IPv4",61:"IPv6",62:"IPv6",63:"IPv6",64:"IPv6",65:"IPv6"},X7=Sd.concat([M.FOLDER_POLICY,M.FOLDER_INTERFACES,M.FOLDER_VPN,M.OPENVPN_ROOT,M.WIREGUARD_ROOT,M.IPSEC_ROOT,M.OPENVPN_CA,M.OPENVPN_PREFIX_FOLDER,M.WIREGUARD_PREFIX_FOLDER,M.OPENVPN_CONFIG_SER,M.WIREGUARD_CONFIG_SER,M.IPSEC_CONFIG_SER]),Z7=Sd.concat([M.ROUTING_TABLES]),U=(function(i){return i[i.NO_MENU=-1]="NO_MENU",i[i.SEPARATOR=-2]="SEPARATOR",i[i.COPY=900]="COPY",i[i.CUT=901]="CUT",i[i.PASTE=902]="PASTE",i[i.PASTE_ABOVE=903]="PASTE_ABOVE",i[i.PASTE_BELOW=904]="PASTE_BELOW",i[i.DELETE=905]="DELETE",i[i.EDIT=906]="EDIT",i[i.WHERE_USED=907]="WHERE_USED",i[i.FIND_IN_TREE=908]="FIND_IN_TREE",i[i.DELETE_FROM_GROUP=910]="DELETE_FROM_GROUP",i[i.DUPLICATE=911]="DUPLICATE",i[i.HELP=912]="HELP",i[i.FIREWALL_EDIT=1]="FIREWALL_EDIT",i[i.FIREWALL_NEW=2]="FIREWALL_NEW",i[i.FIREWALL_DELETE=3]="FIREWALL_DELETE",i[i.FIREWALL_COMPILE=4]="FIREWALL_COMPILE",i[i.FIREWALL_INSTALL=5]="FIREWALL_INSTALL",i[i.FIREWALL_COMPILE_ALL=6]="FIREWALL_COMPILE_ALL",i[i.FIREWALL_INSTALL_ALL=7]="FIREWALL_INSTALL_ALL",i[i.FIREWALL_TO_CLUSTER=8]="FIREWALL_TO_CLUSTER",i[i.FIREWALL_CLONE=9]="FIREWALL_CLONE",i[i.FIREWALL_IPTABLES_IMPORT=10]="FIREWALL_IPTABLES_IMPORT",i[i.FIREWALL_IPTABLES_EXPORT=11]="FIREWALL_IPTABLES_EXPORT",i[i.FIREWALL_IMPORT=12]="FIREWALL_IMPORT",i[i.POLICY_PANEL_SHOW=13]="POLICY_PANEL_SHOW",i[i.POLICY_PANEL_DOWNLOAD=14]="POLICY_PANEL_DOWNLOAD",i[i.NODE_EDIT=15]="NODE_EDIT",i[i.NODE_DELETE=16]="NODE_DELETE",i[i.POLICY_LOAD=17]="POLICY_LOAD",i[i.NGFW=18]="NGFW",i[i.PLUGINS=19]="PLUGINS",i[i.FOLDER_EXPAND=21]="FOLDER_EXPAND",i[i.FOLDER_COLLAPSE=22]="FOLDER_COLLAPSE",i[i.FOLDER_NEW=23]="FOLDER_NEW",i[i.FOLDER_DELETE=24]="FOLDER_DELETE",i[i.FOLDER_RENAME=25]="FOLDER_RENAME",i[i.NEW_INTERFACE=34]="NEW_INTERFACE",i[i.NEW_ADDRESS=41]="NEW_ADDRESS",i[i.NEW_GROUP=42]="NEW_GROUP",i[i.NEW_NETWORK=43]="NEW_NETWORK",i[i.NEW_IP_RANGE=44]="NEW_IP_RANGE",i[i.NEW_HOST=45]="NEW_HOST",i[i.NEW_DNS=46]="NEW_DNS",i[i.NEW_IP_SERVICE=51]="NEW_IP_SERVICE",i[i.NEW_ICMP_SERVICE=52]="NEW_ICMP_SERVICE",i[i.NEW_TCP_SERVICE=53]="NEW_TCP_SERVICE",i[i.NEW_UDP_SERVICE=54]="NEW_UDP_SERVICE",i[i.NEW_SERVICE_GROUP=55]="NEW_SERVICE_GROUP",i[i.TREE_RELOAD=61]="TREE_RELOAD",i[i.TREE_REPAIR=62]="TREE_REPAIR",i[i.CLUSTER_NEW=71]="CLUSTER_NEW",i[i.CLUSTER_EDIT=72]="CLUSTER_EDIT",i[i.CLUSTER_DELETE=73]="CLUSTER_DELETE",i[i.CLUSTER_COMPILE=74]="CLUSTER_COMPILE",i[i.CLUSTER_INSTALL=75]="CLUSTER_INSTALL",i[i.CLUSTER_COMPILE_ALL=76]="CLUSTER_COMPILE_ALL",i[i.CLUSTER_TO_FIREWALL=77]="CLUSTER_TO_FIREWALL",i[i.CLUSTER_CLONE=78]="CLUSTER_CLONE",i[i.CA_NEW=81]="CA_NEW",i[i.CA_VIEW=82]="CA_VIEW",i[i.CA_DELETE=83]="CA_DELETE",i[i.CA_EDIT=84]="CA_EDIT",i[i.CA_CRT_NEW=91]="CA_CRT_NEW",i[i.CA_CRT_VIEW=92]="CA_CRT_VIEW",i[i.CA_CRT_EDIT=97]="CA_CRT_EDIT",i[i.CA_CRT_DELETE=93]="CA_CRT_DELETE",i[i.CA_CRT_NEW_PREFIX=94]="CA_CRT_NEW_PREFIX",i[i.CA_CRT_EDIT_PREFIX=95]="CA_CRT_EDIT_PREFIX",i[i.CA_CRT_DELETE_PREFIX=96]="CA_CRT_DELETE_PREFIX",i[i.RULE_SELECT=101]="RULE_SELECT",i[i.RULE_UNSELECT=102]="RULE_UNSELECT",i[i.RULE_EDIT=103]="RULE_EDIT",i[i.RULE_ENABLE=104]="RULE_ENABLE",i[i.RULE_DISABLE=105]="RULE_DISABLE",i[i.RULE_DELETE=106]="RULE_DELETE",i[i.RULE_NEW_ABOVE=107]="RULE_NEW_ABOVE",i[i.RULE_NEW_BELOW=108]="RULE_NEW_BELOW",i[i.RULE_NEW_HS_ABOVE=10107]="RULE_NEW_HS_ABOVE",i[i.RULE_NEW_HS_BELOW=10108]="RULE_NEW_HS_BELOW",i[i.RULE_CREATE_GROUP=109]="RULE_CREATE_GROUP",i[i.RULE_REMOVE_GROUP=110]="RULE_REMOVE_GROUP",i[i.RULE_REMOVE_FROM_GROUP=111]="RULE_REMOVE_FROM_GROUP",i[i.RULE_MOVE_ABOVE=112]="RULE_MOVE_ABOVE",i[i.RULE_MOVE_BELOW=113]="RULE_MOVE_BELOW",i[i.RULE_COMPILE=114]="RULE_COMPILE",i[i.RULE_COLOR_CHANGE=120]="RULE_COLOR_CHANGE",i[i.RULE_COLOR_DEFAULT=121]="RULE_COLOR_DEFAULT",i[i.RULE_COLOR_RED=122]="RULE_COLOR_RED",i[i.RULE_COLOR_GREEN=123]="RULE_COLOR_GREEN",i[i.RULE_COLOR_BLUE=124]="RULE_COLOR_BLUE",i[i.RULE_COLOR_PURPLE=125]="RULE_COLOR_PURPLE",i[i.RULE_COLOR_TEAL=126]="RULE_COLOR_TEAL",i[i.RULE_COLOR_YELLOW=127]="RULE_COLOR_YELLOW",i[i.RULE_COLOR_ORANGE=128]="RULE_COLOR_ORANGE",i[i.RULE_COLOR_BROWN=129]="RULE_COLOR_BROWN",i[i.RULE_COLOR_CUSTOM=135]="RULE_COLOR_CUSTOM",i[i.VPN_OPTION_DELETE=141]="VPN_OPTION_DELETE",i[i.VPN_OPTION_SET_DEFAULT=142]="VPN_OPTION_SET_DEFAULT",i[i.VPN_OPTION_EMPTY=143]="VPN_OPTION_EMPTY",i[i.VPN_CONFIG_DELETE=151]="VPN_CONFIG_DELETE",i[i.VPN_CONFIG_FILE=152]="VPN_CONFIG_FILE",i[i.VPN_CONFIG_INSTALL=153]="VPN_CONFIG_INSTALL",i[i.VPN_CONFIG_SYNC_CCD=154]="VPN_CONFIG_SYNC_CCD",i[i.VPN_CONFIG_UNINSTALL=155]="VPN_CONFIG_UNINSTALL",i[i.VPN_CONFIG_NEW_PREFIX=156]="VPN_CONFIG_NEW_PREFIX",i[i.VPN_CONFIG_EDIT_PREFIX=157]="VPN_CONFIG_EDIT_PREFIX",i[i.VPN_CONFIG_DELETE_PREFIX=158]="VPN_CONFIG_DELETE_PREFIX",i[i.VPN_CONFIG_STATUS=159]="VPN_CONFIG_STATUS",i[i.VPN_CONFIG_INST_WINDOWS=160]="VPN_CONFIG_INST_WINDOWS",i[i.VPN_CONFIG_SYNC_PENDING_CCD=161]="VPN_CONFIG_SYNC_PENDING_CCD",i[i.VPN_CONFIG_BLOCK=162]="VPN_CONFIG_BLOCK",i[i.VPN_CONFIG_UNBLOCK=163]="VPN_CONFIG_UNBLOCK",i[i.VPN_CONFIG_HISTORIC=164]="VPN_CONFIG_HISTORIC",i[i.VPN_CONFIG_SYSTEMCTL=165]="VPN_CONFIG_SYSTEMCTL",i[i.MARK_NEW=170]="MARK_NEW",i[i.VYOS=180]="VYOS",i[i.POSITION_NEGATE=201]="POSITION_NEGATE",i[i.POSITION_ALLOW=202]="POSITION_ALLOW",i[i.OBJECT_EDIT=301]="OBJECT_EDIT",i[i.RULE_GROUP_EDIT=401]="RULE_GROUP_EDIT",i[i.RULE_GROUP_COLOR_CHANGE=402]="RULE_GROUP_COLOR_CHANGE",i[i.COMPILE_IPTABLES=501]="COMPILE_IPTABLES",i[i.COMPILE_NFTABLES=502]="COMPILE_NFTABLES",i[i.COMPILE_VYOS=503]="COMPILE_VYOS",i[i.ROUTING_TABLE_NEW=601]="ROUTING_TABLE_NEW",i[i.ROUTING_TABLE_EDIT=602]="ROUTING_TABLE_EDIT",i[i.ROUTING_TABLE_DELETE=603]="ROUTING_TABLE_DELETE",i[i.ROUTING_TABLE_NEW_ROUTE=610]="ROUTING_TABLE_NEW_ROUTE",i[i.DHCP_NEW_RULE_GROUP=615]="DHCP_NEW_RULE_GROUP",i[i.DHCP_EDIT_RULE_GROUP=616]="DHCP_EDIT_RULE_GROUP",i[i.DHCP_DELETE_RULE_GROUP=617]="DHCP_DELETE_RULE_GROUP",i[i.HAPROXY_NEW_RULE_GROUP=625]="HAPROXY_NEW_RULE_GROUP",i[i.HAPROXY_EDIT_RULE_GROUP=626]="HAPROXY_EDIT_RULE_GROUP",i[i.HAPROXY_DELETE_RULE_GROUP=627]="HAPROXY_DELETE_RULE_GROUP",i[i.SYSTEMCTL=651]="SYSTEMCTL",i[i.SYSTEMCTL_STATUS=652]="SYSTEMCTL_STATUS",i[i.SYSTEMCTL_START=653]="SYSTEMCTL_START",i[i.SYSTEMCTL_STOP=654]="SYSTEMCTL_STOP",i[i.SYSTEMCTL_RESTART=655]="SYSTEMCTL_RESTART",i[i.SYSTEMCTL_RELOAD=656]="SYSTEMCTL_RELOAD",i[i.SYSTEMCTL_ENABLE=657]="SYSTEMCTL_ENABLE",i[i.SYSTEMCTL_DISABLE=658]="SYSTEMCTL_DISABLE",i[i.SYSTEM_COMPILE=678]="SYSTEM_COMPILE",i[i.SYSTEM_INSTALL=679]="SYSTEM_INSTALL",i[i.SYSTEM_SHOW_CONFIG=680]="SYSTEM_SHOW_CONFIG",i[i.SYSTEM_DOWNLOAD_CONFIG=681]="SYSTEM_DOWNLOAD_CONFIG",i[i.AI_ASSISTANT=690]="AI_ASSISTANT",i})(U||{}),eH=["#ef9a9a","#F48FB1","#CE93D8","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#C5E1A5","#E6EE9C","#FFF59D","#FFE082","#FFCC80","#FFAB91"],B5t={[U.RULE_COLOR_DEFAULT]:"",[U.RULE_COLOR_RED]:"5px solid #ef9a9a",[U.RULE_COLOR_PURPLE]:"5px solid #CE93D8",[U.RULE_COLOR_BLUE]:"5px solid #90CAF9",[U.RULE_COLOR_TEAL]:"5px solid #80CBC4",[U.RULE_COLOR_GREEN]:"5px solid #A5D6A7",[U.RULE_COLOR_YELLOW]:"5px solid #FFF59D",[U.RULE_COLOR_ORANGE]:"5px solid #FFCC80",999:"5px solid #ff0000"},UI={[U.RULE_COLOR_DEFAULT]:"",[U.RULE_COLOR_RED]:"#ef9a9a",[U.RULE_COLOR_PURPLE]:"#CE93D8",[U.RULE_COLOR_BLUE]:"#90CAF9",[U.RULE_COLOR_TEAL]:"#80CBC4",[U.RULE_COLOR_GREEN]:"#A5D6A7",[U.RULE_COLOR_YELLOW]:"#FFF59D",[U.RULE_COLOR_ORANGE]:"#FFCC80",999:"#ef9a9a",1e3:"#cbcbcb"},jIe=(function(i){return i.BEFORE="HOOK_BEFORE",i.AFTER="HOOK_AFTER",i})(jIe||{}),Go=(function(i){return i[i.COPY=1]="COPY",i[i.CUT=2]="CUT",i[i.DELETE=3]="DELETE",i})(Go||{});var Ii=(function(i){return i[i.NEW_ITEM=1]="NEW_ITEM",i[i.MODIFY_ITEM=2]="MODIFY_ITEM",i[i.DELETE_ITEM=3]="DELETE_ITEM",i[i.RELOAD_TREE=10]="RELOAD_TREE",i[i.NEW_GROUP_ITEM=11]="NEW_GROUP_ITEM",i[i.DELETE_GROUP_ITEM=12]="DELETE_GROUP_ITEM",i})(Ii||{}),Ge=(function(i){return i.C_FIREWALLS="firewalls",i.C_CLUSTERS="clusters",i.C_OBJECTS="objects",i.C_SERVICES="services",i.C_CA="ca",i.C_FIREWALLS_CONDENSED="fw_condensed",i})(Ge||{}),ni=(function(i){return i[i.FW_DISABLED=0]="FW_DISABLED",i[i.FW_PENDING=1]="FW_PENDING",i[i.FW_PROCESSING=2]="FW_PROCESSING",i[i.FW_OK=3]="FW_OK",i[i.FW_ERROR=4]="FW_ERROR",i[i.FW_WARNING=5]="FW_WARNING",i})(ni||{}),Er=(function(i){return i[i.COMP_CLOUD=0]="COMP_CLOUD",i[i.COMP_CLUSTER=1]="COMP_CLUSTER",i[i.COMP_FIREWALL=2]="COMP_FIREWALL",i[i.COMP_CLUSTERS_ALL=3]="COMP_CLUSTERS_ALL",i[i.COMP_FIREWALLS_ALL=4]="COMP_FIREWALLS_ALL",i[i.COMP_COMPILE=0]="COMP_COMPILE",i[i.COMP_INSTALL=1]="COMP_INSTALL",i})(Er||{}),Id={[ni.FW_DISABLED]:"",[ni.FW_PENDING]:"fa fa-lg fa-pause-circle fwcBlue",[ni.FW_PROCESSING]:"fa fa-lg fa-cog fa-spin fwcBlue",[ni.FW_OK]:"fa fa-lg fa-check-circle fwcBlue",[ni.FW_ERROR]:"fa fa-lg fa-exclamation-circle fwcOrange",[ni.FW_WARNING]:"fa fa-lg fa-times-circle fwcOrange"},tH=[{id:0,name:"IPTables",iconClass:"compiler-icon compiler-icon--iptables"},{id:1,name:"NFTables",iconClass:"compiler-icon compiler-icon--nftables"},{id:2,name:"VyOS",iconClass:"compiler-icon compiler-icon--vyos"}],Ue=(function(i){return i.MSG_START="start",i.MSG_END="end",i.MSG_START_TASK="start_task",i.MSG_END_TASK="end_task",i.MSG_INFO="info",i.MSG_ERROR="error",i.MSG_WARNING="warning",i.MSG_OK="success",i.MSG_NOTICE="notice",i.MSG_SSH_CMD_OUTPUT="ssh_cmd_output",i.MSG_HEARTBEAT="heartbeat",i.MSG_SEPARATOR="separator",i})(Ue||{});var sn=(function(i){return i.API_COOKIE="FWCloud.net-cookie",i.LS_TOKEN="FWCloud.net-token",i.LS_CUSTOMER_ID="FWCloud.net-customer_id",i.LS_USER_ID="FWCloud.net-user_id",i.LS_USER_NAME="FWCloud.net-user_name",i.LS_USER_ROLE="FWCloud.net-user_role",i.LS_CLOUD_ID="FWCloud.net-cloud_id",i.LS_CLOUD_NAME="FWCloud.net-cloud_name",i.LS_LANGUAGE="FWCloud.net-language",i.LS_PUBLIC_KEY="FWCloud.net-public_key",i.LS_PRIVATE_KEY="FWCloud.net-private_key",i.LS_RELOAD_APP="FWCloud.net-force_app_reload",i.LS_UI_THEME="FWCloud.net-UI-theme",i})(sn||{}),GIe=(function(i){return i[i.days=1]="days",i[i.years=2]="years",i})(GIe||{}),f_=(function(i){return i[i.client=1]="client",i[i.server=2]="server",i})(f_||{}),ye=(function(i){return i[i.ccd=0]="ccd",i[i.ovp=1]="ovp",i[i.wg_server_interface=2]="wg_server_interface",i[i.wg_server_peer=3]="wg_server_peer",i[i.wg_client_interface=4]="wg_client_interface",i[i.wg_client_peer=5]="wg_client_peer",i[i.ipsec_server=6]="ipsec_server",i[i.ipsec_client=7]="ipsec_client",i[i.ipsec_server_client=8]="ipsec_server_client",i})(ye||{}),Cs=(function(i){return i.O_SERVER="server",i.O_CLIENT="ifconfig-push",i})(Cs||{}),Vk=[{label:"AES-128-CBC",value:"AES-128-CBC"},{label:"AES-128-CFB",value:"AES-128-CFB"},{label:"AES-128-CFB1",value:"AES-128-CFB1"},{label:"AES-128-CFB8",value:"AES-128-CFB8"},{label:"AES-128-GCM",value:"AES-128-GCM"},{label:"AES-128-OFB",value:"AES-128-OFB"},{label:"AES-192-CBC",value:"AES-192-CBC"},{label:"AES-192-CFB",value:"AES-192-CFB"},{label:"AES-192-CFB1",value:"AES-192-CFB1"},{label:"AES-192-CFB8",value:"AES-192-CFB8"},{label:"AES-192-GCM",value:"AES-192-GCM"},{label:"AES-192-OFB",value:"AES-192-OFB"},{label:"AES-256-CBC",value:"AES-256-CBC"},{label:"AES-256-CFB",value:"AES-256-CFB"},{label:"AES-256-CFB1",value:"AES-256-CFB1"},{label:"AES-256-CFB8",value:"AES-256-CFB8"},{label:"AES-256-GCM",value:"AES-256-GCM"},{label:"AES-256-OFB",value:"AES-256-OFB"},{label:"ARIA-128-CBC",value:"ARIA-128-CBC"},{label:"ARIA-128-CFB",value:"ARIA-128-CFB"},{label:"ARIA-128-CFB1",value:"ARIA-128-CFB1"},{label:"ARIA-128-CFB8",value:"ARIA-128-CFB8"},{label:"ARIA-128-GCM",value:"ARIA-128-GCM"},{label:"ARIA-128-OFB",value:"ARIA-128-OFB"},{label:"ARIA-192-CBC",value:"ARIA-192-CBC"},{label:"ARIA-192-CFB",value:"ARIA-192-CFB"},{label:"ARIA-192-CFB1",value:"ARIA-192-CFB1"},{label:"ARIA-192-CFB8",value:"ARIA-192-CFB8"},{label:"ARIA-192-GCM",value:"ARIA-192-GCM"},{label:"ARIA-192-OFB",value:"ARIA-192-OFB"},{label:"ARIA-256-CBC",value:"ARIA-256-CBC"},{label:"ARIA-256-CFB",value:"ARIA-256-CFB"},{label:"ARIA-256-CFB1",value:"ARIA-256-CFB1"},{label:"ARIA-256-CFB8",value:"ARIA-256-CFB8"},{label:"ARIA-256-GCM",value:"ARIA-256-GCM"},{label:"ARIA-256-OFB",value:"ARIA-256-OFB"},{label:"CAMELLIA-128-CBC",value:"CAMELLIA-128-CBC"},{label:"CAMELLIA-128-CFB",value:"CAMELLIA-128-CFB"},{label:"CAMELLIA-128-CFB1",value:"CAMELLIA-128-CFB1"},{label:"CAMELLIA-128-CFB8",value:"CAMELLIA-128-CFB8"},{label:"CAMELLIA-128-OFB",value:"CAMELLIA-128-OFB"},{label:"CAMELLIA-192-CBC",value:"CAMELLIA-192-CBC"},{label:"CAMELLIA-192-CFB",value:"CAMELLIA-192-CFB"},{label:"CAMELLIA-192-CFB1",value:"CAMELLIA-192-CFB1"},{label:"CAMELLIA-192-CFB8",value:"CAMELLIA-192-CFB8"},{label:"CAMELLIA-192-OFB",value:"CAMELLIA-192-OFB"},{label:"CAMELLIA-256-CBC",value:"CAMELLIA-256-CBC"},{label:"CAMELLIA-256-CFB",value:"CAMELLIA-256-CFB"},{label:"CAMELLIA-256-CFB1",value:"CAMELLIA-256-CFB1"},{label:"CAMELLIA-256-CFB8",value:"CAMELLIA-256-CFB8"},{label:"CAMELLIA-256-OFB",value:"CAMELLIA-256-OFB"},{label:"CHACHA20-POLY1305",value:"CHACHA20-POLY1305"},{label:"SM4-CBC",value:"SM4-CBC"},{label:"SM4-CFB",value:"SM4-CFB"},{label:"SM4-OFB",value:"SM4-OFB"},{label:"DES-EDE-CBC",value:"DES-EDE-CBC"},{label:"DES-EDE-CFB",value:"DES-EDE-CFB"},{label:"DES-EDE-OFB",value:"DES-EDE-OFB"},{label:"DES-EDE3-CBC",value:"DES-EDE3-CBC"},{label:"DES-EDE3-CFB",value:"DES-EDE3-CFB"},{label:"DES-EDE3-CFB1",value:"DES-EDE3-CFB1"},{label:"DES-EDE3-CFB8",value:"DES-EDE3-CFB8"},{label:"DES-EDE3-OFB",value:"DES-EDE3-OFB"}],Uk=[{label:"yes",value:"yes"},{label:"no",value:"no"},{label:"adaptive",value:"adaptive"}],iH=["client","server","nobind","comp-lzo","ccd-exclusive","persist-key","persist-tun","daemon","duplicate-cn","ifconfig-pool-linear","comp-noadapt","multihome","fast-io"],jk=["remote","route","push","iroute","remote-cert-tls","tls-auth","tls-crypt"],jI=[{name:"server",arg:"",scope:ye.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"port",arg:"1194",scope:ye.ovp},{name:"proto",arg:"udp",scope:ye.ovp},{name:"dev",arg:"tun0",scope:ye.ovp},{name:"topology",arg:"subnet",scope:ye.ovp},{name:"ifconfig-pool-persist",arg:"/etc/openvpn/ipp.txt",scope:ye.ovp},{name:"ccd-exclusive",arg:"",scope:ye.ovp},{name:"client-config-dir",arg:"/etc/openvpn/ccd",scope:ye.ovp},{name:"keepalive",arg:"10 120",scope:ye.ovp},{name:"cipher",arg:"AES-128-GCM",scope:ye.ovp},{name:"data-ciphers",arg:"AES-128-GCM:CHACHA20-POLY1305",scope:ye.ovp},{name:"user",arg:"nobody",scope:ye.ovp},{name:"group",arg:"nogroup",scope:ye.ovp},{name:"persist-key",arg:"",scope:ye.ovp},{name:"persist-tun",arg:"",scope:ye.ovp},{name:"status",arg:"/etc/openvpn/openvpn-status.log",scope:ye.ovp},{name:"verb",arg:"3",scope:ye.ovp},{name:"multihome",arg:"",scope:ye.ovp},{name:"fast-io",arg:"",scope:ye.ovp}],nH=[{name:"remote",arg:"",scope:ye.ovp,required:!0,readonly:!0,emptyMessageKey:"VPN.CONFIG.ERRORS.REMOTEOPTION_ERROR.HINT"},{name:"client",arg:"",scope:ye.ovp},{name:"dev",arg:"tun",scope:ye.ovp},{name:"proto",arg:"udp",scope:ye.ovp},{name:"resolv-retry",arg:"infinite",scope:ye.ovp},{name:"nobind",arg:"",scope:ye.ovp},{name:"user",arg:"nobody",scope:ye.ovp},{name:"group",arg:"nogroup",scope:ye.ovp},{name:"persist-key",arg:"",scope:ye.ovp},{name:"persist-tun",arg:"",scope:ye.ovp},{name:"cipher",arg:"AES-128-GCM",scope:ye.ovp},{name:"auth-nocache",arg:"",scope:ye.ovp},{name:"tls-client",arg:"",scope:ye.ovp},{name:"verb",arg:"3",scope:ye.ovp},{name:"float",arg:"",scope:ye.ovp},{name:"remote-cert-tls",arg:"server",scope:ye.ovp}],oH=[{name:"ifconfig-push",arg:"",scope:ye.ccd,required:!0,readonly:!0}],rH=["push","push-reset","iroute","iroute-ipv6","ifconfig-push","ifconfig-ipv6-push","disable","config","max-routes-per-client","comp-lzo"],Gk=["askpass","auth-gen-token","auth-nocache","auth-retry","auth-user-pass-verify","auth-user-pass","auth","bcast-buffers","block-outside-dns","ca","ccd-exclusive","cd","cert","chroot","cipher","client-cert-not-required","client-config-dir","client-connect","client-disconnect","client-to-client","client","comp-noadapt","config","connect-freq","comp-lzo","compress","connect-retry","crl-verify","cryptoapicert","daemon","data-ciphers","data-ciphers-fallback","dev-node","dev-type","dev","dh","dhcp-option","dhcp-release","disable-occ","dhcp-renew","disable-occ","disable","down-pre","down","duplicate-cn","echo","engine","explicit-exit-notify","fast-io","float","fragment","group","hand-window","hash-size","http-proxy-option","http-proxy-retry","http-proxy-timeout","http-proxy server","ifconfig-noexec","ifconfig-nowarn","ifconfig-pool-linear","ifconfig-pool-persist","ifconfig-pool","ifconfig-push","ifconfig","inactive","inetd","ip-win32 method","ipchange","iroute","keepalive","key-method","key","keysizen","learn-address","link-mtu","local","log-append","log","suppress-timestamps","lport","management-hold","management-log-cache","management-query-passwords","management","max-clients","max-routes-per-client","mktun","mlock","mode","mssfix","mtu-disc","mtu-test","multihome","mute-replay-warnings","mute","nice","no-iv","no-replay","nobind","ns-cert-type","passtos","pause-exit","persist-key","persist-local-ip","persist-remote-ip","persist-tun","ping-exit","ping-restart","ping-timer-rem","ping","pkcs12","plugin","port","proto","pull","push-reset","push","rcvbuf","redirect-gateway","remap-usr1","remote-cert-tls","remote-random","reneg-bytes","reneg-pkts","reneg-sec","replay-persist","replay-window","resolv-retry","rmtun","route-delay","route-gateway","route-method","route-noexec","route-up","route","rport","script-security","secret","server-bridge","server","service","setenv","shaper","show-adapters","show-ciphers","show-digests","show-engines","show-net-up","show-net","show-tls","show-valid-subnets","single-session","sndbuf","socks-proxy-retry","socks-proxy","status","status-version","syslog","tap-sleep","tcp-queue-limit","test-crypto","tls-auth","tls-cipher","tls-ciphersuites","tls-client","tls-crypt","tls-crypt-v2","tls-exit","tls-remote","tls-server","tls-timeout","tls-verify","tls-version-min","tls-version-max","tmp-dir","tran-window ","tun-ipv6","tun-mtu-extra","tun-mtu","txqueuelen","up-delay","up-restart","up","user","username-as-common-name ","verb","writepid"],Ed=(function(i){return i.O_ADDRESS="Address",i.O_ALLOWED_IPS="AllowedIPs",i.O_VPN_NETWORK="<<vpn_network>>",i})(Ed||{}),Hk=(function(i){return i.O_ADDRESS="Address",i.O_ALLOWED_IPS="AllowedIPs",i.O_ENDPOINT="Endpoint",i.O_LISTENPORT="ListenPort",i.O_PRIVATE_KEY="PrivateKey",i.O_PUBLIC_KEY="PublicKey",i})(Hk||{}),zk=(function(i){return i.O_ADDRESS="Address",i.O_PRIVATE_KEY="PrivateKey",i.O_PUBLIC_KEY="PublicKey",i.O_ENDPOINT="Endpoint",i})(zk||{});var GI=[{name:"PrivateKey",arg:"",scope:ye.wg_server_interface},{name:"Address",arg:"",scope:ye.wg_server_interface,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"ListenPort",arg:"51820",scope:ye.wg_server_interface}],sH=[{name:"Address",arg:"",scope:ye.wg_server_interface,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"ListenPort",arg:"51820",scope:ye.wg_server_interface},{name:"DNS",arg:"",scope:ye.wg_server_interface},{name:"MTU",arg:"",scope:ye.wg_server_interface},{name:"Table",arg:"",scope:ye.wg_server_interface},{name:"PreUp",arg:"",scope:ye.wg_server_interface},{name:"PostUp",arg:"",scope:ye.wg_server_interface},{name:"PreDown",arg:"",scope:ye.wg_server_interface},{name:"PostDown",arg:"",scope:ye.wg_server_interface},{name:"SaveConfig",arg:"",scope:ye.wg_server_interface},{name:"FwMark",arg:"",scope:ye.wg_server_interface}],aH=[{name:"PublicKey",arg:"",scope:ye.wg_server_peer},{name:"AllowedIPs",arg:"",scope:ye.wg_server_peer}],lH=[{name:"AllowedIPs",arg:"",scope:ye.wg_server_peer},{name:"Endpoint",arg:"",scope:ye.wg_server_peer},{name:"PersistentKeepalive",arg:"",scope:ye.wg_server_peer},{name:"PresharedKey",arg:"",scope:ye.wg_server_peer}],HI=[{name:"PrivateKey",arg:"",scope:ye.wg_client_interface},{name:"Address",arg:"",scope:ye.wg_client_interface}],cH=[{name:"Address",arg:"",scope:ye.wg_client_interface},{name:"DNS",arg:"",scope:ye.wg_client_interface}],zI=[{name:"PublicKey",arg:"",scope:ye.wg_client_peer},{name:"Endpoint",arg:"",scope:ye.wg_client_peer,emptyMessageKey:"VPN.CONFIG.ERRORS.ENDPOINT_ERROR.HINT"},{name:"AllowedIPs",arg:"",scope:ye.wg_client_peer}],dH=[{name:"AllowedIPs",arg:"",scope:ye.wg_client_peer},{name:"Endpoint",arg:"",scope:ye.wg_client_peer,emptyMessageKey:"VPN.CONFIG.ERRORS.ENDPOINT_ERROR.HINT"},{name:"PersistentKeepalive",arg:"",scope:ye.wg_client_peer},{name:"PresharedKey",arg:"",scope:ye.wg_client_peer}],Ju=class i{static address(n){return/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}(,\s*(\d{1,3}\.){3}\d{1,3}\/\d{1,2})*$/.test(n.value)?null:{invalidAddress:{value:n.value}}}static dns(n){return/^((\d{1,3}\.){3}\d{1,3}|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9](\.[a-zA-Z]{2,})+)(,\s*((\d{1,3}\.){3}\d{1,3}|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9](\.[a-zA-Z]{2,})+))*$/.test(n.value)?null:{invalidDNS:{value:n.value}}}static listenPort(n){return/^([1-9]\d{0,3}|[1-5]\d{4}|6[0-4]\d{3}|65[0-4]\d{2}|655[0-2]\d|6553[0-5])$/.test(n.value)?null:{invalidListenPort:{value:n.value}}}static mtu(n){let e=parseInt(n.value,10);return/^\d+$/.test(n.value)&&e>=576&&e<=65535?null:{invalidMTU:{value:n.value}}}static table(n){let e=n.value;if(e==="off"||e==="auto")return null;let t=typeof e=="string"&&/^[0-9]+$/.test(e),o=typeof e=="number"&&Number.isInteger(e)&&e>=0;return t||o?null:{invalidTable:{value:e}}}static allowedIPs(n){let e=n.value;if(!e||typeof e!="string")return null;let t=new RegExp(Mt.ipV4Regexp),o=Mt.netmaskCIDRRegexp,r=e.split(",").map(s=>s.trim());for(let s of r){let[a,l]=s.split("/").map(u=>u.trim());if(!a||!l)return{invalidAllowedIPs:{value:e,invalidIp:s}};let c=t.test(a),d=o.test("/"+l)&&parseInt(l,10)>=0&&parseInt(l,10)<=32;if(!c||!d)return{invalidAllowedIPs:{value:e,invalidIp:s}}}return null}static endpoint(n){return/^((\d{1,3}\.){3}\d{1,3}|[a-zA-Z0-9.-]+):(\d{1,5})$/.test(n.value)?null:{invalidEndpoint:{value:n.value}}}static persistentKeepalive(n){return/^\d+$/.test(n.value)&&parseInt(n.value)<=65535?null:{invalidPersistentKeepalive:{value:n.value}}}static presharedKey(n){return/^[A-Za-z0-9+/]{43}=$/.test(n.value)?null:{invalidPresharedKey:{value:n.value}}}static command(n){return n.value&&n.value.length>0?null:{invalidCommand:{value:n.value}}}static wireGuardOptionValidator(n){return e=>{switch(n){case"Address":return i.address(e);case"DNS":return i.dns(e);case"ListenPort":return i.listenPort(e);case"MTU":return i.mtu(e);case"Table":return i.table(e);case"AllowedIPs":return i.allowedIPs(e);case"Endpoint":return i.endpoint(e);case"PersistentKeepalive":return i.persistentKeepalive(e);case"PresharedKey":return i.presharedKey(e);case"PreUp":case"PostUp":case"PreDown":case"PostDown":return i.command(e);default:return null}}}},va=(function(i){return i.O_LEFT="left",i.O_RIGHT="right",i.O_LEFTSUBNET="leftsubnet",i.O_RIGHTSUBNET="rightsubnet",i.O_LEFTSOURCEIP="leftsourceip",i})(va||{}),WI=(function(i){return i.O_kEYEXCHANGE="keyexchange",i.O_IKE="ike",i.O_ESP="esp",i.O_AUTO="auto",i.O_LEFT="left",i.O_LEFTID="leftid",i.O_LEFTCERT="leftcert",i})(WI||{}),$I=(function(i){return i.O_KEYEXCHANGE="keyexchange",i.O_IKE="ike",i.O_ESP="esp",i.O_AUTO="auto",i.O_RIGHT="right",i.O_RIGHTID="rightid",i.O_LEFT="left",i.O_LEFTID="leftid",i.O_LEFTCERT="leftcert",i.O_LEFTSOURCEIP="leftsourceip",i})($I||{});var KI=[{name:"keyexchange",arg:"ikev2",scope:ye.ipsec_server},{name:"ike",arg:"aes256-sha256-modp2048!",scope:ye.ipsec_server},{name:"esp",arg:"aes256-sha256!",scope:ye.ipsec_server},{name:"dpdaction",arg:"clear",scope:ye.ipsec_server},{name:"dpddelay",arg:"300s",scope:ye.ipsec_server},{name:"rekey",arg:"no",scope:ye.ipsec_server},{name:"left",arg:"%any",scope:ye.ipsec_server},{name:"leftid",arg:"CN=",scope:ye.ipsec_server},{name:"leftcert",arg:"",scope:ye.ipsec_server},{name:"leftsubnet",arg:"",scope:ye.ipsec_server,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"leftfirewall",arg:"yes",scope:ye.ipsec_server},{name:"rightauth",arg:"pubkey",scope:ye.ipsec_server,emptyMessageKey:"VPN.CONFIG.ERRORS.RIGHT_ERROR.HINT"},{name:"auto",arg:"ignore",scope:ye.ipsec_server},{name:"charondebug",arg:"ike 1, knl 1, cfg 0",scope:ye.ipsec_server}],pH=[{name:"keyexchange",arg:"ikev2",scope:ye.ipsec_server},{name:"ike",arg:"aes256-sha256-modp2048!",scope:ye.ipsec_server},{name:"esp",arg:"aes256-sha256!",scope:ye.ipsec_server},{name:"dpdaction",arg:"clear",scope:ye.ipsec_server},{name:"dpddelay",arg:"300s",scope:ye.ipsec_server},{name:"rekey",arg:"no",scope:ye.ipsec_server},{name:"left",arg:"%any",scope:ye.ipsec_server},{name:"leftid",arg:"CN=",scope:ye.ipsec_server},{name:"leftcert",arg:"",scope:ye.ipsec_server},{name:"leftsubnet",arg:"",scope:ye.ipsec_server,emptyMessageKey:"VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.HINT"},{name:"leftfirewall",arg:"yes",scope:ye.ipsec_server},{name:"right",arg:"",scope:ye.ipsec_server,emptyMessageKey:"VPN.CONFIG.ERRORS.RIGHT_ERROR.HINT"},{name:"rightauth",arg:"pubkey",scope:ye.ipsec_server},{name:"rightsubnet",arg:"",scope:ye.ipsec_server},{name:"auto",arg:"ignore",scope:ye.ipsec_server},{name:"charondebug",arg:"ike 1, knl 1, cfg 0",scope:ye.ipsec_server}],uH=[{name:"rightid",arg:"CN=",scope:ye.ipsec_client},{name:"rightcert",arg:"",scope:ye.ipsec_client},{name:"rightsourceip",arg:"",scope:ye.ipsec_client},{name:"auto",arg:"add",scope:ye.ipsec_client}],hH=[{name:"rightid",arg:"CN=",scope:ye.ipsec_client},{name:"rightcert",arg:"",scope:ye.ipsec_client},{name:"rightsourceip",arg:"",scope:ye.ipsec_client},{name:"rightsubnet",arg:"",scope:ye.ipsec_client},{name:"auto",arg:"add",scope:ye.ipsec_client},{name:"also",arg:"server_only",scope:ye.ipsec_client}],qI=[{name:"keyexchange",arg:"ikev2",scope:ye.ipsec_client},{name:"ike",arg:"aes256-sha256-modp2048!",scope:ye.ipsec_client},{name:"esp",arg:"aes256-sha256!",scope:ye.ipsec_client},{name:"left",arg:"%defaultroute",scope:ye.ipsec_client},{name:"leftid",arg:"CN=",scope:ye.ipsec_client},{name:"leftcert",arg:"",scope:ye.ipsec_client},{name:"leftauth",arg:"pubkey",scope:ye.ipsec_client},{name:"leftsourceip",arg:"%config",scope:ye.ipsec_client},{name:"right",arg:"",scope:ye.ipsec_client,emptyMessageKey:"VPN.CONFIG.ERRORS.RIGHT_ERROR.HINT"},{name:"rightid",arg:"CN=",scope:ye.ipsec_client},{name:"rightauth",arg:"pubkey",scope:ye.ipsec_client},{name:"rightsubnet",arg:"",scope:ye.ipsec_client},{name:"charondebug",arg:"ike 1, cfg 0",scope:ye.ipsec_client},{name:"auto",arg:"start",scope:ye.ipsec_client}],Qu=class i{static ipAddress(n){if(!n.value)return null;let e=n.value.trim();if(e==="%any")return null;let t=/^(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)){3}$/,o=/^[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/;return t.test(e)||o.test(e)?null:{invalidIPAddress:{value:n.value}}}static dns(n){return n.value?/^((\d{1,3}\.){3}\d{1,3}|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9](\.[a-zA-Z]{2,})+)(,\s*((\d{1,3}\.){3}\d{1,3}|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9](\.[a-zA-Z]{2,})+))*$/.test(n.value)?null:{invalidDNS:{value:n.value}}:null}static endpoint(n){if(!n.value)return null;let e=n.value.trim();return e==="%any"||e==="%defaultroute"||i.ipAddress({value:e})===null||i.dns({value:e})===null?null:{invalidEndpoint:{value:n.value}}}static id(n){return n.value?/^"@[\w\.-]+\.\w{2,}"$/.test(n.value)||/^"([a-zA-Z]+=[^,]+,?\s*)+"$/.test(n.value)?null:{invalidID:{value:n.value}}:null}static proposal(n){return n.value?/^([a-z0-9]+-){1,2}[a-z0-9]+(!)?$/.test(n.value)?null:{invalidProposal:{value:n.value}}:null}static keyExchange(n){return["ikev1","ikev2"].includes(n.value)?null:{invalidKeyExchange:{value:n.value}}}static dpdAction(n){return["clear","hold","restart","restart-by-peer","none"].includes(n.value)?null:{invalidDPDAction:{value:n.value}}}static duration(n){return/^\d+(s|m)$/.test(n.value)?null:{invalidDuration:{value:n.value}}}static booleanOption(n){return["true","false"].includes(n.value)?null:{invalidBoolean:{value:n.value}}}static autoOption(n){return["add","start","route","ignore"].includes(n.value)?null:{invalidAutoOption:{value:n.value}}}static certFile(n){return/^[\w.\-]+\.(crt|pem)$/.test(n.value)?null:{invalidCertFile:{value:n.value}}}static psk(n){return n.value?.length>=8?null:{invalidPSK:{value:n.value}}}static subnet(n){let e=/^((25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)){3})\/([0-9]|[1-2][0-9]|3[0-2])$/;return(n.value||"").trim().split(",").map(s=>s.trim()).every(s=>e.test(s))?null:{invalidSubnet:{value:n.value}}}static sourceIP(n){let e=n.value;return e==="%config"?null:(e=typeof e=="string"?e.trim():e,i.ipAddress({value:e})===null?null:{invalidSourceIP:{value:n.value}})}static authMethod(n){let e=n.value?.toString().trim().toLowerCase();return e?["pubkey","psk","eap"].includes(e)?null:{invalidAuthMethod:{value:n.value}}:null}static charonDebug(n){return/^([a-z]{3,5} \d)(,\s*[a-z]{3,5} \d)*$/.test(n.value)?null:{invalidCharonDebug:{value:n.value}}}static yesNoOption(n){let e=n.value?.toString().trim().toLowerCase();return e?["yes","no","true","false"].includes(e)?null:{invalidYesNo:{value:n.value}}:null}static IPSecOptionValidator(n){return e=>{switch(n){case"left":case"right":return i.endpoint(e);case"leftid":case"rightid":return i.id(e);case"leftcert":case"rightcert":return i.certFile(e);case"leftsubnet":case"rightsubnet":return i.subnet(e);case"leftsourceip":case"rightsourceip":return i.sourceIP(e);case"leftauth":case"rightauth":return i.authMethod(e);case"ike":case"esp":return i.proposal(e);case"keyexchange":return i.keyExchange(e);case"dpdaction":return i.dpdAction(e);case"dpddelay":return i.duration(e);case"leftfirewall":case"rekey":return i.yesNoOption(e);case"charondebug":return i.charonDebug(e);case"auto":return i.autoOption(e);case"PSK":return i.psk(e);default:return null}}}},zf=(function(i){return i[i.HINT_NO_FWCLOUDS=101]="HINT_NO_FWCLOUDS",i[i.HINT_NO_FW=102]="HINT_NO_FW",i[i.HINT_CA_CREATING=201]="HINT_CA_CREATING",i})(zf||{}),Mt={netmaskRegexp:/^(((255\.){3}(255|254|252|248|240|224|192|128|0+))|((255\.){2}(255|254|252|248|240|224|192|128|0+)\.0)|((255\.)(255|254|252|248|240|224|192|128|0+)(\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\.0+){3}))$/,netmaskCIDRRegexp:/^\/([0-9]|[1-9][0-9]|1[01][0-9]|12[0-8])$/,netmaskFullRegexp:/^(^(255\.){3}(255|254|252|248|240|224|192|128|0+))|((255\.){2}(255|254|252|248|240|224|192|128|0+)\.0)|((255\.){1}(255|254|252|248|240|224|192|128|0+)\.0{2})|((255|254|252|248|240|224|192|128|0+)\.0{3})$|^\/([0-9]|[1-9][0-9]|1[01][0-9]|12[0-8])$/,ipV4Regexp:"^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",ipV6Regexp:"(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))",macRegexp:"^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$",fqdnRegexp:"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$",nameRegExp:"^[ -~\\x80-\\xFE]{1,64}$",posixPathRegexp:"^\\/{1}(((\\/{1}\\.{1})?[a-zA-Z0-9 ]+\\/?)+(\\.{1}[a-zA-Z0-9]{2,4})?)$",posixFilenameRegexp:"^[a-zA-Z0-9\\-_\\.]{4,64}$",wireGuardInstallName:"^.+\\.conf$",IPSecInstallName:"^.+\\.conf$",linuxUsername:"^[a-zA-Z_]([a-zA-Z0-9_-]{0,31}|[a-zA-Z0-9_-]{0,30}$)$",linuxPassword:"^[ -~\\x80-\\xFE]{2,64}$",webAddressRegexp:"^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$",passwordRegexp:"^[ -~\\x80-\\xFE]{6,64}$",portRegexp:"^\\d{1,5}$",cnRegExp:"^[a-zA-Z0-9][a-zA-Z0-9-_.]{0,63}$",connNameRegExp:"^[a-zA-Z0-9-_.]{1,64}$",ipAddressValidator:function(i){let n=i.value||"",e=!1,t;this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value);try{t===6?gl.IPv6.isValid(n)&&(e=!0):gl.IPv4.isValid(n)&&new RegExp(Mt.ipV4Regexp).test(n)&&(e=!0)}catch{e=!1}return e?null:{ip:!0}},networkAddressValidator:function(i){let n=i.value||"",e=this.formModel?.controls.ip_version?.value,t=this.formModel?.controls.netmask?.value;if(!n||!t||e==null)return null;try{if(e===6){if(!gl.IPv6.isValid(n))return{ip:!0};let d=t.startsWith("/")?t.slice(1):t,u=`${n}/${d}`;if(!gl.IPv6.isValidCIDR(u))return{ip:!0};let[m,g]=gl.IPv6.parseCIDR(u),y=gl.IPv6.networkAddressFromCIDR(u);return m.toNormalizedString()===y.toNormalizedString()?null:{networkAddress:{network:`${y.toString()}/${g}`}}}if(!new RegExp(Mt.ipV4Regexp).test(n))return{ip:!0};let r;if(t.startsWith("/"))r=`${n}${t}`;else{let m=gl.IPv4.parse(t).octets.map(g=>g.toString(2).padStart(8,"0")).join("").indexOf("0");r=`${n}/${m>=0?m:32}`}if(!gl.IPv4.isValidCIDR(r))return{ip:!0};let[s,a]=gl.IPv4.parseCIDR(r),l=gl.IPv4.networkAddressFromCIDR(r);return s.toString()===l.toString()?null:{networkAddress:{network:`${l.toString()}/${a}`}}}catch{return null}},netmaskValidator:function(i){let n=i.value||"",e,t;if(this.formModel.controls.ip_version&&(t=this.formModel.controls.ip_version.value),t==4&&n.match(Mt.netmaskRegexp))e=!0;else{let r=new RegExp(Mt.netmaskCIDRRegexp).exec(n);if(r){let s,a;s=+r[1],t==4?a=32:t==6&&(a=128),e=s>=0&&s<=a}}return e?null:{netmask:!0}},distinctNameValidator(i){let n=1,e,t;if(this.formModel)for(let o=0;o<i.length&&n<=2;o++){e=i.at(o).get("name").value;for(let r=o+1;r<i.length;r++)t=i.at(r).get("name").value,e==t&&n++}return n<=1?null:{distinctnames:!0}}},Wf=(function(i){return i[i.ROLE_ADMINISTRATOR=1]="ROLE_ADMINISTRATOR",i[i.ROLE_MANAGER=2]="ROLE_MANAGER",i})(Wf||{}),jl=(function(i){return i.BACKUP_INTERVAL_TIME="BACKUP_INTERVAL_TIME",i.BACKUP_FIXED_TIME="BACKUP_FIXED_TIME",i.BACKUP_MAX_COPIES="BACKUP_MAX_COPIES",i.BACKUP_MAX_DAYS="BACKUP_MAX_DAYS",i})(jl||{}),La=(function(i){return i[i.CREATE=1]="CREATE",i[i.UPDATE=2]="UPDATE",i[i.UPDATE_SPECIAL=3]="UPDATE_SPECIAL",i[i.NO_OP=9]="NO_OP",i})(La||{}),fH={[La.CREATE]:{icon:"fa fa-file",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.0"},[La.UPDATE]:{icon:"fa fa-pencil",displayClass:"pillWarnBadge",translateKey:"ITEM_BATCH.OPS_TYPES.1"},[La.UPDATE_SPECIAL]:{icon:"fa fa-pencil",displayClass:"pillInfoBadge",translateKey:"ITEM_BATCH.OPS_TYPES.3"},[La.NO_OP]:{icon:"fa fa-check",displayClass:"pillSecondaryBadge",translateKey:"ITEM_BATCH.OPS_TYPES.2"}},xo=(function(i){return i[i.PENDING=1]="PENDING",i[i.RUNNING=2]="RUNNING",i[i.SUCCESS=3]="SUCCESS",i[i.ERROR=4]="ERROR",i[i.NO_OP=9]="NO_OP",i})(xo||{}),mH={[xo.PENDING]:{icon:"",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.0"},[xo.RUNNING]:{icon:"fa fa-spinner fa-pulse fa-fw",displayClass:"fwcBlue",translateKey:"ITEM_BATCH.OPS_STATUS.1"},[xo.SUCCESS]:{icon:"fa fa-check",displayClass:"fwcGreen",translateKey:"ITEM_BATCH.OPS_STATUS.2"},[xo.ERROR]:{icon:"fa fa-exclamation-triangle",displayClass:"fwcRed",translateKey:"ITEM_BATCH.OPS_STATUS.3"},[xo.NO_OP]:{icon:"fa fa-check",displayClass:"fwcPaleDark",translateKey:"ITEM_BATCH.OPS_STATUS.4"}},oi=(function(i){return i.VPN_WINDOWS_INSTALLER="VPN_WINDOWS_INSTALLER",i.VPN_MESH_WIZARD="VPN_MESH_WIZARD",i.VPN_STATUS_PANEL="VPN_STATUS_PANEL",i.FIREWALL_IMPORT_WIZARD="FIREWALL_IMPORT_WIZARD",i.ITEM_BATCH_MANAGER="ITEM_BATCH_MANAGER",i.DOCS_PANEL="DOCS_PANEL",i.BLOCK_UI_PANEL="BLOCK_UI_PANEL",i.ITEM_PANEL="ITEM_PANEL",i.FIREWALL_PANEL="FIREWALL_PANEL",i.CLUSTER_PANEL="CLUSTER_PANEL",i.OVCONFIG_PANEL="OVCONFIG_PANEL",i.WIREGUARD_CONFIG_PANEL="WIREGUARD_CONFIG_PANEL",i.IPSEC_CONFIG_PANEL="IPSEC_CONFIG_PANEL",i.NGFW_PANEL="NGFW_PANEL",i.SYSTEMCTL_PANEL="SYSTEMCTL_PANEL",i.DHCP_INSTALL_PANEL="DHCP_INSTALL_PANEL",i.KEEPALIVED_INSTALL_PANEL="KEEPALIVED_INSTALL_PANEL",i.DANGEROUS_RULES_PANEL="DANGEROUS_RULES_PANEL",i})(oi||{}),V5t="open-solidarity.fwcloud.net",gH={cloud:"docs/Sections/FWClouds",policy:"docs/Sections/Policy",vpn:"docs/Sections/VPN",firewalls:"docs/Sections/Firewalls",configuration:"docs/Sections/Configuration",ipobjs:"docs/Sections/Objects"},U5t="assets/themes/fwc-light.css",j5t="assets/themes/fwc-dark.css",St=(()=>{let n=class n{hasTreeOpenNodesEntry(t,o,r){if(t==null)return!1;let s=o??"policy",a=r??"firewalls";return this.treeOpenNodesMap.get(t)?.get(s)?.has(a)??!1}getTreeOpenNodesSet(t,o,r){if(t==null)return new Set;let s=o??"policy",a=r??"firewalls";return this.ensureTreeEntry(t,s,a).nodes}setTreeOpenNodes(t,o,r,s){if(t==null)return;let a=o??"policy",l=r??"firewalls",c=this.ensureTreeEntry(t,a,l);c.nodes.clear(),s.forEach(d=>c.nodes.add(d))}getTreeSelectedNodeRef(t,o,r){if(t==null)return;let s=o??"policy",a=r??"firewalls",l=this.treeOpenNodesMap.get(t)?.get(s)?.get(a)?.selectedNode;return l?Fe(ee({},l),{policySelection:l.policySelection?ee({},l.policySelection):void 0}):void 0}setTreeSelectedNodeRef(t,o,r,s){if(t==null)return;let a=o??"policy",l=r??"firewalls";if(s==null){let u=this.treeOpenNodesMap.get(t)?.get(a)?.get(l);u&&delete u.selectedNode;return}let d=this.ensureTreeEntry(t,a,l);d.selectedNode=Fe(ee({},s),{policySelection:s.policySelection?ee({},s.policySelection):void 0})}ensureTreeEntry(t,o,r){let s=this.treeOpenNodesMap.get(t);s||(s=new Map,this.treeOpenNodesMap.set(t,s));let a=s.get(o);a||(a=new Map,s.set(o,a));let l=a.get(r);return l||(l={nodes:new Set},a.set(r,l)),l}clearTreeStateForFwcloud(t){t!=null&&this.treeOpenNodesMap.delete(t)}clearAllTreeState(){this.treeOpenNodesMap.clear()}constructor(){this.subjectHelp=new Le,this.treeOpenNodesMap=new Map,this.optionsTreeFw={user_id:void 0,fwcloud:void 0,container:Ge.C_FIREWALLS,containerReadOnly:!1,objStandard:void 0,objCloud:void 0,view:"policy",treeName:"firewalls"},this.optionsTreeObj={user_id:void 0,fwcloud:void 0,container:Ge.C_OBJECTS,containerReadOnly:!0,objStandard:void 0,objCloud:void 0,view:"policy",treeName:"objects"},this.optionsTreeSrv={user_id:void 0,fwcloud:void 0,container:Ge.C_SERVICES,containerReadOnly:!0,objStandard:void 0,objCloud:void 0,view:"policy",treeName:"services"},this.optionsTreeCa={user_id:void 0,fwcloud:void 0,container:Ge.C_CA,containerReadOnly:!0,objStandard:void 0,objCloud:void 0,view:"vpn",treeName:"PKI"},this.optionsTreeFwCon={user_id:void 0,fwcloud:void 0,container:Ge.C_FIREWALLS_CONDENSED,containerReadOnly:!1,objStandard:void 0,objCloud:void 0,view:"vpn",treeName:"firewalls"},this.enableInfoTooltip=!0}showHelp(t){return this.subjectHelp.next(t),this.subjectHelp.asObservable()}isValidIP(t){return/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t.trim())}isValidMask(t,o){let r=t.trim();if(o!==4&&o!==6&&(o=4),o===4&&r.match(Mt.netmaskRegexp))return!0;{let a=new RegExp(Mt.netmaskCIDRRegexp).exec(r);if(a){let l=+a[1],c=o===4?32:128;return l>=0&&l<=c}}return!1}convertToStandardNetmask(t){let o=t,r=Mt.netmaskCIDRRegexp.exec(o);if(r){let s=parseInt(r[1]);try{o=gl.IPv4.subnetMaskFromPrefixLength(s).toString()}catch{o=""}}return o}netmaskToCIDR(t){let o=t.split(".").map(Number);if(o.length!==4||o.some(l=>l<0||l>255))throw new Error("Netmask is invalid");let r=o.map(l=>l.toString(2).padStart(8,"0")).join(""),s=r.indexOf("0"),a=r.lastIndexOf("1");if(s!==-1&&a>s)throw new Error("Netmask is not contiguous");return r.split("1").length-1}intToIp(t){return[t>>>24&255,t>>>16&255,t>>>8&255,t&255].join(".")}ipToLong(t){return t.split(".").reduce((o,r)=>(o<<8)+Number(r),0)>>>0}byteArrayToInt(t){return t.reduce((o,r)=>(o<<8)+r,0)}ipToInt(t){return t.split(".").reduce((o,r)=>(o<<8)+parseInt(r,10),0)}setControlError(t,o){if(!t)return;let r=t.errors||{};r[o]||t.setErrors(Fe(ee({},r),{[o]:!0}))}clearControlErrors(t){t&&t.errors&&t.setErrors(null)}normalizeFirstTo32(t){if(!t)return"";let o=t.split(",").map(s=>s.trim());if(o.length===0)return"";let r=o[0].split("/")[0];return o[0]=`${r}/32`,o.join(", ")}getNormalizedAllowedIps(t){return this.normalizeFirstTo32(t.allowedips||"")}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var _H={[O.OBJ_FIREWALL]:"fwci-firewall",[O.OBJ_SERVICE_IP]:"fwci-ipservice",[O.OBJ_SERVICE_TCP]:"fwci-tcpservice",[O.OBJ_SERVICE_ICMP]:"fwci-icmpservice",[O.OBJ_SERVICE_UDP]:"fwci-udpservice",[O.OBJ_ADDRESS]:"fwci-address",[O.OBJ_ADDRESS_RANGE]:"fwci-addressrange",[O.OBJ_NETWORK]:"fwci-network",[O.OBJ_HOST]:"fwci-host",[O.OBJ_INTERFACE_FIREWALL]:"fwci-interface fwcGreen",[O.OBJ_INTERFACE_HOST]:"fwci-interface fwcGreen",[O.OBJ_GROUP]:"fwci-objectgroup",[O.OBJ_SERVICE_GROUP]:"fwci-servicegroup",[O.OBJ_GEN_IP_OBJECT]:"fwci-ipobjects",[O.OBJ_CLUSTER]:"fwci-cluster fwcDarkBlue",[O.OBJ_DNS]:"fwci2-dns-in",[O.OBJ_MARK]:"fwci2-label",[O.OBJ_CA]:"fwci2-ca",[O.OBJ_CERT_CLI]:"fwci2-certificate",[O.OBJ_CERT_SER]:"fwci2-certificate fwcDarkBlue",[O.OBJ_OPENVPN_CONFIG_CLI]:"fwci2-openvpn fwcOrange",[O.OBJ_OPENVPN_CONFIG_SER]:"fwci2-openvpn fwcDarkBlue",[O.OBJ_WGC_CONFIG_CLI]:"fwci2-wireguard fwcOrange",[O.OBJ_WGS_CONFIG_SER]:"fwci2-wireguard fwcDarkBlue",[O.OBJ_ISC_CONFIG_CLI]:"fwci2-ipsec fwcOrange",[O.OBJ_ISS_CONFIG_SER]:"fwci2-ipsec fwcDarkBlue",[O.OBJ_PREFIX_FOLDER]:"fwci2-folder",[O.OBJ_OPENVPN_PREFIX]:"fwci2-certificate-prefix",[O.OBJ_WIREGUARD_PREFIX]:"fwci2-certificate-prefix",[O.OBJ_IPSEC_PREFIX]:"fwci2-certificate-prefix",[O.OBJ_GEN_RULE]:"fwci-rule"},bH={[M.FOLDER_CLUSTER]:"fwci-clusters fwcDarkBlue",[M.FOLDER_CLUSTER_FW]:"fwci-compileallfirewalls2",[M.FOLDER_CA]:"fwci2-ca fwcDarkBlue",[M.FOLDER]:"fwci2-folder",[M.STANDARD]:"fwci2-folderstd",[M.FOLDER_FW]:"fwci-firewalls",[M.OBJ_FIREWALL]:"fwci-firewall",[M.FOLDER_OBJECTS]:"fwci-ipobjects",[M.FOLDER_SERVICES]:"fwci-services",[M.FOLDER_POLICY]:"fwci-filterpolicies",[M.POLICY_INPUT]:"fwci-input",[M.POLICY_OUTPUT]:"fwci-output",[M.POLICY_FORWARD]:"fwci-forward",[M.FOLDER_NAT]:"fwci-nat",[M.POLICY_SNAT]:"fwci-snat",[M.POLICY_DNAT]:"fwci-dnat",[M.FOLDER_ROUTING]:"fwci-routing",[M.POLICY_ROUTING]:"fwci-routing",[M.ROUTING_TABLES]:"fwci-policy",[M.ROUTING_TABLE]:"fwci-policy",[M.FOLDER_POLICY6]:"fwci-filterpolicies",[M.POLICY_INPUT6]:"fwci-input",[M.POLICY_OUTPUT6]:"fwci-output",[M.POLICY_FORWARD6]:"fwci-forward",[M.POLICY_SNAT6]:"fwci-snat",[M.POLICY_DNAT6]:"fwci-dnat",[M.POLICY_ROUTING6]:"fwci-routing",[M.OPENVPN_ROOT]:"fwci2-openvpn",[M.WIREGUARD_ROOT]:"fwci2-wireguard",[M.IPSEC_ROOT]:"fwci2-ipsec",[M.COUNTRIES]:"fa fa-globe",[M.AF]:"fa fa-earth-africa",[M.AN]:"fa fa-snowflake",[M.AS]:"fa fa-earth-asia",[M.EU]:"fa fa-earth-europe",[M.NA]:"fa fa-earth-americas",[M.OC]:"fa fa-earth-oceania",[M.SA]:"fa fa-earth-americas"},wn=(()=>{let n=class n{transform(t,o,r){let s="fwcBlue",a="";return o&&bH[o]?a=bH[o]:_H[t]&&(a=_H[t]),r&&(s=r,a=a.split(" ")[0]),a+=" "+s,a}};n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=Vo({name:"fwcIcon",type:n,pure:!0,standalone:!1});let i=n;return i})();var yH=`
    .p-progressbar {
        display: block;
        position: relative;
        overflow: hidden;
        height: dt('progressbar.height');
        background: dt('progressbar.background');
        border-radius: dt('progressbar.border.radius');
    }

    .p-progressbar-value {
        margin: 0;
        background: dt('progressbar.value.background');
    }

    .p-progressbar-label {
        color: dt('progressbar.label.color');
        font-size: dt('progressbar.label.font.size');
        font-weight: dt('progressbar.label.font.weight');
    }

    .p-progressbar-determinate .p-progressbar-value {
        height: 100%;
        width: 0%;
        position: absolute;
        display: none;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        transition: width 1s ease-in-out;
    }

    .p-progressbar-determinate .p-progressbar-label {
        display: inline-flex;
    }

    .p-progressbar-indeterminate .p-progressbar-value::before {
        content: '';
        position: absolute;
        background: inherit;
        inset-block-start: 0;
        inset-inline-start: 0;
        inset-block-end: 0;
        will-change: inset-inline-start, inset-inline-end;
        animation: p-progressbar-indeterminate-anim 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    }

    .p-progressbar-indeterminate .p-progressbar-value::after {
        content: '';
        position: absolute;
        background: inherit;
        inset-block-start: 0;
        inset-inline-start: 0;
        inset-block-end: 0;
        will-change: inset-inline-start, inset-inline-end;
        animation: p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
        animation-delay: 1.15s;
    }

    @keyframes p-progressbar-indeterminate-anim {
        0% {
            inset-inline-start: -35%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
        100% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
    }
    @-webkit-keyframes p-progressbar-indeterminate-anim {
        0% {
            inset-inline-start: -35%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
        100% {
            inset-inline-start: 100%;
            inset-inline-end: -90%;
        }
    }

    @keyframes p-progressbar-indeterminate-anim-short {
        0% {
            inset-inline-start: -200%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
        100% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
    }
    @-webkit-keyframes p-progressbar-indeterminate-anim-short {
        0% {
            inset-inline-start: -200%;
            inset-inline-end: 100%;
        }
        60% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
        100% {
            inset-inline-start: 107%;
            inset-inline-end: -8%;
        }
    }
`;var HIe=["content"],zIe=i=>({$implicit:i});function WIe(i,n){if(i&1&&(_(0,"div"),R(1),b()),i&2){let e=h(2);Kt("display",e.value!=null&&e.value!==0?"flex":"none"),p(),Ps("",e.value,"",e.unit)}}function $Ie(i,n){i&1&&ve(0)}function KIe(i,n){if(i&1&&(_(0,"div",2)(1,"div",2),E(2,WIe,2,4,"div",3)(3,$Ie,1,0,"ng-container",4),b()()),i&2){let e=h();j(e.cn(e.cx("value"),e.valueStyleClass)),Kt("width",e.value+"%")("display","flex")("background",e.color),f("pBind",e.ptm("value")),p(),j(e.cx("label")),f("pBind",e.ptm("label")),p(),f("ngIf",e.showValue&&!e.contentTemplate&&!e._contentTemplate),p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",de(15,zIe,e.value))}}function qIe(i,n){if(i&1&&N(0,"div",2),i&2){let e=h();j(e.cn(e.cx("value"),e.valueStyleClass)),Kt("background",e.color),f("pBind",e.ptm("value"))}}var JIe={root:({instance:i})=>["p-progressbar p-component",{"p-progressbar-determinate":i.mode=="determinate","p-progressbar-indeterminate":i.mode=="indeterminate"}],value:"p-progressbar-value",label:"p-progressbar-label"},vH=(()=>{class i extends Ye{name="progressbar";style=yH;classes=JIe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var wH=new he("PROGRESSBAR_INSTANCE"),$f=(()=>{class i extends Xe{$pcProgressBar=z(wH,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});value;showValue=!0;styleClass;valueStyleClass;unit="%";mode="determinate";color;contentTemplate;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}_componentStyle=z(vH);templates;_contentTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-progressBar"],["p-progressbar"],["p-progress-bar"]],contentQueries:function(t,o,r){if(t&1&&(se(r,HIe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:6,hostBindings:function(t,o){t&2&&(ce("aria-valuemin",0)("aria-valuenow",o.value)("aria-valuemax",100)("aria-level",o.value+o.unit),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{value:[2,"value","value",Je],showValue:[2,"showValue","showValue",Z],styleClass:"styleClass",valueStyleClass:"valueStyleClass",unit:"unit",mode:"mode",color:"color"},features:[Se([vH,{provide:wH,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:2,vars:2,consts:[[3,"class","pBind","width","display","background",4,"ngIf"],[3,"class","pBind","background",4,"ngIf"],[3,"pBind"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&E(0,KIe,4,17,"div",0)(1,qIe,1,5,"div",1),t&2&&(f("ngIf",o.mode==="determinate"),p(),f("ngIf",o.mode==="indeterminate"))},dependencies:[Qe,pt,gt,Oe,pe],encapsulation:2,changeDetection:0})}return i})(),Wk=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[$f,Oe,Oe]})}return i})();var QIe=()=>({height:"6px"});function YIe(i,n){if(i&1&&(_(0,"div",0),N(1,"i",5),b()),i&2){let e=h(2);f("ngClass",e.iconContainerClasses),p(),f("ngClass",e.FwcMessageTypes[e._message.type])("ngStyle",e.iconStyles)}}function XIe(i,n){if(i&1&&(_(0,"h6",1),R(1),b()),i&2){let e=h(2);p(),Y(" ",e._message.title," ")}}function ZIe(i,n){if(i&1&&(_(0,"div",3),N(1,"p-progressBar",6),b()),i&2){let e=h(2);p(),De(Pe(4,QIe)),f("value",e.progress)("showValue",!1)}}function eEe(i,n){if(i&1&&(_(0,"p",0),R(1),b()),i&2){let e=h(2);f("ngClass",e.statusClasses),p(),Y(" ",e._message.status," ")}}function tEe(i,n){if(i&1&&(_(0,"div",0),R(1),D(2,"json"),b()),i&2){let e=h(3);f("ngClass",e.detailsContainerClasses),p(),Y(" ",k(2,2,e._message.details)," ")}}function iEe(i,n){if(i&1){let e=B();_(0,"div",4)(1,"div",7),A("click",function(){w(e);let o=h(2);return C(o.onToggleDetails())}),R(2),D(3,"translate"),N(4,"i",8),b(),G(5,tEe,3,4,"div",0),b()}if(i&2){let e=h(2);p(2),Y(" ",k(3,3,"GLOBALS.MSG_BUTTONS.DETAILS")," "),p(2),f("ngClass",e.state!=null&&e.state.showDetails?"fa-chevron-up":"fa-chevron-down"),p(),H(e.state!=null&&e.state.showDetails?5:-1)}}function nEe(i,n){if(i&1&&(_(0,"div",0),G(1,YIe,2,3,"div",0),_(2,"div",0),G(3,XIe,2,1,"h6",1),N(4,"p",2),G(5,ZIe,2,5,"div",3),G(6,eEe,2,2,"p",0),G(7,iEe,6,5,"div",4),b()()),i&2){let e=h();f("ngClass",e.containerClasses),p(),H(e._message.type!=="none"?1:-1),p(),f("ngClass",e.contentClasses),p(),H(e.messageTitleVisible?3:-1),p(),f("ngClass",e.messageTextClasses)("innerHTML",e._message.text,on),p(),H(e.progress?5:-1),p(),H(e._message.status?6:-1),p(),H(e._message.details?7:-1)}}var oEe={none:"",success:"fa fa-4x fa-check-circle fwcGreen",info:"fa fa-4x fa-info-circle fwcBlue",warning:"fa fa-4x fa-warning fwcOrange",error:"fa fa-4x fa-exclamation-circle fwcRed",loading:"fa fa-4x fa-cog fa-spin fwcBlue"},Nn=(()=>{let n=class n{set message(t){this._message=ee({},t)}constructor(t,o){this.cd=t,this.translate=o,this.FwcMessageTypes=oEe,this.state={showDetails:!1}}ngOnInit(){}get containerClasses(){let t=["flex","overflow-auto","p-2","font-['Montserrat',Arial,sans-serif]","max-w-[80vw]"];return this._message?.horizontal?t.push("flex-row","items-end","gap-3"):t.push("flex-col"),this._message?.highlight?t.push("rounded-[3px]","border","border-[var(--fwcGrey)]"):this._message?.bordered&&(t.push("border"),this._message.type==="info"?t.push("bg-[var(--fwcPaleBlue2)]","border-[var(--fwcBlue)]","border-t-2","border-t-[var(--fwcBlue)]","rounded-[3px]"):this._message.type==="error"?t.push("bg-[var(--fwcPaleRed2)]","border-[var(--fwcPaleRed)]","border-t-2","border-t-[var(--fwcPaleRed)]","rounded-[3px]"):t.push("border-[var(--fwcGrey2)]")),t}get iconContainerClasses(){let t=["text-center"];return this._message?.horizontal?t.push("mr-3","mb-0","flex-shrink-0"):t.push("mb-2"),t}get contentClasses(){let t=["flex-1"];return this._message?.horizontal?t.push("text-left"):t.push("text-center"),t}get messageTitleVisible(){return!!this._message?.title&&!this._message?.compact}get messageTextClasses(){let t=["text-[0.9rem]"];if(this._message?.compact)switch(this._message.type){case"info":case"loading":t.push("text-[var(--fwcBlue)]");break;case"success":t.push("text-[var(--fwcGreen)]");break;case"error":t.push("text-[var(--fwcRed)]");break;default:t.push("text-[var(--fwcMidDark)]")}else t.push("text-[var(--fwcMidDark)]");return t}get statusClasses(){return["mt-2","text-xs","text-[var(--fwcMidDark)]"]}get detailsContainerClasses(){return["p-2","text-left","font-mono","border","border-[var(--fwcGrey2)]","bg-[var(--fwcPaleWhite)]","text-[var(--fwcMidDark)]","overflow-auto","max-h-24"]}get iconStyles(){let t={};return this._message?.compact?t["font-size"]="1.2rem":this._message?.type==="warning"&&(t["font-size"]="3.5rem"),Object.keys(t).length?t:null}onToggleDetails(){this.state.showDetails=!this.state.showDetails}changeText(t){this._message.text=t,this.cd.destroyed||this.cd.detectChanges()}changeStatus(t,o){let r=/(\d+)\/(\d+)/.exec(t);this._message||(this._message={type:"info",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")});let s=t;if(r){let a=Number.parseInt(r[1]),l=Number.parseInt(r[2]),c=Math.round(a/l*100);Number.isNaN(c)||(this.progress=c,s=`${o||""} ${a}/${l}`)}s&&(this._message.status=s),this.cd.destroyed||this.cd.detectChanges()}clearStatus(){this._message&&(this._message.status=void 0),this.progress=void 0,this.cd.destroyed||this.cd.detectChanges()}};n.\u0275fac=function(o){return new(o||n)(x(We),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-message"]],inputs:{message:"message"},standalone:!1,decls:1,vars:1,consts:[[3,"ngClass"],[1,"text-sm","mb-1","font-bold"],[3,"ngClass","innerHTML"],[1,"mt-2"],[1,"mt-2","text-xs"],[3,"ngClass","ngStyle"],[3,"value","showValue"],[1,"font-bold","text-right","text-(--fwcBlue)","mb-1","cursor-pointer",3,"click"],[1,"fa","fa-fw",3,"ngClass"]],template:function(o,r){o&1&&G(0,nEe,8,9,"div",0),o&2&&H(r._message?0:-1)},dependencies:[$t,ft,$f,Ub,It],encapsulation:2});let i=n;return i})();var rEe=1e3,kt=(()=>{let n=class n{constructor(){this.dialogCounter=rEe,this.searchShowDialogSubject=new Le}createDialog(t,o,r){let s;return s=this.dialogCounter++,{dialogId:s,dialogIcon:o,dialogName:t,dialogUUID:r}}findDialog(t){let o;return Array.isArray(this.dialogPanels)&&(o=this.dialogPanels.find(r=>r.dialogId==t)),o}findDialogByUUID(t){let o;return Array.isArray(this.dialogPanels)&&(o=this.dialogPanels.find(r=>r.dialogUUID===t)),o}searchAndShowDialog(t){return t&&this.searchShowDialogSubject.next(t),this.searchShowDialogSubject.asObservable()}openDynamicDialog(t,o){let r=this.findDialogByUUID(t)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var JI=(()=>{let n=class n{constructor(){this.hints=[],this.subjectHint=new Le,this.hintElementSubject=new _n(null),this.hintElement$=this.hintElementSubject.asObservable()}setHintElement(t){this.hintElementSubject.next(t)}clearHintElement(){this.hintElementSubject.next(null)}registerHint(t){this.hints.push(t),this.hintElementSubject.next(t.target)}showRegisteredHint(t,o,r){let s;for(let a=0;a<this.hints.length;a++)if(this.hints[a].id==t){s=this.hints[a];break}s&&(r?s.event=r:o&&(s.target=o),this.setHintToShow(s))}setHintToShow(t){this.subjectHint.next(t)}getHintToShow(){return this.subjectHint.asObservable()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var pUt=(()=>{let n=class n{constructor(){this.subjectMessage=new Le,this.subjectStaticMessage=new Le}sprintf(t,...o){let r=0;return t.replace(/%s/g,function(){return o[r++]})}addNewText(t){this.subjectMessage.next(t)}getMessage(){return this.subjectMessage.asObservable()}addStaticMessage(t){this.subjectStaticMessage.next(t)}getStaticMessage(){return this.subjectStaticMessage.asObservable()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var sa=(()=>{let n=class n{constructor(){this.appRef=null}getAppRef(){return this.appRef}setAppRef(t){this.appRef=t}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var $i=(()=>{let n=class n{get endpoint(){return this._endpoint}set endpoint(t){this._endpoint=t}constructor(t){this.httpClient=t}handleAPIResponse(t){let o;return o={data:t||{}},o}handleAPIResponseNew(t){let o;return o=t,o}handleAPIError(t){let o,r;if(!t)return Ya(null);if(t.error&&t.error.isJoi){let s="";if(Array.isArray(t.error.details))for(let a=0;a<t.error.details.length;a++)s=s.length?", ":""+t.error.details[a].message;else s="UNKNOWN ERROR";r={fwcErr:999999,msg:s}}else t.error&&(t.error.fwcErr||t.status==403)?r=t.error:t.error?r={fwcErr:999999,msg:JSON.stringify(t.error)}:r=void 0;return o={status:t.status,data:t.error&&t.error.data?t.error.data:{},error:r},Ya(o)}handleAPIErrorNew(t){if(t&&t.error&&t.error.status!==void 0&&t.error.response!==void 0&&t.error.message!==void 0&&t.error.stack!==void 0){let o={status:t.status,data:t.error.response,error:t.error.message,errors:t.error.errors};return Ya(o)}else{let o,r,s;if(t.error&&(t.error.fwcErr||t.status==403))o=t.error,s="CONFIRMATION_TOKEN",r=t.status;else{r=500,s="UNKNOWN_ERROR_FORMAT";try{o=JSON.stringify(t.error)}catch{o="Unparseable error"}}return Ya({status:r,data:s,error:o})}}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Xu=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t}getAiAssistantApikey(){let t=`${Ie.settings.fwcAppURL}/aiassistant`;return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}saveAiAssistantApikey(t){let o=`${Ie.settings.fwcAppURL}/aiassistant`;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteAiAssistantApikey(){let t=`${Ie.settings.fwcAppURL}/aiassistant`;return this.httpClient.delete(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkPolicyScript(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/AIassistant`;return this.httpClient.post(s,{prompt:r}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkCompiledRules(t,o,r,s){let a=s.map(c=>`rules[]=${c}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/AIassistant/rules?${a}`;return this.httpClient.post(l,{prompt:r}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var IH=(()=>{let n=class n{constructor(t){this.fwcAiAssistantService=t,this.aiAssistantCheckEnabledSubject=new _n(void 0)}initFromApi(){this.aiAssistantCheckEnabledSubject.value===void 0&&this.fwcAiAssistantService.getAiAssistantApikey().subscribe({next:t=>{this.aiAssistantCheckEnabledSubject.next(!!(t&&t.data&&t.data.length))},error:()=>{this.aiAssistantCheckEnabledSubject.next(!1)}})}getaiAssistantCheckEnabled(){return this.aiAssistantCheckEnabledSubject.value===void 0&&this.initFromApi(),this.aiAssistantCheckEnabledSubject.asObservable()}setaiAssistantCheckEnabled(t){this.aiAssistantCheckEnabledSubject.next(t)}};n.\u0275fac=function(o){return new(o||n)(be(Xu))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var EH=(()=>{let n=class n{constructor(){this.document=z(Ci),this.platformId=z(wr),this.documentIsAccessible=At(this.platformId)}static getCookieRegExp(t){let o=t.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+o+"|;\\s*"+o+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return this.documentIsAccessible?(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie)):!1}get(t){if(this.check(t)){t=encodeURIComponent(t);let r=n.getCookieRegExp(t).exec(this.document.cookie);return r?.[1]?n.safeDecodeURIComponent(r[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let t={},o=this.document;return o.cookie&&o.cookie!==""&&o.cookie.split(";").forEach(r=>{let[s,a]=r.split("=");t[n.safeDecodeURIComponent(s.replace(/^ /,""))]=n.safeDecodeURIComponent(a)}),t}set(t,o,r,s,a,l,c,d){if(!this.documentIsAccessible)return;if(typeof r=="number"||r instanceof Date||s||a||l||c){let g={expires:r,path:s,domain:a,secure:l,sameSite:c||"Lax",partitioned:d};this.set(t,o,g);return}let u=encodeURIComponent(t)+"="+encodeURIComponent(o)+";",m=r||{};if(m.expires)if(typeof m.expires=="number"){let g=new Date(new Date().getTime()+m.expires*1e3*60*60*24);u+="expires="+g.toUTCString()+";"}else u+="expires="+m.expires.toUTCString()+";";m.path&&(u+="path="+m.path+";"),m.domain&&(u+="domain="+m.domain+";"),m.secure===!1&&m.sameSite==="None"&&(m.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),m.secure&&(u+="secure;"),m.sameSite||(m.sameSite="Lax"),u+="sameSite="+m.sameSite+";",m.partitioned&&(u+="Partitioned;"),this.document.cookie=u}delete(t,o,r,s,a="Lax"){if(!this.documentIsAccessible)return;let l=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:l,path:o,domain:r,secure:s,sameSite:a})}deleteAll(t,o,r,s="Lax"){if(!this.documentIsAccessible)return;let a=this.getAll();for(let l in a)a.hasOwnProperty(l)&&this.delete(l,t,o,r,s)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ma=(()=>{let n=class n{constructor(t){this.cookieService=t}initializeAuth(){this.isLogged()||this.resetData()}resetData(){this.cookieService.delete(sn.API_COOKIE),localStorage.removeItem(sn.LS_CUSTOMER_ID),localStorage.removeItem(sn.LS_USER_ID),localStorage.removeItem(sn.LS_USER_NAME),localStorage.removeItem(sn.LS_USER_ROLE),localStorage.removeItem(sn.LS_TOKEN),localStorage.removeItem(sn.LS_CLOUD_ID),localStorage.removeItem(sn.LS_CLOUD_NAME),localStorage.removeItem(sn.LS_PUBLIC_KEY),localStorage.removeItem(sn.LS_PRIVATE_KEY)}login(t,o,r,s,a,l,c){let d=this.cookieService.get(sn.API_COOKIE)||"";localStorage.setItem(sn.LS_TOKEN,d),localStorage.setItem(sn.LS_CUSTOMER_ID,t.toString()),localStorage.setItem(sn.LS_USER_ID,o.toString()),localStorage.setItem(sn.LS_USER_NAME,r),localStorage.setItem(sn.LS_USER_ROLE,s.toString()),localStorage.setItem(sn.LS_PUBLIC_KEY,l),localStorage.setItem(sn.LS_PRIVATE_KEY,c),localStorage.setItem(sn.LS_LANGUAGE,a)}logout(){this.resetData()}isLogged(){let t=!1,o=this.cookieService.get(sn.API_COOKIE),r=localStorage.getItem(sn.LS_TOKEN);return o&&r&&o.length&&r.length&&o===r&&localStorage.getItem(sn.LS_CUSTOMER_ID)&&localStorage.getItem(sn.LS_USER_ID)&&(t=!0),t}getLoggedUser(){let t;return t={customer_id:+localStorage.getItem(sn.LS_CUSTOMER_ID)||null,user_id:+localStorage.getItem(sn.LS_USER_ID)||null,user_name:localStorage.getItem(sn.LS_USER_NAME)||null,role:+localStorage.getItem(sn.LS_USER_ROLE)||null,cloud_id:+localStorage.getItem(sn.LS_CLOUD_ID)||null,cloud_name:localStorage.getItem(sn.LS_CLOUD_NAME)||null,language:localStorage.getItem(sn.LS_LANGUAGE),publicKey:localStorage.getItem(sn.LS_PUBLIC_KEY),privateKey:localStorage.getItem(sn.LS_PRIVATE_KEY)},t}getLanguage(){return localStorage.getItem(sn.LS_LANGUAGE)}setSelectedFwCloud(t,o){localStorage.setItem(sn.LS_CLOUD_ID,t.toString()),localStorage.setItem(sn.LS_CLOUD_NAME,o)}setAppUnderMaintenance(t){this.appUnderMaintenance=t}getAppUnderMaintenance(){return this.appUnderMaintenance}};n.\u0275fac=function(o){return new(o||n)(be(EH))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var TUt=(()=>{let n=class n{constructor(t,o){this.fwcAuthService=t,this._router=o}canActivate(){return this.fwcAuthService.isLogged()?!0:(this._router.navigate(["/user/login"]),!1)}};n.\u0275fac=function(o){return new(o||n)(be(Ma),be(at))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var ZI=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/backups`}getBackups(){let t=this.endpoint;return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}doBackup(t,o){let r=`${this.endpoint}?channel_id=${t}`;return this.httpClient.post(r,o).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}restoreBackup(t,o){let r=`${this.endpoint}/${o}/restore?channel_id=${t}`;return this.httpClient.post(r,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}deleteBackup(t){let o=`${this.endpoint}/${t}`;return this.httpClient.delete(o).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}exportBackup(t){let o=`${this.endpoint}/${t}/export`;return this.httpClient.get(o,{observe:"response",responseType:"blob"}).pipe(X(this.handleAPIError))}importBackup(t){let o=`${this.endpoint}/import`;return this.httpClient.post(o,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}getBackupConfig(){let t=this.endpoint+"/config";return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}saveBackupConfig(t){let o=this.endpoint+"/config";return this.httpClient.put(o,t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var FUt=(()=>{let n=class n{constructor(t,o){this.fwcAuthService=t,this._router=o}canActivate(){return this.fwcAuthService.getAppUnderMaintenance()?!0:(this._router.navigate(["/user/login"]),!1)}};n.\u0275fac=function(o){return new(o||n)(be(Ma),be(at))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var Ba=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=Ie.settings.fwcAppURL+"/fwcloud"}getClouds(){let t=`${this.endpoint}/all/get`;return this.httpClient.get(t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCloud(t){let o=`${this.endpoint}/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newCloud(t){let o=Ie.settings.fwcAppURL+"/fwclouds";return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateCloud(t){let o=Ie.settings.fwcAppURL+"/fwclouds/"+t.fwcloud,r=Object.assign({},t);return delete r.fwcloud,this.httpClient.put(o,JSON.stringify(r)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteCloud(t){let o=`${this.endpoint}/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}generateWindowsInstaller(t,o,r,s){let{openvpn:a}=r,l=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/openvpns/${a}/installer`,c={connection_name:s};return this.httpClient.post(l,JSON.stringify(c),{observe:"response",responseType:"blob"}).pipe(X(this.handleAPIError))}exportCloud(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/${t}/export`,r=new As;return r=r.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(o,{},{headers:r,observe:"response",responseType:"blob"}).pipe(X(this.handleAPIError))}importCloud(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/import`,r=new As;return r=r.set("X-FWC-TIMEOUT","9999999"),this.httpClient.post(o,t,{headers:r}).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCloudColors(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/${t}/colors`;return this.httpClient.get(o).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}lockCloud(t){let o=`${this.endpoint}/lock`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}unlockCloud(t){let o=`${this.endpoint}/unlock`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}forceLockCloud(t){let o=`${this.endpoint}/forcelock`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var dt=(()=>{let n=class n extends $i{constructor(t,o){super(t),this.httpClient=t,this.fwcAuthService=o,this.subjectReloadFWCloud=new Le,this.headerOptions=null,this.endpoint=`${Ie.settings.fwcAppURL}/user`;let r=this.fwcAuthService.getLoggedUser();this.fwcUser=new _n({user_id:r.user_id,customer_id:r.customer_id,user_name:r.user_name,role:r.role,selectedFwCloud:r.cloud_id,selectedFwCloudName:r.cloud_name,selectedLanguage:r.language||"en",showStandardObjects:1,showCloudObjects:1,authToken:"",confirmationToken:"",publicKey:r.publicKey,privateKey:r.privateKey,withCredentials:!0,lockInfo:{result:!1}}),this.fwcUser$=this.fwcUser.asObservable()}getFwcUser(){return this.fwcUser$}getActualFwcUser(){return this.fwcUser.getValue()}getActualFwSelectedCloud(){return this.fwcUser.getValue().selectedFwCloud}setFwcUser(t){this.fwcUser.next(t)}setUserId(t){let o=this.fwcUser.getValue();o.user_id=t,this.fwcUser.next(o)}setCustomerId(t){let o=this.fwcUser.getValue();o.customer_id=t,this.fwcUser.next(o)}setUsername(t){let o=this.fwcUser.getValue();o.user_name=t,this.fwcUser.next(o)}setUserRole(t){let o=this.fwcUser.getValue();o.role=t,this.fwcUser.next(o)}setPublicKey(t){let o=this.fwcUser.getValue();o.publicKey=t,this.fwcUser.next(o)}setPrivateKey(t){let o=this.fwcUser.getValue();o.privateKey=t,this.fwcUser.next(o)}setUserCustomerId(t,o){let r=this.fwcUser.getValue();r.user_id=t,r.customer_id=o,this.fwcUser.next(r)}setSelectedFwCloud(t,o){let r=this.fwcUser.getValue();r.selectedFwCloud=t,r.selectedFwCloudName=o,this.fwcUser.next(r)}setLanguage(t){let o=this.fwcUser.getValue();o.selectedLanguage=t,this.fwcUser.next(o)}setAuthToken(t){let o=this.fwcUser.getValue();o.authToken=t,this.fwcUser.next(o)}setConfirmationToken(t){let o=this.fwcUser.getValue();o.confirmationToken=t,this.fwcUser.next(o)}setWithCredentials(t){let o=this.fwcUser.getValue();o.withCredentials=t,this.fwcUser.next(o)}setAlreadyCheckedForUpdates(t){let o=this.fwcUser.getValue();o.alreadyCheckedForUpdates=t}setAppVersions(t){let o=this.fwcUser.getValue();o.appVersions=t}set2FA(t){let o=this.fwcUser.getValue();o.tfa=t}setLockInfo(t){let o=this.fwcUser.getValue();o.lockInfo=t,this.fwcUser.next(o)}logUser(t){let o=`${this.endpoint}/login`;return t.authCode!=""&&(this.headerOptions=new As({"x-tfa":t.authCode})),this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}setupAuth(t){let o=`${Ie.settings.fwcAppURL}/profile/tfa/setup`,r={user:t.id,username:t.username};return this.httpClient.post(o,JSON.stringify(r)).pipe(X(this.handleAPIError))}verifyAuth(t){let o=`${Ie.settings.fwcAppURL}/profile/tfa/verify`,r={tempSecret:t.tempSecret,authCode:t.authCode};return this.httpClient.post(o,JSON.stringify(r)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getAuth(){let t=`${Ie.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.get(t).pipe(X(this.handleAPIError))}deleteAuth(){let t=`${Ie.settings.fwcAppURL}/profile/tfa/setup`;return this.httpClient.delete(t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}logoutUser(){let t=`${this.endpoint}/logout`;return this.httpClient.post(t,{}).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getUser(t){let o=`${this.endpoint}/get`;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteUser(t){let o=`${this.endpoint}/del`;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newUser(t){let o=this.endpoint;return this.httpClient.post(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateUser(t){let o=this.endpoint;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getUserClouds(t){let o=`${this.endpoint}/fwcloud/get`,r={user:t};return this.httpClient.put(o,r).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}removeUserCloud(t,o){let r=`${this.endpoint}/fwcloud/del`,s={user:t,fwcloud:o};return this.httpClient.put(r,s).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}addUserCloud(t,o){let r=`${this.endpoint}/fwcloud`,s={user:t,fwcloud:o};return this.httpClient.post(r,s).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateUserPassword(t){let o=`${this.endpoint}/changepass`,r={password:t};return this.httpClient.put(o,r).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkUserRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}reloadSelectedFWCloud(){return this.subjectReloadFWCloud.next(!0),this.subjectReloadFWCloud.asObservable()}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(Ma))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var cEe=typeof global=="object"&&global&&global.Object===Object&&global,eE=cEe;var dEe=typeof self=="object"&&self&&self.Object===Object&&self,pEe=eE||dEe||Function("return this")(),zr=pEe;var uEe=zr.Symbol,wa=uEe;var xH=Object.prototype,hEe=xH.hasOwnProperty,fEe=xH.toString,$y=wa?wa.toStringTag:void 0;function mEe(i){var n=hEe.call(i,$y),e=i[$y];try{i[$y]=void 0;var t=!0}catch{}var o=fEe.call(i);return t&&(n?i[$y]=e:delete i[$y]),o}var TH=mEe;var gEe=Object.prototype,_Ee=gEe.toString;function bEe(i){return _Ee.call(i)}var OH=bEe;var yEe="[object Null]",vEe="[object Undefined]",RH=wa?wa.toStringTag:void 0;function wEe(i){return i==null?i===void 0?vEe:yEe:RH&&RH in Object(i)?TH(i):OH(i)}var Rc=wEe;function CEe(i){return i!=null&&typeof i=="object"}var Ca=CEe;var SEe="[object Symbol]";function IEe(i){return typeof i=="symbol"||Ca(i)&&Rc(i)==SEe}var xp=IEe;function EEe(i,n){for(var e=-1,t=i==null?0:i.length,o=Array(t);++e<t;)o[e]=n(i[e],e,i);return o}var m_=EEe;var xEe=Array.isArray,Ko=xEe;var TEe=1/0,DH=wa?wa.prototype:void 0,PH=DH?DH.toString:void 0;function AH(i){if(typeof i=="string")return i;if(Ko(i))return m_(i,AH)+"";if(xp(i))return PH?PH.call(i):"";var n=i+"";return n=="0"&&1/i==-TEe?"-0":n}var kH=AH;function OEe(i){var n=typeof i;return i!=null&&(n=="object"||n=="function")}var Gl=OEe;function REe(i){return i}var tE=REe;var DEe="[object AsyncFunction]",PEe="[object Function]",AEe="[object GeneratorFunction]",kEe="[object Proxy]";function NEe(i){if(!Gl(i))return!1;var n=Rc(i);return n==PEe||n==AEe||n==DEe||n==kEe}var iE=NEe;var FEe=zr["__core-js_shared__"],nE=FEe;var NH=(function(){var i=/[^.]+$/.exec(nE&&nE.keys&&nE.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function LEe(i){return!!NH&&NH in i}var FH=LEe;var MEe=Function.prototype,BEe=MEe.toString;function VEe(i){if(i!=null){try{return BEe.call(i)}catch{}try{return i+""}catch{}}return""}var Tp=VEe;var UEe=/[\\^$.*+?()[\]{}|]/g,jEe=/^\[object .+?Constructor\]$/,GEe=Function.prototype,HEe=Object.prototype,zEe=GEe.toString,WEe=HEe.hasOwnProperty,$Ee=RegExp("^"+zEe.call(WEe).replace(UEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KEe(i){if(!Gl(i)||FH(i))return!1;var n=iE(i)?$Ee:jEe;return n.test(Tp(i))}var LH=KEe;function qEe(i,n){return i?.[n]}var MH=qEe;function JEe(i,n){var e=MH(i,n);return LH(e)?e:void 0}var Va=JEe;var QEe=Va(zr,"WeakMap"),oE=QEe;var BH=Object.create,YEe=(function(){function i(){}return function(n){if(!Gl(n))return{};if(BH)return BH(n);i.prototype=n;var e=new i;return i.prototype=void 0,e}})(),VH=YEe;function XEe(i,n){var e=-1,t=i.length;for(n||(n=Array(t));++e<t;)n[e]=i[e];return n}var UH=XEe;var ZEe=(function(){try{var i=Va(Object,"defineProperty");return i({},"",{}),i}catch{}})(),$k=ZEe;function exe(i,n){for(var e=-1,t=i==null?0:i.length;++e<t&&n(i[e],e,i)!==!1;);return i}var jH=exe;var txe=9007199254740991,ixe=/^(?:0|[1-9]\d*)$/;function nxe(i,n){var e=typeof i;return n=n??txe,!!n&&(e=="number"||e!="symbol"&&ixe.test(i))&&i>-1&&i%1==0&&i<n}var rE=nxe;function oxe(i,n,e){n=="__proto__"&&$k?$k(i,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[n]=e}var sE=oxe;function rxe(i,n){return i===n||i!==i&&n!==n}var g_=rxe;var sxe=Object.prototype,axe=sxe.hasOwnProperty;function lxe(i,n,e){var t=i[n];(!(axe.call(i,n)&&g_(t,e))||e===void 0&&!(n in i))&&sE(i,n,e)}var aE=lxe;function cxe(i,n,e,t){var o=!e;e||(e={});for(var r=-1,s=n.length;++r<s;){var a=n[r],l=t?t(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),o?sE(e,a,l):aE(e,a,l)}return e}var Zu=cxe;var dxe=9007199254740991;function pxe(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=dxe}var __=pxe;function uxe(i){return i!=null&&__(i.length)&&!iE(i)}var eh=uxe;var hxe=Object.prototype;function fxe(i){var n=i&&i.constructor,e=typeof n=="function"&&n.prototype||hxe;return i===e}var b_=fxe;function mxe(i,n){for(var e=-1,t=Array(i);++e<i;)t[e]=n(e);return t}var GH=mxe;var gxe="[object Arguments]";function _xe(i){return Ca(i)&&Rc(i)==gxe}var Kk=_xe;var HH=Object.prototype,bxe=HH.hasOwnProperty,yxe=HH.propertyIsEnumerable,vxe=Kk((function(){return arguments})())?Kk:function(i){return Ca(i)&&bxe.call(i,"callee")&&!yxe.call(i,"callee")},lE=vxe;function wxe(){return!1}var zH=wxe;var KH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,WH=KH&&typeof module=="object"&&module&&!module.nodeType&&module,Cxe=WH&&WH.exports===KH,$H=Cxe?zr.Buffer:void 0,Sxe=$H?$H.isBuffer:void 0,Ixe=Sxe||zH,qf=Ixe;var Exe="[object Arguments]",xxe="[object Array]",Txe="[object Boolean]",Oxe="[object Date]",Rxe="[object Error]",Dxe="[object Function]",Pxe="[object Map]",Axe="[object Number]",kxe="[object Object]",Nxe="[object RegExp]",Fxe="[object Set]",Lxe="[object String]",Mxe="[object WeakMap]",Bxe="[object ArrayBuffer]",Vxe="[object DataView]",Uxe="[object Float32Array]",jxe="[object Float64Array]",Gxe="[object Int8Array]",Hxe="[object Int16Array]",zxe="[object Int32Array]",Wxe="[object Uint8Array]",$xe="[object Uint8ClampedArray]",Kxe="[object Uint16Array]",qxe="[object Uint32Array]",Ho={};Ho[Uxe]=Ho[jxe]=Ho[Gxe]=Ho[Hxe]=Ho[zxe]=Ho[Wxe]=Ho[$xe]=Ho[Kxe]=Ho[qxe]=!0;Ho[Exe]=Ho[xxe]=Ho[Bxe]=Ho[Txe]=Ho[Vxe]=Ho[Oxe]=Ho[Rxe]=Ho[Dxe]=Ho[Pxe]=Ho[Axe]=Ho[kxe]=Ho[Nxe]=Ho[Fxe]=Ho[Lxe]=Ho[Mxe]=!1;function Jxe(i){return Ca(i)&&__(i.length)&&!!Ho[Rc(i)]}var qH=Jxe;function Qxe(i){return function(n){return i(n)}}var th=Qxe;var JH=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ky=JH&&typeof module=="object"&&module&&!module.nodeType&&module,Yxe=Ky&&Ky.exports===JH,qk=Yxe&&eE.process,Xxe=(function(){try{var i=Ky&&Ky.require&&Ky.require("util").types;return i||qk&&qk.binding&&qk.binding("util")}catch{}})(),Op=Xxe;var QH=Op&&Op.isTypedArray,Zxe=QH?th(QH):qH,cE=Zxe;var eTe=Object.prototype,tTe=eTe.hasOwnProperty;function iTe(i,n){var e=Ko(i),t=!e&&lE(i),o=!e&&!t&&qf(i),r=!e&&!t&&!o&&cE(i),s=e||t||o||r,a=s?GH(i.length,String):[],l=a.length;for(var c in i)(n||tTe.call(i,c))&&!(s&&(c=="length"||o&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rE(c,l)))&&a.push(c);return a}var dE=iTe;function nTe(i,n){return function(e){return i(n(e))}}var pE=nTe;var oTe=pE(Object.keys,Object),YH=oTe;var rTe=Object.prototype,sTe=rTe.hasOwnProperty;function aTe(i){if(!b_(i))return YH(i);var n=[];for(var e in Object(i))sTe.call(i,e)&&e!="constructor"&&n.push(e);return n}var XH=aTe;function lTe(i){return eh(i)?dE(i):XH(i)}var Td=lTe;function cTe(i){var n=[];if(i!=null)for(var e in Object(i))n.push(e);return n}var ZH=cTe;var dTe=Object.prototype,pTe=dTe.hasOwnProperty;function uTe(i){if(!Gl(i))return ZH(i);var n=b_(i),e=[];for(var t in i)t=="constructor"&&(n||!pTe.call(i,t))||e.push(t);return e}var ez=uTe;function hTe(i){return eh(i)?dE(i,!0):ez(i)}var y_=hTe;var fTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mTe=/^\w*$/;function gTe(i,n){if(Ko(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||xp(i)?!0:mTe.test(i)||!fTe.test(i)||n!=null&&i in Object(n)}var v_=gTe;var _Te=Va(Object,"create"),Rp=_Te;function bTe(){this.__data__=Rp?Rp(null):{},this.size=0}var tz=bTe;function yTe(i){var n=this.has(i)&&delete this.__data__[i];return this.size-=n?1:0,n}var iz=yTe;var vTe="__lodash_hash_undefined__",wTe=Object.prototype,CTe=wTe.hasOwnProperty;function STe(i){var n=this.__data__;if(Rp){var e=n[i];return e===vTe?void 0:e}return CTe.call(n,i)?n[i]:void 0}var nz=STe;var ITe=Object.prototype,ETe=ITe.hasOwnProperty;function xTe(i){var n=this.__data__;return Rp?n[i]!==void 0:ETe.call(n,i)}var oz=xTe;var TTe="__lodash_hash_undefined__";function OTe(i,n){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Rp&&n===void 0?TTe:n,this}var rz=OTe;function w_(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}w_.prototype.clear=tz;w_.prototype.delete=iz;w_.prototype.get=nz;w_.prototype.has=oz;w_.prototype.set=rz;var Jk=w_;function RTe(){this.__data__=[],this.size=0}var sz=RTe;function DTe(i,n){for(var e=i.length;e--;)if(g_(i[e][0],n))return e;return-1}var ih=DTe;var PTe=Array.prototype,ATe=PTe.splice;function kTe(i){var n=this.__data__,e=ih(n,i);if(e<0)return!1;var t=n.length-1;return e==t?n.pop():ATe.call(n,e,1),--this.size,!0}var az=kTe;function NTe(i){var n=this.__data__,e=ih(n,i);return e<0?void 0:n[e][1]}var lz=NTe;function FTe(i){return ih(this.__data__,i)>-1}var cz=FTe;function LTe(i,n){var e=this.__data__,t=ih(e,i);return t<0?(++this.size,e.push([i,n])):e[t][1]=n,this}var dz=LTe;function C_(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}C_.prototype.clear=sz;C_.prototype.delete=az;C_.prototype.get=lz;C_.prototype.has=cz;C_.prototype.set=dz;var nh=C_;var MTe=Va(zr,"Map"),oh=MTe;function BTe(){this.size=0,this.__data__={hash:new Jk,map:new(oh||nh),string:new Jk}}var pz=BTe;function VTe(i){var n=typeof i;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?i!=="__proto__":i===null}var uz=VTe;function UTe(i,n){var e=i.__data__;return uz(n)?e[typeof n=="string"?"string":"hash"]:e.map}var rh=UTe;function jTe(i){var n=rh(this,i).delete(i);return this.size-=n?1:0,n}var hz=jTe;function GTe(i){return rh(this,i).get(i)}var fz=GTe;function HTe(i){return rh(this,i).has(i)}var mz=HTe;function zTe(i,n){var e=rh(this,i),t=e.size;return e.set(i,n),this.size+=e.size==t?0:1,this}var gz=zTe;function S_(i){var n=-1,e=i==null?0:i.length;for(this.clear();++n<e;){var t=i[n];this.set(t[0],t[1])}}S_.prototype.clear=pz;S_.prototype.delete=hz;S_.prototype.get=fz;S_.prototype.has=mz;S_.prototype.set=gz;var Jf=S_;var WTe="Expected a function";function Qk(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(WTe);var e=function(){var t=arguments,o=n?n.apply(this,t):t[0],r=e.cache;if(r.has(o))return r.get(o);var s=i.apply(this,t);return e.cache=r.set(o,s)||r,s};return e.cache=new(Qk.Cache||Jf),e}Qk.Cache=Jf;var _z=Qk;var $Te=500;function KTe(i){var n=_z(i,function(t){return e.size===$Te&&e.clear(),t}),e=n.cache;return n}var bz=KTe;var qTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JTe=/\\(\\)?/g,QTe=bz(function(i){var n=[];return i.charCodeAt(0)===46&&n.push(""),i.replace(qTe,function(e,t,o,r){n.push(o?r.replace(JTe,"$1"):t||e)}),n}),yz=QTe;function YTe(i){return i==null?"":kH(i)}var vz=YTe;function XTe(i,n){return Ko(i)?i:v_(i,n)?[i]:yz(vz(i))}var uE=XTe;var ZTe=1/0;function eOe(i){if(typeof i=="string"||xp(i))return i;var n=i+"";return n=="0"&&1/i==-ZTe?"-0":n}var sh=eOe;function tOe(i,n){n=uE(n,i);for(var e=0,t=n.length;i!=null&&e<t;)i=i[sh(n[e++])];return e&&e==t?i:void 0}var I_=tOe;function iOe(i,n,e){var t=i==null?void 0:I_(i,n);return t===void 0?e:t}var wz=iOe;function nOe(i,n){for(var e=-1,t=n.length,o=i.length;++e<t;)i[o+e]=n[e];return i}var hE=nOe;var oOe=pE(Object.getPrototypeOf,Object),fE=oOe;function rOe(){this.__data__=new nh,this.size=0}var Cz=rOe;function sOe(i){var n=this.__data__,e=n.delete(i);return this.size=n.size,e}var Sz=sOe;function aOe(i){return this.__data__.get(i)}var Iz=aOe;function lOe(i){return this.__data__.has(i)}var Ez=lOe;var cOe=200;function dOe(i,n){var e=this.__data__;if(e instanceof nh){var t=e.__data__;if(!oh||t.length<cOe-1)return t.push([i,n]),this.size=++e.size,this;e=this.__data__=new Jf(t)}return e.set(i,n),this.size=e.size,this}var xz=dOe;function E_(i){var n=this.__data__=new nh(i);this.size=n.size}E_.prototype.clear=Cz;E_.prototype.delete=Sz;E_.prototype.get=Iz;E_.prototype.has=Ez;E_.prototype.set=xz;var ah=E_;function pOe(i,n){return i&&Zu(n,Td(n),i)}var Tz=pOe;function uOe(i,n){return i&&Zu(n,y_(n),i)}var Oz=uOe;var Az=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rz=Az&&typeof module=="object"&&module&&!module.nodeType&&module,hOe=Rz&&Rz.exports===Az,Dz=hOe?zr.Buffer:void 0,Pz=Dz?Dz.allocUnsafe:void 0;function fOe(i,n){if(n)return i.slice();var e=i.length,t=Pz?Pz(e):new i.constructor(e);return i.copy(t),t}var kz=fOe;function mOe(i,n){for(var e=-1,t=i==null?0:i.length,o=0,r=[];++e<t;){var s=i[e];n(s,e,i)&&(r[o++]=s)}return r}var Nz=mOe;function gOe(){return[]}var mE=gOe;var _Oe=Object.prototype,bOe=_Oe.propertyIsEnumerable,Fz=Object.getOwnPropertySymbols,yOe=Fz?function(i){return i==null?[]:(i=Object(i),Nz(Fz(i),function(n){return bOe.call(i,n)}))}:mE,x_=yOe;function vOe(i,n){return Zu(i,x_(i),n)}var Lz=vOe;var wOe=Object.getOwnPropertySymbols,COe=wOe?function(i){for(var n=[];i;)hE(n,x_(i)),i=fE(i);return n}:mE,gE=COe;function SOe(i,n){return Zu(i,gE(i),n)}var Mz=SOe;function IOe(i,n,e){var t=n(i);return Ko(i)?t:hE(t,e(i))}var _E=IOe;function EOe(i){return _E(i,Td,x_)}var qy=EOe;function xOe(i){return _E(i,y_,gE)}var Bz=xOe;var TOe=Va(zr,"DataView"),bE=TOe;var OOe=Va(zr,"Promise"),yE=OOe;var ROe=Va(zr,"Set"),vE=ROe;var Vz="[object Map]",DOe="[object Object]",Uz="[object Promise]",jz="[object Set]",Gz="[object WeakMap]",Hz="[object DataView]",POe=Tp(bE),AOe=Tp(oh),kOe=Tp(yE),NOe=Tp(vE),FOe=Tp(oE),Qf=Rc;(bE&&Qf(new bE(new ArrayBuffer(1)))!=Hz||oh&&Qf(new oh)!=Vz||yE&&Qf(yE.resolve())!=Uz||vE&&Qf(new vE)!=jz||oE&&Qf(new oE)!=Gz)&&(Qf=function(i){var n=Rc(i),e=n==DOe?i.constructor:void 0,t=e?Tp(e):"";if(t)switch(t){case POe:return Hz;case AOe:return Vz;case kOe:return Uz;case NOe:return jz;case FOe:return Gz}return n});var Dp=Qf;var LOe=Object.prototype,MOe=LOe.hasOwnProperty;function BOe(i){var n=i.length,e=new i.constructor(n);return n&&typeof i[0]=="string"&&MOe.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var zz=BOe;var VOe=zr.Uint8Array,T_=VOe;function UOe(i){var n=new i.constructor(i.byteLength);return new T_(n).set(new T_(i)),n}var O_=UOe;function jOe(i,n){var e=n?O_(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var Wz=jOe;var GOe=/\w*$/;function HOe(i){var n=new i.constructor(i.source,GOe.exec(i));return n.lastIndex=i.lastIndex,n}var $z=HOe;var Kz=wa?wa.prototype:void 0,qz=Kz?Kz.valueOf:void 0;function zOe(i){return qz?Object(qz.call(i)):{}}var Jz=zOe;function WOe(i,n){var e=n?O_(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var Qz=WOe;var $Oe="[object Boolean]",KOe="[object Date]",qOe="[object Map]",JOe="[object Number]",QOe="[object RegExp]",YOe="[object Set]",XOe="[object String]",ZOe="[object Symbol]",eRe="[object ArrayBuffer]",tRe="[object DataView]",iRe="[object Float32Array]",nRe="[object Float64Array]",oRe="[object Int8Array]",rRe="[object Int16Array]",sRe="[object Int32Array]",aRe="[object Uint8Array]",lRe="[object Uint8ClampedArray]",cRe="[object Uint16Array]",dRe="[object Uint32Array]";function pRe(i,n,e){var t=i.constructor;switch(n){case eRe:return O_(i);case $Oe:case KOe:return new t(+i);case tRe:return Wz(i,e);case iRe:case nRe:case oRe:case rRe:case sRe:case aRe:case lRe:case cRe:case dRe:return Qz(i,e);case qOe:return new t;case JOe:case XOe:return new t(i);case QOe:return $z(i);case YOe:return new t;case ZOe:return Jz(i)}}var Yz=pRe;function uRe(i){return typeof i.constructor=="function"&&!b_(i)?VH(fE(i)):{}}var Xz=uRe;var hRe="[object Map]";function fRe(i){return Ca(i)&&Dp(i)==hRe}var Zz=fRe;var eW=Op&&Op.isMap,mRe=eW?th(eW):Zz,tW=mRe;var gRe="[object Set]";function _Re(i){return Ca(i)&&Dp(i)==gRe}var iW=_Re;var nW=Op&&Op.isSet,bRe=nW?th(nW):iW,oW=bRe;var yRe=1,vRe=2,wRe=4,rW="[object Arguments]",CRe="[object Array]",SRe="[object Boolean]",IRe="[object Date]",ERe="[object Error]",sW="[object Function]",xRe="[object GeneratorFunction]",TRe="[object Map]",ORe="[object Number]",aW="[object Object]",RRe="[object RegExp]",DRe="[object Set]",PRe="[object String]",ARe="[object Symbol]",kRe="[object WeakMap]",NRe="[object ArrayBuffer]",FRe="[object DataView]",LRe="[object Float32Array]",MRe="[object Float64Array]",BRe="[object Int8Array]",VRe="[object Int16Array]",URe="[object Int32Array]",jRe="[object Uint8Array]",GRe="[object Uint8ClampedArray]",HRe="[object Uint16Array]",zRe="[object Uint32Array]",To={};To[rW]=To[CRe]=To[NRe]=To[FRe]=To[SRe]=To[IRe]=To[LRe]=To[MRe]=To[BRe]=To[VRe]=To[URe]=To[TRe]=To[ORe]=To[aW]=To[RRe]=To[DRe]=To[PRe]=To[ARe]=To[jRe]=To[GRe]=To[HRe]=To[zRe]=!0;To[ERe]=To[sW]=To[kRe]=!1;function wE(i,n,e,t,o,r){var s,a=n&yRe,l=n&vRe,c=n&wRe;if(e&&(s=o?e(i,t,o,r):e(i)),s!==void 0)return s;if(!Gl(i))return i;var d=Ko(i);if(d){if(s=zz(i),!a)return UH(i,s)}else{var u=Dp(i),m=u==sW||u==xRe;if(qf(i))return kz(i,a);if(u==aW||u==rW||m&&!o){if(s=l||m?{}:Xz(i),!a)return l?Mz(i,Oz(s,i)):Lz(i,Tz(s,i))}else{if(!To[u])return o?i:{};s=Yz(i,u,a)}}r||(r=new ah);var g=r.get(i);if(g)return g;r.set(i,s),oW(i)?i.forEach(function(S){s.add(wE(S,n,e,S,i,r))}):tW(i)&&i.forEach(function(S,I){s.set(I,wE(S,n,e,I,i,r))});var y=c?l?Bz:qy:l?y_:Td,v=d?void 0:y(i);return jH(v||i,function(S,I){v&&(I=S,S=i[I]),aE(s,I,wE(S,n,e,I,i,r))}),s}var lW=wE;var WRe=1,$Re=4;function KRe(i){return lW(i,WRe|$Re)}var Jt=KRe;var qRe="__lodash_hash_undefined__";function JRe(i){return this.__data__.set(i,qRe),this}var cW=JRe;function QRe(i){return this.__data__.has(i)}var dW=QRe;function CE(i){var n=-1,e=i==null?0:i.length;for(this.__data__=new Jf;++n<e;)this.add(i[n])}CE.prototype.add=CE.prototype.push=cW;CE.prototype.has=dW;var pW=CE;function YRe(i,n){for(var e=-1,t=i==null?0:i.length;++e<t;)if(n(i[e],e,i))return!0;return!1}var uW=YRe;function XRe(i,n){return i.has(n)}var hW=XRe;var ZRe=1,eDe=2;function tDe(i,n,e,t,o,r){var s=e&ZRe,a=i.length,l=n.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(i),d=r.get(n);if(c&&d)return c==n&&d==i;var u=-1,m=!0,g=e&eDe?new pW:void 0;for(r.set(i,n),r.set(n,i);++u<a;){var y=i[u],v=n[u];if(t)var S=s?t(v,y,u,n,i,r):t(y,v,u,i,n,r);if(S!==void 0){if(S)continue;m=!1;break}if(g){if(!uW(n,function(I,P){if(!hW(g,P)&&(y===I||o(y,I,e,t,r)))return g.push(P)})){m=!1;break}}else if(!(y===v||o(y,v,e,t,r))){m=!1;break}}return r.delete(i),r.delete(n),m}var SE=tDe;function iDe(i){var n=-1,e=Array(i.size);return i.forEach(function(t,o){e[++n]=[o,t]}),e}var fW=iDe;function nDe(i){var n=-1,e=Array(i.size);return i.forEach(function(t){e[++n]=t}),e}var mW=nDe;var oDe=1,rDe=2,sDe="[object Boolean]",aDe="[object Date]",lDe="[object Error]",cDe="[object Map]",dDe="[object Number]",pDe="[object RegExp]",uDe="[object Set]",hDe="[object String]",fDe="[object Symbol]",mDe="[object ArrayBuffer]",gDe="[object DataView]",gW=wa?wa.prototype:void 0,Yk=gW?gW.valueOf:void 0;function _De(i,n,e,t,o,r,s){switch(e){case gDe:if(i.byteLength!=n.byteLength||i.byteOffset!=n.byteOffset)return!1;i=i.buffer,n=n.buffer;case mDe:return!(i.byteLength!=n.byteLength||!r(new T_(i),new T_(n)));case sDe:case aDe:case dDe:return g_(+i,+n);case lDe:return i.name==n.name&&i.message==n.message;case pDe:case hDe:return i==n+"";case cDe:var a=fW;case uDe:var l=t&oDe;if(a||(a=mW),i.size!=n.size&&!l)return!1;var c=s.get(i);if(c)return c==n;t|=rDe,s.set(i,n);var d=SE(a(i),a(n),t,o,r,s);return s.delete(i),d;case fDe:if(Yk)return Yk.call(i)==Yk.call(n)}return!1}var _W=_De;var bDe=1,yDe=Object.prototype,vDe=yDe.hasOwnProperty;function wDe(i,n,e,t,o,r){var s=e&bDe,a=qy(i),l=a.length,c=qy(n),d=c.length;if(l!=d&&!s)return!1;for(var u=l;u--;){var m=a[u];if(!(s?m in n:vDe.call(n,m)))return!1}var g=r.get(i),y=r.get(n);if(g&&y)return g==n&&y==i;var v=!0;r.set(i,n),r.set(n,i);for(var S=s;++u<l;){m=a[u];var I=i[m],P=n[m];if(t)var L=s?t(P,I,m,n,i,r):t(I,P,m,i,n,r);if(!(L===void 0?I===P||o(I,P,e,t,r):L)){v=!1;break}S||(S=m=="constructor")}if(v&&!S){var F=i.constructor,K=n.constructor;F!=K&&"constructor"in i&&"constructor"in n&&!(typeof F=="function"&&F instanceof F&&typeof K=="function"&&K instanceof K)&&(v=!1)}return r.delete(i),r.delete(n),v}var bW=wDe;var CDe=1,yW="[object Arguments]",vW="[object Array]",IE="[object Object]",SDe=Object.prototype,wW=SDe.hasOwnProperty;function IDe(i,n,e,t,o,r){var s=Ko(i),a=Ko(n),l=s?vW:Dp(i),c=a?vW:Dp(n);l=l==yW?IE:l,c=c==yW?IE:c;var d=l==IE,u=c==IE,m=l==c;if(m&&qf(i)){if(!qf(n))return!1;s=!0,d=!1}if(m&&!d)return r||(r=new ah),s||cE(i)?SE(i,n,e,t,o,r):_W(i,n,l,e,t,o,r);if(!(e&CDe)){var g=d&&wW.call(i,"__wrapped__"),y=u&&wW.call(n,"__wrapped__");if(g||y){var v=g?i.value():i,S=y?n.value():n;return r||(r=new ah),o(v,S,e,t,r)}}return m?(r||(r=new ah),bW(i,n,e,t,o,r)):!1}var CW=IDe;function SW(i,n,e,t,o){return i===n?!0:i==null||n==null||!Ca(i)&&!Ca(n)?i!==i&&n!==n:CW(i,n,e,t,SW,o)}var EE=SW;var EDe=1,xDe=2;function TDe(i,n,e,t){var o=e.length,r=o,s=!t;if(i==null)return!r;for(i=Object(i);o--;){var a=e[o];if(s&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++o<r;){a=e[o];var l=a[0],c=i[l],d=a[1];if(s&&a[2]){if(c===void 0&&!(l in i))return!1}else{var u=new ah;if(t)var m=t(c,d,l,i,n,u);if(!(m===void 0?EE(d,c,EDe|xDe,t,u):m))return!1}}return!0}var IW=TDe;function ODe(i){return i===i&&!Gl(i)}var xE=ODe;function RDe(i){for(var n=Td(i),e=n.length;e--;){var t=n[e],o=i[t];n[e]=[t,o,xE(o)]}return n}var EW=RDe;function DDe(i,n){return function(e){return e==null?!1:e[i]===n&&(n!==void 0||i in Object(e))}}var TE=DDe;function PDe(i){var n=EW(i);return n.length==1&&n[0][2]?TE(n[0][0],n[0][1]):function(e){return e===i||IW(e,i,n)}}var xW=PDe;function ADe(i,n){return i!=null&&n in Object(i)}var TW=ADe;function kDe(i,n,e){n=uE(n,i);for(var t=-1,o=n.length,r=!1;++t<o;){var s=sh(n[t]);if(!(r=i!=null&&e(i,s)))break;i=i[s]}return r||++t!=o?r:(o=i==null?0:i.length,!!o&&__(o)&&rE(s,o)&&(Ko(i)||lE(i)))}var OW=kDe;function NDe(i,n){return i!=null&&OW(i,n,TW)}var RW=NDe;var FDe=1,LDe=2;function MDe(i,n){return v_(i)&&xE(n)?TE(sh(i),n):function(e){var t=wz(e,i);return t===void 0&&t===n?RW(e,i):EE(n,t,FDe|LDe)}}var DW=MDe;function BDe(i){return function(n){return n?.[i]}}var PW=BDe;function VDe(i){return function(n){return I_(n,i)}}var AW=VDe;function UDe(i){return v_(i)?PW(sh(i)):AW(i)}var kW=UDe;function jDe(i){return typeof i=="function"?i:i==null?tE:typeof i=="object"?Ko(i)?DW(i[0],i[1]):xW(i):kW(i)}var NW=jDe;function GDe(i){return function(n,e,t){for(var o=-1,r=Object(n),s=t(n),a=s.length;a--;){var l=s[i?a:++o];if(e(r[l],l,r)===!1)break}return n}}var FW=GDe;var HDe=FW(),LW=HDe;function zDe(i,n){return i&&LW(i,n,Td)}var MW=zDe;function WDe(i,n){return function(e,t){if(e==null)return e;if(!eh(e))return i(e,t);for(var o=e.length,r=n?o:-1,s=Object(e);(n?r--:++r<o)&&t(s[r],r,s)!==!1;);return e}}var BW=WDe;var $De=BW(MW),VW=$De;function KDe(i,n){var e=-1,t=eh(i)?Array(i.length):[];return VW(i,function(o,r,s){t[++e]=n(o,r,s)}),t}var UW=KDe;function qDe(i,n){var e=i.length;for(i.sort(n);e--;)i[e]=i[e].value;return i}var jW=qDe;function JDe(i,n){if(i!==n){var e=i!==void 0,t=i===null,o=i===i,r=xp(i),s=n!==void 0,a=n===null,l=n===n,c=xp(n);if(!a&&!c&&!r&&i>n||r&&s&&l&&!a&&!c||t&&s&&l||!e&&l||!o)return 1;if(!t&&!r&&!c&&i<n||c&&e&&o&&!t&&!r||a&&e&&o||!s&&o||!l)return-1}return 0}var GW=JDe;function QDe(i,n,e){for(var t=-1,o=i.criteria,r=n.criteria,s=o.length,a=e.length;++t<s;){var l=GW(o[t],r[t]);if(l){if(t>=a)return l;var c=e[t];return l*(c=="desc"?-1:1)}}return i.index-n.index}var HW=QDe;function YDe(i,n,e){n.length?n=m_(n,function(r){return Ko(r)?function(s){return I_(s,r.length===1?r[0]:r)}:r}):n=[tE];var t=-1;n=m_(n,th(NW));var o=UW(i,function(r,s,a){var l=m_(n,function(c){return c(r)});return{criteria:l,index:++t,value:r}});return jW(o,function(r,s){return HW(r,s,e)})}var zW=YDe;function XDe(i,n,e,t){return i==null?[]:(Ko(n)||(n=n==null?[]:[n]),e=t?void 0:e,Ko(e)||(e=e==null?[]:[e]),zW(i,n,e))}var Xk=XDe;var R_=(()=>{let n=class n{constructor(t,o){this.fwcUserService=t,this.translate=o,this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={},this.alive=!0,this.buildMenus()}buildMenus(){this.menuSettingsTree={},this.menuSettingsPosition={},this.menuSettingsRule={},this.menuSettingsGroupObject={},this.menuSettingsRuleGroup={};let t={items:[]},o={items:[{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},r={items:[{id:U.DUPLICATE,text:this.translate.instant("CONTEXT.OBJECTS.DUPLICATE"),icon:"fwcMenuIcon fwci-copy fwcBlue",finalObject:!0,objectInGroup:!1},{id:U.EDIT,text:this.translate.instant("CONTEXT.OBJECTS.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,objectInGroup:!1,userObject:!0},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},s={items:[{id:U.COMPILE_IPTABLES,text:this.translate.instant("CONTEXT.COMPILER.IPTABLES"),icon:"compiler-icon compiler-icon--iptables"},{id:U.COMPILE_NFTABLES,text:this.translate.instant("CONTEXT.COMPILER.NFTABLES"),icon:"compiler-icon compiler-icon--nftables"},{id:U.COMPILE_VYOS,text:this.translate.instant("CONTEXT.COMPILER.VYOS"),icon:"compiler-icon compiler-icon--vyos"}]},a=[{id:U.SYSTEM_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEM_SHOW_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,visible:!0},{id:U.SYSTEM_DOWNLOAD_CONFIG,text:this.translate.instant("CONTEXT.VPN_CONFIG.DOWNLOAD_FILE"),icon:"fa fa-download fwcBlue",finalObject:!0,visible:!0},{id:U.SEPARATOR,type:"separator"},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,visible:!0}];this.menuSettingsTree.NO_MENU={items:[{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]},this.menuSettingsTree[M.OBJ_FIREWALL]=Jt(t),this.menuSettingsTree[M.OBJ_FIREWALL].items=this.menuSettingsTree[M.OBJ_FIREWALL].items.concat([{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),finalObject:!0,clusterNode:!0,visible:!1},{id:U.FIREWALL_EDIT,text:this.translate.instant("CONTEXT.FW.EDIT"),icon:"fwcMenuIcon fwci-editfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.FW.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.FW.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.FW.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.FW.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_DELETE,text:this.translate.instant("CONTEXT.FW.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_TO_CLUSTER,text:this.translate.instant("CONTEXT.FW.TO_CLUSTER"),icon:"fwcMenuIcon2 fwci2-firewall_to_cluster fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_CLONE,text:this.translate.instant("CONTEXT.FW.CLONE"),icon:"fwcMenuIcon2 fwci2-firewall_clone fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0,clusterNode:!1},{id:U.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0,clusterNode:!1}]),this.menuSettingsTree[M.POLICY_INPUT]={items:[{id:U.POLICY_LOAD,text:this.translate.instant("CONTEXT.POLICY.LOAD"),finalObject:!0,icon:"fwcMenuIcon fwci-loadpolicy fwcBlue"}]},this.menuSettingsTree[M.POLICY_OUTPUT]=this.menuSettingsTree[M.POLICY_FORWARD]=this.menuSettingsTree[M.POLICY_ROUTING]=this.menuSettingsTree[M.POLICY_SNAT]=this.menuSettingsTree[M.POLICY_DNAT]=this.menuSettingsTree[M.POLICY_INPUT]=this.menuSettingsTree[M.DHCP]=this.menuSettingsTree[M.DHCP_FIXED_IP]=this.menuSettingsTree[M.KEEPALIVED]=this.menuSettingsTree[M.HAPROXY],this.menuSettingsTree[M.POLICY_INPUT6]=this.menuSettingsTree[M.POLICY_OUTPUT6]=this.menuSettingsTree[M.POLICY_FORWARD6]=this.menuSettingsTree[M.POLICY_ROUTING6]=this.menuSettingsTree[M.POLICY_SNAT6]=this.menuSettingsTree[M.POLICY_DNAT6]=this.menuSettingsTree[M.POLICY_INPUT],this.menuSettingsTree[M.FOLDER_POLICY]=Jt(o),this.menuSettingsTree[M.FOLDER_POLICY6]=Jt(o),this.menuSettingsTree[M.FOLDER_NAT]=o,this.menuSettingsTree[M.FOLDER]=Jt(o),this.menuSettingsTree[M.FOLDER].items=this.menuSettingsTree[M.FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_RENAME,text:this.translate.instant("CONTEXT.FD.RENAME"),icon:"fwcMenuIcon fwci2-renamefolder fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwcMenuIcon fwci-newfirewall fwcGreen"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:U.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwcMenuIcon fwci2-newfolder fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_DELETE,text:this.translate.instant("CONTEXT.FD.DELETE"),icon:"fwcMenuIcon fwci2-deletefolder fwcRed"}]),this.menuSettingsTree[M.FOLDER_FW]={items:[{id:U.FIREWALL_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDF"),icon:"fwci-newfirewall fwcGreen"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwci2-newcluster fwcGreen"},{id:U.FOLDER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FD"),icon:"fwci2-newfolder fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwci-compileallfirewalls fwcBlue"},{id:U.FIREWALL_INSTALL_ALL,text:this.translate.instant("CONTEXT.FDF.INSTALL_ALL"),icon:"fwci-installallfirewalls fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_IMPORT,text:this.translate.instant("CONTEXT.FDF.IMPORT"),icon:"fwci2-moveup fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:U.SEPARATOR,type:"separator"}].concat(o.items)},this.menuSettingsTree[M.FOLDER_CA]=Jt(o),this.menuSettingsTree[M.FOLDER_CA].items=this.menuSettingsTree[M.FOLDER_CA].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FCA"),icon:"fwcMenuIcon2 fwci2-new-ca fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[M.OPENVPN_CA]=Jt(o),this.menuSettingsTree[M.OPENVPN_CA].items=this.menuSettingsTree[M.OPENVPN_CA].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW_PREFIX,text:this.translate.instant("CONTEXT.NEW_OBJ.PRE"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-new fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_VIEW,text:this.translate.instant("CONTEXT.FCA.VIEW"),icon:"fwcTreeIcon fwci2-ca fwcBlue",finalObject:!0},{id:U.CA_EDIT,text:this.translate.instant("CONTEXT.FCA.EDIT"),icon:"fwcMenuIcon2 fwci2-edit-ca fwcBlue",finalObject:!0},{id:U.CA_DELETE,text:this.translate.instant("CONTEXT.FCA.DELETE"),icon:"fwcMenuIcon2 fwci2-delete-ca fwcRed",finalObject:!0}]),this.menuSettingsTree[M.OPENVPN_CERT]=Jt(o),this.menuSettingsTree[M.OPENVPN_CERT].items=this.menuSettingsTree[M.OPENVPN_CERT].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_VIEW,text:this.translate.instant("CONTEXT.CA.VIEW_CERT"),icon:"fwcTreeIcon fwci2-certificate fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT,text:this.translate.instant("CONTEXT.CA.EDIT_CERT"),icon:"fwcMenuIcon2 fwci2-edit-certificate fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE,text:this.translate.instant("CONTEXT.CA.DELETE_CERT"),icon:"fwcMenuIcon2 fwci2-delete-certificate fwcRed",finalObject:!0}]),this.menuSettingsTree[M.OPENVPN_PREFIX_FOLDER]=Jt(o),this.menuSettingsTree[M.OPENVPN_PREFIX_FOLDER].items=this.menuSettingsTree[M.OPENVPN_PREFIX_FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT_PREFIX,text:this.translate.instant("CONTEXT.CA.EDIT_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE_PREFIX,text:this.translate.instant("CONTEXT.CA.DELETE_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0}]),this.menuSettingsTree[M.WIREGUARD_PREFIX_FOLDER]=Jt(o),this.menuSettingsTree[M.WIREGUARD_PREFIX_FOLDER].items=this.menuSettingsTree[M.WIREGUARD_PREFIX_FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT_PREFIX,text:this.translate.instant("CONTEXT.CA.EDIT_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE_PREFIX,text:this.translate.instant("CONTEXT.CA.DELETE_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0}]),this.menuSettingsTree[M.IPSEC_PREFIX_FOLDER]=Jt(o),this.menuSettingsTree[M.IPSEC_PREFIX_FOLDER].items=this.menuSettingsTree[M.IPSEC_PREFIX_FOLDER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.CA"),icon:"fwcMenuIcon2 fwci2-new-certificate fwcGreen",finalObject:!0,disableOnCACreation:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_EDIT_PREFIX,text:this.translate.instant("CONTEXT.CA.EDIT_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CA_CRT_DELETE_PREFIX,text:this.translate.instant("CONTEXT.CA.DELETE_CERT_PREFIX_FOLDER"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0}]),this.menuSettingsTree[M.OPENVPN_PREFIX]=Jt(o),this.menuSettingsTree[M.OPENVPN_PREFIX].items=this.menuSettingsTree[M.OPENVPN_PREFIX].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_EDIT_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0,objectInGroup:!1,container:Ge.C_FIREWALLS_CONDENSED},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED}]),this.menuSettingsTree[M.OPENVPN_CONFIG_SER]=Jt(o),this.menuSettingsTree[M.OPENVPN_CONFIG_SER].items=this.menuSettingsTree[M.OPENVPN_CONFIG_SER].items.concat([{id:U.VPN_CONFIG_NEW_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.NEW_PREFIX"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.EDIT,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT"),icon:"fwcMenuIcon2 fwci2-openvpn fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_STATUS,text:this.translate.instant("CONTEXT.VPN_CONFIG.STATUS"),icon:"fwcMenuIcon fwci-help fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_SER},{id:U.VPN_CONFIG_HISTORIC,text:this.translate.instant("CONTEXT.VPN_CONFIG.HISTORIC"),icon:"fa fa-list-alt fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.VPN_CONFIG_FILE,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_INSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.INSTALL"),icon:"fwcMenuIcon2 fwci2-install-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_SYNC_CCD,text:this.translate.instant("CONTEXT.VPN_CONFIG.SYNC_CCD"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_SER,objectInGroup:!1},{id:U.VPN_CONFIG_INST_WINDOWS,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_WINDOWS"),icon:"fa-brands fa-windows fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_CLI},{id:U.VPN_CONFIG_UNINSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.UNINSTALL"),icon:"fwcMenuIcon2 fwci2-uninstall-vpnconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE"),icon:"fwcMenuIcon2 fwci2-openvpn-deleteconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.VPN_CONFIG_BLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_BLOCK"),icon:"fwcMenuIcon fwci-reject fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_CLI},{id:U.VPN_CONFIG_UNBLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_UNBLOCK"),icon:"fwcMenuIcon fwci-accept fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_CLI},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_CLI},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.OPENVPN_CONFIG_SER}]),this.menuSettingsTree[M.WIREGUARD_PREFIX]=Jt(o),this.menuSettingsTree[M.WIREGUARD_PREFIX].items=this.menuSettingsTree[M.WIREGUARD_PREFIX].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_EDIT_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0,objectInGroup:!1,container:Ge.C_FIREWALLS_CONDENSED},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED}]),this.menuSettingsTree[M.WIREGUARD_CONFIG_SER]=Jt(o),this.menuSettingsTree[M.WIREGUARD_CONFIG_SER].items=this.menuSettingsTree[M.WIREGUARD_CONFIG_SER].items.concat([{id:U.VPN_CONFIG_NEW_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.NEW_PREFIX"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_SER,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.EDIT,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT"),icon:"fwcMenuIcon2 fwci2-openvpn fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_FILE,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_INSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.INSTALL"),icon:"fwcMenuIcon2 fwci2-install-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_SER,objectInGroup:!1},{id:U.VPN_CONFIG_UNINSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.UNINSTALL"),icon:"fwcMenuIcon2 fwci2-uninstall-vpnconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_SER,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE"),icon:"fwcMenuIcon2 fwci2-openvpn-deleteconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.VPN_CONFIG_BLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_BLOCK"),icon:"fwcMenuIcon fwci-reject fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_CLI},{id:U.VPN_CONFIG_UNBLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_UNBLOCK"),icon:"fwcMenuIcon fwci-accept fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_CLI},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_CLI},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.WIREGUARD_CONFIG_SER}]),this.menuSettingsTree[M.IPSEC_PREFIX]=Jt(o),this.menuSettingsTree[M.IPSEC_PREFIX].items=this.menuSettingsTree[M.IPSEC_PREFIX].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_EDIT_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-edit fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE_PREFIX"),icon:"fwcMenuIcon2 fwci2-certificate-prefix-delete fwcRed",finalObject:!0,objectInGroup:!1,container:Ge.C_FIREWALLS_CONDENSED},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED}]),this.menuSettingsTree[M.IPSEC_CONFIG_SER]=Jt(o),this.menuSettingsTree[M.IPSEC_CONFIG_SER].items=this.menuSettingsTree[M.IPSEC_CONFIG_SER].items.concat([{id:U.VPN_CONFIG_NEW_PREFIX,text:this.translate.instant("CONTEXT.VPN_CONFIG.NEW_PREFIX"),icon:"fwcMenuIcon2 fwci2-syncccd-vpnconfig fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.IPSEC_CONFIG_SER,objectInGroup:!1},{id:U.SEPARATOR,type:"separator"},{id:U.EDIT,text:this.translate.instant("CONTEXT.VPN_CONFIG.EDIT"),icon:"fwcMenuIcon2 fwci2-openvpn fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_FILE,text:this.translate.instant("CONTEXT.VPN_CONFIG.FILE"),icon:"fwcMenuIcon2 fwci2-file-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.VPN_CONFIG_INSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.INSTALL"),icon:"fwcMenuIcon2 fwci2-install-vpnconfig fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1,onlyOnNodeType:M.IPSEC_CONFIG_SER},{id:U.VPN_CONFIG_UNINSTALL,text:this.translate.instant("CONTEXT.VPN_CONFIG.UNINSTALL"),icon:"fwcMenuIcon2 fwci2-uninstall-vpnconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1,onlyOnNodeType:M.IPSEC_CONFIG_SER},{id:U.SEPARATOR,type:"separator"},{id:U.VPN_CONFIG_DELETE,text:this.translate.instant("CONTEXT.VPN_CONFIG.DELETE"),icon:"fwcMenuIcon2 fwci2-openvpn-deleteconfig fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,objectInGroup:!1},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",finalObject:!0,objectInGroup:!0,userObject:!0},{id:U.VPN_CONFIG_BLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_BLOCK"),icon:"fwcMenuIcon fwci-reject fwcRed",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.IPSEC_CONFIG_CLI},{id:U.VPN_CONFIG_UNBLOCK,text:this.translate.instant("CONTEXT.VPN_CONFIG.INST_UNBLOCK"),icon:"fwcMenuIcon fwci-accept fwcGreen",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.IPSEC_CONFIG_CLI},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.IPSEC_CONFIG_CLI},{id:U.SYSTEMCTL,text:this.translate.instant("CONTEXT.SYSTEMCTL.SYSTEMCTL"),icon:"fa fa-terminal fwcBlue",finalObject:!0,container:Ge.C_FIREWALLS_CONDENSED,onlyOnNodeType:M.IPSEC_CONFIG_SER}]),this.menuSettingsTree[M.OPENVPN_CONFIG_CLI]=Jt(this.menuSettingsTree[M.OPENVPN_CONFIG_SER]),this.menuSettingsTree[M.WIREGUARD_CONFIG_CLI]=Jt(this.menuSettingsTree[M.WIREGUARD_CONFIG_SER]),this.menuSettingsTree[M.IPSEC_CONFIG_CLI]=Jt(this.menuSettingsTree[M.IPSEC_CONFIG_SER]),this.menuSettingsTree[M.FOLDER_CLUSTER_FW]=Jt(o),this.menuSettingsTree[M.FOLDER_CLUSTER]=Jt(o),this.menuSettingsTree[M.FOLDER_CLUSTER].items=this.menuSettingsTree[M.FOLDER_CLUSTER].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.FDC"),icon:"fwcMenuIcon fwci2-newcluster fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_COMPILE_ALL,text:this.translate.instant("CONTEXT.FDF.COMPILE_ALL"),icon:"fwcMenuIcon fwci-compileallfirewalls fwcBlue"}]),this.menuSettingsTree[M.FOLDER_INTERFACES]=Jt(o),this.menuSettingsTree[M.FOLDER_INTERFACES].items=this.menuSettingsTree[M.FOLDER_INTERFACES].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!1},{id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,clusterNode:!0}]),this.menuSettingsTree[M.FOLDER_OBJECTS]={items:[{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"},{id:U.SEPARATOR,type:"separator"}].concat(o.items)},this.menuSettingsTree[M.FOLDER_SERVICES]={items:[{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"},{id:U.TREE_REPAIR,text:this.translate.instant("CONTEXT.FDF.REPAIR"),icon:"fa fa-wrench fwcBlue"}].concat(o.items)},this.menuSettingsTree[M.FOLDER_TIME]=Jt(o),this.menuSettingsTree[M.FOLDER_TIME].items=this.menuSettingsTree[M.FOLDER_TIME].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwcMenuIcon fwci-reload fwcBlue"}]),this.menuSettingsTree[M.OBJ_IF_FW]=Jt(o),this.menuSettingsTree[M.OBJ_IF_FW].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[M.OBJ_IF_FW].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[M.OBJ_IF_FW].items=this.menuSettingsTree[M.OBJ_IF_FW].items.concat(r.items),this.menuSettingsTree[M.OBJ_IF_HOST]=Jt(o),this.menuSettingsTree[M.OBJ_IF_HOST].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[M.OBJ_IF_HOST].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[M.OBJ_IF_HOST].items=this.menuSettingsTree[M.OBJ_IF_HOST].items.concat(r.items),this.menuSettingsTree[M.OBJ_ADDRESS]=Jt(o),this.menuSettingsTree[M.OBJ_ADDRESS].items.push({id:U.NEW_ADDRESS,text:this.translate.instant("CONTEXT.NEW_OBJ.IFF"),icon:"fwcMenuIcon fwci-newadress fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_ADDRESS].items=this.menuSettingsTree[M.OBJ_ADDRESS].items.concat(r.items),this.menuSettingsTree[M.OBJ_GROUP]=Jt(o),this.menuSettingsTree[M.OBJ_GROUP].items.push({id:U.NEW_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.OIG"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_GROUP].items=this.menuSettingsTree[M.OBJ_GROUP].items.concat(r.items),this.menuSettingsTree[M.OBJ_HOST]=Jt(o),this.menuSettingsTree[M.OBJ_HOST].items.push({id:U.NEW_HOST,text:this.translate.instant("CONTEXT.NEW_OBJ.OIH"),icon:"fwcMenuIcon fwci-host fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_HOST].items.push({id:U.SEPARATOR,type:"separator",finalObject:!0}),this.menuSettingsTree[M.OBJ_HOST].items.push({id:U.NEW_INTERFACE,text:this.translate.instant("CONTEXT.NEW_OBJ.FDI"),icon:"fwcMenuIcon fwci-newinterface fwcGreen",finalObject:!0,userObject:!0}),this.menuSettingsTree[M.OBJ_HOST].items=this.menuSettingsTree[M.OBJ_HOST].items.concat(r.items),this.menuSettingsTree[M.OBJ_DNS]=Jt(o),this.menuSettingsTree[M.OBJ_DNS].items.push({id:U.NEW_DNS,text:this.translate.instant("CONTEXT.NEW_OBJ.ONS"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_DNS].items=this.menuSettingsTree[M.OBJ_DNS].items.concat(r.items),this.menuSettingsTree[M.OBJ_NETWORK]=Jt(o),this.menuSettingsTree[M.OBJ_NETWORK].items.push({id:U.NEW_NETWORK,text:this.translate.instant("CONTEXT.NEW_OBJ.OIN"),icon:"fwcMenuIcon fwci-network fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_NETWORK].items=this.menuSettingsTree[M.OBJ_NETWORK].items.concat(r.items),this.menuSettingsTree[M.OBJ_IP_RANGE]=Jt(o),this.menuSettingsTree[M.OBJ_IP_RANGE].items.push({id:U.NEW_IP_RANGE,text:this.translate.instant("CONTEXT.NEW_OBJ.OIR"),icon:"fwcMenuIcon fwci-addressrange fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_IP_RANGE].items=this.menuSettingsTree[M.OBJ_IP_RANGE].items.concat(r.items),this.menuSettingsTree[M.SERVICE_IP]=Jt(o),this.menuSettingsTree[M.SERVICE_IP].items.push({id:U.NEW_IP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOI"),icon:"fwcMenuIcon fwci-ipservice fwcGreen",finalObject:!1}),this.menuSettingsTree[M.SERVICE_IP].items=this.menuSettingsTree[M.SERVICE_IP].items.concat(r.items),this.menuSettingsTree[M.SERVICE_ICMP]=Jt(o),this.menuSettingsTree[M.SERVICE_ICMP].items.push({id:U.NEW_ICMP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOM"),icon:"fwcMenuIcon fwci-icmpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[M.SERVICE_ICMP].items=this.menuSettingsTree[M.SERVICE_ICMP].items.concat(r.items),this.menuSettingsTree[M.SERVICE_TCP]=Jt(o),this.menuSettingsTree[M.SERVICE_TCP].items.push({id:U.NEW_TCP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOT"),icon:"fwcMenuIcon fwci-tcpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[M.SERVICE_TCP].items=this.menuSettingsTree[M.SERVICE_TCP].items.concat(r.items),this.menuSettingsTree[M.SERVICE_UDP]=Jt(o),this.menuSettingsTree[M.SERVICE_UDP].items.push({id:U.NEW_UDP_SERVICE,text:this.translate.instant("CONTEXT.NEW_OBJ.SOU"),icon:"fwcMenuIcon fwci-udpservice fwcGreen",finalObject:!1}),this.menuSettingsTree[M.SERVICE_UDP].items=this.menuSettingsTree[M.SERVICE_UDP].items.concat(r.items),this.menuSettingsTree[M.SERVICE_GROUP]=Jt(o),this.menuSettingsTree[M.SERVICE_GROUP].items.push({id:U.NEW_SERVICE_GROUP,text:this.translate.instant("CONTEXT.NEW_OBJ.SOG"),icon:"fwcMenuIcon fwci-servicegroup fwcGreen",finalObject:!1}),this.menuSettingsTree[M.SERVICE_GROUP].items=this.menuSettingsTree[M.SERVICE_GROUP].items.concat(r.items),this.menuSettingsTree[M.OBJ_CLUSTER]=Jt(o),this.menuSettingsTree[M.OBJ_CLUSTER].items=this.menuSettingsTree[M.OBJ_CLUSTER].items.concat([{id:U.CLUSTER_EDIT,text:this.translate.instant("CONTEXT.CL.EDIT"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_COMPILE,text:this.translate.instant("CONTEXT.CL.COMPILE"),icon:"fwcMenuIcon fwci-compilefirewall fwcBlue",finalObject:!0},{id:U.FIREWALL_INSTALL,text:this.translate.instant("CONTEXT.CL.INSTALL"),icon:"fwcMenuIcon fwci-installfirewall fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.PLUGINS,text:this.translate.instant("FW.MSG_FW_EDITION.PLUGINS"),icon:"fa fa-puzzle-piece fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.NGFW,text:this.translate.instant("NGFW.TITLE"),icon:"fa fa-n fwcOrange",finalObject:!0,clusterNode:!1,visible:!0},{id:U.SEPARATOR,type:"separator",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_SHOW,text:this.translate.instant("CONTEXT.CL.SHOW"),icon:"fa fa-eye fwcBlue",finalObject:!0,clusterNode:!1},{id:U.POLICY_PANEL_DOWNLOAD,text:this.translate.instant("CONTEXT.CL.DOWNLOAD"),icon:"fa fa-download fwcBlue",finalObject:!0,clusterNode:!1},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_DELETE,text:this.translate.instant("CONTEXT.CL.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_TO_FIREWALL,text:this.translate.instant("CONTEXT.CL.TO_FW"),icon:"fwcMenuIcon fwci2-cluster_to_firewall fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.CLUSTER_CLONE,text:this.translate.instant("CONTEXT.CL.CLONE"),icon:"fwcMenuIcon2 fwci2-cluster_clone fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FIREWALL_IPTABLES_IMPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_IMPORT"),icon:"fwcMenuIcon fwci-input fwcBlue",finalObject:!0},{id:U.FIREWALL_IPTABLES_EXPORT,text:this.translate.instant("CONTEXT.FW.IPTABLES_SAVE_EXPORT"),icon:"fwcMenuIcon fwci-output fwcBlue",finalObject:!0}]),this.menuSettingsTree[M.OBJ_MARK]=Jt(o),this.menuSettingsTree[M.OBJ_MARK].items.push({id:U.MARK_NEW,text:this.translate.instant("CONTEXT.NEW_OBJ.MRK"),icon:"fwcMenuIcon fwci2-label fwcGreen",finalObject:!1}),this.menuSettingsTree[M.OBJ_MARK].items=this.menuSettingsTree[M.OBJ_MARK].items.concat(r.items),this.menuSettingsTree[M.FOLDER_ROUTING]=Jt(o),this.menuSettingsTree[M.ROUTING_TABLES]=Jt(o),this.menuSettingsTree[M.ROUTING_TABLES].items=this.menuSettingsTree[M.ROUTING_TABLES].items.concat([{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_NEW,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE"),icon:"fa fa-file fwcGreen",finalObject:!0}]),this.menuSettingsTree[M.ROUTING_TABLE]={items:[{id:U.ROUTING_TABLE_EDIT,text:this.translate.instant("CONTEXT.ROUTING.EDIT_TABLE"),icon:"fwcMenuIcon fwci-edit fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_NEW_ROUTE,text:this.translate.instant("CONTEXT.ROUTING.NEW_TABLE_ROUTE"),icon:"fa fa-plus fwcGreen",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.ROUTING_TABLE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.DELETE_TABLE"),icon:"fa fa-trash fwcRed",finalObject:!0}]},this.menuSettingsTree[M.COUNTRIES]={items:[{id:U.TREE_RELOAD,text:this.translate.instant("CONTEXT.FDF.RELOAD"),icon:"fwci-reload fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[M.CONTINENT]={items:[{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0},{id:U.SEPARATOR,type:"separator"},{id:U.FOLDER_EXPAND,text:this.translate.instant("CONTEXT.FOLDERS.EXPAND"),icon:"fwcMenuIcon fwci-expand fwcBlue"},{id:U.FOLDER_COLLAPSE,text:this.translate.instant("CONTEXT.FOLDERS.COLLAPSE"),icon:"fwcMenuIcon fwci-collapse fwcBlue"}]},this.menuSettingsTree[M.COUNTRIE]={items:[{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue",finalObject:!0}]},this.menuSettingsTree[M.FOLDER_SYSTEM]=Jt(o),this.menuSettingsTree[M.DHCP]=Jt(o),this.menuSettingsTree[M.DHCP]={items:[...a]},this.menuSettingsTree[M.KEEPALIVED]={items:[...a]},this.menuSettingsTree[M.HAPROXY]={items:[...a]},this.menuSettingsPosition.POSITION={items:[{id:U.POSITION_NEGATE,text:this.translate.instant("CONTEXT.POSITION.NEGATE"),icon:"fwcMenuIcon fwci-negateposition fwcBlue",visible:!1},{id:U.POSITION_ALLOW,text:this.translate.instant("CONTEXT.POSITION.ALLOW"),icon:"fwcMenuIcon fwci-enableposition fwcBlue",visible:!1},{id:U.OBJECT_EDIT,text:this.translate.instant("CONTEXT.POSITION.EDIT_OBJ"),icon:"fwcMenuIcon fwci-edit fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE,text:this.translate.instant("CONTEXT.POSITION.PASTE"),icon:"fwcMenuIcon fwci-paste fwcBlue",visible:!1},{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsPosition.NO_MENU={items:[{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS")}]};let l=[{id:U.RULE_COLOR_DEFAULT,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.NONE"),icon:"fwci2-cuadrado fwcWhite"},{id:U.RULE_COLOR_RED,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.RED"),icon:"fwci2-cuadrado fwcRulePink"},{id:U.RULE_COLOR_PURPLE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.PURPLE"),icon:"fwci2-cuadrado fwcRulePurple"},{id:U.RULE_COLOR_BLUE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.BLUE"),icon:"fwci2-cuadrado fwcRuleBlue"},{id:U.RULE_COLOR_TEAL,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.TEAL"),icon:"fwci2-cuadrado fwcRuleTeal"},{id:U.RULE_COLOR_GREEN,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.GREEN"),icon:"fwci2-cuadrado fwcRuleGreen"},{id:U.RULE_COLOR_YELLOW,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.YELLOW"),icon:"fwci2-cuadrado fwcRuleYellow"},{id:U.RULE_COLOR_ORANGE,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.ORANGE"),icon:"fwci2-cuadrado fwcRuleOrange"},{id:U.RULE_COLOR_CUSTOM,pid:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.COLORS.CUSTOM"),icon:"fa fa-crosshairs fwcBlue"}];this.menuSettingsRule.RULE={items:[{id:U.RULE_COMPILE,text:this.translate.instant("CONTEXT.RULE.COMP_S"),textSingle:this.translate.instant("CONTEXT.RULE.COMP_S"),textMulti:this.translate.instant("CONTEXT.RULE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue",items:s.items},{id:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.RULE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.RULE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:U.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_HS_ABOVE,text:this.translate.instant("CONTEXT.RULE.NEW_HS_AB"),icon:"fa fa-file-code fwcOrange"},{id:U.RULE_NEW_HS_BELOW,text:this.translate.instant("CONTEXT.RULE.NEW_HS_BE"),icon:"fa fa-file-code fwcOrange"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_EDIT,text:this.translate.instant("CONTEXT.RULE.EDIT"),icon:"fwcMenuIcon fwci-editrule fwcBlue"},{id:U.RULE_ENABLE,text:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:U.RULE_DISABLE,text:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.RULE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.RULE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:U.RULE_DELETE,text:this.translate.instant("CONTEXT.RULE.DELETE"),textSingle:this.translate.instant("CONTEXT.RULE.DELETE"),textMulti:this.translate.instant("CONTEXT.RULE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:U.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:U.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:U.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:U.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.AI_ASSISTANT,text:this.translate.instant("CONTEXT.AI_ASSISTANT.AI_TITLE"),icon:"fa fa-robot fwcBlue",finalObject:!0,visible:!0}]},this.menuSettingsRule.ROUTING_RULE=Jt(this.menuSettingsRule.RULE),this.menuSettingsRule.ROUTING_RULE.items=this.menuSettingsRule.ROUTING_RULE.items.filter(d=>{if(d.id!=U.RULE_EDIT&&d.id!=U.RULE_NEW_HS_ABOVE&&d.id!=U.RULE_NEW_HS_BELOW&&d.id!=U.AI_ASSISTANT)return!0});let c=this.menuSettingsRule.ROUTING_RULE.items.findIndex(d=>d.id===U.RULE_COMPILE);c!==-1&&(this.menuSettingsRule.ROUTING_RULE.items[c]={id:U.RULE_COMPILE,text:this.translate.instant("CONTEXT.ROUTING.ROUTING_RULE.COMP_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTING_RULE.COMP_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTING_RULE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue"}),this.configureMenuSettingsRule("DHCP_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT,U.AI_ASSISTANT]),this.configureMenuSettingsRule("KEEPALIVED_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT,U.AI_ASSISTANT]),this.configureMenuSettingsRule("HAPROXY_RULE",[U.RULE_NEW_HS_ABOVE,U.RULE_NEW_HS_BELOW,U.RULE_EDIT,U.AI_ASSISTANT]),this.menuSettingsRule.ROUTE={items:[{id:U.RULE_COMPILE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COMP_M"),icon:"fwcMenuIcon fwci-compilerule fwcBlue"},{id:U.RULE_COLOR_CHANGE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.COLOR_M"),icon:"fwcMenuIcon fwci-rulecolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_NEW_ABOVE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_AB"),icon:"fwcMenuIcon fwci-newruleabove fwcGreen"},{id:U.RULE_NEW_BELOW,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.NEW_BE"),icon:"fwcMenuIcon fwci-newrulebelow fwcGreen"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_ENABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.ENABLE_M"),icon:"fwcMenuIcon fwci-enablerule fwcBlue"},{id:U.RULE_DISABLE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_S"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DISABLE_M"),icon:"fwcMenuIcon fwci-disablerule fwcBlue",textUnselected:"Disable rule",textSelected:"Enable rule"},{id:U.RULE_DELETE,text:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textSingle:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE"),textMulti:this.translate.instant("CONTEXT.ROUTING.ROUTE.DELETE_M"),icon:"fwcMenuIcon fwci-deleterule fwcRed"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_MOVE_ABOVE,text:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_AB"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_AB_GR"),icon:"fwcMenuIcon fwci2-moveup fwcBlue"},{id:U.RULE_MOVE_BELOW,text:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textNormal:this.translate.instant("CONTEXT.RULE.MOVE_BE"),textGroup:this.translate.instant("CONTEXT.RULE.MOVE_BE_GR"),icon:"fwcMenuIcon fwci-movedown fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.COPY,text:this.translate.instant("CONTEXT.POSITION.COPY"),icon:"fwcMenuIcon fwci-copy fwcBlue"},{id:U.CUT,text:this.translate.instant("CONTEXT.POSITION.CUT"),icon:"fwcMenuIcon fwci-cut fwcBlue"},{id:U.PASTE_ABOVE,text:this.translate.instant("CONTEXT.RULE.PASTE_AB"),icon:"fwcMenuIcon fwci2-pasteabove fwcBlue"},{id:U.PASTE_BELOW,text:this.translate.instant("CONTEXT.RULE.PASTE_BE"),icon:"fwcMenuIcon fwci2-pastebelow fwcBlue"},{id:U.RULE_CREATE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_CREATE"),icon:"fwcMenuIcon fwci-objectgroup fwcGreen"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcRed"},{id:U.RULE_REMOVE_FROM_GROUP,text:this.translate.instant("CONTEXT.RULE.GR_RULE_DELETE"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed"}]},this.menuSettingsGroupObject.OBJECT={items:[{id:U.FIND_IN_TREE,text:this.translate.instant("CONTEXT.OBJECTS.FIND_IN_TREE"),icon:"fwcMenuIcon fwci2-findintree fwcBlue"},{id:U.WHERE_USED,text:this.translate.instant("CONTEXT.OBJECTS.WU"),icon:"fwcMenuIcon fwci-whereused fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.DELETE_FROM_GROUP,text:this.translate.instant("CONTEXT.OBJECTS.DEL_F_GROUP"),icon:"fwcMenuIcon fwci-removefromgroup fwcRed",userObject:!0},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.menuSettingsGroupObject.OBJECT_CUSTOMFORM={items:[{id:U.DELETE,text:this.translate.instant("CONTEXT.OBJECTS.DELETE"),icon:"fwcMenuIcon fwci-delete fwcRed"}]},this.menuSettingsRuleGroup.RULE_GROUP=Jt(o),this.menuSettingsRuleGroup.RULE_GROUP.items=this.menuSettingsRuleGroup.RULE_GROUP.items.concat([{id:U.RULE_GROUP_EDIT,text:this.translate.instant("CONTEXT.RULE_GR.NAME"),icon:"fwcMenuIcon fwci-groupname fwcBlue"},{id:U.RULE_GROUP_COLOR_CHANGE,text:this.translate.instant("CONTEXT.RULE_GR.COLOR"),icon:"fwcMenuIcon fwci-groupcolor fwcBlue"},{id:U.SEPARATOR,type:"separator"},{id:U.RULE_REMOVE_GROUP,text:this.translate.instant("CONTEXT.RULE_GR.DELETE"),icon:"fwcMenuIcon fwci-removegroup fwcBlue"}])}configureMenuSettingsRule(t,o){this.menuSettingsRule[t]=Jt(this.menuSettingsRule.RULE);let r=[...this.menuSettingsRule[t].items];this.menuSettingsRule[t].items=this.menuSettingsRule[t].items.map(a=>o.includes(a.id)?Fe(ee({},a),{visible:!1}):a);let s=this.menuSettingsRule[t].items.find(a=>a.id==U.RULE_COMPILE);s&&delete s.items,o.forEach(a=>{let l=r.findIndex(c=>c.id===a);if(l>0&&r[l-1].type==="separator"){let c=this.menuSettingsRule[t].items.findIndex(d=>d.id===a)-1;c>=0&&this.menuSettingsRule[t].items[c].type==="separator"&&(this.menuSettingsRule[t].items[c].visible=!1)}if(l<r.length-1&&r[l+1].type==="separator"){let c=this.menuSettingsRule[t].items.findIndex(d=>d.id===a)+1;c<this.menuSettingsRule[t].items.length&&this.menuSettingsRule[t].items[c].type==="separator"&&(this.menuSettingsRule[t].items[c].visible=!1)}}),this.menuSettingsRule[t].items=this.menuSettingsRule[t].items.filter((a,l,c)=>a.visible!==!1&&(a.type!=="separator"||l>0&&l<c.length-1&&c[l-1].type!=="separator"&&c[l+1].type!=="separator"))}getTreeMenu(t){return t.node_type?this.menuSettingsTree[t.node_type]:{items:[]}}getTreeMenus(){return this.menuSettingsTree}getPositionMenus(){return this.menuSettingsPosition}getRuleMenus(){return this.menuSettingsRule}getRuleGroupMenus(){return this.menuSettingsRuleGroup}getGroupObjectMenus(){return this.menuSettingsGroupObject}setMenuOption(t,o,r,s){try{let a=t.items.filter(function(l){return l.id==o});return a[0]&&(a[0][r]=s),!0}catch(a){return console.error(a),!1}}swapMenuOptions(t,o,r){for(let s=0;s<t.items.length;s++)t.items[s][r]&&(t.items[s][o]=t.items[s][r])}swapMenuOptionText(t,o,r,s){try{let a=t.items.filter(function(l){return l.id==o});return a[0]&&a[0][r]&&(a[0][r]=a[0][s]),!0}catch(a){return console.error(a),!1}}swapMenuText(t,o,r){try{let s=t.items.filter(function(a){return a.id==o});return s[0]&&(s[0].text=r?s[0].textSelected:s[0].textUnselected),!0}catch(s){return console.error(s),!1}}};n.\u0275fac=function(o){return new(o||n)(be(dt),be($e))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var OE=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/customer`}getCustomers(){let t=`${this.endpoint}/get`;return this.httpClient.put(t,{}).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCustomer(t){let o=`${this.endpoint}/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newCustomer(t){let o=`${this.endpoint}`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateCustomer(t){let o=`${this.endpoint}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteCustomer(t){let o=`${this.endpoint}/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkCustomerRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var Dc=(function(i){return i[i.EVENT_GENERIC=1]="EVENT_GENERIC",i[i.EVENT_LOG=10]="EVENT_LOG",i[i.EVENT_PLUGIN_PANEL_CLOSED=11]="EVENT_PLUGIN_PANEL_CLOSED",i[i.EVENT_CONNECTION_ESTABLISHED=20]="EVENT_CONNECTION_ESTABLISHED",i[i.EVENT_CONNECTION_LOST=21]="EVENT_CONNECTION_LOST",i})(Dc||{});var dn=(()=>{let n=class n{constructor(){this.subjectEvent=new Le,this.subjectLogEvent=new Le}emitEvent(t){t&&(t.type==Dc.EVENT_LOG?this.subjectLogEvent.next(t):this.subjectEvent.next(t))}getEvent(){return this.subjectEvent.asObservable()}getLogEvent(){return this.subjectLogEvent.asObservable()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Bt=(()=>{let n=class n extends $i{constructor(t,o){super(t),this.httpClient=t,this.fwcUserService=o,this.endpoint=`${Ie.settings.fwcAppURL}/firewall`}getFirewall(t,o){let r=`${this.endpoint}/get`,s={firewall:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getFirewallsByCloud(t,o){let r=`${this.endpoint}/cloud/get`,s={fwcloud:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateFirewall(t){let o=`${this.endpoint}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newFirewall(t){let o=`${this.endpoint}`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteFirewall(t,o){let r=`${this.endpoint}/del`,s={firewall:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}cloneFirewall(t){let o=`${this.endpoint}/clone`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkFwRestrictions(t,o){let r=`${this.endpoint}/restricted`,s={firewall:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}installPlugins(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/plugin?channel_id=${r}`;return this.httpClient.post(s,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkFwCommunication(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/communication/ping`;return this.httpClient.post(r,o).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getFirewallInformation(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/communication/info`;return this.httpClient.post(r,o).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getSystemctlInformation(t){let o=`${Ie.settings.fwcAppURL}/systemctl`;return this.httpClient.post(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getClustersByCloud(t){let o=`${Ie.settings.fwcAppURL}/cluster/cloud/get`,r={fwcloud:t};return this.httpClient.put(o,JSON.stringify(r)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCluster(t,o){let r=`${Ie.settings.fwcAppURL}/cluster/get`,s={cluster:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getClusterNodes(t,o){let r=`${this.endpoint}/cluster/get`,s={cluster:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteClusterNode(t,o,r){let s=`${this.endpoint}/delfromcluster`,a={cluster:t,firewall:o,fwcloud:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getClusterMasterNode(t,o){let r=`${this.endpoint}/cluster/get`,s={cluster:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),J(this.parseClusterMasterNode),X(this.handleAPIError))}parseClusterMasterNode(t){let o,r={error:{msg:"No master node"}};o=t.data;for(let s=0;o&&s<o.length;s++)if(o[s].fwmaster){r={data:Object.assign({},o[s])};break}return r}newCluster(t,o,r){let s=`${Ie.settings.fwcAppURL}/cluster`,a={fwcloud:o,node_id:r,clusterData:t};return this.httpClient.post(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateCluster(t,o,r){let s=`${Ie.settings.fwcAppURL}/cluster`,a={fwcloud:o,clusterData:t};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteCluster(t,o){let r=`${Ie.settings.fwcAppURL}/cluster/del`,s={cluster:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}convertFwToCluster(t){let o=`${Ie.settings.fwcAppURL}/cluster/fwtocluster`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}convertClusterToFw(t){let o=`${Ie.settings.fwcAppURL}/cluster/clustertofw`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}cloneCluster(t){let o=`${Ie.settings.fwcAppURL}/cluster/clone`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkClusterRestrictions(t,o){let r=`${Ie.settings.fwcAppURL}/cluster/restricted`,s={firewall:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}autoDiscoverInterfaces(t){let o=`${Ie.settings.fwcAppURL}/interface/autodiscover`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}ipTablesSaveImport(t,o){let r=`${Ie.settings.fwcAppURL}/iptables-save/import?channel_id=${o}`,s=new As;return s=s.set("X-FWC-TIMEOUT","9999999"),this.httpClient.put(r,JSON.stringify(t),{headers:s}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}ipTablesSaveExport(t,o){let r=`${Ie.settings.fwcAppURL}/iptables-save/export`;return this.httpClient.put(r,JSON.stringify(t)).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}loadBackEndConfig(){let t=`${Ie.settings.fwcAppURL}/config`;return this.httpClient.get(t)}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(dt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var Wr=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/interface`}getInterfacesInFw(t,o){let r=`${this.endpoint}/fw/all/get`,s;return s={firewall:t,fwcloud:o},this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getInterfacesInFwFull(t,o){let r=`${this.endpoint}/fw/full/get`,s;return s={firewall:t,fwcloud:o},this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getInterface(t,o,r){let s=`${this.endpoint}/fw/get`,a;return a={firewall:t,id:o,fwcloud:r},this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getInterfaceHost(t,o,r){let s=`${this.endpoint}/host/get`,a;return a={host:t,id:o,fwcloud:r},this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newInterface(t){let o=`${this.endpoint}`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateInterface(t){let o=`${this.endpoint}`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteInterfaceFw(t){let o=`${this.endpoint}/fw/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteInterfaceHost(t){let o=`${this.endpoint}/host/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getInterfaceWhereUsed(t,o,r){let s=`${this.endpoint}/where`,a={fwcloud:r,id:t,type:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkInterfaceRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var RE=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/ipobj/mark`}newMark(t){let o=this.endpoint;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getMark(t){let o=`${this.endpoint}/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateMark(t){let o=this.endpoint;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteMark(t){let o=`${this.endpoint}/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getMarkWhereUsed(t){let o=`${this.endpoint}/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkMarkRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var En=(()=>{let n=class n extends $i{constructor(t,o){super(t),this.httpClient=t,this.cd=o,this.items=[],this.nodeCounter=0,this.endpoint=`${Ie.settings.fwcAppURL}/tree`}getTree(t,o){let r="",s=t.container,a=t.objStandard,l=t.objCloud,c={};switch(t._siblingTree&&(s=t._siblingTree),c.fwcloud=o,s){case Ge.C_FIREWALLS:case Ge.C_FIREWALLS_CONDENSED:r=`${this.endpoint}/firewalls/get`;break;case Ge.C_OBJECTS:r=`${this.endpoint}/objects/get`,c.objStandard=a,c.objCloud=l;break;case Ge.C_CA:r=`${this.endpoint}/ca/get`;break;case Ge.C_SERVICES:r=`${this.endpoint}/services/get`,c.objStandard=a,c.objCloud=l;break}return this.cd.detectChanges(),this.httpClient.put(r,JSON.stringify(c)).pipe(J(this.handleAPIResponse),J(d=>this.extractTreeData(d,t)),X(this.handleAPIError))}getTreeChildTypes(){let t="API CALL FOR GETTING THE CHILD TYPES",o={data:[{id_node:M.OBJ_ADDRESS,node_type:M.OBJ_ADDRESS},{id_node:M.OBJ_IP_RANGE,node_type:M.OBJ_IP_RANGE},{id_node:M.OBJ_HOST,node_type:M.OBJ_IF_HOST,is_object:!0},{id_node:M.OBJ_HOST,node_type:M.OBJ_HOST},{id_node:M.OBJ_GROUP,node_type:M.OBJ_GROUP},{id_node:M.OBJ_NETWORK,node_type:M.OBJ_NETWORK},{id_node:M.OBJ_DNS,node_type:M.OBJ_DNS},{id_node:M.FOLDER_INTERFACES,node_type:M.OBJ_IF_FW,is_object:!0},{id_node:M.OBJ_IF_FW,node_type:M.OBJ_ADDRESS,is_object:!0},{id_node:M.OBJ_IF_HOST,node_type:M.OBJ_ADDRESS,is_object:!0},{id_node:M.SERVICE_IP,node_type:M.SERVICE_IP},{id_node:M.SERVICE_TCP,node_type:M.SERVICE_TCP},{id_node:M.SERVICE_ICMP,node_type:M.SERVICE_ICMP},{id_node:M.SERVICE_UDP,node_type:M.SERVICE_UDP},{id_node:M.SERVICE_GROUP,node_type:M.SERVICE_GROUP}]};return this.cd.detectChanges(),Dt(o)}newFolder(t){let o=`${this.endpoint}/folder`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}dropInFolder(t){let o=`${this.endpoint}/folder/drop`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteFolder(t){let o=`${this.endpoint}/folder/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateFolder(t){let o=`${this.endpoint}/folder`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}repairTree(t,o,r){let s=`${this.endpoint}/repair?channel_id=${r}`,a={type:t,fwcloud:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getNodes(t,o,r){let s=`${this.endpoint}/node/get`,a={node_type:t,fwcloud:o,id_obj:r||null};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getNodesByNodeType(t,o){let r=`${this.endpoint}/node/getByNodeType`,s={node_type:t,fwcloud:o};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getNodesFull(t,o,r,s){let a=[],l,c;for(a.push(...t);a.length>0;)if(l=a.pop(),l.node_type===o){if(r?c=l.id_obj===r:c=!0,s&&(c=c&&l.text===s),c)return l}else if(l.items&&l.items.length)for(let d=0;d<l.items.length;d++)a.push(l.items[d]);return null}extractTreeData(t,o){try{let r=JSON.stringify(t.data);r=r.replace(/"children"/g,'"items"'),r=r.replace(/"allowdrag"/g,'"allowDrag"'),t.data=JSON.parse(r),o.container==Ge.C_FIREWALLS_CONDENSED}catch{}return t}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(We))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var DE=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/ipobj`}getObjectTypes(){let t=`${this.endpoint}/types`;return this.httpClient.get(t).pipe(J(this.handleAPIResponse),J(this.parseObjectTypeNames),X(this.handleAPIError))}getObjectType(t){let o,r=`${this.endpoint}/types/get`;return o={id:t},this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}parseObjectTypeNames(t){if(t){let o=t.data;o&&Array.isArray(o)&&o.forEach(r=>{r.type=r.type.replace(" ","_")})}return t}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var Ki=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/ipobj`}getObject(t,o){let r=`${this.endpoint}/get`,s={fwcloud:o,id:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),J(this.addFields),X(this.handleAPIError))}getPolicyRuleObjects(t,o,r){let s=`${Ie.settings.fwcAppURL}/policy/ipobj/get`,a={fwcloud:r,firewall:t,rule:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateObject(t){let o=this.endpoint;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteObject(t){let o=`${this.endpoint}/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newObject(t){let o=this.endpoint;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}searchObject(t){let o=`${this.endpoint}/ipobj_search_used/${t._fwcObjId}/${t._fwcObjType}`;return this.httpClient.get(o).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkObjectRestrictions(t){let o=`${this.endpoint}/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getObjectGroup(t,o){let r=`${this.endpoint}/group/get`,s={fwcloud:o,id:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getObjectGroupAllowedTypes(){let t=[];return t[O.OBJ_GROUP]=[O.OBJ_ADDRESS,O.OBJ_ADDRESS_RANGE,O.OBJ_NETWORK,O.OBJ_HOST,O.OBJ_OPENVPN_CONFIG_CLI,O.OBJ_OPENVPN_PREFIX,O.OBJ_WGC_CONFIG_CLI,O.OBJ_WIREGUARD_PREFIX,O.OBJ_ISC_CONFIG_CLI,O.OBJ_IPSEC_PREFIX,O.OBJ_DNS],t[O.OBJ_SERVICE_GROUP]=[O.OBJ_SERVICE_IP,O.OBJ_SERVICE_TCP,O.OBJ_SERVICE_ICMP,O.OBJ_SERVICE_UDP],t[O.OBJ_ROUTING_GATEWAY]=[O.OBJ_ADDRESS],t[O.OBJ_ROUTING_RULE_FROM]=[O.OBJ_ADDRESS,O.OBJ_ADDRESS_RANGE,O.OBJ_NETWORK,O.OBJ_HOST,O.OBJ_OPENVPN_CONFIG_CLI,O.OBJ_OPENVPN_PREFIX,O.OBJ_WGC_CONFIG_CLI,O.OBJ_WIREGUARD_PREFIX,O.OBJ_ISC_CONFIG_CLI,O.OBJ_IPSEC_PREFIX,O.OBJ_GROUP,O.OBJ_DNS,O.OBJ_MARK],t[O.OBJ_DHCP_RULE_NETWORK]=[O.OBJ_NETWORK],t[O.OBJ_DHCP_RULE_RANGE]=[O.OBJ_ADDRESS_RANGE],t[O.OBJ_DHCP_RULE_ROUTER]=[O.OBJ_ADDRESS],t[O.OBJ_DHCP_RULE_DNS]=[O.OBJ_ADDRESS],t[O.OBJ_DHCP_RULE_INTERFACE]=[O.OBJ_INTERFACE_FIREWALL,O.OBJ_INTERFACE_HOST],t[O.OBJ_DHCP_RULE_IP]=[O.OBJ_ADDRESS],t[O.OBJ_KEEPALIVED_INTERFACE]=[O.OBJ_INTERFACE_FIREWALL],t[O.OBJ_KEEPALIVED_VIRTUAL_IPS]=[O.OBJ_ADDRESS],t[O.OBJ_KEEPALIVED_MASTER_NODE]=[O.OBJ_FIREWALL],t[O.OBJ_HAPROXY_RULE_FRONTEND_IP]=[O.OBJ_ADDRESS],t[O.OBJ_HAPROXY_RULE_FRONTEND_PORT]=[O.OBJ_SERVICE_TCP,O.OBJ_SERVICE_UDP],t[O.OBJ_HAPROXY_RULE_BACKEND_IPS]=[O.OBJ_ADDRESS],t[O.OBJ_HAPROXY_RULE_BACKEND_PORT]=[O.OBJ_SERVICE_TCP,O.OBJ_SERVICE_UDP],Dt(t)}newObjectGroup(t){let o=`${this.endpoint}/group`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateObjectGroup(t){let o=`${this.endpoint}/group`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteObjectGroup(t){let o=`${this.endpoint}/group/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newObjectGroupObject(t){let o=`${this.endpoint}/group/addto`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteObjectGroupObject(t){let o=`${this.endpoint}/group/delfrom`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getObjectWhereUsed(t,o,r){let s=`${this.endpoint}/where`,a={id:t,type:o,fwcloud:r};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getObjectGroupWhereUsed(t,o){let r=`${this.endpoint}/group/where`,s={fwcloud:o,id:t};return this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkObjectGroupRestrictions(t){let o=`${this.endpoint}/group/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPProtocols(){let t=`${this.endpoint}-protocols`;return this.httpClient.get(t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}addFields(t){let o=[];return o.push(t.data),o.forEach(r=>{r._fwcObjId=r.id,r._fwcObjName=r.name,r._fwcObjType=r.obj_type=r.type}),t}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();function PE(i,n){let t=!n?.manualCleanup?n?.injector?.get(ms)??z(ms):null,o=oPe(n?.equal),r;n?.requireSync?r=lt({kind:0},{equal:o}):r=lt({kind:1,value:n?.initialValue},{equal:o});let s,a=i.subscribe({next:l=>r.set({kind:1,value:l}),error:l=>{r.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(n?.requireSync&&r().kind===0)throw new ot(601,!1);return s=t?.onDestroy(a.unsubscribe.bind(a)),ct(()=>{let l=r();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new ot(601,!1)}},{equal:n?.equal})}function oPe(i=Object.is){return(n,e)=>n.kind===1&&e.kind===1&&i(n.value,e.value)}var iN={};function xr(i,n){if(iN[i]=(iN[i]||0)+1,typeof n=="function")return Zk(i,(...t)=>Fe(ee({},n(...t)),{type:i}));switch(n?n._as:"empty"){case"empty":return Zk(i,()=>({type:i}));case"props":return Zk(i,t=>Fe(ee({},t),{type:i}));default:throw new Error("Unexpected config.")}}function Fs(){return{_as:"props",_p:void 0}}function Zk(i,n){return Object.defineProperty(n,"type",{value:i,writable:!1})}function rPe(i,n){if(i==null)throw new Error(`${n} must be defined.`)}var a$="@ngrx/store/init",Yf=(()=>{let n=class n extends _n{constructor(){super({type:a$})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})(),sPe=[Yf],aN=new he("@ngrx/store Internal Root Guard"),WW=new he("@ngrx/store Internal Initial State"),lN=new he("@ngrx/store Initial State"),l$=new he("@ngrx/store Reducer Factory"),$W=new he("@ngrx/store Internal Reducer Factory Provider"),c$=new he("@ngrx/store Initial Reducers"),eN=new he("@ngrx/store Internal Initial Reducers"),KW=new he("@ngrx/store Store Features"),qW=new he("@ngrx/store Internal Store Reducers"),tN=new he("@ngrx/store Internal Feature Reducers"),JW=new he("@ngrx/store Internal Feature Configs"),cN=new he("@ngrx/store Internal Store Features"),QW=new he("@ngrx/store Internal Feature Reducers Token"),dN=new he("@ngrx/store Feature Reducers"),YW=new he("@ngrx/store User Provided Meta Reducers"),AE=new he("@ngrx/store Meta Reducers"),XW=new he("@ngrx/store Internal Resolved Meta Reducers"),ZW=new he("@ngrx/store User Runtime Checks Config"),e$=new he("@ngrx/store Internal User Runtime Checks Config"),Jy=new he("@ngrx/store Internal Runtime Checks"),Yy=new he("@ngrx/store Check if Action types are unique"),nN=new he("@ngrx/store Root Store Provider"),t$=new he("@ngrx/store Feature State Provider");function pN(i,n={}){let e=Object.keys(i),t={};for(let r=0;r<e.length;r++){let s=e[r];typeof i[s]=="function"&&(t[s]=i[s])}let o=Object.keys(t);return function(s,a){s=s===void 0?n:s;let l=!1,c={};for(let d=0;d<o.length;d++){let u=o[d],m=t[u],g=s[u],y=m(g,a);c[u]=y,l=l||y!==g}return l?c:s}}function aPe(i,n){return Object.keys(i).filter(e=>e!==n).reduce((e,t)=>Object.assign(e,{[t]:i[t]}),{})}function d$(...i){return function(n){if(i.length===0)return n;let e=i[i.length-1];return i.slice(0,-1).reduceRight((o,r)=>r(o),e(n))}}function p$(i,n){return Array.isArray(n)&&n.length>0&&(i=d$.apply(null,[...n,i])),(e,t)=>{let o=i(e);return(r,s)=>(r=r===void 0?t:r,o(r,s))}}function lPe(i){let n=Array.isArray(i)&&i.length>0?d$(...i):e=>e;return(e,t)=>(e=n(e),(o,r)=>(o=o===void 0?t:o,e(o,r)))}var D_=class extends pi{},kE=class extends Yf{},cPe="@ngrx/store/update-reducers",Qy=(()=>{let n=class n extends _n{get currentReducers(){return this.reducers}constructor(t,o,r,s){super(s(r,o)),this.dispatcher=t,this.initialState=o,this.reducers=r,this.reducerFactory=s}addFeature(t){this.addFeatures([t])}addFeatures(t){let o=t.reduce((r,{reducers:s,reducerFactory:a,metaReducers:l,initialState:c,key:d})=>{let u=typeof s=="function"?lPe(l)(s,c):p$(a,l)(s,c);return r[d]=u,r},{});this.addReducers(o)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(o=>o.key))}addReducer(t,o){this.addReducers({[t]:o})}addReducers(t){this.reducers=ee(ee({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(o=>{this.reducers=aPe(this.reducers,o)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:cPe,features:t})}ngOnDestroy(){this.complete()}};n.\u0275fac=function(o){return new(o||n)(be(kE),be(lN),be(c$),be(l$))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})(),dPe=[Qy,{provide:D_,useExisting:Qy},{provide:kE,useExisting:Yf}],FE=(()=>{let n=class n extends Le{ngOnDestroy(){this.complete()}};n.\u0275fac=(()=>{let t;return function(r){return(t||(t=ue(n)))(r||n)}})(),n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})(),pPe=[FE],NE=class extends pi{},i$=(()=>{let n=class n extends _n{constructor(t,o,r,s){super(s);let l=t.pipe(nf(gR)).pipe(TR(o)),c={state:s},d=l.pipe(U0(uPe,c));this.stateSubscription=d.subscribe(({state:u,action:m})=>{this.next(u),r.next(m)}),this.state=PE(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};n.INIT=a$,n.\u0275fac=function(o){return new(o||n)(be(Yf),be(D_),be(FE),be(lN))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();function uPe(i={state:void 0},[n,e]){let{state:t}=i;return{state:e(t,n),action:n}}var hPe=[i$,{provide:NE,useExisting:i$}],tt=(()=>{let n=class n extends pi{constructor(t,o,r,s){super(),this.actionsObserver=o,this.reducerManager=r,this.injector=s,this.source=t,this.state=t.state}select(t,...o){return Cn.call(null,t,...o)(this)}selectSignal(t,o){return ct(()=>t(this.state()),o)}lift(t){let o=new n(this,this.actionsObserver,this.reducerManager);return o.operator=t,o}dispatch(t,o){if(typeof t=="function")return this.processDispatchFn(t,o);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,o){this.reducerManager.addReducer(t,o)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,o){rPe(this.injector,"Store Injector");let r=o?.injector??mPe()??this.injector;return In(()=>{let s=t();Uo(()=>this.dispatch(s))},{injector:r})}};n.\u0275fac=function(o){return new(o||n)(be(NE),be(Yf),be(Qy),be(hn))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})(),fPe=[tt];function Cn(i,n,...e){return function(o){let r;if(typeof i=="string"){let s=[n,...e].filter(Boolean);r=o.pipe(IR(i,...s))}else if(typeof i=="function")r=o.pipe(J(s=>i(s,n)));else throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);return r.pipe(Jc())}}function mPe(){try{return z(hn)}catch{return}}var uN="https://ngrx.io/guide/store/configuration/runtime-checks";function n$(i){return i===void 0}function o$(i){return i===null}function u$(i){return Array.isArray(i)}function gPe(i){return typeof i=="string"}function _Pe(i){return typeof i=="boolean"}function bPe(i){return typeof i=="number"}function h$(i){return typeof i=="object"&&i!==null}function yPe(i){return h$(i)&&!u$(i)}function vPe(i){if(!yPe(i))return!1;let n=Object.getPrototypeOf(i);return n===Object.prototype||n===null}function oN(i){return typeof i=="function"}function wPe(i){return oN(i)&&i.hasOwnProperty("\u0275cmp")}function CPe(i,n){return Object.prototype.hasOwnProperty.call(i,n)}var SPe=!1;function IPe(){return SPe}function r$(i,n){return i===n}function EPe(i,n,e){for(let t=0;t<i.length;t++)if(!e(i[t],n[t]))return!0;return!1}function f$(i,n=r$,e=r$){let t=null,o=null,r;function s(){t=null,o=null}function a(d=void 0){r={result:d}}function l(){r=void 0}function c(){if(r!==void 0)return r.result;if(!t)return o=i.apply(null,arguments),t=arguments,o;if(!EPe(arguments,t,n))return o;let d=i.apply(null,arguments);return t=arguments,e(o,d)?o:(o=d,d)}return{memoized:c,reset:s,setResult:a,clearResult:l}}function qo(...i){return TPe(f$)(...i)}function xPe(i,n,e,t){if(e===void 0){let r=n.map(s=>s(i));return t.memoized.apply(null,r)}let o=n.map(r=>r(i,e));return t.memoized.apply(null,[...o,e])}function TPe(i,n={stateFn:xPe}){return function(...e){let t=e;if(Array.isArray(t[0])){let[d,...u]=t;t=[...d,...u]}else t.length===1&&OPe(t[0])&&(t=RPe(t[0]));let o=t.slice(0,t.length-1),r=t[t.length-1],s=o.filter(d=>d.release&&typeof d.release=="function"),a=i(function(...d){return r.apply(null,d)}),l=f$(function(d,u){return n.stateFn.apply(null,[d,o,u,a])});function c(){l.reset(),a.reset(),s.forEach(d=>d.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function lh(i){return qo(n=>{let e=n[i];return!IPe()&&kb()&&!(i in n)&&console.warn(`@ngrx/store: The feature name "${i}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${i}', ...) or StoreModule.forFeature('${i}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},n=>n)}function OPe(i){return!!i&&typeof i=="object"&&Object.values(i).every(n=>typeof n=="function")}function RPe(i){let n=Object.values(i),e=Object.keys(i),t=(...o)=>e.reduce((r,s,a)=>Fe(ee({},r),{[s]:o[a]}),{});return[...n,t]}function DPe(i){return i instanceof he?z(i):i}function PPe(i,n){return n.map((e,t)=>{if(i[t]instanceof he){let o=z(i[t]);return{key:e.key,reducerFactory:o.reducerFactory?o.reducerFactory:pN,metaReducers:o.metaReducers?o.metaReducers:[],initialState:o.initialState}}return e})}function APe(i){return i.map(n=>n instanceof he?z(n):n)}function hN(i){return typeof i=="function"?i():i}function kPe(i,n){return i.concat(n)}function NPe(){if(z(tt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function FPe(i,n){return function(e,t){let o=n.action(t)?rN(t):t,r=i(e,o);return n.state()?rN(r):r}}function rN(i){Object.freeze(i);let n=oN(i);return Object.getOwnPropertyNames(i).forEach(e=>{if(!e.startsWith("\u0275")&&CPe(i,e)&&(!n||e!=="caller"&&e!=="callee"&&e!=="arguments")){let t=i[e];(h$(t)||oN(t))&&!Object.isFrozen(t)&&rN(t)}}),i}function LPe(i,n){return function(e,t){if(n.action(t)){let r=sN(t);s$(r,"action")}let o=i(e,t);if(n.state()){let r=sN(o);s$(r,"state")}return o}}function sN(i,n=[]){return(n$(i)||o$(i))&&n.length===0?{path:["root"],value:i}:Object.keys(i).reduce((t,o)=>{if(t)return t;let r=i[o];return wPe(r)?t:n$(r)||o$(r)||bPe(r)||_Pe(r)||gPe(r)||u$(r)?!1:vPe(r)?sN(r,[...n,o]):{path:[...n,o],value:r}},!1)}function s$(i,n){if(i===!1)return;let e=i.path.join("."),t=new Error(`Detected unserializable ${n} at "${e}". ${uN}#strict${n}serializability`);throw t.value=i.value,t.unserializablePath=e,t}function MPe(i,n){return function(e,t){if(n.action(t)&&!Ft.isInAngularZone())throw new Error(`Action '${t.type}' running outside NgZone. ${uN}#strictactionwithinngzone`);return i(e,t)}}function BPe(i){return kb()?ee({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},i):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function VPe({strictActionSerializability:i,strictStateSerializability:n}){return e=>i||n?LPe(e,{action:t=>i&&!fN(t),state:()=>n}):e}function UPe({strictActionImmutability:i,strictStateImmutability:n}){return e=>i||n?FPe(e,{action:t=>i&&!fN(t),state:()=>n}):e}function fN(i){return i.type.startsWith("@ngrx")}function jPe({strictActionWithinNgZone:i}){return n=>i?MPe(n,{action:e=>i&&!fN(e)}):n}function GPe(i){return[{provide:e$,useValue:i},{provide:ZW,useFactory:HPe,deps:[e$]},{provide:Jy,deps:[ZW],useFactory:BPe},{provide:AE,multi:!0,deps:[Jy],useFactory:UPe},{provide:AE,multi:!0,deps:[Jy],useFactory:VPe},{provide:AE,multi:!0,deps:[Jy],useFactory:jPe}]}function m$(){return[{provide:Yy,multi:!0,deps:[Jy],useFactory:zPe}]}function HPe(i){return i}function zPe(i){if(!i.strictActionTypeUniqueness)return;let n=Object.entries(iN).filter(([,e])=>e>1).map(([e])=>e);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(e=>`"${e}"`).join(", ")}. ${uN}#strictactiontypeuniqueness`)}function WPe(i={},n={}){return[{provide:aN,useFactory:NPe},{provide:WW,useValue:n.initialState},{provide:lN,useFactory:hN,deps:[WW]},{provide:eN,useValue:i},{provide:qW,useExisting:i instanceof he?i:eN},{provide:c$,deps:[eN,[new fb(qW)]],useFactory:DPe},{provide:YW,useValue:n.metaReducers?n.metaReducers:[]},{provide:XW,deps:[AE,YW],useFactory:kPe},{provide:$W,useValue:n.reducerFactory?n.reducerFactory:pN},{provide:l$,deps:[$W,XW],useFactory:p$},sPe,dPe,pPe,hPe,fPe,GPe(n.runtimeChecks),m$()]}function $Pe(){z(Yf),z(D_),z(FE),z(tt),z(aN,{optional:!0}),z(Yy,{optional:!0})}var l$t=[{provide:nN,useFactory:$Pe},DC(()=>z(nN))];function KPe(){z(nN);let i=z(cN),n=z(dN),e=z(Qy);z(Yy,{optional:!0});let t=i.map((o,r)=>{let a=n.shift()[r];return Fe(ee({},o),{reducers:a,initialState:hN(o.initialState)})});e.addFeatures(t)}var c$t=[{provide:t$,useFactory:KPe},DC(()=>z(t$))];function qPe(i,n,e={}){return[{provide:JW,multi:!0,useValue:i instanceof Object?{}:e},{provide:KW,multi:!0,useValue:{key:i instanceof Object?i.name:i,reducerFactory:!(e instanceof he)&&e.reducerFactory?e.reducerFactory:pN,metaReducers:!(e instanceof he)&&e.metaReducers?e.metaReducers:[],initialState:!(e instanceof he)&&e.initialState?e.initialState:void 0}},{provide:cN,deps:[JW,KW],useFactory:PPe},{provide:tN,multi:!0,useValue:i instanceof Object?i.reducer:n},{provide:QW,multi:!0,useExisting:n instanceof he?n:tN},{provide:dN,multi:!0,deps:[tN,[new fb(QW)]],useFactory:APe},m$()]}var g$=(()=>{let n=class n{constructor(t,o,r,s,a,l){}};n.\u0275fac=function(o){return new(o||n)(be(Yf),be(D_),be(FE),be(tt),be(aN,8),be(Yy,8))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({});let i=n;return i})(),JPe=(()=>{let n=class n{constructor(t,o,r,s,a){this.features=t,this.featureReducers=o,this.reducerManager=r;let l=t.map((c,d)=>{let m=o.shift()[d];return Fe(ee({},c),{reducers:m,initialState:hN(c.initialState)})});r.addFeatures(l)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};n.\u0275fac=function(o){return new(o||n)(be(cN),be(dN),be(Qy),be(g$),be(Yy,8))},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({});let i=n;return i})(),d$t=(()=>{let n=class n{static forRoot(t,o){return{ngModule:g$,providers:[...WPe(t,o)]}}static forFeature(t,o,r={}){return{ngModule:JPe,providers:[...qPe(t,o,r)]}}};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({});let i=n;return i})();function Pp(...i){let n=i.pop(),e=i.map(t=>t.type);return{reducer:n,types:e}}function _$(i,...n){let e=new Map;for(let t of n)for(let o of t.types){let r=e.get(o);if(r){let s=(a,l)=>t.reducer(r(a,l),l);e.set(o,s)}else e.set(o,t.reducer)}return function(t=i,o){let r=e.get(o.type);return r?r(t,o):t}}var b$=lh("ui"),h$t=qo(b$,i=>i.blockUi),Ss=qo(b$,i=>i.theme);var Xy={};su(Xy,{selectItemToSelect:()=>YPe,selectItemUpdateFwStatus:()=>XPe,selectTreeState:()=>mN});var mN=lh("tree"),YPe=qo(mN,i=>i.itemToSelect),XPe=qo(mN,i=>i.updateFwStatus);var Ua={};su(Ua,{selectDialogState:()=>ev,selectDialogUuidsToReload:()=>E2e,selectLastDialogId:()=>C2e,selectMinimizedDialogs:()=>S2e,selectMinimizedDialogsIds:()=>C$,selectVisibleDialogs:()=>I2e,selectVisibleDialogsIds:()=>S$});function ZPe(){return{ids:[],entities:{}}}function e2e(){function i(n={}){return Object.assign(ZPe(),n)}return{getInitialState:i}}function t2e(){function i(n){let e=s=>s.ids,t=s=>s.entities,o=qo(e,t,(s,a)=>s.map(l=>a[l])),r=qo(e,s=>s.length);return n?{selectIds:qo(n,e),selectEntities:qo(n,t),selectAll:qo(n,o),selectTotal:qo(n,r)}:{selectIds:e,selectEntities:t,selectAll:o,selectTotal:r}}return{getSelectors:i}}var Pi=(function(i){return i[i.EntitiesOnly=0]="EntitiesOnly",i[i.Both=1]="Both",i[i.None=2]="None",i})(Pi||{});function Jo(i){return function(e,t){let o={ids:[...t.ids],entities:ee({},t.entities)},r=i(e,o);return r===Pi.Both?Object.assign({},t,o):r===Pi.EntitiesOnly?Fe(ee({},t),{entities:o.entities}):t}}function Ap(i,n){let e=n(i);return kb()&&e===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",i,"The `selectId` implementation:",n.toString()),e}function y$(i){function n(S,I){let P=Ap(S,i);return P in I.entities?Pi.None:(I.ids.push(P),I.entities[P]=S,Pi.Both)}function e(S,I){let P=!1;for(let L of S)P=n(L,I)!==Pi.None||P;return P?Pi.Both:Pi.None}function t(S,I){return I.ids=[],I.entities={},e(S,I),Pi.Both}function o(S,I){let P=Ap(S,i);return P in I.entities?(I.entities[P]=S,Pi.EntitiesOnly):(I.ids.push(P),I.entities[P]=S,Pi.Both)}function r(S,I){let P=S.map(L=>o(L,I));switch(!0){case P.some(L=>L===Pi.Both):return Pi.Both;case P.some(L=>L===Pi.EntitiesOnly):return Pi.EntitiesOnly;default:return Pi.None}}function s(S,I){return a([S],I)}function a(S,I){let L=(S instanceof Array?S:I.ids.filter(F=>S(I.entities[F]))).filter(F=>F in I.entities).map(F=>delete I.entities[F]).length>0;return L&&(I.ids=I.ids.filter(F=>F in I.entities)),L?Pi.Both:Pi.None}function l(S){return Object.assign({},S,{ids:[],entities:{}})}function c(S,I,P){let L=P.entities[I.id],F=Object.assign({},L,I.changes),K=Ap(F,i),le=K!==I.id;return le&&(S[I.id]=K,delete P.entities[I.id]),P.entities[K]=F,le}function d(S,I){return u([S],I)}function u(S,I){let P={};return S=S.filter(F=>F.id in I.entities),S.length>0?S.filter(K=>c(P,K,I)).length>0?(I.ids=I.ids.map(K=>P[K]||K),Pi.Both):Pi.EntitiesOnly:Pi.None}function m(S,I){let L=I.ids.reduce((F,K)=>{let le=S(I.entities[K]);return le!==I.entities[K]&&F.push({id:K,changes:le}),F},[]).filter(({id:F})=>F in I.entities);return u(L,I)}function g({map:S,id:I},P){let L=P.entities[I];if(!L)return Pi.None;let F=S(L);return d({id:I,changes:F},P)}function y(S,I){return v([S],I)}function v(S,I){let P=[],L=[];for(let le of S){let me=Ap(le,i);me in I.entities?L.push({id:me,changes:le}):P.push(le)}let F=u(L,I),K=e(P,I);switch(!0){case(K===Pi.None&&F===Pi.None):return Pi.None;case(K===Pi.Both||F===Pi.Both):return Pi.Both;default:return Pi.EntitiesOnly}}return{removeAll:l,addOne:Jo(n),addMany:Jo(e),setAll:Jo(t),setOne:Jo(o),setMany:Jo(r),updateOne:Jo(d),updateMany:Jo(u),upsertOne:Jo(y),upsertMany:Jo(v),removeOne:Jo(s),removeMany:Jo(a),map:Jo(m),mapOne:Jo(g)}}function i2e(i,n){let{removeOne:e,removeMany:t,removeAll:o}=y$(i);function r(P,L){return s([P],L)}function s(P,L){let F=P.filter(K=>!(Ap(K,i)in L.entities));return F.length===0?Pi.None:(I(F,L),Pi.Both)}function a(P,L){return L.entities={},L.ids=[],s(P,L),Pi.Both}function l(P,L){let F=Ap(P,i);return F in L.entities?(L.ids=L.ids.filter(K=>K!==F),I([P],L),Pi.Both):r(P,L)}function c(P,L){let F=P.map(K=>l(K,L));switch(!0){case F.some(K=>K===Pi.Both):return Pi.Both;case F.some(K=>K===Pi.EntitiesOnly):return Pi.EntitiesOnly;default:return Pi.None}}function d(P,L){return m([P],L)}function u(P,L,F){if(!(L.id in F.entities))return!1;let K=F.entities[L.id],le=Object.assign({},K,L.changes),me=Ap(le,i);return delete F.entities[L.id],P.push(le),me!==L.id}function m(P,L){let F=[],K=P.filter(le=>u(F,le,L)).length>0;if(F.length===0)return Pi.None;{let le=L.ids,me=[];return L.ids=L.ids.filter((fe,Te)=>fe in L.entities?!0:(me.push(Te),!1)),I(F,L),!K&&me.every(fe=>L.ids[fe]===le[fe])?Pi.EntitiesOnly:Pi.Both}}function g(P,L){let F=L.ids.reduce((K,le)=>{let me=P(L.entities[le]);return me!==L.entities[le]&&K.push({id:le,changes:me}),K},[]);return m(F,L)}function y({map:P,id:L},F){let K=F.entities[L];if(!K)return Pi.None;let le=P(K);return d({id:L,changes:le},F)}function v(P,L){return S([P],L)}function S(P,L){let F=[],K=[];for(let fe of P){let Te=Ap(fe,i);Te in L.entities?K.push({id:Te,changes:fe}):F.push(fe)}let le=m(K,L),me=s(F,L);switch(!0){case(me===Pi.None&&le===Pi.None):return Pi.None;case(me===Pi.Both||le===Pi.Both):return Pi.Both;default:return Pi.EntitiesOnly}}function I(P,L){P.sort(n);let F=[],K=0,le=0;for(;K<P.length&&le<L.ids.length;){let me=P[K],fe=Ap(me,i),Te=L.ids[le],He=L.entities[Te];n(me,He)<=0?(F.push(fe),K++):(F.push(Te),le++)}K<P.length?L.ids=F.concat(P.slice(K).map(i)):L.ids=F.concat(L.ids.slice(le)),P.forEach((me,fe)=>{L.entities[i(me)]=me})}return{removeOne:e,removeMany:t,removeAll:o,addOne:Jo(r),updateOne:Jo(d),upsertOne:Jo(v),setAll:Jo(a),setOne:Jo(l),setMany:Jo(c),addMany:Jo(s),updateMany:Jo(m),upsertMany:Jo(S),map:Jo(g),mapOne:Jo(y)}}function v$(i={}){let{selectId:n,sortComparer:e}={selectId:i.selectId??(s=>s.id),sortComparer:i.sortComparer??!1},t=e2e(),o=t2e(),r=e?i2e(n,e):y$(n);return ee(ee(ee({selectId:n,sortComparer:e},t),o),r)}var qi={};su(qi,{requestBlockUI:()=>n2e,requestUnblockUI:()=>o2e,setTheme:()=>r2e});var n2e=xr("[UI] Block UI"),o2e=xr("[UI] Unblock UI"),r2e=xr("[UI] Change theme",Fs());var _r={};su(_r,{reloadTree:()=>a2e,selectTreeItem:()=>s2e,updateFwStatus:()=>l2e});var s2e=xr("[Tree] Select item",Fs()),a2e=xr("[Tree] Reload tree",Fs()),l2e=xr("[Tree] Update firewall status",Fs());var an={};su(an,{addDialog:()=>c2e,hideDialog:()=>u2e,minimizeDialog:()=>d2e,reloadDialog:()=>m2e,reloadDialogFinished:()=>g2e,removeDialog:()=>f2e,removeMinimizedDialogs:()=>h2e,restoreDialog:()=>p2e});var c2e=xr("[Dialog] Add new dialog",Fs()),d2e=xr("[Dialog] Minimize dialog",Fs()),p2e=xr("[Dialog] Restore dialog",Fs()),u2e=xr("[Dialog] Hide dialog",Fs()),h2e=xr("[Dialog] Remove minimized dialogs"),f2e=xr("[Dialog] Remove dialog",Fs()),m2e=xr("[Dialog] Reload dialog",Fs()),g2e=xr("[Dialog] Dialog reloaded",Fs());var w$={};su(w$,{loadPolicyTypes:()=>b2e,policyTypesLoaded:()=>y2e,reloadPolicy:()=>_2e});var _2e=xr("[Policy] Reload policy",Fs()),b2e=xr("[Policy] Load policy types"),y2e=xr("[Policy] Policy types loaded",Fs());var Zy=v$({selectId:i=>i.dialogId}),v2e=Zy.getInitialState({minimizedDialogIds:[],visibleDialogIds:[],dialogsToReloadUuids:[]}),w2e=_$(v2e,Pp(an.addDialog,(i,{dialog:n})=>Zy.addOne(n,ee({},i))),Pp(an.removeMinimizedDialogs,i=>Fe(ee({},i),{minimizedDialogIds:[]})),Pp(an.minimizeDialog,(i,n)=>Fe(ee({},i),{minimizedDialogIds:[...i.minimizedDialogIds,n.dialogId],visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Pp(an.restoreDialog,(i,n)=>Fe(ee({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:[...i.visibleDialogIds,n.dialogId]})),Pp(an.hideDialog,(i,n)=>Fe(ee({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)})),Pp(an.removeDialog,(i,n)=>Zy.removeOne(n.dialogId,Fe(ee({},i),{minimizedDialogIds:i.minimizedDialogIds.filter(e=>e!==n.dialogId),visibleDialogIds:i.visibleDialogIds.filter(e=>e!==n.dialogId)}))),Pp(an.reloadDialog,(i,n)=>Fe(ee({},i),{dialogsToReloadUuids:n.dialogUuids})),Pp(an.reloadDialogFinished,(i,n)=>Fe(ee({},i),{dialogsToReloadUuids:null})));function T$t(i,n){return w2e(i,n)}var ev=lh("dialog"),gN=Zy.getSelectors(ev),C2e=qo(gN.selectIds,i=>{let n=0;if(Array.isArray(i)){let e=Math.max(...i);e>n&&(n=e)}return n}),C$=qo(ev,i=>i.minimizedDialogIds),S2e=qo(gN.selectAll,C$,(i,n)=>i.filter(e=>n.includes(e.dialogId))),S$=qo(ev,i=>i.visibleDialogIds),I2e=qo(gN.selectAll,S$,(i,n)=>i.filter(e=>n.includes(e.dialogId))),E2e=qo(ev,i=>i.dialogsToReloadUuids);var LE={};su(LE,{selectPolicyLoaded:()=>x2e,selectPolicyState:()=>_N,selectPolicyTypes:()=>T2e});var _N=lh("policy"),x2e=qo(_N,i=>i.loadedPolicy),T2e=qo(_N,i=>i.policyTypes);var qn=(()=>{let n=class n extends $i{constructor(t,o){super(t),this.httpClient=t,this.store=o,this.fwcPolicy=[],this.subjectSelectedPolicy=new Le,this.subjectReloadPolicy=new Le,this.alive=!0,this.endpoint=`${Ie.settings.fwcAppURL}/policy`,this.store.pipe(Nt(()=>this.alive),Cn(LE.selectPolicyTypes)).subscribe(r=>{this.fwcPolicyTypes=r})}ngOnDestroy(){this.alive=!1}setSelectedPolicy(t){if(!t)return;let o=Object.assign({},t),r="",s="";if(this.selectedPolicy&&(s=this.selectedPolicy._fwcFwName),t._fwcFwName&&(s=t._fwcFwName),Array.isArray(this.fwcPolicyTypes)){for(let a=0;a<this.fwcPolicyTypes.length;a++)this.fwcPolicyTypes[a].id==t._fwcPolicyType&&(r=this.fwcPolicyTypes[a].name);o._fwcFwId=t._fwcFwId,o._fwcFwName=s,o._fwcPolicyType=t._fwcPolicyType,o._fwcPolicyName=r||t._fwcPolicyName,o._fwcPolicyIPVersion=Y7[t._fwcPolicyType],this.selectedPolicy=o,this.subjectSelectedPolicy.next(o)}else Ie.log("There are no policy types")}getSelectedPolicy(){return this.subjectSelectedPolicy.asObservable()}getActualSelectedPolicy(){return this.selectedPolicy}getPolicy(t,o,r,s){let a=s?"rule/type/grouped/get":"rule/type/get",l=`${this.endpoint}/${a}`,c={fwcloud:r,firewall:t,type:o};return this.httpClient.put(l,JSON.stringify(c)).pipe(J(d=>this.handleAPIResponse(d)),J(d=>this.extractPolicyData(d)),X(d=>this.handleAPIError(d)))}getPolicyRulesInGroup(t,o,r,s){let a=`${this.endpoint}/rule/type/ingroup/get`,l={fwcloud:r,firewall:t,type:o,idgroup:s};return this.httpClient.put(a,JSON.stringify(l)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getActualPolicy(){return this.fwcPolicy}getActualPolicySequential(){return this.fwcPolicySequential}setActualPolicy(t){if(t){this.fwcPolicy=t,this.fwcPolicySequential=[];for(let o=0;o<this.fwcPolicy.length;o++){let r=this.fwcPolicy[o];if(r.rule_group)for(let s=0;s<r.rules.length;s++){let a=r.rules[s];this.fwcPolicySequential.push(a)}else this.fwcPolicySequential.push(r)}}else this.fwcPolicy=[],this.fwcPolicySequential=[]}reloadPolicy(){return this.subjectReloadPolicy.next(!0),this.subjectReloadPolicy.asObservable()}newPolicyRule(t){let o=`${this.endpoint}/rule`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRule(t){let o=`${this.endpoint}/rule`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRuleAsObject(t){let o=`${this.endpoint}/rule`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deletePolicyRules(t,o,r){let s=`${this.endpoint}/rule/del`,a={fwcloud:r,firewall:t,rulesIds:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRulesActive(t){let o=`${this.endpoint}/rule/active`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRulesStyle(t){let o=`${this.endpoint}/rule/style`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyObject(t,o,r){let s,a;return o=="O"?t.prefix!==void 0&&t.prefix!==null?r==O.OBJ_OPENVPN_CONFIG_CLI||r==O.OBJ_OPENVPN_PREFIX?a="prefix/openvpn":r==O.OBJ_WGC_CONFIG_CLI||r==O.OBJ_WIREGUARD_PREFIX?a="prefix/wireguard":(r==O.OBJ_ISC_CONFIG_CLI||r==O.OBJ_IPSEC_PREFIX)&&(a="prefix/ipsec"):t.openvpn!==void 0&&t.openvpn!==null?a="openvpn":t.wireguard!==void 0&&t.wireguard!==null?a="wireguard":t.ipsec!==void 0&&t.ipsec!==null?a="ipsec":a="ipobj":a="interface",t.rule==t.new_rule&&t.position==t.new_position?s=`${this.endpoint}/${a}/order`:s=`${this.endpoint}/${a}/move`,this.httpClient.put(s,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}negatePolicyObject(t,o){let r;if(t)return o?r=`${this.endpoint}/rule/position/negate`:r=`${this.endpoint}/rule/position/allow`,this.httpClient.put(r,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newPolicyObject(t,o,r){let s;return o=="O"?t.prefix?r==O.OBJ_OPENVPN_PREFIX||r==O.OBJ_OPENVPN_CONFIG_CLI?s=`${this.endpoint}/prefix/openvpn`:r==O.OBJ_WIREGUARD_PREFIX||r==O.OBJ_WGC_CONFIG_CLI?s=`${this.endpoint}/prefix/wireguard`:(r==O.OBJ_IPSEC_PREFIX||r==O.OBJ_ISC_CONFIG_CLI)&&(s=`${this.endpoint}/prefix/ipsec`):t.openvpn?s=`${this.endpoint}/openvpn`:t.wireguard?s=`${this.endpoint}/wireguard`:t.ipsec?s=`${this.endpoint}/ipsec`:s=`${this.endpoint}/ipobj`:s=`${this.endpoint}/interface`,this.httpClient.post(s,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deletePolicyObject(t,o,r){let s,a;return o=="O"?(t.prefix!==void 0&&t.prefix!==null?r==O.OBJ_OPENVPN_CONFIG_CLI||r==O.OBJ_OPENVPN_PREFIX?a="prefix/openvpn":r==O.OBJ_WGC_CONFIG_CLI||r==O.OBJ_WIREGUARD_PREFIX?a="prefix/wireguard":(r==O.OBJ_ISC_CONFIG_CLI||r==O.OBJ_IPSEC_PREFIX)&&(a="prefix/ipsec"):t.openvpn!==void 0&&t.openvpn!==null?a="openvpn":t.wireguard!==void 0&&t.wireguard!==null?a="wireguard":t.ipsec!==void 0&&t.ipsec!==null?a="ipsec":a="ipobj",s=`${this.endpoint}/${a}/del`):s=`${this.endpoint}/interface/del`,this.httpClient.put(s,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getPolicyTypes(){let t=`${this.endpoint}/types`;return this.httpClient.get(t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}managePolicyRules(t,o){let r=`${this.endpoint}/rule/copy`,s=`${this.endpoint}/rule/move`,a,l=Object.assign({},t);return o==Go.COPY?a=r:o==Go.CUT&&(a=s),delete l.action,delete l.idgroup,delete l.rulesOrder,delete l.pasteOnRuleOrder,this.httpClient.put(a,JSON.stringify(l)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newPolicyRulesGroup(t){let o=`${this.endpoint}/group`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRulesGroup(t){let o=`${this.endpoint}/group`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updatePolicyRulesGroupStyleOrName(t,o){let r,s={fwcloud:t.fwcloud,firewall:t.firewall};return o?(r=`${this.endpoint}/group/style`,s.style=t.style,s.groupIds=t.groupIds):(r=`${this.endpoint}/group/name`,s.id=t.id,s.name=t.name),this.httpClient.put(r,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deletePolicyRulesGroup(t,o,r){let s=`${this.endpoint}/group/del`,a={fwcloud:r,firewall:t,id:o};return this.httpClient.put(s,JSON.stringify(a)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deletePolicyRulesGroupRuleFromGroup(t){let o=`${this.endpoint}/group/rules/del`,r={fwcloud:t.fwcloud,firewall:t.firewall,id:t.idgroup,rulesIds:t.rulesIds};return this.httpClient.put(o,r).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}setSelectedRule(t){Ie.log("Inside policy component: ",t)}getPolicyRule(t,o,r,s){let a=`${this.endpoint}/rule/get`,l={fwcloud:s,firewall:t,type:o,rule:r};return this.httpClient.put(a,JSON.stringify(l)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getPolicyRules(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/policyRules/read`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}getPolicyRuleFull(t,o,r,s){let a=`${this.endpoint}/rule/full/get`,l={fwcloud:s,firewall:t,type:o,rule:r};return this.httpClient.put(a,JSON.stringify(l)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getPolicyRuleCompilation(t,o,r,s){let a=`${this.endpoint}/compile/rule`,l={fwcloud:s,firewall:t,type:o,rule:r};return this.httpClient.put(a,JSON.stringify(l)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getPolicyRulesCompilation(t,o,r,s,a){let l=`${this.endpoint}/compile/rule`,c={fwcloud:s,firewall:t,type:o,rules:r,compiler:a};return this.httpClient.put(l,JSON.stringify(c)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}compileFirewall(t,o,r){let s=`${Ie.settings.fwcAppURL}/policy/compile?channel_id=${r}`,a={fwcloud:o,firewall:t};return this.httpClient.put(s,a).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}installFirewall(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/policy/install?channel_id=${a}`,c={fwcloud:o,firewall:t,sshuser:r,sshpass:s};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}generatePolicyScript(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/policyRules/download`;return this.httpClient.post(r,null,{observe:"response",responseType:"blob"}).pipe(X(this.handleAPIError))}extractPolicyData(t){return this.fwcPolicy=t.data,t||{}}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(tt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var ME=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/policy/positions`}getPositions(t){let o={type:t},r=`${this.endpoint}/get`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getAllPositions(){let t=`${this.endpoint}/all/get`;return this.httpClient.put(t,{}).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getTypesPositions(){let t=`${Ie.settings.fwcAppURL}/ipobj/positions/policy`;return this.httpClient.get(t).pipe(J(this.handleAPIResponse),J(this.addSpecialPolicyTypesPositions),X(this.handleAPIError))}addSpecialPolicyTypesPositions(t){return Array.isArray(t.data)&&(t.data=[...t.data,{type:O.OBJ_ADDRESS,position:ji.GATEWAY_POSITION},{type:O.OBJ_INTERFACE_FIREWALL,position:ji.INTERFACE_POSITION},{type:O.OBJ_ADDRESS,position:ji.TO_POSITION},{type:O.OBJ_ADDRESS_RANGE,position:ji.TO_POSITION},{type:O.OBJ_NETWORK,position:ji.TO_POSITION},{type:O.OBJ_HOST,position:ji.TO_POSITION},{type:O.OBJ_DNS,position:ji.TO_POSITION},{type:O.OBJ_GROUP,position:ji.TO_POSITION},{type:O.OBJ_OPENVPN_CONFIG_CLI,position:ji.TO_POSITION},{type:O.OBJ_OPENVPN_PREFIX,position:ji.TO_POSITION},{type:O.OBJ_WGC_CONFIG_CLI,position:ji.TO_POSITION},{type:O.OBJ_WIREGUARD_PREFIX,position:ji.TO_POSITION},{type:O.OBJ_ISC_CONFIG_CLI,position:ji.TO_POSITION},{type:O.OBJ_IPSEC_PREFIX,position:ji.TO_POSITION},{type:O.OBJ_ADDRESS,position:Hr.FROM_POSITION},{type:O.OBJ_ADDRESS_RANGE,position:Hr.FROM_POSITION},{type:O.OBJ_NETWORK,position:Hr.FROM_POSITION},{type:O.OBJ_HOST,position:Hr.FROM_POSITION},{type:O.OBJ_DNS,position:Hr.FROM_POSITION},{type:O.OBJ_GROUP,position:Hr.FROM_POSITION},{type:O.OBJ_OPENVPN_CONFIG_CLI,position:Hr.FROM_POSITION},{type:O.OBJ_OPENVPN_PREFIX,position:Hr.FROM_POSITION},{type:O.OBJ_MARK,position:Hr.FROM_POSITION},{type:O.OBJ_WGC_CONFIG_CLI,position:Hr.FROM_POSITION},{type:O.OBJ_WIREGUARD_PREFIX,position:Hr.FROM_POSITION},{type:O.OBJ_ISC_CONFIG_CLI,position:Hr.FROM_POSITION},{type:O.OBJ_IPSEC_PREFIX,position:Hr.FROM_POSITION},{type:O.OBJ_NETWORK,position:ra.NETWORK},{type:O.OBJ_ADDRESS_RANGE,position:ra.RANGE},{type:O.OBJ_ADDRESS,position:ra.ROUTER},{type:O.OBJ_ADDRESS,position:ra.DNS},{type:O.OBJ_INTERFACE_FIREWALL,position:ra.INTERFACE},{type:O.OBJ_INTERFACE_HOST,position:ra.INTERFACE},{type:O.OBJ_ADDRESS,position:ra.IP},{type:O.OBJ_ADDRESS,position:Ep.VIRTUAL_IPS},{type:O.OBJ_INTERFACE_FIREWALL,position:Ep.INTERFACE},{type:O.OBJ_FIREWALL,position:Ep.MASTER_NODE},{type:O.OBJ_ADDRESS,position:_l.FRONTEND_IP},{type:O.OBJ_SERVICE_TCP,position:_l.FRONTEND_PORT},{type:O.OBJ_SERVICE_UDP,position:_l.FRONTEND_PORT},{type:O.OBJ_ADDRESS,position:_l.BACKEND_IPS},{type:O.OBJ_SERVICE_TCP,position:_l.BACKEND_PORT},{type:O.OBJ_SERVICE_UDP,position:_l.BACKEND_PORT}]),t}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var ch=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t}getRoutingPolicy(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getRoutingPolicyGrid(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/grid`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newRoutingPolicyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules`;return this.httpClient.post(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingPolicyRule(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}moveObjectBetweenFromPositions(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/moveFrom`;return this.httpClient.put(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingPolicyRules(t,o,r,s){let a=r.map(d=>`rules[]=${d}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/bulkUpdate?${a}`,c={active:s.active,style:s.style,routingGroupId:s.routingGroupId};return this.httpClient.put(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingPolicyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingPolicyRules(t,o,r){let s=r.map(l=>`rules[]=${l}`).join("&"),a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}manageRoutingPolicyRules(t,o,r,s,a,l){let c="copy",d=this.httpClient.post,u=s<0?"above":"below";l===Go.CUT&&(c="move",d=this.httpClient.put);let m=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/${c}`,g={to:r,offset:u,rules:a};return d.call(this.httpClient,m,g).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}compileRoutingPolicyRules(t,o,r){let s=r.map(l=>`rules[]=${l}`).join("&"),a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingRules/compile?${s}`;return this.httpClient.get(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newRoutingPolicyRuleGroup(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingGroups`,c={name:r,comment:s,routingRules:a};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingPolicyRuleGroup(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingGroups/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingPolicyRulesGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingGroups/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var aa=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t}getRoutingTables(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getRoutingTable(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getRoutingTableRoutesGrid(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/grid`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newRoutingTable(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables`;return this.httpClient.post(l,{number:r,name:s,comment:a}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingTable(t,o,r,s,a,l){let c=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}`;return this.httpClient.put(c,{number:s,name:a,comment:l}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingTable(t){let{fwcloud:o,firewall:r,id:s}=t,a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${r}/routingTables/${s}`;return this.httpClient.delete(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkTableRestrictions(t){let{fwcloud:o,firewall:r,id:s}=t,a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${r}/routingTables/${s}/restricted`;return this.httpClient.get(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newRoutingTableRoute(t,o,r,s,a,l,c){let d=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes`,u=c<0?"above":"below";return this.httpClient.post(d,{gatewayId:s,to:l,offset:u,comment:a}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingTableRoute(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/${s}`;return this.httpClient.put(l,a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}moveObjectInRoutes(t,o,r,s,a){let l;switch(s){case ji.TO_POSITION:l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/moveTo`;break;case ji.GATEWAY_POSITION:l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/moveToGateway`;break;case ji.INTERFACE_POSITION:l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/moveInterface`;break}return this.httpClient.put(l,a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingTableRoutes(t,o,r,s,a){let l=s.map(u=>`routes[]=${u}`).join("&"),c=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/bulkUpdate?${l}`,d={active:a.active,style:a.style,routeGroupId:a.routeGroupId};return this.httpClient.put(c,d).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingTableRoutes(t,o,r,s){let a=s.map(c=>`routes[]=${c}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/bulkRemove?${a}`;return this.httpClient.delete(l).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}compileRoutingTableRoutes(t,o,r,s){let a=s.map(c=>`routes[]=${c}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/compile?${a}`;return this.httpClient.get(l).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}manageTableRoutes(t,o,r,s,a,l,c){let d="copy",u=this.httpClient.post;c===Go.CUT&&(d="move",u=this.httpClient.put);let m=a<0?"above":"below",g=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routingTables/${r}/routes/${d}`,y={to:s,offset:m,routes:l};return u.call(this.httpClient,g,y).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newRoutingTableRouteGroup(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routeGroups`,c={name:r,comment:s,routes:a};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateRoutingTableRouteGroup(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routeGroups/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteRoutingTableRouteGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/routeGroups/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var BE=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t}getSnapshots(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/${t}/snapshots`;return this.httpClient.get(o).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}createSnapshot(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/snapshots?channel_id=${o}`;return this.httpClient.post(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}restoreSnapshot(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/snapshots/${o}/restore?channel_id=${r}`;return this.httpClient.post(s,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}deleteSnapshot(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${t}/snapshots/${o}`;return this.httpClient.delete(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var co=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this.endpoint=`${Ie.settings.fwcAppURL}/vpn`}getCA(t){let o=`${this.endpoint}/pki/ca/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newCA(t){let o=`${this.endpoint}/pki/ca`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateCA(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/${t.fwcloud}/cas/${t.id}`,r={comment:t.comment};return this.httpClient.put(o,JSON.stringify(r)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateCRT(t){let o=`${Ie.settings.fwcAppURL}/fwclouds/${t.fwcloud}/cas/${t.ca}/crts/${t.id}`,r={comment:t.comment};return this.httpClient.put(o,JSON.stringify(r)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteCA(t){let o=`${this.endpoint}/pki/ca/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkCARestrictions(t){let o=`${this.endpoint}/pki/ca/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCertificate(t){let o=`${this.endpoint}/pki/crt/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newCertificate(t){let o=`${this.endpoint}/pki/crt`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteCertificate(t){let o=`${this.endpoint}/pki/crt/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkCertificateRestrictions(t){let o=`${this.endpoint}/pki/crt/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newPrefixFolder(t){let o=`${this.endpoint}/pki/prefix`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}editPrefixFolder(t){let o=`${this.endpoint}/pki/prefix`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deletePrefixFolder(t){let o=`${this.endpoint}/pki/prefix/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkPrefixFolderRestrictions(t){return Dt({data:{},status:200})}newOpenVPNPrefix(t){let o=`${this.endpoint}/openvpn/prefix`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}editOpenVPNPrefix(t){let o=`${this.endpoint}/openvpn/prefix`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteOpenVPNPrefix(t){let o=`${this.endpoint}/openvpn/prefix/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkOpenVPNPrefixRestrictions(t){let o=`${this.endpoint}/openvpn/prefix/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getOpenVPNPrefixInfo(t){let o=`${this.endpoint}/openvpn/prefix/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getOpenVPNWhereUsed(t){let o=`${this.endpoint}/openvpn/prefix/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfig(t){let o=`${this.endpoint}/openvpn/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteConfig(t){let o=`${this.endpoint}/openvpn/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newConfig(t){let o=`${this.endpoint}/openvpn`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateConfig(t){let o=`${this.endpoint}/openvpn`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}installConfig(t,o){let r=`${this.endpoint}/openvpn/install?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}uninstallConfig(t,o){let r=`${this.endpoint}/openvpn/uninstall?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncConfigCCD(t,o){let r=`${this.endpoint}/openvpn/ccdsync?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncConfigPendingCCD(t,o){return o.onlyPending=1,this.syncConfigCCD(t,o)}getConfigFile(t){let o=`${this.endpoint}/openvpn/file/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getVPNLanNextFreeIP(t){let o=`${this.endpoint}/openvpn/ip/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkConfigRestrictions(t){let o=`${this.endpoint}/openvpn/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfigIPObjects(t){let o=`${this.endpoint}/openvpn/ipobj/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfigInfo(t){let o=`${this.endpoint}/openvpn/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfigWhereUsed(t){let o=`${this.endpoint}/openvpn/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfigStatus(t){let o=`${this.endpoint}/openvpn/status/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getConfigHistoricCall(t,o,r,s,a){let l=new _c;if(a)for(let d in a)a[d]&&(l=l.set(d,a[d]));let c=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/openvpns/${r}/${s}`;return l.toString()&&(c+=`?${l.toString()}`),this.httpClient.get(c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getConfigHistoric(t,o,r,s){return this.getConfigHistoricCall(t,o,r,"history",s)}getConfigHistoricGraph(t,o,r,s){return this.getConfigHistoricCall(t,o,r,"graph",s)}getFirewallOVPNServers(t){let o=`${this.endpoint}/openvpn/firewall/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getCNExistsInCA(t){let o=`${this.endpoint}/pki/crt/exists`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}doHistoric(t){let o=`${Ie.settings.fwcAppURL}/openvpnarchives?channel_id=${t}`;return this.httpClient.post(o,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}getHistoricConfig(){let t=`${Ie.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}saveHistoricConfig(t){let o=`${Ie.settings.fwcAppURL}/openvpnarchives/config`;return this.httpClient.put(o,t).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newWireGuardPrefix(t){let o=`${this.endpoint}/wireguard/prefix`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}editWireGuardPrefix(t){let o=`${this.endpoint}/wireguard/prefix`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteWireGuardPrefix(t){let o=`${this.endpoint}/wireguard/prefix/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkWireGuardPrefixRestrictions(t){let o=`${this.endpoint}/wireguard/prefix/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardPrefixInfo(t){let o=`${this.endpoint}/wireguard/prefix/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardWhereUsed(t){let o=`${this.endpoint}/wireguard/prefix/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardConfig(t){let o=`${this.endpoint}/wireguard/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteWireGuardConfig(t){let o=`${this.endpoint}/wireguard/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardClient(t){let o=`${this.endpoint}/wireguard/client/get`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardClientOptions(t){let o=`${this.endpoint}/wireguard/client/options/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardClients(t){let o=`${this.endpoint}/wireguard/clients/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newWireGuardConfig(t){let o=`${this.endpoint}/wireguard`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateWireGuardConfig(t){let o=`${this.endpoint}/wireguard`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateWireGuardClientOptions(t){let o=`${this.endpoint}/wireguard/client/options/update`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}installWireGuardConfig(t,o){let r=`${this.endpoint}/wireguard/install?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}uninstallWireGuardConfig(t,o){let r=`${this.endpoint}/wireguard/uninstall?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncWireGuardConfigCCD(t,o){let r=`${this.endpoint}/wireguard/ccdsync?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncWireGuardConfigPendingCCD(t,o){return o.onlyPending=1,this.syncWireGuardConfigCCD(t,o)}getWireGuardConfigFile(t){let o=`${this.endpoint}/wireguard/file/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireguardConfigFilename(t){let o=`${this.endpoint}/wireguard/config/filename`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardVPNLanNextFreeIP(t){let o=`${this.endpoint}/wireguard/ip/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkWireGuardConfigRestrictions(t){let o=`${this.endpoint}/wireguard/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardConfigIPObjects(t){let o=`${this.endpoint}/wireguard/ipobj/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardConfigInfo(t){let o=`${this.endpoint}/wireguard/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getWireGuardConfigWhereUsed(t){let o=`${this.endpoint}/wireguard/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newIPSecPrefix(t){let o=`${this.endpoint}/ipsec/prefix`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}editIPSecPrefix(t){let o=`${this.endpoint}/ipsec/prefix`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteIPSecPrefix(t){let o=`${this.endpoint}/ipsec/prefix/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkIPSecPrefixRestrictions(t){let o=`${this.endpoint}/ipsec/prefix/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecPrefixInfo(t){let o=`${this.endpoint}/ipsec/prefix/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecWhereUsed(t){let o=`${this.endpoint}/ipsec/prefix/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecConfig(t){let o=`${this.endpoint}/ipsec/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecServerConfig(t){let o=`${this.endpoint}/ipsec/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}deleteIPSecConfig(t){let o=`${this.endpoint}/ipsec/del`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecClient(t){let o=`${this.endpoint}/ipsec/client/get`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecClientOptions(t){let o=`${this.endpoint}/ipsec/client/options/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecClients(t){let o=`${this.endpoint}/ipsec/clients/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}newIPSecConfig(t){let o=`${this.endpoint}/ipsec`;return this.httpClient.post(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateIPSecConfig(t){let o=`${this.endpoint}/ipsec`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}updateIPSecClientOptions(t){let o=`${this.endpoint}/ipsec/client/options/update`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}installIPSecConfig(t,o){let r=`${this.endpoint}/ipsec/install?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}uninstallIPSecConfig(t,o){let r=`${this.endpoint}/ipsec/uninstall?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncIPSecConfigCCD(t,o){let r=`${this.endpoint}/ipsec/ccdsync?channel_id=${t}`;return this.httpClient.put(r,JSON.stringify(o)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}syncIPSecConfigPendingCCD(t,o){return o.onlyPending=1,this.syncIPSecConfigCCD(t,o)}getIPSecConfigFile(t){let o=`${this.endpoint}/ipsec/file/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecConfigFilename(t){let o=`${this.endpoint}/ipsec/config/filename`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecVPNLanNextFreeIP(t){let o=`${this.endpoint}/ipsec/ip/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}checkIPSecConfigRestrictions(t){let o=`${this.endpoint}/ipsec/restricted`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecConfigIPObjects(t){let o=`${this.endpoint}/ipsec/ipobj/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecConfigInfo(t){let o=`${this.endpoint}/ipsec/info/get`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}getIPSecConfigWhereUsed(t){let o=`${this.endpoint}/ipsec/where`;return this.httpClient.put(o,JSON.stringify(t)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Oo=(()=>{let n=class n{constructor(){this.subjectInputData=new Le}setInputData(t){this.subjectInputData.next(t)}getInputData(){return this.subjectInputData.asObservable()}getInputDataValue(t){let o={};if(t&&t.formControls)for(let r of t.formControls)r.value!==void 0&&(o[r.name]=r.value);return o}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var yt=(()=>{let n=class n{constructor(){this.focused=!1,this.item=void 0,this.subjectItem=new Le,this.subjectHideObjectPanel=new Le,this.subjectClipboardItem=new Le,this.subjectModifiedItem=new Le,this.subjectSearchItem=new Le,this.subjectObjectInfo=new Le,this.subjectMessage=new Le,this.subjectSelectedTreeNode=new Le,this.subjectFwcTreeComponents=new _n(null),this.subjectCloudCompile=new Le,this.subjectFirewallPluginOperation=new Le,this.subjectClusterPluginOperation=new Le,this.subjectScrollTo=new Le,this.subjectLastMinifiedDialogId=new Le}setItem(t){this.item=t,this.subjectItem.next(t)}getItem(){return this.subjectItem.asObservable()}getActualItem(){return this.item}hideObjectPanel(){return this.subjectHideObjectPanel.next(!0),this.subjectHideObjectPanel.asObservable()}setClipboardItem(t,o){this.clipboardItem=t,this.clipboardItem.action=o,this.subjectClipboardItem.next(this.clipboardItem)}getClipboardItem(){return this.subjectClipboardItem.asObservable()}getActualClipboardItem(){return this.clipboardItem}clearClipboardItem(){this.clipboardItem=null,this.subjectClipboardItem.next(this.clipboardItem)}updateClipboardItem(t){this.clipboardItem&&t&&this.clipboardItem._fwcObjId==t._fwcObjId&&(this.clipboardItem._fwcObjName=t._fwcObjName),this.subjectClipboardItem.next(this.clipboardItem)}setDragItem(t){this.dragItem=t}getDragItem(){return this.dragItem}clearDragItem(){this.dragItem=null}setModifiedItem(t,o,r,s,a){t&&(o&&(t.deleteFromList=!0),r&&(t.addToList=!0),s&&(t.selectItemInPosition=!0),a&&(t.highlightItem=!0),this.modifiedItem=t,this.subjectModifiedItem.next(t))}getModifiedItem(){return this.subjectModifiedItem.asObservable()}setSearchItem(t){this.searchItem=t,this.subjectSearchItem.next(t)}getSearchItem(){return this.subjectSearchItem.asObservable()}getCloudToCompile(){return this.subjectCloudCompile.asObservable()}setCloudToCompile(t){this.subjectCloudCompile.next(t)}getFirewallToPluginOperation(){return this.subjectFirewallPluginOperation.asObservable()}setFirewallToPluginOperation(t){return this.subjectFirewallPluginOperation.next(t)}getClusterToPluginOperation(){return this.subjectClusterPluginOperation.asObservable()}setClusterToPluginOperation(t){return this.subjectClusterPluginOperation.next(t)}setObjectInfo(t,o){if(this.focused)return;let r,s=t?Object.assign({},t):void 0;o&&o.targetElement?r={obj:s,event:o.event,targetElement:o.targetElement}:r={obj:s,event:o||void 0},this.subjectObjectInfo.next(r)}getObjectInfo(){return this.subjectObjectInfo.asObservable()}setMessage(t){this.subjectMessage.next(t)}getMessage(){return this.subjectMessage.asObservable()}isFocused(){this.focused=!0}isBlur(){this.focused=!1,this.setObjectInfo(void 0,null)}setScrollToElement(t){this.subjectScrollTo.next(t)}getScrollToElement(){return this.subjectScrollTo.asObservable()}setLastMinifiedDialogId(t){this.lastMinifiedDialogId=t,this.subjectLastMinifiedDialogId.next(t)}getActualLastMinifiedDialogId(){return this.lastMinifiedDialogId}setFwcTreeComponents(t){this.subjectFwcTreeComponents.next(t)}getActualFwcTreeComponents(){return this.subjectFwcTreeComponents.getValue()}setSelectedTreeNode(t){this.subjectSelectedTreeNode.next(t)}getSelectedTreeNode(){return this.subjectSelectedTreeNode.asObservable()}setPrefixItem(t){this.setItem(t)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var dh=(()=>{let n=class n{constructor(){this.subjectRule=new Le,this.subjectSelectedRules=new Le,this.subjectSelectedRulesRange=new Le,this.subjectCompileSelectedRules=new Le,this.subjectModifiedRule=new Le,this.subjectClipboardRules=new Le,this.subjectRuleStatus=new Le,this.subjectRuleHeightRecalculate=new Le,this.selectedRules=[]}setRule(t){this.rule=t,this.subjectRule.next(t)}getRule(){return this.subjectRule.asObservable()}addSelectedRule(t){let o=this.selectedRules.push(t);return this.subjectSelectedRules.next(this.selectedRules),o}removeSelectedRule(t){for(let o=0;o<this.selectedRules.length;o++)this.selectedRules[o].id==t.id&&(this.selectedRules.splice(o,1),this.subjectSelectedRules.next(this.selectedRules))}clearSelectedRules(){this.selectedRules=[],this.subjectSelectedRules.next([])}getSelectedRules(){return this.subjectSelectedRules.asObservable()}getActualSelectedRules(t){if(t)for(let o=0;o<this.selectedRules.length;o++){let r=[];return this.selectedRules[o].id==t&&r.push(this.selectedRules[o]),r.length?r:null}else return this.selectedRules.length?this.selectedRules:null}setSelectedRuleRange(t,o){this.selectedRulesRange={minRuleOrder:t,maxRuleOrder:o},this.subjectSelectedRulesRange.next(this.selectedRulesRange)}getSelectedRuleRange(){return this.subjectSelectedRulesRange.asObservable()}setSelectedRules(t){this.selectedRules=t,this.subjectSelectedRules.next(this.selectedRules)}updateSelectedRules(t,o){if(t&&t.length&&o&&o.length){this.selectedRules=[];for(let r=0;r<t.length;r++){let s=t[r];for(let a=0;a<o.length;a++)s.id==o[a].id&&s.firewall==o[a].firewall&&this.selectedRules.push(o[a])}}}getSelectedRulesLength(){return this.selectedRules.length}isRuleSelected(t){let o=!1;for(let r=0;r<this.selectedRules.length&&!o;r++)this.selectedRules[r].id==t&&(o=!0);return o}copyRulesToClipboard(){this.clipboardRules={action:Go.COPY,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}cutRulesToClipboard(){this.clipboardRules={action:Go.CUT,rules:this.selectedRules.slice(0)},this.subjectClipboardRules.next(this.clipboardRules)}clearClipboardRules(){this.clipboardRules=null,this.subjectClipboardRules.next(this.clipboardRules)}getClipboardRules(){return this.subjectClipboardRules.asObservable()}getActualClipboardRules(){return this.clipboardRules&&this.clipboardRules.rules.length?this.clipboardRules:null}getActualClipboardRulesLength(){let t=0;return this.clipboardRules&&this.clipboardRules.rules&&(t=this.clipboardRules.rules.length),t}getClipboardRulesGroups(){return this.getRulesGroups(this.clipboardRules.rules)}getSelectedRulesGroups(){return this.getRulesGroups(this.selectedRules)}getRulesGroups(t){let o=[];for(let r=0;r<t.length;r++){let s=t[r].idgroup;s===null&&(s=-1),o.indexOf(s)==-1&&o.push(s)}return o}setSelectedRulesToCompile(){this.subjectCompileSelectedRules.next(!0)}getSelectedRulesToCompile(){return this.subjectCompileSelectedRules.asObservable()}getRulesOrderedIds(t,o){if(t){let r=t.slice(0),s=[],a;r.sort(function(l,c){return l.rule_order>c.rule_order?1:l.rule_order<c.rule_order?-1:0}),o&&(r=r.filter(l=>!l.special||l.special===Bk.HOOKSCRIPT));for(let l=0;l<r.length;l++)s.push(r[l].id);return a={orderedRules:r,rulesIds:s},a}else return null}setModifiedRule(t){this.subjectModifiedRule.next(t)}getModifiedRule(){return this.subjectModifiedRule.asObservable()}setRuleStatus(t){this.subjectRuleStatus.next(t)}getRuleStatus(){return this.subjectRuleStatus.asObservable()}setRuleHeightRecalculate(t){this.subjectRuleHeightRecalculate.next(t)}getRuleHeightRecalculate(){return this.subjectRuleHeightRecalculate.asObservable()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var vKt=(()=>{let n=class n{constructor(){}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Pc=Object.create(null);Pc.open="0";Pc.close="1";Pc.ping="2";Pc.pong="3";Pc.message="4";Pc.upgrade="5";Pc.noop="6";var iv=Object.create(null);Object.keys(Pc).forEach(i=>{iv[Pc[i]]=i});var nv={type:"error",data:"parser error"};var T$=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",O$=typeof ArrayBuffer=="function",R$=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,ov=({type:i,data:n},e,t)=>T$&&n instanceof Blob?e?t(n):E$(n,t):O$&&(n instanceof ArrayBuffer||R$(n))?e?t(n):E$(new Blob([n]),t):t(Pc[i]+(n||"")),E$=(i,n)=>{let e=new FileReader;return e.onload=function(){let t=e.result.split(",")[1];n("b"+(t||""))},e.readAsDataURL(i)};function x$(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var bN;function D$(i,n){if(T$&&i.data instanceof Blob)return i.data.arrayBuffer().then(x$).then(n);if(O$&&(i.data instanceof ArrayBuffer||R$(i.data)))return n(x$(i.data));ov(i,!1,e=>{bN||(bN=new TextEncoder),n(bN.encode(e))})}var P$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<P$.length;i++)rv[P$.charCodeAt(i)]=i;var A$=i=>{let n=i.length*.75,e=i.length,t,o=0,r,s,a,l;i[i.length-1]==="="&&(n--,i[i.length-2]==="="&&n--);let c=new ArrayBuffer(n),d=new Uint8Array(c);for(t=0;t<e;t+=4)r=rv[i.charCodeAt(t)],s=rv[i.charCodeAt(t+1)],a=rv[i.charCodeAt(t+2)],l=rv[i.charCodeAt(t+3)],d[o++]=r<<2|s>>4,d[o++]=(s&15)<<4|a>>2,d[o++]=(a&3)<<6|l&63;return c};var D2e=typeof ArrayBuffer=="function",sv=(i,n)=>{if(typeof i!="string")return{type:"message",data:k$(i,n)};let e=i.charAt(0);return e==="b"?{type:"message",data:P2e(i.substring(1),n)}:iv[e]?i.length>1?{type:iv[e],data:i.substring(1)}:{type:iv[e]}:nv},P2e=(i,n)=>{if(D2e){let e=A$(i);return k$(e,n)}else return{base64:!0,data:i}},k$=(i,n)=>{switch(n){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var N$="",F$=(i,n)=>{let e=i.length,t=new Array(e),o=0;i.forEach((r,s)=>{ov(r,!1,a=>{t[s]=a,++o===e&&n(t.join(N$))})})},L$=(i,n)=>{let e=i.split(N$),t=[];for(let o=0;o<e.length;o++){let r=sv(e[o],n);if(t.push(r),r.type==="error")break}return t};function M$(){return new TransformStream({transform(i,n){D$(i,e=>{let t=e.length,o;if(t<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,t);else if(t<65536){o=new Uint8Array(3);let r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,t)}else{o=new Uint8Array(9);let r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(t))}i.data&&typeof i.data!="string"&&(o[0]|=128),n.enqueue(o),n.enqueue(e)})}})}var yN;function VE(i){return i.reduce((n,e)=>n+e.length,0)}function UE(i,n){if(i[0].length===n)return i.shift();let e=new Uint8Array(n),t=0;for(let o=0;o<n;o++)e[o]=i[0][t++],t===i[0].length&&(i.shift(),t=0);return i.length&&t<i[0].length&&(i[0]=i[0].slice(t)),e}function B$(i,n){yN||(yN=new TextDecoder);let e=[],t=0,o=-1,r=!1;return new TransformStream({transform(s,a){for(e.push(s);;){if(t===0){if(VE(e)<1)break;let l=UE(e,1);r=(l[0]&128)===128,o=l[0]&127,o<126?t=3:o===126?t=1:t=2}else if(t===1){if(VE(e)<2)break;let l=UE(e,2);o=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),t=3}else if(t===2){if(VE(e)<8)break;let l=UE(e,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(nv);break}o=d*Math.pow(2,32)+c.getUint32(4),t=3}else{if(VE(e)<o)break;let l=UE(e,o);a.enqueue(sv(r?l:yN.decode(l),n)),t=0}if(o===0||o>i){a.enqueue(nv);break}}}})}var vN=4;function Ro(i){if(i)return A2e(i)}function A2e(i){for(var n in Ro.prototype)i[n]=Ro.prototype[n];return i}Ro.prototype.on=Ro.prototype.addEventListener=function(i,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(n),this};Ro.prototype.once=function(i,n){function e(){this.off(i,e),n.apply(this,arguments)}return e.fn=n,this.on(i,e),this};Ro.prototype.off=Ro.prototype.removeListener=Ro.prototype.removeAllListeners=Ro.prototype.removeEventListener=function(i,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var t,o=0;o<e.length;o++)if(t=e[o],t===n||t.fn===n){e.splice(o,1);break}return e.length===0&&delete this._callbacks["$"+i],this};Ro.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),e=this._callbacks["$"+i],t=1;t<arguments.length;t++)n[t-1]=arguments[t];if(e){e=e.slice(0);for(var t=0,o=e.length;t<o;++t)e[t].apply(this,n)}return this};Ro.prototype.emitReserved=Ro.prototype.emit;Ro.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Ro.prototype.hasListeners=function(i){return!!this.listeners(i).length};var kp=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,e)=>e(n,0),Sa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),V$="arraybuffer";function jE(i,...n){return n.reduce((e,t)=>(i.hasOwnProperty(t)&&(e[t]=i[t]),e),{})}var k2e=Sa.setTimeout,N2e=Sa.clearTimeout;function Np(i,n){n.useNativeTimers?(i.setTimeoutFn=k2e.bind(Sa),i.clearTimeoutFn=N2e.bind(Sa)):(i.setTimeoutFn=Sa.setTimeout.bind(Sa),i.clearTimeoutFn=Sa.clearTimeout.bind(Sa))}var F2e=1.33;function U$(i){return typeof i=="string"?L2e(i):Math.ceil((i.byteLength||i.size)*F2e)}function L2e(i){let n=0,e=0;for(let t=0,o=i.length;t<o;t++)n=i.charCodeAt(t),n<128?e+=1:n<2048?e+=2:n<55296||n>=57344?e+=3:(t++,e+=4);return e}function GE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function j$(i){let n="";for(let e in i)i.hasOwnProperty(e)&&(n.length&&(n+="&"),n+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return n}function G$(i){let n={},e=i.split("&");for(let t=0,o=e.length;t<o;t++){let r=e[t].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return n}var HE=class extends Error{constructor(n,e,t){super(n),this.description=e,this.context=t,this.type="TransportError"}},Fp=class extends Ro{constructor(n){super(),this.writable=!1,Np(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,e,t){return super.emitReserved("error",new HE(n,e,t)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){let e=sv(n,this.socket.binaryType);this.onPacket(e)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,e={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){let e=j$(n);return e.length?"?"+e:""}};var av=class extends Fp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";let e=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||e()})),this.writable||(t++,this.once("drain",function(){--t||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){let e=t=>{if(this.readyState==="opening"&&t.type==="open"&&this.onOpen(),t.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};L$(n,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,F$(n,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let n=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=GE()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(n,e)}};var H$=!1;try{H$=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var z$=H$;function M2e(){}var wN=class extends av{constructor(n){if(super(n),typeof location<"u"){let e=location.protocol==="https:",t=location.port;t||(t=e?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||t!==n.port}}doWrite(n,e){let t=this.request({method:"POST",data:n});t.on("success",e),t.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){let n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=n}},zE=(()=>{class i extends Ro{constructor(e,t,o){super(),this.createRequest=e,Np(this,o),this._opts=o,this._method=o.method||"GET",this._uri=t,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var e;let t=jE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;let o=this._xhr=this.createRequest(t);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&o.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var r;o.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=M2e,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",W$);else if(typeof addEventListener=="function"){let i="onpagehide"in Sa?"pagehide":"unload";addEventListener(i,W$,!1)}}function W$(){for(let i in zE.requests)zE.requests.hasOwnProperty(i)&&zE.requests[i].abort()}var B2e=(function(){let i=$$({xdomain:!1});return i&&i.responseType!==null})(),ph=class extends wN{constructor(n){super(n);let e=n&&n.forceBase64;this.supportsBinary=B2e&&!e}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new zE($$,this.uri(),n)}};function $$(i){let n=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||z$))return new XMLHttpRequest}catch{}if(!n)try{return new Sa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var K$=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",SN=class extends Fp{get name(){return"websocket"}doOpen(){let n=this.uri(),e=this.opts.protocols,t=K$?{}:jE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(t.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,e,t)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],o=e===n.length-1;ov(t,this.supportsBinary,r=>{try{this.doWrite(t,r)}catch{}o&&kp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let n=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=GE()),this.supportsBinary||(e.b64=1),this.createUri(n,e)}},CN=Sa.WebSocket||Sa.MozWebSocket,uh=class extends SN{createSocket(n,e,t){return K$?new CN(n,e,t):e?new CN(n,e):new CN(n)}doWrite(n,e){this.ws.send(e)}};var P_=class extends Fp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{let e=B$(Number.MAX_SAFE_INTEGER,this.socket.binaryType),t=n.readable.pipeThrough(e).getReader(),o=M$();o.readable.pipeTo(n.writable),this._writer=o.writable.getWriter();let r=()=>{t.read().then(({done:a,value:l})=>{a||(this.onPacket(l),r())}).catch(a=>{})};r();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let e=0;e<n.length;e++){let t=n[e],o=e===n.length-1;this._writer.write(t).then(()=>{o&&kp(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}};var IN={websocket:uh,webtransport:P_,polling:ph};var V2e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,U2e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function A_(i){if(i.length>8e3)throw"URI too long";let n=i,e=i.indexOf("["),t=i.indexOf("]");e!=-1&&t!=-1&&(i=i.substring(0,e)+i.substring(e,t).replace(/:/g,";")+i.substring(t,i.length));let o=V2e.exec(i||""),r={},s=14;for(;s--;)r[U2e[s]]=o[s]||"";return e!=-1&&t!=-1&&(r.source=n,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=j2e(r,r.path),r.queryKey=G2e(r,r.query),r}function j2e(i,n){let e=/\/{2,9}/g,t=n.replace(e,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&t.splice(0,1),n.slice(-1)=="/"&&t.splice(t.length-1,1),t}function G2e(i,n){let e={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,o,r){o&&(e[o]=r)}),e}var EN=typeof addEventListener=="function"&&typeof removeEventListener=="function",WE=[];EN&&addEventListener("offline",()=>{WE.forEach(i=>i())},!1);var $E=(()=>{class i extends Ro{constructor(e,t){if(super(),this.binaryType=V$,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){let o=A_(e);t.hostname=o.host,t.secure=o.protocol==="https"||o.protocol==="wss",t.port=o.port,o.query&&(t.query=o.query)}else t.host&&(t.hostname=A_(t.host).host);Np(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(o=>{let r=o.prototype.name;this.transports.push(r),this._transportsByName[r]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=G$(this.opts.query)),EN&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},WE.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=vN,t.transport=e,this.id&&(t.sid=this.id);let o=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let o=0;o<this.writeBuffer.length;o++){let r=this.writeBuffer[o].data;if(r&&(t+=U$(r)),o>0&&t>this._maxPayload)return this.writeBuffer.slice(0,o);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,kp(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,o){return this._sendPacket("message",e,t,o),this}send(e,t,o){return this._sendPacket("message",e,t,o),this}_sendPacket(e,t,o,r){if(typeof t=="function"&&(r=t,t=void 0),typeof o=="function"&&(r=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;let s={type:e,data:t,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},o=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),EN&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let o=WE.indexOf(this._offlineEventListener);o!==-1&&WE.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=vN,i})(),KE=class extends $E{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let e=this.createTransport(n),t=!1;$E.priorWebsocketSuccess=!1;let o=()=>{t||(e.send([{type:"ping",data:"probe"}]),e.once("packet",u=>{if(!t)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;$E.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{t||this.readyState!=="closed"&&(d(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let m=new Error("probe error");m.transport=e.name,this.emitReserved("upgradeError",m)}}))};function r(){t||(t=!0,d(),e.close(),e=null)}let s=u=>{let m=new Error("probe error: "+u);m.transport=e.name,r(),this.emitReserved("upgradeError",m)};function a(){s("transport closed")}function l(){s("socket closed")}function c(u){e&&u.name!==e.name&&r()}let d=()=>{e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};e.once("open",o),e.once("error",s),e.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{t||e.open()},200):e.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){let e=[];for(let t=0;t<n.length;t++)~this.transports.indexOf(n[t])&&e.push(n[t]);return e}},k_=class extends KE{constructor(n,e={}){let t=typeof n=="object"?n:e;(!t.transports||t.transports&&typeof t.transports[0]=="string")&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(o=>IN[o]).filter(o=>!!o)),super(n,t)}};var xqt=k_.protocol;function q$(i,n="",e){let t=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),t=A_(i)),t.port||(/^(http|ws)$/.test(t.protocol)?t.port="80":/^(http|ws)s$/.test(t.protocol)&&(t.port="443")),t.path=t.path||"/";let r=t.host.indexOf(":")!==-1?"["+t.host+"]":t.host;return t.id=t.protocol+"://"+r+":"+t.port+n,t.href=t.protocol+"://"+r+(e&&e.port===t.port?"":":"+t.port),t}var PN={};su(PN,{Decoder:()=>RN,Encoder:()=>ON,PacketType:()=>rn,isPacketValid:()=>X2e,protocol:()=>Z$});var z2e=typeof ArrayBuffer=="function",W2e=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,J$=Object.prototype.toString,$2e=typeof Blob=="function"||typeof Blob<"u"&&J$.call(Blob)==="[object BlobConstructor]",K2e=typeof File=="function"||typeof File<"u"&&J$.call(File)==="[object FileConstructor]";function cv(i){return z2e&&(i instanceof ArrayBuffer||W2e(i))||$2e&&i instanceof Blob||K2e&&i instanceof File}function lv(i,n){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,t=i.length;e<t;e++)if(lv(i[e]))return!0;return!1}if(cv(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return lv(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&lv(i[e]))return!0;return!1}function Q$(i){let n=[],e=i.data,t=i;return t.data=xN(e,n),t.attachments=n.length,{packet:t,buffers:n}}function xN(i,n){if(!i)return i;if(cv(i)){let e={_placeholder:!0,num:n.length};return n.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let t=0;t<i.length;t++)e[t]=xN(i[t],n);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=xN(i[t],n));return e}return i}function Y$(i,n){return i.data=TN(i.data,n),delete i.attachments,i}function TN(i,n){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<n.length)return n[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=TN(i[e],n);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=TN(i[e],n));return i}var X$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Z$=5,rn=(function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i})(rn||{}),ON=class{constructor(n){this.replacer=n}encode(n){return(n.type===rn.EVENT||n.type===rn.ACK)&&lv(n)?this.encodeAsBinary({type:n.type===rn.EVENT?rn.BINARY_EVENT:rn.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let e=""+n.type;return(n.type===rn.BINARY_EVENT||n.type===rn.BINARY_ACK)&&(e+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(e+=n.nsp+","),n.id!=null&&(e+=n.id),n.data!=null&&(e+=JSON.stringify(n.data,this.replacer)),e}encodeAsBinary(n){let e=Q$(n),t=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(t),o}},RN=class i extends Ro{constructor(n){super(),this.reviver=n}add(n){let e;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(n);let t=e.type===rn.BINARY_EVENT;t||e.type===rn.BINARY_ACK?(e.type=t?rn.EVENT:rn.ACK,this.reconstructor=new DN(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(cv(n)||n.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(n),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let e=0,t={type:Number(n.charAt(0))};if(rn[t.type]===void 0)throw new Error("unknown packet type "+t.type);if(t.type===rn.BINARY_EVENT||t.type===rn.BINARY_ACK){let r=e+1;for(;n.charAt(++e)!=="-"&&e!=n.length;);let s=n.substring(r,e);if(s!=Number(s)||n.charAt(e)!=="-")throw new Error("Illegal attachments");t.attachments=Number(s)}if(n.charAt(e+1)==="/"){let r=e+1;for(;++e&&!(n.charAt(e)===","||e===n.length););t.nsp=n.substring(r,e)}else t.nsp="/";let o=n.charAt(e+1);if(o!==""&&Number(o)==o){let r=e+1;for(;++e;){let s=n.charAt(e);if(s==null||Number(s)!=s){--e;break}if(e===n.length)break}t.id=Number(n.substring(r,e+1))}if(n.charAt(++e)){let r=this.tryParse(n.substr(e));if(i.isPayloadValid(t.type,r))t.data=r;else throw new Error("invalid payload")}return t}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,e){switch(n){case rn.CONNECT:return qE(e);case rn.DISCONNECT:return e===void 0;case rn.CONNECT_ERROR:return typeof e=="string"||qE(e);case rn.EVENT:case rn.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&X$.indexOf(e[0])===-1);case rn.ACK:case rn.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},DN=class{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){let e=Y$(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function q2e(i){return typeof i=="string"}var J2e=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i};function Q2e(i){return i===void 0||J2e(i)}function qE(i){return Object.prototype.toString.call(i)==="[object Object]"}function Y2e(i,n){switch(i){case rn.CONNECT:return n===void 0||qE(n);case rn.DISCONNECT:return n===void 0;case rn.EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&X$.indexOf(n[0])===-1);case rn.ACK:return Array.isArray(n);case rn.CONNECT_ERROR:return typeof n=="string"||qE(n);default:return!1}}function X2e(i){return q2e(i.nsp)&&Q2e(i.id)&&Y2e(i.type,i.data)}function yl(i,n,e){return i.on(n,e),function(){i.off(n,e)}}var Z2e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),N_=class extends Ro{constructor(n,e,t){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=e,t&&t.auth&&(this.auth=t.auth),this._opts=Object.assign({},t),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let n=this.io;this.subs=[yl(n,"open",this.onopen.bind(this)),yl(n,"packet",this.onpacket.bind(this)),yl(n,"error",this.onerror.bind(this)),yl(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...e){var t,o,r;if(Z2e.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(e.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let s={type:rn.EVENT,data:e};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let d=this.ids++,u=e.pop();this._registerAckCallback(d,u),s.id=d}let a=(o=(t=this.io.engine)===null||t===void 0?void 0:t.transport)===null||o===void 0?void 0:o.writable,l=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(n,e){var t;let o=(t=this.flags.timeout)!==null&&t!==void 0?t:this._opts.ackTimeout;if(o===void 0){this.acks[n]=e;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===n&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},o),s=(...a)=>{this.io.clearTimeoutFn(r),e.apply(this,a)};s.withError=!0,this.acks[n]=s}emitWithAck(n,...e){return new Promise((t,o)=>{let r=(s,a)=>s?o(s):t(a);r.withError=!0,e.push(r),this.emit(n,...e)})}_addToQueue(n){let e;typeof n[n.length-1]=="function"&&(e=n.pop());let t={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...r)=>(this._queue[0],o!==null?t.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(o)):(this._queue.shift(),e&&e(null,...r)),t.pending=!1,this._drainQueue())),this._queue.push(t),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!n||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:rn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(t=>String(t.id)===n)){let t=this.acks[n];delete this.acks[n],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case rn.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rn.EVENT:case rn.BINARY_EVENT:this.onevent(n);break;case rn.ACK:case rn.BINARY_ACK:this.onack(n);break;case rn.DISCONNECT:this.ondisconnect();break;case rn.CONNECT_ERROR:this.destroy();let t=new Error(n.data.message);t.data=n.data.data,this.emitReserved("connect_error",t);break}}onevent(n){let e=n.data||[];n.id!=null&&e.push(this.ack(n.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let t of e)t.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){let e=this,t=!1;return function(...o){t||(t=!0,e.packet({type:rn.ACK,id:n,data:o}))}}onack(n){let e=this.acks[n.id];typeof e=="function"&&(delete this.acks[n.id],e.withError&&n.data.unshift(null),e.apply(this,n.data))}onconnect(n,e){this.id=n,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){let e=this._anyListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){let e=this._anyOutgoingListeners;for(let t=0;t<e.length;t++)if(n===e[t])return e.splice(t,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let t of e)t.apply(this,n.data)}}};function Xf(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}Xf.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),e=Math.floor(n*this.jitter*i);i=(Math.floor(n*10)&1)==0?i-e:i+e}return Math.min(i,this.max)|0};Xf.prototype.reset=function(){this.attempts=0};Xf.prototype.setMin=function(i){this.ms=i};Xf.prototype.setMax=function(i){this.max=i};Xf.prototype.setJitter=function(i){this.jitter=i};var F_=class extends Ro{constructor(n,e){var t;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(e=n,n=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Np(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((t=e.randomizationFactor)!==null&&t!==void 0?t:.5),this.backoff=new Xf({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=n;let o=e.parser||PN;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var e;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(e=this.backoff)===null||e===void 0||e.setMin(n),this)}randomizationFactor(n){var e;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(e=this.backoff)===null||e===void 0||e.setJitter(n),this)}reconnectionDelayMax(n){var e;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(e=this.backoff)===null||e===void 0||e.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new k_(this.uri,this.opts);let e=this.engine,t=this;this._readyState="opening",this.skipReconnect=!1;let o=yl(e,"open",function(){t.onopen(),n&&n()}),r=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),n?n(a):this.maybeReconnectOnOpen()},s=yl(e,"error",r);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),e.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(o),this.subs.push(s),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let n=this.engine;this.subs.push(yl(n,"ping",this.onping.bind(this)),yl(n,"data",this.ondata.bind(this)),yl(n,"error",this.onerror.bind(this)),yl(n,"close",this.onclose.bind(this)),yl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(e){this.onclose("parse error",e)}}ondecoded(n){kp(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,e){let t=this.nsps[n];return t?this._autoConnect&&!t.active&&t.connect():(t=new N_(this,n,e),this.nsps[n]=t),t}_destroy(n){let e=Object.keys(this.nsps);for(let t of e)if(this.nsps[t].active)return;this._close()}_packet(n){let e=this.encoder.encode(n);for(let t=0;t<e.length;t++)this.engine.write(e[t],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,e){var t;this.cleanup(),(t=this.engine)===null||t===void 0||t.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let t=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},e);this.opts.autoUnref&&t.unref(),this.subs.push(()=>{this.clearTimeoutFn(t)})}}onreconnect(){let n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}};var dv={};function pv(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};let e=q$(i,n.path||"/socket.io"),t=e.source,o=e.id,r=e.path,s=dv[o]&&r in dv[o].nsps,a=n.forceNew||n["force new connection"]||n.multiplex===!1||s,l;return a?l=new F_(t,n):(dv[o]||(dv[o]=new F_(t,n)),l=dv[o]),e.query&&!n.query&&(n.query=e.queryKey),l.socket(e.path,n)}Object.assign(pv,{Manager:F_,Socket:N_,io:pv,connect:pv});var Up=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L_=Symbol("doneWritingPromise"),BK=Symbol("doneWritingResolve"),VK=Symbol("doneWritingReject"),uv=Symbol("readingIndex"),zl=class i extends Array{constructor(){super(),Object.setPrototypeOf(this,i.prototype),this[L_]=new Promise((n,e)=>{this[BK]=n,this[VK]=e}),this[L_].catch(()=>{})}};function Yo(i){return i&&i.getReader&&Array.isArray(i)}function yv(i){if(!Yo(i)){let n=i.getWriter(),e=n.releaseLock;return n.releaseLock=()=>{n.closed.catch(function(){}),e.call(n)},n}this.stream=i}function Kr(i){if(Yo(i))return"array";if(Up.ReadableStream&&Up.ReadableStream.prototype.isPrototypeOf(i))return"web";if(i&&!(Up.ReadableStream&&i instanceof Up.ReadableStream)&&typeof i._read=="function"&&typeof i._readableState=="object")throw Error("Native Node streams are no longer supported: please manually convert the stream to a WebStream, using e.g. `stream.Readable.toWeb`");return!(!i||!i.getReader)&&"web-like"}function Mx(i){return Uint8Array.prototype.isPrototypeOf(i)}function UK(i){if(i.length===1)return i[0];let n=0;for(let o=0;o<i.length;o++){if(!Mx(i[o]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");n+=i[o].length}let e=new Uint8Array(n),t=0;return i.forEach(function(o){e.set(o,t),t+=o.length}),e}zl.prototype.getReader=function(){return this[uv]===void 0&&(this[uv]=0),{read:()=>V(this,null,function*(){return yield this[L_],this[uv]===this.length?{value:void 0,done:!0}:{value:this[this[uv]++],done:!1}})}},zl.prototype.readToEnd=function(i){return V(this,null,function*(){yield this[L_];let n=i(this.slice(this[uv]));return this.length=0,n})},zl.prototype.clone=function(){let i=new zl;return i[L_]=this[L_].then(()=>{i.push(...this)}),i},yv.prototype.write=function(i){return V(this,null,function*(){this.stream.push(i)})},yv.prototype.close=function(){return V(this,null,function*(){this.stream[BK]()})},yv.prototype.abort=function(i){return V(this,null,function*(){return this.stream[VK](i),i})},yv.prototype.releaseLock=function(){},typeof Up.process=="object"&&Up.process.versions;var eK=new WeakSet,Do=Symbol("externalBuffer");function Od(i){if(this.stream=i,i[Do]&&(this[Do]=i[Do].slice()),Yo(i)){let e=i.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{},void(this._cancel=()=>{})}if(Kr(i)){let e=i.getReader();return this._read=e.read.bind(e),this._releaseLock=()=>{e.closed.catch(function(){}),e.releaseLock()},void(this._cancel=e.cancel.bind(e))}let n=!1;this._read=()=>V(this,null,function*(){return n||eK.has(i)?{value:void 0,done:!0}:(n=!0,{value:i,done:!1})}),this._releaseLock=()=>{if(n)try{eK.add(i)}catch{}}}function Uv(i){return Kr(i)?i:new ReadableStream({start(n){n.enqueue(i),n.close()}})}function jK(i){let n=Kr(i);if(n){if(n!=="array")throw Error("Can't convert Stream to ArrayStream here, call `readToEnd` first");return i}let e=new zl;return V(null,null,function*(){let t=Il(e);yield t.write(i),yield t.close()}),e}function Ia(i){return i.some(n=>Kr(n)&&!Yo(n))?(function(n){n=n.map(Uv);let e=GK(function(r){return V(this,null,function*(){yield Promise.all(o.map(s=>KN(s,r)))})}),t=Promise.resolve(),o=n.map((r,s)=>Ch(r,(a,l)=>(t=t.then(()=>z_(a,e.writable,{preventClose:s!==n.length-1})),t)));return e.readable})(i):i.some(n=>Yo(n))?(function(n){let e=new zl,t=Promise.resolve();return n.forEach((o,r)=>(t=t.then(()=>z_(o,e,{preventClose:r!==n.length-1})),t)),e})(i):typeof i[0]=="string"?i.join(""):UK(i)}function z_(r,s){return V(this,arguments,function*(i,n,{preventClose:e=!1,preventAbort:t=!1,preventCancel:o=!1}={}){if(Kr(i)&&!Yo(i)&&!Yo(n)){i=Uv(i);try{if(i[Do]){let c=Il(n);for(let d=0;d<i[Do].length;d++)yield c.ready,yield c.write(i[Do][d]);c.releaseLock()}yield i.pipeTo(n,{preventClose:e,preventAbort:t,preventCancel:o})}catch{}return}Kr(i)||(i=jK(i));let a=Nc(i),l=Il(n);try{for(;;){yield l.ready;let{done:c,value:d}=yield a.read();if(c){e||(yield l.close());break}yield l.write(d)}}catch(c){t||(yield l.abort(c))}finally{a.releaseLock(),l.releaseLock()}})}function GK(i){let n,e,t,o=!1,r=!1;return{readable:new ReadableStream({start(a){t=a},pull(){n?n():o=!0},cancel(a){return V(this,null,function*(){r=!0,i&&(yield i(a)),e&&e(a)})}},{highWaterMark:0}),writable:new WritableStream({write:function(a){return V(this,null,function*(){if(r)throw Error("Stream is cancelled");t.enqueue(a),o?o=!1:(yield new Promise((l,c)=>{n=l,e=c}),n=null,e=null)})},close:t.close.bind(t),abort:t.error.bind(t)})}}function $r(i,n=()=>{},e=()=>{},t={highWaterMark:0}){if(Kr(i))return HK(i,n,e,t);let o=n(i),r=e();return o!==void 0&&r!==void 0?Ia([o,r]):o!==void 0?o:r}function $N(o){return V(this,arguments,function*(i,n=()=>V(null,null,function*(){}),e=()=>V(null,null,function*(){}),t={highWaterMark:1}){if(Kr(i))return HK(i,n,e,t);let r=yield n(i),s=yield e();return r!==void 0&&s!==void 0?Ia([r,s]):r!==void 0?r:s})}function HK(i,n,e,t){if(Yo(i)){let o=new zl;return V(null,null,function*(){let r=Il(o);try{let s=yield Rr(i),a=yield n(s),l=yield e(),c;c=a!==void 0&&l!==void 0?Ia([a,l]):a!==void 0?a:l,yield r.write(c),yield r.close()}catch(s){yield r.abort(s)}}),o}if(Kr(i)){let s,o,r=!1;return new ReadableStream({start(){o=i.getReader()},pull(a){return V(this,null,function*(){if(r)return a.close(),void i.releaseLock();try{for(;;){let{value:l,done:c}=yield o.read();r=c;let d=yield(c?e:n)(l);if(d!==void 0)return void a.enqueue(d);if(c)return a.close(),void i.releaseLock()}}catch(l){a.error(l)}})},cancel(a){return V(this,null,function*(){yield o.cancel(a)})}},t)}throw Error("Unreachable")}function Ch(i,n){if(Kr(i)&&!Yo(i)){let t,o=new TransformStream({start(a){t=a}}),r=z_(i,o.writable),s=GK(function(a){return V(this,null,function*(){t.error(a),yield r,yield new Promise(l=>setTimeout(l))})});return n(o.readable,s.writable),s.readable}i=jK(i);let e=new zl;return n(i,e),e}function Bx(i,n){let e,t=Ch(i,(o,r)=>{let s=Nc(o);s.remainder=()=>(s.releaseLock(),z_(o,r),t),e=n(s)});return e}function om(i){if(Yo(i))return i.clone();if(Kr(i)){let n=(function(e){if(Yo(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(Kr(e)){let t=Uv(e).tee();return t[0][Do]=t[1][Do]=e[Do],t}return[Ms(e),Ms(e)]})(i);return zK(i,n[0]),n[1]}return Ms(i)}function Ev(i){return Yo(i)?om(i):Kr(i)?new ReadableStream({start(n){let e=Ch(i,(t,o)=>V(null,null,function*(){let r=Nc(t),s=Il(o);try{for(;;){yield s.ready;let{done:a,value:l}=yield r.read();if(a){try{n.close()}catch{}return void(yield s.close())}try{n.enqueue(l)}catch{}yield s.write(l)}}catch(a){n.error(a),yield s.abort(a)}}));zK(i,e)}}):Ms(i)}function zK(i,n){Object.entries(Object.getOwnPropertyDescriptors(i.constructor.prototype)).forEach(([e,t])=>{e!=="constructor"&&(t.value?t.value=t.value.bind(n):t.get=t.get.bind(n),Object.defineProperty(i,e,t))})}function Ms(i,n=0,e=1/0){if(Yo(i))throw Error("Not implemented");if(Kr(i)){if(n>=0&&e>=0){let r,t,o=0;return new ReadableStream({start(){t=i.getReader()},pull(s){return V(this,null,function*(){try{for(;;){if(!(o<e))return s.close(),void i.releaseLock();{let{value:a,done:l}=yield t.read();if(l)return s.close(),void i.releaseLock();let c;if(o+a.length>=n&&(c=Ms(a,Math.max(n-o,0),e-o)),o+=a.length,c)return void s.enqueue(c)}}}catch(a){s.error(a)}})},cancel(s){return V(this,null,function*(){yield t.cancel(s)})}},{highWaterMark:0})}if(n<0&&(e<0||e===1/0)){let t=[];return $r(i,o=>{o.length>=-n?t=[o]:t.push(o)},()=>Ms(Ia(t),n,e))}if(n===0&&e<0){let t;return $r(i,o=>{let r=t?Ia([t,o]):o;if(r.length>=-e)return t=Ms(r,e),Ms(r,n,e);t=r})}return console.warn(`stream.slice(input, ${n}, ${e}) not implemented efficiently.`),lm(()=>V(null,null,function*(){return Ms(yield Rr(i),n,e)}))}return i[Do]&&(i=Ia(i[Do].concat([i]))),Mx(i)?i.subarray(n,e===1/0?i.length:e):i.slice(n,e)}function Rr(e){return V(this,arguments,function*(i,n=Ia){return Yo(i)?i.readToEnd(n):Kr(i)?Nc(i).readToEnd(n):i})}function KN(i,n){return V(this,null,function*(){if(Kr(i)){if(i.cancel){let e=yield i.cancel(n);return yield new Promise(t=>setTimeout(t)),e}if(i.destroy)return i.destroy(n),yield new Promise(e=>setTimeout(e)),n}})}function lm(i){let n=new zl;return V(null,null,function*(){let e=Il(n);try{yield e.write(yield i()),yield e.close()}catch(t){yield e.abort(t)}}),n}function Nc(i){return new Od(i)}function Il(i){return new yv(i)}Od.prototype.read=function(){return V(this,null,function*(){return this[Do]&&this[Do].length?{done:!1,value:this[Do].shift()}:this._read()})},Od.prototype.releaseLock=function(){this[Do]&&(this.stream[Do]=this[Do]),this._releaseLock()},Od.prototype.cancel=function(i){return this._cancel(i)},Od.prototype.readLine=function(){return V(this,null,function*(){let i,n=[];for(;!i;){let{done:e,value:t}=yield this.read();if(t+="",e)return n.length?Ia(n):void 0;let o=t.indexOf(`
`)+1;o&&(i=Ia(n.concat(t.substr(0,o))),n=[]),o!==t.length&&n.push(t.substr(o))}return this.unshift(...n),i})},Od.prototype.readByte=function(){return V(this,null,function*(){let{done:i,value:n}=yield this.read();if(i)return;let e=n[0];return this.unshift(Ms(n,1)),e})},Od.prototype.readBytes=function(i){return V(this,null,function*(){let n=[],e=0;for(;;){let{done:t,value:o}=yield this.read();if(t)return n.length?Ia(n):void 0;if(n.push(o),e+=o.length,e>=i){let r=Ia(n);return this.unshift(Ms(r,i)),Ms(r,0,i)}}})},Od.prototype.peekBytes=function(i){return V(this,null,function*(){let n=yield this.readBytes(i);return this.unshift(n),n})},Od.prototype.unshift=function(...i){this[Do]||(this[Do]=[]),i.length===1&&Mx(i[0])&&this[Do].length&&i[0].length&&this[Do][0].byteOffset>=i[0].length?this[Do][0]=new Uint8Array(this[Do][0].buffer,this[Do][0].byteOffset-i[0].length,this[Do][0].byteLength+i[0].length):this[Do].unshift(...i.filter(n=>n&&n.length))},Od.prototype.readToEnd=function(){return V(this,arguments,function*(i=Ia){let n=[];for(;;){let{done:e,value:t}=yield this.read();if(e)break;n.push(t)}return i(n)})};var hv=Symbol("byValue"),T={curve:{nistP256:"nistP256",p256:"nistP256",nistP384:"nistP384",p384:"nistP384",nistP521:"nistP521",p521:"nistP521",secp256k1:"secp256k1",ed25519Legacy:"ed25519Legacy",ed25519:"ed25519Legacy",curve25519Legacy:"curve25519Legacy",curve25519:"curve25519Legacy",brainpoolP256r1:"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,argon2:4,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsaLegacy:22,aedh:23,aedsa:24,x25519:25,x448:26,ed25519:27,ed448:28},symmetric:{idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11,sha3_256:12,sha3_512:14},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,gcm:3,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20,padding:21},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuerKeyID:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34,preferredCipherSuites:39},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4,seipdv2:8},write:function(i,n){if(typeof n=="number"&&(n=this.read(i,n)),i[n]!==void 0)return i[n];throw Error("Invalid enum value.")},read:function(i,n){if(i[hv]||(i[hv]=[],Object.entries(i).forEach(([e,t])=>{i[hv][t]=e})),i[hv][n]!==void 0)return i[hv][n];throw Error("Invalid enum value.")}},Ot={preferredHashAlgorithm:T.hash.sha512,preferredSymmetricAlgorithm:T.symmetric.aes256,preferredCompressionAlgorithm:T.compression.uncompressed,aeadProtect:!1,parseAEADEncryptedV4KeysAsLegacy:!1,preferredAEADAlgorithm:T.aead.gcm,aeadChunkSizeByte:12,v6Keys:!1,enableParsingV5Entities:!1,s2kType:T.s2k.iterated,s2kIterationCountByte:224,s2kArgon2Params:{passes:3,parallelism:4,memoryExponent:16},allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,minRSABits:2047,passwordCollisionCheck:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,allowMissingKeyFlags:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([T.symmetric.aes128,T.symmetric.aes192,T.symmetric.aes256]),ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,enforceGrammar:!0,additionalAllowedPackets:[],showVersion:!1,showComment:!1,versionString:"OpenPGP.js 6.3.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,maxDecompressedMessageSize:1/0,knownNotations:[],nonDeterministicSignaturesViaNotation:!0,useEllipticFallback:!0,rejectHashAlgorithms:new Set([T.hash.md5,T.hash.ripemd]),rejectMessageHashAlgorithms:new Set([T.hash.md5,T.hash.ripemd,T.hash.sha1]),rejectPublicKeyAlgorithms:new Set([T.publicKey.elgamal,T.publicKey.dsa]),rejectCurves:new Set([T.curve.secp256k1])},tK=(()=>{try{return!1}catch{}return!1})(),q={isString:function(i){return typeof i=="string"||i instanceof String},nodeRequire:()=>{},isArray:function(i){return i instanceof Array},isUint8Array:Mx,isStream:Kr,getNobleCurve:(i,n)=>V(null,null,function*(){if(!Ot.useEllipticFallback)throw Error("This curve is only supported in the full build of OpenPGP.js");let{nobleCurves:e}=yield import("./chunk-3MMC4CGT.js");switch(i){case T.publicKey.ecdh:case T.publicKey.ecdsa:{let t=e.get(n);if(!t)throw Error("Unsupported curve");return t}case T.publicKey.x448:return e.get("x448");case T.publicKey.ed448:return e.get("ed448");default:throw Error("Unsupported curve")}}),readNumber:function(i){let n=0;for(let e=0;e<i.length;e++)n+=256**e*i[i.length-1-e];return n},writeNumber:function(i,n){let e=new Uint8Array(n);for(let t=0;t<n;t++)e[t]=i>>8*(n-t-1)&255;return e},readDate:function(i){let n=q.readNumber(i);return new Date(1e3*n)},writeDate:function(i){let n=Math.floor(i.getTime()/1e3);return q.writeNumber(n,4)},normalizeDate:function(i=Date.now()){return i===null||i===1/0?i:new Date(1e3*Math.floor(+i/1e3))},readMPI:function(i){let n=(i[0]<<8|i[1])+7>>>3;return q.readExactSubarray(i,2,2+n)},readExactSubarray:function(i,n,e){if(i.length<e-n)throw Error("Input array too short");return i.subarray(n,e)},leftPad(i,n){if(i.length>n)throw Error("Input array too long");let e=new Uint8Array(n),t=n-i.length;return e.set(i,t),e},uint8ArrayToMPI:function(i){let n=q.uint8ArrayBitLength(i);if(n===0)throw Error("Zero MPI");let e=i.subarray(i.length-Math.ceil(n/8)),t=new Uint8Array([(65280&n)>>8,255&n]);return q.concatUint8Array([t,e])},uint8ArrayBitLength:function(i){let n;for(n=0;n<i.length&&i[n]===0;n++);if(n===i.length)return 0;let e=i.subarray(n);return 8*(e.length-1)+q.nbits(e[0])},hexToUint8Array:function(i){let n=new Uint8Array(i.length>>1);for(let e=0;e<i.length>>1;e++)n[e]=parseInt(i.substr(e<<1,2),16);return n},uint8ArrayToHex:function(i){let n="0123456789abcdef",e="";return i.forEach(t=>{e+=n[t>>4]+n[15&t]}),e},stringToUint8Array:function(i){return $r(i,n=>{if(!q.isString(n))throw Error("stringToUint8Array: Data must be in the form of a string");let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e})},uint8ArrayToString:function(i){let n=[],t=(i=new Uint8Array(i)).length;for(let o=0;o<t;o+=16384)n.push(String.fromCharCode.apply(String,i.subarray(o,o+16384<t?o+16384:t)));return n.join("")},encodeUTF8:function(i){let n=new TextEncoder("utf-8");function e(t,o=!1){return n.encode(t,{stream:!o})}return $r(i,e,()=>e("",!0))},decodeUTF8:function(i){let n=new TextDecoder("utf-8");function e(t,o=!1){return n.decode(t,{stream:!o})}return $r(i,e,()=>e(new Uint8Array,!0))},concat:Ia,concatUint8Array:UK,equalsUint8Array:function(i,n){if(!q.isUint8Array(i)||!q.isUint8Array(n))throw Error("Data must be in the form of a Uint8Array");if(i.length!==n.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!==n[e])return!1;return!0},findLastIndex:function(i,n){for(let e=i.length;e>=0;e--)if(n(i[e],e,i))return e;return-1},writeChecksum:function(i){let n=0;for(let e=0;e<i.length;e++)n=n+i[e]&65535;return q.writeNumber(n,2)},printDebug:function(i){tK&&console.log("[OpenPGP.js debug]",i)},printDebugError:function(i){tK&&console.error("[OpenPGP.js debug]",i)},nbits:function(i){let n=1,e=i>>>16;return e!==0&&(i=e,n+=16),e=i>>8,e!==0&&(i=e,n+=8),e=i>>4,e!==0&&(i=e,n+=4),e=i>>2,e!==0&&(i=e,n+=2),e=i>>1,e!==0&&(i=e,n+=1),n},double:function(i){let n=new Uint8Array(i.length),e=i.length-1;for(let t=0;t<e;t++)n[t]=i[t]<<1^i[t+1]>>7;return n[e]=i[e]<<1^135*(i[0]>>7),n},shiftRight:function(i,n){if(n)for(let e=i.length-1;e>=0;e--)i[e]>>=n,e>0&&(i[e]|=i[e-1]<<8-n);return i},getWebCrypto:function(){let i=Up!==void 0&&Up.crypto&&Up.crypto.subtle||this.getNodeCrypto()?.webcrypto.subtle;if(!i)throw Error("The WebCrypto API is not available");return i},getNodeCrypto:function(){return this.nodeRequire("crypto")},getNodeZlib:function(){return this.nodeRequire("zlib")},getNodeBuffer:function(){return(this.nodeRequire("buffer")||{}).Buffer},getHardwareConcurrency:function(){return typeof navigator<"u"?navigator.hardwareConcurrency||1:this.nodeRequire("os").cpus().length},isEmailAddress:function(i){return q.isString(i)?/^[^\p{C}\p{Z}@<>\\]+@[^\p{C}\p{Z}@<>\\]+[^\p{C}\p{Z}\p{P}]$/u.test(i):!1},canonicalizeEOL:function(i){let n=!1;return $r(i,e=>{let t;n&&(e=q.concatUint8Array([new Uint8Array([13]),e])),e[e.length-1]===13?(n=!0,e=e.subarray(0,-1)):n=!1;let o=[];for(let a=0;t=e.indexOf(10,a)+1,t;a=t)e[t-2]!==13&&o.push(t);if(!o.length)return e;let r=new Uint8Array(e.length+o.length),s=0;for(let a=0;a<o.length;a++){let l=e.subarray(o[a-1]||0,o[a]);r.set(l,s),s+=l.length,r[s-1]=13,r[s]=10,s++}return r.set(e.subarray(o[o.length-1]||0),s),r},()=>n?new Uint8Array([13]):void 0)},nativeEOL:function(i){let n=!1;return $r(i,e=>{let t;(e=n&&e[0]!==10?q.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]===13?(n=!0,e=e.subarray(0,-1)):n=!1;let o=0;for(let r=0;r!==e.length;r=t){t=e.indexOf(13,r)+1,t||(t=e.length);let s=t-(e[t]===10?1:0);r&&e.copyWithin(o,r,s),o+=s-r}return e.subarray(0,o)},()=>n?new Uint8Array([13]):void 0)},removeTrailingSpaces:function(i){return i.split(`
`).map(n=>{let e=n.length-1;for(;e>=0&&(n[e]===" "||n[e]==="	"||n[e]==="\r");e--);return n.substr(0,e+1)}).join(`
`)},wrapError:function(i,n){if(!n)return i instanceof Error?i:Error(i);if(i instanceof Error){try{i.message+=": "+n.message,i.cause=n}catch{}return i}return Error(i+": "+n.message,{cause:n})},constructAllowedPackets:function(i){let n={};return i.forEach(e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");n[e.tag]=e}),n},anyPromise:function(i){return new Promise((n,e)=>{let t;Promise.all(i.map(o=>V(null,null,function*(){try{n(yield o)}catch(r){t=r}}))).then(()=>{e(t)})})},selectUint8Array:function(i,n,e){let t=Math.max(n.length,e.length),o=new Uint8Array(t),r=0;for(let s=0;s<o.length;s++)o[s]=n[s]&256-i|e[s]&255+i,r+=i&s<n.length|1-i&s<e.length;return o.subarray(0,r)},selectUint8:function(i,n,e){return n&256-i|e&255+i},isAES:function(i){return i===T.symmetric.aes128||i===T.symmetric.aes192||i===T.symmetric.aes256}},AN=q.getNodeBuffer(),cx,dx;function Bp(i){let n=new Uint8Array;return $r(i,e=>{n=q.concatUint8Array([n,e]);let t=[],o=Math.floor(n.length/45),r=45*o,s=cx(n.subarray(0,r));for(let a=0;a<o;a++)t.push(s.substr(60*a,60)),t.push(`
`);return n=n.subarray(r),t.join("")},()=>n.length?cx(n)+`
`:"")}function WK(i){let n="";return $r(i,e=>{n+=e;let t=0,o=[" ","	","\r",`
`];for(let a=0;a<o.length;a++){let l=o[a];for(let c=n.indexOf(l);c!==-1;c=n.indexOf(l,c+1))t++}let r=n.length;for(;r>0&&(r-t)%4!=0;r--)o.includes(n[r])&&t--;let s=dx(n.substr(0,r));return n=n.substr(r),s},()=>dx(n))}function Ga(i){return WK(i.replace(/-/g,"+").replace(/_/g,"/"))}function Ls(i,n){let e=Bp(i).replace(/[\r\n]/g,"");return e=e.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,""),e}function eAe(i){let n=i.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!n)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(n[1])?T.armor.multipartSection:/MESSAGE, PART \d+/.test(n[1])?T.armor.multipartLast:/SIGNED MESSAGE/.test(n[1])?T.armor.signed:/MESSAGE/.test(n[1])?T.armor.message:/PUBLIC KEY BLOCK/.test(n[1])?T.armor.publicKey:/PRIVATE KEY BLOCK/.test(n[1])?T.armor.privateKey:/SIGNATURE/.test(n[1])?T.armor.signature:void 0}function Zf(i,n){let e="";return n.showVersion&&(e+="Version: "+n.versionString+`
`),n.showComment&&(e+="Comment: "+n.commentString+`
`),i&&(e+="Comment: "+i+`
`),e+=`
`,e}function em(i){let n=(function(e){let t=13501623;return $r(e,o=>{let r=tAe?Math.floor(o.length/4):0,s=new Uint32Array(o.buffer,o.byteOffset,r);for(let a=0;a<r;a++)t^=s[a],t=Es[0][t>>24&255]^Es[1][t>>16&255]^Es[2][t>>8&255]^Es[3][255&t];for(let a=4*r;a<o.length;a++)t=t>>8^Es[0][255&t^o[a]]},()=>new Uint8Array([t,t>>8,t>>16]))})(i);return Bp(n)}AN?(cx=i=>AN.from(i).toString("base64"),dx=i=>{let n=AN.from(i,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}):(cx=i=>btoa(q.uint8ArrayToString(i)),dx=i=>q.stringToUint8Array(atob(i)));var Es=[Array(255),Array(255),Array(255),Array(255)];for(let i=0;i<=255;i++){let n=i<<16;for(let e=0;e<8;e++)n=n<<1^(8388608&n?8801531:0);Es[0][i]=(16711680&n)>>16|65280&n|(255&n)<<16}for(let i=0;i<=255;i++)Es[1][i]=Es[0][i]>>8^Es[0][255&Es[0][i]];for(let i=0;i<=255;i++)Es[2][i]=Es[1][i]>>8^Es[0][255&Es[1][i]];for(let i=0;i<=255;i++)Es[3][i]=Es[2][i]>>8^Es[0][255&Es[2][i]];var tAe=(function(){let i=new ArrayBuffer(2);return new DataView(i).setInt16(0,255,!0),new Int16Array(i)[0]===255})();function iK(i){for(let n=0;n<i.length;n++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(i[n])||q.printDebugError(Error("Improperly formatted armor header: "+i[n])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(i[n])||q.printDebugError(Error("Unknown header: "+i[n]))}function iAe(i){let n=i,e=i.lastIndexOf("=");return e>=0&&e!==i.length-1&&(n=i.slice(0,e)),n}function jv(i){return new Promise((n,e)=>{try{let t=/^-----[^-]+-----$/m,o=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/,r,s=[],a,l,c=s,d=[],u=WK(Ch(i,(m,g)=>V(null,null,function*(){let y=Nc(m);try{for(;;){let S=yield y.readLine();if(S===void 0)throw Error("Misformed armored text");if(S=q.removeTrailingSpaces(S.replace(/[\r\n]/g,"")),r)if(a)l||r!==T.armor.signed||(t.test(S)?(d=d.join(`\r
`),l=!0,iK(c),c=[],a=!1):d.push(S.replace(/^- /,"")));else if(t.test(S)&&e(Error("Mandatory blank line missing between armor headers and armor data")),o.test(S)){if(iK(c),a=!0,l||r!==T.armor.signed){n({text:d,data:u,headers:s,type:r});break}}else c.push(S);else t.test(S)&&(r=eAe(S))}}catch(S){return void e(S)}let v=Il(g);try{for(;;){yield v.ready;let{done:S,value:I}=yield y.read();if(S)throw Error("Misformed armored text");let P=I+"";if(P.indexOf("=")!==-1||P.indexOf("-")!==-1){let L=yield y.readToEnd();L.length||(L=""),L=P+L,L=q.removeTrailingSpaces(L.replace(/\r/g,""));let F=L.split(t);if(F.length===1)throw Error("Misformed armored text");let K=iAe(F[0].slice(0,-1));yield v.write(K);break}yield v.write(P)}yield v.ready,yield v.close()}catch(S){yield v.abort(S)}})))}catch(t){e(t)}}).then(n=>V(null,null,function*(){return Yo(n.data)&&(n.data=yield Rr(n.data)),n}))}function Gv(i,n,e,t,o,r=!1,s=Ot){let a,l;i===T.armor.signed&&(a=n.text,l=n.hash,n=n.data);let c=r&&Ev(n),d=[];switch(i){case T.armor.multipartSection:d.push("-----BEGIN PGP MESSAGE, PART "+e+"/"+t+`-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push("-----END PGP MESSAGE, PART "+e+"/"+t+`-----
`);break;case T.armor.multipartLast:d.push("-----BEGIN PGP MESSAGE, PART "+e+`-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push("-----END PGP MESSAGE, PART "+e+`-----
`);break;case T.armor.signed:d.push(`-----BEGIN PGP SIGNED MESSAGE-----
`),d.push(l?`Hash: ${l}

`:`
`),d.push(a.replace(/^-/gm,"- -")),d.push(`
-----BEGIN PGP SIGNATURE-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push(`-----END PGP SIGNATURE-----
`);break;case T.armor.message:d.push(`-----BEGIN PGP MESSAGE-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push(`-----END PGP MESSAGE-----
`);break;case T.armor.publicKey:d.push(`-----BEGIN PGP PUBLIC KEY BLOCK-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push(`-----END PGP PUBLIC KEY BLOCK-----
`);break;case T.armor.privateKey:d.push(`-----BEGIN PGP PRIVATE KEY BLOCK-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push(`-----END PGP PRIVATE KEY BLOCK-----
`);break;case T.armor.signature:d.push(`-----BEGIN PGP SIGNATURE-----
`),d.push(Zf(o,s)),d.push(Bp(n)),c&&d.push("=",em(c)),d.push(`-----END PGP SIGNATURE-----
`)}return q.concat(d)}var za=BigInt(0),U_=BigInt(1);function fi(i){let n="0123456789ABCDEF",e="";return i.forEach(t=>{e+=n[t>>4]+n[15&t]}),BigInt("0x0"+e)}function Sn(i,n){let e=i%n;return e<za?e+n:e}function xs(i,n,e){if(e===za)throw Error("Modulo cannot be zero");if(e===U_)return BigInt(0);if(n<za)throw Error("Unsopported negative exponent");let t=n,o=i;o%=e;let r=BigInt(1);for(;t>za;){let s=t&U_;t>>=U_,r=s?r*o%e:r,o=o*o%e}return r}function nK(i){return i>=za?i:-i}function W_(i,n){let{gcd:e,x:t}=(function(o,r){let s=BigInt(0),a=BigInt(1),l=BigInt(1),c=BigInt(0),d=nK(o),u=nK(r),m=o<za,g=r<za;for(;u!==za;){let y=d/u,v=s;s=l-y*s,l=v,v=a,a=c-y*a,c=v,v=u,u=d%u,d=v}return{x:m?-l:l,y:g?-c:c,gcd:d}})(i,n);if(e!==U_)throw Error("Inverse does not exist");return Sn(t+n,n)}function qN(i){let n=Number(i);if(n>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return n}function nAe(i,n){return(i>>BigInt(n)&U_)===za?0:1}function j_(i){let n=i<za?BigInt(-1):za,e=1,t=i;for(;(t>>=U_)!==n;)e++;return e}function Wa(i){let n=i<za?BigInt(-1):za,e=BigInt(8),t=1,o=i;for(;(o>>=e)!==n;)t++;return t}function Or(i,n="be",e){let t=i.toString(16);t.length%2==1&&(t="0"+t);let o=t.length/2,r=new Uint8Array(e||o),s=e?e-o:0,a=0;for(;a<o;)r[a+s]=parseInt(t.slice(2*a,2*a+2),16),a++;return n!=="be"&&r.reverse(),r}var oAe=q.getNodeCrypto();function Bs(i){let n=typeof crypto<"u"?crypto:oAe?.webcrypto;if(n?.getRandomValues){let e=new Uint8Array(i);return n.getRandomValues(e)}throw Error("No secure random number generator available.")}function _h(i,n){if(n<i)throw Error("Illegal parameter value: max <= min");let e=n-i;return Sn(fi(Bs(Wa(e)+8)),e)+i}var Dd=BigInt(1);function oK(i,n,e){let t=BigInt(30),o=Dd<<BigInt(i-1),r=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],s=_h(o,o<<Dd),a=qN(Sn(s,t));do s+=BigInt(r[a]),a=(a+r[a])%r.length,j_(s)>i&&(s=Sn(s,o<<Dd),s+=o,a=qN(Sn(s,t)));while(!$K(s,n,e));return s}function $K(i,n,e){return(!n||(function(t,o){let r=t,s=o;for(;s!==za;){let a=s;s=r%s,r=a}return r})(i-Dd,n)===Dd)&&!!(function(t){let o=BigInt(0);return rAe.every(r=>Sn(t,r)!==o)})(i)&&!!(function(t,o=BigInt(2)){return xs(o,t-Dd,t)===Dd})(i)&&!!(function(t,o){let r=j_(t);o||(o=Math.max(1,r/48|0));let s=t-Dd,a=0;for(;!nAe(s,a);)a++;let l=t>>BigInt(a);for(;o>0;o--){let c,d=xs(_h(BigInt(2),s),l,t);if(d!==Dd&&d!==s){for(c=1;c<a;c++){if(d=Sn(d*d,t),d===Dd)return!1;if(d===s)break}if(c===a)return!1}}return!0})(i,e)}var rAe=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999].map(i=>BigInt(i)),rK=q.getWebCrypto(),px=q.getNodeCrypto(),sAe=px&&px.getHashes();function zp(i){if(px&&sAe.includes(i))return function(n){return V(this,null,function*(){let e=px.createHash(i);return $r(n,t=>{e.update(t)},()=>new Uint8Array(e.digest()))})}}function Wp(i,n){let e=()=>V(null,null,function*(){let{nobleHashes:t}=yield import("./chunk-NC4M6LPW.js"),o=t.get(i);if(!o)throw Error("Unsupported hash");return o});return function(t){return V(this,null,function*(){if(Yo(t)&&(t=yield Rr(t)),q.isStream(t)){let o=(yield e()).create();return $r(t,r=>{o.update(r)},()=>o.digest())}return rK&&n?new Uint8Array(yield rK.digest(n,t)):(yield e())(t)})}}var aAe=zp("md5")||Wp("md5"),lAe=zp("sha1")||Wp("sha1","SHA-1"),cAe=zp("sha224")||Wp("sha224"),dAe=zp("sha256")||Wp("sha256","SHA-256"),pAe=zp("sha384")||Wp("sha384","SHA-384"),uAe=zp("sha512")||Wp("sha512","SHA-512"),hAe=zp("ripemd160")||Wp("ripemd160"),fAe=zp("sha3-256")||Wp("sha3_256"),mAe=zp("sha3-512")||Wp("sha3_512");function Vd(i,n){switch(i){case T.hash.md5:return aAe(n);case T.hash.sha1:return lAe(n);case T.hash.ripemd:return hAe(n);case T.hash.sha256:return dAe(n);case T.hash.sha384:return pAe(n);case T.hash.sha512:return uAe(n);case T.hash.sha224:return cAe(n);case T.hash.sha3_256:return fAe(n);case T.hash.sha3_512:return mAe(n);default:throw Error("Unsupported hash function")}}function ds(i){switch(i){case T.hash.md5:return 16;case T.hash.sha1:case T.hash.ripemd:return 20;case T.hash.sha256:return 32;case T.hash.sha384:return 48;case T.hash.sha512:return 64;case T.hash.sha224:return 28;case T.hash.sha3_256:return 32;case T.hash.sha3_512:return 64;default:throw Error("Invalid hash algorithm.")}}var Pd=[];function KK(i,n){let e=i.length;if(e>n-11)throw Error("Message too long");let t=(function(r){let s=new Uint8Array(r),a=0;for(;a<r;){let l=Bs(r-a);for(let c=0;c<l.length;c++)l[c]!==0&&(s[a++]=l[c])}return s})(n-e-3),o=new Uint8Array(n);return o[1]=2,o.set(t,2),o.set(i,n-e),o}function qK(i,n){let e=2,t=1;for(let a=e;a<i.length;a++)t&=i[a]!==0,e+=t;let o=e-2,r=i.subarray(e+1),s=i[0]===0&i[1]===2&o>=8&!t;if(n)return q.selectUint8Array(s,r,n);if(s)return r;throw Error("Decryption error")}function JK(i,n,e){let t;if(n.length!==ds(i))throw Error("Invalid hash length");let o=new Uint8Array(Pd[i].length);for(t=0;t<Pd[i].length;t++)o[t]=Pd[i][t];let r=o.length+n.length;if(e<r+11)throw Error("Intended encoded message length too short");let s=new Uint8Array(e-r-3).fill(255),a=new Uint8Array(e);return a[1]=1,a.set(s,2),a.set(o,e-r),a.set(n,e-n.length),a}Pd[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Pd[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Pd[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Pd[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Pd[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Pd[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Pd[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var $_=q.getWebCrypto(),rm=q.getNodeCrypto(),bh=BigInt(1);function gAe(i,n,e,t,o,r,s,a,l){return V(this,null,function*(){if(ds(i)>=e.length)throw Error("Digest size cannot exceed key modulus size");if(n&&!q.isStream(n)){if(q.getWebCrypto())try{return yield(function(c,d,u,m,g,y,v,S){return V(this,null,function*(){let I=JN(u,m,g,y,v,S),P={name:"RSASSA-PKCS1-v1_5",hash:{name:c}},L=yield $_.importKey("jwk",I,P,!1,["sign"]);return new Uint8Array(yield $_.sign("RSASSA-PKCS1-v1_5",L,d))})})(T.read(T.webHash,i),n,e,t,o,r,s,a)}catch(c){q.printDebugError(c)}else if(q.getNodeCrypto())return(function(c,d,u,m,g,y,v,S){let I=rm.createSign(T.read(T.hash,c));I.write(d),I.end();let P=JN(u,m,g,y,v,S);return new Uint8Array(I.sign({key:P,format:"jwk",type:"pkcs1"}))})(i,n,e,t,o,r,s,a)}return(function(c,d,u,m){d=fi(d);let g=fi(JK(c,m,Wa(d)));return u=fi(u),Or(xs(g,u,d),"be",Wa(d))})(i,e,o,l)})}function _Ae(i,n,e,t,o,r){return V(this,null,function*(){if(n&&!q.isStream(n)){if(q.getWebCrypto())try{return yield(function(s,a,l,c,d){return V(this,null,function*(){let u=QN(c,d),m=yield $_.importKey("jwk",u,{name:"RSASSA-PKCS1-v1_5",hash:{name:s}},!1,["verify"]);return $_.verify("RSASSA-PKCS1-v1_5",m,l,a)})})(T.read(T.webHash,i),n,e,t,o)}catch(s){q.printDebugError(s)}else if(q.getNodeCrypto())return(function(s,a,l,c,d){let u=QN(c,d),m={key:u,format:"jwk",type:"pkcs1"},g=rm.createVerify(T.read(T.hash,s));g.write(a),g.end();try{return g.verify(m,l)}catch{return!1}})(i,n,e,t,o)}return(function(s,a,l,c,d){if(l=fi(l),a=fi(a),c=fi(c),a>=l)throw Error("Signature size cannot exceed modulus size");let u=Or(xs(a,c,l),"be",Wa(l)),m=JK(s,d,Wa(l));return q.equalsUint8Array(u,m)})(i,e,t,o,r)})}function bAe(i,n,e){return V(this,null,function*(){return q.getNodeCrypto()?(function(t,o,r){let s=QN(o,r),a={key:s,format:"jwk",type:"pkcs1",padding:rm.constants.RSA_PKCS1_PADDING};return new Uint8Array(rm.publicEncrypt(a,t))})(i,n,e):(function(t,o,r){if(o=fi(o),t=fi(KK(t,Wa(o))),r=fi(r),t>=o)throw Error("Message size cannot exceed modulus size");return Or(xs(t,r,o),"be",Wa(o))})(i,n,e)})}function yAe(i,n,e,t,o,r,s,a){return V(this,null,function*(){if(q.getNodeCrypto()&&!a)try{return(function(l,c,d,u,m,g,y){let v=JN(c,d,u,m,g,y),S={key:v,format:"jwk",type:"pkcs1",padding:rm.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(rm.privateDecrypt(S,l))}catch{throw Error("Decryption error")}})(i,n,e,t,o,r,s)}catch(l){q.printDebugError(l)}return(function(l,c,d,u,m,g,y,v){if(l=fi(l),c=fi(c),d=fi(d),u=fi(u),m=fi(m),g=fi(g),y=fi(y),l>=c)throw Error("Data too large.");let S=Sn(u,g-bh),I=Sn(u,m-bh),P=_h(BigInt(2),c),L=xs(W_(P,c),d,c);l=Sn(l*L,c);let F=xs(l,I,m),K=xs(l,S,g),me=Sn(y*(K-F),g)*m+F;return me=Sn(me*P,c),qK(Or(me,"be",Wa(c)),v)})(i,n,e,t,o,r,s,a)})}function JN(i,n,e,t,o,r){let s=fi(t),a=fi(o),l=fi(e),c=Sn(l,a-bh),d=Sn(l,s-bh);return d=Or(d),c=Or(c),{kty:"RSA",n:Ls(i),e:Ls(n),d:Ls(e),p:Ls(o),q:Ls(t),dp:Ls(c),dq:Ls(d),qi:Ls(r),ext:!0}}function QN(i,n){return{kty:"RSA",n:Ls(i),e:Ls(n),ext:!0}}function sK(i,n){return{n:Ga(i.n),e:Or(n),d:Ga(i.d),p:Ga(i.q),q:Ga(i.p),u:Ga(i.qi)}}var fh=BigInt(1),vAe={"2a8648ce3d030107":T.curve.nistP256,"2b81040022":T.curve.nistP384,"2b81040023":T.curve.nistP521,"2b8104000a":T.curve.secp256k1,"2b06010401da470f01":T.curve.ed25519Legacy,"2b060104019755010501":T.curve.curve25519Legacy,"2b2403030208010107":T.curve.brainpoolP256r1,"2b240303020801010b":T.curve.brainpoolP384r1,"2b240303020801010d":T.curve.brainpoolP512r1},jp=class i{constructor(n){if(n instanceof i)this.oid=n.oid;else if(q.isArray(n)||q.isUint8Array(n)){if((n=new Uint8Array(n))[0]===6){if(n[1]!==n.length-2)throw Error("Length mismatch in DER encoded oid");n=n.subarray(2)}this.oid=n}else this.oid=""}read(n){if(n.length>=1){let e=n[0];if(n.length>=1+e)return this.oid=n.subarray(1,1+e),1+this.oid.length}throw Error("Invalid oid")}write(){return q.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return q.uint8ArrayToHex(this.oid)}getName(){let n=vAe[this.toHex()];if(!n)throw Error("Unknown curve object identifier.");return n}};function QK(i){let n,e=0,t=i[0];return t<192?([e]=i,n=1):t<255?(e=(i[0]-192<<8)+i[1]+192,n=2):t===255&&(e=q.readNumber(i.subarray(1,5)),n=5),{len:e,offset:n}}function Vx(i){return i<192?new Uint8Array([i]):i>191&&i<8384?new Uint8Array([192+(i-192>>8),i-192&255]):q.concatUint8Array([new Uint8Array([255]),q.writeNumber(i,4)])}function wAe(i){if(i<0||i>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+i])}function ux(i){return new Uint8Array([192|i])}function aK(i,n){return q.concatUint8Array([ux(i),Vx(n)])}function ex(i){return[T.packet.literalData,T.packet.compressedData,T.packet.symmetricallyEncryptedData,T.packet.symEncryptedIntegrityProtectedData,T.packet.aeadEncryptedData].includes(i)}function CAe(i,n,e){return V(this,null,function*(){let t,o;try{let r=yield i.peekBytes(2);if(!r||r.length<2||!(128&r[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");let s=yield i.readByte(),a,l,c=-1,d=-1;d=0,64&s&&(d=1),d?c=63&s:(c=(63&s)>>2,l=3&s);let u=ex(c),m,g=null;if(n&&u){if(n==="array"){let y=new zl;t=Il(y),g=y}else{let y=new TransformStream;t=Il(y.writable),g=y.readable}o=e({tag:c,packet:g})}else g=[];do{if(d){let y=yield i.readByte();if(m=!1,y<192)a=y;else if(y>=192&&y<224)a=(y-192<<8)+(yield i.readByte())+192;else if(y>223&&y<255){if(a=1<<(31&y),m=!0,!u)throw new TypeError("This packet type does not support partial lengths.")}else a=(yield i.readByte())<<24|(yield i.readByte())<<16|(yield i.readByte())<<8|(yield i.readByte())}else switch(l){case 0:a=yield i.readByte();break;case 1:a=(yield i.readByte())<<8|(yield i.readByte());break;case 2:a=(yield i.readByte())<<24|(yield i.readByte())<<16|(yield i.readByte())<<8|(yield i.readByte());break;default:a=1/0}if(a>0){let y=0;for(;;){t&&(yield t.ready);let{done:v,value:S}=yield i.read();if(v){if(a===1/0)break;throw Error("Unexpected end of packet")}let I=a===1/0?S:S.subarray(0,a-y);if(t?yield t.write(I):g.push(I),y+=S.length,y>=a){i.unshift(S.subarray(a-y+S.length));break}}}}while(m);t?(yield t.ready,yield t.close()):(g=q.concatUint8Array(g),yield e({tag:c,packet:g}))}catch(r){if(t)return yield t.abort(r),!0;throw r}finally{t&&(yield o)}})}var Jn=class i extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="UnsupportedError"}},G_=class extends Jn{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,Jn),this.name="UnknownPacketError"}},xv=class extends Jn{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,Jn),this.name="MalformedPacketError"}},Tv=class{constructor(n,e){this.tag=n,this.rawContent=e}write(){return this.rawContent}};function SF(i){return V(this,null,function*(){switch(i){case T.publicKey.ed25519:try{let n=q.getWebCrypto(),e=yield n.generateKey("Ed25519",!0,["sign","verify"]).catch(r=>{if(r.name==="OperationError"){let s=Error("Unexpected key generation issue");throw s.name="NotSupportedError",s}throw r}),t=yield n.exportKey("jwk",e.privateKey),o=yield n.exportKey("jwk",e.publicKey);return{A:new Uint8Array(Ga(o.x)),seed:Ga(t.d)}}catch(n){if(n.name!=="NotSupportedError")throw n;let{default:e}=yield import("./chunk-R6YRACQI.js"),t=Bs(Ux(i)),{publicKey:o}=e.sign.keyPair.fromSeed(t);return{A:o,seed:t}}case T.publicKey.ed448:{let n=yield q.getNobleCurve(T.publicKey.ed448),{secretKey:e,publicKey:t}=n.keygen();return{A:t,seed:e}}default:throw Error("Unsupported EdDSA algorithm")}})}function IF(i,n,e,t,o,r){return V(this,null,function*(){if(ds(n)<ds(jx(i)))throw Error("Hash algorithm too weak for EdDSA.");switch(i){case T.publicKey.ed25519:try{let s=q.getWebCrypto(),a=YK(i,t,o),l=yield s.importKey("jwk",a,"Ed25519",!1,["sign"]);return{RS:new Uint8Array(yield s.sign("Ed25519",l,r))}}catch(s){if(s.name!=="NotSupportedError")throw s;let{default:a}=yield import("./chunk-R6YRACQI.js"),l=q.concatUint8Array([o,t]);return{RS:a.sign.detached(r,l)}}case T.publicKey.ed448:return{RS:(yield q.getNobleCurve(T.publicKey.ed448)).sign(r,o)};default:throw Error("Unsupported EdDSA algorithm")}})}function EF(s,a,l,c,d,u){return V(this,arguments,function*(i,n,{RS:e},t,o,r){if(ds(n)<ds(jx(i)))throw Error("Hash algorithm too weak for EdDSA.");switch(i){case T.publicKey.ed25519:try{let m=q.getWebCrypto(),g=TF(i,o),y=yield m.importKey("jwk",g,"Ed25519",!1,["verify"]);return yield m.verify("Ed25519",y,e,r)}catch(m){if(m.name!=="NotSupportedError")throw m;let{default:g}=yield import("./chunk-R6YRACQI.js");return g.sign.detached.verify(r,e,o)}case T.publicKey.ed448:return(yield q.getNobleCurve(T.publicKey.ed448)).verify(e,r,o);default:throw Error("Unsupported EdDSA algorithm")}})}function xF(i,n,e){return V(this,null,function*(){switch(i){case T.publicKey.ed25519:try{let t=q.getWebCrypto(),o=YK(i,n,e),r=TF(i,n),s=yield t.importKey("jwk",o,"Ed25519",!1,["sign"]),a=yield t.importKey("jwk",r,"Ed25519",!1,["verify"]),l=Bs(8),c=new Uint8Array(yield t.sign("Ed25519",s,l));return yield t.verify("Ed25519",a,c,l)}catch(t){if(t.name!=="NotSupportedError")return!1;let{default:o}=yield import("./chunk-R6YRACQI.js"),{publicKey:r}=o.sign.keyPair.fromSeed(e);return q.equalsUint8Array(n,r)}case T.publicKey.ed448:{let t=(yield q.getNobleCurve(T.publicKey.ed448)).getPublicKey(e);return q.equalsUint8Array(n,t)}default:return!1}})}function Ux(i){switch(i){case T.publicKey.ed25519:return 32;case T.publicKey.ed448:return 57;default:throw Error("Unsupported EdDSA algorithm")}}function jx(i){switch(i){case T.publicKey.ed25519:return T.hash.sha256;case T.publicKey.ed448:return T.hash.sha512;default:throw Error("Unknown EdDSA algo")}}var TF=(i,n)=>{if(i===T.publicKey.ed25519)return{kty:"OKP",crv:"Ed25519",x:Ls(n),ext:!0};throw Error("Unsupported EdDSA algorithm")},YK=(i,n,e)=>{if(i===T.publicKey.ed25519){let t=TF(i,n);return t.d=Ls(e),t}throw Error("Unsupported EdDSA algorithm")},SAe=Object.freeze({__proto__:null,generate:SF,getPayloadSize:Ux,getPreferredHashAlgo:jx,sign:IF,validateParams:xF,verify:EF});function XK(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function Qo(i,...n){if(!XK(i))throw Error("Uint8Array expected");if(n.length>0&&!n.includes(i.length))throw Error("Uint8Array expected of length "+n+", got length="+i.length)}function hx(i,n=!0){if(i.destroyed)throw Error("Hash instance has been destroyed");if(n&&i.finished)throw Error("Hash#digest() has already been called")}function ZK(i,n){Qo(i);let e=n.outputLen;if(i.length<e)throw Error("digestInto() expects output buffer of length at least "+e)}function OF(i){return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}function Po(i){return new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4))}function la(...i){for(let n=0;n<i.length;n++)i[n].fill(0)}function Gx(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}var IAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ov(i){if(typeof i=="string")i=(function(n){if(typeof n!="string")throw Error("string expected");return new Uint8Array(new TextEncoder().encode(n))})(i);else{if(!XK(i))throw Error("Uint8Array expected, got "+typeof i);i=Ha(i)}return i}function eq(i,n){return i.buffer===n.buffer&&i.byteOffset<n.byteOffset+n.byteLength&&n.byteOffset<i.byteOffset+i.byteLength}function YN(i,n){if(eq(i,n)&&i.byteOffset<n.byteOffset)throw Error("complex overlap of input and output is not supported")}function tq(i,n){if(i.length!==n.length)return!1;let e=0;for(let t=0;t<i.length;t++)e|=i[t]^n[t];return e===0}var Hv=(i,n)=>{function e(t,...o){if(Qo(t),!IAe)throw Error("Non little-endian hardware is not yet supported");if(i.nonceLength!==void 0){let c=o[0];if(!c)throw Error("nonce / iv required");i.varSizeNonce?Qo(c):Qo(c,i.nonceLength)}let r=i.tagLength;r&&o[1]!==void 0&&Qo(o[1]);let s=n(t,...o),a=(c,d)=>{if(d!==void 0){if(c!==2)throw Error("cipher output not supported");Qo(d)}},l=!1;return{encrypt(c,d){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,Qo(c),a(s.encrypt.length,d),s.encrypt(c,d)},decrypt(c,d){if(Qo(c),r&&c.length<r)throw Error("invalid ciphertext length: smaller than tagLength="+r);return a(s.decrypt.length,d),s.decrypt(c,d)}}}return Object.assign(e,i),e};function Rv(i,n,e=!0){if(n===void 0)return new Uint8Array(i);if(n.length!==i)throw Error("invalid output length, expected "+i+", got: "+n.length);if(e&&!Wl(n))throw Error("invalid output, must be aligned");return n}function XN(i,n,e,t){if(typeof i.setBigUint64=="function")return i.setBigUint64(n,e,t);let o=BigInt(32),r=BigInt(4294967295),s=Number(e>>o&r),a=Number(e&r);i.setUint32(n+0,s,t),i.setUint32(n+4,a,t)}function Wl(i){return i.byteOffset%4==0}function Ha(i){return Uint8Array.from(i)}var Vp=16,RF=new Uint8Array(16),kd=Po(RF),Hl=i=>(i>>>0&255)<<24|(i>>>8&255)<<16|(i>>>16&255)<<8|i>>>24&255,fx=class{constructor(n,e){this.blockLen=Vp,this.outputLen=Vp,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Qo(n=Ov(n),16);let t=Gx(n),o=t.getUint32(0,!1),r=t.getUint32(4,!1),s=t.getUint32(8,!1),a=t.getUint32(12,!1),l=[];for(let P=0;P<128;P++)l.push({s0:Hl(o),s1:Hl(r),s2:Hl(s),s3:Hl(a)}),{s0:o,s1:r,s2:s,s3:a}={s3:(u=s)<<31|(m=a)>>>1,s2:(d=r)<<31|u>>>1,s1:(c=o)<<31|d>>>1,s0:c>>>1^225<<24&-(1&m)};var c,d,u,m;let g=(y=e||1024)>65536?8:y>1024?4:2;var y;if(![1,2,4,8].includes(g))throw Error("ghash: invalid window size, expected 2, 4 or 8");this.W=g;let v=128/g,S=this.windowSize=2**g,I=[];for(let P=0;P<v;P++)for(let L=0;L<S;L++){let F=0,K=0,le=0,me=0;for(let fe=0;fe<g;fe++){if(!(L>>>g-fe-1&1))continue;let{s0:Te,s1:He,s2:Be,s3:rt}=l[g*P+fe];F^=Te,K^=He,le^=Be,me^=rt}I.push({s0:F,s1:K,s2:le,s3:me})}this.t=I}_updateBlock(n,e,t,o){n^=this.s0,e^=this.s1,t^=this.s2,o^=this.s3;let{W:r,t:s,windowSize:a}=this,l=0,c=0,d=0,u=0,m=(1<<r)-1,g=0;for(let y of[n,e,t,o])for(let v=0;v<4;v++){let S=y>>>8*v&255;for(let I=8/r-1;I>=0;I--){let P=S>>>r*I&m,{s0:L,s1:F,s2:K,s3:le}=s[g*a+P];l^=L,c^=F,d^=K,u^=le,g+=1}}this.s0=l,this.s1=c,this.s2=d,this.s3=u}update(n){hx(this),Qo(n=Ov(n));let e=Po(n),t=Math.floor(n.length/Vp),o=n.length%Vp;for(let r=0;r<t;r++)this._updateBlock(e[4*r+0],e[4*r+1],e[4*r+2],e[4*r+3]);return o&&(RF.set(n.subarray(t*Vp)),this._updateBlock(kd[0],kd[1],kd[2],kd[3]),la(kd)),this}destroy(){let{t:n}=this;for(let e of n)e.s0=0,e.s1=0,e.s2=0,e.s3=0}digestInto(n){hx(this),ZK(n,this),this.finished=!0;let{s0:e,s1:t,s2:o,s3:r}=this,s=Po(n);return s[0]=e,s[1]=t,s[2]=o,s[3]=r,n}digest(){let n=new Uint8Array(Vp);return this.digestInto(n),this.destroy(),n}},ZN=class extends fx{constructor(n,e){Qo(n=Ov(n));let t=(function(o){o.reverse();let r=1&o[15],s=0;for(let a=0;a<o.length;a++){let l=o[a];o[a]=l>>>1|s,s=(1&l)<<7}return o[0]^=225&-r,o})(Ha(n));super(t,e),la(t)}update(n){n=Ov(n),hx(this);let e=Po(n),t=n.length%Vp,o=Math.floor(n.length/Vp);for(let r=0;r<o;r++)this._updateBlock(Hl(e[4*r+3]),Hl(e[4*r+2]),Hl(e[4*r+1]),Hl(e[4*r+0]));return t&&(RF.set(n.subarray(o*Vp)),this._updateBlock(Hl(kd[3]),Hl(kd[2]),Hl(kd[1]),Hl(kd[0])),la(kd)),this}digestInto(n){hx(this),ZK(n,this),this.finished=!0;let{s0:e,s1:t,s2:o,s3:r}=this,s=Po(n);return s[0]=e,s[1]=t,s[2]=o,s[3]=r,n.reverse()}};function iq(i){let n=(t,o)=>i(o,t.length).update(Ov(t)).digest(),e=i(new Uint8Array(16),0);return n.outputLen=e.outputLen,n.blockLen=e.blockLen,n.create=(t,o)=>i(t,o),n}var lK=iq((i,n)=>new fx(i,n));iq((i,n)=>new ZN(i,n));var Cl=16,JE=new Uint8Array(Cl);function DF(i){return i<<1^283&-(i>>7)}function M_(i,n){let e=0;for(;n>0;n>>=1)e^=i&-(1&n),i=DF(i);return e}var eF=(()=>{let i=new Uint8Array(256);for(let e=0,t=1;e<256;e++,t^=DF(t))i[e]=t;let n=new Uint8Array(256);n[0]=99;for(let e=0;e<255;e++){let t=i[255-e];t|=t<<8,n[i[e]]=255&(t^t>>4^t>>5^t>>6^t>>7^99)}return la(i),n})(),EAe=eF.map((i,n)=>eF.indexOf(n)),kN=i=>i<<8|i>>>24,cK=i=>i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255;function nq(i,n){if(i.length!==256)throw Error("Wrong sbox length");let e=new Uint32Array(256).map((c,d)=>n(i[d])),t=e.map(kN),o=t.map(kN),r=o.map(kN),s=new Uint32Array(65536),a=new Uint32Array(65536),l=new Uint16Array(65536);for(let c=0;c<256;c++)for(let d=0;d<256;d++){let u=256*c+d;s[u]=e[c]^t[d],a[u]=o[c]^r[d],l[u]=i[c]<<8|i[d]}return{sbox:i,sbox2:l,T0:e,T1:t,T2:o,T3:r,T01:s,T23:a}}var PF=nq(eF,i=>M_(i,3)<<24|i<<16|i<<8|M_(i,2)),oq=nq(EAe,i=>M_(i,11)<<24|M_(i,13)<<16|M_(i,9)<<8|M_(i,14)),xAe=(()=>{let i=new Uint8Array(16);for(let n=0,e=1;n<16;n++,e=DF(e))i[n]=e;return i})();function cm(i){Qo(i);let n=i.length;if(![16,24,32].includes(n))throw Error("aes: invalid key size, should be 16, 24 or 32, got "+n);let{sbox2:e}=PF,t=[];Wl(i)||t.push(i=Ha(i));let o=Po(i),r=o.length,s=c=>Nd(e,c,c,c,c),a=new Uint32Array(n+28);a.set(o);for(let c=r;c<a.length;c++){let d=a[c-1];c%r==0?d=s((l=d)<<24|l>>>8)^xAe[c/r-1]:r>6&&c%r==4&&(d=s(d)),a[c]=a[c-r]^d}var l;return la(...t),a}function AF(i){let n=cm(i),e=n.slice(),t=n.length,{sbox2:o}=PF,{T0:r,T1:s,T2:a,T3:l}=oq;for(let c=0;c<t;c+=4)for(let d=0;d<4;d++)e[c+d]=n[t-c-4+d];la(n);for(let c=4;c<t-4;c++){let d=e[c],u=Nd(o,d,d,d,d);e[c]=r[255&u]^s[u>>>8&255]^a[u>>>16&255]^l[u>>>24]}return e}function gh(i,n,e,t,o,r){return i[e<<8&65280|t>>>8&255]^n[o>>>8&65280|r>>>24&255]}function Nd(i,n,e,t,o){return i[255&n|65280&e]|i[t>>>16&255|o>>>16&65280]<<16}function Fc(i,n,e,t,o){let{sbox2:r,T01:s,T23:a}=PF,l=0;n^=i[l++],e^=i[l++],t^=i[l++],o^=i[l++];let c=i.length/4-2;for(let d=0;d<c;d++){let u=i[l++]^gh(s,a,n,e,t,o),m=i[l++]^gh(s,a,e,t,o,n),g=i[l++]^gh(s,a,t,o,n,e),y=i[l++]^gh(s,a,o,n,e,t);n=u,e=m,t=g,o=y}return{s0:i[l++]^Nd(r,n,e,t,o),s1:i[l++]^Nd(r,e,t,o,n),s2:i[l++]^Nd(r,t,o,n,e),s3:i[l++]^Nd(r,o,n,e,t)}}function Hx(i,n,e,t,o){let{sbox2:r,T01:s,T23:a}=oq,l=0;n^=i[l++],e^=i[l++],t^=i[l++],o^=i[l++];let c=i.length/4-2;for(let d=0;d<c;d++){let u=i[l++]^gh(s,a,n,o,t,e),m=i[l++]^gh(s,a,e,n,o,t),g=i[l++]^gh(s,a,t,e,n,o),y=i[l++]^gh(s,a,o,t,e,n);n=u,e=m,t=g,o=y}return{s0:i[l++]^Nd(r,n,o,t,e),s1:i[l++]^Nd(r,e,n,o,t),s2:i[l++]^Nd(r,t,e,n,o),s3:i[l++]^Nd(r,o,t,e,n)}}function rq(i,n,e,t){Qo(n,Cl),Qo(e);let o=e.length;YN(e,t=Rv(o,t));let r=n,s=Po(r),{s0:a,s1:l,s2:c,s3:d}=Fc(i,s[0],s[1],s[2],s[3]),u=Po(e),m=Po(t);for(let y=0;y+4<=u.length;y+=4){m[y+0]=u[y+0]^a,m[y+1]=u[y+1]^l,m[y+2]=u[y+2]^c,m[y+3]=u[y+3]^d;let v=1;for(let S=r.length-1;S>=0;S--)v=v+(255&r[S])|0,r[S]=255&v,v>>>=8;({s0:a,s1:l,s2:c,s3:d}=Fc(i,s[0],s[1],s[2],s[3]))}let g=Cl*Math.floor(u.length/4);if(g<o){let y=new Uint32Array([a,l,c,d]),v=OF(y);for(let S=g,I=0;S<o;S++,I++)t[S]=e[S]^v[I];la(y)}return t}function vv(i,n,e,t,o){Qo(e,Cl),Qo(t),o=Rv(t.length,o);let r=e,s=Po(r),a=Gx(r),l=Po(t),c=Po(o),d=n?0:12,u=t.length,m=a.getUint32(d,n),{s0:g,s1:y,s2:v,s3:S}=Fc(i,s[0],s[1],s[2],s[3]);for(let P=0;P+4<=l.length;P+=4)c[P+0]=l[P+0]^g,c[P+1]=l[P+1]^y,c[P+2]=l[P+2]^v,c[P+3]=l[P+3]^S,m=m+1>>>0,a.setUint32(d,m,n),{s0:g,s1:y,s2:v,s3:S}=Fc(i,s[0],s[1],s[2],s[3]);let I=Cl*Math.floor(l.length/4);if(I<u){let P=new Uint32Array([g,y,v,S]),L=OF(P);for(let F=I,K=0;F<u;F++,K++)o[F]=t[F]^L[K];la(P)}return o}var TAe=Hv({blockSize:16,nonceLength:16},function(i,n){function e(t,o){if(Qo(t),o!==void 0&&(Qo(o),!Wl(o)))throw Error("unaligned destination");let r=cm(i),s=Ha(n),a=[r,s];Wl(t)||a.push(t=Ha(t));let l=rq(r,s,t,o);return la(...a),l}return{encrypt:(t,o)=>e(t,o),decrypt:(t,o)=>e(t,o)}}),tF=Hv({blockSize:16,nonceLength:16},function(i,n,e={}){let t=!e.disablePadding;return{encrypt(o,r){let s=cm(i),{b:a,o:l,out:c}=(function(P,L,F){Qo(P);let K=P.length,le=K%Cl;if(!L&&le!==0)throw Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");Wl(P)||(P=Ha(P));let me=Po(P);if(L){let fe=Cl-le;fe||(fe=Cl),K+=fe}return YN(P,F=Rv(K,F)),{b:me,o:Po(F),out:F}})(o,t,r),d=n,u=[s];Wl(d)||u.push(d=Ha(d));let m=Po(d),g=m[0],y=m[1],v=m[2],S=m[3],I=0;for(;I+4<=a.length;)g^=a[I+0],y^=a[I+1],v^=a[I+2],S^=a[I+3],{s0:g,s1:y,s2:v,s3:S}=Fc(s,g,y,v,S),l[I++]=g,l[I++]=y,l[I++]=v,l[I++]=S;if(t){let P=(function(L){let F=new Uint8Array(16),K=Po(F);F.set(L);let le=Cl-L.length;for(let me=Cl-le;me<Cl;me++)F[me]=le;return K})(o.subarray(4*I));g^=P[0],y^=P[1],v^=P[2],S^=P[3],{s0:g,s1:y,s2:v,s3:S}=Fc(s,g,y,v,S),l[I++]=g,l[I++]=y,l[I++]=v,l[I++]=S}return la(...u),c},decrypt(o,r){(function(S){if(Qo(S),S.length%Cl!=0)throw Error("aes-(cbc/ecb).decrypt ciphertext should consist of blocks with size 16")})(o);let s=AF(i),a=n,l=[s];Wl(a)||l.push(a=Ha(a));let c=Po(a);r=Rv(o.length,r),Wl(o)||l.push(o=Ha(o)),YN(o,r);let d=Po(o),u=Po(r),m=c[0],g=c[1],y=c[2],v=c[3];for(let S=0;S+4<=d.length;){let I=m,P=g,L=y,F=v;m=d[S+0],g=d[S+1],y=d[S+2],v=d[S+3];let{s0:K,s1:le,s2:me,s3:fe}=Hx(s,m,g,y,v);u[S++]=K^I,u[S++]=le^P,u[S++]=me^L,u[S++]=fe^F}return la(...l),(function(S,I){if(!I)return S;let P=S.length;if(!P)throw Error("aes/pcks5: empty ciphertext not allowed");let L=S[P-1];if(L<=0||L>16)throw Error("aes/pcks5: wrong padding");let F=S.subarray(0,-L);for(let K=0;K<L;K++)if(S[P-K-1]!==L)throw Error("aes/pcks5: wrong padding");return F})(r,t)}}}),sq=Hv({blockSize:16,nonceLength:16},function(i,n){function e(t,o,r){Qo(t);let s=t.length;if(eq(t,r=Rv(s,r)))throw Error("overlapping src and dst not supported.");let a=cm(i),l=n,c=[a];Wl(l)||c.push(l=Ha(l)),Wl(t)||c.push(t=Ha(t));let d=Po(t),u=Po(r),m=o?u:d,g=Po(l),y=g[0],v=g[1],S=g[2],I=g[3];for(let L=0;L+4<=d.length;){let{s0:F,s1:K,s2:le,s3:me}=Fc(a,y,v,S,I);u[L+0]=d[L+0]^F,u[L+1]=d[L+1]^K,u[L+2]=d[L+2]^le,u[L+3]=d[L+3]^me,y=m[L++],v=m[L++],S=m[L++],I=m[L++]}let P=Cl*Math.floor(d.length/4);if(P<s){({s0:y,s1:v,s2:S,s3:I}=Fc(a,y,v,S,I));let L=OF(new Uint32Array([y,v,S,I]));for(let F=P,K=0;F<s;F++,K++)r[F]=t[F]^L[K];la(L)}return la(...c),r}return{encrypt:(t,o)=>e(t,!0,o),decrypt:(t,o)=>e(t,!1,o)}});function OAe(i,n,e,t,o){let r=o?o.length:0,s=i.create(e,t.length+r);o&&s.update(o);let a=(function(c,d,u){let m=new Uint8Array(16),g=Gx(m);return XN(g,0,BigInt(d),u),XN(g,8,BigInt(c),u),m})(8*t.length,8*r,n);s.update(t),s.update(a);let l=s.digest();return la(a),l}var QE=Hv({blockSize:16,nonceLength:12,tagLength:16,varSizeNonce:!0},function(i,n,e){if(n.length<8)throw Error("aes/gcm: invalid nonce length");function t(r,s,a){let l=OAe(lK,!1,r,a,e);for(let c=0;c<s.length;c++)l[c]^=s[c];return l}function o(){let r=cm(i),s=JE.slice(),a=JE.slice();if(vv(r,!1,a,a,s),n.length===12)a.set(n);else{let l=JE.slice();XN(Gx(l),8,BigInt(8*n.length),!1);let c=lK.create(s).update(n).update(l);c.digestInto(a),c.destroy()}return{xk:r,authKey:s,counter:a,tagMask:vv(r,!1,a,JE)}}return{encrypt(r){let{xk:s,authKey:a,counter:l,tagMask:c}=o(),d=new Uint8Array(r.length+16),u=[s,a,l,c];Wl(r)||u.push(r=Ha(r)),vv(s,!1,l,r,d.subarray(0,r.length));let m=t(a,c,d.subarray(0,d.length-16));return u.push(m),d.set(m,r.length),la(...u),d},decrypt(r){let{xk:s,authKey:a,counter:l,tagMask:c}=o(),d=[s,a,c,l];Wl(r)||d.push(r=Ha(r));let u=r.subarray(0,-16),m=r.subarray(-16),g=t(a,c,u);if(d.push(g),!tq(g,m))throw Error("aes/gcm: invalid ghash tag");let y=vv(s,!1,l,u);return la(...d),y}}});function aq(i){return i instanceof Uint32Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint32Array"}function lq(i,n){if(Qo(n,16),!aq(i))throw Error("_encryptBlock accepts result of expandKeyLE");let e=Po(n),{s0:t,s1:o,s2:r,s3:s}=Fc(i,e[0],e[1],e[2],e[3]);return e[0]=t,e[1]=o,e[2]=r,e[3]=s,n}function cq(i,n){if(Qo(n,16),!aq(i))throw Error("_decryptBlock accepts result of expandKeyLE");let e=Po(n),{s0:t,s1:o,s2:r,s3:s}=Hx(i,e[0],e[1],e[2],e[3]);return e[0]=t,e[1]=o,e[2]=r,e[3]=s,n}var dK={encrypt(i,n){if(n.length>=2**32)throw Error("plaintext should be less than 4gb");let e=cm(i);if(n.length===16)lq(e,n);else{let t=Po(n),o=t[0],r=t[1];for(let s=0,a=1;s<6;s++)for(let l=2;l<t.length;l+=2,a++){let{s0:c,s1:d,s2:u,s3:m}=Fc(e,o,r,t[l],t[l+1]);o=c,r=d^cK(a),t[l]=u,t[l+1]=m}t[0]=o,t[1]=r}e.fill(0)},decrypt(i,n){if(n.length-8>=2**32)throw Error("ciphertext should be less than 4gb");let e=AF(i),t=n.length/8-1;if(t===1)cq(e,n);else{let o=Po(n),r=o[0],s=o[1];for(let a=0,l=6*t;a<6;a++)for(let c=2*t;c>=1;c-=2,l--){s^=cK(l);let{s0:d,s1:u,s2:m,s3:g}=Hx(e,r,s,o[c],o[c+1]);r=d,s=u,o[c]=m,o[c+1]=g}o[0]=r,o[1]=s}e.fill(0)}},pK=new Uint8Array(8).fill(166),dq=Hv({blockSize:8},i=>({encrypt(n){if(!n.length||n.length%8!=0)throw Error("invalid plaintext length");if(n.length===8)throw Error("8-byte keys not allowed in AESKW, use AESKWP instead");let e=(function(...t){let o=0;for(let s=0;s<t.length;s++){let a=t[s];Qo(a),o+=a.length}let r=new Uint8Array(o);for(let s=0,a=0;s<t.length;s++){let l=t[s];r.set(l,a),a+=l.length}return r})(pK,n);return dK.encrypt(i,e),e},decrypt(n){if(n.length%8!=0||n.length<24)throw Error("invalid ciphertext length");let e=Ha(n);if(dK.decrypt(i,e),!tq(e.subarray(0,8),pK))throw Error("integrity check failed");return e.subarray(0,8).fill(0),e.subarray(8)}})),uK={expandKeyLE:cm,expandKeyDecLE:AF,encrypt:Fc,decrypt:Hx,encryptBlock:lq,decryptBlock:cq,ctrCounter:rq,ctr32:vv};function pq(i){return V(this,null,function*(){switch(i){case T.symmetric.aes128:case T.symmetric.aes192:case T.symmetric.aes256:throw Error("Not a legacy cipher");case T.symmetric.cast5:case T.symmetric.blowfish:case T.symmetric.twofish:case T.symmetric.tripledes:{let{legacyCiphers:n}=yield import("./chunk-PGVAUWUU.js"),e=T.read(T.symmetric,i),t=n.get(e);if(!t)throw Error("Unsupported cipher algorithm");return t}default:throw Error("Unsupported cipher algorithm")}})}function RAe(i){switch(i){case T.symmetric.aes128:case T.symmetric.aes192:case T.symmetric.aes256:case T.symmetric.twofish:return 16;case T.symmetric.blowfish:case T.symmetric.cast5:case T.symmetric.tripledes:return 8;default:throw Error("Unsupported cipher")}}function DAe(i){switch(i){case T.symmetric.aes128:case T.symmetric.blowfish:case T.symmetric.cast5:return 16;case T.symmetric.aes192:case T.symmetric.tripledes:return 24;case T.symmetric.aes256:case T.symmetric.twofish:return 32;default:throw Error("Unsupported cipher")}}function yo(i){return{keySize:DAe(i),blockSize:RAe(i)}}var H_=q.getWebCrypto();function iF(i,n,e){return V(this,null,function*(){let{keySize:t}=yo(i);if(!q.isAES(i)||n.length!==t)throw Error("Unexpected algorithm or key size");try{let o=yield H_.importKey("raw",n,{name:"AES-KW"},!1,["wrapKey"]),r=yield H_.importKey("raw",e,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),s=yield H_.wrapKey("raw",r,o,{name:"AES-KW"});return new Uint8Array(s)}catch(o){if(o.name!=="NotSupportedError"&&(n.length!==24||o.name!=="OperationError"))throw o;q.printDebugError("Browser did not support operation: "+o.message)}return dq(n).encrypt(e)})}function nF(i,n,e){return V(this,null,function*(){let{keySize:t}=yo(i);if(!q.isAES(i)||n.length!==t)throw Error("Unexpected algorithm or key size");let o;try{o=yield H_.importKey("raw",n,{name:"AES-KW"},!1,["unwrapKey"])}catch(r){if(r.name!=="NotSupportedError"&&(n.length!==24||r.name!=="OperationError"))throw r;return q.printDebugError("Browser did not support operation: "+r.message),dq(n).decrypt(e)}try{let r=yield H_.unwrapKey("raw",e,o,{name:"AES-KW"},{name:"HMAC",hash:"SHA-256"},!0,["sign"]);return new Uint8Array(yield H_.exportKey("raw",r))}catch(r){throw r.name==="OperationError"?Error("Key Data Integrity failed"):r}})}function yh(i,n,e,t,o){return V(this,null,function*(){let r=q.getWebCrypto(),s=T.read(T.webHash,i);if(!s)throw Error("Hash algo not supported with HKDF");let a=yield r.importKey("raw",n,"HKDF",!1,["deriveBits"]),l=yield r.deriveBits({name:"HKDF",hash:s,salt:e,info:t},a,8*o);return new Uint8Array(l)})}var mx={x25519:q.encodeUTF8("OpenPGP X25519"),x448:q.encodeUTF8("OpenPGP X448")};function kF(i){return V(this,null,function*(){switch(i){case T.publicKey.x25519:try{let n=q.getWebCrypto(),e=yield n.generateKey("X25519",!0,["deriveKey","deriveBits"]).catch(r=>{if(r.name==="OperationError"){let s=Error("Unexpected key generation issue");throw s.name="NotSupportedError",s}throw r}),t=yield n.exportKey("jwk",e.privateKey),o=yield n.exportKey("jwk",e.publicKey);if(t.x!==o.x){let r=Error("Unexpected mismatching public point");throw r.name="NotSupportedError",r}return{A:new Uint8Array(Ga(o.x)),k:Ga(t.d)}}catch(n){if(n.name!=="NotSupportedError")throw n;let{default:e}=yield import("./chunk-R6YRACQI.js"),{secretKey:t,publicKey:o}=e.box.keyPair();return{A:o,k:t}}case T.publicKey.x448:{let n=yield q.getNobleCurve(T.publicKey.x448),{secretKey:e,publicKey:t}=n.keygen();return{A:t,k:e}}default:throw Error("Unsupported ECDH algorithm")}})}function NF(i,n,e){return V(this,null,function*(){switch(i){case T.publicKey.x25519:try{let{ephemeralPublicKey:t,sharedSecret:o}=yield Wx(i,n),r=yield $x(i,t,n,e);return q.equalsUint8Array(o,r)}catch{return!1}case T.publicKey.x448:{let t=(yield q.getNobleCurve(T.publicKey.x448)).getPublicKey(e);return q.equalsUint8Array(n,t)}default:return!1}})}function uq(i,n,e){return V(this,null,function*(){let{ephemeralPublicKey:t,sharedSecret:o}=yield Wx(i,e),r=q.concatUint8Array([t,e,o]);switch(i){case T.publicKey.x25519:{let s=T.symmetric.aes128,{keySize:a}=yo(s),l=yield yh(T.hash.sha256,r,new Uint8Array,mx.x25519,a);return{ephemeralPublicKey:t,wrappedKey:yield iF(s,l,n)}}case T.publicKey.x448:{let s=T.symmetric.aes256,{keySize:a}=yo(T.symmetric.aes256),l=yield yh(T.hash.sha512,r,new Uint8Array,mx.x448,a);return{ephemeralPublicKey:t,wrappedKey:yield iF(s,l,n)}}default:throw Error("Unsupported ECDH algorithm")}})}function hq(i,n,e,t,o){return V(this,null,function*(){let r=yield $x(i,n,t,o),s=q.concatUint8Array([n,t,r]);switch(i){case T.publicKey.x25519:{let a=T.symmetric.aes128,{keySize:l}=yo(a);return nF(a,yield yh(T.hash.sha256,s,new Uint8Array,mx.x25519,l),e)}case T.publicKey.x448:{let a=T.symmetric.aes256,{keySize:l}=yo(T.symmetric.aes256);return nF(a,yield yh(T.hash.sha512,s,new Uint8Array,mx.x448,l),e)}default:throw Error("Unsupported ECDH algorithm")}})}function zx(i){switch(i){case T.publicKey.x25519:return 32;case T.publicKey.x448:return 56;default:throw Error("Unsupported ECDH algorithm")}}function Wx(i,n){return V(this,null,function*(){switch(i){case T.publicKey.x25519:try{let e=q.getWebCrypto(),t=yield e.generateKey("X25519",!0,["deriveKey","deriveBits"]).catch(l=>{if(l.name==="OperationError"){let c=Error("Unexpected key generation issue");throw c.name="NotSupportedError",c}throw l}),o=yield e.exportKey("jwk",t.publicKey);if((yield e.exportKey("jwk",t.privateKey)).x!==o.x){let l=Error("Unexpected mismatching public point");throw l.name="NotSupportedError",l}let r=oF(i,n),s=yield e.importKey("jwk",r,"X25519",!1,[]),a=yield e.deriveBits({name:"X25519",public:s},t.privateKey,8*zx(i));return{sharedSecret:new Uint8Array(a),ephemeralPublicKey:new Uint8Array(Ga(o.x))}}catch(e){if(e.name!=="NotSupportedError")throw e;let{default:t}=yield import("./chunk-R6YRACQI.js"),{secretKey:o,publicKey:r}=t.box.keyPair(),s=t.scalarMult(o,n);return gx(s),{ephemeralPublicKey:r,sharedSecret:s}}case T.publicKey.x448:{let e=yield q.getNobleCurve(T.publicKey.x448),{secretKey:t,publicKey:o}=e.keygen(),r=e.getSharedSecret(t,n);return gx(r),{ephemeralPublicKey:o,sharedSecret:r}}default:throw Error("Unsupported ECDH algorithm")}})}function $x(i,n,e,t){return V(this,null,function*(){switch(i){case T.publicKey.x25519:try{let o=q.getWebCrypto(),r=(function(d,u,m){if(d===T.publicKey.x25519){let g=oF(d,u);return g.d=Ls(m),g}throw Error("Unsupported ECDH algorithm")})(i,e,t),s=oF(i,n),a=yield o.importKey("jwk",r,"X25519",!1,["deriveKey","deriveBits"]),l=yield o.importKey("jwk",s,"X25519",!1,[]),c=yield o.deriveBits({name:"X25519",public:l},a,8*zx(i));return new Uint8Array(c)}catch(o){if(o.name!=="NotSupportedError")throw o;let{default:r}=yield import("./chunk-R6YRACQI.js"),s=r.scalarMult(t,n);return gx(s),s}case T.publicKey.x448:{let o=(yield q.getNobleCurve(T.publicKey.x448)).getSharedSecret(t,n);return gx(o),o}default:throw Error("Unsupported ECDH algorithm")}})}function gx(i){let n=0;for(let e=0;e<i.length;e++)n|=i[e];if(n===0)throw Error("Unexpected low order point")}function oF(i,n){if(i===T.publicKey.x25519)return{kty:"OKP",crv:"X25519",x:Ls(n),ext:!0};throw Error("Unsupported ECDH algorithm")}var PAe=Object.freeze({__proto__:null,decrypt:hq,encrypt:uq,generate:kF,generateEphemeralEncryptionMaterial:Wx,getPayloadSize:zx,recomputeSharedSecret:$x,validateParams:NF}),NN=q.getWebCrypto(),_x=q.getNodeCrypto(),Ld={[T.curve.nistP256]:"P-256",[T.curve.nistP384]:"P-384",[T.curve.nistP521]:"P-521"},Lp=_x?_x.getCurves():[],Ad=_x?{[T.curve.secp256k1]:Lp.includes("secp256k1")?"secp256k1":void 0,[T.curve.nistP256]:Lp.includes("prime256v1")?"prime256v1":void 0,[T.curve.nistP384]:Lp.includes("secp384r1")?"secp384r1":void 0,[T.curve.nistP521]:Lp.includes("secp521r1")?"secp521r1":void 0,[T.curve.ed25519Legacy]:Lp.includes("ED25519")?"ED25519":void 0,[T.curve.curve25519Legacy]:Lp.includes("X25519")?"X25519":void 0,[T.curve.brainpoolP256r1]:Lp.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,[T.curve.brainpoolP384r1]:Lp.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,[T.curve.brainpoolP512r1]:Lp.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},fq={[T.curve.nistP256]:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:T.publicKey.ecdsa,hash:T.hash.sha256,cipher:T.symmetric.aes128,node:Ad[T.curve.nistP256],web:Ld[T.curve.nistP256],payloadSize:32,sharedSize:256,wireFormatLeadingByte:4},[T.curve.nistP384]:{oid:[6,5,43,129,4,0,34],keyType:T.publicKey.ecdsa,hash:T.hash.sha384,cipher:T.symmetric.aes192,node:Ad[T.curve.nistP384],web:Ld[T.curve.nistP384],payloadSize:48,sharedSize:384,wireFormatLeadingByte:4},[T.curve.nistP521]:{oid:[6,5,43,129,4,0,35],keyType:T.publicKey.ecdsa,hash:T.hash.sha512,cipher:T.symmetric.aes256,node:Ad[T.curve.nistP521],web:Ld[T.curve.nistP521],payloadSize:66,sharedSize:528,wireFormatLeadingByte:4},[T.curve.secp256k1]:{oid:[6,5,43,129,4,0,10],keyType:T.publicKey.ecdsa,hash:T.hash.sha256,cipher:T.symmetric.aes128,node:Ad[T.curve.secp256k1],payloadSize:32,wireFormatLeadingByte:4},[T.curve.ed25519Legacy]:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:T.publicKey.eddsaLegacy,hash:T.hash.sha512,node:!1,payloadSize:32,wireFormatLeadingByte:64},[T.curve.curve25519Legacy]:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:T.publicKey.ecdh,hash:T.hash.sha256,cipher:T.symmetric.aes128,node:!1,payloadSize:32,wireFormatLeadingByte:64},[T.curve.brainpoolP256r1]:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:T.publicKey.ecdsa,hash:T.hash.sha256,cipher:T.symmetric.aes128,node:Ad[T.curve.brainpoolP256r1],payloadSize:32,wireFormatLeadingByte:4},[T.curve.brainpoolP384r1]:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:T.publicKey.ecdsa,hash:T.hash.sha384,cipher:T.symmetric.aes192,node:Ad[T.curve.brainpoolP384r1],payloadSize:48,wireFormatLeadingByte:4},[T.curve.brainpoolP512r1]:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:T.publicKey.ecdsa,hash:T.hash.sha512,cipher:T.symmetric.aes256,node:Ad[T.curve.brainpoolP512r1],payloadSize:64,wireFormatLeadingByte:4}},$a=class{constructor(n){try{this.name=n instanceof jp?n.getName():T.write(T.curve,n)}catch{throw new Jn("Unknown curve")}let e=fq[this.name];this.keyType=e.keyType,this.oid=e.oid,this.hash=e.hash,this.cipher=e.cipher,this.node=e.node,this.web=e.web,this.payloadSize=e.payloadSize,this.sharedSize=e.sharedSize,this.wireFormatLeadingByte=e.wireFormatLeadingByte,this.web&&q.getWebCrypto()?this.type="web":this.node&&q.getNodeCrypto()?this.type="node":this.name===T.curve.curve25519Legacy?this.type="curve25519Legacy":this.name===T.curve.ed25519Legacy&&(this.type="ed25519Legacy")}genKeyPair(){return V(this,null,function*(){switch(this.type){case"web":try{return yield(function(n,e){return V(this,null,function*(){let t=yield NN.generateKey({name:"ECDSA",namedCurve:Ld[n]},!0,["sign","verify"]),o=yield NN.exportKey("jwk",t.privateKey);return{publicKey:_q(yield NN.exportKey("jwk",t.publicKey),e),privateKey:Ga(o.d)}})})(this.name,this.wireFormatLeadingByte)}catch(n){return q.printDebugError("Browser did not support generating ec key "+n.message),hK(this.name)}case"node":return(function(n){let e=_x.createECDH(Ad[n]);return e.generateKeys(),{publicKey:new Uint8Array(e.getPublicKey()),privateKey:new Uint8Array(e.getPrivateKey())}})(this.name);case"curve25519Legacy":{let{k:n,A:e}=yield kF(T.publicKey.x25519),t=n.slice().reverse();return t[0]=127&t[0]|64,t[31]&=248,{publicKey:q.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),e]),privateKey:t}}case"ed25519Legacy":{let{seed:n,A:e}=yield SF(T.publicKey.ed25519);return{publicKey:q.concatUint8Array([new Uint8Array([this.wireFormatLeadingByte]),e]),privateKey:n}}default:return hK(this.name)}})}};function tx(i){return V(this,null,function*(){let n=new $a(i),{oid:e,hash:t,cipher:o}=n,r=yield n.genKeyPair();return{oid:e,Q:r.publicKey,secret:q.leftPad(r.privateKey,n.payloadSize),hash:t,cipher:o}})}function mq(i){return fq[i.getName()].hash}function gq(i,n,e,t){return V(this,null,function*(){let o={[T.curve.nistP256]:!0,[T.curve.nistP384]:!0,[T.curve.nistP521]:!0,[T.curve.secp256k1]:!0,[T.curve.curve25519Legacy]:i===T.publicKey.ecdh,[T.curve.brainpoolP256r1]:!0,[T.curve.brainpoolP384r1]:!0,[T.curve.brainpoolP512r1]:!0},r=n.getName();if(!o[r])return!1;if(r===T.curve.curve25519Legacy){let a=t.slice().reverse();return!(e.length<1||e[0]!==64)&&NF(T.publicKey.x25519,e.subarray(1),a)}let s=(yield q.getNobleCurve(T.publicKey.ecdsa,r)).getPublicKey(t,!1);return!!q.equalsUint8Array(s,e)})}function sm(i,n){let{payloadSize:e,wireFormatLeadingByte:t,name:o}=i,r=o===T.curve.curve25519Legacy||o===T.curve.ed25519Legacy?e:2*e;if(n[0]!==t||n.length!==r+1)throw Error("Invalid point encoding")}function hK(i){return V(this,null,function*(){let n=yield q.getNobleCurve(T.publicKey.ecdsa,i),{secretKey:e}=n.keygen();return{publicKey:n.getPublicKey(e,!1),privateKey:e}})}function _q(i,n){let e=Ga(i.x),t=Ga(i.y),o=new Uint8Array(e.length+t.length+1);return o[0]=n,o.set(e,1),o.set(t,e.length+1),o}function Kx(i,n,e){let t=i,o=e.slice(1,t+1),r=e.slice(t+1,2*t+1);return{kty:"EC",crv:n,x:Ls(o),y:Ls(r),ext:!0}}function bq(i,n,e,t){let o=Kx(i,n,e);return o.d=Ls(t),o}var bx=q.getWebCrypto(),yq=q.getNodeCrypto();function rF(i,n,e,t,o,r){return V(this,null,function*(){let s=new $a(i);if(sm(s,t),e&&!q.isStream(e)){let l={publicKey:t,privateKey:o};switch(s.type){case"web":try{return yield(function(c,d,u,m){return V(this,null,function*(){let g=c.payloadSize,y=bq(c.payloadSize,Ld[c.name],m.publicKey,m.privateKey),v=yield bx.importKey("jwk",y,{name:"ECDSA",namedCurve:Ld[c.name],hash:{name:T.read(T.webHash,c.hash)}},!1,["sign"]),S=new Uint8Array(yield bx.sign({name:"ECDSA",namedCurve:Ld[c.name],hash:{name:T.read(T.webHash,d)}},v,u));return{r:S.slice(0,g),s:S.slice(g,g<<1)}})})(s,n,e,l)}catch(c){if(s.name!=="nistP521"&&(c.name==="DataError"||c.name==="OperationError"))throw c;q.printDebugError("Browser did not support signing: "+c.message)}break;case"node":return(function(c,d,u,m){let g=q.nodeRequire("eckey-utils"),y=q.getNodeBuffer(),{privateKey:v}=g.generateDer({curveName:Ad[c.name],privateKey:y.from(m)}),S=yq.createSign(T.read(T.hash,d));S.write(u),S.end();let I=new Uint8Array(S.sign({key:v,format:"der",type:"sec1",dsaEncoding:"ieee-p1363"})),P=c.payloadSize;return{r:I.subarray(0,P),s:I.subarray(P,P<<1)}})(s,n,e,o)}}let a=(yield q.getNobleCurve(T.publicKey.ecdsa,s.name)).sign(r,o,{lowS:!1});return{r:Or(a.r,"be",s.payloadSize),s:Or(a.s,"be",s.payloadSize)}})}function sF(i,n,e,t,o,r){return V(this,null,function*(){let s=new $a(i);sm(s,o);let a=()=>V(null,null,function*(){return r[0]===0&&fK(s,e,r.subarray(1),o)});if(t&&!q.isStream(t))switch(s.type){case"web":try{return(yield(function(v,S,I,P,L){return V(this,arguments,function*(c,d,{r:u,s:m},g,y){let F=Kx(c.payloadSize,Ld[c.name],y),K=yield bx.importKey("jwk",F,{name:"ECDSA",namedCurve:Ld[c.name],hash:{name:T.read(T.webHash,c.hash)}},!1,["verify"]),le=q.concatUint8Array([u,m]).buffer;return bx.verify({name:"ECDSA",namedCurve:Ld[c.name],hash:{name:T.read(T.webHash,d)}},K,le,g)})})(s,n,e,t,o))||a()}catch(l){if(s.name!=="nistP521"&&(l.name==="DataError"||l.name==="OperationError"))throw l;q.printDebugError("Browser did not support verifying: "+l.message)}break;case"node":return(function(c,d,{r:u,s:m},g,y){let v=q.nodeRequire("eckey-utils"),S=q.getNodeBuffer(),{publicKey:I}=v.generateDer({curveName:Ad[c.name],publicKey:S.from(y)}),P=yq.createVerify(T.read(T.hash,d));P.write(g),P.end();let L=q.concatUint8Array([u,m]);try{return P.verify({key:I,format:"der",type:"spki",dsaEncoding:"ieee-p1363"},L)}catch{return!1}})(s,n,e,t,o)||a()}return(yield fK(s,e,r,o))||a()})}function fK(i,n,e,t){return V(this,null,function*(){return(yield q.getNobleCurve(T.publicKey.ecdsa,i.name)).verify(q.concatUint8Array([n.r,n.s]),e,t,{lowS:!1})})}var AAe=Object.freeze({__proto__:null,sign:rF,validateParams:function(i,n,e){return V(this,null,function*(){let t=new $a(i);if(t.keyType!==T.publicKey.ecdsa)return!1;switch(t.type){case"web":case"node":{let o=Bs(8),r=T.hash.sha256,s=yield Vd(r,o);try{let a=yield rF(i,r,o,n,e,s);return yield sF(i,r,a,o,n,s)}catch{return!1}}default:return gq(T.publicKey.ecdsa,i,n,e)}})},verify:sF});function vq(i,n,e,t,o,r){return V(this,null,function*(){if(sm(new $a(i),t),ds(n)<ds(T.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let{RS:s}=yield IF(T.publicKey.ed25519,n,0,t.subarray(1),o,r);return{r:s.subarray(0,32),s:s.subarray(32)}})}function wq(a,l,c,d,u,m){return V(this,arguments,function*(i,n,{r:e,s:t},o,r,s){if(sm(new $a(i),r),ds(n)<ds(T.hash.sha256))throw Error("Hash algorithm too weak for EdDSA.");let g=q.concatUint8Array([e,t]);return EF(T.publicKey.ed25519,n,{RS:g},0,r.subarray(1),s)})}function Cq(i,n,e){return V(this,null,function*(){return i.getName()===T.curve.ed25519Legacy&&!(n.length<1||n[0]!==64)&&xF(T.publicKey.ed25519,n.subarray(1),e)})}var kAe=Object.freeze({__proto__:null,sign:vq,validateParams:Cq,verify:wq});function NAe(i){let n=i.length;if(n>0){let e=i[n-1];if(e>=1){let t=i.subarray(n-e),o=new Uint8Array(e).fill(e);if(q.equalsUint8Array(t,o))return i.subarray(0,n-e)}}throw Error("Invalid padding")}function Sq(i,n,e,t){return q.concatUint8Array([n.write(),new Uint8Array([i]),e.write(),q.stringToUint8Array("Anonymous Sender    "),t])}function Iq(i,n,e,t,o=!1,r=!1){return V(this,null,function*(){let s;if(o){for(s=0;s<n.length&&n[s]===0;s++);n=n.subarray(s)}if(r){for(s=n.length-1;s>=0&&n[s]===0;s--);n=n.subarray(0,s+1)}return(yield Vd(i,q.concatUint8Array([new Uint8Array([0,0,0,1]),n,t]))).subarray(0,e)})}function FAe(i,n){return V(this,null,function*(){switch(i.type){case"curve25519Legacy":{let{sharedSecret:e,ephemeralPublicKey:t}=yield Wx(T.publicKey.x25519,n.subarray(1));return{publicKey:q.concatUint8Array([new Uint8Array([i.wireFormatLeadingByte]),t]),sharedKey:e}}case"web":if(i.web&&q.getWebCrypto())try{return yield(function(e,t){return V(this,null,function*(){let o=q.getWebCrypto(),r=Kx(e.payloadSize,e.web,t),s=o.generateKey({name:"ECDH",namedCurve:e.web},!0,["deriveKey","deriveBits"]),a=o.importKey("jwk",r,{name:"ECDH",namedCurve:e.web},!1,[]);[s,a]=yield Promise.all([s,a]);let l=o.deriveBits({name:"ECDH",namedCurve:e.web,public:a},s.privateKey,e.sharedSize),c=o.exportKey("jwk",s.publicKey);[l,c]=yield Promise.all([l,c]);let d=new Uint8Array(l);return{publicKey:new Uint8Array(_q(c,e.wireFormatLeadingByte)),sharedKey:d}})})(i,n)}catch(e){return q.printDebugError(e),gK(i,n)}break;case"node":return(function(e,t){let o=q.getNodeCrypto(),r=o.createECDH(e.node);r.generateKeys();let s=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:s}})(i,n);default:return gK(i,n)}})}function Eq(i,n,e,t,o){return V(this,null,function*(){let r=(function(m){let g=8-m.length%8,y=new Uint8Array(m.length+g).fill(g);return y.set(m),y})(e),s=new $a(i);sm(s,t);let{publicKey:a,sharedKey:l}=yield FAe(s,t),c=Sq(T.publicKey.ecdh,i,n,o),{keySize:d}=yo(n.cipher),u=yield Iq(n.hash,l,d,c);return{publicKey:a,wrappedKey:yield iF(n.cipher,u,r)}})}function LAe(i,n,e,t){return V(this,null,function*(){if(t.length!==i.payloadSize){let o=new Uint8Array(i.payloadSize);o.set(t,i.payloadSize-t.length),t=o}switch(i.type){case"curve25519Legacy":{let o=t.slice().reverse();return{secretKey:o,sharedKey:yield $x(T.publicKey.x25519,n.subarray(1),e.subarray(1),o)}}case"web":if(i.web&&q.getWebCrypto())try{return yield(function(o,r,s,a){return V(this,null,function*(){let l=q.getWebCrypto(),c=bq(o.payloadSize,o.web,s,a),d=l.importKey("jwk",c,{name:"ECDH",namedCurve:o.web},!0,["deriveKey","deriveBits"]),u=Kx(o.payloadSize,o.web,r),m=l.importKey("jwk",u,{name:"ECDH",namedCurve:o.web},!0,[]);[d,m]=yield Promise.all([d,m]);let g=l.deriveBits({name:"ECDH",namedCurve:o.web,public:m},d,o.sharedSize),y=l.exportKey("jwk",d);[g,y]=yield Promise.all([g,y]);let v=new Uint8Array(g);return{secretKey:Ga(y.d),sharedKey:v}})})(i,n,e,t)}catch(o){return q.printDebugError(o),mK(i,n,t)}break;case"node":return(function(o,r,s){let a=q.getNodeCrypto(),l=a.createECDH(o.node);l.setPrivateKey(s);let c=new Uint8Array(l.computeSecret(r));return{secretKey:new Uint8Array(l.getPrivateKey()),sharedKey:c}})(i,n,t);default:return mK(i,n,t)}})}function xq(i,n,e,t,o,r,s){return V(this,null,function*(){let a=new $a(i);sm(a,o),sm(a,e);let{sharedKey:l}=yield LAe(a,e,o,r),c=Sq(T.publicKey.ecdh,i,n,s),{keySize:d}=yo(n.cipher),u;for(let m=0;m<3;m++)try{let g=yield Iq(n.hash,l,d,c,m===1,m===2);return NAe(yield nF(n.cipher,g,t))}catch(g){u=g}throw u})}function mK(i,n,e){return V(this,null,function*(){return{secretKey:e,sharedKey:(yield q.getNobleCurve(T.publicKey.ecdh,i.name)).getSharedSecret(e,n).subarray(1)}})}function gK(i,n){return V(this,null,function*(){let e=yield q.getNobleCurve(T.publicKey.ecdh,i.name),{publicKey:t,privateKey:o}=yield i.genKeyPair();return{publicKey:t,sharedKey:e.getSharedSecret(o,n).subarray(1)}})}var MAe=Object.freeze({__proto__:null,CurveWithOID:$a,ecdh:Object.freeze({__proto__:null,decrypt:xq,encrypt:Eq,validateParams:function(i,n,e){return V(this,null,function*(){return gq(T.publicKey.ecdh,i,n,e)})}}),ecdhX:PAe,ecdsa:AAe,eddsa:SAe,eddsaLegacy:kAe,generate:tx,getPreferredHashAlgo:mq}),ix=BigInt(0),wv=BigInt(1),yx=class{constructor(n){n&&(this.data=n)}read(n){if(n.length>=1){let e=n[0];if(n.length>=1+e)return this.data=n.subarray(1,1+e),1+this.data.length}throw Error("Invalid symmetric key")}write(){return q.concatUint8Array([new Uint8Array([this.data.length]),this.data])}},vx=class{constructor(n){if(n){let{hash:e,cipher:t}=n;this.hash=e,this.cipher=t}else this.hash=null,this.cipher=null}read(n){if(n.length<4||n[0]!==3||n[1]!==1)throw new Jn("Cannot read KDFParams");return this.hash=n[2],this.cipher=n[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}},wx=class i{static fromObject({wrappedKey:n,algorithm:e}){let t=new i;return t.wrappedKey=n,t.algorithm=e,t}read(n){let e=0,t=n[e++];this.algorithm=t%2?n[e++]:null,t-=t%2,this.wrappedKey=q.readExactSubarray(n,e,e+t),e+=t}write(){return q.concatUint8Array([this.algorithm?new Uint8Array([this.wrappedKey.length+1,this.algorithm]):new Uint8Array([this.wrappedKey.length]),this.wrappedKey])}};function BAe(i,n,e,t,o){return V(this,null,function*(){switch(i){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:{let{n:r,e:s}=e;return{c:yield bAe(t,r,s)}}case T.publicKey.elgamal:{let{p:r,g:s,y:a}=e;return(function(l,c,d,u){return V(this,null,function*(){c=fi(c),d=fi(d),u=fi(u);let m=fi(KK(l,Wa(c))),g=_h(fh,c-fh);return{c1:Or(xs(d,g,c)),c2:Or(Sn(xs(u,g,c)*m,c))}})})(t,r,s,a)}case T.publicKey.ecdh:{let{oid:r,Q:s,kdfParams:a}=e,{publicKey:l,wrappedKey:c}=yield Eq(r,a,t,s,o);return{V:l,C:new yx(c)}}case T.publicKey.x25519:case T.publicKey.x448:{if(n&&!q.isAES(n))throw Error("X25519 and X448 keys can only encrypt AES session keys");let{A:r}=e,{ephemeralPublicKey:s,wrappedKey:a}=yield uq(i,t,r);return{ephemeralPublicKey:s,C:wx.fromObject({algorithm:n,wrappedKey:a})}}default:return[]}})}function VAe(i,n,e,t,o,r){return V(this,null,function*(){switch(i){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:{let{c:s}=t,{n:a,e:l}=n,{d:c,p:d,q:u,u:m}=e;return yAe(s,a,l,c,d,u,m,r)}case T.publicKey.elgamal:{let{c1:s,c2:a}=t;return(function(l,c,d,u,m){return V(this,null,function*(){return l=fi(l),c=fi(c),d=fi(d),qK(Or(Sn(W_(xs(l,u=fi(u),d),d)*c,d),"be",Wa(d)),m)})})(s,a,n.p,e.x,r)}case T.publicKey.ecdh:{let{oid:s,Q:a,kdfParams:l}=n,{d:c}=e,{V:d,C:u}=t;return xq(s,l,d,u.data,a,c,o)}case T.publicKey.x25519:case T.publicKey.x448:{let{A:s}=n,{k:a}=e,{ephemeralPublicKey:l,C:c}=t;if(c.algorithm!==null&&!q.isAES(c.algorithm))throw Error("AES session key expected");return hq(i,l,c.wrappedKey,s,a)}default:throw Error("Unknown public key encryption algorithm.")}})}function _K(i,n,e){let t=0;switch(i){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:{let o=q.readMPI(n.subarray(t));t+=o.length+2;let r=q.readMPI(n.subarray(t));t+=r.length+2;let s=q.readMPI(n.subarray(t));t+=s.length+2;let a=q.readMPI(n.subarray(t));return t+=a.length+2,{read:t,privateParams:{d:o,p:r,q:s,u:a}}}case T.publicKey.dsa:case T.publicKey.elgamal:{let o=q.readMPI(n.subarray(t));return t+=o.length+2,{read:t,privateParams:{x:o}}}case T.publicKey.ecdsa:case T.publicKey.ecdh:{let o=B_(i,e.oid),r=q.readMPI(n.subarray(t));return t+=r.length+2,r=q.leftPad(r,o),{read:t,privateParams:{d:r}}}case T.publicKey.eddsaLegacy:{let o=B_(i,e.oid);if(e.oid.getName()!==T.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let r=q.readMPI(n.subarray(t));return t+=r.length+2,r=q.leftPad(r,o),{read:t,privateParams:{seed:r}}}case T.publicKey.ed25519:case T.publicKey.ed448:{let o=B_(i),r=q.readExactSubarray(n,t,t+o);return t+=r.length,{read:t,privateParams:{seed:r}}}case T.publicKey.x25519:case T.publicKey.x448:{let o=B_(i),r=q.readExactSubarray(n,t,t+o);return t+=r.length,{read:t,privateParams:{k:r}}}default:throw new Jn("Unknown public key encryption algorithm.")}}function K_(i,n){let e=new Set([T.publicKey.ed25519,T.publicKey.x25519,T.publicKey.ed448,T.publicKey.x448]),t=Object.keys(n).map(o=>{let r=n[o];return q.isUint8Array(r)?e.has(i)?r:q.uint8ArrayToMPI(r):r.write()});return q.concatUint8Array(t)}function UAe(i,n,e){switch(i){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:return(function(t,o){return V(this,null,function*(){if(o=BigInt(o),q.getWebCrypto()){let c={name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:Or(o),hash:{name:"SHA-1"}},d=yield $_.generateKey(c,!0,["sign","verify"]);return sK(yield $_.exportKey("jwk",d.privateKey),o)}if(q.getNodeCrypto()){let c={modulusLength:t,publicExponent:qN(o),publicKeyEncoding:{type:"pkcs1",format:"jwk"},privateKeyEncoding:{type:"pkcs1",format:"jwk"}},d=yield new Promise((u,m)=>{rm.generateKeyPair("rsa",c,(g,y,v)=>{g?m(g):u(v)})});return sK(d,o)}let r,s,a;do s=oK(t-(t>>1),o,40),r=oK(t>>1,o,40),a=r*s;while(j_(a)!==t);let l=(r-bh)*(s-bh);return s<r&&([r,s]=[s,r]),{n:Or(a),e:Or(o),d:Or(W_(o,l)),p:Or(r),q:Or(s),u:Or(W_(r,s))}})})(n,65537).then(({n:t,e:o,d:r,p:s,q:a,u:l})=>({privateParams:{d:r,p:s,q:a,u:l},publicParams:{n:t,e:o}}));case T.publicKey.ecdsa:return tx(e).then(({oid:t,Q:o,secret:r})=>({privateParams:{d:r},publicParams:{oid:new jp(t),Q:o}}));case T.publicKey.eddsaLegacy:return tx(e).then(({oid:t,Q:o,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new jp(t),Q:o}}));case T.publicKey.ecdh:return tx(e).then(({oid:t,Q:o,secret:r,hash:s,cipher:a})=>({privateParams:{d:r},publicParams:{oid:new jp(t),Q:o,kdfParams:new vx({hash:s,cipher:a})}}));case T.publicKey.ed25519:case T.publicKey.ed448:return SF(i).then(({A:t,seed:o})=>({privateParams:{seed:o},publicParams:{A:t}}));case T.publicKey.x25519:case T.publicKey.x448:return kF(i).then(({A:t,k:o})=>({privateParams:{k:o},publicParams:{A:t}}));case T.publicKey.dsa:case T.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}}function jAe(i,n,e){return V(this,null,function*(){if(!n||!e)throw Error("Missing key parameters");switch(i){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:{let{n:t,e:o}=n,{d:r,p:s,q:a,u:l}=e;return(function(c,d,u,m,g,y){return V(this,null,function*(){if(c=fi(c),(m=fi(m))*(g=fi(g))!==c)return!1;let v=BigInt(2);if(Sn(m*(y=fi(y)),g)!==BigInt(1))return!1;d=fi(d),u=fi(u);let S=_h(v,v<<BigInt(Math.floor(j_(c)/3))),I=S*u*d;return!(Sn(I,m-bh)!==S||Sn(I,g-bh)!==S)})})(t,o,r,s,a,l)}case T.publicKey.dsa:{let{p:t,q:o,g:r,y:s}=n,{x:a}=e;return(function(l,c,d,u,m){return V(this,null,function*(){let g=fi(l),y=fi(c),v=fi(d),S=fi(u);if(v<=wv||v>=g||Sn(g-wv,y)!==ix||xs(v,y,g)!==wv)return!1;let I=BigInt(j_(y));if(I<BigInt(150)||!$K(y,null,32))return!1;let P=fi(m),L=BigInt(2);return S===xs(v,y*_h(L<<I-wv,L<<I)+P,g)})})(t,o,r,s,a)}case T.publicKey.elgamal:{let{p:t,g:o,y:r}=n,{x:s}=e;return(function(a,l,c,d){return V(this,null,function*(){let u=fi(a),m=fi(l),g=fi(c);if(m<=fh||m>=u)return!1;let y=BigInt(j_(u));if(y<BigInt(1023)||xs(m,u-fh,u)!==fh)return!1;let v=m,S=BigInt(1),I=BigInt(2),P=I<<BigInt(17);for(;S<P;){if(v=Sn(v*m,u),v===fh)return!1;S++}let L=fi(d),F=_h(I<<y-fh,I<<y);return g===xs(m,(u-fh)*F+L,u)})})(t,o,r,s)}case T.publicKey.ecdsa:case T.publicKey.ecdh:{let t=MAe[T.read(T.publicKey,i)],{oid:o,Q:r}=n,{d:s}=e;return t.validateParams(o,r,s)}case T.publicKey.eddsaLegacy:{let{Q:t,oid:o}=n,{seed:r}=e;return Cq(o,t,r)}case T.publicKey.ed25519:case T.publicKey.ed448:{let{A:t}=n,{seed:o}=e;return xF(i,t,o)}case T.publicKey.x25519:case T.publicKey.x448:{let{A:t}=n,{k:o}=e;return NF(i,t,o)}default:throw Error("Unknown public key algorithm.")}})}function aF(i){let{keySize:n}=yo(i);return Bs(n)}function FN(i){try{i.getName()}catch{throw new Jn("Unknown curve OID")}}function B_(i,n){switch(i){case T.publicKey.ecdsa:case T.publicKey.ecdh:case T.publicKey.eddsaLegacy:return new $a(n).payloadSize;case T.publicKey.ed25519:case T.publicKey.ed448:return Ux(i);case T.publicKey.x25519:case T.publicKey.x448:return zx(i);default:throw Error("Unknown elliptic algo")}}var nx=q.getWebCrypto(),Dv=q.getNodeCrypto(),tm=Dv?Dv.getCiphers():[],Cx={idea:tm.includes("idea-cfb")?"idea-cfb":void 0,tripledes:tm.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:tm.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:tm.includes("bf-cfb")?"bf-cfb":void 0,aes128:tm.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:tm.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:tm.includes("aes-256-cfb")?"aes-256-cfb":void 0};function Tq(i){let{blockSize:n}=yo(i),e=Bs(n),t=new Uint8Array([e[e.length-2],e[e.length-1]]);return q.concat([e,t])}function Pv(i,n,e,t,o){return V(this,null,function*(){let r=T.read(T.symmetric,i);if(q.getNodeCrypto()&&Cx[r])return(function(u,m,g,y){let v=T.read(T.symmetric,u),S=new Dv.createCipheriv(Cx[v],m,y);return $r(g,I=>new Uint8Array(S.update(I)))})(i,n,e,t);if(q.isAES(i))return(function(u,m,g,y){return V(this,null,function*(){if(nx&&(yield Sx.isSupported(u))){let v=new Sx(u,m,y);return q.isStream(g)?$N(g,S=>v.encryptChunk(S),()=>v.finish()):v.encrypt(g)}if(q.isStream(g)){let v=new Ix(!0,u,m,y);return $N(g,S=>v.processChunk(S),()=>v.finish())}return sq(m,y).encrypt(g)})})(i,n,e,t);let s=new(yield pq(i))(n),a=s.blockSize,l=t.slice(),c=new Uint8Array,d=u=>{u&&(c=q.concatUint8Array([c,u]));let m=new Uint8Array(c.length),g,y=0;for(;u?c.length>=a:c.length;){let v=s.encrypt(l);for(g=0;g<a;g++)l[g]=c[g]^v[g],m[y++]=l[g];c=c.subarray(a)}return m.subarray(0,y)};return $r(e,d,d)})}function qx(i,n,e,t){return V(this,null,function*(){let o=T.read(T.symmetric,i);if(Dv&&Cx[o])return(function(d,u,m,g){let y=T.read(T.symmetric,d),v=new Dv.createDecipheriv(Cx[y],u,g);return $r(m,S=>new Uint8Array(v.update(S)))})(i,n,e,t);if(q.isAES(i))return(function(d,u,m,g){if(q.isStream(m)){let y=new Ix(!1,d,u,g);return $N(m,v=>y.processChunk(v),()=>y.finish())}return sq(u,g).decrypt(m)})(i,n,e,t);let r=new(yield pq(i))(n),s=r.blockSize,a=t,l=new Uint8Array,c=d=>{d&&(l=q.concatUint8Array([l,d]));let u=new Uint8Array(l.length),m,g=0;for(;d?l.length>=s:l.length;){let y=r.encrypt(a);for(a=l.subarray(0,s),m=0;m<s;m++)u[g++]=a[m]^y[m];l=l.subarray(s)}return u.subarray(0,g)};return $r(e,c,c)})}var Sx=class{constructor(n,e,t){let{blockSize:o}=yo(n);this.key=e,this.prevBlock=t,this.nextBlock=new Uint8Array(o),this.i=0,this.blockSize=o,this.zeroBlock=new Uint8Array(this.blockSize)}static isSupported(n){let{keySize:e}=yo(n);return nx.importKey("raw",new Uint8Array(e),"aes-cbc",!1,["encrypt"]).then(()=>!0,()=>!1)}_runCBC(n,e){return V(this,null,function*(){let t="AES-CBC";this.keyRef=this.keyRef||(yield nx.importKey("raw",this.key,t,!1,["encrypt"]));let o=yield nx.encrypt({name:t,iv:e||this.zeroBlock},this.keyRef,n);return new Uint8Array(o).subarray(0,n.length)})}encryptChunk(n){return V(this,null,function*(){let e=this.nextBlock.length-this.i,t=n.subarray(0,e);if(this.nextBlock.set(t,this.i),this.i+n.length>=2*this.blockSize){let r=(n.length-e)%this.blockSize,s=q.concatUint8Array([this.nextBlock,n.subarray(e,n.length-r)]),a=q.concatUint8Array([this.prevBlock,s.subarray(0,s.length-this.blockSize)]),l=yield this._runCBC(a);return YE(l,s),this.prevBlock=l.slice(-this.blockSize),r>0&&this.nextBlock.set(n.subarray(-r)),this.i=r,l}let o;if(this.i+=t.length,this.i===this.nextBlock.length){let r=this.nextBlock;o=yield this._runCBC(this.prevBlock),YE(o,r),this.prevBlock=o.slice(),this.i=0;let s=n.subarray(t.length);this.nextBlock.set(s,this.i),this.i+=s.length}else o=new Uint8Array;return o})}finish(){return V(this,null,function*(){let n;if(this.i===0)n=new Uint8Array;else{this.nextBlock=this.nextBlock.subarray(0,this.i);let e=this.nextBlock,t=yield this._runCBC(this.prevBlock);YE(t,e),n=t.subarray(0,e.length)}return this.clearSensitiveData(),n})}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.keyRef=null,this.key=null}encrypt(n){return V(this,null,function*(){let e=(yield this._runCBC(q.concatUint8Array([new Uint8Array(this.blockSize),n]),this.iv)).subarray(0,n.length);return YE(e,n),this.clearSensitiveData(),e})}},Ix=class{constructor(n,e,t,o){this.forEncryption=n;let{blockSize:r}=yo(e);this.key=uK.expandKeyLE(t),o.byteOffset%4!=0&&(o=o.slice()),this.prevBlock=LN(o),this.nextBlock=new Uint8Array(r),this.i=0,this.blockSize=r}_runCFB(n){let e=LN(n),t=new Uint8Array(n.length),o=LN(t);for(let r=0;r+4<=o.length;r+=4){let{s0:s,s1:a,s2:l,s3:c}=uK.encrypt(this.key,this.prevBlock[0],this.prevBlock[1],this.prevBlock[2],this.prevBlock[3]);o[r+0]=e[r+0]^s,o[r+1]=e[r+1]^a,o[r+2]=e[r+2]^l,o[r+3]=e[r+3]^c,this.prevBlock=(this.forEncryption?o:e).slice(r,r+4)}return t}processChunk(n){return V(this,null,function*(){let e=this.nextBlock.length-this.i,t=n.subarray(0,e);if(this.nextBlock.set(t,this.i),this.i+n.length>=2*this.blockSize){let r=(n.length-e)%this.blockSize,s=q.concatUint8Array([this.nextBlock,n.subarray(e,n.length-r)]),a=this._runCFB(s);return r>0&&this.nextBlock.set(n.subarray(-r)),this.i=r,a}let o;if(this.i+=t.length,this.i===this.nextBlock.length){o=this._runCFB(this.nextBlock),this.i=0;let r=n.subarray(t.length);this.nextBlock.set(r,this.i),this.i+=r.length}else o=new Uint8Array;return o})}finish(){return V(this,null,function*(){let n;return this.i===0?n=new Uint8Array:n=this._runCFB(this.nextBlock).subarray(0,this.i),this.clearSensitiveData(),n})}clearSensitiveData(){this.nextBlock.fill(0),this.prevBlock.fill(0),this.key.fill(0)}};function YE(i,n){let e=Math.min(i.length,n.length);for(let t=0;t<e;t++)i[t]=i[t]^n[t]}var LN=i=>new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)),bK=q.getWebCrypto(),GAe=q.getNodeCrypto(),im=16;function yK(i,n){let e=i.length-im;for(let t=0;t<im;t++)i[t+e]^=n[t];return i}var ox=new Uint8Array(im);function HAe(i){return V(this,null,function*(){let n=yield zAe(i),e=q.double(yield n(ox)),t=q.double(e);return function(o){return V(this,null,function*(){return(yield n((function(r,s,a){if(r.length&&r.length%im==0)return yK(r,s);let l=new Uint8Array(r.length+(im-r.length%im));return l.set(r),l[r.length]=128,yK(l,a)})(o,e,t))).subarray(-16)})}})}function zAe(i){return V(this,null,function*(){if(q.getNodeCrypto())return function(n){return V(this,null,function*(){let e=new GAe.createCipheriv("aes-"+8*i.length+"-cbc",i,ox).update(n);return new Uint8Array(e)})};if(q.getWebCrypto())try{return i=yield bK.importKey("raw",i,{name:"AES-CBC",length:8*i.length},!1,["encrypt"]),function(n){return V(this,null,function*(){let e=yield bK.encrypt({name:"AES-CBC",iv:ox,length:128},i,n);return new Uint8Array(e).subarray(0,e.byteLength-im)})}}catch(n){if(n.name!=="NotSupportedError"&&(i.length!==24||n.name!=="OperationError"))throw n;q.printDebugError("Browser did not support operation: "+n.message)}return function(n){return V(this,null,function*(){return tF(i,ox,{disablePadding:!0}).encrypt(n)})}})}var vK=q.getWebCrypto(),WAe=q.getNodeCrypto(),$Ae=q.getNodeBuffer(),zv=16,rx=zv,wK=new Uint8Array(zv),lF=new Uint8Array(zv);lF[15]=1;var cF=new Uint8Array(zv);function KAe(i){return V(this,null,function*(){let n=yield HAe(i);return function(e,t){return n(q.concatUint8Array([e,t]))}})}function qAe(i){return V(this,null,function*(){if(q.getNodeCrypto())return function(n,e){return V(this,null,function*(){let t=new WAe.createCipheriv("aes-"+8*i.length+"-ctr",i,e),o=$Ae.concat([t.update(n),t.final()]);return new Uint8Array(o)})};if(q.getWebCrypto())try{let n=yield vK.importKey("raw",i,{name:"AES-CTR",length:8*i.length},!1,["encrypt"]);return function(e,t){return V(this,null,function*(){let o=yield vK.encrypt({name:"AES-CTR",counter:t,length:128},n,e);return new Uint8Array(o)})}}catch(n){if(n.name!=="NotSupportedError"&&(i.length!==24||n.name!=="OperationError"))throw n;q.printDebugError("Browser did not support operation: "+n.message)}return function(n,e){return V(this,null,function*(){return TAe(i,e).encrypt(n)})}})}function Cv(i,n){return V(this,null,function*(){if(i!==T.symmetric.aes128&&i!==T.symmetric.aes192&&i!==T.symmetric.aes256)throw Error("EAX mode supports only AES cipher");let[e,t]=yield Promise.all([KAe(n),qAe(n)]);return{encrypt:function(o,r,s){return V(this,null,function*(){let[a,l]=yield Promise.all([e(wK,r),e(lF,s)]),c=yield t(o,a),d=yield e(cF,c);for(let u=0;u<rx;u++)d[u]^=l[u]^a[u];return q.concatUint8Array([c,d])})},decrypt:function(o,r,s){return V(this,null,function*(){if(o.length<rx)throw Error("Invalid EAX ciphertext");let a=o.subarray(0,-16),l=o.subarray(-16),[c,d,u]=yield Promise.all([e(wK,r),e(lF,s),e(cF,a)]),m=u;for(let g=0;g<rx;g++)m[g]^=d[g]^c[g];if(!q.equalsUint8Array(l,m))throw Error("Authentication tag mismatch");return yield t(a,c)})}}})}cF[15]=2,Cv.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[8+t]^=n[t];return e},Cv.blockLength=zv,Cv.ivLength=16,Cv.tagLength=rx;var vl=16,dF=16;function CK(i){let n=0;for(let e=1;!(i&e);e<<=1)n++;return n}function ja(i,n){for(let e=0;e<i.length;e++)i[e]^=n[e];return i}function XE(i,n){return ja(i.slice(),n)}var fv=new Uint8Array(vl),JAe=new Uint8Array([1]);function Sv(i,n){return V(this,null,function*(){let{keySize:e}=yo(i);if(!q.isAES(i)||n.length!==e)throw Error("Unexpected algorithm or key size");let t=0,o=l=>tF(n,fv,{disablePadding:!0}).encrypt(l),r=l=>tF(n,fv,{disablePadding:!0}).decrypt(l),s;function a(l,c,d,u){let m=c.length/vl|0;(function(me,fe){let Te=q.nbits(Math.max(me.length,fe.length)/vl|0)-1;for(let He=t+1;He<=Te;He++)s[He]=q.double(s[He-1]);t=Te})(c,u);let g=q.concatUint8Array([fv.subarray(0,15-d.length),JAe,d]),y=63&g[15];g[15]&=192;let v=o(g),S=q.concatUint8Array([v,XE(v.subarray(0,8),v.subarray(1,9))]),I=q.shiftRight(S.subarray(0+(y>>3),17+(y>>3)),8-(7&y)).subarray(1),P=new Uint8Array(vl),L=new Uint8Array(c.length+dF),F,K=0;for(F=0;F<m;F++)ja(I,s[CK(F+1)]),L.set(ja(l(XE(I,c)),I),K),ja(P,l===o?c:L.subarray(K)),c=c.subarray(vl),K+=vl;if(c.length){ja(I,s.x);let me=o(I);L.set(XE(c,me),K);let fe=new Uint8Array(vl);fe.set(l===o?c:L.subarray(K,-16),0),fe[c.length]=128,ja(P,fe),K+=c.length}let le=ja(o(ja(ja(P,I),s.$)),(function(me){if(!me.length)return fv;let fe=me.length/vl|0,Te=new Uint8Array(vl),He=new Uint8Array(vl);for(let Be=0;Be<fe;Be++)ja(Te,s[CK(Be+1)]),ja(He,o(XE(Te,me))),me=me.subarray(vl);if(me.length){ja(Te,s.x);let Be=new Uint8Array(vl);Be.set(me,0),Be[me.length]=128,ja(Be,Te),ja(He,o(Be))}return He})(u));return L.set(le,K),L}return(function(){let l=o(fv),c=q.double(l);s=[],s[0]=q.double(c),s.x=l,s.$=c})(),{encrypt:function(l,c,d){return V(this,null,function*(){return a(o,l,c,d)})},decrypt:function(l,c,d){return V(this,null,function*(){if(l.length<dF)throw Error("Invalid OCB ciphertext");let u=l.subarray(-16);l=l.subarray(0,-16);let m=a(r,l,c,d);if(q.equalsUint8Array(u,m.subarray(-16)))return m.subarray(0,-16);throw Error("Authentication tag mismatch")})}}})}Sv.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[7+t]^=n[t];return e},Sv.blockLength=vl,Sv.ivLength=15,Sv.tagLength=dF;var MN=q.getWebCrypto(),SK=q.getNodeCrypto(),IK=q.getNodeBuffer(),sx=16,BN="AES-GCM";function V_(i,n){return V(this,null,function*(){if(i!==T.symmetric.aes128&&i!==T.symmetric.aes192&&i!==T.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(q.getNodeCrypto())return{encrypt:function(r,s){return V(this,arguments,function*(e,t,o=new Uint8Array){let a=new SK.createCipheriv("aes-"+8*n.length+"-gcm",n,t);a.setAAD(o);let l=IK.concat([a.update(e),a.final(),a.getAuthTag()]);return new Uint8Array(l)})},decrypt:function(r,s){return V(this,arguments,function*(e,t,o=new Uint8Array){let a=new SK.createDecipheriv("aes-"+8*n.length+"-gcm",n,t);a.setAAD(o),a.setAuthTag(e.slice(e.length-sx,e.length));let l=IK.concat([a.update(e.slice(0,e.length-sx)),a.final()]);return new Uint8Array(l)})}};if(q.getWebCrypto())try{let e=yield MN.importKey("raw",n,{name:BN},!1,["encrypt","decrypt"]),t=navigator.userAgent.match(/Version\/13\.\d(\.\d)* Safari/)||navigator.userAgent.match(/Version\/(13|14)\.\d(\.\d)* Mobile\/\S* Safari/);return{encrypt:function(a,l){return V(this,arguments,function*(o,r,s=new Uint8Array){if(t&&!o.length)return QE(n,r,s).encrypt(o);let c=yield MN.encrypt({name:BN,iv:r,additionalData:s,tagLength:128},e,o);return new Uint8Array(c)})},decrypt:function(a,l){return V(this,arguments,function*(o,r,s=new Uint8Array){if(t&&o.length===sx)return QE(n,r,s).decrypt(o);try{let c=yield MN.decrypt({name:BN,iv:r,additionalData:s,tagLength:128},e,o);return new Uint8Array(c)}catch(c){if(c.name==="OperationError")throw Error("Authentication tag mismatch")}})}}}catch(e){if(e.name!=="NotSupportedError"&&(n.length!==24||e.name!=="OperationError"))throw e;q.printDebugError("Browser did not support operation: "+e.message)}return{encrypt:function(e,t,o){return V(this,null,function*(){return QE(n,t,o).encrypt(e)})},decrypt:function(e,t,o){return V(this,null,function*(){return QE(n,t,o).decrypt(e)})}}})}function Gp(i,n=!1){switch(i){case T.aead.eax:return Cv;case T.aead.ocb:return Sv;case T.aead.gcm:return V_;case T.aead.experimentalGCM:if(!n)throw Error("Unexpected non-standard `experimentalGCM` AEAD algorithm provided in `config.preferredAEADAlgorithm`: use `gcm` instead");return V_;default:throw Error("Unsupported AEAD mode")}}function QAe(i,n,e,t,o,r){return V(this,null,function*(){switch(i){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:case T.publicKey.rsaSign:{let{n:s,e:a}=t;return _Ae(n,o,q.leftPad(e.s,s.length),s,a,r)}case T.publicKey.dsa:{let{g:s,p:a,q:l,y:c}=t,{r:d,s:u}=e;return(function(m,g,y,v,S,I,P,L){return V(this,null,function*(){if(g=fi(g),y=fi(y),I=fi(I),P=fi(P),S=fi(S),L=fi(L),g<=ix||g>=P||y<=ix||y>=P)return q.printDebug("invalid DSA Signature"),!1;let F=Sn(fi(v.subarray(0,Wa(P))),P),K=W_(y,P);if(K===ix)return q.printDebug("invalid DSA Signature"),!1;S=Sn(S,I),L=Sn(L,I);let le=Sn(F*K,P),me=Sn(g*K,P);return Sn(Sn(xs(S,le,I)*xs(L,me,I),I),P)===g})})(0,d,u,r,s,a,l,c)}case T.publicKey.ecdsa:{let{oid:s,Q:a}=t,l=new $a(s).payloadSize;return sF(s,n,{r:q.leftPad(e.r,l),s:q.leftPad(e.s,l)},o,a,r)}case T.publicKey.eddsaLegacy:{let{oid:s,Q:a}=t,l=new $a(s).payloadSize;return wq(s,n,{r:q.leftPad(e.r,l),s:q.leftPad(e.s,l)},0,a,r)}case T.publicKey.ed25519:case T.publicKey.ed448:{let{A:s}=t;return EF(i,n,e,0,s,r)}default:throw Error("Unknown signature algorithm.")}})}function YAe(i,n,e,t,o,r){return V(this,null,function*(){if(!e||!t)throw Error("Missing key parameters");switch(i){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:case T.publicKey.rsaSign:{let{n:s,e:a}=e,{d:l,p:c,q:d,u}=t;return{s:yield gAe(n,o,s,a,l,c,d,u,r)}}case T.publicKey.dsa:{let{g:s,p:a,q:l}=e,{x:c}=t;return(function(d,u,m,g,y,v){return V(this,null,function*(){let S=BigInt(0),I,P,L,F;g=fi(g),y=fi(y),m=fi(m),v=fi(v),m=Sn(m,g),v=Sn(v,y);let K=Sn(fi(u.subarray(0,Wa(y))),y);for(;;){if(I=_h(wv,y),P=Sn(xs(m,I,g),y),P===S)continue;let le=Sn(v*P,y);if(F=Sn(K+le,y),L=Sn(W_(I,y)*F,y),L!==S)break}return{r:Or(P,"be",Wa(g)),s:Or(L,"be",Wa(g))}})})(0,r,s,a,l,c)}case T.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case T.publicKey.ecdsa:{let{oid:s,Q:a}=e,{d:l}=t;return rF(s,n,o,a,l,r)}case T.publicKey.eddsaLegacy:{let{oid:s,Q:a}=e,{seed:l}=t;return vq(s,n,0,a,l,r)}case T.publicKey.ed25519:case T.publicKey.ed448:{let{A:s}=e,{seed:a}=t;return IF(i,n,0,s,a,r)}default:throw Error("Unknown signature algorithm.")}})}V_.getNonce=function(i,n){let e=i.slice();for(let t=0;t<n.length;t++)e[4+t]^=n[t];return e},V_.blockLength=16,V_.ivLength=12,V_.tagLength=sx;var Ex=class i extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="Argon2OutOfMemoryError"}},ZE,mv,pF=class{constructor(n=Ot){let{passes:e,parallelism:t,memoryExponent:o}=n.s2kArgon2Params;this.type="argon2",this.salt=null,this.t=e,this.p=t,this.encodedM=o}generateSalt(){this.salt=Bs(16)}read(n){let e=0;return this.salt=n.subarray(e,e+16),e+=16,this.t=n[e++],this.p=n[e++],this.encodedM=n[e++],e}write(){let n=[new Uint8Array([T.write(T.s2k,this.type)]),this.salt,new Uint8Array([this.t,this.p,this.encodedM])];return q.concatUint8Array(n)}produceKey(n,e){return V(this,null,function*(){let t=2<<this.encodedM-1;try{ZE=ZE||(yield import("./chunk-ZRMBZUFG.js")).default,mv=mv||ZE();let o=yield mv,r=o({version:19,type:2,password:q.encodeUTF8(n),salt:this.salt,tagLength:e,memorySize:t,parallelism:this.p,passes:this.t});return t>1048576&&(mv=ZE(),mv.catch(()=>{})),r}catch(o){throw o.message&&(o.message.includes("Unable to grow instance memory")||o.message.includes("failed to grow memory")||o.message.includes("WebAssembly.Memory.grow")||o.message.includes("Out of memory"))?new Ex("Could not allocate required memory for Argon2"):o}})}},uF=class{constructor(n,e=Ot){this.algorithm=T.hash.sha256,this.type=T.read(T.s2k,n),this.c=e.s2kIterationCountByte,this.salt=null}generateSalt(){switch(this.type){case"salted":case"iterated":this.salt=Bs(8)}}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(n){let e=0;switch(this.algorithm=n[e++],this.type){case"simple":break;case"salted":this.salt=n.subarray(e,e+8),e+=8;break;case"iterated":this.salt=n.subarray(e,e+8),e+=8,this.c=n[e++];break;case"gnu":if(q.uint8ArrayToString(n.subarray(e,e+3))!=="GNU")throw new Jn("Unknown s2k type.");if(e+=3,1e3+n[e++]!==1001)throw new Jn("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new Jn("Unknown s2k type.")}return e}write(){if(this.type==="gnu-dummy")return new Uint8Array([101,0,...q.stringToUint8Array("GNU"),1]);let n=[new Uint8Array([T.write(T.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":n.push(this.salt);break;case"iterated":n.push(this.salt),n.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return q.concatUint8Array(n)}produceKey(n,e){return V(this,null,function*(){n=q.encodeUTF8(n);let t=[],o=0,r=0;for(;o<e;){let s;switch(this.type){case"simple":s=q.concatUint8Array([new Uint8Array(r),n]);break;case"salted":s=q.concatUint8Array([new Uint8Array(r),this.salt,n]);break;case"iterated":{let l=q.concatUint8Array([this.salt,n]),c=l.length,d=Math.max(this.getCount(),c);s=new Uint8Array(r+d),s.set(l,r);for(let u=r+c;u<d;u+=c,c*=2)s.copyWithin(u,r,u);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}let a=yield Vd(this.algorithm,s);t.push(a),o+=a.length,r++}return q.concatUint8Array(t).subarray(0,e)})}},XAe=new Set([T.s2k.argon2,T.s2k.iterated]);function xx(i,n=Ot){switch(i){case T.s2k.argon2:return new pF(n);case T.s2k.iterated:case T.s2k.gnu:case T.s2k.salted:case T.s2k.simple:return new uF(i,n);default:throw new Jn("Unsupported S2K type")}}function Oq(i){let{s2kType:n}=i;if(!XAe.has(n))throw Error("The provided `config.s2kType` value is not allowed");return xx(n,i)}var Tr=Uint8Array,Sl=Uint16Array,FF=Int32Array,Jx=new Tr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qx=new Tr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hF=new Tr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Rq=function(i,n){for(var e=new Sl(31),t=0;t<31;++t)e[t]=n+=1<<i[t-1];var o=new FF(e[30]);for(t=1;t<30;++t)for(var r=e[t];r<e[t+1];++r)o[r]=r-e[t]<<5|t;return{b:e,r:o}},Dq=Rq(Jx,2),Pq=Dq.b,fF=Dq.r;Pq[28]=258,fF[258]=28;for(VN=Rq(Qx,0),Aq=VN.b,mF=VN.r,Tx=new Sl(32768),Ao=0;Ao<32768;++Ao)hh=(43690&Ao)>>1|(21845&Ao)<<1,hh=(61680&(hh=(52428&hh)>>2|(13107&hh)<<2))>>4|(3855&hh)<<4,Tx[Ao]=((65280&hh)>>8|(255&hh)<<8)>>1;var hh,VN,Aq,mF,Tx,Ao,Md=function(i,n,e){for(var t=i.length,o=0,r=new Sl(n);o<t;++o)i[o]&&++r[i[o]-1];var s,a=new Sl(n);for(o=1;o<n;++o)a[o]=a[o-1]+r[o-1]<<1;if(e){s=new Sl(1<<n);var l=15-n;for(o=0;o<t;++o)if(i[o])for(var c=o<<4|i[o],d=n-i[o],u=a[i[o]-1]++<<d,m=u|(1<<d)-1;u<=m;++u)s[Tx[u]>>l]=c}else for(s=new Sl(t),o=0;o<t;++o)i[o]&&(s[o]=Tx[a[i[o]-1]++]>>15-i[o]);return s},vh=new Tr(288);for(Ao=0;Ao<144;++Ao)vh[Ao]=8;for(Ao=144;Ao<256;++Ao)vh[Ao]=9;for(Ao=256;Ao<280;++Ao)vh[Ao]=7;for(Ao=280;Ao<288;++Ao)vh[Ao]=8;var Av=new Tr(32);for(Ao=0;Ao<32;++Ao)Av[Ao]=5;var ZAe=Md(vh,9,0),eke=Md(vh,9,1),tke=Md(Av,5,0),ike=Md(Av,5,1),UN=function(i){for(var n=i[0],e=1;e<i.length;++e)i[e]>n&&(n=i[e]);return n},Ac=function(i,n,e){var t=n/8|0;return(i[t]|i[t+1]<<8)>>(7&n)&e},jN=function(i,n){var e=n/8|0;return(i[e]|i[e+1]<<8|i[e+2]<<16)>>(7&n)},LF=function(i){return(i+7)/8|0},Iv=function(i,n,e){return(n==null||n<0)&&(n=0),(e==null||e>i.length)&&(e=i.length),new Tr(i.subarray(n,e))},nke=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Is=function(i,n,e){var t=Error(n||nke[i]);if(t.code=i,Error.captureStackTrace&&Error.captureStackTrace(t,Is),!e)throw t;return t},Mp=function(i,n,e){e<<=7&n;var t=n/8|0;i[t]|=e,i[t+1]|=e>>8},gv=function(i,n,e){e<<=7&n;var t=n/8|0;i[t]|=e,i[t+1]|=e>>8,i[t+2]|=e>>16},GN=function(i,n){for(var e=[],t=0;t<i.length;++t)i[t]&&e.push({s:t,f:i[t]});var o=e.length,r=e.slice();if(!o)return{t:Nq,l:0};if(o==1){var s=new Tr(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(K,le){return K.f-le.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,d=1,u=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=o-1;)a=e[e[c].f<e[u].f?c++:u++],l=e[c!=d&&e[c].f<e[u].f?c++:u++],e[d++]={s:-1,f:a.f+l.f,l:a,r:l};var m=r[0].s;for(t=1;t<o;++t)r[t].s>m&&(m=r[t].s);var g=new Sl(m+1),y=gF(e[d-1],g,0);if(y>n){t=0;var v=0,S=y-n,I=1<<S;for(r.sort(function(K,le){return g[le.s]-g[K.s]||K.f-le.f});t<o;++t){var P=r[t].s;if(!(g[P]>n))break;v+=I-(1<<y-g[P]),g[P]=n}for(v>>=S;v>0;){var L=r[t].s;g[L]<n?v-=1<<n-g[L]++-1:++t}for(;t>=0&&v;--t){var F=r[t].s;g[F]==n&&(--g[F],++v)}y=n}return{t:new Tr(g),l:y}},gF=function(i,n,e){return i.s==-1?Math.max(gF(i.l,n,e+1),gF(i.r,n,e+1)):n[i.s]=e},EK=function(i){for(var n=i.length;n&&!i[--n];);for(var e=new Sl(++n),t=0,o=i[0],r=1,s=function(l){e[t++]=l},a=1;a<=n;++a)if(i[a]==o&&a!=n)++r;else{if(!o&&r>2){for(;r>138;r-=138)s(32754);r>2&&(s(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(s(o),--r;r>6;r-=6)s(8304);r>2&&(s(r-3<<5|8208),r=0)}for(;r--;)s(o);r=1,o=i[a]}return{c:e.subarray(0,t),n}},_v=function(i,n){for(var e=0,t=0;t<n.length;++t)e+=i[t]*n[t];return e},kq=function(i,n,e){var t=e.length,o=LF(n+2);i[o]=255&t,i[o+1]=t>>8,i[o+2]=255^i[o],i[o+3]=255^i[o+1];for(var r=0;r<t;++r)i[o+r+4]=e[r];return 8*(o+4+t)},xK=function(i,n,e,t,o,r,s,a,l,c,d){Mp(n,d++,e),++o[256];for(var u=GN(o,15),m=u.t,g=u.l,y=GN(r,15),v=y.t,S=y.l,I=EK(m),P=I.c,L=I.n,F=EK(v),K=F.c,le=F.n,me=new Sl(19),fe=0;fe<P.length;++fe)++me[31&P[fe]];for(fe=0;fe<K.length;++fe)++me[31&K[fe]];for(var Te=GN(me,7),He=Te.t,Be=Te.l,rt=19;rt>4&&!He[hF[rt-1]];--rt);var Rt,xt,Lt,mt,Re=c+5<<3,Oi=_v(o,vh)+_v(r,Av)+s,Li=_v(o,m)+_v(r,v)+s+14+3*rt+_v(me,He)+2*me[16]+3*me[17]+7*me[18];if(l>=0&&Re<=Oi&&Re<=Li)return kq(n,d,i.subarray(l,l+c));if(Mp(n,d,1+(Li<Oi)),d+=2,Li<Oi){Rt=Md(m,g,0),xt=m,Lt=Md(v,S,0),mt=v;var Co=Md(He,Be,0);for(Mp(n,d,L-257),Mp(n,d+5,le-1),Mp(n,d+10,rt-4),d+=14,fe=0;fe<rt;++fe)Mp(n,d+3*fe,He[hF[fe]]);d+=3*rt;for(var Lo=[P,K],bn=0;bn<2;++bn){var Mo=Lo[bn];for(fe=0;fe<Mo.length;++fe){var un=31&Mo[fe];Mp(n,d,Co[un]),d+=He[un],un>15&&(Mp(n,d,Mo[fe]>>5&127),d+=Mo[fe]>>12)}}}else Rt=ZAe,xt=vh,Lt=tke,mt=Av;for(fe=0;fe<a;++fe){var xn=t[fe];if(xn>255){gv(n,d,Rt[(un=xn>>18&31)+257]),d+=xt[un+257],un>7&&(Mp(n,d,xn>>23&31),d+=Jx[un]);var Ai=31&xn;gv(n,d,Lt[Ai]),d+=mt[Ai],Ai>3&&(gv(n,d,xn>>5&8191),d+=Qx[Ai])}else gv(n,d,Rt[xn]),d+=xt[xn]}return gv(n,d,Rt[256]),d+xt[256]},oke=new FF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Nq=new Tr(0),TK=function(){var i=1,n=0;return{p:function(e){for(var t=i,o=n,r=0|e.length,s=0;s!=r;){for(var a=Math.min(s+2655,r);s<a;++s)o+=t+=e[s];t=(65535&t)+15*(t>>16),o=(65535&o)+15*(o>>16)}i=t,n=o},d:function(){return(255&(i%=65521))<<24|(65280&i)<<8|(255&(n%=65521))<<8|n>>8}}},Fq=function(i,n,e,t,o){if(!o&&(o={l:1},n.dictionary)){var r=n.dictionary.subarray(-32768),s=new Tr(r.length+i.length);s.set(r),s.set(i,r.length),i=s,o.w=r.length}return(function(a,l,c,d,u,m){var g=m.z||a.length,y=new Tr(d+g+5*(1+Math.ceil(g/7e3))+u),v=y.subarray(d,y.length-u),S=m.l,I=7&(m.r||0);if(l){I&&(v[0]=m.r>>3);for(var P=oke[l-1],L=P>>13,F=8191&P,K=(1<<c)-1,le=m.p||new Sl(32768),me=m.h||new Sl(K+1),fe=Math.ceil(c/3),Te=2*fe,He=function(hs){return(a[hs]^a[hs+1]<<fe^a[hs+2]<<Te)&K},Be=new FF(25e3),rt=new Sl(288),Rt=new Sl(32),xt=0,Lt=0,mt=m.i||0,Re=0,Oi=m.w||0,Li=0;mt+2<g;++mt){var Co=He(mt),Lo=32767&mt,bn=me[Co];if(le[Lo]=bn,me[Co]=Lo,Oi<=mt){var Mo=g-mt;if((xt>7e3||Re>24576)&&(Mo>423||!S)){I=xK(a,v,0,Be,rt,Rt,Lt,Re,Li,mt-Li,I),Re=xt=Lt=0,Li=mt;for(var un=0;un<286;++un)rt[un]=0;for(un=0;un<30;++un)Rt[un]=0}var xn=2,Ai=0,ru=F,Yr=Lo-bn&32767;if(Mo>2&&Co==He(mt-Yr))for(var Yl=Math.min(L,Mo)-1,vt=Math.min(32767,mt),ut=Math.min(258,Mo);Yr<=vt&&--ru&&Lo!=bn;){if(a[mt+xn]==a[mt+xn-Yr]){for(var it=0;it<ut&&a[mt+it]==a[mt+it-Yr];++it);if(it>xn){if(xn=it,Ai=Yr,it>Yl)break;var ri=Math.min(Yr,it-2),nn=0;for(un=0;un<ri;++un){var Ji=mt-Yr+un&32767,en=Ji-le[Ji]&32767;en>nn&&(nn=en,bn=Ji)}}}Yr+=(Lo=bn)-(bn=le[Lo])&32767}if(Ai){Be[Re++]=268435456|fF[xn]<<18|mF[Ai];var yn=31&fF[xn],Yn=31&mF[Ai];Lt+=Jx[yn]+Qx[Yn],++rt[257+yn],++Rt[Yn],Oi=mt+xn,++xt}else Be[Re++]=a[mt],++rt[a[mt]]}}for(mt=Math.max(mt,Oi);mt<g;++mt)Be[Re++]=a[mt],++rt[a[mt]];I=xK(a,v,S,Be,rt,Rt,Lt,Re,Li,mt-Li,I),S||(m.r=7&I|v[I/8|0]<<3,I-=7,m.h=me,m.p=le,m.i=mt,m.w=Oi)}else{for(mt=m.w||0;mt<g+S;mt+=65535){var Tn=mt+65535;Tn>=g&&(v[I/8|0]=S,Tn=g),I=kq(v,I+1,a.subarray(mt,Tn))}m.i=g}return Iv(y,0,d+LF(I)+u)})(i,n.level==null?6:n.level,n.mem==null?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):20:12+n.mem,e,t,o)},OK=function(i,n,e){for(;e;++n)i[n]=e,e>>>=8},ax=(function(){function i(n,e){if(typeof n=="function"&&(e=n,n={}),this.ondata=e,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new Tr(98304),this.o.dictionary){var t=this.o.dictionary.subarray(-32768);this.b.set(t,32768-t.length),this.s.i=32768-t.length}}return i.prototype.p=function(n,e){this.ondata(Fq(n,this.o,0,0,this.s),e)},i.prototype.push=function(n,e){this.ondata||Is(5),this.s.l&&Is(4);var t=n.length+this.s.z;if(t>this.b.length){if(t>2*this.b.length-32768){var o=new Tr(-32768&t);o.set(this.b.subarray(0,this.s.z)),this.b=o}var r=this.b.length-this.s.z;this.b.set(n.subarray(0,r),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(r),32768),this.s.z=n.length-r+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&e,(this.s.z>this.s.w+8191||e)&&(this.p(this.b,e||!1),this.s.w=this.s.i,this.s.i-=2)},i.prototype.flush=function(){this.ondata||Is(5),this.s.l&&Is(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},i})(),lx=(function(){function i(n,e){typeof n=="function"&&(e=n,n={}),this.ondata=e;var t=n&&n.dictionary&&n.dictionary.subarray(-32768);this.s={i:0,b:t?t.length:0},this.o=new Tr(32768),this.p=new Tr(0),t&&this.o.set(t)}return i.prototype.e=function(n){if(this.ondata||Is(5),this.d&&Is(4),this.p.length){if(n.length){var e=new Tr(this.p.length+n.length);e.set(this.p),e.set(n,this.p.length),this.p=e}}else this.p=n},i.prototype.c=function(n){this.s.i=+(this.d=n||!1);var e=this.s.b,t=(function(o,r,s,a){var l=o.length;if(!l||r.f&&!r.l)return s||new Tr(0);var c=!s,d=c||r.i!=2,u=r.i;c&&(s=new Tr(3*l));var m=function(nn){var Ji=s.length;if(nn>Ji){var en=new Tr(Math.max(2*Ji,nn));en.set(s),s=en}},g=r.f||0,y=r.p||0,v=r.b||0,S=r.l,I=r.d,P=r.m,L=r.n,F=8*l;do{if(!S){g=Ac(o,y,1);var K=Ac(o,y+1,3);if(y+=3,!K){var le=o[(Re=LF(y)+4)-4]|o[Re-3]<<8,me=Re+le;if(me>l){u&&Is(0);break}d&&m(v+le),s.set(o.subarray(Re,me),v),r.b=v+=le,r.p=y=8*me,r.f=g;continue}if(K==1)S=eke,I=ike,P=9,L=5;else if(K==2){var fe=Ac(o,y,31)+257,Te=Ac(o,y+10,15)+4,He=fe+Ac(o,y+5,31)+1;y+=14;for(var Be=new Tr(He),rt=new Tr(19),Rt=0;Rt<Te;++Rt)rt[hF[Rt]]=Ac(o,y+3*Rt,7);y+=3*Te;var xt=UN(rt),Lt=(1<<xt)-1,mt=Md(rt,xt,1);for(Rt=0;Rt<He;){var Re,Oi=mt[Ac(o,y,Lt)];if(y+=15&Oi,(Re=Oi>>4)<16)Be[Rt++]=Re;else{var Li=0,Co=0;for(Re==16?(Co=3+Ac(o,y,3),y+=2,Li=Be[Rt-1]):Re==17?(Co=3+Ac(o,y,7),y+=3):Re==18&&(Co=11+Ac(o,y,127),y+=7);Co--;)Be[Rt++]=Li}}var Lo=Be.subarray(0,fe),bn=Be.subarray(fe);P=UN(Lo),L=UN(bn),S=Md(Lo,P,1),I=Md(bn,L,1)}else Is(1);if(y>F){u&&Is(0);break}}d&&m(v+131072);for(var Mo=(1<<P)-1,un=(1<<L)-1,xn=y;;xn=y){var Ai=(Li=S[jN(o,y)&Mo])>>4;if((y+=15&Li)>F){u&&Is(0);break}if(Li||Is(2),Ai<256)s[v++]=Ai;else{if(Ai==256){xn=y,S=null;break}var ru=Ai-254;if(Ai>264){var Yr=Jx[Rt=Ai-257];ru=Ac(o,y,(1<<Yr)-1)+Pq[Rt],y+=Yr}var Yl=I[jN(o,y)&un],vt=Yl>>4;if(Yl||Is(3),y+=15&Yl,bn=Aq[vt],vt>3&&(Yr=Qx[vt],bn+=jN(o,y)&(1<<Yr)-1,y+=Yr),y>F){u&&Is(0);break}d&&m(v+131072);var ut=v+ru;if(v<bn){var it=0-bn,ri=Math.min(bn,ut);for(it+v<0&&Is(3);v<ri;++v)s[v]=a[it+v]}for(;v<ut;++v)s[v]=s[v-bn]}}r.l=S,r.p=xn,r.b=v,r.f=g,S&&(g=1,r.m=P,r.d=I,r.n=L)}while(!g);return v!=s.length&&c?Iv(s,0,v):s.subarray(0,v)})(this.p,this.s,this.o);this.ondata(Iv(t,e,this.s.b),this.d),this.o=Iv(t,this.s.b-32768),this.s.b=this.o.length,this.p=Iv(this.p,this.s.p/8|0),this.s.p&=7},i.prototype.push=function(n,e){this.e(n),this.c(e)},i})(),rke=(function(){function i(n,e){this.c=TK(),this.v=1,ax.call(this,n,e)}return i.prototype.push=function(n,e){this.c.p(n),ax.prototype.push.call(this,n,e)},i.prototype.p=function(n,e){var t=Fq(n,this.o,this.v&&(this.o.dictionary?6:2),e&&4,this.s);this.v&&((function(o,r){var s=r.level,a=s==0?0:s<6?1:s==9?3:2;if(o[0]=120,o[1]=a<<6|(r.dictionary&&32),o[1]|=31-(o[0]<<8|o[1])%31,r.dictionary){var l=TK();l.p(r.dictionary),OK(o,2,l.d())}})(t,this.o),this.v=0),e&&OK(t,t.length-4,this.c.d()),this.ondata(t,e)},i.prototype.flush=function(){ax.prototype.flush.call(this)},i})(),ske=(function(){function i(n,e){lx.call(this,n,e),this.v=n&&n.dictionary?2:1}return i.prototype.push=function(n,e){if(lx.prototype.e.call(this,n),this.v){if(this.p.length<6&&!e)return;this.p=this.p.subarray((t=this.p,o=this.v-1,((15&t[0])!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Is(6,"invalid zlib data"),(t[1]>>5&1)==+!o&&Is(6,"invalid zlib data: "+(32&t[1]?"need":"unexpected")+" dictionary"),2+(t[1]>>3&4))),this.v=0}var t,o;e&&(this.p.length<4&&Is(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),lx.prototype.c.call(this,e)},i})(),ake=typeof TextDecoder<"u"&&new TextDecoder;try{ake.decode(Nq,{stream:!0})}catch{}var wh=class{static get tag(){return T.packet.literalData}constructor(n=new Date){this.format=T.literal.utf8,this.date=q.normalizeDate(n),this.text=null,this.data=null,this.filename=""}setText(n,e=T.literal.utf8){this.format=e,this.text=n,this.data=null}getText(n=!1){return(this.text===null||q.isStream(this.text))&&(this.text=q.decodeUTF8(q.nativeEOL(this.getBytes(n)))),this.text}setBytes(n,e){this.format=e,this.data=n,this.text=null}getBytes(n=!1){return this.data===null&&(this.data=q.canonicalizeEOL(q.encodeUTF8(this.text))),n?Ev(this.data):this.data}setFilename(n){this.filename=n}getFilename(){return this.filename}read(n){return V(this,null,function*(){yield Bx(n,e=>V(this,null,function*(){let t=yield e.readByte(),o=yield e.readByte();this.filename=q.decodeUTF8(yield e.readBytes(o)),this.date=q.readDate(yield e.readBytes(4));let r=e.remainder();Yo(r)&&(r=yield Rr(r)),this.setBytes(r,t)}))})}writeHeader(){let n=q.encodeUTF8(this.filename),e=new Uint8Array([n.length]),t=new Uint8Array([this.format]),o=q.writeDate(this.date);return q.concatUint8Array([t,e,n,o])}write(){let n=this.writeHeader(),e=this.getBytes();return q.concat([n,e])}},Hp=class i{constructor(){this.bytes=""}read(n){return this.bytes=q.uint8ArrayToString(n.subarray(0,8)),this.bytes.length}write(){return q.stringToUint8Array(this.bytes)}toHex(){return q.uint8ArrayToHex(q.stringToUint8Array(this.bytes))}equals(n,e=!1){return e&&(n.isWildcard()||this.isWildcard())||this.bytes===n.bytes}isNull(){return this.bytes===""}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(n){return n.toHex()}static fromID(n){let e=new i;return e.read(q.hexToUint8Array(n)),e}static wildcard(){let n=new i;return n.read(new Uint8Array(8)),n}},bv=Symbol("verified"),RK="salt@notations.openpgpjs.org",lke=new Set([T.signatureSubpacket.issuerKeyID,T.signatureSubpacket.issuerFingerprint,T.signatureSubpacket.embeddedSignature]),Vs=class i{static get tag(){return T.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.unknownSubpackets=[],this.signedHashValue=null,this.salt=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new Hp,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.preferredCipherSuites=null,this.revoked=null,this[bv]=null}read(n,e=Ot){let t=0;if(this.version=n[t++],this.version===5&&!e.enableParsingV5Entities)throw new Jn("Support for v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version!==4&&this.version!==5&&this.version!==6)throw new Jn(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=n[t++],this.publicKeyAlgorithm=n[t++],this.hashAlgorithm=n[t++],t+=this.readSubPackets(n.subarray(t,n.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");if(this.signatureData=n.subarray(0,t),t+=this.readSubPackets(n.subarray(t,n.length),!1),this.signedHashValue=n.subarray(t,t+2),t+=2,this.version===6){let a=n[t++];this.salt=n.subarray(t,t+a),t+=a}let o=n.subarray(t,n.length),{read:r,signatureParams:s}=(function(a,l){let c=0;switch(a){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:case T.publicKey.rsaSign:{let d=q.readMPI(l.subarray(c));return c+=d.length+2,{read:c,signatureParams:{s:d}}}case T.publicKey.dsa:case T.publicKey.ecdsa:{let d=q.readMPI(l.subarray(c));c+=d.length+2;let u=q.readMPI(l.subarray(c));return c+=u.length+2,{read:c,signatureParams:{r:d,s:u}}}case T.publicKey.eddsaLegacy:{let d=q.readMPI(l.subarray(c));c+=d.length+2;let u=q.readMPI(l.subarray(c));return c+=u.length+2,{read:c,signatureParams:{r:d,s:u}}}case T.publicKey.ed25519:case T.publicKey.ed448:{let d=2*Ux(a),u=q.readExactSubarray(l,c,c+d);return c+=u.length,{read:c,signatureParams:{RS:u}}}default:throw new Jn("Unknown signature algorithm.")}})(this.publicKeyAlgorithm,o);if(r<o.length)throw Error("Error reading MPIs");this.params=s}writeParams(){return this.params instanceof Promise?lm(()=>V(this,null,function*(){return K_(this.publicKeyAlgorithm,yield this.params)})):K_(this.publicKeyAlgorithm,this.params)}write(){let n=[];return n.push(this.signatureData),n.push(this.writeUnhashedSubPackets()),n.push(this.signedHashValue),this.version===6&&(n.push(new Uint8Array([this.salt.length])),n.push(this.salt)),n.push(this.writeParams()),q.concat(n)}sign(s,a){return V(this,arguments,function*(n,e,t=new Date,o=!1,r){this.version=n.version,this.created=q.normalizeDate(t),this.issuerKeyVersion=n.version,this.issuerFingerprint=n.getFingerprintBytes(),this.issuerKeyID=n.getKeyID();let l=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];if(this.version===6){let m=HN(this.hashAlgorithm);if(this.salt===null)this.salt=Bs(m);else if(m!==this.salt.length)throw Error("Provided salt does not have the required length")}else if(r.nonDeterministicSignaturesViaNotation){if(this.rawNotations.filter(({name:m})=>m===RK).length!==0)throw Error("Unexpected existing salt notation");{let m=Bs(HN(this.hashAlgorithm));this.rawNotations.push({name:RK,value:m,humanReadable:!1,critical:!1})}}l.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=q.concat(l);let c=this.toHash(this.signatureType,e,o),d=yield this.hash(this.signatureType,e,c,o);this.signedHashValue=Ms(om(d),0,2);let u=()=>V(this,null,function*(){return YAe(this.publicKeyAlgorithm,this.hashAlgorithm,n.publicParams,n.privateParams,c,yield Rr(d))});q.isStream(d)?this.params=u():(this.params=yield u(),this[bv]=!0)})}writeHashedSubPackets(){let n=T.signatureSubpacket,e=[],t;if(this.created===null)throw Error("Missing signature creation time");e.push(_o(n.signatureCreationTime,!0,q.writeDate(this.created))),this.signatureExpirationTime!==null&&e.push(_o(n.signatureExpirationTime,!0,q.writeNumber(this.signatureExpirationTime,4))),this.exportable!==null&&e.push(_o(n.exportableCertification,!0,new Uint8Array([this.exportable?1:0]))),this.trustLevel!==null&&(t=new Uint8Array([this.trustLevel,this.trustAmount]),e.push(_o(n.trustSignature,!0,t))),this.regularExpression!==null&&e.push(_o(n.regularExpression,!0,this.regularExpression)),this.revocable!==null&&e.push(_o(n.revocable,!0,new Uint8Array([this.revocable?1:0]))),this.keyExpirationTime!==null&&e.push(_o(n.keyExpirationTime,!0,q.writeNumber(this.keyExpirationTime,4))),this.preferredSymmetricAlgorithms!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.preferredSymmetricAlgorithms)),e.push(_o(n.preferredSymmetricAlgorithms,!1,t))),this.revocationKeyClass!==null&&(t=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),t=q.concat([t,this.revocationKeyFingerprint]),e.push(_o(n.revocationKey,!1,t))),!this.issuerKeyID.isNull()&&this.issuerKeyVersion<5&&e.push(_o(n.issuerKeyID,!1,this.issuerKeyID.write())),this.rawNotations.forEach(({name:s,value:a,humanReadable:l,critical:c})=>{t=[new Uint8Array([l?128:0,0,0,0])];let d=q.encodeUTF8(s);t.push(q.writeNumber(d.length,2)),t.push(q.writeNumber(a.length,2)),t.push(d),t.push(a),t=q.concat(t),e.push(_o(n.notationData,c,t))}),this.preferredHashAlgorithms!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.preferredHashAlgorithms)),e.push(_o(n.preferredHashAlgorithms,!1,t))),this.preferredCompressionAlgorithms!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.preferredCompressionAlgorithms)),e.push(_o(n.preferredCompressionAlgorithms,!1,t))),this.keyServerPreferences!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.keyServerPreferences)),e.push(_o(n.keyServerPreferences,!1,t))),this.preferredKeyServer!==null&&e.push(_o(n.preferredKeyServer,!1,q.encodeUTF8(this.preferredKeyServer))),this.isPrimaryUserID!==null&&e.push(_o(n.primaryUserID,!1,new Uint8Array([this.isPrimaryUserID?1:0]))),this.policyURI!==null&&e.push(_o(n.policyURI,!1,q.encodeUTF8(this.policyURI))),this.keyFlags!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.keyFlags)),e.push(_o(n.keyFlags,!0,t))),this.signersUserID!==null&&e.push(_o(n.signersUserID,!1,q.encodeUTF8(this.signersUserID))),this.reasonForRevocationFlag!==null&&(t=q.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),e.push(_o(n.reasonForRevocation,!0,t))),this.features!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.features)),e.push(_o(n.features,!1,t))),this.signatureTargetPublicKeyAlgorithm!==null&&(t=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],t.push(q.stringToUint8Array(this.signatureTargetHash)),t=q.concat(t),e.push(_o(n.signatureTarget,!0,t))),this.embeddedSignature!==null&&e.push(_o(n.embeddedSignature,!0,this.embeddedSignature.write())),this.issuerFingerprint!==null&&(t=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],t=q.concat(t),e.push(_o(n.issuerFingerprint,this.version>=5,t))),this.preferredAEADAlgorithms!==null&&(t=q.stringToUint8Array(q.uint8ArrayToString(this.preferredAEADAlgorithms)),e.push(_o(n.preferredAEADAlgorithms,!1,t))),this.preferredCipherSuites!==null&&(t=new Uint8Array([].concat(...this.preferredCipherSuites)),e.push(_o(n.preferredCipherSuites,!1,t)));let o=q.concat(e),r=q.writeNumber(o.length,this.version===6?4:2);return q.concat([r,o])}writeUnhashedSubPackets(){let n=this.unhashedSubpackets.map(({type:o,critical:r,body:s})=>_o(o,r,s)),e=q.concat(n),t=q.writeNumber(e.length,this.version===6?4:2);return q.concat([t,e])}readSubPacket(n,e=!0){let t=0,o=!!(128&n[t]),r=127&n[t];if(t++,e||(this.unhashedSubpackets.push({type:r,critical:o,body:n.subarray(t,n.length)}),lke.has(r)))switch(r){case T.signatureSubpacket.signatureCreationTime:this.created=q.readDate(n.subarray(t,n.length));break;case T.signatureSubpacket.signatureExpirationTime:{let s=q.readNumber(n.subarray(t,n.length));this.signatureNeverExpires=s===0,this.signatureExpirationTime=s;break}case T.signatureSubpacket.exportableCertification:this.exportable=n[t++]===1;break;case T.signatureSubpacket.trustSignature:this.trustLevel=n[t++],this.trustAmount=n[t++];break;case T.signatureSubpacket.regularExpression:this.regularExpression=n[t];break;case T.signatureSubpacket.revocable:this.revocable=n[t++]===1;break;case T.signatureSubpacket.keyExpirationTime:{let s=q.readNumber(n.subarray(t,n.length));this.keyExpirationTime=s,this.keyNeverExpires=s===0;break}case T.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.revocationKey:this.revocationKeyClass=n[t++],this.revocationKeyAlgorithm=n[t++],this.revocationKeyFingerprint=n.subarray(t,t+20);break;case T.signatureSubpacket.issuerKeyID:if(this.version===4)this.issuerKeyID.read(n.subarray(t,n.length));else if(e)throw Error("Unexpected Issuer Key ID subpacket");break;case T.signatureSubpacket.notationData:{let s=!!(128&n[t]);t+=4;let a=q.readNumber(n.subarray(t,t+2));t+=2;let l=q.readNumber(n.subarray(t,t+2));t+=2;let c=q.decodeUTF8(n.subarray(t,t+a)),d=n.subarray(t+a,t+a+l);this.rawNotations.push({name:c,humanReadable:s,value:d,critical:o}),s&&(this.notations[c]=q.decodeUTF8(d));break}case T.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=q.decodeUTF8(n.subarray(t,n.length));break;case T.signatureSubpacket.primaryUserID:this.isPrimaryUserID=n[t++]!==0;break;case T.signatureSubpacket.policyURI:this.policyURI=q.decodeUTF8(n.subarray(t,n.length));break;case T.signatureSubpacket.keyFlags:this.keyFlags=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.signersUserID:this.signersUserID=q.decodeUTF8(n.subarray(t,n.length));break;case T.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=n[t++],this.reasonForRevocationString=q.decodeUTF8(n.subarray(t,n.length));break;case T.signatureSubpacket.features:this.features=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=n[t++],this.signatureTargetHashAlgorithm=n[t++];let s=ds(this.signatureTargetHashAlgorithm);this.signatureTargetHash=q.uint8ArrayToString(n.subarray(t,t+s));break}case T.signatureSubpacket.embeddedSignature:this.embeddedSignature=new i,this.embeddedSignature.read(n.subarray(t,n.length));break;case T.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=n[t++],this.issuerFingerprint=n.subarray(t,n.length),this.issuerKeyVersion>=5?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case T.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...n.subarray(t,n.length)];break;case T.signatureSubpacket.preferredCipherSuites:this.preferredCipherSuites=[];for(let s=t;s<n.length;s+=2)this.preferredCipherSuites.push([n[s],n[s+1]]);break;default:this.unknownSubpackets.push({type:r,critical:o,body:n.subarray(t,n.length)})}}readSubPackets(n,e=!0,t){let o=this.version===6?4:2,r=q.readNumber(n.subarray(0,o)),s=o;for(;s<2+r;){let a=QK(n.subarray(s,n.length));s+=a.offset,this.readSubPacket(n.subarray(s,s+a.len),e,t),s+=a.len}return s}toSign(n,e){let t=T.signature;switch(n){case t.binary:return e.text!==null?q.encodeUTF8(e.getText(!0)):e.getBytes(!0);case t.text:{let o=e.getBytes(!0);return q.canonicalizeEOL(o)}case t.standalone:return new Uint8Array(0);case t.certGeneric:case t.certPersona:case t.certCasual:case t.certPositive:case t.certRevocation:{let o,r;if(e.userID)r=180,o=e.userID;else{if(!e.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");r=209,o=e.userAttribute}let s=o.write();return q.concat([this.toSign(t.key,e),new Uint8Array([r]),q.writeNumber(s.length,4),s])}case t.subkeyBinding:case t.subkeyRevocation:case t.keyBinding:return q.concat([this.toSign(t.key,e),this.toSign(t.key,{key:e.bind})]);case t.key:if(e.key===void 0)throw Error("Key packet is required for this signature.");return e.key.writeForHash(this.version);case t.keyRevocation:return this.toSign(t.key,e);case t.timestamp:return new Uint8Array(0);case t.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(n,e){let t=0;return $r(om(this.signatureData),o=>{t+=o.length},()=>{let o=[];return this.version!==5||this.signatureType!==T.signature.binary&&this.signatureType!==T.signature.text||(e?o.push(new Uint8Array(6)):o.push(n.writeHeader())),o.push(new Uint8Array([this.version,255])),this.version===5&&o.push(new Uint8Array(4)),o.push(q.writeNumber(t,4)),q.concat(o)})}toHash(n,e,t=!1){let o=this.toSign(n,e);return q.concat([this.salt||new Uint8Array,o,this.signatureData,this.calculateTrailer(e,t)])}hash(n,e,t,o=!1){return V(this,null,function*(){if(this.version===6&&this.salt.length!==HN(this.hashAlgorithm))throw Error("Signature salt does not have the expected length");return t||(t=this.toHash(n,e,o)),Vd(this.hashAlgorithm,t)})}verify(a,l,c){return V(this,arguments,function*(n,e,t,o=new Date,r=!1,s=Ot){if(!this.issuerKeyID.equals(n.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==n.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let d=e===T.signature.binary||e===T.signature.text;if(!(this[bv]&&!d)){let m,g;if(this.hashed?g=yield this.hashed:(m=this.toHash(e,t,r),g=yield this.hash(e,t,m)),g=yield Rr(g),this.signedHashValue[0]!==g[0]||this.signedHashValue[1]!==g[1])throw Error("Signed digest did not match");if(this.params=yield this.params,this[bv]=yield QAe(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,n.publicParams,m,g),!this[bv])throw Error("Signature verification failed")}let u=q.normalizeDate(o);if(u&&this.created>u)throw Error("Signature creation time is in the future");if(u&&u>=this.getExpirationTime())throw Error("Signature is expired");if(s.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+T.read(T.hash,this.hashAlgorithm).toUpperCase());if(s.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[T.signature.binary,T.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+T.read(T.hash,this.hashAlgorithm).toUpperCase());if(this.unknownSubpackets.forEach(({type:m,critical:g})=>{if(g)throw Error("Unknown critical signature subpacket type "+m)}),this.rawNotations.forEach(({name:m,critical:g})=>{if(g&&s.knownNotations.indexOf(m)<0)throw Error("Unknown critical notation: "+m)}),this.revocationKeyClass!==null)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")})}isExpired(n=new Date){let e=q.normalizeDate(n);return e!==null&&!(this.created<=e&&e<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}};function _o(i,n,e){let t=[];return t.push(Vx(e.length+1)),t.push(new Uint8Array([(n?128:0)|i])),t.push(e),q.concat(t)}function HN(i){switch(i){case T.hash.sha256:return 16;case T.hash.sha384:return 24;case T.hash.sha512:return 32;case T.hash.sha224:case T.hash.sha3_256:return 16;case T.hash.sha3_512:return 32;default:throw Error("Unsupported hash function")}}var $l=class i{static get tag(){return T.packet.onePassSignature}static fromSignaturePacket(n,e){let t=new i;return t.version=n.version===6?6:3,t.signatureType=n.signatureType,t.hashAlgorithm=n.hashAlgorithm,t.publicKeyAlgorithm=n.publicKeyAlgorithm,t.issuerKeyID=n.issuerKeyID,t.salt=n.salt,t.issuerFingerprint=n.issuerFingerprint,t.flags=e?1:0,t}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.salt=null,this.issuerKeyID=null,this.issuerFingerprint=null,this.flags=null}read(n){let e=0;if(this.version=n[e++],this.version!==3&&this.version!==6)throw new Jn(`Version ${this.version} of the one-pass signature packet is unsupported.`);if(this.signatureType=n[e++],this.hashAlgorithm=n[e++],this.publicKeyAlgorithm=n[e++],this.version===6){let t=n[e++];this.salt=n.subarray(e,e+t),e+=t,this.issuerFingerprint=n.subarray(e,e+32),e+=32,this.issuerKeyID=new Hp,this.issuerKeyID.read(this.issuerFingerprint)}else this.issuerKeyID=new Hp,this.issuerKeyID.read(n.subarray(e,e+8)),e+=8;return this.flags=n[e++],this}write(){let n=[new Uint8Array([this.version,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm])];return this.version===6?n.push(new Uint8Array([this.salt.length]),this.salt,this.issuerFingerprint):n.push(this.issuerKeyID.write()),n.push(new Uint8Array([this.flags])),q.concatUint8Array(n)}calculateTrailer(...n){return lm(()=>V(this,null,function*(){return Vs.prototype.calculateTrailer.apply(yield this.correspondingSig,n)}))}verify(){return V(this,arguments,function*(){let n=yield this.correspondingSig;if(!n||n.constructor.tag!==T.packet.signature)throw Error("Corresponding signature packet missing");if(n.signatureType!==this.signatureType||n.hashAlgorithm!==this.hashAlgorithm||n.publicKeyAlgorithm!==this.publicKeyAlgorithm||!n.issuerKeyID.equals(this.issuerKeyID)||this.version===3&&n.version===6||this.version===6&&n.version!==6||this.version===6&&!q.equalsUint8Array(n.issuerFingerprint,this.issuerFingerprint)||this.version===6&&!q.equalsUint8Array(n.salt,this.salt))throw Error("Corresponding signature packet does not match one-pass signature packet");return n.hashed=this.hashed,n.verify.apply(n,arguments)})}};function cke(i,n){if(!n[i]){let e;try{e=T.read(T.packet,i)}catch{throw new G_("Unknown packet type with tag: "+i)}throw Error("Packet not allowed in this context: "+e)}return new n[i]}$l.prototype.hash=Vs.prototype.hash,$l.prototype.toHash=Vs.prototype.toHash,$l.prototype.toSign=Vs.prototype.toSign;var bo=class i extends Array{static fromBinary(s,a){return V(this,arguments,function*(n,e,t=Ot,o=null,r=!1){let l=new i;return yield l.read(n,e,t,o,r),l})}read(s,a){return V(this,arguments,function*(n,e,t=Ot,o=null,r=!1){let l;t.additionalAllowedPackets.length&&(l=q.constructAllowedPackets(t.additionalAllowedPackets),e=ee(ee({},e),l)),this.stream=Ch(n,(d,u)=>V(this,null,function*(){let m=Nc(d),g=Il(u);try{let y=q.isStream(d);for(;;){let v,S;if(yield g.ready,yield CAe(m,y,P=>V(this,null,function*(){try{if(P.tag===T.packet.marker||P.tag===T.packet.trust||P.tag===T.packet.padding)return;let L=cke(P.tag,e);try{o?.recordPacket(P.tag,l)}catch(F){if(t.enforceGrammar)throw F;q.printDebugError(F)}L.packets=new i,L.fromStream=q.isStream(P.packet),S=L.fromStream;try{yield L.read(P.packet,t)}catch(F){throw F instanceof Jn?F:q.wrapError(new xv(`Parsing ${L.constructor.name} failed`),F)}yield g.write(L)}catch(L){let F=L instanceof G_&&P.tag<=39,K=L instanceof Jn&&!(L instanceof G_)&&!t.ignoreUnsupportedPackets,le=L instanceof xv&&!t.ignoreMalformedPackets,me=ex(P.tag);if(F||K||le||me||!(L instanceof G_||L instanceof Jn||L instanceof xv))r?v=L:yield g.abort(L);else{let fe=new Tv(P.tag,P.packet);yield g.write(fe)}q.printDebugError(L)}})),S&&(y=null),v)throw yield m.readToEnd(),v;let I=yield m.peekBytes(2);if(!I||!I.length){try{o?.recordEnd()}catch(P){if(t.enforceGrammar)throw P;q.printDebugError(P)}return yield g.ready,void(yield g.close())}}}catch(y){yield g.abort(y)}}));let c=Nc(this.stream);for(;;){let{done:d,value:u}=yield c.read();if(d?this.stream=null:this.push(u),d||ex(u.constructor.tag))break}c.releaseLock()})}write(){let n=[];for(let e=0;e<this.length;e++){let t=this[e]instanceof Tv?this[e].tag:this[e].constructor.tag,o=this[e].write();if(q.isStream(o)&&ex(this[e].constructor.tag)){let r=[],s=0,a=512;n.push(ux(t)),n.push($r(o,l=>{if(r.push(l),s+=l.length,s>=a){let c=Math.min(Math.log(s)/Math.LN2|0,30),d=2**c,u=q.concat([wAe(c)].concat(r));return r=[u.subarray(1+d)],s=r[0].length,u.subarray(0,1+d)}},()=>q.concat([Vx(s)].concat(r))))}else{if(q.isStream(o)){let r=0;n.push($r(om(o),s=>{r+=s.length},()=>aK(t,r)))}else n.push(aK(t,o.length));n.push(o)}}return q.concat(n)}filterByTag(...n){let e=new i,t=o=>r=>o===r;for(let o=0;o<this.length;o++)n.some(t(this[o].constructor.tag))&&e.push(this[o]);return e}findPacket(n){return this.find(e=>e.constructor.tag===n)}indexOfTag(...n){let e=[],t=this,o=r=>s=>r===s;for(let r=0;r<this.length;r++)n.some(o(t[r].constructor.tag))&&e.push(r);return e}},Rd=class i extends Error{constructor(...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="GrammarError"}},br;(function(i){i[i.EmptyMessage=0]="EmptyMessage",i[i.PlaintextOrEncryptedData=1]="PlaintextOrEncryptedData",i[i.EncryptedSessionKeys=2]="EncryptedSessionKeys",i[i.StandaloneAdditionalAllowedData=3]="StandaloneAdditionalAllowedData"})(br||(br={}));var q_=class{constructor(){this.state=br.EmptyMessage,this.leadingOnePassSignatureCounter=0}recordPacket(n,e){switch(this.state){case br.EmptyMessage:case br.StandaloneAdditionalAllowedData:switch(n){case T.packet.literalData:case T.packet.compressedData:case T.packet.aeadEncryptedData:case T.packet.symEncryptedIntegrityProtectedData:case T.packet.symmetricallyEncryptedData:return void(this.state=br.PlaintextOrEncryptedData);case T.packet.signature:if(this.state===br.StandaloneAdditionalAllowedData&&--this.leadingOnePassSignatureCounter<0)throw new Rd("Trailing signature packet without OPS");return;case T.packet.onePassSignature:if(this.state===br.StandaloneAdditionalAllowedData)throw new Rd("OPS following StandaloneAdditionalAllowedData");return void this.leadingOnePassSignatureCounter++;case T.packet.publicKeyEncryptedSessionKey:case T.packet.symEncryptedSessionKey:return void(this.state=br.EncryptedSessionKeys);default:if(!e?.[n])throw new Rd(`Unexpected packet ${n} in state ${this.state}`);return void(this.state=br.StandaloneAdditionalAllowedData)}case br.PlaintextOrEncryptedData:if(n===T.packet.signature){if(--this.leadingOnePassSignatureCounter<0)throw new Rd("Trailing signature packet without OPS");return void(this.state=br.PlaintextOrEncryptedData)}if(!e?.[n])throw new Rd(`Unexpected packet ${n} in state ${this.state}`);return void(this.state=br.PlaintextOrEncryptedData);case br.EncryptedSessionKeys:switch(n){case T.packet.publicKeyEncryptedSessionKey:case T.packet.symEncryptedSessionKey:return void(this.state=br.EncryptedSessionKeys);case T.packet.symEncryptedIntegrityProtectedData:case T.packet.aeadEncryptedData:case T.packet.symmetricallyEncryptedData:return void(this.state=br.PlaintextOrEncryptedData);case T.packet.signature:if(--this.leadingOnePassSignatureCounter<0)throw new Rd("Trailing signature packet without OPS");return void(this.state=br.PlaintextOrEncryptedData);default:if(!e?.[n])throw new Rd(`Unexpected packet ${n} in state ${this.state}`);this.state=br.EncryptedSessionKeys}}}recordEnd(){switch(this.state){case br.EmptyMessage:case br.PlaintextOrEncryptedData:case br.EncryptedSessionKeys:case br.StandaloneAdditionalAllowedData:if(this.leadingOnePassSignatureCounter>0)throw new Rd("Missing trailing signature packets")}}},dke=q.constructAllowedPackets([wh,$l,Vs]),am=class{static get tag(){return T.packet.compressedData}constructor(n=Ot){this.packets=null,this.algorithm=n.preferredCompressionAlgorithm,this.compressed=null}read(t){return V(this,arguments,function*(n,e=Ot){yield Bx(n,o=>V(this,null,function*(){this.algorithm=yield o.readByte(),this.compressed=o.remainder(),yield this.decompress(e)}))})}write(){return this.compressed===null&&this.compress(),q.concat([new Uint8Array([this.algorithm]),this.compressed])}decompress(){return V(this,arguments,function*(n=Ot){let e=T.read(T.compression,this.algorithm),t=hke[e];if(!t)throw Error(e+" decompression not supported");let o=yield t(this.compressed);if(n.maxDecompressedMessageSize!==1/0){let r=0;o=$r(o,s=>{if(r+=s.length,r>n.maxDecompressedMessageSize)throw Error("Maximum decompressed message size exceeded");return s})}Kr(this.compressed)&&!Yo(this.compressed)||(o=yield Rr(o)),this.packets=yield bo.fromBinary(o,dke,n,new q_)})}compress(){let n=T.read(T.compression,this.algorithm),e=uke[n];if(!e)throw Error(n+" compression not supported");let t=this.packets.write(),o=e(t);Kr(t)&&!Yo(t)||(o=lm(()=>Rr(o))),this.compressed=o}};function Ox(i,n){return e=>{let t;if(t=Yo(e)?new ReadableStream({start(d){return V(this,null,function*(){try{d.enqueue(yield Rr(e)),d.close()}catch(u){d.error(u)}})}}):Kr(e)?e:Uv(e),t=(function(d){let u=Nc(d);return new ReadableStream({pull(g){return V(this,null,function*(){try{let{value:y,done:v}=yield u.read();if(v)return void g.close();for(let S=0;S<=y.length;S+=65536)(!S||S<y.length)&&g.enqueue(y.subarray(S,S+65536))}catch(y){g.error(y)}})}},{highWaterMark:0})})(t),i)try{let d=i();return t.pipeThrough(d)}catch(d){if(d.name!=="TypeError")throw d}let o=Nc(t),r=new n,s=!1,a=!1;return new ReadableStream({start(d){r.ondata=(u,m)=>{d.enqueue(u),s=!0,m&&(d.close(),a=!0)}},pull(){return V(this,null,function*(){for(s=!1;!s&&!a;){let{done:d,value:u}=yield o.read();if(d)return void r.push(new Uint8Array,!0);u.length&&r.push(u)}})}},{highWaterMark:0})}}function pke(){return function(i){return V(this,null,function*(){let{default:n}=yield import("./chunk-ROJ2QOPN.js").then(function(e){return e.i});return n(Uv(i))})}}var Rx=i=>({compressor:typeof CompressionStream<"u"&&(()=>new CompressionStream(i)),decompressor:typeof DecompressionStream<"u"&&(()=>new DecompressionStream(i))}),uke={zip:Ox(Rx("deflate-raw").compressor,ax),zlib:Ox(Rx("deflate").compressor,rke)},hke={uncompressed:i=>i,zip:Ox(Rx("deflate-raw").decompressor,lx),zlib:Ox(Rx("deflate").decompressor,ske),bzip2:pke()},fke=q.constructAllowedPackets([wh,am,$l,Vs]),J_=class i{static get tag(){return T.packet.symEncryptedIntegrityProtectedData}static fromObject({version:n,aeadAlgorithm:e}){if(n!==1&&n!==2)throw Error("Unsupported SEIPD version");let t=new i;return t.version=n,n===2&&(t.aeadAlgorithm=e),t}constructor(){this.version=null,this.cipherAlgorithm=null,this.aeadAlgorithm=null,this.chunkSizeByte=null,this.salt=null,this.encrypted=null,this.packets=null}read(n){return V(this,null,function*(){yield Bx(n,e=>V(this,null,function*(){if(this.version=yield e.readByte(),this.version!==1&&this.version!==2)throw new Jn(`Version ${this.version} of the SEIP packet is unsupported.`);this.version===2&&(this.cipherAlgorithm=yield e.readByte(),this.aeadAlgorithm=yield e.readByte(),this.chunkSizeByte=yield e.readByte(),this.salt=yield e.readBytes(32)),this.encrypted=e.remainder()}))})}write(){return this.version===2?q.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.salt,this.encrypted]):q.concat([new Uint8Array([this.version]),this.encrypted])}encrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){let{blockSize:s,keySize:a}=yo(n);if(e.length!==a)throw Error("Unexpected session key size");let l=this.packets.write();if(Yo(l)&&(l=yield Rr(l)),this.version===2)this.cipherAlgorithm=n,this.salt=Bs(32),this.chunkSizeByte=t.aeadChunkSizeByte,this.encrypted=yield Dx(this,"encrypt",e,l);else{let c=yield Tq(n),d=new Uint8Array([211,20]),u=q.concat([c,l,d]),m=yield Vd(T.hash.sha1,Ev(u)),g=q.concat([u,m]);this.encrypted=yield Pv(n,e,g,new Uint8Array(s))}return!0})}decrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){if(e.length!==yo(n).keySize)throw Error("Unexpected session key size");let s,a=om(this.encrypted);Yo(a)&&(a=yield Rr(a));let l=!1;if(this.version===2){if(this.cipherAlgorithm!==n)throw Error("Unexpected session key algorithm");s=yield Dx(this,"decrypt",e,a)}else{let{blockSize:c}=yo(n),d=yield qx(n,e,a,new Uint8Array(c)),u=Ms(Ev(d),-20),m=Ms(d,0,-20),g=Promise.all([Rr(yield Vd(T.hash.sha1,Ev(m))),Rr(u)]).then(([v,S])=>{if(!q.equalsUint8Array(v,S))throw Error("Modification detected.");return new Uint8Array}),y=Ms(m,c+2);s=Ms(y,0,-2),s=Ia([s,lm(()=>g)]),q.isStream(a)&&t.allowUnauthenticatedStream?l=!0:s=yield Rr(s)}return this.packets=yield bo.fromBinary(s,fke,t,new q_,l),!0})}};function Dx(i,n,e,t){return V(this,null,function*(){let o=i instanceof J_&&i.version===2,r=!o&&i.constructor.tag===T.packet.aeadEncryptedData;if(!o&&!r)throw Error("Unexpected packet type");let s=Gp(i.aeadAlgorithm,r),a=n==="decrypt"?s.tagLength:0,l=n==="encrypt"?s.tagLength:0,c=2**(i.chunkSizeByte+6)+a,d=r?8:0,u=new ArrayBuffer(13+d),m=new Uint8Array(u,0,5+d),g=new Uint8Array(u),y=new DataView(u),v=new Uint8Array(u,5,8);m.set([192|i.constructor.tag,i.version,i.cipherAlgorithm,i.aeadAlgorithm,i.chunkSizeByte],0);let S,I,P=0,L=Promise.resolve(),F=0,K=0;if(o){let{keySize:me}=yo(i.cipherAlgorithm),{ivLength:fe}=s,Te=new Uint8Array(u,0,5),He=yield yh(T.hash.sha256,e,i.salt,Te,me+fe);e=He.subarray(0,me),S=He.subarray(me),S.fill(0,S.length-8),I=new DataView(S.buffer,S.byteOffset,S.byteLength)}else S=i.iv;let le=yield s(i.cipherAlgorithm,e);return Ch(t,(me,fe)=>V(null,null,function*(){if(q.isStream(me)!=="array"){let Be=new TransformStream({},{highWaterMark:q.getHardwareConcurrency()*2**(i.chunkSizeByte+6),size:rt=>rt.length});z_(Be.readable,fe),fe=Be.writable}let Te=Nc(me),He=Il(fe);try{for(;;){let Be=(yield Te.readBytes(c+a))||new Uint8Array,rt=Be.subarray(Be.length-a),Rt,xt,Lt;if(Be=Be.subarray(0,Be.length-a),o)Lt=S;else{Lt=S.slice();for(let mt=0;mt<8;mt++)Lt[S.length-8+mt]^=v[mt]}if(!P||Be.length?(Te.unshift(rt),Rt=le[n](Be,Lt,m),Rt.catch(()=>{}),K+=Be.length-a+l):(y.setInt32(5+d+4,F),Rt=le[n](rt,Lt,g),Rt.catch(()=>{}),K+=l,xt=!0),F+=Be.length-a,L=L.then(()=>Rt).then(mt=>V(null,null,function*(){yield He.ready,yield He.write(mt),K-=mt.length})).catch(mt=>He.abort(mt)),(xt||K>He.desiredSize)&&(yield L),xt){yield He.close();break}o?I.setInt32(S.length-4,++P):y.setInt32(9,++P)}}catch(Be){yield He.ready.catch(()=>{}),yield He.abort(Be)}}))})}var mke=q.constructAllowedPackets([wh,am,$l,Vs]),_F=class{static get tag(){return T.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=T.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}read(n){return V(this,null,function*(){yield Bx(n,e=>V(this,null,function*(){let t=yield e.readByte();if(t!==1)throw new Jn(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=yield e.readByte(),this.aeadAlgorithm=yield e.readByte(),this.chunkSizeByte=yield e.readByte();let o=Gp(this.aeadAlgorithm,!0);this.iv=yield e.readBytes(o.ivLength),this.encrypted=e.remainder()}))})}write(){return q.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}decrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){this.packets=yield bo.fromBinary(yield Dx(this,"decrypt",e,om(this.encrypted)),mke,t,new q_)})}encrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){this.cipherAlgorithm=n;let{ivLength:s}=Gp(this.aeadAlgorithm,!0);this.iv=Bs(s),this.chunkSizeByte=t.aeadChunkSizeByte;let a=this.packets.write();this.encrypted=yield Dx(this,"encrypt",e,a)})}},kv=class i{static get tag(){return T.packet.publicKeyEncryptedSessionKey}constructor(){this.version=null,this.publicKeyID=new Hp,this.publicKeyVersion=null,this.publicKeyFingerprint=null,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}static fromObject({version:n,encryptionKeyPacket:e,anonymousRecipient:t,sessionKey:o,sessionKeyAlgorithm:r}){let s=new i;if(n!==3&&n!==6)throw Error("Unsupported PKESK version");return s.version=n,n===6&&(s.publicKeyVersion=t?null:e.version,s.publicKeyFingerprint=t?null:e.getFingerprintBytes()),s.publicKeyID=t?Hp.wildcard():e.getKeyID(),s.publicKeyAlgorithm=e.algorithm,s.sessionKey=o,s.sessionKeyAlgorithm=r,s}read(n){let e=0;if(this.version=n[e++],this.version!==3&&this.version!==6)throw new Jn(`Version ${this.version} of the PKESK packet is unsupported.`);if(this.version===6){let t=n[e++];if(t){this.publicKeyVersion=n[e++];let o=t-1;this.publicKeyFingerprint=n.subarray(e,e+o),e+=o,this.publicKeyVersion>=5?this.publicKeyID.read(this.publicKeyFingerprint):this.publicKeyID.read(this.publicKeyFingerprint.subarray(-8))}else this.publicKeyID=Hp.wildcard()}else e+=this.publicKeyID.read(n.subarray(e,e+8));if(this.publicKeyAlgorithm=n[e++],this.encrypted=(function(t,o){let r=0;switch(t){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:return{c:q.readMPI(o.subarray(r))};case T.publicKey.elgamal:{let s=q.readMPI(o.subarray(r));return r+=s.length+2,{c1:s,c2:q.readMPI(o.subarray(r))}}case T.publicKey.ecdh:{let s=q.readMPI(o.subarray(r));r+=s.length+2;let a=new yx;return a.read(o.subarray(r)),{V:s,C:a}}case T.publicKey.x25519:case T.publicKey.x448:{let s=B_(t),a=q.readExactSubarray(o,r,r+s);r+=a.length;let l=new wx;return l.read(o.subarray(r)),{ephemeralPublicKey:a,C:l}}default:throw new Jn("Unknown public key encryption algorithm.")}})(this.publicKeyAlgorithm,n.subarray(e)),this.publicKeyAlgorithm===T.publicKey.x25519||this.publicKeyAlgorithm===T.publicKey.x448){if(this.version===3)this.sessionKeyAlgorithm=T.write(T.symmetric,this.encrypted.C.algorithm);else if(this.encrypted.C.algorithm!==null)throw Error("Unexpected cleartext symmetric algorithm")}}write(){let n=[new Uint8Array([this.version])];return this.version===6?this.publicKeyFingerprint!==null?(n.push(new Uint8Array([this.publicKeyFingerprint.length+1,this.publicKeyVersion])),n.push(this.publicKeyFingerprint)):n.push(new Uint8Array([0])):n.push(this.publicKeyID.write()),n.push(new Uint8Array([this.publicKeyAlgorithm]),K_(this.publicKeyAlgorithm,this.encrypted)),q.concatUint8Array(n)}encrypt(n){return V(this,null,function*(){let e=T.write(T.publicKey,this.publicKeyAlgorithm),t=this.version===3?this.sessionKeyAlgorithm:null,o=n.version===5?n.getFingerprintBytes().subarray(0,20):n.getFingerprintBytes(),r=DK(this.version,e,t,this.sessionKey);this.encrypted=yield BAe(e,t,n.publicParams,r,o)})}decrypt(n,e){return V(this,null,function*(){if(this.publicKeyAlgorithm!==n.algorithm)throw Error("Decryption error");let t=e?DK(this.version,this.publicKeyAlgorithm,e.sessionKeyAlgorithm,e.sessionKey):null,o=n.version===5?n.getFingerprintBytes().subarray(0,20):n.getFingerprintBytes(),r=yield VAe(this.publicKeyAlgorithm,n.publicParams,n.privateParams,this.encrypted,o,t),{sessionKey:s,sessionKeyAlgorithm:a}=(function(l,c,d,u){switch(c){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.elgamal:case T.publicKey.ecdh:{let m=d.subarray(0,d.length-2),g=d.subarray(d.length-2),y=q.writeChecksum(m.subarray(m.length%8)),v=y[0]===g[0]&y[1]===g[1],S=l===6?{sessionKeyAlgorithm:null,sessionKey:m}:{sessionKeyAlgorithm:m[0],sessionKey:m.subarray(1)};if(u){let I=v&S.sessionKeyAlgorithm===u.sessionKeyAlgorithm&S.sessionKey.length===u.sessionKey.length;return{sessionKey:q.selectUint8Array(I,S.sessionKey,u.sessionKey),sessionKeyAlgorithm:l===6?null:q.selectUint8(I,S.sessionKeyAlgorithm,u.sessionKeyAlgorithm)}}if(v&&(l===6||T.read(T.symmetric,S.sessionKeyAlgorithm)))return S;throw Error("Decryption error")}case T.publicKey.x25519:case T.publicKey.x448:return{sessionKeyAlgorithm:null,sessionKey:d};default:throw Error("Unsupported public key algorithm")}})(this.version,this.publicKeyAlgorithm,r,e);if(this.version===3){let l=this.publicKeyAlgorithm!==T.publicKey.x25519&&this.publicKeyAlgorithm!==T.publicKey.x448;if(this.sessionKeyAlgorithm=l?a:this.sessionKeyAlgorithm,s.length!==yo(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}this.sessionKey=s})}};function DK(i,n,e,t){switch(n){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.elgamal:case T.publicKey.ecdh:return q.concatUint8Array([new Uint8Array(i===6?[]:[e]),t,q.writeChecksum(t.subarray(t.length%8))]);case T.publicKey.x25519:case T.publicKey.x448:return t;default:throw Error("Unsupported public key algorithm")}}var Nv=class i{static get tag(){return T.packet.symEncryptedSessionKey}constructor(n=Ot){this.version=n.aeadProtect?6:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=null,this.aeadAlgorithm=T.write(T.aead,n.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(n){let e=0;if(this.version=n[e++],this.version!==4&&this.version!==5&&this.version!==6)throw new Jn(`Version ${this.version} of the SKESK packet is unsupported.`);this.version===6&&e++;let t=n[e++];this.version>=5&&(this.aeadAlgorithm=n[e++],this.version===6&&e++);let o=n[e++];if(this.s2k=xx(o),e+=this.s2k.read(n.subarray(e,n.length)),this.version>=5){let r=Gp(this.aeadAlgorithm,!0);this.iv=n.subarray(e,e+=r.ivLength)}this.version>=5||e<n.length?(this.encrypted=n.subarray(e,n.length),this.sessionKeyEncryptionAlgorithm=t):this.sessionKeyAlgorithm=t}write(){let n=this.encrypted===null?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm,e,t=this.s2k.write();if(this.version===6){let o=t.length,r=3+o+this.iv.length;e=q.concatUint8Array([new Uint8Array([this.version,r,n,this.aeadAlgorithm,o]),t,this.iv,this.encrypted])}else this.version===5?e=q.concatUint8Array([new Uint8Array([this.version,n,this.aeadAlgorithm]),t,this.iv,this.encrypted]):(e=q.concatUint8Array([new Uint8Array([this.version,n]),t]),this.encrypted!==null&&(e=q.concatUint8Array([e,this.encrypted])));return e}decrypt(n){return V(this,null,function*(){let e=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:t,keySize:o}=yo(e),r=yield this.s2k.produceKey(n,o);if(this.version>=5){let s=Gp(this.aeadAlgorithm,!0),a=new Uint8Array([192|i.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),l=this.version===6?yield yh(T.hash.sha256,r,new Uint8Array,a,o):r,c=yield s(e,l);this.sessionKey=yield c.decrypt(this.encrypted,this.iv,a)}else if(this.encrypted!==null){let s=yield qx(e,r,this.encrypted,new Uint8Array(t));if(this.sessionKeyAlgorithm=T.write(T.symmetric,s[0]),this.sessionKey=s.subarray(1,s.length),this.sessionKey.length!==yo(this.sessionKeyAlgorithm).keySize)throw Error("Unexpected session key size")}else this.sessionKey=r})}encrypt(t){return V(this,arguments,function*(n,e=Ot){let o=this.sessionKeyEncryptionAlgorithm!==null?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=o,this.s2k=Oq(e),this.s2k.generateSalt();let{blockSize:r,keySize:s}=yo(o),a=yield this.s2k.produceKey(n,s);if(this.sessionKey===null&&(this.sessionKey=aF(this.sessionKeyAlgorithm)),this.version>=5){let l=Gp(this.aeadAlgorithm);this.iv=Bs(l.ivLength);let c=new Uint8Array([192|i.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),d=this.version===6?yield yh(T.hash.sha256,a,new Uint8Array,c,s):a,u=yield l(o,d);this.encrypted=yield u.encrypt(this.sessionKey,this.iv,c)}else{let l=q.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=yield Pv(o,a,l,new Uint8Array(r))}})}},Fd=class i{static get tag(){return T.packet.publicKey}constructor(n=new Date,e=Ot){this.version=e.v6Keys?6:4,this.created=q.normalizeDate(n),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(n){let e=new i,{version:t,created:o,algorithm:r,publicParams:s,keyID:a,fingerprint:l}=n;return e.version=t,e.created=o,e.algorithm=r,e.publicParams=s,e.keyID=a,e.fingerprint=l,e}read(t){return V(this,arguments,function*(n,e=Ot){let o=0;if(this.version=n[o++],this.version===5&&!e.enableParsingV5Entities)throw new Jn("Support for parsing v5 entities is disabled; turn on `config.enableParsingV5Entities` if needed");if(this.version===4||this.version===5||this.version===6){this.created=q.readDate(n.subarray(o,o+4)),o+=4,this.algorithm=n[o++],this.version>=5&&(o+=4);let{read:r,publicParams:s}=(function(a,l){let c=0;switch(a){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:{let d=q.readMPI(l.subarray(c));c+=d.length+2;let u=q.readMPI(l.subarray(c));return c+=u.length+2,{read:c,publicParams:{n:d,e:u}}}case T.publicKey.dsa:{let d=q.readMPI(l.subarray(c));c+=d.length+2;let u=q.readMPI(l.subarray(c));c+=u.length+2;let m=q.readMPI(l.subarray(c));c+=m.length+2;let g=q.readMPI(l.subarray(c));return c+=g.length+2,{read:c,publicParams:{p:d,q:u,g:m,y:g}}}case T.publicKey.elgamal:{let d=q.readMPI(l.subarray(c));c+=d.length+2;let u=q.readMPI(l.subarray(c));c+=u.length+2;let m=q.readMPI(l.subarray(c));return c+=m.length+2,{read:c,publicParams:{p:d,g:u,y:m}}}case T.publicKey.ecdsa:{let d=new jp;c+=d.read(l),FN(d);let u=q.readMPI(l.subarray(c));return c+=u.length+2,{read:c,publicParams:{oid:d,Q:u}}}case T.publicKey.eddsaLegacy:{let d=new jp;if(c+=d.read(l),FN(d),d.getName()!==T.curve.ed25519Legacy)throw Error("Unexpected OID for eddsaLegacy");let u=q.readMPI(l.subarray(c));return c+=u.length+2,u=q.leftPad(u,33),{read:c,publicParams:{oid:d,Q:u}}}case T.publicKey.ecdh:{let d=new jp;c+=d.read(l),FN(d);let u=q.readMPI(l.subarray(c));c+=u.length+2;let m=new vx;return c+=m.read(l.subarray(c)),{read:c,publicParams:{oid:d,Q:u,kdfParams:m}}}case T.publicKey.ed25519:case T.publicKey.ed448:case T.publicKey.x25519:case T.publicKey.x448:{let d=q.readExactSubarray(l,c,c+B_(a));return c+=d.length,{read:c,publicParams:{A:d}}}default:throw new Jn("Unknown public key encryption algorithm.")}})(this.algorithm,n.subarray(o));if(this.version===6&&s.oid&&(s.oid.getName()===T.curve.curve25519Legacy||s.oid.getName()===T.curve.ed25519Legacy))throw Error("Legacy curve25519 cannot be used with v6 keys");return this.publicParams=s,o+=r,yield this.computeFingerprintAndKeyID(),o}throw new Jn(`Version ${this.version} of the key packet is unsupported.`)})}write(){let n=[];n.push(new Uint8Array([this.version])),n.push(q.writeDate(this.created)),n.push(new Uint8Array([this.algorithm]));let e=K_(this.algorithm,this.publicParams);return this.version>=5&&n.push(q.writeNumber(e.length,4)),n.push(e),q.concatUint8Array(n)}writeForHash(n){let e=this.writePublicKey(),t=149+n,o=n>=5?4:2;return q.concatUint8Array([new Uint8Array([t]),q.writeNumber(e.length,o),e])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}computeFingerprintAndKeyID(){return V(this,null,function*(){if(yield this.computeFingerprint(),this.keyID=new Hp,this.version>=5)this.keyID.read(this.fingerprint.subarray(0,8));else{if(this.version!==4)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}})}computeFingerprint(){return V(this,null,function*(){let n=this.writeForHash(this.version);if(this.version>=5)this.fingerprint=yield Vd(T.hash.sha256,n);else{if(this.version!==4)throw Error("Unsupported key version");this.fingerprint=yield Vd(T.hash.sha1,n)}})}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return q.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(n){return this.version===n.version&&q.equalsUint8Array(this.writePublicKey(),n.writePublicKey())}getAlgorithmInfo(){let n={};n.algorithm=T.read(T.publicKey,this.algorithm);let e=this.publicParams.n||this.publicParams.p;return e?n.bits=q.uint8ArrayBitLength(e):this.publicParams.oid&&(n.curve=this.publicParams.oid.getName()),n}};Fd.prototype.readPublicKey=Fd.prototype.read,Fd.prototype.writePublicKey=Fd.prototype.write;var gke=q.constructAllowedPackets([wh,am,$l,Vs]),bF=class{static get tag(){return T.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(n){this.encrypted=n}write(){return this.encrypted}decrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){if(!t.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");let{blockSize:s}=yo(n),a=yield Rr(om(this.encrypted)),l=yield qx(n,e,a.subarray(s+2),a.subarray(2,s+2));this.packets=yield bo.fromBinary(l,gke,t)})}encrypt(o,r){return V(this,arguments,function*(n,e,t=Ot){let s=this.packets.write(),{blockSize:a}=yo(n),l=yield Tq(n),c=yield Pv(n,e,l,new Uint8Array(a)),d=yield Pv(n,e,s,c.subarray(2));this.encrypted=q.concat([c,d])})}};var Px=class i extends Fd{static get tag(){return T.packet.publicSubkey}constructor(n,e){super(n,e)}static fromSecretSubkeyPacket(n){let e=new i,{version:t,created:o,algorithm:r,publicParams:s,keyID:a,fingerprint:l}=n;return e.version=t,e.created=o,e.algorithm=r,e.publicParams=s,e.keyID=a,e.fingerprint=l,e}},yF=class i{static get tag(){return T.packet.userAttribute}constructor(){this.attributes=[]}read(n){let e=0;for(;e<n.length;){let t=QK(n.subarray(e,n.length));e+=t.offset,this.attributes.push(q.uint8ArrayToString(n.subarray(e,e+t.len))),e+=t.len}}write(){let n=[];for(let e=0;e<this.attributes.length;e++)n.push(Vx(this.attributes[e].length)),n.push(q.stringToUint8Array(this.attributes[e]));return q.concatUint8Array(n)}equals(n){return!!(n&&n instanceof i)&&this.attributes.every(function(e,t){return e===n.attributes[t]})}},Fv=class extends Fd{static get tag(){return T.packet.secretKey}constructor(n=new Date,e=Ot){super(n,e),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.isLegacyAEAD=null,this.privateParams=null,this.usedModernAEAD=null}read(t){return V(this,arguments,function*(n,e=Ot){let o=yield this.readPublicKey(n,e),r=o;this.s2kUsage=n[o++],this.version===5&&o++,this.version===6&&this.s2kUsage&&o++;try{if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){this.symmetric=n[o++],this.s2kUsage===253&&(this.aead=n[o++]),this.version===6&&o++;let s=n[o++];if(this.s2k=xx(s),o+=this.s2k.read(n.subarray(o,n.length)),this.s2k.type==="gnu-dummy")return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);this.s2kUsage&&(this.isLegacyAEAD=this.s2kUsage===253&&(this.version===5||this.version===4&&e.parseAEADEncryptedV4KeysAsLegacy),this.s2kUsage!==253||this.isLegacyAEAD?(this.iv=n.subarray(o,o+yo(this.symmetric).blockSize),this.usedModernAEAD=!1):(this.iv=n.subarray(o,o+Gp(this.aead).ivLength),this.usedModernAEAD=!0),o+=this.iv.length)}catch(s){if(!this.s2kUsage)throw s;this.unparseableKeyMaterial=n.subarray(r),this.isEncrypted=!0}if(this.version===5&&(o+=4),this.keyMaterial=n.subarray(o),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){let s;if(this.version===6)s=this.keyMaterial;else if(s=this.keyMaterial.subarray(0,-2),!q.equalsUint8Array(q.writeChecksum(s),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{let{read:a,privateParams:l}=_K(this.algorithm,s,this.publicParams);if(a<s.length)throw Error("Error reading MPIs");this.privateParams=l}catch(a){throw a instanceof Jn?a:Error("Error reading MPIs")}}})}write(){let n=this.writePublicKey();if(this.unparseableKeyMaterial)return q.concatUint8Array([n,this.unparseableKeyMaterial]);let e=[n];e.push(new Uint8Array([this.s2kUsage]));let t=[];if(this.s2kUsage===255||this.s2kUsage===254||this.s2kUsage===253){t.push(this.symmetric),this.s2kUsage===253&&t.push(this.aead);let o=this.s2k.write();this.version===6&&t.push(o.length),t.push(...o)}return this.s2kUsage&&this.s2k.type!=="gnu-dummy"&&t.push(...this.iv),(this.version===5||this.version===6&&this.s2kUsage)&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=K_(this.algorithm,this.privateParams)),this.version===5&&e.push(q.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||this.version===6||e.push(q.writeChecksum(this.keyMaterial))),q.concatUint8Array(e)}isDecrypted(){return this.isEncrypted===!1}isMissingSecretKeyMaterial(){return this.unparseableKeyMaterial!==void 0||this.isDummy()}isDummy(){return!(!this.s2k||this.s2k.type!=="gnu-dummy")}makeDummy(n=Ot){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),delete this.unparseableKeyMaterial,this.isEncrypted=null,this.keyMaterial=null,this.s2k=xx(T.s2k.gnu,n),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=T.symmetric.aes256,this.isLegacyAEAD=null,this.usedModernAEAD=null)}encrypt(t){return V(this,arguments,function*(n,e=Ot){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!n)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=Oq(e),this.s2k.generateSalt();let o=K_(this.algorithm,this.privateParams);this.symmetric=T.symmetric.aes256;let{blockSize:r}=yo(this.symmetric);if(e.aeadProtect){this.s2kUsage=253,this.aead=e.preferredAEADAlgorithm;let s=Gp(this.aead);this.isLegacyAEAD=this.version===5,this.usedModernAEAD=!this.isLegacyAEAD;let a=ux(this.constructor.tag),l=yield zN(this.version,this.s2k,n,this.symmetric,this.aead,a,this.isLegacyAEAD),c=yield s(this.symmetric,l);this.iv=this.isLegacyAEAD?Bs(r):Bs(s.ivLength);let d=this.isLegacyAEAD?new Uint8Array:q.concatUint8Array([a,this.writePublicKey()]);this.keyMaterial=yield c.encrypt(o,this.iv.subarray(0,s.ivLength),d)}else{this.s2kUsage=254,this.usedModernAEAD=!1;let s=yield zN(this.version,this.s2k,n,this.symmetric);this.iv=Bs(r),this.keyMaterial=yield Pv(this.symmetric,s,q.concatUint8Array([o,yield Vd(T.hash.sha1,o)]),this.iv)}})}decrypt(n){return V(this,null,function*(){if(this.isDummy())return!1;if(this.unparseableKeyMaterial)throw Error("Key packet cannot be decrypted: unsupported S2K or cipher algo");if(this.isDecrypted())throw Error("Key packet is already decrypted.");let e,t=ux(this.constructor.tag);if(this.s2kUsage!==254&&this.s2kUsage!==253)throw this.s2kUsage===255?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");let o;if(e=yield zN(this.version,this.s2k,n,this.symmetric,this.aead,t,this.isLegacyAEAD),this.s2kUsage===253){let r=Gp(this.aead,!0),s=yield r(this.symmetric,e);try{let a=this.isLegacyAEAD?new Uint8Array:q.concatUint8Array([t,this.writePublicKey()]);o=yield s.decrypt(this.keyMaterial,this.iv.subarray(0,r.ivLength),a)}catch(a){throw a.message==="Authentication tag mismatch"?Error("Incorrect key passphrase: "+a.message):a}}else{let r=yield qx(this.symmetric,e,this.keyMaterial,this.iv);o=r.subarray(0,-20);let s=yield Vd(T.hash.sha1,o);if(!q.equalsUint8Array(s,r.subarray(-20)))throw Error("Incorrect key passphrase")}try{let{privateParams:r}=_K(this.algorithm,o,this.publicParams);this.privateParams=r}catch{throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0,this.aead=null,this.symmetric=null,this.isLegacyAEAD=null})}validate(){return V(this,null,function*(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");if(this.usedModernAEAD)return;let n;try{n=yield jAe(this.algorithm,this.publicParams,this.privateParams)}catch{n=!1}if(!n)throw Error("Key is invalid")})}generate(n,e){return V(this,null,function*(){if(this.version===6&&(this.algorithm===T.publicKey.ecdh&&e===T.curve.curve25519Legacy||this.algorithm===T.publicKey.eddsaLegacy))throw Error(`Cannot generate v6 keys of type 'ecc' with curve ${e}. Generate a key of type 'curve25519' instead`);let{privateParams:t,publicParams:o}=yield UAe(this.algorithm,n,e);this.privateParams=t,this.publicParams=o,this.isEncrypted=!1})}clearPrivateParams(){this.isMissingSecretKeyMaterial()||(Object.keys(this.privateParams).forEach(n=>{this.privateParams[n].fill(0),delete this.privateParams[n]}),this.privateParams=null,this.isEncrypted=!0)}};function zN(i,n,e,t,o,r,s){return V(this,null,function*(){if(n.type==="argon2"&&!o)throw Error("Using Argon2 S2K without AEAD is not allowed");if(n.type==="simple"&&i===6)throw Error("Using Simple S2K with version 6 keys is not allowed");let{keySize:a}=yo(t),l=yield n.produceKey(e,a);if(!o||i===5||s)return l;let c=q.concatUint8Array([r,new Uint8Array([i,t,o])]);return yh(T.hash.sha256,l,new Uint8Array,c,a)})}var Ax=class i{static get tag(){return T.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(n){if(q.isString(n)||n.name&&!q.isString(n.name)||n.email&&!q.isEmailAddress(n.email)||n.comment&&!q.isString(n.comment))throw Error("Invalid user ID format");let e=new i;Object.assign(e,n);let t=[];return e.name&&t.push(e.name),e.comment&&t.push(`(${e.comment})`),e.email&&t.push(`<${e.email}>`),e.userID=t.join(" "),e}read(n,e=Ot){let t=q.decodeUTF8(n);if(t.length>e.maxUserIDLength)throw Error("User ID string is too long");let o=a=>/^[^\s@]+@[^\s@]+$/.test(a),r=t.indexOf("<"),s=t.lastIndexOf(">");if(r!==-1&&s!==-1&&s>r){let a=t.substring(r+1,s);if(o(a)){this.email=a;let l=t.substring(0,r).trim(),c=l.indexOf("("),d=l.lastIndexOf(")");c!==-1&&d!==-1&&d>c?(this.comment=l.substring(c+1,d).trim(),this.name=l.substring(0,c).trim()):(this.name=l,this.comment="")}}else o(t.trim())&&(this.email=t.trim(),this.name="",this.comment="");this.userID=t}write(){return q.encodeUTF8(this.userID)}equals(n){return n&&n.userID===this.userID}},kx=class extends Fv{static get tag(){return T.packet.secretSubkey}constructor(n=new Date,e=Ot){super(n,e)}};var Nx=class{constructor(n){this.packets=n||new bo}write(){return this.packets.write()}armor(n=Ot){let e=this.packets.some(t=>t.constructor.tag===Vs.tag&&t.version!==6);return Gv(T.armor.signature,this.write(),void 0,void 0,void 0,e,n)}getSigningKeyIDs(){return this.packets.map(n=>n.issuerKeyID)}};function Lq(i,n){return V(this,null,function*(){let e=new kx(i.date,n);return e.packets=null,e.algorithm=T.write(T.publicKey,i.algorithm),yield e.generate(i.rsaBits,i.curve),yield e.computeFingerprintAndKeyID(),e})}function _ke(i,n){return V(this,null,function*(){let e=new Fv(i.date,n);return e.packets=null,e.algorithm=T.write(T.publicKey,i.algorithm),yield e.generate(i.rsaBits,i.curve,i.config),yield e.computeFingerprintAndKeyID(),e})}function kc(s,a,l,c){return V(this,arguments,function*(i,n,e,t,o=new Date,r){let d,u;for(let m=i.length-1;m>=0;m--)try{(!d||i[m].created>=d.created)&&(yield i[m].verify(n,e,t,o,void 0,r),d=i[m])}catch(g){u=g}if(!d)throw q.wrapError(`Could not find valid ${T.read(T.signature,e)} signature in key ${n.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,(m,g,y)=>g+" "+y.toLowerCase()),u);return d})}function vF(i,n,e=new Date){let t=q.normalizeDate(e);if(t!==null){let o=Fx(i,n);return!(i.created<=t&&t<o)}return!1}function Mq(i,n,e,t){return V(this,null,function*(){let o={};o.key=n,o.bind=i;let r={signatureType:T.signature.subkeyBinding};return e.sign?(r.keyFlags=[T.keyFlags.signData],r.embeddedSignature=yield Bd(o,[],i,{signatureType:T.signature.keyBinding},e.date,void 0,void 0,void 0,t)):r.keyFlags=[T.keyFlags.encryptCommunication|T.keyFlags.encryptStorage],e.keyExpirationTime>0&&(r.keyExpirationTime=e.keyExpirationTime,r.keyNeverExpires=!1),yield Bd(o,[],n,r,e.date,void 0,void 0,void 0,t)})}function bke(r,s){return V(this,arguments,function*(i,n,e=new Date,t=[],o){let a=T.hash.sha256,l=o.preferredHashAlgorithm,c=yield Promise.all(i.map((g,y)=>V(null,null,function*(){return(yield g.getPrimarySelfSignature(e,t[y],o)).preferredHashAlgorithms||[]}))),d=new Map;for(let g of c)for(let y of g)try{let v=T.write(T.hash,y);d.set(v,d.has(v)?d.get(v)+1:1)}catch{}let u=g=>i.length===0||d.get(g)===i.length||g===a,m=()=>{if(d.size===0)return a;let g=Array.from(d.keys()).filter(y=>u(y)).sort((y,v)=>ds(y)-ds(v))[0];return ds(g)>=ds(a)?g:a};if(new Set([T.publicKey.ecdsa,T.publicKey.eddsaLegacy,T.publicKey.ed25519,T.publicKey.ed448]).has(n.algorithm)){let g=(function(S,I){switch(S){case T.publicKey.ecdsa:case T.publicKey.eddsaLegacy:return mq(I);case T.publicKey.ed25519:case T.publicKey.ed448:return jx(S);default:throw Error("Unknown elliptic signing algo")}})(n.algorithm,n.publicParams.oid),y=u(l),v=ds(l)>=ds(g);if(y&&v)return l;{let S=m();return ds(S)>=ds(g)?S:g}}return u(l)?l:m()})}function Bd(c,d,u,m,g,y){return V(this,arguments,function*(i,n,e,t,o,r,s=[],a=!1,l){if(e.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!e.isDecrypted())throw Error("Signing key is not decrypted.");let v=new Vs;return Object.assign(v,t),v.publicKeyAlgorithm=e.algorithm,v.hashAlgorithm=yield bke(n,e,o,r,l),v.rawNotations=[...s],yield v.sign(e,i,o,a,l),v})}function nm(r,s,a){return V(this,arguments,function*(i,n,e,t=new Date,o){(i=i[e])&&(n[e].length?yield Promise.all(i.map(function(l){return V(this,null,function*(){l.isExpired(t)||o&&!(yield o(l))||n[e].some(function(c){return q.equalsUint8Array(c.writeParams(),l.writeParams())})||n[e].push(l)})})):n[e]=i)})}function Q_(l,c,d,u,m,g){return V(this,arguments,function*(i,n,e,t,o,r,s=new Date,a){r=r||i;let y=[];return yield Promise.all(t.map(function(v){return V(this,null,function*(){try{if(!o||v.issuerKeyID.equals(o.issuerKeyID)){let S=![T.reasonForRevocation.keyRetired,T.reasonForRevocation.keySuperseded,T.reasonForRevocation.userIDInvalid].includes(v.reasonForRevocationFlag);yield v.verify(r,n,e,S?null:s,!1,a),y.push(v.issuerKeyID)}}catch{}})})),o?(o.revoked=!!y.some(v=>v.equals(o.issuerKeyID))||o.revoked||!1,o.revoked):y.length>0})}function Fx(i,n){let e;return n.keyNeverExpires===!1&&(e=i.created.getTime()+1e3*n.keyExpirationTime),e?new Date(e):1/0}function wF(i,n={}){switch(i.type=i.type||n.type,i.curve=i.curve||n.curve,i.rsaBits=i.rsaBits||n.rsaBits,i.keyExpirationTime=i.keyExpirationTime!==void 0?i.keyExpirationTime:n.keyExpirationTime,i.passphrase=q.isString(i.passphrase)?i.passphrase:n.passphrase,i.date=i.date||n.date,i.sign=i.sign||!1,i.type){case"ecc":try{i.curve=T.write(T.curve,i.curve)}catch{throw Error("Unknown curve")}i.curve!==T.curve.ed25519Legacy&&i.curve!==T.curve.curve25519Legacy&&i.curve!=="ed25519"&&i.curve!=="curve25519"||(i.curve=i.sign?T.curve.ed25519Legacy:T.curve.curve25519Legacy),i.sign?i.algorithm=i.curve===T.curve.ed25519Legacy?T.publicKey.eddsaLegacy:T.publicKey.ecdsa:i.algorithm=T.publicKey.ecdh;break;case"curve25519":i.algorithm=i.sign?T.publicKey.ed25519:T.publicKey.x25519;break;case"curve448":i.algorithm=i.sign?T.publicKey.ed448:T.publicKey.x448;break;case"rsa":i.algorithm=T.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+i.type)}return i}function PK(i,n,e){switch(i.algorithm){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:case T.publicKey.dsa:case T.publicKey.ecdsa:case T.publicKey.eddsaLegacy:case T.publicKey.ed25519:case T.publicKey.ed448:if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!n.keyFlags||!!(n.keyFlags[0]&T.keyFlags.signData);default:return!1}}function AK(i,n,e){switch(i.algorithm){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:case T.publicKey.elgamal:case T.publicKey.ecdh:case T.publicKey.x25519:case T.publicKey.x448:if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");return!n.keyFlags||!!(n.keyFlags[0]&T.keyFlags.encryptCommunication)||!!(n.keyFlags[0]&T.keyFlags.encryptStorage);default:return!1}}function kK(i,n,e){if(!n.keyFlags&&!e.allowMissingKeyFlags)throw Error("None of the key flags is set: consider passing `config.allowMissingKeyFlags`");switch(i.algorithm){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaEncrypt:case T.publicKey.elgamal:case T.publicKey.ecdh:case T.publicKey.x25519:case T.publicKey.x448:return!(!(!n.keyFlags||n.keyFlags[0]&T.keyFlags.signData)||!e.allowInsecureDecryptionWithSigningKeys)||!n.keyFlags||!!(n.keyFlags[0]&T.keyFlags.encryptCommunication)||!!(n.keyFlags[0]&T.keyFlags.encryptStorage);default:return!1}}function mh(i,n){let e=T.write(T.publicKey,i.algorithm),t=i.getAlgorithmInfo();if(n.rejectPublicKeyAlgorithms.has(e))throw Error(t.algorithm+" keys are considered too weak.");switch(e){case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:case T.publicKey.rsaEncrypt:if(t.bits<n.minRSABits)throw Error(`RSA keys shorter than ${n.minRSABits} bits are considered too weak.`);break;case T.publicKey.ecdsa:case T.publicKey.eddsaLegacy:case T.publicKey.ecdh:if(n.rejectCurves.has(t.curve))throw Error(`Support for ${t.algorithm} keys using curve ${t.curve} is disabled.`)}}var CF=class i{constructor(n,e){this.userID=n.constructor.tag===T.packet.userID?n:null,this.userAttribute=n.constructor.tag===T.packet.userAttribute?n:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=e}toPacketList(){let n=new bo;return n.push(this.userID||this.userAttribute),n.push(...this.revocationSignatures),n.push(...this.selfCertifications),n.push(...this.otherCertifications),n}clone(){let n=new i(this.userID||this.userAttribute,this.mainKey);return n.selfCertifications=[...this.selfCertifications],n.otherCertifications=[...this.otherCertifications],n.revocationSignatures=[...this.revocationSignatures],n}certify(n,e,t){return V(this,null,function*(){let o=this.mainKey.keyPacket,r={userID:this.userID,userAttribute:this.userAttribute,key:o},s=new i(r.userID||r.userAttribute,this.mainKey);return s.otherCertifications=yield Promise.all(n.map(function(a){return V(this,null,function*(){if(!a.isPrivate())throw Error("Need private key for signing");if(a.hasSameFingerprintAs(o))throw Error("The user's own key can only be used for self-certifications");let l=yield a.getSigningKey(void 0,e,void 0,t);return Bd(r,[a],l.keyPacket,{signatureType:T.signature.certGeneric,keyFlags:[T.keyFlags.certifyKeys|T.keyFlags.signData]},e,void 0,void 0,void 0,t)})})),yield s.update(this,e,t),s})}isRevoked(r,s){return V(this,arguments,function*(n,e,t=new Date,o=Ot){let a=this.mainKey.keyPacket;return Q_(a,T.signature.certRevocation,{key:a,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,n,e,t,o)})}verifyCertificate(r,s){return V(this,arguments,function*(n,e,t=new Date,o){let a=this,l=this.mainKey.keyPacket,c={userID:this.userID,userAttribute:this.userAttribute,key:l},{issuerKeyID:d}=n,u=e.filter(m=>m.getKeys(d).length>0);return u.length===0?null:(yield Promise.all(u.map(m=>V(this,null,function*(){let g=yield m.getSigningKey(d,n.created,void 0,o);if(n.revoked||(yield a.isRevoked(n,g.keyPacket,t,o)))throw Error("User certificate is revoked");try{yield n.verify(g.keyPacket,T.signature.certGeneric,c,t,void 0,o)}catch(y){throw q.wrapError("User certificate is invalid",y)}}))),!0)})}verifyAllCertifications(o){return V(this,arguments,function*(n,e=new Date,t){let r=this,s=this.selfCertifications.concat(this.otherCertifications);return Promise.all(s.map(a=>V(this,null,function*(){return{keyID:a.issuerKeyID,valid:yield r.verifyCertificate(a,n,e,t).catch(()=>!1)}})))})}verify(){return V(this,arguments,function*(n=new Date,e){if(!this.selfCertifications.length)throw Error("No self-certifications found");let t=this,o=this.mainKey.keyPacket,r={userID:this.userID,userAttribute:this.userAttribute,key:o},s;for(let a=this.selfCertifications.length-1;a>=0;a--)try{let l=this.selfCertifications[a];if(l.revoked||(yield t.isRevoked(l,void 0,n,e)))throw Error("Self-certification is revoked");try{yield l.verify(o,T.signature.certGeneric,r,n,void 0,e)}catch(c){throw q.wrapError("Self-certification is invalid",c)}return!0}catch(l){s=l}throw s})}update(n,e,t){return V(this,null,function*(){let o=this.mainKey.keyPacket,r={userID:this.userID,userAttribute:this.userAttribute,key:o};yield nm(n,this,"selfCertifications",e,function(s){return V(this,null,function*(){try{return yield s.verify(o,T.signature.certGeneric,r,e,!1,t),!0}catch{return!1}})}),yield nm(n,this,"otherCertifications",e),yield nm(n,this,"revocationSignatures",e,function(s){return Q_(o,T.signature.certRevocation,r,[s],void 0,void 0,e,t)})})}revoke(s){return V(this,arguments,function*(n,{flag:e=T.reasonForRevocation.noReason,string:t=""}={},o=new Date,r=Ot){let a={userID:this.userID,userAttribute:this.userAttribute,key:n},l=new i(a.userID||a.userAttribute,this.mainKey);return l.revocationSignatures.push(yield Bd(a,[],n,{signatureType:T.signature.certRevocation,reasonForRevocationFlag:T.write(T.reasonForRevocation,e),reasonForRevocationString:t},o,void 0,void 0,!1,r)),yield l.update(this),l})}},Lv=class i{constructor(n,e){this.keyPacket=n,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=e}toPacketList(){let n=new bo;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.bindingSignatures),n}clone(){let n=new i(this.keyPacket,this.mainKey);return n.bindingSignatures=[...this.bindingSignatures],n.revocationSignatures=[...this.revocationSignatures],n}isRevoked(r,s){return V(this,arguments,function*(n,e,t=new Date,o=Ot){let a=this.mainKey.keyPacket;return Q_(a,T.signature.subkeyRevocation,{key:a,bind:this.keyPacket},this.revocationSignatures,n,e,t,o)})}verify(){return V(this,arguments,function*(n=new Date,e=Ot){let t=this.mainKey.keyPacket,o={key:t,bind:this.keyPacket},r=yield kc(this.bindingSignatures,t,T.signature.subkeyBinding,o,n,e);if(r.revoked||(yield this.isRevoked(r,null,n,e)))throw Error("Subkey is revoked");if(vF(this.keyPacket,r,n))throw Error("Subkey is expired");return r})}getExpirationTime(){return V(this,arguments,function*(n=new Date,e=Ot){let t=this.mainKey.keyPacket,o={key:t,bind:this.keyPacket},r;try{r=yield kc(this.bindingSignatures,t,T.signature.subkeyBinding,o,n,e)}catch{return null}let s=Fx(this.keyPacket,r),a=r.getExpirationTime();return s<a?s:a})}update(o){return V(this,arguments,function*(n,e=new Date,t=Ot){let r=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(n))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===T.packet.publicSubkey&&n.keyPacket.constructor.tag===T.packet.secretSubkey&&(this.keyPacket=n.keyPacket);let s=this,a={key:r,bind:s.keyPacket};yield nm(n,this,"bindingSignatures",e,function(l){return V(this,null,function*(){for(let c=0;c<s.bindingSignatures.length;c++)if(s.bindingSignatures[c].issuerKeyID.equals(l.issuerKeyID))return l.created>s.bindingSignatures[c].created&&(s.bindingSignatures[c]=l),!1;try{return yield l.verify(r,T.signature.subkeyBinding,a,e,void 0,t),!0}catch{return!1}})}),yield nm(n,this,"revocationSignatures",e,function(l){return Q_(r,T.signature.subkeyRevocation,a,[l],void 0,void 0,e,t)})})}revoke(s){return V(this,arguments,function*(n,{flag:e=T.reasonForRevocation.noReason,string:t=""}={},o=new Date,r=Ot){let a={key:n,bind:this.keyPacket},l=new i(this.keyPacket,this.mainKey);return l.revocationSignatures.push(yield Bd(a,[],n,{signatureType:T.signature.subkeyRevocation,reasonForRevocationFlag:T.write(T.reasonForRevocation,e),reasonForRevocationString:t},o,void 0,void 0,!1,r)),yield l.update(this),l})}hasSameFingerprintAs(n){return this.keyPacket.hasSameFingerprintAs(n.keyPacket||n)}};["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach(i=>{Lv.prototype[i]=function(){return this.keyPacket[i]()}});var yke=q.constructAllowedPackets([Vs]),NK=new Set([T.packet.publicKey,T.packet.privateKey]),FK=new Set([T.packet.publicKey,T.packet.privateKey,T.packet.publicSubkey,T.packet.privateSubkey]),Lx=class{packetListToStructure(n,e=new Set){let t,o,r,s;for(let a of n){if(a instanceof Tv){FK.has(a.tag)&&!s&&(s=NK.has(a.tag)?NK:FK);continue}let l=a.constructor.tag;if(s){if(!s.has(l))continue;s=null}if(e.has(l))throw Error("Unexpected packet type: "+l);switch(l){case T.packet.publicKey:case T.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,o=this.getKeyID(),!o)throw Error("Missing Key ID");break;case T.packet.userID:case T.packet.userAttribute:t=new CF(a,this),this.users.push(t);break;case T.packet.publicSubkey:case T.packet.secretSubkey:t=null,r=new Lv(a,this),this.subkeys.push(r);break;case T.packet.signature:switch(a.signatureType){case T.signature.certGeneric:case T.signature.certPersona:case T.signature.certCasual:case T.signature.certPositive:if(!t){q.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(o)?t.selfCertifications.push(a):t.otherCertifications.push(a);break;case T.signature.certRevocation:t?t.revocationSignatures.push(a):this.directSignatures.push(a);break;case T.signature.key:this.directSignatures.push(a);break;case T.signature.subkeyBinding:if(!r){q.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}r.bindingSignatures.push(a);break;case T.signature.keyRevocation:this.revocationSignatures.push(a);break;case T.signature.subkeyRevocation:if(!r){q.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}r.revocationSignatures.push(a)}}}}toPacketList(){let n=new bo;return n.push(this.keyPacket),n.push(...this.revocationSignatures),n.push(...this.directSignatures),this.users.map(e=>n.push(...e.toPacketList())),this.subkeys.map(e=>n.push(...e.toPacketList())),n}clone(n=!1){let e=new this.constructor(this.toPacketList());return n&&e.getKeys().forEach(t=>{if(t.keyPacket=Object.create(Object.getPrototypeOf(t.keyPacket),Object.getOwnPropertyDescriptors(t.keyPacket)),!t.keyPacket.isDecrypted())return;let o={};Object.keys(t.keyPacket.privateParams).forEach(r=>{o[r]=new Uint8Array(t.keyPacket.privateParams[r])}),t.keyPacket.privateParams=o}),e}getSubkeys(n=null){return this.subkeys.filter(e=>!n||e.getKeyID().equals(n,!0))}getKeys(n=null){let e=[];return n&&!this.getKeyID().equals(n,!0)||e.push(this),e.concat(this.getSubkeys(n))}getKeyIDs(){return this.getKeys().map(n=>n.getKeyID())}getUserIDs(){return this.users.map(n=>n.userID?n.userID.userID:null).filter(n=>n!==null)}write(){return this.toPacketList().write()}getSigningKey(){return V(this,arguments,function*(n=null,e=new Date,t={},o=Ot){yield this.verifyPrimaryKey(e,t,o);let r=this.keyPacket;try{mh(r,o)}catch(l){throw q.wrapError("Could not verify primary key",l)}let s=this.subkeys.slice().sort((l,c)=>c.keyPacket.created-l.keyPacket.created||c.keyPacket.algorithm-l.keyPacket.algorithm),a;for(let l of s)if(!n||l.getKeyID().equals(n))try{yield l.verify(e,o);let c={key:r,bind:l.keyPacket},d=yield kc(l.bindingSignatures,r,T.signature.subkeyBinding,c,e,o);if(!PK(l.keyPacket,d,o))continue;if(!d.embeddedSignature)throw Error("Missing embedded signature");return yield kc([d.embeddedSignature],l.keyPacket,T.signature.keyBinding,c,e,o),mh(l.keyPacket,o),l}catch(c){a=c}try{let l=yield this.getPrimarySelfSignature(e,t,o);if((!n||r.getKeyID().equals(n))&&PK(r,l,o))return mh(r,o),this}catch(l){a=l}throw q.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),a)})}getEncryptionKey(r){return V(this,arguments,function*(n,e=new Date,t={},o=Ot){yield this.verifyPrimaryKey(e,t,o);let s=this.keyPacket;try{mh(s,o)}catch(c){throw q.wrapError("Could not verify primary key",c)}let a=this.subkeys.slice().sort((c,d)=>d.keyPacket.created-c.keyPacket.created||d.keyPacket.algorithm-c.keyPacket.algorithm),l;for(let c of a)if(!n||c.getKeyID().equals(n))try{yield c.verify(e,o);let d={key:s,bind:c.keyPacket},u=yield kc(c.bindingSignatures,s,T.signature.subkeyBinding,d,e,o);if(AK(c.keyPacket,u,o))return mh(c.keyPacket,o),c}catch(d){l=d}try{let c=yield this.getPrimarySelfSignature(e,t,o);if((!n||s.getKeyID().equals(n))&&AK(s,c,o))return mh(s,o),this}catch(c){l=c}throw q.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),l)})}isRevoked(r,s){return V(this,arguments,function*(n,e,t=new Date,o=Ot){return Q_(this.keyPacket,T.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,n,e,t,o)})}verifyPrimaryKey(){return V(this,arguments,function*(n=new Date,e={},t=Ot){let o=this.keyPacket;if(yield this.isRevoked(null,null,n,t))throw Error("Primary key is revoked");if(vF(o,yield this.getPrimarySelfSignature(n,e,t),n))throw Error("Primary key is expired");if(o.version!==6){let r=yield kc(this.directSignatures,o,T.signature.key,{key:o},n,t).catch(()=>{});if(r&&vF(o,r,n))throw Error("Primary key is expired")}})}getExpirationTime(t){return V(this,arguments,function*(n,e=Ot){let o;try{let r=yield this.getPrimarySelfSignature(null,n,e),s=Fx(this.keyPacket,r),a=r.getExpirationTime(),l=this.keyPacket.version!==6&&(yield kc(this.directSignatures,this.keyPacket,T.signature.key,{key:this.keyPacket},null,e).catch(()=>{}));if(l){let c=Fx(this.keyPacket,l);o=Math.min(s,a,c)}else o=s<a?s:a}catch{o=null}return q.normalizeDate(o)})}getPrimarySelfSignature(){return V(this,arguments,function*(n=new Date,e={},t=Ot){let o=this.keyPacket;if(o.version===6)return kc(this.directSignatures,o,T.signature.key,{key:o},n,t);let{selfCertification:r}=yield this.getPrimaryUser(n,e,t);return r})}getPrimaryUser(){return V(this,arguments,function*(n=new Date,e={},t=Ot){let o=this.keyPacket,r=[],s;for(let d=0;d<this.users.length;d++)try{let u=this.users[d];if(!u.userID)continue;if(e.name!==void 0&&u.userID.name!==e.name||e.email!==void 0&&u.userID.email!==e.email||e.comment!==void 0&&u.userID.comment!==e.comment)throw Error("Could not find user that matches that user ID");let m={userID:u.userID,key:o},g=yield kc(u.selfCertifications,o,T.signature.certGeneric,m,n,t);r.push({index:d,user:u,selfCertification:g})}catch(u){s=u}if(!r.length)throw s||Error("Could not find primary user");yield Promise.all(r.map(d=>V(this,null,function*(){d.selfCertification.revoked||(yield d.user.isRevoked(d.selfCertification,null,n,t))})));let a=r.sort(function(d,u){let m=d.selfCertification,g=u.selfCertification;return g.revoked-m.revoked||m.isPrimaryUserID-g.isPrimaryUserID||m.created-g.created}).pop(),{user:l,selfCertification:c}=a;if(c.revoked||(yield l.isRevoked(c,null,n,t)))throw Error("Primary user is revoked");return a})}update(o){return V(this,arguments,function*(n,e=new Date,t=Ot){if(!this.hasSameFingerprintAs(n))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&n.isPrivate()){if(!(this.subkeys.length===n.subkeys.length&&this.subkeys.every(s=>n.subkeys.some(a=>s.hasSameFingerprintAs(a)))))throw Error("Cannot update public key with private key if subkeys mismatch");return n.update(this,t)}let r=this.clone();return yield nm(n,r,"revocationSignatures",e,s=>Q_(r.keyPacket,T.signature.keyRevocation,r,[s],null,n.keyPacket,e,t)),yield nm(n,r,"directSignatures",e),yield Promise.all(n.users.map(s=>V(this,null,function*(){let a=r.users.filter(l=>s.userID&&s.userID.equals(l.userID)||s.userAttribute&&s.userAttribute.equals(l.userAttribute));if(a.length>0)yield Promise.all(a.map(l=>l.update(s,e,t)));else{let l=s.clone();l.mainKey=r,r.users.push(l)}}))),yield Promise.all(n.subkeys.map(s=>V(this,null,function*(){let a=r.subkeys.filter(l=>l.hasSameFingerprintAs(s));if(a.length>0)yield Promise.all(a.map(l=>l.update(s,e,t)));else{let l=s.clone();l.mainKey=r,r.subkeys.push(l)}}))),r})}getRevocationCertificate(){return V(this,arguments,function*(n=new Date,e=Ot){let t={key:this.keyPacket},o=yield kc(this.revocationSignatures,this.keyPacket,T.signature.keyRevocation,t,n,e),r=new bo;r.push(o);let s=this.keyPacket.version!==6;return Gv(T.armor.publicKey,r.write(),null,null,"This is a revocation certificate",s,e)})}applyRevocationCertificate(o){return V(this,arguments,function*(n,e=new Date,t=Ot){let r=yield jv(n),s=(yield bo.fromBinary(r.data,yke,t)).findPacket(T.packet.signature);if(!s||s.signatureType!==T.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!s.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{yield s.verify(this.keyPacket,T.signature.keyRevocation,{key:this.keyPacket},e,void 0,t)}catch(l){throw q.wrapError("Could not verify revocation signature",l)}let a=this.clone();return a.revocationSignatures.push(s),a})}signPrimaryUser(r,s,a){return V(this,arguments,function*(n,e,t,o=Ot){let{index:l,user:c}=yield this.getPrimaryUser(e,t,o),d=yield c.certify(n,e,o),u=this.clone();return u.users[l]=d,u})}signAllUsers(o){return V(this,arguments,function*(n,e=new Date,t=Ot){let r=this.clone();return r.users=yield Promise.all(this.users.map(function(s){return s.certify(n,e,t)})),r})}verifyPrimaryUser(r){return V(this,arguments,function*(n,e=new Date,t,o=Ot){let s=this.keyPacket,{user:a}=yield this.getPrimaryUser(e,t,o);return n?yield a.verifyAllCertifications(n,e,o):[{keyID:s.getKeyID(),valid:yield a.verify(e,o).catch(()=>!1)}]})}verifyAllUsers(o){return V(this,arguments,function*(n,e=new Date,t=Ot){let r=this.keyPacket,s=[];return yield Promise.all(this.users.map(a=>V(this,null,function*(){let l=n?yield a.verifyAllCertifications(n,e,t):[{keyID:r.getKeyID(),valid:yield a.verify(e,t).catch(()=>!1)}];s.push(...l.map(c=>({userID:a.userID?a.userID.userID:null,userAttribute:a.userAttribute,keyID:c.keyID,valid:c.valid})))}))),s})}};["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach(i=>{Lx.prototype[i]=Lv.prototype[i]});var Mv=class extends Lx{constructor(n){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],n&&(this.packetListToStructure(n,new Set([T.packet.secretKey,T.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(n=Ot){let e=this.keyPacket.version!==6;return Gv(T.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e,n)}},Bv=class i extends Mv{constructor(n){if(super(),this.packetListToStructure(n,new Set([T.packet.publicKey,T.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){let n=new bo,e=this.toPacketList();for(let t of e)switch(t.constructor.tag){case T.packet.secretKey:{let o=Fd.fromSecretKeyPacket(t);n.push(o);break}case T.packet.secretSubkey:{let o=Px.fromSecretSubkeyPacket(t);n.push(o);break}default:n.push(t)}return new Mv(n)}armor(n=Ot){let e=this.keyPacket.version!==6;return Gv(T.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e,n)}getDecryptionKeys(r){return V(this,arguments,function*(n,e=new Date,t={},o=Ot){let s=this.keyPacket,a=[],l=null;for(let d=0;d<this.subkeys.length;d++)if(!n||this.subkeys[d].getKeyID().equals(n,!0)){if(this.subkeys[d].keyPacket.isDummy()){l=l||Error("Gnu-dummy key packets cannot be used for decryption");continue}try{let u={key:s,bind:this.subkeys[d].keyPacket},m=yield kc(this.subkeys[d].bindingSignatures,s,T.signature.subkeyBinding,u,e,o);kK(this.subkeys[d].keyPacket,m,o)&&a.push(this.subkeys[d])}catch(u){l=u}}let c=yield this.getPrimarySelfSignature(e,t,o);if(n&&!s.getKeyID().equals(n,!0)||!kK(s,c,o)||(s.isDummy()?l=l||Error("Gnu-dummy key packets cannot be used for decryption"):a.push(this)),a.length===0)throw l||Error("No decryption key packets found");return a})}isDecrypted(){return this.getKeys().some(({keyPacket:n})=>n.isDecrypted())}validate(){return V(this,arguments,function*(n=Ot){if(!this.isPrivate())throw Error("Cannot validate a public key");let e;if(this.keyPacket.isDummy()){let t=yield this.getSigningKey(null,null,void 0,Fe(ee({},n),{rejectPublicKeyAlgorithms:new Set,minRSABits:0}));t&&!t.keyPacket.isDummy()&&(e=t.keyPacket)}else e=this.keyPacket;if(e)return e.validate();{let t=this.getKeys();if(t.map(o=>o.keyPacket.isDummy()).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(t.map(o=>o.keyPacket.validate()))}})}clearPrivateParams(){this.getKeys().forEach(({keyPacket:n})=>{n.isDecrypted()&&n.clearPrivateParams()})}revoke(){return V(this,arguments,function*({flag:n=T.reasonForRevocation.noReason,string:e=""}={},t=new Date,o=Ot){if(!this.isPrivate())throw Error("Need private key for revoking");let r={key:this.keyPacket},s=this.clone();return s.revocationSignatures.push(yield Bd(r,[],this.keyPacket,{signatureType:T.signature.keyRevocation,reasonForRevocationFlag:T.write(T.reasonForRevocation,n),reasonForRevocationString:e},t,void 0,void 0,void 0,o)),s})}addSubkey(){return V(this,arguments,function*(n={}){let e=ee(ee({},Ot),n.config);if(n.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(n.rsaBits<e.minRSABits)throw Error(`rsaBits should be at least ${e.minRSABits}, got: ${n.rsaBits}`);let t=this.keyPacket;if(t.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!t.isDecrypted())throw Error("Key is not decrypted");let o=t.getAlgorithmInfo();o.type=(function(l){switch(T.write(T.publicKey,l)){case T.publicKey.rsaEncrypt:case T.publicKey.rsaEncryptSign:case T.publicKey.rsaSign:case T.publicKey.dsa:return"rsa";case T.publicKey.ecdsa:case T.publicKey.eddsaLegacy:return"ecc";case T.publicKey.ed25519:return"curve25519";case T.publicKey.ed448:return"curve448";default:throw Error("Unsupported algorithm")}})(o.algorithm),o.rsaBits=o.bits||4096,o.curve=o.curve||"curve25519Legacy",n=wF(n,o);let r=yield Lq(n,Fe(ee({},e),{v6Keys:this.keyPacket.version===6}));mh(r,e);let s=yield Mq(r,t,n,e),a=this.toPacketList();return a.push(r,s),new i(a)})}},Bq=q.constructAllowedPackets([Fd,Px,Fv,kx,Ax,yF,Vs]);function vke(i){for(let n of i)switch(n.constructor.tag){case T.packet.secretKey:return new Bv(i);case T.packet.publicKey:return new Mv(i)}throw Error("No key packet found")}function wke(i,n,e,t){return V(this,null,function*(){e.passphrase&&(yield i.encrypt(e.passphrase,t)),yield Promise.all(n.map(function(l,c){return V(this,null,function*(){let d=e.subkeys[c].passphrase;d&&(yield l.encrypt(d,t))})}));let o=new bo;function r(l,c){return[c,...l.filter(d=>d!==c)]}function s(){let l={};l.keyFlags=[T.keyFlags.certifyKeys|T.keyFlags.signData];let c=r([T.symmetric.aes256,T.symmetric.aes128],t.preferredSymmetricAlgorithm);if(l.preferredSymmetricAlgorithms=c,t.aeadProtect){let d=r([T.aead.gcm,T.aead.eax,T.aead.ocb],t.preferredAEADAlgorithm);l.preferredCipherSuites=d.flatMap(u=>c.map(m=>[m,u]))}return l.preferredHashAlgorithms=r([T.hash.sha512,T.hash.sha256,T.hash.sha3_512,T.hash.sha3_256],t.preferredHashAlgorithm),l.preferredCompressionAlgorithms=r([T.compression.uncompressed,T.compression.zlib,T.compression.zip],t.preferredCompressionAlgorithm),l.features=[0],l.features[0]|=T.features.modificationDetection,t.aeadProtect&&(l.features[0]|=T.features.seipdv2),e.keyExpirationTime>0&&(l.keyExpirationTime=e.keyExpirationTime,l.keyNeverExpires=!1),l}if(o.push(i),i.version===6){let l={key:i},c=s();c.signatureType=T.signature.key;let d=yield Bd(l,[],i,c,e.date,void 0,void 0,void 0,t);o.push(d)}yield Promise.all(e.userIDs.map(function(l,c){return V(this,null,function*(){let d=Ax.fromObject(l),u={userID:d,key:i},m=i.version!==6?s():{};return m.signatureType=T.signature.certPositive,c===0&&(m.isPrimaryUserID=!0),{userIDPacket:d,signaturePacket:yield Bd(u,[],i,m,e.date,void 0,void 0,void 0,t)}})})).then(l=>{l.forEach(({userIDPacket:c,signaturePacket:d})=>{o.push(c),o.push(d)})}),yield Promise.all(n.map(function(l,c){return V(this,null,function*(){let d=e.subkeys[c];return{secretSubkeyPacket:l,subkeySignaturePacket:yield Mq(l,i,d,t)}})})).then(l=>{l.forEach(({secretSubkeyPacket:c,subkeySignaturePacket:d})=>{o.push(c),o.push(d)})});let a={key:i};return o.push(yield Bd(a,[],i,{signatureType:T.signature.keyRevocation,reasonForRevocationFlag:T.reasonForRevocation.noReason,reasonForRevocationString:""},e.date,void 0,void 0,void 0,t)),e.passphrase&&i.clearPrivateParams(),n.map(function(l,c){e.subkeys[c].passphrase&&l.clearPrivateParams()}),new Bv(o)})}function Vq(o){return V(this,null,function*(){var r=o,{armoredKey:i,binaryKey:n,config:e}=r,t=Xl(r,["armoredKey","binaryKey","config"]);if(e=ee(ee({},Ot),e),!i&&!n)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!q.isString(i))throw Error("readKey: options.armoredKey must be a string");if(n&&!q.isUint8Array(n))throw Error("readKey: options.binaryKey must be a Uint8Array");let s=Object.keys(t);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(i){let{type:d,data:u}=yield jv(i);if(d!==T.armor.publicKey&&d!==T.armor.privateKey)throw Error("Armored text not of type key");a=u}else a=n;let l=yield bo.fromBinary(a,Bq,e),c=l.indexOfTag(T.packet.publicKey,T.packet.secretKey);if(c.length===0)throw Error("No key packet found");return vke(l.slice(c[0],c[1]))})}function Uq(o){return V(this,null,function*(){var r=o,{armoredKey:i,binaryKey:n,config:e}=r,t=Xl(r,["armoredKey","binaryKey","config"]);if(e=ee(ee({},Ot),e),!i&&!n)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(i&&!q.isString(i))throw Error("readPrivateKey: options.armoredKey must be a string");if(n&&!q.isUint8Array(n))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");let s=Object.keys(t);if(s.length>0)throw Error("Unknown option: "+s.join(", "));let a;if(i){let{type:d,data:u}=yield jv(i);if(d!==T.armor.privateKey)throw Error("Armored text not of type private key");a=u}else a=n;let l=yield bo.fromBinary(a,Bq,e),c=l.indexOfTag(T.packet.publicKey,T.packet.secretKey);for(let d=0;d<c.length;d++){if(l[c[d]].constructor.tag===T.packet.publicKey)continue;let u=l.slice(c[d],c[d+1]);return new Bv(u)}throw Error("No secret key packet found")})}var Cke=q.constructAllowedPackets([wh,am,_F,J_,bF,kv,Nv,$l,Vs]),Ske=q.constructAllowedPackets([Nv]),Ike=q.constructAllowedPackets([Vs]),Vv=class i{constructor(n){this.packets=n||new bo}getEncryptionKeyIDs(){let n=[];return this.packets.filterByTag(T.packet.publicKeyEncryptedSessionKey).forEach(function(e){n.push(e.publicKeyID)}),n}getSigningKeyIDs(){let n=this.unwrapCompressed(),e=n.packets.filterByTag(T.packet.onePassSignature);return e.length>0?e.map(t=>t.issuerKeyID):n.packets.filterByTag(T.packet.signature).map(t=>t.issuerKeyID)}decrypt(s,a,l){return V(this,arguments,function*(n,e,t,o=new Date,r=Ot){let c=this.packets.filterByTag(T.packet.symmetricallyEncryptedData,T.packet.symEncryptedIntegrityProtectedData,T.packet.aeadEncryptedData);if(c.length===0)throw Error("No encrypted data found");let d=c[0],u=d.cipherAlgorithm,m=t||(yield this.decryptSessionKeys(n,e,u,o,r)),g=null,y=Promise.all(m.map(P=>V(this,[P],function*({algorithm:S,data:I}){if(!q.isUint8Array(I)||!d.cipherAlgorithm&&!q.isString(S))throw Error("Invalid session key for decryption.");try{let L=d.cipherAlgorithm||T.write(T.symmetric,S);yield d.decrypt(L,I,r)}catch(L){q.printDebugError(L),g=L}})));if(KN(d.encrypted),d.encrypted=null,yield y,!d.packets||!d.packets.length)throw g||Error("Decryption failed.");let v=new i(d.packets);return d.packets=new bo,v})}decryptSessionKeys(s,a,l){return V(this,arguments,function*(n,e,t,o=new Date,r=Ot){let c,d=[];if(e){let u=this.packets.filterByTag(T.packet.symEncryptedSessionKey);if(u.length===0)throw Error("No symmetrically encrypted session key packet found.");yield Promise.all(e.map(function(m,g){return V(this,null,function*(){let y;y=g?yield bo.fromBinary(u.write(),Ske,r):u,yield Promise.all(y.map(function(v){return V(this,null,function*(){try{yield v.decrypt(m),d.push(v)}catch(S){q.printDebugError(S),S instanceof Ex&&(c=S)}})}))})}))}else{if(!n)throw Error("No key or password specified.");{let u=this.packets.filterByTag(T.packet.publicKeyEncryptedSessionKey);if(u.length===0)throw Error("No public key encrypted session key packet found.");yield Promise.all(u.map(function(m){return V(this,null,function*(){yield Promise.all(n.map(function(g){return V(this,null,function*(){let y;try{y=(yield g.getDecryptionKeys(m.publicKeyID,null,void 0,r)).map(S=>S.keyPacket)}catch(S){return void(c=S)}let v=[T.symmetric.aes256,T.symmetric.aes128,T.symmetric.tripledes,T.symmetric.cast5];try{let S=yield g.getPrimarySelfSignature(o,void 0,r);S.preferredSymmetricAlgorithms&&(v=v.concat(S.preferredSymmetricAlgorithms))}catch{}yield Promise.all(y.map(function(S){return V(this,null,function*(){if(!S.isDecrypted())throw Error("Decryption key is not decrypted.");if(r.constantTimePKCS1Decryption&&(m.publicKeyAlgorithm===T.publicKey.rsaEncrypt||m.publicKeyAlgorithm===T.publicKey.rsaEncryptSign||m.publicKeyAlgorithm===T.publicKey.rsaSign||m.publicKeyAlgorithm===T.publicKey.elgamal)){let I=m.write();yield Promise.all((t?[t]:Array.from(r.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms)).map(P=>V(null,null,function*(){let L=new kv;L.read(I);let F={sessionKeyAlgorithm:P,sessionKey:aF(P)};try{yield L.decrypt(S,F),d.push(L)}catch(K){q.printDebugError(K),c=K}})))}else try{yield m.decrypt(S);let I=t||m.sessionKeyAlgorithm;if(I&&!v.includes(T.write(T.symmetric,I)))throw Error("A non-preferred symmetric algorithm was used.");d.push(m)}catch(I){q.printDebugError(I),c=I}})}))})})),KN(m.encrypted),m.encrypted=null})}))}}if(d.length>0){if(d.length>1){let u=new Set;d=d.filter(m=>{let g=m.sessionKeyAlgorithm+q.uint8ArrayToString(m.sessionKey);return!u.has(g)&&(u.add(g),!0)})}return d.map(u=>({data:u.sessionKey,algorithm:u.sessionKeyAlgorithm&&T.read(T.symmetric,u.sessionKeyAlgorithm)}))}throw c||Error("Session key decryption failed.")})}getLiteralData(){let n=this.unwrapCompressed().packets.findPacket(T.packet.literalData);return n&&n.getBytes()||null}getFilename(){let n=this.unwrapCompressed().packets.findPacket(T.packet.literalData);return n&&n.getFilename()||null}getText(){let n=this.unwrapCompressed().packets.findPacket(T.packet.literalData);return n?n.getText():null}static generateSessionKey(){return V(this,arguments,function*(n=[],e=new Date,t=[],o=Ot){let{symmetricAlgo:r,aeadAlgo:s}=yield(function(){return V(this,arguments,function*(c=[],d=new Date,u=[],m=Ot){let g=yield Promise.all(c.map((S,I)=>S.getPrimarySelfSignature(d,u[I],m)));if(c.length?g.every(S=>S.features&&S.features[0]&T.features.seipdv2):m.aeadProtect){let S={symmetricAlgo:T.symmetric.aes128,aeadAlgo:T.aead.ocb},I=[{symmetricAlgo:m.preferredSymmetricAlgorithm,aeadAlgo:m.preferredAEADAlgorithm},{symmetricAlgo:m.preferredSymmetricAlgorithm,aeadAlgo:T.aead.ocb},{symmetricAlgo:T.symmetric.aes128,aeadAlgo:m.preferredAEADAlgorithm}];for(let P of I)if(g.every(L=>L.preferredCipherSuites&&L.preferredCipherSuites.some(F=>F[0]===P.symmetricAlgo&&F[1]===P.aeadAlgo)))return P;return S}let y=T.symmetric.aes128,v=m.preferredSymmetricAlgorithm;return{symmetricAlgo:g.every(S=>S.preferredSymmetricAlgorithms&&S.preferredSymmetricAlgorithms.includes(v))?v:y,aeadAlgo:void 0}})})(n,e,t,o),a=T.read(T.symmetric,r),l=s?T.read(T.aead,s):void 0;return yield Promise.all(n.map(c=>c.getEncryptionKey().catch(()=>null).then(d=>{if(d&&(d.keyPacket.algorithm===T.publicKey.x25519||d.keyPacket.algorithm===T.publicKey.x448)&&!l&&!q.isAES(r))throw Error("Could not generate a session key compatible with the given `encryptionKeys`: X22519 and X448 keys can only be used to encrypt AES session keys; change `config.preferredSymmetricAlgorithm` accordingly.")}))),{data:aF(r),algorithm:a,aeadAlgorithm:l}})}encrypt(c,d,u){return V(this,arguments,function*(n,e,t,o=!1,r=[],s=new Date,a=[],l=Ot){if(t){if(!q.isUint8Array(t.data)||!q.isString(t.algorithm))throw Error("Invalid session key for encryption.")}else if(n&&n.length)t=yield i.generateSessionKey(n,s,a,l);else{if(!e||!e.length)throw Error("No keys, passwords, or session key provided.");t=yield i.generateSessionKey(void 0,void 0,void 0,l)}let{data:m,algorithm:g,aeadAlgorithm:y}=t,v=yield i.encryptSessionKey(m,g,y,n,e,o,r,s,a,l),S=J_.fromObject({version:y?2:1,aeadAlgorithm:y?T.write(T.aead,y):null});S.packets=this.packets;let I=T.write(T.symmetric,g);return yield S.encrypt(I,m,l),v.packets.push(S),S.packets=new bo,v})}static encryptSessionKey(u,m,g,y,v){return V(this,arguments,function*(n,e,t,o,r,s=!1,a=[],l=new Date,c=[],d=Ot){let S=new bo,I=T.write(T.symmetric,e),P=t&&T.write(T.aead,t);if(o){let L=yield Promise.all(o.map(function(F,K){return V(this,null,function*(){let le=yield F.getEncryptionKey(a[K],l,c,d),me=kv.fromObject({version:P?6:3,encryptionKeyPacket:le.keyPacket,anonymousRecipient:s,sessionKey:n,sessionKeyAlgorithm:I});return yield me.encrypt(le.keyPacket),delete me.sessionKey,me})}));S.push(...L)}if(r){let L=function(me,fe){return V(this,null,function*(){try{return yield me.decrypt(fe),1}catch{return 0}})},F=(me,fe)=>me+fe,K=function(me,fe,Te,He){return V(this,null,function*(){let Be=new Nv(d);return Be.sessionKey=me,Be.sessionKeyAlgorithm=fe,Te&&(Be.aeadAlgorithm=Te),yield Be.encrypt(He,d),d.passwordCollisionCheck&&(yield Promise.all(r.map(rt=>L(Be,rt)))).reduce(F)!==1?K(me,fe,He):(delete Be.sessionKey,Be)})},le=yield Promise.all(r.map(me=>K(n,I,P,me)));S.push(...le)}return new i(S)})}sign(){return V(this,arguments,function*(n=[],e=[],t=null,o=[],r=new Date,s=[],a=[],l=[],c=Ot){let d=new bo,u=this.packets.findPacket(T.packet.literalData);if(!u)throw Error("No literal data packet to sign.");let m=yield LK(u,n,e,t,o,r,s,a,l,!1,c),g=m.map((y,v)=>$l.fromSignaturePacket(y,v===0)).reverse();return d.push(...g),d.push(u),d.push(...m),new i(d)})}compress(n,e=Ot){if(n===T.compression.uncompressed)return this;let t=new am(e);t.algorithm=n,t.packets=this.packets;let o=new bo;return o.push(t),new i(o)}signDetached(){return V(this,arguments,function*(n=[],e=[],t=null,o=[],r=[],s=new Date,a=[],l=[],c=Ot){let d=this.packets.findPacket(T.packet.literalData);if(!d)throw Error("No literal data packet to sign.");return new Nx(yield LK(d,n,e,t,o,r,s,a,l,!0,c))})}verify(o){return V(this,arguments,function*(n,e=new Date,t=Ot){let r=this.unwrapCompressed(),s=r.packets.filterByTag(T.packet.literalData);if(s.length!==1)throw Error("Can only verify message with one literal data packet.");let a=r.packets;Yo(a.stream)&&(a=a.concat(yield Rr(a.stream,d=>d||[])));let l=a.filterByTag(T.packet.onePassSignature).reverse(),c=a.filterByTag(T.packet.signature);return l.length&&!c.length&&q.isStream(a.stream)&&!Yo(a.stream)?(yield Promise.all(l.map(d=>V(this,null,function*(){d.correspondingSig=new Promise((u,m)=>{d.correspondingSigResolve=u,d.correspondingSigReject=m}),d.signatureData=lm(()=>V(this,null,function*(){return(yield d.correspondingSig).signatureData})),d.hashed=Rr(yield d.hash(d.signatureType,s[0],void 0,!1)),d.hashed.catch(()=>{})}))),a.stream=Ch(a.stream,(d,u)=>V(this,null,function*(){let m=Nc(d),g=Il(u);try{for(let y=0;y<l.length;y++){let{value:v}=yield m.read();l[y].correspondingSigResolve(v)}yield m.readToEnd(),yield g.ready,yield g.close()}catch(y){l.forEach(v=>{v.correspondingSigReject(y)}),yield g.abort(y)}})),WN(l,s,n,e,!1,t)):WN(c,s,n,e,!1,t)})}verifyDetached(r,s){return V(this,arguments,function*(n,e,t=new Date,o=Ot){let a=this.unwrapCompressed().packets.filterByTag(T.packet.literalData);if(a.length!==1)throw Error("Can only verify message with one literal data packet.");return WN(n.packets.filterByTag(T.packet.signature),a,e,t,!0,o)})}unwrapCompressed(){let n=this.packets.filterByTag(T.packet.compressedData);return n.length?new i(n[0].packets):this}appendSignature(t){return V(this,arguments,function*(n,e=Ot){yield this.packets.read(q.isUint8Array(n)?n:(yield jv(n)).data,Ike,e)})}write(){return this.packets.write()}armor(n=Ot){let e=this.packets[this.packets.length-1],t=e.constructor.tag===J_.tag?e.version!==2:this.packets.some(o=>o.constructor.tag===Vs.tag&&o.version!==6);return Gv(T.armor.message,this.write(),null,null,null,t,n)}};function LK(u,m){return V(this,arguments,function*(i,n,e=[],t=null,o=[],r=new Date,s=[],a=[],l=[],c=!1,d=Ot){let g=new bo,y=i.text===null?T.signature.binary:T.signature.text;if(yield Promise.all(n.map((v,S)=>V(null,null,function*(){let I=s[S];if(!v.isPrivate())throw Error("Need private key for signing");let P=yield v.getSigningKey(o[S],r,I,d);return Bd(i,e.length?e:[v],P.keyPacket,{signatureType:y},r,a,l,c,d)}))).then(v=>{g.push(...v)}),t){let v=t.packets.filterByTag(T.packet.signature);g.push(...v)}return g})}function WN(i,n,e,t=new Date,o=!1,r=Ot){return i.filter(s=>["text","binary"].includes(T.read(T.signature,s.signatureType))).map(s=>(function(a,l,c,d=new Date,u=!1,m=Ot){let g,y;for(let I of c){let P=I.getKeys(a.issuerKeyID);if(P.length>0){g=I,y=P[0];break}}let v=a instanceof $l?a.correspondingSig:a,S={keyID:a.issuerKeyID,verified:V(null,null,function*(){if(!y)throw Error("Could not find signing key with key ID "+a.issuerKeyID.toHex());yield a.verify(y.keyPacket,a.signatureType,l[0],d,u,m);let I=yield v;if(y.getCreationTime()>I.created)throw Error("Key is newer than the signature");try{yield g.getSigningKey(y.getKeyID(),I.created,void 0,m)}catch(P){if(!m.allowInsecureVerificationWithReformattedKeys||!P.message.match(/Signature creation time is in the future/))throw P;yield g.getSigningKey(y.getKeyID(),d,void 0,m)}return!0}),signature:V(null,null,function*(){let I=yield v,P=new bo;return I&&P.push(I),new Nx(P)})};return S.signature.catch(()=>{}),S.verified.catch(()=>{}),S})(s,n,e,t,o,r))}function jq(o){return V(this,null,function*(){var r=o,{armoredMessage:i,binaryMessage:n,config:e}=r,t=Xl(r,["armoredMessage","binaryMessage","config"]);e=ee(ee({},Ot),e);let s=i||n;if(!s)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(i&&!q.isString(i)&&!q.isStream(i))throw Error("readMessage: options.armoredMessage must be a string or stream");if(n&&!q.isUint8Array(n)&&!q.isStream(n))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");let a=Object.keys(t);if(a.length>0)throw Error("Unknown option: "+a.join(", "));let l=q.isStream(s);if(i){let{type:u,data:m}=yield jv(s);if(u!==T.armor.message)throw Error("Armored text not of type message");s=m}let c=yield bo.fromBinary(s,Cke,e,new q_),d=new Vv(c);return d.fromStream=l,d})}function Gq(s){return V(this,null,function*(){var a=s,{text:i,binary:n,filename:e,date:t=new Date,format:o=i!==void 0?"utf8":"binary"}=a,r=Xl(a,["text","binary","filename","date","format"]);let l=i!==void 0?i:n;if(l===void 0)throw Error("createMessage: must pass options object containing `text` or `binary`");if(i&&!q.isString(i)&&!q.isStream(i))throw Error("createMessage: options.text must be a string or stream");if(n&&!q.isUint8Array(n)&&!q.isStream(n))throw Error("createMessage: options.binary must be a Uint8Array or stream");let c=Object.keys(r);if(c.length>0)throw Error("Unknown option: "+c.join(", "));let d=q.isStream(l),u=new wh(t);i!==void 0?u.setText(l,T.write(T.literal,o)):u.setBytes(l,T.write(T.literal,o)),e!==void 0&&u.setFilename(e);let m=new bo;m.push(u);let g=new Vv(m);return g.fromStream=d,g})}function Hq(u){return V(this,null,function*(){var m=u,{userIDs:i=[],passphrase:n,type:e,curve:t,rsaBits:o=4096,keyExpirationTime:r=0,date:s=new Date,subkeys:a=[{}],format:l="armored",config:c}=m,d=Xl(m,["userIDs","passphrase","type","curve","rsaBits","keyExpirationTime","date","subkeys","format","config"]);MF(c=ee(ee({},Ot),c)),e||t?(e=e||"ecc",t=t||"curve25519Legacy"):(e=c.v6Keys?"curve25519":"ecc",t="curve25519Legacy"),i=wl(i);let g=Object.keys(d);if(g.length>0)throw Error("Unknown option: "+g.join(", "));if(i.length===0&&!c.v6Keys)throw Error("UserIDs are required for V4 keys");if(e==="rsa"&&o<c.minRSABits)throw Error(`rsaBits should be at least ${c.minRSABits}, got: ${o}`);let y={userIDs:i,passphrase:n,type:e,rsaBits:o,curve:t,keyExpirationTime:r,date:s,subkeys:a};try{let{key:v,revocationCertificate:S}=yield(function(I,P){return V(this,null,function*(){I.sign=!0,(I=wF(I)).subkeys=I.subkeys.map((me,fe)=>wF(I.subkeys[fe],I));let L=[_ke(I,P)];L=L.concat(I.subkeys.map(me=>Lq(me,P)));let F=yield Promise.all(L),K=yield wke(F[0],F.slice(1),I,P),le=yield K.getRevocationCertificate(I.date,P);return K.revocationSignatures=[],{key:K,revocationCertificate:le}})})(y,c);return v.getKeys().forEach(({keyPacket:I})=>mh(I,c)),{privateKey:MK(v,l,c),publicKey:MK(v.toPublic(),l,c),revocationCertificate:S}}catch(v){throw q.wrapError("Error generating keypair",v)}})}function zq(S){return V(this,null,function*(){var I=S,{message:i,encryptionKeys:n,signingKeys:e,passwords:t,sessionKey:o,format:r="armored",signature:s=null,wildcard:a=!1,signingKeyIDs:l=[],encryptionKeyIDs:c=[],date:d=new Date,signingUserIDs:u=[],encryptionUserIDs:m=[],signatureNotations:g=[],config:y}=I,v=Xl(I,["message","encryptionKeys","signingKeys","passwords","sessionKey","format","signature","wildcard","signingKeyIDs","encryptionKeyIDs","date","signingUserIDs","encryptionUserIDs","signatureNotations","config"]);if(MF(y=ee(ee({},Ot),y)),$q(i),Eke(r),n=wl(n),e=wl(e),t=wl(t),l=wl(l),c=wl(c),u=wl(u),m=wl(m),g=wl(g),v.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(v.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(v.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(v.armor!==void 0)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");let P=Object.keys(v);if(P.length>0)throw Error("Unknown option: "+P.join(", "));e||(e=[]);try{if((e.length||s)&&(i=yield i.sign(e,n,s,l,d,u,c,g,y)),i=i.compress(yield(function(){return V(this,arguments,function*(F=[],K=new Date,le=[],me=Ot){let fe=T.compression.uncompressed,Te=me.preferredCompressionAlgorithm;return(yield Promise.all(F.map(function(Be,rt){return V(this,null,function*(){let Rt=(yield Be.getPrimarySelfSignature(K,le[rt],me)).preferredCompressionAlgorithms;return!!Rt&&Rt.indexOf(Te)>=0})}))).every(Boolean)?Te:fe})})(n,d,m,y),y),i=yield i.encrypt(n,t,o,a,c,d,m,y),r==="object")return i;let L=r==="armored"?i.armor(y):i.write();return yield Kq(L)}catch(L){throw q.wrapError("Error encrypting message",L)}})}function Wq(u){return V(this,null,function*(){var m=u,{message:i,decryptionKeys:n,passwords:e,sessionKeys:t,verificationKeys:o,expectSigned:r=!1,format:s="utf8",signature:a=null,date:l=new Date,config:c}=m,d=Xl(m,["message","decryptionKeys","passwords","sessionKeys","verificationKeys","expectSigned","format","signature","date","config"]);if(MF(c=ee(ee({},Ot),c)),$q(i),o=wl(o),n=wl(n),e=wl(e),t=wl(t),d.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(d.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");let g=Object.keys(d);if(g.length>0)throw Error("Unknown option: "+g.join(", "));try{let y=yield i.decrypt(n,e,t,l,c);o||(o=[]);let v={};if(v.signatures=a?yield y.verifyDetached(a,o,l,c):yield y.verify(o,l,c),v.data=s==="binary"?y.getLiteralData():y.getText(),v.filename=y.getFilename(),Tke(v,i,...new Set([y,y.unwrapCompressed()])),r){if(o.length===0)throw Error("Verification keys are required to verify message signatures");if(v.signatures.length===0)throw Error("Message is not signed");v.data=Ia([v.data,lm(()=>V(null,null,function*(){return yield q.anyPromise(v.signatures.map(S=>S.verified)),s==="binary"?new Uint8Array:""}))])}return v.data=yield Kq(v.data),v}catch(y){throw q.wrapError("Error decrypting message",y)}})}function $q(i){if(!(i instanceof Vv))throw Error("Parameter [message] needs to be of type Message")}function Eke(i){if(i!=="armored"&&i!=="binary"&&i!=="object")throw Error("Unsupported format "+i)}var xke=Object.keys(Ot).length;function MF(i){let n=Object.keys(i);if(n.length!==xke){for(let e of n)if(Ot[e]===void 0)throw Error("Unknown config property: "+e)}}function wl(i){return i&&!q.isArray(i)&&(i=[i]),i}function Kq(i){return V(this,null,function*(){return q.isStream(i)==="array"?Rr(i):i})}function Tke(i,n,...e){i.data=Ch(n.packets.stream,(t,o)=>V(null,null,function*(){yield z_(i.data,o,{preventClose:!0});let r=Il(o);try{yield Rr(t,s=>s),yield Promise.all(e.map(s=>Rr(s.packets.stream,a=>a))),yield r.close()}catch(s){yield r.abort(s)}}))}function MK(i,n,e){switch(n){case"object":return i;case"armored":return i.armor(e);case"binary":return i.write();default:throw Error("Unsupported format "+n)}}var Tt=(()=>{let n=class n extends $i{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t),this.httpClient=t,this.itemSelectedService=o,this.fwcUserService=r,this.fwcAuthService=s,this.messageService=a,this.fwcEventService=l,this.location=c,this.translate=d,this.refService=u,this.appOptionsService=m,this.zone=g,this.IO_MSG_TYPE="FWC_MSG",this.DEFAULT_PING_MS=300*1e3,this.subjectGridScroll=new Le,this.subjectGridScrollToTop=new Le,this.subjectHeaderScroll=new Le,this.endpoint=Ie.settings.fwcAppURL,Pg.socketDebug?localStorage.setItem("debug","engine.io-client:socket"):localStorage.removeItem("debug")}getTwitterTimeline(){let t=`${this.endpoint}/twitter/gettimeline`;return this.httpClient.get(t).pipe(X(this.handleAPIError))}getTwitterLatest(){let t=`${this.endpoint}/twitter/searchtweets`;return this.httpClient.get(t).pipe(X(this.handleAPIError))}ioConnect(t){let o,r,s;o=new URL(Ie.settings.fwcAppURL),r=new URL(window.location.href),o.origin===r.origin?s=o.origin:s=Ie.settings.fwcAppURL,this.socket=pv(s,{withCredentials:!0,transports:["websocket"]}),this.socket.on("connect",()=>{Ie.log("Socket connection established. ID: ",this.socket.id),this.fwcEventService.emitEvent({type:Dc.EVENT_CONNECTION_ESTABLISHED}),t&&(t(),t=null)}),this.socket.on("disconnect",()=>{Ie.log("Socket connection finished."),this.fwcEventService.emitEvent({type:Dc.EVENT_CONNECTION_LOST})}),this.socket.on("ca:dh:created",a=>{let l={_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_CA};this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.SUMMARY"),detail:this.translate.instant("VPN.PANEL.NEW.SUCCESS_NEW_CA.TEXT",{caId:a.caId})}),this.itemSelectedService.setModifiedItem(l)}),this.socket.on("log:info",a=>{let l=a.replace(/(?:\r\n|\r|\n)/g,"<br>"),c={type:Dc.EVENT_LOG,message:l};this.fwcEventService.emitEvent(c)}),this.socket.on("log:END",a=>{let l={type:Dc.EVENT_LOG,message:"END"};this.fwcEventService.emitEvent(l)})}ioSendMsg(t,o=this.IO_MSG_TYPE){this.socket.emit(o,t)}ioGetMsgs(){return new pi(t=>{this.socket.on(this.IO_MSG_TYPE,o=>{t.next(o)})})}ioGetSocketId(){return this.socket?this.socket.id:null}ioGetSocketConnected(){return this.socket?this.socket.connected:!1}ioDisconnect(){this.socket&&this.socket.close()}doAppLogout(t){this.fwcAuthService.logout(),this.ioDisconnect(),this.clearPingInterval(),this.appOptionsService.clearAllTreeState(),t&&localStorage.setItem(sn.LS_RELOAD_APP,new Date().getTime().toString())}ioListenOnLogEvent(t){this.socket.on(t,o=>{this.fwcEventService.emitEvent(o)})}onForceUnlock(){return new pi(t=>{if(!this.socket){t.complete();return}let o=r=>{this.zone.run(()=>{t.next(r)})};return this.socket.on("fwcloud:forceUnlock",o),()=>{this.socket?.off("fwcloud:forceUnlock",o)}})}ioReleaseLogEvent(t){this.socket.off(t)}generatePGPKeys(){return V(this,null,function*(){let{privateKey:t,publicKey:o}=yield Hq({userIDs:[{name:"FWCloud.net",email:"info@fwcloud.net"}],rsaBits:2048,type:"rsa",format:"armored"});return{publicKeyArmored:o,privateKeyArmored:t}})}openPGPEncrypt(t,o){return V(this,null,function*(){if(!o)return t;let r=yield Vq({armoredKey:o});return(yield zq({message:yield Gq({text:t}),encryptionKeys:r})).toString()})}openPGPDecrypt(t,o){return V(this,null,function*(){if(!o)return t;let r=yield Uq({armoredKey:o}),s=yield jq({armoredMessage:t}),{data:a}=yield Wq({message:s,decryptionKeys:r});return a.toString()})}createDynamicComponentRef(t){return this.refService.getAppRef().createComponent(t)}fileUpload(t){let o=`${this.endpoint}/fileupload`,r=new FormData;return r.append("cloudImg",t),Ie.log("FILE: ",t,r),this.httpClient.post(o,r).pipe(X(this.handleAPIError))}getAppVersions(){if(Ie.settings.checkUpdates===!1)return this.getAPIVersion();let t=Ie.settings.installMethod===cd.pkg?`${this.endpoint}/updates/type/${cd.pkg}`:`${this.endpoint}/updates`;return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}getAPIVersion(){let t=`${this.endpoint}/version`;return this.httpClient.get(t).pipe(J(this.handleAPIResponseNew),J(o=>({status:o.status,data:{api:{current:o.data.version,last:o.data.version,needsUpdate:!1},websrv:{current:null,last:null,needsUpdate:!1},ui:{current:Pg.VERSION,last:Pg.VERSION,needsUpdate:!1},updater:{current:null,last:null,needsUpdate:!1}}})),X(this.handleAPIError))}updateVersion(t){let o=`${this.endpoint}/updates/${t}`;return this.httpClient.put(o,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}setGridScroll(t){this.subjectGridScroll.next(t)}getGridScroll(){return this.subjectGridScroll.asObservable().pipe(Lm(100))}setGridScrollToTop(){this.subjectGridScrollToTop.next(!0)}getGridScrollToTop(){return this.subjectGridScrollToTop.asObservable()}pingServer(){let t=`${this.endpoint}/ping`;return this.httpClient.put(t,{}).pipe(J(this.handleAPIResponseNew),X(this.handleAPIError))}setPingInterval(){this.clearPingInterval(),this.pingInterval=setInterval(()=>{this.pingServer().subscribe({next:t=>{},error:t=>{}})},this.DEFAULT_PING_MS)}clearPingInterval(){clearInterval(this.pingInterval)}fwcAPICall(t,...o){return new Promise((s,a)=>{t||a({error:{msg:"Incorrect API call"}}),Array.isArray(o)||(o=[]),t(...o).subscribe(l=>{s(l)},l=>V(this,null,function*(){if(l&&l.status==403&&l.error){let c=l.error;if(l.error instanceof Blob&&(c=yield l.error.text(),c=JSON.parse(c)),c.fwc_confirm_token){let d=c.fwc_confirm_token;this.fwcUserService.setConfirmationToken(d),t(...o).subscribe(u=>{s(u),this.fwcUserService.setConfirmationToken(void 0)},u=>{a(u),this.fwcUserService.setConfirmationToken(void 0)})}else a(l)}else a(l)}))})}fwcAPICallObservable(t,...o){return new pi(r=>{if(!t){r.error({error:{msg:"Incorrect API call"}});return}Array.isArray(o)||(o=[]);let s=new On,a=(l=!1)=>{let c=t(...o).subscribe({next:d=>{r.next(d),r.complete()},error:d=>V(this,null,function*(){if(d&&d.status===403&&d.error){let u=d.error;if(d.error instanceof Blob&&(u=yield d.error.text(),u=JSON.parse(u)),u.fwc_confirm_token&&!l){let m=u.fwc_confirm_token;this.fwcUserService.setConfirmationToken(m),a(!0)}else r.error(d)}else r.error(d)})});s.add(c)};return a(),()=>{s.unsubscribe()}})}isCommunicationErrorStr(t){let o=/SSH_ERROR\((client-authentication|client-socket|client-timeout)\)/.exec(t),r=/(ECONNREFUSED|ETIMEDOUT|EHOSTUNREACH|ECONNRESET|EPROTO|ECONNABORTED: Timeout|ApiKeyNotFound|ApiKeyNotValid|NotAllowedIP|DirNotFound)/.exec(t),s=null,a;return o?a=o[1]:r&&(a=r[1],a==="ETIMEDOUT"&&(a="ECONNABORTED: Timeout")),a&&(s=this.translate.instant("API_ERROR."+a)),s}isCommunicationError(t){let o=null,r;if(t){let s;t.msg?s=t.msg:t.message&&(s=t.message),o=this.isCommunicationErrorStr(s)}return o}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(yt),be(dt),be(Ma),be(ii),be(dn),be(ad),be($e),be(sa),be(St),be(Ft))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Yx=(()=>{let n=class n{constructor(){this.forwardSelection=new Le}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Zq=new WeakMap,rT=i=>(...n)=>{let e=i(...n);return Zq.set(e,!0),e},Kv=i=>typeof i=="function"&&Zq.has(i),qq=window.customElements!==void 0&&window.customElements.polyfillWrapFlushCallback!==void 0,JF=(i,n,e=null)=>{for(;n!==e;){let t=n.nextSibling;i.removeChild(n),n=t}},Lc={},Jq={},$p=`{{lit-${String(Math.random()).slice(2)}}}`,eJ=`<!--${$p}-->`,Qq=new RegExp(`${$p}|${eJ}`),Wv="$lit$",Zx=class{constructor(n,e){this.parts=[],this.element=e;let t=[],o=[],r=document.createTreeWalker(e.content,133,null,!1),s=0,a=-1,l=0,{strings:c,values:{length:d}}=n;for(;l<d;){let u=r.nextNode();if(u!==null){if(a++,u.nodeType===1){if(u.hasAttributes()){let m=u.attributes,{length:g}=m,y=0;for(let v=0;v<g;v++)Yq(m[v].name,Wv)&&y++;for(;y-- >0;){let v=c[l],S=GF.exec(v)[2],I=S.toLowerCase()+Wv,P=u.getAttribute(I);u.removeAttribute(I);let L=P.split(Qq);this.parts.push({type:"attribute",index:a,name:S,strings:L}),l+=L.length-1}}u.tagName==="TEMPLATE"&&(o.push(u),r.currentNode=u.content)}else if(u.nodeType===3){let m=u.data;if(m.indexOf($p)>=0){let g=u.parentNode,y=m.split(Qq),v=y.length-1;for(let S=0;S<v;S++){let I,P=y[S];if(P==="")I=Sh();else{let L=GF.exec(P);L!==null&&Yq(L[2],Wv)&&(P=P.slice(0,L.index)+L[1]+L[2].slice(0,-Wv.length)+L[3]),I=document.createTextNode(P)}g.insertBefore(I,u),this.parts.push({type:"node",index:++a})}y[v]===""?(g.insertBefore(Sh(),u),t.push(u)):u.data=y[v],l+=v}}else if(u.nodeType===8)if(u.data===$p){let m=u.parentNode;(u.previousSibling===null||a===s)&&(a++,m.insertBefore(Sh(),u)),s=a,this.parts.push({type:"node",index:a}),u.nextSibling===null?u.data="":(t.push(u),a--),l++}else{let m=-1;for(;(m=u.data.indexOf($p,m+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}else r.currentNode=o.pop()}for(let u of t)u.parentNode.removeChild(u)}},Yq=(i,n)=>{let e=i.length-n.length;return e>=0&&i.slice(e)===n},tJ=i=>i.index!==-1,Sh=()=>document.createComment(""),GF=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;var qv=class{constructor(n,e,t){this.__parts=[],this.template=n,this.processor=e,this.options=t}update(n){let e=0;for(let t of this.__parts)t!==void 0&&t.setValue(n[e]),e++;for(let t of this.__parts)t!==void 0&&t.commit()}_clone(){let n=qq?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],t=this.template.parts,o=document.createTreeWalker(n,133,null,!1),r,s=0,a=0,l=o.nextNode();for(;s<t.length;)if(r=t[s],tJ(r)){for(;a<r.index;)a++,l.nodeName==="TEMPLATE"&&(e.push(l),o.currentNode=l.content),(l=o.nextNode())===null&&(o.currentNode=e.pop(),l=o.nextNode());if(r.type==="node"){let c=this.processor.handleTextExpression(this.options);c.insertAfterNode(l.previousSibling),this.__parts.push(c)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));s++}else this.__parts.push(void 0),s++;return qq&&(document.adoptNode(n),customElements.upgrade(n)),n}};var Dke=` ${$p} `,Mc=class{constructor(n,e,t,o){this.strings=n,this.values=e,this.type=t,this.processor=o}getHTML(){let n=this.strings.length-1,e="",t=!1;for(let o=0;o<n;o++){let r=this.strings[o],s=r.lastIndexOf("<!--");t=(s>-1||t)&&r.indexOf("-->",s+1)===-1;let a=GF.exec(r);a===null?e+=r+(t?Dke:eJ):e+=r.substr(0,a.index)+a[1]+a[2]+Wv+a[3]+$p}return e+=this.strings[n]}getTemplateElement(){let n=document.createElement("template");return n.innerHTML=this.getHTML(),n}};var QF=i=>i===null||!(typeof i=="object"||typeof i=="function"),iJ=i=>Array.isArray(i)||!(!i||!i[Symbol.iterator]),eT=class{constructor(n,e,t){this.dirty=!0,this.element=n,this.name=e,this.strings=t,this.parts=[];for(let o=0;o<t.length-1;o++)this.parts[o]=this._createPart()}_createPart(){return new Ih(this)}_getValue(){let n=this.strings,e=n.length-1,t="";for(let o=0;o<e;o++){t+=n[o];let r=this.parts[o];if(r!==void 0){let s=r.value;if(QF(s)||!iJ(s))t+=typeof s=="string"?s:String(s);else for(let a of s)t+=typeof a=="string"?a:String(a)}}return t+=n[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}},Ih=class{constructor(n){this.value=void 0,this.committer=n}setValue(n){n!==Lc&&(!QF(n)||n!==this.value)&&(this.value=n,Kv(n)||(this.committer.dirty=!0))}commit(){for(;Kv(this.value);){let n=this.value;this.value=Lc,n(this)}this.value!==Lc&&this.committer.commit()}},tT=class i{constructor(n){this.value=void 0,this.__pendingValue=void 0,this.options=n}appendInto(n){this.startNode=n.appendChild(Sh()),this.endNode=n.appendChild(Sh())}insertAfterNode(n){this.startNode=n,this.endNode=n.nextSibling}appendIntoPart(n){n.__insert(this.startNode=Sh()),n.__insert(this.endNode=Sh())}insertAfterPart(n){n.__insert(this.startNode=Sh()),this.endNode=n.endNode,n.endNode=this.startNode}setValue(n){this.__pendingValue=n}commit(){for(;Kv(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=Lc,e(this)}let n=this.__pendingValue;n!==Lc&&(QF(n)?n!==this.value&&this.__commitText(n):n instanceof Mc?this.__commitTemplateResult(n):n instanceof Node?this.__commitNode(n):iJ(n)?this.__commitIterable(n):n===Jq?(this.value=Jq,this.clear()):this.__commitText(n))}__insert(n){this.endNode.parentNode.insertBefore(n,this.endNode)}__commitNode(n){this.value!==n&&(this.clear(),this.__insert(n),this.value=n)}__commitText(n){let e=this.startNode.nextSibling,t=typeof(n=n??"")=="string"?n:String(n);e===this.endNode.previousSibling&&e.nodeType===3?e.data=t:this.__commitNode(document.createTextNode(t)),this.value=n}__commitTemplateResult(n){let e=this.options.templateFactory(n);if(this.value instanceof qv&&this.value.template===e)this.value.update(n.values);else{let t=new qv(e,n.processor,this.options),o=t._clone();t.update(n.values),this.__commitNode(o),this.value=t}}__commitIterable(n){Array.isArray(this.value)||(this.value=[],this.clear());let e=this.value,t,o=0;for(let r of n)(t=e[o])===void 0&&(t=new i(this.options),e.push(t),o===0?t.appendIntoPart(this):t.insertAfterPart(e[o-1])),t.setValue(r),t.commit(),o++;o<e.length&&(e.length=o,this.clear(t&&t.endNode))}clear(n=this.startNode){JF(this.startNode.parentNode,n.nextSibling,this.endNode)}},HF=class{constructor(n,e,t){if(this.value=void 0,this.__pendingValue=void 0,t.length!==2||t[0]!==""||t[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=n,this.name=e,this.strings=t}setValue(n){this.__pendingValue=n}commit(){for(;Kv(this.__pendingValue);){let e=this.__pendingValue;this.__pendingValue=Lc,e(this)}if(this.__pendingValue===Lc)return;let n=!!this.__pendingValue;this.value!==n&&(n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=n),this.__pendingValue=Lc}},zF=class extends eT{constructor(n,e,t){super(n,e,t),this.single=t.length===2&&t[0]===""&&t[1]===""}_createPart(){return new dm(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}},dm=class extends Ih{},nJ=!1;try{let i={get capture(){return nJ=!0,!1}};window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch{}var WF=class{constructor(n,e,t){this.value=void 0,this.__pendingValue=void 0,this.element=n,this.eventName=e,this.eventContext=t,this.__boundHandleEvent=o=>this.handleEvent(o)}setValue(n){this.__pendingValue=n}commit(){for(;Kv(this.__pendingValue);){let r=this.__pendingValue;this.__pendingValue=Lc,r(this)}if(this.__pendingValue===Lc)return;let n=this.__pendingValue,e=this.value,t=n==null||e!=null&&(n.capture!==e.capture||n.once!==e.once||n.passive!==e.passive),o=n!=null&&(e==null||t);t&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),o&&(this.__options=Pke(n),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=n,this.__pendingValue=Lc}handleEvent(n){typeof this.value=="function"?this.value.call(this.eventContext||this.element,n):this.value.handleEvent(n)}},Pke=i=>i&&(nJ?{capture:i.capture,passive:i.passive,once:i.once}:i.capture);var $F=class{handleAttributeExpressions(n,e,t,o){let r=e[0];return r==="."?new zF(n,e.slice(1),t).parts:r==="@"?[new WF(n,e.slice(1),o.eventContext)]:r==="?"?[new HF(n,e.slice(1),t)]:new eT(n,e,t).parts}handleTextExpression(n){return new tT(n)}},pm=new $F;function Ake(i){let n=Jv.get(i.type);n===void 0&&(n={stringsArray:new WeakMap,keyString:new Map},Jv.set(i.type,n));let e=n.stringsArray.get(i.strings);if(e!==void 0)return e;let t=i.strings.join($p);return(e=n.keyString.get(t))===void 0&&(e=new Zx(i,i.getTemplateElement()),n.keyString.set(t,e)),n.stringsArray.set(i.strings,e),e}var Jv=new Map,Y_=new WeakMap,kke=(i,n,e)=>{let t=Y_.get(n);t===void 0&&(JF(n,n.firstChild),Y_.set(n,t=new tT(Object.assign({templateFactory:Ake},e))),t.appendInto(n)),t.setValue(i),t.commit()};(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");var Ke=(i,...n)=>new Mc(i,n,"html",pm),YF=133;function oJ(i,n){let{element:{content:e},parts:t}=i,o=document.createTreeWalker(e,YF,null,!1),r=$v(t),s=t[r],a=-1,l=0,c=[],d=null;for(;o.nextNode();){a++;let u=o.currentNode;for(u.previousSibling===d&&(d=null),n.has(u)&&(c.push(u),d===null&&(d=u)),d!==null&&l++;s!==void 0&&s.index===a;)s.index=d!==null?-1:s.index-l,s=t[r=$v(t,r)]}c.forEach(u=>u.parentNode.removeChild(u))}var Nke=i=>{let n=i.nodeType===11?0:1,e=document.createTreeWalker(i,YF,null,!1);for(;e.nextNode();)n++;return n},$v=(i,n=-1)=>{for(let e=n+1;e<i.length;e++){let t=i[e];if(tJ(t))return e}return-1};function Fke(i,n,e=null){let{element:{content:t},parts:o}=i;if(e==null){t.appendChild(n);return}let r=document.createTreeWalker(t,YF,null,!1),s=$v(o),a=0,l=-1;for(;r.nextNode();)for(l++,r.currentNode===e&&(a=Nke(n),e.parentNode.insertBefore(n,e));s!==-1&&o[s].index===l;){if(a>0){for(;s!==-1;)o[s].index+=a,s=$v(o,s);return}s=$v(o,s)}}var rJ=(i,n)=>`${i}--${n}`,iT=!0;typeof window.ShadyCSS>"u"?iT=!1:typeof window.ShadyCSS.prepareTemplateDom>"u"&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),iT=!1);var Lke=i=>n=>{let e=rJ(n.type,i),t=Jv.get(e);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},Jv.set(e,t));let o=t.stringsArray.get(n.strings);if(o!==void 0)return o;let r=n.strings.join($p);if((o=t.keyString.get(r))===void 0){let s=n.getTemplateElement();iT&&window.ShadyCSS.prepareTemplateDom(s,i),o=new Zx(n,s),t.keyString.set(r,o)}return t.stringsArray.set(n.strings,o),o},Mke=["html","svg"],Bke=i=>{Mke.forEach(n=>{let e=Jv.get(rJ(n,i));e!==void 0&&e.keyString.forEach(t=>{let{element:{content:o}}=t,r=new Set;Array.from(o.querySelectorAll("style")).forEach(s=>{r.add(s)}),oJ(t,r)})})},sJ=new Set,Vke=(i,n,e)=>{sJ.add(i);let t=e?e.element:document.createElement("template"),o=n.querySelectorAll("style"),{length:r}=o;if(r===0){window.ShadyCSS.prepareTemplateStyles(t,i);return}let s=document.createElement("style");for(let c=0;c<r;c++){let d=o[c];d.parentNode.removeChild(d),s.textContent+=d.textContent}Bke(i);let a=t.content;e?Fke(e,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(t,i);let l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&l!==null)n.insertBefore(l.cloneNode(!0),n.firstChild);else if(e){a.insertBefore(s,a.firstChild);let c=new Set;c.add(s),oJ(e,c)}},Uke=(i,n,e)=>{if(!e||typeof e!="object"||!e.scopeName)throw new Error("The `scopeName` option is required.");let t=e.scopeName,o=Y_.has(n),r=iT&&n.nodeType===11&&!!n.host,s=r&&!sJ.has(t),a=s?document.createDocumentFragment():n;if(kke(i,a,Object.assign({templateFactory:Lke(t)},e)),s){let l=Y_.get(a);Y_.delete(a);let c=l.value instanceof qv?l.value.template:void 0;Vke(t,a,c),JF(n,n.firstChild),n.appendChild(a),Y_.set(n,l)}!o&&r&&window.ShadyCSS.styleElement(n.host)};var jke;window.JSCompiler_renameProperty=(i,n)=>i;var KF={toAttribute(i,n){switch(n){case Boolean:return i?"":null;case Object:case Array:return i==null?i:JSON.stringify(i);default:return i}},fromAttribute(i,n){switch(n){case Boolean:return i!==null;case Number:return i===null?null:Number(i);case Object:case Array:return JSON.parse(i);default:return i}}},aJ=(i,n)=>n!==i&&(n===n||i===i),Xx={attribute:!0,type:String,converter:KF,reflect:!1,hasChanged:aJ},Gke=Promise.resolve(!0),BF=1,VF=4,UF=8,jF=16,Xq=32,qF="finalized",nT=class extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=Gke,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();let n=[];return this._classProperties.forEach((e,t)=>{let o=this._attributeNameForProperty(t,e);o!==void 0&&(this._attributeToPropertyMap.set(o,t),n.push(o))}),n}static _ensureClassProperties(){if(!this.hasOwnProperty(window.JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;let n=Object.getPrototypeOf(this)._classProperties;n!==void 0&&n.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(n,e=Xx){if(this._ensureClassProperties(),this._classProperties.set(n,e),e.noAccessor||this.prototype.hasOwnProperty(n))return;let t=typeof n=="symbol"?Symbol():`__${n}`;Object.defineProperty(this.prototype,n,{get(){return this[t]},set(o){let r=this[n];this[t]=o,this._requestUpdate(n,r)},configurable:!0,enumerable:!0})}static finalize(){let n=Object.getPrototypeOf(this);if(n.hasOwnProperty(qF)||n.finalize(),this[qF]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(window.JSCompiler_renameProperty("properties",this))){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...typeof Object.getOwnPropertySymbols=="function"?Object.getOwnPropertySymbols(e):[]];for(let o of t)this.createProperty(o,e[o])}}static _attributeNameForProperty(n,e){let t=e.attribute;return t===!1?void 0:typeof t=="string"?t:typeof n=="string"?n.toLowerCase():void 0}static _valueHasChanged(n,e,t=aJ){return t(n,e)}static _propertyValueFromAttribute(n,e){let t=e.type,o=e.converter||KF,r=typeof o=="function"?o:o.fromAttribute;return r?r(n,t):n}static _propertyValueToAttribute(n,e){if(e.reflect===void 0)return;let t=e.type,o=e.converter;return(o&&o.toAttribute||KF.toAttribute)(n,t)}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((n,e)=>{if(this.hasOwnProperty(e)){let t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((n,e)=>this[e]=n),this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|Xq,this._hasConnectedResolver&&(this._hasConnectedResolver(),this._hasConnectedResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(n,e,t){e!==t&&this._attributeToProperty(n,t)}_propertyToAttribute(n,e,t=Xx){let o=this.constructor,r=o._attributeNameForProperty(n,t);if(r!==void 0){let s=o._propertyValueToAttribute(e,t);if(s===void 0)return;this._updateState=this._updateState|UF,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._updateState=this._updateState&~UF}}_attributeToProperty(n,e){if(this._updateState&UF)return;let t=this.constructor,o=t._attributeToPropertyMap.get(n);if(o!==void 0){let r=t._classProperties.get(o)||Xx;this._updateState=this._updateState|jF,this[o]=t._propertyValueFromAttribute(e,r),this._updateState=this._updateState&~jF}}_requestUpdate(n,e){let t=!0;if(n!==void 0){let o=this.constructor,r=o._classProperties.get(n)||Xx;o._valueHasChanged(this[n],e,r.hasChanged)?(this._changedProperties.has(n)||this._changedProperties.set(n,e),r.reflect===!0&&!(this._updateState&jF)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(n,r))):t=!1}!this._hasRequestedUpdate&&t&&this._enqueueUpdate()}requestUpdate(n,e){return this._requestUpdate(n,e),this.updateComplete}_enqueueUpdate(){return V(this,null,function*(){this._updateState=this._updateState|VF;let n,e,t=this._updatePromise;this._updatePromise=new Promise((o,r)=>{n=o,e=r});try{yield t}catch{}this._hasConnected||(yield new Promise(o=>this._hasConnectedResolver=o));try{let o=this.performUpdate();o!=null&&(yield o)}catch(o){e(o)}n(!this._hasRequestedUpdate)})}get _hasConnected(){return this._updateState&Xq}get _hasRequestedUpdate(){return this._updateState&VF}get hasUpdated(){return this._updateState&BF}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();let n=!1,e=this._changedProperties;try{(n=this.shouldUpdate(e))&&this.update(e)}catch(t){throw n=!1,t}finally{this._markUpdated()}n&&(this._updateState&BF||(this._updateState=this._updateState|BF,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~VF}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(n){return!0}update(n){this._reflectingProperties!==void 0&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0)}updated(n){}firstUpdated(n){}};nT[jke=qF]=!0;var lJ="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cJ=Symbol(),oT=class{constructor(n,e){if(e!==cJ)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n}get styleSheet(){return this._styleSheet===void 0&&(lJ?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}},Hke=i=>{if(i instanceof oT)return i.cssText;if(typeof i=="number")return i;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${i}. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`)},ze=(i,...n)=>{let e=n.reduce((t,o,r)=>t+Hke(o)+i[r+1],i[0]);return new oT(e,cJ)};(window.litElementVersions||(window.litElementVersions=[])).push("2.2.1");function dJ(i,n=[]){for(let e=0,t=i.length;e<t;e++){let o=i[e];Array.isArray(o)?dJ(o,n):n.push(o)}return n}var zke=i=>i.flat?i.flat(1/0):dJ(i),X_=(()=>{class i extends nT{static finalize(){super.finalize.call(this),this._styles=this.hasOwnProperty(window.JSCompiler_renameProperty("styles",this))?this._getUniqueStyles():this._styles||[]}static _getUniqueStyles(){let e=this.styles,t=[];return Array.isArray(e)?zke(e).reduceRight((o,r)=>(o.add(r),o),new Set).forEach(o=>t.unshift(o)):e&&t.push(e),t}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){let e=this.constructor._styles;e.length!==0&&(window.ShadyCSS!==void 0&&!window.ShadyCSS.nativeShadow?window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(t=>t.cssText),this.localName):lJ?this.renderRoot.adoptedStyleSheets=e.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0)}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(e){super.update(e);let t=this.render();t instanceof Mc&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(o=>{let r=document.createElement("style");r.textContent=o.cssText,this.renderRoot.appendChild(r)}))}render(){}}return i.finalized=!0,i.render=Uke,i})();var XF=new WeakMap,Gn=rT(i=>n=>{if(!(n instanceof Ih)||n instanceof dm||n.committer.name!=="class"||n.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");let{committer:e}=n,{element:t}=e;XF.has(n)||(t.className=e.strings.join(" "));let{classList:o}=t,r=XF.get(n);for(let s in r)s in i||o.remove(s);for(let s in i){let a=i[s];(!r||a!==r[s])&&o[a?"add":"remove"](s)}XF.set(n,i)});var ZF=new WeakMap,ln=rT(i=>n=>{if(!(n instanceof Ih)||n instanceof dm||n.committer.name!=="style"||n.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");let{committer:e}=n,{style:t}=e.element;ZF.has(n)||(t.cssText=e.strings.join(" "));let o=ZF.get(n);for(let r in o)r in i||(r.indexOf("-")===-1?t[r]=null:t.removeProperty(r));for(let r in i)r.indexOf("-")===-1?t[r]=i[r]:t.setProperty(r,i[r]);ZF.set(n,i)});var eL=class{constructor(n,e,t){this._currentDelay=this._isNumber(e)?e:0,this._currentDuration=this._isNumber(t)?t:1e3,this._currentTarget=n,this._objStateList=[],this._isDestroyed=!1,this._animationInterval=null,this._animationTick=10,this._numSteps=Math.floor(this._currentDuration/this._animationTick)}destroy(){this._isDestroyed=!0,this._removeAnimationInterval()}get delay(){return this._currentDelay}set delay(n){this._isNumber(n)&&this._currentDelay!==n&&(this._currentDelay=n)}get duration(){return this._currentDuration}set duration(n){this._isNumber(n)&&this._currentDuration!==n&&(this._currentDuration=n,this._numSteps=Math.floor(this._currentDuration/this._animationTick))}animate(n,e,t,o){if(!this._isObject(n)&&!this._isArray(n))return Promise.resolve();{let r=this;return new Promise(s=>{r._removeAnimationInterval(),r._currentDelay=e,setTimeout(function(){t&&(r._currentDuration=t),r._numSteps=Math.floor(r._currentDuration/r._animationTick);let a=r._convertToArray(n);r._updateState(a);let l=0;r._animationInterval=setInterval(function(){let c=[];++l<=r._numSteps&&r._objStateList.forEach(m=>c.push({element:m.element,values:r._updateCurrentValue(m.props,m.values,l)}));let d=!0,u=l===r._numSteps;o&&(u&&r._removeAnimationInterval(),d=o([...c],u)),d===!1?(r._removeAnimationInterval(),s(),r._reverse(c,t/4,o)):(u||r._isDestroyed)&&(r._removeAnimationInterval(),r._updateState(c),s())},r._animationTick)},r._currentDelay)})}}_reverse(n,e,t){let o=this;return new Promise(r=>{o._removeAnimationInterval(),e&&(o._currentDuration=e),o._numSteps=Math.floor(o._currentDuration/o._animationTick);let s=o._convertToArray(n);o._updateState(s,!0);let a=0;o._animationInterval=setInterval(function(){let l=[];++a<=o._numSteps&&o._objStateList.forEach(d=>l.push({element:d.element,values:o._updateCurrentValue(d.props,d.values,a)}));let c=a===o._numSteps;t&&(c&&o._removeAnimationInterval(),t([...l],c,!0)),c&&(o._removeAnimationInterval(),o._updateState(l),r())},o._animationTick)})}_getCurrentValue(n){return this.animationSpeed?this.animationSpeed(n):n}_removeAnimationInterval(){this._animationInterval&&clearInterval(this._animationInterval),this._animationInterval=null}_updateCurrentValue(n,e,t){let o={};return n.forEach(r=>o[r]=t<this._numSteps?e[r].value+this._getCurrentValue(e[r].step*t):e[r].end),o}_getStartingValues(){let n=[];return this._objStateList.forEach(e=>n.push(e.values)),n}_updateState(n,e){let t=this._getStartingValues();this._objStateList.length=0,n.forEach((o,r)=>{let s=this._getObjProperties(o.values),a={};o.current?a=o.current:o.element&&this._isElement(o.element)&&(a=getComputedStyle(o.element));let l={element:o.element,props:s,values:{}};s.forEach(c=>{let d=e?t[r][c].value:o.values[c],u=this._getNumValue(a[c]);l.values[c]={end:this.inverseFunction?this.inverseFunction(d):d,step:(d-u)/this._numSteps,value:u}}),this._objStateList.push(l)})}_convertToArray(n){return this._isObject(n)?[n]:this._isArray(n)?n:[]}_createEmptyArray(n){return new Array(n).fill({})}_getNumValue(n){return this._isString(n)?parseFloat(n):this._isNumber(n)?n:0}_getObjProperties(n){return Object.keys(n)}_isArray(n){return n?Array.isArray(n):!1}_isElement(n){return n?n instanceof Element:!1}_isFieldAvailable(n){return n!==void 0}_isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}_isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}_isString(n){return n?typeof n=="string"||n instanceof String:!1}getTarget(){return this._currentTarget}isActive(){return this._animationInterval!==null}isAnimated(n){return this._isArray(this._currentTarget)?this._currentTarget.filter(e=>e===n).length>0:this._currentTarget===n}},Ts=eL;var tL=class{_calcMargin(n){return n?{top:getComputedStyle(n)["margin-top"]?parseInt(getComputedStyle(n)["margin-top"],10):getComputedStyle(n).marginTop?parseInt(getComputedStyle(n).marginTop,10):0,right:getComputedStyle(n)["margin-right"]?parseInt(getComputedStyle(n)["margin-right"],10):getComputedStyle(n).marginRight?parseInt(getComputedStyle(n).marginRight,10):0,bottom:getComputedStyle(n)["margin-bottom"]?parseInt(getComputedStyle(n)["margin-bottom"],10):getComputedStyle(n).marginBottom?parseInt(getComputedStyle(n).marginBottom,10):0,left:getComputedStyle(n)["margin-left"]?parseInt(getComputedStyle(n)["margin-left"],10):getComputedStyle(n).marginLeft?parseInt(getComputedStyle(n).marginLeft,10):0}:{top:0,right:0,bottom:0,left:0}}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}checkNumInRange(n,e,t){return n>e-t&&n<e+t}colorToRgb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}convertRgbaToHex(n){let e="#";return this.convertRgbaToNum(n,!0).forEach(t=>{t=t.toString(16),e+=t.length===1?"0"+t:t}),e}convertRgbaToHsl(n){let e,t,o=this.convertRgbaToNum(n,!0),r=o[0]/255,s=o[1]/255,a=o[2]/255,l=Math.max(r,s,a),c=Math.min(r,s,a),d=(l+c)/2;if(l===c)e=t=0;else{let u=l-c;switch(t=d>.5?u/(2-l-c):u/(l+c),l){case r:e=(s-a)/u+(s<a?6:0);break;case s:e=(a-r)/u+2;break;case a:e=(r-s)/u+4;break;default:this._defaultFunc()}e/=6}return(e=Math.round(360*e))<0&&(e+=360),t=Math.floor(Math.round(100*t)),d=Math.floor(Math.round(100*d)),e+"\xB0, "+t+"%, "+d+"%"}convertRgbaToNum(n,e){let t=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("rgba","").replace("rgb","")).split(",").map(o=>parseInt(o));return e&&(t=t.filter((o,r)=>r<3)),t.forEach(o=>this.setNumInRange(o,0,255)),t}convertHexToRgba(n){let e=0,t=0,o=0;return(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).length===4?(e=+("0x"+n[1]+n[1]),t=+("0x"+n[2]+n[2]),o=+("0x"+n[3]+n[3])):n.length===7&&(e=+("0x"+n[1]+n[2]),t=+("0x"+n[3]+n[4]),o=+("0x"+n[5]+n[6])),"rgba("+parseInt(e,10).toString()+","+parseInt(t,10).toString()+","+parseInt(o,10).toString()+",1)"}convertHslToRgba(n){let e=(n=(n=n.replace(/[.*+?^${}()|[\]\\]/g,"")).replace("\xB0","").replace("%","").replace("%","")).split(",").filter((c,d)=>d<3).map(c=>parseInt(c)),t=e[0],o=e[1]/100,r=e[2]/100,s=0,a=0,l=0;if(o===0)s=a=l=r;else{let c=r<.5?r*(1+o):r+o-r*o,d=2*r-c;s=this.colorToRgb(d,c,t+1/3),a=this.colorToRgb(d,c,t),l=this.colorToRgb(d,c,t-1/3)}return"rgba("+(s=Math.round(255*s))+", "+(a=Math.round(255*a))+", "+(l=Math.round(255*l))+", 1)"}convertValue(n,e){let t=n??null;if(e){let o=e.locales||"en-US",r=e.options||{};this.isNumber(t)?t=Intl.NumberFormat(o,r).format(t):this.isDate(t)?t=Intl.DateTimeFormat(o,r).format(t):t=this.convertValueToString(n)}else t=this.convertValueToString(n);return t}convertValueToString(n){return n!=null?n.toString():""}_defaultFunc(){}_escapeRegExp(n){return n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}getAngle(n,e,t){return t?Math.atan2(e.y-n.y,e.x-n.x):180*Math.atan2(e.y-n.y,e.x-n.x)/Math.PI}getBorderWidth(n){return n?{top:getComputedStyle(n)["border-top-width"]?parseInt(getComputedStyle(n)["border-top-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,right:getComputedStyle(n)["border-right-width"]?parseInt(getComputedStyle(n)["border-right-width"],10):getComputedStyle(n).borderRightWidth?parseInt(getComputedStyle(n).borderRightWidth,10):0,bottom:getComputedStyle(n)["border-bottom-width"]?parseInt(getComputedStyle(n)["border-bottom-width"],10):getComputedStyle(n).borderTopWidth?parseInt(getComputedStyle(n).borderTopWidth,10):0,left:getComputedStyle(n)["border-left-width"]?parseInt(getComputedStyle(n)["border-left-width"],10):getComputedStyle(n).borderLeftWidth?parseInt(getComputedStyle(n).borderLeftWidth,10):0}:{top:0,right:0,bottom:0,left:0}}getClientPos(n,e){let t=this.getShiftPos(),o=this.getMousePos(n);o.x-=t.x,o.y-=t.y;let r=this.getPageRect(e);return{x:o.x-r.left,y:o.y-r.top}}getClientRect(n,e){let t=this.getPageRect(n),o=this.getPageRect(e);return{top:o.top-t.top,right:o.left+o.width,bottom:o.top+o.height,left:o.left-t.left,height:o.height,width:o.width,x:o.x-t.x,y:o.y-t.y}}getColorAtPosition(n,e,t){if(n){let o=n.getImageData(e,t,1,1).data;return"rgba("+o[0]+","+o[1]+","+o[2]+",1)"}return""}getDateFromString(n){if(this.isString(n)){let e=Date.parse(n);if(n.slice(-1)==="Z"&&!isNaN(e))return new Date(e)}else if(this.isDate(n))return n;return null}getDateNum(n){if(this.isDate(n)){let e=n.getFullYear(),t=n.getMonth(),o=n.getDate();return new Date(e,t,o,0,0,0,0).valueOf()}return 0}getMargin(n){return n?this._calcMargin(n):{top:0,right:0,bottom:0,left:0}}getMouseOffsetPos(n,e){let t=this.getShiftPos(),o=this.getMousePos(n);o.x-=t.x,o.y-=t.y;let r=this.getPageRect(e);return{x:o.x-r.left,y:o.y-r.top}}getMousePos(n){return{x:n.pageX?n.pageX:n.originalEvent?n.originalEvent.pageX:0,y:n.pageY?n.pageY:n.originalEvent?n.originalEvent.pageY:0}}getObjFromListById(n,e){let t=null;if(n){for(let o=0;o<n.length;o++)if(this.isObject(n[o])&&n[o].id===e){t=n[o];break}}return t}getObjFromListByName(n,e,t){let o=null;if(n&&e){for(let r=0;r<n.length;r++)if(this.isObject(n[r])&&n[r][e]===t){o=n[r];break}}return o}getPadding(n){return n?{top:getComputedStyle(n)["padding-top"]?parseInt(getComputedStyle(n)["padding-top"],10):getComputedStyle(n).paddingTop?parseInt(getComputedStyle(n).paddingTop,10):0,right:getComputedStyle(n)["padding-right"]?parseInt(getComputedStyle(n)["padding-right"],10):getComputedStyle(n).paddingRight?parseInt(getComputedStyle(n).paddingRight,10):0,bottom:getComputedStyle(n)["padding-bottom"]?parseInt(getComputedStyle(n)["padding-bottom"],10):getComputedStyle(n).paddingBottom?parseInt(getComputedStyle(n).paddingBottom,10):0,left:getComputedStyle(n)["padding-left"]?parseInt(getComputedStyle(n)["padding-left"],10):getComputedStyle(n).paddingLeft?parseInt(getComputedStyle(n).paddingLeft,10):0}:{top:0,right:0,bottom:0,left:0}}getPageRect(n){return n?n.getBoundingClientRect():{top:0,right:0,bottom:0,left:0,height:0,width:0,x:0,y:0}}getShiftPos(){return{x:document.body.scrollLeft>0?document.body.scrollLeft:document.documentElement.scrollLeft>0?document.documentElement.scrollLeft:0,y:document.body.scrollTop>0?document.body.scrollTop:document.documentElement.scrollTop>0?document.documentElement.scrollTop:0}}getStyle(n){return this.isObject(n)&&!this.isEmpty(n)?n:{}}getTouchData(n){return n.changedTouches?n.changedTouches:n.originalEvent?n.originalEvent.changedTouches:null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}isDate(n){return n&&Object.prototype.toString.call(n)==="[object Date]"&&!isNaN(n)}isDefined(n){return n!=null}isElement(n){return n?n instanceof Element:!1}isEmpty(n){return this.isString(n)?!n.trim().length:n&&Object.keys(n).length===0&&n.constructor===Object}isEqual(n,e){return n&&e?n.toString()===e.toString():!1}isFieldAvailable(n,e){return n!==void 0?n:e}isFunc(n){return n?typeof n=="function"||n instanceof Function:!1}isIndexInRange(n,e){return e?n>=0&&n<e.length:!1}isNumber(n){return n!==void 0&&!Number.isNaN(n)?typeof n=="number"||n instanceof Number:!1}isObject(n){return n?typeof n=="object"&&n!==null&&!Array.isArray(n):!1}isString(n){return n?typeof n=="string"||n instanceof String:!1}isTrue(n){return n!==!1}moveObject(n,e,t){this.isIndexInRange(n,t)&&this.isIndexInRange(e,t)&&t.splice(e,0,t.splice(n,1)[0])}pointToView(n){let e=this.getShiftPos();return{x:n.x-e.x,y:n.y-e.y}}replaceAll(n,e,t){return n.replace(new RegExp(this._escapeRegExp(e),"g"),t)}setNumInRange(n,e,t){return isNaN(n)?0:Math.min(Math.max(n,e),t)}},Z_=tL;var Wke={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze(Wke);var $ke={None:0,Top:1,Right:2,Bottom:4,Left:8};Object.freeze($ke);var Kke={None:"None",Fade:"Fade",Slide:"Slide"};Object.freeze(Kke);var Kp={TwoState:"TwoState",ThreeState:"ThreeState"};Object.freeze(Kp);var Dr={Unchecked:"Unchecked",Indeterminate:"Indeterminate",Checked:"Checked"};Object.freeze(Dr);var qke={HEX:"HEX",HSL:"HSL",RGB:"RGB"};Object.freeze(qke);var bi={None:"None",Dark:"Dark",Light:"Light"};Object.freeze(bi);var Hn={Static:"Static",Dynamic:"Dynamic"};Object.freeze(Hn);var ps={None:"None",Hover:"Hover",Select:"Select",Both:"Both"};Object.freeze(ps);var Jke={Short:"Short",Long:"Long",Custom:"Custom"};Object.freeze(Jke);var e0={None:1,Above:2,Right:4,Below:8,Left:16};Object.freeze(e0);var Qke={None:1,Top:2,Right:4,Fill:8,Bottom:16,Left:32,All:64};Object.freeze(Qke);var Yke={None:"None",Top:"Top",Right:"Right",Fill:"Fill",Bottom:"Bottom",Left:"Left"};Object.freeze(Yke);var rr={Static:"Static",Dynamic:"Dynamic"};Object.freeze(rr);var Xke={Down:"Down",Up:"Up"};Object.freeze(Xke);var Zke={None:"None",Batch:"Batch",Custom:"Custom",Dialog:"Dialog",Form:"Form",Inline:"Inline"};Object.freeze(Zke);var eNe={None:"None",Button:"Button",CheckBox:"CheckBox",Color:"Color",Custom:"Custom",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",RadioButton:"RadioButton",Rating:"Rating",Slider:"Slider",Text:"Text"};Object.freeze(eNe);var tNe={Boolean:1,Date:2,Numeric:4,String:8};Object.freeze(tNe);var iNe={None:"None",Horizontal:"Horizontal",Vertical:"Vertical",Both:"Both"};Object.freeze(iNe);var nNe={Left:"Left",Center:"Center",Right:"Right"};Object.freeze(nNe);var oNe={Free:"Free",Partial:"Partial",Full:"Full"};Object.freeze(oNe);var qr={Partial:"Partial",Full:"Full"};Object.freeze(qr);var rNe={BottomCenter:"BottomCenter",BottomLeft:"BottomLeft",BottomRight:"BottomRight",Inline:"Inline",Left:"Left",MiddleCenter:"MiddleCenter",MiddleLeft:"MiddleLeft",MiddleRight:"MiddleRight",Right:"Right",TopCenter:"TopCenter",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(rNe);var di={After:"After",At:"At",Before:"Before",Down:"Down",First:"First",Left:"Left",Last:"Last",Right:"Right",Up:"Up"};Object.freeze(di);var sNe={InBound:"InBound",LeftRight:"LeftRight",UpDown:"UpDown"};Object.freeze(sNe);var tn={Normal:0,Hovered:1,Selected:2,Focused:4,Disabled:8};Object.freeze(tn);var Xo={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(Xo);var aNe={Top:"Top",Right:"Right",Bottom:"Bottom",Left:"Left"};Object.freeze(aNe);var lNe={None:"None",TopLeft:"TopLeft",Top:"Top",TopRight:"TopRight",Right:"Right",BottomRight:"BottomRight",Bottom:"Bottom",BottomLeft:"BottomLeft",Left:"Left"};Object.freeze(lNe);var cNe={Horizontal:"Horizontal",Vertical:"Vertical"};Object.freeze(cNe);var ko={None:"None",One:"One",MultiSimple:"MultiSimple",MultiExtended:"MultiExtended"};Object.freeze(ko);var dNe={Single:"Single",Multiple:"Multiple"};Object.freeze(dNe);var Kl={None:"None",Ascending:"Ascending",Descending:"Descending"};Object.freeze(Kl);var Us={VerySlow:"VerySlow",Slow:"Slow",Normal:"Normal",Fast:"Fast",VeryFast:"VeryFast"};Object.freeze(Us);var pNe={Carousel:"Carousel",Stream:"Stream"};Object.freeze(pNe);var uNe={TopLeft:"TopLeft",Middle:"Middle",BottomRight:"BottomRight"};Object.freeze(uNe);var hNe={AutoSized:"AutoSized",Compressed:"Compressed",Justified:"Justified"};Object.freeze(hNe);var fNe={Normal:"Normal",Multiline:"Multiline"};Object.freeze(fNe);var mNe={None:"None",InBound:"InBound",OutBound:"OutBound"};Object.freeze(mNe);var gNe={Top:"Top",Right:"Right",Middle:"Middle",Bottom:"Bottom",Left:"Left"};Object.freeze(gNe);var zn={None:"None",Office:"Office"};Object.freeze(zn);var _Ne={BottomCenter:"BottomCenter",BottomFull:"BottomFull",BottomLeft:"BottomLeft",BottomRight:"BottomRight",TopCenter:"TopCenter",TopFull:"TopFull",TopLeft:"TopLeft",TopRight:"TopRight"};Object.freeze(_Ne);var bNe={Error:"Error",Info:"Info",Success:"Success",Warning:"Warning"};Object.freeze(bNe);var yNe={Button:"Button",CheckBox:"CheckBox",Date:"Date",DropDownList:"DropDownList",Image:"Image",Label:"Label",ListScroller:"ListScroller",Numeric:"Numeric",Progress:"Progress",Rating:"Rating",Separator:"Separator",Slider:"Slider",TextBox:"TextBox"};Object.freeze(yNe);var vNe={Compare:"Compare",Required:"Required",Numeric:"Numeric",Range:"Range",StringLength:"StringLength",Custom:"Custom"};Object.freeze(vNe);var wNe={Top:"Top",Middle:"Middle",Bottom:"Bottom"};Object.freeze(wNe);var CNe={None:0,Hover:1,Click:2,Always:4};Object.freeze(CNe);var SNe={Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sunday:"Sunday"};Object.freeze(SNe);var INe={Maximized:"Maximized",Minimized:"Minimized",Normal:"Normal"};Object.freeze(INe);var iL=class extends X_{constructor(){super(),this._init(),this._initStyle()}_init(){this._commonService=new Z_,this._activeAnimations=[],this._isAnimationAllowed=!0,this._ctrlData=null,this._ctrlName="",this._ctrlState=tn.Normal,this._currentTabIndex=0,this._isCtrlMouseActive=!1,this._isEnabled=!0,this._isReadOnly=!1,this._options={currentStyle:null},this._isKeyboardFocusAllowed=!0,this._ctrlRect={top:0,left:0,width:0,height:0},this._clientRect={width:0,height:0},this._ctrlSize={width:0,height:0},this._prevClientRect={width:0,height:0},this._elemRef=null,this._currentResourcePath="../icons",this._currentColorScheme=bi.Light,this._currentColorSchemeSettings=ze``,this._currentCustomStyle={},this._currentInlineStyle={},this._currentTheme=zn.None,this._currentThemeSettings=ze``,this._defaultStyle={},this._ctrlClass={},this._generalClassName="iui-control",this._isProcessAllowed=!0,this._isUpdateAllowed=!0,this._tCmp=null}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},allowFocus:{type:Boolean,attribute:"allow-focus",reflect:!0},allowUpdate:{type:Boolean,attribute:"allow-update",reflect:!0},colorScheme:{attribute:"color-scheme",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return bi.Light;case"dark":return bi.Dark;default:return bi.None}},toAttribute:n=>{switch(n){case bi.Light:return"Light";case bi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},data:{type:Object},enabled:{type:Boolean,reflect:!0},name:{type:String,reflect:!0},readOnly:{type:Boolean,attribute:"read-only",reflect:!0},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},state:{type:Number,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return zn.Office;default:return zn.None}},toAttribute:n=>{switch(n){case zn.Office:return"Office";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get allowFocus(){return this._isKeyboardFocusAllowed}set allowFocus(n){if(this._isKeyboardFocusAllowed!==n){let e=this._isKeyboardFocusAllowed;this._isKeyboardFocusAllowed=n,this.requestUpdate("allowFocus",e)}}get allowUpdate(){return this._isUpdateAllowed}set allowUpdate(n){if(this._isUpdateAllowed!==n){let e=this._isUpdateAllowed;this._isUpdateAllowed=n,this.requestUpdate("allowUpdate",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this.requestUpdate("data",e)}}get enabled(){return this._isEnabled}set enabled(n){if(n!==void 0&&this._isEnabled!==n){let e=this._isEnabled;this._isEnabled=n,this._invokeEvent("enabledChanged",{enabled:n}),this.requestUpdate("enabled",e),n?this.state&=~tn.Disabled:this.state|=tn.Disabled}}get name(){return this._ctrlName}set name(n){if(this._ctrlName!==n){let e=this._ctrlName;this._ctrlName=n,this.requestUpdate("name",e)}}get readOnly(){return this._isReadOnly}set readOnly(n){if(this._isReadOnly!==n){let e=this._isReadOnly;this._isReadOnly=n,this.requestUpdate("readOnly",e)}}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this._updateColorSchemeSettings(this._currentColorScheme),this.requestUpdate("resourcePath",e)}}get size(){return this._ctrlSize}set size(n){if(n){let e=!1,t=this._ctrlSize;n.width!==void 0&&this._ctrlSize.width!==n.width&&(this._ctrlSize.width=Math.max(n.width,0),e=!0),n.height!==void 0&&this._ctrlSize.height!==n.height&&(this._ctrlSize.height=Math.max(n.height,0),e=!0),e&&(this._invokeEvent("sizeChanged",{size:this._ctrlSize}),this.requestUpdate("size",t),this._internalUpdateLayout())}}get state(){return this._ctrlState}set state(n){if(this._ctrlState!==n){let e=this._ctrlState;this._ctrlState=n,this._updateControlClass(),this._processStateChanged(),this.requestUpdate("state",e),this._invokeEvent("stateChanged",{state:n}),this.refresh()}}get tabIndex(){return this._currentTabIndex}set tabIndex(n){if(n!==void 0&&this._currentTabIndex!==n){let e=this._currentTabIndex;this._currentTabIndex=n,this.requestUpdate("tabIndex",e),this.update()}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}_invokeEvent(n,e,t,o){let r=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:o!==void 0?o:!1});return this.dispatchEvent(r),e}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>{n.destroy(),n=void 0})}_clearInactiveAnimations(){this._activeAnimations.filter(n=>!n.isActive()).forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations=this._activeAnimations.filter(n=>n.isActive())}_isAnimationActive(){return this._activeAnimations.length>0}_defaultFunc(){}getElemRef(){return this._elemRef}getSize(n){return this._elemRef?n?{width:this._elemRef.clientWidth,height:this._elemRef.clientHeight}:{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{width:0,height:0}}_processStateChanged(){}setFocus(n){this._elemRef&&this._elemRef.focus()}getClass(n){return this._elemRef?this._elemRef.className:""}getStyle(n){return this._currentInlineStyle||{}}_updateColorSchemeSettings(n){this._currentColorSchemeSettings=ze``}_updateThemeSettings(n){this._currentThemeSettings=ze``}refresh(n){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences()}removeClass(n){this._elemRef&&n&&this._elemRef.classList.remove(n)}setClass(n,e){this._elemRef&&(n?this._elemRef.classList.add(n):this._elemRef.className=this._generalClassName)}setStyle(n,e){this._commonService.isObject(n)&&!this._commonService.isEmpty(n)&&(this._currentInlineStyle=n,this.refresh())}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.state&tn.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&tn.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&tn.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&tn.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.allowAnimation&&(this.state&tn.Hovered?this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0:this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0))}_getControlClass(){return this._ctrlClass}_getControlStyle(){let n=this._currentInlineStyle||{};return this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_getDefaultStyle(){return{general:this._getDefaultGeneralStyle()}}_getDefaultGeneralStyle(){return this._defaultStyle&&this._defaultStyle.general?{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected}:{}}_getGeneralStyle(n){if(this._commonService){if(this._commonService.isString(n))return n;if(n)return{disabled:this._commonService.isFieldAvailable(n.disabled,this._generalClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._generalClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._generalClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._generalClassName),selected:this._commonService.isFieldAvailable(n.selected,this._generalClassName+"-selected")}}return this._getDefaultGeneralStyle()}_updateControlStyleSettings(n){}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general)}:this._options.currentStyle=this._getDefaultStyle()}_internalUpdateLayout(){this.updateLayout()}resolve(n){this._isProcessAllowed=!0}shouldUpdate(n){return n.forEach((e,t)=>{}),!0}updateLayout(n){return V(this,null,function*(){return this.update(),Promise.resolve()})}wait(){this._isProcessAllowed=!1}_updateReferences(){}},Eh=iL;var nL=class{constructor(){this.data=[]}init(n){this.data.length=0;for(let e=0;e<n.length;e++){let t={data:n[e].data,fields:this.getDataFields(n[e].fields),key:n[e].key};this.data.push(t)}}clear(n,e){this.getList(n,e).length=0}insertAt(n,e,t,o){this.insert(n,e,t,null,!1,o)}insert(n,e,t,o,r,s){if(n){let a=this.getData(s);if(a){let l=a.fields;t&&(n[l.pid]=t[l.id]);let c=this.getList(t,s);c&&(e<0||e===null||e===void 0?c.push(n):(e=Math.max(Math.min(e,c.length),0),!o&&e<c.length&&(o=c[e]),c.splice(e,0,n)),n[l.id]||(n[l.id]=this.getUniqueId()))}}}insertByRef(n,e,t,o){if(n&&e){let r=this.getParent(e,o),s=this.getList(r,o).indexOf(e);return s>=0&&(t&&(s+=1),this.insert(n,s,r,e,t,o)),s}}removeAt(n,e,t,o){let r,s=null,a=this.getData(o);if(a){if(n&&(t=this.getParent(n,o),e=(r=this.getList(t,o)).indexOf(n)),e==null)return{obj:s,result:!1};if(r=this.getList(t,o),e>=0&&e<r.length)return(s=r[e])[a.fields.pid]="",r.splice(e,1),{obj:s,result:!0}}return{obj:s,result:!1}}getData(n){let e=null;if(!this.getKey(n)&&this.data.length>0)e=this.data[0];else for(let t=0;t<this.data.length;t++)if(this.data[t].key===n){e=this.data[t];break}return e}getDataFields(n){return n?{content:n.content?n.content:"content",icon:n.icon?n.icon:"icon",id:n.id?n.id:"id",pid:n.pid?n.pid:"pid",objects:n.objects?n.objects:"items",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",subobjects:n.subobjects?n.subobjects:"subitems",text:n.text?n.text:"text"}:{content:"content",icon:"icon",id:"id",pid:"pid",objects:"items",statusIcon:"statusIcon",subobjects:"subitems",text:"text"}}getKey(n){return n||null}getList(n,e){let t=this.getData(e);if(t){let o=t.fields;return n?(n[o.objects]||(n[o.objects]=[]),n[o.objects]):t.data}return[]}removeUndefined(n,e){n[e]===void 0&&delete n[e]}updateDataFields(n,e){let t=this.getData(e);t&&(t.fields=this.getDataFields(n))}update(n){this.init(n)}clone(n,e,t){let o=this.getData(e);if(o){let r=JSON.parse(JSON.stringify(n));return t||this.createCloneIds(r,null,o.fields),r}return{}}createCloneIds(n,e,t){n[t.id]=this.getUniqueId(),n[t.pid]=e;let o=n[t.objects];if(o)for(let r=0;r<o.length;r++)this.createCloneIds(o[r],n[t.id],t)}findObjectById(n,e){let t=this.getData(e);if(t){let o=t.fields,r=t.data;return n?this.searchObj(n,r,o):null}return null}findObjectByText(n,e){let t=this.getData(e);if(t){let o=t.fields,r=t.data;return n!==void 0?this.searchObj(n,r,o,"text"):null}return null}findParent(n,e,t){let o=null;if(n&&e){let r=0;for(;!o&&r<e.length;)e[r][t.id]&&n[t.pid]&&e[r][t.id].toString()===n[t.pid].toString()?o=e[r]:o=this.findParent(n,e[r][t.objects],t),r++}return o}getParent(n,e){if(n){let t=this.getData(e);if(t)return this.findParent(n,t.data,t.fields)}return null}getUniqueId(n){let e=n||"-";function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+e+t()+e+t()+e+t()+e+t()+t()+t()}searchObj(n,e,t,o){let r=null;if(n&&e){let s=0,a=!1;for(;!r&&s<e.length;){switch(o){case"text":e[s][t.text]&&(a=e[s][t.text].toString()===n.toString());break;default:e[s][t.id]&&(a=e[s][t.id].toString()===n.toString())}r=a?e[s]:this.searchObj(n,e[s][t.objects],t,o),s++}}return r}},t0=nL;var oL=ze`
    .iui-item {
        background: var(--iui-item-background, transparent);
        border: var(--iui-item-border, thin solid transparent);
        color: var(--iui-item-color, black);
        margin: var(--iui-item-margin, 1px);
        overflow: hidden;
        padding: var(--iui-item-padding, 3px);
    }
    .iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
    }
    .iui-item-selected {
        background: var(--iui-item-selected-background, transparent);
        border: var(--iui-item-selected-border, thin solid transparent);
    }
    .iui-item-label {
        border: var(--iui-item-label-border, thin solid transparent);
        display: inline-block;
        padding: var(--iui-item-label-padding, 2px);
    }
    .iui-item-icon {
        display: inline-block;
    }
    .iui-item-icon-url {
        vertical-align: middle;
    }

    /* Disabled State */
    .iui-item-disabled div {
        opacity: var(--iui-item-disabled-opacity, 0.75);
        pointer-events: none;
    }

    .iui-item-content {
        overflow: hidden;
        position: relative;
    }
`;var pJ=ze`
`;var uJ=ze`
    .iui-item {
        color: var(--iui-item-color, #cccccc);
    }
    .iui-item-hovered {
        animation-name: none;
        background: var(--iui-item-hovered-background, #2a2d2e);
        border: var(--iui-item-hovered-border, thin solid #2a2d2e);
    }
    .iui-item-selected {
        animation-name: none;
        background: var(--iui-item-selected-background, #0a4369);
        border: var(--iui-item-selected-border, thin solid #0a4369);
        color: var(--iui-item-selected-color, white);
    }
`;var hJ=ze`
	.iui-item {
        color: var(--iui-item-color, #646464);
	}
	.iui-item-hovered {
        background: var(--iui-item-hovered-background, transparent);
        border: var(--iui-item-hovered-border, thin solid transparent);
        color: var(--iui-item-hovered-color, black);

		animation-name: iui-item-hovered-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.15s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-hovered-animate-enter {
		0% { 
			background: var(--iui-item-hovered-animation-background-0, transparent); 
			border-color: var(--iui-item-hovered-animation-border-color-0, transparent); 
		}
		100% { 
			background: var(--iui-item-hovered-animation-background-100, #d9edfd); 
			border-color: var(--iui-item-hovered-animation-border-color-100, #d9edfd); 
		}
	}
	.iui-item-selected {
        background: var(--iui-item-selected-background, #d9edfd);
        border: var(--iui-item-selected-border, thin solid transparent);
        color: var(--iui-item-selected-color, black);

		animation-name: iui-item-selected-animate-enter;
		animation-delay: 0s;
		animation-direction: normal;
		animation-duration: 0.25s;
		animation-fill-mode: forwards;
		animation-iteration-count: 1;
		animation-play-state: running;
		animation-timing-function: linear; 
	}
	@keyframes iui-item-selected-animate-enter {
		0% { 
			background: var(--iui-item-selected-animation-background-0, #d9edfd); 
			border-color: var(--iui-item-selected-animation-border-color-0, #d9edfd); 
		}
		100% { 
			background: var(--iui-item-selected-animation-background-100, #a5d3fa); 
			border-color: var(--iui-item-selected-animation-border-color-100, #a5d3fa); 
		}
	}
`;var sT=class extends Eh{connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}_init(){super._init(),this._currentIcon="",this._currentIconUrl="",this._currentIconSize={width:16,height:16},this._currentText="",this._isVisible=!0,this._parentCtrl=null,this._itemPos={top:0,left:0},this._positionType="static",this._contentClass={},this._currentControlStyleSettings=oL,this._generalClassName="iui-item",this._contentClassName=this._generalClassName+"-content"}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}setParent(n){this._parentCtrl=n}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{icon:{type:String,reflect:!0},iconUrl:{type:String,attribute:"icon-url",reflect:!0},iconSize:{type:Object},text:{type:String,reflect:!0},visible:{type:Boolean,reflect:!0}}}get icon(){return this._currentIcon}set icon(n){if(this._currentIcon!==n){let e=this._currentIcon;this._currentIcon=n,this.requestUpdate("icon",e)}}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get iconSize(){return this._currentIconSize}set iconSize(n){if(this._currentIconSize!==n){let e=this._currentIconSize;this._currentIconSize=n,this.requestUpdate("iconSize",e)}}get text(){return this._currentText}set text(n){if(this._currentText!==n){let e=this._currentText;this._currentText=n,this.requestUpdate("text",e),this.update()}}get visible(){return this._isVisible}set visible(n){if(this._isVisible!==n){let e=this._isVisible;this._isVisible=n,this.requestUpdate("visible",e)}}_processStateChanged(){this._updateContentClass()}_onClick(n){this._isEnabled&&this._invokeEvent("click",n)}_onMouseDown(n){this._isEnabled&&(this._invokeEvent("mouseDown",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}_onMouseUp(n){this._isEnabled&&this._invokeEvent("mouseUp",n)}_onMouseEnter(n){this._isEnabled&&(this.state|=tn.Hovered,this._invokeEvent("mouseEnter",n))}_onMouseMove(n){this._isEnabled&&this._invokeEvent("mouseMove",n)}_onMouseLeave(n){this._isEnabled&&(this.state&=~tn.Hovered,this._invokeEvent("mouseLeave",n))}_onTouchStart(n){this._isEnabled&&(this._invokeEvent("touchStart",n),this._parentCtrl&&this._parentCtrl.invokeCtrlMethod&&this._parentCtrl.invokeCtrlMethod("ITEM_SELECT",this))}getContentSize(){let n={width:0,height:0};if(this._contentElem){let e=this._commonService.getMargin(this._contentElem);n={width:this._contentElem.offsetWidth+(e.left+e.right),height:this._contentElem.offsetHeight+(e.top+e.bottom)/2}}return n}getMargin(){return this._elemRef?this._commonService.getMargin(this._elemRef.firstElementChild):{top:0,right:0,bottom:0,left:0}}getPageRect(){let n={top:0,right:0,bottom:0,left:0};return this._elemRef&&(n=this._commonService.getPageRect(this._elemRef.firstElementChild)),n}getClientSize(){let n={width:0,height:0};return this._elemRef&&(n={width:this._elemRef.firstElementChild.clientWidth,height:this._elemRef.firstElementChild.clientHeight}),n}getSize(){let n={width:0,height:0};if(this._updateReferences(),this._elemRef){let e=this._commonService.getMargin(this._elemRef);n={width:this._elemRef.offsetWidth+(e.left+e.right),height:this._elemRef.offsetHeight+(e.top+e.bottom)/2}}return n}resetPos(){this.updateLayoutPos("static",{x:"auto",y:"auto"})}updateLayoutPos(n,e){this._updateReferences(),this._positionType=n,this._itemPos={top:e.y,left:e.x}}updatePos(n){this.updateLayoutPos("absolute",n)}_getControlStyle(){let n=this._currentInlineStyle||{};return n.position=this._positionType,n.top=this._itemPos.top+"px",n.left=this._itemPos.left+"px",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px"),n}_updateContentClass(){this._contentClass={},this._contentClass[this._contentClassName]=!0,this._options.currentStyle&&(this._contentClass[this._options.currentStyle.content.normal]=!0,this.state&tn.Disabled?this._contentClass[this._options.currentStyle.content.disabled]=!0:this.state&tn.Focused?this._contentClass[this._options.currentStyle.content.focused]=!0:this.state&tn.Selected?this._contentClass[this._options.currentStyle.content.selected]=!0:this.state&tn.Hovered&&(this._contentClass[this._options.currentStyle.content.hovered]=!0))}_getContentClass(){return this._contentClass}_getContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._contentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._contentClassName+"-focused"),hovered:this._commonService.isFieldAvailable(n.hovered,this._contentClassName+"-hovered"),normal:this._commonService.isFieldAvailable(n.normal,this._contentClassName),selected:this._commonService.isFieldAvailable(n.selected,this._contentClassName+"-selected")}:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected}}}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=ze``,n){case bi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(uJ.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(hJ.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(pJ.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences()}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="item" id="content" class=${Gn(this._getControlClass())} style=${ln(this._getControlStyle())} @click="${n=>this._onClick(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this.icon?Ke`<span class=${Gn(this.icon)} style="display:inline-block"></span>`:Ke``}                 ${this.iconUrl?Ke`<img class="iui-item-icon-url" src="${this.iconUrl}" />`:Ke``}                 ${this.text?Ke`<span class="iui-item-label">${this.text}</span>`:Ke``}                 <slot></slot>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=ze``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(oL.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=item]"),this._contentElem=this.shadowRoot.querySelector("#content")}};window.customElements.define("iui-item",sT);var fJ=sT;var rL=ze`
    .iui-menu {
        background: var(--iui-menu-background, #f5f5f5);
        border: var(--iui-menu-border, 0);
        border-color:  var(--iui-menu-border-color, transparent);
        border-radius: var(--iui-menu-border-radius, 1px);
        border-width: var(--iui-menu-border-width, thin);
        color: var(--iui-menu-color, black);
        cursor: var(--iui-menu-cursor, default);
        display: var(--iui-menu-display, block);
        float: var(--iui-menu-float, none);
        height: var(--iui-menu-height, auto);
        margin: var(--iui-menu-margin, 0);
        opacity: var(--iui-menu-opacity, 1);
        overflow: hidden;
        padding: var(--iui-menu-padding, 0);
        position: var(--iui-menu-position, relative);
        width: var(--iui-menu-width, auto);
        z-index: var(--iui-menu-z-index, auto);
        
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, transparent);
        list-style-type: none;
        margin: 0;
        padding: var(--iui-menu-block-padding, 3px);
        position: relative;
    }
    .iui-menuitem-block, .iui-contextmenuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
        padding: var(--iui-menuitem-block-padding, 1px);
        list-style-type: none;
        margin: 0;
        position: absolute;
        z-index: 99999;
    }
    .iui-menuitem-root, .iui-contextmenuitem-root {
        background: var(--iui-menuitem-root-background, none);
        border: var(--iui-menuitem-root-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
        display: inline-block;
        list-style-type: none;
        margin: var(--iui-menuitem-root-margin, 0 3px);
        padding: var(--iui-menuitem-root-padding, 5px 6px 5px 4px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-root-width, auto);
    }
    .iui-menuitem-root-vertical, .iui-contextmenuitem-root-vertical {
        border: var(--iui-menuitem-root-vertical-border, thin solid transparent);
        border-color: var(--iui-menuitem-root-vertical-border-color, transparent);
        display: block;
        margin: var(--iui-menuitem-root-vertical-margin, 3px 0);
        padding: var(--iui-menuitem-root-vertical-padding, 5px 6px);
        position: relative;
        list-style-type: none;
        margin: 3px 0;
        padding: 5px 6px;
        white-space: nowrap;
    }
    .iui-menuitem-root-disabled, .iui-menuitem-disabled, .iui-contextmenuitem-root-disabled, .iui-contextmenuitem-disabled {
        background: var(--iui-menuitem-disabled-background, transparent);
        opacity: 0.5;
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-hovered-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #e5e5e5);
        border-color: var(--iui-menuitem-root-selected-border-color, #e5e5e5);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    .iui-menuitem-root-content, .iui-contextmenuitem-root-content {
        display: inline-block;
        padding: var(--iui-menuitem-root-content-background, 0 2px);
        vertical-align: middle;
    }
    .iui-menuitem-root:first-of-type, .iui-contextmenuitem-root:first-of-type {
        margin: auto 0;
    }

    .iui-menuitem-root:last-of-type, .iui-contextmenuitem-root:last-of-type {
        margin-right: 0;
    }
    .iui-menu-marker-expand-space {
        padding-right: 20px;
    }
    .iui-menu-marker-expand-space-rtl {
        padding-left: 20px;
    }
    .iui-menu-marker-expand-down::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        right: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::before {
        content: "";
        border: 4px solid #ababab;
        border-color: #ababab transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-down-rtl::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 45%;
        left: 5px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent transparent transparent #ababab;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-right::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 92%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::before {
        content: "";
        border: 4px solid #ababab;
        border-color: transparent #ababab transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-expand-left::after {
        content: "";
        border: 4px solid transparent;
        border-color: transparent transparent transparent transparent;
        position: absolute;
        top: 35%;
        left: 2%;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        left: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
        position: absolute;
        top: -9px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-top-rtl::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
        position: absolute;
        top: -8px;
        right: 10px;
        width: 0;
        height: 0;
    }
    .iui-menu-marker-left::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
        position: absolute;
        top: 12px;
        left: -9px;
    }
    .iui-menu-marker-left::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
        position: absolute;
        top: 12px;
        left: -8px;
    }
    .iui-menu-marker-right::before {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
        position: absolute;
        top: 12px;
        right: -9px;
    }
    .iui-menu-marker-right::after {
        content: "";
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
        position: absolute;
        top: 12px;
        right: -8px;
    }


    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, transparent);
        border: var(--iui-menuitem-border, thin solid transparent);
        border-color: var(--iui-menuitem-border-color, transparent);
        color: var(--iui-menuitem-color, black);
        display: block;
        list-style-type: none;
        margin: var(--iui-menuitem-margin, 1px 0);
        padding: var(--iui-menuitem-padding, 3px 4px 3px 2px);
        position: relative;
        white-space: nowrap;
        width: var(--iui-menuitem-width, auto);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #ededed);
        border-color: var(--iui-menuitem-hovered-border-color, #e5e5e5);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-selected-background, #ededed);
        border-color: var(--iui-menuitem-selected-border-color, #e5e5e5);
    }
    .iui-menuitem-content, .iui-contextmenuitem-content {
        display: inline-block;
        vertical-align: middle;
    }
    .iui-menuitem:first-of-type, .iui-contextmenuitem:first-of-type {
        margin-top: 0;
    }
    .iui-menuitem:last-of-type, .iui-contextmenuitem:last-of-type {
        margin-bottom: 0;
    }
    .iui-menuitem-expand, .iui-contextmenuitem-expand {
        background-position: -14px 0px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, transparent);
        border: 0;
        margin: 0;
        padding: var(--iui-menuitem-separator-padding, 3px);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #e5e5e5);
        border: 0;
        margin: var(--iui-menuitem-separator-line-margin, 0);
        padding: var(--iui-menuitem-separator-line-padding, 0);
        height: var(--iui-menuitem-separator-line-height, 1px);
    }
    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, transparent);
        border: var(--iui-menuitem-separator-content-border, thin solid transparent);
        border-color: var(--iui-menuitem-separator-content-border-color, transparent);
        border-radius: var(--iui-menuitem-separator-content-border-radius, 3);
        display: inline-block;
        font-style: var(--iui-menuitem-separator-content-font-style, normal);
        font-weight: var(--iui-menuitem-separator-content-font-weight, normal);
        margin: var(--iui-menuitem-separator-content-margin, 0);
        padding: var(--iui-menuitem-separator-content-padding, 5px 4px 5px 0);
        position: relative;
        text-align: var(--iui-menuitem-separator-content-text-align, left);
        width: var(--iui-menuitem-separator-content-width, auto);
        z-index: 1;
    }
    .iui-menuitem-inline-separator {
        position: absolute;
        top: 50%;
        width: calc(100% - 6px);
        z-index: 0;
    }
    .iui-menu-load {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        right: 2px;
        vertical-align: middle;
    }
    .iui-menu-load-rtl {
        background: transparent;
        display: inline-block;
        width: 16px;
        height: 16px;
        position: absolute;
        top: 0;
        left: 2px;
        vertical-align: middle;
    }
    .iui-menuitem-content-template {
        display: var(--iui-menuitem-content-template-display, inline-block);
        overflow: hidden;
        vertical-align: var(--iui-menuitem-content-template-vertical-align, middle);
        width: var(--iui-menuitem-content-template-width, 100%);
    }

    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #bfbfbf);
        border-radius: var(--iui-menuitem-header-border-radius, 3px);
        color: var(--iui-menuitem-header-color, white);
        display: block;
        font-weight: var(--iui-menuitem-header-font-weight, bold);
        list-style-type: none;
        margin: var(--iui-menuitem-header-margin, 0 0 2px 0);
        padding: var(--iui-menuitem-header-padding, 5px 7px);
        text-align: var(--iui-menuitem-header-text-align, center);
        white-space: nowrap;
    }
    
    /* Shortcuts */
    .iui-menuitem-label-main {
        display: inline-block;
        width: var(--iui-menuitem-label-width, calc(100% - 104px));
    }
    .iui-menuitem-shortcut {
        display: inline-block;
        font-size: var(--iui-menuitem-shortcut-font-size, 0.875rem);
        text-align: var(--iui-menuitem-shortcut-text-align, right);
        width: var(--iui-menuitem-shortcut-width, 100px);
    }

    /* Disabled State */
    .iui-menu-disabled div {
        opacity: 0.75;
        pointer-events: none;
    }

    /* CheckBox */
    .iui-menuitem-checkbox {
        background-image: var(--iui-menuitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-menuitem-checkbox-padding, 0);
        margin: var(--iui-menuitem-checkbox-margin, 0 3px);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-menuitem-checkbox-vertical-align, middle);
    }
    .iui-menuitem-checkbox-checked {
        background-image: var(--iui-menuitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
`;var mJ=ze`
    .iui-menuitem-root, .iui-menuitem, .iui-contextmenuitem-root, .iui-contextmenuitem {
        transition-duration: var(--iui-menuitem-transition-duration, 0.15s);
        transition-property: var(--iui-menuitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-menuitem-transition-timing-function, ease-in-out);
    }
`;var gJ=ze`
    .iui-menu {
        background: var(--iui-menu-background, #252526);
        color: var(--iui-menu-color, white);
    }
    .iui-menu-block {
        background: var(--iui-menu-block-background, #252526);
        border-color: var(--iui-menu-block-border-color, #151515);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
        color: var(--iui-menuitem-block-color, #cccccc);
    }
    .iui-menuitem-root {
        border-color: var(--iui-menuitem-root-border-color, #252526);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-menuitem-root-vertical {
        background: var(--iui-menu-root-vertical-background, none);
        border-color: var(--iui-menuitem-root-vertical-border-color, #252526);
        color: var(--iui-menuitem-root-vertical-color, #cccccc);
    }
    .iui-menuitem-root-hovered, .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }

    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #252526);
        color: var(--iui-menuitem-color, #cccccc);
    }
    .iui-menuitem-normal {
        background: var(--iui-menuitem-normal-background, transparent);
        border-color: var(--iui-menuitem-normal-border-color, transparent);
        color: var(--iui-menuitem-normal-color, #cccccc);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-hovered-color, white);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #1177bb);
        border-color: var(--iui-menuitem-selected-border-color, #1177bb);
        color: var(--iui-menuitem-selected-color, white);
    }
    .iui-menuitem-selected a {
        color: white;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #252526);
        border-color: var(--iui-menuitem-block-border-color, #151515);
        box-shadow: var(--iui-menuitem-block-box-shadow, 0 2px 5px #151515);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menuitem-root-separator, .iui-menuitem-separator, .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-menuitem-root-separator > hr, .iui-menuitem-separator > hr, .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #cccccc));
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #0a4369;
        border-color: #0a4369 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #0a4369;
        border-color: transparent transparent transparent #0a4369;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #0a4369;
        border-color: transparent #0a4369 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #484848;
        border-color: transparent transparent #1177bb transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #484848;
        border-color: transparent transparent #000000 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #484848;
        border-color: transparent transparent #242424 transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #484848;
        border-color: transparent #000000 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #484848;
        border-color: transparent #242424 transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #000000;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #484848;
        border-color: transparent transparent transparent #242424;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }

    .iui-menuitem-separator-content {
        background: var(--iui-menuitem-separator-content-background, #252526);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #074269);
    }
`;var _J=ze`
    .iui-menu {
        background: var(--iui-menu-background, #2455b0);
    }
    .iui-menu > ul {
        background: var(--iui-menu-block-background, #2455b0);
    }
    .iui-menuitem-root, .iui-menuitem-root-vertical {
        border-color: var(--iui-menuitem-root-border-color, #2455b0);
        color: var(--iui-menuitem-root-color, white);
    }
    .iui-menuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #153268);
        border-color: var(--iui-menuitem-root-hovered-border-color, #0f244a);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-menuitem-root-hovered a {
        color: black;
    }
    .iui-menuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #153268);
        border-color: var(--iui-menuitem-root-selected-border-color, #0f244a);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #d9edfd);
        border: var(--iui-menuitem-root-selected-border, thin solid #d9edfd);
        color: var(--iui-menuitem-root-selected-color, black);
    }
    
    .iui-menuitem, .iui-contextmenuitem {
        background: var(--iui-menuitem-background, #fefefe);
        border-color: var(--iui-menuitem-border-color, #fefefe);
    }
    .iui-menuitem-hovered, .iui-contextmenuitem-hovered {
        background: var(--iui-menuitem-hovered-background, #d9edfd);
        border-color: var(--iui-menuitem-hovered-border-color, #d9edfd);
        color: var(--iui-menuitem-hovered-color, black);
    }
    .iui-menuitem-selected, .iui-contextmenuitem-selected {
        background: var(--iui-menuitem-selected-background, #d9edfd);
        border-color: var(--iui-menuitem-selected-border-color, #d9edfd);
        color: var(--iui-menuitem-selected-color, black);
    }
    .iui-menuitem-selected a {
        color: black;
    }
    .iui-menu li > ul {
        background: var(--iui-menuitem-block-background, #fefefe);
        border-color: var(--iui-menuitem-block-border-color, #1e4691);
    }
    .iui-menu-expand-box {
        width: 16px;
        height: 16px;
    }
    .iui-menu-marker-expand-down::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-down-rtl::before {
        border: 4px solid #6791e1;
        border-color: #6791e1 transparent transparent transparent;
    }
    .iui-menu-marker-expand-right::before {
        border: 4px solid #6791e1;
        border-color: transparent transparent transparent #6791e1;
    }
    .iui-menu-marker-expand-left::before {
        border: 4px solid #6791e1;
        border-color: transparent #6791e1 transparent transparent;
    }
    .iui-menu-marker-top::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-top-rtl::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent #1e4691 transparent;
    }
    .iui-menu-marker-top-rtl::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent #fefefe transparent;
    }
    .iui-menu-marker-left::before {
        border: 4px solid #fefefe;
        border-color: transparent #1e4691 transparent transparent;
    }
    .iui-menu-marker-left::after {
        border: 4px solid #fefefe;
        border-color: transparent #fefefe transparent transparent;
    }
    .iui-menu-marker-right::before {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #1e4691;
    }
    .iui-menu-marker-right::after {
        border: 4px solid #fefefe;
        border-color: transparent transparent transparent #fefefe;
    }
    .iui-menu-disabled > ul {
        background: var(--iui-menu-block-disabled-background, #808080);
    }
    
    /* Header */
    .iui-menuitem-header {
        background: var(--iui-menuitem-header-background, #1e4691);
    }
`;var sL=class extends fJ{_init(){super._init(),this._dataService=new t0,this._contentAnimation={display:"none",left:0,width:0,height:0},this._currentAnimationSpeedValue=250,this._currentDataFields={},this._dataItems=[],this._childItems=[],this._currentLevel=0,this._currentOrientation=Xo.Vertical,this._currentPause=300,this._currentIconUrl=null,this._expandState="none",this._isExpanded=!1,this._isItemHovered=!1,this._blockPos={top:0,left:0},this._popupOrder=999,this._blockDisplay="none",this._blockElemWidth="0",this._blockElemHeight="0",this._blockOverflow="hidden",this._blockOpacity=0,this._pauseTimer=null,this._skipPause=!1,this._parentOffset={left:0,top:0,width:0,height:0},this._currentTemplateRef=null,this._currentControlStyleSettings=rL,this._updateDataFields(),this._updateData(),this._initStyle()}_initClassNames(){this._parentClassName=this._parentCtrl&&this._parentCtrl._getClassName?this._parentCtrl._getClassName():"iui-menu",this._generalClassName=this.data&&!this.data.pid?this._parentClassName+"item-root":this._parentClassName+"item",this._blockClassName=this._parentClassName+"item-block",this._contentClassName=this._generalClassName+"-content",this._expandBoxClassName="iui-menu-marker-expand",this._expandBoxSpaceClassName=this._expandBoxClassName+"-space",this._headerClassName=this._parentClassName+"-header",this._separatorClassName=this._generalClassName+"-separator",this._isExpanded=this.data&&this.data.expanded!==void 0?this.data.expanded:!1,this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},expandBox:{general:this._expandBoxClassName,animated:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},header:this._headerClassName,content:{disabled:this._contentClassName+"-disabled",focused:this._contentClassName+"-focused",normal:this._contentClassName,hovered:this._contentClassName+"-hovered",selected:this._contentClassName+"-selected"},separator:this._separatorClassName}}_initStyle(){this._initClassNames(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}connectedCallback(){}disconnectedCallback(){this._removePauseTimer()}setParent(n){this._parentCtrl=n,this._initClassNames()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{dataFields:{type:Object,attribute:"data-fields"},expanded:{type:Boolean,reflect:!0},items:{type:Array},level:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Xo.Horizontal:Xo.Vertical,toAttribute:(n,e)=>n===Xo.Horizontal?"Horizontal":"Vertical"},reflect:!0},pause:{type:Number,reflect:!0},templateRef:{type:Object,attribute:"template-ref"}}}get data(){return this._ctrlData}set data(n){if(this._ctrlData!==n){let e=this._ctrlData;this._ctrlData=n,this._initStyle(),this.requestUpdate("data",e)}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get expanded(){return this._isExpanded}set expanded(n){this._isEnabled&&(n?this._expandState="expand":this._expandState="collapse",this._isExpanded=n,this._toggleContent())}get iconUrl(){return this._currentIconUrl}set iconUrl(n){if(this._currentIconUrl!==n){let e=this._currentIconUrl;this._currentIconUrl=n,this.requestUpdate("iconUrl",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get level(){return this._currentLevel}set level(n){if(this._currentLevel!==n){let e=this._currentLevel;this._currentLevel=n,this.requestUpdate("level",e)}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e)}}get pause(){return this._currentPause}set pause(n){if(this._currentPause!==n){let e=this._currentPause;this._currentPause=n,this.requestUpdate("pause",e)}}get templateRef(){return this._currentTemplateRef}set templateRef(n){if(this._currentTemplateRef!==n){let e=this._currentTemplateRef;this._currentTemplateRef=n,this.requestUpdate("templateRef",e)}}_updateData(){this._dataService.init([{data:this.items,fields:this._currentDataFields}])}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._currentDataFields)}collapse(){this.expanded=!1,this._childItems&&this._childItems.forEach(n=>n.collapse()),this.refresh()}expand(){this.expanded=!0}toggle(){this.expanded=!this.expanded}_onExpandBoxMouseDown(n){this._isEnabled&&this.toggle()}_getDataType(){return this.data&&this.data.type?this.data.type:"item"}_getItemLevel(){return this._currentLevel!==void 0?this._currentLevel+1:0}_getOffset(){return this._elemRef?{left:this._elemRef.offsetLeft,top:this._elemRef.offsetTop,width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}:{left:0,top:0,width:0,height:0}}_isThereChildren(){return this._dataItems&&this._dataItems.length>0}_isBlockVisible(){return this._isItemHovered&&this._isThereChildren()}_isCheckBoxVisible(){return this.data&&this.data[this._currentDataFields.allowCheckBox]===!0}_isRadioButtonVisible(){return this.data&&this.data[this._currentDataFields.allowRadioButton]===!0}setOffset(n){this._parentOffset=n}updateLayout(n){return V(this,null,function*(){let e=this;e._updateReferences();let t=setTimeout(function(){if(e.data&&e._elemRef){let o=e._commonService.getPadding(e._elemRef);e._clientRect={width:e._elemRef.clientWidth-(o.left+o.right),height:e._elemRef.clientHeight-(o.top+o.bottom)},e.data.pid||e._currentOrientation===Xo.Vertical?e._blockPos={top:e._currentLevel>0?-2:-1,left:e._elemRef.offsetLeft+e._elemRef.offsetWidth-3}:e._blockPos={top:e._parentOffset.height-8,left:-1}}e.refresh(),clearTimeout(t)},1)})}_checkItem(n){if(this._isEnabled&&this.data){let e=this._getItemCheckValue();this.data[this._currentDataFields.checked]=!e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_CHECKBOX",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()}n.stopPropagation()}_checkMouseUp(n){n.stopPropagation()}_checkedChanged(n){let e=n.detail.checked;this.data[this._currentDataFields.checked]!==e&&(this.data[this._currentDataFields.checked]=e,this._parentCtrl&&this._parentCtrl.invokeCtrlMethod("UPDATE_RADIOBUTTON",{event:n,cmp:this,item:this.data,checked:this._getItemCheckValue()}),this.update()),n.stopPropagation()}_getItemCheckValue(){return!!(this.data&&this.data[this._currentDataFields.checked]===!0)}_onMouseEnter(n){if(this._isEnabled){if(this.state|=tn.Hovered,this._isItemHovered=!0,this.updateLayout(),this.data&&this.data[this._currentDataFields.pid])this.expand();else if(this._parentCtrl&&this._parentCtrl._isMenuActive()){let e=this._parentCtrl._getActiveMenu();e&&e!==this&&e.collapse(),this.data&&!this.data[this._currentDataFields.pid]&&this._parentCtrl._setActiveMenu(this),e&&e.refresh(),this.expand()}this.refresh(),this._invokeEvent("mouseEnter",n)}n.stopPropagation()}_onMouseDown(n){this._isEnabled&&this._invokeEvent("mouseDown",n),n.stopPropagation()}_onMouseLeave(n){this._isEnabled&&(this.state&=~tn.Hovered,this._removePauseTimer(),this._isItemHovered=!1,this._parentCtrl&&(this.data&&this.data[this._currentDataFields.pid]?this.collapse():this!==this._parentCtrl._getActiveMenu()&&this.collapse()),this.refresh(),this._invokeEvent("mouseLeave",n)),n.stopPropagation()}_onMouseUp(n){this._isEnabled&&(n.which===1&&this._parentCtrl&&(this._parentCtrl.invokeCtrlMethod("MENU_CLICK",{event:n,cmp:this,item:this.data}),this.data&&!this.data[this._currentDataFields.pid]&&(this._skipPause=!0,this.expand(),this._parentCtrl.invokeCtrlMethod("ACTIVATE_MENU",{event:n,cmp:this,item:this.data}),this.refresh())),this._invokeEvent("mouseUp",n)),n.stopPropagation()}_onContextMenu(n){n.preventDefault(),n.stopPropagation()}_onChildItemMouseDown(n){this.collapse()}_radioMouseDown(n){n.stopPropagation()}_radioMouseUp(n){n.stopPropagation()}_animationCallbackClose(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockDisplay="none",this._blockElemHeight="0",this._expandState="none"),this.update()}_animationCallbackOpen(n,e){if(n.length>0){let t=n[0].values;this._blockOpacity=t.opacity,this._blockPos.top=t.top}e&&(this._blockElemHeight="auto",this._blockOverflow="visible",this._expandState="none"),this.update()}_removePauseTimer(){this._pauseTimer&&clearTimeout(this._pauseTimer),this._pauseTimer=null}_toggleContent(){let n=this;if(n._dataItems)if(n._clearActiveAnimations(),n._isAnimationAllowed)if(n._isExpanded)if(n._removePauseTimer(),n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none",n.refresh();else{let e=n._skipPause?0:300;n._pauseTimer=setTimeout(function(){if(n._pauseTimer){n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible";let t=new Ts,o=n._animationCallbackOpen.bind(n);n._activeAnimations.push(t);let r={opacity:0,top:n._blockPos.top+5},s={opacity:1,top:n._blockPos.top};t.animate({current:r,values:s},0,n._currentAnimationSpeedValue,o)}n._skipPause=!1,n._removePauseTimer()},e)}else if(n.data&&!n.data[this._currentDataFields.pid]&&n._parentCtrl&&n._parentCtrl._isMenuActive()&&!n._parentCtrl._isContextMenu())n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh();else{n._blockOverflow="hidden",n.update();let e=new Ts,t=n._animationCallbackClose.bind(n);n._activeAnimations.push(e);let o={opacity:1,top:n._blockPos.top},r={opacity:0,top:n._blockPos.top+5};e.animate({current:o,values:r},0,n._currentAnimationSpeedValue/2,t)}else n._isExpanded?(n._removePauseTimer(),n._pauseTimer=setTimeout(function(){n._pauseTimer&&(n._blockDisplay="block",n._blockElemHeight="auto",n._blockOverflow="visible",n._blockOpacity=1,n._expandState="none"),n.refresh(),n._removePauseTimer()},300)):(n._blockOverflow="hidden",n._blockDisplay="none",n._blockElemHeight="0",n._blockOpacity=0,n._expandState="none",n.refresh())}_getControlStyle(){let n=this._currentInlineStyle||{};return this.data&&(n=this.data.style||{}),n.display=this._getItemDisplay(),n}_getItemDisplay(){let n="block";return this.data&&this.data.pid!==void 0?n=this._currentOrientation?this._currentOrientation===Xo.Vertical?"block":"inline-block":"block":n=this._currentOrientation&&this._currentOrientation===Xo.Vertical?"block":"inline-block",n}_isContextMenu(){return this._parentCtrl&&this._parentCtrl._isContextMenu()}_isMenuActive(){return this._parentCtrl&&this._parentCtrl._isMenuActive()&&this._parentCtrl._getActiveMenu()===this}_getCheckBoxClass(){let n={"iui-menuitem-checkbox":!0};return this._getItemCheckValue()&&(n["iui-menuitem-checkbox-checked"]=!0),n}_getExpandBoxSpaceClass(){let n="";return this._isThereChildren()&&(n=this._expandBoxSpaceClassName),n}_getExpandBoxClass(){let n="";return this._isThereChildren()&&(n=this._defaultStyle.expandBox.general),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=ze``,n){case bi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(gJ.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(_J.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){if(this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._getDataType()==="header")this._ctrlClass[this._defaultStyle.header]=!0;else if(this._getDataType()==="separator")this._ctrlClass[this._defaultStyle.separator]=!0;else if(this._defaultStyle&&(this._ctrlClass[this._defaultStyle.general.normal]=!0,this.state&tn.Disabled?this._ctrlClass[this._defaultStyle.general.disabled]=!0:this.state&tn.Focused?this._ctrlClass[this._defaultStyle.general.focused]=!0:this._isMenuActive()||this.state&tn.Selected?this._ctrlClass[this._defaultStyle.general.selected]=!0:this.state&tn.Hovered&&(this._ctrlClass[this._defaultStyle.general.hovered]=!0),this._isThereChildren())){let n=this._getExpandBoxClass();this.data&&this.data.pid||this._currentOrientation===Xo.Vertical?n+="-right":n+="-down",this._ctrlClass[n]=!0,this._ctrlClass[this._getExpandBoxSpaceClass()]=!0}}_updateStyle(n){n?this._options.currentStyle={general:this._getGeneralStyle(n.general),content:this._getContentStyle(n.content)}:this._options.currentStyle={general:{disabled:this._defaultStyle.general.disabled,focused:this._defaultStyle.general.focused,hovered:this._defaultStyle.general.hovered,normal:this._defaultStyle.general.normal,selected:this._defaultStyle.general.selected},expandBox:{general:this._defaultStyle.expandBox.general,animated:this._defaultStyle.expandBox.animated,expanded:this._defaultStyle.expandBox.expanded,collapsed:this._defaultStyle.expandBox.collapsed},header:this._defaultStyle.header,content:{disabled:this._defaultStyle.content.disabled,focused:this._defaultStyle.content.focused,hovered:this._defaultStyle.content.hovered,normal:this._defaultStyle.content.normal,selected:this._defaultStyle.content.selected},separator:this._defaultStyle.separator}}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(mJ.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){return this._parentCtrl&&this._parentCtrl._getItemTemplate?this._parentCtrl._getItemTemplate(n):Ke``}firstUpdated(n){this._updateReferences(),this.updateLayout()}_getCheckBoxLayout(){let n=Ke``;return this._isCheckBoxVisible()&&(n=Ke`<span class=${Gn(this._getCheckBoxClass())} @mousedown="${e=>this._checkItem(e)}" @mouseup="${e=>this._checkMouseUp(e)}" @touchstart="${e=>this._checkItem(e)}"></span>`),n}_getChildItemLayout(){return this._isThereChildren()?Ke`<ul id="block" class="iui-menuitem-block" style=${ln({display:this._blockDisplay,top:this._blockPos.top+"px",left:this._blockPos.left+"px",height:this._blockElemHeight,overflow:this._blockOverflow,opacity:this._blockOpacity})}>                     ${this._dataItems.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>Ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${this.customStyle}" .data="${n}" .dataFields="${this._currentDataFields}" .enabled="${n[this._currentDataFields.enabled]}" .items="${n[this._currentDataFields.items]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="${this._getItemLevel()}" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>`:Ke``}_getHeaderLayout(){let n=Ke``;if(this.data&&this._getDataType()==="header"){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]);n=Ke`                 <div class="iui-menuitem-header" style=${ln(e)}>                     ${this.templateRef}                 </div>             `}return n}_getItemLayout(){let n=Ke``;return this._getDataType()==="item"&&(n=Ke`<div class="iui-menuitem-content-template">                     ${this.templateRef}                     ${this._getChildItemLayout()}                 </div>`),n}_getRadioButtonLayout(){let n=Ke``;if(this._isRadioButtonVisible()){let e=ze`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;n=Ke`                 <iui-radiobutton                      .checked=${this._getItemCheckValue()}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[e,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this.theme}"                     @checkedChanged="${t=>this._checkedChanged(t)}"                     @mousedown="${t=>this._radioMouseDown(t)}"                     @mouseup="${t=>this._radioMouseUp(t)}"                 ></iui-radiobutton>`}return n}_getSeparatorLayout(){let n=Ke``;if(this._getDataType()==="separator")if(this.data){let e=this._commonService.getStyle(this.data[this._currentDataFields.style]),t=ee({},e.content)||{},o=ee({},e.line)||{};this.data.text?n=Ke`                         <hr class="iui-menuitem-inline-separator" style=${ln(o)} />                         <div class="iui-menuitem-separator-content" style=${ln(t)}>                             ${this.templateRef}                         </div>                     `:n=Ke`<hr style=${ln(o)} />`}else n=Ke`<hr />`;return n}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateContentClass(),this.update(),this._updateReferences(),this._refreshChildren()}_refreshChildren(){this._childItems&&this._childItems.forEach(n=>n.refresh())}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <li data-ctrl="menuitem" class=${Gn(this._getControlClass())} style=${ln(this._getControlStyle())} @click="${n=>this._onClick(n)}" @contextmenu="${n=>this._onContextMenu(n)}" @mousedown="${n=>this._onMouseDown(n)}" @mouseup="${n=>this._onMouseUp(n)}" @mouseenter="${n=>this._onMouseEnter(n)}" @mousemove="${n=>this._onMouseMove(n)}" @mouseleave="${n=>this._onMouseLeave(n)}">                 ${this._getHeaderLayout()}                 ${this._getCheckBoxLayout()}                 ${this._getRadioButtonLayout()}                 ${this._getItemLayout()}                 ${this._getSeparatorLayout()}             </li>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=ze``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(rL.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("li[data-ctrl=menuitem]"),this._blockElem=this.shadowRoot.querySelector("#block"),this._blockElem&&(this._childItems=this._blockElem.querySelectorAll("iui-menuitem"),this._childItems&&this._childItems.forEach(n=>{n.setParent(this._parentCtrl),n.setOffset(this._getOffset())}))}};window.customElements.define("iui-menuitem",sL);var aL=ze`
    :root {
        --fwcLightGreyGradient1: #{$fwcLightGreyGradient1};
        --fwcLightGreyGradient2: #{$fwcLightGreyGradient2};
    }

    .iui-contextmenu {
        border: 1px solid var(--fwcGrey7) !important;
        border-radius: 3px !important;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3) !important;
        font-family: "Montserrat", "Arial", sans-serif !important;
        font-size: 0.9rem !important;
        color: var(--inputColor);
        background: linear-gradient(
            to bottom,
            var(--fwcLightGreyGradient1) 0%,
            var(--fwcLightGreyGradient2) 100%
        ) !important;
        cursor: default;
        margin: 0;
        overflow: visible;
        position: absolute;
        z-index: 1999 !important;
        width: 17rem !important;

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
        line-height: 1.1;
    }

    .iui-contextmenu:focus {
        outline: none !important;
    }
    .iui-contextmenu ul {
        margin: 0;
        padding: 0;
    }
    .iui-menuitem-label {
    margin-left: 4px;
    }
   
    .iui-menuitem-block {
        width: var(--iui-contextmenu-width, 150px);
    }
    .iui-menuitem-root {
        color: var(--inputColor);
        display: block !important;
        padding-top: 0 !important;
        padding-bottom: 0 !important;
    }
    .iui-menuitem-root:hovered, :selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        }
    `;var bJ=ze`
`;var yJ=ze`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #252526);
        border-color:  var(--iui-contextmenu-border-color, #151515);
        box-shadow: var(--iui-contextmenu-box-shadow, 0 2px 5px #151515);
        color: var(--iui-contextmenu-color, #cccccc);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #252526);
        border: var(--iui-menuitem-block-border, thin solid #151515);
        border-color: var(--iui-menuitem-block-border-color, #151515);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, #cccccc);
    }
    .iui-contextmenuitem-root-hovered {
        background: var(--iui-menuitem-root-hovered-background, #1177bb);
        border-color: var(--iui-menuitem-root-hovered-border-color, #1177bb);
        color: var(--iui-menuitem-root-hovered-color, white);
    }
    .iui-contextmenuitem-root-selected {
        background: var(--iui-menuitem-root-selected-background, #1177bb);
        border-color: var(--iui-menuitem-root-selected-border-color, #1177bb);
        color: var(--iui-menuitem-root-selected-color, white);
    }
    .iui-contextmenuitem-root-separator, .iui-contextmenuitem-separator {
        background: var(--iui-menuitem-separator-background, #252526);
    }
    .iui-contextmenuitem-root-separator > hr, .iui-contextmenuitem-separator > hr {
        background: var(--iui-menuitem-separator-line-background, #151515);
    }
`;var vJ=ze`
    .iui-contextmenu {
        background: var(--iui-contextmenu-background, #fefefe);
        border: var(--iui-contextmenu-border, thin solid #dedede);
    }
    .iui-menuitem-block {
        background: var(--iui-menuitem-block-background, #f5f5f5);
        border: var(--iui-menuitem-block-border, thin solid #dedede);
        border-color: var(--iui-menuitem-block-border-color, #dedede);
    }
    .iui-contextmenuitem-root {
        border-color: var(--iui-menuitem-root-border-color, transparent);
        color: var(--iui-menuitem-root-color, black);
    }
    .iui-contextmenuitem-root-hovered {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-hovered-color, black);
    }
    .iui-contextmenuitem-root-selected {
        border-color: var(--fwcGrey7);
        background-color: var(--fwcGrey7);
        color: var(--iui-menuitem-root-selected-color, black);
    }
`;var aT=class extends X_{constructor(){super(),this._commonService=new Z_,this._dataService=new t0,this._activeAnimations=[],this._currentAnimationSpeedValue=250,this._isAnimationAllowed=!0,this._currentDataFields={},this._currentOptions={},this._fullList=[],this._menuItems=[],this._updateOptions(),this._blockDisplay="none",this._ctrlOpacity=0,this._currentResourcePath="../icons",this._menuActive=!0,this._currentActiveMenu=null,this._currentControlStyleSettings=aL,this._currentCustomStyle=[],this._currentTheme=zn.None,this._currentThemeSettings=ze``,this._ctrlClass={},this._generalClassName="iui-contextmenu",this._initTimout=null,this._updateDataFields(),this._initStyle(),this._updateData()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"}},this._updateColorSchemeSettings(this._currentColorScheme),this.refresh(),this._initFocus()}_initFocus(){let n=this;n._initTimout=setTimeout(function(){n._elemRef&&n._elemRef.focus()},1)}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._clearAnimations(),this._initTimout&&clearTimeout(this._initTimout),this._initTimout=null}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowAnimation:{type:Boolean,attribute:"allow-animation",reflect:!0},colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return bi.Light;case"dark":return bi.Dark;default:return bi.None}},toAttribute:n=>{switch(n){case bi.Light:return"Light";case bi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},dataFields:{type:Object,attribute:"data-fields"},options:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return zn.Office;case"dark":return zn.Dark;default:return zn.None}},toAttribute:n=>{switch(n){case zn.Office:return"Office";case zn.Dark:return"Dark";default:return"None"}}},reflect:!0}}}get allowAnimation(){return this._isAnimationAllowed}set allowAnimation(n){if(this._isAnimationAllowed!==n){let e=this._isAnimationAllowed;this._isAnimationAllowed=n,this.requestUpdate("allowAnimation",e)}}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get dataFields(){return this._currentDataFields}set dataFields(n){let e=this._currentDataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get options(){return this._currentOptions}set options(n){let e=this._currentOptions;this._updateOptions(n),this.refresh(),this.requestUpdate("options",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateColorSchemeSettings(this._currentColorScheme),this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e)}}_animationCallback(n,e){if(n.length>0){let t=n[0].values;this._ctrlOpacity=t.opacity,this._currentOptions.position.y=t.top,this.update()}}_clearActiveAnimations(){this._activeAnimations.filter(n=>n.isActive()).forEach(n=>n.destroy())}_clearAnimations(){this._activeAnimations.forEach(n=>{n.destroy(),n=void 0}),this._activeAnimations.length=0}_addChildItems(n,e){let t=!0;if(!n[this._currentDataFields.items])return t=this._addItemToCurrentList(n,e);if(this._addItemToCurrentList(n,e)){t=!0;let o=n[this._currentDataFields.items];o&&o.forEach(r=>this._addChildItems(r,n[this._currentDataFields.id]))}return t}_addItemToCurrentList(n,e){n[this._currentDataFields.id]||(n[this._currentDataFields.id]=this._commonService.getUniqueId()),e&&(n[this._currentDataFields.pid]=e);let t=this._isItemAllowed(n);return t&&this._fullList.push(n),t}getFullList(){return this._fullList}_isItemAllowed(n){return n[this._currentDataFields.visible]!==!1}_updateOptions(n){n?(this._currentOptions={adjustment:this._commonService.isFieldAvailable(n.adjustment,{top:0,left:0}),autoClose:this._commonService.isFieldAvailable(n.autoClose,!0),direction:this._commonService.isFieldAvailable(n.direction,e0.None),inverse:this._commonService.isFieldAvailable(n.inverse,!1),items:this._commonService.isFieldAvailable(n.items,[]),mode:this._commonService.isFieldAvailable(n.mode,"normal"),position:this._commonService.isFieldAvailable(n.position,{x:0,y:-9999999})},this._updateDataFields(n.dataFields)):(this._currentOptions={adjustment:{top:0,left:0},autoClose:!0,direction:e0.None,inverse:!1,items:[],mode:"normal",position:{x:0,y:-9999999}},this._updateDataFields()),this._updateData()}_updateData(){this._dataService.init([{data:this._currentOptions.items,fields:this._currentDataFields}]),this._updateFullList()}_updateDataFields(n){n?this._currentDataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",checked:n.checked?n.checked:"checked",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",shortcutKey:n.shortcutKey?n.shortcutKey:"shortcutKey",style:n.style?n.style:"style",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._currentDataFields={allowCheckBox:"allowCheckBox",allowRadioButton:"allowRadioButton",checked:"checked",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",objects:"items",pid:"pid",radioGroup:"radioGroup",shortcutKey:"shortcutKey",style:"style",text:"text",tooltip:"tooltip",value:"value",visible:"visible"}}_updateFullList(){this._fullList.length=0;let n=this._dataService.getList();n&&n.forEach(e=>this._addChildItems(e,null))}_invokeEvent(n,e,t,o){let r=new CustomEvent(n,{detail:e,bubbles:t!==void 0?t:!1,composed:o!==void 0?o:!1});return this.dispatchEvent(r),e}_onBlur(n){this.autoClose!==!1&&this._invokeEvent("closed",{event:n})}_onRightClick(n){n.preventDefault()}_defaultFunc(){}invokeCtrlMethod(n,e){switch(n){case"MENU_CLICK":e.item&&e.item.type!=="header"&&e.item.type!=="separator"&&(this._invokeEvent("menuClick",{event:e.event,item:e.item}),this.close());break;case"UPDATE_CHECKBOX":this._updateItemCheckBoxValue(e.event,e.item);break;case"UPDATE_RADIOBUTTON":this._updateItemRadioButtonValue(e.event,e.item);break;default:this._defaultFunc()}}_getActiveMenu(){return null}getItemParent(n){return this._dataService.getParent(n)}_isContextMenu(){return!0}_isMenuActive(){return this._menuActive}_setActiveMenu(n){}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_updateItemCheckBoxValue(n,e){e&&this._invokeEvent("checkedChanged",{event:n,item:e,checked:e[this._currentDataFields.checked]})}_isItemRadioButtonAllowed(n){return n&&n[this._currentDataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n,e){let t=this;if(e){let o=t.getItemParent(e),r=o?o[t._currentDataFields.items]:t._currentOptions.items;(r=r.filter(s=>s[t._currentDataFields.radioGroup]===e[t._currentDataFields.radioGroup])).forEach(s=>{t._isItemRadioButtonAllowed(s)&&s!==e&&(s[t._currentDataFields.checked]=!1)}),t._invokeEvent("checkedChanged",{event:n,item:e,checked:e[t._currentDataFields.checked],radioGroup:e[t._currentDataFields.radioGroup]}),t._menuItems&&t._menuItems.forEach(s=>s.refresh())}}_adjustPosition(n,e,t,o,r){let s=this,a=s._commonService.getShiftPos();setTimeout(function(){let l=s._getSize(),c=t;if(e==="manual"&&r&&(c.x=r.left+r.width+a.x+s._currentOptions.adjustment.left,c.y=r.bottom+a.y+4+s._currentOptions.adjustment.top,s._currentOptions.direction&e0.Above&&(c.y-=l.height),(s._currentOptions.inverse||s._currentOptions.direction&e0.Left)&&(c.x-=l.width)),o&&c.y+l.height>o.height){let d=c.y+l.height-o.height;c.y-=d}if(s._currentOptions.position=c,s._isAnimationAllowed){s._ctrlOpacity=0;let d=new Ts,u=s._animationCallback.bind(s);s._activeAnimations.push(d);let m={opacity:0,top:s._currentOptions.position.y-10},g={opacity:1,top:s._currentOptions.position.y};d.animate({current:m,values:g},0,s._currentAnimationSpeedValue,u)}else s._ctrlOpacity=1,s.update();s._updateReferences(),s._invokeEvent("menuOpened",{event:n})},10)}close(){this._blockDisplay="none",this.update()}open(n,e,t,o,r){let s=this;s._clearActiveAnimations(),s._currentOptions.items&&(s._blockDisplay="block",s._adjustPosition(n,e,t,o,r))}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_getClassName(){return this._generalClassName}_getControlClass(){return this._ctrlClass}_updateControlClass(){this._ctrlClass={},this._ctrlClass["iui-contextmenu"]=!0}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=ze``,n){case bi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(yJ.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(vJ.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(bJ.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_getItemTemplate(n){let e=null;if(this.itemTemplate){let t=this.itemTemplate(n);t&&(e=new Mc(t.strings,t.values,"html",pm))}if(!e){let t={},o=this._commonService.isString(n.icon)?n.icon.split(" "):[];o.map(s=>t[s]=!0);let r=n[this._currentDataFields.iconUrl];e=Ke`                 ${o.length>0?Ke`<span class=${Gn(t)}></span>`:Ke``}                 ${r?Ke`<img style=${ln({verticalAlign:"middle"})} src="${r} />`:Ke``}                 <span class="iui-menuitem-label">${n.text}</span>             `}return e}firstUpdated(n){this._updateReferences()}refresh(){this._updateControlClass(),this.update(),this._menuItems&&this._menuItems.forEach(n=>n.refresh())}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu-win" class=${Gn(this._getControlClass())} style=${ln({top:this._currentOptions.position.y+"px",left:this._currentOptions.position.x+"px",height:"auto",opacity:this._ctrlOpacity})} @blur="${n=>this._onBlur(n)}" @contextmenu="${n=>this._onRightClick(n)}" tabindex="999">                 <ul id="content">                     ${this._currentOptions.items.filter(n=>n[this._currentDataFields.visible]!==!1).map(n=>Ke`                             <iui-menuitem .allowAnimation="${this.allowAnimation}" .colorScheme="${this._currentColorScheme}" .customStyle="${[this._currentControlStyleSettings,this._currentThemeSettings,this._currentCustomStyle]}" .data="${n}" .dataFields="${this._currentDataFields}" .items="${n[this._currentDataFields.items]}" .enabled="${n[this._currentDataFields.enabled]}" .icon="${n[this._currentDataFields.icon]}" .iconUrl="${n[this._currentDataFields.iconUrl]}" .level="0" .resourcePath="${this.resourcePath}" .text="${n[this._currentDataFields.text]}" .templateRef="${this._getItemTemplate(n)}" .theme="${this.theme}"></iui-menuitem>                     `)}                 </ul>             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=ze``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(aL.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu-win]"),this._contentElem=this.shadowRoot.querySelector("#content"),this._contentElem&&(this._menuItems=this._contentElem.querySelectorAll("iui-menuitem"),this._menuItems&&this._menuItems.forEach(n=>n.setParent(this)))}};window.customElements.define("iui-contextmenu-win",aT);var lL=class extends Eh{constructor(){super(),this._currentSettings=null,this._winScrollPos={top:0,left:0},this._cmpRef=null,this._cmp=null,this._currentThemeSettings=ze``}connectedCallback(){}disconnectedCallback(){this._removeContextMenuWindow()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{settings:{type:Object}}}get settings(){return this._currentSettings}set settings(n){if(this._currentSettings!==n){let e=this._currentSettings;this._currentSettings=n,this.requestUpdate("settings",e)}}getFullList(){return this._cmpRef?this._cmpRef.getFullList():[]}_closeContextMenu(){this._cmpRef&&this._cmpRef.close()}getItemParent(n){return this._cmpRef?this._cmpRef.getItemParent(n):null}_removeContextMenu(){this._removeContextMenuWindow()}_menuItemClick(n){this._invokeEvent("menuClick",{event:n.detail.event,item:n.detail.item}),this._removeContextMenuWindow()}_menuItemCheckedChanged(n){this._invokeEvent("checkedChanged",{event:n.detail.event,item:n.detail.item,checked:n.detail.checked,radioGroup:n.detail.radioGroup})}_getSize(){return{width:this._elemRef.offsetWidth,height:this._elemRef.offsetHeight}}_isInsideClick(n){if(this._contentSlotElem=this.shadowRoot.querySelector("slot").assignedNodes(),this._contentSlotElem&&(this._contentSlotElem=this._contentSlotElem.filter(e=>e.nodeType===1),this._contentSlotElem&&this._contentSlotElem.length>0)){let e=this._commonService.getPageRect(this._contentSlotElem[0]),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();return t.x-=o.x,t.y-=o.y,t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom}return!1}_ctrlContextMenu(n){this._isEnabled&&this._currentSettings.position!=="manual"&&this._processMenuOpen(n)}_ctrlMouseDown(n){this._isEnabled&&this._currentSettings.position==="manual"&&(this._currentSettings.buttonType===void 0||this._currentSettings.buttonType<0||n.which===this._currentSettings.buttonType)&&this._processMenuOpen(n,"manual")}_ctrlTouchStart(n){this._isEnabled&&this._currentSettings.position==="manual"&&this._processMenuOpen(n,"manual")}_processMenuOpen(n,e){if(!this._isInsideClick(n))return;n.preventDefault();let t=this;t._winScrollPos={top:document.documentElement.scrollTop,left:document.documentElement.scrollLeft};let o={cancel:!1,event:n};if(t._invokeEvent("menuOpening",o),o.cancel!==!0&&(t._addContextMenuWindow(),t._cmpRef)){t._cmpRef.resourcePath=t._currentResourcePath,t._cmpRef.allowAnimation=t.allowAnimation,t._cmpRef.colorScheme=t._currentColorScheme,t._cmpRef.customStyle=t.customStyle,t._cmpRef.itemTemplate=t.itemTemplate,t._cmpRef.options=t._currentSettings,t._cmpRef.options.mode=e,t._cmpRef.theme=t._currentTheme;let r=t._currentSettings.appSize?t._currentSettings.appSize:{width:window.innerWidth,height:window.innerHeight};e==="manual"?t._cmpRef.open(n,e,{x:0,y:0},r,t._elemRef.getBoundingClientRect()):t._cmpRef.open(n,e,{x:n.pageX,y:n.pageY},r),setTimeout(function(){window.scrollTo(t._winScrollPos.left,t._winScrollPos.top)},5),this._removeContextMenu=this._removeContextMenu.bind(this),this._cmpRef.addEventListener("closed",this._removeContextMenu),this._menuItemClick=this._menuItemClick.bind(this),this._cmpRef.addEventListener("menuClick",this._menuItemClick),this._menuItemCheckedChanged=this._menuItemCheckedChanged.bind(this),this._cmpRef.addEventListener("checkedChanged",this._menuItemCheckedChanged),e==="manual"&&n.stopPropagation()}}_addContextMenuWindow(){this._removeContextMenuWindow(),this._cmpRef=document.createElement("iui-contextmenu-win",{is:aT}),document.body.appendChild(this._cmpRef)}_removeContextMenuWindow(){this._cmpRef&&(this._cmpRef.removeEventListener("menuClick",this._menuItemClick),this._cmpRef.removeEventListener("closed",this._removeContextMenu),this._cmpRef.parentNode.removeChild(this._cmpRef)),this._cmpRef=null}findItemById(n){return this._cmpRef?this._cmpRef.findItemById(n):null}findItemByText(n){return this._cmpRef?this._cmpRef.findItemByText(n):null}firstUpdated(n){this._updateReferences()}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this.update(),this._updateReferences(),this._cmpRef&&this._cmpRef.refresh()}render(){return Ke`             <style>                 .iui-contextmenu-container {                     height: var(--iui-contextmenu-container-height, 100%);                     width: var(--iui-contextmenu-container-width, 100%); align-content: center;                 }                 ${this._currentCustomStyle}             </style>             <div data-ctrl="contextmenu" class="iui-contextmenu-container" style=${ln(this._getControlStyle())} @contextmenu="${n=>this._ctrlContextMenu(n)}" @mousedown="${n=>this._ctrlMouseDown(n)}" @touchstart="${n=>this._ctrlTouchStart(n)}">                 <slot></slot>             </div>         `}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=contextmenu]")}};window.customElements.define("iui-contextmenu",lL);var js=ze`
  @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

  @font-face {
    font-family: 'FontAwesome';
    src: url('../fonts/fontawesome-webfont.eot?v=4.7.0');
    src: url('../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), 
         url('../fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), 
         url('../fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), 
         url('../fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), 
         url('../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  .fa {
    display: inline-block;
    font: normal normal normal 14px/1 FontAwesome;
    font-size: inherit;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  .fa-spin {
    animation: fa-spin 2s infinite linear;
  }

  .fa-wrench:before {
  content: "\\f0ad";
  }

  .fa-puzzle-piece:before {
    content: "\\f12e";
  }

  .fa-n:before {
  content: "N ";
  }

  .fa-file:before {
    content: "\\f15b";
  }
  .fa-file-code:before {
  content: "\\f1c9";
  }

  .fa-plus:before {
    content: "\\f067";
  }

  .fa-trash:before {
    content: "\\f1f8";
  }

  .fa-terminal:before {
    content: "\\f120";
  }

  .fa-eye:before {
    content: "\\f06e";
  }

  .fa-download:before {
    content: "\\f019";
  }

  .fa-spinner:before {
    content: "\\f110";
  }

  .fa-gear:before {
    content: "\\f013";
  }

  .fa-question-circle:before {
    content: "\\f059"; font-size: 17px !important;
  }

  .fa-earth-africa:before {
    content: "\\f57c"; font-size: 17px !important;
  }
  
  .fa-earth-americas:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-earth-asia:before {
    content: "\\f57e"; font-size: 17px !important;
  }
  
  .fa-globe:before {
    content: "\\f0ac"; font-size: 17px !important;
  }
  
  .fa-earth:before {
    content: "\\f7e4"; font-size: 17px !important;
  }
  
  .fa-earth-europe:before {
    content: "\\f7a2"; font-size: 17px !important;
  }
  
  .fa-earth-oceania:before {
    content: "\\f57d"; font-size: 17px !important;
  }
  
  .fa-snowflake:before {
    content: "\\f2dc"; font-size: 17px !important;
  }

  .fa-list-alt {
    font-family: 'Font Awesome 5 Free';
    font-weight: 900; /* Font Awesome Free Solid */
  }

  .fa-list-alt:before {
    content: "\\f00b"; /* Unicode for fa-table-list */
  }
  .fa-robot:before {
    content: "\\f544";
  }

  @keyframes fa-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;var Gs=ze`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
    font-family: 'fwcIcons';
    src: url('../fonts/fwcIcons.eot');
    src: url('../fonts/fwcIcons.eot?#iefix') format('embedded-opentype'),
         url('../fonts/fwcIcons.woff') format('woff'),
         url('../fonts/fwcIcons.ttf') format('truetype'),
         url('../fonts/fwcIcons.svg#fwcIcons') format('svg');
    font-weight: normal;
    font-style: normal;
  }
  [class*='fwci-']:before {
    display: inline-block;
    font-family: 'fwcIcons';
    font-style: normal;
    font-weight: normal;
    line-height: 1;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .fwci-cloud:before { content: '\\0041'; }
  .fwci-firewalls:before { content: '\\0042'; font-size: 17px !important;}
  .fwci-firewall:before { content: '\\0043'; font-size: 15px !important; }
  .fwci-filterpolicies:before { content: '\\0044'; font-size: 17px !important;}
  .fwci-input:before { content: '\\0045'; font-size: 17px !important; }
  .fwci-output:before { content: '\\0046'; font-size: 17px !important; }
  .fwci-forward:before { content: '\\0047'; font-size: 17px !important; }
  .fwci-nat:before { content: '\\0048'; font-size: 17px !important;}
  .fwci-snat:before { content: '\\0049'; font-size: 17px !important; }
  .fwci-dnat:before { content: '\\004a'; font-size: 17px !important; }
  .fwci-routing:before { content: '\\004b'; font-size: 17px !important; }
  .fwci-interfaces:before { content: '\\004c'; font-size: 17px !important; }
  .fwci-interface:before { content: '\\004d'; font-size: 17px !important; }
  .fwci-ipobjects:before { content: '\\004e'; font-size: 17px !important; }
  .fwci-addresses:before { content: '\\004f'; font-size: 17px !important; }
  .fwci-address:before { content: '\\0050'; font-size: 17px !important;}
  .fwci-addressranges:before { content: '\\0051'; font-size: 17px !important; }
  .fwci-addressrange:before { content: '\\0052'; font-size: 17px !important; }
  .fwci-networks:before { content: '\\0053'; font-size: 17px !important; }
  .fwci-network:before { content: '\\0054'; font-size: 17px !important; }
  .fwci-hosts:before { content: '\\0055'; font-size: 17px !important; }
  .fwci-host:before { content: '\\0056'; font-size: 17px !important; }
  .fwci-objectgroups:before { content: '\\0057'; font-size: 17px !important; }
  .fwci-objectgroup:before { content: '\\0058';  font-size: 17px !important;}
  .fwci-services:before { content: '\\0059';  font-size: 17px !important;}
  .fwci-ipservices:before { content: '\\005a'; font-size: 17px !important;}
  .fwci-ipservice:before { content: '\\0061'; font-size: 17px !important;}
  .fwci-tcpservices:before { content: '\\0062'; font-size: 17px !important; }
  .fwci-tcpservice:before { content: '\\0063'; font-size: 17px !important; }
  .fwci-icmpservices:before { content: '\\0064'; font-size: 17px !important; }
  .fwci-icmpservice:before { content: '\\0065'; font-size: 17px !important; }
  .fwci-udpservices:before { content: '\\0066'; font-size: 17px !important; }
  .fwci-udpservice:before { content: '\\0067'; font-size: 17px !important; }
  .fwci-servicesgroups:before { content: '\\0068'; font-size: 17px !important; }
  .fwci-servicegroup:before { content: '\\0069'; font-size: 17px !important; }
  .fwci-rule:before { content: '\\006a'; }
  .fwci-rulegroup:before { content: '\\006b'; }
  .fwci-expand:before { content: '\\006c'; }
  .fwci-collapse:before { content: '\\006d'; }
  .fwci-reload:before { content: '\\006e'; }
  .fwci-newfirewall:before { content: '\\006f'; }
  .fwci-editfirewall:before { content: '\\0070'; }
  .fwci-compilefirewall:before { content: '\\0071'; }
  .fwci-installfirewall:before { content: '\\0072'; }
  .fwci-loadpolicy:before { content: '\\0073'; }
  .fwci-newinterface:before { content: '\\0074'; }
  .fwci-newadress:before { content: '\\0075'; }
  .fwci-whereused:before { content: '\\0076'; }
  .fwci-edit:before { content: '\\0077'; }
  .fwci-delete:before { content: '\\0078'; }
  .fwci-enableposition:before { content: '\\0079'; }
  .fwci-negateposition:before { content: '\\007a'; }
  .fwci-editobject:before { content: '\\0030'; }
  .fwci-copy:before { content: '\\0031'; }
  .fwci-cut:before { content: '\\0032'; }
  .fwci-compilerule:before { content: '\\0033'; }
  .fwci-rulecolor:before { content: '\\0034'; }
  .fwci-newruleabove:before { content: '\\0035'; }
  .fwci-newrulebelow:before { content: '\\0036'; }
  .fwci-editrule:before { content: '\\0037'; }
  .fwci-enablerule:before { content: '\\0038'; }
  .fwci-disablerule:before { content: '\\0039'; }
  .fwci-deleterule:before { content: '\\0021'; }
  .fwci-movedown:before { content: '\\0022'; }
  .fwci-removegroup:before { content: '\\0023'; }
  .fwci-removefromgroup:before { content: '\\0024'; }
  .fwci-deny:before { content: '\\0025'; }
  .fwci-accept:before { content: '\\0026'; }
  .fwci-reject:before { content: '\\0027'; }
  .fwci-acounting:before { content: '\\0028'; }
  .fwci-groupname:before { content: '\\0029'; }
  .fwci-groupcolor:before { content: '\\002a'; }
  .fwci-new:before { content: '\\002b'; }
  .fwci-compileallfirewalls:before { content: '\\002c'; }
  .fwci-installallfirewalls:before { content: '\\002d'; }
  .fwci-policy:before { content: '\\002e'; font-size: 17px !important; }
  .fwci-vpn:before { content: '\\002f'; }
  .fwci-status:before { content: '\\005b'; }
  .fwci-config:before { content: '\\005c'; }
  .fwci-help:before { content: '\\005d'; }
  .fwci-logout:before { content: '\\005e'; font-size: 17px !important; }
  .fwci-compileallfirewalls2:before { content: '\\005f'; }
  .fwci-installallfirewalls2:before { content: '\\0060'; }
  .fwci-users:before { content: '\\007b'; }
  .fwci-systemconfiguration:before { content: '\\007c'; }
  .fwci-cluster:before { content: '\\007d'; font-size: 17px !important; }
  .fwci-clusters:before { content: '\\007e'; font-size: 17px !important; }                                                                                                           
  .fwci-paste:before { content: '\\003f'; }

  .compiler-icon {
    display: inline-block;
    width: 1.25rem;
    height: 1.25rem;
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    margin-right: 0;
    vertical-align: middle;
  }

  .compiler-icon--iptables {
    background-image: url('assets/img/compilers/iptables.svg');
  }

  .compiler-icon--nftables {
    background-image: url('assets/img/compilers/nftables.svg');
  }

  .compiler-icon--vyos {
    background-image: url('assets/img/compilers/vyos.svg');
  }

  .iui-menuitem-icon,
  .iui-menuitem-icon + .compiler-icon {
    margin-right: 0;
  }
`;var Hs=ze`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcGreen {
    color: var(--fwcGreen);
  }
  .fwcRed {
    color: var(--fwcRed);
  }
  
  @font-face {
      font-family: 'fwcIcons2';
      src: url('../fonts/fwcIcons2.eot');
      src: url('../fonts/fwcIcons2.eot?#iefix') format('embedded-opentype'),
          url('../fonts/fwcIcons2.woff') format('woff'),
          url('../fonts/fwcIcons2.ttf') format('truetype'),
          url('../fonts/fwcIcons2.svg#fwcIcons2') format('svg');
      font-weight: normal;
      font-style: normal;
  }
[class*='fwci2-']:before{
	display: inline-block;
   font-family: 'fwcIcons2';
   font-style: normal;
   font-weight: normal;
   line-height: 1;
   font-size:14px;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale
}
.fwci2-cuadrado:before{content:'\\0041';}
.fwci2-moveup:before{content:'\\0042';}
.fwci2-pastebelow:before{content:'\\0043';}
.fwci2-pasteabove:before{content:'\\0044';}
.fwci2-findintree:before{content:'\\0045';}
.fwci2-firewall_to_cluster:before{content:'\\0046';}
.fwci2-cluster_to_firewall:before{content:'\\0047';}
.fwci2-cluster_clone:before{content:'\\0048';}
.fwci2-firewall_clone:before{content:'\\0049';}
.fwci2-newcluster:before{content:'\\004a';}
.fwci2-folder:before{content:'\\004b'; font-size: 17px; }
.fwci2-newfolder:before{content:'\\004c';}
.fwci2-deletefolder:before{content:'\\004d';}
.fwci2-renamefolder:before{content:'\\004e';}
.fwci2-vpn-config:before{content:'\\004f';}
.fwci2-certificate:before{content:'\\0050';}
.fwci2-new-certificate:before{content:'\\0051';}
.fwci2-delete-certificate:before{content:'\\0052';}
.fwci2-edit-certificate:before{content:'\\0053';}
.fwci2-ca:before{content:'\\0054';}
.fwci2-new-ca:before{content:'\\0055';}
.fwci2-delete-ca:before{content:'\\0056';}
.fwci2-edit-ca:before{content:'\\0057';}
.fwci2-openvpn:before{content:'\\0058'; font-size: 17px !important; }
.fwci2-openvpn-deleteconfig:before{content:'\\0059';}
.fwci2-wireguard:before{content:'\\0078'; font-size: 17px !important;}
.fwci2-ipsec:before{content:'\\0079'; font-size: 17px !important;}
.fwci2-folderstd:before{content:'\\005a'; font-size: 18px !important; }
.fwci2-edit-vpnconfig:before{content:'\\0061';}
.fwci2-file-vpnconfig:before{content:'\\0062';}
.fwci2-install-vpnconfig:before{content:'\\0063';}
.fwci2-label:before{content:'\\0064'; font-size: 17px !important; }
.fwci2-dns-in:before{content:'\\0065'; font-size: 17px !important; }
.fwci2-uninstall-vpnconfig:before{content:'\\0066';}
.fwci2-syncccd-vpnconfig:before{content:'\\0067';}
.fwci2-certificate-prefix:before{content:'\\0068';}
.fwci2-certificate-prefix-new:before{content:'\\0069';}
.fwci2-certificate-prefix-edit:before{content:'\\006a';}
.fwci2-certificate-prefix-delete:before{content:'\\006b';}
.fwci2-vyos:before{content:'\\076';}

.compiler-icon {
  display: inline-block;
  width: 1.25rem;
  height: 1.25rem;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  margin-right: 0rem;
  vertical-align: middle;
}

.compiler-icon--iptables {
  background-image: url('assets/img/compilers/iptables.svg');
}

.compiler-icon--nftables {
  background-image: url('assets/img/compilers/nftables.svg');
}

.compiler-icon--vyos {
  background-image: url('assets/img/compilers/vyos.svg');
}

.iui-menuitem-icon,
.iui-menuitem-icon + .compiler-icon {
  margin-right: 0;
}
`;var ENe=["panelHeader"],xNe=["panelContent"],TNe=["sts-fwc-tree-panel",""],ONe=["*"],RNe=i=>({panelCollapsed:i}),DNe=i=>({display:i}),wJ=(()=>{let n=class n{constructor(t,o,r,s,a,l,c){this.elRef=t,this.renderer=o,this.fwcContextMenuService=r,this.refService=s,this.fwcTreeMenuService=a,this.store=l,this.fwcUserService=c,this.expanded=!0,this.subjectChange=new Le,this.contextMenuStyle=[js,Hs,Gs],this.applicationRef=null,this.contextMenuReference=null,this.alive=!0,this.el=t.nativeElement}ngOnInit(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(t=>{t==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.updateContextMenuSettings()}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let t=this;setTimeout((function(){let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o}).bind(this),1)}togglePanel(){return new Promise((t,o)=>{this.expanded=!this.expanded,this.subjectChange.next(this.expanded),setTimeout(()=>{t()},300)})}setHeight(t){let o=this.divHeader.nativeElement.offsetHeight,r=t-o;this.renderer.setStyle(this.divContent.nativeElement,"height",r+"px")}getMinHeight(){return this.divHeader.nativeElement.offsetHeight}onChange(){return this.subjectChange.asObservable()}onContextMenuLoad(t){let o;this.updateContextMenuSettings(),this.header==="FIREWALLS"?this.panel_type="FDF":this.header==="OBJECTS"||this.header==="OBJETOS"?this.panel_type="FDO":this.panel_type="FDS",o=this.treeContextMenu[this.panel_type],o&&o.items?o.items.forEach(r=>{r.visible=r.id===U.TREE_RELOAD||r.id===U.TREE_REPAIR,r.id===U.TREE_REPAIR&&(r.enabled=this.fwcUserLock)}):t.detail.cancel=!0}onContextMenuHandler(t){let o={e:t,panel_type:this.panel_type};this.fwcTreeMenuService.forwardSelection.next(o)}updateContextMenuSettings(){this.fwcUserLock=this.fwcUserService.getActualFwcUser().lockInfo.result,this.header==="FIREWALLS"?this.currentSettings=this.treeContextMenu.FDF:this.header==="OBJECTS"||this.header==="OBJETOS"?this.currentSettings=this.treeContextMenu.FDO:this.currentSettings=this.treeContextMenu.FDS}};n.\u0275fac=function(o){return new(o||n)(x(Ei),x(Wo),x(R_),x(sa),x(Yx),x(tt),x(dt))},n.\u0275cmp=oe({type:n,selectors:[["","sts-fwc-tree-panel",""]],viewQuery:function(o,r){if(o&1&&(_e(ENe,5),_e(xNe,5)),o&2){let s;W(s=$())&&(r.divHeader=s.first),W(s=$())&&(r.divContent=s.first)}},inputs:{header:"header",expanded:"expanded"},standalone:!1,features:[Se([En])],attrs:TNe,ngContentSelectors:ONe,decls:11,vars:12,consts:[["panelHeader",""],["contextMenu",""],["panelContent",""],[1,"fwcTreePanel-header",3,"click","ngClass"],[3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],[1,"pi",3,"ngClass"],[1,"fwcTreePanel-content",3,"ngStyle"]],template:function(o,r){if(o&1){let s=B();ci(),_(0,"div",3,0),A("click",function(){return w(s),C(r.togglePanel())}),_(2,"iui-contextmenu",4,1),A("menuOpening",function(l){return w(s),C(r.onContextMenuLoad(l))})("menuClick",function(l){return w(s),C(r.onContextMenuHandler(l))}),_(4,"div")(5,"span"),R(6),b(),N(7,"i",5),b()()(),_(8,"div",6,2),Ht(10),b()}o&2&&(f("ngClass",de(8,RNe,!r.expanded)),p(2),f("settings",r.currentSettings)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme),p(4),Q(r.header),p(),f("ngClass",r.expanded?"pi-chevron-down":"pi-chevron-right"),p(),f("ngStyle",de(10,DNe,r.expanded?"block":"none")))},dependencies:[$t,ft],styles:[".fwcTreePanel-header[_ngcontent-%COMP%]{background:var(--fwcBlue);color:var(--fixedWhiteColor);font-size:.9rem;padding:.5rem;padding-bottom:0%;border-bottom:1px solid var(--fwcWhite)}.fwcTreePanel-header.panelCollapsed[_ngcontent-%COMP%]{background:var(--fwcDarkBlue2)}.fwcTreePanel-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat,arial,sans-serif;display:inline-block;width:calc(100% - 1.3em);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:pointer}.fwcTreePanel-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.fwcTreePanel-content[_ngcontent-%COMP%]{transition:all .3s linear}"]});let i=n;return i})();var CJ=`
    .p-panel {
        display: block;
        border: 1px solid dt('panel.border.color');
        border-radius: dt('panel.border.radius');
        background: dt('panel.background');
        color: dt('panel.color');
    }

    .p-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: dt('panel.header.padding');
        background: dt('panel.header.background');
        color: dt('panel.header.color');
        border-style: solid;
        border-width: dt('panel.header.border.width');
        border-color: dt('panel.header.border.color');
        border-radius: dt('panel.header.border.radius');
    }

    .p-panel-toggleable .p-panel-header {
        padding: dt('panel.toggleable.header.padding');
    }

    .p-panel-title {
        line-height: 1;
        font-weight: dt('panel.title.font.weight');
    }

    .p-panel-content {
        padding: dt('panel.content.padding');
    }

    .p-panel-footer {
        padding: dt('panel.footer.padding');
    }
`;var ANe=["header"],kNe=["icons"],NNe=["content"],FNe=["footer"],LNe=["headericons"],MNe=["contentWrapper"],BNe=["*",[["p-header"]],[["p-footer"]]],VNe=["*","p-header","p-footer"],UNe=i=>({transitionParams:i,height:"0",opacity:"0"}),jNe=i=>({value:"hidden",params:i}),GNe=i=>({transitionParams:i,height:"*",opacity:"1"}),HNe=i=>({value:"visible",params:i}),zNe=i=>({$implicit:i});function WNe(i,n){if(i&1&&(_(0,"span",4),R(1),b()),i&2){let e=h(2);j(e.cx("title")),f("pBind",e.ptm("title")),ce("id",e.id+"_header"),p(),Q(e._header)}}function $Ne(i,n){i&1&&ve(0)}function KNe(i,n){}function qNe(i,n){i&1&&E(0,KNe,0,0,"ng-template")}function JNe(i,n){if(i&1&&(we(0),xe(),N(1,"svg",12),Ce()),i&2){let e=h(5);p(),f("pBind",e.ptm("pcToggleButton.icon"))}}function QNe(i,n){if(i&1&&(we(0),xe(),N(1,"svg",13),Ce()),i&2){let e=h(5);p(),f("pBind",e.ptm("pcToggleButton.icon"))}}function YNe(i,n){if(i&1&&(we(0),E(1,JNe,2,1,"ng-container",10)(2,QNe,2,1,"ng-container",10),Ce()),i&2){let e=h(4);p(),f("ngIf",!e.collapsed),p(),f("ngIf",e.collapsed)}}function XNe(i,n){}function ZNe(i,n){i&1&&E(0,XNe,0,0,"ng-template")}function eFe(i,n){if(i&1&&E(0,YNe,3,2,"ng-container",10)(1,ZNe,1,0,null,11),i&2){let e=h(3);f("ngIf",!e.headerIconsTemplate&&!e._headerIconsTemplate&&!(e.toggleButtonProps!=null&&e.toggleButtonProps.icon)),p(),f("ngTemplateOutlet",e.headerIconsTemplate||e._headerIconsTemplate)("ngTemplateOutletContext",de(3,zNe,e.collapsed))}}function tFe(i,n){if(i&1){let e=B();_(0,"p-button",9),A("click",function(o){w(e);let r=h(2);return C(r.onIconClick(o))})("keydown",function(o){w(e);let r=h(2);return C(r.onKeyDown(o))}),E(1,eFe,2,5,"ng-template",null,1,ie),b()}if(i&2){let e=h(2);f("text",!0)("rounded",!0)("styleClass",e.cx("pcToggleButton"))("buttonProps",e.toggleButtonProps)("pt",e.ptm("pcToggleButton")),ce("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)}}function iFe(i,n){if(i&1){let e=B();_(0,"div",7),A("click",function(o){w(e);let r=h();return C(r.onHeaderClick(o))}),E(1,WNe,2,5,"span",6),Ht(2,1),E(3,$Ne,1,0,"ng-container",5),_(4,"div",4),E(5,qNe,1,0,null,5)(6,tFe,3,9,"p-button",8),b()()}if(i&2){let e=h();j(e.cx("header")),f("pBind",e.ptm("header")),ce("id",e.id+"-titlebar"),p(),f("ngIf",e._header),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),p(),j(e.cx("headerActions")),f("pBind",e.ptm("headerActions")),p(),f("ngTemplateOutlet",e.iconTemplate||e._iconTemplate),p(),f("ngIf",e.toggleable)}}function nFe(i,n){i&1&&ve(0)}function oFe(i,n){i&1&&ve(0)}function rFe(i,n){if(i&1&&(_(0,"div",4),Ht(1,2),E(2,oFe,1,0,"ng-container",5),b()),i&2){let e=h();j(e.cx("footer")),f("pBind",e.ptm("footer")),p(2),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var sFe=`
    ${CJ}

    /* For PrimeNG */
    .p-panel-collapsed .p-panel-content-container,
    .p-panel-content-container.ng-animating {
        overflow: hidden !important;
    }

`,aFe={root:({instance:i})=>["p-panel p-component",{"p-panel-toggleable":i.toggleable,"p-panel-expanded":!i._collapsed&&i.toggleable,"p-panel-collapsed":i._collapsed&&i.toggleable}],header:"p-panel-header",title:"p-panel-title",headerActions:({instance:i})=>["p-panel-header-actions",{"p-panel-icons-start":i.iconPos==="start","p-panel-icons-end":i.iconPos==="end","p-panel-icons-center":i.iconPos==="center"}],pcToggleButton:"p-panel-toggle-button",contentContainer:"p-panel-content-container",content:"p-panel-content",footer:"p-panel-footer"},SJ=(()=>{class i extends Ye{name="panel";style=sFe;classes=aFe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var IJ=new he("PANEL_INSTANCE"),lFe=(()=>{class i extends Xe{$pcPanel=z(IJ,{optional:!0,skipSelf:!0})??void 0;_componentStyle=z(SJ);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}id=Vt("pn_id_");toggleable;_header;_collapsed;get collapsed(){return this._collapsed}set collapsed(e){this._collapsed=e}styleClass;iconPos="end";showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";toggleButtonProps;collapsedChange=new te;onBeforeToggle=new te;onAfterToggle=new te;animating=lt(!1);footerFacet;headerTemplate;iconTemplate;contentTemplate;footerTemplate;headerIconsTemplate;_headerTemplate;_iconTemplate;_contentTemplate;_footerTemplate;_headerIconsTemplate;contentWrapperViewChild;get buttonAriaLabel(){return this._header}onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating())return!1;this.animating.set(!0),this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),e.preventDefault()}expand(){this._collapsed=!1,this.collapsedChange.emit(!1),this.updateTabIndex()}collapse(){this._collapsed=!0,this.collapsedChange.emit(!0),this.updateTabIndex()}getBlockableElement(){return this.el.nativeElement}updateTabIndex(){this.contentWrapperViewChild&&this.contentWrapperViewChild.nativeElement.querySelectorAll("input, button, select, a, textarea, [tabindex]").forEach(t=>{this.collapsed?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")})}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating.set(!1),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"icons":this._iconTemplate=e.template;break;case"headericons":this._headerIconsTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}dataP(){return this.cn({toggleable:this.toggleable})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-panel"]],contentQueries:function(t,o,r){if(t&1&&(se(r,md,5),se(r,ANe,4),se(r,kNe,4),se(r,NNe,4),se(r,FNe,4),se(r,LNe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.footerFacet=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.iconTemplate=s.first),W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.headerIconsTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&_e(MNe,5),t&2){let r;W(r=$())&&(o.contentWrapperViewChild=r.first)}},hostVars:4,hostBindings:function(t,o){t&2&&(Xi("id",o.id),ce("data-p",o.dataP()),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{id:"id",toggleable:[2,"toggleable","toggleable",Z],_header:[0,"header","_header"],collapsed:[2,"collapsed","collapsed",Z],styleClass:"styleClass",iconPos:"iconPos",showHeader:[2,"showHeader","showHeader",Z],toggler:"toggler",transitionOptions:"transitionOptions",toggleButtonProps:"toggleButtonProps"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[Se([SJ,{provide:IJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:VNe,decls:7,vars:22,consts:[["contentWrapper",""],["icon",""],[3,"pBind","class","click",4,"ngIf"],["role","region",3,"pBind","id"],[3,"pBind"],[4,"ngTemplateOutlet"],[3,"pBind","class",4,"ngIf"],[3,"click","pBind"],["severity","secondary","type","button","role","button",3,"text","rounded","styleClass","buttonProps","pt","click","keydown",4,"ngIf"],["severity","secondary","type","button","role","button",3,"click","keydown","text","rounded","styleClass","buttonProps","pt"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","minus",3,"pBind"],["data-p-icon","plus",3,"pBind"]],template:function(t,o){if(t&1){let r=B();ci(BNe),E(0,iFe,7,11,"div",2),_(1,"div",3),A("@panelContent.done",function(a){return w(r),C(o.onToggleDone(a))}),_(2,"div",4,0),Ht(4),E(5,nFe,1,0,"ng-container",5),b(),E(6,rFe,3,4,"div",6),b()}t&2&&(f("ngIf",o.showHeader),p(),j(o.cx("contentContainer")),f("pBind",o.ptm("contentContainer"))("id",o.id+"_content")("@panelContent",o.collapsed?de(16,jNe,de(14,UNe,o.animating()?o.transitionOptions:"0ms")):de(20,HNe,de(18,GNe,o.animating()?o.transitionOptions:"0ms"))),ce("aria-labelledby",o.id+"_header")("aria-hidden",o.collapsed)("tabindex",o.collapsed?"-1":void 0),p(),j(o.cx("content")),f("pBind",o.ptm("content")),p(3),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),p(),f("ngIf",o.footerFacet||o.footerTemplate||o._footerTemplate))},dependencies:[Qe,pt,gt,ku,$g,Lf,bt,Oe,Pt,pe],encapsulation:2,data:{animation:[vn("panelContent",[nr("hidden",Yt({height:"0"})),nr("void",Yt({height:"{{height}}"}),{params:{height:"0"}}),nr("visible",Yt({height:"*"})),li("visible <=> hidden",[hi("{{transitionParams}}")]),li("void => hidden",hi("{{transitionParams}}")),li("void => visible",hi("{{transitionParams}}"))])]},changeDetection:0})}return i})(),cL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[lFe,Oe,Pt,Oe,Pt]})}return i})();var EJ=`
    .p-confirmdialog .p-dialog-content {
        display: flex;
        align-items: center;
        gap: dt('confirmdialog.content.gap');
    }

    .p-confirmdialog-icon {
        color: dt('confirmdialog.icon.color');
        font-size: dt('confirmdialog.icon.size');
        width: dt('confirmdialog.icon.size');
        height: dt('confirmdialog.icon.size');
    }
`;var cFe=["header"],dFe=["footer"],pFe=["rejecticon"],uFe=["accepticon"],hFe=["message"],fFe=["icon"],mFe=["headless"],gFe=[[["p-footer"]]],_Fe=["p-footer"],bFe=(i,n,e)=>({$implicit:i,onAccept:n,onReject:e}),yFe=i=>({$implicit:i});function vFe(i,n){i&1&&ve(0)}function wFe(i,n){if(i&1&&E(0,vFe,1,0,"ng-container",7),i&2){let e=h(2);f("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",ga(2,bFe,e.confirmation,e.onAccept.bind(e),e.onReject.bind(e)))}}function CFe(i,n){i&1&&E(0,wFe,1,6,"ng-template",null,2,ie)}function SFe(i,n){i&1&&ve(0)}function IFe(i,n){if(i&1&&E(0,SFe,1,0,"ng-container",8),i&2){let e=h(3);f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function EFe(i,n){i&1&&E(0,IFe,1,1,"ng-template",null,4,ie)}function xFe(i,n){}function TFe(i,n){i&1&&E(0,xFe,0,0,"ng-template")}function OFe(i,n){if(i&1&&E(0,TFe,1,0,null,8),i&2){let e=h(3);f("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}function RFe(i,n){if(i&1&&N(0,"i",12),i&2){let e=h(4);j(e.option("icon")),f("ngClass",e.cx("icon"))("pBind",e.ptm("icon"))}}function DFe(i,n){if(i&1&&E(0,RFe,1,4,"i",11),i&2){let e=h(3);f("ngIf",e.option("icon"))}}function PFe(i,n){}function AFe(i,n){i&1&&E(0,PFe,0,0,"ng-template")}function kFe(i,n){if(i&1&&E(0,AFe,1,0,null,7),i&2){let e=h(3);f("ngTemplateOutlet",e.messageTemplate||e._messageTemplate)("ngTemplateOutletContext",de(2,yFe,e.confirmation))}}function NFe(i,n){if(i&1&&N(0,"span",13),i&2){let e=h(3);j(e.cx("message")),f("pBind",e.ptm("message"))("innerHTML",e.option("message"),on)}}function FFe(i,n){if(i&1&&(G(0,OFe,1,1)(1,DFe,1,1,"i",9),G(2,kFe,1,4)(3,NFe,1,4,"span",10)),i&2){let e=h(2);H(e.iconTemplate||e._iconTemplate?0:!e.iconTemplate&&!e._iconTemplate&&!e._messageTemplate&&!e.messageTemplate?1:-1),p(2),H(e.messageTemplate||e._messageTemplate?2:3)}}function LFe(i,n){if(i&1&&(G(0,EFe,2,0),E(1,FFe,4,2,"ng-template",null,3,ie)),i&2){let e=h();H(e.headerTemplate||e._headerTemplate?0:-1)}}function MFe(i,n){i&1&&ve(0)}function BFe(i,n){if(i&1&&(Ht(0),E(1,MFe,1,0,"ng-container",8)),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function VFe(i,n){if(i&1&&N(0,"i",18),i&2){let e=h(6);j(e.option("rejectIcon")),f("pBind",e.ptm("pcRejectButton").icon)}}function UFe(i,n){if(i&1&&E(0,VFe,1,3,"i",17),i&2){let e=h(5);f("ngIf",e.option("rejectIcon"))}}function jFe(i,n){}function GFe(i,n){i&1&&E(0,jFe,0,0,"ng-template")}function HFe(i,n){if(i&1&&(G(0,UFe,1,1,"i",16),E(1,GFe,1,0,null,8)),i&2){let e=h(4);H(e.rejectIcon&&!e.rejectIconTemplate&&!e._rejectIconTemplate?0:-1),p(),f("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function zFe(i,n){if(i&1){let e=B();_(0,"p-button",15),A("onClick",function(){w(e);let o=h(3);return C(o.onReject())}),E(1,HFe,2,2,"ng-template",null,5,ie),b()}if(i&2){let e=h(3);f("pt",e.ptm("pcRejectButton"))("label",e.rejectButtonLabel)("styleClass",e.getButtonStyleClass("pcRejectButton","rejectButtonStyleClass"))("ariaLabel",e.option("rejectButtonProps","ariaLabel"))("buttonProps",e.getRejectButtonProps())}}function WFe(i,n){if(i&1&&N(0,"i",18),i&2){let e=h(6);j(e.option("acceptIcon")),f("pBind",e.ptm("pcAcceptButton").icon)}}function $Fe(i,n){if(i&1&&E(0,WFe,1,3,"i",17),i&2){let e=h(5);f("ngIf",e.option("acceptIcon"))}}function KFe(i,n){}function qFe(i,n){i&1&&E(0,KFe,0,0,"ng-template")}function JFe(i,n){if(i&1&&(G(0,$Fe,1,1,"i",16),E(1,qFe,1,0,null,8)),i&2){let e=h(4);H(e.acceptIcon&&!e._acceptIconTemplate&&!e.acceptIconTemplate?0:-1),p(),f("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function QFe(i,n){if(i&1){let e=B();_(0,"p-button",15),A("onClick",function(){w(e);let o=h(3);return C(o.onAccept())}),E(1,JFe,2,2,"ng-template",null,5,ie),b()}if(i&2){let e=h(3);f("pt",e.ptm("pcAcceptButton"))("label",e.acceptButtonLabel)("styleClass",e.getButtonStyleClass("pcAcceptButton","acceptButtonStyleClass"))("ariaLabel",e.option("acceptButtonProps","ariaLabel"))("buttonProps",e.getAcceptButtonProps())}}function YFe(i,n){if(i&1&&E(0,zFe,3,5,"p-button",14)(1,QFe,3,5,"p-button",14),i&2){let e=h(2);f("ngIf",e.option("rejectVisible")),p(),f("ngIf",e.option("acceptVisible"))}}function XFe(i,n){if(i&1&&(G(0,BFe,2,1),G(1,YFe,2,2)),i&2){let e=h();H(e.footerTemplate||e._footerTemplate?0:-1),p(),H(!e.footerTemplate&&!e._footerTemplate?1:-1)}}var ZFe={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},xJ=(()=>{class i extends Ye{name="confirmdialog";style=EJ;classes=ZFe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var TJ=new he("CONFIRMDIALOG_INSTANCE"),eLe=_d([Yt({transform:"{{transform}}",opacity:0}),hi("{{transition}}",Yt({transform:"none",opacity:1}))]),tLe=_d([hi("{{transition}}",Yt({transform:"{{transform}}",opacity:0}))]),iLe=(()=>{class i extends Xe{confirmationService;zone;$pcConfirmDialog=z(TJ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo="body";key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;modal=!0;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}draggable=!0;onHide=new te;footer;_componentStyle=z(xJ);headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;templates;_headerTemplate;_footerTemplate;_rejectIconTemplate;_acceptIconTemplate;_messageTemplate;_iconTemplate;_headlessTemplate;confirmation;_visible;_style;maskVisible;dialog;wrapper;contentContainer;subscription;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=Vt("pn_id_");ariaLabelledBy=this.getAriaLabelledBy();translationSubscription;constructor(e,t){super(),this.confirmationService=e,this.zone=t,this.subscription=this.confirmationService.requireConfirmation$.subscribe(o=>{if(!o){this.hide();return}o.key===this.key&&(this.confirmation=o,Object.keys(o).forEach(s=>{this[s]=o[s]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new te,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new te,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}onInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"message":this._messageTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}getAriaLabelledBy(){return this.header!==null?Vt("pn_id_")+"_header":null}option(e,t){let o=this;if(o.hasOwnProperty(e))return t?o[t]:o[e]}getButtonStyleClass(e,t){let o=this.cx(e),r=this.option(t);return[o,r].filter(Boolean).join(" ")}getElementToFocus(){if(this.dialog?.el?.nativeElement)switch(this.option("defaultFocus")){case"accept":return Et(this.dialog.el.nativeElement,".p-confirm-dialog-accept");case"reject":return Et(this.dialog.el.nativeElement,".p-confirm-dialog-reject");case"close":return Et(this.dialog.el.nativeElement,".p-dialog-header-close");case"none":return null;default:return Et(this.dialog.el.nativeElement,".p-confirm-dialog-accept")}}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",vc(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                    @media screen and (max-width: ${t}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[t]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e,vc(this.styleElement,"nonce",this.config?.csp()?.nonce)}}close(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(Nf.CANCEL),this.hide(Nf.CANCEL)}hide(e){this.onHide.emit(e),this.visible=!1,this.unsubscribeConfirmationEvents(),this.confirmation=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}onDestroy(){this.subscription.unsubscribe(),this.unsubscribeConfirmationEvents(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}onVisibleChange(e){e?this.visible=e:this.close()}onAccept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Nf.ACCEPT)}onReject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Nf.REJECT),this.hide(Nf.REJECT)}unsubscribeConfirmationEvents(){this.confirmation&&(this.confirmation.acceptEvent?.unsubscribe(),this.confirmation.rejectEvent?.unsubscribe())}get acceptButtonLabel(){return this.option("acceptLabel")||this.getAcceptButtonProps()?.label||this.config.getTranslation(xi.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.getRejectButtonProps()?.label||this.config.getTranslation(xi.REJECT)}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}static \u0275fac=function(t){return new(t||i)(x(ti),x(Ft))};static \u0275cmp=oe({type:i,selectors:[["p-confirmDialog"],["p-confirmdialog"],["p-confirm-dialog"]],contentQueries:function(t,o,r){if(t&1&&(se(r,md,5),se(r,cFe,4),se(r,dFe,4),se(r,pFe,4),se(r,uFe,4),se(r,hFe,4),se(r,fFe,4),se(r,mFe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.footer=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.rejectIconTemplate=s.first),W(s=$())&&(o.acceptIconTemplate=s.first),W(s=$())&&(o.messageTemplate=s.first),W(s=$())&&(o.iconTemplate=s.first),W(s=$())&&(o.headlessTemplate=s.first),W(s=$())&&(o.templates=s)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",Z],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",Z],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",Z],dismissableMask:[2,"dismissableMask","dismissableMask",Z],blockScroll:[2,"blockScroll","blockScroll",Z],rtl:[2,"rtl","rtl",Z],closable:[2,"closable","closable",Z],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",Z],defaultFocus:"defaultFocus",breakpoints:"breakpoints",modal:[2,"modal","modal",Z],visible:"visible",position:"position",draggable:[2,"draggable","draggable",Z]},outputs:{onHide:"onHide"},features:[Se([xJ,{provide:TJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:_Fe,decls:6,vars:18,consts:[["dialog",""],["footer",""],["headless",""],["content",""],["header",""],["icon",""],["role","alertdialog",3,"visibleChange","pt","visible","closable","styleClass","modal","header","closeOnEscape","blockScroll","appendTo","position","dismissableMask","draggable","baseZIndex","autoZIndex","maskStyleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"ngClass","class","pBind"],[3,"class","pBind","innerHTML"],[3,"ngClass","class","pBind",4,"ngIf"],[3,"ngClass","pBind"],[3,"pBind","innerHTML"],[3,"pt","label","styleClass","ariaLabel","buttonProps","onClick",4,"ngIf"],[3,"onClick","pt","label","styleClass","ariaLabel","buttonProps"],[3,"class","pBind"],[3,"class","pBind",4,"ngIf"],[3,"pBind"]],template:function(t,o){if(t&1){let r=B();ci(gFe),_(0,"p-dialog",6,0),A("visibleChange",function(a){return w(r),C(o.onVisibleChange(a))}),G(2,CFe,2,0)(3,LFe,3,1),E(4,XFe,2,2,"ng-template",null,1,ie),b()}t&2&&(De(o.style),f("pt",o.pt)("visible",o.visible)("closable",o.option("closable"))("styleClass",o.cn(o.cx("root"),o.styleClass))("modal",o.option("modal"))("header",o.option("header"))("closeOnEscape",o.option("closeOnEscape"))("blockScroll",o.option("blockScroll"))("appendTo",o.option("appendTo"))("position",o.position)("dismissableMask",o.dismissableMask)("draggable",o.draggable)("baseZIndex",o.baseZIndex)("autoZIndex",o.autoZIndex)("maskStyleClass",o.cn(o.cx("mask"),o.maskStyleClass)),p(2),H(o.headlessTemplate||o._headlessTemplate?2:3))},dependencies:[Qe,$t,pt,gt,bt,Ut,Oe,pe],encapsulation:2,data:{animation:[vn("animation",[li("void => visible",[bd(eLe)]),li("visible => void",[bd(tLe)])])]},changeDetection:0})}return i})(),dL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[iLe,Oe,Oe]})}return i})();var OJ=`
    .p-tree {
        display: block;
        background: dt('tree.background');
        color: dt('tree.color');
        padding: dt('tree.padding');
    }

    .p-tree-root-children,
    .p-tree-node-children {
        display: flex;
        list-style-type: none;
        flex-direction: column;
        margin: 0;
        gap: dt('tree.gap');
    }

    .p-tree-root-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
    }

    .p-tree-node-children {
        padding: 0;
        padding-block-start: dt('tree.gap');
        padding-inline-start: dt('tree.indent');
    }

    .p-tree-node {
        padding: 0;
        outline: 0 none;
    }

    .p-tree-node-content {
        border-radius: dt('tree.node.border.radius');
        padding: dt('tree.node.padding');
        display: flex;
        align-items: center;
        outline-color: transparent;
        color: dt('tree.node.color');
        gap: dt('tree.node.gap');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
    }

    .p-tree-node-content[data-p-dragging] {
        outline: 1px dashed dt('primary.color');
        outline-offset: -1px;
    }

    .p-tree-node-content[data-pc-section="drag-image"] {
        background: dt('tree.background');
    }

    .p-tree-node:focus-visible > .p-tree-node-content {
        box-shadow: dt('tree.node.focus.ring.shadow');
        outline: dt('tree.node.focus.ring.width') dt('tree.node.focus.ring.style') dt('tree.node.focus.ring.color');
        outline-offset: dt('tree.node.focus.ring.offset');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-content.p-tree-node-selectable:not(.p-tree-node-selected):hover .p-tree-node-icon {
        color: dt('tree.node.icon.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected {
        background: dt('tree.node.selected.background');
        color: dt('tree.node.selected.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button {
        color: inherit;
    }

    .p-tree-node-content.p-tree-node-dragover {
        background: dt('tree.node.hover.background');
        color: dt('tree.node.hover.color');
    }

    .p-tree-node-drop-point {
		outline: 1px solid dt('primary.color');
	}

    .p-tree-node-toggle-button {
        cursor: pointer;
        user-select: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        flex-shrink: 0;
        width: dt('tree.node.toggle.button.size');
        height: dt('tree.node.toggle.button.size');
        color: dt('tree.node.toggle.button.color');
        border: 0 none;
        background: transparent;
        border-radius: dt('tree.node.toggle.button.border.radius');
        transition:
            background dt('tree.transition.duration'),
            color dt('tree.transition.duration'),
            border-color dt('tree.transition.duration'),
            outline-color dt('tree.transition.duration'),
            box-shadow dt('tree.transition.duration');
        outline-color: transparent;
        padding: 0;
    }

    .p-tree-node-toggle-button:enabled:hover {
        background: dt('tree.node.toggle.button.hover.background');
        color: dt('tree.node.toggle.button.hover.color');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-toggle-button:hover {
        background: dt('tree.node.toggle.button.selected.hover.background');
        color: dt('tree.node.toggle.button.selected.hover.color');
    }

    .p-tree-root {
        overflow: auto;
    }

    .p-tree-node-selectable {
        cursor: pointer;
        user-select: none;
    }

    .p-tree-node-leaf > .p-tree-node-content .p-tree-node-toggle-button {
        visibility: hidden;
    }

    .p-tree-node-icon {
        color: dt('tree.node.icon.color');
        transition: color dt('tree.transition.duration');
    }

    .p-tree-node-content.p-tree-node-selected .p-tree-node-icon {
        color: dt('tree.node.icon.selected.color');
    }

    .p-tree-filter {
        margin: dt('tree.filter.margin');
    }

    .p-tree-filter-input {
        width: 100%;
    }

    .p-tree-loading {
        position: relative;
        height: 100%;
    }

    .p-tree-loading-icon {
        font-size: dt('tree.loading.icon.size');
        width: dt('tree.loading.icon.size');
        height: dt('tree.loading.icon.size');
    }

    .p-tree .p-tree-mask {
        position: absolute;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-tree-flex-scrollable {
        display: flex;
        flex: 1;
        height: 100%;
        flex-direction: column;
    }

    .p-tree-flex-scrollable .p-tree-root {
        flex: 1;
    }
`;var AJ=i=>({height:i}),nLe=(i,n)=>({$implicit:i,loading:n}),oLe=(i,n,e)=>({$implicit:i,partialSelected:n,class:e}),kJ=i=>({$implicit:i});function rLe(i,n){if(i&1&&N(0,"div",9),i&2){let e=h(2);j(e.cx("dropPoint")),f("pBind",e.getPTOptions("dropPoint")),ce("aria-hidden",!0)}}function sLe(i,n){if(i&1&&(xe(),N(0,"svg",13)),i&2){let e=h(4);j(e.cx("nodeToggleIcon")),f("pBind",e.getPTOptions("nodeToggleIcon"))}}function aLe(i,n){if(i&1&&(xe(),N(0,"svg",14)),i&2){let e=h(4);j(e.cx("nodeToggleIcon")),f("pBind",e.getPTOptions("nodeToggleIcon"))}}function lLe(i,n){if(i&1&&(we(0),E(1,sLe,1,3,"svg",11)(2,aLe,1,3,"svg",12),Ce()),i&2){let e=h(3);p(),f("ngIf",!e.node.expanded),p(),f("ngIf",e.node.expanded)}}function cLe(i,n){if(i&1&&(we(0),xe(),N(1,"svg",15),Ce()),i&2){let e=h(3);p(),j(e.cx("nodeToggleIcon")),f("pBind",e.getPTOptions("nodeToggleIcon"))}}function dLe(i,n){if(i&1&&(we(0),E(1,lLe,3,2,"ng-container",6)(2,cLe,2,3,"ng-container",6),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.node.loading),p(),f("ngIf",e.loadingMode==="icon"&&e.node.loading)}}function pLe(i,n){}function uLe(i,n){i&1&&E(0,pLe,0,0,"ng-template")}function hLe(i,n){if(i&1&&(_(0,"span",9),E(1,uLe,1,0,null,16),b()),i&2){let e=h(2);j(e.cx("nodeToggleIcon")),f("pBind",e.getPTOptions("nodeToggleIcon")),p(),f("ngTemplateOutlet",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate)("ngTemplateOutletContext",Ct(5,nLe,e.node.expanded,e.node.loading))}}function fLe(i,n){}function mLe(i,n){i&1&&E(0,fLe,0,0,"ng-template")}function gLe(i,n){if(i&1&&E(0,mLe,1,0,null,16),i&2){let e=h(4);f("ngTemplateOutlet",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)("ngTemplateOutletContext",ga(2,oLe,e.isSelected(),e.node.partialSelected,e.cx("nodeCheckbox")))}}function _Le(i,n){i&1&&(we(0),E(1,gLe,1,6,"ng-template",null,0,ie),Ce())}function bLe(i,n){if(i&1){let e=B();_(0,"p-checkbox",17),A("click",function(o){return w(e),C(o.preventDefault())}),E(1,_Le,3,0,"ng-container",6),b()}if(i&2){let e=h(2);f("ngModel",e.isSelected())("styleClass",e.cx("nodeCheckbox"))("binary",!0)("indeterminate",e.node.partialSelected)("disabled",e.node.selectable===!1)("variant",(e.tree==null?null:e.tree.config.inputStyle())==="filled"||(e.tree==null?null:e.tree.config.inputVariant())==="filled"?"filled":"outlined")("tabindex",-1)("pt",e.getPTOptions("pcNodeCheckbox")),ce("data-p-partialchecked",e.node.partialSelected),p(),f("ngIf",e.tree.checkboxIconTemplate||e.tree._checkboxIconTemplate)}}function yLe(i,n){if(i&1&&N(0,"span",9),i&2){let e=h(2);j(e.getIcon()),f("pBind",e.getPTOptions("nodeIcon"))}}function vLe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2);p(),Q(e.node.label)}}function wLe(i,n){i&1&&ve(0)}function CLe(i,n){if(i&1&&(_(0,"span"),E(1,wLe,1,0,"ng-container",16),b()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.tree.getTemplateForNode(e.node))("ngTemplateOutletContext",de(2,kJ,e.node))}}function SLe(i,n){if(i&1&&N(0,"div",9),i&2){let e=h(2);j(e.cx("dropPoint")),f("pBind",e.getPTOptions("dropPoint")),ce("aria-hidden",!0)}}function ILe(i,n){if(i&1&&N(0,"p-treeNode",20),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(3);f("node",e)("parentNode",s.node)("firstChild",t)("lastChild",o)("index",r)("itemSize",s.itemSize)("level",s.level+1)("loadingMode",s.loadingMode)("pt",s.pt)("unstyled",s.unstyled())}}function ELe(i,n){if(i&1&&(_(0,"ul",18),E(1,ILe,1,10,"p-treeNode",19),b()),i&2){let e=h(2);j(e.cx("nodeChildren")),f("pBind",e.ptm("nodeChildren")),p(),f("ngForOf",e.node.children)("ngForTrackBy",e.tree.trackBy.bind(e))}}function xLe(i,n){if(i&1){let e=B();_(0,"li",2),A("keydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))}),G(1,rLe,1,4,"div",3),_(2,"div",4),A("click",function(o){w(e);let r=h();return C(r.onNodeClick(o))})("contextmenu",function(o){w(e);let r=h();return C(r.onNodeRightClick(o))})("dblclick",function(o){w(e);let r=h();return C(r.onNodeDblClick(o))})("touchend",function(){w(e);let o=h();return C(o.onNodeTouchEnd())})("drop",function(o){w(e);let r=h();return C(r.onNodeDrop(o))})("dragstart",function(o){w(e);let r=h();return C(r.onNodeDragStart(o))})("dragover",function(o){w(e);let r=h();return C(r.onNodeDragOver(o))})("dragleave",function(o){w(e);let r=h();return C(r.onNodeDragLeave(o))})("dragend",function(o){w(e);let r=h();return C(r.onNodeDragEnd(o))}),_(3,"button",5),A("click",function(o){w(e);let r=h();return C(r.toggle(o))}),E(4,dLe,3,2,"ng-container",6)(5,hLe,2,8,"span",7),b(),E(6,bLe,2,10,"p-checkbox",8)(7,yLe,1,3,"span",7),_(8,"span",9),E(9,vLe,2,1,"span",6)(10,CLe,2,4,"span",6),b()(),G(11,SLe,1,4,"div",3),E(12,ELe,2,5,"ul",10),b()}if(i&2){let e=h();De(e.node.style),j(e.cn(e.cx("node"),e.node.styleClass)),f("ngStyle",de(36,AJ,e.itemSize+"px"))("pBind",e.getPTOptions("node")),ce("aria-label",e.node.label)("aria-checked",e.checked)("aria-setsize",e.node.children?e.node.children.length:0)("aria-selected",e.selected)("aria-expanded",e.node.expanded)("aria-posinset",e.index+1)("aria-level",e.level+1)("tabindex",e.index===0?0:-1)("data-id",e.node.key),p(),H(e.isPrevDropPointActive()?1:-1),p(),j(e.cx("nodeContent")),Kt("padding-left",e.level*e.indentation+"rem"),f("draggable",e.tree.draggableNodes)("pBind",e.getPTOptions("nodeContent")),p(),j(e.cx("nodeToggleButton")),f("pBind",e.getPTOptions("nodeToggleButton")),p(),f("ngIf",!e.tree.togglerIconTemplate&&!e.tree._togglerIconTemplate),p(),f("ngIf",e.tree.togglerIconTemplate||e.tree._togglerIconTemplate),p(),f("ngIf",e.tree.selectionMode=="checkbox"),p(),f("ngIf",e.node.icon||e.node.expandedIcon||e.node.collapsedIcon),p(),j(e.cx("nodeLabel")),f("pBind",e.getPTOptions("nodeLabel")),p(),f("ngIf",!e.tree.getTemplateForNode(e.node)),p(),f("ngIf",e.tree.getTemplateForNode(e.node)),p(),H(e.isNextDropPointActive()?11:-1),p(),f("ngIf",!e.tree.virtualScroll&&e.node.children&&e.node.expanded)}}var RJ=["filter"],TLe=["node"],OLe=["header"],RLe=["footer"],DLe=["loader"],PLe=["empty"],ALe=["togglericon"],kLe=["checkboxicon"],NLe=["loadingicon"],FLe=["filtericon"],LLe=["scroller"],MLe=["wrapper"],BLe=["content"],VLe=i=>({options:i});function ULe(i,n){if(i&1&&N(0,"i",11),i&2){let e=h(2);j(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon)),f("pBind",e.ptm("loadingIcon"))}}function jLe(i,n){if(i&1&&(xe(),N(0,"svg",13)),i&2){let e=h(3);j(e.cx("loadingIcon")),f("pBind",e.ptm("loadingIcon"))}}function GLe(i,n){}function HLe(i,n){i&1&&E(0,GLe,0,0,"ng-template")}function zLe(i,n){if(i&1&&(_(0,"span",11),E(1,HLe,1,0,null,8),b()),i&2){let e=h(3);j(e.cx("loadingIcon")),f("pBind",e.ptm("loadingIcon")),p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function WLe(i,n){if(i&1&&(we(0),E(1,jLe,1,3,"svg",12)(2,zLe,2,4,"span",7),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),p(),f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function $Le(i,n){if(i&1&&(_(0,"div",11),tg("p-overlay-mask-leave-active"),eg("p-overlay-mask-enter-active"),E(1,ULe,1,3,"i",7)(2,WLe,3,2,"ng-container",10),b()),i&2){let e=h();j(e.cx("mask")),f("pBind",e.ptm("mask")),p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function KLe(i,n){i&1&&ve(0)}function qLe(i,n){i&1&&ve(0)}function JLe(i,n){if(i&1&&E(0,qLe,1,0,"ng-container",14),i&2){let e=h();f("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",de(2,kJ,e.filterOptions))}}function QLe(i,n){if(i&1&&(xe(),N(0,"svg",19)),i&2){let e=h(3);j(e.cx("filterIcon")),f("pBind",e.ptm("filterIcon"))}}function YLe(i,n){}function XLe(i,n){i&1&&E(0,YLe,0,0,"ng-template")}function ZLe(i,n){if(i&1&&(_(0,"span",11),E(1,XLe,1,0,null,8),b()),i&2){let e=h(3);j(e.cx("filterIcon")),f("pBind",e.ptm("filterIcon")),p(),f("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function eMe(i,n){if(i&1){let e=B();_(0,"p-iconfield",16)(1,"input",17,0),A("keydown.enter",function(o){return w(e),C(o.preventDefault())})("input",function(o){w(e);let r=h(2);return C(r._filter(o.target==null?null:o.target.value))}),b(),_(3,"p-inputicon",16),E(4,QLe,1,3,"svg",18)(5,ZLe,2,4,"span",7),b()()}if(i&2){let e=h(2);j(e.cx("pcFilterContainer")),f("pt",e.ptm("pcFilterContainer"))("unstyled",e.unstyled()),p(),j(e.cx("pcFilterInput")),f("pAutoFocus",e.filterInputAutoFocus)("pt",e.ptm("pcFilterInput"))("unstyled",e.unstyled()),ce("placeholder",e.filterPlaceholder),p(2),f("pt",e.ptm("pcFilterIconContainer"))("unstyled",e.unstyled()),p(),f("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),p(),f("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function tMe(i,n){if(i&1&&E(0,eMe,6,14,"p-iconfield",15),i&2){let e=h();f("ngIf",e.filter)}}function iMe(i,n){if(i&1&&N(0,"p-treeNode",25,3),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(2).options,a=h(3);f("level",e.level)("rowNode",e)("node",e.node)("parentNode",e.parent)("firstChild",t)("lastChild",o)("index",a.getIndex(s,r))("itemSize",s.itemSize)("indentation",a.indentation)("loadingMode",a.loadingMode)("pt",a.pt)("unstyled",a.unstyled())}}function nMe(i,n){if(i&1&&(_(0,"ul",23,2),E(2,iMe,2,12,"p-treeNode",24),b()),i&2){let e=h(),t=e.$implicit,o=e.options,r=h(3);De(o.contentStyle),j(r.cx("rootChildren")),f("ngClass",o.contentStyleClass)("pBind",r.ptm("rootChildren")),ce("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy),p(2),f("ngForOf",t)("ngForTrackBy",r.trackBy)}}function oMe(i,n){if(i&1&&E(0,nMe,3,10,"ul",22),i&2){let e=n.$implicit;f("ngIf",e)}}function rMe(i,n){i&1&&ve(0)}function sMe(i,n){if(i&1&&E(0,rMe,1,0,"ng-container",14),i&2){let e=n.options,t=h(4);f("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",de(2,VLe,e))}}function aMe(i,n){i&1&&(we(0),E(1,sMe,1,4,"ng-template",null,4,ie),Ce())}function lMe(i,n){if(i&1){let e=B();_(0,"p-scroller",21,1),A("onScroll",function(o){w(e);let r=h(2);return C(r.onScroll.emit(o))})("onScrollIndexChange",function(o){w(e);let r=h(2);return C(r.onScrollIndexChange.emit(o))})("onLazyLoad",function(o){w(e);let r=h(2);return C(r.onLazyLoad.emit(o))}),E(2,oMe,1,1,"ng-template",null,2,ie)(4,aMe,3,0,"ng-container",10),b()}if(i&2){let e=h(2);De(de(12,AJ,e.scrollHeight!=="flex"?e.scrollHeight:void 0)),f("items",e.serializedValue)("tabindex",-1)("styleClass",e.cx("wrapper"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.virtualScrollItemSize)("lazy",e.lazy)("options",e.virtualScrollOptions)("pt",e.ptm("virtualScroller")),ce("data-p",e.wrapperDataP),p(4),f("ngIf",e.loaderTemplate||e._loaderTemplate)}}function cMe(i,n){if(i&1&&N(0,"p-treeNode",29),i&2){let e=n.$implicit,t=n.first,o=n.last,r=n.index,s=h(4);f("node",e)("firstChild",t)("lastChild",o)("index",r)("level",0)("loadingMode",s.loadingMode)("pt",s.pt)("unstyled",s.unstyled())}}function dMe(i,n){if(i&1&&(_(0,"ul",27,2),E(2,cMe,1,8,"p-treeNode",28),b()),i&2){let e=h(3);j(e.cx("rootChildren")),f("pBind",e.ptm("rootChildren")),ce("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),p(2),f("ngForOf",e.getRootNode())("ngForTrackBy",e.trackBy.bind(e))}}function pMe(i,n){if(i&1&&(we(0),_(1,"div",11,5),E(3,dMe,3,7,"ul",26),b(),Ce()),i&2){let e=h(2);p(),j(e.cx("wrapper")),Kt("max-height",e.scrollHeight),f("pBind",e.ptm("wrapper")),ce("data-p",e.wrapperDataP),p(2),f("ngIf",e.getRootNode())}}function uMe(i,n){if(i&1&&(we(0),E(1,lMe,5,14,"p-scroller",20)(2,pMe,4,7,"ng-container",10),Ce()),i&2){let e=h();p(),f("ngIf",e.virtualScroll),p(),f("ngIf",!e.virtualScroll)}}function hMe(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Y(" ",e.emptyMessageLabel," ")}}function fMe(i,n){}function mMe(i,n){i&1&&E(0,fMe,0,0,"ng-template",null,6,ie)}function gMe(i,n){if(i&1&&(_(0,"div",11),E(1,hMe,2,1,"ng-container",30)(2,mMe,2,0,null,8),b()),i&2){let e=h();j(e.cx("emptyMessage")),f("pBind",e.ptm("emptyMessage")),p(),f("ngIf",!e.emptyTemplate&&!e._emptyTemplate)("ngIfElse",e.emptyFilter),p(),f("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function _Me(i,n){i&1&&ve(0)}var bMe={root:({instance:i})=>["p-tree p-component",{"p-tree-selectable":i.selectionMode!=null,"p-tree-loading":i.loading,"p-tree-flex-scrollable":i.scrollHeight==="flex","p-tree-node-dragover":i.dragHover}],mask:"p-tree-mask p-overlay-mask",loadingIcon:"p-tree-loading-icon",pcFilterInput:"p-tree-filter-input",wrapper:"p-tree-root",rootChildren:"p-tree-root-children",node:({instance:i})=>({"p-tree-node":!0,"p-tree-node-leaf":i.isLeaf()}),nodeContent:({instance:i})=>({"p-tree-node-content":!0,"p-tree-node-selectable":i.selectable,"p-tree-node-dragover":i.isNodeDropActive(),"p-tree-node-selected":i.selectionMode==="checkbox"&&i.tree.highlightOnSelect?i.checked:i.selected}),nodeToggleButton:"p-tree-node-toggle-button",nodeToggleIcon:"p-tree-node-toggle-icon",nodeCheckbox:"p-tree-node-checkbox",nodeIcon:"p-tree-node-icon",nodeLabel:"p-tree-node-label",nodeChildren:"p-tree-node-children",emptyMessage:"p-tree-empty-message",dropPoint:"p-tree-node-drop-point"},lT=(()=>{class i extends Ye{name="tree";style=OJ;classes=bMe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var DJ=new he("TREE_INSTANCE"),PJ=new he("TREENODE_INSTANCE"),yMe=(()=>{class i extends Xe{$pcTreeNode=z(PJ,{optional:!0,skipSelf:!0})??void 0;static ICON_CLASS="p-tree-node-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree=z(Xt(()=>Ka));timeout;isPrevDropPointHovered=lt(!1);isNextDropPointHovered=lt(!1);isNodeDropHovered=lt(!1);isPrevDropPointActive=ct(()=>this.isPrevDropPointHovered()&&this.isDroppable());isNextDropPointActive=ct(()=>this.isNextDropPointHovered()&&this.isDroppable());isNodeDropActive=ct(()=>this.isNodeDropHovered()&&this.isNodeDroppable());dropPosition=ct(()=>this.isPrevDropPointActive()?-1:this.isNextDropPointActive()?1:0);_componentStyle=z(lT);_selected=ct(()=>(this.tree.selection(),this.tree.isSelected(this.node)));_contextMenuSelected=ct(()=>{let e=this.tree.contextMenuSelection();return!e||!this.node?!1:e===this.node||e.key&&e.key===this.node.key});get selected(){return this.tree.selectionMode==="single"||this.tree.selectionMode==="multiple"?this._selected():void 0}get checked(){return this.tree.selectionMode==="checkbox"?this._selected():void 0}get contextMenuSelected(){return this._contextMenuSelected()}get nodeClass(){return this.tree._componentStyle.classes.node({instance:this})}get selectable(){return this.node?.selectable===!1?!1:this.tree?.selectionMode!=null}get subNodes(){return this.node?.parent?this.node.parent.children:this.tree.value}getPTOptions(e){return this.ptm(e,{context:{node:this.node,index:this.index,expanded:this.node?.expanded,selected:this.selected,checked:this.checked,partialChecked:this.node?.partialSelected,contextMenuSelected:this.contextMenuSelected,leaf:this.isLeaf()}})}onInit(){this.node.parent=this.parentNode;let t=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!t&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let e;return this.node.icon?e=this.node.icon:e=this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,i.ICON_CLASS+" "+e+" p-tree-node-icon"}isLeaf(){return this.tree.isNodeLeaf(this.node)}isSelected(){return this._selected()}isContextMenuSelected(){return this._contextMenuSelected()}isSameNode(e){return e.currentTarget&&(e.currentTarget.isSameNode(e.target)||e.currentTarget.isSameNode(e.target.closest('[role="treeitem"]')))}isDraggable(){return this.tree.draggableNodes}isDroppable(){return this.tree.droppableNodes&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)}isNodeDroppable(){return this.node?.droppable!==!1&&this.isDroppable()}isNodeDraggable(){return this.node?.draggable!==!1&&this.isDraggable()}toggle(e){this.node.expanded?this.collapse(e):this.expand(e),e.stopPropagation()}expand(e){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:e,node:this.node})}collapse(e){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:e,node:this.node})}onNodeClick(e){this.tree.onNodeClick(e,this.node)}onNodeKeydown(e){e.key==="Enter"&&this.tree.onNodeClick(e,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(e){this.tree.onNodeRightClick(e,this.node)}onNodeDblClick(e){this.tree.onNodeDblClick(e,this.node)}insertNodeOnDrop(){let{dragNode:e,dragNodeIndex:t,dragNodeSubNodes:o}=this.tree;if(!this.node||t==null||!e||!o)return;let r=this.dropPosition(),s=this.subNodes||[],a=this.index||0,l=o===s?t>a?a:a-1:a;o.splice(t,1),r<0?s.splice(l,0,e):r>0?s.splice(l+1,0,e):(this.node.children=this.node.children||[],this.node.children.push(e)),this.tree.dragDropService.stopDrag({node:e,subNodes:s,index:t})}onNodeDrop(e){if(e.preventDefault(),e.stopPropagation(),this.isDroppable()){let{dragNode:t}=this.tree,o=this.dropPosition();(o!==0||o===0&&this.isNodeDroppable())&&(this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index,accept:()=>{this.insertNodeOnDrop()}}):(this.insertNodeOnDrop(),this.tree.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:this.node,index:this.index})))}this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragStart(e){if(this.isNodeDraggable()){e.dataTransfer.effectAllowed="all",e.dataTransfer?.setData("text","data");let t=e.currentTarget,o=t.cloneNode(!0),r=o.querySelector('[data-pc-section="nodetogglebutton"]'),s=o.querySelector('[data-pc-name="pcnodecheckbox"]');t.setAttribute("data-p-dragging","true"),o.style.width=Dn(t)+"px",o.style.height=vs(t)+"px",o.setAttribute("data-pc-section","drag-image"),r.style.visibility="hidden",s?.remove(),document.body.appendChild(o),e.dataTransfer?.setDragImage(o,0,0),setTimeout(()=>document.body.removeChild(o),0),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.subNodes,index:this.index,scope:this.tree.draggableScope})}else e.preventDefault()}onNodeDragOver(e){if(this.isDroppable()){e.dataTransfer.dropEffect="copy";let o=e.currentTarget.getBoundingClientRect(),r=e.clientY-parseInt(o.top);this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1),r<o.height*.25?this.isPrevDropPointHovered.set(!0):r>o.height*.75?this.isNextDropPointHovered.set(!0):this.isNodeDroppable()&&this.isNodeDropHovered.set(!0)}else e.dataTransfer.dropEffect="none";this.tree.droppableNodes&&(e.preventDefault(),e.stopPropagation())}onNodeDragLeave(){this.isPrevDropPointHovered.set(!1),this.isNextDropPointHovered.set(!1),this.isNodeDropHovered.set(!1)}onNodeDragEnd(e){e.currentTarget?.removeAttribute("data-p-dragging"),this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.subNodes,index:this.index})}onKeyDown(e){if(!(!this.isSameNode(e)||this.tree.contextMenu&&this.tree.contextMenu.containerViewChild?.nativeElement.style.display==="block"))switch(e.code){case"ArrowDown":this.onArrowDown(e);break;case"ArrowUp":this.onArrowUp(e);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnter(e);break;case"Tab":this.setAllNodesTabIndexes();break;default:break}}onArrowUp(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target.parentElement;if(t?.previousElementSibling)this.focusRowChange(t,t.previousElementSibling,this.findLastVisibleDescendant(t.previousElementSibling));else{let o=this.getParentNodeElement(t);o&&this.focusRowChange(t,o)}e.preventDefault()}onArrowDown(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target,o=t?.children[1];if(o&&o.children.length>0)this.focusRowChange(t,o.children[0]);else if(t?.parentElement?.nextElementSibling)this.focusRowChange(t,t.parentElement.nextElementSibling);else{let r=this.findNextSiblingOfAncestor(t?.parentElement);r&&this.focusRowChange(t,r)}e.preventDefault()}onArrowRight(e){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(e),e.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(e)},1)),e.preventDefault()}onArrowLeft(e){let t=e.target.getAttribute("data-pc-section")==="nodetogglebutton"?e.target.closest('[role="treeitem"]'):e.target;if(this.level===0&&!this.node?.expanded)return!1;if(this.node?.expanded){this.collapse(e);return}let o=this.getParentNodeElement(t?.parentElement);o&&this.focusRowChange(e.currentTarget,o),e.preventDefault()}onEnter(e){this.tree.onNodeClick(e,this.node),this.setTabIndexForSelectionMode(e,this.tree.nodeTouched),e.preventDefault()}setAllNodesTabIndexes(){let e=ir(this.tree.el.nativeElement,'[data-pc-section="node"]'),t=[...e].some(o=>o.getAttribute("aria-selected")==="true"||o.getAttribute("aria-checked")==="true");if([...e].forEach(o=>{o.tabIndex=-1}),t){let o=[...e].filter(r=>r.getAttribute("aria-selected")==="true"||r.getAttribute("aria-checked")==="true");o[0].tabIndex=0;return}e.length&&([...e][0].tabIndex=0)}setTabIndexForSelectionMode(e,t){if(this.tree.selectionMode!==null){let o=[...ir(this.tree.el.nativeElement,'[role="treeitem"]')];e.currentTarget.tabIndex=t===!1?-1:0,o.every(r=>r.tabIndex===-1)&&(o[0].tabIndex=0)}}findNextSiblingOfAncestor(e){let t=this.getParentNodeElement(e);return t?t.nextElementSibling?t.nextElementSibling:this.findNextSiblingOfAncestor(t):null}findLastVisibleDescendant(e){let o=Array.from(e.children).find(r=>r.getAttribute("data-pc-section")==="node")?.children[1];if(o&&o.children.length>0){let r=o.children[o.children.length-1];return this.findLastVisibleDescendant(r)}else return e}getParentNodeElement(e){let t=e.parentElement?.parentElement?.parentElement;return t?.tagName==="P-TREENODE"?t:null}focusNode(e){this.tree.droppableNodes?e.children[1].focus():e.children[0].focus()}focusRowChange(e,t,o){e.tabIndex="-1",t.children[0].tabIndex="0",this.focusNode(o||t)}focusVirtualNode(){this.timeout=setTimeout(()=>{let e=Et(this.tree?.contentViewChild?.nativeElement,`[data-id="${this.node?.key??this.node?.data}"]`);Di(e)},1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-treeNode"]],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",Z],index:[2,"index","index",Je],firstChild:[2,"firstChild","firstChild",Z],lastChild:[2,"lastChild","lastChild",Z],level:[2,"level","level",Je],indentation:[2,"indentation","indentation",Je],itemSize:[2,"itemSize","itemSize",Je],loadingMode:"loadingMode"},features:[Se([lT,{provide:PJ,useExisting:i},{provide:et,useExisting:i}]),re],decls:1,vars:1,consts:[["icon",""],["role","treeitem",3,"class","ngStyle","style","pBind"],["role","treeitem",3,"keydown","ngStyle","pBind"],[3,"class","pBind"],[3,"click","contextmenu","dblclick","touchend","drop","dragstart","dragover","dragleave","dragend","draggable","pBind"],["type","button","pRipple","","tabindex","-1",3,"click","pBind"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt","click",4,"ngIf"],[3,"pBind"],["role","group",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"class","pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"pBind"],["data-p-icon","chevron-down",3,"pBind"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"click","ngModel","styleClass","binary","indeterminate","disabled","variant","tabindex","pt"],["role","group",3,"pBind"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode","pt","unstyled"]],template:function(t,o){t&1&&G(0,xLe,13,38,"li",1),t&2&&H(o.node?0:-1)},dependencies:[i,Qe,Mn,pt,gt,ft,oo,or,rs,_i,Zi,vp,ll,cl,Oe,Pt,pe],encapsulation:2})}return i})(),Ka=(()=>{class i extends Xe{dragDropService;bindDirectiveInstance=z(pe,{self:!0});$pcTree=z(DJ,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}value;selectionMode;loadingMode="mask";selection=Tf(null);styleClass;contextMenu;contextMenuSelectionMode="separate";contextMenuSelection=Tf(null);draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterInputAutoFocus=!1;filterBy="label";filterMode="lenient";filterOptions;filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(e,t)=>t;highlightOnSelect=!1;onNodeSelect=new te;onNodeUnselect=new te;onNodeExpand=new te;onNodeCollapse=new te;onNodeContextMenuSelect=new te;onNodeDoubleClick=new te;onNodeDrop=new te;onLazyLoad=new te;onScroll=new te;onScrollIndexChange=new te;onFilter=new te;filterTemplate;nodeTemplate;headerTemplate;footerTemplate;loaderTemplate;emptyTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;filterViewChild;scroller;wrapperViewChild;contentViewChild;templates;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_togglerIconTemplate;_checkboxIconTemplate;_loadingIconTemplate;_filterIconTemplate;_filterTemplate;onAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"togglericon":this._togglerIconTemplate=e.template;break;case"checkboxicon":this._checkboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;default:this._templateMap[e.name]=e.template;break}})}serializedValue;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;_componentStyle=z(lT);handleDropEvent(e){this.onDrop(e)}handleDragOverEvent(e){this.onDragOver(e)}handleDragEnterEvent(){this.onDragEnter()}handleDragLeaveEvent(e){this.onDragLeave(e)}constructor(e){super(),this.dragDropService=e}onInit(){this.filterBy&&(this.filterOptions={filter:e=>this._filter(e),reset:()=>this.resetFilter()}),this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(e=>{this.dragNodeTree=e.tree,this.dragNode=e.node,this.dragNodeSubNodes=e.subNodes,this.dragNodeIndex=e.index,this.dragNodeScope=e.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(e=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}onChanges(e){e.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild?.nativeElement?.value))}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(xi.EMPTY_MESSAGE)}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(e,t,o,r){if(t&&t.length)for(let s of t){s.parent=e;let a={node:s,parent:e,level:o,visible:r&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,o+1,a.visible)}}onNodeClick(e,t){let r=e.target?.getAttribute?.("data-pc-section");if(!(r==="nodetogglebutton"||r==="nodetoggleicon")){if(this.selectionMode){if(t.selectable===!1){t.style="--p-focus-ring-color: none;";return}else t.style?.includes("--p-focus-ring-color")||(t.style=t.style?`${t.style}--p-focus-ring-color: var(--primary-color)`:"--p-focus-ring-color: var(--primary-color)");if(this.hasFilteredNodes()&&(t=this.getNodeWithKey(t.key,this.filteredNodes),!t))return;let s=this.findIndexInSelection(t),a=s>=0,l=this.selection();if(this.isCheckboxSelectionMode())a?(this.propagateSelectionDown?this.propagateDown(t,!1):this.selection.set(l.filter((c,d)=>d!=s)),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!1),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown?this.propagateDown(t,!0):this.selection.set([...l||[],t]),this.propagateSelectionUp&&t.parent&&this.propagateUp(t.parent,!0),this.onNodeSelect.emit({originalEvent:e,node:t}));else if(this.nodeTouched?!1:this.metaKeySelection){let d=e.metaKey||e.ctrlKey;if(a&&d)this.isSingleSelectionMode()?this.selection.set(null):this.selection.set(l.filter((u,m)=>m!=s)),this.onNodeUnselect.emit({originalEvent:e,node:t});else{if(this.isSingleSelectionMode())this.selection.set(t);else if(this.isMultipleSelectionMode()){let u=d?l||[]:[];this.selection.set([...u,t])}this.onNodeSelect.emit({originalEvent:e,node:t})}}else this.isSingleSelectionMode()?a?(this.selection.set(null),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set(t),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})})):a?(this.selection.set(l.filter((d,u)=>u!=s)),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.selection.set([...l||[],t]),setTimeout(()=>{this.onNodeSelect.emit({originalEvent:e,node:t})}))}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(e,t){if(this.contextMenu){let r=e.target.getAttribute("data-pc-section");if(r==="nodetogglebutton"||r==="nodetoggleicon")return;let a=this.findIndexInSelection(t)>=0,l=()=>{this.contextMenu.show(e),this.contextMenu.hideCallback=()=>{this.contextMenuSelection.set(null)},this.onNodeContextMenuSelect.emit({originalEvent:e,node:t})};this.contextMenuSelectionMode==="separate"?(this.contextMenuSelection.set(t),l()):this.contextMenuSelectionMode==="joint"&&(a||(this.isSingleSelectionMode()?this.selection.set(t):this.selection.set([t])),l())}}onNodeDblClick(e,t){this.onNodeDoubleClick.emit({originalEvent:e,node:t})}findIndexInSelection(e){let t=-1,o=this.selection();if(this.selectionMode&&o)if(this.isSingleSelectionMode()){let r=o;t=r.key&&r.key===e.key||r==e?0:-1}else{let r=o;for(let s=0;s<r.length;s++){let a=r[s];if(a.key&&a.key===e.key||a==e){t=s;break}}}return t}syncNodeOption(e,t,o,r){let s=this.hasFilteredNodes()?this.getNodeWithKey(e.key,t):null;s&&(s[o]=r||e[o])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(e,t){for(let o of t){if(o.key===e)return o;if(o.children){let r=this.getNodeWithKey(e,o.children);if(r)return r}}}propagateUp(e,t){if(e.children&&e.children.length){let r=0,s=!1;for(let l of e.children)this.isSelected(l)?r++:l.partialSelected&&(s=!0);let a=this.selection()||[];if(t&&r==e.children.length)this.selection.set([...a,e]),e.partialSelected=!1;else{if(!t){let l=this.findIndexInSelection(e);l>=0&&this.selection.set(a.filter((c,d)=>d!=l))}s||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}this.syncNodeOption(e,this.filteredNodes,"partialSelected")}let o=e.parent;o&&this.propagateUp(o,t)}propagateDown(e,t){let o=this.findIndexInSelection(e),r=this.selection()||[];if(t&&o==-1?this.selection.set([...r,e]):!t&&o>-1&&this.selection.set(r.filter((s,a)=>a!=o)),e.partialSelected=!1,this.syncNodeOption(e,this.filteredNodes,"partialSelected"),e.children&&e.children.length)for(let s of e.children)this.propagateDown(s,t)}isSelected(e){return this.findIndexInSelection(e)!=-1}isSingleSelectionMode(){return this.selectionMode&&this.selectionMode=="single"}isMultipleSelectionMode(){return this.selectionMode&&this.selectionMode=="multiple"}isCheckboxSelectionMode(){return this.selectionMode&&this.selectionMode=="checkbox"}isNodeLeaf(e){return e.leaf==!1?!1:!(e.children&&e.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(e){return this._templateMap?e.type?this._templateMap[e.type]:this._templateMap.default:null}onDragOver(e){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(e.dataTransfer.dropEffect="copy",e.preventDefault())}onDrop(e){if(this.droppableNodes){e.preventDefault();let t=this.dragNode;if(this.isSameTreeScope(this.dragNodeScope))return;if(this.allowDrop(t,null,this.dragNodeScope)){let o=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:o,accept:()=>{this.processTreeDrop(t,o)}}):(this.onNodeDrop.emit({originalEvent:e,dragNode:t,dropNode:null,index:o}),this.processTreeDrop(t,o))}}}processTreeDrop(e,t){this.dragNodeSubNodes.splice(t,1),this.value.push(e),this.dragDropService.stopDrag({node:e})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(e){if(this.droppableNodes){let t=e.currentTarget.getBoundingClientRect();(e.x>parseInt(t.left)+t.width||e.x<parseInt(t.left)||e.y>parseInt(t.top)+t.height||e.y<parseInt(t.top))&&(this.dragHover=!1)}}allowDrop(e,t,o){if(e)if(this.isValidDragScope(o)){let r=!0;if(t)if(e===t)r=!1;else{let s=t.parent;for(;s!=null;){if(s===e){r=!1;break}s=s.parent}}return r}else return!1;else return!1}hasCommonScope(e,t){if(typeof t=="string"){if(typeof e=="string")return t===e;if(Array.isArray(e))return e.indexOf(t)!=-1}else if(Array.isArray(t)){if(typeof e=="string")return t.indexOf(e)!=-1;if(Array.isArray(e)){for(let o of t)for(let r of e)if(o===r)return!0}}return!1}isSameTreeScope(e){return this.hasCommonScope(e,this.draggableScope)}isValidDragScope(e){let t=this.droppableScope;return t?this.hasCommonScope(e,t):!0}_filter(e){let t=e;if(t==="")this.filteredNodes=null;else{this.filteredNodes=[];let o=this.filterBy.split(","),r=ia(t).toLocaleLowerCase(this.filterLocale),s=this.filterMode==="strict";for(let a of this.value){let l=ee({},a),c={searchFields:o,filterText:r,isStrictMode:s};(s&&(this.findFilteredNodes(l,c)||this.isFilterMatched(l,c))||!s&&(this.isFilterMatched(l,c)||this.findFilteredNodes(l,c)))&&this.filteredNodes.push(l)}}this.updateSerializedValue(),this.onFilter.emit({filter:t,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(e){this.virtualScroll&&this.scroller?.scrollToIndex(e)}scrollTo(e){this.virtualScroll?this.scroller?.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}findFilteredNodes(e,t){if(e){let o=!1;if(e.children){let r=[...e.children];e.children=[];for(let s of r){let a=ee({},s);this.isFilterMatched(a,t)&&(o=!0,e.children.push(a))}}if(o)return e.expanded=!0,!0}}isFilterMatched(e,t){let{searchFields:o,filterText:r,isStrictMode:s}=t,a=!1;for(let l of o)ia(String(zi(e,l))).toLocaleLowerCase(this.filterLocale).indexOf(r)>-1&&(a=!0);return(!a||s&&!this.isNodeLeaf(e))&&(a=this.findFilteredNodes(e,{searchFields:o,filterText:r,isStrictMode:s})||a),a}getIndex(e,t){let o=e.getItemOptions;return o?o(t).index:t}getBlockableElement(){return this.el.nativeElement.children[0]}onDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}get containerDataP(){return this.cn({loading:this.loading,scrollable:this.scrollHeight==="flex"})}get wrapperDataP(){return this.cn({scrollable:this.scrollHeight==="flex"})}static \u0275fac=function(t){return new(t||i)(x(f8,8))};static \u0275cmp=oe({type:i,selectors:[["p-tree"]],contentQueries:function(t,o,r){if(t&1&&(se(r,RJ,4),se(r,TLe,4),se(r,OLe,4),se(r,RLe,4),se(r,DLe,4),se(r,PLe,4),se(r,ALe,4),se(r,kLe,4),se(r,NLe,4),se(r,FLe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.filterTemplate=s.first),W(s=$())&&(o.nodeTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.loaderTemplate=s.first),W(s=$())&&(o.emptyTemplate=s.first),W(s=$())&&(o.togglerIconTemplate=s.first),W(s=$())&&(o.checkboxIconTemplate=s.first),W(s=$())&&(o.loadingIconTemplate=s.first),W(s=$())&&(o.filterIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(RJ,5),_e(LLe,5),_e(MLe,5),_e(BLe,5)),t&2){let r;W(r=$())&&(o.filterViewChild=r.first),W(r=$())&&(o.scroller=r.first),W(r=$())&&(o.wrapperViewChild=r.first),W(r=$())&&(o.contentViewChild=r.first)}},hostVars:3,hostBindings:function(t,o){t&1&&A("drop",function(s){return o.handleDropEvent(s)})("dragover",function(s){return o.handleDragOverEvent(s)})("dragenter",function(){return o.handleDragEnterEvent()})("dragleave",function(s){return o.handleDragLeaveEvent(s)}),t&2&&(ce("data-p",o.containerDataP),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:[1,"selection"],styleClass:"styleClass",contextMenu:"contextMenu",contextMenuSelectionMode:"contextMenuSelectionMode",contextMenuSelection:[1,"contextMenuSelection"],draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",Z],droppableNodes:[2,"droppableNodes","droppableNodes",Z],metaKeySelection:[2,"metaKeySelection","metaKeySelection",Z],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",Z],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",Z],loading:[2,"loading","loading",Z],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",Z],filter:[2,"filter","filter",Z],filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",Z],filterBy:"filterBy",filterMode:"filterMode",filterOptions:"filterOptions",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",Z],virtualScroll:[2,"virtualScroll","virtualScroll",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",Je],_templateMap:"_templateMap",trackBy:"trackBy",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Z]},outputs:{selection:"selectionChange",contextMenuSelection:"contextMenuSelectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDoubleClick:"onNodeDoubleClick",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[Se([lT,{provide:DJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:7,vars:6,consts:[["filter",""],["scroller",""],["content",""],["treeNode",""],["loader",""],["wrapper",""],["emptyFilter",""],[3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"class","pt","unstyled"],[4,"ngIf"],[3,"pBind"],["data-p-icon","spinner","spin","",3,"class","pBind",4,"ngIf"],["data-p-icon","spinner","spin","",3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","pt","unstyled",4,"ngIf"],[3,"pt","unstyled"],["pInputText","","type","search","autocomplete","off",3,"keydown.enter","input","pAutoFocus","pt","unstyled"],["data-p-icon","search",3,"class","pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],["hostName","tree",3,"items","tabindex","styleClass","style","scrollHeight","itemSize","lazy","options","pt","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["hostName","tree",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","styleClass","scrollHeight","itemSize","lazy","options","pt"],["role","tree",3,"class","ngClass","style","pBind",4,"ngIf"],["role","tree",3,"ngClass","pBind"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode","pt","unstyled"],["role","tree",3,"class","pBind",4,"ngIf"],["role","tree",3,"pBind"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode","pt","unstyled"],[4,"ngIf","ngIfElse"]],template:function(t,o){if(t&1&&(E(0,$Le,3,5,"div",7)(1,KLe,1,0,"ng-container",8),G(2,JLe,1,4,"ng-container")(3,tMe,1,1,"p-iconfield",9),E(4,uMe,3,2,"ng-container",10)(5,gMe,3,6,"div",7)(6,_Me,1,0,"ng-container",8)),t&2){let r;f("ngIf",o.loading&&o.loadingMode==="mask"),p(),f("ngTemplateOutlet",o.headerTemplate||o._headerTemplate),p(),H(o.filterTemplate||o._filterTemplate?2:3),p(2),f("ngIf",(r=o.getRootNode())==null?null:r.length),p(),f("ngIf",!o.loading&&(o.getRootNode()==null||o.getRootNode().length===0)),p(),f("ngTemplateOutlet",o.footerTemplate||o._footerTemplate)}},dependencies:[Qe,$t,Mn,pt,gt,Fa,Oe,Nu,cl,si,rs,Vu,Uu,yMe,K1,fr,pe],encapsulation:2,changeDetection:0})}return i})(),pL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Ka,Oe,Oe]})}return i})();var NJ=`
    .p-textarea {
        font-family: inherit;
        font-feature-settings: inherit;
        font-size: 1rem;
        color: dt('textarea.color');
        background: dt('textarea.background');
        padding-block: dt('textarea.padding.y');
        padding-inline: dt('textarea.padding.x');
        border: 1px solid dt('textarea.border.color');
        transition:
            background dt('textarea.transition.duration'),
            color dt('textarea.transition.duration'),
            border-color dt('textarea.transition.duration'),
            outline-color dt('textarea.transition.duration'),
            box-shadow dt('textarea.transition.duration');
        appearance: none;
        border-radius: dt('textarea.border.radius');
        outline-color: transparent;
        box-shadow: dt('textarea.shadow');
    }

    .p-textarea:enabled:hover {
        border-color: dt('textarea.hover.border.color');
    }

    .p-textarea:enabled:focus {
        border-color: dt('textarea.focus.border.color');
        box-shadow: dt('textarea.focus.ring.shadow');
        outline: dt('textarea.focus.ring.width') dt('textarea.focus.ring.style') dt('textarea.focus.ring.color');
        outline-offset: dt('textarea.focus.ring.offset');
    }

    .p-textarea.p-invalid {
        border-color: dt('textarea.invalid.border.color');
    }

    .p-textarea.p-variant-filled {
        background: dt('textarea.filled.background');
    }

    .p-textarea.p-variant-filled:enabled:hover {
        background: dt('textarea.filled.hover.background');
    }

    .p-textarea.p-variant-filled:enabled:focus {
        background: dt('textarea.filled.focus.background');
    }

    .p-textarea:disabled {
        opacity: 1;
        background: dt('textarea.disabled.background');
        color: dt('textarea.disabled.color');
    }

    .p-textarea::placeholder {
        color: dt('textarea.placeholder.color');
    }

    .p-textarea.p-invalid::placeholder {
        color: dt('textarea.invalid.placeholder.color');
    }

    .p-textarea-fluid {
        width: 100%;
    }

    .p-textarea-resizable {
        overflow: hidden;
        resize: none;
    }

    .p-textarea-sm {
        font-size: dt('textarea.sm.font.size');
        padding-block: dt('textarea.sm.padding.y');
        padding-inline: dt('textarea.sm.padding.x');
    }

    .p-textarea-lg {
        font-size: dt('textarea.lg.font.size');
        padding-block: dt('textarea.lg.padding.y');
        padding-inline: dt('textarea.lg.padding.x');
    }
`;var vMe=`
    ${NJ}

    /* For PrimeNG */
    .p-textarea.ng-invalid.ng-dirty {
        border-color: dt('textarea.invalid.border.color');
    }
    .p-textarea.ng-invalid.ng-dirty::placeholder {
        color: dt('textarea.invalid.placeholder.color');
    }
`,wMe={root:({instance:i})=>["p-textarea p-component",{"p-filled":i.$filled(),"p-textarea-resizable ":i.autoResize,"p-variant-filled":i.$variant()==="filled","p-textarea-fluid":i.hasFluid,"p-inputfield-sm p-textarea-sm":i.pSize==="small","p-textarea-lg p-inputfield-lg":i.pSize==="large","p-invalid":i.invalid()}]},FJ=(()=>{class i extends Ye{name="textarea";style=vMe;classes=wMe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var LJ=new he("TEXTAREA_INSTANCE"),MJ=(()=>{class i extends qg{bindDirectiveInstance=z(pe,{self:!0});$pcTextarea=z(LJ,{optional:!0,skipSelf:!0})??void 0;autoResize;pSize;variant=qe();fluid=qe(void 0,{transform:Z});invalid=qe(void 0,{transform:Z});$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());onResize=new te;ngControlSubscription;_componentStyle=z(FJ);ngControl=z(os,{optional:!0,self:!0});pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}onInit(){this.ngControl&&(this.ngControlSubscription=this.ngControl.valueChanges.subscribe(()=>{this.updateState()}))}onAfterViewInit(){this.autoResize&&this.resize(),this.cd.detectChanges()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"])),this.autoResize&&this.resize(),this.writeModelValue(this.ngControl?.value??this.el.nativeElement.value)}onInput(e){this.writeModelValue(e.target?.value),this.updateState()}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.autoResize&&this.resize()}onDestroy(){this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275dir=ht({type:i,selectors:[["","pTextarea",""],["","pInputTextarea",""]],hostVars:2,hostBindings:function(t,o){t&1&&A("input",function(s){return o.onInput(s)}),t&2&&j(o.cx("root"))},inputs:{autoResize:[2,"autoResize","autoResize",Z],pSize:"pSize",variant:[1,"variant"],fluid:[1,"fluid"],invalid:[1,"invalid"]},outputs:{onResize:"onResize"},features:[Se([FJ,{provide:LJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})(),uL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var BJ=`
    .p-password {
        display: inline-flex;
        position: relative;
    }

    .p-password .p-password-overlay {
        min-width: 100%;
    }

    .p-password-meter {
        height: dt('password.meter.height');
        background: dt('password.meter.background');
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-label {
        height: 100%;
        width: 0;
        transition: width 1s ease-in-out;
        border-radius: dt('password.meter.border.radius');
    }

    .p-password-meter-weak {
        background: dt('password.strength.weak.background');
    }

    .p-password-meter-medium {
        background: dt('password.strength.medium.background');
    }

    .p-password-meter-strong {
        background: dt('password.strength.strong.background');
    }

    .p-password-fluid {
        display: flex;
    }

    .p-password-fluid .p-password-input {
        width: 100%;
    }

    .p-password-input::-ms-reveal,
    .p-password-input::-ms-clear {
        display: none;
    }

    .p-password-overlay {
        padding: dt('password.overlay.padding');
        background: dt('password.overlay.background');
        color: dt('password.overlay.color');
        border: 1px solid dt('password.overlay.border.color');
        box-shadow: dt('password.overlay.shadow');
        border-radius: dt('password.overlay.border.radius');
    }

    .p-password-content {
        display: flex;
        flex-direction: column;
        gap: dt('password.content.gap');
    }

    .p-password-toggle-mask-icon {
        inset-inline-end: dt('form.field.padding.x');
        color: dt('password.icon.color');
        position: absolute;
        top: 50%;
        margin-top: calc(-1 * calc(dt('icon.size') / 2));
        width: dt('icon.size');
        height: dt('icon.size');
    }

    .p-password-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -0.5rem;
        cursor: pointer;
        inset-inline-end: dt('form.field.padding.x');
        color: dt('form.field.icon.color');
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-toggle-mask-icon) .p-password-clear-icon {
        inset-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-clear-icon) .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 2) + dt('icon.size'));
    }

    .p-password:has(.p-password-clear-icon):has(.p-password-toggle-mask-icon)  .p-password-input {
        padding-inline-end: calc((dt('form.field.padding.x') * 3) + calc(dt('icon.size') * 2));
    }

`;var SMe=["content"],IMe=["footer"],EMe=["header"],xMe=["clearicon"],TMe=["hideicon"],OMe=["showicon"],RMe=["input"],jJ=i=>({class:i}),DMe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),PMe=i=>({value:"visible",params:i}),AMe=i=>({width:i});function kMe(i,n){if(i&1){let e=B();xe(),_(0,"svg",9),A("click",function(){w(e);let o=h(2);return C(o.clear())}),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon"))}}function NMe(i,n){}function FMe(i,n){i&1&&E(0,NMe,0,0,"ng-template")}function LMe(i,n){if(i&1){let e=B();we(0),E(1,kMe,1,3,"svg",6),_(2,"span",7),A("click",function(){w(e);let o=h();return C(o.clear())}),E(3,FMe,1,0,null,8),b(),Ce()}if(i&2){let e=h();p(),f("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),p(),j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),p(),f("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function MMe(i,n){if(i&1){let e=B();xe(),_(0,"svg",12),A("click",function(){w(e);let o=h(3);return C(o.onMaskToggle())}),b()}if(i&2){let e=h(3);j(e.cx("maskIcon")),f("pBind",e.ptm("maskIcon"))}}function BMe(i,n){}function VMe(i,n){i&1&&E(0,BMe,0,0,"ng-template")}function UMe(i,n){if(i&1){let e=B();_(0,"span",7),A("click",function(){w(e);let o=h(3);return C(o.onMaskToggle())}),E(1,VMe,1,0,null,13),b()}if(i&2){let e=h(3);f("pBind",e.ptm("maskIcon")),p(),f("ngTemplateOutlet",e.hideIconTemplate||e._hideIconTemplate)("ngTemplateOutletContext",de(3,jJ,e.cx("maskIcon")))}}function jMe(i,n){if(i&1&&(we(0),E(1,MMe,1,3,"svg",10)(2,UMe,2,5,"span",11),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.hideIconTemplate&&!e._hideIconTemplate),p(),f("ngIf",e.hideIconTemplate||e._hideIconTemplate)}}function GMe(i,n){if(i&1){let e=B();xe(),_(0,"svg",15),A("click",function(){w(e);let o=h(3);return C(o.onMaskToggle())}),b()}if(i&2){let e=h(3);j(e.cx("unmaskIcon")),f("pBind",e.ptm("unmaskIcon"))}}function HMe(i,n){}function zMe(i,n){i&1&&E(0,HMe,0,0,"ng-template")}function WMe(i,n){if(i&1){let e=B();_(0,"span",7),A("click",function(){w(e);let o=h(3);return C(o.onMaskToggle())}),E(1,zMe,1,0,null,13),b()}if(i&2){let e=h(3);f("pBind",e.ptm("unmaskIcon")),p(),f("ngTemplateOutlet",e.showIconTemplate||e._showIconTemplate)("ngTemplateOutletContext",de(3,jJ,e.cx("unmaskIcon")))}}function $Me(i,n){if(i&1&&(we(0),E(1,GMe,1,3,"svg",14)(2,WMe,2,5,"span",11),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.showIconTemplate&&!e._showIconTemplate),p(),f("ngIf",e.showIconTemplate||e._showIconTemplate)}}function KMe(i,n){if(i&1&&(we(0),E(1,jMe,3,2,"ng-container",4)(2,$Me,3,2,"ng-container",4),Ce()),i&2){let e=h();p(),f("ngIf",e.unmasked),p(),f("ngIf",!e.unmasked)}}function qMe(i,n){i&1&&ve(0)}function JMe(i,n){i&1&&ve(0)}function QMe(i,n){if(i&1&&(we(0),E(1,JMe,1,0,"ng-container",8),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function YMe(i,n){if(i&1&&(_(0,"div",17)(1,"div",17),N(2,"div",18),b(),_(3,"div",17),R(4),b()()),i&2){let e=h(2);j(e.cx("content")),f("pBind",e.ptm("content")),p(),j(e.cx("meter")),f("pBind",e.ptm("meter")),p(),j(e.cx("meterLabel")),f("ngStyle",de(14,AMe,e.meter?e.meter.width:""))("pBind",e.ptm("meterLabel")),p(),j(e.cx("meterText")),f("pBind",e.ptm("meterText")),p(),Q(e.infoText)}}function XMe(i,n){i&1&&ve(0)}function ZMe(i,n){if(i&1){let e=B();_(0,"div",7,1),A("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onAnimationEnd(o))}),E(2,qMe,1,0,"ng-container",8)(3,QMe,2,1,"ng-container",16)(4,YMe,5,16,"ng-template",null,2,ie)(6,XMe,1,0,"ng-container",8),b()}if(i&2){let e=Ze(5),t=h();De(t.sx("overlay")),j(t.cx("overlay")),f("@overlayAnimation",de(13,PMe,Ct(10,DMe,t.showTransitionOptions,t.hideTransitionOptions)))("pBind",t.ptm("overlay")),p(2),f("ngTemplateOutlet",t.headerTemplate||t._headerTemplate),p(),f("ngIf",t.contentTemplate||t._contentTemplate)("ngIfElse",e),p(3),f("ngTemplateOutlet",t.footerTemplate||t._footerTemplate)}}var e3e=`
    ${BJ}

    /* For PrimeNG */
    p-password.ng-invalid.ng-dirty .p-inputtext {
        border-color: dt('inputtext.invalid.border.color');
    }

    p-password.ng-invalid.ng-dirty .p-inputtext:enabled:focus {
        border-color: dt('inputtext.focus.border.color');
    }

    p-password.ng-invalid.ng-dirty .p-inputtext::placeholder {
        color: dt('inputtext.invalid.placeholder.color');
    }

    .p-password-fluid-directive {
        width: 100%;
    }
`,t3e={root:({instance:i})=>({position:i.$appendTo()==="self"?"relative":void 0}),overlay:{position:"absolute"}},i3e={root:({instance:i})=>["p-password p-component p-inputwrapper",{"p-inputwrapper-filled":i.$filled(),"p-variant-filled":i.$variant()==="filled","p-inputwrapper-focus":i.focused,"p-password-fluid":i.hasFluid}],rootDirective:({instance:i})=>["p-password p-inputtext p-component p-inputwrapper",{"p-inputwrapper-filled":i.$filled(),"p-variant-filled":i.$variant()==="filled","p-password-fluid-directive":i.hasFluid}],pcInputText:"p-password-input",maskIcon:"p-password-toggle-mask-icon p-password-mask-icon",unmaskIcon:"p-password-toggle-mask-icon p-password-unmask-icon",overlay:"p-password-overlay p-component",content:"p-password-content",meter:"p-password-meter",meterLabel:({instance:i})=>`p-password-meter-label ${i.meter?"p-password-meter-"+i.meter.strength:""}`,meterText:"p-password-meter-text",clearIcon:"p-password-clear-icon"},cT=(()=>{class i extends Ye{name="password";style=e3e;classes=i3e;inlineStyles=t3e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var VJ=new he("PASSWORD_DIRECTIVE_INSTANCE"),UJ=new he("PASSWORD_INSTANCE"),dT=(()=>{class i extends Gr{zone;bindDirectiveInstance=z(pe,{self:!0});$pcPasswordDirective=z(VJ,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}promptLabel="Enter a password";weakLabel="Weak";mediumLabel="Medium";strongLabel="Strong";feedback=!0;set showPassword(e){this.el.nativeElement.type=e?"text":"password"}variant=qe();fluid=qe(void 0,{transform:Z});size=qe(void 0,{alias:"pSize"});pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());get hasFluid(){return this.fluid()??!!this.pcFluid}panel;meter;info;filled;content;label;scrollHandler;documentResizeListener;_componentStyle=z(cT);constructor(e){super(),this.zone=e}onInput(e){this.writeModelValue(this.el.nativeElement.value)}createPanel(){At(this.platformId)&&(this.panel=this.renderer.createElement("div"),this.renderer.addClass(this.panel,"p-password-overlay"),this.renderer.addClass(this.panel,"p-component"),this.content=this.renderer.createElement("div"),this.renderer.addClass(this.content,"p-password-content"),this.renderer.appendChild(this.panel,this.content),this.meter=this.renderer.createElement("div"),this.renderer.addClass(this.meter,"p-password-meter"),this.renderer.appendChild(this.content,this.meter),this.label=this.renderer.createElement("div"),this.renderer.addClass(this.label,"p-password-meter-label"),this.renderer.appendChild(this.meter,this.label),this.info=this.renderer.createElement("div"),this.renderer.addClass(this.info,"p-password-meter-text"),this.renderer.setProperty(this.info,"textContent",this.promptLabel),this.renderer.appendChild(this.content,this.info),this.renderer.setStyle(this.panel,"minWidth",`${this.el.nativeElement.offsetWidth}px`),this.renderer.appendChild(document.body,this.panel),this.updateMeter())}showOverlay(){this.feedback&&(this.panel||this.createPanel(),this.renderer.setStyle(this.panel,"zIndex",String(++st.zindex)),this.renderer.setStyle(this.panel,"display","block"),this.zone.runOutsideAngular(()=>{setTimeout(()=>{fo(this.panel,"p-connected-overlay-visible"),this.bindScrollListener(),this.bindDocumentResizeListener()},1)}),rl(this.panel,this.el.nativeElement))}hideOverlay(){this.feedback&&this.panel&&(fo(this.panel,"p-connected-overlay-hidden"),hr(this.panel,"p-connected-overlay-visible"),this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.onDestroy()},150)}))}onFocus(){this.showOverlay()}onBlur(){this.hideOverlay()}labelSignal=lt("");onKeyup(e){if(this.feedback){let o=e.target.value,r=null,s=null;if(o.length===0)r=this.promptLabel,s="0px 0px";else{var t=this.testStrength(o);t<30?(r=this.weakLabel,s="0px -10px"):t>=30&&t<80?(r=this.mediumLabel,s="0px -20px"):t>=80&&(r=this.strongLabel,s="0px -30px"),this.labelSignal.set(r),this.updateMeter()}(!this.panel||!no(this.panel,"p-connected-overlay-visible"))&&this.showOverlay(),this.meter&&this.renderer.setStyle(this.meter,"backgroundPosition",s),this.info&&(this.info.textContent=r)}}updateMeter(){if(this.labelSignal()&&this.meter&&this.info){let e=this.labelSignal(),t=this.strengthClass(e.toLowerCase()),o=this.getWidth(e.toLowerCase());this.renderer.addClass(this.meter,t),this.renderer.setStyle(this.meter,"width",o),this.info.textContent=e}}getWidth(e){return e==="weak"?"33.33%":e==="medium"?"66.66%":e==="strong"?"100%":""}strengthClass(e){return`p-password-meter${e?`-${e}`:""}`}testStrength(e){let t=0,o;return o=e.match("[0-9]"),t+=this.normalize(o?o.length:1/4,1)*25,o=e.match("[a-zA-Z]"),t+=this.normalize(o?o.length:1/2,3)*10,o=e.match("[!@#$%^&*?_~.,;=]"),t+=this.normalize(o?o.length:1/6,1)*35,o=e.match("[A-Z]"),t+=this.normalize(o?o.length:1/6,1)*30,t*=e.length/8,t>100?100:t}normalize(e,t){return e-t<=0?e/t:1+.5*(e/(e+t/4))}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.el.nativeElement,()=>{no(this.panel,"p-connected-overlay-visible")&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentResizeListener(){if(At(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){Sr()||this.hideOverlay()}onDestroy(){this.panel&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindDocumentResizeListener(),this.renderer.removeChild(this.document.body,this.panel),this.panel=null,this.meter=null,this.info=null)}static \u0275fac=function(t){return new(t||i)(x(Ft))};static \u0275dir=ht({type:i,selectors:[["","pPassword",""]],hostVars:2,hostBindings:function(t,o){t&1&&A("input",function(s){return o.onInput(s)})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()})("keyup",function(s){return o.onKeyup(s)}),t&2&&j(o.cx("rootDirective"))},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:[2,"feedback","feedback",Z],showPassword:"showPassword",variant:[1,"variant"],fluid:[1,"fluid"],size:[1,"pSize","size"]},features:[Se([cT,{provide:VJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re]})}return i})();var n3e={provide:Bn,useExisting:Xt(()=>pT),multi:!0},pT=(()=>{class i extends Bu{bindDirectiveInstance=z(pe,{self:!0});$pcPassword=z(UJ,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}ariaLabel;ariaLabelledBy;label;promptLabel;mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})";strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})";weakLabel;mediumLabel;maxLength;strongLabel;inputId;feedback=!0;toggleMask;inputStyleClass;styleClass;inputStyle;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autocomplete;placeholder;showClear=!1;autofocus;tabindex;appendTo=qe(void 0);onFocus=new te;onBlur=new te;onClear=new te;input;contentTemplate;footerTemplate;headerTemplate;clearIconTemplate;hideIconTemplate;showIconTemplate;templates;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());_contentTemplate;_footerTemplate;_headerTemplate;_clearIconTemplate;_hideIconTemplate;_showIconTemplate;overlayVisible=!1;meter;infoText;focused=!1;unmasked=!1;mediumCheckRegExp;strongCheckRegExp;resizeListener;scrollHandler;overlay;value=null;translationSubscription;_componentStyle=z(cT);overlayService=z(Ur);onInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"hideicon":this._hideIconTemplate=e.template;break;case"showicon":this._showIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,Bi.set("overlay",this.overlay,this.config.zIndex.overlay),this.$attrSelector&&this.overlay.setAttribute(this.$attrSelector,""),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null;break}}onAnimationEnd(e){switch(e.toState){case"void":Bi.clear(e.element);break}}appendContainer(){st.appendOverlay(this.overlay,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}alignOverlay(){this.overlay.style.minWidth=Dn(this.input.nativeElement)+"px",this.$appendTo()==="self"?dd(this.overlay,this.input?.nativeElement):rl(this.overlay,this.input?.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value)}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(e)}onKeyUp(e){if(this.feedback){let t=e.target.value;if(this.updateUI(t),e.code==="Escape"){this.overlayVisible&&(this.overlayVisible=!1);return}this.overlayVisible||(this.overlayVisible=!0)}}updateUI(e){let t=null,o=null;switch(this.testStrength(e)){case 1:t=this.weakText(),o={strength:"weak",width:"33.33%"};break;case 2:t=this.mediumText(),o={strength:"medium",width:"66.66%"};break;case 3:t=this.strongText(),o={strength:"strong",width:"100%"};break;default:t=this.promptText(),o=null;break}this.meter=o,this.infoText=t}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let t=0;return this.strongCheckRegExp?.test(e)?t=3:this.mediumCheckRegExp?.test(e)?t=2:e.length&&(t=1),t}bindScrollListener(){At(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new jr(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){if(At(this.platformId)&&!this.resizeListener){let e=this.document.defaultView;this.resizeListener=this.renderer.listen(e,"resize",()=>{this.overlayVisible&&!Sr()&&(this.overlayVisible=!1)})}}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}promptText(){return this.promptLabel||this.getTranslation(xi.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(xi.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(xi.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(xi.STRONG)}restoreAppend(){this.overlay&&this.$appendTo()&&(this.$appendTo()==="body"?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.$appendTo()).removeChild(this.overlay))}inputType(e){return e?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}writeControlValue(e,t){e===void 0?this.value=null:this.value=e,this.feedback&&this.updateUI(this.value||""),t(this.value),this.cd.markForCheck()}onDestroy(){this.overlay&&(Bi.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-password"]],contentQueries:function(t,o,r){if(t&1&&(se(r,SMe,4),se(r,IMe,4),se(r,EMe,4),se(r,xMe,4),se(r,TMe,4),se(r,OMe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.clearIconTemplate=s.first),W(s=$())&&(o.hideIconTemplate=s.first),W(s=$())&&(o.showIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&_e(RMe,5),t&2){let r;W(r=$())&&(o.input=r.first)}},hostVars:4,hostBindings:function(t,o){t&2&&(De(o.sx("root")),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:[2,"maxLength","maxLength",Je],strongLabel:"strongLabel",inputId:"inputId",feedback:[2,"feedback","feedback",Z],toggleMask:[2,"toggleMask","toggleMask",Z],inputStyleClass:"inputStyleClass",styleClass:"styleClass",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",placeholder:"placeholder",showClear:[2,"showClear","showClear",Z],autofocus:[2,"autofocus","autofocus",Z],tabindex:[2,"tabindex","tabindex",Je],appendTo:[1,"appendTo"]},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[Se([n3e,cT,{provide:UJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:5,vars:25,consts:[["input",""],["overlay",""],["content",""],["pInputText","",3,"input","focus","blur","keyup","pSize","ngStyle","value","variant","invalid","pAutoFocus","pt"],[4,"ngIf"],[3,"class","style","pBind","click",4,"ngIf"],["data-p-icon","times",3,"class","pBind","click",4,"ngIf"],[3,"click","pBind"],[4,"ngTemplateOutlet"],["data-p-icon","times",3,"click","pBind"],["data-p-icon","eyeslash",3,"class","pBind","click",4,"ngIf"],[3,"pBind","click",4,"ngIf"],["data-p-icon","eyeslash",3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","eye",3,"class","pBind","click",4,"ngIf"],["data-p-icon","eye",3,"click","pBind"],[4,"ngIf","ngIfElse"],[3,"pBind"],[3,"ngStyle","pBind"]],template:function(t,o){if(t&1){let r=B();_(0,"input",3,0),A("input",function(a){return w(r),C(o.onInput(a))})("focus",function(a){return w(r),C(o.onInputFocus(a))})("blur",function(a){return w(r),C(o.onInputBlur(a))})("keyup",function(a){return w(r),C(o.onKeyUp(a))}),b(),E(2,LMe,4,5,"ng-container",4)(3,KMe,3,2,"ng-container",4)(4,ZMe,7,15,"div",5)}t&2&&(j(o.cn(o.cx("pcInputText"),o.inputStyleClass)),f("pSize",o.size())("ngStyle",o.inputStyle)("value",o.value)("variant",o.$variant())("invalid",o.invalid())("pAutoFocus",o.autofocus)("pt",o.ptm("pcInputText")),ce("label",o.label)("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("id",o.inputId)("tabindex",o.tabindex)("type",o.unmasked?"text":"password")("placeholder",o.placeholder)("autocomplete",o.autocomplete)("name",o.name())("maxlength",o.maxlength()||o.maxLength)("minlength",o.minlength())("required",o.required()?"":void 0)("disabled",o.$disabled()?"":void 0),p(2),f("ngIf",o.showClear&&o.value!=null),p(),f("ngIf",o.toggleMask),p(),f("ngIf",o.overlayVisible))},dependencies:[Qe,pt,gt,ft,si,fr,ks,H8,G8,Oe,Pt,pe],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0,transform:"scaleY(0.8)"}),hi("{{showTransitionParams}}")]),li(":leave",[hi("{{hideTransitionParams}}",Yt({opacity:0}))])])]},changeDetection:0})}return i})(),hL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[pT,Oe,Pt,Oe,Pt]})}return i})();var HJ=`
    .p-fieldset {
        background: dt('fieldset.background');
        border: 1px solid dt('fieldset.border.color');
        border-radius: dt('fieldset.border.radius');
        color: dt('fieldset.color');
        padding: dt('fieldset.padding');
        margin: 0;
    }

    .p-fieldset-legend {
        background: dt('fieldset.legend.background');
        border-radius: dt('fieldset.legend.border.radius');
        border-width: dt('fieldset.legend.border.width');
        border-style: solid;
        border-color: dt('fieldset.legend.border.color');
        padding: dt('fieldset.legend.padding');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend {
        padding: 0;
    }

    .p-fieldset-toggle-button {
        cursor: pointer;
        user-select: none;
        overflow: hidden;
        position: relative;
        text-decoration: none;
        display: flex;
        gap: dt('fieldset.legend.gap');
        align-items: center;
        justify-content: center;
        padding: dt('fieldset.legend.padding');
        background: transparent;
        border: 0 none;
        border-radius: dt('fieldset.legend.border.radius');
        transition:
            background dt('fieldset.transition.duration'),
            color dt('fieldset.transition.duration'),
            outline-color dt('fieldset.transition.duration'),
            box-shadow dt('fieldset.transition.duration');
        outline-color: transparent;
    }

    .p-fieldset-legend-label {
        font-weight: dt('fieldset.legend.font.weight');
    }

    .p-fieldset-toggle-button:focus-visible {
        box-shadow: dt('fieldset.legend.focus.ring.shadow');
        outline: dt('fieldset.legend.focus.ring.width') dt('fieldset.legend.focus.ring.style') dt('fieldset.legend.focus.ring.color');
        outline-offset: dt('fieldset.legend.focus.ring.offset');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover {
        color: dt('fieldset.legend.hover.color');
        background: dt('fieldset.legend.hover.background');
    }

    .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.color');
        transition: color dt('fieldset.transition.duration');
    }

    .p-fieldset-toggleable > .p-fieldset-legend:hover .p-fieldset-toggle-icon {
        color: dt('fieldset.toggle.icon.hover.color');
    }

    .p-fieldset .p-fieldset-content {
        padding: dt('fieldset.content.padding');
    }
`;var o3e=["header"],r3e=["expandicon"],s3e=["collapseicon"],a3e=["content"],l3e=["*",[["p-header"]]],c3e=["*","p-header"],d3e=i=>({transitionParams:i,height:"0"}),p3e=i=>({value:"hidden",params:i}),u3e=i=>({transitionParams:i,height:"*"}),h3e=i=>({value:"visible",params:i});function f3e(i,n){if(i&1&&(xe(),N(0,"svg",10)),i&2){let e=h(3);j(e.cx("toggleIcon")),f("pBind",e.ptm("toggleIcon"))}}function m3e(i,n){i&1&&ve(0)}function g3e(i,n){if(i&1&&(_(0,"span",2),E(1,m3e,1,0,"ng-container",5),b()),i&2){let e=h(3);j(e.cx("toggleIcon")),f("pBind",e.ptm("toggleIcon")),p(),f("ngTemplateOutlet",e.expandIconTemplate||e._expandIconTemplate)}}function _3e(i,n){if(i&1&&(we(0),E(1,f3e,1,3,"svg",8)(2,g3e,2,4,"span",9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.expandIconTemplate&&!e._expandIconTemplate),p(),f("ngIf",e.expandIconTemplate||e._expandIconTemplate)}}function b3e(i,n){if(i&1&&(xe(),N(0,"svg",12)),i&2){let e=h(3);j(e.cx("toggleIcon")),f("pBind",e.ptm("toggleIcon")),ce("aria-hidden",!0)}}function y3e(i,n){i&1&&ve(0)}function v3e(i,n){if(i&1&&(_(0,"span",2),E(1,y3e,1,0,"ng-container",5),b()),i&2){let e=h(3);j(e.cx("toggleIcon")),f("pBind",e.ptm("toggleIcon")),p(),f("ngTemplateOutlet",e.collapseIconTemplate||e._collapseIconTemplate)}}function w3e(i,n){if(i&1&&(we(0),E(1,b3e,1,4,"svg",11)(2,v3e,2,4,"span",9),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.collapseIconTemplate&&!e._collapseIconTemplate),p(),f("ngIf",e.collapseIconTemplate||e._collapseIconTemplate)}}function C3e(i,n){i&1&&ve(0)}function S3e(i,n){if(i&1){let e=B();we(0),_(1,"button",6),A("click",function(o){w(e);let r=h();return C(r.toggle(o))})("keydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))}),E(2,_3e,3,2,"ng-container",7)(3,w3e,3,2,"ng-container",7)(4,C3e,1,0,"ng-container",5),b(),Ce()}if(i&2){let e=h(),t=Ze(4);p(),j(e.cx("toggleButton")),f("pBind",e.ptm("toggleButton")),ce("id",e.id+"_header")("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed)("aria-label",e.buttonAriaLabel),p(),f("ngIf",e.collapsed),p(),f("ngIf",!e.collapsed),p(),f("ngTemplateOutlet",t)}}function I3e(i,n){i&1&&ve(0)}function E3e(i,n){if(i&1&&(_(0,"span",2),R(1),b(),Ht(2,1),E(3,I3e,1,0,"ng-container",5)),i&2){let e=h();j(e.cx("legendLabel")),f("pBind",e.ptm("legendLabel")),p(),Q(e.legend),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function x3e(i,n){i&1&&ve(0)}var T3e=`
    ${HJ}

    /* For PrimeNG */
    .p-fieldset-collapsed > .p-fieldset-content-container,
    .p-fieldset-content-container.ng-animating {
        overflow: hidden;
    }
`,O3e={root:({instance:i})=>["p-fieldset p-component",{"p-fieldset-toggleable":i.toggleable,"p-fieldset-collapsed":i.collapsed&&i.toggleable}],legend:"p-fieldset-legend",legendLabel:"p-fieldset-legend-label",toggleButton:"p-fieldset-toggle-button",toggleIcon:"p-fieldset-toggle-icon",contentContainer:"p-fieldset-content-container",content:"p-fieldset-content"},zJ=(()=>{class i extends Ye{name="fieldset";style=T3e;classes=O3e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var WJ=new he("FIELDSET_INSTANCE"),qp=(()=>{class i extends Xe{$pcFieldset=z(WJ,{optional:!0,skipSelf:!0})??void 0;_componentStyle=z(zJ);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}get dataP(){return this.cn({toggleable:this.toggleable})}legend;toggleable;collapsed=!1;style;styleClass;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new te;onBeforeToggle=new te;onAfterToggle=new te;_id=Vt("pn_id_");get id(){return this._id}get buttonAriaLabel(){return this.legend}animating;headerTemplate;expandIconTemplate;collapseIconTemplate;contentTemplate;toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}_headerTemplate;_expandIconTemplate;_collapseIconTemplate;_contentTemplate;templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"expandicon":this._expandIconTemplate=e.template;break;case"collapseicon":this._collapseIconTemplate=e.template;break;case"content":this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-fieldset"]],contentQueries:function(t,o,r){if(t&1&&(se(r,o3e,4),se(r,r3e,4),se(r,s3e,4),se(r,a3e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.expandIconTemplate=s.first),W(s=$())&&(o.collapseIconTemplate=s.first),W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.templates=s)}},inputs:{legend:"legend",toggleable:[2,"toggleable","toggleable",Z],collapsed:[2,"collapsed","collapsed",Z],style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},features:[Se([zJ,{provide:WJ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:c3e,decls:9,vars:30,consts:[["legendContent",""],[3,"ngStyle","pBind"],[3,"pBind"],[4,"ngIf","ngIfElse"],["role","region",3,"pBind"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",3,"click","keydown","pBind"],[4,"ngIf"],["data-p-icon","plus",3,"class","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf"],["data-p-icon","plus",3,"pBind"],["data-p-icon","minus",3,"class","pBind",4,"ngIf"],["data-p-icon","minus",3,"pBind"]],template:function(t,o){if(t&1){let r=B();ci(l3e),_(0,"fieldset",1)(1,"legend",2),E(2,S3e,5,10,"ng-container",3)(3,E3e,4,5,"ng-template",null,0,ie),b(),_(5,"div",4),A("@fieldsetContent.done",function(){return w(r),C(o.onToggleDone())}),_(6,"div",2),Ht(7),E(8,x3e,1,0,"ng-container",5),b()()()}if(t&2){let r=Ze(4);j(o.cn(o.cx("root"),o.styleClass)),f("ngStyle",o.style)("pBind",o.ptm("root")),ce("id",o.id)("data-p",o.dataP),p(),j(o.cx("legend")),f("pBind",o.ptm("legend")),p(),f("ngIf",o.toggleable)("ngIfElse",r),p(3),j(o.cx("contentContainer")),f("pBind",o.ptm("contentContainer"))("@fieldsetContent",o.collapsed?de(24,p3e,de(22,d3e,o.transitionOptions)):de(28,h3e,de(26,u3e,o.animating?o.transitionOptions:"0ms"))),ce("id",o.id+"_content")("aria-labelledby",o.id+"_header")("aria-hidden",o.collapsed),p(),j(o.cx("content")),f("pBind",o.ptm("content")),p(2),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate)}},dependencies:[Qe,pt,gt,ft,$g,ku,Oe,Pt,pe],encapsulation:2,data:{animation:[vn("fieldsetContent",[nr("hidden",Yt({height:"0"})),nr("visible",Yt({height:"*"})),li("visible <=> hidden",[hi("{{transitionParams}}")]),li("void => *",hi(0))])]},changeDetection:0})}return i})(),fL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[qp,Oe,Pt,Oe,Pt]})}return i})();var mL;function R3e(){if(mL==null){let i=typeof document<"u"?document.head:null;mL=!!(i&&(i.createShadowRoot||i.attachShadow))}return mL}function hT(i){if(R3e()){let n=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function Yv(i){return i.composedPath?i.composedPath()[0]:i.target}function $J(i){return i.buttons===0||i.detail===0}function KJ(i){let n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!n&&n.identifier===-1&&(n.radiusX==null||n.radiusX===1)&&(n.radiusY==null||n.radiusY===1)}function fT(i,n=0){return D3e(i)?Number(i):arguments.length===2?n:0}function D3e(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Bc(i){return i instanceof Ei?i.nativeElement:i}var mT=new WeakMap,qJ=(()=>{class i{_appRef;_injector=z(hn);_environmentInjector=z(er);load(e){let t=this._appRef=this._appRef||this._injector.get(Xs),o=mT.get(t);o||(o={loaders:new Set,refs:[]},mT.set(t,o),t.onDestroy(()=>{mT.get(t)?.refs.forEach(r=>r.destroy()),mT.delete(t)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(YS(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var gL;try{gL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gL=!1}var _L=(()=>{class i{_platformId=z(wr);isBrowser=this._platformId?At(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||gL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var P3e=new he("cdk-dir-doc",{providedIn:"root",factory:A3e});function A3e(){return z(Ci)}var k3e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function N3e(i){let n=i?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?k3e.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var bL=(()=>{class i{get value(){return this.valueSignal()}valueSignal=lt("ltr");change=new te;constructor(){let e=z(P3e,{optional:!0});if(e){let t=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(N3e(t||o||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var F3e=20,JJ=(()=>{class i{_ngZone=z(Ft);_platform=z(_L);_renderer=z(il).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Le;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=F3e){return this._platform.isBrowser?new pi(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(Lm(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Dt()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let o=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Zo(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let o=Bc(t),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var L3e=20,QJ=(()=>{class i{_platform=z(_L);_listeners;_viewportSize;_change=new Le;_document=z(Ci);constructor(){let e=z(Ft),t=z(il).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[t.listen("window","resize",o),t.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+t,height:o,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),s=-r.top||e.body.scrollTop||t.scrollY||o.scrollTop||0,a=-r.left||e.body.scrollLeft||t.scrollX||o.scrollLeft||0;return{top:s,left:a}}change(e=L3e){return e>0?this._change.pipe(Lm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var YJ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({})}return i})();var yL={},XJ=(()=>{class i{_appId=z(hg);getId(e){return this._appId!=="ng"&&(e+=this._appId),yL.hasOwnProperty(e)||(yL[e]=0),`${e}${yL[e]++}`}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ZJ(i){return Array.isArray(i)?i:[i]}function CL(i){let n=i.cloneNode(!0),e=n.querySelectorAll("[id]"),t=i.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<e.length;o++)e[o].removeAttribute("id");return t==="canvas"?iQ(i,n):(t==="input"||t==="select"||t==="textarea")&&tQ(i,n),eQ("canvas",i,n,iQ),eQ("input, textarea, select",i,n,tQ),n}function eQ(i,n,e,t){let o=n.querySelectorAll(i);if(o.length){let r=e.querySelectorAll(i);for(let s=0;s<o.length;s++)t(o[s],r[s])}}var M3e=0;function tQ(i,n){n.type!=="file"&&(n.value=i.value),n.type==="radio"&&n.name&&(n.name=`mat-clone-${n.name}-${M3e++}`)}function iQ(i,n){let e=n.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}function OL(i){let n=i.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function SL(i,n,e){let{top:t,bottom:o,left:r,right:s}=i;return e>=t&&e<=o&&n>=r&&n<=s}function B3e(i,n){let e=n.left<i.left,t=n.left+n.width>i.right,o=n.top<i.top,r=n.top+n.height>i.bottom;return e||t||o||r}function ew(i,n,e){i.top+=n,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function nQ(i,n,e,t){let{top:o,right:r,bottom:s,left:a,width:l,height:c}=i,d=l*n,u=c*n;return t>o-u&&t<s+u&&e>a-d&&e<r+d}var gT=class{_document;positions=new Map;constructor(n){this._document=n}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:OL(e)})})}handleScroll(n){let e=Yv(n),t=this.positions.get(e);if(!t)return null;let o=t.scrollPosition,r,s;if(e===this._document){let c=this.getViewportScrollPosition();r=c.top,s=c.left}else r=e.scrollTop,s=e.scrollLeft;let a=o.top-r,l=o.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&ew(c.clientRect,a,l)}),o.top=r,o.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function gQ(i,n){let e=i.rootNodes;if(e.length===1&&e[0].nodeType===n.ELEMENT_NODE)return e[0];let t=n.createElement("div");return e.forEach(o=>t.appendChild(o)),t}function RL(i,n,e){for(let t in n)if(n.hasOwnProperty(t)){let o=n[t];o?i.setProperty(t,o,e?.has(t)?"important":""):i.removeProperty(t)}return i}function i0(i,n){let e=n?"":"none";RL(i.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function oQ(i,n,e){RL(i.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},e)}function _T(i,n){return n&&n!="none"?i+" "+n:i}function rQ(i,n){i.style.width=`${n.width}px`,i.style.height=`${n.height}px`,i.style.transform=tw(n.left,n.top)}function tw(i,n){return`translate3d(${Math.round(i)}px, ${Math.round(n)}px, 0)`}function sQ(i){let n=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*n}function V3e(i){let n=getComputedStyle(i),e=vL(n,"transition-property"),t=e.find(a=>a==="transform"||a==="all");if(!t)return 0;let o=e.indexOf(t),r=vL(n,"transition-duration"),s=vL(n,"transition-delay");return sQ(r[o])+sQ(s[o])}function vL(i,n){return i.getPropertyValue(n).split(",").map(t=>t.trim())}var U3e=new Set(["position"]),IL=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(n,e,t,o,r,s,a,l,c,d){this._document=n,this._rootElement=e,this._direction=t,this._initialDomRect=o,this._previewTemplate=r,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(n){this._preview=this._createPreview(),n.appendChild(this._preview),aQ(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(n){this._preview.style.transform=n}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(n){this._preview.classList.add(n)}getTransitionDuration(){return V3e(this._preview)}addEventListener(n,e){return this._renderer.listen(this._preview,n,e)}_createPreview(){let n=this._previewTemplate,e=this._previewClass,t=n?n.template:null,o;if(t&&n){let r=n.matchSize?this._initialDomRect:null,s=n.viewContainer.createEmbeddedView(t,n.context);s.detectChanges(),o=gQ(s,this._document),this._previewEmbeddedView=s,n.matchSize?rQ(o,r):o.style.transform=tw(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=CL(this._rootElement),rQ(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return RL(o.style,{"pointer-events":"none",margin:aQ(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},U3e),i0(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>o.classList.add(r)):o.classList.add(e)),o}};function aQ(i){return"showPopover"in i}var j3e={passive:!0},lQ={passive:!1},G3e={passive:!1,capture:!0},H3e=800,cQ="cdk-drag-placeholder",dQ=new Set(["position"]),EL=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=lt(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new Le;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=On.EMPTY;_pointerUpSubscription=On.EMPTY;_scrollSubscription=On.EMPTY;_resizeSubscription=On.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(n){n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(e=>i0(e,n)))}_disabled=!1;beforeStarted=new Le;started=new Le;released=new Le;ended=new Le;entered=new Le;exited=new Le;dropped=new Le;moved=this._moveEvents;data;constrainPosition;constructor(n,e,t,o,r,s,a){this._config=e,this._document=t,this._ngZone=o,this._viewportRuler=r,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(n).withParent(e.parentDragRef||null),this._parentPositions=new gT(t),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(t=>Bc(t)),this._handles.forEach(t=>i0(t,this.disabled)),this._toggleNativeDragInteractions();let e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){let e=Bc(n);if(e!==this._rootElement){this._removeRootElementListeners();let t=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[t.listen(e,"mousedown",this._pointerDown,lQ),t.listen(e,"touchstart",this._pointerDown,j3e),t.listen(e,"dragstart",this._nativeDragStart,lQ)]),this._initialTransform=void 0,this._rootElement=e}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?Bc(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&B3e(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let n=this._boundaryElement.getBoundingClientRect(),e=this._rootElement.getBoundingClientRect(),t=0,o=0;e.left<n.left?t=n.left-e.left:e.right>n.right&&(t=n.right-e.right),e.top<n.top?o=n.top-e.top:e.bottom>n.bottom&&(o=n.bottom-e.bottom);let r=this._activeTransform.x,s=this._activeTransform.y,a=r+t,l=s+o;this._rootElement.style.transform=tw(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),i0(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),i0(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){let n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){let n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=n=>{if(this.beforeStarted.next(),this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&this._initializeDragSequence(e,n)}else this.disabled||this._initializeDragSequence(this._rootElement,n)};_pointerMove=n=>{let e=this._getPointerPositionOnPage(n);if(!this._hasStartedDragging()){let o=Math.abs(e.x-this._pickupPositionOnPage.x),r=Math.abs(e.y-this._pickupPositionOnPage.y);if(o+r>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(n),l=this._dropContainer;if(!a){this._endDragSequence(n);return}(!l||!l.isDragging()&&!l.isReceiving())&&(n.cancelable&&n.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(n)))}return}n.cancelable&&n.preventDefault();let t=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(t),this._dropContainer)this._updateActiveDropContainer(t,e);else{let o=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,r=this._activeTransform;r.x=t.x-o.x+this._passiveTransform.x,r.y=t.y-o.y+this._passiveTransform.y,this._applyRootElementTransform(r.x,r.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:t,event:n,distance:this._getDragDistance(t),delta:this._pointerDirectionDelta})})};_pointerUp=n=>{this._endDragSequence(n)};_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:n}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let e=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){Xv(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let e=this._getShadowRoot(),t=this._dropContainer;if(e&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(e,"selectstart",z3e,G3e)}),t){let o=this._rootElement,r=o.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");r.insertBefore(a,o),this._initialTransform=o.style.transform||"",this._preview=new IL(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(r,e)),oQ(o,!1,dQ),this._document.body.appendChild(r.replaceChild(s,o)),this.started.next({source:this,event:n}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:n}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,e){this._parentDragRef&&e.stopPropagation();let t=this.isDragging(),o=Xv(e),r=!o&&e.button!==0,s=this._rootElement,a=Yv(e),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+H3e>Date.now(),c=o?KJ(e):$J(e);if(a&&a.draggable&&e.type==="mousedown"&&e.preventDefault(),t||r||l||c)return;if(this._handles.length){let m=s.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=OL(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,n,e);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(n){oQ(this._rootElement,!0,dQ),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let e=this._dropContainer,t=e.getItemIndex(this),o=this._getPointerPositionOnPage(n),r=this._getDragDistance(o),s=e._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:r,dropPoint:o,event:n}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r,dropPoint:o,event:n}),e.drop(this,t,this._initialIndex,this._initialContainer,s,r,o,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:e},{x:t,y:o}){let r=this._initialContainer._getSiblingContainerFromPosition(this,n,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(r,this._dropContainer,a),this._dropContainer=r,this._dropContainer.enter(this,n,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,o),this._dropContainer._sortItem(this,n,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,e):this._applyPreviewTransform(n-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let n=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);let e=this._preview.getTransitionDuration();return e===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let o=a=>{(!a||this._preview&&Yv(a)===this._preview.element&&a.propertyName==="transform")&&(s(),t(),clearTimeout(r))},r=setTimeout(o,e*1.5),s=this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let n=this._placeholderTemplate,e=n?n.template:null,t;return e?(this._placeholderRef=n.viewContainer.createEmbeddedView(e,n.context),this._placeholderRef.detectChanges(),t=gQ(this._placeholderRef,this._document)):t=CL(this._rootElement),t.style.pointerEvents="none",t.classList.add(cQ),t}_getPointerPositionInElement(n,e,t){let o=e===this._rootElement?null:e,r=o?o.getBoundingClientRect():n,s=Xv(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition(),l=s.pageX-r.left-a.left,c=s.pageY-r.top-a.top;return{x:r.left-n.left+l,y:r.top-n.top+c}}_getPointerPositionOnPage(n){let e=this._getViewportScrollPosition(),t=Xv(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=o,a.y=r,a.matrixTransform(s.inverse())}}return{x:o,y:r}}_getConstrainedPointerPosition(n){let e=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:o}=this.constrainPosition?this.constrainPosition(n,this,this._initialDomRect,this._pickupPositionInElement):n;if(this.lockAxis==="x"||e==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||e==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:r,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,u=a.bottom-(c-s),m=a.left+r,g=a.right-(l-r);t=pQ(t,m,g),o=pQ(o,d,u)}return{x:t,y:o}}_updatePointerDirectionDelta(n){let{x:e,y:t}=n,o=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),a=Math.abs(t-r.y);return s>this._config.pointerDirectionChangeThreshold&&(o.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(o.y=t>r.y?1:-1,r.y=t),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,i0(this._rootElement,n))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(n=>n()),this._rootElementCleanups=void 0}_applyRootElementTransform(n,e){let t=1/this.scale,o=tw(n*t,e*t),r=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=r.transform&&r.transform!="none"?r.transform:""),r.transform=_T(o,this._initialTransform)}_applyPreviewTransform(n,e){let t=this._previewTemplate?.template?void 0:this._initialTransform,o=tw(n,e);this._preview.setTransform(_T(o,t))}_getDragDistance(n){let e=this._pickupPositionOnPage;return e?{x:n.x-e.x,y:n.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:e}=this._passiveTransform;if(n===0&&e===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||t.width===0&&t.height===0)return;let r=o.left-t.left,s=t.right-o.right,a=o.top-t.top,l=t.bottom-o.bottom;o.width>t.width?(r>0&&(n+=r),s>0&&(n-=s)):n=0,o.height>t.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(n!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:n})}_getDragStartDelay(n){let e=this.dragStartDelay;return typeof e=="number"?e:Xv(n)?e.touch:e?e.mouse:0}_updateOnScroll(n){let e=this._parentPositions.handleScroll(n);if(e){let t=Yv(n);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&ew(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=hT(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,e){let t=this._previewContainer||"global";if(t==="parent")return n;if(t==="global"){let o=this._document;return e||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Bc(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=n=>{if(this._handles.length){let e=this._getTargetHandle(n);e&&!this._disabledHandles.has(e)&&!this.disabled&&n.preventDefault()}else this.disabled||n.preventDefault()};_getTargetHandle(n){return this._handles.find(e=>n.target&&(n.target===e||e.contains(n.target)))}_conditionallyInsertAnchor(n,e,t){if(n===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(e===this._initialContainer&&e.hasAnchor){let o=this._anchor??=CL(this._placeholder);o.classList.remove(cQ),o.classList.add("cdk-drag-anchor"),o.style.transform="",t?t.before(o):Bc(e.element).appendChild(o)}}};function pQ(i,n,e){return Math.max(n,Math.min(e,i))}function Xv(i){return i.type[0]==="t"}function z3e(i){i.preventDefault()}function yT(i,n,e){let t=uQ(n,i.length-1),o=uQ(e,i.length-1);if(t===o)return;let r=i[t],s=o<t?-1:1;for(let a=t;a!==o;a+=s)i[a]=i[a+s];i[o]=r}function uQ(i,n){return Math.max(0,Math.min(n,i))}var bT=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(n){this._dragDropRegistry=n}_previousSwap={drag:null,delta:0,overlaps:!1};start(n){this.withItems(n)}sort(n,e,t,o){let r=this._itemPositions,s=this._getItemIndexFromPointerPosition(n,e,t,o);if(s===-1&&r.length>0)return null;let a=this.orientation==="horizontal",l=r.findIndex(S=>S.drag===n),c=r[s],d=r[l].clientRect,u=c.clientRect,m=l>s?1:-1,g=this._getItemOffsetPx(d,u,m),y=this._getSiblingOffsetPx(l,r,m),v=r.slice();return yT(r,l,s),r.forEach((S,I)=>{if(v[I]===S)return;let P=S.drag===n,L=P?g:y,F=P?n.getPlaceholderElement():S.drag.getRootElement();S.offset+=L;let K=Math.round(S.offset*(1/S.drag.scale));a?(F.style.transform=_T(`translate3d(${K}px, 0, 0)`,S.initialTransform),ew(S.clientRect,0,L)):(F.style.transform=_T(`translate3d(0, ${K}px, 0)`,S.initialTransform),ew(S.clientRect,L,0))}),this._previousSwap.overlaps=SL(u,e,t),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?o.x:o.y,{previousIndex:l,currentIndex:s}}enter(n,e,t,o){let r=o==null||o<0?this._getItemIndexFromPointerPosition(n,e,t):o,s=this._activeDraggables,a=s.indexOf(n),l=n.getPlaceholderElement(),c=s[r];if(c===n&&(c=s[r+1]),!c&&(r==null||r===-1||r<s.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(r,0,n)}else this._element.appendChild(l),s.push(n);l.style.transform="",this._cacheItemPositions()}withItems(n){this._activeDraggables=n.slice(),this._cacheItemPositions()}withSortPredicate(n){this._sortPredicate=n}reset(){this._activeDraggables?.forEach(n=>{let e=n.getRootElement();if(e){let t=this._itemPositions.find(o=>o.drag===n)?.initialTransform;e.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(n){return this._getVisualItemPositions().findIndex(e=>e.drag===n)}getItemAtIndex(n){return this._getVisualItemPositions()[n]?.drag||null}updateOnScroll(n,e){this._itemPositions.forEach(({clientRect:t})=>{ew(t,n,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}withElementContainer(n){this._element=n}_cacheItemPositions(){let n=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(e=>{let t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:OL(t)}}).sort((e,t)=>n?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(n,e,t){let o=this.orientation==="horizontal",r=o?e.left-n.left:e.top-n.top;return t===-1&&(r+=o?e.width-n.width:e.height-n.height),r}_getSiblingOffsetPx(n,e,t){let o=this.orientation==="horizontal",r=e[n].clientRect,s=e[n+t*-1],a=r[o?"width":"height"]*t;if(s){let l=o?"left":"top",c=o?"right":"bottom";t===-1?a-=s.clientRect[l]-r[c]:a+=r[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(n,e){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,o=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let s=t[t.length-1].clientRect;return o?n>=s.right:e>=s.bottom}else{let s=t[0].clientRect;return o?n<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(n,e,t,o){let r=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===n)return!1;if(o){let c=r?o.x:o.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):t>=Math.floor(l.top)&&t<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,n)?-1:s}},xL=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(n,e){this._document=n,this._dragDropRegistry=e}start(n){let e=this._element.childNodes;this._relatedNodes=[];for(let t=0;t<e.length;t++){let o=e[t];this._relatedNodes.push([o,o.nextSibling])}this.withItems(n)}sort(n,e,t,o){let r=this._getItemIndexFromPointerPosition(n,e,t),s=this._previousSwap;if(r===-1||this._activeItems[r]===n)return null;let a=this._activeItems[r];if(s.drag===a&&s.overlaps&&s.deltaX===o.x&&s.deltaY===o.y)return null;let l=this.getItemIndex(n),c=n.getPlaceholderElement(),d=a.getRootElement();r>l?d.after(c):d.before(c),yT(this._activeItems,l,r);let u=this._getRootNode().elementFromPoint(e,t);return s.deltaX=o.x,s.deltaY=o.y,s.drag=a,s.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:r}}enter(n,e,t,o){let r=this._activeItems.indexOf(n);r>-1&&this._activeItems.splice(r,1);let s=o==null||o<0?this._getItemIndexFromPointerPosition(n,e,t):o;s===-1&&(s=this._getClosestItemIndexToPointer(n,e,t));let a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,n),a.getRootElement().before(n.getPlaceholderElement())):(this._activeItems.push(n),this._element.appendChild(n.getPlaceholderElement()))}withItems(n){this._activeItems=n.slice()}withSortPredicate(n){this._sortPredicate=n}reset(){let n=this._element,e=this._previousSwap;for(let t=this._relatedNodes.length-1;t>-1;t--){let[o,r]=this._relatedNodes[t];o.parentNode===n&&o.nextSibling!==r&&(r===null?n.appendChild(o):r.parentNode===n&&n.insertBefore(o,r))}this._relatedNodes=[],this._activeItems=[],e.drag=null,e.deltaX=e.deltaY=0,e.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(n){return this._activeItems.indexOf(n)}getItemAtIndex(n){return this._activeItems[n]||null}updateOnScroll(){this._activeItems.forEach(n=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}withElementContainer(n){n!==this._element&&(this._element=n,this._rootNode=void 0)}_getItemIndexFromPointerPosition(n,e,t){let o=this._getRootNode().elementFromPoint(Math.floor(e),Math.floor(t)),r=o?this._activeItems.findIndex(s=>{let a=s.getRootElement();return o===a||a.contains(o)}):-1;return r===-1||!this._sortPredicate(r,n)?-1:r}_getRootNode(){return this._rootNode||(this._rootNode=hT(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(n,e,t){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,r=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==n){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(e-l,t-c);d<o&&(o=d,r=s)}}return r}},hQ=.05,_Q=.05,ql=(function(i){return i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i})(ql||{}),Ea=(function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i})(Ea||{}),TL=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new Le;entered=new Le;exited=new Le;dropped=new Le;sorted=new Le;receivingStarted=new Le;receivingStopped=new Le;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=On.EMPTY;_verticalScrollDirection=ql.NONE;_horizontalScrollDirection=Ea.NONE;_scrollNode;_stopScrollTimers=new Le;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(n,e,t,o,r){this._dragDropRegistry=e,this._ngZone=o,this._viewportRuler=r;let s=this.element=Bc(n);this._document=t,this.withOrientation("vertical").withElementContainer(s),e.registerDropContainer(this),this._parentPositions=new gT(t)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,e,t,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(n)),this._sortStrategy.enter(n,e,t,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,e,t,o,r,s,a,l={}){this._reset(),this.dropped.next({item:n,currentIndex:e,previousIndex:t,container:this,previousContainer:o,isPointerOverContainer:r,distance:s,dropPoint:a,event:l})}withItems(n){let e=this._draggables;return this._draggables=n,n.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(o=>o.isDragging()).every(o=>n.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(n){return this._direction=n,this._sortStrategy instanceof bT&&(this._sortStrategy.direction=n),this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){if(n==="mixed")this._sortStrategy=new xL(this._document,this._dragDropRegistry);else{let e=new bT(this._dragDropRegistry);e.direction=this._direction,e.orientation=n,this._sortStrategy=e}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((e,t)=>this.sortPredicate(e,t,this)),this}withScrollableParents(n){let e=this._container;return this._scrollableElements=n.indexOf(e)===-1?[e,...n]:n.slice(),this}withElementContainer(n){if(n===this._container)return this;let e=Bc(this.element),t=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(n);return t>-1&&this._scrollableElements.splice(t,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(n),this._cachedShadowRoot=null,this._scrollableElements.unshift(n),this._container=n,this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?this._sortStrategy.getItemIndex(n):this._draggables.indexOf(n)}getItemAtIndex(n){return this._isDragging?this._sortStrategy.getItemAtIndex(n):this._draggables[n]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,e,t,o){if(this.sortingDisabled||!this._domRect||!nQ(this._domRect,hQ,e,t))return;let r=this._sortStrategy.sort(n,e,t,o);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:n})}_startScrollingIfNecessary(n,e){if(this.autoScrollDisabled)return;let t,o=ql.NONE,r=Ea.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||t||nQ(s.clientRect,hQ,n,e)&&([o,r]=W3e(a,s.clientRect,this._direction,n,e),(o||r)&&(t=a))}),!o&&!r){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};o=bQ(l,e),r=yQ(l,n),t=window}t&&(o!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=r,this._scrollNode=t,(o||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let n=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let n=this._container.style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),yR(0,iC).pipe(Ta(this._stopScrollTimers)).subscribe(()=>{let n=this._scrollNode,e=this.autoScrollStep;this._verticalScrollDirection===ql.UP?n.scrollBy(0,-e):this._verticalScrollDirection===ql.DOWN&&n.scrollBy(0,e),this._horizontalScrollDirection===Ea.LEFT?n.scrollBy(-e,0):this._horizontalScrollDirection===Ea.RIGHT&&n.scrollBy(e,0)})};_isOverContainer(n,e){return this._domRect!=null&&SL(this._domRect,n,e)}_getSiblingContainerFromPosition(n,e,t){return this._siblings.find(o=>o._canReceive(n,e,t))}_canReceive(n,e,t){if(!this._domRect||!SL(this._domRect,e,t)||!this.enterPredicate(n,this))return!1;let o=this._getShadowRoot().elementFromPoint(e,t);return o?o===this._container||this._container.contains(o):!1}_startReceiving(n,e){let t=this._activeSiblings;!t.has(n)&&e.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(t.add(n),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:n,receiver:this,items:e}))}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:n,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){let e=this._parentPositions.handleScroll(n);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let n=hT(this._container);this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let n=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,n))}};function bQ(i,n){let{top:e,bottom:t,height:o}=i,r=o*_Q;return n>=e-r&&n<=e+r?ql.UP:n>=t-r&&n<=t+r?ql.DOWN:ql.NONE}function yQ(i,n){let{left:e,right:t,width:o}=i,r=o*_Q;return n>=e-r&&n<=e+r?Ea.LEFT:n>=t-r&&n<=t+r?Ea.RIGHT:Ea.NONE}function W3e(i,n,e,t,o){let r=bQ(n,o),s=yQ(n,t),a=ql.NONE,l=Ea.NONE;if(r){let c=i.scrollTop;r===ql.UP?c>0&&(a=ql.UP):i.scrollHeight-c>i.clientHeight&&(a=ql.DOWN)}if(s){let c=i.scrollLeft;e==="rtl"?s===Ea.RIGHT?c<0&&(l=Ea.RIGHT):i.scrollWidth+c>i.clientWidth&&(l=Ea.LEFT):s===Ea.LEFT?c>0&&(l=Ea.LEFT):i.scrollWidth-c>i.clientWidth&&(l=Ea.RIGHT)}return[a,l]}var Zv={capture:!0},wL={passive:!1,capture:!0},$3e=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=oe({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(t,o){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return i})(),vQ=(()=>{class i{_ngZone=z(Ft);_document=z(Ci);_styleLoader=z(qJ);_renderer=z(il).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new Le;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=lt([]);_globalListeners;_draggingPredicate=e=>e.isDragging();_domNodesToDirectives=null;pointerMove=new Le;pointerUp=new Le;constructor(){}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,wL)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(e,t){if(!(this._activeDragInstances().indexOf(e)>-1)&&(this._styleLoader.load($3e),this._activeDragInstances.update(o=>[...o,e]),this._activeDragInstances().length===1)){let o=t.type.startsWith("touch"),r=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),Zv],["selectstart",this._preventDefaultWhileDragging,wL]];o?s.push(["touchend",r,Zv],["touchcancel",r,Zv]):s.push(["mouseup",r,Zv]),o||s.push(["mousemove",a=>this.pointerMove.next(a),wL]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(e){this._activeDragInstances.update(t=>{let o=t.indexOf(e);return o>-1?(t.splice(o,1),[...t]):t}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances().indexOf(e)>-1}scrolled(e){let t=[this._scroll];return e&&e!==this._document&&t.push(new pi(o=>this._ngZone.runOutsideAngular(()=>{let r=this._renderer.listen(e,"scroll",s=>{this._activeDragInstances().length&&o.next(s)},Zv);return()=>{r()}}))),of(...t)}registerDirectiveNode(e,t){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(e,t)}removeDirectiveNode(e){this._domNodesToDirectives?.delete(e)}getDragDirectiveForNode(e){return this._domNodesToDirectives?.get(e)||null}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()};_persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))};_clearGlobalListeners(){this._globalListeners?.forEach(e=>e()),this._globalListeners=void 0}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),K3e={dragStartThreshold:5,pointerDirectionChangeThreshold:5},DL=(()=>{class i{_document=z(Ci);_ngZone=z(Ft);_viewportRuler=z(QJ);_dragDropRegistry=z(vQ);_renderer=z(il).createRenderer(null,null);constructor(){}createDrag(e,t=K3e){return new EL(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(e){return new TL(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fQ=new he("CDK_DRAG_PARENT");var q3e=new he("CdkDragHandle");var vT=new he("CDK_DRAG_CONFIG"),wQ=new he("CdkDropList"),CQ=(()=>{class i{element=z(Ei);dropContainer=z(wQ,{optional:!0,skipSelf:!0});_ngZone=z(Ft);_viewContainerRef=z(Fr);_dir=z(bL,{optional:!0});_changeDetectorRef=z(We);_selfHandle=z(q3e,{optional:!0,self:!0});_parentDrag=z(fQ,{optional:!0,skipSelf:!0});_dragDropRegistry=z(vQ);_destroyed=new Le;_handles=new _n([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new te;released=new te;ended=new te;entered=new te;exited=new te;dropped=new te;moved=new pi(e=>{let t=this._dragRef.moved.pipe(J(o=>({source:this,pointerPosition:o.pointerPosition,event:o.event,delta:o.delta,distance:o.distance}))).subscribe(e);return()=>{t.unsubscribe()}});_injector=z(hn);constructor(){let e=this.dropContainer,t=z(vT,{optional:!0}),o=z(DL);this._dragRef=o.createDrag(this.element,{dragStartThreshold:t&&t.dragStartThreshold!=null?t.dragStartThreshold:5,pointerDirectionChangeThreshold:t&&t.pointerDirectionChangeThreshold!=null?t.pointerDirectionChangeThreshold:5,zIndex:t?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),t&&this._assignDefaults(t),e&&(e.addItem(this),e._dropListRef.beforeStarted.pipe(Ta(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){Iu(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(e){let t=e.rootElementSelector,o=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(e){let t=this._handles.getValue();t.push(e),this._handles.next(t)}_removeHandle(e){let t=this._handles.getValue(),o=t.indexOf(e);o>-1&&(t.splice(o,1),this._handles.next(t))}_setPreviewTemplate(e){this._previewTemplate=e}_resetPreviewTemplate(e){e===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(e){this._placeholderTemplate=e}_resetPlaceholderTemplate(e){e===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let e=this.element.nativeElement,t=e;this.rootElementSelector&&(t=e.closest!==void 0?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(t||e)}_getBoundaryElement(){let e=this.boundaryElement;return e?typeof e=="string"?this.element.nativeElement.closest(e):Bc(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){let t=this._dir,o=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.scale=this.scale,e.dragStartDelay=typeof o=="object"&&o?o:fT(o),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(es(1)).subscribe(()=>{if(this._parentDrag){e.withParent(this._parentDrag._dragRef);return}let t=this.element.nativeElement.parentElement;for(;t;){let o=this._dragDropRegistry.getDragDirectiveForNode(t);if(o){e.withParent(o._dragRef);break}t=t.parentElement}})}_handleEvents(e){e.started.subscribe(t=>{this.started.emit({source:this,event:t.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(t=>{this.released.emit({source:this,event:t.event})}),e.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint,event:t.event})})}_assignDefaults(e){let{lockAxis:t,dragStartDelay:o,constrainPosition:r,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=e;this.disabled=l??!1,this.dragStartDelay=o||0,this.lockAxis=t||null,r&&(this.constrainPosition=r),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(kr(e=>{let t=e.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Bo(e=>of(...e.map(t=>t._stateChanges.pipe(sf(t))))),Ta(this._destroyed)).subscribe(e=>{let t=this._dragRef,o=e.element.nativeElement;e.disabled?t.disableHandle(o):t.enableHandle(o)})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,o){t&2&&Lr("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Z],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Je]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Se([{provide:fQ,useExisting:i}]),$n]})}return i})(),mQ=new he("CdkDropListGroup");var SQ=(()=>{class i{element=z(Ei);_changeDetectorRef=z(We);_scrollDispatcher=z(JJ);_dir=z(bL,{optional:!0});_group=z(mQ,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new Le;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=z(XJ).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new te;entered=new te;exited=new te;sorted=new te;_unsortedItems=new Set;constructor(){let e=z(DL),t=z(vT,{optional:!0});this._dropListRef=e.createDropList(this.element),this._dropListRef.data=this,t&&this._assignDefaults(t),this._dropListRef.enterPredicate=(o,r)=>this.enterPredicate(o.data,r.data),this._dropListRef.sortPredicate=(o,r,s)=>this.sortPredicate(o,r.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(e){this._unsortedItems.add(e),e._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef))}removeItem(e){if(this._unsortedItems.delete(e),this._latestSortedRefs){let t=this._latestSortedRefs.indexOf(e._dragRef);t>-1&&(this._latestSortedRefs.splice(t,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(sf(this._dir.value),Ta(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{let t=ZJ(this.connectedTo).map(o=>{if(typeof o=="string"){let r=i._dropLists.find(s=>s.id===o);return r}return o});if(this._group&&this._group._items.forEach(o=>{t.indexOf(o)===-1&&t.push(o)}),!this._scrollableParentsResolved){let o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let o=this.element.nativeElement.querySelector(this.elementContainerSelector);e.withElementContainer(o)}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=fT(this.autoScrollStep,2),e.hasAnchor=this.hasAnchor,e.connectedTo(t.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(t=>t._dragRef)),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),e.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),e.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint,event:t.event}),this._changeDetectorRef.markForCheck()}),of(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){let{lockAxis:t,draggingDisabled:o,sortingDisabled:r,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=o??!1,this.sortingDisabled=r??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",this.lockAxis=t||null}_syncItemsWithRef(e){this._latestSortedRefs=e,this._dropListRef.withItems(e)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=ht({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,o){t&2&&(ce("id",o.id),Lr("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Z],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Z],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Z],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",Z]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Se([{provide:mQ,useValue:void 0},{provide:wQ,useExisting:i}])]})}return i})();var IQ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({providers:[DL],imports:[YJ]})}return i})();var EQ=`
    .p-listbox {
        display: block;
        background: dt('listbox.background');
        color: dt('listbox.color');
        border: 1px solid dt('listbox.border.color');
        border-radius: dt('listbox.border.radius');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
        outline-color: transparent;
        box-shadow: dt('listbox.shadow');
    }

    .p-listbox.p-disabled {
        opacity: 1;
        background: dt('listbox.disabled.background');
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-disabled .p-listbox-option {
        color: dt('listbox.disabled.color');
    }

    .p-listbox.p-invalid {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        padding: dt('listbox.list.header.padding');
    }

    .p-listbox-filter {
        width: 100%;
    }

    .p-listbox-list-container {
        overflow: auto;
    }

    .p-listbox-list {
        list-style-type: none;
        margin: 0;
        padding: dt('listbox.list.padding');
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('listbox.list.gap');
    }

    .p-listbox-option {
        display: flex;
        align-items: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        padding: dt('listbox.option.padding');
        border: 0 none;
        border-radius: dt('listbox.option.border.radius');
        color: dt('listbox.option.color');
        transition:
            background dt('listbox.transition.duration'),
            color dt('listbox.transition.duration'),
            border-color dt('listbox.transition.duration'),
            box-shadow dt('listbox.transition.duration'),
            outline-color dt('listbox.transition.duration');
    }

    .p-listbox-striped li:nth-child(even of .p-listbox-option) {
        background: dt('listbox.option.striped.background');
    }

    .p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {
        background: dt('listbox.option.selected.background');
        color: dt('listbox.option.selected.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {
        background: dt('listbox.option.selected.focus.background');
        color: dt('listbox.option.selected.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {
        background: dt('listbox.option.focus.background');
        color: dt('listbox.option.focus.color');
    }

    .p-listbox-option-blank-icon {
        flex-shrink: 0;
    }

    .p-listbox-option-check-icon {
        position: relative;
        flex-shrink: 0;
        margin-inline-start: dt('listbox.checkmark.gutter.start');
        margin-inline-end: dt('listbox.checkmark.gutter.end');
        color: dt('listbox.checkmark.color');
    }

    .p-listbox-option-group {
        margin: 0;
        padding: dt('listbox.option.group.padding');
        color: dt('listbox.option.group.color');
        background: dt('listbox.option.group.background');
        font-weight: dt('listbox.option.group.font.weight');
    }

    .p-listbox-empty-message {
        padding: dt('listbox.empty.message.padding');
    }

    .p-listbox-fluid {
        width: 100%;
    }
`;var Q3e=["item"],Y3e=["group"],X3e=["header"],xQ=["filter"],Z3e=["footer"],eBe=["emptyfilter"],tBe=["empty"],iBe=["filtericon"],nBe=["checkicon"],oBe=["checkmark"],rBe=["loader"],sBe=["headerchkbox"],aBe=["lastHiddenFocusableElement"],lBe=["firstHiddenFocusableElement"],cBe=["scroller"],dBe=["list"],pBe=["container"],uBe=i=>({"p-listbox-dragging":i}),hBe=[[["p-header"]],[["p-footer"]]],fBe=["p-header","p-footer"],wT=(i,n)=>({$implicit:i,options:n}),PL=i=>({$implicit:i}),RQ=i=>({options:i}),AL=i=>({height:i}),mBe=()=>({}),gBe=(i,n,e)=>({option:i,i:n,scrollerOptions:e}),_Be=(i,n,e,t)=>({$implicit:i,index:n,selected:e,disabled:t}),bBe=i=>({implicit:i});function yBe(i,n){i&1&&ve(0)}function vBe(i,n){if(i&1&&(_(0,"div",21),Ht(1),E(2,yBe,1,0,"ng-container",22),b()),i&2){let e=h();j(e.cx("header")),f("pBind",e.ptm("header")),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",Ct(5,wT,e.modelValue(),e.visibleOptions()))}}function wBe(i,n){}function CBe(i,n){i&1&&E(0,wBe,0,0,"ng-template")}function SBe(i,n){if(i&1&&E(0,CBe,1,0,null,22),i&2){let e=h(4);f("ngTemplateOutlet",e.checkIconTemplate||e._checkIconTemplate)("ngTemplateOutletContext",de(2,PL,e.allSelected()))}}function IBe(i,n){i&1&&(we(0),E(1,SBe,1,4,"ng-template",null,5,ie),Ce())}function EBe(i,n){if(i&1){let e=B();_(0,"p-checkbox",25,4),A("onChange",function(o){w(e);let r=h(2);return C(r.onToggleAll(o))}),E(2,IBe,3,0,"ng-container",18),b()}if(i&2){let e=h(2);j(e.cx("optionCheckIcon")),f("ngModel",e.allSelected())("disabled",e.$disabled())("tabindex",-1)("variant",e.config.inputStyle()==="filled"||e.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0)("pt",e.ptm("pcCheckbox")),ce("aria-label",e.toggleAllAriaLabel),p(2),f("ngIf",e.checkIconTemplate||e._checkIconTemplate)}}function xBe(i,n){i&1&&ve(0)}function TBe(i,n){if(i&1&&(we(0),E(1,xBe,1,0,"ng-container",22),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",de(2,RQ,e.filterOptions))}}function OBe(i,n){if(i&1&&(xe(),N(0,"svg",31)),i&2){let e=h(4);f("pBind",e.ptm("filterIcon")),ce("aria-hidden",!0)}}function RBe(i,n){}function DBe(i,n){i&1&&E(0,RBe,0,0,"ng-template")}function PBe(i,n){if(i&1&&(_(0,"span"),E(1,DBe,1,0,null,32),b()),i&2){let e=h(4);ce("aria-hidden",!0),p(),f("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function ABe(i,n){if(i&1){let e=B();_(0,"p-iconfield",26)(1,"input",28,6),A("input",function(o){w(e);let r=h(3);return C(r.onFilterChange(o))})("keydown",function(o){w(e);let r=h(3);return C(r.onFilterKeyDown(o))})("blur",function(o){w(e);let r=h(3);return C(r.onFilterBlur(o))}),b(),_(3,"p-inputicon",29),E(4,OBe,1,2,"svg",30)(5,PBe,2,2,"span",18),b()()}if(i&2){let e=h(3);f("pt",e.ptm("pcFilterContainer")),p(),j(e.cx("pcFilter")),f("value",e._filterValue()||"")("pt",e.ptm("pcFilter")),ce("disabled",e.$disabled()?"":void 0)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel)("tabindex",!e.$disabled()&&!e.focused?e.tabindex:-1),p(2),f("pt",e.ptm("pcFilterIconContainer")),p(),f("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),p(),f("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function kBe(i,n){if(i&1&&(G(0,ABe,6,14,"p-iconfield",26),_(1,"span",27),R(2),b()),i&2){let e=h(2);H(e.filter?0:-1),p(),f("pBind",e.ptm("hiddenFilterResult")),ce("aria-live","polite")("data-p-hidden-accessible",!0),p(),Y(" ",e.filterResultMessageText," ")}}function NBe(i,n){if(i&1&&(_(0,"div",21),E(1,EBe,3,10,"p-checkbox",23)(2,TBe,2,4,"ng-container",24)(3,kBe,3,5,"ng-template",null,3,ie),b()),i&2){let e=Ze(4),t=h();j(t.cx("header")),f("pBind",t.ptm("header")),p(),f("ngIf",t.checkbox&&t.multiple&&t.showToggleAll),p(),f("ngIf",t.filterTemplate||t._filterTemplate)("ngIfElse",e)}}function FBe(i,n){if(i&1&&R(0),i&2){let e=h(2);Y(" ",e.emptyFilterMessageText," ")}}function LBe(i,n){i&1&&ve(0,null,7)}function MBe(i,n){if(i&1&&E(0,LBe,2,0,"ng-container",32),i&2){let e=h(2);f("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e._emptyTemplate||e.emptyTemplate)}}function BBe(i,n){if(i&1&&(_(0,"div",21),G(1,FBe,1,1)(2,MBe,1,1,"ng-container"),b()),i&2){let e=h();j(e.cx("emptyMessage")),f("pBind",e.ptm("emptyMessage")),p(),H(!e.emptyFilterTemplate&&!e._emptyFilterTemplate&&!e._emptyTemplate&&!e.emptyTemplate?1:2)}}function VBe(i,n){if(i&1&&R(0),i&2){let e=h(2);Y(" ",e.emptyMessage," ")}}function UBe(i,n){i&1&&ve(0,null,8)}function jBe(i,n){if(i&1&&E(0,UBe,2,0,"ng-container",32),i&2){let e=h(2);f("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function GBe(i,n){if(i&1&&(_(0,"div",21),G(1,VBe,1,1)(2,jBe,1,1,"ng-container"),b()),i&2){let e=h();j(e.cx("emptyMessage")),f("pBind",e.ptm("emptyMessage")),p(),H(!e.emptyTemplate&&!e._emptyTemplate?1:2)}}function HBe(i,n){i&1&&ve(0)}function zBe(i,n){if(i&1&&E(0,HBe,1,0,"ng-container",22),i&2){let e=n.$implicit,t=n.options;h(2);let o=Ze(3);f("ngTemplateOutlet",o)("ngTemplateOutletContext",Ct(2,wT,e,t))}}function WBe(i,n){i&1&&ve(0)}function $Be(i,n){if(i&1&&E(0,WBe,1,0,"ng-container",22),i&2){let e=n.options,t=h(4);f("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",de(2,RQ,e))}}function KBe(i,n){i&1&&E(0,$Be,1,4,"ng-template",null,12,ie)}function qBe(i,n){if(i&1){let e=B();_(0,"p-scroller",34,10),A("onLazyLoad",function(o){w(e);let r=h(2);return C(r.onLazyLoad.emit(o))}),E(2,zBe,1,5,"ng-template",null,11,ie),G(4,KBe,2,0),b()}if(i&2){let e=h(2);De(de(10,AL,e.scrollHeight)),f("pt",e.ptm("virtualScroller"))("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions)("tabindex",e.scrollerTabIndex),p(4),H(e.loaderTemplate||e._loaderTemplate?4:-1)}}function JBe(i,n){i&1&&ve(0)}function QBe(i,n){if(i&1&&(we(0),E(1,JBe,1,0,"ng-container",22),Ce()),i&2){h();let e=Ze(3),t=h();p(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Ct(3,wT,t.visibleOptions(),Pe(2,mBe)))}}function YBe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2).$implicit,t=h(3);p(),Q(t.getOptionGroupLabel(e.optionGroup))}}function XBe(i,n){i&1&&ve(0)}function ZBe(i,n){if(i&1){let e=B();we(0),_(1,"li",37),A("cdkDragStarted",function(){w(e);let o=h(4);return C(o.isDragging.set(!0))})("cdkDragEnded",function(){w(e);let o=h(4);return C(o.isDragging.set(!1))}),E(2,YBe,2,1,"span",18)(3,XBe,1,0,"ng-container",22),b(),Ce()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),j(s.cx("optionGroup")),f("pBind",s.getPTOptions(t.optionGroup,r,o,"optionGroup"))("ngStyle",de(10,AL,r.itemSize+"px"))("cdkDragData",t)("cdkDragDisabled",!s.dragdrop),ce("id",s.id+"_"+s.getOptionIndex(o,r)),p(),f("ngIf",!s.groupTemplate&&!s._groupTemplate),p(),f("ngTemplateOutlet",s.groupTemplate||s._groupTemplate)("ngTemplateOutletContext",de(12,PL,t.optionGroup))}}function eVe(i,n){}function tVe(i,n){i&1&&E(0,eVe,0,0,"ng-template")}function iVe(i,n){if(i&1&&E(0,tVe,1,0,null,22),i&2){let e=h(4).$implicit,t=h(3);f("ngTemplateOutlet",t.checkIconTemplate||t._checkIconTemplate)("ngTemplateOutletContext",de(2,PL,t.isSelected(e)))}}function nVe(i,n){i&1&&(we(0),E(1,iVe,1,4,"ng-template",null,5,ie),Ce())}function oVe(i,n){if(i&1&&(_(0,"p-checkbox",40),E(1,nVe,3,0,"ng-container",18),b()),i&2){let e=h(2).$implicit,t=h(3);j(t.cx("optionCheckIcon")),f("ngModel",t.isSelected(e))("readonly",!0)("disabled",t.$disabled()||t.isOptionDisabled(e))("tabindex",-1)("variant",t.config.inputStyle()==="filled"||t.config.inputVariant()==="filled"?"filled":"outlined")("binary",!0)("pt",t.ptm("pcCheckbox")),p(),f("ngIf",t.checkIconTemplate||t._checkIconTemplate)}}function rVe(i,n){if(i&1&&(xe(),N(0,"svg",43)),i&2){let e=h(7);j(e.cx("optionBlankIcon")),f("pBind",e.ptm("optionBlankIcon"))}}function sVe(i,n){if(i&1&&(xe(),N(0,"svg",44)),i&2){let e=h(7);j(e.cx("optionCheckIcon")),f("pBind",e.ptm("optionCheckIcon"))}}function aVe(i,n){if(i&1&&(we(0),E(1,rVe,1,3,"svg",41)(2,sVe,1,3,"svg",42),Ce()),i&2){let e=h(3).$implicit,t=h(3);p(),f("ngIf",!t.isSelected(e)),p(),f("ngIf",t.isSelected(e))}}function lVe(i,n){i&1&&ve(0)}function cVe(i,n){if(i&1&&(we(0),E(1,aVe,3,2,"ng-container",18)(2,lVe,1,0,"ng-container",22),Ce()),i&2){let e=h(2).$implicit,t=h(3);p(),f("ngIf",!t.checkmarkTemplate&&!t._checkmarkTemplate),p(),f("ngTemplateOutlet",t.checkmarkTemplate||t._checkmarkTemplate)("ngTemplateOutletContext",de(3,bBe,t.isSelected(e)))}}function dVe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2).$implicit,t=h(3);p(),Q(t.getOptionLabel(e))}}function pVe(i,n){i&1&&ve(0)}function uVe(i,n){if(i&1){let e=B();we(0),_(1,"li",38),A("click",function(o){w(e);let r=h(),s=r.$implicit,a=r.index,l=h().options,c=h(2);return C(c.onOptionSelect(o,s,c.getOptionIndex(a,l)))})("dblclick",function(o){w(e);let r=h().$implicit,s=h(3);return C(s.onOptionDoubleClick(o,r))})("mousedown",function(o){w(e);let r=h().index,s=h().options,a=h(2);return C(a.onOptionMouseDown(o,a.getOptionIndex(r,s)))})("mouseenter",function(o){w(e);let r=h().index,s=h().options,a=h(2);return C(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))})("touchend",function(){w(e);let o=h(4);return C(o.onOptionTouchEnd())})("cdkDragStarted",function(){w(e);let o=h(4);return C(o.isDragging.set(!0))})("cdkDragEnded",function(){w(e);let o=h(4);return C(o.isDragging.set(!1))}),E(2,oVe,2,10,"p-checkbox",39)(3,cVe,3,5,"ng-container",18)(4,dVe,2,1,"span",18)(5,pVe,1,0,"ng-container",22),b(),Ce()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),j(s.cx("option",ga(20,gBe,t,o,r))),f("ngStyle",de(24,AL,r.itemSize+"px"))("pBind",s.getPTOptions(t,r,o,"option"))("cdkDragData",t)("cdkDragDisabled",!s.dragdrop),ce("id",s.id+"_"+s.getOptionIndex(o,r))("aria-label",s.getOptionLabel(t))("aria-selected",s.isSelected(t))("aria-disabled",s.isOptionDisabled(t))("aria-setsize",s.ariaSetSize)("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r)))("data-p-selected",s.isSelected(t))("data-p-focused",s.focusedOptionIndex()===s.getOptionIndex(o,r))("data-p-disabled",s.isOptionDisabled(t)),p(),f("ngIf",s.checkbox&&s.multiple),p(),f("ngIf",s.checkmark),p(),f("ngIf",!s.itemTemplate&&!s._itemTemplate),p(),f("ngTemplateOutlet",s.itemTemplate||s._itemTemplate)("ngTemplateOutletContext",Br(26,_Be,t,s.getOptionIndex(o,r),s.isSelected(t),s.isOptionDisabled(t)))}}function hVe(i,n){if(i&1&&E(0,ZBe,4,14,"ng-container",18)(1,uVe,6,31,"ng-container",18),i&2){let e=n.$implicit,t=h(3);f("ngIf",t.isOptionGroup(e)),p(),f("ngIf",!t.isOptionGroup(e))}}function fVe(i,n){if(i&1){let e=B();_(0,"ul",35,13),A("focus",function(o){w(e);let r=h(2);return C(r.onListFocus(o))})("blur",function(o){w(e);let r=h(2);return C(r.onListBlur(o))})("keydown",function(o){w(e);let r=h(2);return C(r.onListKeyDown(o))}),E(2,hVe,2,2,"ng-template",36),b()}if(i&2){let e=n.$implicit,t=n.options,o=h(2);De(t.contentStyle),j(o.cx("list")),f("id",o.id+"_list")("tabindex",-1)("ngClass",t.contentStyleClass)("pBind",o.ptm("list")),ce("aria-multiselectable",!0)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("aria-label",o.ariaLabel)("aria-disabled",o.$disabled()),p(2),f("ngForOf",e)}}function mVe(i,n){if(i&1&&E(0,qBe,5,12,"p-scroller",33)(1,QBe,2,6,"ng-container",18)(2,fVe,3,13,"ng-template",null,9,ie),i&2){let e=h();f("ngIf",e.virtualScroll),p(),f("ngIf",!e.virtualScroll)}}function gVe(i,n){i&1&&ve(0)}function _Ve(i,n){if(i&1&&(_(0,"div"),Ht(1,1),E(2,gVe,1,0,"ng-container",22),b()),i&2){let e=h();p(2),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",Ct(2,wT,e.modelValue(),e.visibleOptions()))}}function bVe(i,n){if(i&1&&(_(0,"span",20),R(1),b()),i&2){let e=h();f("pBind",e.ptm("hiddenEmptyMessage")),p(),Y(" ",e.emptyMessage," ")}}var yVe=`
    ${EQ}

    /* For PrimeNG */
    .p-listbox.ng-invalid.ng-dirty {
        border-color: dt('listbox.invalid.border.color');
    }

    .p-listbox-header {
        display: flex;
        align-items: center;
    }

    .p-listbox-header > .p-iconfield {
        flex-grow: 1;
    }

    .p-listbox-list-container {
        height: 100%;
    }

    /* CDK Drag & Drop styles */
    .p-listbox-option.cdk-drag-preview {
        background: dt('listbox.background');
    }

    .p-listbox-dragging .p-listbox-option:not(.cdk-drag-preview) {
        pointer-events: none !important;
    }

    .p-listbox-dragging .p-listbox-option:not(.cdk-drag-preview):hover {
        background: inherit !important;
        color: inherit !important;
    }

    .cdk-drag-placeholder {
        pointer-events: none;
    }
`,vVe={root:({instance:i})=>["p-listbox p-component",{"p-listbox-striped":i.striped,"p-disabled":i.$disabled(),"p-invalid":i.invalid(),"p-listbox-fluid":i.fluid()}],header:"p-listbox-header",pcFilter:"p-listbox-filter",listContainer:"p-listbox-list-container",list:"p-listbox-list",optionGroup:"p-listbox-option-group",option:({instance:i,option:n,i:e,scrollerOptions:t})=>["p-listbox-option",{"p-listbox-option-selected":i.isSelected(n)&&i.highlightOnSelect,"p-focus":i.focusedOptionIndex()===i.getOptionIndex(e,t),"p-disabled":i.isOptionDisabled(n)}],optionCheckIcon:"p-listbox-option-check-icon",optionBlankIcon:"p-listbox-option-blank-icon",emptyMessage:"p-listbox-empty-message"},TQ=(()=>{class i extends Ye{name="listbox";style=yVe;classes=vVe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var OQ=new he("LISTBOX_INSTANCE"),wVe={provide:Bn,useExisting:Xt(()=>CT),multi:!0},CT=(()=>{class i extends Gr{filterService;hostName="";bindDirectiveInstance=z(pe,{self:!0});$pcListbox=z(OQ,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;ariaLabel;selectOnFocus;searchLocale;focusOnHover=!0;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="14rem";tabindex=0;multiple;styleClass;listStyle;listStyleClass;readonly;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()||""}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}striped=!1;highlightOnSelect=!0;checkmark=!1;dragdrop=!1;dropListData;cdkDropData=ct(()=>this.dropListData||this._options());fluid=qe(void 0,{transform:Z});onChange=new te;onClick=new te;onDblClick=new te;onFilter=new te;onFocus=new te;onBlur=new te;onSelectAllChange=new te;onLazyLoad=new te;onDrop=new te;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;containerViewChild;headerFacet;footerFacet;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;checkmarkTemplate;loaderTemplate;templates;_itemTemplate;_groupTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_filterIconTemplate;_checkIconTemplate;_checkmarkTemplate;_loaderTemplate;_filterValue=lt(null);_filteredOptions;filterOptions;filtered;value;optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;scrollerTabIndex="0";_componentStyle=z(TQ);get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return qt(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=lt(null);startRangeIndex=lt(-1);focusedOptionIndex=lt(-1);isDragging=lt(!1);onHostFocusOut(e){this.onFocusout(e)}visibleOptions=ct(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e){super(),this.filterService=e}onInit(){this.id=this.id||Vt("pn_id_"),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"checkicon":this._checkIconTemplate=e.template;break;case"checkmark":this._checkmarkTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,t){this.value=e,this.writeModelValue(e),this.onModelChange(e),this.onChange.emit({originalEvent:t,value:this.value})}removeOption(e){return this.modelValue().filter(t=>!Kn(t,this.getOptionValue(e),this.equalityKey()||""))}onOptionSelect(e,t,o=-1){this.$disabled()||this.isOptionDisabled(t)||this.readonly||(e&&this.onClick.emit({originalEvent:e,option:t,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,t):this.onOptionSelectSingle(e,t),this.optionTouched=!1,o!==-1&&this.focusedOptionIndex.set(o))}onOptionSelectMultiple(e,t){let o=this.isSelected(t),r=[];if(this.optionTouched?!1:this.metaKeySelection){let a=e.metaKey||e.ctrlKey;o?r=a?this.removeOption(t):[this.getOptionValue(t)]:(r=a?this.modelValue()||[]:[],r=[...r||[],this.getOptionValue(t)])}else r=o?this.removeOption(t):[...this.modelValue()||[],this.getOptionValue(t)];this.updateModel(r,e)}onOptionSelectSingle(e,t){let o=this.isSelected(t),r=!1,s=null;if(this.optionTouched?!1:this.metaKeySelection){let l=e.metaKey||e.ctrlKey;o?l&&(s=null,r=!0):(s=this.getOptionValue(t),r=!0)}else s=o?null:this.getOptionValue(t),r=!0;r&&this.updateModel(s,e)}onOptionSelectRange(e,t=-1,o=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(t)),t!==-1&&o!==-1){let r=Math.min(t,o),s=Math.max(t,o),a=this.visibleOptions().slice(r,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}onToggleAll(e){if(!(this.$disabled()||this.readonly))if(Di(this.headerCheckboxViewChild?.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.allSelected()?[]:this.visibleOptions().filter(o=>this.isValidOption(o)).map(o=>this.getOptionValue(o));this.updateModel(t,e),this.onChange.emit({originalEvent:e,value:this.value})}}allSelected(){return this.selectAll!==null?this.selectAll:qt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.$disabled()||(this.optionTouched=!0)}onOptionMouseDown(e,t){this.changeFocusedOptionIndex(e,t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.focused&&this.changeFocusedOptionIndex(e,t)}onOptionDoubleClick(e,t){this.$disabled()||this.isOptionDisabled(t)||this.readonly||this.onDblClick.emit({originalEvent:e,option:t,value:this.value})}onFirstHiddenFocus(e){Di(this.listViewChild?.nativeElement);let t=mp(this.el?.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement?.nativeElement&&(this.lastHiddenFocusableElement.nativeElement.tabIndex=jo(t)?-1:void 0),this.firstHiddenFocusableElement?.nativeElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=-1)}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild?.nativeElement){let o=mp(this.el?.nativeElement,":not(.p-hidden-focusable)");Di(o),this.firstHiddenFocusableElement?.nativeElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0)}else Di(this.firstHiddenFocusableElement?.nativeElement);this.lastHiddenFocusableElement?.nativeElement&&(this.lastHiddenFocusableElement.nativeElement.tabIndex=-1)}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0,this.scrollerTabIndex="0")}onListFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(t),this.scrollInView(t),this.onFocus.emit(e),this.scrollerTabIndex="-1"}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue="",this.onBlur.emit(e)}onHeaderCheckboxKeyDown(e){if(this.$disabled()){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){Di(this.listViewChild?.nativeElement),e.preventDefault()}onFilterChange(e){let t=e.target.value?.trim();this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller?.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&t){let o=this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(o,e),e.preventDefault();break}!t&&hd(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowUpKey(e){let t=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,t,this.startRangeIndex()),this.changeFocusedOptionIndex(e,t),e.preventDefault()}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onHomeKey(e,t=!1){if(t)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let o=e.metaKey||e.ctrlKey,r=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&o&&this.onOptionSelectRange(e,r,this.startRangeIndex()),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onEndKey(e,t=!1){if(t){let o=e.currentTarget,r=o.value.length;o.setSelectionRange(r,r),this.focusedOptionIndex.set(-1)}else{let o=e.metaKey||e.ctrlKey,r=this.findLastOptionIndex();this.multiple&&e.shiftKey&&o&&this.onOptionSelectRange(e,this.startRangeIndex(),r),this.changeFocusedOptionIndex(e,r)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?zi(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?zi(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?zi(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getOptionValue(e){return this.optionValue?zi(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}getPTOptions(e,t,o,r){return this.ptm(r,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex()===this.getOptionIndex(o,t),disabled:this.isOptionDisabled(e)}})}hasSelectedOption(){return qt(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[t]))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedOptionIndex()!==-1?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),o=o===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e)?.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue?.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId,o=Et(this.listViewChild?.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return ss(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?ss(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return t>-1?t+e+1:-1}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?ss(this.visibleOptions().slice(0,e),o=>this.isValidSelectedOption(o)):-1;return t>-1?t:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let t=e>0?ss(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findSelectedOptionIndex(){if(this.$filled())if(this.multiple)for(let e=this.modelValue().length-1;e>=0;e--){let t=this.modelValue()[e],o=this.visibleOptions().findIndex(r=>this.isValidSelectedOption(r)&&this.isEquals(t,this.getOptionValue(r)));if(o>-1)return o}else return this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e));return-1}findNearestSelectedOptionIndex(e,t=!1){let o=-1;return this.hasSelectedOption()&&(t?(o=this.findPrevSelectedOptionIndex(e),o=o===-1?this.findNextSelectedOptionIndex(e):o):(o=this.findNextSelectedOptionIndex(e),o=o===-1?this.findPrevSelectedOptionIndex(e):o)),o>-1?o:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return Mg(this.optionDisabled)?this.optionDisabled(e):this.optionDisabled?zi(e,this.optionDisabled):!1}isEquals(e,t){return Kn(e,t,this.equalityKey()||"")}isSelected(e){let t=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(o=>this.isEquals(o,t)):this.isEquals(this.modelValue(),t)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()?.length||!this.visibleOptions()?.length}hasFilter(){return this._filterValue()&&(this._filterValue()?.trim().length||0)>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}onDragEntered(){this.isDragging.set(!0)}onDragExited(){this.isDragging.set(!1)}drop(e){if(this.isDragging.set(!1),e){if(this.dragdrop&&e.previousContainer===e.container){let t=[...this._options()];yT(t,e.previousIndex,e.currentIndex),this._options.set(t),this.changeFocusedOptionIndex(e,e.currentIndex),this.modelValue()&&(this.writeModelValue(this.modelValue()),this.onModelChange(this.modelValue())),this.cd.markForCheck()}this.onDrop.emit(e)}}writeControlValue(e,t){this.value=e,t(this.value),this.cd.markForCheck()}onDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(fd))};static \u0275cmp=oe({type:i,selectors:[["p-listbox"],["p-listBox"],["p-list-box"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Bg,5),se(r,md,5),se(r,Q3e,4),se(r,Y3e,4),se(r,X3e,4),se(r,xQ,4),se(r,Z3e,4),se(r,eBe,4),se(r,tBe,4),se(r,iBe,4),se(r,nBe,4),se(r,oBe,4),se(r,rBe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.headerFacet=s.first),W(s=$())&&(o.footerFacet=s.first),W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.groupTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.filterTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.emptyFilterTemplate=s.first),W(s=$())&&(o.emptyTemplate=s.first),W(s=$())&&(o.filterIconTemplate=s.first),W(s=$())&&(o.checkIconTemplate=s.first),W(s=$())&&(o.checkmarkTemplate=s.first),W(s=$())&&(o.loaderTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(sBe,5),_e(xQ,5),_e(aBe,5),_e(lBe,5),_e(cBe,5),_e(dBe,5),_e(pBe,5)),t&2){let r;W(r=$())&&(o.headerCheckboxViewChild=r.first),W(r=$())&&(o.filterViewChild=r.first),W(r=$())&&(o.lastHiddenFocusableElement=r.first),W(r=$())&&(o.firstHiddenFocusableElement=r.first),W(r=$())&&(o.scroller=r.first),W(r=$())&&(o.listViewChild=r.first),W(r=$())&&(o.containerViewChild=r.first)}},hostVars:5,hostBindings:function(t,o){t&1&&A("focusout",function(s){return o.onHostFocusOut(s)}),t&2&&(ce("id",o.id),j(o.cn(o.cx("root"),o.styleClass,de(3,uBe,o.isDragging()))))},inputs:{hostName:"hostName",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",Z],ariaLabel:"ariaLabel",selectOnFocus:[2,"selectOnFocus","selectOnFocus",Z],searchLocale:[2,"searchLocale","searchLocale",Z],focusOnHover:[2,"focusOnHover","focusOnHover",Z],filterMessage:"filterMessage",filterFields:"filterFields",lazy:[2,"lazy","lazy",Z],virtualScroll:[2,"virtualScroll","virtualScroll",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:[2,"tabindex","tabindex",Je],multiple:[2,"multiple","multiple",Z],styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:[2,"readonly","readonly",Z],checkbox:[2,"checkbox","checkbox",Z],filter:[2,"filter","filter",Z],filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:[2,"metaKeySelection","metaKeySelection",Z],dataKey:"dataKey",showToggleAll:[2,"showToggleAll","showToggleAll",Z],optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:[2,"group","group",Z],options:"options",filterValue:"filterValue",selectAll:"selectAll",striped:[2,"striped","striped",Z],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Z],checkmark:[2,"checkmark","checkmark",Z],dragdrop:[2,"dragdrop","dragdrop",Z],dropListData:"dropListData",fluid:[1,"fluid"]},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange",onLazyLoad:"onLazyLoad",onDrop:"onDrop"},features:[Se([wVe,TQ,{provide:vT,useValue:{zIndex:1200}},{provide:OQ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:fBe,decls:15,vars:20,consts:[["firstHiddenFocusableElement",""],["container",""],["lastHiddenFocusableElement",""],["builtInFilterElement",""],["headerchkbox",""],["icon",""],["filterInput",""],["emptyFilter",""],["empty",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["list",""],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","tabindex","pBind"],[3,"class","pBind",4,"ngIf"],["cdkDropList","",3,"cdkDropListDropped","cdkDropListEntered","cdkDropListExited","ngStyle","cdkDropListData","pBind"],[3,"class","pBind"],[4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",3,"pBind",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible",3,"pBind"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngModel","disabled","tabindex","variant","binary","pt","onChange",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"onChange","ngModel","disabled","tabindex","variant","binary","pt"],["hostName","listbox",3,"pt"],["role","status",1,"p-hidden-accessible",3,"pBind"],["pInputText","","type","text","role","searchbox","hostName","listbox",3,"input","keydown","blur","value","pt"],[3,"pt"],["data-p-icon","search",3,"pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],[4,"ngTemplateOutlet"],["hostName","listbox",3,"pt","items","style","itemSize","autoSize","lazy","options","tabindex","onLazyLoad",4,"ngIf"],["hostName","listbox",3,"onLazyLoad","pt","items","itemSize","autoSize","lazy","options","tabindex"],["role","listbox",3,"focus","blur","keydown","id","tabindex","ngClass","pBind"],["ngFor","",3,"ngForOf"],["role","option","cdkDrag","",3,"cdkDragStarted","cdkDragEnded","pBind","ngStyle","cdkDragData","cdkDragDisabled"],["pRipple","","role","option","cdkDrag","",3,"click","dblclick","mousedown","mouseenter","touchend","cdkDragStarted","cdkDragEnded","ngStyle","pBind","cdkDragData","cdkDragDisabled"],["hostName","listbox",3,"class","ngModel","readonly","disabled","tabindex","variant","binary","pt",4,"ngIf"],["hostName","listbox",3,"ngModel","readonly","disabled","tabindex","variant","binary","pt"],["data-p-icon","blank",3,"class","pBind",4,"ngIf"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],["data-p-icon","blank",3,"pBind"],["data-p-icon","check",3,"pBind"]],template:function(t,o){if(t&1){let r=B();ci(hBe),_(0,"span",14,0),A("focus",function(a){return w(r),C(o.onFirstHiddenFocus(a))}),b(),E(2,vBe,3,8,"div",15)(3,NBe,5,6,"div",15),_(4,"div",16,1),A("cdkDropListDropped",function(a){return w(r),C(o.drop(a))})("cdkDropListEntered",function(){return w(r),C(o.onDragEntered())})("cdkDropListExited",function(){return w(r),C(o.onDragExited())}),G(6,BBe,3,4,"div",17)(7,GBe,3,4,"div",17)(8,mVe,4,2),b(),E(9,_Ve,3,5,"div",18)(10,bVe,2,2,"span",19),_(11,"span",20),R(12),b(),_(13,"span",14,2),A("focus",function(a){return w(r),C(o.onLastHiddenFocus(a))}),b()}t&2&&(f("tabindex",o.$disabled()?-1:o.tabindex)("pBind",o.ptm("hiddenFirstFocusableElement")),ce("data-p-hidden-focusable",!0),p(2),f("ngIf",o.headerFacet||o.headerTemplate||o._headerTemplate),p(),f("ngIf",o.checkbox&&o.multiple&&o.showToggleAll||o.filter),p(),j(o.cn(o.cx("listContainer"),o.listStyleClass)),Kt("max-height",o.virtualScroll?"auto":o.scrollHeight||"auto"),f("ngStyle",o.listStyle)("cdkDropListData",o.cdkDropData())("pBind",o.ptm("listContainer")),p(2),H(o.hasFilter()&&o.isEmpty()?6:!o.hasFilter()&&o.isEmpty()?7:8),p(3),f("ngIf",o.footerFacet||o.footerTemplate||o._footerTemplate),p(),f("ngIf",o.isEmpty()),p(),f("pBind",o.ptm("hiddenSelectedMessage")),p(),Y(" ",o.selectedMessageText," "),p(),f("tabindex",o.$disabled()?-1:o.tabindex)("pBind",o.ptm("hiddenLastFocusableEl")),ce("data-p-hidden-focusable",!0))},dependencies:[Qe,$t,Mn,pt,gt,ft,oo,Fa,Uu,Nu,or,gd,Vu,si,J1,rs,_i,Zi,Oe,IQ,SQ,CQ,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),kL=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[CT,Oe,Oe]})}return i})();function ow(i){return i+.5|0}var xh=(i,n,e)=>Math.max(Math.min(i,e),n);function iw(i){return xh(ow(i*2.55),0,255)}function Th(i){return xh(ow(i*255),0,255)}function Jp(i){return xh(ow(i/2.55)/100,0,1)}function DQ(i){return xh(ow(i*100),0,100)}var Jl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},FL=[..."0123456789ABCDEF"],SVe=i=>FL[i&15],IVe=i=>FL[(i&240)>>4]+FL[i&15],ST=i=>(i&240)>>4===(i&15),EVe=i=>ST(i.r)&&ST(i.g)&&ST(i.b)&&ST(i.a);function xVe(i){var n=i.length,e;return i[0]==="#"&&(n===4||n===5?e={r:255&Jl[i[1]]*17,g:255&Jl[i[2]]*17,b:255&Jl[i[3]]*17,a:n===5?Jl[i[4]]*17:255}:(n===7||n===9)&&(e={r:Jl[i[1]]<<4|Jl[i[2]],g:Jl[i[3]]<<4|Jl[i[4]],b:Jl[i[5]]<<4|Jl[i[6]],a:n===9?Jl[i[7]]<<4|Jl[i[8]]:255})),e}var TVe=(i,n)=>i<255?n(i):"";function OVe(i){var n=EVe(i)?SVe:IVe;return i?"#"+n(i.r)+n(i.g)+n(i.b)+TVe(i.a,n):void 0}var RVe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function NQ(i,n,e){let t=n*Math.min(e,1-e),o=(r,s=(r+i/30)%12)=>e-t*Math.max(Math.min(s-3,9-s,1),-1);return[o(0),o(8),o(4)]}function DVe(i,n,e){let t=(o,r=(o+i/60)%6)=>e-e*n*Math.max(Math.min(r,4-r,1),0);return[t(5),t(3),t(1)]}function PVe(i,n,e){let t=NQ(i,1,.5),o;for(n+e>1&&(o=1/(n+e),n*=o,e*=o),o=0;o<3;o++)t[o]*=1-n-e,t[o]+=n;return t}function AVe(i,n,e,t,o){return i===o?(n-e)/t+(n<e?6:0):n===o?(e-i)/t+2:(i-n)/t+4}function LL(i){let e=i.r/255,t=i.g/255,o=i.b/255,r=Math.max(e,t,o),s=Math.min(e,t,o),a=(r+s)/2,l,c,d;return r!==s&&(d=r-s,c=a>.5?d/(2-r-s):d/(r+s),l=AVe(e,t,o,d,r),l=l*60+.5),[l|0,c||0,a]}function ML(i,n,e,t){return(Array.isArray(n)?i(n[0],n[1],n[2]):i(n,e,t)).map(Th)}function BL(i,n,e){return ML(NQ,i,n,e)}function kVe(i,n,e){return ML(PVe,i,n,e)}function NVe(i,n,e){return ML(DVe,i,n,e)}function FQ(i){return(i%360+360)%360}function FVe(i){let n=RVe.exec(i),e=255,t;if(!n)return;n[5]!==t&&(e=n[6]?iw(+n[5]):Th(+n[5]));let o=FQ(+n[2]),r=+n[3]/100,s=+n[4]/100;return n[1]==="hwb"?t=kVe(o,r,s):n[1]==="hsv"?t=NVe(o,r,s):t=BL(o,r,s),{r:t[0],g:t[1],b:t[2],a:e}}function LVe(i,n){var e=LL(i);e[0]=FQ(e[0]+n),e=BL(e),i.r=e[0],i.g=e[1],i.b=e[2]}function MVe(i){if(!i)return;let n=LL(i),e=n[0],t=DQ(n[1]),o=DQ(n[2]);return i.a<255?`hsla(${e}, ${t}%, ${o}%, ${Jp(i.a)})`:`hsl(${e}, ${t}%, ${o}%)`}var PQ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AQ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BVe(){let i={},n=Object.keys(AQ),e=Object.keys(PQ),t,o,r,s,a;for(t=0;t<n.length;t++){for(s=a=n[t],o=0;o<e.length;o++)r=e[o],a=a.replace(r,PQ[r]);r=parseInt(AQ[s],16),i[a]=[r>>16&255,r>>8&255,r&255]}return i}var IT;function VVe(i){IT||(IT=BVe(),IT.transparent=[0,0,0,0]);let n=IT[i.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}var UVe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jVe(i){let n=UVe.exec(i),e=255,t,o,r;if(n){if(n[7]!==t){let s=+n[7];e=n[8]?iw(s):xh(s*255,0,255)}return t=+n[1],o=+n[3],r=+n[5],t=255&(n[2]?iw(t):xh(t,0,255)),o=255&(n[4]?iw(o):xh(o,0,255)),r=255&(n[6]?iw(r):xh(r,0,255)),{r:t,g:o,b:r,a:e}}}function GVe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Jp(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var NL=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,n0=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function HVe(i,n,e){let t=n0(Jp(i.r)),o=n0(Jp(i.g)),r=n0(Jp(i.b));return{r:Th(NL(t+e*(n0(Jp(n.r))-t))),g:Th(NL(o+e*(n0(Jp(n.g))-o))),b:Th(NL(r+e*(n0(Jp(n.b))-r))),a:i.a+e*(n.a-i.a)}}function ET(i,n,e){if(i){let t=LL(i);t[n]=Math.max(0,Math.min(t[n]+t[n]*e,n===0?360:1)),t=BL(t),i.r=t[0],i.g=t[1],i.b=t[2]}}function LQ(i,n){return i&&Object.assign(n||{},i)}function kQ(i){var n={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(n={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(n.a=Th(i[3]))):(n=LQ(i,{r:0,g:0,b:0,a:1}),n.a=Th(n.a)),n}function zVe(i){return i.charAt(0)==="r"?jVe(i):FVe(i)}var nw=class i{constructor(n){if(n instanceof i)return n;let e=typeof n,t;e==="object"?t=kQ(n):e==="string"&&(t=xVe(n)||VVe(n)||zVe(n)),this._rgb=t,this._valid=!!t}get valid(){return this._valid}get rgb(){var n=LQ(this._rgb);return n&&(n.a=Jp(n.a)),n}set rgb(n){this._rgb=kQ(n)}rgbString(){return this._valid?GVe(this._rgb):void 0}hexString(){return this._valid?OVe(this._rgb):void 0}hslString(){return this._valid?MVe(this._rgb):void 0}mix(n,e){if(n){let t=this.rgb,o=n.rgb,r,s=e===r?.5:e,a=2*s-1,l=t.a-o.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,t.r=255&c*t.r+r*o.r+.5,t.g=255&c*t.g+r*o.g+.5,t.b=255&c*t.b+r*o.b+.5,t.a=s*t.a+(1-s)*o.a,this.rgb=t}return this}interpolate(n,e){return n&&(this._rgb=HVe(this._rgb,n._rgb,e)),this}clone(){return new i(this.rgb)}alpha(n){return this._rgb.a=Th(n),this}clearer(n){let e=this._rgb;return e.a*=1-n,this}greyscale(){let n=this._rgb,e=ow(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=e,this}opaquer(n){let e=this._rgb;return e.a*=1+n,this}negate(){let n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return ET(this._rgb,2,n),this}darken(n){return ET(this._rgb,2,-n),this}saturate(n){return ET(this._rgb,1,n),this}desaturate(n){return ET(this._rgb,1,-n),this}rotate(n){return LVe(this._rgb,n),this}};function Gd(){}var KQ=(()=>{let i=0;return()=>i++})();function pn(i){return i==null}function No(i){if(Array.isArray&&Array.isArray(i))return!0;let n=Object.prototype.toString.call(i);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function gn(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function sr(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function qa(i,n){return sr(i)?i:n}function Gi(i,n){return typeof i>"u"?n:i}var qQ=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/n,GL=(i,n)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*n:+i;function vo(i,n,e){if(i&&typeof i.call=="function")return i.apply(e,n)}function Qn(i,n,e,t){let o,r,s;if(No(i))if(r=i.length,t)for(o=r-1;o>=0;o--)n.call(e,i[o],o);else for(o=0;o<r;o++)n.call(e,i[o],o);else if(gn(i))for(s=Object.keys(i),r=s.length,o=0;o<r;o++)n.call(e,i[s[o]],s[o])}function aw(i,n){let e,t,o,r;if(!i||!n||i.length!==n.length)return!1;for(e=0,t=i.length;e<t;++e)if(o=i[e],r=n[e],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function RT(i){if(No(i))return i.map(RT);if(gn(i)){let n=Object.create(null),e=Object.keys(i),t=e.length,o=0;for(;o<t;++o)n[e[o]]=RT(i[e[o]]);return n}return i}function JQ(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function WVe(i,n,e,t){if(!JQ(i))return;let o=n[i],r=e[i];gn(o)&&gn(r)?r0(o,r,t):n[i]=RT(r)}function r0(i,n,e){let t=No(n)?n:[n],o=t.length;if(!gn(i))return i;e=e||{};let r=e.merger||WVe,s;for(let a=0;a<o;++a){if(s=t[a],!gn(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)r(l[c],i,s,e)}return i}function a0(i,n){return r0(i,n,{merger:$Ve})}function $Ve(i,n,e){if(!JQ(i))return;let t=n[i],o=e[i];gn(t)&&gn(o)?a0(t,o):Object.prototype.hasOwnProperty.call(n,i)||(n[i]=RT(o))}var MQ={"":i=>i,x:i=>i.x,y:i=>i.y};function KVe(i){let n=i.split("."),e=[],t="";for(let o of n)t+=o,t.endsWith("\\")?t=t.slice(0,-1)+".":(e.push(t),t="");return e}function qVe(i){let n=KVe(i);return e=>{for(let t of n){if(t==="")break;e=e&&e[t]}return e}}function Xp(i,n){return(MQ[n]||(MQ[n]=qVe(n)))(i)}function kT(i){return i.charAt(0).toUpperCase()+i.slice(1)}var l0=i=>typeof i<"u",Qp=i=>typeof i=="function",HL=(i,n)=>{if(i.size!==n.size)return!1;for(let e of i)if(!n.has(e))return!1;return!0};function QQ(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var An=Math.PI,Fo=2*An,JVe=Fo+An,DT=Number.POSITIVE_INFINITY,QVe=An/180,yr=An/2,um=An/4,BQ=An*2/3,Yp=Math.log10,Vc=Math.sign;function c0(i,n,e){return Math.abs(i-n)<e}function zL(i){let n=Math.round(i);i=c0(i,n,i/1e3)?n:i;let e=Math.pow(10,Math.floor(Yp(i))),t=i/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function YQ(i){let n=[],e=Math.sqrt(i),t;for(t=1;t<e;t++)i%t===0&&(n.push(t),n.push(i/t));return e===(e|0)&&n.push(e),n.sort((o,r)=>o-r).pop(),n}function YVe(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function mm(i){return!YVe(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function XQ(i,n){let e=Math.round(i);return e-n<=i&&e+n>=i}function WL(i,n,e){let t,o,r;for(t=0,o=i.length;t<o;t++)r=i[t][e],isNaN(r)||(n.min=Math.min(n.min,r),n.max=Math.max(n.max,r))}function Ql(i){return i*(An/180)}function NT(i){return i*(180/An)}function $L(i){if(!sr(i))return;let n=1,e=0;for(;Math.round(i*n)/n!==i;)n*=10,e++;return e}function KL(i,n){let e=n.x-i.x,t=n.y-i.y,o=Math.sqrt(e*e+t*t),r=Math.atan2(t,e);return r<-.5*An&&(r+=Fo),{angle:r,distance:o}}function PT(i,n){return Math.sqrt(Math.pow(n.x-i.x,2)+Math.pow(n.y-i.y,2))}function XVe(i,n){return(i-n+JVe)%Fo-An}function zs(i){return(i%Fo+Fo)%Fo}function d0(i,n,e,t){let o=zs(i),r=zs(n),s=zs(e),a=zs(r-o),l=zs(s-o),c=zs(o-r),d=zs(o-s);return o===r||o===s||t&&r===s||a>l&&c<d}function us(i,n,e){return Math.max(n,Math.min(e,i))}function ZQ(i){return us(i,-32768,32767)}function Hd(i,n,e,t=1e-6){return i>=Math.min(n,e)-t&&i<=Math.max(n,e)+t}function FT(i,n,e){e=e||(s=>i[s]<n);let t=i.length-1,o=0,r;for(;t-o>1;)r=o+t>>1,e(r)?o=r:t=r;return{lo:o,hi:t}}var Ud=(i,n,e,t)=>FT(i,e,t?o=>{let r=i[o][n];return r<e||r===e&&i[o+1][n]===e}:o=>i[o][n]<e),eY=(i,n,e)=>FT(i,e,t=>i[t][n]>=e);function tY(i,n,e){let t=0,o=i.length;for(;t<o&&i[t]<n;)t++;for(;o>t&&i[o-1]>e;)o--;return t>0||o<i.length?i.slice(t,o):i}var iY=["push","pop","shift","splice","unshift"];function nY(i,n){if(i._chartjs){i._chartjs.listeners.push(n);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),iY.forEach(e=>{let t="_onData"+kT(e),o=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){let s=o.apply(this,r);return i._chartjs.listeners.forEach(a=>{typeof a[t]=="function"&&a[t](...r)}),s}})})}function qL(i,n){let e=i._chartjs;if(!e)return;let t=e.listeners,o=t.indexOf(n);o!==-1&&t.splice(o,1),!(t.length>0)&&(iY.forEach(r=>{delete i[r]}),delete i._chartjs)}function JL(i){let n=new Set(i);return n.size===i.length?i:Array.from(n)}var QL=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function YL(i,n){let e=[],t=!1;return function(...o){e=o,t||(t=!0,QL.call(window,()=>{t=!1,i.apply(n,e)}))}}function oY(i,n){let e;return function(...t){return n?(clearTimeout(e),e=setTimeout(i,n,t)):i.apply(this,t),n}}var LT=i=>i==="start"?"left":i==="end"?"right":"center",Ws=(i,n,e)=>i==="start"?n:i==="end"?e:(n+e)/2,rY=(i,n,e,t)=>i===(t?"left":"right")?e:i==="center"?(n+e)/2:n;function XL(i,n,e){let t=n.length,o=0,r=t;if(i._sorted){let{iScale:s,vScale:a,_parsed:l}=i,c=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,d=s.axis,{min:u,max:m,minDefined:g,maxDefined:y}=s.getUserBounds();if(g){if(o=Math.min(Ud(l,d,u).lo,e?t:Ud(n,d,s.getPixelForValue(u)).lo),c){let v=l.slice(0,o+1).reverse().findIndex(S=>!pn(S[a.axis]));o-=Math.max(0,v)}o=us(o,0,t-1)}if(y){let v=Math.max(Ud(l,s.axis,m,!0).hi+1,e?0:Ud(n,d,s.getPixelForValue(m),!0).hi+1);if(c){let S=l.slice(v-1).findIndex(I=>!pn(I[a.axis]));v+=Math.max(0,S)}r=us(v,o,t)-o}else r=t-o}return{start:o,count:r}}function ZL(i){let{xScale:n,yScale:e,_scaleRanges:t}=i,o={xmin:n.min,xmax:n.max,ymin:e.min,ymax:e.max};if(!t)return i._scaleRanges=o,!0;let r=t.xmin!==n.min||t.xmax!==n.max||t.ymin!==e.min||t.ymax!==e.max;return Object.assign(t,o),r}var xT=i=>i===0||i===1,VQ=(i,n,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-n)*Fo/e)),UQ=(i,n,e)=>Math.pow(2,-10*i)*Math.sin((i-n)*Fo/e)+1,o0={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*yr)+1,easeOutSine:i=>Math.sin(i*yr),easeInOutSine:i=>-.5*(Math.cos(An*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>xT(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>xT(i)?i:VQ(i,.075,.3),easeOutElastic:i=>xT(i)?i:UQ(i,.075,.3),easeInOutElastic(i){return xT(i)?i:i<.5?.5*VQ(i*2,.1125,.45):.5+.5*UQ(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let n=1.70158;return(i/=.5)<1?.5*(i*i*(((n*=1.525)+1)*i-n)):.5*((i-=2)*i*(((n*=1.525)+1)*i+n)+2)},easeInBounce:i=>1-o0.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?o0.easeInBounce(i*2)*.5:o0.easeOutBounce(i*2-1)*.5+.5};function eM(i){if(i&&typeof i=="object"){let n=i.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function tM(i){return eM(i)?i:new nw(i)}function VL(i){return eM(i)?i:new nw(i).saturate(.5).darken(.1).hexString()}var ZVe=["x","y","borderWidth","radius","tension"],e4e=["color","borderColor","backgroundColor"];function t4e(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),i.set("animations",{colors:{type:"color",properties:e4e},numbers:{type:"number",properties:ZVe}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function i4e(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var jQ=new Map;function n4e(i,n){n=n||{};let e=i+JSON.stringify(n),t=jQ.get(e);return t||(t=new Intl.NumberFormat(i,n),jQ.set(e,t)),t}function p0(i,n,e){return n4e(n,e).format(i)}var sY={values(i){return No(i)?i:""+i},numeric(i,n,e){if(i===0)return"0";let t=this.chart.options.locale,o,r=i;if(e.length>1){let c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(o="scientific"),r=o4e(i,e)}let s=Yp(Math.abs(r)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:o,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),p0(i,t,l)},logarithmic(i,n,e){if(i===0)return"0";let t=e[n].significand||i/Math.pow(10,Math.floor(Yp(i)));return[1,2,3,5,10,15].includes(t)||n>.8*e.length?sY.numeric.call(this,i,n,e):""}};function o4e(i,n){let e=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var lw={formatters:sY};function r4e(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}var Dh=Object.create(null),MT=Object.create(null);function rw(i,n){if(!n)return i;let e=n.split(".");for(let t=0,o=e.length;t<o;++t){let r=e[t];i=i[r]||(i[r]=Object.create(null))}return i}function UL(i,n,e){return typeof n=="string"?r0(rw(i,n),e):r0(rw(i,""),n)}var jL=class{constructor(n,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,o)=>VL(o.backgroundColor),this.hoverBorderColor=(t,o)=>VL(o.borderColor),this.hoverColor=(t,o)=>VL(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(e)}set(n,e){return UL(this,n,e)}get(n){return rw(this,n)}describe(n,e){return UL(MT,n,e)}override(n,e){return UL(Dh,n,e)}route(n,e,t,o){let r=rw(this,n),s=rw(this,t),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){let l=this[a],c=s[o];return gn(l)?Object.assign({},c,l):Gi(l,c)},set(l){this[a]=l}}})}apply(n){n.forEach(e=>e(this))}},zo=new jL({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[t4e,i4e,r4e]);function s4e(i){return!i||pn(i.size)||pn(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function sw(i,n,e,t,o){let r=n[o];return r||(r=n[o]=i.measureText(o).width,e.push(o)),r>t&&(t=r),t}function aY(i,n,e,t){t=t||{};let o=t.data=t.data||{},r=t.garbageCollect=t.garbageCollect||[];t.font!==n&&(o=t.data={},r=t.garbageCollect=[],t.font=n),i.save(),i.font=n;let s=0,a=e.length,l,c,d,u,m;for(l=0;l<a;l++)if(u=e[l],u!=null&&!No(u))s=sw(i,o,r,s,u);else if(No(u))for(c=0,d=u.length;c<d;c++)m=u[c],m!=null&&!No(m)&&(s=sw(i,o,r,s,m));i.restore();let g=r.length/2;if(g>e.length){for(l=0;l<g;l++)delete o[r[l]];r.splice(0,g)}return s}function Ph(i,n,e){let t=i.currentDevicePixelRatio,o=e!==0?Math.max(e/2,.5):0;return Math.round((n-o)*t)/t+o}function iM(i,n){!n&&!i||(n=n||i.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,i.width,i.height),n.restore())}function BT(i,n,e,t){nM(i,n,e,t,null)}function nM(i,n,e,t,o){let r,s,a,l,c,d,u,m,g=n.pointStyle,y=n.rotation,v=n.radius,S=(y||0)*QVe;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,t),i.rotate(S),i.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),i.restore();return}if(!(isNaN(v)||v<=0)){switch(i.beginPath(),g){default:o?i.ellipse(e,t,o/2,v,0,0,Fo):i.arc(e,t,v,0,Fo),i.closePath();break;case"triangle":d=o?o/2:v,i.moveTo(e+Math.sin(S)*d,t-Math.cos(S)*v),S+=BQ,i.lineTo(e+Math.sin(S)*d,t-Math.cos(S)*v),S+=BQ,i.lineTo(e+Math.sin(S)*d,t-Math.cos(S)*v),i.closePath();break;case"rectRounded":c=v*.516,l=v-c,s=Math.cos(S+um)*l,u=Math.cos(S+um)*(o?o/2-c:l),a=Math.sin(S+um)*l,m=Math.sin(S+um)*(o?o/2-c:l),i.arc(e-u,t-a,c,S-An,S-yr),i.arc(e+m,t-s,c,S-yr,S),i.arc(e+u,t+a,c,S,S+yr),i.arc(e-m,t+s,c,S+yr,S+An),i.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*v,d=o?o/2:l,i.rect(e-d,t-l,2*d,2*l);break}S+=um;case"rectRot":u=Math.cos(S)*(o?o/2:v),s=Math.cos(S)*v,a=Math.sin(S)*v,m=Math.sin(S)*(o?o/2:v),i.moveTo(e-u,t-a),i.lineTo(e+m,t-s),i.lineTo(e+u,t+a),i.lineTo(e-m,t+s),i.closePath();break;case"crossRot":S+=um;case"cross":u=Math.cos(S)*(o?o/2:v),s=Math.cos(S)*v,a=Math.sin(S)*v,m=Math.sin(S)*(o?o/2:v),i.moveTo(e-u,t-a),i.lineTo(e+u,t+a),i.moveTo(e+m,t-s),i.lineTo(e-m,t+s);break;case"star":u=Math.cos(S)*(o?o/2:v),s=Math.cos(S)*v,a=Math.sin(S)*v,m=Math.sin(S)*(o?o/2:v),i.moveTo(e-u,t-a),i.lineTo(e+u,t+a),i.moveTo(e+m,t-s),i.lineTo(e-m,t+s),S+=um,u=Math.cos(S)*(o?o/2:v),s=Math.cos(S)*v,a=Math.sin(S)*v,m=Math.sin(S)*(o?o/2:v),i.moveTo(e-u,t-a),i.lineTo(e+u,t+a),i.moveTo(e+m,t-s),i.lineTo(e-m,t+s);break;case"line":s=o?o/2:Math.cos(S)*v,a=Math.sin(S)*v,i.moveTo(e-s,t-a),i.lineTo(e+s,t+a);break;case"dash":i.moveTo(e,t),i.lineTo(e+Math.cos(S)*(o?o/2:v),t+Math.sin(S)*v);break;case!1:i.closePath();break}i.fill(),n.borderWidth>0&&i.stroke()}}function jd(i,n,e){return e=e||.5,!n||i&&i.x>n.left-e&&i.x<n.right+e&&i.y>n.top-e&&i.y<n.bottom+e}function cw(i,n){i.save(),i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()}function dw(i){i.restore()}function lY(i,n,e,t,o){if(!n)return i.lineTo(e.x,e.y);if(o==="middle"){let r=(n.x+e.x)/2;i.lineTo(r,n.y),i.lineTo(r,e.y)}else o==="after"!=!!t?i.lineTo(n.x,e.y):i.lineTo(e.x,n.y);i.lineTo(e.x,e.y)}function cY(i,n,e,t){if(!n)return i.lineTo(e.x,e.y);i.bezierCurveTo(t?n.cp1x:n.cp2x,t?n.cp1y:n.cp2y,t?e.cp2x:e.cp1x,t?e.cp2y:e.cp1y,e.x,e.y)}function a4e(i,n){n.translation&&i.translate(n.translation[0],n.translation[1]),pn(n.rotation)||i.rotate(n.rotation),n.color&&(i.fillStyle=n.color),n.textAlign&&(i.textAlign=n.textAlign),n.textBaseline&&(i.textBaseline=n.textBaseline)}function l4e(i,n,e,t,o){if(o.strikethrough||o.underline){let r=i.measureText(t),s=n-r.actualBoundingBoxLeft,a=n+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,d=o.strikethrough?(l+c)/2:c;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(s,d),i.lineTo(a,d),i.stroke()}}function c4e(i,n){let e=i.fillStyle;i.fillStyle=n.color,i.fillRect(n.left,n.top,n.width,n.height),i.fillStyle=e}function Ah(i,n,e,t,o,r={}){let s=No(n)?n:[n],a=r.strokeWidth>0&&r.strokeColor!=="",l,c;for(i.save(),i.font=o.string,a4e(i,r),l=0;l<s.length;++l)c=s[l],r.backdrop&&c4e(i,r.backdrop),a&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),pn(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(c,e,t,r.maxWidth)),i.fillText(c,e,t,r.maxWidth),l4e(i,e,t,c,r),t+=Number(o.lineHeight);i.restore()}function u0(i,n){let{x:e,y:t,w:o,h:r,radius:s}=n;i.arc(e+s.topLeft,t+s.topLeft,s.topLeft,1.5*An,An,!0),i.lineTo(e,t+r-s.bottomLeft),i.arc(e+s.bottomLeft,t+r-s.bottomLeft,s.bottomLeft,An,yr,!0),i.lineTo(e+o-s.bottomRight,t+r),i.arc(e+o-s.bottomRight,t+r-s.bottomRight,s.bottomRight,yr,0,!0),i.lineTo(e+o,t+s.topRight),i.arc(e+o-s.topRight,t+s.topRight,s.topRight,0,-yr,!0),i.lineTo(e+s.topLeft,t)}var d4e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p4e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function u4e(i,n){let e=(""+i).match(d4e);if(!e||e[1]==="normal")return n*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return n*i}var h4e=i=>+i||0;function VT(i,n){let e={},t=gn(n),o=t?Object.keys(n):n,r=gn(i)?t?s=>Gi(i[s],i[n[s]]):s=>i[s]:()=>i;for(let s of o)e[s]=h4e(r(s));return e}function oM(i){return VT(i,{top:"y",right:"x",bottom:"y",left:"x"})}function kh(i){return VT(i,["topLeft","topRight","bottomLeft","bottomRight"])}function $s(i){let n=oM(i);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Jr(i,n){i=i||{},n=n||zo.font;let e=Gi(i.size,n.size);typeof e=="string"&&(e=parseInt(e,10));let t=Gi(i.style,n.style);t&&!(""+t).match(p4e)&&(console.warn('Invalid font style specified: "'+t+'"'),t=void 0);let o={family:Gi(i.family,n.family),lineHeight:u4e(Gi(i.lineHeight,n.lineHeight),e),size:e,style:t,weight:Gi(i.weight,n.weight),string:""};return o.string=s4e(o),o}function h0(i,n,e,t){let o=!0,r,s,a;for(r=0,s=i.length;r<s;++r)if(a=i[r],a!==void 0&&(n!==void 0&&typeof a=="function"&&(a=a(n),o=!1),e!==void 0&&No(a)&&(a=a[e%a.length],o=!1),a!==void 0))return t&&!o&&(t.cacheable=!1),a}function dY(i,n,e){let{min:t,max:o}=i,r=GL(n,(o-t)/2),s=(a,l)=>e&&a===0?0:a+l;return{min:s(t,-Math.abs(r)),max:s(o,r)}}function Zp(i,n){return Object.assign(Object.create(i),n)}function UT(i,n=[""],e,t,o=()=>i[0]){let r=e||i;typeof t>"u"&&(t=hY("_fallback",i));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:t,_getTarget:o,override:a=>UT([a,...i],n,r,t)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete i[0][l],!0},get(a,l){return pY(a,l,()=>w4e(l,n,i,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(a,l){return HQ(a).includes(l)},ownKeys(a){return HQ(a)},set(a,l,c){let d=a._storage||(a._storage=o());return a[l]=d[l]=c,delete a._keys,!0}})}function fm(i,n,e,t){let o={_cacheable:!1,_proxy:i,_context:n,_subProxy:e,_stack:new Set,_descriptors:rM(i,t),setContext:r=>fm(i,r,e,t),override:r=>fm(i.override(r),n,e,t)};return new Proxy(o,{deleteProperty(r,s){return delete r[s],delete i[s],!0},get(r,s,a){return pY(r,s,()=>m4e(r,s,a))},getOwnPropertyDescriptor(r,s){return r._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(r,s,a){return i[s]=a,delete r[s],!0}})}function rM(i,n={scriptable:!0,indexable:!0}){let{_scriptable:e=n.scriptable,_indexable:t=n.indexable,_allKeys:o=n.allKeys}=i;return{allKeys:o,scriptable:e,indexable:t,isScriptable:Qp(e)?e:()=>e,isIndexable:Qp(t)?t:()=>t}}var f4e=(i,n)=>i?i+kT(n):n,sM=(i,n)=>gn(n)&&i!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function pY(i,n,e){if(Object.prototype.hasOwnProperty.call(i,n)||n==="constructor")return i[n];let t=e();return i[n]=t,t}function m4e(i,n,e){let{_proxy:t,_context:o,_subProxy:r,_descriptors:s}=i,a=t[n];return Qp(a)&&s.isScriptable(n)&&(a=g4e(n,a,i,e)),No(a)&&a.length&&(a=_4e(n,a,i,s.isIndexable)),sM(n,a)&&(a=fm(a,o,r&&r[n],s)),a}function g4e(i,n,e,t){let{_proxy:o,_context:r,_subProxy:s,_stack:a}=e;if(a.has(i))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+i);a.add(i);let l=n(r,s||t);return a.delete(i),sM(i,l)&&(l=aM(o._scopes,o,i,l)),l}function _4e(i,n,e,t){let{_proxy:o,_context:r,_subProxy:s,_descriptors:a}=e;if(typeof r.index<"u"&&t(i))return n[r.index%n.length];if(gn(n[0])){let l=n,c=o._scopes.filter(d=>d!==l);n=[];for(let d of l){let u=aM(c,o,i,d);n.push(fm(u,r,s&&s[i],a))}}return n}function uY(i,n,e){return Qp(i)?i(n,e):i}var b4e=(i,n)=>i===!0?n:typeof i=="string"?Xp(n,i):void 0;function y4e(i,n,e,t,o){for(let r of n){let s=b4e(e,r);if(s){i.add(s);let a=uY(s._fallback,e,o);if(typeof a<"u"&&a!==e&&a!==t)return a}else if(s===!1&&typeof t<"u"&&e!==t)return null}return!1}function aM(i,n,e,t){let o=n._rootScopes,r=uY(n._fallback,e,t),s=[...i,...o],a=new Set;a.add(t);let l=GQ(a,s,e,r||e,t);return l===null||typeof r<"u"&&r!==e&&(l=GQ(a,s,r,l,t),l===null)?!1:UT(Array.from(a),[""],o,r,()=>v4e(n,e,t))}function GQ(i,n,e,t,o){for(;e;)e=y4e(i,n,e,t,o);return e}function v4e(i,n,e){let t=i._getTarget();n in t||(t[n]={});let o=t[n];return No(o)&&gn(e)?e:o||{}}function w4e(i,n,e,t){let o;for(let r of n)if(o=hY(f4e(r,i),e),typeof o<"u")return sM(i,o)?aM(e,t,i,o):o}function hY(i,n){for(let e of n){if(!e)continue;let t=e[i];if(typeof t<"u")return t}}function HQ(i){let n=i._keys;return n||(n=i._keys=C4e(i._scopes)),n}function C4e(i){let n=new Set;for(let e of i)for(let t of Object.keys(e).filter(o=>!o.startsWith("_")))n.add(t);return Array.from(n)}function lM(i,n,e,t){let{iScale:o}=i,{key:r="r"}=this._parsing,s=new Array(t),a,l,c,d;for(a=0,l=t;a<l;++a)c=a+e,d=n[c],s[a]={r:o.parse(Xp(d,r),c)};return s}var S4e=Number.EPSILON||1e-14,s0=(i,n)=>n<i.length&&!i[n].skip&&i[n],fY=i=>i==="x"?"y":"x";function I4e(i,n,e,t){let o=i.skip?n:i,r=n,s=e.skip?n:e,a=PT(r,o),l=PT(s,r),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=t*c,m=t*d;return{previous:{x:r.x-u*(s.x-o.x),y:r.y-u*(s.y-o.y)},next:{x:r.x+m*(s.x-o.x),y:r.y+m*(s.y-o.y)}}}function E4e(i,n,e){let t=i.length,o,r,s,a,l,c=s0(i,0);for(let d=0;d<t-1;++d)if(l=c,c=s0(i,d+1),!(!l||!c)){if(c0(n[d],0,S4e)){e[d]=e[d+1]=0;continue}o=e[d]/n[d],r=e[d+1]/n[d],a=Math.pow(o,2)+Math.pow(r,2),!(a<=9)&&(s=3/Math.sqrt(a),e[d]=o*s*n[d],e[d+1]=r*s*n[d])}}function x4e(i,n,e="x"){let t=fY(e),o=i.length,r,s,a,l=s0(i,0);for(let c=0;c<o;++c){if(s=a,a=l,l=s0(i,c+1),!a)continue;let d=a[e],u=a[t];s&&(r=(d-s[e])/3,a[`cp1${e}`]=d-r,a[`cp1${t}`]=u-r*n[c]),l&&(r=(l[e]-d)/3,a[`cp2${e}`]=d+r,a[`cp2${t}`]=u+r*n[c])}}function T4e(i,n="x"){let e=fY(n),t=i.length,o=Array(t).fill(0),r=Array(t),s,a,l,c=s0(i,0);for(s=0;s<t;++s)if(a=l,l=c,c=s0(i,s+1),!!l){if(c){let d=c[n]-l[n];o[s]=d!==0?(c[e]-l[e])/d:0}r[s]=a?c?Vc(o[s-1])!==Vc(o[s])?0:(o[s-1]+o[s])/2:o[s-1]:o[s]}E4e(i,o,r),x4e(i,r,n)}function TT(i,n,e){return Math.max(Math.min(i,e),n)}function O4e(i,n){let e,t,o,r,s,a=jd(i[0],n);for(e=0,t=i.length;e<t;++e)s=r,r=a,a=e<t-1&&jd(i[e+1],n),r&&(o=i[e],s&&(o.cp1x=TT(o.cp1x,n.left,n.right),o.cp1y=TT(o.cp1y,n.top,n.bottom)),a&&(o.cp2x=TT(o.cp2x,n.left,n.right),o.cp2y=TT(o.cp2y,n.top,n.bottom)))}function mY(i,n,e,t,o){let r,s,a,l;if(n.spanGaps&&(i=i.filter(c=>!c.skip)),n.cubicInterpolationMode==="monotone")T4e(i,o);else{let c=t?i[i.length-1]:i[0];for(r=0,s=i.length;r<s;++r)a=i[r],l=I4e(c,a,i[Math.min(r+1,s-(t?0:1))%s],n.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}n.capBezierPoints&&O4e(i,e)}function jT(){return typeof window<"u"&&typeof document<"u"}function GT(i){let n=i.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function AT(i,n,e){let t;return typeof i=="string"?(t=parseInt(i,10),i.indexOf("%")!==-1&&(t=t/100*n.parentNode[e])):t=i,t}var HT=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function R4e(i,n){return HT(i).getPropertyValue(n)}var D4e=["top","right","bottom","left"];function hm(i,n,e){let t={};e=e?"-"+e:"";for(let o=0;o<4;o++){let r=D4e[o];t[r]=parseFloat(i[n+"-"+r+e])||0}return t.width=t.left+t.right,t.height=t.top+t.bottom,t}var P4e=(i,n,e)=>(i>0||n>0)&&(!e||!e.shadowRoot);function A4e(i,n){let e=i.touches,t=e&&e.length?e[0]:i,{offsetX:o,offsetY:r}=t,s=!1,a,l;if(P4e(o,r,i.target))a=o,l=r;else{let c=n.getBoundingClientRect();a=t.clientX-c.left,l=t.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function Nh(i,n){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:t}=n,o=HT(e),r=o.boxSizing==="border-box",s=hm(o,"padding"),a=hm(o,"border","width"),{x:l,y:c,box:d}=A4e(i,e),u=s.left+(d&&a.left),m=s.top+(d&&a.top),{width:g,height:y}=n;return r&&(g-=s.width+a.width,y-=s.height+a.height),{x:Math.round((l-u)/g*e.width/t),y:Math.round((c-m)/y*e.height/t)}}function k4e(i,n,e){let t,o;if(n===void 0||e===void 0){let r=i&&GT(i);if(!r)n=i.clientWidth,e=i.clientHeight;else{let s=r.getBoundingClientRect(),a=HT(r),l=hm(a,"border","width"),c=hm(a,"padding");n=s.width-c.width-l.width,e=s.height-c.height-l.height,t=AT(a.maxWidth,r,"clientWidth"),o=AT(a.maxHeight,r,"clientHeight")}}return{width:n,height:e,maxWidth:t||DT,maxHeight:o||DT}}var Rh=i=>Math.round(i*10)/10;function gY(i,n,e,t){let o=HT(i),r=hm(o,"margin"),s=AT(o.maxWidth,i,"clientWidth")||DT,a=AT(o.maxHeight,i,"clientHeight")||DT,l=k4e(i,n,e),{width:c,height:d}=l;if(o.boxSizing==="content-box"){let m=hm(o,"border","width"),g=hm(o,"padding");c-=g.width+m.width,d-=g.height+m.height}return c=Math.max(0,c-r.width),d=Math.max(0,t?c/t:d-r.height),c=Rh(Math.min(c,s,l.maxWidth)),d=Rh(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Rh(c/2)),(n!==void 0||e!==void 0)&&t&&l.height&&d>l.height&&(d=l.height,c=Rh(Math.floor(d*t))),{width:c,height:d}}function cM(i,n,e){let t=n||1,o=Rh(i.height*t),r=Rh(i.width*t);i.height=Rh(i.height),i.width=Rh(i.width);let s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==t||s.height!==o||s.width!==r?(i.currentDevicePixelRatio=t,s.height=o,s.width=r,i.ctx.setTransform(t,0,0,t,0,0),!0):!1}var _Y=(function(){let i=!1;try{let n={get passive(){return i=!0,!1}};jT()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return i})();function dM(i,n){let e=R4e(i,n),t=e&&e.match(/^(\d+)(\.\d+)?px$/);return t?+t[1]:void 0}function Oh(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:i.y+e*(n.y-i.y)}}function bY(i,n,e,t){return{x:i.x+e*(n.x-i.x),y:t==="middle"?e<.5?i.y:n.y:t==="after"?e<1?i.y:n.y:e>0?n.y:i.y}}function yY(i,n,e,t){let o={x:i.cp2x,y:i.cp2y},r={x:n.cp1x,y:n.cp1y},s=Oh(i,o,e),a=Oh(o,r,e),l=Oh(r,n,e),c=Oh(s,a,e),d=Oh(a,l,e);return Oh(c,d,e)}var N4e=function(i,n){return{x(e){return i+i+n-e},setWidth(e){n=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}},F4e=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,n){return i+n},leftForLtr(i,n){return i}}};function gm(i,n,e){return i?N4e(n,e):F4e()}function pM(i,n){let e,t;(n==="ltr"||n==="rtl")&&(e=i.canvas.style,t=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",n,"important"),i.prevTextDirection=t)}function uM(i,n){n!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",n[0],n[1]))}function vY(i){return i==="angle"?{between:d0,compare:XVe,normalize:zs}:{between:Hd,compare:(n,e)=>n-e,normalize:n=>n}}function zQ({start:i,end:n,count:e,loop:t,style:o}){return{start:i%e,end:n%e,loop:t&&(n-i+1)%e===0,style:o}}function L4e(i,n,e){let{property:t,start:o,end:r}=e,{between:s,normalize:a}=vY(t),l=n.length,{start:c,end:d,loop:u}=i,m,g;if(u){for(c+=l,d+=l,m=0,g=l;m<g&&s(a(n[c%l][t]),o,r);++m)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:i.style}}function hM(i,n,e){if(!e)return[i];let{property:t,start:o,end:r}=e,s=n.length,{compare:a,between:l,normalize:c}=vY(t),{start:d,end:u,loop:m,style:g}=L4e(i,n,e),y=[],v=!1,S=null,I,P,L,F=()=>l(o,L,I)&&a(o,L)!==0,K=()=>a(r,I)===0||l(r,L,I),le=()=>v||F(),me=()=>!v||K();for(let fe=d,Te=d;fe<=u;++fe)P=n[fe%s],!P.skip&&(I=c(P[t]),I!==L&&(v=l(I,o,r),S===null&&le()&&(S=a(I,o)===0?fe:Te),S!==null&&me()&&(y.push(zQ({start:S,end:fe,loop:m,count:s,style:g})),S=null),Te=fe,L=I));return S!==null&&y.push(zQ({start:S,end:u,loop:m,count:s,style:g})),y}function fM(i,n){let e=[],t=i.segments;for(let o=0;o<t.length;o++){let r=hM(t[o],i.points,n);r.length&&e.push(...r)}return e}function M4e(i,n,e,t){let o=0,r=n-1;if(e&&!t)for(;o<n&&!i[o].skip;)o++;for(;o<n&&i[o].skip;)o++;for(o%=n,e&&(r+=o);r>o&&i[r%n].skip;)r--;return r%=n,{start:o,end:r}}function B4e(i,n,e,t){let o=i.length,r=[],s=n,a=i[n],l;for(l=n+1;l<=e;++l){let c=i[l%o];c.skip||c.stop?a.skip||(t=!1,r.push({start:n%o,end:(l-1)%o,loop:t}),n=s=c.stop?l:null):(s=l,a.skip&&(n=l)),a=c}return s!==null&&r.push({start:n%o,end:s%o,loop:t}),r}function wY(i,n){let e=i.points,t=i.options.spanGaps,o=e.length;if(!o)return[];let r=!!i._loop,{start:s,end:a}=M4e(e,o,r,t);if(t===!0)return WQ(i,[{start:s,end:a,loop:r}],e,n);let l=a<s?a+o:a,c=!!i._fullLoop&&s===0&&a===o-1;return WQ(i,B4e(e,s,l,c),e,n)}function WQ(i,n,e,t){return!t||!t.setContext||!e?n:V4e(i,n,e,t)}function V4e(i,n,e,t){let o=i._chart.getContext(),r=$Q(i.options),{_datasetIndex:s,options:{spanGaps:a}}=i,l=e.length,c=[],d=r,u=n[0].start,m=u;function g(y,v,S,I){let P=a?-1:1;if(y!==v){for(y+=l;e[y%l].skip;)y-=P;for(;e[v%l].skip;)v+=P;y%l!==v%l&&(c.push({start:y%l,end:v%l,loop:S,style:I}),d=I,u=v%l)}}for(let y of n){u=a?u:y.start;let v=e[u%l],S;for(m=u+1;m<=y.end;m++){let I=e[m%l];S=$Q(t.setContext(Zp(o,{type:"segment",p0:v,p1:I,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:s}))),U4e(S,d)&&g(u,m-1,y.loop,d),v=I,d=S}u<m-1&&g(u,m-1,y.loop,d)}return c}function $Q(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function U4e(i,n){if(!n)return!1;let e=[],t=function(o,r){return eM(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,t)!==JSON.stringify(n,t)}function OT(i,n,e){return i.options.clip?i[e]:n[e]}function j4e(i,n){let{xScale:e,yScale:t}=i;return e&&t?{left:OT(e,n,"left"),right:OT(e,n,"right"),top:OT(t,n,"top"),bottom:OT(t,n,"bottom")}:n}function mM(i,n){let e=n._clip;if(e.disabled)return!1;let t=j4e(n,i.chartArea);return{left:e.left===!1?0:t.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:t.right+(e.right===!0?0:e.right),top:e.top===!1?0:t.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:t.bottom+(e.bottom===!0?0:e.bottom)}}var TM=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,e,t,o){let r=e.listeners[o],s=e.duration;r.forEach(a=>a({chart:n,initial:e.initial,numSteps:s,currentStep:Math.min(t-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=QL.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let e=0;this._charts.forEach((t,o)=>{if(!t.running||!t.items.length)return;let r=t.items,s=r.length-1,a=!1,l;for(;s>=0;--s)l=r[s],l._active?(l._total>t.duration&&(t.duration=l._total),l.tick(n),a=!0):(r[s]=r[r.length-1],r.pop());a&&(o.draw(),this._notify(o,t,n,"progress")),r.length||(t.running=!1,this._notify(o,t,n,"complete"),t.initial=!1),e+=r.length}),this._lastDate=n,e===0&&(this._running=!1)}_getAnims(n){let e=this._charts,t=e.get(n);return t||(t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(n,t)),t}listen(n,e,t){this._getAnims(n).listeners[e].push(t)}add(n,e){!e||!e.length||this._getAnims(n).items.push(...e)}has(n){return this._getAnims(n).items.length>0}start(n){let e=this._charts.get(n);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((t,o)=>Math.max(t,o._duration),0),this._refresh())}running(n){if(!this._running)return!1;let e=this._charts.get(n);return!(!e||!e.running||!e.items.length)}stop(n){let e=this._charts.get(n);if(!e||!e.items.length)return;let t=e.items,o=t.length-1;for(;o>=0;--o)t[o].cancel();e.items=[],this._notify(n,e,Date.now(),"complete")}remove(n){return this._charts.delete(n)}},eu=new TM,CY="transparent",G4e={boolean(i,n,e){return e>.5?n:i},color(i,n,e){let t=tM(i||CY),o=t.valid&&tM(n||CY);return o&&o.valid?o.mix(t,e).hexString():n},number(i,n,e){return i+(n-i)*e}},OM=class{constructor(n,e,t,o){let r=e[t];o=h0([n.to,o,r,n.from]);let s=h0([n.from,r,o]);this._active=!0,this._fn=n.fn||G4e[n.type||typeof s],this._easing=o0[n.easing]||o0.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=e,this._prop=t,this._from=s,this._to=o,this._promises=void 0}active(){return this._active}update(n,e,t){if(this._active){this._notify(!1);let o=this._target[this._prop],r=t-this._start,s=this._duration-r;this._start=t,this._duration=Math.floor(Math.max(s,n.duration)),this._total+=r,this._loop=!!n.loop,this._to=h0([n.to,e,o,n.from]),this._from=h0([n.from,o,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){let e=n-this._start,t=this._duration,o=this._prop,r=this._from,s=this._loop,a=this._to,l;if(this._active=r!==a&&(s||e<t),!this._active){this._target[o]=a,this._notify(!0);return}if(e<0){this._target[o]=r;return}l=e/t%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(r,a,l)}wait(){let n=this._promises||(this._promises=[]);return new Promise((e,t)=>{n.push({res:e,rej:t})})}_notify(n){let e=n?"res":"rej",t=this._promises||[];for(let o=0;o<t.length;o++)t[o][e]()}},XT=class{constructor(n,e){this._chart=n,this._properties=new Map,this.configure(e)}configure(n){if(!gn(n))return;let e=Object.keys(zo.animation),t=this._properties;Object.getOwnPropertyNames(n).forEach(o=>{let r=n[o];if(!gn(r))return;let s={};for(let a of e)s[a]=r[a];(No(r.properties)&&r.properties||[o]).forEach(a=>{(a===o||!t.has(a))&&t.set(a,s)})})}_animateOptions(n,e){let t=e.options,o=z4e(n,t);if(!o)return[];let r=this._createAnimations(o,t);return t.$shared&&H4e(n.options.$animations,t).then(()=>{n.options=t},()=>{}),r}_createAnimations(n,e){let t=this._properties,o=[],r=n.$animations||(n.$animations={}),s=Object.keys(e),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){o.push(...this._animateOptions(n,e));continue}let d=e[c],u=r[c],m=t.get(c);if(u)if(m&&u.active()){u.update(m,d,a);continue}else u.cancel();if(!m||!m.duration){n[c]=d;continue}r[c]=u=new OM(m,n,c,d),o.push(u)}return o}update(n,e){if(this._properties.size===0){Object.assign(n,e);return}let t=this._createAnimations(n,e);if(t.length)return eu.add(this._chart,t),!0}};function H4e(i,n){let e=[],t=Object.keys(n);for(let o=0;o<t.length;o++){let r=i[t[o]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function z4e(i,n){if(!n)return;let e=i.options;if(!e){i.options=n;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function SY(i,n){let e=i&&i.options||{},t=e.reverse,o=e.min===void 0?n:0,r=e.max===void 0?n:0;return{start:t?r:o,end:t?o:r}}function W4e(i,n,e){if(e===!1)return!1;let t=SY(i,e),o=SY(n,e);return{top:o.end,right:t.end,bottom:o.start,left:t.start}}function $4e(i){let n,e,t,o;return gn(i)?(n=i.top,e=i.right,t=i.bottom,o=i.left):n=e=t=o=i,{top:n,right:e,bottom:t,left:o,disabled:i===!1}}function CX(i,n){let e=[],t=i._getSortedDatasetMetas(n),o,r;for(o=0,r=t.length;o<r;++o)e.push(t[o].index);return e}function IY(i,n,e,t={}){let o=i.keys,r=t.mode==="single",s,a,l,c;if(n===null)return;let d=!1;for(s=0,a=o.length;s<a;++s){if(l=+o[s],l===e){if(d=!0,t.all)continue;break}c=i.values[l],sr(c)&&(r||n===0||Vc(n)===Vc(c))&&(n+=c)}return!d&&!t.all?0:n}function K4e(i,n){let{iScale:e,vScale:t}=n,o=e.axis==="x"?"x":"y",r=t.axis==="x"?"x":"y",s=Object.keys(i),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[o]:d,[r]:i[d]};return a}function gM(i,n){let e=i&&i.options.stacked;return e||e===void 0&&n.stack!==void 0}function q4e(i,n,e){return`${i.id}.${n.id}.${e.stack||e.type}`}function J4e(i){let{min:n,max:e,minDefined:t,maxDefined:o}=i.getUserBounds();return{min:t?n:Number.NEGATIVE_INFINITY,max:o?e:Number.POSITIVE_INFINITY}}function Q4e(i,n,e){let t=i[n]||(i[n]={});return t[e]||(t[e]={})}function EY(i,n,e,t){for(let o of n.getMatchingVisibleMetas(t).reverse()){let r=i[o.index];if(e&&r>0||!e&&r<0)return o.index}return null}function xY(i,n){let{chart:e,_cachedMeta:t}=i,o=e._stacks||(e._stacks={}),{iScale:r,vScale:s,index:a}=t,l=r.axis,c=s.axis,d=q4e(r,s,t),u=n.length,m;for(let g=0;g<u;++g){let y=n[g],{[l]:v,[c]:S}=y,I=y._stacks||(y._stacks={});m=I[c]=Q4e(o,d,v),m[a]=S,m._top=EY(m,s,!0,t.type),m._bottom=EY(m,s,!1,t.type);let P=m._visualValues||(m._visualValues={});P[a]=S}}function _M(i,n){let e=i.scales;return Object.keys(e).filter(t=>e[t].axis===n).shift()}function Y4e(i,n){return Zp(i,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function X4e(i,n,e){return Zp(i,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:e,index:n,mode:"default",type:"data"})}function pw(i,n){let e=i.controller.index,t=i.vScale&&i.vScale.axis;if(t){n=n||i._parsed;for(let o of n){let r=o._stacks;if(!r||r[t]===void 0||r[t][e]===void 0)return;delete r[t][e],r[t]._visualValues!==void 0&&r[t]._visualValues[e]!==void 0&&delete r[t]._visualValues[e]}}}var bM=i=>i==="reset"||i==="none",TY=(i,n)=>n?i:Object.assign({},i),Z4e=(i,n,e)=>i&&!n.hidden&&n._stacked&&{keys:CX(e,!0),values:null},Lh=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gM(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&pw(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,t=this._cachedMeta,o=this.getDataset(),r=(m,g,y,v)=>m==="x"?g:m==="r"?v:y,s=t.xAxisID=Gi(o.xAxisID,_M(e,"x")),a=t.yAxisID=Gi(o.yAxisID,_M(e,"y")),l=t.rAxisID=Gi(o.rAxisID,_M(e,"r")),c=t.indexAxis,d=t.iAxisID=r(c,s,a,l),u=t.vAxisID=r(c,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&qL(this._data,this),e._stacked&&pw(e)}_dataCheck(){let e=this.getDataset(),t=e.data||(e.data=[]),o=this._data;if(gn(t)){let r=this._cachedMeta;this._data=K4e(t,r)}else if(o!==t){if(o){qL(o,this);let r=this._cachedMeta;pw(r),r._parsed=[]}t&&Object.isExtensible(t)&&nY(t,this),this._syncList=[],this._data=t}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let t=this._cachedMeta,o=this.getDataset(),r=!1;this._dataCheck();let s=t._stacked;t._stacked=gM(t.vScale,t),t.stack!==o.stack&&(r=!0,pw(t),t.stack=o.stack),this._resyncElements(e),(r||s!==t._stacked)&&(xY(this,t._parsed),t._stacked=gM(t.vScale,t))}configure(){let e=this.chart.config,t=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){let{_cachedMeta:o,_data:r}=this,{iScale:s,_stacked:a}=o,l=s.axis,c=e===0&&t===r.length?!0:o._sorted,d=e>0&&o._parsed[e-1],u,m,g;if(this._parsing===!1)o._parsed=r,o._sorted=!0,g=r;else{No(r[e])?g=this.parseArrayData(o,r,e,t):gn(r[e])?g=this.parseObjectData(o,r,e,t):g=this.parsePrimitiveData(o,r,e,t);let y=()=>m[l]===null||d&&m[l]<d[l];for(u=0;u<t;++u)o._parsed[u+e]=m=g[u],c&&(y()&&(c=!1),d=m);o._sorted=c}a&&xY(this,g)}parsePrimitiveData(e,t,o,r){let{iScale:s,vScale:a}=e,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,m=new Array(r),g,y,v;for(g=0,y=r;g<y;++g)v=g+o,m[g]={[l]:u||s.parse(d[v],v),[c]:a.parse(t[v],v)};return m}parseArrayData(e,t,o,r){let{xScale:s,yScale:a}=e,l=new Array(r),c,d,u,m;for(c=0,d=r;c<d;++c)u=c+o,m=t[u],l[c]={x:s.parse(m[0],u),y:a.parse(m[1],u)};return l}parseObjectData(e,t,o,r){let{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r),u,m,g,y;for(u=0,m=r;u<m;++u)g=u+o,y=t[g],d[u]={x:s.parse(Xp(y,l),g),y:a.parse(Xp(y,c),g)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,o){let r=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:CX(r,!0),values:t._stacks[e.axis]._visualValues};return IY(l,a,s.index,{mode:o})}updateRangeFromParsed(e,t,o,r){let s=o[t.axis],a=s===null?NaN:s,l=r&&o._stacks[t.axis];r&&l&&(r.values=l,a=IY(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){let o=this._cachedMeta,r=o._parsed,s=o._sorted&&e===o.iScale,a=r.length,l=this._getOtherScale(e),c=Z4e(t,o,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:m}=J4e(l),g,y;function v(){y=r[g];let S=y[l.axis];return!sr(y[e.axis])||u>S||m<S}for(g=0;g<a&&!(!v()&&(this.updateRangeFromParsed(d,e,y,c),s));++g);if(s){for(g=a-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(d,e,y,c);break}}return d}getAllParsedValues(e){let t=this._cachedMeta._parsed,o=[],r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],sr(a)&&o.push(a);return o}getMaxOverflow(){return!1}getLabelAndValue(e){let t=this._cachedMeta,o=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:o?""+o.getLabelForValue(s[o.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){let t=this._cachedMeta;this.update(e||"default"),t._clip=$4e(Gi(this.options.clip,W4e(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,t=this.chart,o=this._cachedMeta,r=o.data||[],s=t.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop,u;for(o.dataset&&o.dataset.draw(e,s,l,c),u=l;u<l+c;++u){let m=r[u];m.hidden||(m.active&&d?a.push(m):m.draw(e,s))}for(u=0;u<a.length;++u)a[u].draw(e,s)}getStyle(e,t){let o=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,t,o){let r=this.getDataset(),s;if(e>=0&&e<this._cachedMeta.data.length){let a=this._cachedMeta.data[e];s=a.$context||(a.$context=X4e(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Y4e(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=o,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",o){let r=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],c=this.enableOptionSharing&&l0(o);if(l)return TY(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),m=r?[`${e}Hover`,"hover",e,""]:[e,""],g=d.getOptionScopes(this.getDataset(),u),y=Object.keys(zo.elements[e]),v=()=>this.getContext(o,r,t),S=d.resolveNamedOptions(g,y,v,m);return S.$shared&&(S.$shared=c,s[a]=Object.freeze(TY(S,c))),S}_resolveAnimations(e,t,o){let r=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let c;if(r.options.animation!==!1){let u=this.chart.config,m=u.datasetAnimationScopeKeys(this._type,t),g=u.getOptionScopes(this.getDataset(),m);c=u.createResolver(g,this.getContext(e,o,t))}let d=new XT(r,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||bM(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){let o=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(o),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,o),{sharedOptions:s,includeOptions:a}}updateElement(e,t,o,r){bM(r)?Object.assign(e,o):this._resolveAnimations(t,r).update(e,o)}updateSharedOptions(e,t,o){e&&!bM(t)&&this._resolveAnimations(void 0,t).update(e,o)}_setStyle(e,t,o,r){e.active=r;let s=this.getStyle(t,r);this._resolveAnimations(t,o,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,t,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let t=this._data,o=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let r=o.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,o=!0){let r=this._cachedMeta,s=r.data,a=e+t,l,c=d=>{for(d.length+=t,l=d.length-1;l>=a;l--)d[l]=d[l-t]};for(c(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),o&&this.updateElements(s,e,t,"reset")}updateElements(e,t,o,r){}_removeElements(e,t){let o=this._cachedMeta;if(this._parsing){let r=o._parsed.splice(e,t);o._stacked&&pw(o,r)}o.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[t,o,r]=e;this[t](o,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);let o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function e5e(i,n){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(n),t=[];for(let o=0,r=e.length;o<r;o++)t=t.concat(e[o].controller.getAllParsedValues(i));i._cache.$bar=JL(t.sort((o,r)=>o-r))}return i._cache.$bar}function t5e(i){let n=i.iScale,e=e5e(n,i.type),t=n._length,o,r,s,a,l=()=>{s===32767||s===-32768||(l0(a)&&(t=Math.min(t,Math.abs(s-a)||t)),a=s)};for(o=0,r=e.length;o<r;++o)s=n.getPixelForValue(e[o]),l();for(a=void 0,o=0,r=n.ticks.length;o<r;++o)s=n.getPixelForTick(o),l();return t}function i5e(i,n,e,t){let o=e.barThickness,r,s;return pn(o)?(r=n.min*e.categoryPercentage,s=e.barPercentage):(r=o*t,s=1),{chunk:r/t,ratio:s,start:n.pixels[i]-r/2}}function n5e(i,n,e,t){let o=n.pixels,r=o[i],s=i>0?o[i-1]:null,a=i<o.length-1?o[i+1]:null,l=e.categoryPercentage;s===null&&(s=r-(a===null?n.end-n.start:a-r)),a===null&&(a=r+r-s);let c=r-(r-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/t,ratio:e.barPercentage,start:c}}function o5e(i,n,e,t){let o=e.parse(i[0],t),r=e.parse(i[1],t),s=Math.min(o,r),a=Math.max(o,r),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),n[e.axis]=c,n._custom={barStart:l,barEnd:c,start:o,end:r,min:s,max:a}}function SX(i,n,e,t){return No(i)?o5e(i,n,e,t):n[e.axis]=e.parse(i,t),n}function OY(i,n,e,t){let o=i.iScale,r=i.vScale,s=o.getLabels(),a=o===r,l=[],c,d,u,m;for(c=e,d=e+t;c<d;++c)m=n[c],u={},u[o.axis]=a||o.parse(s[c],c),l.push(SX(m,u,r,c));return l}function yM(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function r5e(i,n,e){return i!==0?Vc(i):(n.isHorizontal()?1:-1)*(n.min>=e?1:-1)}function s5e(i){let n,e,t,o,r;return i.horizontal?(n=i.base>i.x,e="left",t="right"):(n=i.base<i.y,e="bottom",t="top"),n?(o="end",r="start"):(o="start",r="end"),{start:e,end:t,reverse:n,top:o,bottom:r}}function a5e(i,n,e,t){let o=n.borderSkipped,r={};if(!o){i.borderSkipped=r;return}if(o===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:d}=s5e(i);o==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===t?o=c:(e._bottom||0)===t?o=d:(r[RY(d,s,a,l)]=!0,o=c)),r[RY(o,s,a,l)]=!0,i.borderSkipped=r}function RY(i,n,e,t){return t?(i=l5e(i,n,e),i=DY(i,e,n)):i=DY(i,n,e),i}function l5e(i,n,e){return i===n?e:i===e?n:i}function DY(i,n,e){return i==="start"?n:i==="end"?e:i}function c5e(i,{inflateAmount:n},e){i.inflateAmount=n==="auto"?e===1?.33:0:n}var d5e=(()=>{class i extends Lh{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,o,r){return OY(e,t,o,r)}parseArrayData(e,t,o,r){return OY(e,t,o,r)}parseObjectData(e,t,o,r){let{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=s.axis==="x"?l:c,u=a.axis==="x"?l:c,m=[],g,y,v,S;for(g=o,y=o+r;g<y;++g)S=t[g],v={},v[s.axis]=s.parse(Xp(S,d),g),m.push(SX(Xp(S,u),v,a,g));return m}updateRangeFromParsed(e,t,o,r){super.updateRangeFromParsed(e,t,o,r);let s=o._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let t=this._cachedMeta,{iScale:o,vScale:r}=t,s=this.getParsed(e),a=s._custom,l=yM(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+o.getLabelForValue(s[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,o,r){let s=r==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(t,r);for(let y=t;y<t+o;y++){let v=this.getParsed(y),S=s||pn(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),I=this._calculateBarIndexPixels(y,u),P=(v._stacks||{})[l.axis],L={horizontal:d,base:S.base,enableBorderRadius:!P||yM(v._custom)||a===P._top||a===P._bottom,x:d?S.head:I.center,y:d?I.center:S.head,height:d?I.size:Math.abs(S.size),width:d?Math.abs(S.size):I.size};g&&(L.options=m||this.resolveDataElementOptions(y,e[y].active?"active":r));let F=L.options||e[y].options;a5e(L,F,P,a),c5e(L,F,u.ratio),this.updateElement(e[y],y,L,r)}}_getStacks(e,t){let{iScale:o}=this._cachedMeta,r=o.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=o.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[o.axis],d=u=>{let m=u._parsed.find(y=>y[o.axis]===c),g=m&&m[u.vScale.axis];if(pn(g)||isNaN(g))return!0};for(let u of r)if(!(t!==void 0&&d(u))&&((s===!1||a.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(o=>e[o].axis===t).shift()}_getAxis(){let e={},t=this.getFirstScaleIdForIndexAxis();for(let o of this.chart.data.datasets)e[Gi(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,o){let r=this._getStacks(e,o),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){let e=this.options,t=this._cachedMeta,o=t.iScale,r=[],s,a;for(s=0,a=t.data.length;s<a;++s)r.push(o.getPixelForValue(this.getParsed(s)[o.axis],s));let l=e.barThickness;return{min:l||t5e(t),pixels:r,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:t,_stacked:o,index:r},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(e),d=c._custom,u=yM(d),m=c[t.axis],g=0,y=o?this.applyStack(t,c,o):m,v,S;y!==m&&(g=y-m,y=m),u&&(m=d.barStart,y=d.barEnd-d.barStart,m!==0&&Vc(m)!==Vc(d.barEnd)&&(g=0),g+=m);let I=!pn(s)&&!u?s:g,P=t.getPixelForValue(I);if(this.chart.getDataVisibility(e)?v=t.getPixelForValue(g+y):v=P,S=v-P,Math.abs(S)<a){S=r5e(S,t,l)*a,m===l&&(P-=S/2);let L=t.getPixelForDecimal(0),F=t.getPixelForDecimal(1),K=Math.min(L,F),le=Math.max(L,F);P=Math.max(Math.min(P,le),K),v=P+S,o&&!u&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(v)-t.getValueForPixel(P))}if(P===t.getPixelForValue(l)){let L=Vc(S)*t.getLineWidthForValue(l)/2;P+=L,S-=L}return{size:S,base:P,head:v,center:v+S/2}}_calculateBarIndexPixels(e,t){let o=t.scale,r=this.options,s=r.skipNull,a=Gi(r.maxBarThickness,1/0),l,c,d=this._getAxisCount();if(t.grouped){let u=s?this._getStackCount(e):t.stackCount,m=r.barThickness==="flex"?n5e(e,t,r,u*d):i5e(e,t,r,u*d),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Gi(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+y;l=m.start+m.chunk*v+m.chunk/2,c=Math.min(a,m.chunk*m.ratio)}else l=o.getPixelForValue(this.getParsed(e)[o.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let e=this._cachedMeta,t=e.vScale,o=e.data,r=o.length,s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!o[s].hidden&&o[s].draw(this._ctx)}}return i})(),p5e=(()=>{class i extends Lh{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,o,r){let s=super.parsePrimitiveData(e,t,o,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+o).radius;return s}parseArrayData(e,t,o,r){let s=super.parseArrayData(e,t,o,r);for(let a=0;a<s.length;a++){let l=t[o+a];s[a]._custom=Gi(l[2],this.resolveDataElementOptions(a+o).radius)}return s}parseObjectData(e,t,o,r){let s=super.parseObjectData(e,t,o,r);for(let a=0;a<s.length;a++){let l=t[o+a];s[a]._custom=Gi(l&&l.r&&+l.r,this.resolveDataElementOptions(a+o).radius)}return s}getMaxOverflow(){let e=this._cachedMeta.data,t=0;for(let o=e.length-1;o>=0;--o)t=Math.max(t,e[o].size(this.resolveDataElementOptions(o))/2);return t>0&&t}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y),d=a._custom;return{label:o[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){let t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=a.axis,m=l.axis;for(let g=t;g<t+o;g++){let y=e[g],v=!s&&this.getParsed(g),S={},I=S[u]=s?a.getPixelForDecimal(.5):a.getPixelForValue(v[u]),P=S[m]=s?l.getBasePixel():l.getPixelForValue(v[m]);S.skip=isNaN(I)||isNaN(P),d&&(S.options=c||this.resolveDataElementOptions(g,y.active?"active":r),s&&(S.options.radius=0)),this.updateElement(y,g,S,r)}}resolveDataElementOptions(e,t){let o=this.getParsed(e),r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));let s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=Gi(o&&o._custom,s),r}}return i})();function u5e(i,n,e){let t=1,o=1,r=0,s=0;if(n<Fo){let a=i,l=a+n,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),m=Math.sin(l),g=(L,F,K)=>d0(L,a,l,!0)?1:Math.max(F,F*e,K,K*e),y=(L,F,K)=>d0(L,a,l,!0)?-1:Math.min(F,F*e,K,K*e),v=g(0,c,u),S=g(yr,d,m),I=y(An,c,u),P=y(An+yr,d,m);t=(v-I)/2,o=(S-P)/2,r=-(v+I)/2,s=-(S+P)/2}return{ratioX:t,ratioY:o,offsetX:r,offsetY:s}}var qM=(()=>{class i extends Lh{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data,{labels:{pointStyle:o,textAlign:r,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((c,d)=>{let m=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:m.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(d),lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:m.borderWidth,strokeStyle:m.borderColor,textAlign:r,pointStyle:o,borderRadius:a&&(l||m.borderRadius),index:d}}):[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){let o=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=o;else{let s=c=>+o[c];if(gn(o[e])){let{key:c="value"}=this._parsing;s=d=>+Xp(o[d],c)}let a,l;for(a=e,l=e+t;a<l;++a)r._parsed[a]=s(a)}}_getRotation(){return Ql(this.options.rotation-90)}_getCircumference(){return Ql(this.options.circumference)}_getRotationExtents(){let e=Fo,t=-Fo;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){let r=this.chart.getDatasetMeta(o).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){let t=this.chart,{chartArea:o}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-a)/2,0),c=Math.min(qQ(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:S}=u5e(m,u,c),I=(o.width-a)/g,P=(o.height-a)/y,L=Math.max(Math.min(I,P)/2,0),F=GL(this.options.radius,L),K=Math.max(F*c,0),le=(F-K)/this._getVisibleDatasetWeightTotal();this.offsetX=v*F,this.offsetY=S*F,r.total=this.calculateTotal(),this.outerRadius=F-le*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-le*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){let o=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Fo)}updateElements(e,t,o,r){let s=r==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,m=(l.top+l.bottom)/2,g=s&&d.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:S,includeOptions:I}=this._getSharedOptions(t,r),P=this._getRotation(),L;for(L=0;L<t;++L)P+=this._circumference(L,s);for(L=t;L<t+o;++L){let F=this._circumference(L,s),K=e[L],le={x:u+this.offsetX,y:m+this.offsetY,startAngle:P,endAngle:P+F,circumference:F,outerRadius:v,innerRadius:y};I&&(le.options=S||this.resolveDataElementOptions(L,K.active?"active":r)),P+=F,this.updateElement(K,L,le,r)}}calculateTotal(){let e=this._cachedMeta,t=e.data,o=0,r;for(r=0;r<t.length;r++){let s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(o+=Math.abs(s))}return o}calculateCircumference(e){let t=this._cachedMeta.total;return t>0&&!isNaN(e)?Fo*(Math.abs(e)/t):0}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=p0(t._parsed[e],o.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0,o=this.chart,r,s,a,l,c;if(!e){for(r=0,s=o.data.datasets.length;r<s;++r)if(o.isDatasetVisible(r)){a=o.getDatasetMeta(r),e=a.data,l=a.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)c=l.resolveDataElementOptions(r),c.borderAlign!=="inner"&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let o=0,r=e.length;o<r;++o){let s=this.resolveDataElementOptions(o);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let o=0;o<e;++o)this.chart.isDatasetVisible(o)&&(t+=this._getRingWeight(o));return t}_getRingWeight(e){return Math.max(Gi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),h5e=(()=>{class i extends Lh{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let t=this._cachedMeta,{dataset:o,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled,{start:l,count:c}=XL(t,r,a);this._drawStart=l,this._drawCount=c,ZL(t)&&(l=0,c=r.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!s._decimated,o.points=r;let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(o,void 0,{animated:!a,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:m}=this._getSharedOptions(t,r),g=a.axis,y=l.axis,{spanGaps:v,segment:S}=this.options,I=mm(v)?v:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||s||r==="none",L=t+o,F=e.length,K=t>0&&this.getParsed(t-1);for(let le=0;le<F;++le){let me=e[le],fe=P?me:{};if(le<t||le>=L){fe.skip=!0;continue}let Te=this.getParsed(le),He=pn(Te[y]),Be=fe[g]=a.getPixelForValue(Te[g],le),rt=fe[y]=s||He?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,Te,c):Te[y],le);fe.skip=isNaN(Be)||isNaN(rt)||He,fe.stop=le>0&&Math.abs(Te[g]-K[g])>I,S&&(fe.parsed=Te,fe.raw=d.data[le]),m&&(fe.options=u||this.resolveDataElementOptions(le,me.active?"active":r)),P||this.updateElement(me,le,fe,r),K=Te}}getMaxOverflow(){let e=this._cachedMeta,t=e.dataset,o=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),IX=(()=>{class i extends Lh{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:o,color:r}}=e.legend.options;return t.labels.map((s,a)=>{let c=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:r,lineWidth:c.borderWidth,pointStyle:o,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,o){o.chart.toggleDataVisibility(t.index),o.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let t=this._cachedMeta,o=this.chart,r=o.data.labels||[],s=p0(t._parsed[e].r,o.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,o,r){return lM.bind(this)(e,t,o,r)}update(e){let t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){let e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((o,r)=>{let s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){let e=this.chart,t=e.chartArea,o=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),a=Math.max(o.cutoutPercentage?s/100*o.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,o,r){let s=r==="reset",a=this.chart,c=a.options.animation,d=this._cachedMeta.rScale,u=d.xCenter,m=d.yCenter,g=d.getIndexAngle(0)-.5*An,y=g,v,S=360/this.countVisibleElements();for(v=0;v<t;++v)y+=this._computeAngle(v,r,S);for(v=t;v<t+o;v++){let I=e[v],P=y,L=y+this._computeAngle(v,r,S),F=a.getDataVisibility(v)?d.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=L,s&&(c.animateScale&&(F=0),c.animateRotate&&(P=L=g));let K={x:u,y:m,innerRadius:0,outerRadius:F,startAngle:P,endAngle:L,options:this.resolveDataElementOptions(v,I.active?"active":r)};this.updateElement(I,v,K,r)}}countVisibleElements(){let e=this._cachedMeta,t=0;return e.data.forEach((o,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,o){return this.chart.getDataVisibility(e)?Ql(this.resolveDataElementOptions(e,t).angle||o):0}}return i})(),f5e=(()=>{class i extends qM{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),m5e=(()=>{class i extends Lh{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let t=this._cachedMeta.vScale,o=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(o[t.axis])}}parseObjectData(e,t,o,r){return lM.bind(this)(e,t,o,r)}update(e){let t=this._cachedMeta,o=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(o.points=r,e!=="resize"){let a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===r.length,options:a};this.updateElement(o,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,o,r){let s=this._cachedMeta.rScale,a=r==="reset";for(let l=t;l<t+o;l++){let c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":r),u=s.getPointPositionForValue(l,this.getParsed(l).r),m=a?s.xCenter:u.x,g=a?s.yCenter:u.y,y={x:m,y:g,angle:u.angle,skip:isNaN(m)||isNaN(g),options:d};this.updateElement(c,l,y,r)}}}return i})(),g5e=(()=>{class i extends Lh{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let t=this._cachedMeta,o=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),l=r.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:o[e]||"",value:"("+l+", "+c+")"}}update(e){let t=this._cachedMeta,{data:o=[]}=t,r=this.chart._animationsDisabled,{start:s,count:a}=XL(t,o,r);if(this._drawStart=s,this._drawCount=a,ZL(t)&&(s=0,a=o.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=o;let d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(o,s,a,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,o,r){let s=r==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(t,r),m=this.getSharedOptions(u),g=this.includeOptions(r,m),y=a.axis,v=l.axis,{spanGaps:S,segment:I}=this.options,P=mm(S)?S:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||s||r==="none",F=t>0&&this.getParsed(t-1);for(let K=t;K<t+o;++K){let le=e[K],me=this.getParsed(K),fe=L?le:{},Te=pn(me[v]),He=fe[y]=a.getPixelForValue(me[y],K),Be=fe[v]=s||Te?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,me,c):me[v],K);fe.skip=isNaN(He)||isNaN(Be)||Te,fe.stop=K>0&&Math.abs(me[y]-F[y])>P,I&&(fe.parsed=me,fe.raw=d.data[K]),g&&(fe.options=m||this.resolveDataElementOptions(K,le.active?"active":r)),L||this.updateElement(le,K,fe,r),F=me}this.updateSharedOptions(m,r,u)}getMaxOverflow(){let e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let o=e.dataset,r=o.options&&o.options.borderWidth||0;if(!t.length)return r;let s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}return i})(),_5e=Object.freeze({__proto__:null,BarController:d5e,BubbleController:p5e,DoughnutController:qM,LineController:h5e,PieController:f5e,PolarAreaController:IX,RadarController:m5e,ScatterController:g5e});function _m(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var RM=class i{static override(n){Object.assign(i.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return _m()}parse(){return _m()}format(){return _m()}add(){return _m()}diff(){return _m()}startOf(){return _m()}endOf(){return _m()}},b5e={_date:RM};function y5e(i,n,e,t){let{controller:o,data:r,_sorted:s}=i,a=o._cachedMeta.iScale,l=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(a&&n===a.axis&&n!=="r"&&s&&r.length){let c=a._reversePixels?eY:Ud;if(t){if(o._sharedOptions){let d=r[0],u=typeof d.getRange=="function"&&d.getRange(n);if(u){let m=c(r,n,e-u),g=c(r,n,e+u);return{lo:m.lo,hi:g.hi}}}}else{let d=c(r,n,e);if(l){let{vScale:u}=o._cachedMeta,{_parsed:m}=i,g=m.slice(0,d.lo+1).reverse().findIndex(v=>!pn(v[u.axis]));d.lo-=Math.max(0,g);let y=m.slice(d.hi).findIndex(v=>!pn(v[u.axis]));d.hi+=Math.max(0,y)}return d}}return{lo:0,hi:r.length-1}}function ww(i,n,e,t,o){let r=i.getSortedVisibleDatasetMetas(),s=e[n];for(let a=0,l=r.length;a<l;++a){let{index:c,data:d}=r[a],{lo:u,hi:m}=y5e(r[a],n,s,o);for(let g=u;g<=m;++g){let y=d[g];y.skip||t(y,c,g)}}}function v5e(i){let n=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(t,o){let r=n?Math.abs(t.x-o.x):0,s=e?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function vM(i,n,e,t,o){let r=[];return!o&&!i.isPointInArea(n)||ww(i,e,n,function(a,l,c){!o&&!jd(a,i.chartArea,0)||a.inRange(n.x,n.y,t)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function w5e(i,n,e,t){let o=[];function r(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],t),{angle:u}=KL(s,{x:n.x,y:n.y});d0(u,c,d)&&o.push({element:s,datasetIndex:a,index:l})}return ww(i,e,n,r),o}function C5e(i,n,e,t,o,r){let s=[],a=v5e(e),l=Number.POSITIVE_INFINITY;function c(d,u,m){let g=d.inRange(n.x,n.y,o);if(t&&!g)return;let y=d.getCenterPoint(o);if(!(!!r||i.isPointInArea(y))&&!g)return;let S=a(n,y);S<l?(s=[{element:d,datasetIndex:u,index:m}],l=S):S===l&&s.push({element:d,datasetIndex:u,index:m})}return ww(i,e,n,c),s}function wM(i,n,e,t,o,r){return!r&&!i.isPointInArea(n)?[]:e==="r"&&!t?w5e(i,n,e,o):C5e(i,n,e,t,o,r)}function PY(i,n,e,t,o){let r=[],s=e==="x"?"inXRange":"inYRange",a=!1;return ww(i,e,n,(l,c,d)=>{l[s]&&l[s](n[e],o)&&(r.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(n.x,n.y,o))}),t&&!a?[]:r}var S5e={evaluateInteractionItems:ww,modes:{index(i,n,e,t){let o=Nh(n,i),r=e.axis||"x",s=e.includeInvisible||!1,a=e.intersect?vM(i,o,r,t,s):wM(i,o,r,!1,t,s),l=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(i,n,e,t){let o=Nh(n,i),r=e.axis||"xy",s=e.includeInvisible||!1,a=e.intersect?vM(i,o,r,t,s):wM(i,o,r,!1,t,s);if(a.length>0){let l=a[0].datasetIndex,c=i.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(i,n,e,t){let o=Nh(n,i),r=e.axis||"xy",s=e.includeInvisible||!1;return vM(i,o,r,t,s)},nearest(i,n,e,t){let o=Nh(n,i),r=e.axis||"xy",s=e.includeInvisible||!1;return wM(i,o,r,e.intersect,t,s)},x(i,n,e,t){let o=Nh(n,i);return PY(i,o,"x",e.intersect,t)},y(i,n,e,t){let o=Nh(n,i);return PY(i,o,"y",e.intersect,t)}}},EX=["left","top","right","bottom"];function uw(i,n){return i.filter(e=>e.pos===n)}function AY(i,n){return i.filter(e=>EX.indexOf(e.pos)===-1&&e.box.axis===n)}function hw(i,n){return i.sort((e,t)=>{let o=n?t:e,r=n?e:t;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function I5e(i){let n=[],e,t,o,r,s,a;for(e=0,t=(i||[]).length;e<t;++e)o=i[e],{position:r,options:{stack:s,stackWeight:a=1}}=o,n.push({index:e,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:s&&r+s,stackWeight:a});return n}function E5e(i){let n={};for(let e of i){let{stack:t,pos:o,stackWeight:r}=e;if(!t||!EX.includes(o))continue;let s=n[t]||(n[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return n}function x5e(i,n){let e=E5e(i),{vBoxMaxWidth:t,hBoxMaxHeight:o}=n,r,s,a;for(r=0,s=i.length;r<s;++r){a=i[r];let{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*t:l&&n.availableWidth,a.height=o):(a.width=t,a.height=d?d*o:l&&n.availableHeight)}return e}function T5e(i){let n=I5e(i),e=hw(n.filter(c=>c.box.fullSize),!0),t=hw(uw(n,"left"),!0),o=hw(uw(n,"right")),r=hw(uw(n,"top"),!0),s=hw(uw(n,"bottom")),a=AY(n,"x"),l=AY(n,"y");return{fullSize:e,leftAndTop:t.concat(r),rightAndBottom:o.concat(l).concat(s).concat(a),chartArea:uw(n,"chartArea"),vertical:t.concat(o).concat(l),horizontal:r.concat(s).concat(a)}}function kY(i,n,e,t){return Math.max(i[e],n[e])+Math.max(i[t],n[t])}function xX(i,n){i.top=Math.max(i.top,n.top),i.left=Math.max(i.left,n.left),i.bottom=Math.max(i.bottom,n.bottom),i.right=Math.max(i.right,n.right)}function O5e(i,n,e,t){let{pos:o,box:r}=e,s=i.maxPadding;if(!gn(o)){e.size&&(i[o]-=e.size);let u=t[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,i[o]+=e.size}r.getPadding&&xX(s,r.getPadding());let a=Math.max(0,n.outerWidth-kY(s,i,"left","right")),l=Math.max(0,n.outerHeight-kY(s,i,"top","bottom")),c=a!==i.w,d=l!==i.h;return i.w=a,i.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function R5e(i){let n=i.maxPadding;function e(t){let o=Math.max(n[t]-i[t],0);return i[t]+=o,o}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function D5e(i,n){let e=n.maxPadding;function t(o){let r={left:0,top:0,right:0,bottom:0};return o.forEach(s=>{r[s]=Math.max(n[s],e[s])}),r}return t(i?["left","right"]:["top","bottom"])}function gw(i,n,e,t){let o=[],r,s,a,l,c,d;for(r=0,s=i.length,c=0;r<s;++r){a=i[r],l=a.box,l.update(a.width||n.w,a.height||n.h,D5e(a.horizontal,n));let{same:u,other:m}=O5e(n,e,a,t);c|=u&&o.length,d=d||m,l.fullSize||o.push(a)}return c&&gw(o,n,e,t)||d}function zT(i,n,e,t,o){i.top=e,i.left=n,i.right=n+t,i.bottom=e+o,i.width=t,i.height=o}function NY(i,n,e,t){let o=e.padding,{x:r,y:s}=n;for(let a of i){let l=a.box,c=t[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=n.w*d,m=c.size||l.height;l0(c.start)&&(s=c.start),l.fullSize?zT(l,o.left,s,e.outerWidth-o.right-o.left,m):zT(l,n.left+c.placed,s,u,m),c.start=s,c.placed+=u,s=l.bottom}else{let u=n.h*d,m=c.size||l.width;l0(c.start)&&(r=c.start),l.fullSize?zT(l,r,o.top,m,e.outerHeight-o.bottom-o.top):zT(l,r,n.top+c.placed,m,u),c.start=r,c.placed+=u,r=l.right}}n.x=r,n.y=s}var ca={addBox(i,n){i.boxes||(i.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(e){n.draw(e)}}]},i.boxes.push(n)},removeBox(i,n){let e=i.boxes?i.boxes.indexOf(n):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,n,e){n.fullSize=e.fullSize,n.position=e.position,n.weight=e.weight},update(i,n,e,t){if(!i)return;let o=$s(i.options.layout.padding),r=Math.max(n-o.width,0),s=Math.max(e-o.height,0),a=T5e(i.boxes),l=a.vertical,c=a.horizontal;Qn(i.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let d=l.reduce((v,S)=>S.box.options&&S.box.options.display===!1?v:v+1,0)||1,u=Object.freeze({outerWidth:n,outerHeight:e,padding:o,availableWidth:r,availableHeight:s,vBoxMaxWidth:r/2/d,hBoxMaxHeight:s/2}),m=Object.assign({},o);xX(m,$s(t));let g=Object.assign({maxPadding:m,w:r,h:s,x:o.left,y:o.top},o),y=x5e(l.concat(c),u);gw(a.fullSize,g,u,y),gw(l,g,u,y),gw(c,g,u,y)&&gw(l,g,u,y),R5e(g),NY(a.leftAndTop,g,u,y),g.x+=g.w,g.y+=g.h,NY(a.rightAndBottom,g,u,y),i.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Qn(a.chartArea,v=>{let S=v.box;Object.assign(S,i.chartArea),S.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},ZT=class{acquireContext(n,e){}releaseContext(n){return!1}addEventListener(n,e,t){}removeEventListener(n,e,t){}getDevicePixelRatio(){return 1}getMaximumSize(n,e,t,o){return e=Math.max(0,e||n.width),t=t||n.height,{width:e,height:Math.max(0,o?Math.floor(e/o):t)}}isAttached(n){return!0}updateConfig(n){}},DM=class extends ZT{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}},QT="$chartjs",P5e={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},FY=i=>i===null||i==="";function A5e(i,n){let e=i.style,t=i.getAttribute("height"),o=i.getAttribute("width");if(i[QT]={initial:{height:t,width:o,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",FY(o)){let r=dM(i,"width");r!==void 0&&(i.width=r)}if(FY(t))if(i.style.height==="")i.height=i.width/(n||2);else{let r=dM(i,"height");r!==void 0&&(i.height=r)}return i}var TX=_Y?{passive:!0}:!1;function k5e(i,n,e){i&&i.addEventListener(n,e,TX)}function N5e(i,n,e){i&&i.canvas&&i.canvas.removeEventListener(n,e,TX)}function F5e(i,n){let e=P5e[i.type]||i.type,{x:t,y:o}=Nh(i,n);return{type:e,chart:n,native:i,x:t!==void 0?t:null,y:o!==void 0?o:null}}function eO(i,n){for(let e of i)if(e===n||e.contains(n))return!0}function L5e(i,n,e){let t=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||eO(a.addedNodes,t),s=s&&!eO(a.removedNodes,t);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}function M5e(i,n,e){let t=i.canvas,o=new MutationObserver(r=>{let s=!1;for(let a of r)s=s||eO(a.removedNodes,t),s=s&&!eO(a.addedNodes,t);s&&e()});return o.observe(document,{childList:!0,subtree:!0}),o}var bw=new Map,LY=0;function OX(){let i=window.devicePixelRatio;i!==LY&&(LY=i,bw.forEach((n,e)=>{e.currentDevicePixelRatio!==i&&n()}))}function B5e(i,n){bw.size||window.addEventListener("resize",OX),bw.set(i,n)}function V5e(i){bw.delete(i),bw.size||window.removeEventListener("resize",OX)}function U5e(i,n,e){let t=i.canvas,o=t&&GT(t);if(!o)return;let r=YL((a,l)=>{let c=o.clientWidth;e(a,l),c<o.clientWidth&&e()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||r(c,d)});return s.observe(o),B5e(i,r),s}function CM(i,n,e){e&&e.disconnect(),n==="resize"&&V5e(i)}function j5e(i,n,e){let t=i.canvas,o=YL(r=>{i.ctx!==null&&e(F5e(r,i))},i);return k5e(t,n,o),o}var PM=class extends ZT{acquireContext(n,e){let t=n&&n.getContext&&n.getContext("2d");return t&&t.canvas===n?(A5e(n,e),t):null}releaseContext(n){let e=n.canvas;if(!e[QT])return!1;let t=e[QT].initial;["height","width"].forEach(r=>{let s=t[r];pn(s)?e.removeAttribute(r):e.setAttribute(r,s)});let o=t.style||{};return Object.keys(o).forEach(r=>{e.style[r]=o[r]}),e.width=e.width,delete e[QT],!0}addEventListener(n,e,t){this.removeEventListener(n,e);let o=n.$proxies||(n.$proxies={}),s={attach:L5e,detach:M5e,resize:U5e}[e]||j5e;o[e]=s(n,e,t)}removeEventListener(n,e){let t=n.$proxies||(n.$proxies={}),o=t[e];if(!o)return;({attach:CM,detach:CM,resize:CM}[e]||N5e)(n,e,o),t[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,e,t,o){return gY(n,e,t,o)}isAttached(n){let e=n&&GT(n);return!!(e&&e.isConnected)}};function G5e(i){return!jT()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?DM:PM}var Uc=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){let{x:e,y:t}=this.getProps(["x","y"],n);return{x:e,y:t}}hasValue(){return mm(this.x)&&mm(this.y)}getProps(n,e){let t=this.$animations;if(!e||!t)return this;let o={};return n.forEach(r=>{o[r]=t[r]&&t[r].active()?t[r]._to:this[r]}),o}};function H5e(i,n){let e=i.options.ticks,t=z5e(i),o=Math.min(e.maxTicksLimit||t,t),r=e.major.enabled?$5e(n):[],s=r.length,a=r[0],l=r[s-1],c=[];if(s>o)return K5e(n,c,r,s/o),c;let d=W5e(r,n,o);if(s>0){let u,m,g=s>1?Math.round((l-a)/(s-1)):null;for(WT(n,c,d,pn(g)?0:a-g,a),u=0,m=s-1;u<m;u++)WT(n,c,d,r[u],r[u+1]);return WT(n,c,d,l,pn(g)?n.length:l+g),c}return WT(n,c,d),c}function z5e(i){let n=i.options.offset,e=i._tickSize(),t=i._length/e+(n?0:1),o=i._maxLength/e;return Math.floor(Math.min(t,o))}function W5e(i,n,e){let t=q5e(i),o=n.length/e;if(!t)return Math.max(o,1);let r=YQ(t);for(let s=0,a=r.length-1;s<a;s++){let l=r[s];if(l>o)return l}return Math.max(o,1)}function $5e(i){let n=[],e,t;for(e=0,t=i.length;e<t;e++)i[e].major&&n.push(e);return n}function K5e(i,n,e,t){let o=0,r=e[0],s;for(t=Math.ceil(t),s=0;s<i.length;s++)s===r&&(n.push(i[s]),o++,r=e[o*t])}function WT(i,n,e,t,o){let r=Gi(t,0),s=Math.min(Gi(o,i.length),i.length),a=0,l,c,d;for(e=Math.ceil(e),o&&(l=o-t,e=l/Math.floor(l/e)),d=r;d<0;)a++,d=Math.round(r+a*e);for(c=Math.max(r,0);c<s;c++)c===d&&(n.push(i[c]),a++,d=Math.round(r+a*e))}function q5e(i){let n=i.length,e,t;if(n<2)return!1;for(t=i[0],e=1;e<n;++e)if(i[e]-i[e-1]!==t)return!1;return t}var J5e=i=>i==="left"?"right":i==="right"?"left":i,MY=(i,n,e)=>n==="top"||n==="left"?i[n]+e:i[n]-e,BY=(i,n)=>Math.min(n||i,i);function VY(i,n){let e=[],t=i.length/n,o=i.length,r=0;for(;r<o;r+=t)e.push(i[Math.floor(r)]);return e}function Q5e(i,n,e){let t=i.ticks.length,o=Math.min(n,t-1),r=i._startPixel,s=i._endPixel,a=1e-6,l=i.getPixelForTick(o),c;if(!(e&&(t===1?c=Math.max(l-r,s-l):n===0?c=(i.getPixelForTick(1)-l)/2:c=(l-i.getPixelForTick(o-1))/2,l+=o<n?c:-c,l<r-a||l>s+a)))return l}function Y5e(i,n){Qn(i,e=>{let t=e.gc,o=t.length/2,r;if(o>n){for(r=0;r<o;++r)delete e.data[t[r]];t.splice(0,o)}})}function fw(i){return i.drawTicks?i.tickLength:0}function UY(i,n){if(!i.display)return 0;let e=Jr(i.font,n),t=$s(i.padding);return(No(i.text)?i.text.length:1)*e.lineHeight+t.height}function X5e(i,n){return Zp(i,{scale:n,type:"scale"})}function Z5e(i,n,e){return Zp(i,{tick:e,index:n,type:"tick"})}function eUe(i,n,e){let t=LT(i);return(e&&n!=="right"||!e&&n==="right")&&(t=J5e(t)),t}function tUe(i,n,e,t){let{top:o,left:r,bottom:s,right:a,chart:l}=i,{chartArea:c,scales:d}=l,u=0,m,g,y,v=s-o,S=a-r;if(i.isHorizontal()){if(g=Ws(t,r,a),gn(e)){let I=Object.keys(e)[0],P=e[I];y=d[I].getPixelForValue(P)+v-n}else e==="center"?y=(c.bottom+c.top)/2+v-n:y=MY(i,e,n);m=a-r}else{if(gn(e)){let I=Object.keys(e)[0],P=e[I];g=d[I].getPixelForValue(P)-S+n}else e==="center"?g=(c.left+c.right)/2-S+n:g=MY(i,e,n);y=Ws(t,s,o),u=e==="left"?-yr:yr}return{titleX:g,titleY:y,maxWidth:m,rotation:u}}var ym=class i extends Uc{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,e){return n}getUserBounds(){let{_userMin:n,_userMax:e,_suggestedMin:t,_suggestedMax:o}=this;return n=qa(n,Number.POSITIVE_INFINITY),e=qa(e,Number.NEGATIVE_INFINITY),t=qa(t,Number.POSITIVE_INFINITY),o=qa(o,Number.NEGATIVE_INFINITY),{min:qa(n,t),max:qa(e,o),minDefined:sr(n),maxDefined:sr(e)}}getMinMax(n){let{min:e,max:t,minDefined:o,maxDefined:r}=this.getUserBounds(),s;if(o&&r)return{min:e,max:t};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,n),o||(e=Math.min(e,s.min)),r||(t=Math.max(t,s.max));return e=r&&e>t?t:e,t=o&&e>t?e:t,{min:qa(e,qa(t,e)),max:qa(t,qa(e,t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vo(this.options.beforeUpdate,[this])}update(n,e,t){let{beginAtZero:o,grace:r,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=e,this._margins=t=Object.assign({left:0,right:0,top:0,bottom:0},t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+t.left+t.right:this.height+t.top+t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dY(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?VY(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=H5e(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,e,t;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vo(this.options.afterUpdate,[this])}beforeSetDimensions(){vo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vo(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),vo(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){let e=this.options.ticks,t,o,r;for(t=0,o=n.length;t<o;t++)r=n[t],r.label=vo(e.callback,[r.value,t,n],this)}afterTickToLabelConversion(){vo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let n=this.options,e=n.ticks,t=BY(this.ticks.length,n.ticks.maxTicksLimit),o=e.minRotation||0,r=e.maxRotation,s=o,a,l,c;if(!this._isVisible()||!e.display||o>=r||t<=1||!this.isHorizontal()){this.labelRotation=o;return}let d=this._getLabelSizes(),u=d.widest.width,m=d.highest.height,g=us(this.chart.width-u,0,this.maxWidth);a=n.offset?this.maxWidth/t:g/(t-1),u+6>a&&(a=g/(t-(n.offset?.5:1)),l=this.maxHeight-fw(n.grid)-e.padding-UY(n.title,this.chart.options.font),c=Math.sqrt(u*u+m*m),s=NT(Math.min(Math.asin(us((d.highest.height+6)/a,-1,1)),Math.asin(us(l/c,-1,1))-Math.asin(us(m/c,-1,1)))),s=Math.max(o,Math.min(r,s))),this.labelRotation=s}afterCalculateLabelRotation(){vo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vo(this.options.beforeFit,[this])}fit(){let n={width:0,height:0},{chart:e,options:{ticks:t,title:o,grid:r}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=UY(o,e.options.font);if(a?(n.width=this.maxWidth,n.height=fw(r)+l):(n.height=this.maxHeight,n.width=fw(r)+l),t.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:m}=this._getLabelSizes(),g=t.padding*2,y=Ql(this.labelRotation),v=Math.cos(y),S=Math.sin(y);if(a){let I=t.mirror?0:S*u.width+v*m.height;n.height=Math.min(this.maxHeight,n.height+I+g)}else{let I=t.mirror?0:v*u.width+S*m.height;n.width=Math.min(this.maxWidth,n.width+I+g)}this._calculatePadding(c,d,S,v)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,e,t,o){let{ticks:{align:r,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),m=0,g=0;l?c?(m=o*n.width,g=t*e.height):(m=t*n.height,g=o*e.width):r==="start"?g=e.width:r==="end"?m=n.width:r!=="inner"&&(m=n.width/2,g=e.width/2),this.paddingLeft=Math.max((m-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-u+s)*this.width/(this.width-u),0)}else{let d=e.height/2,u=n.height/2;r==="start"?(d=0,u=n.height):r==="end"&&(d=e.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vo(this.options.afterFit,[this])}isHorizontal(){let{axis:n,position:e}=this.options;return e==="top"||e==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let e,t;for(e=0,t=n.length;e<t;e++)pn(n[e].label)&&(n.splice(e,1),t--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){let e=this.options.ticks.sampleSize,t=this.ticks;e<t.length&&(t=VY(t,e)),this._labelSizes=n=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,e,t){let{ctx:o,_longestTextCache:r}=this,s=[],a=[],l=Math.floor(e/BY(e,t)),c=0,d=0,u,m,g,y,v,S,I,P,L,F,K;for(u=0;u<e;u+=l){if(y=n[u].label,v=this._resolveTickFontOptions(u),o.font=S=v.string,I=r[S]=r[S]||{data:{},gc:[]},P=v.lineHeight,L=F=0,!pn(y)&&!No(y))L=sw(o,I.data,I.gc,L,y),F=P;else if(No(y))for(m=0,g=y.length;m<g;++m)K=y[m],!pn(K)&&!No(K)&&(L=sw(o,I.data,I.gc,L,K),F+=P);s.push(L),a.push(F),c=Math.max(L,c),d=Math.max(F,d)}Y5e(r,e);let le=s.indexOf(c),me=a.indexOf(d),fe=Te=>({width:s[Te]||0,height:a[Te]||0});return{first:fe(0),last:fe(e-1),widest:fe(le),highest:fe(me),widths:s,heights:a}}getLabelForValue(n){return n}getPixelForValue(n,e){return NaN}getValueForPixel(n){}getPixelForTick(n){let e=this.ticks;return n<0||n>e.length-1?null:this.getPixelForValue(e[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);let e=this._startPixel+n*this._length;return ZQ(this._alignToPixels?Ph(this.chart,e,0):e)}getDecimalForPixel(n){let e=(n-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:n,max:e}=this;return n<0&&e<0?e:n>0&&e>0?n:0}getContext(n){let e=this.ticks||[];if(n>=0&&n<e.length){let t=e[n];return t.$context||(t.$context=Z5e(this.getContext(),n,t))}return this.$context||(this.$context=X5e(this.chart.getContext(),this))}_tickSize(){let n=this.options.ticks,e=Ql(this.labelRotation),t=Math.abs(Math.cos(e)),o=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=n.autoSkipPadding||0,a=r?r.widest.width+s:0,l=r?r.highest.height+s:0;return this.isHorizontal()?l*t>a*o?a/t:l/o:l*o<a*t?l/t:a/o}_isVisible(){let n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){let e=this.axis,t=this.chart,o=this.options,{grid:r,position:s,border:a}=o,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),m=fw(r),g=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,S=v/2,I=function(mt){return Ph(t,mt,v)},P,L,F,K,le,me,fe,Te,He,Be,rt,Rt;if(s==="top")P=I(this.bottom),me=this.bottom-m,Te=P-S,Be=I(n.top)+S,Rt=n.bottom;else if(s==="bottom")P=I(this.top),Be=n.top,Rt=I(n.bottom)-S,me=P+S,Te=this.top+m;else if(s==="left")P=I(this.right),le=this.right-m,fe=P-S,He=I(n.left)+S,rt=n.right;else if(s==="right")P=I(this.left),He=n.left,rt=I(n.right)-S,le=P+S,fe=this.left+m;else if(e==="x"){if(s==="center")P=I((n.top+n.bottom)/2+.5);else if(gn(s)){let mt=Object.keys(s)[0],Re=s[mt];P=I(this.chart.scales[mt].getPixelForValue(Re))}Be=n.top,Rt=n.bottom,me=P+S,Te=me+m}else if(e==="y"){if(s==="center")P=I((n.left+n.right)/2);else if(gn(s)){let mt=Object.keys(s)[0],Re=s[mt];P=I(this.chart.scales[mt].getPixelForValue(Re))}le=P-S,fe=le-m,He=n.left,rt=n.right}let xt=Gi(o.ticks.maxTicksLimit,u),Lt=Math.max(1,Math.ceil(u/xt));for(L=0;L<u;L+=Lt){let mt=this.getContext(L),Re=r.setContext(mt),Oi=a.setContext(mt),Li=Re.lineWidth,Co=Re.color,Lo=Oi.dash||[],bn=Oi.dashOffset,Mo=Re.tickWidth,un=Re.tickColor,xn=Re.tickBorderDash||[],Ai=Re.tickBorderDashOffset;F=Q5e(this,L,l),F!==void 0&&(K=Ph(t,F,Li),c?le=fe=He=rt=K:me=Te=Be=Rt=K,g.push({tx1:le,ty1:me,tx2:fe,ty2:Te,x1:He,y1:Be,x2:rt,y2:Rt,width:Li,color:Co,borderDash:Lo,borderDashOffset:bn,tickWidth:Mo,tickColor:un,tickBorderDash:xn,tickBorderDashOffset:Ai}))}return this._ticksLength=u,this._borderValue=P,g}_computeLabelItems(n){let e=this.axis,t=this.options,{position:o,ticks:r}=t,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=r,m=fw(t.grid),g=m+d,y=u?-d:g,v=-Ql(this.labelRotation),S=[],I,P,L,F,K,le,me,fe,Te,He,Be,rt,Rt="middle";if(o==="top")le=this.bottom-y,me=this._getXAxisLabelAlignment();else if(o==="bottom")le=this.top+y,me=this._getXAxisLabelAlignment();else if(o==="left"){let Lt=this._getYAxisLabelAlignment(m);me=Lt.textAlign,K=Lt.x}else if(o==="right"){let Lt=this._getYAxisLabelAlignment(m);me=Lt.textAlign,K=Lt.x}else if(e==="x"){if(o==="center")le=(n.top+n.bottom)/2+g;else if(gn(o)){let Lt=Object.keys(o)[0],mt=o[Lt];le=this.chart.scales[Lt].getPixelForValue(mt)+g}me=this._getXAxisLabelAlignment()}else if(e==="y"){if(o==="center")K=(n.left+n.right)/2-g;else if(gn(o)){let Lt=Object.keys(o)[0],mt=o[Lt];K=this.chart.scales[Lt].getPixelForValue(mt)}me=this._getYAxisLabelAlignment(m).textAlign}e==="y"&&(l==="start"?Rt="top":l==="end"&&(Rt="bottom"));let xt=this._getLabelSizes();for(I=0,P=a.length;I<P;++I){L=a[I],F=L.label;let Lt=r.setContext(this.getContext(I));fe=this.getPixelForTick(I)+r.labelOffset,Te=this._resolveTickFontOptions(I),He=Te.lineHeight,Be=No(F)?F.length:1;let mt=Be/2,Re=Lt.color,Oi=Lt.textStrokeColor,Li=Lt.textStrokeWidth,Co=me;s?(K=fe,me==="inner"&&(I===P-1?Co=this.options.reverse?"left":"right":I===0?Co=this.options.reverse?"right":"left":Co="center"),o==="top"?c==="near"||v!==0?rt=-Be*He+He/2:c==="center"?rt=-xt.highest.height/2-mt*He+He:rt=-xt.highest.height+He/2:c==="near"||v!==0?rt=He/2:c==="center"?rt=xt.highest.height/2-mt*He:rt=xt.highest.height-Be*He,u&&(rt*=-1),v!==0&&!Lt.showLabelBackdrop&&(K+=He/2*Math.sin(v))):(le=fe,rt=(1-Be)*He/2);let Lo;if(Lt.showLabelBackdrop){let bn=$s(Lt.backdropPadding),Mo=xt.heights[I],un=xt.widths[I],xn=rt-bn.top,Ai=0-bn.left;switch(Rt){case"middle":xn-=Mo/2;break;case"bottom":xn-=Mo;break}switch(me){case"center":Ai-=un/2;break;case"right":Ai-=un;break;case"inner":I===P-1?Ai-=un:I>0&&(Ai-=un/2);break}Lo={left:Ai,top:xn,width:un+bn.width,height:Mo+bn.height,color:Lt.backdropColor}}S.push({label:F,font:Te,textOffset:rt,options:{rotation:v,color:Re,strokeColor:Oi,strokeWidth:Li,textAlign:Co,textBaseline:Rt,translation:[K,le],backdrop:Lo}})}return S}_getXAxisLabelAlignment(){let{position:n,ticks:e}=this.options;if(-Ql(this.labelRotation))return n==="top"?"left":"right";let o="center";return e.align==="start"?o="left":e.align==="end"?o="right":e.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(n){let{position:e,ticks:{crossAlign:t,mirror:o,padding:r}}=this.options,s=this._getLabelSizes(),a=n+r,l=s.widest.width,c,d;return e==="left"?o?(d=this.right+r,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d=this.left)):e==="right"?o?(d=this.left+r,t==="near"?c="right":t==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,t==="near"?c="left":t==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let n=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){let{ctx:n,options:{backgroundColor:e},left:t,top:o,width:r,height:s}=this;e&&(n.save(),n.fillStyle=e,n.fillRect(t,o,r,s),n.restore())}getLineWidthForValue(n){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let o=this.ticks.findIndex(r=>r.value===n);return o>=0?e.setContext(this.getContext(o)).lineWidth:0}drawGrid(n){let e=this.options.grid,t=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n)),r,s,a=(l,c,d)=>{!d.width||!d.color||(t.save(),t.lineWidth=d.width,t.strokeStyle=d.color,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset,t.beginPath(),t.moveTo(l.x,l.y),t.lineTo(c.x,c.y),t.stroke(),t.restore())};if(e.display)for(r=0,s=o.length;r<s;++r){let l=o[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:n,ctx:e,options:{border:t,grid:o}}=this,r=t.setContext(this.getContext()),s=t.display?r.width:0;if(!s)return;let a=o.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,m;this.isHorizontal()?(c=Ph(n,this.left,s)-s/2,d=Ph(n,this.right,a)+a/2,u=m=l):(u=Ph(n,this.top,s)-s/2,m=Ph(n,this.bottom,a)+a/2,c=d=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(d,m),e.stroke(),e.restore()}drawLabels(n){if(!this.options.ticks.display)return;let t=this.ctx,o=this._computeLabelArea();o&&cw(t,o);let r=this.getLabelItems(n);for(let s of r){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Ah(t,c,0,d,l,a)}o&&dw(t)}drawTitle(){let{ctx:n,options:{position:e,title:t,reverse:o}}=this;if(!t.display)return;let r=Jr(t.font),s=$s(t.padding),a=t.align,l=r.lineHeight/2;e==="bottom"||e==="center"||gn(e)?(l+=s.bottom,No(t.text)&&(l+=r.lineHeight*(t.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:m}=tUe(this,l,e,a);Ah(n,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:m,textAlign:eUe(a,e,o),textBaseline:"middle",translation:[c,d]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){let n=this.options,e=n.ticks&&n.ticks.z||0,t=Gi(n.grid&&n.grid.z,-1),o=Gi(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:t,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(n){let e=this.chart.getSortedVisibleDatasetMetas(),t=this.axis+"AxisID",o=[],r,s;for(r=0,s=e.length;r<s;++r){let a=e[r];a[t]===this.id&&(!n||a.type===n)&&o.push(a)}return o}_resolveTickFontOptions(n){let e=this.options.ticks.setContext(this.getContext(n));return Jr(e.font)}_maxDigits(){let n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}},m0=class{constructor(n,e,t){this.type=n,this.scope=e,this.override=t,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){let e=Object.getPrototypeOf(n),t;oUe(e)&&(t=this.register(e));let o=this.items,r=n.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+n);return r in o||(o[r]=n,iUe(n,s,t),this.override&&zo.override(n.id,n.overrides)),s}get(n){return this.items[n]}unregister(n){let e=this.items,t=n.id,o=this.scope;t in e&&delete e[t],o&&t in zo[o]&&(delete zo[o][t],this.override&&delete Dh[t])}};function iUe(i,n,e){let t=r0(Object.create(null),[e?zo.get(e):{},zo.get(n),i.defaults]);zo.set(n,t),i.defaultRoutes&&nUe(n,i.defaultRoutes),i.descriptors&&zo.describe(n,i.descriptors)}function nUe(i,n){Object.keys(n).forEach(e=>{let t=e.split("."),o=t.pop(),r=[i].concat(t).join("."),s=n[e].split("."),a=s.pop(),l=s.join(".");zo.route(r,o,l,a)})}function oUe(i){return"id"in i&&"defaults"in i}var AM=class{constructor(){this.controllers=new m0(Lh,"datasets",!0),this.elements=new m0(Uc,"elements"),this.plugins=new m0(Object,"plugins"),this.scales=new m0(ym,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,e,t){[...e].forEach(o=>{let r=t||this._getRegistryForType(o);t||r.isForType(o)||r===this.plugins&&o.id?this._exec(n,r,o):Qn(o,s=>{let a=t||this._getRegistryForType(s);this._exec(n,a,s)})})}_exec(n,e,t){let o=kT(n);vo(t["before"+o],[],t),e[n](t),vo(t["after"+o],[],t)}_getRegistryForType(n){for(let e=0;e<this._typedRegistries.length;e++){let t=this._typedRegistries[e];if(t.isForType(n))return t}return this.plugins}_get(n,e,t){let o=e.get(n);if(o===void 0)throw new Error('"'+n+'" is not a registered '+t+".");return o}},Wd=new AM,kM=class{constructor(){this._init=void 0}notify(n,e,t,o){if(e==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install")),this._init===void 0)return;let r=o?this._descriptors(n).filter(o):this._descriptors(n),s=this._notify(r,n,e,t);return e==="afterDestroy"&&(this._notify(r,n,"stop"),this._notify(this._init,n,"uninstall"),this._init=void 0),s}_notify(n,e,t,o){o=o||{};for(let r of n){let s=r.plugin,a=s[t],l=[e,o,r.options];if(vo(a,l,s)===!1&&o.cancelable)return!1}return!0}invalidate(){pn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),e}_createDescriptors(n,e){let t=n&&n.config,o=Gi(t.options&&t.options.plugins,{}),r=rUe(t);return o===!1&&!e?[]:aUe(n,r,o,e)}_notifyStateChanges(n){let e=this._oldCache||[],t=this._cache,o=(r,s)=>r.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(o(e,t),n,"stop"),this._notify(o(t,e),n,"start")}};function rUe(i){let n={},e=[],t=Object.keys(Wd.plugins.items);for(let r=0;r<t.length;r++)e.push(Wd.getPlugin(t[r]));let o=i.plugins||[];for(let r=0;r<o.length;r++){let s=o[r];e.indexOf(s)===-1&&(e.push(s),n[s.id]=!0)}return{plugins:e,localIds:n}}function sUe(i,n){return!n&&i===!1?null:i===!0?{}:i}function aUe(i,{plugins:n,localIds:e},t,o){let r=[],s=i.getContext();for(let a of n){let l=a.id,c=sUe(t[l],o);c!==null&&r.push({plugin:a,options:lUe(i.config,{plugin:a,local:e[l]},c,s)})}return r}function lUe(i,{plugin:n,local:e},t,o){let r=i.pluginScopeKeys(n),s=i.getOptionScopes(t,r);return e&&n.defaults&&s.push(n.defaults),i.createResolver(s,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function NM(i,n){let e=zo.datasets[i]||{};return((n.datasets||{})[i]||{}).indexAxis||n.indexAxis||e.indexAxis||"x"}function cUe(i,n){let e=i;return i==="_index_"?e=n:i==="_value_"&&(e=n==="x"?"y":"x"),e}function dUe(i,n){return i===n?"_index_":"_value_"}function jY(i){if(i==="x"||i==="y"||i==="r")return i}function pUe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function FM(i,...n){if(jY(i))return i;for(let e of n){let t=e.axis||pUe(e.position)||i.length>1&&jY(i[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function GY(i,n,e){if(e[n+"AxisID"]===i)return{axis:n}}function uUe(i,n){if(n.data&&n.data.datasets){let e=n.data.datasets.filter(t=>t.xAxisID===i||t.yAxisID===i);if(e.length)return GY(i,"x",e[0])||GY(i,"y",e[0])}return{}}function hUe(i,n){let e=Dh[i.type]||{scales:{}},t=n.scales||{},o=NM(i.type,n),r=Object.create(null);return Object.keys(t).forEach(s=>{let a=t[s];if(!gn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=FM(s,a,uUe(s,i),zo.scales[a.type]),c=dUe(l,o),d=e.scales||{};r[s]=a0(Object.create(null),[{axis:l},a,d[l],d[c]])}),i.data.datasets.forEach(s=>{let a=s.type||i.type,l=s.indexAxis||NM(a,n),d=(Dh[a]||{}).scales||{};Object.keys(d).forEach(u=>{let m=cUe(u,l),g=s[m+"AxisID"]||m;r[g]=r[g]||Object.create(null),a0(r[g],[{axis:m},t[g],d[u]])})}),Object.keys(r).forEach(s=>{let a=r[s];a0(a,[zo.scales[a.type],zo.scale])}),r}function RX(i){let n=i.options||(i.options={});n.plugins=Gi(n.plugins,{}),n.scales=hUe(i,n)}function DX(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function fUe(i){return i=i||{},i.data=DX(i.data),RX(i),i}var HY=new Map,PX=new Set;function $T(i,n){let e=HY.get(i);return e||(e=n(),HY.set(i,e),PX.add(e)),e}var mw=(i,n,e)=>{let t=Xp(n,e);t!==void 0&&i.add(t)},LM=class{constructor(n){this._config=fUe(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=DX(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){let n=this._config;this.clearCache(),RX(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return $T(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,e){return $T(`${n}.transition.${e}`,()=>[[`datasets.${n}.transitions.${e}`,`transitions.${e}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,e){return $T(`${n}-${e}`,()=>[[`datasets.${n}.elements.${e}`,`datasets.${n}`,`elements.${e}`,""]])}pluginScopeKeys(n){let e=n.id,t=this.type;return $T(`${t}-plugin-${e}`,()=>[[`plugins.${e}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,e){let t=this._scopeCache,o=t.get(n);return(!o||e)&&(o=new Map,t.set(n,o)),o}getOptionScopes(n,e,t){let{options:o,type:r}=this,s=this._cachedScopes(n,t),a=s.get(e);if(a)return a;let l=new Set;e.forEach(d=>{n&&(l.add(n),d.forEach(u=>mw(l,n,u))),d.forEach(u=>mw(l,o,u)),d.forEach(u=>mw(l,Dh[r]||{},u)),d.forEach(u=>mw(l,zo,u)),d.forEach(u=>mw(l,MT,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),PX.has(e)&&s.set(e,c),c}chartOptionScopes(){let{options:n,type:e}=this;return[n,Dh[e]||{},zo.datasets[e]||{},{type:e},zo,MT]}resolveNamedOptions(n,e,t,o=[""]){let r={$shared:!0},{resolver:s,subPrefixes:a}=zY(this._resolverCache,n,o),l=s;if(gUe(s,e)){r.$shared=!1,t=Qp(t)?t():t;let c=this.createResolver(n,t,a);l=fm(s,t,c)}for(let c of e)r[c]=l[c];return r}createResolver(n,e,t=[""],o){let{resolver:r}=zY(this._resolverCache,n,t);return gn(e)?fm(r,e,void 0,o):r}};function zY(i,n,e){let t=i.get(n);t||(t=new Map,i.set(n,t));let o=e.join(),r=t.get(o);return r||(r={resolver:UT(n,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},t.set(o,r)),r}var mUe=i=>gn(i)&&Object.getOwnPropertyNames(i).some(n=>Qp(i[n]));function gUe(i,n){let{isScriptable:e,isIndexable:t}=rM(i);for(let o of n){let r=e(o),s=t(o),a=(s||r)&&i[o];if(r&&(Qp(a)||mUe(a))||s&&No(a))return!0}return!1}var _Ue="4.5.1",bUe=["top","bottom","left","right","chartArea"];function WY(i,n){return i==="top"||i==="bottom"||bUe.indexOf(i)===-1&&n==="x"}function $Y(i,n){return function(e,t){return e[i]===t[i]?e[n]-t[n]:e[i]-t[i]}}function KY(i){let n=i.chart,e=n.options.animation;n.notifyPlugins("afterRender"),vo(e&&e.onComplete,[i],n)}function yUe(i){let n=i.chart,e=n.options.animation;vo(e&&e.onProgress,[i],n)}function AX(i){return jT()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var YT={},qY=i=>{let n=AX(i);return Object.values(YT).filter(e=>e.canvas===n).pop()};function vUe(i,n,e){let t=Object.keys(i);for(let o of t){let r=+o;if(r>=n){let s=i[o];delete i[o],(e>0||r>n)&&(i[r+e]=s)}}}function wUe(i,n,e,t){return!e||i.type==="mouseout"?null:t?n:i}var oO=(()=>{class i{static defaults=zo;static instances=YT;static overrides=Dh;static registry=Wd;static version=_Ue;static getChart=qY;static register(...e){Wd.add(...e),JY()}static unregister(...e){Wd.remove(...e),JY()}constructor(e,t){let o=this.config=new LM(t),r=AX(e),s=qY(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||G5e(r)),this.platform.updateConfig(o);let l=this.platform.acquireContext(r,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=KQ(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=oY(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],YT[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}eu.listen(this,"complete",KY),eu.listen(this,"progress",yUe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:o,height:r,_aspectRatio:s}=this;return pn(e)?t&&s?s:r?o/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Wd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cM(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iM(this.canvas,this.ctx),this}stop(){return eu.stop(this),this}resize(e,t){eu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let o=this.options,r=this.canvas,s=o.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),l=o.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,cM(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),vo(o.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};Qn(t,(o,r)=>{o.id=r})}buildOrUpdateScales(){let e=this.options,t=e.scales,o=this.scales,r=Object.keys(o).reduce((a,l)=>(a[l]=!1,a),{}),s=[];t&&(s=s.concat(Object.keys(t).map(a=>{let l=t[a],c=FM(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Qn(s,a=>{let l=a.options,c=l.id,d=FM(c,l),u=Gi(l.type,a.dtype);(l.position===void 0||WY(l.position,d)!==WY(a.dposition))&&(l.position=a.dposition),r[c]=!0;let m=null;if(c in o&&o[c].type===u)m=o[c];else{let g=Wd.getScale(u);m=new g({id:c,type:u,ctx:this.ctx,chart:this}),o[m.id]=m}m.init(l,e)}),Qn(r,(a,l)=>{a||delete o[l]}),Qn(o,a=>{ca.configure(this,a,a.options),ca.addBox(this,a)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,o=e.length;if(e.sort((r,s)=>r.index-s.index),o>t){for(let r=t;r<o;++r)this._destroyDatasetMeta(r);e.splice(t,o-t)}this._sortedMetasets=e.slice(0).sort($Y("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((o,r)=>{t.filter(s=>s===o._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,o,r;for(this._removeUnreferencedMetasets(),o=0,r=t.length;o<r;o++){let s=t[o],a=this.getDatasetMeta(o),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(o),a=this.getDatasetMeta(o)),a.type=l,a.indexAxis=s.indexAxis||NM(l,this.options),a.order=s.order||0,a.index=o,a.label=""+s.label,a.visible=this.isDatasetVisible(o),a.controller)a.controller.updateIndex(o),a.controller.linkScales();else{let c=Wd.getController(l),{datasetElementType:d,dataElementType:u}=zo.datasets[l];Object.assign(c,{dataElementType:Wd.getElement(u),datasetElementType:d&&Wd.getElement(d)}),a.controller=new c(this,o),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Qn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let o=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:m}=this.getDatasetMeta(d),g=!r&&s.indexOf(m)===-1;m.buildOrUpdateElements(g),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=o.layout.autoPadding?a:0,this._updateLayout(a),r||Qn(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort($Y("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Qn(this.scales,e=>{ca.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!HL(t,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:o,start:r,count:s}of t){let a=o==="_removeElements"?-s:s;vUe(e,r,a)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,o=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=o(0);for(let s=1;s<t;s++)if(!HL(r,o(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ca.update(this,this.width,this.height,e);let t=this.chartArea,o=t.width<=0||t.height<=0;this._layers=[],Qn(this.boxes,r=>{o&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,o=this.data.datasets.length;t<o;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,o=this.data.datasets.length;t<o;++t)this._updateDataset(t,Qp(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let o=this.getDatasetMeta(e),r={meta:o,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(o.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(eu.has(this)?this.attached&&!eu.running(this)&&eu.start(this):(this.draw(),KY({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:o,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,o=[],r,s;for(r=0,s=t.length;r<s;++r){let a=t[r];(!e||a.visible)&&o.push(a)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,o={meta:e,index:e.index,cancelable:!0},r=mM(this,e);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&cw(t,r),e.controller.draw(),r&&dw(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return jd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,o,r){let s=S5e.modes[t];return typeof s=="function"?s(this,e,o,r):[]}getDatasetMeta(e){let t=this.data.datasets[e],o=this._metasets,r=o.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},o.push(r)),r}getContext(){return this.$context||(this.$context=Zp(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!t.hidden}setDatasetVisibility(e,t){let o=this.getDatasetMeta(e);o.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,o){let r=o?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);l0(t)?(s.data[t].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),a.update(s,{visible:o}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),eu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iM(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete YT[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,o=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Qn(this.options.events,s=>o(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,o=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},r=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{r("attach",l),this.attached=!0,this.resize(),o("resize",s),o("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),o("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Qn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Qn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,o){let r=o?"set":"remove",s,a,l,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],o=e.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!aw(o,t)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,t))}notifyPlugins(e,t,o){return this._plugins.notify(this,e,t,o)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,o){let r=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(m=>u.datasetIndex===m.datasetIndex&&u.index===m.index)),a=s(t,e),l=o?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,t){let o={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,r)===!1)return;let s=this._handleEvent(e,t,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,r),(s||o.changed)&&this.render(),this}_handleEvent(e,t,o){let{_active:r=[],options:s}=this,a=t,l=this._getActiveElements(e,r,o,a),c=QQ(e),d=wUe(e,this._lastEvent,o,c);o&&(this._lastEvent=null,vo(s.onHover,[e,l,this],this),c&&vo(s.onClick,[e,l,this],this));let u=!aw(l,r);return(u||t)&&(this._active=l,this._updateHoverStyles(l,r,t)),this._lastEvent=d,u}_getActiveElements(e,t,o,r){if(e.type==="mouseout")return[];if(!o)return t;let s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}return i})();function JY(){return Qn(oO.instances,i=>i._plugins.invalidate())}function CUe(i,n,e){let{startAngle:t,x:o,y:r,outerRadius:s,innerRadius:a,options:l}=n,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/s,zs(t-e));if(i.beginPath(),i.arc(o,r,s-c/2,t+u/2,e-u/2),a>0){let m=Math.min(c/a,zs(t-e));i.arc(o,r,a+c/2,e-m/2,t+m/2,!0)}else{let m=Math.min(c/2,s*zs(t-e));if(d==="round")i.arc(o,r,m,e-An/2,t+An/2,!0);else if(d==="bevel"){let g=2*m*m,y=-g*Math.cos(e+An/2)+o,v=-g*Math.sin(e+An/2)+r,S=g*Math.cos(t+An/2)+o,I=g*Math.sin(t+An/2)+r;i.lineTo(y,v),i.lineTo(S,I)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function SUe(i,n,e){let{startAngle:t,pixelMargin:o,x:r,y:s,outerRadius:a,innerRadius:l}=n,c=o/a;i.beginPath(),i.arc(r,s,a,t-c,e+c),l>o?(c=o/l,i.arc(r,s,l,e+c,t-c,!0)):i.arc(r,s,o,e+yr,t-yr),i.closePath(),i.clip()}function IUe(i){return VT(i,["outerStart","outerEnd","innerStart","innerEnd"])}function EUe(i,n,e,t){let o=IUe(i.options.borderRadius),r=(e-n)/2,s=Math.min(r,t*n/2),a=l=>{let c=(e-Math.min(r,l))*t/2;return us(l,0,Math.min(r,c))};return{outerStart:a(o.outerStart),outerEnd:a(o.outerEnd),innerStart:us(o.innerStart,0,s),innerEnd:us(o.innerEnd,0,s)}}function f0(i,n,e,t){return{x:e+i*Math.cos(n),y:t+i*Math.sin(n)}}function tO(i,n,e,t,o,r){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=n,u=Math.max(n.outerRadius+t+e-c,0),m=d>0?d+t+e+c:0,g=0,y=o-l;if(t){let Lt=d>0?d-t:0,mt=u>0?u-t:0,Re=(Lt+mt)/2,Oi=Re!==0?y*Re/(Re+t):y;g=(y-Oi)/2}let v=Math.max(.001,y*u-e/An)/u,S=(y-v)/2,I=l+S+g,P=o-S-g,{outerStart:L,outerEnd:F,innerStart:K,innerEnd:le}=EUe(n,m,u,P-I),me=u-L,fe=u-F,Te=I+L/me,He=P-F/fe,Be=m+K,rt=m+le,Rt=I+K/Be,xt=P-le/rt;if(i.beginPath(),r){let Lt=(Te+He)/2;if(i.arc(s,a,u,Te,Lt),i.arc(s,a,u,Lt,He),F>0){let Li=f0(fe,He,s,a);i.arc(Li.x,Li.y,F,He,P+yr)}let mt=f0(rt,P,s,a);if(i.lineTo(mt.x,mt.y),le>0){let Li=f0(rt,xt,s,a);i.arc(Li.x,Li.y,le,P+yr,xt+Math.PI)}let Re=(P-le/m+(I+K/m))/2;if(i.arc(s,a,m,P-le/m,Re,!0),i.arc(s,a,m,Re,I+K/m,!0),K>0){let Li=f0(Be,Rt,s,a);i.arc(Li.x,Li.y,K,Rt+Math.PI,I-yr)}let Oi=f0(me,I,s,a);if(i.lineTo(Oi.x,Oi.y),L>0){let Li=f0(me,Te,s,a);i.arc(Li.x,Li.y,L,I-yr,Te)}}else{i.moveTo(s,a);let Lt=Math.cos(Te)*u+s,mt=Math.sin(Te)*u+a;i.lineTo(Lt,mt);let Re=Math.cos(He)*u+s,Oi=Math.sin(He)*u+a;i.lineTo(Re,Oi)}i.closePath()}function xUe(i,n,e,t,o){let{fullCircles:r,startAngle:s,circumference:a}=n,l=n.endAngle;if(r){tO(i,n,e,t,l,o);for(let c=0;c<r;++c)i.fill();isNaN(a)||(l=s+(a%Fo||Fo))}return tO(i,n,e,t,l,o),i.fill(),l}function TUe(i,n,e,t,o){let{fullCircles:r,startAngle:s,circumference:a,options:l}=n,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:m,borderRadius:g}=l,y=l.borderAlign==="inner";if(!c)return;i.setLineDash(u||[]),i.lineDashOffset=m,y?(i.lineWidth=c*2,i.lineJoin=d||"round"):(i.lineWidth=c,i.lineJoin=d||"bevel");let v=n.endAngle;if(r){tO(i,n,e,t,v,o);for(let S=0;S<r;++S)i.stroke();isNaN(a)||(v=s+(a%Fo||Fo))}y&&SUe(i,n,v),l.selfJoin&&v-s>=An&&g===0&&d!=="miter"&&CUe(i,n,v),r||(tO(i,n,e,t,v,o),i.stroke())}var MM=class extends Uc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(n){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,e,t){let o=this.getProps(["x","y"],t),{angle:r,distance:s}=KL(o,{x:n,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],t),m=(this.options.spacing+this.options.borderWidth)/2,g=Gi(u,l-a),y=d0(r,a,l)&&a!==l,v=g>=Fo||y,S=Hd(s,c+m,d+m);return v&&S}getCenterPoint(n){let{x:e,y:t,startAngle:o,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:l,spacing:c}=this.options,d=(o+r)/2,u=(s+a+c+l)/2;return{x:e+Math.cos(d)*u,y:t+Math.sin(d)*u}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){let{options:e,circumference:t}=this,o=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=t>Fo?Math.floor(t/Fo):0,t===0||this.innerRadius<0||this.outerRadius<0)return;n.save();let a=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(a)*o,Math.sin(a)*o);let l=1-Math.sin(Math.min(An,t||0)),c=o*l;n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,xUe(n,this,c,r,s),TUe(n,this,c,r,s),n.restore()}};function kX(i,n,e=n){i.lineCap=Gi(e.borderCapStyle,n.borderCapStyle),i.setLineDash(Gi(e.borderDash,n.borderDash)),i.lineDashOffset=Gi(e.borderDashOffset,n.borderDashOffset),i.lineJoin=Gi(e.borderJoinStyle,n.borderJoinStyle),i.lineWidth=Gi(e.borderWidth,n.borderWidth),i.strokeStyle=Gi(e.borderColor,n.borderColor)}function OUe(i,n,e){i.lineTo(e.x,e.y)}function RUe(i){return i.stepped?lY:i.tension||i.cubicInterpolationMode==="monotone"?cY:OUe}function NX(i,n,e={}){let t=i.length,{start:o=0,end:r=t-1}=e,{start:s,end:a}=n,l=Math.max(o,s),c=Math.min(r,a),d=o<s&&r<s||o>a&&r>a;return{count:t,start:l,loop:n.loop,ilen:c<l&&!d?t+c-l:c-l}}function DUe(i,n,e,t){let{points:o,options:r}=n,{count:s,start:a,loop:l,ilen:c}=NX(o,e,t),d=RUe(r),{move:u=!0,reverse:m}=t||{},g,y,v;for(g=0;g<=c;++g)y=o[(a+(m?c-g:g))%s],!y.skip&&(u?(i.moveTo(y.x,y.y),u=!1):d(i,v,y,m,r.stepped),v=y);return l&&(y=o[(a+(m?c:0))%s],d(i,v,y,m,r.stepped)),!!l}function PUe(i,n,e,t){let o=n.points,{count:r,start:s,ilen:a}=NX(o,e,t),{move:l=!0,reverse:c}=t||{},d=0,u=0,m,g,y,v,S,I,P=F=>(s+(c?a-F:F))%r,L=()=>{v!==S&&(i.lineTo(d,S),i.lineTo(d,v),i.lineTo(d,I))};for(l&&(g=o[P(0)],i.moveTo(g.x,g.y)),m=0;m<=a;++m){if(g=o[P(m)],g.skip)continue;let F=g.x,K=g.y,le=F|0;le===y?(K<v?v=K:K>S&&(S=K),d=(u*d+F)/++u):(L(),i.lineTo(F,K),y=le,u=0,v=S=K),I=K}L()}function BM(i){let n=i.options,e=n.borderDash&&n.borderDash.length;return!i._decimated&&!i._loop&&!n.tension&&n.cubicInterpolationMode!=="monotone"&&!n.stepped&&!e?PUe:DUe}function AUe(i){return i.stepped?bY:i.tension||i.cubicInterpolationMode==="monotone"?yY:Oh}function kUe(i,n,e,t){let o=n._path;o||(o=n._path=new Path2D,n.path(o,e,t)&&o.closePath()),kX(i,n.options),i.stroke(o)}function NUe(i,n,e,t){let{segments:o,options:r}=n,s=BM(n);for(let a of o)kX(i,r,a.style),i.beginPath(),s(i,n,a,{start:e,end:e+t-1})&&i.closePath(),i.stroke()}var FUe=typeof Path2D=="function";function LUe(i,n,e,t){FUe&&!n.options.segment?kUe(i,n,e,t):NUe(i,n,e,t)}var rO=(()=>{class i extends Uc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let r=o.spanGaps?this._loop:this._fullLoop;mY(this._points,o,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wY(this,this.options.segment))}first(){let e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){let e=this.segments,t=this.points,o=e.length;return o&&t[e[o-1].end]}interpolate(e,t){let o=this.options,r=e[t],s=this.points,a=fM(this,{property:t,start:r,end:r});if(!a.length)return;let l=[],c=AUe(o),d,u;for(d=0,u=a.length;d<u;++d){let{start:m,end:g}=a[d],y=s[m],v=s[g];if(y===v){l.push(y);continue}let S=Math.abs((r-y[t])/(v[t]-y[t])),I=c(y,v,S,o.stepped);I[t]=e[t],l.push(I)}return l.length===1?l[0]:l}pathSegment(e,t,o){return BM(this)(e,this,t,o)}path(e,t,o){let r=this.segments,s=BM(this),a=this._loop;t=t||0,o=o||this.points.length-t;for(let l of r)a&=s(e,this,l,{start:t,end:t+o-1});return!!a}draw(e,t,o,r){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),LUe(e,this,o,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function QY(i,n,e,t){let o=i.options,{[e]:r}=i.getProps([e],t);return Math.abs(n-r)<o.radius+o.hitRadius}var MUe=(()=>{class i extends Uc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,o){let r=this.options,{x:s,y:a}=this.getProps(["x","y"],o);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return QY(this,e,"x",t)}inYRange(e,t){return QY(this,e,"y",t)}getCenterPoint(e){let{x:t,y:o}=this.getProps(["x","y"],e);return{x:t,y:o}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);let o=t&&e.borderWidth||0;return(t+o)*2}draw(e,t){let o=this.options;this.skip||o.radius<.1||!jd(this,t,this.size(o)/2)||(e.strokeStyle=o.borderColor,e.lineWidth=o.borderWidth,e.fillStyle=o.backgroundColor,BT(e,o,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function FX(i,n){let{x:e,y:t,base:o,width:r,height:s}=i.getProps(["x","y","base","width","height"],n),a,l,c,d,u;return i.horizontal?(u=s/2,a=Math.min(e,o),l=Math.max(e,o),c=t-u,d=t+u):(u=r/2,a=e-u,l=e+u,c=Math.min(t,o),d=Math.max(t,o)),{left:a,top:c,right:l,bottom:d}}function Fh(i,n,e,t){return i?0:us(n,e,t)}function BUe(i,n,e){let t=i.options.borderWidth,o=i.borderSkipped,r=oM(t);return{t:Fh(o.top,r.top,0,e),r:Fh(o.right,r.right,0,n),b:Fh(o.bottom,r.bottom,0,e),l:Fh(o.left,r.left,0,n)}}function VUe(i,n,e){let{enableBorderRadius:t}=i.getProps(["enableBorderRadius"]),o=i.options.borderRadius,r=kh(o),s=Math.min(n,e),a=i.borderSkipped,l=t||gn(o);return{topLeft:Fh(!l||a.top||a.left,r.topLeft,0,s),topRight:Fh(!l||a.top||a.right,r.topRight,0,s),bottomLeft:Fh(!l||a.bottom||a.left,r.bottomLeft,0,s),bottomRight:Fh(!l||a.bottom||a.right,r.bottomRight,0,s)}}function UUe(i){let n=FX(i),e=n.right-n.left,t=n.bottom-n.top,o=BUe(i,e/2,t/2),r=VUe(i,e/2,t/2);return{outer:{x:n.left,y:n.top,w:e,h:t,radius:r},inner:{x:n.left+o.l,y:n.top+o.t,w:e-o.l-o.r,h:t-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function SM(i,n,e,t){let o=n===null,r=e===null,a=i&&!(o&&r)&&FX(i,t);return a&&(o||Hd(n,a.left,a.right))&&(r||Hd(e,a.top,a.bottom))}function jUe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function GUe(i,n){i.rect(n.x,n.y,n.w,n.h)}function IM(i,n,e={}){let t=i.x!==e.x?-n:0,o=i.y!==e.y?-n:0,r=(i.x+i.w!==e.x+e.w?n:0)-t,s=(i.y+i.h!==e.y+e.h?n:0)-o;return{x:i.x+t,y:i.y+o,w:i.w+r,h:i.h+s,radius:i.radius}}var VM=class extends Uc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){let{inflateAmount:e,options:{borderColor:t,backgroundColor:o}}=this,{inner:r,outer:s}=UUe(this),a=jUe(s.radius)?u0:GUe;n.save(),(s.w!==r.w||s.h!==r.h)&&(n.beginPath(),a(n,IM(s,e,r)),n.clip(),a(n,IM(r,-e,s)),n.fillStyle=t,n.fill("evenodd")),n.beginPath(),a(n,IM(r,e)),n.fillStyle=o,n.fill(),n.restore()}inRange(n,e,t){return SM(this,n,e,t)}inXRange(n,e){return SM(this,n,null,e)}inYRange(n,e){return SM(this,null,n,e)}getCenterPoint(n){let{x:e,y:t,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],n);return{x:r?(e+o)/2:e,y:r?t:(t+o)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}},HUe=Object.freeze({__proto__:null,ArcElement:MM,BarElement:VM,LineElement:rO,PointElement:MUe}),UM=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],YY=UM.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function LX(i){return UM[i%UM.length]}function MX(i){return YY[i%YY.length]}function zUe(i,n){return i.borderColor=LX(n),i.backgroundColor=MX(n),++n}function WUe(i,n){return i.backgroundColor=i.data.map(()=>LX(n++)),n}function $Ue(i,n){return i.backgroundColor=i.data.map(()=>MX(n++)),n}function KUe(i){let n=0;return(e,t)=>{let o=i.getDatasetMeta(t).controller;o instanceof qM?n=WUe(e,n):o instanceof IX?n=$Ue(e,n):o&&(n=zUe(e,n))}}function XY(i){let n;for(n in i)if(i[n].borderColor||i[n].backgroundColor)return!0;return!1}function qUe(i){return i&&(i.borderColor||i.backgroundColor)}function JUe(){return zo.borderColor!=="rgba(0,0,0,0.1)"||zo.backgroundColor!=="rgba(0,0,0,0.1)"}var QUe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,n,e){if(!e.enabled)return;let{data:{datasets:t},options:o}=i.config,{elements:r}=o,s=XY(t)||qUe(o)||r&&XY(r)||JUe();if(!e.forceOverride&&s)return;let a=KUe(i);t.forEach(a)}};function YUe(i,n,e,t,o){let r=o.samples||t;if(r>=e)return i.slice(n,n+e);let s=[],a=(e-2)/(r-2),l=0,c=n+e-1,d=n,u,m,g,y,v;for(s[l++]=i[d],u=0;u<r-2;u++){let S=0,I=0,P,L=Math.floor((u+1)*a)+1+n,F=Math.min(Math.floor((u+2)*a)+1,e)+n,K=F-L;for(P=L;P<F;P++)S+=i[P].x,I+=i[P].y;S/=K,I/=K;let le=Math.floor(u*a)+1+n,me=Math.min(Math.floor((u+1)*a)+1,e)+n,{x:fe,y:Te}=i[d];for(g=y=-1,P=le;P<me;P++)y=.5*Math.abs((fe-S)*(i[P].y-Te)-(fe-i[P].x)*(I-Te)),y>g&&(g=y,m=i[P],v=P);s[l++]=m,d=v}return s[l++]=i[c],s}function XUe(i,n,e,t){let o=0,r=0,s,a,l,c,d,u,m,g,y,v,S=[],I=n+e-1,P=i[n].x,F=i[I].x-P;for(s=n;s<n+e;++s){a=i[s],l=(a.x-P)/F*t,c=a.y;let K=l|0;if(K===d)c<y?(y=c,u=s):c>v&&(v=c,m=s),o=(r*o+a.x)/++r;else{let le=s-1;if(!pn(u)&&!pn(m)){let me=Math.min(u,m),fe=Math.max(u,m);me!==g&&me!==le&&S.push(Fe(ee({},i[me]),{x:o})),fe!==g&&fe!==le&&S.push(Fe(ee({},i[fe]),{x:o}))}s>0&&le!==g&&S.push(i[le]),S.push(a),d=K,r=0,y=v=c,u=m=g=s}}return S}function BX(i){if(i._decimated){let n=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:n})}}function ZY(i){i.data.datasets.forEach(n=>{BX(n)})}function ZUe(i,n){let e=n.length,t=0,o,{iScale:r}=i,{min:s,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(t=us(Ud(n,r.axis,s).lo,0,e-1)),c?o=us(Ud(n,r.axis,a).hi+1,t,e)-t:o=e-t,{start:t,count:o}}var eje={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,n,e)=>{if(!e.enabled){ZY(i);return}let t=i.width;i.data.datasets.forEach((o,r)=>{let{_data:s,indexAxis:a}=o,l=i.getDatasetMeta(r),c=s||o.data;if(h0([a,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let d=i.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||i.options.parsing)return;let{start:u,count:m}=ZUe(l,c),g=e.threshold||4*t;if(m<=g){BX(o);return}pn(s)&&(o._data=c,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(e.algorithm){case"lttb":y=YUe(c,u,m,t,e);break;case"min-max":y=XUe(c,u,m,t);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}o._decimated=y})},destroy(i){ZY(i)}};function tje(i,n,e){let t=i.segments,o=i.points,r=n.points,s=[];for(let a of t){let{start:l,end:c}=a;c=sO(l,c,o);let d=jM(e,o[l],o[c],a.loop);if(!n.segments){s.push({source:a,target:d,start:o[l],end:o[c]});continue}let u=fM(n,d);for(let m of u){let g=jM(e,r[m.start],r[m.end],m.loop),y=hM(a,o,g);for(let v of y)s.push({source:v,target:m,start:{[e]:eX(d,g,"start",Math.max)},end:{[e]:eX(d,g,"end",Math.min)}})}}return s}function jM(i,n,e,t){if(t)return;let o=n[i],r=e[i];return i==="angle"&&(o=zs(o),r=zs(r)),{property:i,start:o,end:r}}function ije(i,n){let{x:e=null,y:t=null}=i||{},o=n.points,r=[];return n.segments.forEach(({start:s,end:a})=>{a=sO(s,a,o);let l=o[s],c=o[a];t!==null?(r.push({x:l.x,y:t}),r.push({x:c.x,y:t})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function sO(i,n,e){for(;n>i;n--){let t=e[n];if(!isNaN(t.x)&&!isNaN(t.y))break}return n}function eX(i,n,e,t){return i&&n?t(i[e],n[e]):i?i[e]:n?n[e]:0}function VX(i,n){let e=[],t=!1;return No(i)?(t=!0,e=i):e=ije(i,n),e.length?new rO({points:e,options:{tension:0},_loop:t,_fullLoop:t}):null}function tX(i){return i&&i.fill!==!1}function nje(i,n,e){let o=i[n].fill,r=[n],s;if(!e)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!sr(o))return o;if(s=i[o],!s)return!1;if(s.visible)return o;r.push(o),o=s.fill}return!1}function oje(i,n,e){let t=lje(i);if(gn(t))return isNaN(t.value)?!1:t;let o=parseFloat(t);return sr(o)&&Math.floor(o)===o?rje(t[0],n,o,e):["origin","start","end","stack","shape"].indexOf(t)>=0&&t}function rje(i,n,e,t){return(i==="-"||i==="+")&&(e=n+e),e===n||e<0||e>=t?!1:e}function sje(i,n){let e=null;return i==="start"?e=n.bottom:i==="end"?e=n.top:gn(i)?e=n.getPixelForValue(i.value):n.getBasePixel&&(e=n.getBasePixel()),e}function aje(i,n,e){let t;return i==="start"?t=e:i==="end"?t=n.options.reverse?n.min:n.max:gn(i)?t=i.value:t=n.getBaseValue(),t}function lje(i){let n=i.options,e=n.fill,t=Gi(e&&e.target,e);return t===void 0&&(t=!!n.backgroundColor),t===!1||t===null?!1:t===!0?"origin":t}function cje(i){let{scale:n,index:e,line:t}=i,o=[],r=t.segments,s=t.points,a=dje(n,e);a.push(VX({x:null,y:n.bottom},t));for(let l=0;l<r.length;l++){let c=r[l];for(let d=c.start;d<=c.end;d++)pje(o,s[d],a)}return new rO({points:o,options:{}})}function dje(i,n){let e=[],t=i.getMatchingVisibleMetas("line");for(let o=0;o<t.length;o++){let r=t[o];if(r.index===n)break;r.hidden||e.unshift(r.dataset)}return e}function pje(i,n,e){let t=[];for(let o=0;o<e.length;o++){let r=e[o],{first:s,last:a,point:l}=uje(r,n,"x");if(!(!l||s&&a)){if(s)t.unshift(l);else if(i.push(l),!a)break}}i.push(...t)}function uje(i,n,e){let t=i.interpolate(n,e);if(!t)return{};let o=t[e],r=i.segments,s=i.points,a=!1,l=!1;for(let c=0;c<r.length;c++){let d=r[c],u=s[d.start][e],m=s[d.end][e];if(Hd(o,u,m)){a=o===u,l=o===m;break}}return{first:a,last:l,point:t}}var iO=class{constructor(n){this.x=n.x,this.y=n.y,this.radius=n.radius}pathSegment(n,e,t){let{x:o,y:r,radius:s}=this;return e=e||{start:0,end:Fo},n.arc(o,r,s,e.end,e.start,!0),!t.bounds}interpolate(n){let{x:e,y:t,radius:o}=this,r=n.angle;return{x:e+Math.cos(r)*o,y:t+Math.sin(r)*o,angle:r}}};function hje(i){let{chart:n,fill:e,line:t}=i;if(sr(e))return fje(n,e);if(e==="stack")return cje(i);if(e==="shape")return!0;let o=mje(i);return o instanceof iO?o:VX(o,t)}function fje(i,n){let e=i.getDatasetMeta(n);return e&&i.isDatasetVisible(n)?e.dataset:null}function mje(i){return(i.scale||{}).getPointPositionForValue?_je(i):gje(i)}function gje(i){let{scale:n={},fill:e}=i,t=sje(e,n);if(sr(t)){let o=n.isHorizontal();return{x:o?t:null,y:o?null:t}}return null}function _je(i){let{scale:n,fill:e}=i,t=n.options,o=n.getLabels().length,r=t.reverse?n.max:n.min,s=aje(e,n,r),a=[];if(t.grid.circular){let l=n.getPointPositionForValue(0,r);return new iO({x:l.x,y:l.y,radius:n.getDistanceFromCenterForValue(s)})}for(let l=0;l<o;++l)a.push(n.getPointPositionForValue(l,s));return a}function EM(i,n,e){let t=hje(n),{chart:o,index:r,line:s,scale:a,axis:l}=n,c=s.options,d=c.fill,u=c.backgroundColor,{above:m=u,below:g=u}=d||{},y=o.getDatasetMeta(r),v=mM(o,y);t&&s.points.length&&(cw(i,e),bje(i,{line:s,target:t,above:m,below:g,area:e,scale:a,axis:l,clip:v}),dw(i))}function bje(i,n){let{line:e,target:t,above:o,below:r,area:s,scale:a,clip:l}=n,c=e._loop?"angle":n.axis;i.save();let d=r;r!==o&&(c==="x"?(iX(i,t,s.top),xM(i,{line:e,target:t,color:o,scale:a,property:c,clip:l}),i.restore(),i.save(),iX(i,t,s.bottom)):c==="y"&&(nX(i,t,s.left),xM(i,{line:e,target:t,color:r,scale:a,property:c,clip:l}),i.restore(),i.save(),nX(i,t,s.right),d=o)),xM(i,{line:e,target:t,color:d,scale:a,property:c,clip:l}),i.restore()}function iX(i,n,e){let{segments:t,points:o}=n,r=!0,s=!1;i.beginPath();for(let a of t){let{start:l,end:c}=a,d=o[l],u=o[sO(l,c,o)];r?(i.moveTo(d.x,d.y),r=!1):(i.lineTo(d.x,e),i.lineTo(d.x,d.y)),s=!!n.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(u.x,e)}i.lineTo(n.first().x,e),i.closePath(),i.clip()}function nX(i,n,e){let{segments:t,points:o}=n,r=!0,s=!1;i.beginPath();for(let a of t){let{start:l,end:c}=a,d=o[l],u=o[sO(l,c,o)];r?(i.moveTo(d.x,d.y),r=!1):(i.lineTo(e,d.y),i.lineTo(d.x,d.y)),s=!!n.pathSegment(i,a,{move:s}),s?i.closePath():i.lineTo(e,u.y)}i.lineTo(e,n.first().y),i.closePath(),i.clip()}function xM(i,n){let{line:e,target:t,property:o,color:r,scale:s,clip:a}=n,l=tje(e,t,o);for(let{source:c,target:d,start:u,end:m}of l){let{style:{backgroundColor:g=r}={}}=c,y=t!==!0;i.save(),i.fillStyle=g,yje(i,s,a,y&&jM(o,u,m)),i.beginPath();let v=!!e.pathSegment(i,c),S;if(y){v?i.closePath():oX(i,t,m,o);let I=!!t.pathSegment(i,d,{move:v,reverse:!0});S=v&&I,S||oX(i,t,u,o)}i.closePath(),i.fill(S?"evenodd":"nonzero"),i.restore()}}function yje(i,n,e,t){let o=n.chart.chartArea,{property:r,start:s,end:a}=t||{};if(r==="x"||r==="y"){let l,c,d,u;r==="x"?(l=s,c=o.top,d=a,u=o.bottom):(l=o.left,c=s,d=o.right,u=a),i.beginPath(),e&&(l=Math.max(l,e.left),d=Math.min(d,e.right),c=Math.max(c,e.top),u=Math.min(u,e.bottom)),i.rect(l,c,d-l,u-c),i.clip()}}function oX(i,n,e,t){let o=n.interpolate(e,t);o&&i.lineTo(o.x,o.y)}var vje={id:"filler",afterDatasetsUpdate(i,n,e){let t=(i.data.datasets||[]).length,o=[],r,s,a,l;for(s=0;s<t;++s)r=i.getDatasetMeta(s),a=r.dataset,l=null,a&&a.options&&a instanceof rO&&(l={visible:i.isDatasetVisible(s),index:s,fill:oje(a,s,t),chart:i,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,o.push(l);for(s=0;s<t;++s)l=o[s],!(!l||l.fill===!1)&&(l.fill=nje(o,s,e.propagate))},beforeDraw(i,n,e){let t=e.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),r=i.chartArea;for(let s=o.length-1;s>=0;--s){let a=o[s].$filler;a&&(a.line.updateControlPoints(r,a.axis),t&&a.fill&&EM(i.ctx,a,r))}},beforeDatasetsDraw(i,n,e){if(e.drawTime!=="beforeDatasetsDraw")return;let t=i.getSortedVisibleDatasetMetas();for(let o=t.length-1;o>=0;--o){let r=t[o].$filler;tX(r)&&EM(i.ctx,r,i.chartArea)}},beforeDatasetDraw(i,n,e){let t=n.meta.$filler;!tX(t)||e.drawTime!=="beforeDatasetDraw"||EM(i.ctx,t,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},rX=(i,n)=>{let{boxHeight:e=n,boxWidth:t=n}=i;return i.usePointStyle&&(e=Math.min(e,n),t=i.pointStyleWidth||Math.min(t,n)),{boxWidth:t,boxHeight:e,itemHeight:Math.max(n,e)}},wje=(i,n)=>i!==null&&n!==null&&i.datasetIndex===n.datasetIndex&&i.index===n.index,nO=class extends Uc{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e,t){this.maxWidth=n,this.maxHeight=e,this._margins=t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let n=this.options.labels||{},e=vo(n.generateLabels,[this.chart],this)||[];n.filter&&(e=e.filter(t=>n.filter(t,this.chart.data))),n.sort&&(e=e.sort((t,o)=>n.sort(t,o,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:n,ctx:e}=this;if(!n.display){this.width=this.height=0;return}let t=n.labels,o=Jr(t.font),r=o.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=rX(t,r),c,d;e.font=o.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(s,r,a,l)+10):(d=this.maxHeight,c=this._fitCols(s,o,a,l)+10),this.width=Math.min(c,n.maxWidth||this.maxWidth),this.height=Math.min(d,n.maxHeight||this.maxHeight)}_fitRows(n,e,t,o){let{ctx:r,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=o+a,u=n;r.textAlign="left",r.textBaseline="middle";let m=-1,g=-d;return this.legendItems.forEach((y,v)=>{let S=t+e/2+r.measureText(y.text).width;(v===0||c[c.length-1]+S+2*a>s)&&(u+=d,c[c.length-(v>0?0:1)]=0,g+=d,m++),l[v]={left:0,top:g,row:m,width:S,height:o},c[c.length-1]+=S+a}),u}_fitCols(n,e,t,o){let{ctx:r,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=s-n,u=a,m=0,g=0,y=0,v=0;return this.legendItems.forEach((S,I)=>{let{itemWidth:P,itemHeight:L}=Cje(t,e,r,S,o);I>0&&g+L+2*a>d&&(u+=m+a,c.push({width:m,height:g}),y+=m+a,v++,m=g=0),l[I]={left:y,top:g,col:v,width:P,height:L},m=Math.max(m,P),g+=L+a}),u+=m,c.push({width:m,height:g}),u}adjustHitBoxes(){if(!this.options.display)return;let n=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:t,labels:{padding:o},rtl:r}}=this,s=gm(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ws(t,this.left+o,this.right-this.lineWidths[a]);for(let c of e)a!==c.row&&(a=c.row,l=Ws(t,this.left+o,this.right-this.lineWidths[a])),c.top+=this.top+n+o,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+o}else{let a=0,l=Ws(t,this.top+n+o,this.bottom-this.columnSizes[a].height);for(let c of e)c.col!==a&&(a=c.col,l=Ws(t,this.top+n+o,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+o,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let n=this.ctx;cw(n,this),this._draw(),dw(n)}}_draw(){let{options:n,columnSizes:e,lineWidths:t,ctx:o}=this,{align:r,labels:s}=n,a=zo.color,l=gm(n.rtl,this.left,this.width),c=Jr(s.font),{padding:d}=s,u=c.size,m=u/2,g;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=c.string;let{boxWidth:y,boxHeight:v,itemHeight:S}=rX(s,u),I=function(le,me,fe){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;o.save();let Te=Gi(fe.lineWidth,1);if(o.fillStyle=Gi(fe.fillStyle,a),o.lineCap=Gi(fe.lineCap,"butt"),o.lineDashOffset=Gi(fe.lineDashOffset,0),o.lineJoin=Gi(fe.lineJoin,"miter"),o.lineWidth=Te,o.strokeStyle=Gi(fe.strokeStyle,a),o.setLineDash(Gi(fe.lineDash,[])),s.usePointStyle){let He={radius:v*Math.SQRT2/2,pointStyle:fe.pointStyle,rotation:fe.rotation,borderWidth:Te},Be=l.xPlus(le,y/2),rt=me+m;nM(o,He,Be,rt,s.pointStyleWidth&&y)}else{let He=me+Math.max((u-v)/2,0),Be=l.leftForLtr(le,y),rt=kh(fe.borderRadius);o.beginPath(),Object.values(rt).some(Rt=>Rt!==0)?u0(o,{x:Be,y:He,w:y,h:v,radius:rt}):o.rect(Be,He,y,v),o.fill(),Te!==0&&o.stroke()}o.restore()},P=function(le,me,fe){Ah(o,fe.text,le,me+S/2,c,{strikethrough:fe.hidden,textAlign:l.textAlign(fe.textAlign)})},L=this.isHorizontal(),F=this._computeTitleHeight();L?g={x:Ws(r,this.left+d,this.right-t[0]),y:this.top+d+F,line:0}:g={x:this.left+d,y:Ws(r,this.top+F+d,this.bottom-e[0].height),line:0},pM(this.ctx,n.textDirection);let K=S+d;this.legendItems.forEach((le,me)=>{o.strokeStyle=le.fontColor,o.fillStyle=le.fontColor;let fe=o.measureText(le.text).width,Te=l.textAlign(le.textAlign||(le.textAlign=s.textAlign)),He=y+m+fe,Be=g.x,rt=g.y;l.setWidth(this.width),L?me>0&&Be+He+d>this.right&&(rt=g.y+=K,g.line++,Be=g.x=Ws(r,this.left+d,this.right-t[g.line])):me>0&&rt+K>this.bottom&&(Be=g.x=Be+e[g.line].width+d,g.line++,rt=g.y=Ws(r,this.top+F+d,this.bottom-e[g.line].height));let Rt=l.x(Be);if(I(Rt,rt,le),Be=rY(Te,Be+y+m,L?Be+He:this.right,n.rtl),P(l.x(Be),rt,le),L)g.x+=He+d;else if(typeof le.text!="string"){let xt=c.lineHeight;g.y+=UX(le,xt)+d}else g.y+=K}),uM(this.ctx,n.textDirection)}drawTitle(){let n=this.options,e=n.title,t=Jr(e.font),o=$s(e.padding);if(!e.display)return;let r=gm(n.rtl,this.left,this.width),s=this.ctx,a=e.position,l=t.size/2,c=o.top+l,d,u=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+c,u=Ws(n.align,u,this.right-m);else{let y=this.columnSizes.reduce((v,S)=>Math.max(v,S.height),0);d=c+Ws(n.align,this.top,this.bottom-y-n.labels.padding-this._computeTitleHeight())}let g=Ws(a,u,u+m);s.textAlign=r.textAlign(LT(a)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=t.string,Ah(s,e.text,g,d,t)}_computeTitleHeight(){let n=this.options.title,e=Jr(n.font),t=$s(n.padding);return n.display?e.lineHeight+t.height:0}_getLegendItemAt(n,e){let t,o,r;if(Hd(n,this.left,this.right)&&Hd(e,this.top,this.bottom)){for(r=this.legendHitBoxes,t=0;t<r.length;++t)if(o=r[t],Hd(n,o.left,o.left+o.width)&&Hd(e,o.top,o.top+o.height))return this.legendItems[t]}return null}handleEvent(n){let e=this.options;if(!Eje(n.type,e))return;let t=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){let o=this._hoveredItem,r=wje(o,t);o&&!r&&vo(e.onLeave,[n,o,this],this),this._hoveredItem=t,t&&!r&&vo(e.onHover,[n,t,this],this)}else t&&vo(e.onClick,[n,t,this],this)}};function Cje(i,n,e,t,o){let r=Sje(t,i,n,e),s=Ije(o,t,n.lineHeight);return{itemWidth:r,itemHeight:s}}function Sje(i,n,e,t){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((r,s)=>r.length>s.length?r:s)),n+e.size/2+t.measureText(o).width}function Ije(i,n,e){let t=i;return typeof n.text!="string"&&(t=UX(n,e)),t}function UX(i,n){let e=i.text?i.text.length:0;return n*e}function Eje(i,n){return!!((i==="mousemove"||i==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(i==="click"||i==="mouseup"))}var xje={id:"legend",_element:nO,start(i,n,e){let t=i.legend=new nO({ctx:i.ctx,options:e,chart:i});ca.configure(i,t,e),ca.addBox(i,t)},stop(i){ca.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,n,e){let t=i.legend;ca.configure(i,t,e),t.options=e},afterUpdate(i){let n=i.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(i,n){n.replay||i.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,n,e){let t=n.datasetIndex,o=e.chart;o.isDatasetVisible(t)?(o.hide(t),n.hidden=!0):(o.show(t),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let n=i.data.datasets,{labels:{usePointStyle:e,pointStyle:t,textAlign:o,color:r,useBorderRadius:s,borderRadius:a}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(e?0:void 0),d=$s(c.borderWidth);return{text:n[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:t||c.pointStyle,rotation:c.rotation,textAlign:o||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},yw=class extends Uc{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,e){let t=this.options;if(this.left=0,this.top=0,!t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=e;let o=No(t.text)?t.text.length:1;this._padding=$s(t.padding);let r=o*Jr(t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){let n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){let{top:e,left:t,bottom:o,right:r,options:s}=this,a=s.align,l=0,c,d,u;return this.isHorizontal()?(d=Ws(a,t,r),u=e+n,c=r-t):(s.position==="left"?(d=t+n,u=Ws(a,o,e),l=An*-.5):(d=r-n,u=Ws(a,e,o),l=An*.5),c=o-e),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){let n=this.ctx,e=this.options;if(!e.display)return;let t=Jr(e.font),r=t.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Ah(n,e.text,0,0,t,{color:e.color,maxWidth:l,rotation:c,textAlign:LT(e.align),textBaseline:"middle",translation:[s,a]})}};function Tje(i,n){let e=new yw({ctx:i.ctx,options:n,chart:i});ca.configure(i,e,n),ca.addBox(i,e),i.titleBlock=e}var Oje={id:"title",_element:yw,start(i,n,e){Tje(i,e)},stop(i){let n=i.titleBlock;ca.removeBox(i,n),delete i.titleBlock},beforeUpdate(i,n,e){let t=i.titleBlock;ca.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},KT=new WeakMap,Rje={id:"subtitle",start(i,n,e){let t=new yw({ctx:i.ctx,options:e,chart:i});ca.configure(i,t,e),ca.addBox(i,t),KT.set(i,t)},stop(i){ca.removeBox(i,KT.get(i)),KT.delete(i)},beforeUpdate(i,n,e){let t=KT.get(i);ca.configure(i,t,e),t.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},_w={average(i){if(!i.length)return!1;let n,e,t=new Set,o=0,r=0;for(n=0,e=i.length;n<e;++n){let a=i[n].element;if(a&&a.hasValue()){let l=a.tooltipPosition();t.add(l.x),o+=l.y,++r}}return r===0||t.size===0?!1:{x:[...t].reduce((a,l)=>a+l)/t.size,y:o/r}},nearest(i,n){if(!i.length)return!1;let e=n.x,t=n.y,o=Number.POSITIVE_INFINITY,r,s,a;for(r=0,s=i.length;r<s;++r){let l=i[r].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=PT(n,c);d<o&&(o=d,a=l)}}if(a){let l=a.tooltipPosition();e=l.x,t=l.y}return{x:e,y:t}}};function zd(i,n){return n&&(No(n)?Array.prototype.push.apply(i,n):i.push(n)),i}function tu(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Dje(i,n){let{element:e,datasetIndex:t,index:o}=n,r=i.getDatasetMeta(t).controller,{label:s,value:a}=r.getLabelAndValue(o);return{chart:i,label:s,parsed:r.getParsed(o),raw:i.data.datasets[t].data[o],formattedValue:a,dataset:r.getDataset(),dataIndex:o,datasetIndex:t,element:e}}function sX(i,n){let e=i.chart.ctx,{body:t,footer:o,title:r}=i,{boxWidth:s,boxHeight:a}=n,l=Jr(n.bodyFont),c=Jr(n.titleFont),d=Jr(n.footerFont),u=r.length,m=o.length,g=t.length,y=$s(n.padding),v=y.height,S=0,I=t.reduce((F,K)=>F+K.before.length+K.lines.length+K.after.length,0);if(I+=i.beforeBody.length+i.afterBody.length,u&&(v+=u*c.lineHeight+(u-1)*n.titleSpacing+n.titleMarginBottom),I){let F=n.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=g*F+(I-g)*l.lineHeight+(I-1)*n.bodySpacing}m&&(v+=n.footerMarginTop+m*d.lineHeight+(m-1)*n.footerSpacing);let P=0,L=function(F){S=Math.max(S,e.measureText(F).width+P)};return e.save(),e.font=c.string,Qn(i.title,L),e.font=l.string,Qn(i.beforeBody.concat(i.afterBody),L),P=n.displayColors?s+2+n.boxPadding:0,Qn(t,F=>{Qn(F.before,L),Qn(F.lines,L),Qn(F.after,L)}),P=0,e.font=d.string,Qn(i.footer,L),e.restore(),S+=y.width,{width:S,height:v}}function Pje(i,n){let{y:e,height:t}=n;return e<t/2?"top":e>i.height-t/2?"bottom":"center"}function Aje(i,n,e,t){let{x:o,width:r}=t,s=e.caretSize+e.caretPadding;if(i==="left"&&o+r+s>n.width||i==="right"&&o-r-s<0)return!0}function kje(i,n,e,t){let{x:o,width:r}=e,{width:s,chartArea:{left:a,right:l}}=i,c="center";return t==="center"?c=o<=(a+l)/2?"left":"right":o<=r/2?c="left":o>=s-r/2&&(c="right"),Aje(c,i,n,e)&&(c="center"),c}function aX(i,n,e){let t=e.yAlign||n.yAlign||Pje(i,e);return{xAlign:e.xAlign||n.xAlign||kje(i,n,e,t),yAlign:t}}function Nje(i,n){let{x:e,width:t}=i;return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function Fje(i,n,e){let{y:t,height:o}=i;return n==="top"?t+=e:n==="bottom"?t-=o+e:t-=o/2,t}function lX(i,n,e,t){let{caretSize:o,caretPadding:r,cornerRadius:s}=i,{xAlign:a,yAlign:l}=e,c=o+r,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:g}=kh(s),y=Nje(n,a),v=Fje(n,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,m)+o:a==="right"&&(y+=Math.max(u,g)+o),{x:us(y,0,t.width-n.width),y:us(v,0,t.height-n.height)}}function qT(i,n,e){let t=$s(e.padding);return n==="center"?i.x+i.width/2:n==="right"?i.x+i.width-t.right:i.x+t.left}function cX(i){return zd([],tu(i))}function Lje(i,n,e){return Zp(i,{tooltip:n,tooltipItems:e,type:"tooltip"})}function dX(i,n){let e=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return e?i.override(e):i}var jX={beforeTitle:Gd,title(i){if(i.length>0){let n=i[0],e=n.chart.data.labels,t=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(t>0&&n.dataIndex<t)return e[n.dataIndex]}return""},afterTitle:Gd,beforeBody:Gd,beforeLabel:Gd,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let n=i.dataset.label||"";n&&(n+=": ");let e=i.formattedValue;return pn(e)||(n+=e),n},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Gd,afterBody:Gd,beforeFooter:Gd,footer:Gd,afterFooter:Gd};function Ja(i,n,e,t){let o=i[n].call(e,t);return typeof o>"u"?jX[n].call(e,t):o}var pX=(()=>{class i extends Uc{static positioners=_w;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let t=this.chart,o=this.options.setContext(this.getContext()),r=o.enabled&&t.options.animation&&o.animations,s=new XT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Lje(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){let{callbacks:o}=t,r=Ja(o,"beforeTitle",this,e),s=Ja(o,"title",this,e),a=Ja(o,"afterTitle",this,e),l=[];return l=zd(l,tu(r)),l=zd(l,tu(s)),l=zd(l,tu(a)),l}getBeforeBody(e,t){return cX(Ja(t.callbacks,"beforeBody",this,e))}getBody(e,t){let{callbacks:o}=t,r=[];return Qn(e,s=>{let a={before:[],lines:[],after:[]},l=dX(o,s);zd(a.before,tu(Ja(l,"beforeLabel",this,s))),zd(a.lines,Ja(l,"label",this,s)),zd(a.after,tu(Ja(l,"afterLabel",this,s))),r.push(a)}),r}getAfterBody(e,t){return cX(Ja(t.callbacks,"afterBody",this,e))}getFooter(e,t){let{callbacks:o}=t,r=Ja(o,"beforeFooter",this,e),s=Ja(o,"footer",this,e),a=Ja(o,"afterFooter",this,e),l=[];return l=zd(l,tu(r)),l=zd(l,tu(s)),l=zd(l,tu(a)),l}_createItems(e){let t=this._active,o=this.chart.data,r=[],s=[],a=[],l=[],c,d;for(c=0,d=t.length;c<d;++c)l.push(Dje(this.chart,t[c]));return e.filter&&(l=l.filter((u,m,g)=>e.filter(u,m,g,o))),e.itemSort&&(l=l.sort((u,m)=>e.itemSort(u,m,o))),Qn(l,u=>{let m=dX(e.callbacks,u);r.push(Ja(m,"labelColor",this,u)),s.push(Ja(m,"labelPointStyle",this,u)),a.push(Ja(m,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){let o=this.options.setContext(this.getContext()),r=this._active,s,a=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{let l=_w[o.position].call(this,r,this._eventPosition);a=this._createItems(o),this.title=this.getTitle(a,o),this.beforeBody=this.getBeforeBody(a,o),this.body=this.getBody(a,o),this.afterBody=this.getAfterBody(a,o),this.footer=this.getFooter(a,o);let c=this._size=sX(this,o),d=Object.assign({},l,c),u=aX(this.chart,o,d),m=lX(o,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,o,r){let s=this.getCaretPosition(e,o,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,o){let{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:l}=o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:m}=kh(l),{x:g,y}=e,{width:v,height:S}=t,I,P,L,F,K,le;return s==="center"?(K=y+S/2,r==="left"?(I=g,P=I-a,F=K+a,le=K-a):(I=g+v,P=I+a,F=K-a,le=K+a),L=I):(r==="left"?P=g+Math.max(c,u)+a:r==="right"?P=g+v-Math.max(d,m)-a:P=this.caretX,s==="top"?(F=y,K=F-a,I=P-a,L=P+a):(F=y+S,K=F+a,I=P+a,L=P-a),le=F),{x1:I,x2:P,x3:L,y1:F,y2:K,y3:le}}drawTitle(e,t,o){let r=this.title,s=r.length,a,l,c;if(s){let d=gm(o.rtl,this.x,this.width);for(e.x=qT(this,o.titleAlign,o),t.textAlign=d.textAlign(o.titleAlign),t.textBaseline="middle",a=Jr(o.titleFont),l=o.titleSpacing,t.fillStyle=o.titleColor,t.font=a.string,c=0;c<s;++c)t.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===s&&(e.y+=o.titleMarginBottom-l)}}_drawColorBox(e,t,o,r,s){let a=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:c,boxWidth:d}=s,u=Jr(s.bodyFont),m=qT(this,"left",s),g=r.x(m),y=c<u.lineHeight?(u.lineHeight-c)/2:0,v=t.y+y;if(s.usePointStyle){let S={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},I=r.leftForLtr(g,d)+d/2,P=v+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,BT(e,S,I,P),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,BT(e,S,I,P)}else{e.lineWidth=gn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;let S=r.leftForLtr(g,d),I=r.leftForLtr(r.xPlus(g,1),d-2),P=kh(a.borderRadius);Object.values(P).some(L=>L!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,u0(e,{x:S,y:v,w:d,h:c,radius:P}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),u0(e,{x:I,y:v+1,w:d-2,h:c-2,radius:P}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,v,d,c),e.strokeRect(S,v,d,c),e.fillStyle=a.backgroundColor,e.fillRect(I,v+1,d-2,c-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,t,o){let{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=o,m=Jr(o.bodyFont),g=m.lineHeight,y=0,v=gm(o.rtl,this.x,this.width),S=function(Te){t.fillText(Te,v.x(e.x+y),e.y+g/2),e.y+=g+s},I=v.textAlign(a),P,L,F,K,le,me,fe;for(t.textAlign=a,t.textBaseline="middle",t.font=m.string,e.x=qT(this,I,o),t.fillStyle=o.bodyColor,Qn(this.beforeBody,S),y=l&&I!=="right"?a==="center"?d/2+u:d+2+u:0,K=0,me=r.length;K<me;++K){for(P=r[K],L=this.labelTextColors[K],t.fillStyle=L,Qn(P.before,S),F=P.lines,l&&F.length&&(this._drawColorBox(t,e,K,v,o),g=Math.max(m.lineHeight,c)),le=0,fe=F.length;le<fe;++le)S(F[le]),g=m.lineHeight;Qn(P.after,S)}y=0,g=m.lineHeight,Qn(this.afterBody,S),e.y-=s}drawFooter(e,t,o){let r=this.footer,s=r.length,a,l;if(s){let c=gm(o.rtl,this.x,this.width);for(e.x=qT(this,o.footerAlign,o),e.y+=o.footerMarginTop,t.textAlign=c.textAlign(o.footerAlign),t.textBaseline="middle",a=Jr(o.footerFont),t.fillStyle=o.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o.footerSpacing}}drawBackground(e,t,o,r){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=o,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:v}=kh(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(l+m,c),a==="top"&&this.drawCaret(e,t,o,r),t.lineTo(l+d-g,c),t.quadraticCurveTo(l+d,c,l+d,c+g),a==="center"&&s==="right"&&this.drawCaret(e,t,o,r),t.lineTo(l+d,c+u-v),t.quadraticCurveTo(l+d,c+u,l+d-v,c+u),a==="bottom"&&this.drawCaret(e,t,o,r),t.lineTo(l+y,c+u),t.quadraticCurveTo(l,c+u,l,c+u-y),a==="center"&&s==="left"&&this.drawCaret(e,t,o,r),t.lineTo(l,c+m),t.quadraticCurveTo(l,c,l+m,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){let t=this.chart,o=this.$animations,r=o&&o.x,s=o&&o.y;if(r||s){let a=_w[e.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=sX(this,e),c=Object.assign({},a,this._size),d=aX(t,e,c),u=lX(e,c,d,t);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){let t=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(t);let r={width:this.width,height:this.height},s={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let a=$s(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=o,this.drawBackground(s,e,r,t),pM(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),uM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){let o=this._active,r=e.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!aw(o,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,o=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,o),l=this._positionChanged(a,e),c=t||!aw(a,s)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,o,r){let s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(e,s.mode,s,o);return s.reverse&&a.reverse(),a}_positionChanged(e,t){let{caretX:o,caretY:r,options:s}=this,a=_w[s.position].call(this,e,t);return a!==!1&&(o!==a.x||r!==a.y)}}return i})(),Mje={id:"tooltip",_element:pX,positioners:_w,afterInit(i,n,e){e&&(i.tooltip=new pX({chart:i,options:e}))},beforeUpdate(i,n,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,n,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let n=i.tooltip;if(n&&n._willRender()){let e={tooltip:n};if(i.notifyPlugins("beforeTooltipDraw",Fe(ee({},e),{cancelable:!0}))===!1)return;n.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,n){if(i.tooltip){let e=n.replay;i.tooltip.handleEvent(n.event,e,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,n)=>n.bodyFont.size,boxWidth:(i,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:jX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Bje=Object.freeze({__proto__:null,Colors:QUe,Decimation:eje,Filler:vje,Legend:xje,SubTitle:Rje,Title:Oje,Tooltip:Mje}),Vje=(i,n,e,t)=>(typeof n=="string"?(e=i.push(n)-1,t.unshift({index:e,label:n})):isNaN(n)&&(e=null),e);function Uje(i,n,e,t){let o=i.indexOf(n);if(o===-1)return Vje(i,n,e,t);let r=i.lastIndexOf(n);return o!==r?e:o}var jje=(i,n)=>i===null?null:us(Math.round(i),0,n);function uX(i){let n=this.getLabels();return i>=0&&i<n.length?n[i]:i}var Gje=(()=>{class i extends ym{static id="category";static defaults={ticks:{callback:uX}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let o=this.getLabels();for(let{index:r,label:s}of t)o[r]===s&&o.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(pn(e))return null;let o=this.getLabels();return t=isFinite(t)&&o[t]===e?t:Uje(o,e,Gi(t,e),this._addedLabels),jje(t,o.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:o,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),t||(r=this.getLabels().length-1)),this.min=o,this.max=r}buildTicks(){let e=this.min,t=this.max,o=this.options.offset,r=[],s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return uX.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function Hje(i,n){let e=[],{bounds:o,step:r,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:m}=i,g=r||1,y=d-1,{min:v,max:S}=n,I=!pn(s),P=!pn(a),L=!pn(c),F=(S-v)/(u+1),K=zL((S-v)/y/g)*g,le,me,fe,Te;if(K<1e-14&&!I&&!P)return[{value:v},{value:S}];Te=Math.ceil(S/K)-Math.floor(v/K),Te>y&&(K=zL(Te*K/y/g)*g),pn(l)||(le=Math.pow(10,l),K=Math.ceil(K*le)/le),o==="ticks"?(me=Math.floor(v/K)*K,fe=Math.ceil(S/K)*K):(me=v,fe=S),I&&P&&r&&XQ((a-s)/r,K/1e3)?(Te=Math.round(Math.min((a-s)/K,d)),K=(a-s)/Te,me=s,fe=a):L?(me=I?s:me,fe=P?a:fe,Te=c-1,K=(fe-me)/Te):(Te=(fe-me)/K,c0(Te,Math.round(Te),K/1e3)?Te=Math.round(Te):Te=Math.ceil(Te));let He=Math.max($L(K),$L(me));le=Math.pow(10,pn(l)?He:l),me=Math.round(me*le)/le,fe=Math.round(fe*le)/le;let Be=0;for(I&&(m&&me!==s?(e.push({value:s}),me<s&&Be++,c0(Math.round((me+Be*K)*le)/le,s,hX(s,F,i))&&Be++):me<s&&Be++);Be<Te;++Be){let rt=Math.round((me+Be*K)*le)/le;if(P&&rt>a)break;e.push({value:rt})}return P&&m&&fe!==a?e.length&&c0(e[e.length-1].value,a,hX(a,F,i))?e[e.length-1].value=a:e.push({value:a}):(!P||fe===a)&&e.push({value:fe}),e}function hX(i,n,{horizontal:e,minRotation:t}){let o=Ql(t),r=(e?Math.sin(o):Math.cos(o))||.001,s=.75*n*(""+i).length;return Math.min(n/r,s)}var g0=class extends ym{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,e){return pn(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){let{beginAtZero:n}=this.options,{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:o,max:r}=this,s=l=>o=e?o:l,a=l=>r=t?r:l;if(n){let l=Vc(o),c=Vc(r);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(o===r){let l=r===0?1:Math.abs(r*.05);a(r+l),n||s(o-l)}this.min=o,this.max=r}getTickLimit(){let n=this.options.ticks,{maxTicksLimit:e,stepSize:t}=n,o;return t?(o=Math.ceil(this.max/t)-Math.floor(this.min/t)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${t} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),e=e||11),e&&(o=Math.min(e,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let n=this.options,e=n.ticks,t=this.getTickLimit();t=Math.max(2,t);let o={maxTicks:t,bounds:n.bounds,min:n.min,max:n.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,s=Hje(o,r);return n.bounds==="ticks"&&WL(s,this,"value"),n.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let n=this.ticks,e=this.min,t=this.max;if(super.configure(),this.options.offset&&n.length){let o=(t-e)/Math.max(n.length-1,1)/2;e-=o,t+=o}this._startValue=e,this._endValue=t,this._valueRange=t-e}getLabelForValue(n){return p0(n,this.chart.options.locale,this.options.ticks.format)}},GM=class extends g0{static id="linear";static defaults={ticks:{callback:lw.formatters.numeric}};determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=sr(n)?n:0,this.max=sr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let n=this.isHorizontal(),e=n?this.width:this.height,t=Ql(this.options.ticks.minRotation),o=(n?Math.sin(t):Math.cos(t))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/o))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}},vw=i=>Math.floor(Yp(i)),bm=(i,n)=>Math.pow(10,vw(i)+n);function fX(i){return i/Math.pow(10,vw(i))===1}function mX(i,n,e){let t=Math.pow(10,e),o=Math.floor(i/t);return Math.ceil(n/t)-o}function zje(i,n){let e=n-i,t=vw(e);for(;mX(i,n,t)>10;)t++;for(;mX(i,n,t)<10;)t--;return Math.min(t,vw(i))}function Wje(i,{min:n,max:e}){n=qa(i.min,n);let t=[],o=vw(n),r=zje(n,e),s=r<0?Math.pow(10,Math.abs(r)):1,a=Math.pow(10,r),l=o>r?Math.pow(10,o):0,c=Math.round((n-l)*s)/s,d=Math.floor((n-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,r)),m=qa(i.min,Math.round((l+d+u*Math.pow(10,r))*s)/s);for(;m<e;)t.push({value:m,major:fX(m),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,s=r>=0?1:s),m=Math.round((l+d+u*Math.pow(10,r))*s)/s;let g=qa(i.max,m);return t.push({value:g,major:fX(g),significand:u}),t}var HM=class extends ym{static id="logarithmic";static defaults={ticks:{callback:lw.formatters.logarithmic,major:{enabled:!0}}};constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(n,e){let t=g0.prototype.parse.apply(this,[n,e]);if(t===0){this._zero=!0;return}return sr(t)&&t>0?t:null}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!0);this.min=sr(n)?Math.max(0,n):null,this.max=sr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!sr(this._userMin)&&(this.min=n===bm(this.min,0)?bm(this.min,-1):bm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:n,maxDefined:e}=this.getUserBounds(),t=this.min,o=this.max,r=a=>t=n?t:a,s=a=>o=e?o:a;t===o&&(t<=0?(r(1),s(10)):(r(bm(t,-1)),s(bm(o,1)))),t<=0&&r(bm(o,-1)),o<=0&&s(bm(t,1)),this.min=t,this.max=o}buildTicks(){let n=this.options,e={min:this._userMin,max:this._userMax},t=Wje(e,this);return n.bounds==="ticks"&&WL(t,this,"value"),n.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(n){return n===void 0?"0":p0(n,this.chart.options.locale,this.options.ticks.format)}configure(){let n=this.min;super.configure(),this._startValue=Yp(n),this._valueRange=Yp(this.max)-Yp(n)}getPixelForValue(n){return(n===void 0||n===0)&&(n=this.min),n===null||isNaN(n)?NaN:this.getPixelForDecimal(n===this.min?0:(Yp(n)-this._startValue)/this._valueRange)}getValueForPixel(n){let e=this.getDecimalForPixel(n);return Math.pow(10,this._startValue+e*this._valueRange)}};function zM(i){let n=i.ticks;if(n.display&&i.display){let e=$s(n.backdropPadding);return Gi(n.font&&n.font.size,zo.font.size)+e.height}return 0}function $je(i,n,e){return e=No(e)?e:[e],{w:aY(i,n.string,e),h:e.length*n.lineHeight}}function gX(i,n,e,t,o){return i===t||i===o?{start:n-e/2,end:n+e/2}:i<t||i>o?{start:n-e,end:n}:{start:n,end:n+e}}function Kje(i){let n={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},n),t=[],o=[],r=i._pointLabels.length,s=i.options.pointLabels,a=s.centerPointLabels?An/r:0;for(let l=0;l<r;l++){let c=s.setContext(i.getPointLabelContext(l));o[l]=c.padding;let d=i.getPointPosition(l,i.drawingArea+o[l],a),u=Jr(c.font),m=$je(i.ctx,u,i._pointLabels[l]);t[l]=m;let g=zs(i.getIndexAngle(l)+a),y=Math.round(NT(g)),v=gX(y,d.x,m.w,0,180),S=gX(y,d.y,m.h,90,270);qje(e,n,g,v,S)}i.setCenterPoint(n.l-e.l,e.r-n.r,n.t-e.t,e.b-n.b),i._pointLabelItems=Yje(i,t,o)}function qje(i,n,e,t,o){let r=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),a=0,l=0;t.start<n.l?(a=(n.l-t.start)/r,i.l=Math.min(i.l,n.l-a)):t.end>n.r&&(a=(t.end-n.r)/r,i.r=Math.max(i.r,n.r+a)),o.start<n.t?(l=(n.t-o.start)/s,i.t=Math.min(i.t,n.t-l)):o.end>n.b&&(l=(o.end-n.b)/s,i.b=Math.max(i.b,n.b+l))}function Jje(i,n,e){let t=i.drawingArea,{extra:o,additionalAngle:r,padding:s,size:a}=e,l=i.getPointPosition(n,t+o+s,r),c=Math.round(NT(zs(l.angle+yr))),d=e6e(l.y,a.h,c),u=Xje(c),m=Zje(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:m,top:d,right:m+a.w,bottom:d+a.h}}function Qje(i,n){if(!n)return!0;let{left:e,top:t,right:o,bottom:r}=i;return!(jd({x:e,y:t},n)||jd({x:e,y:r},n)||jd({x:o,y:t},n)||jd({x:o,y:r},n))}function Yje(i,n,e){let t=[],o=i._pointLabels.length,r=i.options,{centerPointLabels:s,display:a}=r.pointLabels,l={extra:zM(r)/2,additionalAngle:s?An/o:0},c;for(let d=0;d<o;d++){l.padding=e[d],l.size=n[d];let u=Jje(i,d,l);t.push(u),a==="auto"&&(u.visible=Qje(u,c),u.visible&&(c=u))}return t}function Xje(i){return i===0||i===180?"center":i<180?"left":"right"}function Zje(i,n,e){return e==="right"?i-=n:e==="center"&&(i-=n/2),i}function e6e(i,n,e){return e===90||e===270?i-=n/2:(e>270||e<90)&&(i-=n),i}function t6e(i,n,e){let{left:t,top:o,right:r,bottom:s}=e,{backdropColor:a}=n;if(!pn(a)){let l=kh(n.borderRadius),c=$s(n.backdropPadding);i.fillStyle=a;let d=t-c.left,u=o-c.top,m=r-t+c.width,g=s-o+c.height;Object.values(l).some(y=>y!==0)?(i.beginPath(),u0(i,{x:d,y:u,w:m,h:g,radius:l}),i.fill()):i.fillRect(d,u,m,g)}}function i6e(i,n){let{ctx:e,options:{pointLabels:t}}=i;for(let o=n-1;o>=0;o--){let r=i._pointLabelItems[o];if(!r.visible)continue;let s=t.setContext(i.getPointLabelContext(o));t6e(e,s,r);let a=Jr(s.font),{x:l,y:c,textAlign:d}=r;Ah(e,i._pointLabels[o],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function GX(i,n,e,t){let{ctx:o}=i;if(e)o.arc(i.xCenter,i.yCenter,n,0,Fo);else{let r=i.getPointPosition(0,n);o.moveTo(r.x,r.y);for(let s=1;s<t;s++)r=i.getPointPosition(s,n),o.lineTo(r.x,r.y)}}function n6e(i,n,e,t,o){let r=i.ctx,s=n.circular,{color:a,lineWidth:l}=n;!s&&!t||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(o.dash||[]),r.lineDashOffset=o.dashOffset,r.beginPath(),GX(i,e,s,t),r.closePath(),r.stroke(),r.restore())}function o6e(i,n,e){return Zp(i,{label:e,index:n,type:"pointLabel"})}var WM=class extends g0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(n){super(n),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let n=this._padding=$s(zM(this.options)/2),e=this.width=this.maxWidth-n.width,t=this.height=this.maxHeight-n.height;this.xCenter=Math.floor(this.left+e/2+n.left),this.yCenter=Math.floor(this.top+t/2+n.top),this.drawingArea=Math.floor(Math.min(e,t)/2)}determineDataLimits(){let{min:n,max:e}=this.getMinMax(!1);this.min=sr(n)&&!isNaN(n)?n:0,this.max=sr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/zM(this.options))}generateTickLabels(n){g0.prototype.generateTickLabels.call(this,n),this._pointLabels=this.getLabels().map((e,t)=>{let o=vo(this.options.pointLabels.callback,[e,t],this);return o||o===0?o:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){let n=this.options;n.display&&n.pointLabels.display?Kje(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(n,e,t,o){this.xCenter+=Math.floor((n-e)/2),this.yCenter+=Math.floor((t-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(n,e,t,o))}getIndexAngle(n){let e=Fo/(this._pointLabels.length||1),t=this.options.startAngle||0;return zs(n*e+Ql(t))}getDistanceFromCenterForValue(n){if(pn(n))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-n)*e:(n-this.min)*e}getValueForDistanceFromCenter(n){if(pn(n))return NaN;let e=n/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(n){let e=this._pointLabels||[];if(n>=0&&n<e.length){let t=e[n];return o6e(this.getContext(),n,t)}}getPointPosition(n,e,t=0){let o=this.getIndexAngle(n)-yr+t;return{x:Math.cos(o)*e+this.xCenter,y:Math.sin(o)*e+this.yCenter,angle:o}}getPointPositionForValue(n,e){return this.getPointPosition(n,this.getDistanceFromCenterForValue(e))}getBasePosition(n){return this.getPointPositionForValue(n||0,this.getBaseValue())}getPointLabelPosition(n){let{left:e,top:t,right:o,bottom:r}=this._pointLabelItems[n];return{left:e,top:t,right:o,bottom:r}}drawBackground(){let{backgroundColor:n,grid:{circular:e}}=this.options;if(n){let t=this.ctx;t.save(),t.beginPath(),GX(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=n,t.fill(),t.restore()}}drawGrid(){let n=this.ctx,e=this.options,{angleLines:t,grid:o,border:r}=e,s=this._pointLabels.length,a,l,c;if(e.pointLabels.display&&i6e(this,s),o.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let m=this.getContext(u),g=o.setContext(m),y=r.setContext(m);n6e(this,g,l,s,y)}}),t.display){for(n.save(),a=s-1;a>=0;a--){let d=t.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:m}=d;!m||!u||(n.lineWidth=m,n.strokeStyle=u,n.setLineDash(d.borderDash),n.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),c=this.getPointPosition(a,l),n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(c.x,c.y),n.stroke())}n.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,e=this.options,t=e.ticks;if(!t.display)return;let o=this.getIndexAngle(0),r,s;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(o),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;let c=t.setContext(this.getContext(l)),d=Jr(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){n.font=d.string,s=n.measureText(a.label).width,n.fillStyle=c.backdropColor;let u=$s(c.backdropPadding);n.fillRect(-s/2-u.left,-r-d.size/2-u.top,s+u.width,d.size+u.height)}Ah(n,a.label,0,-r,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),n.restore()}drawTitle(){}},aO={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qa=Object.keys(aO);function _X(i,n){return i-n}function bX(i,n){if(pn(n))return null;let e=i._adapter,{parser:t,round:o,isoWeekday:r}=i._parseOpts,s=n;return typeof t=="function"&&(s=t(s)),sr(s)||(s=typeof t=="string"?e.parse(s,t):e.parse(s)),s===null?null:(o&&(s=o==="week"&&(mm(r)||r===!0)?e.startOf(s,"isoWeek",r):e.startOf(s,o)),+s)}function yX(i,n,e,t){let o=Qa.length;for(let r=Qa.indexOf(i);r<o-1;++r){let s=aO[Qa[r]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-n)/(a*s.size))<=t)return Qa[r]}return Qa[o-1]}function r6e(i,n,e,t,o){for(let r=Qa.length-1;r>=Qa.indexOf(e);r--){let s=Qa[r];if(aO[s].common&&i._adapter.diff(o,t,s)>=n-1)return s}return Qa[e?Qa.indexOf(e):0]}function s6e(i){for(let n=Qa.indexOf(i)+1,e=Qa.length;n<e;++n)if(aO[Qa[n]].common)return Qa[n]}function vX(i,n,e){if(!e)i[n]=!0;else if(e.length){let{lo:t,hi:o}=FT(e,n),r=e[t]>=n?e[t]:e[o];i[r]=!0}}function a6e(i,n,e,t){let o=i._adapter,r=+o.startOf(n[0].value,t),s=n[n.length-1].value,a,l;for(a=r;a<=s;a=+o.add(a,1,t))l=e[a],l>=0&&(n[l].major=!0);return n}function wX(i,n,e){let t=[],o={},r=n.length,s,a;for(s=0;s<r;++s)a=n[s],o[a]=s,t.push({value:a,major:!1});return r===0||!e?t:a6e(i,t,o,e)}var $M=(()=>{class i extends ym{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){let o=e.time||(e.time={}),r=this._adapter=new b5e._date(e.adapters.date);r.init(t),a0(o.displayFormats,r.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:bX(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,t=this._adapter,o=e.time.unit||"day",{min:r,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=sr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),o),s=sr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),o)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){let e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],o=e[e.length-1]),{min:t,max:o}}buildTicks(){let e=this.options,t=e.time,o=e.ticks,r=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);let s=this.min,a=this.max,l=tY(r,s,a);return this._unit=t.unit||(o.autoSkip?yX(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):r6e(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:s6e(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),wX(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,o=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?o=s:o=(s-this.getDecimalForValue(e[e.length-2]))/2);let a=e.length<3?.5:.25;t=us(t,0,a),o=us(o,0,a),this._offsets={start:t,end:o,factor:1/(t+1+o)}}_generate(){let e=this._adapter,t=this.min,o=this.max,r=this.options,s=r.time,a=s.unit||yX(s.minUnit,t,o,this._getLabelCapacity(t)),l=Gi(r.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=mm(c)||c===!0,u={},m=t,g,y;if(d&&(m=+e.startOf(m,"isoWeek",c)),m=+e.startOf(m,d?"day":a),e.diff(o,t,a)>1e5*l)throw new Error(t+" and "+o+" are too far apart with stepSize of "+l+" "+a);let v=r.ticks.source==="data"&&this.getDataTimestamps();for(g=m,y=0;g<o;g=+e.add(g,l,a),y++)vX(u,g,v);return(g===o||r.bounds==="ticks"||y===1)&&vX(u,g,v),Object.keys(u).sort(_X).map(S=>+S)}getLabelForValue(e){let t=this._adapter,o=this.options.time;return o.tooltipFormat?t.format(e,o.tooltipFormat):t.format(e,o.displayFormats.datetime)}format(e,t){let r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,o,r){let s=this.options,a=s.ticks.callback;if(a)return vo(a,[e,t,o],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],m=d&&l[d],g=o[t],y=d&&m&&g&&g.major;return this._adapter.format(e,r||(y?m:u))}generateTickLabels(e){let t,o,r;for(t=0,o=e.length;t<o;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let t=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+o)*t.factor)}getValueForPixel(e){let t=this._offsets,o=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){let t=this.options.ticks,o=this.ctx.measureText(e).width,r=Ql(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:o*s+l*a,h:o*a+l*s}}_getLabelCapacity(e){let t=this.options.time,o=t.displayFormats,r=o[t.unit]||o.millisecond,s=this._tickFormatFunction(e,0,wX(this,[e],this._majorUnit),r),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,o;if(e.length)return e;let r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,o=r.length;t<o;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],t,o;if(e.length)return e;let r=this.getLabels();for(t=0,o=r.length;t<o;++t)e.push(bX(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return JL(e.sort(_X))}}return i})();function JT(i,n,e){let t=0,o=i.length-1,r,s,a,l;e?(n>=i[t].pos&&n<=i[o].pos&&({lo:t,hi:o}=Ud(i,"pos",n)),{pos:r,time:a}=i[t],{pos:s,time:l}=i[o]):(n>=i[t].time&&n<=i[o].time&&({lo:t,hi:o}=Ud(i,"time",n)),{time:r,pos:a}=i[t],{time:s,pos:l}=i[o]);let c=s-r;return c?a+(l-a)*(n-r)/c:a}var KM=class extends $M{static id="timeseries";static defaults=$M.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let n=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(n);this._minPos=JT(e,this.min),this._tableRange=JT(e,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){let{min:e,max:t}=this,o=[],r=[],s,a,l,c,d;for(s=0,a=n.length;s<a;++s)c=n[s],c>=e&&c<=t&&o.push(c);if(o.length<2)return[{time:e,pos:0},{time:t,pos:1}];for(s=0,a=o.length;s<a;++s)d=o[s+1],l=o[s-1],c=o[s],Math.round((d+l)/2)!==c&&r.push({time:c,pos:s/(a-1)});return r}_generate(){let n=this.min,e=this.max,t=super.getDataTimestamps();return(!t.includes(n)||!t.length)&&t.splice(0,0,n),(!t.includes(e)||t.length===1)&&t.push(e),t.sort((o,r)=>o-r)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;let e=this.getDataTimestamps(),t=this.getLabelTimestamps();return e.length&&t.length?n=this.normalize(e.concat(t)):n=e.length?e:t,n=this._cache.all=n,n}getDecimalForValue(n){return(JT(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){let e=this._offsets,t=this.getDecimalForPixel(n)/e.factor-e.end;return JT(this._table,t*this._tableRange+this._minPos,!0)}},l6e=Object.freeze({__proto__:null,CategoryScale:Gje,LinearScale:GM,LogarithmicScale:HM,RadialLinearScale:WM,TimeScale:$M,TimeSeriesScale:KM}),HX=[_5e,HUe,Bje,l6e];oO.register(...HX);var zX=oO;var c6e={root:({instance:i})=>({display:"block",position:"relative",width:i.width,height:i.height})},d6e={root:"p-chart"},WX=(()=>{class i extends Ye{name="chart";classes=d6e;inlineStyles=c6e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var $X=new he("CHART_INSTANCE"),Cw=(()=>{class i extends Xe{el;zone;$pcChart=z($X,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}type;plugins=[];width;height;responsive=!0;ariaLabel;ariaLabelledBy;get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}onDataSelect=new te;isBrowser=!1;initialized;_data;_options={};chart;_componentStyle=z(WX);constructor(e,t){super(),this.el=e,this.zone=t}onAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){let t=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),o=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);t&&t[0]&&o&&this.onDataSelect.emit({originalEvent:e,element:t[0],dataset:o})}}initChart(){if(At(this.platformId)){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.zone.runOutsideAngular(()=>{this.chart=new zX(this.el.nativeElement.children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})})}}getCanvas(){return this.el.nativeElement.children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}onDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}static \u0275fac=function(t){return new(t||i)(x(Ei),x(Ft))};static \u0275cmp=oe({type:i,selectors:[["p-chart"]],hostVars:4,hostBindings:function(t,o){t&2&&(De(o.sx("root")),j(o.cx("root")))},inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:[2,"responsive","responsive",Z],ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},features:[Se([WX,{provide:$X,useExisting:i}]),nt([pe]),re],decls:1,vars:5,consts:[["role","img",3,"click","pBind"]],template:function(t,o){t&1&&(_(0,"canvas",0),A("click",function(s){return o.onCanvasClick(s)}),b()),t&2&&(f("pBind",o.ptm("canvas")),ce("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("width",o.responsive&&!o.width?null:o.width)("height",o.responsive&&!o.height?null:o.height))},dependencies:[Qe,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),JM=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Cw,Oe,Oe]})}return i})();var qX=`
    .p-toolbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        padding: dt('toolbar.padding');
        background: dt('toolbar.background');
        border: 1px solid dt('toolbar.border.color');
        color: dt('toolbar.color');
        border-radius: dt('toolbar.border.radius');
        gap: dt('toolbar.gap');
    }

    .p-toolbar-start,
    .p-toolbar-center,
    .p-toolbar-end {
        display: flex;
        align-items: center;
    }
`;var p6e=["start"],u6e=["end"],h6e=["center"],f6e=["*"];function m6e(i,n){i&1&&ve(0)}function g6e(i,n){if(i&1&&(_(0,"div",1),E(1,m6e,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("start")),f("pBind",e.ptm("start")),p(),f("ngTemplateOutlet",e.startTemplate||e._startTemplate)}}function _6e(i,n){i&1&&ve(0)}function b6e(i,n){if(i&1&&(_(0,"div",1),E(1,_6e,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("center")),f("pBind",e.ptm("center")),p(),f("ngTemplateOutlet",e.centerTemplate||e._centerTemplate)}}function y6e(i,n){i&1&&ve(0)}function v6e(i,n){if(i&1&&(_(0,"div",1),E(1,y6e,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("end")),f("pBind",e.ptm("end")),p(),f("ngTemplateOutlet",e.endTemplate||e._endTemplate)}}var w6e={root:()=>["p-toolbar p-component"],start:"p-toolbar-start",center:"p-toolbar-center",end:"p-toolbar-end"},JX=(()=>{class i extends Ye{name="toolbar";style=qX;classes=w6e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var QX=new he("TOOLBAR_INSTANCE"),_0=(()=>{class i extends Xe{$pcToolbar=z(QX,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;ariaLabelledBy;_componentStyle=z(JX);getBlockableElement(){return this.el.nativeElement.children[0]}startTemplate;endTemplate;centerTemplate;templates;_startTemplate;_endTemplate;_centerTemplate;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"start":case"left":this._startTemplate=e.template;break;case"end":case"right":this._endTemplate=e.template;break;case"center":this._centerTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-toolbar"]],contentQueries:function(t,o,r){if(t&1&&(se(r,p6e,4),se(r,u6e,4),se(r,h6e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.startTemplate=s.first),W(s=$())&&(o.endTemplate=s.first),W(s=$())&&(o.centerTemplate=s.first),W(s=$())&&(o.templates=s)}},hostAttrs:["role","toolbar"],hostVars:3,hostBindings:function(t,o){t&2&&(ce("aria-labelledby",o.ariaLabelledBy),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy"},features:[Se([JX,{provide:QX,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:f6e,decls:4,vars:3,consts:[[3,"class","pBind",4,"ngIf"],[3,"pBind"],[4,"ngTemplateOutlet"]],template:function(t,o){t&1&&(ci(),Ht(0),E(1,g6e,2,4,"div",0)(2,b6e,2,4,"div",0)(3,v6e,2,4,"div",0)),t&2&&(p(),f("ngIf",o.startTemplate||o._startTemplate),p(),f("ngIf",o.centerTemplate||o._centerTemplate),p(),f("ngIf",o.endTemplate||o._endTemplate))},dependencies:[Qe,pt,gt,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),QM=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[_0,Oe,Pt,Oe,Pt]})}return i})();var XX=`
    .p-tieredmenu {
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        min-width: 12.5rem;
    }

    .p-tieredmenu-root-list,
    .p-tieredmenu-submenu {
        margin: 0;
        padding: dt('tieredmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('tieredmenu.list.gap');
    }

    .p-tieredmenu-submenu {
        position: absolute;
        min-width: 100%;
        z-index: 1;
        background: dt('tieredmenu.background');
        color: dt('tieredmenu.color');
        border: 1px solid dt('tieredmenu.border.color');
        border-radius: dt('tieredmenu.border.radius');
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-item {
        position: relative;
    }

    .p-tieredmenu-item-content {
        transition:
            background dt('tieredmenu.transition.duration'),
            color dt('tieredmenu.transition.duration');
        border-radius: dt('tieredmenu.item.border.radius');
        color: dt('tieredmenu.item.color');
    }

    .p-tieredmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('tieredmenu.item.padding');
        gap: dt('tieredmenu.item.gap');
        user-select: none;
        outline: 0 none;
    }

    .p-tieredmenu-item-label {
        line-height: 1;
    }

    .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.color');
    }

    .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('tieredmenu.submenu.icon.size');
        width: dt('tieredmenu.submenu.icon.size');
        height: dt('tieredmenu.submenu.icon.size');
    }

    .p-tieredmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item.p-focus > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover {
        color: dt('tieredmenu.item.focus.color');
        background: dt('tieredmenu.item.focus.background');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.focus.color');
    }

    .p-tieredmenu-item:not(.p-disabled) > .p-tieredmenu-item-content:hover .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.focus.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content {
        color: dt('tieredmenu.item.active.color');
        background: dt('tieredmenu.item.active.background');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-item-icon {
        color: dt('tieredmenu.item.icon.active.color');
    }

    .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        color: dt('tieredmenu.submenu.icon.active.color');
    }

    .p-tieredmenu-separator {
        border-block-start: 1px solid dt('tieredmenu.separator.border.color');
    }

    .p-tieredmenu-overlay {
        box-shadow: dt('tieredmenu.shadow');
    }

    .p-tieredmenu-enter-from,
    .p-tieredmenu-leave-active {
        opacity: 0;
    }

    .p-tieredmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu:dir(rtl) {
        padding-inline-start: 0;
        padding-inline-end: dt('tieredmenu.submenu.mobile.indent');
    }

    .p-tieredmenu-mobile .p-tieredmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-tieredmenu-mobile .p-tieredmenu-item-active > .p-tieredmenu-item-content .p-tieredmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var C6e=["sublist"],S6e=i=>({processedItem:i}),I6e=()=>({exact:!1}),E6e=(i,n)=>({$implicit:i,hasSubmenu:n}),x6e=i=>({display:i});function T6e(i,n){if(i&1&&N(0,"li",7),i&2){let e=h().$implicit,t=h();De(t.getItemProp(e,"style")),j(t.cn(t.cx("separator"),t.getItemProp(e,"class"),t.getItemProp(e,"styleClass"))),f("pBind",t._ptm("separator")),ce("id",t.getItemId(e))}}function O6e(i,n){if(i&1&&N(0,"span",18),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),f("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,o,"itemIcon")),ce("tabindex",-1)}}function R6e(i,n){if(i&1&&(_(0,"span",19),R(1),b()),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cx("itemLabel")),f("pBind",r.getPTOptions(t,o,"itemLabel")),p(),Y(" ",r.getItemLabel(t)," ")}}function D6e(i,n){if(i&1&&N(0,"span",20),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cx("itemLabel")),f("innerHTML",r.getItemLabel(t),on)("pBind",r.getPTOptions(t,o,"itemLabel"))}}function P6e(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(4).$implicit,t=h();j(t.cn(t.cx("itemBadge"),t.getItemProp(e,"badgeStyleClass"))),p(),Q(t.getItemProp(e,"badge"))}}function A6e(i,n){if(i&1&&(xe(),N(0,"svg",23)),i&2){let e=h(5),t=e.$implicit,o=e.index,r=h();j(r.cx("submenuIcon")),f("pBind",r.getPTOptions(t,o,"submenuIcon")),ce("aria-hidden",!0)}}function k6e(i,n){}function N6e(i,n){i&1&&E(0,k6e,0,0,"ng-template",24),i&2&&xu("aria-hidden",!0)}function F6e(i,n){if(i&1&&(we(0),E(1,A6e,1,4,"svg",21)(2,N6e,1,1,null,22),Ce()),i&2){let e=h(5);p(),f("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),p(),f("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function L6e(i,n){if(i&1&&(_(0,"a",14),E(1,O6e,1,5,"span",15)(2,R6e,2,4,"span",16)(3,D6e,1,4,"ng-template",null,2,ie)(5,P6e,2,3,"span",17)(6,F6e,3,2,"ng-container",10),b()),i&2){let e=Ze(4),t=h(3),o=t.$implicit,r=t.index,s=h();j(s.cx("itemLink")),f("target",s.getItemProp(o,"target"))("pBind",s.getPTOptions(o,r,"itemLink")),ce("href",s.getItemProp(o,"url"),Cr)("data-automationid",s.getItemProp(o,"automationId"))("title",s.getItemProp(o,"title"))("tabindex",-1),p(),f("ngIf",s.getItemProp(o,"icon")),p(),f("ngIf",s.getItemProp(o,"escape"))("ngIfElse",e),p(3),f("ngIf",s.getItemProp(o,"badge")),p(),f("ngIf",s.isItemGroup(o))}}function M6e(i,n){if(i&1&&N(0,"span",18),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),f("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,o,"itemIcon")),ce("aria-hidden",!0)("tabindex",-1)}}function B6e(i,n){if(i&1&&(_(0,"span",19),R(1),b()),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cx("itemLabel")),f("pBind",r.getPTOptions(t,o,"itemLabel")),p(),Y(" ",r.getItemLabel(t)," ")}}function V6e(i,n){if(i&1&&N(0,"span",20),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h();j(r.cx("itemLabel")),f("innerHTML",r.getItemLabel(t),on)("pBind",r.getPTOptions(t,o,"itemLabel"))}}function U6e(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(4).$implicit,t=h();j(t.cn(t.cx("itemBadge"),t.getItemProp(e,"badgeStyleClass"))),p(),Q(t.getItemProp(e,"badge"))}}function j6e(i,n){if(i&1&&(xe(),N(0,"svg",23)),i&2){let e=h(5),t=e.$implicit,o=e.index,r=h();j(r.cx("submenuIcon")),f("pBind",r.getPTOptions(t,o,"submenuIcon")),ce("aria-hidden",!0)}}function G6e(i,n){}function H6e(i,n){i&1&&E(0,G6e,0,0,"ng-template",24),i&2&&xu("aria-hidden",!0)}function z6e(i,n){if(i&1&&(we(0),E(1,j6e,1,4,"svg",21)(2,H6e,1,1,null,22),Ce()),i&2){let e=h(5);p(),f("ngIf",!e.tieredMenu.submenuIconTemplate&&!e.tieredMenu._submenuIconTemplate),p(),f("ngTemplateOutlet",e.tieredMenu.submenuIconTemplate||e.tieredMenu._submenuIconTemplate)}}function W6e(i,n){if(i&1&&(_(0,"a",25),E(1,M6e,1,6,"span",15)(2,B6e,2,4,"span",16)(3,V6e,1,4,"ng-template",null,2,ie)(5,U6e,2,3,"span",17)(6,z6e,3,2,"ng-container",10),b()),i&2){let e=Ze(4),t=h(3),o=t.$implicit,r=t.index,s=h();j(s.cx("itemLink")),f("routerLink",s.getItemProp(o,"routerLink"))("queryParams",s.getItemProp(o,"queryParams"))("routerLinkActive","p-tieredmenu-item-link-active")("routerLinkActiveOptions",s.getItemProp(o,"routerLinkActiveOptions")||Pe(22,I6e))("target",s.getItemProp(o,"target"))("fragment",s.getItemProp(o,"fragment"))("queryParamsHandling",s.getItemProp(o,"queryParamsHandling"))("preserveFragment",s.getItemProp(o,"preserveFragment"))("skipLocationChange",s.getItemProp(o,"skipLocationChange"))("replaceUrl",s.getItemProp(o,"replaceUrl"))("state",s.getItemProp(o,"state"))("pBind",s.getPTOptions(o,r,"itemLink")),ce("data-automationid",s.getItemProp(o,"automationId"))("title",s.getItemProp(o,"title"))("tabindex",-1),p(),f("ngIf",s.getItemProp(o,"icon")),p(),f("ngIf",s.getItemProp(o,"escape"))("ngIfElse",e),p(3),f("ngIf",s.getItemProp(o,"badge")),p(),f("ngIf",s.isItemGroup(o))}}function $6e(i,n){if(i&1&&(we(0),E(1,L6e,7,13,"a",12)(2,W6e,7,23,"a",13),Ce()),i&2){let e=h(2).$implicit,t=h();p(),f("ngIf",!t.getItemProp(e,"routerLink")),p(),f("ngIf",t.getItemProp(e,"routerLink"))}}function K6e(i,n){}function q6e(i,n){i&1&&E(0,K6e,0,0,"ng-template")}function J6e(i,n){if(i&1&&(we(0),E(1,q6e,1,0,null,26),Ce()),i&2){let e=h(2).$implicit,t=h();p(),f("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",Ct(2,E6e,e.item,t.getItemProp(e,"items")))}}function Q6e(i,n){if(i&1){let e=B();_(0,"p-tieredmenusub",27),A("itemClick",function(o){w(e);let r=h(3);return C(r.itemClick.emit(o))})("itemMouseEnter",function(o){w(e);let r=h(3);return C(r.onItemMouseEnter(o))}),b()}if(i&2){let e=h(2).$implicit,t=h();f("items",e.items)("itemTemplate",t.itemTemplate)("autoDisplay",t.autoDisplay)("menuId",t.menuId)("activeItemPath",t.activeItemPath())("focusedItemId",t.focusedItemId)("ariaLabelledBy",t.getItemId(e))("level",t.level+1)("inlineStyles",de(10,x6e,t.isItemActive(e)?"flex":"none"))("pt",t.pt())}}function Y6e(i,n){if(i&1){let e=B();_(0,"li",8,1)(2,"div",9),A("click",function(o){w(e);let r=h().$implicit,s=h();return C(s.onItemClick(o,r))})("mouseenter",function(o){w(e);let r=h().$implicit,s=h();return C(s.onItemMouseEnter({$event:o,processedItem:r}))}),E(3,$6e,3,2,"ng-container",10)(4,J6e,2,5,"ng-container",10),b(),E(5,Q6e,1,12,"p-tieredmenusub",11),b()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h();j(r.cn(r.cx("item",de(21,S6e,t)),r.getItemProp(t,"styleClass"))),f("ngStyle",r.getItemProp(t,"style"))("pBind",r.getPTOptions(t,o,"item"))("tooltipOptions",r.getItemProp(t,"tooltipOptions")),ce("id",r.getItemId(t))("data-p-highlight",r.isItemActive(t))("data-p-focused",r.isItemFocused(t))("data-p-disabled",r.isItemDisabled(t))("aria-label",r.getItemLabel(t))("aria-disabled",r.isItemDisabled(t)||void 0)("aria-haspopup",r.isItemGroup(t)&&!r.getItemProp(t,"to")?"menu":void 0)("aria-expanded",r.isItemGroup(t)?r.isItemActive(t):void 0)("aria-setsize",r.getAriaSetSize())("aria-posinset",r.getAriaPosInset(o)),p(2),j(r.cx("itemContent")),f("pBind",r.getPTOptions(t,o,"itemContent")),p(),f("ngIf",!r.itemTemplate),p(),f("ngIf",r.itemTemplate),p(),f("ngIf",r.isItemVisible(t)&&r.isItemGroup(t))}}function X6e(i,n){if(i&1&&E(0,T6e,1,6,"li",5)(1,Y6e,6,23,"li",6),i&2){let e=n.$implicit,t=h();f("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),p(),f("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}var Z6e=["submenuicon"],e8e=["item"],t8e=["rootmenu"],i8e=["container"],n8e=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),o8e=i=>({value:"visible",params:i});function r8e(i,n){if(i&1){let e=B();_(0,"div",3,0),A("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onOverlayAnimationEnd(o))}),_(2,"p-tieredMenuSub",4,1),A("itemClick",function(o){w(e);let r=h();return C(r.onItemClick(o))})("menuFocus",function(o){w(e);let r=h();return C(r.onMenuFocus(o))})("menuBlur",function(o){w(e);let r=h();return C(r.onMenuBlur(o))})("menuKeydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))})("itemMouseEnter",function(o){w(e);let r=h();return C(r.onItemMouseEnter(o))}),b()()}if(i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("id",e.id)("ngStyle",e.style)("pBind",e.ptm("root"))("@overlayAnimation",de(24,o8e,Ct(21,n8e,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),p(2),f("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("autoDisplay",e.autoDisplay)("popup",e.popup)("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())("pt",e.pt())}}var s8e={submenu:({instance:i,processedItem:n})=>({display:i.isItemActive(n)?"flex":"none"})},a8e={root:({instance:i})=>["p-tieredmenu p-component",{"p-tieredmenu-overlay":i.popup,"p-tieredmenu-mobile":i.queryMatches}],start:"p-tieredmenu-start",rootList:"p-tieredmenu-root-list",item:({instance:i,processedItem:n})=>["p-tieredmenu-item",{"p-tieredmenu-item-active":i.isItemActive(n),"p-focus":i.isItemFocused(n),"p-disabled":i.isItemDisabled(n)}],itemContent:"p-tieredmenu-item-content",itemLink:"p-tieredmenu-item-link",itemIcon:"p-tieredmenu-item-icon",itemLabel:"p-tieredmenu-item-label",itemBadge:"p-menuitem-badge",submenuIcon:"p-tieredmenu-submenu-icon",submenu:"p-tieredmenu-submenu",separator:"p-tieredmenu-separator",end:"p-tieredmenu-end"},YM=(()=>{class i extends Ye{name="tieredmenu";style=XX;classes=a8e;inlineStyles=s8e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var eZ=new he("TIEREDMENU_INSTANCE"),ZX=new he("TIEREDMENUSUB_INSTANCE"),l8e=(()=>{class i extends Xe{el;renderer;tieredMenu;items;itemTemplate;root=!1;autoDisplay;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath=qe([]);tabindex=0;inlineStyles;itemClick=new te;itemMouseEnter=new te;menuFocus=new te;menuBlur=new te;menuKeydown=new te;sublistViewChild;_componentStyle=z(YM);bindDirectiveInstance=z(pe,{self:!0});$pcTieredMenu=z(eZ,{optional:!0,skipSelf:!0})??void 0;$pcTieredMenuSub=z(ZX,{optional:!0,skipSelf:!0})??void 0;onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}constructor(e,t,o){super(),this.el=e,this.renderer=t,this.tieredMenu=o}positionSubmenu(){if(At(this.tieredMenu.platformId)){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;e&&t8(e,this.level)}}getItemProp(e,t,o=null){return e&&e.item?$o(e.item[t],o):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return Fe(ee({},this.getItemProp(e,"class")),{"p-tieredmenu-item":!0,"p-tieredmenu-item-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return Fe(ee({},this.getItemProp(e,"class")),{"p-tieredmenu-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let o=this.isItemVisible(t),r=o&&this.getItemProp(t,"separator");return!o||r}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){return this.activeItemPath()?(this.positionSubmenu(),this.activeItemPath().some(t=>t.key===e.key)):!1}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return qt(e.items)}_ptm(e,t){return this.$pcTieredMenu?this.$pcTieredMenu.ptm(e,t):this.ptm(e,t)}getPTOptions(e,t,o){return this._ptm(o,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e)}})}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:o}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:o})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}static \u0275fac=function(t){return new(t||i)(x(Ei),x(Wo),x(Xt(()=>XM)))};static \u0275cmp=oe({type:i,selectors:[["p-tieredMenuSub"],["p-tieredmenusub"]],viewQuery:function(t,o){if(t&1&&_e(C6e,7),t&2){let r;W(r=$())&&(o.sublistViewChild=r.first)}},inputs:{items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",Z],autoDisplay:[2,"autoDisplay","autoDisplay",Z],autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],popup:[2,"popup","popup",Z],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Je],focusedItemId:"focusedItemId",activeItemPath:[1,"activeItemPath"],tabindex:[2,"tabindex","tabindex",Je],inlineStyles:"inlineStyles"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Se([{provide:ZX,useExisting:Xt(()=>i)},{provide:et,useExisting:Xt(()=>i)}]),nt([pe]),re],decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","id","tabindex","pBind"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class","pBind",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","class","pBind","tooltipOptions",4,"ngIf"],["role","separator",3,"pBind"],["role","menuitem","pTooltip","",3,"ngStyle","pBind","tooltipOptions"],[3,"click","mouseenter","pBind"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles","pt","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class","pBind",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind",4,"ngIf"],["pRipple","",3,"target","pBind"],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf","ngIfElse"],[3,"class",4,"ngIf"],[3,"ngStyle","pBind"],[3,"pBind"],[3,"innerHTML","pBind"],["data-p-icon","angle-right",3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet"],["data-p-icon","angle-right",3,"pBind"],[3,"aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","inlineStyles","pt"]],template:function(t,o){if(t&1){let r=B();_(0,"ul",3,0),A("keydown",function(a){return w(r),C(o.menuKeydown.emit(a))})("focus",function(a){return w(r),C(o.menuFocus.emit(a))})("blur",function(a){return w(r),C(o.menuBlur.emit(a))}),E(2,X6e,2,2,"ng-template",4),b()}t&2&&(De(o.inlineStyles),j(o.root?o.cx("rootList"):o.cx("submenu")),f("id",o.menuId+"_list")("tabindex",o.tabindex)("pBind",o._ptm(o.root?"rootList":"submenu")),ce("aria-label",o.ariaLabel)("aria-labelledBy",o.ariaLabelledBy)("aria-activedescendant",o.focusedItemId)("aria-orientation","vertical"),p(2),f("ngForOf",o.items))},dependencies:[i,Qe,Mn,pt,gt,ft,Ul,Vl,zy,oo,na,cn,pe,Hg,Oe,Pt],encapsulation:2})}return i})(),XM=(()=>{class i extends Xe{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}popup;style;styleClass;breakpoint="960px";autoZIndex=!0;baseZIndex=0;autoDisplay=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";id;ariaLabel;ariaLabelledBy;disabled=!1;tabindex=0;appendTo=qe(void 0);onShow=new te;onHide=new te;rootmenu;containerViewChild;submenuIconTemplate;itemTemplate;templates;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());container;outsideClickListener;resizeListener;scrollHandler;target;relatedTarget;visible;relativeAlign;dirty=!1;focused=!1;activeItemPath=lt([]);number=lt(0);focusedItemInfo=lt({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;_componentStyle=z(YM);bindDirectiveInstance=z(pe,{self:!0});matchMediaListener;query;queryMatches;_submenuIconTemplate;_itemTemplate;get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${qt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,In(()=>{let t=this.activeItemPath();qt(t)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}onInit(){this.bindMatchMediaListener(),this.id=this.id||Vt("pn_id_")}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}bindMatchMediaListener(){if(At(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}createProcessedItems(e,t=0,o={},r=""){let s=[];return e&&e.forEach((a,l)=>{let c=(r!==""?r+"_":"")+l,d={item:a,index:l,level:t,key:c,parent:o,parentKey:r};d.items=this.createProcessedItems(a.items,t+1,d,c),s.push(d)}),s}getItemProp(e,t){return e?$o(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&qt(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&qt(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:o}=e,r=this.isProcessedItemGroup(o),s=jo(o.parent);if(this.isSelected(o)){let{index:l,key:c,level:d,parentKey:u,item:m}=o;this.activeItemPath.set(this.activeItemPath().filter(g=>c!==g.key&&c.startsWith(g.key))),this.focusedItemInfo.set({index:l,level:d,parentKey:u,item:m}),this.dirty=!0,Di(this.rootmenu?.sublistViewChild?.nativeElement)}else if(r)this.onItemChange(e);else{let l=s?o:this.activeItemPath().find(c=>c.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,l?.index??-1),Di(this.rootmenu?.sublistViewChild?.nativeElement)}}onItemMouseEnter(e){Sr()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay},"hover"):this.dirty&&this.onItemChange(e,"hover")}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&hd(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],o=this.isProccessedItemGroup(t),r=t?.item;o&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:r}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index];if(!t){e.preventDefault();return}let o=this.activeItemPath().find(a=>a.key===t.parentKey);jo(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:o?o.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let s=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=Et(this.rootmenu?.el?.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),o=t&&(Et(t,'[data-pc-section="itemlink"]')||Et(t,"a,button"));if(o?o.click():t&&t.click(),!this.popup){let r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e,t){let{processedItem:o,isFocus:r}=e;if(jo(o))return;let{index:s,key:a,level:l,parentKey:c,items:d,item:u}=o,m=qt(d),g=this.activeItemPath().filter(y=>y.parentKey!==c&&y.parentKey!==a);m&&g.push(o),this.focusedItemInfo.set({index:s,level:l,parentKey:c,item:u}),m&&(this.dirty=!0),r&&Di(this.rootmenu?.sublistViewChild?.nativeElement),!(t==="hover"&&this.queryMatches)&&this.activeItemPath.set(g)}onMenuFocus(e){this.focused=!0,this.focusedItemInfo().index===-1&&this.popup}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),Ag(this.containerViewChild?.nativeElement,{position:"absolute",top:0}),this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),Di(this.rootmenu?.sublistViewChild?.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?dd(this.container,this.target):rl(this.container,this.target),Dn(this.target)>Dn(this.container)&&(this.container.style.minWidth=Dn(this.target)+"px")}onOverlayAnimationEnd(e){switch(e.toState){case"void":Bi.clear(e.element);break}}appendOverlay(){this.$appendTo()&&this.$appendTo()!=="self"&&(this.$appendTo()==="body"?this.renderer.appendChild(this.document.body,this.container):sl(this.$appendTo(),this.container))}restoreOverlayAppend(){this.container&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Bi.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Di(this.relatedTarget||this.target||this.rootmenu?.sublistViewChild?.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&Di(this.rootmenu?.sublistViewChild?.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedItemInfo().index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(s=>this.isItemMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedItemInfo().index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ss(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?ss(this.visibleItems.slice(0,e),o=>this.isValidItem(o)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(o=>this.isValidItem(o)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let o=this.focusedItemInfo();this.focusedItemInfo.set(Fe(ee({},o),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,o=Et(this.rootmenu?.el?.nativeElement,`li[id="${t}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){At(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{Sr()||this.hide(e,!0)})))}bindOutsideClickListener(){At(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),o=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&o&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}onDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Bi.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.unbindMatchMediaListener()}static \u0275fac=function(t){return new(t||i)(x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-tieredMenu"],["p-tieredmenu"],["p-tiered-menu"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Z6e,4),se(r,e8e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.submenuIconTemplate=s.first),W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(t8e,5),_e(i8e,5)),t&2){let r;W(r=$())&&(o.rootmenu=r.first),W(r=$())&&(o.containerViewChild=r.first)}},inputs:{model:"model",popup:[2,"popup","popup",Z],style:"style",styleClass:"styleClass",breakpoint:"breakpoint",autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],autoDisplay:[2,"autoDisplay","autoDisplay",Z],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",Z],tabindex:[2,"tabindex","tabindex",Je],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Se([YM,{provide:eZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","class","ngStyle","pBind","click",4,"ngIf"],[3,"click","id","ngStyle","pBind"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath","pt"]],template:function(t,o){t&1&&E(0,r8e,4,26,"div",2),t&2&&f("ngIf",!o.popup||o.visible)},dependencies:[Qe,pt,ft,l8e,Ul,na,pe,Oe,Pt],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0,transform:"scaleY(0.8)"}),hi("{{showTransitionParams}}")]),li(":leave",[hi("{{hideTransitionParams}}",Yt({opacity:0}))])])]},changeDetection:0})}return i})();var tZ=`
    .p-splitbutton {
        display: inline-flex;
        position: relative;
        border-radius: dt('splitbutton.border.radius');
    }

    .p-splitbutton-button.p-button {
        border-start-end-radius: 0;
        border-end-end-radius: 0;
        border-inline-end: 0 none;
    }

    .p-splitbutton-button.p-button:focus-visible,
    .p-splitbutton-dropdown.p-button:focus-visible {
        z-index: 1;
    }

    .p-splitbutton-button.p-button:not(:disabled):hover,
    .p-splitbutton-button.p-button:not(:disabled):active {
        border-inline-end: 0 none;
    }

    .p-splitbutton-dropdown.p-button {
        border-start-start-radius: 0;
        border-end-start-radius: 0;
    }

    .p-splitbutton .p-menu {
        min-width: 100%;
    }

    .p-splitbutton-fluid {
        display: flex;
    }

    .p-splitbutton-rounded .p-splitbutton-dropdown.p-button {
        border-start-end-radius: dt('splitbutton.rounded.border.radius');
        border-end-end-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-rounded .p-splitbutton-button.p-button {
        border-start-start-radius: dt('splitbutton.rounded.border.radius');
        border-end-start-radius: dt('splitbutton.rounded.border.radius');
    }

    .p-splitbutton-raised {
        box-shadow: dt('splitbutton.raised.shadow');
    }
`;var c8e=["content"],d8e=["dropdownicon"],p8e=["defaultbtn"],u8e=["menu"];function h8e(i,n){i&1&&ve(0)}function f8e(i,n){if(i&1){let e=B();we(0),_(1,"button",8),A("click",function(o){w(e);let r=h();return C(r.onDefaultButtonClick(o))}),E(2,h8e,1,0,"ng-container",9),b(),Ce()}if(i&2){let e=h();p(),j(e.cx("pcButton")),f("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("disabled",e.disabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions)("pt",e.ptm("pcButton")),ce("tabindex",e.tabindex)("aria-label",(e.buttonProps==null?null:e.buttonProps.ariaLabel)||e.label),p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}function m8e(i,n){if(i&1){let e=B();_(0,"button",10,2),A("click",function(o){w(e);let r=h();return C(r.onDefaultButtonClick(o))}),b()}if(i&2){let e=h();j(e.cx("pcButton")),f("severity",e.severity)("text",e.text)("outlined",e.outlined)("size",e.size)("icon",e.icon)("iconPos",e.iconPos)("label",e.label)("disabled",e.buttonDisabled)("pAutoFocus",e.autofocus)("pTooltip",e.tooltip)("tooltipOptions",e.tooltipOptions)("pt",e.ptm("pcButton")),ce("tabindex",e.tabindex)("aria-label",e.buttonProps==null?null:e.buttonProps.ariaLabel)}}function g8e(i,n){if(i&1&&N(0,"span"),i&2){let e=h();j(e.dropdownIcon)}}function _8e(i,n){i&1&&(xe(),N(0,"svg",12))}function b8e(i,n){}function y8e(i,n){i&1&&E(0,b8e,0,0,"ng-template")}function v8e(i,n){if(i&1&&(we(0),E(1,_8e,1,0,"svg",11)(2,y8e,1,0,null,9),Ce()),i&2){let e=h();p(),f("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),p(),f("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}var w8e={root:({instance:i})=>["p-splitbutton p-component",{"p-splitbutton-raised":i.raised,"p-splitbutton-rounded":i.rounded,"p-splitbutton-outlined":i.outlined,"p-splitbutton-text":i.text,[`p-splitbutton-${i.size==="small"?"sm":"lg"}`]:i.size}],pcButton:"p-splitbutton-button",pcDropdown:"p-splitbutton-dropdown p-button-icon-only"},iZ=(()=>{class i extends Ye{name="splitbutton";style=tZ;classes=w8e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var nZ=new he("SPLITBUTTON_INSTANCE"),ZM=(()=>{class i extends Xe{$pcSplitButton=z(nZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}model;severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;icon;iconPos="left";label;tooltip;tooltipOptions;styleClass;menuStyle;menuStyleClass;dropdownIcon;appendTo="body";dir;expandAriaLabel;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";buttonProps;menuButtonProps;autofocus;set disabled(e){this._disabled=e??!1,this.buttonDisabled=e??!1,this.menuButtonDisabled=e??!1}get disabled(){return this._disabled}tabindex;menuButtonDisabled=!1;buttonDisabled=!1;onClick=new te;onMenuHide=new te;onMenuShow=new te;onDropdownClick=new te;buttonViewChild;menu;contentTemplate;dropdownIconTemplate;templates;ariaId;isExpanded=lt(!1);_disabled;_componentStyle=z(iZ);_contentTemplate;_dropdownIconTemplate;onInit(){this.ariaId=Vt("pn_id_")}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}onDefaultButtonClick(e){this.onClick?.emit(e),this.menu?.hide()}onDropdownButtonClick(e){this.onDropdownClick.emit(e),this.menu?.toggle({currentTarget:this.el?.nativeElement,relativeAlign:this.appendTo==null})}onDropdownButtonKeydown(e){(e.code==="ArrowDown"||e.code==="ArrowUp")&&(this.onDropdownButtonClick(),e.preventDefault())}onHide(){this.isExpanded.set(!1),this.onMenuHide.emit()}onShow(){this.isExpanded.set(!0),this.onMenuShow.emit()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-splitbutton"],["p-splitButton"],["p-split-button"]],contentQueries:function(t,o,r){if(t&1&&(se(r,c8e,4),se(r,d8e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.dropdownIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(p8e,5),_e(u8e,5)),t&2){let r;W(r=$())&&(o.buttonViewChild=r.first),W(r=$())&&(o.menu=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{model:"model",severity:"severity",raised:[2,"raised","raised",Z],rounded:[2,"rounded","rounded",Z],text:[2,"text","text",Z],outlined:[2,"outlined","outlined",Z],size:"size",plain:[2,"plain","plain",Z],icon:"icon",iconPos:"iconPos",label:"label",tooltip:"tooltip",tooltipOptions:"tooltipOptions",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",dropdownIcon:"dropdownIcon",appendTo:"appendTo",dir:"dir",expandAriaLabel:"expandAriaLabel",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",buttonProps:"buttonProps",menuButtonProps:"menuButtonProps",autofocus:[2,"autofocus","autofocus",Z],disabled:[2,"disabled","disabled",Z],tabindex:[2,"tabindex","tabindex",Je],menuButtonDisabled:[2,"menuButtonDisabled","menuButtonDisabled",Z],buttonDisabled:[2,"buttonDisabled","buttonDisabled",Z]},outputs:{onClick:"onClick",onMenuHide:"onMenuHide",onMenuShow:"onMenuShow",onDropdownClick:"onDropdownClick"},features:[Se([iZ,{provide:nZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:8,vars:26,consts:[["defaultButton",""],["menu",""],["defaultbtn",""],[4,"ngIf","ngIfElse"],["type","button","pButton","","pRipple","",3,"click","keydown","size","severity","text","outlined","disabled","pt"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"onHide","onShow","id","popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions","pt"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","disabled","pAutoFocus","pTooltip","tooltipOptions","pt"],[4,"ngTemplateOutlet"],["type","button","pButton","","pRipple","",3,"click","severity","text","outlined","size","icon","iconPos","label","disabled","pAutoFocus","pTooltip","tooltipOptions","pt"],["data-p-icon","chevron-down",4,"ngIf"],["data-p-icon","chevron-down"]],template:function(t,o){if(t&1){let r=B();E(0,f8e,3,16,"ng-container",3)(1,m8e,2,16,"ng-template",null,0,ie),_(3,"button",4),A("click",function(a){return w(r),C(o.onDropdownButtonClick(a))})("keydown",function(a){return w(r),C(o.onDropdownButtonKeydown(a))}),E(4,g8e,1,2,"span",5)(5,v8e,3,2,"ng-container",6),b(),_(6,"p-tieredmenu",7,1),A("onHide",function(){return w(r),C(o.onHide())})("onShow",function(){return w(r),C(o.onShow())}),b()}if(t&2){let r=Ze(2);f("ngIf",o.contentTemplate||o._contentTemplate)("ngIfElse",r),p(3),j(o.cx("pcDropdown")),f("size",o.size)("severity",o.severity)("text",o.text)("outlined",o.outlined)("disabled",o.menuButtonDisabled)("pt",o.ptm("pcDropdown")),ce("aria-label",(o.menuButtonProps==null?null:o.menuButtonProps.ariaLabel)||o.expandAriaLabel)("aria-haspopup",(o.menuButtonProps==null?null:o.menuButtonProps.ariaHasPopup)||!0)("aria-expanded",(o.menuButtonProps==null?null:o.menuButtonProps.ariaExpanded)||o.isExpanded())("aria-controls",(o.menuButtonProps==null?null:o.menuButtonProps.ariaControls)||o.ariaId),p(),f("ngIf",o.dropdownIcon),p(),f("ngIf",!o.dropdownIcon),p(),De(o.menuStyle),f("id",o.ariaId)("popup",!0)("model",o.model)("styleClass",o.menuStyleClass)("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)("pt",o.ptm("pcMenu"))}},dependencies:[Qe,pt,gt,Ff,XM,fr,ll,oo,na,cn,Oe],encapsulation:2,changeDetection:0})}return i})(),e3=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[ZM,Oe,Oe]})}return i})();var oZ=`
    .p-chip {
        display: inline-flex;
        align-items: center;
        background: dt('chip.background');
        color: dt('chip.color');
        border-radius: dt('chip.border.radius');
        padding-block: dt('chip.padding.y');
        padding-inline: dt('chip.padding.x');
        gap: dt('chip.gap');
    }

    .p-chip-icon {
        color: dt('chip.icon.color');
        font-size: dt('chip.icon.font.size');
        width: dt('chip.icon.size');
        height: dt('chip.icon.size');
    }

    .p-chip-image {
        border-radius: 50%;
        width: dt('chip.image.width');
        height: dt('chip.image.height');
        margin-inline-start: calc(-1 * dt('chip.padding.y'));
    }

    .p-chip:has(.p-chip-remove-icon) {
        padding-inline-end: dt('chip.padding.y');
    }

    .p-chip:has(.p-chip-image) {
        padding-block-start: calc(dt('chip.padding.y') / 2);
        padding-block-end: calc(dt('chip.padding.y') / 2);
    }

    .p-chip-remove-icon {
        cursor: pointer;
        font-size: dt('chip.remove.icon.size');
        width: dt('chip.remove.icon.size');
        height: dt('chip.remove.icon.size');
        color: dt('chip.remove.icon.color');
        border-radius: 50%;
        transition:
            outline-color dt('chip.transition.duration'),
            box-shadow dt('chip.transition.duration');
        outline-color: transparent;
    }

    .p-chip-remove-icon:focus-visible {
        box-shadow: dt('chip.remove.icon.focus.ring.shadow');
        outline: dt('chip.remove.icon.focus.ring.width') dt('chip.remove.icon.focus.ring.style') dt('chip.remove.icon.focus.ring.color');
        outline-offset: dt('chip.remove.icon.focus.ring.offset');
    }
`;var S8e=["removeicon"],I8e=["*"];function E8e(i,n){if(i&1){let e=B();_(0,"img",4),A("error",function(o){w(e);let r=h();return C(r.imageError(o))}),b()}if(i&2){let e=h();j(e.cx("image")),f("pBind",e.ptm("image"))("src",e.image,Cr)("alt",e.alt)}}function x8e(i,n){if(i&1&&N(0,"span",6),i&2){let e=h(2);j(e.icon),f("pBind",e.ptm("icon"))("ngClass",e.cx("icon"))}}function T8e(i,n){if(i&1&&E(0,x8e,1,4,"span",5),i&2){let e=h();f("ngIf",e.icon)}}function O8e(i,n){if(i&1&&(_(0,"div",7),R(1),b()),i&2){let e=h();j(e.cx("label")),f("pBind",e.ptm("label")),p(),Q(e.label)}}function R8e(i,n){if(i&1){let e=B();_(0,"span",11),A("click",function(o){w(e);let r=h(3);return C(r.close(o))})("keydown",function(o){w(e);let r=h(3);return C(r.onKeydown(o))}),b()}if(i&2){let e=h(3);j(e.removeIcon),f("pBind",e.ptm("removeIcon"))("ngClass",e.cx("removeIcon")),ce("tabindex",e.disabled?-1:0)("aria-label",e.removeAriaLabel)}}function D8e(i,n){if(i&1){let e=B();xe(),_(0,"svg",12),A("click",function(o){w(e);let r=h(3);return C(r.close(o))})("keydown",function(o){w(e);let r=h(3);return C(r.onKeydown(o))}),b()}if(i&2){let e=h(3);j(e.cx("removeIcon")),f("pBind",e.ptm("removeIcon")),ce("tabindex",e.disabled?-1:0)("aria-label",e.removeAriaLabel)}}function P8e(i,n){if(i&1&&(we(0),E(1,R8e,1,6,"span",9)(2,D8e,1,5,"svg",10),Ce()),i&2){let e=h(2);p(),f("ngIf",e.removeIcon),p(),f("ngIf",!e.removeIcon)}}function A8e(i,n){}function k8e(i,n){i&1&&E(0,A8e,0,0,"ng-template")}function N8e(i,n){if(i&1){let e=B();_(0,"span",13),A("click",function(o){w(e);let r=h(2);return C(r.close(o))})("keydown",function(o){w(e);let r=h(2);return C(r.onKeydown(o))}),E(1,k8e,1,0,null,14),b()}if(i&2){let e=h(2);j(e.cx("removeIcon")),f("pBind",e.ptm("removeIcon")),ce("tabindex",e.disabled?-1:0)("aria-label",e.removeAriaLabel),p(),f("ngTemplateOutlet",e.removeIconTemplate||e._removeIconTemplate)}}function F8e(i,n){if(i&1&&(we(0),E(1,P8e,3,2,"ng-container",3)(2,N8e,2,6,"span",8),Ce()),i&2){let e=h();p(),f("ngIf",!e.removeIconTemplate&&!e._removeIconTemplate),p(),f("ngIf",e.removeIconTemplate||e._removeIconTemplate)}}var L8e={root:({instance:i})=>["p-chip p-component",{"p-disabled":i.disabled}],image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},rZ=(()=>{class i extends Ye{name="chip";style=oZ;classes=L8e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var sZ=new he("CHIP_INSTANCE"),aZ=(()=>{class i extends Xe{$pcChip=z(sZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}label;icon;image;alt;styleClass;disabled=!1;removable=!1;removeIcon;onRemove=new te;onImageError=new te;visible=!0;get removeAriaLabel(){return this.config.getTranslation(xi.ARIA).removeLabel}get chipProps(){return this._chipProps}set chipProps(e){this._chipProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([t,o])=>this[`_${t}`]!==o&&(this[`_${t}`]=o))}_chipProps;_componentStyle=z(rZ);removeIconTemplate;templates;_removeIconTemplate;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"removeicon":this._removeIconTemplate=e.template;break;default:this._removeIconTemplate=e.template;break}})}onChanges(e){if(e.chipProps&&e.chipProps.currentValue){let{currentValue:t}=e.chipProps;t.label!==void 0&&(this.label=t.label),t.icon!==void 0&&(this.icon=t.icon),t.image!==void 0&&(this.image=t.image),t.alt!==void 0&&(this.alt=t.alt),t.styleClass!==void 0&&(this.styleClass=t.styleClass),t.removable!==void 0&&(this.removable=t.removable),t.removeIcon!==void 0&&(this.removeIcon=t.removeIcon)}}close(e){this.visible=!1,this.onRemove.emit(e)}onKeydown(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)}imageError(e){this.onImageError.emit(e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-chip"]],contentQueries:function(t,o,r){if(t&1&&(se(r,S8e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.removeIconTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:5,hostBindings:function(t,o){t&2&&(ce("aria-label",o.label),j(o.cn(o.cx("root"),o.styleClass)),Kt("display",!o.visible&&"none"))},inputs:{label:"label",icon:"icon",image:"image",alt:"alt",styleClass:"styleClass",disabled:[2,"disabled","disabled",Z],removable:[2,"removable","removable",Z],removeIcon:"removeIcon",chipProps:"chipProps"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[Se([rZ,{provide:sZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:I8e,decls:6,vars:4,consts:[["iconTemplate",""],[3,"pBind","class","src","alt","error",4,"ngIf","ngIfElse"],[3,"pBind","class",4,"ngIf"],[4,"ngIf"],[3,"error","pBind","src","alt"],[3,"pBind","class","ngClass",4,"ngIf"],[3,"pBind","ngClass"],[3,"pBind"],["role","button",3,"pBind","class","click","keydown",4,"ngIf"],["role","button",3,"pBind","class","ngClass","click","keydown",4,"ngIf"],["data-p-icon","times-circle","role","button",3,"pBind","class","click","keydown",4,"ngIf"],["role","button",3,"click","keydown","pBind","ngClass"],["data-p-icon","times-circle","role","button",3,"click","keydown","pBind"],["role","button",3,"click","keydown","pBind"],[4,"ngTemplateOutlet"]],template:function(t,o){if(t&1&&(ci(),Ht(0),E(1,E8e,1,5,"img",1)(2,T8e,1,1,"ng-template",null,0,ie)(4,O8e,2,4,"div",2)(5,F8e,3,2,"ng-container",3)),t&2){let r=Ze(3);p(),f("ngIf",o.image)("ngIfElse",r),p(3),f("ngIf",o.label),p(),f("ngIf",o.removable)}},dependencies:[Qe,$t,pt,gt,$8,Oe,pe],encapsulation:2,changeDetection:0})}return i})();var lZ=`
    .p-multiselect {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
        background: dt('multiselect.background');
        border: 1px solid dt('multiselect.border.color');
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration');
        border-radius: dt('multiselect.border.radius');
        outline-color: transparent;
        box-shadow: dt('multiselect.shadow');
    }

    .p-multiselect:not(.p-disabled):hover {
        border-color: dt('multiselect.hover.border.color');
    }

    .p-multiselect:not(.p-disabled).p-focus {
        border-color: dt('multiselect.focus.border.color');
        box-shadow: dt('multiselect.focus.ring.shadow');
        outline: dt('multiselect.focus.ring.width') dt('multiselect.focus.ring.style') dt('multiselect.focus.ring.color');
        outline-offset: dt('multiselect.focus.ring.offset');
    }

    .p-multiselect.p-variant-filled {
        background: dt('multiselect.filled.background');
    }

    .p-multiselect.p-variant-filled:not(.p-disabled):hover {
        background: dt('multiselect.filled.hover.background');
    }

    .p-multiselect.p-variant-filled.p-focus {
        background: dt('multiselect.filled.focus.background');
    }

    .p-multiselect.p-invalid {
        border-color: dt('multiselect.invalid.border.color');
    }

    .p-multiselect.p-disabled {
        opacity: 1;
        background: dt('multiselect.disabled.background');
    }

    .p-multiselect-dropdown {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        background: transparent;
        color: dt('multiselect.dropdown.color');
        width: dt('multiselect.dropdown.width');
        border-start-end-radius: dt('multiselect.border.radius');
        border-end-end-radius: dt('multiselect.border.radius');
    }

    .p-multiselect-clear-icon {
        align-self: center;
        color: dt('multiselect.clear.icon.color');
        inset-inline-end: dt('multiselect.dropdown.width');
    }

    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }

    .p-multiselect-label {
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
        padding: dt('multiselect.padding.y') dt('multiselect.padding.x');
        color: dt('multiselect.color');
    }

    .p-multiselect-display-chip .p-multiselect-label {
        display: flex;
        align-items: center;
        gap: calc(dt('multiselect.padding.y') / 2);
    }

    .p-multiselect-label.p-placeholder {
        color: dt('multiselect.placeholder.color');
    }

    .p-multiselect.p-invalid .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }

    .p-multiselect.p-disabled .p-multiselect-label {
        color: dt('multiselect.disabled.color');
    }

    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }

    .p-multiselect-overlay {
        position: absolute;
        top: 0;
        left: 0;
        background: dt('multiselect.overlay.background');
        color: dt('multiselect.overlay.color');
        border: 1px solid dt('multiselect.overlay.border.color');
        border-radius: dt('multiselect.overlay.border.radius');
        box-shadow: dt('multiselect.overlay.shadow');
        min-width: 100%;
    }

    .p-multiselect-header {
        display: flex;
        align-items: center;
        padding: dt('multiselect.list.header.padding');
    }

    .p-multiselect-header .p-checkbox {
        margin-inline-end: dt('multiselect.option.gap');
    }

    .p-multiselect-filter-container {
        flex: 1 1 auto;
    }

    .p-multiselect-filter {
        width: 100%;
    }

    .p-multiselect-list-container {
        overflow: auto;
    }

    .p-multiselect-list {
        margin: 0;
        padding: 0;
        list-style-type: none;
        padding: dt('multiselect.list.padding');
        display: flex;
        flex-direction: column;
        gap: dt('multiselect.list.gap');
    }

    .p-multiselect-option {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        gap: dt('multiselect.option.gap');
        padding: dt('multiselect.option.padding');
        border: 0 none;
        color: dt('multiselect.option.color');
        background: transparent;
        transition:
            background dt('multiselect.transition.duration'),
            color dt('multiselect.transition.duration'),
            border-color dt('multiselect.transition.duration'),
            box-shadow dt('multiselect.transition.duration'),
            outline-color dt('multiselect.transition.duration');
        border-radius: dt('multiselect.option.border.radius');
    }

    .p-multiselect-option:not(.p-multiselect-option-selected):not(.p-disabled).p-focus {
        background: dt('multiselect.option.focus.background');
        color: dt('multiselect.option.focus.color');
    }

    .p-multiselect-option.p-multiselect-option-selected {
        background: dt('multiselect.option.selected.background');
        color: dt('multiselect.option.selected.color');
    }

    .p-multiselect-option.p-multiselect-option-selected.p-focus {
        background: dt('multiselect.option.selected.focus.background');
        color: dt('multiselect.option.selected.focus.color');
    }

    .p-multiselect-option-group {
        cursor: auto;
        margin: 0;
        padding: dt('multiselect.option.group.padding');
        background: dt('multiselect.option.group.background');
        color: dt('multiselect.option.group.color');
        font-weight: dt('multiselect.option.group.font.weight');
    }

    .p-multiselect-empty-message {
        padding: dt('multiselect.empty.message.padding');
    }

    .p-multiselect-label .p-chip {
        padding-block-start: calc(dt('multiselect.padding.y') / 2);
        padding-block-end: calc(dt('multiselect.padding.y') / 2);
        border-radius: dt('multiselect.chip.border.radius');
    }

    .p-multiselect-label:has(.p-chip) {
        padding: calc(dt('multiselect.padding.y') / 2) calc(dt('multiselect.padding.x') / 2);
    }

    .p-multiselect-fluid {
        display: flex;
        width: 100%;
    }

    .p-multiselect-sm .p-multiselect-label {
        font-size: dt('multiselect.sm.font.size');
        padding-block: dt('multiselect.sm.padding.y');
        padding-inline: dt('multiselect.sm.padding.x');
    }

    .p-multiselect-sm .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.sm.font.size');
        width: dt('multiselect.sm.font.size');
        height: dt('multiselect.sm.font.size');
    }

    .p-multiselect-lg .p-multiselect-label {
        font-size: dt('multiselect.lg.font.size');
        padding-block: dt('multiselect.lg.padding.y');
        padding-inline: dt('multiselect.lg.padding.x');
    }

    .p-multiselect-lg .p-multiselect-dropdown .p-icon {
        font-size: dt('multiselect.lg.font.size');
        width: dt('multiselect.lg.font.size');
        height: dt('multiselect.lg.font.size');
    }

    .p-floatlabel-in .p-multiselect-filter {
        padding-block-start: dt('multiselect.padding.y');
        padding-block-end: dt('multiselect.padding.y');
    }
`;var M8e=["pMultiSelectItem",""],dZ=i=>({$implicit:i}),B8e=(i,n)=>({checked:i,class:n});function V8e(i,n){}function U8e(i,n){i&1&&E(0,V8e,0,0,"ng-template")}function j8e(i,n){if(i&1&&E(0,U8e,1,0,null,3),i&2){let e=n.class,t=h(2);f("ngTemplateOutlet",t.itemCheckboxIconTemplate)("ngTemplateOutletContext",Ct(2,B8e,t.selected,e))}}function G8e(i,n){i&1&&(we(0),E(1,j8e,1,5,"ng-template",null,0,ie),Ce())}function H8e(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h();p(),Q(e.label??"empty")}}function z8e(i,n){i&1&&ve(0)}var W8e=["item"],$8e=["group"],K8e=["loader"],q8e=["header"],J8e=["filter"],Q8e=["footer"],Y8e=["emptyfilter"],X8e=["empty"],Z8e=["selecteditems"],e9e=["loadingicon"],t9e=["filtericon"],i9e=["removetokenicon"],n9e=["chipicon"],o9e=["clearicon"],r9e=["dropdownicon"],s9e=["itemcheckboxicon"],a9e=["headercheckboxicon"],l9e=["overlay"],c9e=["filterInput"],d9e=["focusInput"],p9e=["items"],u9e=["scroller"],h9e=["lastHiddenFocusableEl"],f9e=["firstHiddenFocusableEl"],m9e=["headerCheckbox"],g9e=[[["p-header"]],[["p-footer"]]],_9e=["p-header","p-footer"],b9e=()=>({class:"p-multiselect-chip-icon"}),y9e=(i,n)=>({$implicit:i,removeChip:n}),pZ=i=>({options:i}),v9e=(i,n,e)=>({checked:i,partialSelected:n,class:e}),cO=i=>({height:i}),uZ=(i,n)=>({$implicit:i,options:n}),w9e=()=>({});function C9e(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Q(e.label()||"empty")}}function S9e(i,n){if(i&1&&R(0),i&2){let e=h(3);Y(" ",e.getSelectedItemsLabel()," ")}}function I9e(i,n){i&1&&ve(0)}function E9e(i,n){if(i&1){let e=B();_(0,"span",27),A("click",function(o){w(e);let r=h(4).$implicit,s=h(4);return C(s.removeOption(r,o))}),E(1,I9e,1,0,"ng-container",28),b()}if(i&2){let e=h(8);j(e.cx("chipIcon")),f("pBind",e.ptm("chipIcon")),ce("aria-hidden",!0),p(),f("ngTemplateOutlet",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)("ngTemplateOutletContext",Pe(6,b9e))}}function x9e(i,n){if(i&1&&(we(0),E(1,E9e,2,7,"span",26),Ce()),i&2){let e=h(7);p(),f("ngIf",e.chipIconTemplate||e._chipIconTemplate||e.removeTokenIconTemplate||e._removeTokenIconTemplate)}}function T9e(i,n){if(i&1&&E(0,x9e,2,1,"ng-container",20),i&2){let e=h(6);f("ngIf",!e.$disabled()&&!e.readonly)}}function O9e(i,n){i&1&&(we(0),E(1,T9e,1,1,"ng-template",null,5,ie),Ce())}function R9e(i,n){if(i&1){let e=B();_(0,"div",19,4)(2,"p-chip",25),A("onRemove",function(o){let r=w(e).$implicit,s=h(4);return C(s.removeOption(r,o))}),E(3,O9e,3,0,"ng-container",20),b()()}if(i&2){let e=n.$implicit,t=h(4);j(t.cx("chipItem")),f("pBind",t.ptm("chipItem")),p(2),j(t.cx("pcChip")),f("pt",t.ptm("pcChip"))("label",t.getLabelByValue(e))("removable",!t.$disabled()&&!t.readonly)("removeIcon",t.chipIcon),p(),f("ngIf",t.chipIconTemplate||t._chipIconTemplate||t.removeTokenIconTemplate||t._removeTokenIconTemplate)}}function D9e(i,n){if(i&1&&E(0,R9e,4,10,"div",24),i&2){let e=h(3);f("ngForOf",e.chipSelectedItems())}}function P9e(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(3);p(),Q(e.placeholder()||"empty")}}function A9e(i,n){if(i&1&&(we(0),G(1,S9e,1,1)(2,D9e,1,1,"div",23),E(3,P9e,2,1,"ng-container",20),Ce()),i&2){let e=h(2);p(),H(e.chipSelectedItems()&&e.chipSelectedItems().length===e.maxSelectedLabels?1:2),p(2),f("ngIf",!e.modelValue()||e.modelValue().length===0)}}function k9e(i,n){if(i&1&&(we(0),E(1,C9e,2,1,"ng-container",20)(2,A9e,4,2,"ng-container",20),Ce()),i&2){let e=h();p(),f("ngIf",e.display==="comma"),p(),f("ngIf",e.display==="chip")}}function N9e(i,n){i&1&&ve(0)}function F9e(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Q(e.placeholder()||"empty")}}function L9e(i,n){if(i&1&&(we(0),E(1,N9e,1,0,"ng-container",28)(2,F9e,2,1,"ng-container",20),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.selectedItemsTemplate||e._selectedItemsTemplate)("ngTemplateOutletContext",Ct(3,y9e,e.selectedOptions,e.removeOption.bind(e))),p(),f("ngIf",!e.modelValue()||e.modelValue().length===0)}}function M9e(i,n){if(i&1){let e=B();xe(),_(0,"svg",31),A("click",function(o){w(e);let r=h(2);return C(r.clear(o))}),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),ce("aria-hidden",!0)}}function B9e(i,n){}function V9e(i,n){i&1&&E(0,B9e,0,0,"ng-template")}function U9e(i,n){if(i&1){let e=B();_(0,"span",27),A("click",function(o){w(e);let r=h(2);return C(r.clear(o))}),E(1,V9e,1,0,null,32),b()}if(i&2){let e=h(2);j(e.cx("clearIcon")),f("pBind",e.ptm("clearIcon")),ce("aria-hidden",!0),p(),f("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function j9e(i,n){if(i&1&&(we(0),E(1,M9e,1,4,"svg",29)(2,U9e,2,5,"span",30),Ce()),i&2){let e=h();p(),f("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),p(),f("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function G9e(i,n){i&1&&ve(0)}function H9e(i,n){if(i&1&&(we(0),E(1,G9e,1,0,"ng-container",32),Ce()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function z9e(i,n){if(i&1&&N(0,"span",19),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),"pi-spin "+e.loadingIcon)),f("pBind",e.ptm("loadingIcon")),ce("aria-hidden",!0)}}function W9e(i,n){if(i&1&&N(0,"span",19),i&2){let e=h(3);j(e.cn(e.cx("loadingIcon"),"pi pi-spinner pi-spin")),f("pBind",e.ptm("loadingIcon")),ce("aria-hidden",!0)}}function $9e(i,n){if(i&1&&(we(0),E(1,z9e,1,4,"span",33)(2,W9e,1,4,"span",33),Ce()),i&2){let e=h(2);p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function K9e(i,n){if(i&1&&(we(0),E(1,H9e,2,1,"ng-container",20)(2,$9e,3,2,"ng-container",20),Ce()),i&2){let e=h();p(),f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate),p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate)}}function q9e(i,n){if(i&1&&N(0,"span",36),i&2){let e=h(3);j(e.cx("dropdownIcon")),f("pBind",e.ptm("dropdownIcon"))("ngClass",e.dropdownIcon),ce("aria-hidden",!0)}}function J9e(i,n){if(i&1&&(xe(),N(0,"svg",37)),i&2){let e=h(3);j(e.cx("dropdownIcon")),f("pBind",e.ptm("dropdownIcon")),ce("aria-hidden",!0)}}function Q9e(i,n){if(i&1&&(we(0),E(1,q9e,1,5,"span",34)(2,J9e,1,4,"svg",35),Ce()),i&2){let e=h(2);p(),f("ngIf",e.dropdownIcon),p(),f("ngIf",!e.dropdownIcon)}}function Y9e(i,n){}function X9e(i,n){i&1&&E(0,Y9e,0,0,"ng-template")}function Z9e(i,n){if(i&1&&(_(0,"span",19),E(1,X9e,1,0,null,32),b()),i&2){let e=h(2);j(e.cx("dropdownIcon")),f("pBind",e.ptm("dropdownIcon")),ce("aria-hidden",!0),p(),f("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function eGe(i,n){if(i&1&&E(0,Q9e,3,2,"ng-container",20)(1,Z9e,2,5,"span",33),i&2){let e=h();f("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),p(),f("ngIf",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function tGe(i,n){i&1&&ve(0)}function iGe(i,n){i&1&&ve(0)}function nGe(i,n){if(i&1&&(we(0),E(1,iGe,1,0,"ng-container",28),Ce()),i&2){let e=h(3);p(),f("ngTemplateOutlet",e.filterTemplate||e._filterTemplate)("ngTemplateOutletContext",de(2,pZ,e.filterOptions))}}function oGe(i,n){if(i&1&&(xe(),N(0,"svg",45)),i&2){let e=h().class,t=h(5);j(e),f("pBind",t.getHeaderCheckboxPTOptions("pcHeaderCheckbox.icon"))}}function rGe(i,n){}function sGe(i,n){i&1&&E(0,rGe,0,0,"ng-template")}function aGe(i,n){if(i&1&&E(0,oGe,1,3,"svg",44)(1,sGe,1,0,null,28),i&2){let e=n.class,t=h(5);f("ngIf",!t.headerCheckboxIconTemplate&&!t._headerCheckboxIconTemplate&&t.allSelected()),p(),f("ngTemplateOutlet",t.headerCheckboxIconTemplate||t._headerCheckboxIconTemplate)("ngTemplateOutletContext",ga(3,v9e,t.allSelected(),t.partialSelected(),e))}}function lGe(i,n){if(i&1){let e=B();_(0,"p-checkbox",43,10),A("onChange",function(o){w(e);let r=h(4);return C(r.onToggleAll(o))}),E(2,aGe,2,7,"ng-template",null,11,ie),b()}if(i&2){let e=h(4);f("pt",e.getHeaderCheckboxPTOptions("pcHeaderCheckbox"))("ngModel",e.allSelected())("ariaLabel",e.toggleAllAriaLabel)("binary",!0)("variant",e.$variant())("disabled",e.$disabled())}}function cGe(i,n){if(i&1&&(xe(),N(0,"svg",50)),i&2){let e=h(5);f("pBind",e.ptm("filterIcon"))}}function dGe(i,n){}function pGe(i,n){i&1&&E(0,dGe,0,0,"ng-template")}function uGe(i,n){if(i&1&&(_(0,"span",51),E(1,pGe,1,0,null,32),b()),i&2){let e=h(5);f("pBind",e.ptm("filterIcon")),p(),f("ngTemplateOutlet",e.filterIconTemplate||e._filterIconTemplate)}}function hGe(i,n){if(i&1){let e=B();_(0,"p-iconfield",46)(1,"input",47,12),A("input",function(o){w(e);let r=h(4);return C(r.onFilterInputChange(o))})("keydown",function(o){w(e);let r=h(4);return C(r.onFilterKeyDown(o))})("click",function(o){w(e);let r=h(4);return C(r.onInputClick(o))})("blur",function(o){w(e);let r=h(4);return C(r.onFilterBlur(o))}),b(),_(3,"p-inputicon",46),E(4,cGe,1,1,"svg",48)(5,uGe,2,2,"span",49),b()()}if(i&2){let e=h(4);j(e.cx("pcFilterContainer")),f("pt",e.ptm("pcFilterContainer")),p(),j(e.cx("pcFilter")),f("pt",e.ptm("pcFilter"))("variant",e.$variant())("value",e._filterValue()||""),ce("autocomplete",e.autocomplete)("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("disabled",e.$disabled()?"":void 0)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),p(2),f("pt",e.ptm("pcFilterIconContainer")),p(),f("ngIf",!e.filterIconTemplate&&!e._filterIconTemplate),p(),f("ngIf",e.filterIconTemplate||e._filterIconTemplate)}}function fGe(i,n){if(i&1&&E(0,lGe,4,6,"p-checkbox",41)(1,hGe,6,17,"p-iconfield",42),i&2){let e=h(3);f("ngIf",e.showToggleAll&&!e.selectionLimit),p(),f("ngIf",e.filter)}}function mGe(i,n){if(i&1&&(_(0,"div",19),Ht(1),E(2,nGe,2,4,"ng-container",21)(3,fGe,2,2,"ng-template",null,9,ie),b()),i&2){let e=Ze(4),t=h(2);j(t.cx("header")),f("pBind",t.ptm("header")),p(2),f("ngIf",t.filterTemplate||t._filterTemplate)("ngIfElse",e)}}function gGe(i,n){i&1&&ve(0)}function _Ge(i,n){if(i&1&&E(0,gGe,1,0,"ng-container",28),i&2){let e=n.$implicit,t=n.options;h(2);let o=Ze(9);f("ngTemplateOutlet",o)("ngTemplateOutletContext",Ct(2,uZ,e,t))}}function bGe(i,n){i&1&&ve(0)}function yGe(i,n){if(i&1&&E(0,bGe,1,0,"ng-container",28),i&2){let e=n.options,t=h(4);f("ngTemplateOutlet",t.loaderTemplate||t._loaderTemplate)("ngTemplateOutletContext",de(2,pZ,e))}}function vGe(i,n){i&1&&(we(0),E(1,yGe,1,4,"ng-template",null,14,ie),Ce())}function wGe(i,n){if(i&1){let e=B();_(0,"p-scroller",52,13),A("onLazyLoad",function(o){w(e);let r=h(2);return C(r.onLazyLoad.emit(o))}),E(2,_Ge,1,5,"ng-template",null,3,ie)(4,vGe,3,0,"ng-container",20),b()}if(i&2){let e=h(2);De(de(9,cO,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),p(4),f("ngIf",e.loaderTemplate||e._loaderTemplate)}}function CGe(i,n){i&1&&ve(0)}function SGe(i,n){if(i&1&&(we(0),E(1,CGe,1,0,"ng-container",28),Ce()),i&2){h();let e=Ze(9),t=h();p(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Ct(3,uZ,t.visibleOptions(),Pe(2,w9e)))}}function IGe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2).$implicit,t=h(3);p(),Q(t.getOptionGroupLabel(e.optionGroup))}}function EGe(i,n){if(i&1&&ve(0,58),i&2){let e=h(2).$implicit,t=h(3);f("ngTemplateOutlet",t.groupTemplate)("ngTemplateOutletContext",de(2,dZ,e.optionGroup))}}function xGe(i,n){if(i&1&&(we(0),_(1,"li",56),E(2,IGe,2,1,"span",20)(3,EGe,1,4,"ng-container",57),b(),Ce()),i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),j(s.cx("optionGroup")),f("pBind",s.ptm("optionGroup"))("ngStyle",de(7,cO,r.itemSize+"px")),ce("id",s.id+"_"+s.getOptionIndex(o,r)),p(),f("ngIf",!s.groupTemplate&&t.optionGroup),p(),f("ngIf",t.optionGroup&&s.groupTemplate)}}function TGe(i,n){if(i&1){let e=B();we(0),_(1,"li",59),A("onClick",function(o){w(e);let r=h().index,s=h().options,a=h(2);return C(a.onOptionSelect(o,!1,a.getOptionIndex(r,s)))})("onMouseEnter",function(o){w(e);let r=h().index,s=h().options,a=h(2);return C(a.onOptionMouseEnter(o,a.getOptionIndex(r,s)))}),b(),Ce()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h().options,s=h(2);p(),f("pBind",s.getPTOptions(t,s.getItemOptions,o,"option"))("id",s.id+"_"+s.getOptionIndex(o,r))("option",t)("selected",s.isSelected(t))("label",s.getOptionLabel(t))("disabled",s.isOptionDisabled(t))("template",s.itemTemplate||s._itemTemplate)("itemCheckboxIconTemplate",s.itemCheckboxIconTemplate||s._itemCheckboxIconTemplate)("itemSize",r.itemSize)("focused",s.focusedOptionIndex()===s.getOptionIndex(o,r))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(o,r)))("ariaSetSize",s.ariaSetSize)("variant",s.$variant())("highlightOnSelect",s.highlightOnSelect)("pt",s.pt)}}function OGe(i,n){if(i&1&&E(0,xGe,4,9,"ng-container",20)(1,TGe,2,15,"ng-container",20),i&2){let e=n.$implicit,t=h(3);f("ngIf",t.isOptionGroup(e)),p(),f("ngIf",!t.isOptionGroup(e))}}function RGe(i,n){if(i&1&&R(0),i&2){let e=h(4);Y(" ",e.emptyFilterMessageLabel," ")}}function DGe(i,n){i&1&&ve(0)}function PGe(i,n){if(i&1&&E(0,DGe,1,0,"ng-container",32),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyFilterTemplate||e._emptyFilterTemplate||e.emptyTemplate||e._emptyFilterTemplate)}}function AGe(i,n){if(i&1&&(_(0,"li",56),G(1,RGe,1,1)(2,PGe,1,1,"ng-container"),b()),i&2){let e=h().options,t=h(2);j(t.cx("emptyMessage")),f("pBind",t.ptm("emptyMessage"))("ngStyle",de(5,cO,e.itemSize+"px")),p(),H(!t.emptyFilterTemplate&&!t._emptyFilterTemplate&&!t.emptyTemplate&&!t._emptyTemplate?1:2)}}function kGe(i,n){if(i&1&&R(0),i&2){let e=h(4);Y(" ",e.emptyMessageLabel," ")}}function NGe(i,n){i&1&&ve(0)}function FGe(i,n){if(i&1&&E(0,NGe,1,0,"ng-container",32),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function LGe(i,n){if(i&1&&(_(0,"li",56),G(1,kGe,1,1)(2,FGe,1,1,"ng-container"),b()),i&2){let e=h().options,t=h(2);j(t.cx("emptyMessage")),f("pBind",t.ptm("emptyMessage"))("ngStyle",de(5,cO,e.itemSize+"px")),p(),H(!t.emptyTemplate&&!t._emptyTemplate?1:2)}}function MGe(i,n){if(i&1&&(_(0,"ul",53,15),E(2,OGe,2,2,"ng-template",54)(3,AGe,3,7,"li",55)(4,LGe,3,7,"li",55),b()),i&2){let e=n.$implicit,t=n.options,o=h(2);De(t.contentStyle),j(o.cn(o.cx("list"),t.contentStyleClass)),f("pBind",o.ptm("list")),ce("aria-label",o.listLabel),p(2),f("ngForOf",e),p(),f("ngIf",o.hasFilter()&&o.isEmpty()),p(),f("ngIf",!o.hasFilter()&&o.isEmpty())}}function BGe(i,n){i&1&&ve(0)}function VGe(i,n){if(i&1&&(_(0,"div"),Ht(1,1),E(2,BGe,1,0,"ng-container",32),b()),i&2){let e=h(2);p(2),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function UGe(i,n){if(i&1){let e=B();_(0,"div",38)(1,"span",39,6),A("focus",function(o){w(e);let r=h();return C(r.onFirstHiddenFocus(o))}),b(),E(3,tGe,1,0,"ng-container",32)(4,mGe,5,5,"div",33),_(5,"div",19),E(6,wGe,5,11,"p-scroller",40)(7,SGe,2,6,"ng-container",20)(8,MGe,5,9,"ng-template",null,7,ie),b(),E(10,VGe,3,1,"div",20),_(11,"span",39,8),A("focus",function(o){w(e);let r=h();return C(r.onLastHiddenFocus(o))}),b()()}if(i&2){let e=h();j(e.cn(e.cx("overlay"),e.panelStyleClass)),f("pBind",e.ptm("overlay"))("ngStyle",e.panelStyle),ce("id",e.id+"_list"),p(),f("pBind",e.ptm("firstHiddenFocusableEl")),ce("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),p(),f("ngIf",e.showHeader),p(),j(e.cx("listContainer")),Kt("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),f("pBind",e.ptm("listContainer")),p(),f("ngIf",e.virtualScroll),p(),f("ngIf",!e.virtualScroll),p(3),f("ngIf",e.footerFacet||e.footerTemplate||e._footerTemplate),p(),f("pBind",e.ptm("lastHiddenFocusableEl")),ce("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var jGe=`
    ${lZ}

    /* For PrimeNG */
   .p-multiselect.ng-invalid.ng-dirty {
        border-color: dt('multiselect.invalid.border.color');
    }
    p-multiSelect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multi-select.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder,
    p-multiselect.ng-invalid.ng-dirty .p-multiselect-label.p-placeholder {
        color: dt('multiselect.invalid.placeholder.color');
    }
`,GGe={root:({instance:i})=>({position:i.$appendTo()==="self"?"relative":void 0})},HGe={root:({instance:i})=>["p-multiselect p-component p-inputwrapper",{"p-multiselect p-component p-inputwrapper":!0,"p-multiselect-display-chip":i.display==="chip","p-disabled":i.$disabled(),"p-invalid":i.invalid(),"p-variant-filled":i.$variant()==="filled","p-focus":i.focused,"p-inputwrapper-filled":i.$filled(),"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-multiselect-open":i.overlayVisible,"p-multiselect-fluid":i.hasFluid,"p-multiselect-sm p-inputfield-sm":i.size()==="small","p-multiselect-lg p-inputfield-lg":i.size()==="large"}],labelContainer:"p-multiselect-label-container",label:({instance:i})=>({"p-multiselect-label":!0,"p-placeholder":i.label()===i.placeholder(),"p-multiselect-label-empty":!i.placeholder()&&!i.defaultLabel&&(!i.modelValue()||i.modelValue().length===0)}),chipItem:"p-multiselect-chip-item",pcChip:"p-multiselect-chip",chipIcon:"p-multiselect-chip-icon",dropdown:"p-multiselect-dropdown",loadingIcon:"p-multiselect-loading-icon",dropdownIcon:"p-multiselect-dropdown-icon",overlay:"p-multiselect-overlay p-component-overlay p-component",header:"p-multiselect-header",pcFilterContainer:"p-multiselect-filter-container",pcFilter:"p-multiselect-filter",listContainer:"p-multiselect-list-container",list:"p-multiselect-list",optionGroup:"p-multiselect-option-group",option:({instance:i})=>({"p-multiselect-option":!0,"p-multiselect-option-selected":i.selected&&i.highlightOnSelect,"p-disabled":i.disabled,"p-focus":i.focused}),emptyMessage:"p-multiselect-empty-message",clearIcon:"p-multiselect-clear-icon"},lO=(()=>{class i extends Ye{name="multiselect";style=jGe;classes=HGe;inlineStyles=GGe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var cZ=new he("MULTISELECT_INSTANCE"),zGe=new he("MULTISELECT_ITEM_INSTANCE"),WGe={provide:Bn,useExisting:Xt(()=>dO),multi:!0},$Ge=(()=>{class i extends Xe{$pcMultiSelectItem=z(zGe,{optional:!0,skipSelf:!0})??void 0;hostName="MultiSelect";getPTOptions(e){return this.ptm(e,{context:{selected:this.selected,focused:this.focused,disabled:this.disabled}})}option;selected;label;disabled;itemSize;focused;ariaPosInset;ariaSetSize;variant;template;checkIconTemplate;itemCheckboxIconTemplate;highlightOnSelect;onClick=new te;onMouseEnter=new te;_componentStyle=z(lO);onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option,selected:this.selected}),e.stopPropagation(),e.preventDefault()}onOptionMouseEnter(e){this.onMouseEnter.emit({originalEvent:e,option:this.option,selected:this.selected})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["li","pMultiSelectItem",""]],hostAttrs:["role","option"],hostVars:12,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onOptionClick(s)})("mouseenter",function(s){return o.onOptionMouseEnter(s)}),t&2&&(ce("aria-label",o.label)("aria-setsize",o.ariaSetSize)("aria-posinset",o.ariaPosInset)("aria-selected",o.selected)("data-p-focused",o.focused)("data-p-highlight",o.selected)("data-p-disabled",o.disabled)("aria-checked",o.selected),j(o.cx("option")),Kt("height",o.itemSize,"px"))},inputs:{option:"option",selected:[2,"selected","selected",Z],label:"label",disabled:[2,"disabled","disabled",Z],itemSize:[2,"itemSize","itemSize",Je],focused:[2,"focused","focused",Z],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",variant:"variant",template:"template",checkIconTemplate:"checkIconTemplate",itemCheckboxIconTemplate:"itemCheckboxIconTemplate",highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Z]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[Se([lO]),re],attrs:M8e,decls:4,vars:12,consts:[["icon",""],[3,"ngModel","binary","tabindex","variant","ariaLabel","pt"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&(_(0,"p-checkbox",1),E(1,G8e,3,0,"ng-container",2),b(),E(2,H8e,2,1,"span",2)(3,z8e,1,0,"ng-container",3)),t&2&&(f("ngModel",o.selected)("binary",!0)("tabindex",-1)("variant",o.variant)("ariaLabel",o.label)("pt",o.getPTOptions("pcOptionCheckbox")),p(),f("ngIf",o.itemCheckboxIconTemplate),p(),f("ngIf",!o.template),p(),f("ngTemplateOutlet",o.template)("ngTemplateOutletContext",de(10,dZ,o.option)))},dependencies:[Qe,pt,gt,or,rs,_i,Zi,Oe],encapsulation:2})}return i})(),dO=(()=>{class i extends Gr{zone;filterService;overlayService;id;ariaLabel;styleClass;panelStyle;panelStyleClass;inputId;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible=!1;tabindex=0;dataKey;ariaLabelledBy;set displaySelectedLabel(e){this._displaySelectedLabel=e}get displaySelectedLabel(){return this._displaySelectedLabel}set maxSelectedLabels(e){this._maxSelectedLabels=e||0}get maxSelectedLabels(){return this._maxSelectedLabels}selectionLimit;selectedItemsLabel;showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;chipIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;loading=!1;virtualScrollItemSize;loadingIcon;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!1;display="comma";autocomplete="off";showClear=!1;autofocus;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}get options(){return this._options()}set options(e){py(this._options(),e)||this._options.set(e||[])}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}focusOnHover=!0;filterFields;selectOnFocus=!1;autoOptionFocus=!1;highlightOnSelect=!0;size=qe();variant=qe();fluid=qe(void 0,{transform:Z});appendTo=qe(void 0);onChange=new te;onFilter=new te;onFocus=new te;onBlur=new te;onClick=new te;onClear=new te;onPanelShow=new te;onPanelHide=new te;onLazyLoad=new te;onRemove=new te;onSelectAllChange=new te;overlayViewChild;filterInputChild;focusInputViewChild;itemsViewChild;scroller;lastHiddenFocusableElementOnOverlay;firstHiddenFocusableElementOnOverlay;headerCheckboxViewChild;footerFacet;headerFacet;_componentStyle=z(lO);bindDirectiveInstance=z(pe,{self:!0});searchValue;searchTimeout;_selectAll=null;_placeholder=lt(void 0);_disableTooltip=!1;value;_filteredOptions;focus;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;loadingIconTemplate;filterIconTemplate;removeTokenIconTemplate;chipIconTemplate;clearIconTemplate;dropdownIconTemplate;itemCheckboxIconTemplate;headerCheckboxIconTemplate;templates;_itemTemplate;_groupTemplate;_loaderTemplate;_headerTemplate;_filterTemplate;_footerTemplate;_emptyFilterTemplate;_emptyTemplate;_selectedItemsTemplate;_loadingIconTemplate;_filterIconTemplate;_removeTokenIconTemplate;_chipIconTemplate;_clearIconTemplate;_dropdownIconTemplate;_itemCheckboxIconTemplate;_headerCheckboxIconTemplate;$variant=ct(()=>this.variant()||this.config.inputStyle()||this.config.inputVariant());$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());$pcMultiSelect=z(cZ,{optional:!0,skipSelf:!0})??void 0;pcFluid=z(al,{optional:!0,host:!0,skipSelf:!0});get hasFluid(){return this.fluid()??!!this.pcFluid}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selectedItems":case"selecteditems":this._selectedItemsTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"filter":this._filterTemplate=e.template;break;case"emptyfilter":this._emptyFilterTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"headercheckboxicon":this._headerCheckboxIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"filtericon":this._filterIconTemplate=e.template;break;case"removetokenicon":this._removeTokenIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;case"itemcheckboxicon":this._itemCheckboxIconTemplate=e.template;break;case"chipicon":this._chipIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}headerCheckboxFocus;filterOptions;preventModelTouched;focused=!1;itemsWrapper;_displaySelectedLabel=!0;_maxSelectedLabels=3;modelValue=lt(null);_filterValue=lt(null);_options=lt([]);startRangeIndex=lt(-1);focusedOptionIndex=lt(-1);selectedOptions;clickInProgress=!1;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(xi.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(xi.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.modelValue()!==""&&qt(this.modelValue())&&this.showClear&&!this.$disabled()&&!this.readonly&&this.$filled()}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}get listLabel(){return this.config.getTranslation(xi.ARIA).listLabel}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}visibleOptions=ct(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),t=uy(e)&&wi.isObject(e[0]);if(this._filterValue()){let o;if(t?o=this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):o=e.filter(r=>r.toString().toLocaleLowerCase().includes(this._filterValue().toLocaleLowerCase())),this.group){let r=this.options||[],s=[];return r.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(d=>o.includes(d));c.length>0&&s.push(Fe(ee({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return o}return e});label=ct(()=>{let e,t=this.modelValue();if(t&&t?.length&&this.displaySelectedLabel){if(qt(this.maxSelectedLabels)&&t?.length>(this.maxSelectedLabels||0))return this.getSelectedItemsLabel();e="";for(let o=0;o<t.length;o++)o!==0&&(e+=", "),e+=this.getLabelByValue(t[o])}else e=this.placeholder()||"";return e});chipSelectedItems=ct(()=>qt(this.maxSelectedLabels)&&this.modelValue()&&this.modelValue()?.length>(this.maxSelectedLabels||0)?this.modelValue()?.slice(0,this.maxSelectedLabels):this.modelValue());constructor(e,t,o){super(),this.zone=e,this.filterService=t,this.overlayService=o,In(()=>{let r=this.modelValue(),s=this.getAllVisibleAndNonVisibleOptions();s&&qt(s)&&(this.optionValue&&this.optionLabel&&r?this.selectedOptions=s.filter(a=>r.includes(a[this.optionLabel])||r.includes(a[this.optionValue])):this.selectedOptions=r,this.cd.markForCheck())})}onInit(){this.id=this.id||Vt("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}maxSelectionLimitReached(){return this.selectionLimit&&this.modelValue()&&this.modelValue().length===this.selectionLimit}onAfterViewInit(){this.overlayVisible&&this.show()}onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"])),this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}flatOptions(e){return(e||[]).reduce((t,o,r)=>{t.push({optionGroup:o,group:!0,index:r});let s=this.getOptionGroupChildren(o);return s&&s.forEach(a=>t.push(a)),t},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()){this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex());let e=this.getOptionValue(this.visibleOptions()[this.focusedOptionIndex()]);this.onOptionSelect({originalEvent:null,option:[e]})}}updateModel(e,t){this.value=e,this.onModelChange(e),this.writeValue(e)}onInputClick(e){e.stopPropagation(),e.preventDefault(),this.focusedOptionIndex.set(-1)}onOptionSelect(e,t=!1,o=-1){let{originalEvent:r,option:s}=e;if(this.$disabled()||this.isOptionDisabled(s))return;let a=this.isSelected(s),l=[];a?l=this.modelValue().filter(c=>!Kn(c,this.getOptionValue(s),this.equalityKey()||"")):l=[...this.modelValue()||[],this.getOptionValue(s)],this.updateModel(l,r),o!==-1&&this.focusedOptionIndex.set(o),t&&Di(this.focusInputViewChild?.nativeElement),this.onChange.emit({originalEvent:e,value:l,itemValue:s})}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}onOptionSelectRange(e,t=-1,o=-1){if(t===-1&&(t=this.findNearestSelectedOptionIndex(o,!0)),o===-1&&(o=this.findNearestSelectedOptionIndex(t)),t!==-1&&o!==-1){let r=Math.min(t,o),s=Math.max(t,o),a=this.visibleOptions().slice(r,s+1).filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(a,e)}}searchFields(){return(this.filterBy||this.optionLabel||"label").split(",")}findNearestSelectedOptionIndex(e,t=!1){let o=-1;return this.hasSelectedOption()&&(t?(o=this.findPrevSelectedOptionIndex(e),o=o===-1?this.findNextSelectedOptionIndex(e):o):(o=this.findNextSelectedOptionIndex(e),o=o===-1?this.findPrevSelectedOptionIndex(e):o)),o>-1?o:e}findPrevSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e>0?ss(this.visibleOptions().slice(0,e),o=>this.isValidSelectedOption(o)):-1;return t>-1?t:-1}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextSelectedOptionIndex(e){let t=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidSelectedOption(o)):-1;return t>-1?t+e+1:-1}equalityKey(){return this.optionValue?null:this.dataKey}hasSelectedOption(){return qt(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionGroup(e){return e&&(this.group||this.optionGroupLabel)&&e.optionGroup&&e.group}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.maxSelectionLimitReached()&&!this.isSelected(e)?!0:this.optionDisabled?zi(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}isSelected(e){let t=this.getOptionValue(e);return(this.modelValue()||[]).some(o=>Kn(o,t,this.equalityKey()||""))}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue?.toLocaleLowerCase(this.filterLocale))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}getOptionIndex(e,t){return this.virtualScrollerDisabled?e:t&&t.getItemOptions(e).index}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(t=>this.isOptionGroup(t)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}getLabelByValue(e){let o=(this.group?this.flatOptions(this._options()):this._options()||[]).find(r=>!this.isOptionGroup(r)&&Kn(this.getOptionValue(r),e,this.equalityKey()||""));return o?this.getOptionLabel(o):null}getSelectedItemsLabel(){let e=/{(.*?)}/,t=this.selectedItemsLabel?this.selectedItemsLabel:this.config.getTranslation(xi.SELECTION_MESSAGE);return e.test(t)?t.replace(t.match(e)[0],this.modelValue().length+""):t}getOptionLabel(e){return this.optionLabel?zi(e,this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?zi(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getOptionGroupLabel(e){return this.optionGroupLabel?zi(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return e?this.optionGroupChildren?zi(e,this.optionGroupChildren):e.items:[]}onKeyDown(e){if(this.$disabled()){e.preventDefault();return}let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(e.code==="KeyA"&&t){let o=this.visibleOptions().filter(r=>this.isValidOption(r)).map(r=>this.getOptionValue(r));this.updateModel(o,e),e.preventDefault();break}!t&&hd(e.key)&&(!this.overlayVisible&&this.show(),this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onArrowLeftKey(e,t=!1){t&&this.focusedOptionIndex.set(-1)}onArrowDownKey(e){let t=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),t),this.changeFocusedOptionIndex(e,t),!this.overlayVisible&&this.show(),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e,t=!1){if(e.altKey&&!t)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let o=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();e.shiftKey&&this.onOptionSelectRange(e,o,this.startRangeIndex()),this.changeFocusedOptionIndex(e,o),!this.overlayVisible&&this.show(),e.preventDefault()}e.stopPropagation()}onHomeKey(e,t=!1){let{currentTarget:o}=e;if(t){let r=o.value.length;o.setSelectionRange(0,e.shiftKey?r:0),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,s=this.findFirstOptionIndex();e.shiftKey&&r&&this.onOptionSelectRange(e,s,this.startRangeIndex()),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onEndKey(e,t=!1){let{currentTarget:o}=e;if(t){let r=o.value.length;o.setSelectionRange(e.shiftKey?0:r,r),this.focusedOptionIndex.set(-1)}else{let r=e.metaKey||e.ctrlKey,s=this.findLastFocusedOptionIndex();e.shiftKey&&r&&this.onOptionSelectRange(e,this.startRangeIndex(),s),this.changeFocusedOptionIndex(e,s),!this.overlayVisible&&this.show()}e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.overlayVisible?this.focusedOptionIndex()!==-1&&(e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect({originalEvent:e,option:this.visibleOptions()[this.focusedOptionIndex()]})):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&(this.hide(!0),e.stopPropagation(),e.preventDefault())}onTabKey(e,t=!1){if(!t)if(this.overlayVisible&&this.hasFocusableElements())Di(e.shiftKey?this.lastHiddenFocusableElementOnOverlay?.nativeElement:this.firstHiddenFocusableElementOnOverlay?.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1){let o=this.visibleOptions()[this.focusedOptionIndex()];!this.isSelected(o)&&this.onOptionSelect({originalEvent:e,option:o})}this.overlayVisible&&this.hide(this.filter)}}onShiftKey(){this.startRangeIndex.set(this.focusedOptionIndex())}onContainerClick(e){if(!(this.$disabled()||this.loading||this.readonly||e.target?.isSameNode?.(this.focusInputViewChild?.nativeElement))){if(!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target)){if(this.clickInProgress)return;this.clickInProgress=!0,setTimeout(()=>{this.clickInProgress=!1},150),this.overlayVisible?this.hide(!0):this.show(!0)}this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),this.onClick.emit(e),this.cd.detectChanges()}}onFirstHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?mp(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Di(t)}onInputFocus(e){this.focused=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(t),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit({originalEvent:e})}onInputBlur(e){this.focused=!1,this.onBlur.emit({originalEvent:e}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onFilterInputChange(e){let t=e.target.value;this._filterValue.set(t),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller?.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild?.alignOverlay()})}onLastHiddenFocus(e){let t=e.relatedTarget===this.focusInputViewChild?.nativeElement?Lg(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Di(t)}onOptionMouseEnter(e,t){this.focusOnHover&&this.changeFocusedOptionIndex(e,t)}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onToggleAll(e){if(!(this.$disabled()||this.readonly)){if(this.selectAll!=null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let t=this.getAllVisibleAndNonVisibleOptions().filter(l=>this.isSelected(l)&&(this.optionDisabled?zi(l,this.optionDisabled):l&&l.disabled!==void 0?l.disabled:!1)),o=this.allSelected()?this.visibleOptions().filter(l=>!this.isValidOption(l)&&this.isSelected(l)):this.visibleOptions().filter(l=>this.isSelected(l)||this.isValidOption(l)),s=[...this.filter&&!this.allSelected()?this.getAllVisibleAndNonVisibleOptions().filter(l=>this.isSelected(l)&&this.isValidOption(l)):[],...t,...o].map(l=>this.getOptionValue(l)),a=[...new Set(s)];this.updateModel(a,e),(!a.length||a.length===this.getAllVisibleAndNonVisibleOptions().length)&&this.onSelectAllChange.emit({originalEvent:e,checked:!!a.length})}this.partialSelected()&&(this.selectedOptions=[],this.cd.markForCheck()),this.onChange.emit({originalEvent:e,value:this.value}),st.focus(this.headerCheckboxViewChild?.inputViewChild?.nativeElement),this.headerCheckboxFocus=!0,e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()}}changeFocusedOptionIndex(e,t){this.focusedOptionIndex()!==t&&(this.focusedOptionIndex.set(t),this.scrollInView())}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let o=Et(this.itemsViewChild.nativeElement,`li[id="${t}"]`);o?o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}allSelected(){return this.selectAll!==null?this.selectAll:qt(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}partialSelected(){return this.selectedOptions&&this.selectedOptions.length>0&&this.selectedOptions.length<(this.options?.length||0)}show(e){this.overlayVisible=!0;let t=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.findSelectedOptionIndex();this.focusedOptionIndex.set(t),e&&Di(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.overlayOptions?.mode==="modal"&&yp(),e&&Di(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=Et(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-multiselect-list-container"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let t=this.modelValue()?this.focusedOptionIndex():-1;t!==-1&&this.scroller?.scrollToIndex(t)}else{let t=Et(this.itemsWrapper,'[data-p-highlight="true"]');t&&t.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onPanelHide.emit(e))}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue.set(null),this._filteredOptions=null}onOverlayHide(e){this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter()}close(e){this.hide(),e.preventDefault(),e.stopPropagation()}clear(e){this.value=[],this.updateModel(null,e),this.selectedOptions=[],this.onClear.emit(),this._disableTooltip=!0,e.stopPropagation()}labelContainerMouseLeave(){this._disableTooltip&&(this._disableTooltip=!1)}removeOption(e,t){let o=this.modelValue().filter(r=>!Kn(r,e,this.equalityKey()||""));this.updateModel(o,t),this.onChange.emit({originalEvent:t,value:o,itemValue:e}),this.onRemove.emit({newValue:o,removed:e}),t&&t.stopPropagation()}findNextOptionIndex(e){let t=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(o=>this.isValidOption(o)):-1;return t>-1?t+e+1:e}findPrevOptionIndex(e){let t=e>0?ss(this.visibleOptions().slice(0,e),o=>this.isValidOption(o)):-1;return t>-1?t:e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?ss(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastOptionIndex(){return ss(this.visibleOptions(),e=>this.isValidOption(e))}searchOptions(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedOptionIndex()!==-1?(o=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)),o=o===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(s=>this.isOptionMatched(s)):o+this.focusedOptionIndex()):o=this.visibleOptions().findIndex(s=>this.isOptionMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedOptionIndex()===-1&&(o=this.findFirstFocusedOptionIndex()),o!==-1&&this.changeFocusedOptionIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}hasFocusableElements(){return fp(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}writeControlValue(e,t){this.value=e,t(e),this.cd.markForCheck()}getHeaderCheckboxPTOptions(e){return this.ptm(e,{context:{selected:this.allSelected()}})}getPTOptions(e,t,o,r){return this.ptm(r,{context:{selected:this.isSelected(e),focused:this.focusedOptionIndex()===this.getOptionIndex(o,t),disabled:this.isOptionDisabled(e)}})}static \u0275fac=function(t){return new(t||i)(x(Ft),x(fd),x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-multiSelect"],["p-multiselect"],["p-multi-select"]],contentQueries:function(t,o,r){if(t&1&&(se(r,md,5),se(r,Bg,5),se(r,W8e,4),se(r,$8e,4),se(r,K8e,4),se(r,q8e,4),se(r,J8e,4),se(r,Q8e,4),se(r,Y8e,4),se(r,X8e,4),se(r,Z8e,4),se(r,e9e,4),se(r,t9e,4),se(r,i9e,4),se(r,n9e,4),se(r,o9e,4),se(r,r9e,4),se(r,s9e,4),se(r,a9e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.footerFacet=s.first),W(s=$())&&(o.headerFacet=s.first),W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.groupTemplate=s.first),W(s=$())&&(o.loaderTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.filterTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.emptyFilterTemplate=s.first),W(s=$())&&(o.emptyTemplate=s.first),W(s=$())&&(o.selectedItemsTemplate=s.first),W(s=$())&&(o.loadingIconTemplate=s.first),W(s=$())&&(o.filterIconTemplate=s.first),W(s=$())&&(o.removeTokenIconTemplate=s.first),W(s=$())&&(o.chipIconTemplate=s.first),W(s=$())&&(o.clearIconTemplate=s.first),W(s=$())&&(o.dropdownIconTemplate=s.first),W(s=$())&&(o.itemCheckboxIconTemplate=s.first),W(s=$())&&(o.headerCheckboxIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(l9e,5),_e(c9e,5),_e(d9e,5),_e(p9e,5),_e(u9e,5),_e(h9e,5),_e(f9e,5),_e(m9e,5)),t&2){let r;W(r=$())&&(o.overlayViewChild=r.first),W(r=$())&&(o.filterInputChild=r.first),W(r=$())&&(o.focusInputViewChild=r.first),W(r=$())&&(o.itemsViewChild=r.first),W(r=$())&&(o.scroller=r.first),W(r=$())&&(o.lastHiddenFocusableElementOnOverlay=r.first),W(r=$())&&(o.firstHiddenFocusableElementOnOverlay=r.first),W(r=$())&&(o.headerCheckboxViewChild=r.first)}},hostVars:5,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onContainerClick(s)}),t&2&&(ce("id",o.id),De(o.sx("root")),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{id:"id",ariaLabel:"ariaLabel",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",readonly:[2,"readonly","readonly",Z],group:[2,"group","group",Z],filter:[2,"filter","filter",Z],filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:[2,"overlayVisible","overlayVisible",Z],tabindex:[2,"tabindex","tabindex",Je],dataKey:"dataKey",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectionLimit:[2,"selectionLimit","selectionLimit",Je],selectedItemsLabel:"selectedItemsLabel",showToggleAll:[2,"showToggleAll","showToggleAll",Z],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",Z],dropdownIcon:"dropdownIcon",chipIcon:"chipIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:[2,"showHeader","showHeader",Z],filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",Z],virtualScroll:[2,"virtualScroll","virtualScroll",Z],loading:[2,"loading","loading",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],loadingIcon:"loadingIcon",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:[2,"autofocusFilter","autofocusFilter",Z],display:"display",autocomplete:"autocomplete",showClear:[2,"showClear","showClear",Z],autofocus:[2,"autofocus","autofocus",Z],placeholder:"placeholder",options:"options",filterValue:"filterValue",selectAll:"selectAll",focusOnHover:[2,"focusOnHover","focusOnHover",Z],filterFields:"filterFields",selectOnFocus:[2,"selectOnFocus","selectOnFocus",Z],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",Z],highlightOnSelect:[2,"highlightOnSelect","highlightOnSelect",Z],size:[1,"size"],variant:[1,"variant"],fluid:[1,"fluid"],appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove",onSelectAllChange:"onSelectAllChange"},features:[Se([WGe,lO,{provide:cZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:_9e,decls:16,vars:46,consts:[["focusInput",""],["elseBlock",""],["overlay",""],["content",""],["token",""],["removeicon",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["headerCheckbox",""],["icon",""],["filterInput",""],["scroller",""],["loader",""],["items",""],[1,"p-hidden-accessible",3,"pBind"],["role","combobox",3,"focus","blur","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","pBind"],[3,"mouseleave","pBind","pTooltip","tooltipDisabled","tooltipPosition","positionStyle","tooltipStyleClass"],[3,"pBind"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","hostAttrSelector","visible","options","target","appendTo","pt"],[3,"pBind","class"],[3,"pBind","class",4,"ngFor","ngForOf"],[3,"onRemove","pt","label","removable","removeIcon"],[3,"class","pBind","click",4,"ngIf"],[3,"click","pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times",3,"pBind","class","click",4,"ngIf"],[3,"pBind","class","click",4,"ngIf"],["data-p-icon","times",3,"click","pBind"],[4,"ngTemplateOutlet"],[3,"pBind","class",4,"ngIf"],[3,"pBind","class","ngClass",4,"ngIf"],["data-p-icon","chevron-down",3,"pBind","class",4,"ngIf"],[3,"pBind","ngClass"],["data-p-icon","chevron-down",3,"pBind"],[3,"pBind","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus","pBind"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[3,"pt","ngModel","ariaLabel","binary","variant","disabled","onChange",4,"ngIf"],[3,"pt","class",4,"ngIf"],[3,"onChange","pt","ngModel","ariaLabel","binary","variant","disabled"],["data-p-icon","check",3,"class","pBind",4,"ngIf"],["data-p-icon","check",3,"pBind"],[3,"pt"],["pInputText","","type","text","role","searchbox",3,"input","keydown","click","blur","pt","variant","value"],["data-p-icon","search",3,"pBind",4,"ngIf"],["class","p-multiselect-filter-icon",3,"pBind",4,"ngIf"],["data-p-icon","search",3,"pBind"],[1,"p-multiselect-filter-icon",3,"pBind"],[3,"onLazyLoad","items","itemSize","autoSize","tabindex","lazy","options"],["role","listbox","aria-multiselectable","true",3,"pBind"],["ngFor","",3,"ngForOf"],["role","option",3,"pBind","class","ngStyle",4,"ngIf"],["role","option",3,"pBind","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["pMultiSelectItem","","pRipple","",3,"onClick","onMouseEnter","pBind","id","option","selected","label","disabled","template","itemCheckboxIconTemplate","itemSize","focused","ariaPosInset","ariaSetSize","variant","highlightOnSelect","pt"]],template:function(t,o){if(t&1){let r=B();ci(g9e),_(0,"div",16)(1,"input",17,0),A("focus",function(a){return w(r),C(o.onInputFocus(a))})("blur",function(a){return w(r),C(o.onInputBlur(a))})("keydown",function(a){return w(r),C(o.onKeyDown(a))}),b()(),_(3,"div",18),A("mouseleave",function(){return w(r),C(o.labelContainerMouseLeave())}),_(4,"div",19),E(5,k9e,3,2,"ng-container",20)(6,L9e,3,6,"ng-container",20),b()(),E(7,j9e,3,2,"ng-container",20),_(8,"div",19),E(9,K9e,3,2,"ng-container",21)(10,eGe,2,2,"ng-template",null,1,ie),b(),_(12,"p-overlay",22,2),ke("visibleChange",function(a){return w(r),Ne(o.overlayVisible,a)||(o.overlayVisible=a),C(a)}),A("onAnimationStart",function(a){return w(r),C(o.onOverlayAnimationStart(a))})("onHide",function(a){return w(r),C(o.onOverlayHide(a))}),E(14,UGe,13,23,"ng-template",null,3,ie),b()}if(t&2){let r=Ze(11);f("pBind",o.ptm("hiddenInputContainer")),ce("data-p-hidden-accessible",!0),p(),f("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass)("pAutoFocus",o.autofocus)("pBind",o.ptm("hiddenInput")),ce("aria-disabled",o.$disabled())("id",o.inputId)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",o.overlayVisible??!1)("aria-controls",o.overlayVisible?o.id+"_list":null)("tabindex",o.$disabled()?-1:o.tabindex)("aria-activedescendant",o.focused?o.focusedOptionId:void 0)("value",o.modelValue())("name",o.name())("required",o.required()?"":void 0)("disabled",o.$disabled()?"":void 0),p(2),j(o.cx("labelContainer")),f("pBind",o.ptm("labelContainer"))("pTooltip",o.tooltip)("tooltipDisabled",o._disableTooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),p(),j(o.cx("label")),f("pBind",o.ptm("label")),p(),f("ngIf",!o.selectedItemsTemplate&&!o._selectedItemsTemplate),p(),f("ngIf",o.selectedItemsTemplate||o._selectedItemsTemplate),p(),f("ngIf",o.isVisibleClearIcon),p(),j(o.cx("dropdown")),f("pBind",o.ptm("dropdown")),p(),f("ngIf",o.loading)("ngIfElse",r),p(3),f("hostAttrSelector",o.$attrSelector),Ae("visible",o.overlayVisible),f("options",o.overlayOptions)("target","@parent")("appendTo",o.$appendTo())("pt",o.ptm("pcOverlay"))}},dependencies:[Qe,$t,Mn,pt,gt,ft,$Ge,eI,Oe,cn,Fa,fr,gd,Nu,ks,ll,Vu,Uu,si,aZ,or,rs,_i,Zi,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),t3=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[dO,Oe,Oe]})}return i})();var hZ=`
    .p-fileupload input[type='file'] {
        display: none;
    }

    .p-fileupload-advanced {
        border: 1px solid dt('fileupload.border.color');
        border-radius: dt('fileupload.border.radius');
        background: dt('fileupload.background');
        color: dt('fileupload.color');
    }

    .p-fileupload-header {
        display: flex;
        align-items: center;
        padding: dt('fileupload.header.padding');
        background: dt('fileupload.header.background');
        color: dt('fileupload.header.color');
        border-style: solid;
        border-width: dt('fileupload.header.border.width');
        border-color: dt('fileupload.header.border.color');
        border-radius: dt('fileupload.header.border.radius');
        gap: dt('fileupload.header.gap');
    }

    .p-fileupload-content {
        border: 1px solid transparent;
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.content.gap');
        transition: border-color dt('fileupload.transition.duration');
        padding: dt('fileupload.content.padding');
    }

    .p-fileupload-content .p-progressbar {
        width: 100%;
        height: dt('fileupload.progressbar.height');
    }

    .p-fileupload-file-list {
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.filelist.gap');
    }

    .p-fileupload-file {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        padding: dt('fileupload.file.padding');
        border-block-end: 1px solid dt('fileupload.file.border.color');
        gap: dt('fileupload.file.gap');
    }

    .p-fileupload-file:last-child {
        border-block-end: 0;
    }

    .p-fileupload-file-info {
        display: flex;
        flex-direction: column;
        gap: dt('fileupload.file.info.gap');
    }

    .p-fileupload-file-thumbnail {
        flex-shrink: 0;
    }

    .p-fileupload-file-actions {
        margin-inline-start: auto;
    }

    .p-fileupload-highlight {
        border: 1px dashed dt('fileupload.content.highlight.border.color');
    }

    .p-fileupload-basic .p-message {
        margin-block-end: dt('fileupload.basic.gap');
    }

    .p-fileupload-basic-content {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: dt('fileupload.basic.gap');
    }
`;var qGe=["pFileContent",""],JGe=(i,n,e)=>({class:i,file:n,index:e}),QGe=(i,n)=>(n==null?null:n.name)+"-"+i;function YGe(i,n){}function XGe(i,n){i&1&&E(0,YGe,0,0,"ng-template")}function ZGe(i,n){if(i&1&&E(0,XGe,1,0,null,7),i&2){let e=h().class,t=h(),o=t.$implicit,r=t.$index,s=h();f("ngTemplateOutlet",s.fileRemoveIconTemplate())("ngTemplateOutletContext",ga(2,JGe,e,o,r))}}function e7e(i,n){if(i&1&&(xe(),N(0,"svg",8)),i&2){let e=h().class;j(e),ce("aria-hidden",!0)}}function t7e(i,n){if(i&1&&G(0,ZGe,1,6)(1,e7e,1,3,":svg:svg",6),i&2){let e=h(2);H(e.fileRemoveIconTemplate()?0:1)}}function i7e(i,n){if(i&1){let e=B();_(0,"div",2),N(1,"img",3),_(2,"div",2)(3,"div",2),R(4),b(),_(5,"span",2),R(6),b()(),N(7,"p-badge",4),_(8,"div",2)(9,"p-button",5),A("onClick",function(o){let r=w(e).$index,s=h();return C(s.onRemoveClick(o,r))}),E(10,t7e,2,1,"ng-template",null,0,ie),b()()()}if(i&2){let e=n.$implicit,t=h();j(t.cx("file")),f("pBind",t.$pcFileUpload.ptm("file")),p(),j(t.cx("fileThumbnail")),f("src",e.objectURL,Cr)("width",t.previewWidth())("pBind",t.$pcFileUpload.ptm("fileThumbnail")),ce("alt",e.name),p(),j(t.cx("fileInfo")),f("pBind",t.$pcFileUpload.ptm("fileInfo")),p(),j(t.cx("fileName")),f("pBind",t.$pcFileUpload.ptm("fileName")),p(),Q(e.name),p(),j(t.cx("fileSize")),f("pBind",t.$pcFileUpload.ptm("fileSize")),p(),Q(t.formatSize(e.size)),p(),j(t.cx("pcFileBadge")),f("value",t.badgeValue())("severity",t.badgeSeverity())("pt",t.$pcFileUpload.ptm("pcFileBadge")),p(),j(t.cx("fileActions")),f("pBind",t.$pcFileUpload.ptm("fileActions")),p(),f("styleClass",t.cx("pcFileRemoveButton"))("pt",t.$pcFileUpload.ptm("pcFileRemoveButton"))}}var n7e=["file"],o7e=["header"],fZ=["content"],r7e=["toolbar"],s7e=["chooseicon"],a7e=["filelabel"],l7e=["uploadicon"],c7e=["cancelicon"],d7e=["empty"],p7e=["advancedfileinput"],u7e=["basicfileinput"],h7e=(i,n,e,t,o)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,uploadCallback:o}),f7e=(i,n,e,t,o,r,s,a)=>({$implicit:i,uploadedFiles:n,chooseCallback:e,clearCallback:t,removeUploadedFileCallback:o,removeFileCallback:r,progress:s,messages:a}),m7e=i=>({$implicit:i});function g7e(i,n){if(i&1&&N(0,"span",8),i&2){let e,t=h(4);j(t.chooseIcon),f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),ce("aria-label",!0)}}function _7e(i,n){if(i&1&&(xe(),N(0,"svg",17)),i&2){let e,t=h(5);f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),ce("aria-label",!0)}}function b7e(i,n){}function y7e(i,n){i&1&&E(0,b7e,0,0,"ng-template")}function v7e(i,n){if(i&1&&(_(0,"span",8),E(1,y7e,1,0,null,11),b()),i&2){let e,t=h(5);f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),ce("aria-label",!0),p(),f("ngTemplateOutlet",t.chooseIconTemplate||t._chooseIconTemplate)}}function w7e(i,n){if(i&1&&(we(0),E(1,_7e,1,2,"svg",15)(2,v7e,2,3,"span",16),Ce()),i&2){let e=h(4);p(),f("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),p(),f("ngIf",e.chooseIconTemplate||e._chooseIconTemplate)}}function C7e(i,n){if(i&1&&E(0,g7e,1,4,"span",5)(1,w7e,3,2,"ng-container",9),i&2){let e=h(3);f("ngIf",e.chooseIcon),p(),f("ngIf",!e.chooseIcon)}}function S7e(i,n){if(i&1&&N(0,"span",20),i&2){let e,t=h(5);f("ngClass",t.uploadIcon)("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon),ce("aria-hidden",!0)}}function I7e(i,n){if(i&1&&(xe(),N(0,"svg",22)),i&2){let e,t=h(6);f("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon)}}function E7e(i,n){}function x7e(i,n){i&1&&E(0,E7e,0,0,"ng-template")}function T7e(i,n){if(i&1&&(_(0,"span",8),E(1,x7e,1,0,null,11),b()),i&2){let e,t=h(6);f("pBind",(e=t.ptm("pcUploadButton"))==null?null:e.icon),ce("aria-hidden",!0),p(),f("ngTemplateOutlet",t.uploadIconTemplate||t._uploadIconTemplate)}}function O7e(i,n){if(i&1&&(we(0),E(1,I7e,1,1,"svg",21)(2,T7e,2,3,"span",16),Ce()),i&2){let e=h(5);p(),f("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),p(),f("ngIf",e.uploadIconTemplate||e._uploadIconTemplate)}}function R7e(i,n){if(i&1&&E(0,S7e,1,3,"span",19)(1,O7e,3,2,"ng-container",9),i&2){let e=h(4);f("ngIf",e.uploadIcon),p(),f("ngIf",!e.uploadIcon)}}function D7e(i,n){if(i&1){let e=B();_(0,"p-button",18),A("onClick",function(){w(e);let o=h(3);return C(o.upload())}),E(1,R7e,2,2,"ng-template",null,2,ie),b()}if(i&2){let e=h(3);f("label",e.uploadButtonLabel)("disabled",!e.hasFiles()||e.isFileLimitExceeded())("styleClass",e.cn(e.cx("pcUploadButton"),e.uploadStyleClass))("buttonProps",e.uploadButtonProps)("pt",e.ptm("pcUploadButton"))}}function P7e(i,n){if(i&1&&N(0,"span",24),i&2){let e=h(5);f("ngClass",e.cancelIcon)}}function A7e(i,n){i&1&&(xe(),N(0,"svg",26)),i&2&&ce("aria-hidden",!0)}function k7e(i,n){}function N7e(i,n){i&1&&E(0,k7e,0,0,"ng-template")}function F7e(i,n){if(i&1&&(_(0,"span"),E(1,N7e,1,0,null,11),b()),i&2){let e=h(6);ce("aria-hidden",!0),p(),f("ngTemplateOutlet",e.cancelIconTemplate||e._cancelIconTemplate)}}function L7e(i,n){if(i&1&&(we(0),E(1,A7e,1,1,"svg",25)(2,F7e,2,2,"span",9),Ce()),i&2){let e=h(5);p(),f("ngIf",!e.cancelIconTemplate&&!e._cancelIconTemplate),p(),f("ngIf",e.cancelIconTemplate||e._cancelIconTemplate)}}function M7e(i,n){if(i&1&&E(0,P7e,1,1,"span",23)(1,L7e,3,2,"ng-container",9),i&2){let e=h(4);f("ngIf",e.cancelIcon),p(),f("ngIf",!e.cancelIcon)}}function B7e(i,n){if(i&1){let e=B();_(0,"p-button",18),A("onClick",function(){w(e);let o=h(3);return C(o.clear())}),E(1,M7e,2,2,"ng-template",null,2,ie),b()}if(i&2){let e=h(3);f("label",e.cancelButtonLabel)("disabled",!e.hasFiles()||e.uploading)("styleClass",e.cn(e.cx("pcCancelButton"),e.cancelStyleClass))("buttonProps",e.cancelButtonProps)("pt",e.ptm("pcCancelButton"))}}function V7e(i,n){if(i&1){let e=B();we(0),_(1,"p-button",13),A("focus",function(){w(e);let o=h(2);return C(o.onFocus())})("blur",function(){w(e);let o=h(2);return C(o.onBlur())})("onClick",function(){w(e);let o=h(2);return C(o.choose())})("keydown.enter",function(){w(e);let o=h(2);return C(o.choose())}),_(2,"input",7,0),A("change",function(o){w(e);let r=h(2);return C(r.onFileSelect(o))}),b(),E(4,C7e,2,2,"ng-template",null,2,ie),b(),E(6,D7e,3,5,"p-button",14)(7,B7e,3,5,"p-button",14),Ce()}if(i&2){let e=h(2);p(),f("styleClass",e.cn(e.cx("pcChooseButton"),e.chooseStyleClass))("disabled",e.disabled||e.isChooseDisabled())("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps)("pt",e.ptm("pcChooseButton")),p(),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled())("pBind",e.ptm("input")),ce("aria-label",e.browseFilesLabel)("title",""),p(4),f("ngIf",!e.auto&&e.showUploadButton),p(),f("ngIf",!e.auto&&e.showCancelButton)}}function U7e(i,n){i&1&&ve(0)}function j7e(i,n){i&1&&ve(0)}function G7e(i,n){i&1&&ve(0)}function H7e(i,n){if(i&1&&E(0,G7e,1,0,"ng-container",10),i&2){let e=h(2);f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",b2(2,f7e,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.removeUploadedFile.bind(e),e.remove.bind(e),e.progress,e.msgs))}}function z7e(i,n){if(i&1&&N(0,"p-progressbar",30),i&2){let e=h(3);f("value",e.progress)("showValue",!1)("pt",e.ptm("pcProgressBar"))}}function W7e(i,n){if(i&1&&N(0,"p-message",28),i&2){let e=n.$implicit,t=h(3);f("severity",e.severity)("text",e.text)("pt",t.ptm("pcMessage"))}}function $7e(i,n){}function K7e(i,n){if(i&1){let e=B();_(0,"div",33),A("onRemove",function(o){w(e);let r=h(4);return C(r.onRemoveClick(o))}),b()}if(i&2){let e=h(4);f("files",e.files)("badgeValue",e.pendingLabel)("previewWidth",e.previewWidth)("fileRemoveIconTemplate",e.cancelIconTemplate||e._cancelIconTemplate)}}function q7e(i,n){if(i&1&&(_(0,"div",8),E(1,$7e,0,0,"ng-template",31),G(2,K7e,1,4,"div",32),b()),i&2){let e=h(3);j(e.cx("fileList")),f("pBind",e.ptm("fileList")),p(),f("ngForOf",e.files)("ngForTemplate",e.fileTemplate||e._fileTemplate),p(),H(!e.fileTemplate&&!e._fileTemplate?2:-1)}}function J7e(i,n){}function Q7e(i,n){if(i&1){let e=B();_(0,"div",35),A("onRemove",function(o){w(e);let r=h(4);return C(r.onRemoveUploadedFileClick(o))}),b()}if(i&2){let e=h(4);f("files",e.uploadedFiles)("badgeValue",e.completedLabel())("previewWidth",e.previewWidth)("fileRemoveIconTemplate",e.cancelIconTemplate||e._cancelIconTemplate)}}function Y7e(i,n){if(i&1&&(_(0,"div",8),E(1,J7e,0,0,"ng-template",31),G(2,Q7e,1,4,"div",34),b()),i&2){let e=h(3);j(e.cx("fileList")),f("pBind",e.ptm("fileList")),p(),f("ngForOf",e.uploadedFiles)("ngForTemplate",e.fileTemplate||e._fileTemplate),p(),H(!e.fileTemplate&&!e._fileTemplate?2:-1)}}function X7e(i,n){if(i&1&&(E(0,z7e,1,3,"p-progressbar",27),fn(1,W7e,1,3,"p-message",28,ro),G(3,q7e,3,6,"div",29),G(4,Y7e,3,6,"div",29)),i&2){let e=h(2);f("ngIf",e.hasFiles()),p(),mn(e.msgs),p(2),H(e.hasFiles()?3:-1),p(),H(e.hasUploadedFiles()?4:-1)}}function Z7e(i,n){if(i&1&&ve(0,8),i&2){let e=h(3);f("pBind",e.ptm("empty"))}}function eHe(i,n){if(i&1&&E(0,Z7e,1,1,"ng-container",36),i&2){let e=h(2);f("ngTemplateOutlet",e.emptyTemplate||e._emptyTemplate)}}function tHe(i,n){if(i&1){let e=B();_(0,"div",6)(1,"input",7,0),A("change",function(o){w(e);let r=h();return C(r.onFileSelect(o))}),b(),_(3,"div",8),E(4,V7e,8,13,"ng-container",9)(5,U7e,1,0,"ng-container",10)(6,j7e,1,0,"ng-container",11),b(),_(7,"div",12,1),A("dragenter",function(o){w(e);let r=h();return C(r.onDragEnter(o))})("dragleave",function(o){w(e);let r=h();return C(r.onDragLeave(o))})("drop",function(o){w(e);let r=h();return C(r.onDrop(o))}),G(9,H7e,1,11,"ng-container")(10,X7e,5,3),G(11,eHe,1,1,"ng-container",8),b()()}if(i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("ngStyle",e.style)("pBind",e.ptm("root")),p(),Kt("display","none"),f("multiple",e.multiple)("accept",e.accept)("disabled",e.disabled||e.isChooseDisabled())("pBind",e.ptm("input")),ce("aria-label",e.browseFilesLabel)("title",""),p(2),j(e.cx("header")),f("pBind",e.ptm("header")),p(),f("ngIf",!e.headerTemplate&&!e._headerTemplate),p(),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",xf(24,h7e,e.files,e.uploadedFiles,e.choose.bind(e),e.clear.bind(e),e.upload.bind(e))),p(),f("ngTemplateOutlet",e.toolbarTemplate||e._toolbarTemplate),p(),j(e.cx("content")),f("pBind",e.ptm("content")),p(2),H(e.contentTemplate||e._contentTemplate?9:10),p(2),H((e.emptyTemplate||e._emptyTemplate)&&!e.hasFiles()&&!e.hasUploadedFiles()?11:-1)}}function iHe(i,n){if(i&1&&N(0,"p-message",28),i&2){let e=n.$implicit,t=h(2);f("severity",e.severity)("text",e.text)("pt",t.ptm("pcMessage"))}}function nHe(i,n){if(i&1&&N(0,"span",40),i&2){let e,t=h(4);f("ngClass",t.uploadIcon)("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function oHe(i,n){if(i&1&&(xe(),N(0,"svg",22)),i&2){let e,t=h(5);j("p-button-icon p-button-icon-left"),f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function rHe(i,n){}function sHe(i,n){i&1&&E(0,rHe,0,0,"ng-template")}function aHe(i,n){if(i&1&&(_(0,"span",43),E(1,sHe,1,0,null,11),b()),i&2){let e,t=h(5);f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon),p(),f("ngTemplateOutlet",t._uploadIconTemplate||t.uploadIconTemplate)}}function lHe(i,n){if(i&1&&(we(0),E(1,oHe,1,3,"svg",41)(2,aHe,2,2,"span",42),Ce()),i&2){let e=h(4);p(),f("ngIf",!e.uploadIconTemplate&&!e._uploadIconTemplate),p(),f("ngIf",e._uploadIconTemplate||e.uploadIconTemplate)}}function cHe(i,n){if(i&1&&E(0,nHe,1,2,"span",39)(1,lHe,3,2,"ng-container",9),i&2){let e=h(3);f("ngIf",e.uploadIcon),p(),f("ngIf",!e.uploadIcon)}}function dHe(i,n){if(i&1&&N(0,"span",45),i&2){let e,t=h(4);f("ngClass",t.chooseIcon)("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function pHe(i,n){if(i&1&&(xe(),N(0,"svg",17)),i&2){let e,t=h(5);f("pBind",(e=t.ptm("pcChooseButton"))==null?null:e.icon)}}function uHe(i,n){}function hHe(i,n){i&1&&E(0,uHe,0,0,"ng-template")}function fHe(i,n){if(i&1&&(we(0),E(1,pHe,1,1,"svg",15)(2,hHe,1,0,null,11),Ce()),i&2){let e=h(4);p(),f("ngIf",!e.chooseIconTemplate&&!e._chooseIconTemplate),p(),f("ngTemplateOutlet",e.chooseIconTemplate||e._chooseIconTemplate)}}function mHe(i,n){if(i&1&&E(0,dHe,1,2,"span",44)(1,fHe,3,2,"ng-container",9),i&2){let e=h(3);f("ngIf",e.chooseIcon),p(),f("ngIf",!e.chooseIcon)}}function gHe(i,n){if(i&1&&G(0,cHe,2,2)(1,mHe,2,2),i&2){let e=h(2);H(e.hasFiles()&&!e.auto?0:1)}}function _He(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3);p(),Y(" ",e.basicFileChosenLabel()," ")}}function bHe(i,n){i&1&&ve(0)}function yHe(i,n){if(i&1&&E(0,bHe,1,0,"ng-container",10),i&2){let e=h(3);f("ngTemplateOutlet",e.fileLabelTemplate||e._fileLabelTemplate)("ngTemplateOutletContext",de(2,m7e,e.files))}}function vHe(i,n){if(i&1&&G(0,_He,2,1,"span")(1,yHe,1,4,"ng-container"),i&2){let e=h(2);H(!e.fileLabelTemplate&&!e._fileLabelTemplate?0:1)}}function wHe(i,n){if(i&1){let e=B();_(0,"div",8),fn(1,iHe,1,3,"p-message",28,ro),_(3,"div",8)(4,"p-button",37),A("onClick",function(){w(e);let o=h();return C(o.onBasicUploaderClick())})("keydown",function(o){w(e);let r=h();return C(r.onBasicKeydown(o))}),E(5,gHe,2,1,"ng-template",null,2,ie),_(7,"input",38,3),A("change",function(o){w(e);let r=h();return C(r.onFileSelect(o))})("focus",function(){w(e);let o=h();return C(o.onFocus())})("blur",function(){w(e);let o=h();return C(o.onBlur())}),b()(),G(9,vHe,2,1),b()()}if(i&2){let e=h();j(e.cn(e.cx("root"),e.styleClass)),f("pBind",e.ptm("root")),p(),mn(e.msgs),p(2),j(e.cx("basicContent")),f("pBind",e.ptm("basicContent")),p(),De(e.style),f("styleClass",e.cn(e.cx("pcChooseButton"),e.chooseStyleClass))("disabled",e.disabled)("label",e.chooseButtonLabel)("buttonProps",e.chooseButtonProps)("pt",e.ptm("pcChooseButton")),p(3),f("accept",e.accept)("multiple",e.multiple)("disabled",e.disabled)("pBind",e.ptm("input")),ce("aria-label",e.browseFilesLabel),p(2),H(e.auto?-1:9)}}var CHe={root:({instance:i})=>`p-fileupload p-fileupload-${i.mode} p-component`,header:"p-fileupload-header",pcChooseButton:"p-fileupload-choose-button",pcUploadButton:"p-fileupload-upload-button",pcCancelButton:"p-fileupload-cancel-button",content:"p-fileupload-content",fileList:"p-fileupload-file-list",file:"p-fileupload-file",fileThumbnail:"p-fileupload-file-thumbnail",fileInfo:"p-fileupload-file-info",fileName:"p-fileupload-file-name",fileSize:"p-fileupload-file-size",pcFileBadge:"p-fileupload-file-badge",fileActions:"p-fileupload-file-actions",pcFileRemoveButton:"p-fileupload-file-remove-button",basicContent:"p-fileupload-basic-content"},pO=(()=>{class i extends Ye{name="fileupload";style=hZ;classes=CHe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var mZ=new he("FILEUPLOAD_INSTANCE"),SHe=(()=>{class i extends Xe{_componentStyle=z(pO);$pcFileUpload=z(mZ);onRemove=dj();files=qe();badgeSeverity=qe("warn");badgeValue=qe();previewWidth=qe(50);fileRemoveIconTemplate=qe();onRemoveClick(e,t){this.onRemove.emit({event:e,index:t})}formatSize(e){let r=this.config.getTranslation(xi.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(3)} ${r[s]}`}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["","pFileContent",""]],inputs:{files:[1,"files"],badgeSeverity:[1,"badgeSeverity"],badgeValue:[1,"badgeValue"],previewWidth:[1,"previewWidth"],fileRemoveIconTemplate:[1,"fileRemoveIconTemplate"]},outputs:{onRemove:"onRemove"},features:[Se([pO]),re],attrs:qGe,decls:2,vars:0,consts:[["icon",""],[3,"class","pBind"],[3,"pBind"],["role","presentation",3,"src","width","pBind"],[3,"value","severity","pt"],["text","","rounded","","severity","danger",3,"onClick","styleClass","pt"],["data-p-icon","times",3,"class"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","times"]],template:function(t,o){t&1&&fn(0,i7e,12,30,"div",1,QGe),t&2&&mn(o.files())},dependencies:[Qe,gt,Ic,bt,ks,pe],encapsulation:2,changeDetection:0})}return i})(),Sw=(()=>{class i extends Xe{bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}name;url;method="post";multiple;accept;disabled;auto;withCredentials;maxFileSize;invalidFileSizeMessageSummary="{0}: Invalid file size, ";invalidFileSizeMessageDetail="maximum upload size is {0}.";invalidFileTypeMessageSummary="{0}: Invalid file type, ";invalidFileTypeMessageDetail="allowed file types: {0}.";invalidFileLimitMessageDetail="limit is {0} at most.";invalidFileLimitMessageSummary="Maximum number of files exceeded, ";style;styleClass;previewWidth=50;chooseLabel;uploadLabel;cancelLabel;chooseIcon;uploadIcon;cancelIcon;showUploadButton=!0;showCancelButton=!0;mode="advanced";headers;customUpload;fileLimit;uploadStyleClass;cancelStyleClass;removeStyleClass;chooseStyleClass;chooseButtonProps;uploadButtonProps={severity:"secondary"};cancelButtonProps={severity:"secondary"};onBeforeUpload=new te;onSend=new te;onUpload=new te;onError=new te;onClear=new te;onRemove=new te;onSelect=new te;onProgress=new te;uploadHandler=new te;onImageError=new te;onRemoveUploadedFile=new te;fileTemplate;headerTemplate;contentTemplate;toolbarTemplate;chooseIconTemplate;fileLabelTemplate;uploadIconTemplate;cancelIconTemplate;emptyTemplate;advancedFileInput;basicFileInput;content;set files(e){this._files=[];for(let t=0;t<e.length;t++){let o=e[t];this.validate(o)&&(this.isImage(o)&&(o.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(e[t]))),this._files.push(e[t]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}_files=[];progress=0;dragHighlight;msgs;uploadedFileCount=0;focus;uploading;duplicateIEEvent;translationSubscription;dragOverListener;uploadedFiles=[];sanitizer=z(dp);zone=z(Ft);http=z(ai);_componentStyle=z(pO);onInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}onAfterViewInit(){At(this.platformId)&&this.mode==="advanced"&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}_headerTemplate;_contentTemplate;_toolbarTemplate;_chooseIconTemplate;_uploadIconTemplate;_cancelIconTemplate;_emptyTemplate;_fileTemplate;_fileLabelTemplate;templates;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"file":this._fileTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"toolbar":this._toolbarTemplate=e.template;break;case"chooseicon":this._chooseIconTemplate=e.template;break;case"uploadicon":this._uploadIconTemplate=e.template;break;case"cancelicon":this._cancelIconTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"filelabel":this._fileLabelTemplate=e.template;break;default:this._fileTemplate=e.template;break}})}basicFileChosenLabel(){return this.auto?this.chooseButtonLabel:this.hasFiles()?this.files&&this.files.length===1?this.files[0].name:this.config.getTranslation("fileChosenMessage")?.replace("{0}",this.files.length):this.config.getTranslation("noFileChosenMessage")||""}completedLabel(){return this.config.getTranslation("completed")||""}getTranslation(e){return this.config.getTranslation(e)}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(e){if(e.type!=="drop"&&this.isIE11()&&this.duplicateIEEvent){this.duplicateIEEvent=!1;return}this.multiple||(this.files=[]),this.msgs=[],this.files=this.files||[];let t=e.dataTransfer?e.dataTransfer.files:e.target.files;for(let o=0;o<t.length;o++){let r=t[o];this.isFileSelected(r)||this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[o]))),this.files.push(t[o]))}this.onSelect.emit({originalEvent:e,files:t,currentFiles:this.files}),this.checkFileLimit(t),this.hasFiles()&&this.auto&&(this.mode!=="advanced"||!this.isFileLimitExceeded())&&this.upload(),e.type!=="drop"&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(e){for(let t of this.files)if(t.name+t.type+t.size===e.name+e.type+e.size)return!0;return!1}isIE11(){if(At(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(e){if(this.msgs=this.msgs||[],this.accept&&!this.isFileTypeValid(e)){let t=`${this.invalidFileTypeMessageSummary.replace("{0}",e.name)} ${this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}`;return this.msgs.push({severity:"error",text:t}),!1}if(this.maxFileSize&&e.size>this.maxFileSize){let t=`${this.invalidFileSizeMessageSummary.replace("{0}",e.name)} ${this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}`;return this.msgs.push({severity:"error",text:t}),!1}return!0}isFileTypeValid(e){let t=this.accept?.split(",").map(o=>o.trim());for(let o of t)if(this.isWildcard(o)?this.getTypeClass(e.type)===this.getTypeClass(o):e.type==o||this.getFileExtension(e).toLowerCase()===o.toLowerCase())return!0;return!1}getTypeClass(e){return e.substring(0,e.indexOf("/"))}isWildcard(e){return e.indexOf("*")!==-1}getFileExtension(e){return"."+e.name.split(".").pop()}isImage(e){return/^image\//.test(e.type)}onImageLoad(e){window.URL.revokeObjectURL(e.src)}uploader(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let e=new FormData;this.onBeforeUpload.emit({formData:e});for(let t=0;t<this.files.length;t++)e.append(this.name,this.files[t],this.files[t].name);this.http.request(this.method,this.url,{body:e,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(t=>{switch(t.type){case bc.Sent:this.onSend.emit({originalEvent:t,formData:e});break;case bc.Response:this.uploading=!1,this.progress=0,t.status>=200&&t.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:t,files:this.files})):this.onError.emit({files:this.files}),this.uploadedFiles=[...this.uploadedFiles,...this.files],this.clear();break;case bc.UploadProgress:{t.loaded&&(this.progress=Math.round(t.loaded*100/t.total)),this.onProgress.emit({originalEvent:t,progress:this.progress});break}}this.cd.markForCheck()},t=>{this.uploading=!1,this.onError.emit({files:this.files,error:t})})}}onRemoveClick(e){let{event:t,index:o}=e;this.hasFiles()&&this.remove(t,o)}onRemoveUploadedFileClick(e){let{index:t}=e;this.hasUploadedFiles()&&this.removeUploadedFile(t)}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.msgs=[],this.cd.markForCheck()}remove(e,t){this.clearInputElement(),this.onRemove.emit({originalEvent:e,file:this.files[t]}),this.files.splice(t,1),this.checkFileLimit(this.files)}removeUploadedFile(e){let t=this.uploadedFiles.splice(e,1)[0];this.uploadedFiles=[...this.uploadedFiles],this.onRemoveUploadedFile.emit({file:t,files:this.uploadedFiles})}isFileLimitExceeded(){let t=this.auto?this.files.length:this.files.length+this.uploadedFileCount;return this.fileLimit&&this.fileLimit<=t&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<t}isChooseDisabled(){return this.auto?this.fileLimit&&this.fileLimit<=this.files.length:this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(e){this.msgs??=[];let t=this.msgs.length>0&&this.fileLimit&&this.fileLimit<e.length;if(this.isFileLimitExceeded()||t){let o=`${this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString())} ${this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())}`;this.msgs.push({severity:"error",text:o})}else this.msgs=this.msgs.filter(o=>!o.text.includes(this.invalidFileLimitMessageSummary))}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}hasUploadedFiles(){return this.uploadedFiles&&this.uploadedFiles.length>0}onDragEnter(e){this.disabled||(e.stopPropagation(),e.preventDefault())}onDragOver(e){this.disabled||(fo(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,e.stopPropagation(),e.preventDefault())}onDragLeave(e){this.disabled||hr(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(e){if(!this.disabled){hr(this.content?.nativeElement,"p-fileupload-highlight"),e.stopPropagation(),e.preventDefault();let t=e.dataTransfer?e.dataTransfer.files:e.target.files;(this.multiple||t&&t.length===1)&&this.onFileSelect(e)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(e){let r=this.getTranslation(xi.FILE_SIZE_TYPES);if(e===0)return`0 ${r[0]}`;let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(3)} ${r[s]}`}upload(){this.hasFiles()&&this.uploader()}onBasicUploaderClick(){this.basicFileInput?.nativeElement.click()}onBasicKeydown(e){switch(e.code){case"Space":case"Enter":this.onBasicUploaderClick(),e.preventDefault();break}}imageError(e){this.onImageError.emit(e)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(xi.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(xi.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(xi.CANCEL)}get browseFilesLabel(){return this.config.getTranslation(xi.ARIA)[xi.BROWSE_FILES]}get pendingLabel(){return this.config.getTranslation(xi.PENDING)}onDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-fileupload"],["p-fileUpload"]],contentQueries:function(t,o,r){if(t&1&&(se(r,n7e,4),se(r,o7e,4),se(r,fZ,4),se(r,r7e,4),se(r,s7e,4),se(r,a7e,4),se(r,l7e,4),se(r,c7e,4),se(r,d7e,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.fileTemplate=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.toolbarTemplate=s.first),W(s=$())&&(o.chooseIconTemplate=s.first),W(s=$())&&(o.fileLabelTemplate=s.first),W(s=$())&&(o.uploadIconTemplate=s.first),W(s=$())&&(o.cancelIconTemplate=s.first),W(s=$())&&(o.emptyTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(p7e,5),_e(u7e,5),_e(fZ,5)),t&2){let r;W(r=$())&&(o.advancedFileInput=r.first),W(r=$())&&(o.basicFileInput=r.first),W(r=$())&&(o.content=r.first)}},inputs:{name:"name",url:"url",method:"method",multiple:[2,"multiple","multiple",Z],accept:"accept",disabled:[2,"disabled","disabled",Z],auto:[2,"auto","auto",Z],withCredentials:[2,"withCredentials","withCredentials",Z],maxFileSize:[2,"maxFileSize","maxFileSize",Je],invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:[2,"previewWidth","previewWidth",Je],chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:[2,"showUploadButton","showUploadButton",Z],showCancelButton:[2,"showCancelButton","showCancelButton",Z],mode:"mode",headers:"headers",customUpload:[2,"customUpload","customUpload",Z],fileLimit:[2,"fileLimit","fileLimit",e=>Je(e,void 0)],uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",chooseButtonProps:"chooseButtonProps",uploadButtonProps:"uploadButtonProps",cancelButtonProps:"cancelButtonProps",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError",onRemoveUploadedFile:"onRemoveUploadedFile"},features:[Se([pO,{provide:mZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:2,vars:2,consts:[["advancedfileinput",""],["content",""],["icon",""],["basicfileinput",""],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"ngStyle","pBind"],["type","file",3,"change","multiple","accept","disabled","pBind"],[3,"pBind"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"dragenter","dragleave","drop","pBind"],[3,"focus","blur","onClick","keydown.enter","styleClass","disabled","label","buttonProps","pt"],[3,"label","disabled","styleClass","buttonProps","pt","onClick",4,"ngIf"],["data-p-icon","plus",3,"pBind",4,"ngIf"],[3,"pBind",4,"ngIf"],["data-p-icon","plus",3,"pBind"],[3,"onClick","label","disabled","styleClass","buttonProps","pt"],[3,"ngClass","pBind",4,"ngIf"],[3,"ngClass","pBind"],["data-p-icon","upload",3,"pBind",4,"ngIf"],["data-p-icon","upload",3,"pBind"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["data-p-icon","times",4,"ngIf"],["data-p-icon","times"],[3,"value","showValue","pt",4,"ngIf"],[3,"severity","text","pt"],[3,"class","pBind"],[3,"value","showValue","pt"],["ngFor","",3,"ngForOf","ngForTemplate"],["pFileContent","",3,"files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","",3,"onRemove","files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","","badgeSeverity","success",3,"files","badgeValue","previewWidth","fileRemoveIconTemplate"],["pFileContent","","badgeSeverity","success",3,"onRemove","files","badgeValue","previewWidth","fileRemoveIconTemplate"],[3,"pBind",4,"ngTemplateOutlet"],[3,"onClick","keydown","styleClass","disabled","label","buttonProps","pt"],["type","file",3,"change","focus","blur","accept","multiple","disabled","pBind"],["class","p-button-icon p-button-icon-left",3,"ngClass","pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass","pBind"],["data-p-icon","upload",3,"class","pBind",4,"ngIf"],["class","p-button-icon p-button-icon-left",3,"pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"pBind"],["class","p-button-icon p-button-icon-left pi",3,"ngClass","pBind",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass","pBind"]],template:function(t,o){t&1&&E(0,tHe,12,30,"div",4)(1,wHe,10,19,"div",5),t&2&&(f("ngIf",o.mode==="advanced"),p(),f("ngIf",o.mode==="basic"))},dependencies:[Qe,$t,Mn,pt,gt,ft,bt,$f,wp,ku,q8,ks,Oe,SHe,pe],encapsulation:2,changeDetection:0})}return i})(),i3=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Sw,Oe,Oe]})}return i})();var _Z=`
    .p-card {
        background: dt('card.background');
        color: dt('card.color');
        box-shadow: dt('card.shadow');
        border-radius: dt('card.border.radius');
        display: flex;
        flex-direction: column;
    }

    .p-card-caption {
        display: flex;
        flex-direction: column;
        gap: dt('card.caption.gap');
    }

    .p-card-body {
        padding: dt('card.body.padding');
        display: flex;
        flex-direction: column;
        gap: dt('card.body.gap');
    }

    .p-card-title {
        font-size: dt('card.title.font.size');
        font-weight: dt('card.title.font.weight');
    }

    .p-card-subtitle {
        color: dt('card.subtitle.color');
    }
`;var IHe=["header"],EHe=["title"],xHe=["subtitle"],THe=["content"],OHe=["footer"],RHe=["*",[["p-header"]],[["p-footer"]]],DHe=["*","p-header","p-footer"];function PHe(i,n){i&1&&ve(0)}function AHe(i,n){if(i&1&&(_(0,"div",1),Ht(1,1),E(2,PHe,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("header")),f("pBind",e.ptm("header")),p(2),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function kHe(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Q(e.header)}}function NHe(i,n){i&1&&ve(0)}function FHe(i,n){if(i&1&&(_(0,"div",1),E(1,kHe,2,1,"ng-container",3)(2,NHe,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("title")),f("pBind",e.ptm("title")),p(),f("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),p(),f("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function LHe(i,n){if(i&1&&(we(0),R(1),Ce()),i&2){let e=h(2);p(),Q(e.subheader)}}function MHe(i,n){i&1&&ve(0)}function BHe(i,n){if(i&1&&(_(0,"div",1),E(1,LHe,2,1,"ng-container",3)(2,MHe,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("subtitle")),f("pBind",e.ptm("subtitle")),p(),f("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),p(),f("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function VHe(i,n){i&1&&ve(0)}function UHe(i,n){i&1&&ve(0)}function jHe(i,n){if(i&1&&(_(0,"div",1),Ht(1,2),E(2,UHe,1,0,"ng-container",2),b()),i&2){let e=h();j(e.cx("footer")),f("pBind",e.ptm("footer")),p(2),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var GHe=`
    ${_Z}

    .p-card {
        display: block;
    }
`,HHe={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},bZ=(()=>{class i extends Ye{name="card";style=GHe;classes=HHe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var yZ=new he("CARD_INSTANCE"),n3=(()=>{class i extends Xe{$pcCard=z(yZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});_componentStyle=z(bZ);onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}header;subheader;set style(e){Kn(this._style(),e)||(this._style.set(e),this.el?.nativeElement&&e&&Object.keys(e).forEach(t=>{this.el.nativeElement.style[t]=e[t]}))}get style(){return this._style()}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=lt(null);getBlockableElement(){return this.el.nativeElement.children[0]}templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-card"]],contentQueries:function(t,o,r){if(t&1&&(se(r,Bg,5),se(r,md,5),se(r,IHe,4),se(r,EHe,4),se(r,xHe,4),se(r,THe,4),se(r,OHe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.headerFacet=s.first),W(s=$())&&(o.footerFacet=s.first),W(s=$())&&(o.headerTemplate=s.first),W(s=$())&&(o.titleTemplate=s.first),W(s=$())&&(o.subtitleTemplate=s.first),W(s=$())&&(o.contentTemplate=s.first),W(s=$())&&(o.footerTemplate=s.first),W(s=$())&&(o.templates=s)}},hostVars:4,hostBindings:function(t,o){t&2&&(De(o._style()),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[Se([bZ,{provide:yZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],ngContentSelectors:DHe,decls:8,vars:11,consts:[[3,"pBind","class",4,"ngIf"],[3,"pBind"],[4,"ngTemplateOutlet"],[4,"ngIf"]],template:function(t,o){t&1&&(ci(RHe),E(0,AHe,3,4,"div",0),_(1,"div",1),E(2,FHe,3,5,"div",0)(3,BHe,3,5,"div",0),_(4,"div",1),Ht(5),E(6,VHe,1,0,"ng-container",2),b(),E(7,jHe,3,4,"div",0),b()),t&2&&(f("ngIf",o.headerFacet||o.headerTemplate||o._headerTemplate),p(),j(o.cx("body")),f("pBind",o.ptm("body")),p(),f("ngIf",o.header||o.titleTemplate||o._titleTemplate),p(),f("ngIf",o.subheader||o.subtitleTemplate||o._subtitleTemplate),p(),j(o.cx("content")),f("pBind",o.ptm("content")),p(2),f("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),p(),f("ngIf",o.footerFacet||o.footerTemplate||o._footerTemplate))},dependencies:[Qe,pt,gt,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),o3=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[n3,Oe,Pt,Oe,Pt]})}return i})();var vZ=`
    .p-toggleswitch {
        display: inline-block;
        width: dt('toggleswitch.width');
        height: dt('toggleswitch.height');
    }

    .p-toggleswitch-input {
        cursor: pointer;
        appearance: none;
        position: absolute;
        top: 0;
        inset-inline-start: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        opacity: 0;
        z-index: 1;
        outline: 0 none;
        border-radius: dt('toggleswitch.border.radius');
    }

    .p-toggleswitch-slider {
        cursor: pointer;
        width: 100%;
        height: 100%;
        border-width: dt('toggleswitch.border.width');
        border-style: solid;
        border-color: dt('toggleswitch.border.color');
        background: dt('toggleswitch.background');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            border-color dt('toggleswitch.transition.duration'),
            outline-color dt('toggleswitch.transition.duration'),
            box-shadow dt('toggleswitch.transition.duration');
        border-radius: dt('toggleswitch.border.radius');
        outline-color: transparent;
        box-shadow: dt('toggleswitch.shadow');
    }

    .p-toggleswitch-handle {
        position: absolute;
        top: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        background: dt('toggleswitch.handle.background');
        color: dt('toggleswitch.handle.color');
        width: dt('toggleswitch.handle.size');
        height: dt('toggleswitch.handle.size');
        inset-inline-start: dt('toggleswitch.gap');
        margin-block-start: calc(-1 * calc(dt('toggleswitch.handle.size') / 2));
        border-radius: dt('toggleswitch.handle.border.radius');
        transition:
            background dt('toggleswitch.transition.duration'),
            color dt('toggleswitch.transition.duration'),
            inset-inline-start dt('toggleswitch.slide.duration'),
            box-shadow dt('toggleswitch.slide.duration');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.background');
        border-color: dt('toggleswitch.checked.border.color');
    }

    .p-toggleswitch.p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.background');
        color: dt('toggleswitch.handle.checked.color');
        inset-inline-start: calc(dt('toggleswitch.width') - calc(dt('toggleswitch.handle.size') + dt('toggleswitch.gap')));
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-slider {
        background: dt('toggleswitch.hover.background');
        border-color: dt('toggleswitch.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover) .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.hover.background');
        color: dt('toggleswitch.handle.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-slider {
        background: dt('toggleswitch.checked.hover.background');
        border-color: dt('toggleswitch.checked.hover.border.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:hover).p-toggleswitch-checked .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.checked.hover.background');
        color: dt('toggleswitch.handle.checked.hover.color');
    }

    .p-toggleswitch:not(.p-disabled):has(.p-toggleswitch-input:focus-visible) .p-toggleswitch-slider {
        box-shadow: dt('toggleswitch.focus.ring.shadow');
        outline: dt('toggleswitch.focus.ring.width') dt('toggleswitch.focus.ring.style') dt('toggleswitch.focus.ring.color');
        outline-offset: dt('toggleswitch.focus.ring.offset');
    }

    .p-toggleswitch.p-invalid > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }

    .p-toggleswitch.p-disabled {
        opacity: 1;
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-slider {
        background: dt('toggleswitch.disabled.background');
    }

    .p-toggleswitch.p-disabled .p-toggleswitch-handle {
        background: dt('toggleswitch.handle.disabled.background');
    }
`;var WHe=["handle"],$He=["input"],KHe=i=>({checked:i});function qHe(i,n){i&1&&ve(0)}function JHe(i,n){if(i&1&&E(0,qHe,1,0,"ng-container",3),i&2){let e=h();f("ngTemplateOutlet",e.handleTemplate||e._handleTemplate)("ngTemplateOutletContext",de(2,KHe,e.checked()))}}var QHe=`
    ${vZ}

    p-toggleswitch.ng-invalid.ng-dirty > .p-toggleswitch-slider {
        border-color: dt('toggleswitch.invalid.border.color');
    }
`,YHe={root:{position:"relative"}},XHe={root:({instance:i})=>["p-toggleswitch p-component",{"p-toggleswitch p-component":!0,"p-toggleswitch-checked":i.checked(),"p-disabled":i.$disabled(),"p-invalid":i.invalid()}],input:"p-toggleswitch-input",slider:"p-toggleswitch-slider",handle:"p-toggleswitch-handle"},wZ=(()=>{class i extends Ye{name="toggleswitch";style=QHe;classes=XHe;inlineStyles=YHe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var CZ=new he("TOGGLESWITCH_INSTANCE"),ZHe={provide:Bn,useExisting:Xt(()=>SZ),multi:!0},SZ=(()=>{class i extends Gr{$pcToggleSwitch=z(CZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;tabindex;inputId;readonly;trueValue=!0;falseValue=!1;ariaLabel;size=qe();ariaLabelledBy;autofocus;onChange=new te;input;handleTemplate;_handleTemplate;focused=!1;_componentStyle=z(wZ);templates;onHostClick(e){this.onClick(e)}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"handle":this._handleTemplate=e.template;break;default:this._handleTemplate=e.template;break}})}onClick(e){!this.$disabled()&&!this.readonly&&(this.writeModelValue(this.checked()?this.falseValue:this.trueValue),this.onModelChange(this.modelValue()),this.onChange.emit({originalEvent:e,checked:this.modelValue()}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}checked(){return this.modelValue()===this.trueValue}writeControlValue(e,t){t(e),this.cd.markForCheck()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-toggleswitch"],["p-toggleSwitch"],["p-toggle-switch"]],contentQueries:function(t,o,r){if(t&1&&(se(r,WHe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.handleTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&_e($He,5),t&2){let r;W(r=$())&&(o.input=r.first)}},hostVars:5,hostBindings:function(t,o){t&1&&A("click",function(s){return o.onHostClick(s)}),t&2&&(ce("data-pc-name","toggleswitch"),De(o.sx("root")),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",Je],inputId:"inputId",readonly:[2,"readonly","readonly",Z],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",size:[1,"size"],ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",Z]},outputs:{onChange:"onChange"},features:[Se([ZHe,wZ,{provide:CZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:5,vars:20,consts:[["input",""],["type","checkbox","role","switch",3,"focus","blur","checked","pAutoFocus","pBind"],[3,"pBind"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){if(t&1){let r=B();_(0,"input",1,0),A("focus",function(){return w(r),C(o.onFocus())})("blur",function(){return w(r),C(o.onBlur())}),b(),_(2,"div",2)(3,"div",2),G(4,JHe,1,4,"ng-container"),b()()}t&2&&(j(o.cx("input")),f("checked",o.checked())("pAutoFocus",o.autofocus)("pBind",o.ptm("input")),ce("id",o.inputId)("required",o.required()?"":void 0)("disabled",o.$disabled()?"":void 0)("aria-checked",o.checked())("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel)("name",o.name())("tabindex",o.tabindex),p(2),j(o.cx("slider")),f("pBind",o.ptm("slider")),p(),j(o.cx("handle")),f("pBind",o.ptm("handle")),p(),H(o.handleTemplate||o._handleTemplate?4:-1))},dependencies:[Qe,gt,fr,Oe,Pt,pe],encapsulation:2,changeDetection:0})}return i})(),IZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[SZ,Oe,Oe]})}return i})();var eze=["colgroup"],tze=["caption"],ize=["header"],nze=["body"],oze=["footer"],rze=["summary"],sze=["emptymessage"],aze=["paginatorleft"],lze=["paginatorright"],cze=["paginatordropdownitem"],dze=["frozenheader"],pze=["frozenbody"],uze=["frozenfooter"],hze=["frozencolgroup"],fze=["loadingicon"],mze=["reorderindicatorupicon"],gze=["reorderindicatordownicon"],_ze=["sorticon"],bze=["checkboxicon"],yze=["headercheckboxicon"],vze=["togglericon"],wze=["paginatorfirstpagelinkicon"],Cze=["paginatorlastpagelinkicon"],Sze=["paginatorpreviouspagelinkicon"],Ize=["paginatornextpagelinkicon"],Eze=["loader"],xze=["resizeHelper"],Tze=["reorderIndicatorUp"],Oze=["reorderIndicatorDown"],Rze=["table"],Dze=["scrollableView"],Pze=["scrollableFrozenView"],iu=i=>({$implicit:i}),Aze=(i,n)=>({left:i,width:n}),kze=(i,n)=>[i,n],Nze=i=>({width:i});function Fze(i,n){if(i&1&&N(0,"i"),i&2){let e=h(2);j(e.cn(e.cx("loadingIcon"),"pi-spin"+e.loadingIcon))}}function Lze(i,n){if(i&1&&(xe(),N(0,"svg",13)),i&2){let e=h(3);j(e.cx("loadingIcon")),f("spin",!0)}}function Mze(i,n){}function Bze(i,n){i&1&&E(0,Mze,0,0,"ng-template")}function Vze(i,n){if(i&1&&(_(0,"span"),E(1,Bze,1,0,null,14),b()),i&2){let e=h(3);j(e.cx("loadingIcon")),p(),f("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function Uze(i,n){if(i&1&&(we(0),E(1,Lze,1,3,"svg",12)(2,Vze,2,3,"span",10),Ce()),i&2){let e=h(2);p(),f("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),p(),f("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function jze(i,n){if(i&1&&(_(0,"div",9)(1,"div",9),E(2,Fze,1,2,"i",10)(3,Uze,3,2,"ng-container",11),b()()),i&2){let e=h();j(e.cx("loading")),f("pBind",e.ptm("loading")),p(),j(e.cx("mask")),f("pBind",e.ptm("mask")),p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function Gze(i,n){i&1&&ve(0)}function Hze(i,n){if(i&1&&(_(0,"div",9),E(1,Gze,1,0,"ng-container",14),b()),i&2){let e=h();j(e.cx("header")),f("pBind",e.ptm("header")),p(),f("ngTemplateOutlet",e.captionTemplate||e._captionTemplate)}}function zze(i,n){i&1&&ve(0)}function Wze(i,n){if(i&1&&E(0,zze,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function $ze(i,n){i&1&&E(0,Wze,1,1,"ng-template",16)}function Kze(i,n){i&1&&ve(0)}function qze(i,n){if(i&1&&E(0,Kze,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function Jze(i,n){i&1&&E(0,qze,1,1,"ng-template",17)}function Qze(i,n){i&1&&ve(0)}function Yze(i,n){if(i&1&&E(0,Qze,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function Xze(i,n){i&1&&E(0,Yze,1,1,"ng-template",18)}function Zze(i,n){i&1&&ve(0)}function eWe(i,n){if(i&1&&E(0,Zze,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function tWe(i,n){i&1&&E(0,eWe,1,1,"ng-template",19)}function iWe(i,n){if(i&1){let e=B();_(0,"p-paginator",15),A("onPageChange",function(o){w(e);let r=h();return C(r.onPageChange(o))}),E(1,$ze,1,0,null,11)(2,Jze,1,0,null,11)(3,Xze,1,0,null,11)(4,tWe,1,0,null,11),b()}if(i&2){let e=h();f("pt",e.ptm("pcPaginator"))("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),p(),f("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),p(),f("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),p(),f("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),p(),f("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function nWe(i,n){i&1&&ve(0)}function oWe(i,n){i&1&&ve(0)}function rWe(i,n){i&1&&ve(0)}function sWe(i,n){if(i&1&&(_(0,"div",9)(1,"table",20,0),E(3,nWe,1,0,"ng-container",21),_(4,"thead",22),E(5,oWe,1,0,"ng-container",21),b(),N(6,"tbody",23),_(7,"tfoot",22),E(8,rWe,1,0,"ng-container",21),b()()()),i&2){let e=h();j(e.cx("wrapper")),f("pBind",e.ptm("wrapper")),p(),f("pBind",e.ptm("table"))("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),p(2),f("ngTemplateOutlet",e.colGroupTemplate||e._colGroupTemplate)("ngTemplateOutletContext",de(23,iu,e.columns)),p(),j(e.cx("thead")),f("pBind",e.ptm("thead")),p(),f("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)("ngTemplateOutletContext",de(25,iu,e.columns)),p(),j(e.cx("tbody")),f("pBind",e.ptm("tbody"))("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate??e._bodyTemplate),p(),j(e.cx("tfoot")),f("pBind",e.ptm("tfoot")),p(),f("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)("ngTemplateOutletContext",de(27,iu,e.columns))}}function aWe(i,n){if(i&1&&N(0,"div",26,2),i&2){let e=h(2);f("ngClass",Ct(6,kze,e.cx("scrollableView"),e.cx("frozenView")))("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",de(9,Nze,e.frozenWidth))("scrollHeight",e.scrollHeight)("pBind",e.ptm("scrollableView"))}}function lWe(i,n){if(i&1&&(_(0,"div",9),E(1,aWe,2,11,"div",24),N(2,"div",25,1),b()),i&2){let e=h();j(e.cx("scrollableWrapper")),f("pBind",e.ptm("scrollableWrapper")),p(),f("ngIf",e.frozenColumns||e.frozenBodyTemplate||e._frozenBodyTemplate),p(),j(e.cx("scrollableView")),f("pBind",e.ptm("scrollableView"))("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",Ct(11,Aze,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function cWe(i,n){i&1&&ve(0)}function dWe(i,n){if(i&1&&E(0,cWe,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate)}}function pWe(i,n){i&1&&E(0,dWe,1,1,"ng-template",16)}function uWe(i,n){i&1&&ve(0)}function hWe(i,n){if(i&1&&E(0,uWe,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate)}}function fWe(i,n){i&1&&E(0,hWe,1,1,"ng-template",17)}function mWe(i,n){i&1&&ve(0)}function gWe(i,n){if(i&1&&E(0,mWe,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate)}}function _We(i,n){i&1&&E(0,gWe,1,1,"ng-template",18)}function bWe(i,n){i&1&&ve(0)}function yWe(i,n){if(i&1&&E(0,bWe,1,0,"ng-container",14),i&2){let e=h(3);f("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function vWe(i,n){i&1&&E(0,yWe,1,1,"ng-template",19)}function wWe(i,n){if(i&1){let e=B();_(0,"p-paginator",15),A("onPageChange",function(o){w(e);let r=h();return C(r.onPageChange(o))}),E(1,pWe,1,0,null,11)(2,fWe,1,0,null,11)(3,_We,1,0,null,11)(4,vWe,1,0,null,11),b()}if(i&2){let e=h();f("pt",e.ptm("pcPaginator"))("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("styleClass",e.cx("pcPaginator"))("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate??e._paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate??e._paginatorRightTemplate)("appendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate??e._paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("locale",e.paginatorLocale),p(),f("ngIf",e.paginatorFirstPageLinkIconTemplate||e._paginatorFirstPageLinkIconTemplate),p(),f("ngIf",e.paginatorPreviousPageLinkIconTemplate||e._paginatorPreviousPageLinkIconTemplate),p(),f("ngIf",e.paginatorLastPageLinkIconTemplate||e._paginatorLastPageLinkIconTemplate),p(),f("ngIf",e.paginatorNextPageLinkIconTemplate||e._paginatorNextPageLinkIconTemplate)}}function CWe(i,n){i&1&&ve(0)}function SWe(i,n){if(i&1&&(_(0,"div",9),E(1,CWe,1,0,"ng-container",14),b()),i&2){let e=h();j(e.cx("footer")),f("pBind",e.ptm("footer")),p(),f("ngTemplateOutlet",e.summaryTemplate||e._summaryTemplate)}}function IWe(i,n){if(i&1&&N(0,"div",9,3),i&2){let e=h();j(e.cx("columnResizerHelper")),Kt("display","none"),f("pBind",e.ptm("columnResizerHelper"))}}function EWe(i,n){i&1&&(xe(),N(0,"svg",28))}function xWe(i,n){}function TWe(i,n){i&1&&E(0,xWe,0,0,"ng-template")}function OWe(i,n){if(i&1&&(_(0,"span",9,4),E(2,EWe,1,0,"svg",27)(3,TWe,1,0,null,14),b()),i&2){let e=h();j(e.cx("reorderIndicatorUp")),Kt("display","none"),f("pBind",e.ptm("reorderIndicatorUp")),p(2),f("ngIf",!e.reorderIndicatorUpIconTemplate&&!e._reorderIndicatorUpIconTemplate),p(),f("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate||e._reorderIndicatorUpIconTemplate)}}function RWe(i,n){i&1&&(xe(),N(0,"svg",30))}function DWe(i,n){}function PWe(i,n){i&1&&E(0,DWe,0,0,"ng-template")}function AWe(i,n){if(i&1&&(_(0,"span",9,5),E(2,RWe,1,0,"svg",29)(3,PWe,1,0,null,14),b()),i&2){let e=h();j(e.cx("reorderIndicatorDown")),Kt("display","none"),f("pBind",e.ptm("reorderIndicatorDown")),p(2),f("ngIf",!e.reorderIndicatorDownIconTemplate&&!e._reorderIndicatorDownIconTemplate),p(),f("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate||e._reorderIndicatorDownIconTemplate)}}var kWe=["pTreeTableBody",""],NWe=(i,n,e,t)=>({$implicit:i,node:n,rowData:e,columns:t}),FWe=(i,n)=>({$implicit:i,frozen:n});function LWe(i,n){i&1&&ve(0)}function MWe(i,n){if(i&1&&(we(0),E(1,LWe,1,0,"ng-container",2),Ce()),i&2){let e=h().$implicit,t=h();p(),f("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Br(2,NWe,e,e.node,e.node.data,t.columns))}}function BWe(i,n){if(i&1&&E(0,MWe,2,7,"ng-container",1),i&2){let e=n.$implicit;f("ngIf",e.visible)}}function VWe(i,n){i&1&&ve(0)}function UWe(i,n){if(i&1&&(we(0),E(1,VWe,1,0,"ng-container",2),Ce()),i&2){let e=h();p(),f("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",Ct(2,FWe,e.columns,e.frozen))}}var jWe=["scrollHeader"],GWe=["scrollHeaderBox"],HWe=["scrollBody"],zWe=["scrollTable"],WWe=["loadingTable"],$We=["scrollFooter"],KWe=["scrollFooterBox"],qWe=["scrollableAligner"],JWe=["scroller"],QWe=["ttScrollableView",""],YWe=i=>({height:i}),EZ=(i,n)=>({$implicit:i,options:n}),XWe=i=>({options:i}),ZWe=(i,n)=>({"max-height":i,"overflow-y":n}),e$e=()=>({});function t$e(i,n){i&1&&ve(0)}function i$e(i,n){i&1&&ve(0)}function n$e(i,n){i&1&&ve(0)}function o$e(i,n){if(i&1&&E(0,n$e,1,0,"ng-container",13),i&2){let e=n.$implicit,t=n.options;h(2);let o=Ze(11);f("ngTemplateOutlet",o)("ngTemplateOutletContext",Ct(2,EZ,e,t))}}function r$e(i,n){i&1&&ve(0)}function s$e(i,n){if(i&1&&E(0,r$e,1,0,"ng-container",13),i&2){let e=n.options,t=h(3);f("ngTemplateOutlet",t.tt.loaderTemplate||t.tt._loaderTemplate)("ngTemplateOutletContext",de(2,XWe,e))}}function a$e(i,n){i&1&&(we(0),E(1,s$e,1,4,"ng-template",null,5,ie),Ce())}function l$e(i,n){if(i&1){let e=B();_(0,"p-scroller",18,3),A("onLazyLoad",function(o){w(e);let r=h();return C(r.tt.onLazyItemLoad(o))}),E(2,o$e,1,5,"ng-template",null,4,ie)(4,a$e,3,0,"ng-container",16),b()}if(i&2){let e=h();De(de(10,YWe,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),f("items",e.tt.serializedValue)("styleClass",e.cx("scrollableBody"))("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions)("pt",e.ptm("virtualScroller")),p(4),f("ngIf",e.tt.loaderTemplate||e.tt._loaderTemplate)}}function c$e(i,n){i&1&&ve(0)}function d$e(i,n){if(i&1&&(we(0),_(1,"div",12,6),E(3,c$e,1,0,"ng-container",13),b(),Ce()),i&2){let e=h(),t=Ze(11);p(),j(e.cx("scrollableBody")),f("pBind",e.ptm("scrollableBody"))("ngStyle",Ct(6,ZWe,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),p(2),f("ngTemplateOutlet",t)("ngTemplateOutletContext",Ct(10,EZ,e.serializedValue,Pe(9,e$e)))}}function p$e(i,n){i&1&&ve(0)}function u$e(i,n){i&1&&N(0,"div",null,8),i&2&&Kt("background-color","transparent")}function h$e(i,n){if(i&1&&(_(0,"table",19,7),E(2,p$e,1,0,"ng-container",13),N(3,"tbody",20),b(),E(4,u$e,2,2,"div",21)),i&2){let e=n.$implicit,t=n.options,o=h();De(t.contentStyle),j(o.tt.tableStyleClass),f("pBind",o.ptm("table"))("ngClass",t.contentStyleClass)("ngStyle",o.tt.tableStyle),p(2),f("ngTemplateOutlet",o.frozen?o.tt.frozenColGroupTemplate||o.tt._frozenColGroupTemplate||o.tt.colGroupTemplate||o.tt._colGroupTemplate:o.tt.colGroupTemplate||o.tt._colGroupTemplate)("ngTemplateOutletContext",de(18,iu,o.columns)),p(),j(o.cx("tbody")),f("pBind",o.ptm("tbody"))("pBind",o.ptm("tbody"))("pTreeTableBody",o.columns)("pTreeTableBodyTemplate",o.frozen?o.tt.frozenBodyTemplate||o.tt._frozenBodyTemplate||o.tt.bodyTemplate||o.tt._bodyTemplate:o.tt.bodyTemplate||o.tt._bodyTemplate)("serializedNodes",e)("frozen",o.frozen),p(),f("ngIf",o.frozen)}}function f$e(i,n){i&1&&ve(0)}function m$e(i,n){i&1&&ve(0)}function g$e(i,n){if(i&1&&(_(0,"div",11,9)(2,"div",11,10)(4,"table",22),E(5,f$e,1,0,"ng-container",13),_(6,"tfoot",14),E(7,m$e,1,0,"ng-container",13),b()()()()),i&2){let e=h();j(e.cx("scrollableFooter")),f("pBind",e.ptm("scrollableFooter")),p(2),j(e.cx("scrollableFooterBox")),f("pBind",e.ptm("scrollableFooterBox")),p(2),j(e.cx("scrollableFooterTable")),f("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle)("pBind",e.ptm("scrollableFooterTable")),p(),f("ngTemplateOutlet",e.frozen?e.tt.frozenColGroupTemplate||e.tt._frozenColGroupTemplate||e.tt.colGroupTemplate||e.tt._colGroupTemplate:e.tt.colGroupTemplate||e.tt._colGroupTemplate)("ngTemplateOutletContext",de(18,iu,e.columns)),p(),j(e.cx("tfoot")),f("pBind",e.ptm("tfoot")),p(),f("ngTemplateOutlet",e.frozen?e.tt.frozenFooterTemplate||e.tt._frozenFooterTemplate||e.tt.footerTemplate||e.tt._footerTemplate:e.tt.footerTemplate||e.tt._footerTemplate)("ngTemplateOutletContext",de(20,iu,e.columns))}}function _$e(i,n){if(i&1&&(xe(),N(0,"svg",5)),i&2){let e=h(2);f("pBind",e.ptm("nodetoggleicon")),ce("aria-hidden",!0)}}function b$e(i,n){if(i&1&&(xe(),N(0,"svg",6)),i&2){let e=h(2);f("pBind",e.ptm("nodetoggleicon")),ce("aria-hidden",!0)}}function y$e(i,n){if(i&1&&(we(0),E(1,_$e,1,2,"svg",3)(2,b$e,1,2,"svg",4),Ce()),i&2){let e=h();p(),f("ngIf",e.rowNode.node.expanded),p(),f("ngIf",!e.rowNode.node.expanded)}}function v$e(i,n){}function w$e(i,n){i&1&&E(0,v$e,0,0,"ng-template")}var C$e=`
/* For PrimeNG */
.p-treetable {
    position: relative;
}

.p-treetable table {
    border-collapse: collapse;
    width: 100%;
    table-layout: fixed;
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
}

.p-treetable .p-sortable-column .p-column-title,
.p-treetable .p-sortable-column .p-sortable-column-icon,
.p-treetable .p-sortable-column .p-sortable-column-badge {
    vertical-align: middle;
}

.p-treetable-sort-icon {
    color: dt('treetable.sort.icon.color');
    font-size: dt('treetable.sort.icon.size');
    width: dt('treetable.sort.icon.size');
    height: dt('treetable.sort.icon.size');
    transition: color dt('treetable.transition.duration');
}

.p-treetable .p-sortable-column .p-sortable-column-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.p-treetable-auto-layout>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-auto-layout>.p-treetable-wrapper>table {
    table-layout: auto;
}

.p-treetable-hoverable-rows .p-treetable-tbody>tr {
    cursor: pointer;
}

.p-treetable-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    overflow: hidden;
    position: relative;
}


/* Scrollable */
.p-treetable-scrollable-wrapper {
    position: relative;
}

.p-treetable-scrollable-header,
.p-treetable-scrollable-footer {
    overflow: hidden;
    flex-shrink: 0;
}

.p-treetable-scrollable-body {
    overflow: auto;
    position: relative;
}

.p-treetable-virtual-table {
    position: absolute;
}

/* Frozen Columns */
.p-treetable-frozen-view .p-treetable-scrollable-body {
    overflow: hidden;
}

.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child {
    border-right: 0 none;
}

.p-treetable-unfrozen-view {
    position: absolute;
    top: 0;
}

/* Flex Scrollable */
.p-treetable-flex-scrollable {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,
.p-treetable-flex-scrollable .p-treetable-scrollable-view {
    display: flex;
    flex-direction: column;
    flex: 1;
    height: 100%;
}

.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body {
    flex: 1;
}

/* Resizable */
.p-treetable-resizable>.p-treetable-wrapper {
    overflow-x: auto;
}

.p-treetable-resizable .p-treetable-thead>tr>th,
.p-treetable-resizable .p-treetable-tfoot>tr>td,
.p-treetable-resizable .p-treetable-tbody>tr>td {
    overflow: hidden;
}

.p-treetable-resizable .p-resizable-column {
    background-clip: padding-box;
    position: relative;
}

.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer {
    display: none;
}

.p-treetable .p-column-resizer {
    display: block;
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    width: dt('treetable.column.resizer.width');
    height: 100%;
    padding: 0px;
    cursor: col-resize;
    border: 1px solid transparent;
}

.p-treetable .p-column-resizer-helper {
    width: dt('treetable.resize.indicator.width');
    position: absolute;
    z-index: 10;
    display: none;
    background: dt('treetable.resize.indicator.color');
}

.p-treetable .p-row-editor-init,
.p-treetable .p-row-editor-save,
.p-treetable .p-row-editor-cancel {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
}


/* Reorder */
.p-treetable-reorder-indicator-up,
.p-treetable-reorder-indicator-down {
    position: absolute;
    display: none;
}

[ttReorderableColumn] {
    cursor: move;
}

/* Loader */
.p-treetable-mask {
    position: absolute !important;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
}

.p-treetable-loading-icon {
    font-size: dt('treetable.loading.icon.size');
    width: dt('treetable.loading.icon.size');
    height: dt('treetable.loading.icon.size');
}

/* Virtual Scroll */
.p-treetable .p-scroller-loading {
    transform: none !important;
    min-height: 0;
    position: sticky;
    top: 0;
    left: 0;
}

.p-treetable .p-paginator-top {
    border-color: dt('treetable.paginator.top.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.top.border.width');
}

.p-treetable .p-paginator-bottom {
    border-color: dt('treetable.paginator.bottom.border.color');
    border-style: solid;
    border-width: dt('treetable.paginator.bottom.border.width');
}

.p-treetable .p-treetable-header {
    background: dt('treetable.header.background');
    color: dt('treetable.header.color');
    border-color: dt('treetable.header.border.color');
    border-style: solid;
    border-width: dt('treetable.header.border.width');
    padding: dt('treetable.header.padding');
    font-weight: dt('treetable.column.title.font.weight');
}

.p-treetable .p-treetable-footer {
    background: dt('treetable.footer.background');
    color: dt('treetable.footer.color');
    border-color: dt('treetable.footer.border.color');
    border-style: solid;
    border-width: dt('treetable.footer.border.width');
    padding: dt('treetable.footer.padding');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-treetable-thead>tr>th {
    padding: dt('treetable.header.cell.padding');
    background: dt('treetable.header.cell.background');
    border-color: dt('treetable.header.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.header.cell.color');
    font-weight: dt('treetable.column.title.font.weight');
    text-align: start;
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tfoot>tr>td {
    text-align: start;
    padding: dt('treetable.footer.cell.padding');
    border-color: dt('treetable.footer.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    color: dt('treetable.footer.cell.color');
    background: dt('treetable.footer.cell.background');
    font-weight: dt('treetable.column.footer.font.weight');
}

.p-treetable .p-sortable-column {
    cursor: pointer;
    user-select: none;
    outline-color: transparent;
    vertical-align: middle;
}

.p-treetable .p-sortable-column .p-sortable-column-icon {
    color: dt('treetable.sort.icon.color');
    transition: color dt('treetable.transition.duration');
}


.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover {
    background: dt('treetable.header.cell.hover.background');
    color: dt('treetable.header.cell.hover.color');
}

.p-treetable .p-sortable-column:not(.p-treetable-column-sorted):hover .p-sortable-column-icon {
    color: dt('treetable.sort.icon.hover.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted {
    background: dt('treetable.header.cell.selected.background');
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column.p-treetable-column-sorted .p-sortable-column-icon {
    color: dt('treetable.header.cell.selected.color');
}

.p-treetable .p-sortable-column:focus-visible {
    box-shadow: dt('treetable.header.cell.focus.ring.shadow');
    outline: dt('treetable.header.cell.focus.ring.width') dt('treetable.header.cell.focus.ring.style') dt('treetable.header.cell.focus.ring.color');
    outline-offset: dt('treetable.header.cell.focus.ring.offset');
}

.p-treetable-hoverable .p-treetable-selectable-row {
    cursor: pointer;
}

.p-treetable .p-treetable-tbody > tr {
    outline-color: transparent;
    background: dt('treetable.row.background');
    color: dt('treetable.row.color');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
}

.p-treetable .p-treetable-tbody>tr>td {
    text-align: start;
    border-color: dt('treetable.body.cell.border.color');
    border-style: solid;
    border-width: 0 0 1px 0;
    padding: dt('treetable.body.cell.padding');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: dt('treetable.node.toggle.button.size');
    height: dt('treetable.node.toggle.button.size');
    color: dt('treetable.node.toggle.button.color');
    border: 0 none;
    background: transparent;
    cursor: pointer;
    border-radius: dt('treetable.node.toggle.button.border.radius');
    transition: background dt('treetable.transition.duration'), color dt('treetable.transition.duration'), border-color dt('treetable.transition.duration'),
            outline-color dt('treetable.transition.duration'), box-shadow dt('treetable.transition.duration');
    outline-color: transparent;
    user-select: none;
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:enabled:hover {
    color: dt('treetable.node.toggle.button.hover.color');
    background: dt('treetable.node.toggle.button.hover.background');
}

.p-treetable .p-treetable-tbody>tr>tr.treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable .p-treetable-tbody>tr>td .p-treetable-toggler:focus-visible {
    box-shadow: dt('treetable.node.toggle.button.focus.ring.shadow');
    outline: dt('treetable.node.toggle.button.focus.ring.width') dt('treetable.node.toggle.button.focus.ring.style') dt('treetable.node.toggle.button.focus.ring.color');
    outline-offset: dt('treetable.node.toggle.button.focus.ring.offset');
}


.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected {
    background: dt('treetable.row.selected.background');
    color: dt('treetable.row.selected.color');
}

.p-treetable-tbody > tr:focus-visible,
.p-treetable-tbody > tr.p-treetable-contextmenu-row-selected {
    box-shadow: dt('treetable.row.focus.ring.shadow');
    outline: dt('treetable.row.focus.ring.width') dt('treetable.row.focus.ring.style') dt('treetable.row.focus.ring.color');
    outline-offset: dt('treetable.row.focus.ring.offset');
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler {
    color: inherit;
}

.p-treetable .p-treetable-tbody>tr.p-treetable-row-selected .p-treetable-toggler:hover {
    background: dt('treetable.node.toggle.button.selected.hover.background');
    color: dt('treetable.node.toggle.button.selected.hover.color');
}

.p-treetable.p-treetable-hoverable-rows .p-treetable-tbody>tr:not(.p-treetable-row-selected):hover {
    background: dt('treetable.row.hover.background');
    color: dt('treetable.row.hover.color');
}

.p-treetable-gridlines .p-treetable-header {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-footer {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-paginator-top {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-paginator-bottom {
    border-width: 0 1px 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-thead > tr > th:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td {
    border-width: 1px 0 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr > td:last-child {
    border-width: 1px 1px 0 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td {
    border-width: 1px 0 1px 1px;
}

.p-treetable-gridlines .p-treetable-tfoot > tr > td:last-child {
    border-width: 1px 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines .p-treetable-thead + .p-treetable-tfoot > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td {
    border-width: 0 0 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-thead):has(.p-treetable-tbody) .p-treetable-tbody > tr > td:last-child {
    border-width: 0 1px 1px 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td {
    border-width: 0 0 0 1px;
}

.p-treetable.p-treetable-gridlines:has(.p-treetable-tbody):has(.p-treetable-tfoot) .p-treetable-tbody > tr:last-child > td:last-child {
    border-width: 0 1px 0 1px;
}

.p-treetable.p-treetable-sm .p-treetable-header {
    padding: 0.65625rem 0.875rem;
}

.p-treetable.p-treetable-sm .p-treetable-thead>tr>th {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tbody>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-tfoot>tr>td {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-sm .p-treetable-footer {
    padding: 0.375rem 0.5rem;
}

.p-treetable.p-treetable-lg .p-treetable-header {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-thead>tr>th {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tbody>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-tfoot>tr>td {
    padding: 0.9375rem 1.25rem;
}

.p-treetable.p-treetable-lg .p-treetable-footer {
    padding: 0.9375rem 1.25rem;
}

p-treetabletoggler + p-treetablecheckbox .p-checkbox,
p-treetable-toggler + p-treetable-checkbox .p-checkbox,
p-tree-table-toggler + p-tree-table-checkbox .p-checkbox {
    vertical-align: middle;
}

p-treetabletoggler + p-treetablecheckbox + span,
p-treetable-toggler + p-treetable-checkbox + span,
p-tree-table-toggler + p-tree-table-checkbox + span {
    vertical-align: middle;
}

p-treetable-sort-icon {
    display: inline-flex;
    align-items: center;
    gap: dt('treetable.header.cell.gap');
}
`,S$e={root:({instance:i})=>["p-treetable p-component",{"p-treetable-gridlines":i.showGridlines,"p-treetable-hoverable-rows":i.rowHover||i.selectionMode==="single"||i.selectionMode==="multiple","p-treetable-auto-layout":i.autoLayout,"p-treetable-resizable":i.resizableColumns,"p-treetable-resizable-fit":i.resizableColumns&&i.columnResizeMode==="fit","p-treetable-flex-scrollable":i.scrollable&&i.scrollHeight==="flex"}],loading:"p-treetable-loading",mask:"p-treetable-mask p-overlay-mask",loadingIcon:"p-treetable-loading-icon",header:"p-treetable-header",pcPaginator:({instance:i})=>["p-treetable-paginator-"+i.paginatorPosition,i.paginatorStyleClass],tableContainer:"p-treetable-table-container",table:({instance:i})=>({"p-treetable-table":!0,"p-treetable-scrollable-table":i.scrollable,"p-treetable-resizable-table":i.resizableColumns,"p-treetable-resizable-table-fit":i.resizableColumns&&i.columnResizeMode==="fit"}),thead:"p-treetable-thead",sortableColumn:({instance:i})=>({"p-sortable-column":i.isEnabled(),"p-treetable-column-sorted":i.sorted}),sortableColumnIcon:"p-treetable-sort-icon",sortableColumnBadge:"p-sortable-column-badge",columnResizer:"p-treetable-column-resizer",columnHeaderContent:"p-treetable-column-header-content",columnTitle:"p-treetable-column-title",sortIcon:"p-treetable-sort-icon",pcSortBadge:"p-treetable-sort-badge",tbody:"p-treetable-tbody",row:({instance:i})=>({"p-treetable-row-selected":i.selected}),contextMenuRow:({instance:i})=>({"p-treetable-contextmenu-row-selected":i.selected}),toggler:"p-treetable-toggler",nodeToggleButton:"p-treetable-node-toggle-button",nodeToggleIcon:"p-treetable-node-toggle-icon",pcNodeCheckbox:"p-treetable-node-checkbox",tfoot:"p-treetable-tfoot",footerCell:({instance:i})=>({"p-treetable-frozen-column":i.columnProp("frozen")}),footer:"p-treetable-footer",columnResizeIndicator:"p-treetable-column-resize-indicator",wrapper:"p-treetable-wrapper",scrollableWrapper:"p-treetable-scrollable-wrapper",scrollableView:"p-treetable-scrollable-view",frozenView:"p-treetable-frozen-view",columnResizerHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-treetable-reorder-indicator-up",reorderIndicatorDown:"p-treetable-reorder-indicator-down",scrollableHeader:"p-treetable-scrollable-header",scrollableHeaderBox:"p-treetable-scrollable-header-box",scrollableHeaderTable:"p-treetable-scrollable-header-table",scrollableBody:"p-treetable-scrollable-body",scrollableFooter:"p-treetable-scrollable-footer",scrollableFooterBox:"p-treetable-scrollable-footer-box",scrollableFooterTable:"p-treetable-scrollable-footer-table"},b0=(()=>{class i extends Ye{name="treetable";style=C$e;classes=S$e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var I$e=new he("TREETABLE_INSTANCE"),r3=(()=>{class i{sortSource=new Le;selectionSource=new Le;contextMenuSource=new Le;uiUpdateSource=new Le;totalRecordsSource=new Le;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Iw=(()=>{class i extends Xe{_componentStyle=z(b0);bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}columns;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,t)=>t;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.log("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}showGridlines=!1;selectionChange=new te;contextMenuSelectionChange=new te;onFilter=new te;onNodeExpand=new te;onNodeCollapse=new te;onPage=new te;onSort=new te;onLazyLoad=new te;sortFunction=new te;onColResize=new te;onColReorder=new te;onNodeSelect=new te;onNodeUnselect=new te;onContextMenuSelect=new te;onHeaderCheckboxToggle=new te;onEditInit=new te;onEditComplete=new te;onEditCancel=new te;selectionKeysChange=new te;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;_colGroupTemplate;colGroupTemplate;_captionTemplate;captionTemplate;_headerTemplate;headerTemplate;_bodyTemplate;bodyTemplate;_footerTemplate;footerTemplate;_summaryTemplate;summaryTemplate;_emptyMessageTemplate;emptyMessageTemplate;_paginatorLeftTemplate;paginatorLeftTemplate;_paginatorRightTemplate;paginatorRightTemplate;_paginatorDropdownItemTemplate;paginatorDropdownItemTemplate;_frozenHeaderTemplate;frozenHeaderTemplate;_frozenBodyTemplate;frozenBodyTemplate;_frozenFooterTemplate;frozenFooterTemplate;_frozenColGroupTemplate;frozenColGroupTemplate;_loadingIconTemplate;loadingIconTemplate;_reorderIndicatorUpIconTemplate;reorderIndicatorUpIconTemplate;_reorderIndicatorDownIconTemplate;reorderIndicatorDownIconTemplate;_sortIconTemplate;sortIconTemplate;_checkboxIconTemplate;checkboxIconTemplate;_headerCheckboxIconTemplate;headerCheckboxIconTemplate;_togglerIconTemplate;togglerIconTemplate;_paginatorFirstPageLinkIconTemplate;paginatorFirstPageLinkIconTemplate;_paginatorLastPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;_paginatorPreviousPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;_paginatorNextPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;_loaderTemplate;loaderTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;onInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}templates;onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break}})}filterService=z(fd);tableService=z(r3);zone=z(Ft);onChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,t,o,r){if(t&&t.length)for(let s of t){s.parent=e;let a={node:s,parent:e,level:o,visible:r&&(e?e.expanded:!0)};this.serializedValue.push(a),a.visible&&s.expanded&&this.serializeNodes(s,s.children,o+1,a.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let t=this.lazy?0:this.first;for(let o=t;o<t+this.rows;o++){let r=e[o];r&&(this.serializedValue.push({node:r,parent:null,level:0,visible:!0}),this.serializeNodes(r,r.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(zi(e.data,this.dataKey))]=1;else this.selectedKeys[String(zi(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let o=t.metaKey||t.ctrlKey,r=this.getSortMeta(e.field);r?o?r.order=r.order*-1:(this._multiSortMeta=[{field:e.field,order:r.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!o||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((t,o)=>{let r=zi(t.data,this.sortField),s=zi(o.data,this.sortField),a=0;return r==null&&s!=null?a=-1:r!=null&&s==null?a=1:r==null&&s==null?a=0:typeof r=="string"&&typeof s=="string"?a=r.localeCompare(s,void 0,{numeric:!0}):a=r<s?-1:r>s?1:0,this.sortOrder*a});for(let t of e)this.sortNodes(t.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((t,o)=>this.multisortField(t,o,this.multiSortMeta,0));for(let t of e)this.sortMultipleNodes(t.children)}}multisortField(e,t,o,r){if(jo(this.multiSortMeta)||jo(o[r]))return 0;let s=zi(e.data,o[r].field),a=zi(t.data,o[r].field),l=0;if(s==null&&a!=null?l=-1:s!=null&&a==null?l=1:s==null&&a==null&&(l=0),typeof s=="string"||s instanceof String){if(s.localeCompare&&s!=a)return o[r].order*s.localeCompare(a,void 0,{numeric:!0})}else l=s<a?-1:1;return s==a?o.length-1>r?this.multisortField(e,t,o,r+1):0:o[r].order*l}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let o=0;o<this.multiSortMeta.length;o++)if(this.multiSortMeta[o].field==e){t=!0;break}}return t}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Fe(ee(ee({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let t=ta(this.el?.nativeElement).left;this.lastResizerHelperX=e.pageX-t+this.el?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let t=ta(this.el?.nativeElement).left;fo(this.el?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.el?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.el?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,t){let o=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=t.offsetWidth,s=r+o,a=t.style.minWidth||15;if(r+o>parseInt(a)){if(this.columnResizeMode==="fit"){let l=t.nextElementSibling;for(;!l.offsetParent;)l=l.nextElementSibling;if(l){let c=l.offsetWidth-o,d=l.style.minWidth||15;if(s>15&&c>parseInt(d))if(this.scrollable){let u=this.findParentScrollableView(t),m=Et(u,".p-treetable-scrollable-body table")||Et(u,".p-scroller-viewport table"),g=Et(u,"table.p-treetable-scrollable-header-table"),y=Et(u,"table.p-treetable-scrollable-footer-table"),v=Pu(t);this.resizeColGroup(g,v,s,c),this.resizeColGroup(m,v,s,c),this.resizeColGroup(y,v,s,c)}else t.style.width=s+"px",l&&(l.style.width=c+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let l=this.findParentScrollableView(t),c=Et(l,".p-treetable-scrollable-body")||Et(l,".p-scroller-viewport"),d=Et(l,".p-treetable-scrollable-header"),u=Et(l,".p-treetable-scrollable-footer"),m=Et(l,".p-treetable-scrollable-body table")||Et(l,".p-scroller-viewport table"),g=Et(l,"table.p-treetable-scrollable-header-table"),y=Et(l,"table.p-treetable-scrollable-footer-table");m.style.width=m.offsetWidth+o+"px",g.style.width=g.offsetWidth+o+"px",y&&(y.style.width=y.offsetWidth+o+"px");let v=Pu(t),S=t?m.offsetWidth+o:s,I=t?g.offsetWidth+o:s,P=this.el?.nativeElement.offsetWidth>=S,L=(F,K,le,me)=>{F&&K&&(F.style.width=me?le+Af(c)+"px":"auto",K.style.width=le+"px")};L(c,m,S,P),L(d,g,I,P),L(u,y,I,P),this.resizeColGroup(g,v,s,null),this.resizeColGroup(m,v,s,null),this.resizeColGroup(y,v,s,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+o+"px",t.style.width=s+"px";let l=this.tableViewChild?.nativeElement.style.width;this.el.nativeElement.style.width=l+"px"}this.onColResize.emit({element:t,delta:o})}this.resizeHelperViewChild.nativeElement.style.display="none",hr(this.el?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let t=e.parentElement;for(;t&&!no(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}else return null}resizeColGroup(e,t,o,r){if(e){let s=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(s){let a=s.children[t],l=a.nextElementSibling;a.style.width=o+"px",l&&r&&(l.style.width=r+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,t){this.reorderIconWidth=Fg(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=dy(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let o=ta(this.el?.nativeElement),r=ta(t);if(this.draggedColumn!=t){let s=r.left-o.left,a=o.top-r.top,l=r.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=r.top-o.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=r.top-o.top+t.offsetHeight+"px",e.pageX>l?(this.reorderIndicatorUpViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=s-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let o=st.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),r=st.indexWithinGroup(t,"ttreorderablecolumn"),s=o!=r;s&&(r-o==1&&this.dropPosition===-1||o-r==1&&this.dropPosition===1)&&(s=!1),s&&r<o&&this.dropPosition===1&&(r=r+1),s&&r>o&&this.dropPosition===-1&&(r=r-1),s&&(u8(this.columns,o,r),this.onColReorder.emit({dragIndex:o,dropIndex:r,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let t=e.originalEvent.target.nodeName;if(!(t=="INPUT"||t=="BUTTON"||t=="A"||no(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let o=e.rowNode,r=this.isSelected(o.node),s=this.rowTouched?!1:this.metaKeySelection,a=this.dataKey?String(zi(o.node.data,this.dataKey)):null;if(s){let l=e.originalEvent,c=l.metaKey||l.ctrlKey;if(r&&c){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let d=this.findIndexInSelection(o.node);this._selection=this.selection.filter((u,m)=>m!=d),this.selectionChange.emit(this.selection),a&&delete this.selectedKeys[a]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=o.node,this.selectionChange.emit(o.node),a&&(this.selectedKeys={},this.selectedKeys[a]=1)):this.isMultipleSelectionMode()&&(c?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,o.node],this.selectionChange.emit(this.selection),a&&(this.selectedKeys[a]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")r?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"})):(this._selection=o.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys={},this.selectedKeys[a]=1));else if(this.selectionMode==="multiple")if(r){let l=this.findIndexInSelection(o.node);this._selection=this.selection.filter((c,d)=>d!=l),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:o.node,type:"row"}),a&&delete this.selectedKeys[a]}else this._selection=this.selection?[...this.selection,o.node]:[o.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:o.node,type:"row",index:e.rowIndex}),a&&(this.selectedKeys[a]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowNode.node,o=()=>{this.contextMenu.show(e.originalEvent),this.contextMenu.hideCallback=()=>{this.contextMenuSelection=null,this.contextMenuSelectionChange.emit(null),this.tableService.onContextMenu(null)}};if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t}),o(),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let r=this.isSelected(t),s=this.dataKey?String(zi(t.data,this.dataKey)):null;r||(this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t)):this.isMultipleSelectionMode()&&(this.selection=[t],this.selectionChange.emit(this.selection)),s&&(this.selectedKeys[s]=1)),o(),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let t=e.rowNode.node;this.isSelected(t)?(this.propagateSelectionDown(t,!1),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown(t,!0),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,t){let o=this.filteredNodes||this.value;this._selection=t&&o?o.slice():[],this.toggleAll(t),t||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t})}toggleAll(e){let t=this.filteredNodes||this.value;if(this.selectionKeys){if(t&&t.length){for(let o of t)this.propagateDown(o,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(t&&t.length)for(let o of t)this.propagateSelectionDown(o,e)}propagateSelectionUp(e,t){if(e.children&&e.children.length){let r=0,s=!1,a=this.dataKey?String(zi(e.data,this.dataKey)):null;for(let l of e.children)this.isSelected(l)?r++:l.partialSelected&&(s=!0);if(t&&r==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,a&&(this.selectedKeys[a]=1);else{if(!t){let l=this.findIndexInSelection(e);l>=0&&(this._selection=this.selection.filter((c,d)=>d!=l),a&&delete this.selectedKeys[a])}s||r>0&&r!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let o=e.parent;e.checked=t,o&&this.propagateSelectionUp(o,t)}propagateSelectionDown(e,t){let o=this.findIndexInSelection(e),r=this.dataKey?String(zi(e.data,this.dataKey)):null;if(t&&o==-1?(this._selection=[...this.selection||[],e],r&&(this.selectedKeys[r]=1)):!t&&o>-1&&(this._selection=this.selection.filter((s,a)=>a!=o),r&&delete this.selectedKeys[r]),e.partialSelected=!1,e.checked=t,e.children&&e.children.length)for(let s of e.children)this.propagateSelectionDown(s,t)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[zi(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return zi(e,this.dataKey)||zi(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:t,check:o,originalEvent:r}=e,s=t.node;this.selectionKeys?(this.propagateDown(s,o),s.parent&&this.propagateUp(s.parent,o),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:r,rowNode:t}),this.tableService.onSelectionChange()}propagateDown(e,t){if(t?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let o of e.children)this.propagateDown(o,t)}propagateUp(e,t){let o=0,r=!1;for(let a of e.children)this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].checked?o++:this.selectionKeys[this.nodeKey(a)]&&this.selectionKeys[this.nodeKey(a)].partialChecked&&(r=!0);t&&o===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(t||delete this.selectionKeys[this.nodeKey(e)],r||o>0&&o!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let s=e.parent;s&&this.propagateUp(s,t)}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let o=0;o<this.selection.length;o++)if(this.equals(e,this.selection[o])){t=o;break}}return t}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,t){return this.compareSelectionBy==="equals"?Kn(e,t):Kn(e.data,t.data,this.dataKey)}filter(e,t,o){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:o},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredNodes=[];let o=this.filterMode==="strict",r=!1;for(let s of this.value){let a=ee({},s),l=!0,c=!1,d;for(let m in this.filters)if(this.filters.hasOwnProperty(m)&&m!=="global"){let g=this.filters[m],y=m,v=g.value,S=g.matchMode||"startsWith",I=this.filterService.filters[S];if(d={filterField:y,filterValue:v,filterConstraint:I,isStrictMode:o},(o&&!(this.findFilteredNodes(a,d)||this.isFilterMatched(a,d))||!o&&!(this.isFilterMatched(a,d)||this.findFilteredNodes(a,d)))&&(l=!1),!l)break}if(this.filters.global&&!c&&t){let m=ee({},a),g,y=this.filters.global.value,v=this.filterService.filters[this.filters.global.matchMode];d={filterField:g,filterValue:y,filterConstraint:v,isStrictMode:o,globalFilterFieldsArray:t},(o&&(this.findFilteredNodes(m,d)||this.isFilterMatched(m,d))||!o&&(this.isFilterMatched(m,d)||this.findFilteredNodes(m,d)))&&(c=!0,a=m)}let u=l;this.filters.global&&(u=l&&c),u&&this.filteredNodes.push(a),r=r||!l||c||l&&this.filteredNodes.length>0||!c&&this.filteredNodes.length===0}r||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,t){if(e){let o=!1;if(e.children){let r=[...e.children];e.children=[];for(let s of r){let a=ee({},s);this.isFilterMatched(a,t)&&(o=!0,e.children.push(a))}}if(o)return!0}}isFilterMatched(e,t){let{filterField:o,filterValue:r,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l}=t,c=!1,d=u=>s(zi(e.data,u),r,this.filterLocale);return c=l?.length?l.some(u=>d(u.field||u)):d(o),(!c||a&&!this.isNodeLeaf(e))&&(c=this.findFilteredNodes(e,{filterField:o,filterValue:r,filterConstraint:s,isStrictMode:a,globalFilterFieldsArray:l})||c),c}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,t,o){this.editingCell=e,this.editingCellData=t,this.editingCellField=o,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&ir(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(hr(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}onDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-treeTable"],["p-treetable"],["p-tree-table"]],contentQueries:function(t,o,r){if(t&1&&(se(r,eze,4),se(r,tze,4),se(r,ize,4),se(r,nze,4),se(r,oze,4),se(r,rze,4),se(r,sze,4),se(r,aze,4),se(r,lze,4),se(r,cze,4),se(r,dze,4),se(r,pze,4),se(r,uze,4),se(r,hze,4),se(r,fze,4),se(r,mze,4),se(r,gze,4),se(r,_ze,4),se(r,bze,4),se(r,yze,4),se(r,vze,4),se(r,wze,4),se(r,Cze,4),se(r,Sze,4),se(r,Ize,4),se(r,Eze,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o._colGroupTemplate=s.first),W(s=$())&&(o._captionTemplate=s.first),W(s=$())&&(o._headerTemplate=s.first),W(s=$())&&(o._bodyTemplate=s.first),W(s=$())&&(o._footerTemplate=s.first),W(s=$())&&(o._summaryTemplate=s.first),W(s=$())&&(o._emptyMessageTemplate=s.first),W(s=$())&&(o._paginatorLeftTemplate=s.first),W(s=$())&&(o._paginatorRightTemplate=s.first),W(s=$())&&(o._paginatorDropdownItemTemplate=s.first),W(s=$())&&(o._frozenHeaderTemplate=s.first),W(s=$())&&(o._frozenBodyTemplate=s.first),W(s=$())&&(o._frozenFooterTemplate=s.first),W(s=$())&&(o._frozenColGroupTemplate=s.first),W(s=$())&&(o._loadingIconTemplate=s.first),W(s=$())&&(o._reorderIndicatorUpIconTemplate=s.first),W(s=$())&&(o._reorderIndicatorDownIconTemplate=s.first),W(s=$())&&(o._sortIconTemplate=s.first),W(s=$())&&(o._checkboxIconTemplate=s.first),W(s=$())&&(o._headerCheckboxIconTemplate=s.first),W(s=$())&&(o._togglerIconTemplate=s.first),W(s=$())&&(o._paginatorFirstPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorLastPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorPreviousPageLinkIconTemplate=s.first),W(s=$())&&(o._paginatorNextPageLinkIconTemplate=s.first),W(s=$())&&(o._loaderTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(xze,5),_e(Tze,5),_e(Oze,5),_e(Rze,5),_e(Dze,5),_e(Pze,5)),t&2){let r;W(r=$())&&(o.resizeHelperViewChild=r.first),W(r=$())&&(o.reorderIndicatorUpViewChild=r.first),W(r=$())&&(o.reorderIndicatorDownViewChild=r.first),W(r=$())&&(o.tableViewChild=r.first),W(r=$())&&(o.scrollableViewChild=r.first),W(r=$())&&(o.scrollableFrozenViewChild=r.first)}},hostVars:3,hostBindings:function(t,o){t&2&&(ce("data-scrollselectors",".p-treetable-scrollable-body"),j(o.cn(o.cx("root"),o.styleClass)))},inputs:{columns:"columns",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[2,"autoLayout","autoLayout",Z],lazy:[2,"lazy","lazy",Z],lazyLoadOnInit:[2,"lazyLoadOnInit","lazyLoadOnInit",Z],paginator:[2,"paginator","paginator",Z],rows:[2,"rows","rows",Je],first:[2,"first","first",Je],pageLinks:[2,"pageLinks","pageLinks",Je],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[2,"alwaysShowPaginator","alwaysShowPaginator",Z],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[2,"showCurrentPageReport","showCurrentPageReport",Z],showJumpToPageDropdown:[2,"showJumpToPageDropdown","showJumpToPageDropdown",Z],showFirstLastIcon:[2,"showFirstLastIcon","showFirstLastIcon",Z],showPageLinks:[2,"showPageLinks","showPageLinks",Z],defaultSortOrder:[2,"defaultSortOrder","defaultSortOrder",Je],sortMode:"sortMode",resetPageOnSort:[2,"resetPageOnSort","resetPageOnSort",Z],customSort:[2,"customSort","customSort",Z],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[2,"metaKeySelection","metaKeySelection",Z],compareSelectionBy:"compareSelectionBy",rowHover:[2,"rowHover","rowHover",Z],loading:[2,"loading","loading",Z],loadingIcon:"loadingIcon",showLoader:[2,"showLoader","showLoader",Z],scrollable:[2,"scrollable","scrollable",Z],scrollHeight:"scrollHeight",virtualScroll:[2,"virtualScroll","virtualScroll",Z],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Je],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[2,"virtualScrollDelay","virtualScrollDelay",Je],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[2,"resizableColumns","resizableColumns",Z],columnResizeMode:"columnResizeMode",reorderableColumns:[2,"reorderableColumns","reorderableColumns",Z],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[2,"filterDelay","filterDelay",Je],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys",showGridlines:[2,"showGridlines","showGridlines",Z]},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},standalone:!1,features:[Se([r3,b0,{provide:I$e,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:10,vars:10,consts:[["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],[3,"pBind","class",4,"ngIf"],[3,"pt","rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale","onPageChange",4,"ngIf"],[3,"pBind","class","display",4,"ngIf"],[3,"pBind"],[3,"class",4,"ngIf"],[4,"ngIf"],["data-p-icon","spinner",3,"spin","class",4,"ngIf"],["data-p-icon","spinner",3,"spin"],[4,"ngTemplateOutlet"],[3,"onPageChange","pt","rows","first","totalRecords","pageLinkSize","styleClass","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","appendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],["role","treegrid",3,"pBind","ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",3,"pBind"],["role","rowgroup",3,"pBind","pTreeTableBody","pTreeTableBodyTemplate"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight","pBind",4,"ngIf"],[3,"pBind","ttScrollableView","frozen","scrollHeight","ngStyle"],[3,"ngClass","ttScrollableView","frozen","ngStyle","scrollHeight","pBind"],["data-p-icon","arrow-down",4,"ngIf"],["data-p-icon","arrow-down"],["data-p-icon","arrow-up",4,"ngIf"],["data-p-icon","arrow-up"]],template:function(t,o){t&1&&E(0,jze,4,8,"div",6)(1,Hze,2,4,"div",6)(2,iWe,5,22,"p-paginator",7)(3,sWe,9,29,"div",6)(4,lWe,4,14,"div",6)(5,wWe,5,22,"p-paginator",7)(6,SWe,2,4,"div",6)(7,IWe,2,5,"div",8)(8,OWe,4,7,"span",8)(9,AWe,4,7,"span",8),t&2&&(f("ngIf",o.loading&&o.showLoader),p(),f("ngIf",o.captionTemplate||o._captionTemplate),p(),f("ngIf",o.paginator&&(o.paginatorPosition==="top"||o.paginatorPosition=="both")),p(),f("ngIf",!o.scrollable),p(),f("ngIf",o.scrollable),p(),f("ngIf",o.paginator&&(o.paginatorPosition==="bottom"||o.paginatorPosition=="both")),p(),f("ngIf",o.summaryTemplate||o._summaryTemplate),p(),f("ngIf",o.resizableColumns),p(),f("ngIf",o.reorderableColumns),p(),f("ngIf",o.reorderableColumns))},dependencies:()=>[$t,pt,gt,ft,Ey,_t,cl,zg,Wg,pe,E$e,xZ],encapsulation:2})}return i})(),xZ=(()=>{class i extends Xe{tt;treeTableService;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,t){super(),this.tt=e,this.treeTableService=t,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,t){return this.tt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.getScrollerOption("getItemOptions");return t?t(e).index:e}onDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(x(Iw),x(r3))};static \u0275cmp=oe({type:i,selectors:[["","pTreeTableBody",""]],inputs:{columns:[0,"pTreeTableBody","columns"],template:[0,"pTreeTableBodyTemplate","template"],frozen:[2,"frozen","frozen",Z],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},standalone:!1,features:[re],attrs:kWe,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){t&1&&E(0,BWe,1,1,"ng-template",0)(1,UWe,2,5,"ng-container",1),t&2&&(f("ngForOf",o.serializedNodes||o.tt.serializedValue)("ngForTrackBy",o.tt.rowTrackBy),p(),f("ngIf",o.tt.isEmpty()))},dependencies:[Mn,pt,gt],encapsulation:2})}return i})(),E$e=(()=>{class i extends Xe{tt;zone;hostName="TreeTable";columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;_componentStyle=z(b0);get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,t){super(),this.tt=e,this.zone=t}onAfterViewInit(){if(At(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=Y6()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate||this.tt._frozenBodyTemplate)&&fo(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;if(e&&(this.tt.virtualScroll?this.frozenSiblingBody=Et(e,".p-scroller-viewport"):this.frozenSiblingBody=Et(e,".p-treetable-scrollable-body")),this.scrollHeight){let t=Af();this.scrollHeaderBoxViewChild?.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=t+"px"),this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=t+"px")}}this.bindEvents()}}bindEvents(){At(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){At(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}onDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(t){return new(t||i)(x(Iw),x(Ft))};static \u0275cmp=oe({type:i,selectors:[["","ttScrollableView",""]],viewQuery:function(t,o){if(t&1&&(_e(jWe,5),_e(GWe,5),_e(HWe,5),_e(zWe,5),_e(WWe,5),_e($We,5),_e(KWe,5),_e(qWe,5),_e(JWe,5)),t&2){let r;W(r=$())&&(o.scrollHeaderViewChild=r.first),W(r=$())&&(o.scrollHeaderBoxViewChild=r.first),W(r=$())&&(o.scrollBodyViewChild=r.first),W(r=$())&&(o.scrollTableViewChild=r.first),W(r=$())&&(o.scrollLoadingTableViewChild=r.first),W(r=$())&&(o.scrollFooterViewChild=r.first),W(r=$())&&(o.scrollFooterBoxViewChild=r.first),W(r=$())&&(o.scrollableAlignerViewChild=r.first),W(r=$())&&(o.scroller=r.first)}},inputs:{columns:[0,"ttScrollableView","columns"],frozen:[2,"frozen","frozen",Z],scrollHeight:"scrollHeight"},standalone:!1,features:[Se([b0]),re],attrs:QWe,decls:13,vars:24,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["content",""],["loader",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[3,"pBind"],[3,"pBind","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",3,"pBind"],[3,"items","styleClass","style","scrollHeight","itemSize","lazy","options","pt","onLazyLoad",4,"ngIf"],[4,"ngIf"],[3,"class","pBind",4,"ngIf"],[3,"onLazyLoad","items","styleClass","scrollHeight","itemSize","lazy","options","pt"],["role","treegrid",3,"pBind","ngClass","ngStyle"],["role","rowgroup",3,"pBind","pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"background-color",4,"ngIf"],[3,"ngClass","ngStyle","pBind"]],template:function(t,o){t&1&&(_(0,"div",11,0)(2,"div",11,1)(4,"table",12),E(5,t$e,1,0,"ng-container",13),_(6,"thead",14),E(7,i$e,1,0,"ng-container",13),b()()()(),E(8,l$e,5,12,"p-scroller",15)(9,d$e,4,13,"ng-container",16)(10,h$e,5,20,"ng-template",null,2,ie)(12,g$e,8,22,"div",17)),t&2&&(j(o.cx("scrollableHeader")),f("pBind",o.ptm("scrollableHeader")),p(2),j(o.cx("scrollableHeaderBox")),f("pBind",o.ptm("scrollableHeaderBox")),p(2),j(o.cn(o.cx("scrollableHeaderTable"),o.tt.tableStyleClass)),f("pBind",o.ptm("scrollableHeaderTable"))("ngStyle",o.tt.tableStyle),p(),f("ngTemplateOutlet",o.frozen?o.tt.frozenColGroupTemplate||o.tt._frozenColGroupTemplate||o.tt.colGroupTemplate||o.tt._colGroupTemplate:o.tt.colGroupTemplate||o.tt._colGroupTemplate)("ngTemplateOutletContext",de(20,iu,o.columns)),p(),j(o.cx("thead")),f("pBind",o.ptm("thead")),p(),f("ngTemplateOutlet",o.frozen?o.tt.frozenHeaderTemplate||o.tt._frozenHeaderTemplate||o.tt.headerTemplate||o.tt._headerTemplate:o.tt.headerTemplate||o.tt._headerTemplate)("ngTemplateOutletContext",de(22,iu,o.columns)),p(),f("ngIf",o.tt.virtualScroll),p(),f("ngIf",!o.tt.virtualScroll),p(3),f("ngIf",o.tt.footerTemplate||o.tt._footerTemplate))},dependencies:()=>[$t,pt,gt,ft,Fa,pe,xZ],encapsulation:2})}return i})();var TZ=(()=>{class i extends Xe{tt;hostName="TreeTable";bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("toggler"))}rowNode;_componentStyle=z(b0);constructor(e){super(),this.tt=e}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation?.aria?.collapseRow:this.config.translation?.aria?.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(t){return new(t||i)(x(Iw))};static \u0275cmp=oe({type:i,selectors:[["p-treeTableToggler"],["p-treetabletoggler"],["p-treetable-toggler"]],inputs:{rowNode:"rowNode"},standalone:!1,features:[Se([b0]),nt([pe]),re],decls:3,vars:14,consts:[["type","button","tabindex","-1","pRipple","",3,"click","pBind"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","chevron-down",3,"pBind",4,"ngIf"],["data-p-icon","chevron-right",3,"pBind",4,"ngIf"],["data-p-icon","chevron-down",3,"pBind"],["data-p-icon","chevron-right",3,"pBind"]],template:function(t,o){t&1&&(_(0,"button",0),A("click",function(s){return o.onClick(s)}),E(1,y$e,3,2,"ng-container",1)(2,w$e,1,0,null,2),b()),t&2&&(j(o.cx("toggler")),Kt("visibility",o.rowNode.node.leaf===!1||o.rowNode.node.children&&o.rowNode.node.children.length?"visible":"hidden")("margin-inline-start",o.rowNode.level*16+"px"),f("pBind",o.ptm("rowToggleButton")),ce("data-pc-group-section","rowactionbutton")("aria-label",o.toggleButtonAriaLabel),p(),f("ngIf",!o.tt.togglerIconTemplate&&!o.tt._togglerIconTemplate),p(),f("ngTemplateOutlet",o.tt.togglerIconTemplate||o.tt._togglerIconTemplate)("ngTemplateOutletContext",de(12,iu,o.rowNode.node.expanded)))},dependencies:()=>[pt,gt,oo,ll,vp,pe],encapsulation:2})}return i})(),OZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[Qe,oI,Fa,cl,zg,Wg,_y,yy,by,Bl,gd,ll,vp,or,Oe,rs,Pt,Oe]})}return i})();var RZ=`
    .p-steps {
        position: relative;
    }

    .p-steps-list {
        padding: 0;
        margin: 0;
        list-style-type: none;
        display: flex;
    }

    .p-steps-item {
        position: relative;
        display: flex;
        justify-content: center;
        flex: 1 1 auto;
    }

    .p-steps-item.p-disabled,
    .p-steps-item.p-disabled * {
        opacity: 1;
        pointer-events: auto;
        user-select: auto;
        cursor: auto;
    }

    .p-steps-item:before {
        content: ' ';
        border-top: 2px solid dt('steps.separator.background');
        width: 100%;
        top: 50%;
        left: 0;
        display: block;
        position: absolute;
        margin-top: calc(-1rem + 1px);
    }

    .p-steps-item:first-child::before {
        width: calc(50% + 1rem);
        transform: translateX(100%);
    }

    .p-steps-item:last-child::before {
        width: 50%;
    }

    .p-steps-item-link {
        display: inline-flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
        text-decoration: none;
        transition:
            outline-color dt('steps.transition.duration'),
            box-shadow dt('steps.transition.duration');
        border-radius: dt('steps.item.link.border.radius');
        outline-color: transparent;
        gap: dt('steps.item.link.gap');
    }

    .p-steps-item-link:not(.p-disabled):focus-visible {
        box-shadow: dt('steps.item.link.focus.ring.shadow');
        outline: dt('steps.item.link.focus.ring.width') dt('steps.item.link.focus.ring.style') dt('steps.item.link.focus.ring.color');
        outline-offset: dt('steps.item.link.focus.ring.offset');
    }

    .p-steps-item-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
        color: dt('steps.item.label.color');
        display: block;
        font-weight: dt('steps.item.label.font.weight');
    }

    .p-steps-item-number {
        display: flex;
        align-items: center;
        justify-content: center;
        color: dt('steps.item.number.color');
        border: 2px solid dt('steps.item.number.border.color');
        background: dt('steps.item.number.background');
        min-width: dt('steps.item.number.size');
        height: dt('steps.item.number.size');
        line-height: dt('steps.item.number.size');
        font-size: dt('steps.item.number.font.size');
        z-index: 1;
        border-radius: dt('steps.item.number.border.radius');
        position: relative;
        font-weight: dt('steps.item.number.font.weight');
    }

    .p-steps-item-number::after {
        content: ' ';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: dt('steps.item.number.border.radius');
        box-shadow: dt('steps.item.number.shadow');
    }

    .p-steps:not(.p-readonly) .p-steps-item {
        cursor: pointer;
    }

    .p-steps-item-active .p-steps-item-number {
        background: dt('steps.item.number.active.background');
        border-color: dt('steps.item.number.active.border.color');
        color: dt('steps.item.number.active.color');
    }

    .p-steps-item-active .p-steps-item-label {
        color: dt('steps.item.label.active.color');
    }
`;var T$e=["list"],O$e=(i,n)=>({item:i,index:n}),R$e=()=>({exact:!1}),D$e=(i,n)=>n.label;function P$e(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3).$implicit,t=h();j(t.cx("itemLabel")),p(),Q(e.label)}}function A$e(i,n){if(i&1&&N(0,"span",12),i&2){let e=h(3).$implicit,t=h();j(t.cx("itemLabel")),f("innerHTML",e.label,on)}}function k$e(i,n){if(i&1){let e=B();_(0,"a",10),A("click",function(o){w(e);let r=h(2),s=r.$implicit,a=r.$index,l=h();return C(l.onItemClick(o,s,a))})("keydown",function(o){w(e);let r=h(2),s=r.$implicit,a=r.$index,l=h();return C(l.onItemKeydown(o,s,a))}),_(1,"span"),R(2),b(),E(3,P$e,2,3,"span",11)(4,A$e,1,3,"ng-template",null,3,ie),b()}if(i&2){let e=Ze(5),t=h(2),o=t.$implicit,r=t.$index,s=h();j(s.cx("itemLink")),f("routerLink",o.routerLink)("queryParams",o.queryParams)("routerLinkActiveOptions",o.routerLinkActiveOptions||Pe(21,R$e))("target",o.target)("fragment",o.fragment)("queryParamsHandling",o.queryParamsHandling)("preserveFragment",o.preserveFragment)("skipLocationChange",o.skipLocationChange)("replaceUrl",o.replaceUrl)("state",o.state),ce("tabindex",s.getItemTabIndex(o,r))("aria-expanded",r===s.activeIndex)("aria-disabled",o.disabled||s.readonly&&r!==s.activeIndex)("ariaCurrentWhenActive",s.exact?"step":void 0),p(),j(s.cx("itemNumber")),p(),Q(r+1),p(),f("ngIf",o.escape!==!1)("ngIfElse",e)}}function N$e(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3).$implicit,t=h();j(t.cx("itemLabel")),p(),Q(e.label)}}function F$e(i,n){if(i&1&&N(0,"span",12),i&2){let e=h(3).$implicit,t=h();j(t.cx("itemLabel")),f("innerHTML",e.label,on)}}function L$e(i,n){if(i&1){let e=B();_(0,"a",13),A("click",function(o){w(e);let r=h(2),s=r.$implicit,a=r.$index,l=h();return C(l.onItemClick(o,s,a))})("keydown",function(o){w(e);let r=h(2),s=r.$implicit,a=r.$index,l=h();return C(l.onItemKeydown(o,s,a))}),_(1,"span"),R(2),b(),E(3,N$e,2,3,"span",11)(4,F$e,1,3,"ng-template",null,4,ie),b()}if(i&2){let e=Ze(5),t=h(2),o=t.$implicit,r=t.$index,s=h();j(s.cx("itemLink")),f("target",o.target),ce("href",o.url,Cr)("tabindex",s.getItemTabIndex(o,r))("aria-expanded",r===s.activeIndex)("aria-disabled",o.disabled||s.readonly&&r!==s.activeIndex)("ariaCurrentWhenActive",s.exact&&(!o.disabled||s.readonly)?"step":void 0),p(),j(s.cx("itemNumber")),p(),Q(r+1),p(),f("ngIf",o.escape!==!1)("ngIfElse",e)}}function M$e(i,n){if(i&1&&(_(0,"li",8,1),E(2,k$e,6,22,"a",9)(3,L$e,6,13,"ng-template",null,2,ie),b()),i&2){let e=Ze(4),t=h(),o=t.$implicit,r=t.$index,s=h();j(s.cx("item",Ct(9,O$e,o,r))),f("ngStyle",o.style)("tooltipOptions",o.tooltipOptions),ce("aria-current",s.isActive(o,r)?"step":void 0)("id",o.id)("data-pc-section","menuitem"),p(2),f("ngIf",s.isClickableRouterLink(o))("ngIfElse",e)}}function B$e(i,n){if(i&1&&E(0,M$e,5,12,"li",7),i&2){let e=n.$implicit;f("ngIf",e.visible!==!1)}}var V$e={root:({instance:i})=>["p-steps p-component",{"p-readonly":i.readonly}],list:"p-steps-list",item:({instance:i,item:n,index:e})=>["p-steps-item",{"p-steps-item-active":i.isActive(n,e),"p-disabled":i.isItemDisabled(n,e)}],itemLink:"p-steps-item-link",itemNumber:"p-steps-item-number",itemLabel:"p-steps-item-label"},DZ=(()=>{class i extends Ye{name="steps";style=RZ;classes=V$e;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var U$e=(()=>{class i extends Xe{activeIndex=0;model;readonly=!0;style;styleClass;exact=!0;activeIndexChange=new te;listViewChild;router=z(at);route=z(Tc);_componentStyle=z(DZ);subscription;onInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}onItemClick(e,t,o){if(this.readonly||t.disabled){e.preventDefault();return}this.activeIndexChange.emit(o),!t.url&&!t.routerLink&&e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:o})}onItemKeydown(e,t,o){switch(e.code){case"ArrowRight":{this.navigateToNextItem(e.target),e.preventDefault();break}case"ArrowLeft":{this.navigateToPrevItem(e.target),e.preventDefault();break}case"Home":{this.navigateToFirstItem(e.target),e.preventDefault();break}case"End":{this.navigateToLastItem(e.target),e.preventDefault();break}case"Tab":if(o!==(this.activeIndex??-1)){let r=ir(this.listViewChild?.nativeElement,'[data-pc-section="menuitem"]');r[o].children[0].tabIndex="-1",r[this.activeIndex??0].children[0].tabIndex="0"}break;case"Enter":case"Space":{this.onItemClick(e,t,o),e.preventDefault();break}default:break}}navigateToNextItem(e){let t=this.findNextItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToPrevItem(e){let t=this.findPrevItem(e);t&&this.setFocusToMenuitem(e,t)}navigateToFirstItem(e){let t=this.findFirstItem();t&&this.setFocusToMenuitem(e,t)}navigateToLastItem(e){let t=this.findLastItem();t&&this.setFocusToMenuitem(e,t)}findNextItem(e){let t=e.parentElement.nextElementSibling;return t?t.children[0]:null}findPrevItem(e){let t=e.parentElement.previousElementSibling;return t?t.children[0]:null}findFirstItem(){let e=Et(this.listViewChild?.nativeElement,'[data-pc-section="menuitem"]');return e?e.children[0]:null}findLastItem(){let e=ir(this.listViewChild?.nativeElement,'[data-pc-section="menuitem"]');return e?e[e.length-1].children[0]:null}setFocusToMenuitem(e,t){e.tabIndex="-1",t.tabIndex="0",t.focus()}isClickableRouterLink(e){return e.routerLink&&!this.readonly&&!e.disabled}isItemDisabled(e,t){return e.disabled||this.readonly&&!this.isActive(e,t)}isActive(e,t){if(e.routerLink){let o=Array.isArray(e.routerLink)?e.routerLink:[e.routerLink];return this.router.isActive(this.router.createUrlTree(o,{relativeTo:this.route}).toString(),!1)}return t===this.activeIndex}getItemTabIndex(e,t){return e.disabled?"-1":!e.disabled&&this.activeIndex===t?e.tabindex||"0":e.tabindex??"-1"}onDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275cmp=oe({type:i,selectors:[["p-steps"]],viewQuery:function(t,o){if(t&1&&_e(T$e,5),t&2){let r;W(r=$())&&(o.listViewChild=r.first)}},inputs:{activeIndex:[2,"activeIndex","activeIndex",Je],model:"model",readonly:[2,"readonly","readonly",Z],style:"style",styleClass:"styleClass",exact:[2,"exact","exact",Z]},outputs:{activeIndexChange:"activeIndexChange"},features:[Se([DZ]),re],decls:5,vars:7,consts:[["list",""],["menuitem",""],["elseBlock",""],["htmlLabel",""],["htmlRouteLabel",""],[3,"ngStyle"],["pTooltip","",3,"class","ngStyle","tooltipOptions"],["pTooltip","",3,"class","ngStyle","tooltipOptions",4,"ngIf"],["pTooltip","",3,"ngStyle","tooltipOptions"],["role","link",3,"routerLink","queryParams","routerLinkActiveOptions","class","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown",4,"ngIf","ngIfElse"],["role","link",3,"click","keydown","routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[3,"class",4,"ngIf","ngIfElse"],[3,"innerHTML"],["role","link",3,"click","keydown","target"]],template:function(t,o){t&1&&(_(0,"nav",5)(1,"ul",null,0),fn(3,B$e,1,1,"li",6,D$e),b()()),t&2&&(j(o.cn(o.cx("root"),o.styleClass)),f("ngStyle",o.style),ce("data-pc-name","steps"),p(),j(o.cx("list")),ce("data-pc-section","menu"),p(2),mn(o.model))},dependencies:[Qe,pt,ft,Ul,Vl,na,cn,Oe],encapsulation:2,changeDetection:0})}return i})(),PZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[U$e,Oe,Oe]})}return i})();var AZ=`
    .p-contextmenu {
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
        min-width: 12.5rem;
    }

    .p-contextmenu-root-list,
    .p-contextmenu-submenu {
        margin: 0;
        padding: dt('contextmenu.list.padding');
        list-style: none;
        outline: 0 none;
        display: flex;
        flex-direction: column;
        gap: dt('contextmenu.list.gap');
    }

    .p-contextmenu-submenu {
        position: absolute;
        display: flex;
        flex-direction: column;
        min-width: 100%;
        z-index: 1;
        background: dt('contextmenu.background');
        color: dt('contextmenu.color');
        border: 1px solid dt('contextmenu.border.color');
        border-radius: dt('contextmenu.border.radius');
        box-shadow: dt('contextmenu.shadow');
    }

    .p-contextmenu-item {
        position: relative;
    }

    .p-contextmenu-item-content {
        transition:
            background dt('contextmenu.transition.duration'),
            color dt('contextmenu.transition.duration');
        border-radius: dt('contextmenu.item.border.radius');
        color: dt('contextmenu.item.color');
    }

    .p-contextmenu-item-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
        color: inherit;
        padding: dt('contextmenu.item.padding');
        gap: dt('contextmenu.item.gap');
        user-select: none;
    }

    .p-contextmenu-item-label {
        line-height: 1;
    }

    .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.color');
    }

    .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.color');
        margin-left: auto;
        font-size: dt('contextmenu.submenu.icon.size');
        width: dt('contextmenu.submenu.icon.size');
        height: dt('contextmenu.submenu.icon.size');
    }

    .p-contextmenu-submenu-icon:dir(rtl) {
        margin-left: 0;
        margin-right: auto;
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item.p-focus > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover {
        color: dt('contextmenu.item.focus.color');
        background: dt('contextmenu.item.focus.background');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.focus.color');
    }

    .p-contextmenu-item:not(.p-disabled) > .p-contextmenu-item-content:hover .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.focus.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content {
        color: dt('contextmenu.item.active.color');
        background: dt('contextmenu.item.active.background');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-item-icon {
        color: dt('contextmenu.item.icon.active.color');
    }

    .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        color: dt('contextmenu.submenu.icon.active.color');
    }

    .p-contextmenu-separator {
        border-block-start: 1px solid dt('contextmenu.separator.border.color');
    }

    .p-contextmenu-enter-from,
    .p-contextmenu-leave-active {
        opacity: 0;
    }

    .p-contextmenu-enter-active {
        transition: opacity 250ms;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu {
        position: static;
        box-shadow: none;
        border: 0 none;
        padding-inline-start: dt('tieredmenu.submenu.mobile.indent');
        padding-inline-end: 0;
    }

    .p-contextmenu-mobile .p-contextmenu-submenu-icon {
        transition: transform 0.2s;
        transform: rotate(90deg);
    }

    .p-contextmenu-mobile .p-contextmenu-item-active > .p-contextmenu-item-content .p-contextmenu-submenu-icon {
        transform: rotate(-90deg);
    }
`;var j$e=["sublist"],G$e=(i,n)=>({instance:i,processedItem:n}),NZ=()=>({class:"p-contextmenu-submenu-icon"}),H$e=()=>({exact:!1}),z$e=i=>({$implicit:i});function W$e(i,n){if(i&1&&N(0,"li",8),i&2){let e=h().$implicit,t=h(2);De(t.getItemProp(e,"style")),j(t.cn(t.cx("separator"),t.getItemProp(e,"styleClass"))),f("pBind",t._ptm("separator")),ce("id",t.getItemId(e))}}function $$e(i,n){if(i&1&&N(0,"span",19),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),f("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,o,"itemIcon")),ce("aria-hidden",!0)("tabindex",-1)}}function K$e(i,n){if(i&1&&(_(0,"span",20),R(1),b()),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cx("itemLabel")),f("pBind",r.getPTOptions(t,o,"itemLabel")),p(),Y(" ",r.getItemLabel(t)," ")}}function q$e(i,n){if(i&1&&N(0,"span",21),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cx("itemLabel")),f("innerHTML",r.getItemLabel(t),on)("pBind",r.getPTOptions(t,o,"itemLabel"))}}function J$e(i,n){if(i&1&&N(0,"p-badge",22),i&2){let e=h(4).$implicit,t=h(2);j(t.getItemProp(e,"badgeStyleClass")),f("value",t.getItemProp(e,"badge"))}}function Q$e(i,n){if(i&1&&(xe(),N(0,"svg",25)),i&2){let e=h(5),t=e.$implicit,o=e.index,r=h(2);j(r.cx("submenuIcon")),f("pBind",r.getPTOptions(t,o,"submenuIcon")),ce("aria-hidden",!0)}}function Y$e(i,n){}function X$e(i,n){i&1&&E(0,Y$e,0,0,"ng-template",26),i&2&&xu("aria-hidden",!0)}function Z$e(i,n){if(i&1&&(we(0),E(1,Q$e,1,4,"svg",23)(2,X$e,1,1,null,24),Ce()),i&2){let e=h(6);p(),f("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),p(),f("ngTemplateOutlet",e.contextMenu.submenuIconTemplate||e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Pe(3,NZ))}}function eKe(i,n){if(i&1&&(_(0,"a",15),E(1,$$e,1,6,"span",16)(2,K$e,2,4,"span",17)(3,q$e,1,4,"ng-template",null,2,ie)(5,J$e,1,3,"p-badge",18)(6,Z$e,3,4,"ng-container",11),b()),i&2){let e=Ze(4),t=h(3),o=t.$implicit,r=t.index,s=h(2);j(s.cx("itemLink")),f("target",s.getItemProp(o,"target"))("pBind",s.getPTOptions(o,r,"itemLink")),ce("href",s.getItemProp(o,"url"),Cr)("data-automationid",s.getItemProp(o,"automationId"))("title",s.getItemProp(o,"title"))("tabindex",-1),p(),f("ngIf",s.getItemProp(o,"icon")),p(),f("ngIf",s.getItemProp(o,"escape"))("ngIfElse",e),p(3),f("ngIf",s.getItemProp(o,"badge")),p(),f("ngIf",s.isItemGroup(o))}}function tKe(i,n){if(i&1&&N(0,"span",19),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cn(r.cx("itemIcon"),r.getItemProp(t,"icon"),r.getItemProp(t,"iconClass"))),f("ngStyle",r.getItemProp(t,"iconStyle"))("pBind",r.getPTOptions(t,o,"itemIcon")),ce("aria-hidden",!0)("tabindex",-1)}}function iKe(i,n){if(i&1&&(_(0,"span",20),R(1),b()),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cx("itemLabel")),f("pBind",r.getPTOptions(t,o,"itemLabel")),p(),Y(" ",r.getItemLabel(t)," ")}}function nKe(i,n){if(i&1&&N(0,"span",21),i&2){let e=h(4),t=e.$implicit,o=e.index,r=h(2);j(r.cx("itemLabel")),f("innerHTML",r.getItemLabel(t),on)("pBind",r.getPTOptions(t,o,"itemLabel"))}}function oKe(i,n){if(i&1&&N(0,"p-badge",22),i&2){let e=h(4).$implicit,t=h(2);j(t.getItemProp(e,"badgeStyleClass")),f("value",t.getItemProp(e,"badge"))}}function rKe(i,n){if(i&1&&(xe(),N(0,"svg",25)),i&2){let e=h(5),t=e.$implicit,o=e.index,r=h(2);j(r.cx("submenuIcon")),f("pBind",r.getPTOptions(t,o,"submenuIcon")),ce("aria-hidden",!0)}}function sKe(i,n){}function aKe(i,n){i&1&&E(0,sKe,0,0,"ng-template",26),i&2&&xu("aria-hidden",!0)}function lKe(i,n){if(i&1&&(we(0),E(1,rKe,1,4,"svg",23)(2,aKe,1,1,null,24),Ce()),i&2){let e=h(6);p(),f("ngIf",!e.contextMenu.submenuIconTemplate&&!e.contextMenu._submenuIconTemplate),p(),f("ngTemplateOutlet",!e.contextMenu.submenuIconTemplate||!e.contextMenu._submenuIconTemplate)("ngTemplateOutletContext",Pe(3,NZ))}}function cKe(i,n){if(i&1&&(_(0,"a",27),E(1,tKe,1,6,"span",16)(2,iKe,2,4,"span",17)(3,nKe,1,4,"ng-template",null,2,ie)(5,oKe,1,3,"p-badge",18)(6,lKe,3,4,"ng-container",11),b()),i&2){let e=Ze(4),t=h(3),o=t.$implicit,r=t.index,s=h(2);j(s.cx("itemLink")),f("routerLink",s.getItemProp(o,"routerLink"))("queryParams",s.getItemProp(o,"queryParams"))("routerLinkActiveOptions",s.getItemProp(o,"routerLinkActiveOptions")||Pe(21,H$e))("target",s.getItemProp(o,"target"))("fragment",s.getItemProp(o,"fragment"))("queryParamsHandling",s.getItemProp(o,"queryParamsHandling"))("preserveFragment",s.getItemProp(o,"preserveFragment"))("skipLocationChange",s.getItemProp(o,"skipLocationChange"))("replaceUrl",s.getItemProp(o,"replaceUrl"))("state",s.getItemProp(o,"state"))("pBind",s.getPTOptions(o,r,"itemLink")),ce("data-automationid",s.getItemProp(o,"automationId"))("title",s.getItemProp(o,"title"))("tabindex",-1),p(),f("ngIf",s.getItemProp(o,"icon")),p(),f("ngIf",s.getItemProp(o,"escape"))("ngIfElse",e),p(3),f("ngIf",s.getItemProp(o,"badge")),p(),f("ngIf",s.isItemGroup(o))}}function dKe(i,n){if(i&1&&(we(0),E(1,eKe,7,13,"a",13)(2,cKe,7,22,"a",14),Ce()),i&2){let e=h(2).$implicit,t=h(2);p(),f("ngIf",!t.getItemProp(e,"routerLink")),p(),f("ngIf",t.getItemProp(e,"routerLink"))}}function pKe(i,n){}function uKe(i,n){i&1&&E(0,pKe,0,0,"ng-template")}function hKe(i,n){if(i&1&&(we(0),E(1,uKe,1,0,null,24),Ce()),i&2){let e=h(2).$implicit,t=h(2);p(),f("ngTemplateOutlet",t.itemTemplate)("ngTemplateOutletContext",de(2,z$e,e.item))}}function fKe(i,n){if(i&1){let e=B();_(0,"p-contextmenu-sub",28),A("itemClick",function(o){w(e);let r=h(4);return C(r.itemClick.emit(o))})("itemMouseEnter",function(o){w(e);let r=h(4);return C(r.onItemMouseEnter(o))}),b()}if(i&2){let e=h(2).$implicit,t=h(2);f("items",e.items)("itemTemplate",t.itemTemplate)("menuId",t.menuId)("visible",t.isItemActive(e)&&t.isItemGroup(e))("activeItemPath",t.activeItemPath)("focusedItemId",t.focusedItemId)("level",t.level+1)("pt",t.pt())}}function mKe(i,n){if(i&1){let e=B();_(0,"li",9,1)(2,"div",10),A("click",function(o){w(e);let r=h().$implicit,s=h(2);return C(s.onItemClick(o,r))})("mouseenter",function(o){w(e);let r=h().$implicit,s=h(2);return C(s.onItemMouseEnter({$event:o,processedItem:r}))}),E(3,dKe,3,2,"ng-container",11)(4,hKe,2,4,"ng-container",11),b(),E(5,fKe,1,8,"p-contextmenu-sub",12),b()}if(i&2){let e=h(),t=e.$implicit,o=e.index,r=h(2);De(r.getItemProp(t,"style")),j(r.cn(r.cx("item",Ct(23,G$e,r,t)),r.getItemProp(t,"styleClass"))),f("pBind",r.getPTOptions(t,o,"item"))("tooltipOptions",r.getItemProp(t,"tooltipOptions")),ce("id",r.getItemId(t))("data-p-highlight",r.isItemActive(t))("data-p-focused",r.isItemFocused(t))("data-p-disabled",r.isItemDisabled(t))("aria-label",r.getItemLabel(t))("aria-disabled",r.isItemDisabled(t)||void 0)("aria-haspopup",r.isItemGroup(t)&&!r.getItemProp(t,"to")?"menu":void 0)("aria-expanded",r.isItemGroup(t)?r.isItemActive(t):void 0)("aria-level",r.level+1)("aria-setsize",r.getAriaSetSize())("aria-posinset",r.getAriaPosInset(o)),p(2),j(r.cx("itemContent")),f("pBind",r.getPTOptions(t,o,"itemContent")),p(),f("ngIf",!r.itemTemplate),p(),f("ngIf",r.itemTemplate),p(),f("ngIf",r.isItemVisible(t)&&r.isItemGroup(t))}}function gKe(i,n){if(i&1&&E(0,W$e,1,6,"li",6)(1,mKe,6,26,"li",7),i&2){let e=n.$implicit,t=h(2);f("ngIf",t.isItemVisible(e)&&t.getItemProp(e,"separator")),p(),f("ngIf",t.isItemVisible(e)&&!t.getItemProp(e,"separator"))}}function _Ke(i,n){if(i&1){let e=B();_(0,"ul",4,0),A("@overlayAnimation.start",function(o){w(e);let r=Ze(1),s=h();return C(s.onEnter(o,r))})("keydown",function(o){w(e);let r=h();return C(r.menuKeydown.emit(o))})("focus",function(o){w(e);let r=h();return C(r.menuFocus.emit(o))})("blur",function(o){w(e);let r=h();return C(r.menuBlur.emit(o))}),E(2,gKe,2,2,"ng-template",5),b()}if(i&2){let e=h();j(e.root?e.cx("rootList"):e.cx("submenu")),f("pBind",e._ptm(e.root?"rootList":"submenu"))("@overlayAnimation",e.visible)("tabindex",e.tabindex),ce("id",e.menuId+"_list")("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy)("aria-activedescendant",e.focusedItemId)("aria-orientation","vertical"),p(2),f("ngForOf",e.items)}}var bKe=["item"],yKe=["submenuicon"],vKe=["rootmenu"],wKe=["container"],CKe=()=>({value:"visible"});function SKe(i,n){if(i&1){let e=B();_(0,"div",3,0),A("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onOverlayAnimationEnd(o))}),_(2,"p-contextmenu-sub",4,1),A("itemClick",function(o){w(e);let r=h();return C(r.onItemClick(o))})("menuFocus",function(o){w(e);let r=h();return C(r.onMenuFocus(o))})("menuBlur",function(o){w(e);let r=h();return C(r.onMenuBlur(o))})("menuKeydown",function(o){w(e);let r=h();return C(r.onKeyDown(o))})("itemMouseEnter",function(o){w(e);let r=h();return C(r.onItemMouseEnter(o))}),b()()}if(i&2){let e=h();De(e.sx("root")),j(e.cn(e.cx("root"),e.styleClass)),f("ngStyle",e.style)("pBind",e.ptm("root"))("@overlayAnimation",Pe(21,CKe)),ce("id",e.id),p(2),f("root",!0)("items",e.processedItems)("itemTemplate",e.itemTemplate||e._itemTemplate)("menuId",e.id)("tabindex",e.disabled?-1:e.tabindex)("ariaLabel",e.ariaLabel)("ariaLabelledBy",e.ariaLabelledBy)("baseZIndex",e.baseZIndex)("autoZIndex",e.autoZIndex)("visible",e.submenuVisible())("focusedItemId",e.focused?e.focusedItemId:void 0)("activeItemPath",e.activeItemPath())("pt",e.pt())}}var IKe={root:{position:"absolute"}},EKe={root:()=>["p-contextmenu p-component"],rootList:"p-contextmenu-root-list",item:({instance:i,processedItem:n})=>["p-contextmenu-item",{"p-contextmenu-item-active":i.isItemActive(n),"p-focus":i.isItemFocused(n),"p-disabled":i.isItemDisabled(n),"p-contextmenu-mobile":i.queryMatches}],itemContent:"p-contextmenu-item-content",itemLink:"p-contextmenu-item-link",itemIcon:"p-contextmenu-item-icon",itemLabel:"p-contextmenu-item-label",submenuIcon:"p-contextmenu-submenu-icon",submenu:"p-contextmenu-submenu",separator:"p-contextmenu-separator"},uO=(()=>{class i extends Ye{name="contextmenu";style=AZ;classes=EKe;inlineStyles=IKe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var FZ=new he("CONTEXTMENU_INSTANCE"),kZ=new he("CONTEXTMENUSUB_INSTANCE"),xKe=(()=>{class i extends Xe{el;renderer;contextMenu;visible=!1;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;popup;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;tabindex=0;itemClick=new te;itemMouseEnter=new te;menuFocus=new te;menuBlur=new te;menuKeydown=new te;sublistViewChild;hostName="ContextMenu";_componentStyle=z(uO);$pcContextMenu=z(FZ,{optional:!0,skipSelf:!0})??void 0;$pcContextMenuSub=z(kZ,{optional:!0,skipSelf:!0})??void 0;constructor(e,t,o){super(),this.el=e,this.renderer=t,this.contextMenu=o}getItemProp(e,t,o=null){return e&&e.item?$o(e.item[t],o):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemLabel(e){return this.getItemProp(e,"label")}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return qt(e.items)}onItemMouseEnter(e){let{event:t,processedItem:o}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:o})}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}onEnter(e,t){if(e.fromState==="void"&&e.toState){let o=e.element;this.position(o)}}_ptm(e,t){return this.$pcContextMenu?this.$pcContextMenu.ptm(e,t):this.ptm(e,t)}getPTOptions(e,t,o){return this._ptm(o,{context:{item:e.item,index:t,active:this.isItemActive(e),focused:this.isItemFocused(e),disabled:this.isItemDisabled(e)}})}position(e){let t=e.parentElement.parentElement,o=ta(e.parentElement.parentElement),r=yc(),s=e.offsetParent?e.offsetWidth:Fg(e),a=Dn(t.children[0]);e.style.top="0px",parseInt(o.left,10)+a+s>r.width-Af()?e.style.left=-1*s+"px":e.style.left=a+"px"}static \u0275fac=function(t){return new(t||i)(x(Ei),x(Wo),x(Xt(()=>LZ)))};static \u0275cmp=oe({type:i,selectors:[["p-contextMenuSub"],["p-contextmenu-sub"]],viewQuery:function(t,o){if(t&1&&_e(j$e,5),t&2){let r;W(r=$())&&(o.sublistViewChild=r.first)}},inputs:{visible:[2,"visible","visible",Z],items:"items",itemTemplate:"itemTemplate",root:[2,"root","root",Z],autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],popup:[2,"popup","popup",Z],menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:[2,"level","level",Je],focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:[2,"tabindex","tabindex",Je]},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},features:[Se([uO,{provide:kZ,useExisting:i},{provide:et,useExisting:i}]),re],decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"class","pBind","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"keydown","focus","blur","pBind","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","class","pBind",4,"ngIf"],["role","menuitem","pTooltip","",3,"style","class","pBind","tooltipOptions",4,"ngIf"],["role","separator",3,"pBind"],["role","menuitem","pTooltip","",3,"pBind","tooltipOptions"],[3,"click","mouseenter","pBind"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","pt","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","class","pBind",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","class","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind",4,"ngIf"],["pRipple","",3,"target","pBind"],[3,"class","ngStyle","pBind",4,"ngIf"],[3,"class","pBind",4,"ngIf","ngIfElse"],[3,"class","value",4,"ngIf"],[3,"ngStyle","pBind"],[3,"pBind"],[3,"innerHTML","pBind"],[3,"value"],["data-p-icon","angle-right",3,"class","pBind",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-p-icon","angle-right",3,"pBind"],[3,"aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","pBind"],[3,"itemClick","itemMouseEnter","items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","pt"]],template:function(t,o){t&1&&E(0,_Ke,3,11,"ul",3),t&2&&f("ngIf",o.root?!0:o.visible)},dependencies:[i,Qe,Mn,pt,gt,ft,Ul,Vl,oo,na,cn,pe,Hg,Bl,Ic,Oe,Pt],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0})]),li(":leave",[Yt({opacity:0})])])]}})}return i})(),LZ=(()=>{class i extends Xe{overlayService;set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}triggerEvent="contextmenu";target;global;style;styleClass;autoZIndex=!0;baseZIndex=0;id;breakpoint="960px";ariaLabel;ariaLabelledBy;pressDelay=500;appendTo=qe(void 0);onShow=new te;onHide=new te;rootmenu;containerViewChild;container;outsideClickListener;resizeListener;triggerEventListener;documentClickListener;documentTriggerListener;hideCallback;touchEndListener;pageX;pageY;visible=lt(!1);focused=!1;activeItemPath=lt([]);focusedItemInfo=lt({index:-1,level:0,parentKey:"",item:null});submenuVisible=lt(!1);$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());searchValue="";searchTimeout;_processedItems;_model;pressTimer;matchMediaListener;query;queryMatches;_componentStyle=z(uO);get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${qt(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e){super(),this.overlayService=e,In(()=>{let t=this.activeItemPath();qt(t)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}onInit(){this.id=this.id||Vt("pn_id_"),this.bindMatchMediaListener(),this.bindTriggerEventListener()}isMobile(){return G1()||e8()}bindTriggerEventListener(){At(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(At(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{this.containerViewChild?.nativeElement?.offsetParent&&this.isOutsideClicked(t)&&!t.ctrlKey&&t.button!==2&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}itemTemplate;submenuIconTemplate;templates;_submenuIconTemplate;_itemTemplate;onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this._submenuIconTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}getPTOptions(e,t,o,r){return this.ptm(e,{context:{item:t,index:o,focused:this.isItemFocused({index:o,item:t}),disabled:this.isItemDisabled(t)}})}isItemFocused(e){return this.focusedItemInfo().index===e.index}createProcessedItems(e,t=0,o={},r=""){let s=[];return e&&e.forEach((a,l)=>{let c=(r!==""?r+"_":"")+l,d={item:a,index:l,level:t,key:c,parent:o,parentKey:r};d.items=this.createProcessedItems(a.items,t+1,d,c),s.push(d)}),s}bindMatchMediaListener(){if(At(this.platformId)&&!this.matchMediaListener){let e=window.matchMedia(`(max-width: ${this.breakpoint})`);this.query=e,this.queryMatches=e.matches,this.matchMediaListener=()=>{this.queryMatches=e.matches},e.addEventListener("change",this.matchMediaListener)}}unbindMatchMediaListener(){this.matchMediaListener&&(this.query.removeEventListener("change",this.matchMediaListener),this.matchMediaListener=null)}getItemProp(e,t){return e?$o(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&qt(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&qt(e.items)}onItemClick(e){let{processedItem:t}=e,o=this.isProcessedItemGroup(t);if(this.isSelected(t)){let{index:s,key:a,level:l,parentKey:c,item:d}=t;this.activeItemPath.set(this.activeItemPath().filter(u=>a!==u.key&&a.startsWith(u.key))),this.focusedItemInfo.set({index:s,level:l,parentKey:c,item:d}),Di(this.rootmenu?.sublistViewChild?.nativeElement)}else o?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e,"hover")}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&hd(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:t.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide(),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],o=this.activeItemPath().find(a=>a.key===t.parentKey);jo(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:o?o.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let s=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let t=this.findVisibleItem(this.findFirstFocusedItemIndex()),o=this.focusedItemInfo();this.focusedItemInfo.set(Fe(ee({},o),{index:this.findFirstFocusedItemIndex(),item:t.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=Et(this.rootmenu?.el?.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),o=t&&(Et(t,'[data-pc-section="itemlink"]')||Et(t,"a,button"));o?o.click():t&&t.click();let r=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(r)){let a=this.focusedItemInfo();this.focusedItemInfo.set(Fe(ee({},a),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e,t){let{processedItem:o,isFocus:r}=e;if(jo(o))return;let{index:s,key:a,level:l,parentKey:c,items:d}=o,u=qt(d),m=this.activeItemPath().filter(g=>g.parentKey!==c&&g.parentKey!==a);u&&(m.push(o),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:s,level:l,parentKey:c,item:o.item}),r&&Di(this.rootmenu?.sublistViewChild?.nativeElement),!(t==="hover"&&this.queryMatches)&&this.activeItemPath.set(m)}onMenuFocus(e){this.focused=!0;let t=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(t)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.$attrSelector&&this.container?.setAttribute(this.$attrSelector,""),this.appendOverlay(),this.bindGlobalListeners(),Di(this.rootmenu?.sublistViewChild?.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){st.appendOverlay(this.container,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}moveOnTop(){this.autoZIndex&&this.containerViewChild&&Bi.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&Bi.clear(this.container),this.container=null}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.onHide.emit(),this.hideCallback?.(),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),Di(this.rootmenu?.sublistViewChild?.nativeElement),this.pageX=e.pageX,this.pageY=e.pageY,this.onShow.emit(),this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){if(!this.document.scrollingElement||!this.containerViewChild?.nativeElement)return;let e=this.pageX+1,t=this.pageY+1,o=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:Fg(this.containerViewChild.nativeElement),r=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:dy(this.containerViewChild.nativeElement),s=yc();e+o-this.document.scrollingElement.scrollLeft>s.width&&(e-=o),t+r-this.document.scrollingElement.scrollTop>s.height&&(t-=r),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),t<this.document.scrollingElement.scrollTop&&(t=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=t+"px"}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let o=-1,r=!1;return this.focusedItemInfo().index!==-1?(o=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)),o=o===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(s=>this.isItemMatched(s)):o+this.focusedItemInfo().index):o=this.visibleItems.findIndex(s=>this.isItemMatched(s)),o!==-1&&(r=!0),o===-1&&this.focusedItemInfo().index===-1&&(o=this.findFirstFocusedItemIndex()),o!==-1&&this.changeFocusedItemIndex(e,o),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),r}findVisibleItem(e){return qt(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return ss(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?ss(this.visibleItems.slice(0,e),o=>this.isValidItem(o)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(o=>this.isValidItem(o)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){let o=this.findVisibleItem(t),r=this.focusedItemInfo();r.index!==t&&(this.focusedItemInfo.set(Fe(ee({},r),{index:t,item:o.item})),this.scrollInView())}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,o=Et(this.rootmenu?.el?.nativeElement,`li[id="${t}"]`);o&&o.scrollIntoView&&o.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){At(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild?.nativeElement?.isSameNode(e.target)||this.containerViewChild?.nativeElement?.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.$appendTo()&&this.containerViewChild&&this.$appendTo()==="body"&&this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement)}onDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.unbindMatchMediaListener(),this.removeAppendedElements()}static \u0275fac=function(t){return new(t||i)(x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-contextMenu"],["p-contextmenu"],["p-context-menu"]],contentQueries:function(t,o,r){if(t&1&&(se(r,bKe,4),se(r,yKe,4),se(r,_t,4)),t&2){let s;W(s=$())&&(o.itemTemplate=s.first),W(s=$())&&(o.submenuIconTemplate=s.first),W(s=$())&&(o.templates=s)}},viewQuery:function(t,o){if(t&1&&(_e(vKe,5),_e(wKe,5)),t&2){let r;W(r=$())&&(o.rootmenu=r.first),W(r=$())&&(o.containerViewChild=r.first)}},inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:[2,"global","global",Z],style:"style",styleClass:"styleClass",autoZIndex:[2,"autoZIndex","autoZIndex",Z],baseZIndex:[2,"baseZIndex","baseZIndex",Je],id:"id",breakpoint:"breakpoint",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:[2,"pressDelay","pressDelay",Je],appendTo:[1,"appendTo"]},outputs:{onShow:"onShow",onHide:"onHide"},features:[Se([uO,{provide:FZ,useExisting:i}]),re],decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"class","style","ngStyle","pBind",4,"ngIf"],[3,"ngStyle","pBind"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath","pt"]],template:function(t,o){t&1&&E(0,SKe,4,22,"div",2),t&2&&f("ngIf",o.visible())},dependencies:[Qe,pt,ft,xKe,Ul,na,pe,Bl,Oe,Pt],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0}),hi("250ms")]),li(":leave",[hi(".1s linear",Yt({opacity:0}))])])]},changeDetection:0})}return i})(),MZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[LZ,Oe,Oe]})}return i})();var BZ=`
    .p-colorpicker {
        display: inline-block;
        position: relative;
    }

    .p-colorpicker-dragging {
        cursor: pointer;
    }

    .p-colorpicker-preview {
        width: dt('colorpicker.preview.width');
        height: dt('colorpicker.preview.height');
        padding: 0;
        border: 0 none;
        border-radius: dt('colorpicker.preview.border.radius');
        transition:
            background dt('colorpicker.transition.duration'),
            color dt('colorpicker.transition.duration'),
            border-color dt('colorpicker.transition.duration'),
            outline-color dt('colorpicker.transition.duration'),
            box-shadow dt('colorpicker.transition.duration');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-colorpicker-preview:enabled:focus-visible {
        border-color: dt('colorpicker.preview.focus.border.color');
        box-shadow: dt('colorpicker.preview.focus.ring.shadow');
        outline: dt('colorpicker.preview.focus.ring.width') dt('colorpicker.preview.focus.ring.style') dt('colorpicker.preview.focus.ring.color');
        outline-offset: dt('colorpicker.preview.focus.ring.offset');
    }

    .p-colorpicker-panel {
        background: dt('colorpicker.panel.background');
        border: 1px solid dt('colorpicker.panel.border.color');
        border-radius: dt('colorpicker.panel.border.radius');
        box-shadow: dt('colorpicker.panel.shadow');
        width: 193px;
        height: 166px;
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-colorpicker-panel-inline {
        box-shadow: none;
        position: static;
    }

    .p-colorpicker-content {
        position: relative;
    }

    .p-colorpicker-color-selector {
        width: 150px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 8px;
        position: absolute;
    }

    .p-colorpicker-color-background {
        width: 100%;
        height: 100%;
        background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);
    }

    .p-colorpicker-color-handle {
        position: absolute;
        inset-block-start: 0px;
        inset-inline-start: 150px;
        border-radius: 100%;
        width: 10px;
        height: 10px;
        border-width: 1px;
        border-style: solid;
        margin: -5px 0 0 -5px;
        cursor: pointer;
        opacity: 0.85;
        border-color: dt('colorpicker.handle.color');
    }

    .p-colorpicker-hue {
        width: 17px;
        height: 150px;
        inset-block-start: 8px;
        inset-inline-start: 167px;
        position: absolute;
        opacity: 0.85;
        background: linear-gradient(0deg, red 0, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, red);
    }

    .p-colorpicker-hue-handle {
        position: absolute;
        inset-block-start: 150px;
        inset-inline-start: 0px;
        width: 21px;
        margin-inline-start: -2px;
        margin-block-start: -5px;
        height: 10px;
        border-width: 2px;
        border-style: solid;
        opacity: 0.85;
        cursor: pointer;
        border-color: dt('colorpicker.handle.color');
    }
`;var TKe=["input"],OKe=["colorSelector"],RKe=["colorHandle"],DKe=["hue"],PKe=["hueHandle"],AKe=(i,n)=>({showTransitionParams:i,hideTransitionParams:n}),kKe=i=>({value:"visible",params:i});function NKe(i,n){if(i&1){let e=B();_(0,"input",7,0),A("click",function(){w(e);let o=h();return C(o.onInputClick())})("keydown",function(o){w(e);let r=h();return C(r.onInputKeydown(o))})("focus",function(){w(e);let o=h();return C(o.onInputFocus())}),b()}if(i&2){let e=h();j(e.cx("preview")),Kt("background-color",e.inputBgColor),f("pAutoFocus",e.autofocus)("pBind",e.ptm("preview")),ce("tabindex",e.tabindex)("disabled",e.$disabled()?"":void 0)("id",e.inputId)("aria-label",e.ariaLabel)}}function FKe(i,n){if(i&1){let e=B();_(0,"div",8),A("click",function(o){w(e);let r=h();return C(r.onOverlayClick(o))})("@overlayAnimation.start",function(o){w(e);let r=h();return C(r.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){w(e);let r=h();return C(r.onOverlayAnimationEnd(o))}),_(1,"div",9)(2,"div",10,1),A("touchstart",function(o){w(e);let r=h();return C(r.onColorDragStart(o))})("touchmove",function(o){w(e);let r=h();return C(r.onDrag(o))})("touchend",function(){w(e);let o=h();return C(o.onDragEnd())})("mousedown",function(o){w(e);let r=h();return C(r.onColorMousedown(o))}),_(4,"div",9),N(5,"div",9,2),b()(),_(7,"div",11,3),A("mousedown",function(o){w(e);let r=h();return C(r.onHueMousedown(o))})("touchstart",function(o){w(e);let r=h();return C(r.onHueDragStart(o))})("touchmove",function(o){w(e);let r=h();return C(r.onDrag(o))})("touchend",function(){w(e);let o=h();return C(o.onDragEnd())}),N(9,"div",9,4),b()()()}if(i&2){let e=h();j(e.cx("panel")),f("@overlayAnimation",de(26,kKe,Ct(23,AKe,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0)("pBind",e.ptm("panel")),p(),j(e.cx("content")),f("pBind",e.ptm("content")),p(),j(e.cx("colorSelector")),f("pBind",e.ptm("colorSelector")),p(2),j(e.cx("colorBackground")),f("pBind",e.ptm("colorBackground")),p(),j(e.cx("colorHandle")),f("pBind",e.ptm("colorHandle")),p(2),j(e.cx("hue")),f("pBind",e.ptm("hue")),p(2),j(e.cx("hueHandle")),f("pBind",e.ptm("hueHandle"))}}var LKe={root:({instance:i})=>["p-colorpicker p-component",{"p-colorpicker-overlay":!i.inline,"p-colorpicker-dragging":i.colorDragging||i.hueDragging}],preview:({instance:i})=>["p-colorpicker-preview",{"p-disabled":i.$disabled()}],panel:({instance:i})=>["p-colorpicker-panel",{"p-colorpicker-panel-inline":i.inline,"p-disabled":i.$disabled()}],content:"p-colorpicker-content",colorSelector:"p-colorpicker-color-selector",colorBackground:"p-colorpicker-color-background",colorHandle:"p-colorpicker-color-handle",hue:"p-colorpicker-hue",hueHandle:"p-colorpicker-hue-handle"},VZ=(()=>{class i extends Ye{name="colorpicker";style=BZ;classes=LKe;static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var MKe={provide:Bn,useExisting:Xt(()=>hO),multi:!0},UZ=new he("COLORPICKER_INSTANCE"),hO=(()=>{class i extends Gr{overlayService;$pcColorPicker=z(UZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;inline;format="hex";tabindex;inputId;autoZIndex=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;defaultColor="ff0000";appendTo=qe(void 0);onChange=new te;onShow=new te;onHide=new te;inputViewChild;$appendTo=ct(()=>this.appendTo()||this.config.overlayAppendTo());value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;_componentStyle=z(VZ);constructor(e){super(),this.overlayService=e}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(xi.ARIA)[xi.SELECT_COLOR]}onHueMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.$disabled()||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.$disabled()||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,t){let o=t?t.pageY:e.pageY,r=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,o-r)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.$disabled()||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,t){let o=t?t.pageX:e.pageX,r=t?t.pageY:e.pageY,s=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),a=s.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),l=s.left+this.document.body.scrollLeft,c=Math.floor(100*Math.max(0,Math.min(150,o-l))/150),d=Math.floor(100*(150-Math.max(0,Math.min(150,r-a)))/150);this.value=this.validateHSB({h:this.value.h,s:c,b:d}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.$attrSelector&&this.overlay?.setAttribute(this.$attrSelector,""),this.appendOverlay(),this.autoZIndex&&Bi.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&Bi.clear(e.element),this.onHide.emit({});break}}appendOverlay(){st.appendOverlay(this.overlay,this.$appendTo()==="body"?this.document.body:this.$appendTo(),this.$appendTo())}restoreOverlayAppend(){this.overlay&&this.$appendTo()!=="self"&&this.renderer.appendChild(this.inputViewChild?.nativeElement,this.overlay)}alignOverlay(){this.$appendTo()==="self"?dd(this.overlay,this.inputViewChild?.nativeElement):rl(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",t=>{this.colorDragging&&this.pickColor(t),this.hueDragging&&this.pickHue(t)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){At(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Sr()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new jr(this.el?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var o=[],r=0;r<t;r++)o.push("0");o.push(e),e=o.join("")}return e}HEXtoRGB(e){let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b),s=r-o;return t.b=r,t.s=r!=0?255*s/r:0,t.s!=0?e.r==r?t.h=(e.g-e.b)/s:e.g==r?t.h=2+(e.b-e.r)/s:t.h=4+(e.r-e.g)/s:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:0,g:0,b:0};let o=e.h,r=e.s*255/100,s=e.b*255/100;if(r==0)t={r:s,g:s,b:s};else{let a=s,l=(255-r)*s/255,c=(a-l)*(o%60)/60;o==360&&(o=0),o<60?(t.r=a,t.b=l,t.g=l+c):o<120?(t.g=a,t.b=l,t.r=a-c):o<180?(t.g=a,t.r=l,t.b=l+c):o<240?(t.b=a,t.r=l,t.g=a-c):o<300?(t.b=a,t.g=l,t.r=l+c):o<360?(t.r=a,t.g=l,t.b=a-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var o in t)t[o].length==1&&(t[o]="0"+t[o]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}onAfterViewInit(){this.inline&&(this.updateColorSelector(),this.updateUI())}writeControlValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}onDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&Bi.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||i)(x(Ur))};static \u0275cmp=oe({type:i,selectors:[["p-colorPicker"],["p-colorpicker"],["p-color-picker"]],viewQuery:function(t,o){if(t&1&&(_e(TKe,5),_e(OKe,5),_e(RKe,5),_e(DKe,5),_e(PKe,5)),t&2){let r;W(r=$())&&(o.inputViewChild=r.first),W(r=$())&&(o.colorSelector=r.first),W(r=$())&&(o.colorHandle=r.first),W(r=$())&&(o.hue=r.first),W(r=$())&&(o.hueHandle=r.first)}},hostVars:2,hostBindings:function(t,o){t&2&&j(o.cn(o.cx("root"),o.styleClass))},inputs:{styleClass:"styleClass",inline:[2,"inline","inline",Z],format:"format",tabindex:"tabindex",inputId:"inputId",autoZIndex:[2,"autoZIndex","autoZIndex",Z],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",Z],defaultColor:"defaultColor",appendTo:[1,"appendTo"]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[Se([MKe,VZ,{provide:UZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:2,vars:2,consts:[["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],["type","text","readonly","",3,"class","backgroundColor","pAutoFocus","pBind","click","keydown","focus",4,"ngIf"],[3,"class","pBind","click",4,"ngIf"],["type","text","readonly","",3,"click","keydown","focus","pAutoFocus","pBind"],[3,"click","pBind"],[3,"pBind"],[3,"touchstart","touchmove","touchend","mousedown","pBind"],[3,"mousedown","touchstart","touchmove","touchend","pBind"]],template:function(t,o){t&1&&E(0,NKe,2,10,"input",5)(1,FKe,11,28,"div",6),t&2&&(f("ngIf",!o.inline),p(),f("ngIf",o.inline||o.overlayVisible))},dependencies:[Qe,pt,K1,fr,Oe,pe],encapsulation:2,data:{animation:[vn("overlayAnimation",[li(":enter",[Yt({opacity:0,transform:"scaleY(0.8)"}),hi("{{showTransitionParams}}")]),li(":leave",[hi("{{hideTransitionParams}}",Yt({opacity:0}))])])]},changeDetection:0})}return i})(),jZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[hO,Oe,Oe]})}return i})();var GZ=()=>({severity:"secondary",variant:"text",rounded:!0});function VKe(i,n){i&1&&ve(0)}function UKe(i,n){if(i&1&&E(0,VKe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.headerTemplate)}}function jKe(i,n){i&1&&E(0,UKe,1,1,"ng-template",null,0,ie)}function GKe(i,n){i&1&&ve(0)}function HKe(i,n){if(i&1&&E(0,GKe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.contentTemplate)}}function zKe(i,n){i&1&&E(0,HKe,1,1,"ng-template",null,1,ie)}function WKe(i,n){i&1&&ve(0)}function $Ke(i,n){if(i&1&&E(0,WKe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.footerTemplate)}}function KKe(i,n){i&1&&E(0,$Ke,1,1,"ng-template",null,2,ie)}function qKe(i,n){i&1&&ve(0)}function JKe(i,n){if(i&1&&E(0,qKe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.closeIconTemplate)}}function QKe(i,n){i&1&&E(0,JKe,1,1,"ng-template",null,3,ie)}function YKe(i,n){i&1&&ve(0)}function XKe(i,n){if(i&1&&E(0,YKe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.maximizeIconTemplate)}}function ZKe(i,n){i&1&&E(0,XKe,1,1,"ng-template",null,4,ie)}function eqe(i,n){i&1&&ve(0)}function tqe(i,n){if(i&1&&E(0,eqe,1,0,"ng-container",8),i&2){let e=h(2);f("ngComponentOutlet",e.minimizeIconTemplate)}}function iqe(i,n){i&1&&E(0,tqe,1,1,"ng-template",null,5,ie)}function nqe(i,n){}function oqe(i,n){i&1&&E(0,nqe,0,0,"ng-template",9)}function rqe(i,n){if(i&1&&(_(0,"div"),R(1),b()),i&2){let e=h();p(),Q(e.ddconfig.footer)}}var HZ=(()=>{class i{viewContainerRef;constructor(e){this.viewContainerRef=e}static \u0275fac=function(t){return new(t||i)(x(Fr))};static \u0275dir=ht({type:i,selectors:[["","pDynamicDialogContent",""]]})}return i})(),zZ=(()=>{class i extends X1{name="dialog";static \u0275fac=(()=>{let e;return function(o){return(e||(e=ue(i)))(o||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Mh=class{data;inputValues;header;ariaLabelledBy;footer;width;height;closeOnEscape=!1;focusOnShow=!0;focusTrap=!0;baseZIndex;autoZIndex=!1;dismissableMask=!1;rtl=!1;style;contentStyle;styleClass;transitionOptions;closable=!1;showHeader=!1;modal=!1;maskStyleClass;resizable=!1;draggable=!1;keepInViewport=!1;minX;minY;maximizable=!1;maximizeIcon;minimizeIcon;position;closeAriaLabel;appendTo;duplicate=!1;breakpoints;templates},jc=class{constructor(){}close(n){this._onClose.next(n),setTimeout(()=>{this._onClose.complete()},1e3)}destroy(){this._onDestroy.next(null)}dragStart(n){this._onDragStart.next(n)}dragEnd(n){this._onDragEnd.next(n)}resizeInit(n){this._onResizeInit.next(n)}resizeEnd(n){this._onResizeEnd.next(n)}maximize(n){this._onMaximize.next(n)}_onClose=new Le;onClose=this._onClose.asObservable();_onDestroy=new Le;onDestroy=this._onDestroy.asObservable();_onDragStart=new Le;onDragStart=this._onDragStart.asObservable();_onDragEnd=new Le;onDragEnd=this._onDragEnd.asObservable();_onResizeInit=new Le;onResizeInit=this._onResizeInit.asObservable();_onResizeEnd=new Le;onResizeEnd=this._onResizeEnd.asObservable();_onMaximize=new Le;onMaximize=this._onMaximize.asObservable();onChildComponentLoaded=new Le},WZ=new he("DYNAMIC_DIALOG_INSTANCE"),$Z=(()=>{class i extends Xe{ddconfig;dialogRef;_componentStyle=z(zZ);$pcDynamicDialog=z(WZ,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=z(pe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}visible=!0;componentRef;id=Vt("pn_id_");insertionPoint;dialog;childComponentType;inputValues;get minX(){return this.ddconfig.minX?this.ddconfig.minX:0}get minY(){return this.ddconfig.minY?this.ddconfig.minY:0}get keepInViewport(){return this.ddconfig.keepInViewport}get maximizable(){return this.ddconfig.maximizable}get maximizeIcon(){return this.ddconfig.maximizeIcon}get minimizeIcon(){return this.ddconfig.minimizeIcon}get closable(){return this.ddconfig.closable}get position(){return this.ddconfig.position}get defaultCloseAriaLabel(){return this.config.getTranslation(xi.ARIA).close}get breakpoints(){return this.ddconfig.breakpoints}get footerTemplate(){return this.ddconfig?.templates?.footer}get headerTemplate(){return this.ddconfig?.templates?.header}get contentTemplate(){return this.ddconfig?.templates?.content}get minimizeIconTemplate(){return this.ddconfig?.templates?.minimizeicon}get maximizeIconTemplate(){return this.ddconfig?.templates?.maximizeicon}get closeIconTemplate(){return this.ddconfig?.templates?.closeicon}get dialogStyle(){return ee(ee(ee({},this.ddconfig?.style||{}),this.ddconfig?.width&&{width:this.ddconfig.width}),this.ddconfig?.height&&{height:this.ddconfig.height})}get header(){return this.ddconfig.header}get data(){return this.ddconfig.data}get dialogId(){return this.$attrSelector}maximized;dragging;resizing;ariaLabelledBy;_style={};styleElement;lastPageX;lastPageY;contentViewChild;footerViewChild;headerViewChild;maskViewChild;maskClickListener;documentDragListener;documentDragEndListener;documentResizeListener;documentResizeEndListener;documentEscapeListener;constructor(e,t){super(),this.ddconfig=e,this.dialogRef=t}onAfterViewInit(){this.loadChildComponent(this.childComponentType),this.ariaLabelledBy=this.getAriaLabelledBy(),this.cd.detectChanges()}getAriaLabelledBy(){let{header:e,showHeader:t}=this.ddconfig;return e===null||t===!1?null:Vt("pn_id_")+"_header"}loadChildComponent(e){let t=this.insertionPoint?.viewContainerRef;t?.clear(),this.componentRef=t?.createComponent(e),this.inputValues&&this.componentRef&&Object.entries(this.inputValues).forEach(([o,r])=>{this.componentRef.setInput(o,r)}),this.dialogRef.onChildComponentLoaded.next(this.componentRef.instance)}onDialogHide(e){this.dialogRef.destroy()}onDialogMaximize(e){this.maximized=e.maximized,this.dialogRef.maximize(e)}onDialogResizeInit(e){this.resizing=!0,this.dialogRef.resizeInit(e)}onDialogResizeEnd(e){this.resizing=!1,this.dialogRef.resizeEnd(e)}onDialogDragEnd(e){this.dragging=!1,this.dialogRef.dragEnd(e)}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}get _parent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>1)return e.pop()}get parentContent(){let e=Array.from(this.document.getElementsByClassName("p-dialog"));if(e.length>0){let t=e[e.length-1].querySelector(".p-dialog-content");if(t)return Array.isArray(t)?t[0]:t}}container;wrapper;unbindGlobalListeners(){this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}onAnimationStart(e){e.toState==="visible"&&(this._parent&&this.unbindGlobalListeners(),this.ddconfig.modal&&this.enableModality())}onAnimationEnd(e){e.toState==="void"&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.ddconfig.modal&&this.disableModality(),this.container=null}bindDocumentDragListener(){this.documentDragListener||(this.documentDragListener=this.renderer.listen(this.document.defaultView,"mousemove",e=>{this.onDrag(e)}))}bindDocumentDragEndListener(){this.documentDragEndListener||(this.documentDragEndListener=this.renderer.listen(this.document.defaultView,"mouseup",e=>{this.endDrag(e)}))}unbindDocumentDragEndListener(){this.documentDragEndListener&&(this.documentDragEndListener(),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(this.documentDragListener(),this.documentDragListener=null)}initDrag(e){if(e.target instanceof HTMLElement){let t=e.target;if(t.closest(".p-dialog-header-icon")||t.closest(".p-dialog-header-icons"))return}this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.dialogRef.dragStart(e),this.bindDocumentDragListener(),this.bindDocumentDragEndListener()}onDrag(e){this.dragging&&(this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.ddconfig.keepInViewport&&this.container&&(this.container.style.position="fixed"))}endDrag(e){this.dragging&&(this.dragging=!1,this.dialogRef.dragEnd(e),this.cd.detectChanges())}resetPosition(){this.container&&(this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin="")}bindDocumentResizeListeners(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"mousemove",e=>{this.onResize(e)})),this.documentResizeEndListener||(this.documentResizeEndListener=this.renderer.listen(this.document.defaultView,"mouseup",e=>{this.resizeEnd(e)}))}unbindDocumentResizeListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null),this.documentResizeEndListener&&(this.documentResizeEndListener(),this.documentResizeEndListener=null)}initResize(e){this.resizing=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.dialogRef.resizeInit(e)}onResize(e){this.resizing&&(this.lastPageX=e.pageX,this.lastPageY=e.pageY)}resizeEnd(e){this.resizing&&(this.resizing=!1,this.dialogRef.resizeEnd(e))}maximize(){this.maximized=!this.maximized,this.dialogRef.maximize({maximized:this.maximized})}enableModality(){this.ddconfig.dismissableMask&&this.wrapper&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()}))}disableModality(){this.unbindMaskClickListener(),this.cd.detectChanges()}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}bindDocumentEscapeListener(){this.ddconfig.closeOnEscape&&(this.documentEscapeListener=this.renderer.listen(this.document,"keydown",e=>{e.key==="Escape"&&this.container&&this.hide()}))}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}createStyle(){if(!this.styleElement&&this.breakpoints){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let e="";for(let t in this.breakpoints)e+=`
                    @media screen and (max-width: ${t}) {
                        .p-dialog[${this.dialogId}] {
                            width: ${this.breakpoints[t]} !important;
                        }
                    }
                `;this.renderer.setProperty(this.styleElement,"innerHTML",e)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}onDestroy(){this.componentRef&&typeof this.componentRef.destroy=="function"&&this.componentRef.destroy()}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&typeof this.componentRef.destroy=="function"&&this.componentRef.destroy(),this.destroyStyle()}static \u0275fac=function(t){return new(t||i)(x(Mh),x(jc))};static \u0275cmp=oe({type:i,selectors:[["p-dynamicDialog"],["p-dynamicdialog"],["p-dynamic-dialog"]],viewQuery:function(t,o){if(t&1&&(_e(HZ,5),_e(Ut,5)),t&2){let r;W(r=$())&&(o.insertionPoint=r.first),W(r=$())&&(o.dialog=r.first)}},features:[Se([zZ,{provide:WZ,useExisting:i},{provide:et,useExisting:i}]),nt([pe]),re],decls:9,vars:42,consts:[["header",""],["content",""],["footer",""],["closeicon",""],["maximizeicon",""],["minimizeicon",""],["hostName","DynamicDialog",3,"visibleChange","onHide","onMaximize","onResizeInit","onResizeEnd","onDragEnd","visible","header","draggable","resizable","contentStyle","modal","closeOnEscape","dismissableMask","rtl","closable","breakpoints","styleClass","maskStyleClass","showHeader","autoZIndex","baseZIndex","minX","minY","focusOnShow","maximizable","keepInViewport","focusTrap","transitionOptions","closeAriaLabel","minimizeIcon","maximizeIcon","closeButtonProps","maximizeButtonProps","position","pt"],[4,"ngIf"],[4,"ngComponentOutlet"],["pDynamicDialogContent",""]],template:function(t,o){t&1&&(_(0,"p-dialog",6),ke("visibleChange",function(s){return Ne(o.visible,s)||(o.visible=s),s}),A("onHide",function(s){return o.onDialogHide(s)})("onMaximize",function(s){return o.onDialogMaximize(s)})("onResizeInit",function(s){return o.onDialogResizeInit(s)})("onResizeEnd",function(s){return o.onDialogResizeEnd(s)})("onDragEnd",function(s){return o.onDialogDragEnd(s)}),E(1,jKe,2,0,null,7)(2,zKe,2,0,null,7)(3,KKe,2,0,null,7)(4,QKe,2,0,null,7)(5,ZKe,2,0,null,7)(6,iqe,2,0,null,7)(7,oqe,1,0,null,7)(8,rqe,2,1,"div",7),b()),t&2&&(De(o.dialogStyle),Ae("visible",o.visible),f("header",o.ddconfig==null?null:o.ddconfig.header)("draggable",(o.ddconfig==null?null:o.ddconfig.draggable)!==!1)("resizable",(o.ddconfig==null?null:o.ddconfig.resizable)!==!1)("contentStyle",o.ddconfig==null?null:o.ddconfig.contentStyle)("modal",(o.ddconfig==null?null:o.ddconfig.modal)!==!1)("closeOnEscape",(o.ddconfig==null?null:o.ddconfig.closeOnEscape)!==!1)("dismissableMask",o.ddconfig==null?null:o.ddconfig.dismissableMask)("rtl",o.ddconfig==null?null:o.ddconfig.rtl)("closable",o.closable)("breakpoints",o.breakpoints)("styleClass",o.ddconfig==null?null:o.ddconfig.styleClass)("maskStyleClass",o.ddconfig==null?null:o.ddconfig.maskStyleClass)("showHeader",(o.ddconfig==null?null:o.ddconfig.showHeader)!==!1)("autoZIndex",(o.ddconfig==null?null:o.ddconfig.autoZIndex)!==!1)("baseZIndex",(o.ddconfig==null?null:o.ddconfig.baseZIndex)||0)("minX",o.minX)("minY",o.minY)("focusOnShow",(o.ddconfig==null?null:o.ddconfig.focusOnShow)!==!1)("maximizable",o.maximizable)("keepInViewport",o.keepInViewport)("focusTrap",(o.ddconfig==null?null:o.ddconfig.focusTrap)!==!1)("transitionOptions",(o.ddconfig==null?null:o.ddconfig.transitionOptions)||"150ms cubic-bezier(0, 0, 0.2, 1)")("closeAriaLabel",(o.ddconfig==null?null:o.ddconfig.closeAriaLabel)||o.defaultCloseAriaLabel)("minimizeIcon",o.minimizeIcon)("maximizeIcon",o.maximizeIcon)("closeButtonProps",Pe(40,GZ))("maximizeButtonProps",Pe(41,GZ))("position",o.position)("pt",o.ptm("pcDialog")),p(),f("ngIf",o.headerTemplate),p(),f("ngIf",o.contentTemplate),p(),f("ngIf",o.footerTemplate),p(),f("ngIf",o.closeIconTemplate),p(),f("ngIf",o.maximizeIconTemplate),p(),f("ngIf",o.minimizeIconTemplate),p(),f("ngIf",!o.contentTemplate),p(),f("ngIf",o.ddconfig.footer&&!o.footerTemplate))},dependencies:[Qe,W2,pt,Oe,HZ,Ut,Pt],encapsulation:2})}return i})(),KZ=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=je({type:i});static \u0275inj=Ve({imports:[$Z,Oe,Oe]})}return i})(),s3=class{_parentInjector;_additionalTokens;constructor(n,e){this._parentInjector=n,this._additionalTokens=e}get(n,e,t){let o=this._additionalTokens.get(n);return o||this._parentInjector.get(n,e)}},Bh=(()=>{class i{appRef;injector;document;dialogComponentRefMap=new Map;constructor(e,t,o){this.appRef=e,this.injector=t,this.document=o}open(e,t){if(!this.duplicationPermission(e,t))return null;let o=this.appendDialogComponentToBody(t,e),r=this.dialogComponentRefMap.get(o);return r&&(r.instance.childComponentType=e,r.instance.inputValues=t.inputValues||{}),o}getInstance(e){return this.dialogComponentRefMap.get(e)?.instance}appendDialogComponentToBody(e,t){let o=new WeakMap;o.set(Mh,e);let r=new jc;o.set(jc,r);let s=r.onClose.subscribe(()=>{this.dialogComponentRefMap.get(r)?.instance.close()}),a=r.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(r),a.unsubscribe(),s.unsubscribe()}),l=YS($Z,{environmentInjector:this.appRef.injector,elementInjector:new s3(this.injector,o)});this.appRef.attachView(l.hostView);let c=l.hostView.rootNodes[0];return!e.appendTo||e.appendTo==="body"?this.document.body.appendChild(c):sl(e.appendTo,c),this.dialogComponentRefMap.set(r,l),r}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;let t=this.dialogComponentRefMap.get(e);t&&(this.appRef.detachView(t.hostView),t.destroy(),t.changeDetectorRef.detectChanges()),this.dialogComponentRefMap.delete(e)}duplicationPermission(e,t){if(t.duplicate)return!0;let o=!0;for(let[r,s]of this.dialogComponentRefMap)if(s.instance.childComponentType===e){o=!1;break}return o}static \u0275fac=function(t){return new(t||i)(be(Xs),be(hn),be(Ci))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var fO=(()=>{let n=class n{constructor(t,o){this.dialogRef=t,this.router=o,this.alive=!0,this.router.events.pipe(Nt(()=>this.alive)).subscribe(r=>{r instanceof Ns&&this.dialogRef.close()})}ngOnInit(){}ngOnDestroy(){this.alive=!1}addMessageToLog(t,o){this.log&&this.log.addNewText(t,o)}};n.\u0275fac=function(o){return new(o||n)(x(jc),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-dynamic-panel"]],standalone:!1,decls:2,vars:0,template:function(o,r){o&1&&(_(0,"p"),R(1,"fwc-dynamic-panel works!"),b())},encapsulation:2});let i=n;return i})();var Vh=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t}getDhcpPolicy(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getDhcpPolicyGrid(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/grid/${r}`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newPolicyDhcpRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules`;return this.httpClient.post(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateDhcpPolicyRule(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}moveObjectBetweenPositions(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/moveFrom`;return this.httpClient.put(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateDhcpPolicyRules(t,o,r,s){let a=r.map(d=>`rules[]=${d}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/bulkUpdate?${a}`,c={active:s.active,style:s.style,group:s.group};return this.httpClient.put(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteDhcpPolicyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteDhcpPolicyRules(t,o,r){let s=r.map(l=>`rules[]=${l}`).join("&"),a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}manageDhcpPolicyRules(t,o,r,s,a,l){let c="copy",d=this.httpClient.post,u=s<0?"above":"below";l===Go.CUT&&(c="move",d=this.httpClient.put);let m=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/${c}`,g={to:r,offset:u,rules:a};return d.call(this.httpClient,m,g).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}compileDhcpPolicyRules(t,o,r){let s;if(r){let a=r.map(l=>`rules[]=${l}`).join("&");s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/compile?${a}`}else s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/compile`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getDhcpGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/dhcpGroups/${r}`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkGroupRestrictions(t){let{fwcloud:o,firewall:r,id:s}=t,a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${r}/system/dhcpGroups/${s}/restricted`;return this.httpClient.get(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newDhcpPolicyRuleGroup(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpGroups`,c={name:r,comment:s,rules:a};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateDhcpPolicyRuleGroup(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpGroups/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteDhcpPolicyRulesGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpGroups/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}installConfig(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/dhcpRules/install?channel_id=${r}`;return this.httpClient.put(a,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Lci=vn("fundido",[li(":enter",[Yt({opacity:0,transform:"translateY(12%)"}),hi("380ms linear")])]),gO=vn("fundidoIn",[li(":enter",[Yt({opacity:0}),hi("250ms linear")]),li("* => void",hi("250ms linear"))]),$d=vn("fundidoInOut",[nr("void",Yt({opacity:0,transform:"translateY(12%)"})),nr("active, newItemAdded",Yt({opacity:1})),li("void => *",hi("300ms")),li("* => void",hi("300ms"))]),sqe=vn("delayFundidoInOut",[nr("void",Yt({opacity:0,transform:"translateY(12%)"})),nr("active, newItemAdded",Yt({opacity:1})),li("void => *",[WA("div",[$A(1e3,[Yt({opacity:0}),hi("0.3s",Yt({opacity:1}))])])]),li("* => void",hi("300ms"))]),Mci=vn("zoomInOut",[nr("void",Yt({opacity:0,transform:"scale(0.1, 0.1)"})),nr("active",Yt({opacity:1,transform:"scale(1, 1)"})),li("void => *",hi("300ms")),li("* => void",hi("300ms"))]),Bci=vn("itemFundidoOut",[nr("void",Yt({opacity:0})),nr("active, newItemAdded",Yt({opacity:1})),li("void => active",hi("300ms")),li("void => newItemAdded",hi("300ms")),li("* => void",hi("300ms"))]);var qZ=250,Ni=(()=>{let n=class n{constructor(t){this.translate=t}transform(t){let o="",r;if(t)if(t.error&&typeof t.error=="object"?r=t.error:t.error&&typeof t.error=="string"?(r=t.error,r==="IP version mismatch"&&(o=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):t.message&&typeof t.message=="string"&&t.status===500?(r=t.message,r==="IP version mismatch"&&(o=this.translate.instant("ITEM_PANEL.ERRORS.INVALID_IP_VERSION.TEXT"))):r=t,typeof t=="string")o=r;else if(this.isFwcAPIError(r)){let s=`API_ERROR.${r.fwcErr}`,a=this.translate.instant(s);if(a===s){if(o=r.msg||"",this.isServerError(o)){let l=JSON.parse(o);o=this.translate.instant("API_ERROR."+l.code)}}else o=a}else if(this.isEmptyError(r))o=this.translate.instant("API_ERROR.500");else if(this.isFwcAPIErrorNew(r))o=r.message;else if(this.isUnknownFormatError(r)){if(o=null,r.errors){let s=r.errors;for(let a in s)Array.isArray(s[a])&&(a==="id"&&s[a].length&&(o=s[a][0]),s[a].find(l=>l==="ipObjGroupId must not be empty")?o=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_GROUP"):s[a].find(l=>l==="ipObj must contain at least one address")&&(o=this.translate.instant("ROUTING.POLICY.ERROR_EMPTY_HOST")))}if(r.data&&!o){let s=`API_ERROR.${r.status}`,a=this.translate.instant(s);a===s?o=r.error||"":o=a}}else o=r;return o=o.length>qZ?o.substr(0,qZ)+"...":o,o}isFwcAPIError(t){return t&&t.fwcErr!=null}isFwcAPIErrorNew(t){return t&&t.status!=null&&t.response!=null&&t.message!=null}isUnknownFormatError(t){return t&&t.status!=null&&t.data!=null}isEmptyError(t){return t&&t.status===void 0&&t.error===void 0&&t.data&&Object.keys(t.data).length===0}isServerError(t){try{let o=JSON.parse(t);return o.errno!=null&&o.code!=null}catch{return!1}}};n.\u0275fac=function(o){return new(o||n)(x($e,16))},n.\u0275pipe=Vo({name:"fwcError",type:n,pure:!0,standalone:!1});let i=n;return i})();var aqe=["tooltipElem"],lqe=(i,n,e)=>({top:i,left:n,visibility:e}),cqe=()=>({width:"1.7rem",height:"1.7rem"});function dqe(i,n){i&1&&(_(0,"div",2),N(1,"p-progressSpinner"),b()),i&2&&(p(),De(Pe(2,cqe)))}function pqe(i,n){if(i&1&&(_(0,"span"),N(1,"i"),b()),i&2){let e=h(2);p(),j(_s("flag-icon flag-icon-",e.CountryId))}}function uqe(i,n){if(i&1&&(_(0,"span"),N(1,"i"),b()),i&2){let e=h(2);p(),j(e.pipeFwcIcon.transform(e.objectInfo.type,e.ContinentId))}}function hqe(i,n){if(i&1&&(_(0,"span"),R(1),D(2,"translate"),b()),i&2){let e=h(2);p(),Ps(" ",e.objectInfo.nodes.length," ",k(2,2,"INFO_TT.NODES"))}}function fqe(i,n){if(i&1){let e=B();_(0,"div",3)(1,"h6",4),N(2,"i",5),R(3),D(4,"translate"),_(5,"span",6)(6,"i",7),A("click",function(){w(e);let o=h();return C(o.showTooltip=!1)}),b()()(),_(7,"div",8),G(8,pqe,2,3,"span"),G(9,uqe,2,2,"span"),N(10,"i",9),D(11,"fwcIcon"),R(12,"\xA0\xA0"),_(13,"strong"),R(14),b(),R(15," ("),_(16,"i"),R(17),D(18,"translate"),b(),R(19,")"),N(20,"span",10),G(21,hqe,3,4,"span"),b(),N(22,"div",11),b()}if(i&2){let e=h();p(3),Y("\xA0",k(4,11,"ITEM_PANEL.HEADER.OBJ_INFO")," "),p(5),H(e.objectInfo.type==e.ObjectTypes.OBJ_COUNTRIE?8:-1),p(),H(e.objectInfo.type==e.ObjectTypes.OBJ_CONTINENT?9:-1),p(),j(_s("fwcIcon ",k(11,13,e.objectInfo.type))),p(4),Q(e.objectInfo.name),p(3),Q(k(18,15,"GLOBALS.DB_OBJECT_NAMES."+e.objectInfo.type)),p(4),H(e.objectInfo.nodes?21:-1),p(),f("innerHTML",ae(e.objectInfo.infoHTML),on)}}function mqe(i,n){if(i&1){let e=B();_(0,"div")(1,"h6",4),N(2,"i",12),R(3,"\xA0Error: "),_(4,"span",6)(5,"i",7),A("click",function(){w(e);let o=h();return C(o.showTooltip=!1)}),b()()(),N(6,"br"),_(7,"p"),R(8),b()()}if(i&2){let e=h();p(8),Y(" ",e.objectError," ")}}var edi=(()=>{let n=class n{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P){this.appOptionsService=t,this.fwcObjectService=o,this.fwcInterfaceService=r,this.itemSelectedService=s,this.fwcObjectTypeService=a,this.fwcUserService=l,this.fwcFirewallService=c,this.fwcPolicyService=d,this.fwcMarkService=u,this.fwcVpnService=m,this.fwcErrorPipe=g,this.fwcRoutingTableService=y,this.fwcDhcpPolicyService=v,this.translate=S,this.pipeFwcIcon=I,this.cd=P,this.loadingData=!1,this.OBJECT_TYPES=[],this.showTooltip=!1,this.positionTooltip=!1,this.TOOLTIP_HEIGHT=350,this.TOOLTIP_MIN_WIDTH=250,this.TOOLTIP_GAP=8,this.alive=!0,this.ObjectTypes=O}ngOnInit(){this.itemSelectedService.getObjectInfo().pipe(Nt(()=>this.alive)).subscribe(t=>{if(!t||!this.appOptionsService.enableInfoTooltip)return;let o=t.obj,r=t.event;this.objectInfo=void 0,this.objectError=void 0,o&&r?(this.loadingData=!0,this.tooltipX=r.clientX,this.tooltipY=r.clientY,this.targetElement=t.targetElement?t.targetElement:r.target,this.showTooltipDialog(),o._fwcShowRestrictions?this.fwcPolicyService.getPolicyRuleFull(o.firewall_id,o.rule_type,o.rule_id,this.fwcUserService.getActualFwSelectedCloud()).pipe(Nt(()=>this.alive)).subscribe(s=>{},s=>{}):this.getObjectInfo(o.objId,o.objType,o.objParentId,o.fwId,o.clusterId).then(s=>{this.loadingData=!1,this.objectInfo=s,this.showTooltipDialog()}).catch(s=>{this.loadingData=!1,this.objectError=this.fwcErrorPipe.transform(s)})):(this.showTooltip=!1,this.positionTooltip=!1)}),this.fwcObjectTypeService.getObjectTypes().subscribe(t=>{if(this.OBJECT_TYPES=[],t.data){for(let o of t.data)this.OBJECT_TYPES[o.id]=o.type;this.OBJECT_TYPES[O.OBJ_CLUSTER_NODE]="CLUSTER_NODE"}},t=>{Ie.error("ERROR getting object types",t),this.OBJECT_TYPES=[]})}ngOnDestroy(){this.alive=!1}showTooltipDialog(){this.cd.destroyed||this.cd.detectChanges(),this.placeTooltipDialog(),this.showTooltip=!0}placeTooltipOld(){if(this.tooltipElem){let t=this.tooltipElem.nativeElement.clientWidth,o=this.tooltipElem.nativeElement.clientHeight,r=window.innerWidth,s=window.innerHeight;this.tooltipX+t>=r-(this.TOOLTIP_GAP+3)&&(this.tooltipX=this.tooltipX-t-this.TOOLTIP_GAP),this.tooltipY+o>=s-(this.TOOLTIP_GAP+3)?this.tooltipY=this.tooltipY-o-this.TOOLTIP_GAP:this.tooltipY+=this.TOOLTIP_GAP}}placeTooltipDialog(){if(this.tooltipElem&&this.targetElement){let t=this.tooltipElem.nativeElement.clientWidth,o=this.tooltipElem.nativeElement.clientHeight,r=window.innerWidth,s=window.innerHeight,a=this.targetElement.getBoundingClientRect();this.tooltipX=this.tooltipY=void 0,a.top-o-this.TOOLTIP_GAP>0?this.tooltipY=a.top-o-this.TOOLTIP_GAP:this.tooltipY=a.bottom+this.TOOLTIP_GAP,a.left+t+this.TOOLTIP_GAP<r&&(this.tooltipX=a.left)}}getObjectInfo(t,o,r,s,a){return new Promise((c,d)=>{let u;switch(o=+o,o){case O.OBJ_FIREWALL:this.fwcFirewallService.getFirewall(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K;F=L.data,F.type=O.OBJ_FIREWALL,F.cluster&&(F.type=O.OBJ_CLUSTER_NODE),K=this.buildInfoTableHeader(F.id);let le="-";F.compiled_at&&(le=F.compiled_at),K+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMPILED_AT")}</p><p>${le}<p></td></tr>`;let me="-";F.installed_at&&(me=F.installed_at),K+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.INSTALLED_AT")}</p><p>${me}<p></td></tr>`,F.comment&&(K+=`<tr><td colspan="2"><p class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</p><p>${F.comment}<p></td></tr>`),K+="</table>",F.infoHTML=K}else return d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));c(F)},L=>{d(L)});break;case O.OBJ_CLUSTER:this.fwcFirewallService.getCluster(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K;F=L.data,F.type=O.OBJ_CLUSTER,K=this.buildInfoTableHeader(F.id),F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break;case O.OBJ_INTERFACE_FIREWALL:case O.OBJ_INTERFACE_HOST:let m;o==O.OBJ_INTERFACE_HOST?(u=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),m=r):(u=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),m=s??r),u(m,t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K,le;F=L.data,K=this.buildInfoTableHeader(F.id),le=+F.type,le==O.OBJ_INTERFACE_FIREWALL?F.cluster_id!==null&&F.cluster_id!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)}'></i> Cluster</td><td><strong>${F.cluster_name} (${F.cluster_id})</strong></td></tr>`:K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name} (${F.firewall_id})</strong></td></tr>`:K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_HOST)}'></i> Host</td><td><strong>${F.host_name} (${F.host_id})</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.LABEL")}</td><td><strong>${F.labelName?F.labelName:""}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MAC")}</td><td><strong>${F.mac?F.mac:""}</strong></td></tr>`,F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break;case O.OBJ_GROUP:case O.OBJ_SERVICE_GROUP:this.fwcObjectService.getObjectGroup(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K;if(F=L.data,K=this.buildInfoTableHeader(F.id),F.ipobjs&&F.ipobjs.length){K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IP_OBJS")}</span><ul class='fitUlGroup'>`;for(let le=0;le<F.ipobjs.length;le++){let me=new wn().transform(F.ipobjs[le].type,"","fwcOrange");K+=`<li><i class='fwcIcon ${me}'></i> ${F.ipobjs[le].name} (Id: <strong>${F.ipobjs[le].id}</strong>)</li>`}K+="</ul></td></tr>"}else K+=`<tr><td colspan="2"><i>${this.translate.instant("ITEM_PANEL.FIELDS.GROUP_EMPTY")}</i></td></tr>`;F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break;case O.OBJ_CERT_CLI:case O.OBJ_CERT_SER:case O.OBJ_OPENVPN_CONFIG_CLI:case O.OBJ_OPENVPN_CONFIG_SER:case O.OBJ_WGC_CONFIG_CLI:case O.OBJ_WGS_CONFIG_SER:case O.OBJ_ISC_CONFIG_CLI:case O.OBJ_ISS_CONFIG_SER:case O.OBJ_CA:let g,y={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};o==O.OBJ_CERT_CLI||o==O.OBJ_CERT_SER?(g=this.fwcVpnService.getCertificate.bind(this.fwcVpnService),y.crt=t):o==O.OBJ_OPENVPN_CONFIG_CLI||o==O.OBJ_OPENVPN_CONFIG_SER?(g=this.fwcVpnService.getConfigInfo.bind(this.fwcVpnService),y.openvpn=t):o==O.OBJ_WGC_CONFIG_CLI||o==O.OBJ_WGS_CONFIG_SER?(g=this.fwcVpnService.getWireGuardConfigInfo.bind(this.fwcVpnService),y.wireguard=t):o==O.OBJ_ISC_CONFIG_CLI||o==O.OBJ_ISS_CONFIG_SER?(g=this.fwcVpnService.getIPSecConfigInfo.bind(this.fwcVpnService),y.ipsec=t):o==O.OBJ_CA&&(g=this.fwcVpnService.getCA.bind(this.fwcVpnService),y.ca=t),g(y).subscribe(L=>{let F;if(L.data){let K;Array.isArray(L.data.data)&&L.data.data.length>0&&(L.data.data[0].type===O.OBJ_WGS_CONFIG_SER||L.data.data[0].type===O.OBJ_WGC_CONFIG_CLI||L.data.data[0].type===O.OBJ_ISS_CONFIG_SER||L.data.data[0].type===O.OBJ_ISC_CONFIG_CLI)?F=L.data.data[0]:F=L.data,F.type=o,K=this.buildInfoTableHeader(F.id);let le=this.translate.instant("VPN.PANEL.DAY_OPTS.0");if(F.days!==void 0&&(F.days%365||(F.days/=365,le=this.translate.instant("VPN.PANEL.DAY_OPTS.1"))),(o==O.OBJ_CERT_CLI||o==O.OBJ_CERT_SER)&&(F.name=F.cn,K+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${F.days} ${le}</strong></td></tr>`),o==O.OBJ_OPENVPN_CONFIG_CLI||o==O.OBJ_OPENVPN_CONFIG_SER||o==O.OBJ_WGC_CONFIG_CLI||o==O.OBJ_WGS_CONFIG_SER||o==O.OBJ_ISC_CONFIG_CLI||o==O.OBJ_ISS_CONFIG_SER){let me=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_NOT_INSTALLED"),fe=o==O.OBJ_OPENVPN_CONFIG_CLI?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"):o==O.OBJ_WGC_CONFIG_CLI?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"):o==O.OBJ_ISC_CONFIG_CLI?this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ADDRESS"):this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_NETWORK");if(K+=`<tr><td><span class='fwcOrange'>CN</span></td><td>${F.cn}</td></tr>`,F.cluster_id!==null&&F.cluster_id!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${F.cluster_name} (${F.cluster_id})</strong></td></tr>`:F.firewall_id!==null&&F.firewall_id!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name} (${F.firewall_id})</strong></td></tr>`),K+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CA)}'></i> CA</span></td><td>${F.CA_cn}</td></tr>`,F.openvpn_server_cn&&(K+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_OPENVPN_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_OPENVPN_CONFIG_SER")}</span></td><td><strong>${F.openvpn_server_cn}</strong></td></tr>`),F.wireguard_server_cn&&(K+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_WGS_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_WGS_CONFIG_SER")}</span></td><td><strong>${F.wireguard_server_cn}</strong></td></tr>`),F.ipsec_server_cn&&(K+=`<tr><td><span class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_ISS_CONFIG_SER)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_ISS_CONFIG_SER")}</span></td><td><strong>${F.ipsec_server_cn}</strong></td></tr>`),K+=`<tr><td><span class='fwcOrange'>${fe}</span></td><td><strong>${F.address}</strong></td></tr>`,F.netmask&&(K+=`<tr><td><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</span></td><td><strong>${F.netmask}</strong></td></tr>`),!F.status&&F.installed_at){let He=new Date(F.installed_at).toLocaleString();me=this.translate.instant("VPN.CONFIG.INSTALL.CONFIG_INSTALLED",{installDate:He})}K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("VPN.CONFIG.INSTALL.STATUS")}</span><br>${me}</td></tr>`}o==O.OBJ_CA&&(F.name=F.cn,K+=`<tr><td class='fwcOrange'>${this.translate.instant("VPN.PANEL.FIELDS.DAYS_SHORT")}</td><td><strong>${F.days} ${le}</strong></td></tr>`,F.status&&(K+=`<tr><td colspan="2">${this.translate.instant("VPN.PANEL.NEW.CA_CREATING_SHORT")}</td></tr>`)),F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));c(F)},L=>{d(L)});break;case O.OBJ_PREFIX_FOLDER:break;case O.OBJ_OPENVPN_PREFIX:let v={prefix:t,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getOpenVPNPrefixInfo(v).subscribe(L=>{let F;if(L.data){let K;F=L.data,K=this.buildInfoTableHeader(F.id),F.cluster_name!==null&&F.cluster_name!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${F.cluster_name}</strong></td></tr>`:F.firewall_name!==null&&F.firewall_name!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name}</strong></td></tr>`),K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${F.ca_cn}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_OPENVPN_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.CONFIG")}</td><td><strong>${F.cn}</strong></td></tr>`;let le=F.openvpn_clients?.length?{clients:F.openvpn_clients,icon:O.OBJ_OPENVPN_CONFIG_CLI}:F.wireguard_clients?.length?{clients:F.wireguard_clients,icon:O.OBJ_WGC_CONFIG_CLI}:null;le&&(K+=`
                      <tr>
                        <td class='fwcOrange'>
                          <i class='fwcIcon ${this.pipeFwcIcon.transform(le.icon)}'></i>
                          ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2">
                          <ul class='UlGroup'>
                            ${le.clients.map(me=>`<li>${me.cn} (${me.address})</li>`).join("")}
                          </ul>
                        </td>
                      </tr>`),K+="</table>",F.type=o,F.infoHTML=K,c(F)}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},L=>{d(L)});break;case O.OBJ_WIREGUARD_PREFIX:let S={prefix:t,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getWireGuardPrefixInfo(S).subscribe(L=>{let F;if(L.data){let K;F=L.data.data,K=this.buildInfoTableHeader(F.id),F.cluster_name!==null&&F.cluster_name!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${F.cluster_name}</strong></td></tr>`:F.firewall_name!==null&&F.firewall_name!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name}</strong></td></tr>`),K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${F.ca_cn}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_WGS_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.WG_CONFIG")}</td><td><strong>${F.cn}</strong></td></tr>`;let me=Array.isArray(F.wireguard_clients)&&F.wireguard_clients.some(fe=>fe!=null)?{clients:F.wireguard_clients.filter(fe=>fe!=null),icon:O.OBJ_WGC_CONFIG_CLI}:null;me&&(K+=`
                      <tr>
                        <td class='fwcOrange'>
                          <i class='fwcIcon ${this.pipeFwcIcon.transform(me.icon)}'></i>
                          ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2">
                          <ul class='UlGroup'>
                            ${me.clients.map(fe=>`<li>${fe.cn} (${fe.address})</li>`).join("")}
                          </ul>
                        </td>
                      </tr>`),K+="</table>",F.type=o,F.infoHTML=K,c(F)}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},L=>{d(L)});break;case O.OBJ_IPSEC_PREFIX:let I={prefix:t,fwcloud:this.fwcUserService.getActualFwSelectedCloud()};this.fwcVpnService.getIPSecPrefixInfo(I).subscribe(L=>{let F;if(L.data){let K;F=L.data.data,K=this.buildInfoTableHeader(F.id),F.cluster_name!==null&&F.cluster_name!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${F.cluster_name}</strong></td></tr>`:F.firewall_name!==null&&F.firewall_name!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name}</strong></td></tr>`),K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CA)}'></i> ${this.translate.instant("VPN.CA_CN")}</td><td><strong>${F.ca_cn}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_ISS_CONFIG_SER)}'></i> ${this.translate.instant("VPN.CONFIG.IPS_CONFIG")}</td><td><strong>${F.cn}</strong></td></tr>`;let me=Array.isArray(F.ipsec_clients)&&F.ipsec_clients.some(fe=>fe!=null)?{clients:F.ipsec_clients.filter(fe=>fe!=null),icon:O.OBJ_ISC_CONFIG_CLI}:null;me&&(K+=`
                      <tr>
                        <td class='fwcOrange'>
                          <i class='fwcIcon ${this.pipeFwcIcon.transform(me.icon)}'></i>
                          ${this.translate.instant("VPN.CONFIG.CLIENT_CONFIGS")}
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2">
                          <ul class='UlGroup'>
                            ${me.clients.map(fe=>`<li>${fe.cn} (${fe.address})</li>`).join("")}
                          </ul>
                        </td>
                      </tr>`),K+="</table>",F.type=o,F.infoHTML=K,c(F)}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"))},L=>{d(L)});break;case O.OBJ_MARK:let P={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),mark:t};this.fwcMarkService.getMark(P).subscribe(L=>{let F;if(L.data){let K;F=L.data,F.type=O.OBJ_MARK,K=this.buildInfoTableHeader(F.id),K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MARK_CODE")}</td><td><strong>${F.code}</strong></td></tr>`,F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break;case O.OBJ_ROUTING_TABLE:this.fwcRoutingTableService.getRoutingTable(s,this.fwcUserService.getActualFwSelectedCloud(),t).subscribe(L=>{let F={};if(L.data){let K,le=L.data;F.type=O.OBJ_ROUTING_TABLE,F.name=le.name,K=this.buildInfoTableHeader(le.id),K+=`<tr><td class='fwcOrange'>${this.translate.instant("PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")}</td><td><strong>${le.number}</strong></td></tr>`,le.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${le.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));c(F)},L=>{d(L)});break;case O.OBJ_DHCP_GROUP:this.fwcDhcpPolicyService.getDhcpGroup(this.fwcUserService.getActualFwSelectedCloud(),s,t).subscribe(L=>{let F={};if(L.data){let K,le=L.data;F.type=O.OBJ_DHCP_GROUP,F.name=le.name,K=this.buildInfoTableHeader(le.id),F.infoHTML=K}else d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));c(F)},L=>{d(L)});break;case O.OBJ_CONTINENT:this.fwcObjectService.getObjectGroup(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K;F=L.data,this.ContinentId=L.data.name,F.name=this.translate.instant("NODE_TYPES."+L.data.name),K=this.buildInfoTableHeader(F.id),F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break;default:this.fwcObjectService.getObject(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(L=>{let F;if(L.data){let K,le;switch(F=L.data,K=this.buildInfoTableHeader(F.id),le=+F.type,le){case O.OBJ_HOST:if(Array.isArray(F.interfaces)){let Te;K+=`<tr><td colspan="2"><span class='fwcOrange'>Interfaces</span><ul class='fitUlGroup'>`;for(let He=0;He<F.interfaces.length;He++){Te=F.interfaces[He];let Be=new wn().transform(Te.type);if(K+=`<li><i class='fwcIcon ${Be}'></i> ${Te.name} (Id: <strong>${Te.id}</strong>)</li>`,Array.isArray(Te.ipobjs)){K+="<ul class='fitUl'>";for(let rt=0;rt<Te.ipobjs.length;rt++){let Rt=new wn().transform(Te.ipobjs[rt].type);K+=`<li><i class='fwcIcon ${Rt}'></i> ${Te.ipobjs[rt].name} (Id: <strong>${Te.ipobjs[rt].id}</strong>)</li>`}K+="</ul>"}}K+="</ul></td></tr>"}break;case O.OBJ_ADDRESS:case O.OBJ_NETWORK:if(le==O.OBJ_ADDRESS){let Te=F.host_id!==null&&F.host_id!==void 0?O.OBJ_INTERFACE_HOST:O.OBJ_INTERFACE_FIREWALL;K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.IPV")}</td><td><strong>IPv${F.ip_version}</strong></td></tr>`,F.cluster_id!==null&&F.cluster_id!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_CLUSTER)} fwcWhite'></i> Cluster</td><td><strong>${F.cluster_name} (${F.cluster_id})</strong></td></tr>`:F.firewall_id!==null&&F.firewall_id!==void 0?K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_FIREWALL)}'></i> Firewall</td><td><strong>${F.firewall_name} (${F.firewall_id})</strong></td></tr>`:F.host_id!==null&&F.host_id!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(O.OBJ_HOST)}'></i> Host</td><td><strong>${F.host_name} (${F.host_id})</strong></td></tr>`),F.if_id!==null&&F.if_id!==void 0&&(K+=`<tr><td class='fwcOrange'><i class='fwcIcon ${this.pipeFwcIcon.transform(Te)}'></i> ${this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL")}</td><td><strong>${F.if_name} (${F.if_id})</strong></td></tr>`)}K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ADDRESS")}</td><td><strong>${F.address}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.MASK")}</td><td><strong>${F.netmask?F.netmask:""}</strong></td></tr>`;break;case O.OBJ_ADDRESS_RANGE:K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_S")}</td><td><strong>${F.range_start?F.range_start:""}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.RANGE_E")}</td><td><strong>${F.range_end?F.range_end:""}</strong></td></tr>`;break;case O.OBJ_SERVICE_IP:K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PROT")}</td><td><strong>${F.protocol}</strong></td></tr>`;break;case O.OBJ_SERVICE_TCP:case O.OBJ_SERVICE_UDP:K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.SRC_PORT")}</td><td><strong>${F.source_port_start?F.source_port_start:""}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${F.source_port_end?F.source_port_end:""}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.DEST_PORT")}</td><td><strong>${F.destination_port_start?F.destination_port_start:""}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.PORT_E")}</td><td><strong>${F.destination_port_end?F.destination_port_end:""}</strong></td></tr>`;break;case O.OBJ_SERVICE_ICMP:let me=F.icmp_type?F.icmp_type==-1?"Any":F.icmp_type.toString():"",fe=F.icmp_code?F.icmp_code==-1?"Any":F.icmp_code.toString():"";K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_TYPE")}</td><td><strong>${me}</strong></td></tr>`,K+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.ICMP_CODE")}</td><td><strong>${fe}</strong></td></tr>`;break;case O.OBJ_COUNTRIE:this.CountryId=F.name.toLocaleLowerCase(),F.name=this.translate.instant("COUNTRIES."+F.name);break}F.comment&&(K+=`<tr><td colspan="2"><span class='fwcOrange spanComments'>${this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS")}</span><br>${F.comment}</td></tr>`),K+="</table>",F.infoHTML=K}else{d(this.translate.instant("GLOBALS.ERRORS.NO_INFO"));return}c(F)},L=>{d(L)});break}})}buildInfoTableHeader(t){let o="<table class='fitTableInfo'>";return o+=`<tr><td class='fwcOrange'>${this.translate.instant("ITEM_PANEL.FIELDS.OBJ_ID")}</td><td><strong>${t}</strong></td></tr>`,o}onMouseEnter(){this.itemSelectedService.isFocused()}onMouseLeave(){this.itemSelectedService.isBlur()}};n.\u0275fac=function(o){return new(o||n)(x(St),x(Ki),x(Wr),x(yt),x(DE),x(dt),x(Bt),x(qn),x(RE),x(co),x(Ni),x(aa),x(Vh),x($e),x(wn),x(We))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-info-tooltip"]],viewQuery:function(o,r){if(o&1&&_e(aqe,5),o&2){let s;W(s=$())&&(r.tooltipElem=s.first)}},standalone:!1,features:[Se([Ki,Wr,DE,Bt,co,RE,wn])],decls:5,vars:9,consts:[["tooltipElem",""],["id","fitTooltipDiv",1,"fixed","z-[2000]","p-[0.7em]","min-w-[250px]","max-w-[450px]","text-[var(--fwcDark)]","bg-[var(--fwcWhite)]","border","border-[var(--fwcShadow)]","rounded-[0.5rem]","shadow-[0px_3px_1.2rem_rgba(34,34,34,0.6)]",3,"mouseenter","mouseleave","ngStyle"],[1,"text-center"],[1,"text-[0.85rem]","leading-[1.5]","text-[var(--fwcDark)]"],[1,"border-b","border-[var(--fwcOrange)]","pb-[0.3rem]","mb-[0.3rem]"],[1,"fa","fa-info-circle","fwcOrange"],[1,"float-right"],[1,"fa","fa-lg","fa-times-circle","cursor-pointer",3,"click"],[1,"whitespace-nowrap","text-ellipsis","overflow-hidden"],["aria-hidden","true"],[1,"spanSep"],[3,"innerHTML"],[1,"fa","fa-exclamation-circle","fwcRed"]],template:function(o,r){if(o&1){let s=B();_(0,"div",1,0),A("mouseenter",function(){return w(s),C(r.onMouseEnter())})("mouseleave",function(){return w(s),C(r.onMouseLeave())}),G(2,dqe,2,3,"div",2),G(3,fqe,23,17,"div",3),G(4,mqe,9,1,"div"),b()}o&2&&(f("ngStyle",ga(5,lqe,(r.tooltipY==null?null:r.tooltipY.toString())+"px",(r.tooltipX==null?null:r.tooltipX.toString())+"px",r.showTooltip?"visible":"hidden"))("@fundidoIn",void 0),p(2),H(r.loadingData?2:-1),p(),H(!r.loadingData&&r.objectInfo?3:-1),p(),H(!r.loadingData&&r.objectError?4:-1))},dependencies:[ft,lo,It,wn],encapsulation:2,data:{animation:[gO]}});let i=n;return i})();var gqe=i=>({dialog_name:i});function _qe(i,n){if(i&1){let e=B();_(0,"i",5),A("click",function(){w(e);let o=h().$implicit,r=h(2);return C(r.restoreDialog(o))}),N(1,"span",6)(2,"img",7),b()}}function bqe(i,n){if(i&1){let e=B();_(0,"i",5),A("click",function(){w(e);let o=h().$implicit,r=h(2);return C(r.restoreDialog(o))}),N(1,"span",6)(2,"img",8),b()}}function yqe(i,n){if(i&1){let e=B();_(0,"i",5),A("click",function(){w(e);let o=h().$implicit,r=h(2);return C(r.restoreDialog(o))}),N(1,"span",6)(2,"img",9),b()}}function vqe(i,n){if(i&1){let e=B();_(0,"i",10),A("click",function(){w(e);let o=h().$implicit,r=h(2);return C(r.restoreDialog(o))}),N(1,"span",6),b()}if(i&2){let e=h().$implicit;j(_s("",e.dialogIcon," relative inline-flex items-center justify-center text-[3.5rem] cursor-pointer transition-all duration-200 text-[var(--fwcBlue)] hover:text-[4rem]"))}}function wqe(i,n){if(i&1&&(_(0,"div",1)(1,"div",2),D(2,"translate"),G(3,_qe,3,0,"i",3),G(4,bqe,3,0,"i",3),G(5,yqe,3,0,"i",3),G(6,vqe,2,3,"i",4),b()()),i&2){let e=n.$implicit,t=h(2);f("@fundidoIn",void 0),p(),f("pTooltip",ae(vi(2,8,"ITEM_PANEL.RESTORE",de(11,gqe,e.dialogName))))("escape",!1),p(2),H(e.dialogUUID===t.DialogUuids.NGFW_PANEL&&e.dialogIcon==="NTOPNG"?3:-1),p(),H(e.dialogUUID===t.DialogUuids.NGFW_PANEL&&e.dialogIcon==="WEBSAFETYPROXY"?4:-1),p(),H(e.dialogUUID===t.DialogUuids.NGFW_PANEL&&e.dialogIcon==="DNSSAFETY"?5:-1),p(),H(e.dialogUUID!==t.DialogUuids.NGFW_PANEL?6:-1)}}function Cqe(i,n){if(i&1&&(_(0,"div",0),fn(1,wqe,7,13,"div",1,ro),b()),i&2){let e=h();p(),mn(e.dialogPanels)}}var pdi=(()=>{let n=class n{constructor(t,o){this.appDialogPanelsService=t,this.store=o,this.DialogUuids=oi,this.alive=!0,this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectMinimizedDialogs)).subscribe(r=>{this.dialogPanels=r})}restoreDialog(t,o){this.store.dispatch(an.restoreDialog({dialogId:t.dialogId}))}ngOnDestroy(){this.alive=!1}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-panel-dock"]],standalone:!1,decls:1,vars:1,consts:[[1,"absolute","bottom-[0.2rem]","left-1/2","-translate-x-1/2","text-center"],[1,"inline-block","mx-[0.3rem]","relative"],["showDelay","500","tooltipPosition","top",3,"pTooltip","escape"],[1,"relative","inline-flex","items-center","justify-center","text-[3.5rem]","cursor-pointer","transition-all","duration-200","text-[var(--fwcBlue)]","hover:text-[4rem]"],[3,"class"],[1,"relative","inline-flex","items-center","justify-center","text-[3.5rem]","cursor-pointer","transition-all","duration-200","text-[var(--fwcBlue)]","hover:text-[4rem]",3,"click"],[1,"pointer-events-none","absolute","left-0","bottom-[0.5rem]","h-[1rem]","w-full","bg-[radial-gradient(ellipse_at_50%_50%,rgba(0,0,0,0.5),rgba(97,97,97,0)_60%)]"],["height","90","width","90","src","assets/img/ntopng.png"],["height","90","width","90","src","assets/img/websafety.png"],["height","90","width","90","src","assets/img/dnssafety.png"],[3,"click"]],template:function(o,r){o&1&&G(0,Cqe,3,0,"div",0),o&2&&H(r.dialogPanels!=null&&r.dialogPanels.length?0:-1)},dependencies:[cn,It],encapsulation:2,data:{animation:[gO]}});let i=n;return i})();var _O=(()=>{let n=class n{constructor(t){this.el=t}ngAfterViewInit(){}};n.\u0275fac=function(o){return new(o||n)(x(Ei))},n.\u0275dir=ht({type:n,selectors:[["","appFocusable",""]],standalone:!1});let i=n;return i})();var Iqe=()=>({"max-width":"40rem"}),Eqe=()=>({color:"#333333",padding:"0.671em 1.3rem",fontFamily:"Montserrat, Arial, sans-serif",fontSize:"0.9rem",maxWidth:"30vw"}),xqe=i=>({"flex-direction":i}),JZ=i=>({"background-color":i});function Tqe(i,n){if(i&1&&(_(0,"h6",6),N(1,"i",7),R(2),b()),i&2){let e=h();p(2),Y(" ",e.dialogData==null?null:e.dialogData.header)}}function Oqe(i,n){if(i&1){let e=B();_(0,"input",17),A("blur",function(){w(e);let o=h(2).$implicit,r=h(2);return C(r.blurHandler(o))})("keydown.enter",function(o){w(e);let r=h(4);return C(r.checkDialog(o))})("keydown.esc",function(o){w(e);let r=h(4);return C(r.cancelDialog(o))})("keydown.tab",function(o){w(e);let r=h(4);return C(r.focusNext(o))})("keydown.shift.tab",function(o){w(e);let r=h(4);return C(r.focusNext(o))}),b()}if(i&2){let e=h(2),t=e.$implicit,o=e.$index;f("id",ae("input_"+o))("type",t.type)("formControlName",t.name)("name",t.name)}}function Rqe(i,n){if(i&1&&N(0,"p-select",13),i&2){let e=h(2),t=e.$implicit,o=e.$index;f("inputId",ae("select_"+o))("formControlName",t.name)("options",t.options)("placeholder",t.placeholder||null)}}function Dqe(i,n){if(i&1){let e=B();_(0,"textarea",18),A("keydown.tab",function(o){w(e);let r=h(4);return C(r.focusNext(o))})("keydown.shift.tab",function(o){w(e);let r=h(4);return C(r.focusNext(o))}),b()}if(i&2){let e=h(2),t=e.$implicit,o=e.$index;f("id",ae("textarea_"+o))("formControlName",t.name)("name",t.name)}}function Pqe(i,n){if(i&1&&(_(0,"div",8)(1,"div",10)(2,"p-floatlabel",11),G(3,Oqe,1,5,"input",12),G(4,Rqe,1,5,"p-select",13),G(5,Dqe,1,4,"textarea",14),_(6,"label",15),N(7,"i",8),R(8),b()()(),_(9,"p",16),R(10),D(11,"translate"),b()()),i&2){let e=h().$implicit,t=h(2);f("ngClass",e.halfSized?"col-12 md:col-6":"col-12"),p(3),H(e.type!=="textarea"&&e.type!=="hidden"&&e.type!=="select"?3:-1),p(),H(e.type==="select"?4:-1),p(),H(e.type==="textarea"?5:-1),p(),f("for",e.name),p(),f("ngClass",e.icon),p(),Y(" \xA0 ",e.label," "),p(),f("hidden",t.formModel.get(e.name).valid||t.formModel.get(e.name).untouched),p(),Q(k(11,9,"ITEM_PANEL.ERRORS.FIELD_FORMAT"))}}function Aqe(i,n){if(i&1){let e=B();_(0,"p-button",29),A("onClick",function(){let o=w(e).$implicit,r=h(2).$implicit,s=h(2);return C(s.setColor(r.name,o))}),b()}if(i&2){let e=n.$implicit;De(de(2,JZ,e))}}function kqe(i,n){if(i&1){let e=B();_(0,"p-button",32),A("onClick",function(){let o=w(e).$implicit,r=h(3).$implicit,s=h(2);return C(s.setColor(r.name,o))}),b()}if(i&2){let e=n.$implicit,t=h(5);De(de(2,JZ,e&&t.RulesStylesBg[e]?t.RulesStylesBg[e]:e))}}function Nqe(i,n){if(i&1&&(_(0,"div",22)(1,"label",30),R(2),D(3,"translate"),b()(),_(4,"div",22),fn(5,kqe,1,4,"p-button",31,ro),b()),i&2){let e=h(4);p(2),Y(" ",k(3,1,"PANELS.INPUT_PANEL.COLORS_MOST_USED")," "),p(3),mn(e.mostUsedColors)}}function Fqe(i,n){if(i&1){let e=B();_(0,"div",19)(1,"p-colorPicker",20),A("onChange",function(o){w(e);let r=h().$implicit,s=h(2);return C(s.onChangePickerColor(r.name,o))}),b()(),_(2,"div",21)(3,"div",3)(4,"div",22)(5,"label",23),R(6),D(7,"translate"),b()(),_(8,"div",22),fn(9,Aqe,1,4,"p-button",24,ro),b()(),G(11,Nqe,7,3),_(12,"div",22)(13,"div",10)(14,"span",25),N(15,"span",26),b(),_(16,"input",27),A("blur",function(){w(e);let o=h().$implicit,r=h(2);return C(r.blurHandler(o))})("keyup",function(o){w(e);let r=h().$implicit,s=h(2);return C(s.onSetManualColorHandler(r.name,o))}),b(),_(17,"p-button",28),D(18,"translate"),A("onClick",function(){w(e);let o=h().$implicit,r=h(2);return C(r.setColor(o.name,null))}),b()(),_(19,"p",16),R(20),D(21,"translate"),b()()()}if(i&2){let e=h(),t=e.$implicit,o=e.$index,r=h(2);p(),f("inline",!0)("formControlName",t.name),p(5),Y(" ",k(7,16,"PANELS.INPUT_PANEL.COLORS_STANDARD")," "),p(3),mn(r.DefaultPaletteColors),p(2),H(r.mostUsedColors!=null&&r.mostUsedColors.length?11:-1),p(4),Kt("background",r.formModel.get(t.name).valid?r.formModel.get(t.name).value:"repeating-linear-gradient(-45deg,#eee,#eee_10px,#e5e5e5_10px,#e5e5e5_20px)"),p(),f("id",ae("input_cp_"+o))("placeholder",t.placeholder)("formControlName",t.name)("name",t.name),p(),f("pTooltip",k(18,18,"PANELS.INPUT_PANEL.NO_COLOR_TOOLTIP"))("showDelay",500)("disabled",r.formModel.get(t.name).invalid),p(2),f("hidden",r.formModel.get(t.name).valid||r.formModel.get(t.name).pristine),p(),Q(k(21,20,"ITEM_PANEL.ERRORS.HEX_COLOR"))}}function Lqe(i,n){i&1&&N(0,"div",4)}function Mqe(i,n){if(i&1&&N(0,"input",9),i&2){let e=h().$implicit;f("formControlName",e.name)("name",e.name)}}function Bqe(i,n){if(i&1&&(G(0,Pqe,12,11,"div",8),G(1,Fqe,22,22),G(2,Lqe,1,0,"div",4),G(3,Mqe,1,2,"input",9)),i&2){let e=n.$implicit;H(e.type!=="hidden"&&e.type!=="button"&&e.type!=="separator"&&e.type!=="colorpicker"?0:-1),p(),H(e.type==="colorpicker"?1:-1),p(),H(e.type==="separator"?2:-1),p(),H(e.type==="hidden"?3:-1)}}function Vqe(i,n){if(i&1&&(_(0,"form",5),fn(1,Bqe,4,4,null,null,ro),b()),i&2){let e=h();f("formGroup",e.formModel)("ngStyle",de(2,xqe,e.dialogData.isClonePanel||e.dialogData.isSSHPanel?"column":"row")),p(),mn(e.dialogData.formControls)}}function Uqe(i,n){if(i&1){let e=B();_(0,"p-button",37),A("onClick",function(){w(e);let o=h().$implicit,r=h(2);return C(r.clickButton(o.name))}),b()}if(i&2){let e=h().$implicit;f("styleClass",e.class)("icon",e.icon)("label",e.label)("disabled",e.readonly)}}function jqe(i,n){if(i&1&&G(0,Uqe,1,4,"p-button",36),i&2){let e=n.$implicit;H(e.type==="button"?0:-1)}}function Gqe(i,n){if(i&1){let e=B();fn(0,jqe,1,1,null,null,ro),N(2,"span",33),_(3,"p-button",34),D(4,"translate"),A("onClick",function(){w(e);let o=h();return C(o.cancelDialog())}),b(),_(5,"p-button",35),A("onClick",function(){w(e);let o=h();return C(o.acceptDialog())}),b()}if(i&2){let e=h();mn(e.dialogData==null?null:e.dialogData.formControls),p(3),f("label",ae(k(4,3,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("disabled",!(e.formModel!=null&&e.formModel.valid))}}var Sdi=(()=>{let n=class n{constructor(t,o,r,s,a,l){this.inputDataService=t,this.cd=o,this.fwcUserService=r,this.fwcCloudService=s,this.utilService=a,this.translate=l,this.displayDialog=!1,this.modal=!0,this.DefaultPaletteColors=eH,this.RulesStylesBg=UI}ngOnInit(){this.inputDataService.getInputData().subscribe(t=>{this.showDialog(t)})}blurHandler(t){let o=this.formModel.get(t.name);o.pristine&&o.markAsUntouched()}showDialog(t){return V(this,null,function*(){if(this.formModel=new ho({}),this.dialogData=t,t.modal==!1?this.modal=!1:this.modal=!0,this.onAccept=t.onAccept,t.formControls){let o=[],r=!1;typeof t.isClonePanel!="boolean"&&(t.isClonePanel=!!t.formControls.find(s=>s.label==="Firewall name"||s.label==="Address")||t.header==this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER")||t.header==this.translate.instant("PANELS.DHCP_GROUP_PANEL.FIELDS.NAME")),typeof t.isSSHPanel!="boolean"&&(t.isSSHPanel=!!t.formControls.find(s=>s.label==="SSH user"));for(let s of t.formControls)this.formModel.addControl(s.name,new Ee({value:s.value,disabled:s.readonly})),o=[],s.required&&o.push(Me.required),s.regexp&&o.push(Me.pattern(s.regexp)),s.type==="colorpicker"&&(o.push(Me.pattern(/^#([A-Fa-f0-9]{6})$/)),r=!0),this.formModel.get(s.name).setValidators(o),s.type=="select"&&(s.options||(s.options=[]),s.options.forEach(a=>{a.default&&this.formModel.get(s.name).setValue(a.id)}));if(r){this.mostUsedColors=[];try{let s=yield this.utilService.fwcAPICall(this.fwcCloudService.getCloudColors.bind(this.fwcCloudService),this.fwcUserService.getActualFwSelectedCloud());Array.isArray(s.data)&&(this.mostUsedColors=s.data.map(a=>a.color))}catch{}}}this.displayDialog=!0,setTimeout(()=>{if(this.recenterDialog(),this.dialogData&&this.dialogData.formControls)for(let o of this.dialogData.formControls)o.type==="colorpicker"&&o.value&&this.setColor(o.name,o.value)},1)})}recenterDialog(){try{this.cd.destroyed||this.cd.detectChanges(),this.inputDialog&&this.inputDialog.center()}catch{}}onShowDialog(){this.recenterDialog(),setTimeout(()=>{this.firstInputField&&this.firstInputField.el&&this.firstInputField.el.nativeElement.focus()},150)}onHideDialog(){this.dialogData=null,this.formModel=null}acceptDialog(){this.closeDialog(),this.onAccept&&this.onAccept(this.formModel.value)}cancelDialog(t){this.closeDialog(),this.dialogData&&typeof this.dialogData.onCancel=="function"?this.dialogData.onCancel():this.onAccept&&this.onAccept(null)}closeDialog(){this.displayDialog=!1}checkDialog(t){if(this.formModel.valid)this.acceptDialog();else for(let o in this.formModel.controls)this.formModel.controls[o].markAsDirty()}focusNext(t){if(t){let o=[],r=t.shiftKey?-1:1,s=-1;if(this.focusableInputs.forEach((a,l)=>{a.el.nativeElement.id===t.target.id&&(s=l),o.push(a.el)}),s!==-1){let a=s<o.length-1?s+1:0;r===-1&&(a=s?s-1:o.length-1),o[a].nativeElement.focus()}t.stopPropagation(),t.preventDefault()}}clickButton(t){this.formModel.get(t).setValue(!0),this.acceptDialog()}setColor(t,o){let r=this.formModel.get(t);r&&(r.setValue(o&&UI[o]?UI[o]:o),r.markAsPristine(),this.cd.destroyed||this.cd.detectChanges())}onSetManualColorHandler(t,o){if(this.formModel.updateValueAndValidity(),o&&o.preventDefault(),this.formModel.valid){let r=this.formModel.get(t);r&&this.setColor(t,r.value)}else this.setColor(t,null)}onChangePickerColor(t,o){o.originalEvent.preventDefault(),this.onSetManualColorHandler(t)}};n.\u0275fac=function(o){return new(o||n)(x(Oo),x(We),x(dt),x(Ba),x(Tt),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-input-panel"]],viewQuery:function(o,r){if(o&1&&(_e(Ut,5),_e(si,5),_e(_O,5)),o&2){let s;W(s=$())&&(r.inputDialog=s.first),W(s=$())&&(r.firstInputField=s.first),W(s=$())&&(r.focusableInputs=s)}},standalone:!1,features:[Se([Ba])],decls:11,vars:11,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable","contentStyle"],[1,"grid","my-0"],[1,"col-12"],["novalidate","",1,"flex","w-full",3,"formGroup","ngStyle"],[1,"dlgFwcDialog-header"],[1,"fa","fa-pencil","fwcOrange"],[3,"ngClass"],["type","hidden",3,"formControlName","name"],[1,"p-inputgroup"],[1,"p-float-label","mb-2.5"],["appFocusable","","pInputText","",3,"type","formControlName","name","id"],["appFocusable","","optionLabel","text","optionValue","id","dataKey","id","appendTo","body","styleClass","fwcSelect w-full",3,"inputId","formControlName","options","placeholder"],["appFocusable","","pInputText","","rows","3",3,"formControlName","name","id"],[1,"left-[0.429rem]","text-[#9b9b9b]","transition-[color,transform]","duration-200",3,"for"],[1,"fwc-error",3,"hidden"],["appFocusable","","pInputText","",3,"blur","keydown.enter","keydown.esc","keydown.tab","keydown.shift.tab","type","formControlName","name","id"],["appFocusable","","pInputText","","rows","3",3,"keydown.tab","keydown.shift.tab","formControlName","name","id"],[1,"col-6","fwc-centered"],[3,"onChange","inline","formControlName"],[1,"col-6"],[1,"col-12","grid","grid-nogutter","fwcDivPaddedB","my-0"],["for","standardColors",1,"left-[0.429rem]","text-[#9b9b9b]","transition-[color,transform]","duration-200"],["label"," ","styleClass","p-button-secondary",3,"style"],[1,"p-inputgroup-addon","relative"],[1,"absolute","inset-0","inline-block","h-full","w-full"],["pInputText","","type","text",3,"blur","keyup","placeholder","formControlName","name","id"],["type","button","icon","fa fa-trash","styleClass","p-button-danger",3,"onClick","pTooltip","showDelay","disabled"],["label"," ","styleClass","p-button-secondary",3,"onClick"],["for","mostUsedColors",1,"left-[0.429rem]","text-[#9b9b9b]","transition-[color,transform]","duration-200"],["styleClass","p-button-secondary","label"," ",3,"style"],["styleClass","p-button-secondary","label"," ",3,"onClick"],[1,"spanSep"],["type","button","styleClass","p-button-danger","icon","fa fa-ban",3,"onClick","label"],["type","button","styleClass","p-button-info","icon","pi pi-check","label","Ok",3,"onClick","disabled"],["type","button",3,"styleClass","icon","label","disabled"],["type","button",3,"onClick","styleClass","icon","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.onHideDialog())}),E(1,Tqe,3,1,"ng-template",null,0,ie),_(3,"div",3)(4,"div",4)(5,"p"),R(6),b()(),N(7,"div",4),G(8,Vqe,3,4,"form",5),b(),E(9,Gqe,6,5,"ng-template",null,1,ie),b()}o&2&&(De(Pe(9,Iqe)),Ae("visible",r.displayDialog),f("modal",r.modal)("closable",!1)("resizable",!0)("contentStyle",Pe(10,Eqe)),p(6),Y(" ",r.dialogData==null?null:r.dialogData.helpText," "),p(2),H(r.dialogData!=null&&r.dialogData.formControls?8:-1))},dependencies:[$t,ft,eo,Hi,_i,Zn,to,ao,Ut,cn,bt,si,Pn,hO,Ir,_O,It],encapsulation:2});let i=n;return i})();var Hqe=["panelHint"];function zqe(i,n){if(i&1&&N(0,"img",3),i&2){let e=h();f("src",e.hint.imageURL,Cr)}}function Wqe(i,n){i&1&&N(0,"i",4)}var Odi=(()=>{let n=class n{constructor(t,o){this.appHintsService=t,this.translate=o}ngOnInit(){this.appHintsService.getHintToShow().subscribe(t=>{if(t){let o,r;this.hint=t,t.target&&(o=t.target.nativeElement),t.event?r=t.event:r=document.createEvent("MouseEvent"),this.panelHint.show(r,o)}})}};n.\u0275fac=function(o){return new(o||n)(x(JI),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-hint"]],viewQuery:function(o,r){if(o&1&&_e(Hqe,5),o&2){let s;W(s=$())&&(r.panelHint=s.first)}},standalone:!1,decls:14,vars:13,consts:[["panelHint",""],["styleClass","fwcHintPnl absolute top-0 -left-3 max-w-120 mt-[14.5em] ml-5"],[1,"table-cell","align-top","pr-4"],[3,"src"],["aria-hidden","true",1,"fa","fa-4x","fa-lightbulb","fwcBlue"],[1,"table-cell","align-top"],[1,"text-(--fwcMidDark)",3,"innerHTML"],[1,"float-right","my-2","inline-flex"],["icon","fa fa-check",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-popover",1,0)(2,"div",2),G(3,zqe,1,1,"img",3),G(4,Wqe,1,0,"i",4),b(),_(5,"div",5)(6,"h5"),R(7),D(8,"translate"),b(),N(9,"p",6),D(10,"translate"),b(),_(11,"div",7)(12,"p-button",8),D(13,"translate"),A("onClick",function(){w(s);let l=Ze(1);return C(l.hide())}),b()()()}o&2&&(p(3),H(r.hint!=null&&r.hint.imageURL?3:-1),p(),H(r.hint!=null&&r.hint.imageURL?-1:4),p(3),Q(k(8,7,r.hint==null?null:r.hint.caption)),p(2),f("innerHTML",ae(k(10,9,r.hint==null?null:r.hint.description)),on),p(3),f("label",ae(k(13,11,"GLOBALS.MSG_BUTTONS.UNDERSTAND"))))},dependencies:[Mu,bt,It],encapsulation:2});let i=n;return i})();var Uh=(()=>{let n=class n{constructor(t,o,r){this.fwcPolicyService=t,this.fwcUserService=o,this.store=r}goToObjectDependency(t){if((t.rule_id||t.route_id||t.routing_rule_id||t.dhcp_rule_id||t.haproxy_rule_id||t.keepalived_rule_id)&&t.firewall_id&&!t._fwItem){let o=t.rule_type,r=t.rule_id,s=t.obj_id,a=t.obj_type_id,l=[t.rule_position_id],c,d;t.route_id?(o=gr.ROUTING_TABLE,r=t.route_id,c=t.table_id,d=t.table_name,s=null,a=null,l=[],t.gateway_id&&(s=t.gateway_id,a=t.gateway_type,l.push(ji.GATEWAY_POSITION)),t.interface_id&&(s=t.interface_id,a=t.interface_type,l.push(ji.INTERFACE_POSITION)),!t.gateway_id&&!t.interface_id&&(s=a=void 0,l.push(ji.TO_POSITION))):t.routing_rule_id?(o=gr.POLICY_ROUTING,r=t.routing_rule_id,t.routing_table_id?l=[Hr.ROUTING_TABLE_POSITION]:(s=t.ipobj_id,a=t.ipobj_type,l=[Hr.FROM_POSITION])):t.dhcp_rule_id?(t.dhcp_rule_type===2||t.dhcp_rule_rule_type===2?(o=Fi[M.DHCP_FIXED_IP],t.interface_id?(s=t.interface_id,l=[ra.INTERFACE]):(s=t.dhcp_rule_router,l=[ra.IP])):(o=Fi[M.DHCP],t.network_id&&(s=t.network_id,l.push(ra.NETWORK)),t.ipObj_id&&(s=t.ipObj_id,l.push(ra.DNS)),t.range_id&&(s=t.range_id,l.push(ra.RANGE)),t.router_id&&(s=t.router_id,l.push(ra.ROUTER))),r=t.dhcp_rule_id):t.haproxy_rule_id?(o=Fi[M.HAPROXY],t.frontendIp_id&&(s=t.frontendIp_id,l.push(_l.FRONTEND_IP)),t.frontendPort_id&&(s=t.frontendPort_id,l.push(_l.FRONTEND_PORT)),t.backendIps_id&&(s=t.backendIps_id,l.push(_l.BACKEND_IPS)),t.backendPort_id&&(s=t.backendPort_id,l.push(_l.BACKEND_PORT)),r=t.haproxy_rule_id):t.keepalived_rule_id&&(o=Fi[M.KEEPALIVED],t.interface_id&&(s=t.interface_id,l.push(Ep.INTERFACE)),t.keepalived_rule_virtualIps&&(s=t.keepalived_rule_virtualIps,l.push(Ep.VIRTUAL_IPS)),t.keepalived_rule_masterNode&&(s=t.keepalived_rule_masterNode,l.push(Ep.MASTER_NODE)),r=t.keepalived_rule_id);let u={};return u.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),u._fwcPolicyType=o,u._fwcClusterId=t.cluster_id,u._fwcFwId=t.firewall_id,u._fwcFwName=t.cluster_name?t.cluster_name:t.firewall_name,u._fwcObjId=c,t.route_id?u._fwcPolicyName=d:t.dhcp_rule_id?t.dhcp_rule_type===2?u._fwcPolicyName="Fixed IPs":u._fwcPolicyName="DHCP":t.keepalived_rule_id?u._fwcPolicyName="Keepalived":t.haproxy_rule_id&&(u._fwcPolicyName="HAProxy"),u._fwcSelectRuleId=r,u._fwcSelectRulePositionIds=l,u._fwcSelectObjId=s,u._fwcSelectObjType=a,this.fwcPolicyService.setSelectedPolicy(u),!0}else{let o={};if(o._fwcSubObjId=t.obj_id,o._fwcSubObjType=t.obj_type_id,o.fwcloud=t.cloud_id||this.fwcUserService.getActualFwSelectedCloud(),t.group_id)o._fwcObjId=t.group_id,o._fwcObjType=t.group_type;else if(t.interface_id)o._fwcObjId=t.interface_id,o._fwcObjType=t.interface_type_id;else if(t.host_id)o._fwcObjId=t.host_id,o._fwcObjType=t.host_type;else if(t.openvpn)o._fwcObjId=t.id,o._fwcObjType=O.OBJ_OPENVPN_CONFIG_CLI;else if(t.wireguard)o._fwcObjId=t.id,o._fwcObjType=O.OBJ_WGC_CONFIG_CLI;else if(t.ipsec)o._fwcObjId=t.id,o._fwcObjType=O.OBJ_ISC_CONFIG_CLI;else if(t.firewall_id&&t.obj_id&&!t.rule_id||t._fwItem)t.cluster_id?(o._fwcObjId=t.cluster_id,o._fwcObjType=O.OBJ_CLUSTER):(o._fwcObjId=t.firewall_id,o._fwcObjType=O.OBJ_FIREWALL),t._fwItem&&(o._fwcSubObjId=null,o._fwcSubObjType=null);else return;return this.store.dispatch(_r.selectTreeItem({item:o})),!0}}};n.\u0275fac=function(o){return new(o||n)(be(qn),be(dt),be(tt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();function $qe(i,n){if(i&1){let e=B();_(0,"div",11),A("dblclick",function(o){let r=w(e).$implicit,s=h(3);return C(s.itemDblClickEvent(o,r))}),N(1,"span",12),b()}if(i&2){let e=n.$implicit;p(),f("innerHTML",e.label,on)}}function Kqe(i,n){if(i&1){let e=B();_(0,"p-tree",9),ke("selectionChange",function(o){w(e);let r=h(2);return Ne(r.selectedRule,o)||(r.selectedRule=o),C(o)}),E(1,$qe,2,1,"ng-template",10),b()}if(i&2){let e=h(2);f("value",e.ruleItemsNodes),Ae("selection",e.selectedRule)}}function qqe(i,n){i&1&&(N(0,"p-message",6),D(1,"translate")),i&2&&f("text",ae(k(1,2,"WU.NOT_USED_RULE")))}function Jqe(i,n){if(i&1){let e=B();_(0,"div",11),A("dblclick",function(o){let r=w(e).$implicit,s=h(3);return C(s.itemDblClickEvent(o,r))}),N(1,"span",12),b()}if(i&2){let e=n.$implicit;p(),f("innerHTML",e.label,on)}}function Qqe(i,n){if(i&1){let e=B();_(0,"p-tree",9),ke("selectionChange",function(o){w(e);let r=h(2);return Ne(r.selectedObject,o)||(r.selectedObject=o),C(o)}),E(1,Jqe,2,1,"ng-template",10),b()}if(i&2){let e=h(2);f("value",e.objectItemsNodes),Ae("selection",e.selectedObject)}}function Yqe(i,n){i&1&&(N(0,"p-message",6),D(1,"translate")),i&2&&f("text",ae(k(1,2,"WU.NOT_USED_OBJECT")))}function Xqe(i,n){if(i&1&&(_(0,"div",0)(1,"div",1)(2,"div")(3,"label",2)(4,"strong"),N(5,"i",3),b(),R(6),D(7,"translate"),D(8,"translate"),_(9,"span",4)(10,"strong"),R(11),b()()()(),G(12,Kqe,2,2,"p-tree",5),G(13,qqe,2,4,"p-message",6),b(),_(14,"div",1)(15,"div")(16,"label",7)(17,"strong"),N(18,"i",8),b(),R(19),D(20,"translate"),_(21,"span",4)(22,"strong"),R(23),b()()()(),G(24,Qqe,2,2,"p-tree",5),G(25,Yqe,2,4,"p-message",6),b()()),i&2){let e=h();p(6),Ps("\xA0",k(7,9,"WU.RULES"),"/",k(8,11,"WU.ROUTES")," \xA0\xA0"),p(5),Q(e.getTreeItemsNumber(e.ruleItemsNodes)),p(),H(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?12:-1),p(),H(e.ruleItemsNodes!=null&&e.ruleItemsNodes.length?-1:13),p(6),Y("\xA0",k(20,13,"WU.OBJECTS"),"\xA0\xA0"),p(4),Q(e.getTreeItemsNumber(e.objectItemsNodes)),p(),H(e.objectItemsNodes!=null&&e.objectItemsNodes.length?24:-1),p(),H(e.objectItemsNodes!=null&&e.objectItemsNodes.length?-1:25)}}var y0=(()=>{let n=class n{set objectInfo(t){t&&(this._objectInfo=t,this.ruleItemsNodes=this.selectedRule=null,this.objectItemsNodes=this.selectedObject=null,this.parseInfo())}constructor(t,o,r,s,a,l,c,d){this.store=t,this.refService=o,this.fwcPolicyService=r,this.fwcPositionService=s,this.translate=a,this.fwcUserService=l,this.fwcWhereUsedFunctionalityService=c,this.pipeFwcIcon=d,this.ObjectTypes=O,this.contextMenuReference=null,this.selMode=1,this.onHideParent=new te}ngOnInit(){}ngAfterViewInit(){let t=this;setTimeout(function(){let o=t.refService.getAppRef();t.contextMenuReference=o},1)}parseInfo(){let t,o,r;if(o=this._objectInfo,!!o&&(r=o.restrictions,!!r)){this.ruleItemsNodes=[],this.objectItemsNodes=[];for(let s of Object.keys(r)){let a=r[s];Array.isArray(a)&&a.length&&a[0]&&(a[0].rule_id!=null&&a[0].rule_type!=null||a[0].routing_rule_id!=null||a[0].route_id!=null||a[0].dhcp_rule_id!=null||a[0].keepalived_rule_id!=null||a[0].haproxy_rule_id!=null?this.ruleItemsNodes=this.buildRuleTreeNodes(s,a,this.ruleItemsNodes):(t=this.buildObjectTreeNodes(a,s),this.objectItemsNodes.push(t)))}}}getTreeItemsNumber(t){let o=0,r;if(t)for(r=t.slice(0);r.length;){let s=r.pop();s.children&&s.children.length?r.push(...s.children):o++}return o}itemDblClickEvent(t,o){let r;t.preventDefault(),t.stopPropagation(),this.clearVisitedStatus(),o?(r=o.data,o.visited=!0):t&&(r=t.value),r&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(r)&&this.onHideParent.emit(!0)}clearVisitedStatus(){let t=o=>{o.visited=!1,o.children&&o.children.forEach(t)};this.ruleItemsNodes.forEach(t)}buildRuleTreeNodes(t,o,r=[]){for(let s of o){let a=r.find(d=>!!(d.data&&d.data.firewall_id==s.firewall_id)),l,c;if(s.rule_id?s.rule_position_name?(l="WU.FOUND_IN_RULE",c={policy_name:s.rule_type_name,rule_id:s.rule_id,pos_name:s.rule_position_name}):(l="WU.FOUND_IN_RULE_NO_POS",c={policy_name:s.rule_type_name,rule_id:s.rule_id}):s.route_id?t==="IpobjInRouteAsGateway"?(l="WU.FOUND_IN_ROUTE_GATEWAY",c={route_id:s.route_id,table_name:s.table_name,table_number:s.table_number}):(l="WU.FOUND_IN_ROUTE",c={route_id:s.route_id,table_name:s.table_name,table_number:s.table_number}):s.routing_rule_id?(l="WU.FOUND_IN_ROUTING_RULE",c={routing_rule_id:s.routing_rule_id}):s.dhcp_rule_id&&(s.dhcp_rule_rule_type===2||s.dhcp_rule_type===2)?(l="WU.FOUND_IN_FIXED_DHCP_RULE",c={dhcp_rule_id:s.dhcp_rule_id,pos_name:s.rule_position_name}):s.dhcp_rule_id?(l="WU.FOUND_IN_REGULAR_DHCP_RULE",s.dhcp_rule_range&&(s.ipObj_id==null||s.ipObj_id==null)?s.range_id?(l="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",c={dhcp_rule_id:s.dhcp_rule_id}):c={dhcp_rule_id:s.dhcp_rule_id,pos_name:"Router"}:!s.dhcp_router&&s.ipObj_id!=null&&s.ipObj_id!=null?c={dhcp_rule_id:s.dhcp_rule_id,pos_name:"DNS"}:(l="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",c={dhcp_rule_id:s.dhcp_rule_id})):s.keepalived_rule_id?(l="WU.FOUND_IN_KEEPALIVED_RULE",c={keepalived_rule_id:s.keepalived_rule_id}):s.haproxy_rule_id&&(l="WU.FOUND_IN_HAPROXY_RULE",s.frontendIp_id?c={haproxy_rule_id:s.haproxy_rule_id,pos_name:"Frontend Ip"}:s.frontendPort_id?c={haproxy_rule_id:s.haproxy_rule_id,pos_name:"Frontend Port"}:s.backendIps_id?c={haproxy_rule_id:s.haproxy_rule_id,pos_name:"Backend Ip"}:s.backendPort_id&&(c={haproxy_rule_id:s.haproxy_rule_id,pos_name:"Backend Port"})),a){let d={};a.children||(a.children=[]),a.children.find(m=>m.data.rule_id!==void 0&&m.data.rule_id===s.rule_id&&m.data.rule_position_id!==void 0&&m.data.rule_position_id===s.rule_position_id&&m.data.dhcp_rule_id!==void 0&&m.data.dhcp_rule_id===s.dhcp_rule_id&&m.data.keepalived_rule_id!==void 0&&m.data.keepalived_rule_id===s.keepalived_rule_id&&m.data.haproxy_rule_id!==void 0&&m.data.haproxy_rule_id===s.haproxy_rule_id)||(d.label=this.translate.instant(l,c),d.data=Object.assign({},s),a.children.push(d))}else{let d={},u={},m,g;s.cluster_id!==void 0&&s.cluster_id!==null?(m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <strong>"+s.cluster_name+"</strong>",g=O.OBJ_CLUSTER):(m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <strong>"+s.firewall_name+"</strong>",g=O.OBJ_FIREWALL),d.label=m,d.icon=this.pipeFwcIcon.transform(g),d.children=[],d.data=Object.assign({},s),d.data._fwItem=!0,d.expanded=!0,u.label=this.translate.instant(l,c),u.data=Object.assign({},s),d.children.push(u),r.push(d)}}return r.length?r:null}buildObjectTreeNodes(t,o){let r,s=[],a;return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".1")+"</strong>",icon:"",expanded:!0,children:[]},t.forEach(l=>{let c={};if(l){let d,u,m;l.group_id!=null?(d=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_GROUP"),l.group_type==O.OBJ_CONTINENT?u=this.translate.instant("NODE_TYPES."+l.group_name):u=l.group_name,m=this.translate.instant("WU.FOUND_OBJECT",{type_name:d,obj_name:u}),a=this.pipeFwcIcon.transform(O.OBJ_GROUP)):l.cluster_id!=null&&l.openvpn==null&&l.wireguard==null?(d=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),u=l.cluster_name,m=this.translate.instant("WU.FOUND_OBJECT",{type_name:d,obj_name:u}),a=this.pipeFwcIcon.transform(O.OBJ_CLUSTER)):l.firewall_id!=null&&l.openvpn==null&&l.wireguard==null?(d=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),u=l.firewall_name,m=this.translate.instant("WU.FOUND_OBJECT",{type_name:d,obj_name:u}),a=this.pipeFwcIcon.transform(O.OBJ_FIREWALL)):l.interface_id!=null?(d=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),u=l.interface_name,m=this.translate.instant("WU.FOUND_OBJECT",{type_name:d,obj_name:u}),a=this.pipeFwcIcon.transform(O.OBJ_INTERFACE_FIREWALL)):l.host_id!=null?(d="Host",u=l.host_name,m=this.translate.instant("WU.FOUND_OBJECT",{type_name:d,obj_name:u}),a=this.pipeFwcIcon.transform(O.OBJ_HOST)):l.openvpn!=null?(l.cluster_id!=null?m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+l.cluster_name+"</code>":m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+l.firewall_name+"</code>",m=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:l.cn,firewall_data:m}),a=this.pipeFwcIcon.transform(O.OBJ_OPENVPN_CONFIG_CLI)):l.wireguard!=null?(l.cluster_id!=null?m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+l.cluster_name+"</code>":m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+l.firewall_name+"</code>",m=this.translate.instant("WU.FOUND_IN_WIREGUARD",{cn:l.cn,firewall_data:m}),a=this.pipeFwcIcon.transform(O.OBJ_WGC_CONFIG_CLI)):l.ipsec!=null&&(l.cluster_id!=null?m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+l.cluster_name+"</code>":m=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+l.firewall_name+"</code>",m=this.translate.instant("WU.FOUND_IN_IPSEC",{cn:l.cn,firewall_data:m}),a=this.pipeFwcIcon.transform(O.OBJ_ISC_CONFIG_CLI)),c.label=m,c.data=Object.assign({},l),s.push(c)}}),r.icon=a,r.children=s,r}};n.\u0275fac=function(o){return new(o||n)(x(tt),x(sa),x(qn),x(ME),x($e),x(dt),x(Uh),x(wn))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-object-wu"]],inputs:{objectInfo:"objectInfo",readOnly:"readOnly"},outputs:{onHideParent:"onHideParent"},standalone:!1,features:[Se([wn,ME,Uh])],decls:1,vars:1,consts:[[1,"col-12","flex","flex-col","gap-4","lg:flex-row"],[1,"flex-1","min-w-[18rem]","space-y-2"],[1,"block","text-left","font-[Arial,Helvetica,sans-serif]","text-(--fwcBlue)"],[1,"fwcMenuIcon","fwci-rule","fwcOrange"],[1,"fwcBlueBg","fwcBadge"],["selectionMode","single",1,"treeSelector","treeWU",3,"value","selection"],["severity","warn",3,"text"],["for","ipObjects",1,"block","text-left","font-[Arial,Helvetica,sans-serif]","text-(--fwcBlue)"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["selectionMode","single",1,"treeSelector","treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick"],[3,"innerHTML"]],template:function(o,r){o&1&&G(0,Xqe,26,15,"div",0),o&2&&H(r._objectInfo?0:-1)},dependencies:[_t,wp,Ka,It],encapsulation:2});let i=n;return i})();var Zqe=()=>({"max-height":"20em",overflow:"auto",width:"100%"});function eJe(i,n){if(i&1){let e=B();_(0,"div",5),A("dblclick",function(o){let r=w(e).$implicit,s=h(2);return C(s.itemDblClickEvent(o,r))}),N(1,"span",6),b()}if(i&2){let e=n.$implicit;p(),f("innerHTML",e.label,on)}}function tJe(i,n){if(i&1){let e=B();_(0,"p-tree",3),ke("selectionChange",function(o){w(e);let r=h();return Ne(r.selectedObject,o)||(r.selectedObject=o),C(o)}),E(1,eJe,2,1,"ng-template",4),b()}if(i&2){let e=h();De(Pe(4,Zqe)),f("value",e.dependenciesTree),Ae("selection",e.selectedObject)}}function iJe(i,n){if(i&1){let e=B();_(0,"div",2)(1,"p-button",7),D(2,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleRefreshClick())}),b()()}i&2&&(p(),f("label",ae(k(2,2,"POLICY_GRID.RELOAD"))))}var l3={critical:{labelKey:"COMPILE.DANGEROUS_RULES_CRITICAL",iconClass:"fa fa-exclamation-circle fwcRed"},warning:{labelKey:"COMPILE.DANGEROUS_RULES_WARNING",iconClass:"fa fa-exclamation-triangle fwcOrange"}},jh=(()=>{let n=class n{set dependencies(t){t&&(this.dependenciesTree=this.buildDependencyTree(t))}constructor(t,o,r,s,a,l){this.store=t,this.translate=o,this.fwcPolicyService=r,this.fwcUserService=s,this.fwcWhereUsedFunctionalityService=a,this.pipeFwcIcon=l,this.showRefreshButton=!1,this.onHideParent=new te,this.onRefreshRestrictions=new te,this.selectedObject=null}ngOnInit(){}buildDependencyTree(t){let o=[],r,s,a;t._fwcRestrictedObject&&(s=t._fwcRestrictedObject._fwcObjId,a=t._fwcRestrictedObject._fwcObjType,delete t._fwcRestrictedObject);for(let l of Object.keys(t)){let c=t[l];Array.isArray(c)?c.length&&c[0]&&(c[0].rule_id!=null&&c[0].rule_type!=null||c[0].routing_rule_id!=null||c[0].route_id!=null||c[0].dhcp_rule_id!=null||c[0].keepalived_rule_id!=null||c[0].haproxy_rule_id!=null?(r=this.buildRuleDependencyTreeNodes(c,l,s,a),o.push(r)):c[0].group_id!=null&&c[0].group_name?(r=this.buildGroupDependencyTreeNodes(c,l,s,a),o.push(r)):c[0].openvpn!=null?(r=this.buildOpenVPNDependencyTreeNodes(c,l,s,a),o.push(r)):c[0].wireguard!=null?(r=this.buildWireguardDependencyTreeNodes(c,l),o.push(r)):c[0].ipsec!=null&&(r=this.buildIPSecDependencyTreeNodes(c,l,s,a),o.push(r))):o.push({label:this.translate.instant("ITEM_PANEL.RESTR_KEYS."+l+".0"),icon:"fa fa-ban fwcBlue",children:[]})}return o}itemDblClickEvent(t,o){let r=o.data;r&&!this.readOnly&&this.fwcWhereUsedFunctionalityService.goToObjectDependency(r)&&this.onHideParent.emit(!0)}buildRuleDependencyTreeNodes(t,o,r,s){let a,l=[];a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".0")+"</strong>",icon:"fwci-rule fwcBlue",expanded:!0,children:[]};let c=o==="DangerousRules";for(let d of t){let u=l.find(g=>!!(g.data&&g.data.firewall_id==d.firewall_id)),m={};if(d)if(u){this.setRuleNodeInfo(m,d,r,s),m.data=Object.assign({},d);let g=c?this.ensureDangerousSeverityNode(u,d):u;g.children||(g.children=[]),g.children.push(m)}else{let g={},y,v;d.cluster_id!==void 0&&d.cluster_id!==null?(y=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+d.cluster_name+"</code>",v=O.OBJ_CLUSTER):(y=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+d.firewall_name+"</code>",v=O.OBJ_FIREWALL),m.label=y,m.icon=this.pipeFwcIcon.transform(v),m.children=[],m.data=Object.assign({},d),m.data._fwItem=!0,m.expanded=!0,this.setRuleNodeInfo(g,d,r,s),g.data=Object.assign({},d);let S=c?this.ensureDangerousSeverityNode(m,d):m;S.children||(S.children=[]),S.children.push(g),l.push(m)}}return a.children=l,a}buildGroupDependencyTreeNodes(t,o,r,s){let a,l=[],c,d;return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".0")+"</strong>",icon:"fwci-objectgroups fwcBlue",expanded:!0,children:[]},t.forEach(u=>{let m={};c=this.translate.instant("WU.FOUND_IN_GROUP",{group_name:u.group_name}),d=this.pipeFwcIcon.transform(O.OBJ_GROUP),u.obj_type_id&&u.obj_name&&(d=this.pipeFwcIcon.transform(u.obj_type_id),c+=` > <code>${u.obj_name}</code>`),u&&(m.label=c,m.icon=d,m.data=Object.assign({},u),l.push(m))}),a.children=l,a}buildOpenVPNDependencyTreeNodes(t,o,r,s){let a,l=[],c,d;return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".0")+"</strong>",icon:"fwci2-openvpn fwcBlue",expanded:!0,children:[]},t.forEach(u=>{let m={};u&&(u.cluster_id!==void 0&&u.cluster_id!==null?c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+u.cluster_name+"</code>":c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+u.firewall_name+"</code>",d=this.pipeFwcIcon.transform(O.OBJ_OPENVPN_CONFIG_CLI),u.obj_type_id&&u.obj_name&&(d=this.pipeFwcIcon.transform(u.obj_type_id),c+=` > <code>${u.obj_name}</code>`),m.label=this.translate.instant("WU.FOUND_IN_OPENVPN",{cn:u.cn,firewall_data:c}),m.icon=d,m.data=Object.assign({},u),l.push(m))}),a.children=l,a}ensureDangerousSeverityNode(t,o){let r=this.getDangerousRuleSeverity(o);if(!r)return t;t.children||(t.children=[]);let s=this.getDangerousSeverityNodeKey(r),a=t.children.find(l=>l.key===s);return a||(a={key:s,label:this.translate.instant(l3[r].labelKey),icon:l3[r].iconClass,expanded:!0,selectable:!1,children:[]},t.children.push(a)),a}getDangerousSeverityNodeKey(t){return`dangerous-${t}`}getDangerousRuleSeverity(t){let o=t._fwcDangerSeverity;if(o==="critical"||o==="warning")return o}getDangerousRuleIcon(t){return l3[t].iconClass}buildWireguardDependencyTreeNodes(t,o){let r,s=[],a,l;return r={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".0")+"</strong>",icon:"fwci2-wireguard fwcBlue",expanded:!0,children:[]},t.forEach(c=>{let d={};c&&(c.cluster_id!==void 0&&c.cluster_id!==null?a=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+c.cluster_name+"</code>":a=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+c.firewall_name+"</code>",l=this.pipeFwcIcon.transform(O.OBJ_WGC_CONFIG_CLI),c.obj_type_id&&c.obj_name&&(l=this.pipeFwcIcon.transform(c.obj_type_id),a+=` > <code>${c.obj_name}</code>`),d.label=this.translate.instant("WU.FOUND_IN_WIREGUARD",{cn:c.cn,firewall_data:a}),d.icon=l,d.data=Object.assign({},c),s.push(d))}),r.children=s,r}buildIPSecDependencyTreeNodes(t,o,r,s){console.log("IPSEC DEPENDENCY",t,o,r,s);let a,l=[],c,d;return a={label:"<strong>"+this.translate.instant("ITEM_PANEL.RESTR_KEYS."+o+".0")+"</strong>",icon:"fwci2-ipsec fwcBlue",expanded:!0,children:[]},t.forEach(u=>{let m={};u&&(u.cluster_id!==void 0&&u.cluster_id!==null?c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")+" <code>"+u.cluster_name+"</code>":c=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")+" <code>"+u.firewall_name+"</code>",d=this.pipeFwcIcon.transform(O.OBJ_ISC_CONFIG_CLI),u.obj_type_id&&u.obj_name&&(d=this.pipeFwcIcon.transform(u.obj_type_id),c+=` > <code>${u.obj_name}</code>`),m.label=this.translate.instant("WU.FOUND_IN_IPSEC",{cn:u.cn,firewall_data:c}),m.icon=d,m.data=Object.assign({},u),l.push(m))}),a.children=l,a}setRuleNodeInfo(t,o,r,s){let a,l,c,d;o.rule_id?o.rule_position_name?(c="WU.FOUND_IN_RULE",d={policy_name:o.rule_type_name,rule_id:o.rule_id,pos_name:o.rule_position_name}):(c="WU.FOUND_IN_RULE_NO_POS",d={policy_name:o.rule_type_name,rule_id:o.rule_id},o.rule_position_name=this.translate.instant("POLICY_GRID.RULES.ACTION")):o.route_id?(c="WU.FOUND_IN_ROUTE",d={route_id:o.route_id,table_name:o.table_name,table_number:o.table_number}):o.routing_rule_id?(c="WU.FOUND_IN_ROUTING_RULE",d={routing_rule_id:o.routing_rule_id}):o.dhcp_rule_id&&o.dhcp_rule_type===2?(c="WU.FOUND_IN_FIXED_DHCP_RULE",d={dhcp_rule_id:o.dhcp_rule_id}):o.dhcp_rule_id?(c="WU.FOUND_IN_REGULAR_DHCP_RULE",o.dhcp_router&&(o.ipObj_id==null||o.ipObj_id==null)?d={dhcp_rule_id:o.dhcp_rule_id,pos_name:"Router"}:!o.dhcp_router&&(o.ipObj_id!=null||o.ipObj_id!=null)?d={dhcp_rule_id:o.dhcp_rule_id,pos_name:"DNS"}:(c="WU.FOUND_IN_REGULAR_DHCP_RULE_NO_POS",d={dhcp_rule_id:o.dhcp_rule_id})):o.keepalived_rule_id?(c="WU.FOUND_IN_KEEPALIVED_RULE",d={keepalived_rule_id:o.keepalived_rule_id}):o.haproxy_rule_id&&(c="WU.FOUND_IN_HAPROXY_RULE",o.frontendIp_id?d={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Frontend Ip"}:o.frontendPort_id?d={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Frontend Port"}:o.backendIps_id?d={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Backend Ip"}:o.backendPort_id&&(d={haproxy_rule_id:o.haproxy_rule_id,pos_name:"Backend Port"})),a=this.translate.instant(c,d),r!==void 0&&s!==void 0&&(r!=o.obj_id||s!=o.obj_type_id)&&o.obj_name&&(a+=` > <code>${o.obj_name}</code>`);let u=this.getDangerousRuleSeverity(o);u?l=this.getDangerousRuleIcon(u):l=this.pipeFwcIcon.transform(o.obj_type_id),t.label=a,t.icon=l}handleRefreshClick(){this.onRefreshRestrictions.emit()}};n.\u0275fac=function(o){return new(o||n)(x(tt),x($e),x(qn),x(dt),x(Uh),x(wn))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-object-restrictions"]],inputs:{dependencies:"dependencies",readOnly:"readOnly",showRefreshButton:"showRefreshButton"},outputs:{onHideParent:"onHideParent",onRefreshRestrictions:"onRefreshRestrictions"},standalone:!1,features:[Se([wn,Uh])],decls:5,vars:5,consts:[[1,"fwcBlue"],["selectionMode","single",1,"treeSelector","treeWU",3,"value","selection","style"],[1,"vertTopPad"],["selectionMode","single",1,"treeSelector","treeWU",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"noselect",3,"dblclick"],[3,"innerHTML"],["type","button","icon","fa fa-refresh",3,"onClick","label"]],template:function(o,r){o&1&&(_(0,"h5",0),R(1),D(2,"translate"),b(),G(3,tJe,2,5,"p-tree",1),G(4,iJe,3,4,"div",2)),o&2&&(p(),Q(k(2,3,"ITEM_PANEL.RESTR.RESTRICTIONS")),p(2),H(r.dependenciesTree?3:-1),p(),H(r.showRefreshButton?4:-1))},dependencies:[_t,bt,Ka,It],encapsulation:2});let i=n;return i})();var nJe=["divDlgContainer"],jt=(()=>{let n=class n{constructor(t,o,r,s,a,l){this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.store=a,this.router=l,this.displayDialog=!1,this.dialogMinified=!1,this.alive=!0,this.router.events.pipe(Nt(()=>this.alive)).subscribe(c=>{c instanceof Ns&&(this.hideDialog(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy())}),this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectVisibleDialogsIds)).subscribe(c=>{!this.displayDialog&&c.includes(this.dialogId)&&this.restoreDialog()})}ngOnInit(){}createDialog(t,o,r){if(isNaN(this.dialogId)){this.title=t,this.icon=o,this.dialogUUID=r;let s=this.appDialogPanelsService.createDialog(t,o,r);this.dialogId=s.dialogId,this.store.dispatch(an.addDialog({dialog:s}))}}minimizeDialog(t){this.displayDialog=!1,this.dialogMinified=!0,this.store.dispatch(an.minimizeDialog({dialogId:this.dialogId})),t&&this.itemSelectedService.setLastMinifiedDialogId(this.dialogId)}showHelp(){this.appOptionsService.showHelp(this.helpSection)}restoreDialog(){this.displayDialog||this.showDialog()}showDialog(){this.displayDialog=!0,this.dialogMinified=!1,this.store.dispatch(an.restoreDialog({dialogId:this.dialogId})),this.refreshDialog()}hideDialog(){this.displayDialog=this.dialogMinified=!1,this.store.dispatch(an.hideDialog({dialogId:this.dialogId})),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}recenterDialog(){}ngOnDestroy(){this.alive=!1,this.store.dispatch(an.removeDialog({dialogId:this.dialogId}))}preventDrop(t){return t.preventDefault(),!1}refreshDialog(){this.cd.destroyed||this.cd.detectChanges()}setDynamicComponentRef(t){this.dynamicComponentRef=t}addMessageToLog(t,o){this.log&&this.log.addNewText(t,o)}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-basic-panel"]],viewQuery:function(o,r){if(o&1&&(_e(Ut,5),_e(nJe,5)),o&2){let s;W(s=$())&&(r.dialog=s.first),W(s=$())&&(r.divDlgContainer=s.first)}},standalone:!1,decls:0,vars:0,template:function(o,r){},encapsulation:2});let i=n;return i})();var bO=class{constructor(){this.pk=null,this.vector=null,this.passkey=window.crypto.getRandomValues(new Uint8Array(32)),this.generatePublicKey(),this.vector=window.crypto.getRandomValues(new Uint8Array(16))}createRandomString(n){let e="";for(;e.length<n;e+=Math.random().toString(36).substr(2));return e.substr(0,n)}convertStringToArrayBufferView(n){let e;if(n){e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t)}return e}convertArrayBufferViewtoString(n){let e="";if(n)for(let t=0;t<n.byteLength;t++)e+=String.fromCharCode(n[t]);return e}generatePublicKey(){let n;return n=new Promise((e,t)=>{window.crypto.subtle?window.crypto.subtle.digest({name:"SHA-256"},this.passkey).then(o=>{let r={name:"AES-CBC"};window.crypto.subtle.importKey("raw",o,r,!1,["encrypt","decrypt"]).then(s=>{this.pk=s,e(s)},s=>{e(null)})}):(this.pk="CAN't USE CLIENT ENCRYPTION ON NON-HTTPS CONNECTIONS",e(null))}),n}encryptData(n){let e;return e=new Promise((t,o)=>{if(this.vector&&this.pk){let r;window.crypto.subtle?window.crypto.subtle.encrypt({name:"AES-CBC",iv:this.vector},this.pk,this.convertStringToArrayBufferView(n)).then(s=>{r=new Uint8Array(s),t(r)},s=>{t(null)}):t(this.convertStringToArrayBufferView(n))}}),e}decryptData(n){return V(this,null,function*(){let e;return e=new Promise((t,o)=>{if(this.vector&&this.pk){let r;window.crypto.subtle?window.crypto.subtle.decrypt({name:"AES-CBC",iv:this.vector},this.pk,n).then(s=>{r=new Uint8Array(s),t(this.convertArrayBufferViewtoString(r))},s=>{t(null)}):t(this.convertArrayBufferViewtoString(n))}}),e})}};var oJe=()=>({width:"100%","max-height":"20em",overflow:"auto"}),d3=i=>({display:i}),rJe=()=>["cn","realAddress"],sJe=i=>({"font-weight":i});function aJe(i,n){i&1&&(_(0,"div",8),N(1,"i",16),_(2,"span"),R(3),D(4,"translate"),b()()),i&2&&(p(3),Q(k(4,1,"VPN.STATUS.DATA")))}function lJe(i,n){if(i&1&&(_(0,"div",9),N(1,"sts-fwc-message",17),b()),i&2){let e=h();p(),f("message",e.errorMessage)}}function cJe(i,n){i&1&&(_(0,"div",10),N(1,"p-progressSpinner"),b())}function dJe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2);p(),Y(" (",e._configObj==null?null:e._configObj.cluster_name,") ")}}function pJe(i,n){if(i&1&&R(0),i&2){let e=h(2);Y(" (",e._configObj==null?null:e._configObj.firewall_name,") ")}}function uJe(i,n){if(i&1){let e=B();_(0,"div",18)(1,"h6",19),N(2,"i",20),R(3),D(4,"translate"),_(5,"strong"),R(6),b(),G(7,dJe,2,1,"span")(8,pJe,1,1),b()(),_(9,"div",21)(10,"i",22),A("click",function(){w(e);let o=h();return C(o.onVpnStatusClose())}),b()()}if(i&2){let e=h();p(3),Y(" ",k(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),p(3),Y("'",e._configObj==null?null:e._configObj._fwcObjName,"'"),p(),H(e._configObj!=null&&e._configObj.cluster_id?7:8)}}function hJe(i,n){i&1&&(_(0,"tr")(1,"th",36),R(2),D(3,"translate"),b(),_(4,"th",37),R(5),D(6,"translate"),b(),_(7,"th",37),R(8),D(9,"translate"),b(),_(10,"th",38),R(11),D(12,"translate"),N(13,"p-sortIcon",39),b(),_(14,"th",40),R(15),D(16,"translate"),N(17,"p-sortIcon",41),b(),_(18,"th",42),R(19),D(20,"translate"),N(21,"p-sortIcon",43),b()()),i&2&&(p(2),Y(" ",k(3,6,"VPN.STATUS.FIELDS.CN")," "),p(3),Y(" ",k(6,8,"VPN.STATUS.FIELDS.VIRTUAL_ADDRESS")," "),p(3),Y(" ",k(9,10,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),p(3),Y(" ",k(12,12,"VPN.STATUS.FIELDS.RECEIVED")," "),p(4),Y(" ",k(16,14,"VPN.STATUS.FIELDS.SENT")," "),p(4),Y(" ",k(20,16,"VPN.STATUS.FIELDS.CONNECTED_SINCE")," "))}function fJe(i,n){if(i&1&&(_(0,"tr",44)(1,"td"),R(2),b(),_(3,"td"),R(4),b(),_(5,"td"),R(6),b(),_(7,"td",45),R(8),D(9,"number"),b(),_(10,"td",45),R(11),D(12,"number"),b(),_(13,"td"),R(14),D(15,"date"),b()()),i&2){let e=n.$implicit;f("pSelectableRow",e),p(2),Q(e.cn),p(2),Q(e.virtualAddress),p(2),Q(e.realAddress),p(2),Y(" ",vi(9,7,e.bytesReceived,"1.2-2")," "),p(3),Y(" ",vi(12,10,e.bytesSent,"1.2-2")," "),p(3),Y(" ",vi(15,13,e.connectedSince,"d/M/y hh:mm")," ")}}function mJe(i,n){if(i&1&&(_(0,"div"),N(1,"sts-fwc-message",17),b()),i&2){let e=h(2);p(),f("message",e.msgNoData)}}function gJe(i,n){if(i&1){let e=B();_(0,"div",11)(1,"p-toolbar",23)(2,"div",24)(3,"span",25),N(4,"i",26),R(5),D(6,"translate"),b()(),_(7,"div",27)(8,"span")(9,"strong"),R(10),D(11,"date"),b()(),N(12,"span",28),_(13,"div",29)(14,"p-splitButton",30),D(15,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onVpnStatusDataRefresh())}),b(),_(16,"p-button",31),D(17,"translate"),A("onClick",function(){w(e);let o=Ze(19),r=h();return r.vpnClientsDataShowFilter=!0,C(o.focus())}),b(),_(18,"input",32,4),D(20,"translate"),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.vpnClientsDataFilter,o)||(r.vpnClientsDataFilter=o),C(o)}),A("input",function(){w(e);let o=Ze(25),r=h();return C(o.filterGlobal(r.vpnClientsDataFilter,"contains"))}),b(),_(21,"p-button",33),D(22,"translate"),A("onClick",function(){w(e);let o=Ze(25),r=h();return r.vpnClientsDataShowFilter=!1,r.vpnClientsDataFilter="",C(o.reset())}),b()()()(),_(23,"div",34)(24,"p-table",35,5),ke("selectionChange",function(o){w(e);let r=h();return Ne(r.vpnClientSelected,o)||(r.vpnClientSelected=o),C(o)}),A("onRowSelect",function(o){w(e);let r=h();return C(r.onVpnClientSelect(o))})("onRowUnselect",function(o){w(e);let r=h();return C(r.onVpnClientSelect(o))}),E(26,hJe,22,18,"ng-template",null,1,ie)(28,fJe,16,16,"ng-template",null,6,ie),b()(),G(30,mJe,2,1,"div"),b()}if(i&2){let e=h();f("ngClass",e.verticalTotalsMode?"lg:col-6":"lg:col-7"),p(5),Y(" ",k(6,25,"VPN.STATUS.FIELDS.CLIENTS")),p(5),Q(vi(11,27,e.vpnStatusUpdated,"d/M/y HH:mm:ss")),p(4),f("pTooltip",ae(k(15,30,"VPN.STATUS.BUTTONS.UPDATE")))("model",e.refreshMenuItems),p(2),De(de(38,d3,e.vpnClientsDataShowFilter?"none":"inline")),f("pTooltip",ae(k(17,32,"VPN.STATUS.BUTTONS.SEARCH"))),p(2),De(de(40,d3,e.vpnClientsDataShowFilter?"inline":"none")),f("placeholder",ae(k(20,34,"VPN.STATUS.SEARCH"))),Ae("ngModel",e.vpnClientsDataFilter),p(3),De(de(42,d3,e.vpnClientsDataShowFilter?"inline":"none")),f("pTooltip",ae(k(22,36,"VPN.STATUS.BUTTONS.CLEAR_SEARCH"))),p(3),f("value",e.vpnClientsData)("responsive",!1)("resizableColumns",!0),Ae("selection",e.vpnClientSelected),f("globalFilterFields",Pe(44,rJe)),p(6),H(e.vpnClientsData&&!e.vpnClientsData.length?30:-1)}}function _Je(i,n){i&1&&ve(0)}function bJe(i,n){if(i&1&&E(0,_Je,1,0,"ng-container",48),i&2){h(2);let e=Ze(9);f("ngTemplateOutlet",e)}}function yJe(i,n){if(i&1&&(_(0,"div",11)(1,"div")(2,"p-toolbar",23)(3,"div",24)(4,"span",25),N(5,"i",46),R(6),D(7,"translate"),b()()()(),_(8,"div"),N(9,"p-chart",47),b(),G(10,bJe,1,1,"ng-container"),b()),i&2){let e=h();f("ngClass",e.verticalTotalsMode?"lg:col-4":"lg:col-5"),p(6),Y(" ",k(7,5,"VPN.STATUS.DATA_CONSUMPTION")),p(3),f("data",e.vpnClientsChartData)("options",e.vpnClientsChartOptions),p(),H(e.verticalTotalsMode?-1:10)}}function vJe(i,n){i&1&&ve(0)}function wJe(i,n){if(i&1&&(_(0,"div",12),E(1,vJe,1,0,"ng-container",48),b()),i&2){h();let e=Ze(9);p(),f("ngTemplateOutlet",e)}}function CJe(i,n){if(i&1&&(_(0,"div",50)(1,"div",51)(2,"div",52)(3,"div",53),R(4),b(),_(5,"div",54)(6,"span"),N(7,"i",55),R(8),D(9,"translate"),b()()()(),_(10,"div",51)(11,"div",56)(12,"div",53),R(13),D(14,"number"),b(),_(15,"div",54)(16,"span"),N(17,"i",57),R(18),D(19,"translate"),b()()()(),_(20,"div",51)(21,"div",58)(22,"div",53),R(23),D(24,"number"),b(),_(25,"div",54)(26,"span"),N(27,"i",59),R(28),D(29,"translate"),b()()()()()),i&2){let e=h(2);f("ngClass",e.verticalTotalsMode?"flex-col":"flex-row justify-between"),p(4),Y(" ",e.vpnClientsChartDataTotals.clientsConnected," "),p(4),Y(" ",k(9,7,"VPN.STATUS.FIELDS.CLIENTS")),p(5),Y(" ",vi(14,9,e.vpnClientsChartDataTotals.bytesReceived,".0-0")," "),p(5),Y(" ",k(19,12,"VPN.STATUS.FIELDS.RECEIVED")),p(5),Y(" ",vi(24,14,e.vpnClientsChartDataTotals.bytesSent,".0-0")," "),p(5),Y(" ",k(29,17,"VPN.STATUS.FIELDS.SENT"))}}function SJe(i,n){if(i&1&&(_(0,"div")(1,"p-toolbar",23)(2,"div",24)(3,"span",25),N(4,"i",49),R(5),D(6,"translate"),b()()(),G(7,CJe,30,19,"div",50),b()),i&2){let e=h();p(5),Y(" ",k(6,2,"VPN.STATUS.TOTALS")),p(2),H(e.vpnClientsChartDataTotals?7:-1)}}function IJe(i,n){i&1&&(_(0,"div",60)(1,"h6",61),N(2,"i",62),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function EJe(i,n){if(i&1){let e=B();_(0,"span",63),A("dblclick",function(){let o=w(e).$implicit,r=h();return C(r.onNodeSelect(o))}),N(1,"i",64),D(2,"fwcIcon"),_(3,"span",65),R(4),b()()}if(i&2){let e=n.$implicit;p(),j(_s("fwcTreeIcon ",k(2,5,e.data==null?null:e.data.object_type))),p(2),f("ngStyle",de(7,sJe,e.selectable?"normal":"bold")),p(),Y(" ",e.label," ")}}function xJe(i,n){if(i&1){let e=B();_(0,"p-button",66),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onNodeSelect(o.selectedNode))}),b(),_(2,"p-button",67),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onSelectCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.SELECT")))("disabled",!e.selectedNode),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.CANCEL")))}}var TJe=20,YZ=(()=>{let n=class n{set configObj(t){t&&(this._configObj=t,this.resetProperties(),this.selectFirewallToShow())}constructor(t,o,r,s,a,l,c,d,u){this.fwcFirewallService=t,this.fwcUserService=o,this.translate=r,this.inputDataService=s,this.utilService=a,this.fwcErrorPipe=l,this.fwcVpnService=c,this.fwcEventService=d,this.confirmationService=u,this.statusLoaded=new te,this.statusError=new te,this.alive=!0,this.fwcCrypto=new bO}ngOnInit(){this.vpnClientsChartOptions={title:{display:!0,position:"left",text:this.translate.instant("VPN.STATUS.ALL_CLIENTS")}},this.msgNoData={type:"warning",title:this.translate.instant("VPN.STATUS.NO_DATA.0"),text:this.translate.instant("VPN.STATUS.NO_DATA.1")},this.refreshMenuItems=[{id:"20",label:"20s",command:()=>{this.setRefreshRate(20)}},{id:"40",label:"40s",command:()=>{this.setRefreshRate(40)}},{id:"60",label:"60s",command:()=>{this.setRefreshRate(60)}},{id:"99999",label:this.translate.instant("GLOBALS.MSG_BUTTONS.DISABLE"),command:()=>{this.setRefreshRate(99999)}}],this.setRefreshRate(TJe)}ngOnDestroy(){this.alive=!1,clearInterval(this.refreshTimer)}resetProperties(){this.vpnClientsData=void 0,this.vpnClientSelected=void 0,this.vpnClientsChartData=null,this.vpnClientsDataHistoric=[],this.vpnClientsChartDataTotals=null,this.sshCredentials=null,this.errorMessage=null,clearInterval(this.refreshTimer)}setRefreshRate(t){this.refreshMenuItems.forEach(o=>{o.id==t.toString()?(o.icon="fa fa-check",this.refreshRateSec=t,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3))):o.icon=""})}selectFirewallToShow(){if(this._configObj){let t,o,r;this._configObj.cluster_id!=null?(t=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),o=this._configObj.cluster_id,r=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")):this._configObj.firewall_id!=null&&(t=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),o=this._configObj.firewall_id,r=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")),t&&(this.resetProperties(),t(o,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>V(this,null,function*(){this.clusterNodes=[],this.selectedNode=null,Array.isArray(s.data)?this.clusterNodes.push(...s.data):this.clusterNodes.push(s.data);let a=this.fwcUserService.getActualFwcUser().privateKey;for(let l=0;l<this.clusterNodes.length;l++){let c=this.clusterNodes[l];try{c.install_user&&(c.install_user=yield this.utilService.openPGPDecrypt(c.install_user,a)),c.install_pass&&(c.install_pass=yield this.utilService.openPGPDecrypt(c.install_pass,a))}catch{}}this.loadingData=!1,this._configObj.cluster_id!=null?(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes),this.displaySelectDialog=!0):this.askSSHCredentials(o)}),s=>{this.loadingData=!1;let a=this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.GEN_DETAILS");s.error&&s.error.msg&&(a=s.error.msg),this.errorMessage={type:"error",title:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.SUMMARY",{objType:r}),text:this.translate.instant("VPN.STATUS.ERRORS.GETTING_DATA.TEXT",{objType:r,msg:a})},this.statusLoaded.emit(!0)}))}}buildNodesTree(t){let o=[],r={label:this._configObj.cluster_name,data:{object_type:O.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return t.forEach(s=>{r.children.push({label:s.name,data:{object_type:O.OBJ_FIREWALL,firewall_id:s.id},selectable:!0})}),o.push(r),o}onNodeSelect(t){!t||!t.selectable||(this.displaySelectDialog=!1,this.askSSHCredentials(t.data.firewall_id))}askSSHCredentials(t,o){if(!this.clusterNodes)return;let r=this.clusterNodes.find(s=>s.id===t);if(r)if(r.install_interface&&r.install_ipobj)if(r.install_communication==="agent")this.onGetSSHData({firewall_id:r.id,communication:r.install_communication});else{let s={header:this.translate.instant("COMPILE.INST_SSH",{name:r.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"firewall_id",type:"hidden",value:r.id},{name:"communication",type:"hidden",value:r.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.ip_name+" ("+r.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:o?o.ssh_user:r.install_user,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:o?o.ssh_password:r.install_pass}],onAccept:this.onGetSSHData.bind(this),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(s)}else this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT"),acceptLabel:"Ok",accept:()=>{let s=this.translate.instant("VPN.STATUS.ERRORS.NO_INST_DATA.TEXT");this.statusError.emit(!0)}})}onGetSSHData(t){return V(this,null,function*(){if(t){let o,r;if(o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this._configObj.id_obj,firewall:t.firewall_id},t.communication!=="agent"){t.ssh_encrypted_password?r=yield this.fwcCrypto.decryptData(t.ssh_encrypted_password):r=t.ssh_password;let s=this.fwcUserService.getActualFwcUser().publicKey,a=t.ssh_user,l=r;a&&(a=yield this.utilService.openPGPEncrypt(a,s)),l&&(l=yield this.utilService.openPGPEncrypt(l,s)),o=Fe(ee({},o),{sshuser:a,sshpass:l})}this.loadingData=!0,this.fwcVpnService.getConfigStatus(o).subscribe(s=>V(this,null,function*(){let a=this.parseVpnStatus(s.data),l=yield this.fwcCrypto.encryptData(t.ssh_password);this.sshCredentials||(this.sshCredentials={firewall_id:t.firewall_id,ssh_user:t.ssh_user,ssh_encrypted_password:l}),a&&(this.vpnClientsData=a,this.updateVpnChartData(),this.statusLoaded.emit(!0)),this.loadingData=!1,clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>{this.onVpnStatusDataRefresh()},this.refreshRateSec*1e3)}),s=>{let a=this.utilService.isCommunicationError(s.error),l=a||this.fwcErrorPipe.transform(s);this.confirmationService.confirm({header:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",rejectVisible:!1,message:this.translate.instant("VPN.STATUS.ERRORS.CONFIG_GET.TEXT",{error:l}),acceptLabel:"Ok",accept:()=>{if(a&&t.communication==="ssh")return this.askSSHCredentials(t.firewall_id,t);this.statusError.emit(!0)}}),this.loadingData=!1,clearInterval(this.refreshTimer)})}else this.statusError.emit(!0)})}parseVpnStatus(t){if(!t||typeof t!="string")return[];let o=[],r=[],s,a=t.split(`
`),l={clientsConnected:0,bytesReceived:0,bytesSent:0},c,d;for(let u of a)if(!(/Common Name/.exec(u)||/Virtual Address/.exec(u))){if(c=u.split(","),c.map(m=>m.trim()),c.length==2&&/Updated/.exec(c[0])&&(this.vpnStatusUpdated=Date.parse(c[1]),s={timestamp:this.vpnStatusUpdated,clients:[]}),c.length==5){let m=Date.parse(c[4]);d={cn:c[0],realAddress:c[1],bytesReceived:parseInt(c[2]),bytesSent:parseInt(c[3]),connectedSince:m},o.push(d),s||(s={timestamp:Date.parse(Date()),clients:[]}),s.clients.push(d),l.clientsConnected++,l.bytesReceived+=d.bytesReceived,l.bytesSent+=d.bytesSent}else if(c.length===4){let m=c[2],g=c[0],y=o.find(v=>v.realAddress===m);y&&(y.virtualAddress=g)}}return this.vpnClientsChartDataTotals=l,s&&this.vpnClientsDataHistoric.findIndex(u=>u.timestamp==s.timestamp)==-1&&this.vpnClientsDataHistoric.push(s),o}updateVpnChartData(){let t;t={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!1,borderColor:"#0069a7"},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!1,borderColor:"#009900"}]};let o;this.vpnClientsDataHistoric.forEach(r=>{if(t.labels.push(new Date(r.timestamp).toLocaleString()),this.vpnClientSelected?(o=r.clients.filter(s=>s.cn==this.vpnClientSelected.cn),this.vpnClientsChartOptions.title.text=this.vpnClientSelected.cn):(o=r.clients.slice(0),this.vpnClientsChartOptions.title.text=this.translate.instant("VPN.STATUS.ALL_CLIENTS")),o.length){let s=o.reduce((a,l)=>({cn:"",realAddress:"",bytesReceived:a.bytesReceived+l.bytesReceived,bytesSent:a.bytesSent+l.bytesSent,connectedSince:void 0}));t.datasets[0].data.push(s.bytesReceived),t.datasets[1].data.push(s.bytesSent)}}),this.vpnClientsChartData=t}onVpnClientSelect(t){this.updateVpnChartData()}onVpnStatusDataRefresh(){this.onGetSSHData(this.sshCredentials)}onVpnStatusClose(){this.resetProperties()}onSelectHide(t){}onSelectCancel(){this.displaySelectDialog=!1,this.statusError.emit(!0)}};n.\u0275fac=function(o){return new(o||n)(x(Bt),x(dt),x($e),x(Oo),x(Tt),x(Ni),x(co),x(dn),x(ti))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-vpn-status"]],inputs:{configObj:"configObj",showTitle:"showTitle",verticalTotalsMode:"verticalTotalsMode"},outputs:{statusLoaded:"statusLoaded",statusError:"statusError"},standalone:!1,features:[Se([Bt])],decls:24,vars:19,consts:[["vpnTotals",""],["header",""],["default",""],["footer",""],["inputSearch",""],["tabVpnStatusTable",""],["body",""],[1,"grid","grid-nogutter","relative","min-h-[8rem]","max-h-[30rem]","overflow-auto","md:h-full","lg:h-auto"],[1,"col-12","flex","flex-col","items-center","justify-center","text-center","py-8","relative"],[1,"col-12"],[1,"absolute","inset-0","z-[4000]","flex","items-center","justify-center","bg-white/50"],[1,"col-12","overflow-y-auto",3,"ngClass"],[1,"col-12","lg:col-2"],["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","modal","resizable","closable"],[1,"grid"],["selectionMode","single",1,"treeSelector",3,"selectionChange","value","selection"],[1,"fa","fa-bar-chart","fa-4x"],[3,"message"],[1,"col-11","overflow-hidden","text-ellipsis","whitespace-nowrap"],[1,"fwcBlue","font-normal","text-[0.9rem]","font-['Montserrat',Arial,Helvetica,sans-serif]","mb-0"],[1,"fa","fa-fw","fa-users","fwcOrange"],[1,"col-1","text-right"],[1,"fa","fa-lg","fa-close","text-[var(--fwcPaleDark)]","cursor-pointer","hover:text-[var(--fwcDark)]",3,"click"],[1,"tbrHighlighted"],[1,"p-toolbar-group-left"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-desktop","fwcOrange"],[1,"p-toolbar-group-right"],[1,"fwcSepShort"],[1,"inline-flex","items-center"],["icon","fa fa-refresh","tooltipPosition","bottom","showDelay","700","appendTo","body",1,"rounded-none","ml-2",3,"onClick","pTooltip","model"],["type","button","icon","fa fa-search","styleClass","p-button-success rounded-none ml-2","tooltipPosition","bottom","showDelay","700",3,"onClick","pTooltip"],["type","text","pInputText","",1,"inline-block","w-[6rem]","h-[2rem]","leading-[2.1rem]","ml-2",3,"ngModelChange","input","placeholder","ngModel"],["type","button","icon","fa fa-close","styleClass","p-button-warning rounded-none ml-2","tooltipPosition","bottom","showDelay","700",3,"onClick","pTooltip"],[1,"col-12","overflow-auto"],["columnResizeMode","expand","selectionMode","single",1,"optionsTable",3,"selectionChange","onRowSelect","onRowUnselect","value","responsive","resizableColumns","selection","globalFilterFields"],["pSortableColumn","cn","pResizableColumn","",2,"position","sticky","top","70px","background","inherit"],["pResizableColumn","",2,"position","sticky","top","70px","background","inherit"],["pSortableColumn","bytesReceived","pResizableColumn","",2,"position","sticky","top","70px","background","inherit"],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn","",2,"position","sticky","top","70px","background","inherit"],["field","bytesSent"],["pSortableColumn","connectedSince","pResizableColumn","",2,"position","sticky","top","70px","background","inherit"],["field","connectedSince"],[3,"pSelectableRow"],[2,"text-align","right"],[1,"fa","fa-fw","fa-bar-chart","fwcOrange"],["type","line",3,"data","options"],[4,"ngTemplateOutlet"],[1,"fa","fa-fw","fa-calculator","fwcOrange"],[1,"flex","overflow-y-auto","gap-3",3,"ngClass"],[1,"flex-1","m-[0.3rem]"],[1,"fwcOrangeBg","text-[var(--fwcWhite)]","text-center","rounded-[3px]","pb-[0.4rem]"],[1,"text-[1.5rem]","font-bold"],[1,"uppercase"],[1,"fa","fw","fa-desktop","text-[var(--fwcPaleOrange2)]","cursor-pointer"],[1,"fwcBlueBg","text-[var(--fwcWhite)]","text-center","rounded-[3px]","pb-[0.4rem]"],[1,"fa","fw","fa-download","text-[var(--fwcPaleBlue2)]","cursor-pointer"],[1,"fwcGreenBg","text-[var(--fwcWhite)]","text-center","rounded-[3px]","pb-[0.4rem]"],[1,"fa","fw","fa-upload","text-[var(--fwcPaleGreen)]","cursor-pointer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["styleClass","p-button-success","icon","pi pi-check",3,"onClick","disabled","label"],["icon","pi pi-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"div",7),G(1,aJe,5,3,"div",8),G(2,lJe,2,1,"div",9),G(3,cJe,2,0,"div",10),G(4,uJe,11,5),G(5,gJe,31,45,"div",11),G(6,yJe,11,7,"div",11),G(7,wJe,2,1,"div",12),b(),E(8,SJe,8,4,"ng-template",null,0,ie),_(10,"p-dialog",13),ke("visibleChange",function(l){return w(s),Ne(r.displaySelectDialog,l)||(r.displaySelectDialog=l),C(l)}),A("onHide",function(l){return w(s),C(r.onSelectHide(l))}),E(11,IJe,5,3,"ng-template",null,1,ie),_(13,"div",14)(14,"div",9)(15,"p"),R(16),D(17,"translate"),b()(),_(18,"div",9)(19,"p-tree",15),ke("selectionChange",function(l){return w(s),Ne(r.selectedNode,l)||(r.selectedNode=l),C(l)}),E(20,EJe,5,9,"ng-template",null,2,ie),b()()(),E(22,xJe,4,9,"ng-template",null,3,ie),b()}o&2&&(p(),H(!r.vpnClientsData&&!r.errorMessage?1:-1),p(),H(r.errorMessage?2:-1),p(),H(r.loadingData?3:-1),p(),H(r.vpnClientsData&&r.showTitle?4:-1),p(),H(r.vpnClientsData?5:-1),p(),H(r.vpnClientsData?6:-1),p(),H(r.vpnClientsData&&r.verticalTotalsMode?7:-1),p(3),Ae("visible",r.displaySelectDialog),f("modal",!!r.showTitle)("resizable",!1)("closable",!1),p(6),Q(k(17,16,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),p(3),De(Pe(18,oJe)),f("value",r.clusterTreeNodes),Ae("selection",r.selectedNode))},dependencies:[$t,gt,ft,Hi,_i,Zi,Ut,lo,cn,bt,Ka,si,go,ul,Gu,Mf,hl,Cw,_0,ZM,Nn,Of,gc,It,wn],encapsulation:2});let i=n;return i})();var Qr=class{constructor(n){n&&(this.channel=n.channel,this.id=n.id,this.payload=n.payload||{},this.timestamp=n.timestamp)}getValue(){return{id:this.id,channel:this.channel,payload:this.payload,timestamp:this.timestamp}}};var ZZ=Xr(Kd());var RJe=["logContainer"];function DJe(i,n){i&1&&(_(0,"span",8),N(1,"i",9),_(2,"span"),R(3),D(4,"translate"),b()()),i&2&&(p(3),Q(k(4,1,"LOG_PANEL.PROCESSING")))}function PJe(i,n){if(i&1&&(_(0,"div",2)(1,"span",6),N(2,"i",7),R(3),D(4,"translate"),b(),G(5,DJe,5,3,"span",8),b()),i&2){let e=h();p(3),Y(" ",k(4,2,"LOG_PANEL.LOGS_HEADER")," "),p(2),H(e.loadingData?5:-1)}}function AJe(i,n){i&1&&N(0,"div",10)}function kJe(i,n){if(i&1&&(_(0,"span",12),R(1),D(2,"date"),b()),i&2){let e=h(2).$implicit;p(),Y("[",vi(2,1,e.time,"HH:mm:ss"),"] -")}}function NJe(i,n){i&1&&N(0,"i",15)}function FJe(i,n){if(i&1&&(_(0,"div",11),G(1,kJe,3,4,"span",12),_(2,"div",13),N(3,"i")(4,"span",14),G(5,NJe,1,0,"i",15),b()()),i&2){let e=h().$implicit,t=h(2);p(),H(e.type!==t.LogMessageTypes.MSG_SSH_CMD_OUTPUT?1:-1),p(),f("ngClass",t.getLogMessageTypeStyles(e.type,e.message).className),p(),j(t.getLogMessageTypeStyles(e.type,e.message).icon),p(),f("innerHTML",e.message,on),p(),H(e.completed?5:-1)}}function LJe(i,n){if(i&1&&G(0,AJe,1,0,"div",10)(1,FJe,6,6,"div",11),i&2){let e=n.$implicit,t=h(2);H(e.type===t.LogMessageTypes.MSG_SEPARATOR?0:1)}}function MJe(i,n){if(i&1&&fn(0,LJe,2,1,null,null,Tb),i&2){let e=h();mn(e.fwcMessages)}}function BJe(i,n){i&1&&(_(0,"div",4),R(1,"\u2014"),b())}function VJe(i,n){if(i&1){let e=B();_(0,"div",5)(1,"p-button",16),D(2,"translate"),A("onClick",function(){w(e);let o=h();return C(o.downloadLog())}),b()()}if(i&2){let e=h();p(),f("label",ae(k(2,3,"LOG_PANEL.BTN_DOWNLOAD")))("disabled",e.loadingData)}}var XZ="<br />",h3=class{constructor(n){n?(this.messages=n,this.messagesCopy=n.slice(0)):(this.messages=[],this.messagesCopy=[])}addMessage(n){this.messages.push(n),this.messagesCopy.push(n)}resetValue(){this.messages=[],this.messagesCopy=[]}getValue(n){return n===this.messages?this.messagesCopy:this.messages}completeTask(n){let e=this.messages.find(t=>t.task_id&&t.task_id===n);e&&(e.completed=!0),e=this.messagesCopy.find(t=>t.task_id&&t.task_id===n),e&&(e.completed=!0)}};var yO={[Ue.MSG_INFO]:{className:"fwcBlue",icon:"fa fa-lg fa-fw fa-info-circle"},[Ue.MSG_OK]:{className:"fwcGreen",icon:"fa fa-lg fa-fw fa-check-circle"},[Ue.MSG_ERROR]:{className:"fwcRed",icon:"fa fa-lg fa-fw fa-exclamation-circle"},[Ue.MSG_SEPARATOR]:{className:"",icon:""},[Ue.MSG_WARNING]:{className:"fwcOrange",icon:"fa fa-lg fa-fw fa-info-circle"},[Ue.MSG_NOTICE]:{className:"fwcDark",icon:""}},wo=(()=>{let n=class n{constructor(t){this.cd=t,this.height="450px",this.autoResize=!1,this.showHeader=!0,this.showFooter=!1,this.fwcMessages=[],this.LogMessageTypes=Ue,this.isBottomScrolled=!0}ngOnInit(){this.virtualLogMessages=new h3}ngAfterViewInit(){}addNewText(t,o=Ue.MSG_NOTICE,r){t&&(t=t.replace(/^<br>/g,""));let s=new Qr({payload:{data:{},task_id:void 0,type:o,highlight:r,message:t}});this.addNewMessage(s)}trackById(t,o){return t}addBreakLine(){this.addNewText("",Ue.MSG_SEPARATOR)}addNewMessage(t){if(t&&t.payload){let o={time:new Date,type:t.payload.type,task_id:t.payload.task_id,message:t.payload.message,highlight:t.payload.highlight};if(!(o.type===Ue.MSG_START||o.type===Ue.MSG_HEARTBEAT))if(o.type===Ue.MSG_END)this.loadingData=!1;else{if(o.type===Ue.MSG_START_TASK)o.subtask=!0;else if(o.type===Ue.MSG_END_TASK){this.virtualLogMessages.completeTask(o.task_id),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges();return}let r=[o.message];o.message!==null&&o.message!==void 0&&(o.message=o.message.replace(/(\r\n|\n\r|\r|\n)/g,XZ),r=o.message.split(XZ),r.length>1&&(r[0]===""&&r.shift(),r.length>1&&r[r.length-1]===""&&r.pop())),r.forEach(s=>{let a=Object.assign({},o);o.highlight?a.message=`<strong>${s}</strong>`:a.message=s,this.virtualLogMessages.addMessage(a)}),this.fwcMessages=[...this.virtualLogMessages.getValue(this.fwcMessages)],this.cd.detectChanges(),this.scrollToBottom()}}}addNewTaskMessage(t,o,r){this.addNewMessage(new Qr({payload:{data:{},task_id:t,type:Ue.MSG_START_TASK,highlight:r,message:o}}))}completeTaskMessage(t){this.addNewMessage(new Qr({payload:{data:{},task_id:t,type:Ue.MSG_END_TASK}}))}setDataLoad(t){this.loadingData=t,t&&this.scrollToBottom()}startDataLoad(){this.loadingData=!0}stopDataLoad(){this.loadingData=!1,this.cd.markForCheck()}clearMessages(){this.fwcMessages=[],this.virtualLogMessages.resetValue(),this.loadingData=!1,this.cd.detectChanges()}getLogMessageTypeStyles(t,o){let r={icon:yO[t]?yO[t].icon:"",className:yO[t]?yO[t].className:""};return new RegExp(/\(\*\) */).test(o)&&(r.className="fwcRulePurple"),(new RegExp("Error").test(o)||new RegExp("ERROR").test(o)||new RegExp("error").test(o))&&(r.className="fwcRed"),(new RegExp("Plugin enabled").test(o)||new RegExp("Plugin habilitado").test(o)||new RegExp("Plugin disabled").test(o)||new RegExp("Plugin deshabilitado").test(o))&&(r.className="fwcGreen"),r}scrollToBottom(){if(!this.cd.destroyed&&(this.cd.detectChanges(),this.fwcMessages&&this.fwcMessages.length>0&&this.logContainer?.nativeElement)){let t=this.logContainer.nativeElement;t.scrollHeight>t.clientHeight&&t.scrollTo({top:t.scrollHeight-t.clientHeight})}}downloadLog(){let t="",o="",r=`
`;if(this.fwcMessages){navigator.appVersion.indexOf("Win")!=-1&&(r=`\r
`),this.fwcMessages.forEach(l=>{if(l.type===Ue.MSG_SEPARATOR)t+=r;else{let c="",d="";try{c=`${l.time.getFullYear()}/${l.time.getMonth()+1}/${l.time.getDate()} ${l.time.getHours()}:${l.time.getMinutes()}:${l.time.getSeconds()}`,d=l.message.replace(/(<([^>]+)>)/gi,"")}catch{c="N/A"}t+=`${c} - [${l.type.toUpperCase()}] ${d} ${r}`}});let s=new Blob([t],{type:"text/plain;charset=utf-8"});o=`LOG_${new Date().getTime()}.txt`,(0,ZZ.saveAs)(s,o)}}};n.\u0275fac=function(o){return new(o||n)(x(We))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-log"]],viewQuery:function(o,r){if(o&1&&_e(RJe,5),o&2){let s;W(s=$())&&(r.logContainer=s.first)}},inputs:{height:"height",autoResize:"autoResize",showHeader:"showHeader",showFooter:"showFooter"},standalone:!1,decls:7,vars:7,consts:[["logContainer",""],[1,"fwcLog"],[1,"fwcLog-headerRow"],[1,"fwcLog-list"],[1,"fwcLog-empty"],[1,"fwcLog-footer"],[1,"fwcLog-header"],[1,"fa","fa-lg","fa-list","fwcBlue"],[1,"fwcLog-loading"],[1,"fa","fa-spin","fa-spinner","fwcBlue"],[1,"fwcLog-separator"],[1,"fwcLog-line"],[1,"fwcLog-date"],[1,"fwcLog-msg",3,"ngClass"],[1,"fwcLog-text",3,"innerHTML"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],["type","button","styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","disabled","label"]],template:function(o,r){o&1&&(_(0,"div",1),G(1,PJe,6,4,"div",2),_(2,"div",3,0),G(4,MJe,2,0)(5,BJe,2,0,"div",4),b(),G(6,VJe,3,5,"div",5),b()),o&2&&(Lr("fwcLog--auto",r.autoResize),p(),H(r.showHeader?1:-1),p(),Kt("height",r.autoResize?null:r.height),p(2),H(r.fwcMessages!=null&&r.fwcMessages.length?4:5),p(2),H(r.showFooter?6:-1))},dependencies:[$t,bt,gc,It],styles:[`div.fwcLog{height:100%;width:100%;background-color:var(--fwcGrey6);border:1px solid var(--fwcGrey2);display:flex;flex-direction:column;min-height:0}div.fwcLog.fwcLog--auto{height:100%}div.fwcLog .fwcLog-headerRow{display:flex;align-items:center;gap:.35rem;padding:.4rem .6rem;background:#f4f4f4;border-bottom:1px solid var(--fwcGrey2)}div.fwcLog .fwcLog-header{font-weight:600}div.fwcLog .fwcLog-loading{margin-left:auto;display:flex;align-items:center;gap:.3rem;color:var(--fwcLightBlue);font-size:.9em}div.fwcLog .fwcLog-list{flex:1 1 auto;overflow:auto;padding:.6rem;font-size:.9em;font-family:monospace;color:var(--fwcDark);min-height:0}div.fwcLog .fwcLog-empty{display:flex;align-items:center;gap:.5rem;color:var(--fwcPaleDark);font-style:italic}div.fwcLog .fwcLog-date{color:var(--fwcPaleDark);min-width:4.5rem}div.fwcLog .fwcLog-line{display:flex;gap:.35rem;align-items:flex-start;padding:.1rem 0;line-height:1.35}div.fwcLog .fwcLog-msg{display:flex;gap:.35rem;align-items:center;color:var(--fwcDark)}div.fwcLog .fwcLog-text{white-space:pre-wrap}div.fwcLog .fwcLog-separator{height:.65rem}div.fwcLog .fwcLog-footer{padding:.4rem .6rem;border-top:1px solid var(--fwcGrey2);text-align:right;background:#f4f4f4}
`],encapsulation:2,changeDetection:0});let i=n;return i})();var vO=(()=>{let n=class n{constructor(){this.units=["bytes","KB","MB","GB","TB","PB"]}transform(t=0,o=2){if(isNaN(parseFloat(String(t)))||!isFinite(t))return"?";let r=0;for(;t>=1024;)t/=1024,r++;return t.toFixed(+o)+" "+this.units[r]}};n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=Vo({name:"fwcFileSize",type:n,pure:!0,standalone:!1});let i=n;return i})();var UJe=["pDialog"],jJe=["pfuUpload"],GJe=["fwcLogComponent"],HJe=["fwcMessageComponent"],zJe=()=>({"max-width":"40rem"}),WJe=()=>({height:"4px"});function $Je(i,n){if(i&1&&(_(0,"h6",9),N(1,"i",10),R(2),b()),i&2){let e=h();p(2),Y(" ",e.options==null?null:e.options.title)}}function KJe(i,n){if(i&1&&(_(0,"div",13),N(1,"p-progressBar",16),b()),i&2){let e=h(3);p(),De(Pe(4,WJe)),f("value",e.taskProgress)("showValue",!1)}}function qJe(i,n){if(i&1){let e=B();_(0,"div",17),N(1,"i",18),_(2,"span",19),R(3),b(),_(4,"span",20),R(5),D(6,"fwcFileSize"),b(),_(7,"p-button",21),A("onClick",function(o){let r=w(e).$index,s=h(2).removeFileCallback;return C(s(o,r))}),b()()}if(i&2){let e=n.$implicit,t=h(4);p(3),Q(e.name),p(2),Q(k(6,3,e.size)),p(2),f("disabled",t.loading)}}function JJe(i,n){if(i&1&&(_(0,"div",14),fn(1,qJe,8,5,"div",17,Tb),b()),i&2){let e=h().$implicit;p(),mn(e)}}function QJe(i,n){if(i&1&&(_(0,"div",15),N(1,"sts-fwc-message",22,6),_(3,"div"),N(4,"sts-fwc-log",23,7),b()()),i&2){let e=h(3);p(),f("message",e.opMessage),p(2),Kt("display",e.options.showLogMessages?"block":"none"),p(),f("height","6rem")}}function YJe(i,n){if(i&1&&(G(0,KJe,2,5,"div",13),G(1,JJe,3,0,"div",14),G(2,QJe,6,4,"div",15)),i&2){let e=n.$implicit,t=h(2);H(t.loading&&t.taskProgress!==null?0:-1),p(),H(e!=null&&e.length?1:-1),p(),H(t.loading?2:-1)}}function XJe(i,n){if(i&1){let e=B();_(0,"div",24),A("dragover",function(o){w(e);let r=h(2);return C(r.onDragOver(o))})("dragleave",function(o){w(e);let r=h(2);return C(r.onDragLeave(o))})("drop",function(o){w(e);let r=h(2);return C(r.onDragDrop(o))}),_(1,"div",25),N(2,"i",26)(3,"br"),_(4,"p",27),R(5),D(6,"translate"),b()()()}if(i&2){let e=h(2);p(2),f("ngClass",e.draggedOver?"fwcGreen":""),p(3),Y(" ",k(6,2,"PANELS.FILEUPLOAD_PANEL.UPLOAD_PLACEHOLDER")," ")}}function ZJe(i,n){if(i&1){let e=B();N(0,"p",11)(1,"br"),_(2,"p-fileUpload",12,3),D(4,"translate"),D(5,"translate"),D(6,"translate"),D(7,"translate"),D(8,"translate"),A("onSelect",function(o){w(e);let r=h();return C(r.onFileSelect(o))})("onClear",function(){w(e);let o=h();return C(o.onFileClear())})("onRemove",function(o){w(e);let r=h();return C(r.onFileRemove(o))})("onBeforeUpload",function(){w(e);let o=h();return C(o.onBeforeUpload())})("onUpload",function(o){w(e);let r=h();return C(r.onUploadCompleted(o))})("onError",function(o){w(e);let r=h();return C(r.onUploadError(o))}),E(9,YJe,3,3,"ng-template",null,4,ie)(11,XJe,7,4,"ng-template",null,5,ie),b()}if(i&2){let e=h();f("innerHTML",e.options.summary,on),p(2),f("url",e.options.url)("headers",e.headers)("withCredentials",!0)("accept",e.options.uploadOptions.acceptPattern)("maxFileSize",e.options.uploadOptions.maxFileSize)("chooseLabel",e.options.uploadOptions.buttonChoose)("uploadLabel",e.options.uploadOptions.buttonUpload)("cancelLabel",k(4,15,"GLOBALS.MSG_BUTTONS.CANCEL"))("uploadButtonProps",e.uploadButtonProps)("cancelButtonProps",e.cancelButtonProps)("invalidFileSizeMessageSummary",k(5,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",k(6,19,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",k(7,21,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",k(8,23,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function eQe(i,n){}function tQe(i,n){if(i&1){let e=B();_(0,"p-button",28),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancelHandler())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loading)}}var tee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u){super(t,o,r,a,u,d),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.translate=s,this.cd=a,this.fwcEventService=l,this.utilService=c,this.router=d,this.store=u,this.filesToUpload=[],this.taskProgress=null,this.uploadButtonProps={disabled:!0},this.cancelButtonProps={disabled:!0},this.alive=!0}ngOnInit(){this.headers=new As,this.headers=this.headers.set("X-FWC-TIMEOUT","9999999")}ngOnDestroy(){this.alive=!1}waitWSMessages(){return new Promise((o,r)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(s=>{let a=new Qr(s);if(a&&a.payload)if(a.payload.type===Ue.MSG_END?o(a):(a.payload.type,Ue.MSG_ERROR,this.resetTimer()),this.options.showLogMessages)this.fwcLogComponent&&this.fwcLogComponent.addNewMessage(a);else{let l=this.updateTaskProgress(a.payload.message);this.fwcMessageComponent&&(l?this.fwcMessageComponent.clearStatus():this.fwcMessageComponent.changeStatus(a.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":")),this.cd.destroyed||this.cd.detectChanges()}else this.addLogText(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),Ue.MSG_ERROR)}),this.utilService.ioListenOnLogEvent(this.options.channelId)):o(null)})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}updateTaskProgress(t){if(!t)return!1;let o=/(\d+)\/(\d+)/.exec(t);if(!o)return!1;let r=Number.parseInt(o[1],10),s=Number.parseInt(o[2],10);if(!s||Number.isNaN(r)||Number.isNaN(s))return!1;let a=Math.round(r/s*100);return this.taskProgress=Math.min(100,Math.max(0,a)),!0}showFUDialog(t){if(t){let o=t.uploadTitle?t.uploadTitle:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_HEADER"),r=t.uploadText?t.uploadText:this.translate.instant("PANELS.FILEUPLOAD_PANEL.INFO.LOADING_TEXT");this.opMessage={horizontal:!!t.showLogMessages,type:"loading",title:o,text:r},this.taskProgress=null,this.displayDialog=!0,this.options=t,this.updateFileButtonsState(!1),t.channelId&&this.waitWSMessages()}}addLogText(t,o){this.fwcLogComponent&&this.fwcLogComponent.addNewText(t,o)}hideDialog(){this.displayDialog=!1,this.loading=!1,this.taskProgress=null,this.clearUploadQueue(),this.updateFileButtonsState(!1),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}onCancelHandler(){this.hideDialog()}onBeforeUpload(){this.loading=!0,this.taskProgress=0,this.fwcMessageComponent&&this.fwcMessageComponent.clearStatus(),this.pfuUpload.showUploadButton=!1,this.updateFileButtonsState(),this.cd.destroyed||this.cd.detectChanges(),this.pDialog.center()}onUploadCompleted(t){this.loading=!1,this.taskProgress=null,this.pfuUpload.showUploadButton=!0,this.clearUploadQueue(),this.pDialog.center(),this.options.onUploadCompleted&&this.options.onUploadCompleted(t)}onUploadError(t){this.loading=!1,this.taskProgress=null,this.pfuUpload.showUploadButton=!0,this.clearUploadQueue(),this.pDialog.center(),this.options.onUploadError&&this.options.onUploadError(t)}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.draggedOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.draggedOver=!1}onDragDrop(t){t.preventDefault(),this.draggedOver=!1;let o=t.dataTransfer.files;o.length==1&&(this.filesToUpload=[],this.filesToUpload.push(o.item(0)))}onFileSelect(t){this.updateFileButtonsState(!!t?.currentFiles?.length)}onFileRemove(t){setTimeout(()=>this.updateFileButtonsState(),0)}onFileClear(){this.updateFileButtonsState(!1)}updateFileButtonsState(t){let r=!(typeof t=="boolean"?t:!!this.pfuUpload?.files?.length)||this.loading;this.uploadButtonProps={disabled:r},this.cancelButtonProps={disabled:r}}clearUploadQueue(){this.filesToUpload=[],this.updateFileButtonsState(!1),this.pfuUpload&&(this.pfuUpload.clear(),this.pfuUpload.uploadedFiles=[],this.pfuUpload.uploadedFileCount=0)}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x($e),x(We),x(dn),x(Tt),x(at),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-fileupload-panel"]],viewQuery:function(o,r){if(o&1&&(_e(UJe,5),_e(jJe,5),_e(GJe,5),_e(HJe,5)),o&2){let s;W(s=$())&&(r.pDialog=s.first),W(s=$())&&(r.pfuUpload=s.first),W(s=$())&&(r.fwcLogComponent=s.first),W(s=$())&&(r.fwcMessageComponent=s.first)}},standalone:!1,features:[re],decls:8,vars:7,consts:[["pDialog",""],["header",""],["footer",""],["pfuUpload",""],["content",""],["empty",""],["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog",3,"visible","modal","closable"],[1,"dlgFwcDialog-header"],[1,"fwcIcons2","fwci2-moveup","fwcOrange"],[3,"innerHTML"],["name","file","fileLimit","1","chooseIcon","fa fa-plus","uploadIcon","fa fa-upload","cancelIcon","fa fa-times","chooseStyleClass","fwc-fileupload-panel__btn","uploadStyleClass","fwc-fileupload-panel__btn","cancelStyleClass","fwc-fileupload-panel__btn","styleClass","fwc-fileupload-panel",3,"onSelect","onClear","onRemove","onBeforeUpload","onUpload","onError","url","headers","withCredentials","accept","maxFileSize","chooseLabel","uploadLabel","cancelLabel","uploadButtonProps","cancelButtonProps","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],[1,"fwc-fileupload-panel__progress"],[1,"p-fileupload-files"],[1,"mt-3"],[3,"value","showValue"],[1,"p-fileupload-row","flex","items-center","gap-2","px-3","py-2"],[1,"fa","fa-lg","fa-file-text","fwcBlue"],[1,"flex-1","truncate"],[1,"fwcPaleDark","whitespace-nowrap"],["type","button","icon","fa fa-times","styleClass","p-button-text p-button-danger",3,"onClick","disabled"],[3,"message"],[3,"height"],[3,"dragover","dragleave","drop"],[1,"text-center"],[1,"fa","fa-3x","fa-cloud-upload","my-4","text-[var(--fwcMidDark)]",3,"ngClass"],[1,"text-[var(--fwcPaleDark)]"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){o&1&&(_(0,"p-dialog",8,0),E(2,$Je,3,1,"ng-template",null,1,ie),G(4,ZJe,13,25)(5,eQe,0,0),E(6,tQe,2,5,"ng-template",null,2,ie),b()),o&2&&(De(Pe(6,zJe)),f("visible",r.displayDialog)("modal",!0)("closable",!1),p(4),H(r.options?4:5))},dependencies:[$t,Ut,$f,bt,Sw,wo,Nn,It,vO],encapsulation:2});let i=n;return i})();var Ks=[];for(let i=0;i<256;++i)Ks.push((i+256).toString(16).slice(1));function iee(i,n=0){return(Ks[i[n+0]]+Ks[i[n+1]]+Ks[i[n+2]]+Ks[i[n+3]]+"-"+Ks[i[n+4]]+Ks[i[n+5]]+"-"+Ks[i[n+6]]+Ks[i[n+7]]+"-"+Ks[i[n+8]]+Ks[i[n+9]]+"-"+Ks[i[n+10]]+Ks[i[n+11]]+Ks[i[n+12]]+Ks[i[n+13]]+Ks[i[n+14]]+Ks[i[n+15]]).toLowerCase()}var f3,iQe=new Uint8Array(16);function m3(){if(!f3){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f3=crypto.getRandomValues.bind(crypto)}return f3(iQe)}var nQe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g3={randomUUID:nQe};function oQe(i,n,e){if(g3.randomUUID&&!n&&!i)return g3.randomUUID();i=i||{};let t=i.random??i.rng?.()??m3();if(t.length<16)throw new Error("Random bytes length must be >= 16");if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){if(e=e||0,e<0||e+16>n.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let o=0;o<16;++o)n[e+o]=t[o];return n}return iee(t)}var lr=oQe;var rQe=()=>({width:"30vw"});function sQe(i,n){if(i&1){let e=B();_(0,"div",8)(1,"h6",9),R(2),D(3,"translate"),b()(),_(4,"div",10)(5,"p-button",11),A("onClick",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()()}i&2&&(p(2),Y(" ",k(3,1,"TFA.HEADER")," "))}function aQe(i,n){if(i&1&&N(0,"img",13),i&2){let e=h(2);f("src",e.dataURL,Cr)}}function lQe(i,n){if(i&1){let e=B();_(0,"div",5)(1,"div",12)(2,"h6"),R(3),D(4,"translate"),b(),G(5,aQe,1,1,"img",13),_(6,"p"),R(7),D(8,"translate"),b(),_(9,"p"),R(10),D(11,"translate"),b(),_(12,"form",14,2),A("ngSubmit",function(){w(e);let o=h();return C(o.confirm())}),_(14,"input",15,3),D(16,"translate"),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.authCode,o)||(r.authCode=o),C(o)}),b(),N(17,"br")(18,"p-button",16),D(19,"translate"),b()()()}if(i&2){let e=Ze(15),t=h();p(3),Q(k(4,11,"TFA.TITLE")),p(2),H(t.dataURL?5:-1),p(2),Ps("",k(8,13,"TFA.SECRET_KEY")," - ",t.tempSecret),p(3),Q(k(11,15,"TFA.AUTH_TYPE")),p(4),f("placeholder",ae(k(16,17,"TFA.AUTH_CODE"))),Ae("ngModel",t.authCode),p(4),f("label",ae(k(19,19,"TFA.AUTH_ENABLE")))("disabled",e==null||e.errors==null?null:e.errors.required)}}function cQe(i,n){if(i&1){let e=B();_(0,"div",5)(1,"div",12)(2,"h6"),R(3),D(4,"translate"),b(),N(5,"img",13),_(6,"p"),R(7),D(8,"translate"),b(),_(9,"p"),R(10),D(11,"translate"),b(),_(12,"p-button",17),D(13,"translate"),A("onClick",function(){w(e);let o=h();return C(o.disable())}),b()()()}if(i&2){let e=h();p(3),Q(k(4,7,"TFA.CURRENT")),p(2),f("src",e.dataURL,Cr),p(2),Ps("",k(8,9,"TFA.SECRET_KEY")," - ",e.secret||e.tempSecret),p(3),Q(k(11,11,"TFA.AUTH_TYPE")),p(2),f("label",ae(k(13,13,"TFA.AUTH_DISABLE")))}}function dQe(i,n){if(i&1){let e=B();_(0,"p-button",18),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.close())}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")))}var nee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t,o,r,c,d,u),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.messageService=s,this.fwcUserService=a,this.utilService=l,this.cd=c,this.store=d,this.router=u,this.confirmationService=m,this.translate=g,this.darkMode=!1,this.authCode="",this.authErrorMsg=[],this.closeChange=new Le}ngOnInit(){this.authErrorMsg=[]}ngOnDestroy(){}show(t){this.secret=t.secret,this.tempSecret=t.tempSecret,this.dataURL=t.dataURL,this.tfaURL=this.tfaURL,this.showDialog()}confirm(){this.authErrorMsg=[];let t={authCode:this.authCode,secret:this.secret,tempSecret:this.tempSecret,dataURL:this.dataURL,tfaURL:this.tfaURL};this.utilService.fwcAPICall(this.fwcUserService.verifyAuth.bind(this.fwcUserService),t).then(o=>{o&&o.data?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.SUCCESS")}),this.closeChange.next(!0),this.close()):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")}))}).catch(o=>{o.status===401?(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("TFA.AUTH_CODE_INVALID")})):(this.closeChange.next(!1),this.authErrorMsg.push({severity:"error",summary:this.translate.instant("TFA.ERROR"),detail:this.translate.instant("USER.MSG_USER_AUTH.AUTH_ERROR")}))})}disable(){this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")}),this.closeChange.next(!1),this.close()})}ngAfterViewInit(){}onChange(){return this.closeChange.asObservable()}close(){this.closeChange.next(!1),this.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(ii),x(dt),x(Tt),x(We),x(tt),x(at),x(ti),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-user-2FA-component"]],standalone:!1,features:[re],decls:9,vars:11,consts:[["header",""],["footer",""],["otpForm","ngForm"],["iauthcode","ngModel"],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable","resizable"],[1,"grid"],[1,"col-12","noVertPad"],[3,"valueChange","value","closable"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],[1,"col-12",2,"align-items","center"],["alt","",1,"img-thumbnail",2,"display","block","margin","auto",3,"src"],[1,"form-group",3,"ngSubmit"],["name","authcode","type","text","maxlength","6","id","authcode","autocomplete","off","required","",1,"form-control",3,"ngModelChange","placeholder","ngModel"],["type","Submit","styleClass","p-button-success",3,"disabled","label"],["styleClass","p-button-danger",3,"onClick","label"],["icon","pi pi-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onHide",function(){return w(s),C(r.close())}),E(1,sQe,6,3,"ng-template",null,0,ie),G(3,lQe,20,21,"div",5),G(4,cQe,14,15,"div",5),_(5,"div",6)(6,"p-message",7),ke("valueChange",function(l){return w(s),Ne(r.authErrorMsg,l)||(r.authErrorMsg=l),C(l)}),b()(),E(7,dQe,2,4,"ng-template",null,1,ie),b()}o&2&&(De(Pe(10,rQe)),Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(3),H(r.secret?-1:3),p(),H(r.secret?4:-1),p(2),Ae("value",r.authErrorMsg),f("closable",!1))},dependencies:[eo,Hi,_i,Zn,oy,io,Zi,yA,Ut,wp,bt,It],encapsulation:2});let i=n;return i})();var pQe=()=>({width:"50vw"});function uQe(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"GLOBALS.ERRORS.COMMUNICATION")," "))}function hQe(i,n){if(i&1){let e=B();_(0,"p-button",10),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onClose())}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")))}var _3=15,Pr=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u){super(r,o,t,c,d,u),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.utilService=s,this.fwcUserService=a,this.fwcEventService=l,this.cd=c,this.store=d,this.router=u,this.seconds=_3,this.attemps=1,this.socketEventEmitter=new te}checkConnection(){return new Promise(t=>{if(this.utilService.ioGetSocketConnected())return this.onConnected(),t();this.showDialog(),this.interval=setInterval(()=>{if(this.seconds>0)this.seconds--;else if(this.attemps++,this.seconds=_3*this.attemps,this.utilService.ioGetSocketConnected())return this.onConnected(),t()},1e3)})}onConnected(){this.hideDialog(),this.socketEventEmitter.emit("connected")}WsReconect(){this.seconds=_3*this.attemps,this.utilService.ioGetSocketConnected()&&this.onConnected()}onClose(){this.socketEventEmitter.emit("disconnected"),this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(Tt),x(dt),x(dn),x(We),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ws-connection-panel"]],outputs:{socketEventEmitter:"socketEventEmitter"},standalone:!1,features:[Se([Ie]),re],decls:19,vars:20,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","visible","closable","resizable"],[1,"col-12"],[1,"fa","fa-exclamation-circle","fwcRed","iconBig"],[1,"fwc-centered"],["styleClass","p-button-success",3,"onClick","label"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange","fa-wifi-slash"],["type","button","icon","fa fa-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),E(1,uQe,5,3,"ng-template",null,0,ie),_(3,"div",3)(4,"p"),N(5,"i",4),R(6),D(7,"translate"),b()(),_(8,"div",5)(9,"p"),R(10),D(11,"translate"),D(12,"translate"),b()(),R(13," \xA0 "),_(14,"div",5)(15,"p-button",6),D(16,"translate"),A("onClick",function(){return w(s),C(r.WsReconect())}),b()(),E(17,hQe,2,4,"ng-template",null,1,ie),b()}o&2&&(De(Pe(19,pQe)),Ae("visible",r.displayDialog),f("closable",!1)("resizable",!0),p(6),Y("\xA0\xA0",k(7,11,"WEBSOCKET_ERROR.DESCRIPTION")),p(4),Ef("",k(11,13,"WEBSOCKET_ERROR.TRY_AGAIN")," ",r.seconds," ",k(12,15,"WEBSOCKET_ERROR.SECONDS")),p(5),f("label",ae(k(16,17,"WEBSOCKET_ERROR.TRY_NOW"))))},dependencies:[Ut,bt,It],encapsulation:2});let i=n;return i})();var wO=(()=>{let n=class n{transform(t,o="asc",r=""){return!t||!o||t.length<=1?t:!r||r===""?o==="asc"?t.sort():t.sort().reverse():Xk(t,[r],[o])}};n.\u0275fac=function(o){return new(o||n)},n.\u0275pipe=Vo({name:"fwcSortBy",type:n,pure:!0,standalone:!1});let i=n;return i})();var fQe=["inputCustomerId"],mQe=["inputUserName"],gQe=["inputResetPass"],_Qe=["dlgConfigDialog"],bQe=["ddCustomers"],yQe=()=>({width:"3.5rem",height:"3.5rem",marginBottom:"1rem"}),qd=i=>({visibility:i}),b3=()=>({width:"1.7rem",height:"1.7rem"}),vQe=()=>({width:"auto"});function wQe(i,n){if(i&1){let e=B();_(0,"p-button",36),A("onClick",function(){w(e);let o=h(2);return C(o.showHelp())}),b()}if(i&2){let e=h(2);f("disabled",e.loadingData)}}function CQe(i,n){if(i&1&&(_(0,"div",31)(1,"h6",32),N(2,"i",33),R(3),D(4,"translate"),b()(),_(5,"div",34),G(6,wQe,1,1,"p-button",35),b()),i&2){let e=h();p(3),Y(" ",k(4,2,"CONFIG_PANEL.HEADER")," "),p(3),H(e.helpSection?6:-1)}}function SQe(i,n){if(i&1){let e=B();_(0,"p-button",69),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDeleteCustomer())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"CONFIG_PANEL.CUSTOMER.BUTTONS.DELETE")))("disabled",e.loadingData)}}function IQe(i,n){if(i&1){let e=B();N(0,"span",67),_(1,"p-button",70),D(2,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancelCustomerEdit())}),b()}if(i&2){let e=h(3);p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",e.loadingData)}}function EQe(i,n){if(i&1){let e=B();_(0,"form",45),A("keyup.enter",function(o){w(e);let r=h(2);return C(r.checkCustomerForm(o))})("keyup.esc",function(){w(e);let o=h(2);return C(o.onCancelCustomerEdit())}),_(1,"fieldset",46)(2,"div",13)(3,"div",47)(4,"h5",39),R(5),D(6,"translate"),b()(),_(7,"div",48)(8,"div",49)(9,"label",50),R(10),D(11,"translate"),b(),N(12,"input",51,4),b(),_(14,"p",52),R(15),D(16,"translate"),b()(),_(17,"div",53)(18,"div",49)(19,"label",54),R(20),D(21,"translate"),b(),N(22,"input",55),b(),_(23,"p",52),R(24),D(25,"translate"),b()(),_(26,"div",56)(27,"div",49)(28,"label",57),R(29),D(30,"translate"),b(),N(31,"input",58),b(),_(32,"p",52),R(33),D(34,"translate"),b()(),_(35,"div",56)(36,"div",49)(37,"label",59),R(38),D(39,"translate"),b(),N(40,"input",60),b(),_(41,"p",52),R(42),D(43,"translate"),b()(),_(44,"div",48)(45,"div",49)(46,"label",61),R(47),D(48,"translate"),b(),N(49,"input",62),b(),N(50,"p"),b(),_(51,"div",53)(52,"div",49)(53,"label",63),R(54),D(55,"translate"),b(),N(56,"textarea",64),b()(),_(57,"div",14)(58,"div",65),N(59,"p-progressSpinner"),b(),_(60,"p-button",66),D(61,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onSaveCustomer())}),b(),N(62,"span",67),G(63,SQe,2,5,"p-button",68),G(64,IQe,3,5),b()()()()}if(i&2){let e=h(2);f("formGroup",e.formModelCustomer),p(),f("disabled",e.loadingData),p(4),Y(" ",k(6,28,"CONFIG_PANEL.CUSTOMER.DATA")," "),p(5),Q(k(11,30,"CONFIG_PANEL.CUSTOMER.FIELDS.ID")),p(2),ce("readonly",e.selectedCustomer),p(2),f("ngStyle",de(52,qd,e.formModelCustomer.get("id").valid||e.formModelCustomer.get("id").pristine?"hidden":"visible")),p(),Y(" ",k(16,32,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_ID")," "),p(5),Q(k(21,34,"CONFIG_PANEL.CUSTOMER.FIELDS.NAME")),p(3),f("ngStyle",de(54,qd,e.formModelCustomer.get("name").valid||e.formModelCustomer.get("name").pristine?"hidden":"visible")),p(),Y(" ",k(25,36,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_NAME")," "),p(5),Q(k(30,38,"CONFIG_PANEL.CUSTOMER.FIELDS.EMAIL")),p(3),f("ngStyle",de(56,qd,e.formModelCustomer.get("email").valid||e.formModelCustomer.get("email").pristine?"hidden":"visible")),p(),Y(" ",k(34,40,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_EMAIL")," "),p(5),Q(k(39,42,"CONFIG_PANEL.CUSTOMER.FIELDS.WEB")),p(3),f("ngStyle",de(58,qd,e.formModelCustomer.get("web").valid||e.formModelCustomer.get("web").pristine?"hidden":"visible")),p(),Y(" ",k(43,44,"CONFIG_PANEL.CUSTOMER.ERRORS.FIELD_INVALID_WEB")," "),p(5),Q(k(48,46,"CONFIG_PANEL.CUSTOMER.FIELDS.TEL")),p(7),Q(k(55,48,"CONFIG_PANEL.CUSTOMER.FIELDS.ADDRESS")),p(2),f("rows",3)("cols",30),p(2),f("ngStyle",de(60,qd,e.loadingData?"visible":"hidden")),p(),De(Pe(62,b3)),p(),f("label",ae(k(61,50,"CONFIG_PANEL.CUSTOMER.BUTTONS.SAVE")))("disabled",e.formModelCustomer.pristine||!e.formModelCustomer.valid||e.loadingData),p(3),H(e.selectedCustomer?63:-1),p(),H(e.formModelCustomer!=null&&e.formModelCustomer.dirty||!e.selectedCustomer?64:-1)}}function xQe(i,n){if(i&1){let e=B();we(0),_(1,"div",37)(2,"div",38)(3,"h5",39),R(4),D(5,"translate"),b()(),_(6,"div",40)(7,"p-select",41,3),D(9,"translate"),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectedCustomer,o)||(r.selectedCustomer=o),C(o)}),A("onChange",function(o){w(e);let r=h();return C(r.onChangeCustomer(o))}),b()(),_(10,"div",42)(11,"p-button",43),D(12,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onNewCustomer())}),b()()(),G(13,EQe,65,63,"form",44),Ce()}if(i&2){let e=h();p(4),Y(" ",k(5,11,"CONFIG_PANEL.CUSTOMER.SEL")," "),p(3),f("emptyFilterMessage",ae(k(9,13,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")))("options",e.customers),Ae("ngModel",e.selectedCustomer),f("disabled",e.loadingData)("autoDisplayFirst",!1),p(4),f("label",ae(k(12,15,"CONFIG_PANEL.CUSTOMER.NEW")))("disabled",e.loadingData),p(2),H(e.formModelCustomer?13:-1)}}function TQe(i,n){if(i&1&&(N(0,"input",79),D(1,"translate"),D(2,"translate"),D(3,"translate"),D(4,"translate")),i&2){let e=h(3);f("showPassword",e.displayUserPassword)("promptLabel",k(1,5,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",k(2,7,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",k(3,9,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",k(4,11,"GLOBALS.MSG_PASSWORD.SAFE"))}}function OQe(i,n){if(i&1){let e=B();_(0,"p-button",82),A("mousedown",function(){w(e);let o=h(3);return C(o.displayUserPassword=!0)})("mouseup",function(){w(e);let o=h(3);return C(o.displayUserPassword=!1)})("mouseout",function(){w(e);let o=h(3);return C(o.displayUserPassword=!1)}),b()}if(i&2){let e=h(3);f("disabled",e.loadingData)}}function RQe(i,n){if(i&1){let e=B();_(0,"p-button",83),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.allowPasswordReset())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"CONFIG_PANEL.USER.BUTTONS.RESET")))("disabled",e.loadingData)}}function DQe(i,n){if(i&1&&(we(0),_(1,"div",88),N(2,"img",89),_(3,"span"),R(4),b()(),Ce()),i&2){let e=n.$implicit;p(4),Q(e.name)}}function PQe(i,n){if(i&1&&(we(0),E(1,DQe,5,1,"ng-container",87),Ce()),i&2){let e=h().$implicit,t=h(4);p(),f("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function AQe(i,n){i&1&&(_(0,"label",90)(1,"span"),R(2),D(3,"translate"),b()()),i&2&&(p(2),Q(k(3,1,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")))}function kQe(i,n){if(i&1&&E(0,PQe,2,2,"ng-container",86)(1,AQe,4,3,"ng-template",null,8,ie),i&2){let e=n.$implicit,t=Ze(2);f("ngIf",(e==null?null:e.length)>0)("ngIfElse",t)}}function NQe(i,n){if(i&1&&(N(0,"img",91),_(1,"div",92),R(2),b()),i&2){let e=n.$implicit;p(2),Y(" ",e.name," ")}}function FQe(i,n){if(i&1){let e=B();_(0,"div",14)(1,"div",49)(2,"label",84),R(3),D(4,"translate"),b(),_(5,"p-multiSelect",85),D(6,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.selectedFwclouds,o)||(r.selectedFwclouds=o),C(o)}),A("onChange",function(){w(e);let o=h(3);return C(o.selectedFwcloudsChanged=!0)}),E(7,kQe,3,2,"ng-template",null,6,ie)(9,NQe,3,1,"ng-template",null,7,ie),b()()()}if(i&2){let e=h(3);p(3),Q(k(4,7,"CONFIG_PANEL.USER.FIELDS.FWCLOUDS")),p(2),De(Pe(11,vQe)),f("defaultLabel",ae(k(6,9,"CONFIG_PANEL.USER.CHOOSE_CLOUDS")))("options",e.fwclouds),Ae("ngModel",e.selectedFwclouds)}}function LQe(i,n){if(i&1){let e=B();_(0,"p-button",69),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDeleteUser())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"CONFIG_PANEL.USER.BUTTONS.DELETE")))("disabled",e.loadingData)}}function MQe(i,n){if(i&1){let e=B();N(0,"span",67),_(1,"p-button",70),D(2,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancelUserEdit())}),b()}if(i&2){let e=h(3);p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",e.loadingData)}}function BQe(i,n){if(i&1){let e=B();_(0,"form",45),A("keyup.enter",function(o){w(e);let r=h(2);return C(r.checkUserForm(o))})("keyup.esc",function(){w(e);let o=h(2);return C(o.onCancelUserEdit())}),_(1,"fieldset",46)(2,"div",13)(3,"div",47)(4,"h5",39),R(5),D(6,"translate"),b()(),_(7,"div",56)(8,"div",49)(9,"label",54),R(10),D(11,"translate"),b(),N(12,"input",55,5),b(),_(14,"p",52),R(15),D(16,"translate"),b()(),_(17,"div",73)(18,"div",49)(19,"label"),R(20),D(21,"translate"),b()()(),_(22,"div",71),N(23,"p-select",74),b(),_(24,"div",56)(25,"div",49)(26,"label",75),R(27),D(28,"translate"),b(),N(29,"input",76),b(),_(30,"p",52),R(31),D(32,"translate"),b()(),_(33,"div",56)(34,"div",77)(35,"label",78),R(36),D(37,"translate"),b(),G(38,TQe,5,13,"input",79),G(39,OQe,1,1,"p-button",80),G(40,RQe,2,5,"p-button",81),b()()()()(),G(41,FQe,11,12,"div",14),_(42,"div",14)(43,"div",65),N(44,"p-progressSpinner"),b(),_(45,"p-button",66),D(46,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onSaveUser())}),b(),N(47,"span",67),G(48,LQe,2,5,"p-button",68),G(49,MQe,3,5),b()}if(i&2){let e=h(2);f("formGroup",e.formModelUser),p(),f("disabled",e.loadingData),p(4),Y(" ",k(6,24,"CONFIG_PANEL.USER.DATA")," "),p(5),Q(k(11,26,"CONFIG_PANEL.USER.FIELDS.NAME")),p(4),f("ngStyle",de(40,qd,e.formModelUser.get("name").valid||e.formModelUser.get("name").pristine?"hidden":"visible")),p(),Y(" ",k(16,28,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_NAME")," "),p(5),Q(k(21,30,"CONFIG_PANEL.USER.FIELDS.ROLE")),p(3),f("options",e.userRoles),p(4),Q(k(28,32,"CONFIG_PANEL.USER.FIELDS.USERNAME")),p(3),f("ngStyle",de(42,qd,e.formModelUser.get("username").valid||e.formModelUser.get("username").pristine?"hidden":"visible")),p(),Y(" ",k(32,34,"CONFIG_PANEL.USER.ERRORS.FIELD_INVALID_USERNAME")," "),p(5),Q(k(37,36,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),p(2),H(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?38:-1),p(),H(e.formModelUser!=null&&e.formModelUser.controls.password.enabled?39:-1),p(),H(e.formModelUser!=null&&e.formModelUser.controls.password.disabled?40:-1),p(),H(e.fwclouds&&e.fwclouds.length&&(e.formModelUser==null?null:e.formModelUser.controls.role.value)==e.UserRoles.ROLE_MANAGER?41:-1),p(2),f("ngStyle",de(44,qd,e.loadingData?"visible":"hidden")),p(),De(Pe(46,b3)),p(),f("label",ae(k(46,38,"CONFIG_PANEL.USER.BUTTONS.SAVE")))("disabled",e.formModelUser.pristine&&!e.selectedFwcloudsChanged||!e.formModelUser.valid||e.loadingData),p(3),H(e.selectedUser?48:-1),p(),H(e.formModelUser&&(e.formModelUser!=null&&e.formModelUser.dirty||!e.selectedUser)||e.selectedFwcloudsChanged?49:-1)}}function VQe(i,n){if(i&1&&(_(0,"div"),N(1,"sts-fwc-message",93),b()),i&2){let e=h(2);p(),f("message",e.errorMessage)}}function UQe(i,n){if(i&1){let e=B();we(0),_(1,"div",13)(2,"div",38)(3,"h5",39),R(4),D(5,"translate"),b()(),_(6,"div",71)(7,"p-select",72),D(8,"translate"),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectedUserCustomer,o)||(r.selectedUserCustomer=o),C(o)}),A("onChange",function(o){w(e);let r=h();return C(r.onChangeUserCustomer(o))}),b()(),_(9,"div",71)(10,"p-select",72),D(11,"translate"),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectedUser,o)||(r.selectedUser=o),C(o)}),A("onChange",function(o){w(e);let r=h();return C(r.onChangeUser(o))}),b()(),_(12,"div",42)(13,"p-button",43),D(14,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onNewUser())}),b()()(),G(15,BQe,50,47),G(16,VQe,2,1,"div"),Ce()}if(i&2){let e=h();p(4),Y(" ",k(5,18,"CONFIG_PANEL.USER.SEL")," "),p(3),f("emptyFilterMessage",ae(k(8,20,"CONFIG_PANEL.CUSTOMER.NOT_FOUND")))("options",e.customers),Ae("ngModel",e.selectedUserCustomer),f("disabled",e.loadingData)("autoDisplayFirst",!1),p(3),f("emptyFilterMessage",ae(k(11,22,"CONFIG_PANEL.USER.NOT_FOUND")))("options",e.users),Ae("ngModel",e.selectedUser),f("disabled",e.loadingData)("autoDisplayFirst",!1),p(3),f("label",ae(k(14,24,"CONFIG_PANEL.CUSTOMER.NEW")))("disabled",e.loadingData),p(2),H(e.formModelUser?15:-1),p(),H(e.formModelUser?-1:16)}}function jQe(i,n){if(i&1){let e=B();_(0,"p-button",66),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onResetPassword())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"CONFIG_PANEL.USER.BUTTONS.RESET_PASS")))("disabled",e.loadingData||e.formModelResetPassword.invalid)}}function GQe(i,n){if(i&1){let e=B();N(0,"span",67),_(1,"p-button",70),D(2,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancelResetPassword())}),b()}if(i&2){let e=h(3);p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",e.loadingData)}}function HQe(i,n){if(i&1){let e=B();_(0,"div",13)(1,"div",38)(2,"h5",39),R(3),D(4,"translate"),b()(),_(5,"div",56)(6,"div",49)(7,"label",84),R(8),D(9,"translate"),b(),N(10,"input",94),b()(),_(11,"div",56)(12,"form",95),A("keyup.enter",function(o){w(e);let r=h(2);return C(r.checkUserPasswordForm(o))}),_(13,"fieldset",46)(14,"div",49)(15,"label",96),R(16),D(17,"translate"),b(),N(18,"input",97,9),D(20,"translate"),D(21,"translate"),D(22,"translate"),D(23,"translate"),_(24,"p-button",98),A("mousedown",function(){w(e);let o=h(2);return C(o.displayUserPassword=!0)})("mouseup",function(){w(e);let o=h(2);return C(o.displayUserPassword=!1)})("mouseout",function(){w(e);let o=h(2);return C(o.displayUserPassword=!1)}),b()()()()(),_(25,"div",14)(26,"div",65),N(27,"p-progressSpinner"),b(),G(28,jQe,2,5,"p-button",99),G(29,GQe,3,5),b()()}if(i&2){let e=h(2);p(3),Y(" ",k(4,16,"CONFIG_PANEL.PASSWORD_RESET.TITLE")," "),p(5),Q(k(9,18,"CONFIG_PANEL.USER.FIELDS.USERNAME")),p(2),f("value",e.loggedUser.username),p(2),f("formGroup",e.formModelResetPassword),p(),f("disabled",e.loadingData),p(3),Q(k(17,20,"CONFIG_PANEL.USER.FIELDS.PASSWORD")),p(2),f("showPassword",e.displayUserPassword)("promptLabel",k(20,22,"GLOBALS.MSG_PASSWORD.PASS"))("weakLabel",k(21,24,"GLOBALS.MSG_PASSWORD.WEAK"))("mediumLabel",k(22,26,"GLOBALS.MSG_PASSWORD.NORMAL"))("strongLabel",k(23,28,"GLOBALS.MSG_PASSWORD.SAFE")),p(8),f("ngStyle",de(30,qd,e.loadingData?"visible":"hidden")),p(),De(Pe(32,b3)),p(),H(e.loggedUser?28:-1),p(),H(e.formModelResetPassword&&(e.formModelResetPassword!=null&&e.formModelResetPassword.dirty)?29:-1)}}function zQe(i,n){if(i&1&&(we(0),G(1,HQe,30,33,"div",13),Ce()),i&2){let e=h();p(),H(e.loggedUser?1:-1)}}function WQe(i,n){if(i&1){let e=B();we(0),_(1,"div",13)(2,"div",100)(3,"h5",101),R(4),D(5,"translate"),b(),_(6,"div",102)(7,"p"),R(8),D(9,"translate"),b()(),_(10,"div",49)(11,"label",103),R(12),D(13,"translate"),b(),_(14,"p-selectButton",104),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.TFAMode,o)||(r.TFAMode=o),C(o)}),A("onChange",function(){w(e);let o=h();return C(o.change2FA())}),b()()()(),Ce()}if(i&2){let e=h();p(4),Y(" ",k(5,5,"CONFIG_PANEL.CUSTOM.TFA")," "),p(4),Q(k(9,7,"TFA.DESCRIPTION")),p(4),Y(" ",k(13,9,"CONFIG_PANEL.CUSTOM.TFA"),": "),p(2),f("options",e.TFAOptions),Ae("ngModel",e.TFAMode)}}function $Qe(i,n){i&1&&(_(0,"div",113)(1,"label",131),R(2),D(3,"translate"),b(),N(4,"p-datepicker",132),b()),i&2&&(p(2),Y(" ",k(3,2,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.1")," "),p(2),f("timeOnly",!0))}function KQe(i,n){i&1&&N(0,"input",133)}function qQe(i,n){i&1&&N(0,"input",134)}function JQe(i,n){if(i&1){let e=B();_(0,"div",40)(1,"label"),R(2),D(3,"translate"),b(),G(4,KQe,1,0,"input",133),G(5,qQe,1,0,"input",134),_(6,"p-select",135),A("onChange",function(){w(e);let o=h(5);return C(o.onChangeBackupTimeOptions())}),b()()}if(i&2){let e=h(5);p(2),Y(" ",k(3,4,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.1"),"\xA0 "),p(2),H((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==60?4:-1),p(),H((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupTimeOption").value)==1?5:-1),p(),f("options",e.backupTimeOptions)}}function QQe(i,n){if(i&1){let e=B();_(0,"div",111)(1,"form",44)(2,"fieldset",112)(3,"div",113)(4,"h5",39),R(5),D(6,"translate"),b()(),_(7,"div",114)(8,"p-button",115),D(9,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onDoBackup())}),b()(),_(10,"div",113)(11,"h5",39),R(12),D(13,"translate"),b()(),_(14,"div",116)(15,"label"),R(16),D(17,"translate"),b(),N(18,"p-selectButton",117),R(19," \xA0 "),_(20,"p",52),R(21),D(22,"translate"),b()(),_(23,"div",118),N(24,"p-radiobutton",119),_(25,"label",120),R(26),D(27,"translate"),b()(),G(28,$Qe,5,4,"div",113),_(29,"div",118),N(30,"p-radiobutton",121),_(31,"label",122),R(32),D(33,"translate"),b()(),G(34,JQe,7,6,"div",40),_(35,"div",113)(36,"h6",84),R(37),D(38,"translate"),b()(),_(39,"div",123)(40,"p-checkbox",124),A("onChange",function(){w(e);let o=h(4);return C(o.onChangeBackupOptions())}),b(),_(41,"label",125),R(42),D(43,"translate"),b()(),_(44,"div",126),N(45,"input",127),b(),_(46,"div",123)(47,"p-checkbox",128),A("onChange",function(){w(e);let o=h(4);return C(o.onChangeBackupOptions())}),b(),_(48,"label",125),R(49),D(50,"translate"),b()(),_(51,"div",126),N(52,"input",129),b(),_(53,"div",130)(54,"p-button",66),D(55,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onSaveBackupOptions())}),b()()()()()}if(i&2){let e=h(4);p(),f("formGroup",e.formModelBackupOptions),p(),f("disabled",e.loadingData),p(3),Y(" ",k(6,29,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_INST")," "),p(3),f("label",ae(k(9,31,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.BTN_BACKUP")))("disabled",e.loadingData),p(4),Y(" ",k(13,33,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN")," "),p(4),Y(" ",k(17,35,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_DAYS"),"\xA0\xA0 "),p(2),f("options",e.backupDays),p(2),f("ngStyle",de(51,qd,e.formModelBackupOptions.get("backupDays").valid||e.formModelBackupOptions.get("backupDays").pristine?"hidden":"visible")),p(),Y(" ",k(22,37,"CONFIG_PANEL.BACKUP_RESTORE.ERRORS.FIELD_DAYS")," "),p(3),f("value",e.EnumBackupOptions.BACKUP_FIXED_TIME),p(2),Y(" ",k(27,39,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_FIXED.0")," "),p(2),H((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_FIXED_TIME?28:-1),p(2),f("value",e.EnumBackupOptions.BACKUP_INTERVAL_TIME),p(2),Y(" ",k(33,41,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_INTERVAL.0")," "),p(2),H((e.formModelBackupOptions==null?null:e.formModelBackupOptions.get("backupType").value)==e.EnumBackupOptions.BACKUP_INTERVAL_TIME?34:-1),p(3),Y(" ",k(38,43,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.TITLE_PLAN_OPTIONS")," "),p(3),f("value",ae(e.EnumBackupOptions.BACKUP_MAX_COPIES))("formControl",e.formModelBackupOptions.controls.backupOptions),p(2),Q(k(43,45,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.0")),p(5),f("value",ae(e.EnumBackupOptions.BACKUP_MAX_DAYS))("formControl",e.formModelBackupOptions.controls.backupOptions),p(2),Q(k(50,47,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.PLAN_OPTIONS.1")),p(5),f("label",ae(k(55,49,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModelBackupOptions.valid||e.formModelBackupOptions.pristine||e.loadingData)}}function YQe(i,n){i&1&&(_(0,"colgroup"),N(1,"col")(2,"col")(3,"col")(4,"col"),b()),i&2&&(p(),Kt("width","12rem"),p(),Kt("width","8rem"),p(),Kt("width","8rem"))}function XQe(i,n){i&1&&(_(0,"tr")(1,"th"),R(2),D(3,"translate"),b(),_(4,"th"),R(5),D(6,"translate"),b(),_(7,"th"),R(8),D(9,"translate"),b(),_(10,"th"),R(11),D(12,"translate"),b()()),i&2&&(p(2),Y(" ",k(3,4,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.0")," "),p(3),Y(" ",k(6,6,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.1")," "),p(3),Y(" ",k(9,8,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.3")," "),p(3),Y(" ",k(12,10,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TABLE_HEADER.4")," "))}function ZQe(i,n){i&1&&(_(0,"span"),N(1,"i",143),b())}function eYe(i,n){if(i&1&&(_(0,"tr",142)(1,"td"),R(2),D(3,"date"),b(),_(4,"td"),R(5),b(),_(6,"td",29),G(7,ZQe,2,0,"span"),b(),_(8,"td"),R(9),b()()),i&2){let e=n.$implicit;f("pSelectableRow",e),p(2),Y(" ",vi(3,5,e.date,"dd/MM/yyyy HH:mm:ss")," "),p(3),Y(" ",e.version," "),p(2),H(e.imported?7:-1),p(2),Y(" ",e.comment," ")}}function tYe(i,n){if(i&1){let e=B();_(0,"div",140)(1,"p-button",144),D(2,"translate"),A("onClick",function(){w(e);let o=h(5);return C(o.onRestoreOrDeleteBackup(!0))}),b(),_(3,"p-button",145),D(4,"translate"),A("onClick",function(){w(e);let o=h(5);return C(o.onRestoreOrDeleteBackup())}),b(),_(5,"p-button",146),D(6,"translate"),A("onClick",function(){w(e);let o=h(5);return C(o.onExportBackup())}),b()()}if(i&2){let e=h(5);p(),f("label",ae(k(2,9,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.DELETE_BACKUP")))("disabled",!e.selectedBackup||e.loadingData),p(2),f("label",ae(k(4,11,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_BACKUP")))("disabled",!e.selectedBackup||e.loadingData),p(2),f("label",ae(k(6,13,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.EXPORT_BACKUP")))("disabled",!e.selectedBackup||e.loadingData)}}function iYe(i,n){if(i&1&&(_(0,"div",141),N(1,"sts-fwc-message",93),b()),i&2){let e=h(5);p(),f("message",e.backupErrorMessage)}}function nYe(i,n){if(i&1){let e=B();_(0,"div",111)(1,"form",44)(2,"fieldset",112)(3,"div",14)(4,"h5",39),R(5),D(6,"translate"),b()(),_(7,"div",113)(8,"p-table",136),D(9,"fwcSortBy"),ke("selectionChange",function(o){w(e);let r=h(4);return Ne(r.selectedBackup,o)||(r.selectedBackup=o),C(o)}),E(10,YQe,5,6,"ng-template",null,10,ie)(12,XQe,13,12,"ng-template",null,1,ie)(14,eYe,10,8,"ng-template",null,11,ie),b(),_(16,"div",137)(17,"div",138)(18,"p-button",139),D(19,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onImportBackup())}),b()(),G(20,tYe,7,15,"div",140),b()(),G(21,iYe,2,1,"div",141),b()()()}if(i&2){let e=h(4);p(),f("formGroup",e.formModelBackupOptions),p(),f("disabled",e.loadingData),p(3),Y(" ",k(6,11,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.TITLE")," "),p(3),f("value",Zs(9,13,e.backups,"desc","date")),Ae("selection",e.selectedBackup),f("scrollable",!0),p(10),f("label",ae(k(19,17,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.IMPORT_BACKUP")))("disabled",e.loadingData),p(2),H(e.backups!=null&&e.backups.length?20:-1),p(),H(e.backups!=null&&e.backups.length?-1:21)}}function oYe(i,n){if(i&1){let e=B();_(0,"div",105)(1,"div",106)(2,"button",107),A("click",function(){w(e);let o=h(3);return C(o.backupActiveTab="backupTab")}),N(3,"i",22),R(4),D(5,"translate"),b(),_(6,"button",108),A("click",function(){w(e);let o=h(3);return o.backupActiveTab="restoreTab",C(o.onBackupTabChange("restoreTab"))}),N(7,"i",109),R(8),D(9,"translate"),b()(),E(10,QQe,56,53,"div",110)(11,nYe,22,19,"div",110),b()}if(i&2){let e=h(3);p(2),f("ngClass",e.backupActiveTab==="backupTab"?"bg-[#0074c7] text-white font-semibold":"bg-(--surfaceBackgroundColor) text-(--fwcDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(2),Y(" ",k(5,6,"CONFIG_PANEL.BACKUP_RESTORE.BACKUP.HEADER")," "),p(2),f("ngClass",e.backupActiveTab==="restoreTab"?"bg-[#0074c7] text-white font-semibold":"bg-(--surfaceBackgroundColor) text-(--fwcDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(2),Y(" ",k(9,8,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.HEADER")," "),p(2),f("ngIf",e.backupActiveTab==="backupTab"),p(),f("ngIf",e.backupActiveTab==="restoreTab")}}function rYe(i,n){if(i&1&&G(0,oYe,12,10,"div",105),i&2){let e=h(2);H(e.formModelBackupOptions?0:-1)}}function sYe(i,n){if(i&1&&(we(0),G(1,rYe,1,1),Ce()),i&2){let e=h();p(),H(e.loggedUser?1:-1)}}function aYe(i,n){if(i&1){let e=B();_(0,"form",44)(1,"fieldset",147)(2,"div",14)(3,"div",100)(4,"h5",39),R(5),D(6,"translate"),b()(),_(7,"div",148)(8,"p-button",149),D(9,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.doHistoric())}),b()()(),_(10,"div",14)(11,"div",38)(12,"div",49)(13,"label",150),R(14),D(15,"translate"),b(),R(16,"\xA0 "),N(17,"input",151),R(18,"\xA0 "),N(19,"p-select",152),b()(),_(20,"div",38)(21,"div",49)(22,"label",153),R(23),D(24,"translate"),b(),R(25,"\xA0 "),N(26,"input",154),R(27,"\xA0 "),N(28,"p-select",155),b()(),_(29,"div",156)(30,"p-button",66),D(31,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onSaveHistoricOptions())}),b()()()()()}if(i&2){let e=h(2);f("formGroup",e.formModelHistoric),p(),f("disabled",e.loadingData),p(4),Q(k(6,15,"OPENVPN_HISTORIC.HEADER")),p(3),f("label",ae(k(9,17,"OPENVPN_HISTORIC.BUTTON")))("disabled",e.loadingData),p(6),Q(k(15,19,"OPENVPN_HISTORIC.DATA_BASE")),p(5),f("options",e.historicIntervalOptions)("appendTo","body"),p(4),Q(k(24,21,"OPENVPN_HISTORIC.DISK")),p(5),f("options",e.historicIntervalOptions)("appendTo","body"),p(2),f("label",ae(k(31,23,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",e.loadingData||e.formModelHistoric.pristine)}}function lYe(i,n){if(i&1&&(we(0),G(1,aYe,32,25,"form",44),Ce()),i&2){let e=h();p(),H(e.loggedUser?1:-1)}}function cYe(i,n){if(i&1){let e=B();we(0,157),_(1,"div",158)(2,"h5",39),R(3),D(4,"translate"),b()(),_(5,"div",158)(6,"p-checkbox",159),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.formEnabled,o)||(r.formEnabled=o),C(o)}),A("onChange",function(){w(e);let o=h();return C(o.toggleFormState())}),b(),_(7,"label",160),R(8),D(9,"translate"),b()(),_(10,"form",44)(11,"div",14)(12,"div",49)(13,"label"),R(14),D(15,"translate"),b(),_(16,"p-select",161),A("onChange",function(o){w(e);let r=h();return C(r.onChangeAI(o))}),b()()(),_(17,"div",14)(18,"div",49)(19,"label"),R(20),D(21,"translate"),b(),_(22,"p-select",162),A("onChange",function(o){w(e);let r=h();return C(r.onChangeModel(o))}),b()()(),_(23,"div",14)(24,"div",163)(25,"label"),R(26),D(27,"translate"),b(),N(28,"p-password",164),_(29,"p-button",165),D(30,"translate"),A("onClick",function(){w(e);let o=h();return C(o.saveApiKey())}),b()()()(),Ce()}if(i&2){let e=h();p(3),Y(" ",k(4,18,"CONFIG_PANEL.AI.TITLE")," "),p(3),Ae("ngModel",e.formEnabled),p(2),Y("\u2002",k(9,20,"CONFIG_PANEL.AI.ENABLE_FORM")),p(2),f("formGroup",e.formModelAIAssistant),p(4),Q(k(15,22,"CONFIG_PANEL.AI.AI_TYPE")),p(2),f("options",e.ai_types)("disabled",!e.formEnabled||e.loadingData),p(4),Q(k(21,24,"CONFIG_PANEL.AI.MODELS")),p(2),f("options",e.gptModels)("appendTo","body")("disabled",!e.formEnabled||e.loadingData),p(4),Q(k(27,26,"CONFIG_PANEL.AI.AI_APIKEY")),p(2),f("toggleMask",!0)("feedback",!1)("disabled",!e.formEnabled||e.loadingData),p(),f("label",ae(k(30,28,"CONFIG_PANEL.AI.SAVE_APIKEY")))("disabled",!e.formModelAIAssistant.dirty||e.loadingData)}}function dYe(i,n){if(i&1){let e=B();we(0),_(1,"div",13)(2,"div",38)(3,"h5",39),R(4),D(5,"translate"),b()(),_(6,"div",14)(7,"div",49)(8,"label",166),R(9),D(10,"translate"),b(),_(11,"p-selectButton",167),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.darkMode,o)||(r.darkMode=o),C(o)}),A("onChange",function(){w(e);let o=h();return C(o.changeTheme())}),b()()()(),Ce()}if(i&2){let e=h();p(4),Y(" ",k(5,4,"CONFIG_PANEL.CUSTOM.UI_HEADER")," "),p(5),Y(" ",k(10,6,"CONFIG_PANEL.CUSTOM.THEME_CHANGE"),": "),p(2),f("options",e.themeOptions),Ae("ngModel",e.darkMode)}}function pYe(i,n){if(i&1){let e=B();_(0,"p-button",168),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}function uYe(i,n){i&1&&(N(0,"i",169),R(1),D(2,"translate")),i&2&&(p(),Y(" ",k(2,1,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER")," "))}var bhi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F,K,le,me,fe,Te,He){super(r,o,t,a,K,l),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.translate=s,this.cd=a,this.router=l,this.messageService=c,this.fwcCustomerService=d,this.fwcEventService=u,this.fwcCloudService=m,this.fwcUserService=g,this.fwcBackupService=y,this.utilService=v,this.confirmationService=S,this.fwcErrorPipe=I,this.fwcApiService=P,this.fwcAuthService=L,this.inputDataService=F,this.store=K,this.fwcAiAssistantService=le,this.fwcVpnService=me,this.aiAssistantCheckEnabledService=fe,this.primeng=Te,this._document=He,this.UserRoles=Wf,this.activeMenuOption="customers",this.backupActiveTab="backupTab",this.EnumBackupOptions=jl,this.darkMode=!1,this.themeOptions=[{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.LIGHT_THEME"),icon:"pi pi-sun fwcOrange"},{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.DARK_THEME"),icon:"pi pi-moon fwcDarkBlue"}],this.TFAOptions=[{value:!0,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_ENABLED"),icon:"fa fa-user-shield fwcOrange"},{value:!1,label:this.translate.instant("CONFIG_PANEL.CUSTOM.TFA_DISABLED"),icon:"fa fa-user-minus fwcBlue"}],this.openAIapiKey="",this.ai_types=[{version:"ChatGPT",name:"ChatGPT"}],this.gptModels=[{name:"Select a model",version:""},{name:"GPT-5",version:"gpt-5"},{name:"GPT-5 mini",version:"gpt-5-mini"},{name:"GPT-5 nano",version:"gpt-5-nano"},{name:"GPT-4.1",version:"gpt-4.1"},{name:"GPT-4.1 mini",version:"gpt-4.1-mini"},{name:"GPT-4.1 nano",version:"gpt-4.1-nano"},{name:"GPT-4o",version:"gpt-4o"},{name:"GPT-4o mini",version:"gpt-4o-mini"},{name:"GPT-4 Turbo",version:"gpt-4-turbo"},{name:"O1-preview",version:"o1-preview"},{name:"O1-mini",version:"o1-mini"},{name:"GPT-4",version:"gpt-4"},{name:"GPT-3.5 Turbo",version:"gpt-3.5-turbo"}],this.formEnabled=!1,this.helpSection="/configuration",this.translate.get("CONFIG_PANEL.TITLE").subscribe(Be=>{this.createDialog(Be,"fwci-config")}),this.backupDays=[],this.translate.get("GLOBALS.DAYS_OF_WEEK").subscribe(Be=>{Object.values(Be).forEach((rt,Rt)=>{let xt;Rt==6?xt=0:xt=Rt+1,this.backupDays.push({label:rt,value:xt})})}),this.backupTimeOptions=[],this.translate.get("GLOBALS.HOUR_MINUTES").subscribe(Be=>{this.backupTimeOptions.push({label:Be[0],value:60}),this.backupTimeOptions.push({label:Be[1],value:1})}),this.historicIntervalOptions=[],this.translate.get("VPN.PANEL.DAY_OPTS").subscribe(Be=>{this.historicIntervalOptions=[{label:Be[0],value:"day"},{label:Be[2],value:"month"},{label:Be[1],value:"year"}]}),g.getAuth().subscribe(Be=>{Be.data.enabled&&Be.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})}ngOnInit(){this.store.pipe(Cn(Ss),Nt(()=>this.alive)).subscribe(t=>{this.darkMode=t==="dark"}),this.userRoles=[{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.0"),value:Wf.ROLE_ADMINISTRATOR},{label:this.translate.instant("CONFIG_PANEL.CUSTOMER.ROLES.1"),value:Wf.ROLE_MANAGER}],this.createHistoricForm(),this.selectedAI={name:this.ai_types[0].name},this.selectedModel=this.gptModels[0],this.createGPTAssistantForm()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){}updateAndShow(){return V(this,null,function*(){this.resetProperties(),yield this.getLoggedUser().then(t=>{this.loggedUser=t.data,this.createResetPasswordForm(),this.formModelResetPassword=new ho({resetpassword:new Ee("",[Me.required,Me.pattern(Mt.passwordRegexp)])})}).catch(t=>{if(t&&t.error&&t.error.fwcErr==1008){this.loggedUser=t.data;let o=this.fwcUserService.getActualFwcUser();this.loggedUser.name="",this.loggedUser.customer=o.customer_id,this.loggedUser.id=o.user_id,this.loggedUser.username=o.user_name,this.loggedUser.enabled=1,this.loggedUser.role=Wf.ROLE_MANAGER,this.createResetPasswordForm(),this.activeMenuOption="resetpass",this.cd.detectChanges()}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("CONFIG_PANEL.USER.ERRORS.GET_USER_ERROR"),detail:this.fwcErrorPipe.transform(t)}),this.loggedUser=null}),this.loggedUser&&this.loggedUser.role==Wf.ROLE_ADMINISTRATOR&&(yield Promise.all([this.getCustomers(),this.getClouds(),this.getBackups(),this.getBackupConfig()]).then(a=>V(this,[a],function*([t,o,r,s]){Array.isArray(o.data)?this.fwclouds=o.data:this.fwclouds=null,t&&Array.isArray(t.data)&&(this.customers=t.data,this.selectedCustomer=this.customers[0],yield this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,yield this.loadUsers(this.selectedUserCustomer)),this.backups=[],Array.isArray(r.data)&&r.data.length?this.backups=r.data:this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")},this.createBackupOptionsForm(s.data)})).catch(t=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(t)}),this.formModelCustomer=null,this.formModelBackupOptions=null,this.fwclouds=null})),this.store.dispatch(qi.requestUnblockUI()),this.recenterDialog(),this.showDialog()})}resetProperties(){this.customers=this.customer=null,this.users=this.user=null,this.selectedCustomer=this.selectedUser=this.selectedUserCustomer=null,this.selectedFwcloudsChanged=!1,this.activeMenuOption="customers",this.backupActiveTab="backupTab",this.errorMessage=null,this.backupErrorMessage=null}getCustomers(){return new Promise((t,o)=>{this.fwcCustomerService.getCustomers().subscribe({next:r=>{t(r)},error:r=>{o(r)},complete:()=>{}})})}getClouds(){return new Promise((t,o)=>{this.fwcCloudService.getClouds().subscribe({next:r=>{t(r)},error:r=>{o(r)},complete:()=>{}})})}trackByFn(t,o){return o.id}getUserClouds(t){return new Promise((o,r)=>{this.fwcUserService.getUserClouds(t).subscribe({next:s=>{s.data&&s.data.length?(this.selectedFwclouds=s.data,this.userFwclouds=this.selectedFwclouds.slice(0)):(this.selectedFwclouds=[],this.userFwclouds=[]),this.selectedFwcloudsChanged=!1,o(s)},error:s=>{r(s)}})})}getLoggedUser(){return V(this,null,function*(){try{let t=this.fwcUserService.getActualFwcUser(),o={customer:t.customer_id,user:t.user_id};return yield Qd(this.fwcUserService.getUser(o))}catch(t){throw t}})}getBackups(){return new Promise((t,o)=>{let r={next:s=>{t(s)},error:s=>{o(s)},complete:()=>{}};this.fwcBackupService.getBackups().subscribe(r)})}getBackupConfig(){return new Promise((t,o)=>{let r={next:s=>{t(s)},error:s=>{o(s)},complete:()=>{}};this.fwcBackupService.getBackupConfig().subscribe(r)})}onChangeOption(t){this.activeMenuOption=t,t==="resetpass"&&this.inputResetPass&&setTimeout(()=>{this.inputResetPass.nativeElement.focus()},100),this.recenterDialog()}createCustomerForm(t){let o=Math.max(...this.customers.map(r=>r.id),0);this.formModelCustomer=new ho({id:new Ee(t?t.id:o+1,Me.required),name:new Ee(t?t.name:"",[Me.required,Me.maxLength(255)]),email:new Ee(t?t.email:"",[Me.email,Me.maxLength(255)]),web:new Ee(t?t.web:"",[Me.pattern(Mt.webAddressRegexp),Me.maxLength(255)]),phone:new Ee(t?t.phone:""),addr:new Ee(t?t.addr:"",[Me.maxLength(255)])})}loadCustomer(t){return new Promise((o,r)=>{let s={customer:t?t.id:-1};this.loadingData=!0;let a={next:l=>{this.createCustomerForm(l.data),this.customer=Object.assign({},l.data),this.loadingData=!1,o(l)},error:l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.formModelCustomer=null,this.loadingData=!1,r(l)},complete:()=>{}};this.fwcCustomerService.getCustomer(s).subscribe(a)})}onChangeCustomer(t){t&&t.value&&this.loadCustomer(t.value)}onNewCustomer(){this.createCustomerForm(),this.selectedCustomer=null,this.inputCustomerId.nativeElement.focus()}onDeleteCustomer(){if(!this.selectedCustomer)return;let t={customer:this.selectedCustomer.id},o={next:r=>{},error:r=>{r.error&&r.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.HAS_USERS",{name:this.selectedCustomer.name}),accept:()=>{}})},complete:()=>{}};this.fwcCustomerService.checkCustomerRestrictions(t).subscribe(o),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.CUSTOMER.CONFIRM_DELETE",{name:this.selectedCustomer.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcCustomerService.deleteCustomer.bind(this.fwcCustomerService),t).then(()=>{let r=this.customers.slice(0),s=r.findIndex(a=>a.id==this.selectedCustomer.id);r.splice(s,1),this.customers=r,this.selectedCustomer=this.customers[0],this.loadCustomer(this.selectedCustomer),this.selectedUserCustomer=this.selectedCustomer,this.loadUsers(this.selectedUserCustomer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.DELETE")})}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(r)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onSaveCustomer(){let t,o,r;r=Object.assign({},this.customer);let s={};for(let a in this.formModelCustomer.controls)s[a]=this.formModelCustomer.controls[a].value!==null&&this.formModelCustomer.controls[a].value!==void 0?this.formModelCustomer.controls[a].value:void 0,r[a]=s[a];this.selectedCustomer?(t=this.fwcCustomerService.updateCustomer.bind(this.fwcCustomerService),o=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.UPDATE")):(t=this.fwcCustomerService.newCustomer.bind(this.fwcCustomerService),o=this.translate.instant("CONFIG_PANEL.CUSTOMER.SUCCESS.NEW")),s.customer=+s.id,delete s.id,this.loadingData=!0,t&&this.utilService.fwcAPICall(t,s).then(a=>{this.customer=r;let l=[];if(this.customers&&(l=this.customers.slice(0)),this.selectedCustomer){let c=l.findIndex(d=>d.id==r.id);c!=-1&&(l[c]=r,this.customers=l)}else{let c={id:r.id,name:r.name};l.push(c),this.customers=l,this.selectedCustomer=c}this.formModelCustomer.reset(this.customer),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.loadingData=!1}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.CUSTOMER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(a)})}),this.loadingData=!1})}onCancelCustomerEdit(){if(!this.selectedCustomer&&this.customer){let t=this.customers.findIndex(o=>o.id==this.customer.id);t!=-1&&(this.selectedCustomer=this.customers[t])}this.createCustomerForm(this.customer)}checkCustomerForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModelCustomer.valid&&(t.target.blur(),this.onSaveCustomer())}createUserForm(t,o){!t&&o?this.formModelUser=null:(this.formModelUser=new ho({customer:new Ee(t?t.customer:this.selectedUserCustomer.id,Me.required),id:new Ee(t?t.id:void 0),name:new Ee(t?t.name:"",[Me.required,Me.maxLength(254)]),username:new Ee(t?t.username:"",[Me.required,Me.maxLength(32)]),role:new Ee(t?t.role:2,Me.required),password:new Ee(t?t.password:"",[Me.required,Me.pattern(Mt.passwordRegexp)]),enabled:new Ee(1)}),t&&this.formModelUser.controls.password.disable())}loadUsers(t){return new Promise((o,r)=>{this.user=null;let s={customer:t?t.id:-1};this.loadingData=!0;let a={next:l=>V(this,null,function*(){l&&Array.isArray(l.data)&&(this.users=l.data,this.users.length?(this.selectedUser=this.users[0],yield this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null,this.errorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.0"),text:this.translate.instant("CONFIG_PANEL.CUSTOMER.NO_USERS.1")}),o(l)),this.loadingData=!1}),error:l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(l)})},this.formModelUser=null,this.loadingData=!1,r(l)},complete:()=>{}};this.fwcUserService.getUser(s).subscribe(a)})}loadUser(t){return new Promise((o,r)=>{let s={customer:t?t.customer:-1,user:t?t.id:-1};this.loadingData=!0;let a={next:l=>V(this,null,function*(){this.createUserForm(l.data),this.user=l.data,yield this.getUserClouds(this.user.id),this.loadingData=!1,o(l)}),error:l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.errorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.USER.ERRORS.API_ERROR",{error:this.fwcErrorPipe.transform(l)})},this.formModelUser=null,this.loadingData=!1,r(l)},complete:()=>{}};this.fwcUserService.getUser(s).subscribe(a)})}allowPasswordReset(){this.formModelUser&&(this.formModelUser.controls.password.setValue(""),this.formModelUser.controls.password.enable(),this.cd.detectChanges())}onChangeUserCustomer(t){t&&t.value&&this.loadUsers(t.value)}onChangeUser(t){t&&t.value&&this.loadUser(t.value)}onNewUser(){this.selectedUser=null,this.fallbackUser=Object.assign({},this.user),Array.isArray(this.userFwclouds)&&(this.fallbackUserFwclouds=this.userFwclouds.slice(0)),this.user=null,this.selectedFwclouds=[],this.userFwclouds=[],this.createUserForm(),this.allowPasswordReset(),setTimeout(()=>{this.inputUserName.nativeElement.focus()},100)}onDeleteUser(){if(!this.selectedUser)return;let t={customer:this.selectedUser.customer,user:this.selectedUser.id},o={next:r=>{},error:r=>{r.error&&r.error.restrictions&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.USER.ERRORS.LAST_ADMIN",{name:this.selectedUser.name}),accept:()=>{}})},complete:()=>{this.askForUserDeletion(t)}};this.fwcUserService.checkUserRestrictions(t).subscribe(o)}askForUserDeletion(t){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CONFIG_PANEL.USER.CONFIRM_DELETE",{name:this.selectedUser.name}),accept:()=>{this.utilService.fwcAPICall(this.fwcUserService.deleteUser.bind(this.fwcUserService),t).then(()=>{let o=this.users.slice(0),r=o.findIndex(s=>s.id===this.selectedUser.id);o.splice(r,1),this.users=o,this.users.length?(this.selectedUser=this.users[0],this.loadUser(this.selectedUser)):(this.selectedUser=null,this.formModelUser=null),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.DELETE")})}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.DELETE_ERROR",{error:this.fwcErrorPipe.transform(o)})})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}onCancelUserEdit(){this.fallbackUser&&(this.user=this.fallbackUser,this.selectedUser=this.user,this.formModelUser.controls.password.disable()),this.createUserForm(this.user,!0),this.fallbackUserFwclouds?(this.userFwclouds=this.fallbackUserFwclouds.slice(0),this.selectedFwclouds=this.fallbackUserFwclouds.slice(0)):Array.isArray(this.userFwclouds)&&(this.selectedFwclouds=this.userFwclouds.slice(0)),this.selectedFwcloudsChanged=!1}onSaveUser(){let t,o,r;r=Object.assign({},this.user);let s={};for(let a in this.formModelUser.controls)s[a]=this.formModelUser.controls[a].value!==null&&this.formModelUser.controls[a].value!==void 0?this.formModelUser.controls[a].value:void 0,r[a]=s[a];s.id?(t=this.fwcUserService.updateUser.bind(this.fwcUserService),s.user=+s.id,delete s.id,o=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.UPDATE")):(t=this.fwcUserService.newUser.bind(this.fwcUserService),o=this.translate.instant("CONFIG_PANEL.USER.SUCCESS.NEW")),this.loadingData=!0,t&&this.utilService.fwcAPICall(t,s).then(a=>V(this,null,function*(){a.data&&a.data.user&&(r.id=a.data.user),this.user=r;let l=[];if(this.users&&(l=this.users.slice(0)),!this.selectedUser)l.push(this.user),this.users=l,this.selectedUser=this.user;else{let c=l.findIndex(d=>d.id==r.id);c!=-1&&(l[c]=r,this.users=l)}this.formModelUser.reset(this.user),yield this.saveUserClouds(this.user.id).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.loadingData=!1}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(c)})}),this.loadingData=!1})})).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.SAVE_ERROR",{error:this.fwcErrorPipe.transform(a)})}),this.loadingData=!1})}onResetPassword(){let t=this.formModelResetPassword.get("resetpassword").value;t.match(Mt.passwordRegexp)&&(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcUserService.updateUserPassword.bind(this.fwcUserService),t).then(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.USER.SUCCESS.RESET_PASS")}),this.formModelResetPassword.reset(),this.loadingData=!1}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CONFIG_PANEL.USER.ERRORS.PASS_RESET_ERROR",{error:this.fwcErrorPipe.transform(o)})}),this.loadingData=!1}))}createResetPasswordForm(){this.formModelResetPassword=new ho({resetpassword:new Ee("",[Me.required,Me.pattern(Mt.passwordRegexp)])})}onCancelResetPassword(){this.formModelResetPassword.reset()}saveUserClouds(t){return V(this,null,function*(){return new Promise((r,s)=>V(this,null,function*(){let a=[],l=[];if(this.userFwclouds&&this.userFwclouds.length){let c;for(let d=0;d<this.userFwclouds.length;d++){let u=this.userFwclouds[d];c=!0,this.selectedFwclouds.find(m=>m.id==u.id)&&(c=!1),c&&l.push(u)}}if(this.selectedFwclouds&&this.selectedFwclouds.length){let c;for(let d=0;d<this.selectedFwclouds.length;d++){let u=this.selectedFwclouds[d];c=!0,this.userFwclouds.find(m=>m.id==u.id)&&(c=!1),c&&a.push(u)}}for(let c=0;c<l.length;c++){let d=l[c];yield this.manageUserCloud(d,t,!1).catch(u=>s(u))}for(let c=0;c<a.length;c++){let d=a[c];yield this.manageUserCloud(d,t,!0).catch(u=>s(u))}this.selectedFwclouds&&(this.userFwclouds=this.selectedFwclouds.slice(0)),this.selectedFwcloudsChanged=!1,r(!0)}))})}manageUserCloud(t,o,r){return new Promise((a,l)=>{let c;r?c=this.fwcUserService.addUserCloud.bind(this.fwcUserService):c=this.fwcUserService.removeUserCloud.bind(this.fwcUserService),this.utilService.fwcAPICall(c,o,t.id).then(d=>{a(d)}).catch(d=>{l(d)})})}checkUserForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModelUser.valid&&(t.target.blur(),this.onSaveUser())}checkUserPasswordForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModelResetPassword.valid&&(t.target.blur(),this.onResetPassword())}createBackupOptionsForm(t){if(t){let o=t.schedule,r=t.max_copies,s=t.max_days,a=this.convertCronToOptions(o),l=[];r&&l.push(jl.BACKUP_MAX_COPIES),s&&l.push(jl.BACKUP_MAX_DAYS),a?this.formModelBackupOptions=new ho({backupType:new Ee(a.backupType),backupOptions:new Ee(l),backupDays:new Ee(a.backupDays,Me.required),backupHour:new Ee(a.backupHour),backupTimeOption:new Ee(a.backupTimeOption),backupEachHourOrMinutes:new Ee(a.backupEachHourOrMinutes,Me.min(1)),backupMaxCopies:new Ee({value:r,disabled:!r}),backupMaxDays:new Ee({value:s,disabled:!s})}):(console.error("Incorrect Cron string:",o),this.formModelBackupOptions=null)}}onChangeBackupOptions(){let t=this.formModelBackupOptions.get("backupOptions").value;t&&t.some(o=>o==jl.BACKUP_MAX_COPIES)?this.formModelBackupOptions.get("backupMaxCopies").enable():(this.formModelBackupOptions.get("backupMaxCopies").disable(),this.formModelBackupOptions.get("backupMaxCopies").setValue(0)),t&&t.some(o=>o==jl.BACKUP_MAX_DAYS)?this.formModelBackupOptions.get("backupMaxDays").enable():(this.formModelBackupOptions.get("backupMaxDays").disable(),this.formModelBackupOptions.get("backupMaxDays").setValue(0))}onChangeBackupTimeOptions(){let t=this.formModelBackupOptions.get("backupTimeOption").value,o=this.formModelBackupOptions.get("backupEachHourOrMinutes");t==60?(o.value>23&&o.setValue(23),o.setValidators([Me.min(1),Me.max(23)])):t==1&&(o.value>59&&o.setValue(59),o.setValidators([Me.min(1),Me.max(59)]))}convertOptionsToCron(){let t=["0","*","*","*","*","*"];switch(this.formModelBackupOptions.get("backupType").value){case jl.BACKUP_FIXED_TIME:let r=this.formModelBackupOptions.get("backupHour").value;r&&(t[1]=r.getMinutes().toString(),t[2]=r.getHours().toString());break;case jl.BACKUP_INTERVAL_TIME:let s=this.formModelBackupOptions.get("backupTimeOption").value,a=this.formModelBackupOptions.get("backupEachHourOrMinutes").value;s==60?(t[1]="0",t[2]=a?"*/"+a.toString():"*"):s==1&&(t[1]=a?"*/"+a.toString():"*",t[2]="*");break}let o=this.formModelBackupOptions.get("backupDays").value;return o&&o.length<7&&(o.sort((r,s)=>r-s),t[5]=o.join(",")),t.join(" ")}convertCronToOptions(t){let o={};if(t){let r=t.split(" ");if(r.length==6){let s,a,l=r[1],c=r[2],d=r[5];if(s=l.match(/^\*\/(\d+)$/),a=c.match(/^\*\/(\d+)$/),o.backupTimeOption=60,l!==void 0&&c!==void 0&&l.match(/^\d+$/)&&c.match(/^\d+$/))o.backupHour=new Date,o.backupHour.setHours(+c),o.backupHour.setMinutes(+l),o.backupType=jl.BACKUP_FIXED_TIME;else if(s&&c==="*")o.backupEachHourOrMinutes=s[1],o.backupType=jl.BACKUP_INTERVAL_TIME,o.backupTimeOption=1;else if(a&&l==="0")o.backupEachHourOrMinutes=a[1],o.backupType=jl.BACKUP_INTERVAL_TIME,o.backupTimeOption=60;else return;d=="*"?o.backupDays=[0,1,2,3,4,5,6]:o.backupDays=d.split(",").map(u=>+u)}else return}return o}onSaveBackupOptions(){let t=this.formModelBackupOptions.get("backupMaxCopies").value,o=this.formModelBackupOptions.get("backupMaxDays").value,r={schedule:this.convertOptionsToCron(),max_copies:t|0,max_days:o|0};this.loadingData=!0,this.formModelBackupOptions.disable(),this.utilService.fwcAPICall(this.fwcBackupService.saveBackupConfig.bind(this.fwcBackupService),r).then(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.SAVE_CONFIG")}),this.formModelBackupOptions.markAsPristine(),this.loadingData=!1,this.formModelBackupOptions.enable()}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.SAVE_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()})}onDoBackup(){let t={header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HEADER"),helpText:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.BACKUP.COMMENT_HELPTEXT"),formControls:[{name:"backupComment",label:this.translate.instant("ITEM_PANEL.FIELDS.COMMENTS"),type:"text",required:!0}],onAccept:o=>{if(o){this.loadingData=!0,this.formModelBackupOptions.disable();let r=lr(),s={comment:o.backupComment},a={channelId:r,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.0"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.DOING_BACKUP.1"),apiCall:this.fwcBackupService.doBackup.bind(this.fwcBackupService),apiParams:[r,s],onClose:d=>{d&&!d.error?this.getBackups().then(u=>{this.selectedBackup=null,Array.isArray(u.data)&&u.data.length&&(this.backups=u.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DO_BACKUP")})}).catch(u=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.BACKUP_ERROR")}),this.loadingData=!1,this.formModelBackupOptions.enable()}},l=this.utilService.createDynamicComponentRef(Pr),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:a}),this.communicationSubscription.unsubscribe()}),c.checkConnection()}}};this.inputDataService.setInputData(t)}onImportBackup(){let t={title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_HEADER"),summary:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_TEXT"),url:`${Ie.settings.fwcAppURL}/backups/import`,onUploadCompleted:this.onUploadCompleted.bind(this),onUploadError:this.onUploadError.bind(this),uploadOptions:{acceptPattern:".zip",maxFileSize:1024e5,buttonChoose:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.CHOOSE_FILE"),buttonUpload:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_FILE")}},o=this.utilService.createDynamicComponentRef(tee),r=o.instance;r.setDynamicComponentRef(o),r.showFUDialog(t)}onUploadCompleted(t){this.getBackups().then(o=>{this.selectedBackup=null,Array.isArray(o.data)&&o.data.length&&(this.backups=o.data),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.SUCCESS")})}).catch(o=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")}})}onUploadError(t){this.confirmationService.confirm({icon:"fa fa-exclamation-circle fwcRed iconBig",header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.SUMMARY"),message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.IMPORT.UPLOAD_ERROR.DETAIL"),accept:()=>{},acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),rejectVisible:!1})}onExportBackup(){if(this.selectedBackup){let t={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TITLE"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.IMPORT_EXPORT.EXPORT.TEXT"),apiCall:this.fwcBackupService.exportBackup.bind(this.fwcBackupService),apiParams:[this.selectedBackup.id],onClose:o=>{}};this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:t})}}onRestoreOrDeleteBackup(t){if(this.selectedBackup){let o,r,s;t?(o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_DELETE",{date:new Date(this.selectedBackup.date).toLocaleString()}),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.DELETE_BACKUP"),s=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.DELETE_ERROR")):(o=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.ASK_RESTORE",{date:new Date(this.selectedBackup.date).toLocaleString()}),r=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.SUCCESS.RESTORE_BACKUP"),s=this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.RESTORE_ERROR")),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:o,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{if(this.loadingData=!0,t)this.utilService.fwcAPICall(this.fwcBackupService.deleteBackup.bind(this.fwcBackupService),this.selectedBackup.id).then(a=>{this.backups=this.backups.filter(l=>l.id!=this.selectedBackup.id),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:r}),this.backups.length||(this.backupErrorMessage={type:"warning",title:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.0"),text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.WARNING_NO_BACKUPS.1")}),this.loadingData=!1},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:s}),this.loadingData=!1});else{let a=lr(),l={channelId:a,headerIcon:"fa fa-3x fa-undo fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.HEADER"),textMessage:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT"),apiCall:this.fwcBackupService.restoreBackup.bind(this.fwcBackupService),apiParams:[a,this.selectedBackup.id],onClose:u=>{u&&!u.error?(this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:r}),this.confirmationService.confirm({header:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.0"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.INFO.RESTORE_WARNING.1"),accept:()=>{this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(),this.router.navigate(["user","login"])})}})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:s}),this.loadingData=!1}},c=this.utilService.createDynamicComponentRef(Pr),d=c.instance;d.setDynamicComponentRef(c),this.communicationSubscription=d.socketEventEmitter.subscribe(u=>{u=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:l}),this.communicationSubscription.unsubscribe()}),d.checkConnection()}}})}}onBackupTabChange(t){this.backupActiveTab=t,t==="restoreTab"&&(this.loadingData=!0,this.getBackups().then(o=>{this.selectedBackup=null,Array.isArray(o.data)&&o.data.length&&(this.backups=o.data),this.loadingData=!1}).catch(o=>{this.backups=[],this.backupErrorMessage={type:"error",title:"Error",text:this.translate.instant("CONFIG_PANEL.BACKUP_RESTORE.ERRORS.READ_ERROR")},this.loadingData=!1})),this.recenterDialog()}changeTheme(){document.documentElement.classList.contains("dark")?(this.store.dispatch(qi.setTheme({theme:"light"})),document.documentElement.classList.remove("dark")):(this.store.dispatch(qi.setTheme({theme:"dark"})),document.documentElement.classList.add("dark"))}change2FA(){this.TFAMode?this.fwcUserService.getAuth().subscribe(t=>{let o=this.utilService.createDynamicComponentRef(nee),r=o.instance;r.setDynamicComponentRef(o),t.data.enabled?r.show(t.data.tfa):this.utilService.fwcAPICall(this.fwcUserService.setupAuth.bind(this.fwcUserService),this.loggedUser).then(s=>{this.fwcUserService.getAuth().subscribe(a=>{r.show(a.data.tfa)})}),r.onChange().pipe(Nt(()=>this.alive)).subscribe(()=>{this.fwcUserService.getAuth().subscribe(s=>{s.data.enabled&&s.data.tfa.secret?this.TFAMode=!0:this.TFAMode=!1})})}):(this.fwcUserService.getAuth().subscribe(t=>{this.utilService.fwcAPICall(this.fwcUserService.deleteAuth.bind(this.fwcUserService)).then(()=>{t.data.enabled&&t.data.tfa.secret&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("TFA.HEADER"),detail:this.translate.instant("TFA.DISABLED")})})}),this.TFAMode=!1)}createGPTAssistantForm(){return V(this,null,function*(){this.formModelAIAssistant=new ol({selectedAI:new ys(this.ai_types[0]),openAIapiKey:new ys(""),model:new ys(this.selectedModel.name)});try{let t=yield this.utilService.fwcAPICall(this.fwcAiAssistantService.getAiAssistantApikey.bind(this.fwcAiAssistantService));if(t.data.length==0)this.formEnabled=!1,this.formModelAIAssistant.disable();else{this.formEnabled=!0;let o=t.data[0],r=this.ai_types.find(c=>c.name===o.ai),s=this.gptModels.find(c=>c.version===o.model),a=this.fwcUserService.getActualFwcUser().privateKey,l=yield this.utilService.openPGPDecrypt(o.apiKey,a);this.formModelAIAssistant.patchValue({selectedAI:r,openAIapiKey:l,model:s}),this.formModelAIAssistant.get("openAIapiKey").enable(),this.formModelAIAssistant.get("model").enable(),this.formModelAIAssistant.get("selectedAI").enable()}}catch{this.formEnabled=!1,this.formModelAIAssistant.disable()}})}onChangeAI(t){}onChangeModel(t){t&&t.value&&(this.selectedModel=this.gptModels.find(o=>o.name===t.value.name),this.selectedModel&&this.formModelAIAssistant.controls.model.setValue(this.selectedModel))}saveApiKey(){this.loadingData=!0;let t=this.formModelAIAssistant.get("openAIapiKey").value,o=this.formModelAIAssistant.get("model").value,r=this.formModelAIAssistant.get("selectedAI").value;if(!t){this.messageService.add({key:"fwcToastMsgs",severity:"warn",summary:"Warning",detail:"API Key cannot be empty"}),this.loadingData=!1;return}let s=this.fwcUserService.getActualFwcUser().publicKey;this.utilService.openPGPEncrypt(t,s).then(a=>{let l={apiKey:a,model:o.version,ai:r.name};this.utilService.fwcAPICall(this.fwcAiAssistantService.saveAiAssistantApikey.bind(this.fwcAiAssistantService),l).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:"Success",detail:"API Key saved successfully"}),this.loadingData=!1}).catch(c=>{JSON.parse(c.error).data.error==="Invalid OpenAI API Key."?(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:"Invalid API Key"}),console.error(c),this.loadingData=!1):(this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:"Failed to save API Key"}),console.error(c),this.loadingData=!1)})}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:"Failed to encrypt API Key"}),console.error(a),this.loadingData=!1})}toggleFormState(){this.formEnabled?(this.formEnabled=!0,this.aiAssistantCheckEnabledService.setaiAssistantCheckEnabled(!0),this.formModelAIAssistant.enable(),this.formModelAIAssistant.get("model").setValue(this.gptModels[1])):this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),message:this.translate.instant("CONFIG_PANEL.AI.DELETE_CONFIRM"),icon:"fwcRed fa fa-exclamation-triangle iconBig",acceptLabel:"Ok",rejectLabel:"No",accept:()=>{this.formEnabled=!1,this.aiAssistantCheckEnabledService.setaiAssistantCheckEnabled(!1),this.formModelAIAssistant.get("openAIapiKey").setValue(""),this.formModelAIAssistant.get("model").setValue(""),this.utilService.fwcAPICall(this.fwcAiAssistantService.deleteAiAssistantApikey.bind(this.fwcAiAssistantService))},reject:()=>{this.formEnabled=!0,this.aiAssistantCheckEnabledService.setaiAssistantCheckEnabled(!0)}})}createHistoricForm(){let t,o,r,s;this.formModelHistoric=new ho({archive_days:new Ee(0),retention_days:new Ee(0),archive_interval:new Ee("day"),retention_interval:new Ee("day")}),this.fwcVpnService.getHistoricConfig().subscribe(a=>{t=a.data.archive_days,o=a.data.retention_days,t%365==0?(t=t/365,r="year"):t%31==0?(t=t/31,r="month"):r="day",o%365==0?(o=o/365,s="year"):o%31==0?(o=o/31,s="month"):s="day",this.formModelHistoric.controls.archive_days.setValue(t),this.formModelHistoric.controls.retention_days.setValue(o),this.formModelHistoric.controls.retention_interval.setValue(s),this.formModelHistoric.controls.archive_interval.setValue(r)})}doHistoric(){this.loadingData=!0,this.formModelHistoric.disable();let t=lr();this.onSaveHistoricOptions().then(o=>V(this,null,function*(){if(o||this.formModelHistoric.pristine){let r={channelId:t,headerIcon:"fa fa-3x fa fa-book-bookmark fwcBlue",textHeader:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.0"),textMessage:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.INFO.DOING_ARCHIVER.1"),apiCall:this.fwcVpnService.doHistoric.bind(this.fwcVpnService),apiParams:[t],onClose:l=>{this.loadingData=!1,l&&!l.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.DO_ARCHIVER")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.ARCHIVER_LOCK_ERROR")}),this.formModelHistoric.enable()}},s=this.utilService.createDynamicComponentRef(Pr),a=s.instance;a.setDynamicComponentRef(s),this.communicationSubscription=a.socketEventEmitter.subscribe(l=>{l=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:r}),this.communicationSubscription.unsubscribe()}),a.checkConnection()}else this.loadingData=!1,this.formModelHistoric.enable()})),this.loadingData=!1}onSaveHistoricOptions(){if(!this.formModelHistoric.pristine){let t=this.formModelHistoric.get("archive_days").value,o=this.formModelHistoric.get("retention_days").value,r=this.formModelHistoric.get("archive_interval").value,s=this.formModelHistoric.get("retention_interval").value;switch(r){case"month":t=t*31;break;case"year":t=t*365;break}switch(s){case"month":o=o*31;break;case"year":o=o*365;break}if(o<t)return this.confirmationService.confirm({header:this.translate.instant("OPENVPN_HISTORIC.HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",message:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.ERRORS.DAYS_ERRORS"),rejectVisible:!1,accept:()=>{}}),new Promise(a=>a(null));{this.loadingData=!0;let a={archive_days:t,retention_days:o},l=this.utilService.fwcAPICall(this.fwcVpnService.saveHistoricConfig.bind(this.fwcVpnService),a);return l.then(c=>{this.loadingData=!1,this.formModelHistoric.enable(),this.formModelHistoric.markAsPristine(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("CONFIG_PANEL.OPENVPN_STATUS_ARCHIVER.SUCCESS.SAVE_CONFIG")})}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(c)}),this.loadingData=!1,this.formModelHistoric.enable()}),l}}return new Promise(t=>t(null))}onCancel(){this.hideDialog()}onShowDialog(){}onHideDialog(){this.eventsSubscription&&this.eventsSubscription.unsubscribe()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x($e),x(We),x(at),x(ii),x(OE),x(dn),x(Ba),x(dt),x(ZI),x(Tt),x(ti),x(Ni),x($i),x(Ma),x(Oo),x(tt),x(Xu),x(co),x(IH),x(Gg),x(Ci))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-config-panel"]],viewQuery:function(o,r){if(o&1&&(_e(fQe,5),_e(mQe,5),_e(gQe,5),_e(_Qe,5),_e(bQe,5)),o&2){let s;W(s=$())&&(r.inputCustomerId=s.first),W(s=$())&&(r.inputUserName=s.first),W(s=$())&&(r.inputResetPass=s.first),W(s=$())&&(r.dlgConfigDialog=s.first),W(s=$())&&(r.ddCustomers=s.first)}},standalone:!1,features:[Se([OE,Ba,ZI]),re],decls:76,vars:69,consts:[["dlgConfigDialog",""],["header",""],["footer",""],["ddCustomers",""],["inputCustomerId",""],["inputUserName",""],["selectedItems",""],["item",""],["placeholderTemplate",""],["inputResetPass",""],["colgroup",""],["body",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[1,"grid"],[1,"col-12"],[1,"first-tabview","tabTabbedMenu","tabs-vertical","flex","w-full","bg-(--surfaceBackgroundColor)"],[1,"flex","flex-col","min-w-[16rem]","bg-(--fwcPaleWhite2)","max-h-fit","border","border-(--fwcGrey2)","font-semibold"],["type","button",1,"flex","w-full","items-center","gap-2","px-3","py-2","text-left","text-sm","border-b","border-(--fwcGrey2)","last:border-b-0","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled","ngClass"],[1,"fa","fa-building","fwcOrange"],[1,"fa","fa-users","fwcOrange"],[1,"fa","fa-key","fwcOrange"],[1,"fa","fa-user-shield","fwcOrange"],[1,"fa","fa-vault","fwcOrange"],[1,"fa","fa-book-bookmark","fwcOrange"],[1,"fa","fa-desktop","fwcOrange"],[1,"flex-1","px-4","py-0","overflow-auto","bg-(--surfaceBackgroundColor)"],[4,"ngIf"],["id","aiAssistant",4,"ngIf"],[3,"modal","closeOnEscape","closable","visible"],[1,"fwc-centered"],[2,"font-size","smaller"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-config","fwcOrange"],[1,"divHeaderButtons"],["type","button","icon","fa fa-question",3,"disabled"],["type","button","icon","fa fa-question",3,"onClick","disabled"],[1,"grid","space-y-0.5"],[1,"col-12","grid","grid-nogutter"],[1,"fwcBlue","botBorder"],[1,"col-10"],["styleClass","dropDownForm","appendTo","body","optionLabel","name","dataKey","id","filter","true",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],[1,"col-2"],["type","button","icon","fa fa-plus","styleClass","p-button-success fwcButtonHeight",3,"onClick","disabled","label"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","formGroup"],[3,"disabled"],[1,"col-12","grid","grid-nogutter",2,"padding-top","0.5rem"],[1,"col-4"],[1,"p-inputgroup"],["for","id"],["pInputText","","type","number","formControlName","id","name","id"],[1,"fwc-error",3,"ngStyle"],[1,"col-8"],["for","name"],["pInputText","","type","text","formControlName","name","name","name","maxlength","255"],[1,"col-6"],["for","email"],["pInputText","","type","text","formControlName","email","name","email","maxlength","255"],["for","web"],["pInputText","","type","text","formControlName","web","name","web","maxlength","255"],["for","phone"],["pInputText","","type","text","formControlName","phone","name","phone","maxlength","25"],["for","addr"],["pInputText","","formControlName","addr","name","addr","maxlength","255",3,"rows","cols"],[1,"divLoadTemp",3,"ngStyle"],["type","button","styleClass","p-button-success","icon","fa fa-save",3,"onClick","disabled","label"],[1,"fwcSepShort"],["type","button","styleClass","p-button-danger","icon","fwci-delete",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fwci-delete",3,"onClick","disabled","label"],["type","button","styleClass","p-button-warning","icon","fwci-delete",3,"onClick","disabled","label"],[1,"col-5"],["appendTo","body","filter","true","optionLabel","name","dataKey","id",1,"dropDownForm","p-select--config",3,"ngModelChange","onChange","options","ngModel","disabled","autoDisplayFirst","emptyFilterMessage"],[1,"col-1"],["formControlName","role",1,"dropDownForm","p-select--config",3,"options"],["for","username"],["pInputText","","type","text","formControlName","username","name","username","maxlength","32"],[1,"p-inputgroup",2,"min-height","2.4375rem"],["for","password"],["pPassword","","formControlName","password","name","password","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["type","button","icon","fa fa-eye","styleClass","p-button-secondary",3,"disabled"],["type","button","icon","fa fa-edit","styleClass","p-button-warning",3,"disabled","label"],["type","button","icon","fa fa-eye","styleClass","p-button-secondary",3,"mousedown","mouseup","mouseout","disabled"],["type","button","icon","fa fa-edit","styleClass","p-button-warning",3,"onClick","disabled","label"],[1,"fwcBlue"],["appendTo","body","dataKey","id","optionLabel","name",1,"fwcMsClouds",3,"ngModelChange","onChange","options","ngModel","defaultLabel"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fwcMsClouds-selItem"],["src","assets/img/cloud.png"],[1,"fwcDark"],["src","assets/img/cloud.png",2,"width","1.5rem","display","inline-block","vertical-align","middle"],[2,"display","inline-block","margin-left","5px"],[3,"message"],["pInputText","","type","text","readonly","",3,"value"],[3,"keyup.enter","formGroup"],["for","resetpassword"],["pPassword","","formControlName","resetpassword","name","resetpassword","maxlength","64",3,"showPassword","promptLabel","weakLabel","mediumLabel","strongLabel"],["type","button","icon","fa fa-eye","styleClass","p-button-secondary",3,"mousedown","mouseup","mouseout"],["type","button","styleClass","p-button-success","icon","fa fa-save",3,"disabled","label"],[1,"grid","grid-nogutter"],[1,"fwcBlue","borBorder"],[1,"col-12",2,"padding",".5rem"],["for","sel2FA",1,"fwcBlue"],["id","sel2FA",3,"ngModelChange","onChange","options","ngModel"],[1,"second-tabview"],[1,"inline-flex","border","border-(--fwcGrey2)","bg-(--surfaceBackgroundColor)"],["type","button",1,"flex","items-center","gap-2","px-3","py-2","text-sm","text-left","transition-colors","whitespace-nowrap",3,"click","ngClass"],["type","button",1,"flex","items-center","gap-2","px-3","py-2","text-sm","text-left","transition-colors","whitespace-nowrap","border-l","border-(--fwcGrey2)",3,"click","ngClass"],[1,"fa","fa-undo","fwcOrange"],["class","pt-4",4,"ngIf"],[1,"pt-4"],[2,"display","inline-block !important","width","100% !important",3,"disabled"],[1,"col-12",2,"padding",".3rem"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center","padding",".3rem"],["type","button","styleClass","p-button-success","icon","fa fa-vault",3,"onClick","disabled","label"],[1,"col-12",2,"padding","0","display","flex"],["formControlName","backupDays","styleClass","fwc-backup-days","multiple","multiple",3,"options"],[1,"col-12","flex","items-center","gap-2",2,"padding",".3rem"],["name","backupType","formControlName","backupType","inputId","backupFixed",3,"value"],["for","backupFixed",1,"cursor-pointer"],["name","backupType","formControlName","backupType","inputId","backupInterval",3,"value"],["for","backupInterval",1,"cursor-pointer"],[1,"col-6",2,"display","flex","float","left"],["name","backupOptionsMC",3,"onChange","value","formControl"],[1,"ml-2"],[1,"col-6",2,"display","flex","float","right"],["pInputText","","type","number","formControlName","backupMaxCopies","min","0","pKeyFilter","int",1,"fwcInputInline--small"],["name","backupOptionsMD",3,"onChange","value","formControl"],["pInputText","","type","number","formControlName","backupMaxDays","min","0","pKeyFilter","int",1,"fwcInputInline--small"],[1,"col-12","fwc-right",2,"float","right"],["for","backupHourFixed"],["formControlName","backupHour","inputId","backupHourFixed",3,"timeOnly"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","23","pKeyFilter","int",1,"fwcInputInline--small"],["pInputText","","type","number","formControlName","backupEachHourOrMinutes","min","0","max","59","pKeyFilter","int",1,"fwcInputInline--small"],["formControlName","backupTimeOption",1,"dropDownInline",3,"onChange","options"],["selectionMode","single","styleClass","fwc-backups-table","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],[1,"flex","items-center","justify-between","w-full","pt-3"],[1,"flex","items-center"],["type","button","icon","fa fa-upload",3,"onClick","disabled","label"],[1,"flex","items-center","gap-2"],[1,"col-12","grid","grid-nogutter",2,"padding",".3rem"],[3,"pSelectableRow"],[1,"fa","fa-fw","fa-lg","fa-check-square","fwcGreen"],["type","button","styleClass","p-button-danger","icon","fa fa-trash",3,"onClick","disabled","label"],["type","button","icon","fa fa-undo",3,"onClick","disabled","label"],["type","button","icon","fa fa-download",3,"onClick","disabled","label"],[2,"display","inline-block !important","height","100% !important","width","100% !important",3,"disabled"],[1,"col-12","grid","grid-nogutter","fwc-centered",2,"justify-content","center"],["type","button","styleClass","p-button-success","icon","fa fa-book-bookmark",3,"onClick","disabled","label"],["for","archive_interval"],["pInputText","","type","number","formControlName","archive_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","archive_interval","name","archive_interval","optionLabel","label","optionValue","value",1,"dropDownForm","w-76",3,"options","appendTo"],["for","retention_interval"],["pInputText","","type","number","formControlName","retention_days","min","0","pKeyFilter","int","value","15",1,"fwcInputInline--small"],["formControlName","retention_interval","name","retention_interval","optionLabel","label","optionValue","value",1,"dropDownForm","w-76",3,"options","appendTo"],[1,"col-12","fwc-right"],["id","aiAssistant"],[1,"col-12","grid-nogutter"],["binary","true","inputId","enableForm",3,"ngModelChange","onChange","ngModel"],["for","enableForm"],["formControlName","selectedAI","optionLabel","name",1,"dropDownForm",3,"onChange","options","disabled"],["formControlName","model","optionLabel","name",1,"dropDownForm",2,"margin-left","31px",3,"onChange","options","appendTo","disabled"],[1,"p-inputgroup","items-center","justify-between"],["formControlName","openAIapiKey",1,"w-4/5",3,"toggleMask","feedback","disabled"],["type","button","icon","fa fa-save","styleClass","p-button-success","id","saveApikey",3,"onClick","disabled","label"],["for","selTheme",1,"fwcBlue"],["id","selTheme",3,"ngModelChange","onChange","options","ngModel"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"],[1,"fa","fa-lg","fa-undo"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",12,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.onHideDialog())}),E(2,CQe,7,4,"ng-template",null,1,ie),_(4,"div",13)(5,"div",14)(6,"div",15)(7,"nav",16)(8,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="customers")}),N(9,"i",18),_(10,"span"),R(11),D(12,"translate"),b()(),_(13,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="users")}),N(14,"i",19),_(15,"span"),R(16),D(17,"translate"),b()(),_(18,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="resetpass")}),N(19,"i",20),_(20,"span"),R(21),D(22,"translate"),b()(),_(23,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="tfa")}),N(24,"i",21),_(25,"span"),R(26),D(27,"translate"),b()(),_(28,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="backup")}),N(29,"i",22),_(30,"span"),R(31),D(32,"translate"),b()(),_(33,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="openvpn")}),N(34,"i",23),_(35,"span"),R(36),D(37,"translate"),b()(),_(38,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="ai")}),N(39,"i",24),_(40,"span"),R(41),D(42,"translate"),b()(),_(43,"button",17),A("click",function(){return w(s),C(r.activeMenuOption="custom")}),N(44,"i",24),_(45,"span"),R(46),D(47,"translate"),b()()(),_(48,"section",25),E(49,xQe,14,17,"ng-container",26)(50,UQe,17,26,"ng-container",26)(51,zQe,2,1,"ng-container",26)(52,WQe,15,11,"ng-container",26)(53,sYe,2,1,"ng-container",26)(54,lYe,2,1,"ng-container",26)(55,cYe,31,30,"ng-container",27)(56,dYe,12,8,"ng-container",26),b()()()(),E(57,pYe,2,5,"ng-template",null,2,ie),b(),_(59,"p-dialog",28),E(60,uYe,3,3,"ng-template",null,1,ie),_(62,"div",29),N(63,"p-progressSpinner"),_(64,"p"),R(65),D(66,"translate"),_(67,"strong"),R(68),D(69,"date"),b(),R(70,". "),b(),_(71,"p")(72,"small",30),R(73),D(74,"translate"),b()(),N(75,"br"),b()()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(8),f("disabled",!(r.customers&&!r.loadingData))("ngClass",r.activeMenuOption==="customers"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(12,45,"CONFIG_PANEL.CUSTOMER.CUSTOMERS")),p(2),f("disabled",!(r.customers&&!r.loadingData))("ngClass",r.activeMenuOption==="users"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(17,47,"CONFIG_PANEL.USER.USERS")),p(2),f("disabled",r.loadingData)("ngClass",r.activeMenuOption==="resetpass"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(22,49,"CONFIG_PANEL.PASSWORD_RESET.HEADER")),p(2),f("disabled",r.loadingData)("ngClass",r.activeMenuOption==="tfa"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(27,51,"CONFIG_PANEL.CUSTOM.TFA")),p(2),f("disabled",!(r.formModelBackupOptions&&!r.loadingData))("ngClass",r.activeMenuOption==="backup"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(32,53,"CONFIG_PANEL.BACKUP_RESTORE.HEADER")),p(2),f("disabled",r.loadingData)("ngClass",r.activeMenuOption==="openvpn"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(37,55,"OPENVPN_HISTORIC.HEADER")),p(2),f("disabled",r.loadingData)("ngClass",r.activeMenuOption==="ai"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(42,57,"CONFIG_PANEL.AI.HEADER")),p(2),f("disabled",r.loadingData)("ngClass",r.activeMenuOption==="custom"?"bg-[#0074c7] text-white":"bg-(--fwcPaleWhite2) text-(--fwcMidDark) hover:bg-(--fwcPaleWhite) hover:text-(--fwcDark)"),p(3),Q(k(47,59,"CONFIG_PANEL.CUSTOM.HEADER")),p(3),f("ngIf",r.activeMenuOption==="customers"),p(),f("ngIf",r.activeMenuOption==="users"),p(),f("ngIf",r.activeMenuOption==="resetpass"),p(),f("ngIf",r.activeMenuOption==="tfa"),p(),f("ngIf",r.activeMenuOption==="backup"),p(),f("ngIf",r.activeMenuOption==="openvpn"),p(),f("ngIf",r.activeMenuOption==="ai"),p(),f("ngIf",r.activeMenuOption==="custom"),p(3),f("modal",!0)("closeOnEscape",!1)("closable",!1)("visible",r.showRestoreWarningDialog),p(4),De(Pe(68,yQe)),p(2),Y(" ",k(66,61,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.TEXT")," "),p(3),Y(" ",vi(69,63,r.selectedBackup==null?null:r.selectedBackup.date,"dd/MM/yyyy HH:mm:ss")," "),p(5),Q(k(74,66,"CONFIG_PANEL.BACKUP_RESTORE.RESTORE.RESTORE_DIALOG.FOOTER")))},dependencies:[$t,Mn,pt,ft,eo,Hi,pp,_i,Zn,io,SA,CA,Zi,wA,to,ao,Ut,lo,bt,si,dT,pT,go,Gu,Pn,or,dO,Qg,rI,ju,Nn,gc,It,wO],encapsulation:2});let i=n;return i})();var ree=40,hYe=34,see=55,fYe=28,mYe=3,gYe=200,CO=(()=>{let n=class n{constructor(t,o){this.cd=t,this.ruleSelectedService=o,this.maximumRuleHeight=0,this.rulesViewportInfo=null}*policyIterator(t){t||(t=[]);for(let o=0;o<t.length;o++){let r=t[o];if(yield r,r.rule_group&&Array.isArray(r.rules))for(let s=0;s<r.rules.length;s++){let a=r.rules[s];a.groupHide=r.groupHide,yield a}}}clearActualViewportInfo(){this.actualViewportInfo=null}resetMaximumRuleHeight(){this.maximumRuleHeight=0}getMaximumRuleHeight(){return this.maximumRuleHeight||see}calcRuleHeight(t,o){let r=ree;if(t.special)r=ree;else if(t.rule_group)r=hYe;else{if(!o&&(o=0,Array.isArray(t.positions)))for(let s=0;s<t.positions.length;s++){let a=t.positions[s];Array.isArray(a.ipobjs)&&a.ipobjs.length>o&&(o=a.ipobjs.length-1)}o<=1?(r=see,t.mark&&(r+=18)):(r=o*fYe+o+mYe*Math.min(o/2,6),t.mark&&(r+=o===2?11:0))}r>this.maximumRuleHeight&&(this.maximumRuleHeight=r),t.heightPx=r}showRulesInViewport(t,o){if(!t)return;if(t.length<=gYe){for(let m of this.policyIterator(t))m.visible=!0;this.rulesViewportInfo={firstVisibleRuleIndex:0,lastVisibleRuleIndex:t.length-1,viewportStartPx:0,viewportEndPx:Number.MAX_SAFE_INTEGER},this.actualViewportInfo=o,this.cd.detectChanges();return}o||(o=this.actualViewportInfo||{scrollTop:0,offsetHeight:window.innerHeight});let r=o.scrollTop-Number((o.offsetHeight*.5).toFixed(0))-this.maximumRuleHeight,s=o.scrollTop+Number((o.offsetHeight*1.2).toFixed(0))+this.maximumRuleHeight;r<0&&(r=0);let a,l,c=0,d=0,u=new Set;for(let m of this.policyIterator(t))m.groupHide?u.has(m.idgroup)||(c+=m.heightPx,u.add(m.idgroup)):(c+m.heightPx>=r&&c<=s?(m.visible=!0,a===void 0&&(a=d),l=d):m.visible=!1,c+=m.heightPx),d++;this.rulesViewportInfo={firstVisibleRuleIndex:a,lastVisibleRuleIndex:l,viewportStartPx:r,viewportEndPx:s},this.actualViewportInfo=o,this.cd.detectChanges()}getVisibleRules(t){let o=[];return Array.isArray(t)&&this.rulesViewportInfo&&(o=t),o}};n.\u0275fac=function(o){return new(o||n)(be(We),be(dh))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var _Ye=()=>({width:"30vw"}),bYe=()=>({visibility:"hidden"});function yYe(i,n){i&1&&(_(0,"div",10)(1,"h6",11),N(2,"i",12),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"PANELS.ROUTING_RULE_PANEL.TITLE")," "))}function vYe(i,n){if(i&1){let e=B();N(0,"div",9),_(1,"div",9)(2,"div",13)(3,"p-floatlabel",14),N(4,"p-select",15,3),_(6,"label",16),R(7),D(8,"translate"),b()()()(),_(9,"div",9)(10,"div",13)(11,"p-floatlabel",17),N(12,"sts-fwc-object-group",18),D(13,"translate"),_(14,"label",19),R(15),D(16,"translate"),b()()(),N(17,"p",20),b(),_(18,"div",9)(19,"div",13)(20,"p-floatlabel",17)(21,"input",21,4),A("drop",function(o){w(e);let r=h();return C(r.preventDrop(o))}),b(),_(23,"label",22),R(24),D(25,"translate"),b()()()()}if(i&2){let e=h();p(4),f("options",e.routingTables)("autoDisplayFirst",!1),p(3),Q(k(8,10,"ROUTING.NEW_TABLE_PANEL.TABLE")),p(5),f("msgNotAllowed",ae(k(13,12,"PANELS.ROUTING_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_ROUTING_RULE_FROM),p(3),Q(k(16,14,"PANELS.ROUTING_RULE_PANEL.FROM")),p(2),f("ngStyle",Pe(18,bYe)),p(7),Q(k(25,16,"ITEM_PANEL.FIELDS.COMMENTS"))}}function wYe(i,n){if(i&1&&(_(0,"div",9),N(1,"sts-fwc-message",23),b()),i&2){let e=h();p(),f("message",e.opMessage)}}function CYe(i,n){if(i&1){let e=B();_(0,"p-button",24),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b(),_(2,"p-button",25),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var SO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I){super(r,o,t,s,a,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.store=a,this.fb=l,this.router=c,this.fwcErrorPipe=d,this.utilService=u,this.fwcPolicyService=m,this.fwcRoutingPolicyService=g,this.fwcRoutingTableService=y,this.fwcUserService=v,this.translate=S,this.messageService=I,this.ObjectTypes=O,this.loadingData=!1,this.dataLoaded=!1}ngOnInit(){this.formModel=this.fb.group({routingTable:new Ee(void 0,Me.required),ipObject:new Ee(void 0,Me.required),comment:new Ee("")})}showNewRuleDialog(t,o,r,s){this.clusterId=t,this.firewallId=o,this.baseRuleId=r,this.newRuleOffset=s,this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),o,this.fwcUserService.getActualFwSelectedCloud()).then(a=>{Array.isArray(a.data)&&a.data.length?(this.routingTables=a.data,this.dataLoaded=!0,this.formModel.get("routingTable").setValue(this.routingTables[0])):this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.NO_ROUTING_TABLES.TEXT")}}).catch(a=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.SUMMARY"),text:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT")}}).finally(()=>{this.displayDialog=!0})}handleSave(){if(this.formModel.valid){this.store.dispatch(qi.requestBlockUI());let{routingTable:t,ipObject:o,comment:r}=this.formModel.value,s=this.newRuleOffset<0?"above":"below";if(t&&o){let a={routingTableId:t.id,to:this.baseRuleId,offset:s,comment:r},{id:l,type:c}=o,d={id:l,order:1};switch(c){case O.OBJ_GROUP:a.ipObjGroupIds=[d];break;case O.OBJ_OPENVPN_CONFIG_CLI:a.openVPNIds=[d];break;case O.OBJ_OPENVPN_PREFIX:a.openVPNPrefixIds=[d];break;case O.OBJ_WGC_CONFIG_CLI:a.wireguardIds=[d];break;case O.OBJ_WIREGUARD_PREFIX:a.wireguardPrefixIds=[d];break;case O.OBJ_ISC_CONFIG_CLI:a.ipsecIds=[d];break;case O.OBJ_IPSEC_PREFIX:a.ipsecPrefixIds=[d];break;case O.OBJ_MARK:a.markIds=[d];break;default:a.ipObjIds=[d]}this.loadingData=!0,this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRule.bind(this.fwcRoutingPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),a).then(u=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(qi.requestUnblockUI())})}}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(tt),x(ur),x(at),x(Ni),x(Tt),x(qn),x(ch),x(aa),x(dt),x($e),x(ii))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-routing-rule-panel"]],standalone:!1,features:[re],decls:11,vars:11,consts:[["dlgRoutingRuleDialog",""],["header",""],["footer",""],["ddRoutingTables",""],["inputObjName",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-routing","fwcOrange"],[1,"p-inputgroup"],[1,"p-float-label","pt-1","pb-4"],["formControlName","routingTable","appendTo","body","optionLabel","name","dataKey","id",1,"dropDownForm",3,"options","autoDisplayFirst"],["for","routingTable",1,"fwcFloatLabel"],[1,"p-float-label"],["formControlName","ipObject",3,"readOnly","groupType","msgNotAllowed"],["for","ipObject",1,"fwcFloatLabel"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment","maxlength","64",3,"drop"],["for","comment"],[3,"message"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(2,yYe,5,3,"ng-template",null,1,ie),_(4,"form",6)(5,"fieldset",7),A("keyup.enter",function(l){return w(s),C(r.handleCheckForm(l))})("keyup.esc",function(){return w(s),C(r.handleCancel())}),_(6,"div",8),G(7,vYe,26,19),G(8,wYe,2,1,"div",9),b()()(),E(9,CYe,4,9,"ng-template",null,2,ie),b()}o&2&&(De(Pe(10,_Ye)),Ae("visible",r.displayDialog),f("modal",!1)("closable",!1)("resizable",!0),p(4),f("formGroup",r.formModel),p(),f("disabled",r.loadingData),p(2),H(r.dataLoaded?7:-1),p(),H(!r.loadingData&&r.opMessage?8:-1))},encapsulation:2});let i=n;return i})();var aee=Xr(Kd());var SYe=["txtCompiledString"],IYe=()=>({minWidth:"80vw"}),EYe=()=>({height:"98%",minHeight:"12rem"});function xYe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2);p(),Y(" (",e.ruleCompiler,") ")}}function TYe(i,n){if(i&1){let e=B();_(0,"div",6)(1,"h6",7),N(2,"i",8),R(3),G(4,xYe,2,1,"span"),b()(),_(5,"div",9)(6,"button",10),A("click",function(){w(e);let o=h();return C(o.onHeaderMinimize())}),b()()}if(i&2){let e=h();p(3),Y(" ",e.dialogTitle," "),p(),H(e.ruleCompiler?4:-1)}}function OYe(i,n){if(i&1){let e=B();_(0,"p-button",14),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onDownloadConfigFile(o.ruleCompiledString))}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"VPN.CONFIG.DOWNLOAD.BUTTON")))("disabled",!e.ruleCompiledString)}}function RYe(i,n){if(i&1){let e=B();_(0,"p-button",11),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleCopyRuleCompilationToClipboard())}),b(),G(2,OYe,2,5,"p-button",12),_(3,"p-button",13),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,4,"VPN.CONFIG.CLIPBOARD.BUTTON")))("disabled",!e.ruleCompiledString),p(2),H(e.ruleCompiledString&&e.type==="dhcp"||e.type==="keepalived"||e.type==="haproxy"?2:-1)}}var El=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m){super(t,o,r,d,s,c),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.store=s,this.translate=a,this.messageService=l,this.router=c,this.cd=d,this.fwcEventService=u,this.utilService=m,this.dialogTitle=this.translate.instant("CONTEXT.RULE.COMP_TITLE"),this.createDialog(this.dialogTitle,"fwci-compilerule")}ngOnInit(){}ngOnDestroy(){}showCompiledString(t,o){this.ruleCompiledString=t,this.ruleCompiler=o}showCompilationData(t,o,r,s,a,l){if(this.type=l,this.ruleCompiledString="",s?this.dialogTitle=s:this.dialogTitle=this.translate.instant("CONTEXT.RULE.COMP_TITLE"),this.title=this.dialogTitle,Array.isArray(t))for(let[c,d]of t.entries()){this.ruleCompiledString&&(this.ruleCompiledString+=`
`);let u=o&&o.find(g=>g.id===d.id),m=u&&u._fwcRuleOrder?u._fwcRuleOrder:c+1;l==="dhcp"?this.ruleCompiledString+=d.cs:l==="keepalived"?this.ruleCompiledString+=d.cs:l==="haproxy"?this.ruleCompiledString+=d.cs:this.ruleCompiledString+=`# ${r.toUpperCase()} ${m} (ID: ${d.id})
${d.cs}`}this.ruleCompiler=a,this.showDialog()}onDownloadConfigFile(t,o){let r;o==="dhcp"?r="dhcp.conf":o==="keepalived"?r="keepalived.conf":o==="haproxy"&&(r="haproxy.conf");let s=new Blob([t],{type:"text/plain;charset=utf-8"});(0,aee.saveAs)(s,r)}handleCopyRuleCompilationToClipboard(){this.txtCompiledString&&(this.txtCompiledString.nativeElement.select(),document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("POLICY.RULE_COMPILATION_COPIED")}))}onHeaderMinimize(){this.minimizeDialog()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(tt),x($e),x(ii),x(at),x(We),x(dn),x(Tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-rule-compile-panel"]],viewQuery:function(o,r){if(o&1&&_e(SYe,5),o&2){let s;W(s=$())&&(r.txtCompiledString=s.first)}},standalone:!1,features:[re],decls:9,vars:9,consts:[["dlgCompile",""],["header",""],["txtCompiledString",""],["footer",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","visible","modal","closable"],["readonly","true","pInputText","",1,"textCompiledString",3,"ngStyle"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-compilerule","fwcOrange"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"onClick","label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"label","disabled"],["type","button","icon","pi pi-check","label","Ok",3,"onClick"],["styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)}),E(2,TYe,7,2,"ng-template",null,1,ie),_(4,"textarea",5,2),R(6),b(),E(7,RYe,4,6,"ng-template",null,3,ie),b()}o&2&&(De(Pe(7,IYe)),Ae("visible",r.displayDialog),f("modal",!0)("closable",!1),p(4),f("ngStyle",Pe(8,EYe)),p(2),Q(r.ruleCompiledString))},dependencies:[ft,Ut,Ff,bt,si,It],encapsulation:2});let i=n;return i})();var IO=(()=>{let n=class n{constructor(t,o,r,s,a,l,c,d,u,m){this.translate=t,this.fwcErrorPipe=o,this.utilService=r,this.fwcUserService=s,this.fwcRoutingPolicyService=a,this.fwcRoutingTableService=l,this.ruleSelectedService=c,this.messageService=d,this.cd=u,this.store=m}setGroupValues(t){if(t){let o=t.groupData,r=t.group,s=t.policyType,a={style:t.groupColor,name:t.groupName};this.updateGroup(s,o.firewall,o.fwcloud,r,a)}}updateGroup(t,o,r,s,a){let l;t===gr.POLICY_ROUTING?l=this.fwcRoutingPolicyService.updateRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService):t===gr.ROUTING_TABLE&&(l=this.fwcRoutingTableService.updateRoutingTableRouteGroup.bind(this.fwcRoutingTableService)),l&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(l,o,r,s.idgroup,a).then(()=>{if(a.name){s.group_name=a.name;let c=s.rules;for(let d=0;d<c.length;d++)c[d].group_name=s.group_name}if(a.style){s.group_style=a.style;let c=s.rules;for(let d=0;d<c.length;d++)c[d].group_style=s.group_style}s=Jt(s)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}compileRulesOrRoutes(t){let o,r,s,a=this.ruleSelectedService.getActualSelectedRules(),l=this.ruleSelectedService.getRulesOrderedIds(a),c;if(Array.isArray(l.orderedRules)&&l.orderedRules[0]){c=l.orderedRules[0],o=this.fwcUserService.getActualFwcUser().selectedFwCloud,r=c.firewall,s=l.rulesIds;let d=this.fwcRoutingPolicyService.compileRoutingPolicyRules.bind(this.fwcRoutingPolicyService),u=[r,o,s],m=this.translate.instant("ROUTING.POLICY.RULE"),g=this.translate.instant("ROUTING.POLICY.COMPILE_DIALOG_TITLE");t&&(d=this.fwcRoutingTableService.compileRoutingTableRoutes.bind(this.fwcRoutingTableService),u=[r,o,t,s],m=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ROUTE"),g=this.translate.instant("ROUTING.ROUTE.COMPILE_DIALOG_TITLE")),this.ruleSelectedService.setRuleStatus(""),this.detectChanges(),this.utilService.fwcAPICall(d,...u).then(y=>{if(Array.isArray(y.data)){let v=this.utilService.createDynamicComponentRef(El),S=v.instance;S.setDynamicComponentRef(v),S.showCompilationData(y.data,a,m,g)}}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}filterIpObjects(t,o){let r=[];return Array.isArray(t)&&(r=t.filter(o).map(s=>({id:s.id,order:s.position_order}))),r}buildCopyApiData(t,o){let r={},s,a,l=t._fwcObjId,c=t._fwcObjType,d=o.ipobjs;switch(c){case O.OBJ_GROUP:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_GROUP),a="ipObjGroupIds";break}case O.OBJ_OPENVPN_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_OPENVPN_PREFIX),a="openVPNPrefixIds";break}case O.OBJ_OPENVPN_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_OPENVPN_CONFIG_CLI),a="openVPNIds";break}case O.OBJ_WIREGUARD_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_WIREGUARD_PREFIX),a="wireguardPrefixIds";break}case O.OBJ_WGC_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_WGC_CONFIG_CLI),a="wireguardIds";break}case O.OBJ_IPSEC_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_IPSEC_PREFIX),a="ipsecPrefixIds";break}case O.OBJ_ISC_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_ISC_CONFIG_CLI),a="ipsecIds";break}case O.OBJ_MARK:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_MARK),a="markIds";break}default:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_ADDRESS||u.type===O.OBJ_ADDRESS_RANGE||u.type===O.OBJ_NETWORK||u.type===O.OBJ_HOST||u.type===O.OBJ_DNS),a="ipObjIds";break}}return r[a]=[...s,{id:l,order:d?d.length:1}],r}buildRemoveApiData(t,o){let r={},s,a,l=t._fwcObjId,c=t._fwcObjType,d=o.ipobjs;switch(c){case O.OBJ_GROUP:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_GROUP&&u.id!==l),a="ipObjGroupIds";break}case O.OBJ_OPENVPN_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_OPENVPN_PREFIX&&u.id!==l),a="openVPNPrefixIds";break}case O.OBJ_OPENVPN_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_OPENVPN_CONFIG_CLI&&u.id!==l),a="openVPNIds";break}case O.OBJ_WIREGUARD_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_WIREGUARD_PREFIX&&u.id!==l),a="wireguardPrefixIds";break}case O.OBJ_WGC_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_WGC_CONFIG_CLI&&u.id!==l),a="wireguardIds";break}case O.OBJ_IPSEC_PREFIX:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_IPSEC_PREFIX&&u.id!==l),a="ipsecPrefixIds";break}case O.OBJ_ISC_CONFIG_CLI:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_ISC_CONFIG_CLI&&u.id!==l),a="ipsecIds";break}case O.OBJ_MARK:{s=this.filterIpObjects(d,u=>u.type===O.OBJ_MARK&&u.id!==l),a="markIds";break}default:{s=this.filterIpObjects(d,u=>(u.type===O.OBJ_ADDRESS||u.type===O.OBJ_ADDRESS_RANGE||u.type===O.OBJ_NETWORK||u.type===O.OBJ_HOST||u.type===O.OBJ_DNS)&&u.id!==l),a="ipObjIds";break}}return r[a]=[...s],r}removeObjectFromPosition(t,o){if(Array.isArray(t.ipobjs)){t.ipobjs=t.ipobjs.filter(r=>r._fwcObjId!==o._fwcObjId||r._fwcObjType!==o._fwcObjType);for(let r of t.ipobjs)r.position_order!=null&&r.position_order>o.position_order&&r.position_order--}}dispatchFwStatusUpdateAction(t,o){this.store.dispatch(_r.updateFwStatus({item:{cluster:t,id:o,status:3}}))}dispatchReloadItemPanelAction(){this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]}))}dispatchReloadItemEditingPanels(){this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL,oi.CLUSTER_PANEL,oi.FIREWALL_PANEL,oi.OVCONFIG_PANEL,oi.WIREGUARD_CONFIG_PANEL,oi.IPSEC_CONFIG_PANEL]}))}detectChanges(){this.cd.destroyed||(this.cd.markForCheck(),this.cd.detectChanges())}};n.\u0275fac=function(o){return new(o||n)(be($e),be(Ni),be(Tt),be(dt),be(ch),be(aa),be(dh),be(ii),be(We),be(tt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var EO=(()=>{let n=class n extends IO{constructor(t,o,r,s,a,l,c,d,u,m,g,y){super(t,o,r,s,l,c,d,u,g,y),this.translate=t,this.fwcErrorPipe=o,this.utilService=r,this.fwcUserService=s,this.fwcPolicyService=a,this.fwcRoutingPolicyService=l,this.fwcRoutingTableService=c,this.ruleSelectedService=d,this.messageService=u,this.confirmationService=m,this.cd=g,this.store=y}parseRoutingPolicyRules(t,o,r){let s=[];for(let a of r){let l={id:a.id,idgroup:a.routingGroupId,group_name:a.routingGroup&&a.routingGroup.name,group_style:a.routingGroup&&a.routingGroup.style,comment:a.comment,style:a.style,type:gr.POLICY_ROUTING,rule_order:a.rule_order,active:a.active?1:0,firewall:t,fwcloud:o,routingTableId:a.routingTableId,fw_apply_to:a.firewallApplyToId,positions:[]},c=1,d={id:Hr.FROM_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_S"),policy_type:l.type,position_order:c++,content:"O",single_object:0,fwcloud:o,firewall:t,rule:l.id,ipobjs:[]};if(Array.isArray(a.items)){let u=1;for(let m of a.items){let g={rule:l.id,position:ji.TO_POSITION,id:m.id,name:m.name,type:m.type,position_order:u++,firewall_id:m.firewall_id,firewall_name:m.firewall_name,cluster_id:m.cluster_id,cluster_name:m.cluster_name,host_id:m.host_id,host_name:m.host_name};d.ipobjs.push(g)}}l.positions.push(d),s.push(l)}return s}handleChangeRoutingTable(t,o){let r={routingTableId:o};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t.firewall,this.fwcUserService.getActualFwSelectedCloud(),t.id,r).then(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(t._fwcClusterId,t.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateRule(t,o,r,s,a,l,c){this.ruleSelectedService.setRuleStatus("");let d={},u=!1;a&&(d.comment=a,u=!0),l&&(d.style=l),c!==void 0&&(d.active=c,u=!0),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,s.id,d).then(m=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),u&&this.dispatchFwStatusUpdateAction(t,o)}).catch(m=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(m)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}updateSelectedRules(t,o,r,s){let a=this.ruleSelectedService.getActualSelectedRules(),l=!!Object.keys(s).length;if(Array.isArray(a)&&a.length){let c=a.map(d=>d.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRules.bind(this.fwcRoutingPolicyService),o,r,c,s).then(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),l&&this.dispatchFwStatusUpdateAction(t,o)}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}updateRuleComment(t){if(t&&t.formModel){let o=t.formModel.comment;if(t.comment!==o){let r=t.firewall,s=t.fwcloud,a={comment:o};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),r,s,t.id,a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),t.comment=o,this.dispatchFwStatusUpdateAction(t._fwcClusterId,r)}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),t.formModel.comment=t.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRulePosition(t,o,r,s,a,l,c){let d={},u=l._fwcPositionId,m=l._fwcRuleId;if((l.obj_type==O.OBJ_OPENVPN_PREFIX||l.obj_type==O.OBJ_WIREGUARD_PREFIX||l.obj_type==O.OBJ_IPSEC_PREFIX||l.obj_type==O.OBJ_INTERFACE_FIREWALL)&&"items"in l&&l.items.length===0||l.obj_type==O.OBJ_HOST&&"items"in l&&l.items.length>0&&l.items[0].items.length===0){this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:l.obj_type==O.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:l._fwcObjName,ipVersion:"IP"}):l.obj_type==O.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:l._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:l._fwcObjName}),accept:()=>{}});return}let g=this.checkOperation(t,l,c);if(g)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:g,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}});else{let y=t.getClusterId();u==null||m==null||c==Go.COPY?(d=this.buildCopyApiData(l,a),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,s,d).then(v=>{this.addObjectToPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(y,o),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(v=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})):(this.ruleSelectedService.setRuleStatus(""),this.moveObject(t,o,r,s,a,l).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(v=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}}checkOperation(t,o,r){let s;return o._fwcRuleId&&o._fwcPositionId&&(r===Go.CUT||r===Go.DELETE)&&t.getPolicyRule(o._fwcRuleId).positions.find(d=>d.id===o._fwcPositionId).ipobjs.filter(d=>d._fwcObjType!==O.OBJ_ANY).length<2&&(s=this.translate.instant("ROUTING.POLICY.ERROR_LAST_IPOBJECT")),s}moveObjectAlt(t,o,r,s,a,l){return V(this,null,function*(){try{let c=this.buildCopyApiData(l,a);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,s,c);let d=t.getPolicyRule(l._fwcRuleId),u=d.positions.find(y=>y.id===l._fwcPositionId),m=this.buildRemoveApiData(l,u);yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,d.id,m),this.addObjectToPosition(a,l),this.removeObjectFromPosition(u,l),this.ruleSelectedService.setRuleHeightRecalculate(d.id),this.ruleSelectedService.setRuleHeightRecalculate(s),this.dispatchReloadItemEditingPanels();let g=t.getClusterId();this.dispatchFwStatusUpdateAction(g,o),Promise.resolve()}catch{Promise.reject()}})}moveObject(t,o,r,s,a,l){return V(this,null,function*(){try{let c,d;switch(l._fwcObjType){case O.OBJ_GROUP:{c="ipObjGroupId";break}case O.OBJ_OPENVPN_PREFIX:{c="openVPNPrefixId";break}case O.OBJ_OPENVPN_CONFIG_CLI:{c="openVPNId";break}case O.OBJ_WIREGUARD_PREFIX:{c="wireguardPrefixId";break}case O.OBJ_WGC_CONFIG_CLI:{c="wireguardId";break}case O.OBJ_IPSEC_PREFIX:{c="ipsecPrefixId";break}case O.OBJ_ISC_CONFIG_CLI:{c="ipsecId";break}case O.OBJ_MARK:{c="markId";break}default:{c="ipObjId";break}}let u=t.getPolicyRule(l._fwcRuleId),m=u.positions.find(y=>y.id===l._fwcPositionId);d={fromId:u.id,toId:s},d[c]=l._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingPolicyService.moveObjectBetweenFromPositions.bind(this.fwcRoutingPolicyService),o,r,d),this.addObjectToPosition(a,l),this.removeObjectFromPosition(m,l),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(u.id),this.ruleSelectedService.setRuleHeightRecalculate(s);let g=t.getClusterId();this.dispatchFwStatusUpdateAction(g,o),Promise.resolve()}catch{Promise.reject()}})}deleteObjectFromPosition(t,o,r,s,a,l){let c={};c=this.buildRemoveApiData(l,a),this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),t,r,s,c).then(d=>{this.removeObjectFromPosition(a,l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(o,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(s)}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}addObjectToPosition(t,o){let r={cluster_id:o._fwcClusterId,cluster_name:o._fwcClusterName,firewall_id:o._fwcFwId,firewall_name:o._fwcFwName,host_id:o._fwcHostId,host_name:o._fwcHostName,id:o._fwcObjId,id_obj:o._fwcObjId,name:o._fwcObjName,obj_type:o._fwcObjType,parent_id:o.parent_id,position:t.id,position_order:t.ipobjs?t.ipobjs.length:1,rule:t.rule,type:o._fwcObjType,_fwcFwId:o._fwcFwId,_fwcFwName:o._fwcFwName,_fwcObjId:o._fwcObjId,_fwcObjName:o._fwcObjName,_fwcObjType:o._fwcObjType,_fwcPositionId:t.id,_fwcRuleId:t.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:o.highlighted};t.ipobjs=[...t.ipobjs,r]}showNewRuleDialog(t,o,r,s){let a=this.utilService.createDynamicComponentRef(SO),l=a.instance;l.setDynamicComponentRef(a),l.showNewRuleDialog(t,o,r,s)}moveSelectedRules(t,o,r,s,a){this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.manageRoutingPolicyRules.bind(this.fwcRoutingPolicyService),t,o,r,a,s,Go.CUT).then(l=>{this.fwcPolicyService.reloadPolicy()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(qi.requestUnblockUI())})}newRoutingRuleGroup(t,o,r){let s=r&&r.groupName,a=r&&r.groupComment;if(s){let c=this.ruleSelectedService.getActualSelectedRules().map(d=>d.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.newRoutingPolicyRuleGroup.bind(this.fwcRoutingPolicyService),t,o,s,a,c).then(d=>{this.dispatchReloadItemPanelAction(),this.fwcPolicyService.reloadPolicy()}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else return}setRuleStyle(t,o){if(o){let r={style:o.ruleColor};this.updateSelectedRules(t._fwcClusterId,t.firewall,this.fwcUserService.getActualFwSelectedCloud(),r)}}compileSelectedRules(){this.compileRulesOrRoutes()}handleChangeApplyToTable(t){if(t&&t.formModel){let o=t.firewall,r=t.fwcloud,s={firewallApplyToId:t.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingPolicyService.updateRoutingPolicyRule.bind(this.fwcRoutingPolicyService),o,r,t.id,s).then(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(t._fwcClusterId,t.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}};n.\u0275fac=function(o){return new(o||n)(be($e),be(Ni),be(Tt),be(dt),be(qn),be(ch),be(aa),be(dh),be(ii),be(ti),be(We),be(tt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var DYe=()=>({width:"30vw"}),PYe=()=>({visibility:"hidden"}),AYe=i=>({table_name:i});function kYe(i,n){if(i&1&&(_(0,"div",15)(1,"h6",16),N(2,"i",17),R(3),D(4,"translate"),b()()),i&2){let e=h();p(3),Y(" ",vi(4,1,"PANELS.ROUTING_ROUTE_PANEL.TITLE",de(4,AYe,e.tableName))," ")}}function NYe(i,n){if(i&1){let e=B();_(0,"p-button",18),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b(),_(2,"p-button",19),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loading)}}var xO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v){super(r,o,t,s,u,g),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.utilService=a,this.fwcPolicyService=l,this.fwcRoutingTableService=c,this.fwcUserService=d,this.store=u,this.fb=m,this.router=g,this.messageService=y,this.translate=v,this.ObjectTypes=O,this.loading=!1}ngOnInit(){this.formModel=this.fb.group({gateway:new Ee(void 0,Me.required),comment:new Ee("")})}showNewRouteDialog(t,o,r,s,a,l){this.clusterId=t,this.firewallId=o,this.tableId=r,this.tableName=s,this.baseRouteId=a,this.newRouteOffset=l,this.displayDialog=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(qi.requestBlockUI());let{gateway:t,comment:o}=this.formModel.value,r=t&&t.id;this.loading=!0,this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRoute.bind(this.fwcRoutingTableService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),this.tableId,r,o,this.baseRouteId,this.newRouteOffset).then(s=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.INFO.SAVE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.ROUTING_ROUTE_PANEL.ERRORS.SAVE_ROUTE")})}).finally(()=>{this.loading=!1,this.store.dispatch(qi.requestUnblockUI())})}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(Tt),x(qn),x(aa),x(dt),x(tt),x(ur),x(at),x(ii),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-routing-table-route-panel"]],standalone:!1,features:[re],decls:26,vars:23,consts:[["dlgRoutingRuleDialog",""],["header",""],["footer",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],["for","gateway",1,"fwcFloatLabel"],["formControlName","gateway",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["for","comment"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(2,kYe,5,6,"ng-template",null,1,ie),_(4,"form",4)(5,"fieldset",5),A("keyup.enter",function(l){return w(s),C(r.handleCheckForm(l))})("keyup.esc",function(){return w(s),C(r.handleCancel())}),_(6,"div",6),N(7,"div",7),_(8,"div",7)(9,"div",8)(10,"p-floatlabel",9)(11,"label",10),R(12),D(13,"translate"),b(),N(14,"sts-fwc-object-group",11),D(15,"translate"),b()(),N(16,"p",12),b(),_(17,"div",7)(18,"div",8)(19,"p-floatlabel",9)(20,"input",13),A("drop",function(l){return w(s),C(r.preventDrop(l))}),b(),_(21,"label",14),R(22),D(23,"translate"),b()()()()()()(),E(24,NYe,4,9,"ng-template",null,2,ie),b()}o&2&&(De(Pe(21,DYe)),Ae("visible",r.displayDialog),f("modal",!1)("closable",!1)("resizable",!0),p(4),f("formGroup",r.formModel),p(),f("disabled",r.loading),p(7),Q(k(13,15,"PANELS.ROUTING_ROUTE_PANEL.GATEWAY")),p(2),f("msgNotAllowed",ae(k(15,17,"PANELS.ROUTING_ROUTE_PANEL.ERRORS.INVALID_GATEWAY")))("readOnly",!1)("groupType",r.ObjectTypes.OBJ_ROUTING_GATEWAY),p(2),f("ngStyle",Pe(22,PYe)),p(6),Q(k(23,19,"ITEM_PANEL.FIELDS.COMMENTS")))},encapsulation:2});let i=n;return i})();var y3=()=>({visibility:"hidden"});function FYe(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE_EDIT")," ")}function LYe(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"PANELS.ROUTING_TABLE_PANEL.TITLE")," ")}function MYe(i,n){if(i&1&&(_(0,"div",6)(1,"h6",7),N(2,"i",8),G(3,FYe,2,3)(4,LYe,2,3),b()()),i&2){let e=h();p(3),H(e.formModel!=null&&e.formModel.get("id").value?3:4)}}function BYe(i,n){if(i&1&&N(0,"sts-fwc-message",4),i&2){let e=h();f("message",e.errorMessage)}}function VYe(i,n){if(i&1){let e=B();_(0,"form",5)(1,"fieldset",9),A("keyup.enter",function(o){w(e);let r=h();return C(r.handleCheckForm(o))})("keyup.esc",function(){w(e);let o=h();return C(o.handleCancel())}),_(2,"div",10),N(3,"div",11),_(4,"div",11)(5,"div",12)(6,"p-floatlabel",13),N(7,"p-select",14),_(8,"label",15),R(9),D(10,"translate"),b()()(),N(11,"p",16),b(),_(12,"div",11)(13,"div",12)(14,"p-floatlabel",13)(15,"input",17),A("drop",function(o){w(e);let r=h();return C(r.preventDrop(o))}),b(),_(16,"label",18),R(17),D(18,"translate"),b()()(),N(19,"p",16),b(),_(20,"div",11)(21,"div",12)(22,"p-floatlabel",13)(23,"input",19),A("drop",function(o){w(e);let r=h();return C(r.preventDrop(o))}),b(),_(24,"label",20),R(25),D(26,"translate"),b()()(),N(27,"p",16),b()()()()}if(i&2){let e=h();f("formGroup",e.formModel),p(),f("disabled",e.loading),p(6),f("options",e.availableNumbersItems)("autoDisplayFirst",!1),p(2),Q(k(10,10,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NUMBER")),p(2),f("ngStyle",Pe(16,y3)),p(6),Q(k(18,12,"PANELS.ROUTING_TABLE_PANEL.FIELDS.NAME")),p(2),f("ngStyle",Pe(17,y3)),p(6),Q(k(26,14,"PANELS.ROUTING_TABLE_PANEL.FIELDS.COMMENT")),p(2),f("ngStyle",Pe(18,y3))}}function UYe(i,n){if(i&1){let e=B();_(0,"p-button",21),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b(),_(2,"p-button",22),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!(e.formModel!=null&&e.formModel.valid)||(e.formModel==null?null:e.formModel.pristine)||e.loading)}}var lee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S){super(r,o,t,s,u,m),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.utilService=a,this.fwcPolicyService=l,this.fwcRoutingTableService=c,this.fwcUserService=d,this.store=u,this.router=m,this.fwcErrorPipe=g,this.fb=y,this.messageService=v,this.translate=S,this.availableNumbersItems=[]}ngOnInit(){this.formModel=this.fb.group({id:new Ee(void 0),number:new Ee(Me.required),name:new Ee("",Me.required),comment:new Ee("")}),this.formModel.valueChanges.subscribe(({number:t})=>{if(this.selectedTableNumber!==t){this.selectedTableNumber=t;let o=this.formModel.get("name");t===254?(o.setValue("main"),o.disable()):(o.enable(),o.value==="main"&&o.reset())}})}showNewRoutingTableDialog(t,o,r,s,a,l){this.clusterId=t,this.clusterName=o,this.firewallId=r,this.firewallName=s,this.fwcloudId=a;let c=[];this.utilService.fwcAPICall(this.fwcRoutingTableService.getRoutingTables.bind(this.fwcRoutingTableService),r,a).then(d=>{let u,m=d.data,g=new Map;if(Array.isArray(m))for(let y of m)g.set(y.number,y.name),y.id===l&&(u=y);c.push({label:"254 (main)",value:254,disabled:g.has(254)});for(let y=1;y<=250;y++){let v="";g.has(y)&&(v=` (${g.get(y)})`),c.push({label:y+v,value:y,disabled:v!==""})}if(u)this.formModel.reset({id:u.id,name:u.name,number:u.number,comment:u.comment});else for(let y of c)if(!y.disabled){this.formModel.get("number").setValue(y.value),this.formModel.markAsDirty();break}}).catch(d=>{this.errorMessage={type:"error",title:this.translate.instant("PANELS.ROUTING_RULE_PANEL.ERRORS.GET_ROUTING_TABLES.TEXT"),text:this.fwcErrorPipe.transform(d)}}).finally(()=>{this.availableNumbersItems=c.map(d=>({label:d.label,value:d.value,disabled:d.disabled||!1})),this.showDialog()})}handleSave(){if(this.formModel.valid){let{id:t,number:o,name:r,comment:s}=this.formModel.getRawValue();this.store.dispatch(qi.requestBlockUI());let a=this.fwcRoutingTableService.newRoutingTable.bind(this.fwcRoutingTableService),l=[this.firewallId,this.fwcloudId,o,r,s];t&&(a=this.fwcRoutingTableService.updateRoutingTable.bind(this.fwcRoutingTableService),l=[this.firewallId,this.fwcloudId,t,o,r,s]),this.loading=!0,this.utilService.fwcAPICall(a,...l).then(c=>{let d;t||(d={_fwcObjId:c.data.id,_fwcObjType:gr.ROUTING_TABLE,container:Ge.C_FIREWALLS}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS,treeNodeToSelect:d});let u=this.fwcPolicyService.getActualSelectedPolicy();if(t&&u&&u._fwcPolicyType===gr.ROUTING_TABLE&&u._fwcObjId===t?(u._fwcPolicyName=r,this.fwcPolicyService.setSelectedPolicy(u)):u._fwcPolicyType===gr.POLICY_ROUTING&&this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}})),!t){let m={fwcloud:this.fwcloudId,_fwcFwId:this.firewallId,_fwcFwName:this.clusterId?this.clusterName:this.firewallName,_fwcClusterId:this.clusterId,_fwcObjId:c.data.id,_fwcPolicyType:gr.ROUTING_TABLE,_fwcPolicyName:r};this.fwcPolicyService.setSelectedPolicy(m)}this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.NEW_TABLE_PANEL.SUCCESS")}),this.hideDialog()}).catch(c=>{let d;d=this.fwcErrorPipe.transform(c),d||(d=this.translate.instant("ROUTING.NEW_TABLE_PANEL.ERROR")),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:d})}).finally(()=>{this.loading=!1,this.store.dispatch(qi.requestUnblockUI())})}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(Tt),x(qn),x(aa),x(dt),x(tt),x(at),x(Ni),x(ur),x(ii),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-routing-table-panel"]],standalone:!1,features:[re],decls:8,vars:5,consts:[["dlgRoutingRuleDialog",""],["header",""],["footer",""],["styleClass","dlgFwcDialog fwcObjectDialog--small",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[3,"message"],[3,"formGroup"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-policy","fwcOrange"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"p-inputgroup"],[1,"p-float-label"],["name","number","formControlName","number","appendTo","body",1,"dropDownForm",3,"options","autoDisplayFirst"],["for","number"],[1,"fwc-error",3,"ngStyle"],["pInputText","","type","text","formControlName","name","name","name",3,"drop"],["for","name"],["pInputText","","type","text","formControlName","comment","name","comment",3,"drop"],["for","comment"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(2,MYe,5,1,"ng-template",null,1,ie),G(4,BYe,1,1,"sts-fwc-message",4)(5,VYe,28,19,"form",5),E(6,UYe,4,9,"ng-template",null,2,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(4),H(r.errorMessage?4:5))},dependencies:[ft,eo,Hi,_i,Zn,to,ao,Ut,bt,si,Pn,Ir,Nn,It],encapsulation:2});let i=n;return i})();var Gh=(()=>{let n=class n extends IO{constructor(t,o,r,s,a,l,c,d,u,m,g,y){super(t,o,r,s,l,c,d,u,m,g),this.translate=t,this.fwcErrorPipe=o,this.utilService=r,this.fwcUserService=s,this.fwcPolicyService=a,this.fwcRoutingPolicyService=l,this.fwcRoutingTableService=c,this.ruleSelectedService=d,this.messageService=u,this.cd=m,this.store=g,this.confirmationService=y}showNewRoutingTableDialog(t,o,r,s,a,l){let c=this.utilService.createDynamicComponentRef(lee),d=c.instance;d.setDynamicComponentRef(c),d.showNewRoutingTableDialog(t,o,r,s,a,l)}showNewRouteDialog(t,o,r,s,a,l){let c=this.utilService.createDynamicComponentRef(xO),d=c.instance;d.setDynamicComponentRef(c),d.showNewRouteDialog(t,o,r,s,a,l)}parseRoutingTableRoutes(t,o,r){let s=[];for(let a of r){let l={id:a.id,idgroup:a.routeGroupId,group_name:a.routeGroup&&a.routeGroup.name,group_style:a.routeGroup&&a.routeGroup.style,comment:a.comment,style:a.style,type:gr.ROUTING_TABLE,rule_order:a.route_order,active:a.active?1:0,firewall:t,fwcloud:o,fw_apply_to:a.firewallApplyToId,positions:[]},c=1,d={id:ji.TO_POSITION,name:this.translate.instant("ITEM_PANEL.FIELDS.PORT_E"),policy_type:l.type,position_order:c++,content:"O",single_object:0,fwcloud:o,firewall:t,rule:l.id,ipobjs:[]};if(Array.isArray(a.items)){let m=1;for(let g of a.items){let y={rule:l.id,position:ji.TO_POSITION,id:g.id,name:g.name,type:g.type,position_order:m++,firewall_id:g.firewall_id,firewall_name:g.firewall_name,cluster_id:g.cluster_id,cluster_name:g.cluster_name,host_id:g.host_id,host_name:g.host_name};d.ipobjs.push(y)}}if(l.positions.push(d),a.gateway){let m=a.gateway,g={id:ji.GATEWAY_POSITION,name:this.translate.instant("Gateway"),policy_type:l.type,position_order:c++,content:"O",single_object:1,fwcloud:o,firewall:t,rule:l.id,ipobjs:[{rule:l.id,position:ji.GATEWAY_POSITION,id:m.id,name:m.name,type:m.ipObjTypeId,allowDrag:!1,position_order:1,firewall_id:m.firewall_id,firewall_name:m.firewall_name,cluster_id:m.cluster_id,cluster_name:m.cluster_name,host_id:m.host_id,host_name:m.host_name}]};l.positions.push(g)}let u={id:ji.INTERFACE_POSITION,name:this.translate.instant("GLOBALS.MSG_OBJ_TYPES.OBJ_INTERFACE_FIREWALL"),policy_type:l.type,position_order:c++,content:"I",single_object:1,fwcloud:o,firewall:t,rule:l.id,ipobjs:[]};if(a.interface){let m=a.interface,g={rule:l.id,position:ji.INTERFACE_POSITION,id:m.id,name:m.name,type:m.type,position_order:1,firewall_id:m.firewall_id||m.firewallId,firewall_name:m.firewall_name,cluster_id:m.cluster_id,cluster_name:m.cluster_name,host_id:m.host_id,host_name:m.host_name};u.ipobjs.push(g)}l.positions.push(u),s.push(l)}return s}updateRoute(t,o,r,s,a,l){let c=!1,d=!1,u=r.comment,m=r.style,g=r.active,y=r.id,v=r.routingTableId,S={};s!==u&&(S.comment=s,c=!0,d=!0),a!==m&&(S.style=a,c=!0),l!==g&&(S.active=!!l,c=!0,d=!0),c&&(this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,o,v,y,S).then(I=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),a!==m&&(r.style=a),l!==g&&(r.active=l),s!==u&&(r.comment=s),d&&this.fwcPolicyService.reloadPolicy()}).catch(I=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(I)}),a!==m&&(r.style=m),l!==g&&(r.active=g),s!==u&&(r.comment=u)}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()}))}updateSelectedRoutes(t,o,r,s,a){let l=this.ruleSelectedService.getActualSelectedRules();if(Array.isArray(l)&&l.length){let c=l.map(u=>u.id);this.ruleSelectedService.setRuleStatus("");let d=!!Object.keys(a).length;this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoutes.bind(this.fwcRoutingTableService),o,r,s,c,a).then(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.fwcPolicyService.reloadPolicy(),d&&this.dispatchFwStatusUpdateAction(t,o)}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}}buildRoutesCopyApiData(t,o){let r={};switch(o.id){case ji.GATEWAY_POSITION:{r.gatewayId=t._fwcObjId;break}case ji.INTERFACE_POSITION:{r.interfaceId=t._fwcObjId;break}case ji.TO_POSITION:{r=this.buildCopyApiData(t,o);break}default:return}return r}buildRoutesRemoveApiData(t,o){let r={};switch(o.id){case ji.GATEWAY_POSITION:break;case ji.INTERFACE_POSITION:{r.interfaceId=null;break}case ji.TO_POSITION:{r=this.buildRemoveApiData(t,o);break}default:return}return r}updateRoutePosition(t,o,r,s,a,l,c,d){let u={},m=c._fwcPositionId,g=c._fwcRuleId;if(m==null||g==null||d==Go.COPY)if((c.obj_type==O.OBJ_OPENVPN_PREFIX||c.obj_type==O.OBJ_WIREGUARD_PREFIX||c.obj_type==O.OBJ_IPSEC_PREFIX||c.obj_type==O.OBJ_INTERFACE_FIREWALL)&&"items"in c&&c.items.length===0||c.obj_type==O.OBJ_HOST&&"items"in c&&c.items.length>0&&c.items[0].items.length===0)this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:c.obj_type==O.OBJ_HOST?this.translate.instant("POSITION.ERROR_EMPTY_CONTAINER",{name:c._fwcObjName,ipVersion:"IP"}):c.obj_type==O.OBJ_INTERFACE_FIREWALL?this.translate.instant("POSITION.ERROR_GROUP_EMPTY",{name:c._fwcObjName}):this.translate.instant("POSITION.ERROR_EMPTY_PREFIX",{name:c._fwcObjName}),accept:()=>{}});else{let y=this.buildRoutesCopyApiData(c,l);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),o,r,s,a,y).then(v=>{this.addOrUpdateObjectToPosition(l,c),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")});let S=t.getClusterId();this.dispatchFwStatusUpdateAction(S,o),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(a)}).catch(v=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}else this.ruleSelectedService.setRuleStatus(""),this.moveObject(t,o,r,s,a,l,c).then(()=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")})}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}moveObjectAlt(t,o,r,s,a,l,c){return V(this,null,function*(){try{let d=this.buildRoutesCopyApiData(c,l);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),o,r,s,a,d);let u=t.getPolicyRule(c._fwcRuleId),m=u.positions.find(v=>v.id===c._fwcPositionId),g=this.buildRoutesRemoveApiData(c,m);yield this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),o,r,s,u.id,g),this.addOrUpdateObjectToPosition(l,c),this.removeObjectFromPosition(m,c);let y=t.getClusterId();this.dispatchFwStatusUpdateAction(y,o),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(u.id),this.ruleSelectedService.setRuleHeightRecalculate(a)}catch(d){throw d}})}moveObject(t,o,r,s,a,l,c){return V(this,null,function*(){try{let d,u;switch(c._fwcObjType){case O.OBJ_GROUP:{d="ipObjGroupId";break}case O.OBJ_OPENVPN_PREFIX:{d="openVPNPrefixId";break}case O.OBJ_OPENVPN_CONFIG_CLI:{d="openVPNId";break}case O.OBJ_WIREGUARD_PREFIX:{d="wireguardPrefixId";break}case O.OBJ_WGC_CONFIG_CLI:{d="wireguardId";break}case O.OBJ_IPSEC_PREFIX:{d="ipsecPrefixId";break}case O.OBJ_ISC_CONFIG_CLI:{d="ipsecId";break}case O.OBJ_INTERFACE_FIREWALL:{d="interfaceId";break}default:{d="ipObjId";break}}let m=t.getPolicyRule(c._fwcRuleId),g=m.positions.find(v=>v.id===c._fwcPositionId);u={fromId:m.id,toId:a},u[d]=c._fwcObjId,yield this.utilService.fwcAPICall(this.fwcRoutingTableService.moveObjectInRoutes.bind(this.fwcRoutingTableService),o,r,s,l.id,u),this.addOrUpdateObjectToPosition(l,c),this.removeObjectFromPosition(g,c),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(m.id),this.ruleSelectedService.setRuleHeightRecalculate(a);let y=t.getClusterId();this.dispatchFwStatusUpdateAction(y,o),Promise.resolve()}catch{Promise.reject()}})}addOrUpdateObjectToPosition(t,o){let r={cluster_id:o._fwcClusterId,cluster_name:o._fwcClusterName,firewall_id:o._fwcFwId,firewall_name:o._fwcFwName,host_id:o._fwcHostId,host_name:o._fwcHostName,id:o._fwcObjId,id_obj:o._fwcObjId,name:o._fwcObjName,obj_type:o._fwcObjType,parent_id:o.parent_id,position:t.id,position_order:t.ipobjs?t.ipobjs.length:1,rule:t.rule,type:o._fwcObjType,_fwcFwId:o._fwcFwId,_fwcFwName:o._fwcFwName,_fwcObjId:o._fwcObjId,_fwcObjName:o._fwcObjName,_fwcObjType:o._fwcObjType,_fwcPositionId:t.id,_fwcRuleId:t.rule,_fwcUserId:this.fwcUserService.getActualFwcUser().user_id,highlighted:o.highlighted};t.id===ji.GATEWAY_POSITION||t.id===ji.INTERFACE_POSITION?(t.id===ji.GATEWAY_POSITION?(t.ipobjs=t.ipobjs.filter(s=>s.obj_type!==O.OBJ_ADDRESS),r.allowDrag=!1):t.ipobjs=t.ipobjs.filter(s=>s.obj_type!==O.OBJ_INTERFACE_FIREWALL&&s.obj_type!==O.OBJ_INTERFACE_HOST),t.ipobjs.unshift(r)):t.id===ji.TO_POSITION&&(t.ipobjs=[...t.ipobjs,r])}deleteObjectFromPosition(t,o,r,s,a,l,c){let d={};switch(l.id){case ji.INTERFACE_POSITION:{d.interfaceId=null;break}case ji.TO_POSITION:{d=this.buildRemoveApiData(c,l);break}default:return}this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),t,r,s,a,d).then(u=>{this.removeObjectFromPosition(l,c),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),this.dispatchFwStatusUpdateAction(o,t),this.dispatchReloadItemEditingPanels(),this.ruleSelectedService.setRuleHeightRecalculate(a)}).catch(u=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}compileRoutes(t){this.compileRulesOrRoutes(t)}moveSelectedRoutes(t,o,r,s,a,l,c){this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcRoutingTableService.manageTableRoutes.bind(this.fwcRoutingTableService),o,r,s,a,c,l,Go.CUT).then(d=>{this.fwcPolicyService.reloadPolicy(),this.dispatchFwStatusUpdateAction(t,o)}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")})}).finally(()=>{this.store.dispatch(qi.requestUnblockUI())})}setRouteStyle(t,o){if(o){let r={style:o.ruleColor};this.updateSelectedRoutes(t._fwcClusterId,t.firewall,this.fwcUserService.getActualFwSelectedCloud(),o.routingTableId,r)}}updateRouteComment(t,o){if(o&&o.formModel){let r=o.formModel.comment;if(o.comment!==r){let s=o.firewall,a=o.fwcloud,l={comment:r};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingTableService),s,a,t,o.id,l).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_ROUTE")}),o.comment=r,this.dispatchFwStatusUpdateAction(o._fwcClusterId,s)}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)}),o.formModel.comment=o.comment}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}}updateRuleApplyTo(t,o){if(o&&o.formModel){let r=o.firewall,s=o.fwcloud,a={firewallApplyToId:o.formModel.fw_apply_to};this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.updateRoutingTableRoute.bind(this.fwcRoutingPolicyService),r,s,t,o.id,a).then(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("ROUTING.SUCCESS.UPDATE_RULE")}),this.dispatchFwStatusUpdateAction(o._fwcClusterId,o.firewall),this.dispatchReloadItemEditingPanels(),this.detectChanges()}).catch(l=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null),this.detectChanges()})}}newRouteGroup(t,o,r){let s=r&&r.groupName,a=r&&r.groupComment;if(s){let c=this.ruleSelectedService.getActualSelectedRules().map(d=>d.id);this.ruleSelectedService.setRuleStatus(""),this.utilService.fwcAPICall(this.fwcRoutingTableService.newRoutingTableRouteGroup.bind(this.fwcRoutingTableService),t,o,s,a,c).then(d=>{this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]})),this.fwcPolicyService.reloadPolicy()}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.ruleSelectedService.setRuleStatus(null)})}else return}};n.\u0275fac=function(o){return new(o||n)(be($e),be(Ni),be(Tt),be(dt),be(qn),be(ch),be(aa),be(dh),be(ii),be(We),be(tt),be(ti))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})();var GYe=["txtScriptString"],HYe=()=>({height:"98%",minHeight:"12rem"});function zYe(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"SCRIPT_PANEL.HEADER_DHCP")," ")}function WYe(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"SCRIPT_PANEL.HEADER_KEEPALIVED")," ")}function $Ye(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"SCRIPT_PANEL.HEADER_HAPROXY")," ")}function KYe(i,n){i&1&&(R(0),D(1,"translate")),i&2&&Y(" ",k(1,1,"SCRIPT_PANEL.HEADER")," ")}function qYe(i,n){if(i&1&&(_(0,"div",9)(1,"h6",10),G(2,zYe,2,3)(3,WYe,2,3)(4,$Ye,2,3)(5,KYe,2,3),b()()),i&2){let e,t=h();p(2),H((e=t.policyType)===66?2:e===68?3:e===69?4:5)}}function JYe(i,n){if(i&1){let e=B();we(0),_(1,"div",11)(2,"p-button",12),D(3,"translate"),A("click",function(){w(e);let o=h();return C(o.onCancel())}),b(),_(4,"p-button",13),D(5,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onSubmit())}),b()(),Ce()}i&2&&(p(2),f("label",ae(k(3,4,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(5,6,"GLOBALS.MSG_BUTTONS.SAVE"))))}var Tmi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u){super(t,o,r,s,a,l),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.store=a,this.router=l,this.confirmationService=c,this.translate=d,this._document=u,this.darkMode=!1}ngOnInit(){this.store.pipe(Cn(Ss),Nt(()=>this.alive)).subscribe(t=>{this.darkMode=t==="dark"})}ngAfterViewInit(){}onShowDialog(){this.txtScriptString&&setTimeout(()=>{this.txtScriptString.nativeElement.focus()},100)}ngOnDestroy(){super.ngOnDestroy()}show(t,o){this.rule=o,this.PolicyObject=t,this.scriptstring=o.run_before,this.policyType=this.PolicyObject.getPolicyType(),(this.policyType===66||this.policyType===68||this.policyType===69)&&(this.scriptstring=o.cfg_text),this.scriptGroup=new ho({scriptForm:new Ee(this.scriptstring)}),this.showDialog()}onSubmit(){this.scriptstring=this.scriptGroup.value.scriptForm,this.rule.formModel.run_before=this.scriptstring,this.rule.type===Fi[M.DHCP]||this.rule.type===Fi[M.KEEPALIVED]||this.rule.type===Fi[M.HAPROXY]?(this.rule.formModel.cfg_text=this.scriptstring,this.rule.formModel.run_before=void 0,this.PolicyObject.setRuleScript(this.rule)):this.PolicyObject.setRuleScript(this.rule),this.hideDialog()}onCancel(t){!t&&this.scriptGroup&&!this.scriptGroup.pristine&&this.scriptGroup.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("CLOUD.MSG_CLOUD_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x(tt),x(at),x(ti),x($e),x(Ci))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-config-panel"]],viewQuery:function(o,r){if(o&1&&_e(GYe,5),o&2){let s;W(s=$())&&(r.txtScriptString=s.first)}},standalone:!1,features:[Se([Bt,CO,EO,Gh]),re],decls:12,vars:8,consts:[["dlgConfigDialog",""],["header",""],["txtScriptString",""],["footer",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[1,"fwcScriptPanel",3,"formGroup"],[1,"grid"],[1,"col-12"],["id","textScript","formControlName","scriptForm","pInputText","",1,"textScript",3,"ngStyle"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divLoadTemp"],["type","button","styleClass","p-button-danger","icon","pi pi-trash","icon","pi pi-times",3,"click","label"],["type","button","styleClass","p-button-success","icon","fa fa-save",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.hideDialog())}),E(2,qYe,6,1,"ng-template",null,1,ie),_(4,"form",5)(5,"div",6)(6,"div",7)(7,"textarea",8,2),R(9),b()()()(),E(10,JYe,6,8,"ng-template",null,3,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(4),f("formGroup",r.scriptGroup),p(3),f("ngStyle",Pe(7,HYe)),p(2),Q(r.scriptstring))},dependencies:[ft,eo,Hi,_i,Zn,to,ao,Ut,bt,si,It],encapsulation:2});let i=n;return i})();var v3=Xr(Kd());var QYe=["txtCompiledString"],YYe=()=>({height:"98%",minHeight:"32rem",lineHeight:"1.1"});function XYe(i,n){if(i&1){let e=B();_(0,"div",8)(1,"h6",9),R(2),D(3,"translate"),b()(),_(4,"div",10)(5,"p-button",11),A("onClick",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()()}if(i&2){let e=h();p(2),Ps(" ",k(3,2,"CONTEXT.POLICY.HEADER")," ",e.firewallName," ")}}function ZYe(i,n){if(i&1){let e=B();_(0,"p-button",12),D(1,"translate"),A("click",function(){w(e);let o=h();return C(o.handleExportedToClipboard())}),b(),_(2,"p-button",13),D(3,"translate"),A("click",function(){w(e);let o=h();return C(o.downloadPolicyScript(o.firewallId))}),b(),_(4,"p-button",14),D(5,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancel())}),b()}i&2&&(f("label",ae(k(1,6,"VPN.CONFIG.CLIPBOARD.BUTTON"))),p(2),f("label",ae(k(3,8,"CONTEXT.POLICY.DOWNLOAD"))),p(2),f("label",ae(k(5,10,"GLOBALS.MSG_BUTTONS.CLOSE"))))}var w3=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v){super(t,o,r,d,u,m),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.fwcFirewallService=s,this.fwcPolicyService=a,this.fwcUserService=l,this.utilService=c,this.cd=d,this.store=u,this.router=m,this.confirmationService=g,this.translate=y,this._document=v,this.darkMode=!1,this.firewalls=[],this.FirewallOpsIcons=Id}ngOnInit(){this.store.pipe(Cn(Ss),Nt(()=>this.alive)).subscribe(t=>{this.darkMode=t==="dark"})}ngAfterViewInit(){}show(t){let o,r=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{s.data&&Array.isArray(s.data)&&(r=s.data),r.find(a=>a.id===t)===void 0||r.find(a=>a.id===t)===null?o=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):o=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),o(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=[],c,d;Array.isArray(a.data)&&a.data.length?l.push(...a.data):a.data&&a.data.id&&l.push(a.data),this.firewalls=[];for(let u=0;u<l.length;u++){if(l[u].status_compiled=l[u].status&1,l[u].status_installed=l[u].status&2,l[u].status_compiled=l[u].status_compiled?ni.FW_PENDING:ni.FW_OK,l[u].status_installed=l[u].status_installed?ni.FW_PENDING:ni.FW_OK,c=l[u].cluster,c==null)this.firewalls.push(l[u]);else{d=!1;for(let y=0;y<this.firewalls.length&&!d;y++)this.firewalls[y].cluster==c&&(this.firewalls[y].fwnodes.push(l[u]),d=!0);let m="",g=r.filter(y=>y.id==c);if(g&&g.length&&(m=g[0].name),!d){let y=Object.assign({},l[u]);l[u].name=m,l[u].fwnodes=[],l[u].fwnodes.push(y),this.firewalls.push(l[u])}}this.firewalls[u]!==void 0&&this.firewalls[u].status_compiled==ni.FW_PENDING?(this.firewalls[u].status_compiled=ni.FW_WARNING,this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[u].name}),reject:()=>{this.hideDialog()},accept:()=>{let m;r.find(g=>g.id===t)===void 0||r.find(g=>g.id===t)===null?m={compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_FIREWALL,compileId:t,compileType:0}:m={compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_CLUSTER,compileId:t,compileType:100},this.itemSelectedService.setCloudToCompile(m),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.firewallId=this.firewalls[0].id,this.fwcPolicyService.getPolicyRules(this.fwcUserService.getActualFwSelectedCloud(),this.firewallId).subscribe(m=>{this.PolicyCompiledString=m.data}),this.showDialog())}})})}ngOnDestroy(){super.ngOnDestroy()}onShowDialog(){}onCancel(){this.hideDialog()}downloadPolicyScript(t){return V(this,null,function*(){if(this.firewalls.length===0||this.firewalls===null||this.firewalls===void 0){let r,s=[];this.fwcFirewallService.getClustersByCloud(this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{a.data&&Array.isArray(a.data)&&(s=a.data),s.find(l=>l.id===t)===void 0||s.find(l=>l.id===t)===null?r=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService):r=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),r(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(l=>{let c=[],d,u;if(Array.isArray(l.data)&&l.data.length?c.push(...l.data):l.data&&l.data.id&&c.push(l.data),c[0].status_compiled=c[0].status&1,c[0].status_installed=c[0].status&2,c[0].status_compiled=c[0].status_compiled?ni.FW_PENDING:ni.FW_OK,c[0].status_installed=c[0].status_installed?ni.FW_PENDING:ni.FW_OK,d=c[0].cluster,d==null)this.firewalls.push(c[0]);else{u=!1;for(let y=0;y<this.firewalls.length&&!u;y++)this.firewalls[y].cluster==d&&(this.firewalls[y].fwnodes.push(c[0]),u=!0);let m="",g=s.filter(y=>y.id==d);if(g&&g.length&&(m=g[0].name),!u){let y=Object.assign({},c[0]);c[0].name=m,c[0].fwnodes=[],c[0].fwnodes.push(y),this.firewalls.push(c[0])}}c[0]!==void 0&&c[0].status_compiled==ni.FW_PENDING?(this.hideDialog(),this.confirmationService.confirm({header:this.translate.instant("CONTEXT.POLICY.ERROR_HEADER"),message:this.translate.instant("CONTEXT.POLICY.ERROR_BODY",{name:this.firewalls[0].name}),reject:()=>{this.hideDialog()},accept:()=>{let m;s.find(g=>g.id===t)===void 0||s.find(g=>g.id===t)===null?m={compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_FIREWALL,compileId:t,compileType:0}:m={compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_CLUSTER,compileId:t,compileType:100},this.itemSelectedService.setCloudToCompile(m),this.hideDialog()},rejectLabel:"No",acceptLabel:this.translate.instant("CONTEXT.FW.COMPILE")})):(this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),this.firewalls[0].id).then(m=>{let g=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,v3.saveAs)(m.body,g)}))})})}else this.firewallName=this.firewalls[0].name,this.utilService.fwcAPICall(this.fwcPolicyService.generatePolicyScript.bind(this.fwcPolicyService),this.fwcUserService.getActualFwSelectedCloud(),t).then(r=>{let s=`${this.fwcUserService.getActualFwcUser().selectedFwCloudName}_${this.firewallName}_policy.sh`;(0,v3.saveAs)(r.body,s)});this.ngOnDestroy()})}handleExportedToClipboard(){this.txtCompiledString&&(document.execCommand("copy"),this.txtCompiledString.nativeElement.setSelectionRange(0,0))}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(Bt),x(qn),x(dt),x(Tt),x(We),x(tt),x(at),x(ti),x($e),x(Ci))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-config-panel"]],viewQuery:function(o,r){if(o&1&&_e(QYe,5),o&2){let s;W(s=$())&&(r.txtCompiledString=s.first)}},standalone:!1,features:[Se([Bt,Ba,CO,EO,Gh]),re],decls:11,vars:8,consts:[["dlgConfigDialog",""],["header",""],["txtCompiledString",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog--log-resize",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[1,"grid","divFw","fwc-log-grid"],[1,"col-12"],["id","textarea","readonly","true","pInputText","",1,"textPolicyString","font-mono","flex-1"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"divHeaderButtons"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"click","label"],["type","button","styleClass","p-button-secondary","icon","fa fa-download",3,"click","label"],["icon","pi pi-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.hideDialog())}),E(2,XYe,6,4,"ng-template",null,1,ie),_(4,"div",5)(5,"div",6)(6,"textarea",7,2),R(8),b()()(),E(9,ZYe,6,12,"ng-template",null,3,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(6),De(Pe(7,YYe)),p(2),Q(r.PolicyCompiledString))},dependencies:[Ut,bt,si,It],encapsulation:2});let i=n;return i})();var eXe=["opLogger"],tXe=["menuUpdate"],iXe=i=>({display:i}),nXe=()=>({width:"2rem",height:"2rem"}),oXe=()=>({width:"1.5rem",height:"1.5rem"});function rXe(i,n){if(i&1){let e=B();_(0,"div",5)(1,"div",13)(2,"i",14),A("click",function(){w(e);let o=h();return C(o.handleCloseDialog())}),b()(),_(3,"div",7),N(4,"p-progressSpinner"),_(5,"h3"),R(6),D(7,"translate"),b()()()}i&2&&(p(4),De(Pe(5,nXe)),p(2),Q(k(7,3,"PANELS.UPDATES_PANEL.INFO.CHECKING_UPDATES.HEADER")))}function sXe(i,n){i&1&&(_(0,"tr")(1,"th"),R(2),D(3,"translate"),b(),_(4,"th"),R(5),D(6,"translate"),b(),_(7,"th"),R(8),D(9,"translate"),b(),_(10,"th"),R(11),D(12,"translate"),b(),_(13,"th"),R(14,"Changelog"),b()()),i&2&&(p(2),Q(k(3,4,"PANELS.UPDATES_PANEL.TABLE.APP")),p(3),Q(k(6,6,"PANELS.UPDATES_PANEL.TABLE.CURRENT")),p(3),Q(k(9,8,"PANELS.UPDATES_PANEL.TABLE.LAST")),p(3),Q(k(12,10,"PANELS.UPDATES_PANEL.TABLE.NEEDS_UPDATE")))}function aXe(i,n){i&1&&N(0,"i",24)}function lXe(i,n){if(i&1){let e=B();_(0,"a",26),A("click",function(){w(e);let o=h().$implicit,r=h(2);return C(r.fetchChangeLog(o))}),N(1,"i",27),b()}}function cXe(i,n){i&1&&N(0,"p-progressSpinner"),i&2&&De(Pe(2,oXe))}function dXe(i,n){if(i&1){let e=B();_(0,"tr")(1,"td",20)(2,"span",21),A("contextmenu",function(o){let r=w(e).$implicit,s=h(2);return C(s.handleShowUpdateMenu(r,o))}),R(3),b()(),_(4,"td",20)(5,"span",22),R(6),b()(),_(7,"td",20)(8,"span",22),R(9),b()(),_(10,"td",23),G(11,aXe,1,0,"i",24),b(),_(12,"td",23),G(13,lXe,2,0,"a"),G(14,cXe,1,3,"p-progressSpinner",25),b()()}if(i&2){let e=n.$implicit,t=h(2);p(3),Y(" ",e.appName," "),p(3),Y(" ",e.current?e.current:"?"," "),p(3),Y(" ",e.last?e.last:"?","\xA0 "),p(2),H(e.needsUpdate?11:-1),p(2),H(t.appBeingFetched!==e.appName?13:-1),p(),H(t.appBeingFetched===e.appName?14:-1)}}function pXe(i,n){if(i&1){let e=B();_(0,"p-button",28),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handleUpdate())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_OP_ASK.YES")))("disabled",e.updating||!e.anyUpdatesSelected||e.pkgBasedInstall)}}function uXe(i,n){if(i&1){let e=B();_(0,"div",5)(1,"div",7),N(2,"i",15),_(3,"p")(4,"strong"),R(5),D(6,"translate"),D(7,"translate"),b()()(),_(8,"div",9)(9,"p"),R(10),D(11,"translate"),D(12,"translate"),b()(),_(13,"div",9)(14,"p-table",16),E(15,sXe,15,12,"ng-template",null,2,ie)(17,dXe,15,6,"ng-template",null,3,ie),b()(),_(19,"div",9)(20,"p"),R(21),D(22,"translate"),D(23,"translate"),b()(),_(24,"div",17),G(25,pXe,2,5,"p-button",18),_(26,"p-button",19),D(27,"translate"),D(28,"translate"),A("onClick",function(){w(e);let o=h();return C(o.dialogRef.close({needsReloadUpdates:!!o.pkgBasedInstall}))}),b()()()}if(i&2){let e=h();p(5),Q(e.manualUpdate?k(6,8,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.HEADER"):k(7,10,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.HEADER")),p(5),Y(" ",e.manualUpdate?k(11,12,"PANELS.UPDATES_PANEL.INFO.MANUAL_VERSION.TEXT"):k(12,14,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.TEXT")," "),p(4),f("value",e.updateDataAsArray),p(7),Y(" ",e.pkgBasedInstall?k(22,16,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT_PKG_INSTALL"):k(23,18,"PANELS.UPDATES_PANEL.INFO.NEW_VERSION.SUBTEXT")," "),p(4),H(e.pkgBasedInstall?-1:25),p(),f("label",ae(e.pkgBasedInstall?k(28,22,"GLOBALS.MSG_BUTTONS.CLOSE"):k(27,20,"GLOBALS.MSG_OP_ASK.LATER")))("disabled",e.updating)}}function hXe(i,n){if(i&1&&(_(0,"div",9),N(1,"sts-fwc-message",29),b()),i&2){let e=h();p(),f("message",e.opMessage)}}var cee=(()=>{let n=class n extends fO{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t,r),this.dialogRef=t,this.dialogConfig=o,this._router=r,this.fwcEventService=s,this.fwcUserService=a,this.fwcAuthService=l,this.appDialogPanelsService=c,this.confirmationService=d,this.messageService=u,this.utilService=m,this.translate=g,this.shouldCheckUpdates=!0,this.needsUpdate=!1,this.manualUpdate=!1,this.openedFromHelp=!1,this.needsRelogin=!1,this.needsReloadUpdates=!1,this.updating=!1,this.anyUpdatesSelected=!1,this.finishedUpdating=!1,this.updateDataAsArray=[],this.menuUpdateOptions=[],this.shouldCheckUpdates=Ie.settings.checkUpdates,this.pkgBasedInstall=Ie.settings.installMethod===cd.pkg}ngOnInit(){this.openedFromHelp=this.dialogConfig.data&&this.dialogConfig.data.openedFromHelp,this.checkingUpdates=!0,this.getUpdatesSubscription=this.utilService.getAppVersions().subscribe({next:t=>{if(t.data){this.updateData=this.parseUpdateInfo(t.data),this.updateDataAsArray=this.transformUpdateInfoToArray(this.updateData),this.fwcUserService.setAppVersions(this.updateDataAsArray),this.itUpdateData=this.createUpdateDataIterator(),this.manualUpdate=this.dialogConfig.data&&this.dialogConfig.data.manualUpdate;for(let o in t.data)if(t.data[o].needsUpdate){this.needsUpdate=!0,this.anyUpdatesSelected=!0;break}!this.needsUpdate&&!this.manualUpdate&&(this.dialogRef.close({needsReloadUpdates:!0}),this.shouldCheckUpdates&&this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.INFO.VERSION_ALREADY_UPDATED.TEXT")}))}this.checkingUpdates=!1},error:()=>{this.fwcUserService.setAppVersions([]),this.dialogRef.close({needsReloadUpdates:!0}),this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.TEXT")+(this.openedFromHelp?"":this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.NEW_VERSION.SUBTEXT"))}),this.checkingUpdates=!1}})}ngOnDestroy(){this.alive=!1}handleShowUpdateMenu(t,o){this.manualUpdate&&t&&t.apiEndpoint!=="updater"&&(t.needsUpdate?this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.CLEAR"),icon:"fa fa-times fwcRed",command:()=>{t.needsUpdate=!1;let r=!1;for(let s of this.updateDataAsArray)if(s.needsUpdate){r=!0;break}this.anyUpdatesSelected=r}}]:this.menuUpdateOptions=[{label:this.translate.instant("PANELS.UPDATES_PANEL.UPDATE_MENU.FORCE"),icon:"fa fa-check fwcGreen",command:()=>{t.needsUpdate=!0,this.anyUpdatesSelected=!0}}],this.menuUpdate.toggle(o))}handleUpdate(){return V(this,null,function*(){this.updating=!0,this.updateData&&(this.fwcEventService.getEvent().pipe(Nt(()=>this.alive)).subscribe(t=>{t.type===Dc.EVENT_CONNECTION_ESTABLISHED?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_RESTORED"),Ue.MSG_INFO),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),Ue.MSG_OK),this.needsReloadUpdates=!0,this.currentOp&&this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation()):t.type===Dc.EVENT_CONNECTION_LOST&&this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.SERVER_CONNECTION_LOST"),Ue.MSG_INFO)}),this.log.startDataLoad(),this.doUpdateOperation())})}doUpdateOperation(){return V(this,null,function*(){if(this.currentOp=this.itUpdateData.next().value,this.currentOp)if(this.currentOp.needsUpdate)try{this.currentOp.impliesConnectionLoss?(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),Ue.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint)):(this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.LOG_TEXT",{appName:this.currentOp.appName}),Ue.MSG_INFO),yield this.utilService.fwcAPICall(this.utilService.updateVersion.bind(this.utilService),this.currentOp.apiEndpoint),this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.OK_TEXT",{appName:this.currentOp.appName}),Ue.MSG_OK),this.needsReloadUpdates=!0,this.currentOp.impliesRelogin&&(this.needsRelogin=!0),this.log.addBreakLine(),this.doUpdateOperation())}catch{this.addMessageToLog(this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.APPLYING_UPDATES.TEXT"),Ue.MSG_ERROR),this.log.stopDataLoad(),this.finishedUpdating=!0}else this.doUpdateOperation();else this.log.stopDataLoad(),this.finishedUpdating=!0,this.needsRelogin&&(this.opMessage={type:"warning",title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.HEADER"),text:this.translate.instant("PANELS.UPDATES_PANEL.INFO.RELOAD_REQUIRED.TEXT")})})}fetchChangeLog(t){t&&t.changelogURL&&t.appName&&(this.appBeingFetched=t.appName,fetch(t.changelogURL).then(o=>o.json()).then(o=>{if(o){let r=decodeURIComponent(escape(atob(o.content)));this.appDialogPanelsService.searchAndShowDialog({uuid:oi.DOCS_PANEL,data:{markdown:r,title:this.translate.instant("PANELS.UPDATES_PANEL.INFO.CHANGES",{appName:t.appName}),icon:"fa fa-tags"}})}this.appBeingFetched=null}).catch(o=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.HEADER"),detail:this.translate.instant("PANELS.UPDATES_PANEL.ERRORS.CHECKING_CHANGELOG.TEXT",{appName:t.appName})}),this.appBeingFetched=null}))}handleCloseDialog(){return V(this,null,function*(){if(this.getUpdatesSubscription&&this.getUpdatesSubscription.unsubscribe(),this.needsReloadUpdates&&!this.needsRelogin)try{this.checkingUpdates=!0,this.needsUpdate=this.manualUpdate=this.updating=!1;let t=yield this.utilService.fwcAPICall(this.utilService.getAppVersions.bind(this.utilService)),o=this.parseUpdateInfo(t.data),r=this.transformUpdateInfoToArray(o);this.fwcUserService.setAppVersions(r)}catch{}this.menuUpdate&&this.menuUpdate.hide(),this.dialogRef.close({needsReloadUpdates:this.needsReloadUpdates,needsRelogin:this.needsRelogin}),this.needsRelogin&&this.fwcUserService.logoutUser().toPromise().finally(()=>{this.utilService.doAppLogout(!0),this._router.navigate(["/"])})})}parseUpdateInfo(t){if(t){for(let o in t)t[o]||(t[o]={});t.updater.impliesConnectionLoss=!1,t.updater.apiEndpoint="updater",t.updater.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UPDATER"),t.updater.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-updater/contents/CHANGELOG.md?ref=main",t.api.impliesConnectionLoss=!0,t.api.apiEndpoint="api",t.api.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.API"),t.api.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-api/contents/CHANGELOG.md?ref=main",t.websrv.impliesConnectionLoss=!0,t.websrv.apiEndpoint="websrv",t.websrv.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV"),t.websrv.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-websrv/contents/CHANGELOG.md?ref=main",t.ui.impliesRelogin=!0,t.ui.apiEndpoint="ui",t.ui.appName=this.translate.instant("PANELS.UPDATES_PANEL.INFO.APPS.UI"),t.ui.changelogURL="https://api.github.com/repos/soltecsis/fwcloud-ui/contents/CHANGELOG.md?ref=main"}return t}transformUpdateInfoToArray(t){let o=[];return t&&(this.pkgBasedInstall||o.push(t.websrv),o.push(t.ui),o.push(t.api),this.pkgBasedInstall||o.push(t.updater)),o}*createUpdateDataIterator(){this.updateData&&(yield this.updateData.updater,yield this.updateData.api,yield this.updateData.websrv,yield this.updateData.ui)}};n.\u0275fac=function(o){return new(o||n)(x(jc),x(Mh),x(at),x(dn),x(dt),x(Ma),x(kt),x(ti),x(ii),x(Tt),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-update-panel"]],viewQuery:function(o,r){if(o&1&&(_e(eXe,5),_e(tXe,5)),o&2){let s;W(s=$())&&(r.log=s.first),W(s=$())&&(r.menuUpdate=s.first)}},standalone:!1,features:[re],decls:21,vars:19,consts:[["menuUpdate",""],["opLogger",""],["header",""],["body",""],["appendTo","body",3,"popup","model"],[1,"grid","updatePanelContent"],[1,"grid","updatePanelContent",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"fa","fa-5x","fa-refresh","fwcBlue"],[1,"col-12"],["height","10rem"],[1,"col-12","flex","flex-wrap","items-center","gap-3","justify-start"],["type","button","styleClass","p-button-info px-4 py-[0.429rem]","icon","fa fa-times",3,"onClick","disabled","label"],[1,"col-12","fwc-right"],[1,"pi","pi-times",2,"cursor","pointer",3,"click"],[1,"fa","fa-5x","fa-info-circle","fwcBlue"],[1,"tblUpdateTable",3,"value"],[1,"col-12","flex","flex-wrap","items-center","gap-3","justify-start","mt-6"],["type","button","styleClass","p-button-success px-4 py-[0.429rem]","icon","fa fa-check",3,"disabled","label"],["type","button","styleClass","p-button-secondary px-4 py-[0.429rem]","icon","fa fa-times",3,"onClick","disabled","label"],[1,"align-middle","whitespace-nowrap","overflow-hidden","text-ellipsis"],[1,"block","truncate",3,"contextmenu"],[1,"block","truncate"],[1,"align-middle","text-center"],[1,"fa","fa-fw","fa-check","fwcGreen"],[3,"style"],[3,"click"],[1,"fa","fa-fw","fa-eye","fwcBlue"],["type","button","styleClass","p-button-success px-4 py-[0.429rem]","icon","fa fa-check",3,"onClick","disabled","label"],[3,"message"]],template:function(o,r){if(o&1){let s=B();N(0,"p-menu",4,0),G(2,rXe,8,6,"div",5),G(3,uXe,29,24,"div",5),_(4,"div",6)(5,"div",7),N(6,"i",8),_(7,"h6"),R(8),D(9,"translate"),b()(),_(10,"div",9)(11,"p"),R(12),D(13,"translate"),b()(),_(14,"div",9),N(15,"sts-fwc-log",10,1),b(),G(17,hXe,2,1,"div",9),_(18,"div",11)(19,"p-button",12),D(20,"translate"),A("onClick",function(){return w(s),C(r.handleCloseDialog())}),b()()()}o&2&&(f("popup",!0)("model",r.menuUpdateOptions),p(2),H(r.checkingUpdates?2:-1),p(),H((r.needsUpdate||r.manualUpdate)&&!r.updating?3:-1),p(),f("ngStyle",de(17,iXe,r.updating?"block":"none")),p(4),Q(k(9,11,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.HEADER")),p(4),Q(k(13,13,"PANELS.UPDATES_PANEL.INFO.APPLYING_UPDATES.TEXT")),p(5),H(r.opMessage?17:-1),p(2),f("label",ae(k(20,15,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",!r.finishedUpdating||r.checkingUpdates||r.appBeingFetched))},dependencies:[ft,lo,bt,go,qu,wo,Nn,It],encapsulation:2});let i=n;return i})();var dee=(()=>{let n=class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}};n.\u0275fac=function(o){return new(o||n)(x(dp,16))},n.\u0275pipe=Vo({name:"fwcSafeUrl",type:n,pure:!0,standalone:!1});let i=n;return i})();var mXe=["fwcHelpDialog"],gXe=["menuUpdate"];function _Xe(i,n){if(i&1&&N(0,"p-menu",5,3),i&2){let e=h();f("popup",!0)("model",e.menuUpdateOptions)}}function bXe(i,n){if(i&1){let e=B();_(0,"div",9)(1,"h6",10),N(2,"i",11),R(3),D(4,"translate"),b()(),_(5,"div",12)(6,"p-button",13),A("onClick",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()()}i&2&&(p(3),Y(" ",k(4,1,"HELP.TITLE")," "))}function yXe(i,n){i&1&&N(0,"p-progressSpinner")}function vXe(i,n){if(i&1){let e=B();_(0,"div",7)(1,"div",14),G(2,yXe,1,0,"p-progressSpinner"),b(),_(3,"iframe",15,4),D(5,"fwcSafeUrl"),A("load",function(){w(e);let o=h();return C(o.handleIframeLoad())})("error",function(){w(e);let o=h();return C(o.handleIframeLoad(!0))}),b()()}if(i&2){let e=h();p(2),H(e.loadingData?2:-1),p(),f("src",k(5,2,e.helpURL),OS)}}function wXe(i,n){if(i&1&&(_(0,"span"),R(1),_(2,"strong"),R(3),b()()),i&2){let e=h().$implicit;p(),Y(" ",e==null?null:e.appName," - "),p(2),Q(e!=null&&e.current?"v"+e.current:"?")}}function CXe(i,n){if(i&1&&(_(0,"span"),R(1),_(2,"strong"),R(3,"?"),b()()),i&2){let e=h().$implicit;p(),Y(" ",e==null?null:e.appName," - ")}}function SXe(i,n){if(i&1){let e=B();_(0,"span",42),A("contextmenu",function(o){w(e);let r=h(3);return C(r.menuUpdate.toggle(o))}),G(1,wXe,4,2,"span")(2,CXe,4,1,"span"),N(3,"br"),b()}if(i&2){let e=n.$implicit;p(),H(e!=null&&e.current?1:2)}}function IXe(i,n){if(i&1&&(_(0,"div"),fn(1,SXe,4,1,"span",41,ro),b()),i&2){let e=h(2);p(),mn(e.appVersions)}}function EXe(i,n){if(i&1){let e=B();_(0,"span",42),A("contextmenu",function(o){w(e);let r=h(3);return C(r.menuUpdate.toggle(o))}),R(1),D(2,"translate"),_(3,"strong"),R(4,"?"),b()()}i&2&&(p(),Y(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.WEBSRV")," - "))}function xXe(i,n){if(i&1){let e=B();_(0,"span",42),A("contextmenu",function(o){w(e);let r=h(3);return C(r.menuUpdate.toggle(o))}),R(1),D(2,"translate"),_(3,"strong"),R(4,"?"),b()()}i&2&&(p(),Y(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.API")," - "))}function TXe(i,n){if(i&1){let e=B();_(0,"span",42),A("contextmenu",function(o){w(e);let r=h(3);return C(r.menuUpdate.toggle(o))}),R(1),D(2,"translate"),_(3,"strong"),R(4,"?"),b()()}i&2&&(p(),Y(" ",k(2,1,"PANELS.UPDATES_PANEL.INFO.APPS.UPDATER")," - "))}function OXe(i,n){if(i&1){let e=B();G(0,EXe,5,3,"span",41),N(1,"br"),_(2,"span",42),A("contextmenu",function(o){w(e);let r=h(2);return C(r.menuUpdate.toggle(o))}),R(3),D(4,"translate"),_(5,"strong"),R(6),b()(),N(7,"br"),G(8,xXe,5,3,"span",41),N(9,"br"),G(10,TXe,5,3,"span",41),N(11,"br")}if(i&2){let e=h(2);H(e.shouldCheckUpdates?0:-1),p(3),Y(" ",k(4,5,"PANELS.UPDATES_PANEL.INFO.APPS.UI")," - "),p(3),Y("v",e.fwcAppVersion),p(2),H(e.shouldCheckUpdates?8:-1),p(2),H(e.shouldCheckUpdates?10:-1)}}function RXe(i,n){if(i&1){let e=B();_(0,"p-button",43),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onCheckUpdates())}),b()}i&2&&f("label",ae(k(1,2,"HELP.CHECK_UPDATES")))}function DXe(i,n){if(i&1&&(_(0,"div",8)(1,"div",16)(2,"div",17)(3,"a",18),N(4,"img",19),b(),_(5,"div",20),G(6,IXe,3,0,"div")(7,OXe,12,7),N(8,"br"),G(9,RXe,2,4,"p-button",21),N(10,"br")(11,"br")(12,"span",22),D(13,"translate"),b()()(),_(14,"div",23)(15,"h5",24),R(16),D(17,"translate"),b(),_(18,"div",25)(19,"div",26)(20,"strong")(21,"a",27),R(22,"SOLTECSIS SOLUCIONES TECNOL\xD3GICAS, S.L."),b()(),N(23,"br"),_(24,"span",28),N(25,"i",29),b(),R(26," info@soltecsis.com "),N(27,"br")(28,"span"),_(29,"strong"),R(30),D(31,"translate"),b(),N(32,"br"),_(33,"span",28),N(34,"i",30),b(),_(35,"a",31),R(36,"https://forum.fwcloud.net "),b(),N(37,"br"),b(),_(38,"a",32),N(39,"img",33),b()(),N(40,"br"),_(41,"h5",24),R(42),D(43,"translate"),b(),_(44,"ul",34)(45,"li")(46,"a",35),D(47,"translate"),R(48),D(49,"translate"),b()(),_(50,"li")(51,"a",36),R(52),D(53,"translate"),b()(),_(54,"li")(55,"a",37),R(56),D(57,"translate"),b()(),_(58,"li")(59,"a",38),R(60),D(61,"translate"),b()(),_(62,"li")(63,"a",39),R(64),D(65,"translate"),b()(),_(66,"li")(67,"a",40),R(68),D(69,"translate"),b()()()()()),i&2){let e=h();p(6),H(e.appVersions&&e.appVersions.length?6:7),p(3),H(e.shouldCheckUpdates?9:-1),p(3),f("innerHTML",ae(k(13,15,"GLOBALS.LICENSE")),on),p(4),Y("",k(17,17,"HELP.DEV"),":"),p(14),Q(k(31,19,"HELP.SUPPORT_EMAIL")),p(12),Y("",k(43,21,"HELP.LINKS"),":"),p(4),f("href",ae(k(47,23,"HELP.SUPPORT_WEB")),Cr),p(2),Q(k(49,25,"HELP.GOTO_DOC")),p(4),Q(k(53,27,"HELP.GIT_INSTALLER")),p(4),Q(k(57,29,"HELP.GIT_WEBSRV")),p(4),Q(k(61,31,"HELP.GIT_UI")),p(4),Q(k(65,33,"HELP.GIT_API")),p(4),Q(k(69,35,"HELP.GIT_UPDATER"))}}function PXe(i,n){if(i&1){let e=B();_(0,"p-button",44),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onClose())}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.CLOSE")))}var Dgi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v){super(t,o,s,g,y,m),this.appDialogPanelsService=t,this.appOptionsService=o,this.confirmationService=r,this.itemSelectedService=s,this.fwcUserService=a,this.messageService=l,this.dialogService=c,this.utilService=d,this.translate=u,this.router=m,this.cd=g,this.store=y,this._document=v,this.fwcAppVersion=Pg.VERSION,this.appVersions=[],this.menuUpdateOptions=[],this.loadingData=!1,this.shouldCheckUpdates=!0,this.shouldCheckUpdates=Ie.settings.checkUpdates,this.pkgBasedInstall=Ie.settings.installMethod===cd.pkg,this.translate.get("HELP.TITLE").subscribe(S=>{this.createDialog(S,"fwci-help")})}ngOnInit(){this.appOptionsService.showHelp().pipe(Nt(()=>this.alive)).subscribe(t=>{if(t){if(t!==this.helpUrlOrSection){let o=/\/(cloud|policy|vpn|ipobjs|firewalls|configuration)/,r,s=o.exec(t);if(s){let a=s[1];r=gH[a]}r||(r=""),this.helpUrlOrSection=t,this.loadingData=!0,this.helpURL=Ie.settings.fwcAppDocsURL+"/"+r}}else{this.helpURL=null,this.helpUrlOrSection=null;let o=this.fwcUserService.getActualFwcUser();o.appVersions&&(this.appVersions=o.appVersions),this.menuUpdateOptions=[{label:this.translate.instant("HELP.UPDATE_MANUALLY"),icon:"fa fa-wrench",command:()=>{this.onCheckUpdates(!0)}}]}this.showDialog()})}ngOnDestroy(){super.ngOnDestroy()}onCheckUpdates(t=!1){this.dialogService.open(cee,{showHeader:!1,styleClass:"dlgFwcDialog dlgFwcDialog--updates",data:{manualUpdate:t,openedFromHelp:!0}}).onClose.pipe(Nt(()=>this.alive)).subscribe(r=>{if(r){if(r.needsReloadUpdates){let s=this.fwcUserService.getActualFwcUser();s.appVersions&&(this.appVersions=s.appVersions)}r.needsRelogin&&this.onClose()}})}onClose(){this.menuUpdate&&this.menuUpdate.hide(),super.hideDialog()}changeTheme(t){t?this._document.getElementById("fwcTheme").setAttribute("href","assets/themes/fwc-dark.css"):this._document.getElementById("fwcTheme").removeAttribute("href")}goToWebsite(){window.open(this.translate.instant("HELP.SUPPORT_WEB"),"_blank")}reCenter(t){this.cd.detectChanges(),this.fwcHelpDialog.center()}handleIframeLoad(t){this.loadingData=!1}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(ti),x(yt),x(dt),x(ii),x(Bh),x(Tt),x($e),x(at),x(We),x(tt),x(Ci))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-dashboard-help"]],viewQuery:function(o,r){if(o&1&&(_e(mXe,5),_e(gXe,5)),o&2){let s;W(s=$())&&(r.fwcHelpDialog=s.first),W(s=$())&&(r.menuUpdate=s.first)}},standalone:!1,features:[Se([Bh]),re],decls:9,vars:7,consts:[["fwcHelpDialog",""],["header",""],["footer",""],["menuUpdate",""],["iframeHelp",""],["appendTo","body",3,"popup","model"],[3,"visibleChange","onChange","visible","styleClass","modal","closable","resizable"],[1,"relative","h-full","w-full"],[1,"grid"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],[1,"divHeaderButtons"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],[1,"absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2"],["frameborder","0",1,"h-full","w-full",3,"load","error","src"],[1,"col-4"],[1,"divHelpLogo","text-center"],["href","https://fwcloud.net","target","_blank"],["src","assets/img/fwcloud.png",1,"mx-auto","mb-4","block","h-auto","w-[180px]"],[1,"fwcVersion","font-mono","text-center","text-[0.8em]"],["icon","fa fa-server",3,"label"],[3,"innerHTML"],[1,"col-8","divDevInfo","border-l","border-(--fwcBlue)","pl-4","font-['Montserrat',Arial,sans-serif]","text-[0.9rem]"],[1,"fwcBlue"],[1,"flex","justify-between","pt-2","leading-normal"],[1,"divData","text-(--fwcDark)"],["href","https://soltecsis.com","target","_blank",1,"text-[#007ad9]","no-underline"],[1,"inline-block","w-[1.7rem]"],[1,"fa","fa-fw","fa-envelope","fwcBlue"],[1,"fa","fa-fw","fa-comments","fwcBlue"],["href","https://forum.fwcloud.net","target","_blank",1,"text-[#007ad9]","no-underline"],["href","https://soltecsis.com","target","_blank",1,"block","ml-auto","w-[180px]"],["src","assets/img/logo-Soltecsis.jpg",1,"h-auto","w-full"],[1,"list-disc","pl-4"],["target","_blank",1,"text-[#007ad9]","no-underline",3,"href"],["href","https://github.com/soltecsis/fwcloud-installer","target","_blank",1,"text-[#007ad9]","no-underline"],["href","https://github.com/soltecsis/fwcloud-websrv","target","_blank",1,"text-[#007ad9]","no-underline"],["href","https://github.com/soltecsis/fwcloud-ui","target","_blank",1,"text-[#007ad9]","no-underline"],["href","https://github.com/soltecsis/fwcloud-api","target","_blank",1,"text-[#007ad9]","no-underline"],["href","https://github.com/soltecsis/fwcloud-updater","target","_blank",1,"text-[#007ad9]","no-underline"],[1,"inline-block","cursor-context-menu"],[1,"inline-block","cursor-context-menu",3,"contextmenu"],["icon","fa fa-server",3,"onClick","label"],["icon","pi pi-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();G(0,_Xe,2,2,"p-menu",5),_(1,"p-dialog",6,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onChange",function(l){return w(s),C(r.reCenter(l))}),E(3,bXe,7,3,"ng-template",null,1,ie),G(5,vXe,6,4,"div",7)(6,DXe,70,37,"div",8),E(7,PXe,2,4,"ng-template",null,2,ie),b()}o&2&&(H(r.pkgBasedInstall?-1:0),p(),Ae("visible",r.displayDialog),f("styleClass",r.helpURL?"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog--height":"dlgFwcDialog dlgFwcDialog--medium dlgFwcDialog")("modal",!0)("closable",!1)("resizable",!0),p(4),H(r.helpURL?5:6))},dependencies:[Ut,lo,bt,qu,It,dee],styles:[".p-contextmenu .p-menuitem>.p-menuitem-content{box-shadow:0 1px 3px #0000004d!important;color:var(--inputColor);background:linear-gradient(to bottom,var(--fwcLightGreyGradient1) 0%,var(--fwcLightGreyGradient2) 100%)!important;border:1px solid var(--fwcGrey7)!important;border-radius:3px!important;font-family:Montserrat,Arial,sans-serif!important;font-size:.9rem!important}  .p-contextmenu .p-menuitem>.p-menuitem-content:hover{background:var(--fwcGrey7)!important}"]});let i=n;return i})();var AXe=i=>({"line-through italic opacity-70":i}),kXe=()=>({width:"2rem",height:"2rem"});function NXe(i,n){i&1&&(_(0,"div",8)(1,"h6",9),N(2,"i",10),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"SNAPSHOTS_PANEL.HEADER")," "))}function FXe(i,n){i&1&&(_(0,"colgroup"),N(1,"col")(2,"col")(3,"col")(4,"col")(5,"col"),b()),i&2&&(p(),Kt("width","12rem"),p(2),Kt("width","4rem"),p(),Kt("width","10rem"))}function LXe(i,n){i&1&&(_(0,"tr")(1,"th"),R(2),D(3,"translate"),b(),_(4,"th"),R(5),D(6,"translate"),b(),_(7,"th"),R(8),D(9,"translate"),b(),_(10,"th"),R(11),D(12,"translate"),b(),_(13,"th"),R(14),D(15,"translate"),b()()),i&2&&(p(2),Q(k(3,5,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.0")),p(3),Q(k(6,7,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1")),p(3),Q(k(9,9,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.2")),p(3),Q(k(12,11,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.3")),p(3),Q(k(15,13,"SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4")))}function MXe(i,n){i&1&&(_(0,"span"),N(1,"i",21),D(2,"translate"),R(3," \xA0 "),b()),i&2&&(p(),f("pTooltip",ae(k(2,2,"SNAPSHOTS_PANEL.INFO.INFO_INCOMPATIBLE"))))}function BXe(i,n){if(i&1&&(_(0,"tr",20)(1,"td"),G(2,MXe,4,4,"span"),R(3),D(4,"date"),b(),_(5,"td"),R(6),b(),_(7,"td"),R(8),b(),_(9,"td"),R(10),D(11,"slice"),b(),_(12,"td"),R(13),b()()),i&2){let e=n.$implicit;f("pSelectableRow",e)("ngClass",de(14,AXe,!e.compatible)),p(2),H(e.compatible?-1:2),p(),Y(" ",vi(4,8,e.date,"dd/MM/yyyy HH:mm:ss")," "),p(3),Y(" ",e.name," "),p(2),Y(" ",e.version," "),p(2),Y(" ",vi(11,11,e.schema,-7)," "),p(3),Y(" ",e.comment," ")}}function VXe(i,n){if(i&1){let e=B();_(0,"div",11)(1,"p-table",15),D(2,"fwcSortBy"),ke("selectionChange",function(o){w(e);let r=h(2);return Ne(r.selectedSnapshot,o)||(r.selectedSnapshot=o),C(o)}),E(3,FXe,6,6,"ng-template",null,3,ie)(5,LXe,16,15,"ng-template",null,1,ie)(7,BXe,14,16,"ng-template",null,4,ie),b(),_(9,"div",6)(10,"div",16)(11,"p-button",17),D(12,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onDeleteSnapshot())}),b(),N(13,"span",18),_(14,"p-button",19),D(15,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onRestoreSnapshot())}),b()()()()}if(i&2){let e=h(2);p(),f("value",Zs(2,9,e.snapshots,"desc","date")),Ae("selection",e.selectedSnapshot),f("scrollable",!0),p(10),f("label",ae(k(12,13,"SNAPSHOTS_PANEL.MANAGE.BTN_DELETE")))("disabled",!e.selectedSnapshot||e.loadingData),p(3),f("label",ae(k(15,15,"SNAPSHOTS_PANEL.MANAGE.BTN_RESTORE")))("disabled",!e.selectedSnapshot||e.loadingData||!(e.selectedSnapshot!=null&&e.selectedSnapshot.compatible))}}function UXe(i,n){if(i&1){let e=B();_(0,"div",6)(1,"div",11)(2,"h5",12),R(3),D(4,"translate"),b()(),_(5,"div",13)(6,"p-button",14),D(7,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onDoSnapshot())}),b()(),_(8,"div",11)(9,"h5",12),R(10),D(11,"translate"),b()(),G(12,VXe,16,17,"div",11),b()}if(i&2){let e=h();p(3),Y(" ",k(4,6,"SNAPSHOTS_PANEL.DO.HEADER")," "),p(3),f("label",ae(k(7,8,"SNAPSHOTS_PANEL.DO.BTN_DO")))("disabled",e.loadingData),p(4),Y(" ",k(11,10,"SNAPSHOTS_PANEL.MANAGE.HEADER")," "),p(2),H(e.snapshots!=null&&e.snapshots.length?12:-1)}}function jXe(i,n){i&1&&(_(0,"div",7),N(1,"p-progressSpinner"),b()),i&2&&(p(),De(Pe(2,kXe)))}function GXe(i,n){if(i&1&&(_(0,"div",7),N(1,"sts-fwc-message",22),b()),i&2){let e=h();p(),f("message",e.errorMessage)}}function HXe(i,n){if(i&1){let e=B();_(0,"p-button",23),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var zgi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S){super(s,o,t,u,S,y),this.itemSelectedService=t,this.appOptionsService=o,this.fwcUserService=r,this.appDialogPanelsService=s,this.utilService=a,this.confirmationService=l,this.messageService=c,this.translate=d,this.cd=u,this.inputDataService=m,this.fwcAuthService=g,this.router=y,this.fwcSnapshotService=v,this.store=S,this.translate.get("SNAPSHOTS_PANEL.TITLE").subscribe(I=>{this.createDialog(I,"fwci-copy")})}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}loadSnapshots(){this.loadingData=!0,this.errorMessage=null,this.utilService.fwcAPICall(this.fwcSnapshotService.getSnapshots.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud()).then(t=>{this.snapshots=t.data,(!this.snapshots||!this.snapshots.length)&&(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.recenterDialog(),this.loadingData=!1}).catch(t=>{this.errorMessage={type:"error",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_LOADING.1")},this.loadingData=!1})}onDoSnapshot(t){let o={header:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.HEADER"),helpText:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.DO_DIALOG.TEXT"),formControls:[{name:"name",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.1"),type:"text",required:!0},{name:"separator",type:"separator"},{name:"comment",label:this.translate.instant("SNAPSHOTS_PANEL.MANAGE.TABLE_HEADER.4"),type:"text",required:!1}],onAccept:r=>{if(r){let s=lr(),a={name:r.name,comment:r.comment},l={channelId:s,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.DOING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.createSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),s,a],onClose:u=>{this.loadingData=!1,u&&!u.error?this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.CREATE_OK")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_CREATING.1")}),this.loadSnapshots(),t&&this.onRestoreSnapshot(!0)}},c=this.utilService.createDynamicComponentRef(Pr),d=c.instance;d.setDynamicComponentRef(c),this.communicationSubscription=d.socketEventEmitter.subscribe(u=>{u=="connected"&&(this.loadingData=!0,this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:l})),this.communicationSubscription.unsubscribe()}),d.checkConnection()}}};this.inputDataService.setInputData(o)}onDeleteSnapshot(){this.selectedSnapshot&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.DELETE",{date:new Date(this.selectedSnapshot.date).toLocaleString()}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.loadingData=!0,this.utilService.fwcAPICall(this.fwcSnapshotService.deleteSnapshot.bind(this.fwcSnapshotService),this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id).then(t=>{this.snapshots=this.snapshots.filter(o=>o.id!=this.selectedSnapshot.id),this.snapshots.length||(this.errorMessage={type:"warning",title:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.0"),text:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.WARN_NO_SNAPSHOTS.1")}),this.loadingData=!1,this.selectedSnapshot=null,this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.DELETE_OK")})},t=>{this.loadingData=!1,this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.DELETE_ERROR")})})}})}onRestoreSnapshot(t){if(this.selectedSnapshot){let o=lr();if(!t){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("SNAPSHOTS_PANEL.ASK.BACKUP"),rejectVisible:!0,rejectLabel:this.translate.instant("SNAPSHOTS_PANEL.ASK.BTN_NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onDoSnapshot(!0)},reject:()=>{this.onRestoreSnapshot(!0)}});return}let r={channelId:o,textHeader:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.0"),textMessage:this.translate.instant("SNAPSHOTS_PANEL.INFO.RESTORING_SNAPSHOT.1"),apiCall:this.fwcSnapshotService.restoreSnapshot.bind(this.fwcSnapshotService),apiParams:[this.fwcUserService.getActualFwSelectedCloud(),this.selectedSnapshot.id,o],showStatusMessage:!0,onClose:l=>{l&&!l.error?(this.fwcUserService.setSelectedFwCloud(l.data.id,l.data.name),this.fwcAuthService.setSelectedFwCloud(l.data.id,l.data.name),this.hideDialog(),this.reloadCurrentRoute(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("SNAPSHOTS_PANEL.SUCCESS.RESTORE_OK")})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.0"),detail:this.translate.instant("SNAPSHOTS_PANEL.ERRORS.ERROR_RESTORING.1")}),this.loadingData=!1,this.selectedSnapshot=null}},s=this.utilService.createDynamicComponentRef(Pr),a=s.instance;a.setDynamicComponentRef(s),this.communicationSubscription=a.socketEventEmitter.subscribe(l=>{l=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:r}),this.communicationSubscription.unsubscribe()}),a.checkConnection()}}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}onCancel(){this.hideDialog()}onShowDialog(){this.loadSnapshots()}onHideDialog(){this.snapshots=null,this.errorMessage=null}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(dt),x(kt),x(Tt),x(ti),x(ii),x($e),x(We),x(Oo),x(Ma),x(at),x(BE),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-snapshots-panel"]],standalone:!1,features:[Se([BE]),re],decls:9,vars:6,consts:[["dlgSnapshotsDialog",""],["header",""],["footer",""],["colgroup",""],["body",""],["styleClass","dlgFwcDialog","modal","true",3,"visibleChange","onShow","onHide","visible","closable","resizable"],[1,"grid"],[1,"col-12","fwc-centered"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-copy","fwcOrange"],[1,"col-12"],[1,"fwcBlue","botBorder"],[1,"col-12","grid-nogutter","fwc-centered"],["type","button","styleClass","p-button-success","icon","fa fa-vault",3,"onClick","disabled","label"],["selectionMode","single","scrollHeight","15rem",3,"selectionChange","value","selection","scrollable"],[1,"col-12","fwc-right","pt-5"],["type","button","styleClass","p-button-danger","icon","fa fa-trash",3,"onClick","disabled","label"],[1,"fwcSepShort"],["type","button","icon","fa fa-undo",3,"onClick","disabled","label"],[3,"pSelectableRow","ngClass"],["tooltipPosition","top","hideDelay","500",1,"fa","fa-exclamation","fwcRed",3,"pTooltip"],[3,"message"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.onHideDialog())}),E(2,NXe,5,3,"ng-template",null,1,ie),G(4,UXe,13,12,"div",6),G(5,jXe,2,3,"div",7),G(6,GXe,2,1,"div",7),E(7,HXe,2,5,"ng-template",null,2,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("closable",!1)("resizable",!0),p(4),H(r.snapshots?4:-1),p(),H(r.loadingData?5:-1),p(),H(r.errorMessage?6:-1))},dependencies:[$t,Ut,lo,cn,bt,go,Gu,Nn,jb,gc,It,wO],encapsulation:2});let i=n;return i})();var pee=Xr(Kd());var zXe=["fwcLogComponent"],WXe=["fwcMessageComponent"],$Xe=()=>({width:"2rem",height:"2rem"}),KXe=()=>({border:"1px solid red"});function qXe(i,n){i&1&&(_(0,"h6",9),N(1,"i",10),R(2),D(3,"translate"),b()),i&2&&(p(2),Y(" ",k(3,1,"LOG_PANEL.HEADER")))}function JXe(i,n){if(i&1&&(_(0,"div",5)(1,"div",6),N(2,"sts-fwc-message",11,2),b()(),_(4,"div"),N(5,"sts-fwc-log",12,3),b()),i&2){let e=h();Kt("display",e.options!=null&&e.options.showStatusMessage&&e.statusMessage?"block":"none"),p(2),f("message",e.statusMessage),p(2),Kt("display",e.options!=null&&e.options.showStatusMessage?"none":"block"),p(),f("height","15rem")}}function QXe(i,n){i&1&&N(0,"p-progressSpinner"),i&2&&De(Pe(2,$Xe))}function YXe(i,n){if(i&1&&(N(0,"p-message",15),D(1,"translate"),D(2,"translate")),i&2){let e=h(2);De(Pe(9,KXe)),f("severity",e.operationResult!=null&&e.operationResult.error?"error":"success")("icon",e.operationResult!=null&&e.operationResult.error?"pi pi-times-circle":"pi pi-check")("text",e.operationResult!=null&&e.operationResult.error?k(1,5,"GLOBALS.MSG_OP_RESULT.PROCESS_ERROR"):k(2,7,"GLOBALS.MSG_OP_RESULT.PROCESS_OK"))}}function XXe(i,n){if(i&1&&(_(0,"div",8),G(1,QXe,1,3,"p-progressSpinner",13)(2,YXe,3,10,"p-message",14),b()),i&2){let e=h();p(),H(e.loadingData?1:2)}}function ZXe(i,n){if(i&1){let e=B();_(0,"p-button",16),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",!e.allowClose)}}var uee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t,o,s,d,m,g),this.appDialogPanelsService=t,this.appOptionsService=o,this.fwcEventService=r,this.itemSelectedService=s,this.utilService=a,this.messageService=l,this.confirmationService=c,this.cd=d,this.translate=u,this.store=m,this.router=g,this.loadingData=!1,this.onClose=new te,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",oi.BLOCK_UI_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(Nt(()=>this.alive)).subscribe(t=>{t.uuid===this.dialogUUID&&this.showAndBlockUI(t.data)})}ngOnDestroy(){super.ngOnDestroy()}waitWSMessages(){return new Promise((o,r)=>{this.options.channelId?(this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(s=>{let a=new Qr(s);a&&a.payload?(a.payload.type===Ue.MSG_END?o(a):(a.payload.type===Ue.MSG_ERROR&&(this.operationResult={error:!0},this.statusMessage={type:"error",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_ERROR")}),this.resetTimer()),this.options.showStatusMessage?this.fwcMessageComponent&&this.fwcMessageComponent.changeStatus(a.payload.message,this.translate.instant("ITEM_BATCH.TABLE_HEADER.1")+":"):this.log&&this.log.addNewMessage(a)):(this.addMessageToLog(this.translate.instant("LOG_PANEL.MALFORMED_MSG"),Ue.MSG_ERROR),this.operationResult={error:!0},this.stopProcess())}),this.utilService.ioListenOnLogEvent(this.options.channelId)):o(null)})}doApiCall(){return new Promise((o,r)=>{this.options.apiCall?(Array.isArray(this.options.apiParams)||(this.options.apiParams=[]),this.options.showStatusMessage&&(this.statusMessage={type:"loading",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.OPERATION_IN_PROGRESS")}),this.utilService.fwcAPICall(this.options.apiCall,...this.options.apiParams).then(s=>{o(s),setTimeout(()=>{this.allowClose=!0,this.cd.detectChanges()},150)}).catch(s=>{s.error.fwcErr==8001||s.error.fwcErr==8002?r(s.error):r(s)})):o({})})}showAndBlockUI(t){if(!t)return;this.options=t,this.operationResult=void 0,this.displayDialog=!0,this.cd.markForCheck(),this.cd.detectChanges(),this.startProcess(),this.resetTimer();let o=vR(this.waitWSMessages(),this.doApiCall());this.mainSubscription=o.subscribe({next:([r,s])=>{if(s instanceof cp){let a=this.options.defaultDownloadFilename||"fwcloud-download";s.headers.get("Content-Disposition")&&(a=s.headers.get("Content-Disposition").split("filename=")[1]),a=a.replace(/\"/g,""),(0,pee.saveAs)(s.body,a)}this.operationResult=s,this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_SUCCESS"),Ue.MSG_OK),this.statusMessage={type:"success",text:this.translate.instant("GLOBALS.MSG_OP_RESULT.PROCESS_OK")},this.stopProcess()},error:r=>{this.operationResult={error:!0,data:r},this.addMessageToLog(this.translate.instant("LOG_PANEL.MSG_ERROR"),Ue.MSG_ERROR),this.stopProcess()}})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer)}startProcess(){this.loadingData=!0,this.log&&this.log.startDataLoad()}stopProcess(){this.allowClose=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),this.log&&this.log.stopDataLoad()}onShowDialog(){this.allowClose=!1}hideDialog(){if(this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.mainSubscription&&this.mainSubscription.unsubscribe(),this.log&&this.log.clearMessages(),this.options){if(this.options.onClose)try{this.options.onClose(this.operationResult)}catch{}this.options=null}clearTimeout(this.timeoutTimer),this.onClose&&this.onClose.emit(this.operationResult),this.operationResult=null,super.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(dn),x(yt),x(Tt),x(ii),x(ti),x(We),x($e),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-block-ui-panel"]],viewQuery:function(o,r){if(o&1&&(_e(zXe,5),_e(WXe,5)),o&2){let s;W(s=$())&&(r.log=s.first),W(s=$())&&(r.fwcMessageComponent=s.first)}},outputs:{onClose:"onClose"},standalone:!1,features:[re],decls:16,vars:8,consts:[["header",""],["footer",""],["fwcMessageComponent",""],["fwcLogComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"onShow","closable","modal","visible"],[1,"grid"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fwc-centered","w-fit","m-auto"],[1,"dlgFwcDialog-header"],[1,"fa","fa-info","fwcOrange"],[3,"message"],[3,"height"],[3,"style"],[3,"severity","icon","style","text"],[3,"severity","icon","text"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4),A("onShow",function(){return w(s),C(r.onShowDialog())}),E(1,qXe,4,3,"ng-template",null,0,ie),_(3,"div",5)(4,"div",6)(5,"div",7),N(6,"i")(7,"br"),_(8,"h6"),R(9),b(),_(10,"p"),R(11),b()()()(),G(12,JXe,7,6)(13,XXe,3,1,"div",8),E(14,ZXe,2,5,"ng-template",null,1,ie),b()}o&2&&(f("closable",!1)("modal",!0)("visible",r.displayDialog),p(6),j((r.options==null?null:r.options.headerIcon)||"fa fa-3x fa-lock fwcBlue"),p(3),Q(r.options==null?null:r.options.textHeader),p(2),Q(r.options==null?null:r.options.textMessage),p(),H(r.options!=null&&r.options.channelId?12:13))},encapsulation:2});let i=n;return i})();var Hh=Xr(Oc());var hee="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var C3=(i=21)=>{let n="",e=crypto.getRandomValues(new Uint8Array(i|=0));for(;i--;)n+=hee[e[i]&63];return n};var eZe=["menuNodesSelector"],fee=()=>({height:"19rem"}),tZe=i=>({"text-(--fwcPaleDark) italic":i}),iZe=(i,n)=>({"font-bold border-b border-dashed border-current":i,"text-(--fwcDarkBlue2) italic":n}),mee=i=>({fwcInvalid:i});function nZe(i,n){i&1&&N(0,"div",10)}function oZe(i,n){i&1&&(_(0,"div",11)(1,"div",12),N(2,"i",13)(3,"br"),_(4,"h6"),R(5),D(6,"translate"),b(),_(7,"p"),R(8),D(9,"translate"),b()()()),i&2&&(p(5),Q(k(6,2,"FW.MSG_AUTODISCOVER.LOADING.HEADER")),p(3),Q(k(9,4,"FW.MSG_AUTODISCOVER.LOADING.TEXT")))}function rZe(i,n){if(i&1){let e=B();_(0,"span",15)(1,"p-button",33),D(2,"translate"),D(3,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onResetTree())}),b()()}if(i&2){let e=h(4);p(),f("pTooltip",ae(k(2,5,"IF_EDITOR.HEADER.RESET_TREE_TOOLTIP")))("label",ae(k(3,7,"IF_EDITOR.HEADER.RESET_TREE")))("disabled",!(!(e.options==null||e.options.discoveredIfs==null)&&e.options.discoveredIfs.length))}}function sZe(i,n){if(i&1){let e=B();_(0,"span",15)(1,"p-button",34),D(2,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onDiscoverInterfacesHandler())}),b()()}i&2&&(p(),f("label",ae(k(2,2,"FW.MSG_FW_EDITION.DISCOVER_IF_SHORT"))))}function aZe(i,n){i&1&&(_(0,"div",35)(1,"div",11)(2,"h6",16),R(3),D(4,"translate"),b()()()),i&2&&(p(3),Y(" ",k(4,1,"IF_EDITOR.TREE.HEADER")," "))}function lZe(i,n){i&1&&(_(0,"span"),N(1,"i",44),b())}function cZe(i,n){i&1&&(N(0,"i",41),D(1,"translate")),i&2&&f("pTooltip",ae(k(1,3,"IF_EDITOR.TREE.SPECIAL_TOOLTIP")))("showDelay",500)}function dZe(i,n){i&1&&(N(0,"i",47),D(1,"translate")),i&2&&f("pTooltip",ae(k(1,2,"IF_EDITOR.PROPS.INSTALL")))}function pZe(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(3).$implicit,t=h(5);p(),Y(" ",t.getFirewallName(e.data.installFirewallUUIDs)," ")}}function uZe(i,n){i&1&&(_(0,"span",48),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"IF_EDITOR.TREE.NODE_INST")," "))}function hZe(i,n){i&1&&N(0,"i",49)}function fZe(i,n){if(i&1){let e=B();_(0,"span",46),A("click",function(o){w(e);let r=h(2).$implicit,s=h(5);return C(s.showFirewallsSelector(o,r))}),G(1,dZe,2,4,"i",47),G(2,pZe,2,1,"span")(3,uZe,3,3,"span",48),G(4,hZe,1,0,"i",49),b()}if(i&2){let e=h(2).$implicit,t=h(5);p(),H(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?1:-1),p(),H(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?2:3),p(2),H((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?4:-1)}}function mZe(i,n){if(i&1&&G(0,fZe,5,3,"span",45),i&2){let e=h().$implicit,t=h(5);H(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size||e.key==t.hoveredTreeNodeKey&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS||e.key==t.clickedTreeNodeKey?0:-1)}}function gZe(i,n){i&1&&(N(0,"i",47),D(1,"translate")),i&2&&f("pTooltip",ae(k(1,2,"IF_EDITOR.PROPS.INSTALL")))}function _Ze(i,n){if(i&1){let e=B();_(0,"i",51),D(1,"translate"),A("click",function(o){w(e);let r=h(2).$implicit,s=h(5);return C(s.onSetInstallAddress(o,r))}),b()}i&2&&f("pTooltip",ae(k(1,3,"IF_EDITOR.TREE.SET_INSTALL_TOOLTIP")))("showDelay",700)}function bZe(i,n){if(i&1&&(G(0,gZe,2,4,"i",47),G(1,_Ze,2,5,"i",50)),i&2){let e=h().$implicit,t=h(5);H(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size?0:-1),p(),H(e.key==t.hoveredTreeNodeKey&&!(!(e.data==null||e.data.installFirewallUUIDs==null)&&e.data.installFirewallUUIDs.size)&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_ADDRESS?1:-1)}}function yZe(i,n){if(i&1){let e=B();_(0,"i",52),D(1,"translate"),A("click",function(o){w(e);let r=h().$implicit,s=h(5);return C(s.onShowNodeInfo(o,r))}),b()}i&2&&f("pTooltip",ae(k(1,3,"IF_EDITOR.TREE.EDIT_TOOLTIP")))("showDelay",700)}function vZe(i,n){i&1&&(_(0,"span"),R(1,"..."),b())}function wZe(i,n){if(i&1&&(_(0,"span",53)(1,"span")(2,"p"),R(3),D(4,"translate"),b()(),_(5,"span"),R(6),D(7,"slice"),G(8,vZe,2,0,"span"),b()()),i&2){let e=h(2).$implicit;p(3),Q(k(4,3,"IF_EDITOR.TREE.LBL")),p(3),Y(" ",Zs(7,5,e.data.labelName,0,20)," "),p(2),H(e.data.labelName.length>20?8:-1)}}function CZe(i,n){if(i&1&&(_(0,"span",53)(1,"span")(2,"p"),R(3,"mac"),b()(),_(4,"span"),R(5),b()()),i&2){let e=h(2).$implicit;p(5),Y(" ",e.data.mac," ")}}function SZe(i,n){if(i&1&&(G(0,wZe,9,9,"span",53),G(1,CZe,6,1,"span",53)),i&2){let e=h().$implicit;H(e.data!=null&&e.data.labelName?0:-1),p(),H(e.data!=null&&e.data.mac?1:-1)}}function IZe(i,n){if(i&1&&(_(0,"span",54)(1,"span")(2,"p"),R(3),b()(),_(4,"span"),R(5),b()()),i&2){let e=h(2).$implicit,t=h(5);f("ngClass",e.data.ip_version==4?"pillInfo":""),p(3),Y("V",e.data.ip_version),p(2),Y(" ",t.addressNetmaskToCIDRAddress(e.data.address,e.data.netmask)," ")}}function EZe(i,n){if(i&1&&G(0,IZe,6,3,"span",54),i&2){let e=h().$implicit;H(e.data!=null&&e.data.address?0:-1)}}function xZe(i,n){if(i&1){let e=B();_(0,"div",38),A("mouseenter",function(){let o=w(e).$implicit,r=h(5);return C(r.onMouseEnter(o))})("mouseleave",function(){let o=w(e).$implicit,r=h(5);return C(r.onMouseLeave(o))}),G(1,lZe,2,0,"span"),_(2,"span",39),N(3,"i",40),D(4,"fwcIcon"),G(5,cZe,2,5,"i",41),G(6,mZe,1,1)(7,bZe,2,2),G(8,yZe,2,5,"i",42),_(9,"span",43),R(10),b(),G(11,SZe,2,2)(12,EZe,1,1),b()()}if(i&2){let e=n.$implicit,t=h(5);f("ngClass",de(12,tZe,e.data==null?null:e.data.special)),p(),H(e.key===t.editingTreeNodeKey?1:-1),p(),f("ngClass",Ct(14,iZe,e.key==t.editingTreeNodeKey,e.data==null?null:e.data.id)),p(),j(k(4,10,e.data==null?null:e.data.type)),p(2),H(e.data!=null&&e.data.special&&(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL&&!(e.data!=null&&e.data.id)?5:-1),p(),H((t.firewallsSelectorOptions==null?null:t.firewallsSelectorOptions.length)>1?6:7),p(2),H(e.key==t.hoveredTreeNodeKey&&!(e.data!=null&&e.data.special)?8:-1),p(2),Q(e.label),p(),H((e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_FIREWALL||(e.data==null?null:e.data.type)===t.ObjectTypes.OBJ_INTERFACE_HOST?11:12)}}function TZe(i,n){if(i&1){let e=B();_(0,"p-tree",36,5),ke("selectionChange",function(o){w(e);let r=h(4);return Ne(r.selectedTreeNodes,o)||(r.selectedTreeNodes=o),C(o)}),A("onNodeSelect",function(o){w(e);let r=h(4);return C(r.onNodeSelect(o))})("onNodeUnselect",function(o){w(e);let r=h(4);return C(r.onNodeUnselect(o))}),E(2,xZe,13,17,"ng-template",37),b()}if(i&2){let e=h(4);f("value",e.filteredTreeNodes)("propagateSelectionUp",!1)("propagateSelectionDown",!1),Ae("selection",e.selectedTreeNodes)}}function OZe(i,n){i&1&&(_(0,"div",31),N(1,"i",55)(2,"br"),_(3,"h6"),R(4),D(5,"translate"),b(),_(6,"p"),R(7),D(8,"translate"),b()()),i&2&&(p(4),Q(k(5,2,"IF_EDITOR.TREE.MSG_NO_DATA")),p(3),Q(k(8,4,"IF_EDITOR.TREE.TEXT_NO_DATA")))}function RZe(i,n){i&1&&(_(0,"span",57)(1,"span")(2,"p"),R(3),D(4,"translate"),b()()()),i&2&&(p(3),Q(k(4,1,"IF_EDITOR.PROPS.EXISTS")))}function DZe(i,n){i&1&&(_(0,"span",57)(1,"span")(2,"p"),N(3,"i",58),D(4,"translate"),R(5),D(6,"translate"),b()()()),i&2&&(p(3),f("pTooltip",ae(k(4,3,"IF_EDITOR.PROPS.INFO_SPECIAL"))),p(2),Y(" ",k(6,5,"IF_EDITOR.PROPS.SPECIAL")," "))}function PZe(i,n){if(i&1&&(_(0,"span",56),R(1," \xA0 "),N(2,"i",40),D(3,"fwcIcon"),R(4),G(5,RZe,5,3,"span",57),G(6,DZe,7,7,"span",57),b()),i&2){let e,t=h(5);p(2),j(k(3,5,t.formModel.get("type").value)),p(2),Y(" ",(e=t.treeSearchByNodeKey(t.editingTreeNodeKey))==null?null:e.label," \xA0 "),p(),H(t.formModel.get("id").value?5:-1),p(),H(t.formModel.get("special").value?6:-1)}}function AZe(i,n){if(i&1&&(_(0,"div",35)(1,"div",11)(2,"h6",16),R(3),D(4,"translate"),G(5,PZe,7,7,"span",56),b()()()),i&2){let e=h(4);p(3),Y(" ",k(4,2,"IF_EDITOR.PROPS.HEADER")," "),p(2),H(e.formModel&&e.editingTreeNodeKey?5:-1)}}function kZe(i,n){if(i&1){let e=B();_(0,"div",64)(1,"div",65)(2,"span",59)(3,"label",66),R(4),D(5,"translate"),b(),_(6,"input",67),A("keyup",function(){w(e);let o=h(5);return C(o.onNodeFormInputType())}),b()()()(),_(7,"div",64)(8,"div",65)(9,"span",59)(10,"label",68),R(11),D(12,"translate"),b(),_(13,"input",69),A("keyup",function(){w(e);let o=h(5);return C(o.onNodeFormInputType())}),b()()()()}if(i&2){let e,t,o=h(5);p(4),Q(k(5,4,"ITEM_PANEL.FIELDS.ADDRESS")),p(2),f("ngClass",de(8,mee,((e=o.formModel.get("address"))==null?null:e.invalid)&&((e=o.formModel.get("address"))==null?null:e.touched))),p(5),Q(k(12,6,"ITEM_PANEL.FIELDS.MASK")),p(2),f("ngClass",de(10,mee,((t=o.formModel.get("netmask"))==null?null:t.invalid)&&((t=o.formModel.get("netmask"))==null?null:t.touched)))}}function NZe(i,n){if(i&1){let e=B();_(0,"div",64)(1,"div",65)(2,"span",59)(3,"label",70),R(4),D(5,"translate"),b(),_(6,"input",71),A("keyup",function(){w(e);let o=h(5);return C(o.onNodeFormInputType())}),b()()()(),_(7,"div",64)(8,"div",65)(9,"span",59)(10,"label",72),R(11),D(12,"translate"),b(),_(13,"input",73),A("keyup",function(){w(e);let o=h(5);return C(o.onNodeFormInputType())}),b()()()()}i&2&&(p(4),Q(k(5,2,"ITEM_PANEL.FIELDS.LABEL")),p(7),Q(k(12,4,"ITEM_PANEL.FIELDS.MAC")))}function FZe(i,n){if(i&1){let e=B();_(0,"form",32)(1,"div",11)(2,"span",59)(3,"label",60),R(4),D(5,"translate"),b(),_(6,"input",61),A("keyup",function(){w(e);let o=h(4);return C(o.onNodeFormInputType())}),b()()(),G(7,kZe,14,12)(8,NZe,14,6),_(9,"div",11)(10,"span",59)(11,"label",62),R(12),D(13,"translate"),b(),_(14,"input",63),A("keyup",function(){w(e);let o=h(4);return C(o.onNodeFormInputType())}),b()()()()}if(i&2){let e,t=h(4);f("formGroup",t.formModel),p(4),Q(k(5,4,"ITEM_PANEL.FIELDS.NAME")),p(3),H(((e=t.formModel.get("type"))==null?null:e.value)===t.ObjectTypes.OBJ_ADDRESS?7:8),p(5),Q(k(13,6,"ITEM_PANEL.FIELDS.COMMENTS"))}}function LZe(i,n){i&1&&(_(0,"div",31),N(1,"i",74)(2,"br"),_(3,"h6")(4,"strong"),R(5),D(6,"translate"),b()(),_(7,"p"),R(8),D(9,"translate"),b()()),i&2&&(p(5),Q(k(6,2,"IF_EDITOR.PROPS.MSG_NO_OBJ")),p(3),Q(k(9,4,"IF_EDITOR.PROPS.TEXT_NO_OBJ")))}function MZe(i,n){i&1&&(_(0,"span",76),R(1),D(2,"translate"),b()),i&2&&(p(),Q(k(2,1,"IF_EDITOR.PROPS.SAVED")))}function BZe(i,n){if(i&1&&(_(0,"div",75),G(1,MZe,3,3,"span",76),b()),i&2){let e=h(4);p(),H(e.nodeSaved?1:-1)}}function VZe(i,n){if(i&1){let e=B();_(0,"div",11)(1,"div",14)(2,"span",15)(3,"h6",16),N(4,"i",17),R(5),D(6,"translate"),b()(),_(7,"span",15)(8,"p-button",18),D(9,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onChangeSelected(!0))}),b()(),_(10,"span",15)(11,"p-button",19),D(12,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onChangeSelected(!1))}),b()(),G(13,rZe,4,9,"span",15),G(14,sZe,3,4,"span",15),N(15,"span",20),_(16,"span",15)(17,"h6",16),N(18,"i",21),R(19),D(20,"translate"),b()(),_(21,"span",15)(22,"p-checkbox",22),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.selectedIpVersions,o)||(r.selectedIpVersions=o),C(o)}),A("onChange",function(){w(e);let o=h(3);return C(o.onChangeFilters())}),b(),R(23," \xA0 "),_(24,"label",23),R(25,"IPv4"),b()(),_(26,"span",15)(27,"p-checkbox",24),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.selectedIpVersions,o)||(r.selectedIpVersions=o),C(o)}),A("onChange",function(){w(e);let o=h(3);return C(o.onChangeFilters())}),b(),R(28," \xA0 "),_(29,"label",25),R(30,"IPv6"),b()(),N(31,"span",20),_(32,"input",26,2),D(34,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.searchPattern,o)||(r.searchPattern=o),C(o)}),A("keyup",function(o){w(e);let r=h(3);return C(r.onSearchType(o.target.value))}),b(),_(35,"p-button",27),A("onClick",function(o){w(e);let r=Ze(33);h(3);let s=Ze(4);return C(s.toggle(o,r))}),b()()(),_(36,"div",28)(37,"p-card",29),E(38,aZe,5,3,"ng-template",null,3,ie),G(40,TZe,3,4,"p-tree",30)(41,OZe,9,6,"div",31),b()(),_(42,"div",28)(43,"p-card",29),E(44,AZe,6,4,"ng-template",null,3,ie),G(46,FZe,15,8,"form",32)(47,LZe,10,6,"div",31),E(48,BZe,2,1,"ng-template",null,4,ie),b()()}if(i&2){let e=h(3);p(5),Y(" ",k(6,21,"IF_EDITOR.HEADER.SELECT")," "),p(3),f("label",ae(k(9,23,"IF_EDITOR.HEADER.ALL"))),p(3),f("label",ae(k(12,25,"IF_EDITOR.HEADER.NONE"))),p(2),H(e.options!=null&&e.options.hideActionButtons?-1:13),p(),H(e.options!=null&&e.options.hideActionButtons?-1:14),p(5),Y(" ",k(20,27,"IF_EDITOR.HEADER.FILTER")," "),p(3),f("value",4),Ae("ngModel",e.selectedIpVersions),p(5),f("value",6),Ae("ngModel",e.selectedIpVersions),p(5),f("placeholder",ae(k(34,29,"IF_EDITOR.HEADER.FILTER_TEXT"))),Ae("ngModel",e.searchPattern),p(5),De(Pe(31,fee)),p(3),H(e.filteredTreeNodes!=null&&e.filteredTreeNodes.length?40:41),p(3),De(Pe(32,fee)),p(3),H(e.formModel&&e.editingTreeNodeKey?46:47)}}function UZe(i,n){if(i&1){let e=B();_(0,"div",11)(1,"div",12),N(2,"i",77)(3,"br"),_(4,"h6"),R(5),D(6,"translate"),b(),_(7,"p"),R(8),D(9,"translate"),b(),_(10,"p")(11,"p-button",34),D(12,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDiscoverInterfacesHandler())}),b()()()()}i&2&&(p(5),Q(k(6,4,"FW.MSG_AUTODISCOVER.HEADER")),p(3),Q(k(9,6,"FW.MSG_AUTODISCOVER.TEXT")),p(3),f("label",ae(k(12,8,"FW.MSG_FW_EDITION.DISCOVER_IF"))))}function jZe(i,n){if(i&1&&G(0,VZe,50,33)(1,UZe,13,10,"div",11),i&2){let e=h(2);H(e.treeNodes!=null&&e.treeNodes.length?0:1)}}function GZe(i,n){if(i&1&&(_(0,"div",7),G(1,nZe,1,0,"div",10),G(2,oZe,10,6,"div",11)(3,jZe,2,1),b()),i&2){let e=h();p(),H(e.disabled?1:-1),p(),H(e.loading?2:3)}}var gee=(()=>{let n=class n{set options(t){t&&(this._options=t,this.parseOptions(t))}get options(){return this._options}set inputNodes(t){this.buildTree(t)}constructor(t,o,r,s){this.formBuilder=t,this.confirmationService=o,this.translate=r,this.cd=s,this.onInstallModified=new te,this.onIpObjectModified=new te,this.onStartAutodiscover=new te,this.selectedTreeNodes=[],this.selectionKeys={},this.selectedIpVersions=[4,6],this.searchUpdated=new Le,this.formInputUpdated=new Le,this.nodeSaved=!1,this.ObjectTypes=O,this.alive=!0}ngOnInit(){this.searchUpdated.asObservable().pipe(Mm(300),Jc(),Nt(()=>this.alive)).subscribe(()=>{this.filterTree()}),this.formInputUpdated.asObservable().pipe(Mm(300),Nt(()=>this.alive)).subscribe(()=>{this.onSaveNode()})}ngOnDestroy(){this.alive=!1}getFirewallName(t){let o=[];if(this._options)return t&&t.forEach(r=>{let s=this._options.firewalls.find(a=>a.firewallUUID&&a.firewallUUID===r);s&&o.push(s.firewall_name)}),o.join("/")}addFirewall(t){if(this._options&&t){let o;Array.isArray(this._options.firewalls)?o=this._options.firewalls.find(r=>r.firewallUUID&&r.firewallUUID===t.firewallUUID):this._options.firewalls=[],o||(this._options.firewalls.push(ee({},t)),this.firewallsSelectorOptions||(this.firewallsSelectorOptions=[]),this.firewallsSelectorOptions.push({id:t.firewallUUID,label:t.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:r=>this.onChangeFirewallsSelectorOptions(r)})),this.cd.detectChanges()}}updateFirewallName(t,o){if(this._options&&Array.isArray(this._options.firewalls)&&Array.isArray(this.firewallsSelectorOptions)){let r=this._options.firewalls.find(a=>a.firewallUUID&&a.firewallUUID===t),s=this.firewallsSelectorOptions.find(a=>a.id&&a.id===t);r&&s&&(r.firewall_name=o,s.label=o,this.cd.detectChanges())}}deleteFirewall(t){if(this._options&&Array.isArray(this._options.firewalls)){let o=this._options.firewalls.findIndex(s=>s.firewallUUID&&s.firewallUUID===t),r=this.firewallsSelectorOptions.findIndex(s=>s.id&&s.id===t);o!==-1&&r!==-1&&(this._options.firewalls.splice(o,1),this.firewallsSelectorOptions.splice(r,1),Array.isArray(this.treeNodes)&&(this.treeNodes.forEach(s=>{s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.delete(t),Array.isArray(s.children)&&s.children.forEach(a=>{a.data.installFirewallUUIDs&&a.data.installFirewallUUIDs.delete(t)})}),this.filterTree()))}}getInterfacesFromTree(){let t=[];return Array.isArray(this.treeNodes)&&this.treeNodes.forEach(o=>{let r={interfaceUUID:o.data.interfaceUUID,id:o.data.id,id_node:o.data.id_node,firewall:o.data.firewall,cluster:o.data.cluster,type:o.data.type,interface_type:o.data.type,labelName:o.data.labelName,mac:o.data.mac,comment:o.data.comment,name:o.label,ipobjs:[]};Array.isArray(o.children)&&o.children.forEach(s=>{r.ipobjs.push({ipObjUUID:s.data.ipObjUUID,id:s.data.id,name:s.label,id_node:s.data.id_node,address:s.data.address,comment:s.data.comment,ip_version:s.data.ip_version,netmask:s.data.netmask,type:O.OBJ_ADDRESS,port:s.data.port})}),t.push(r)}),t}getObjectFromTreeNode(t){let o=null;return t&&(o=t.data,o.name=t.label),o}processOptions(t){t&&(this._options=t,this.parseOptions(t))}parseOptions(t){if(t&&t.firewalls){let o=this.getInterfacesFromTree();Array.isArray(t.existingIfs)&&t.existingIfs.forEach(a=>{o.find(c=>c.name===a.name)||o.push(a)});let r=a=>{let l=[];try{if(Array.isArray(a))for(let c=0;c<a.length;c++){let d=a[c],u,m,[g,y]=d.split("/"),v=Hh.parse(g);if(v.kind()=="ipv4")u=4,m="/"+y;else if(v.kind()=="ipv6")u=6,m="/"+y;else throw Error(g);l.push({address:g,netmask:m,ip_version:u})}}catch{return[]}return l},s=a=>{let l,c=Mt.netmaskCIDRRegexp.exec(a);return c?l=parseInt(c[1]):l=Hh.IPv4.parse(a).prefixLengthFromSubnetMask(),l};this.firewallsSelectorOptions=[],t.firewalls.forEach(a=>{this.firewallsSelectorOptions.push({id:a.firewallUUID,label:a.firewall_name||this.translate.instant("IF_EDITOR.TREE.UNNAMED_NODE"),command:l=>this.onChangeFirewallsSelectorOptions(l)})}),t.discoveredIfs.forEach(a=>{let l=o.find(u=>u.name===a.name);if(!l){let u=o.push({interfaceUUID:C3(),id:void 0,comment:void 0,ipobjs:[],labelName:void 0,name:a.name,mac:a.mac,type:O.OBJ_INTERFACE_FIREWALL});l=o[u-1]}let c=[];c=r(a.ipv4).concat(r(a.ipv6)),Array.isArray(l.ipobjs)||(l.ipobjs=[]);let d={4:0,6:0};for(let u=0;u<c.length;u++){let m=c[u],g=!1,y,v,S,I=new Set;y=m.netmask,(!y||!parseInt(y.substr(1)))&&(y=m.ip_version==4?"/32":"/128"),v=parseInt(y.substr(1));for(let P=0;P<l.ipobjs.length&&!g;P++){let L=l.ipobjs[P],F=Hh.parse(L.address).toNormalizedString();m.ip_version==L.ip_version&&Hh.parse(m.address).toNormalizedString()===F&&!I.has(F)&&(S=s(L.netmask),v===S&&(g=!0,I.add(F)))}if(!g){let P="",L="";if(a.name!=="lo"&&!/^tun\d+$/.test(a.name)&&!/^wg\d+$/.test(a.name))if(!t.isCluster)P=d[m.ip_version]?":"+(d[m.ip_version]-1):"";else{a.suffixToAdd&&(L="_"+a.suffixToAdd);let F=s(y);if((F===24||F===32)&&m.ip_version===4)try{let K=Hh.IPv4.parse(m.address);P=d[m.ip_version]?"_F"+K.octets[3]:L}catch{}else P=d[m.ip_version]?"_F"+d[m.ip_version]:L}l.ipobjs.push({ipObjUUID:l.interfaceUUID+C3(),id:void 0,id_node:void 0,address:m.address,comment:"",name:a.name+P,ip_version:m.ip_version,netmask:y,type:O.OBJ_ADDRESS,port:void 0})}d[m.ip_version]++}}),this.buildTree(o)}}buildTree(t){let o=new Map,r=new Map;if(t&&Array.isArray(t)){let a=1;this.treeNodes=[],this.filteredTreeNodes=[];let l=[];this.selectedTreeNodes&&(l=this.selectedTreeNodes.map(c=>{let d;return c.data&&(c.data.type===O.OBJ_ADDRESS?d=c.data.ipObjUUID:d=c.data.interfaceUUID),d})),this.selectedTreeNodes=[],this._options.firewalls.forEach(c=>{if(c.installOptions){if(c.installOptions.interface){let d=o.get(c.installOptions.interface.name);d||(d=new Set),d.add(c.installOptions.firewallUUID),o.set(c.installOptions.interface.name,d)}c.installOptions.ipobj&&r.set(c.installOptions.ipobj.address,new Set([c.installOptions.firewallUUID]))}}),t.forEach(c=>{let d={key:""+a++,label:c.name,data:{interfaceUUID:c.interfaceUUID,id:c.id,id_node:c.id_node,firewall:c.firewall,cluster:c.cluster,type:c.type,interface_type:c.type,labelName:c.labelName,mac:c.mac,comment:c.comment,installFirewallUUIDs:o.get(c.name)},children:[],expanded:!0,selectable:!c.id};(c.id||d.data.installFirewallUUIDs||l.find(u=>d.data.interfaceUUID===u))&&this.treeSelectNode(d),!c.id&&c.type===O.OBJ_INTERFACE_FIREWALL&&c.name==="lo"&&(d.data.special=!0,d.selectable=!1,this.treeSelectNode(d)),Array.isArray(c.ipobjs)&&(c.ipobjs.forEach(u=>{let m;m=r.get(u.address);let g={key:""+a++,label:u.name,data:{ipObjUUID:u.ipObjUUID,id:u.id,id_node:u.id_node,interface:c.id,type:u.type,ip_version:u.ip_version,address:u.address,netmask:u.netmask,comment:u.comment,installFirewallUUIDs:m},selectable:!u.id};u.id||m||l.find(y=>g.data.ipObjUUID===y)?this.treeSelectNode(g):m&&(this.treeSelectNode(g),this.treeSelectNode(d),this.onInstallModified.emit({firewallUUID:this._options.discoveredFirewallUUID,interface:this.getObjectFromTreeNode(d),ipobj:this.getObjectFromTreeNode(g)})),d.data.special&&!u.id&&u.type===O.OBJ_ADDRESS&&u.name==="lo"&&(g.data.special=!0,g.selectable=!1,this.treeSelectNode(g)),d.children.push(g)}),d.children.sort((u,m)=>u.data.ip_version-m.data.ip_version)),this.treeNodes.push(d)})}let s=this._options.firewalls.find(a=>a.firewallUUID===this._options.discoveredFirewallUUID);if(s&&this._options.discoveredAddress&&s.installOptions&&!s.installOptions.interface&&!s.installOptions.ipobj&&!this._options.firewalls.find(a=>a.installOptions&&a.installOptions.ipobj&&a.installOptions.ipobj.address===this._options.discoveredAddress)){let a=!1;for(let l=0;l<this.treeNodes.length;l++){let c=this.treeNodes[l];if(c.children)for(let d=0;d<c.children.length&&!a;d++){let u=c.children[d],m=!1;u.data.installFirewallUUIDs&&(m=u.data.installFirewallUUIDs.has(s.firewallUUID)),u.data&&u.data.type===O.OBJ_ADDRESS&&u.data.address===this._options.discoveredAddress&&!m&&(u.data.installFirewallUUIDs=new Set([s.firewallUUID]),this.treeSelectNode(u),c.data.installFirewallUUIDs||(c.data.installFirewallUUIDs=new Set),c.data.installFirewallUUIDs.add(s.firewallUUID),this.treeSelectNode(c),this.onInstallModified.emit({firewallUUID:s.firewallUUID,interface:this.getObjectFromTreeNode(c),ipobj:this.getObjectFromTreeNode(u)}),a=!0)}}}this.filterTree()}filterTree(){let t=o=>{let r=[],s=a=>{let l=!0;if(this.searchPattern&&this.searchPattern.trim().length&&a.label&&a.data.type===O.OBJ_INTERFACE_FIREWALL){let c=this.searchPattern.trim().split(/\s+/),d=a.label.toLowerCase(),u=[],m=[];for(let v=0;v<c.length;v++){let S=c[v].toLowerCase();S[0]!=="!"?u.push(S):m.push(S)}let g=!u.length;for(let v=0;v<u.length&&!g;v++){let S=u[v],I=S[S.length-1],P;I!=="*"?d===S&&(g=!0):(P=S.substring(0,S.length-1),P.length&&d.includes(P)&&(g=!0))}let y=!0;for(let v=0;v<m.length;v++){let S=m[v],I=S[S.length-1],P;I!=="*"?(P=S.substring(1),P.length&&d===P&&(y=!1)):(P=S.substring(1,S.length-1),P.length&&d.includes(P)&&(y=!1))}l=g&&y}return l};if(Array.isArray(o)){let a=o.map(l=>Jt(l));for(let l=0;l<a.length;l++){let c=a[l],d=!0;c.data&&(this.selectedIpVersions.indexOf(4)==-1&&c.data&&c.data.type==O.OBJ_ADDRESS&&c.data.ip_version==4||this.selectedIpVersions.indexOf(6)==-1&&c.data&&c.data.type==O.OBJ_ADDRESS&&c.data.ip_version==6||!s(c))&&(d=!1),d&&(Array.isArray(c.children)&&(c.children=t(c.children)),r.push(c))}}return r};this.filteredTreeNodes=t(this.treeNodes),this.filteredTreeNodes=this.filteredTreeNodes.sort((o,r)=>o.label.toLocaleLowerCase().localeCompare(r.label.toLocaleLowerCase())),this.selectedTreeNodes=this.selectedTreeNodes.filter(o=>{if(!o.selectable)return!0;for(let r=0;r<this.filteredTreeNodes.length;r++){let s=this.filteredTreeNodes[r];if(s.key===o.key)return!0;if(Array.isArray(s.children)){for(let a=0;a<s.children.length;a++)if(s.children[a].key===o.key)return!0}}return!1}),this.onIpObjectModified.emit({}),this.cd.detectChanges()}onShowNodeInfo(t,o){t.stopPropagation(),this.editingTreeNodeKey=o.key,this.createForm(o.key),this.nodeSaved=!1}onSetInstallAddress(t,o){t.stopPropagation();let r=this.treeSearchByNodeKey(o.key),s=this.firewallsSelectorOptions[0].id;this.doSetInstallAddress(r,s)}doSetInstallAddress(t,o){if(t){let r=null,s;if(t.data.installFirewallUUIDs){if(s=t.data.installFirewallUUIDs.values().next().value,s===o)return}else t.data.installFirewallUUIDs=new Set;for(let a=0;a<this.treeNodes.length;a++){let l=this.treeNodes[a];if(l.data.installFirewallUUIDs&&(l.data.installFirewallUUIDs.delete(o),s&&l.data.installFirewallUUIDs.delete(s)),l.selectable=!l.data.id&&!l.data.special,l.children)for(let c=0;c<l.children.length;c++){let d=l.children[c];d.data.installFirewallUUIDs&&(d.data.installFirewallUUIDs.delete(o),s&&d.data.installFirewallUUIDs.delete(s)),d.selectable=!d.data.id&&!d.data.special,d.key===t.key&&(r=l,r.data.installFirewallUUIDs||(r.data.installFirewallUUIDs=new Set))}}this.treeSelectNode(t),t.data.installFirewallUUIDs.add(o),r&&(this.treeSelectNode(r),r.data.installFirewallUUIDs.add(o)),this.filterTree(),this.onInstallModified.emit({firewallUUID:o,interface:this.getObjectFromTreeNode(r),ipobj:this.getObjectFromTreeNode(t)})}}updateInstallOptions(t){if(this._options&&t){let o=this._options.firewalls.find(r=>r.firewallUUID&&r.firewallUUID===t.firewallUUID);o&&(o.installOptions=t,this.treeNodes.forEach(r=>{r.data.installFirewallUUIDs&&(r.data.installFirewallUUIDs.delete(o.firewallUUID),Array.isArray(r.children)&&r.children.forEach(s=>{s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.delete(o.firewallUUID)})),r.data.id&&t.interface&&r.data.interfaceUUID===t.interface.interfaceUUID&&(r.data.installFirewallUUIDs||(r.data.installFirewallUUIDs=new Set),r.data.installFirewallUUIDs.add(t.firewallUUID),Array.isArray(r.children)&&r.children.forEach(s=>{s.data.id&&t.ipobj&&s.data.ipObjUUID===t.ipobj.ipObjUUID&&(s.data.installFirewallUUIDs||(s.data.installFirewallUUIDs=new Set),s.data.installFirewallUUIDs.add(t.firewallUUID))}))}),this.filterTree())}}treeSelectNode(t){this.selectedTreeNodes.find(o=>o.key===t.key)||(this.selectedTreeNodes.push(t),this.selectionKeys[t.key]=!0)}onSelectionKeysChange(t){this.selectionKeys=t||{},this.selectedTreeNodes=this.buildSelectedNodesFromKeys(this.selectionKeys),this.cd.markForCheck()}buildSelectedNodesFromKeys(t){let o=[],r=s=>{Array.isArray(s)&&s.forEach(a=>{t?.[a.key]&&o.push(a),Array.isArray(a.children)&&r(a.children)})};return r(this.treeNodes),o}syncSelectionKeysFromSelected(){this.selectionKeys={},Array.isArray(this.selectedTreeNodes)&&this.selectedTreeNodes.forEach(t=>{t?.key&&(this.selectionKeys[t.key]=!0)})}treeGetParentNode(t){let o=null,r=!1;for(let s=0;s<this.treeNodes.length&&!r;s++){let a=this.treeNodes[s];if(a.key===t.key&&(r=!0),Array.isArray(a.children)){o=a;for(let l=0;l<a.children.length&&!r;l++)a.children[l].key===t.key&&(r=!0)}}return r?o:null}treeSearchByNodeKey(t,o=this.treeNodes){let r;if(o)for(let s=0;!r&&s<o.length;s++){let a=o[s];a.key===t?r=a:a.children&&(r=this.treeSearchByNodeKey(t,a.children))}return r}treeSearchByObjectIdAndType(t,o,r=this.treeNodes){let s;if(r)for(let a=0;a<r.length;a++){let l=r[a];if(l.data&&l.data.id===t&&l.data.type===o){s=l;break}Array.isArray(l.children)&&this.treeSearchByObjectIdAndType(t,o,l.children)}return s}createForm(t){let o=this.treeSearchByNodeKey(t);o&&o.data&&(this.formModel=null,this.cd.detectChanges(),this.formModel=this.formBuilder.group({id:o.data.id,key:o.key,special:!!o.data.special,type:o.data.type,label:[o.label,Me.required],comment:o.data.comment}),o.data.type==O.OBJ_ADDRESS?(this.formModel.addControl("address",new Ee(o.data.address,[Me.required,Mt.ipAddressValidator.bind(this)])),this.formModel.addControl("netmask",new Ee(o.data.netmask,[Me.required,Mt.netmaskValidator.bind(this)])),this.formModel.addControl("ip_version",new Ee(o.data.ip_version,[Me.required]))):(this.formModel.addControl("labelName",new Ee(o.data.labelName,Me.pattern(Mt.nameRegExp))),this.formModel.addControl("mac",new Ee(o.data.mac,Me.pattern(Mt.macRegexp)))),o.data.special?this.formModel.disable():this.formModel.enable()),this.cd.detectChanges(),this.cd.markForCheck()}addressNetmaskToCIDRAddress(t,o){let r=t;if(o){let s=Mt.netmaskCIDRRegexp.exec(o);if(s)r+="/"+s[1];else try{let a=Hh.IPv4.parse(o).prefixLengthFromSubnetMask();a?r+="/"+a:r=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}catch{r=this.translate.instant("IF_EDITOR.TREE.ERROR_ADDRESS")}}return r}onSearchType(t){this.searchUpdated.next(t)}onChangeFilters(){this.filterTree()}onChangeSelected(t){Array.isArray(this.treeNodes)&&(this.selectAllNodes(t),this.onIpObjectModified.emit({}))}selectAllNodes(t){t?(this.selectedTreeNodes=[],this.selectionKeys={},this.filteredTreeNodes.forEach(o=>{this.selectedTreeNodes.push(o),this.selectionKeys[o.key]=!0,Array.isArray(o.children)&&o.children.length&&(this.selectedTreeNodes.push(...o.children),o.children.forEach(r=>this.selectionKeys[r.key]=!0))})):(this.selectedTreeNodes=this.selectedTreeNodes?.filter(o=>o.selectable===!1)||[],this.syncSelectionKeysFromSelected()),this.cd.markForCheck()}onNodeSelect(t){if(t&&t.node){let o=t.node;o.parent&&this.treeSelectNode(o.parent),this.syncSelectionKeysFromSelected(),this.cd.markForCheck(),this.onIpObjectModified.emit({})}}onNodeUnselect(t){if(t&&t.node){let o=t.node;if(o.data.special)t.originalEvent.preventDefault(),this.treeSelectNode(o);else{let r=this.treeSearchByNodeKey(o.key);if(Array.isArray(r.children))this.selectedTreeNodes=this.selectedTreeNodes.filter(s=>!o.children.find(a=>a.key===s.key&&a.selectable)),r.data.installFirewallUUIDs&&(r.data.installFirewallUUIDs=null,r.children.forEach(s=>{s.data.installFirewallUUIDs=null}));else if(r.data.installFirewallUUIDs){let s=this.treeGetParentNode(r),l=r.data.installFirewallUUIDs.values().next().value;s.data.installFirewallUUIDs.delete(l),r.data.installFirewallUUIDs=null}this.filterTree(),o.data.installFirewallUUIDs?o.data.installFirewallUUIDs.forEach(s=>{this.onInstallModified.emit({firewallUUID:s,interface:null,ipobj:null})}):this.onIpObjectModified.emit({})}this.syncSelectionKeysFromSelected(),this.cd.markForCheck()}}onMouseEnter(t){this.hoveredTreeNodeKey=t.key}onMouseLeave(t){this.hoveredTreeNodeKey=null}onNodeFormInputType(){this.nodeSaved=!1,this.formModel.valid&&this.formInputUpdated.next(void 0)}onCancelNodeEdit(){if(this.formModel){let t=this.formModel.value,o=this.treeSearchByNodeKey(t.key),r={};Object.keys(t).forEach(s=>{s==="key"||s==="label"?r[s]=o[s]:o.data&&(r[s]=o.data[s])}),this.formModel.reset(r)}}onSaveNode(){if(this.formModel&&this.formModel.valid){let t=this.formModel.value,o=this.treeSearchByNodeKey(t.key);o&&(Object.keys(t).forEach(r=>{switch(r){case"key":break;case"label":o.label=t[r];break;default:o.data[r]=t[r]}}),o.data.modified=!0,o.data.id?this.onIpObjectModified.emit(Fe(ee({},o.data),{name:o.label})):o.data.installFirewallUUIDs&&this.onIpObjectModified.emit({installFirewallUUIDs:o.data.installFirewallUUIDs,type:o.data.type,name:o.label,address:o.data.address}),this.filterTree(),this.formModel.markAsPristine(),this.nodeSaved=!0)}}onResetTree(){this.treeNodes.find(o=>!o.data.id)&&this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("IF_EDITOR.TREE.MSG_RESET_TREE"),accept:()=>{this.treeNodes=this.treeNodes.filter(o=>o.data&&o.data.id),this.treeNodes.forEach(o=>{Array.isArray(o.children)&&(o.children=o.children.filter(r=>r.data&&r.data.id))}),this.selectedTreeNodes=this.selectedTreeNodes.filter(o=>o.data&&o.data.id),this.filterTree(),this._options.firewalls.forEach(o=>{let r=!0;this.selectedTreeNodes.find(s=>s.data&&s.data.installFirewallUUIDs&&s.data.installFirewallUUIDs.has(o.firewallUUID))&&(r=!1),r&&this.onInstallModified.emit({firewallUUID:o.firewallUUID,interface:null,ipobj:null})})},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")})}isThereAnySelectedNode(){let t=!0;if(this.treeNodes){let o;o=this.treeNodes.some(r=>r.selectable),o&&!this.getSelectedTreeNodes(!0).length&&(t=!1)}return t}areTherePendingOperations(){let t=!1;return this.selectedTreeNodes&&(t=!!this.selectedTreeNodes.find(o=>o.data&&(o.data.id&&o.data.modified||!o.data.id))),t}getSelectedTreeNodes(t=!1){let o=r=>{let s=[];return r&&r.forEach(a=>{let l=-1;if(this.selectedTreeNodes.find(c=>!t&&a.key===c.key||a.key===c.key&&c.selectable)&&(l=s.push(ee({},a))-1),l!==-1){let c=s[l];c.children&&(c.children=o(c.children))}}),s};return o(this.treeNodes)}setNewLoIds(t){if(t&&t.loData&&this.treeNodes){let o=this.treeNodes.find(r=>r.data.special);o&&Array.isArray(o.children)&&(o.data.id=t.loData.ifId,o.data.updateSpecial=!0,o.children.forEach(r=>{r.data&&(r.data.interface=t.loData.ifId,r.data.updateSpecial=!0,r.data.id=r.data.ip_version===4?t.loData.ipv4Id:t.loData.ipv6Id)})),this.filterTree()}}getInstallationData(t){let o,r,s;return Array.isArray(this.selectedTreeNodes)&&this.selectedTreeNodes.forEach(a=>{a.data&&(a.data.type===O.OBJ_INTERFACE_FIREWALL&&a.data.installFirewallUUIDs&&a.data.installFirewallUUIDs.has(t)&&(r=a.data),a.data.type===O.OBJ_ADDRESS&&a.data.installFirewallUUIDs&&a.data.installFirewallUUIDs.has(t)&&(s=a.data))}),(r||s)&&(o={interface:r,address:s}),o}operationsModified(){let t=!1;if(Array.isArray(this.selectedTreeNodes))for(let o=0;o<this.selectedTreeNodes.length&&!t;o++){let r=this.selectedTreeNodes[o];if(r.data.modified||r.data.updateSpecial||!r.data.id)t=!0;else if(Array.isArray(r.children))for(let s=0;s<r.children.length&&!t;s++){let a=r.children[s];(a.data.modified||r.data.updateSpecial||!a.data.id)&&(t=!0)}}return t}getSelectedModifiedTreeNodes(){if(Array.isArray(this.selectedTreeNodes))return this.selectedTreeNodes.filter(t=>t.data&&t.data.modified)}showFirewallsSelector(t,o){t.stopPropagation(),o.data.type===O.OBJ_ADDRESS&&(this.clickedTreeNodeKey=o.key,this.menuNodesSelector.toggle(t))}hideFirewallSelector(){this.menuNodesSelector.hide()}onHideFirewallsSelector(){this.clickedTreeNodeKey=null}onChangeFirewallsSelectorOptions(t){let r=t.item.id,s=this.treeSearchByNodeKey(this.clickedTreeNodeKey);this.doSetInstallAddress(s,r)}onDiscoverInterfacesHandler(){this.onStartAutodiscover.emit(!0)}resetProperties(){this._options=null,this.treeNodes=[],this.filteredTreeNodes=[],this.selectedTreeNodes=[],this.searchPattern=null,this.editingTreeNodeKey=null,this.nodeSaved=!1}};n.\u0275fac=function(o){return new(o||n)(x(ur),x(ti),x($e),x(We))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-interfaces-tree-editor"]],viewQuery:function(o,r){if(o&1&&_e(eZe,5),o&2){let s;W(s=$())&&(r.menuNodesSelector=s.first)}},inputs:{options:"options",inputNodes:"inputNodes",disabled:"disabled",minimized:"minimized",loading:"loading",manualMode:"manualMode"},outputs:{onInstallModified:"onInstallModified",onIpObjectModified:"onIpObjectModified",onStartAutodiscover:"onStartAutodiscover"},standalone:!1,decls:48,vars:21,consts:[["menuNodesSelector",""],["opFilterHelp",""],["inputFilter",""],["header",""],["footer",""],["treeSelector",""],["appendTo","body",3,"onHide","popup","model"],[1,"grid","relative"],["appendTo","body"],[1,"fa","fa-lg","fa-info-circle","fwcBlue"],[1,"absolute","inset-0","z-10001","bg-black/10","pointer-events-none"],[1,"col-12"],[1,"divIconMessage","divIconMessage--condensed"],[1,"fa","fa-4x","fa-cog","fa-spin","fwcBlue"],[1,"divInlineInput"],[1,"spanField"],[1,"fwcBlue"],[1,"fa","fa-list-ul"],["type","button","icon","fa fa-check-square",3,"onClick","label"],["type","button","icon","fa fa-square",3,"onClick","label"],[1,"fwcSepShort"],[1,"fa","fa-filter"],["name","ipVersions","inputId","IPv4","inputId","ipv4",3,"ngModelChange","onChange","value","ngModel"],["for","IPv4"],["name","ipVersions","inputId","IPv6","inputId","ipv6",3,"ngModelChange","onChange","value","ngModel"],["for","IPv6"],["type","text","pInputText","","name","search","maxlength","255",3,"ngModelChange","keyup","placeholder","ngModel"],["type","button","icon","fa fa-info","styleClass","p-button-info fwcButtonHeight",3,"onClick"],[1,"col-12","md:col-6"],[1,"flex","flex-col","overflow-hidden","if-editor-card"],["selectionMode","checkbox",1,"treeSelector","h-full",3,"value","propagateSelectionUp","propagateSelectionDown","selection"],[1,"divIconMessage"],[1,"grid","gap-y-1","pt-0","pb-1",3,"formGroup"],["type","button","styleClass","p-button-danger","icon","fa fa-trash","showDelay","500","tooltipPosition","top",3,"onClick","pTooltip","disabled","label"],["type","button","icon","fa fa-search-plus",3,"onClick","label"],[1,"grid"],["selectionMode","checkbox",1,"treeSelector","h-full",3,"selectionChange","onNodeSelect","onNodeUnselect","value","propagateSelectionUp","propagateSelectionDown","selection"],["pTemplate","default"],[1,"flex","flex-wrap","items-center","gap-0.5",3,"mouseenter","mouseleave","ngClass"],[3,"ngClass"],["aria-hidden","true"],[1,"fa","fa-fw","fa-info-circle","fwcBlue",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"pTooltip","showDelay"],[1,"mx-2"],[1,"fa","fa-fw","fa-angle-right","fwcBlue"],[1,"spanSimplePill"],[1,"spanSimplePill",3,"click"],["showDelay","500","tooltipPosition","top",1,"fa","fa-fw","fa-lg","fa-check","fwcGreen",3,"pTooltip"],[1,"spanSimplePill-select"],[1,"pi","pi-chevron-down","fwcBlue"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-check","fwcIconButton","padded","iconSuccess",3,"click","pTooltip","showDelay"],["tooltipPosition","top",1,"fa","fa-pencil","fwcIconButton","padded","iconInfo",3,"click","pTooltip","showDelay"],[1,"spanInfoPill","pillSuccess"],[1,"spanInfoPill",3,"ngClass"],[1,"fa","fa-5x","fa-exclamation","fwcPaleDark"],[1,"fwcDark"],[1,"spanInfoPill","pillInfoBadge"],["showDelay","300","tooltipPosition","top",1,"fa","fa-info-circle",3,"pTooltip"],[1,"p-float-label"],["for","label"],["type","text","pInputText","","formControlName","label","name","label","maxlength","64",3,"keyup"],["for","comment"],["type","text","pInputText","","formControlName","comment","name","comment",3,"keyup"],[1,"col-6"],[1,"p-inputgroup"],["for","address"],["type","text","pInputText","","formControlName","address","name","address","maxlength","45",3,"keyup","ngClass"],["for","netmask"],["type","text","pInputText","","formControlName","netmask","name","netmask","maxlength","15",3,"keyup","ngClass"],["for","labelName"],["type","text","pInputText","","formControlName","labelName","name","labelName","maxlength","64",3,"keyup"],["for","mac"],["type","text","pInputText","","formControlName","mac","name","mac","maxlength","17",3,"keyup"],[1,"fa","fa-5x","fa-exclamation-triangle"],[2,"text-align","right"],[1,"fwcGreen"],[1,"fa","fa-4x","fa-info-circle","fwcBlue"]],template:function(o,r){if(o&1){let s=B();_(0,"p-menu",6,0),A("onHide",function(){return w(s),C(r.onHideFirewallsSelector())}),b(),G(2,GZe,4,2,"div",7),_(3,"p-popover",8,1)(5,"h6"),N(6,"i",9),R(7),D(8,"translate"),b(),_(9,"ul")(10,"li"),R(11),D(12,"translate"),_(13,"code"),R(14,"lo"),b()(),_(15,"li"),R(16),D(17,"translate"),_(18,"code"),R(19,"lo"),_(20,"strong"),R(21,"*"),b()()(),_(22,"li"),R(23),D(24,"translate"),_(25,"code")(26,"strong"),R(27,"!"),b(),R(28,"lo"),b()(),_(29,"li"),R(30),D(31,"translate"),_(32,"code")(33,"strong"),R(34,"!"),b(),R(35,"lo"),_(36,"strong"),R(37,"*"),b()()()(),_(38,"p"),R(39),D(40,"translate"),b(),_(41,"ul")(42,"li")(43,"code"),R(44,"lo* tun*"),b()(),_(45,"li")(46,"code"),R(47,"tun* !tun10*"),b()()()()}o&2&&(f("popup",!0)("model",r.firewallsSelectorOptions),p(2),H(r.minimized?-1:2),p(5),Y(" ",k(8,9,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TITLE")," "),p(4),Y(" ",k(12,11,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_COINCIDENCE")," "),p(5),Y(" ",k(17,13,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_COINCIDENCE")," "),p(7),Y(" ",k(24,15,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.EXACT_EXCLUSION")," "),p(7),Y(" ",k(31,17,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.PARTIAL_EXCLUSION")," "),p(9),Q(k(40,19,"PANELS.INTERFACES_EDITOR.USE_SAMPLE.TIP")))},styles:[`h6,p,span .spanField{font-size:.9rem!important}h6.fwcBlue{font-weight:700!important}.p-card .p-card-body{height:95%!important;overflow:visible}.p-card .p-card-content{height:100%!important;overflow:visible}.if-editor-card .p-card-body{padding-top:0rem;padding-bottom:0rem}.treeSelector .p-tree-container{height:100%;overflow:auto}.treeSelector .p-tree-node-content{padding:.1rem;gap:.5rem!important}.treeSelector .p-tree-node-content>span{background:var(--fwcPaleBlue3);color:var(--fwcDark)}
`],encapsulation:2,changeDetection:0});let i=n;return i})();var v0=class{constructor(n){n&&(this.fwcloud=n.fwcloud)}getValue(){return{fwcloud:this.fwcloud}}},w0=class extends v0{constructor(n){super(n),n&&(this.node_parent=n.node_parent,this.node_order=n.node_order,this.node_type=n.node_type,this.force=n.force)}getValue(){return Fe(ee({},super.getValue()),{node_parent:this.node_parent,node_order:this.node_order,node_type:this.node_type,force:this.force})}},C0=class extends v0{constructor(n){super(n),n&&(this.id=n.id)}getValue(){return Fe(ee({},super.getValue()),{id:this.id})}};var TO=class extends w0{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Fe(ee({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}},OO=class extends C0{constructor(n){super(n),n&&(this.interface=n.interface,this.name=n.name,this.type=n.type,this.protocol=n.protocol,this.address=n.address,this.netmask=n.netmask,this.diff_serv=n.diff_serv,this.ip_version=n.ip_version,this.icmp_code=n.icmp_code,this.icmp_type=n.icmp_type,this.tcp_flags_mask=n.tcp_flags_mask,this.tcp_flags_settings=n.tcp_flags_settings,this.range_start=n.range_start,this.range_end=n.range_end,this.source_port_start=n.source_port_start,this.source_port_end=n.source_port_end,this.destination_port_start=n.destination_port_start,this.destination_port_end=n.destination_port_end,this.options=n.options,this.comment=n.comment)}getValue(){return Fe(ee({},super.getValue()),{interface:this.interface,name:this.name,type:this.type,protocol:this.protocol,address:this.address,netmask:this.netmask,diff_serv:this.diff_serv,ip_version:this.ip_version,icmp_code:this.icmp_code,icmp_type:this.icmp_type,tcp_flags_mask:this.tcp_flags_mask,tcp_flags_settings:this.tcp_flags_settings,range_start:this.range_start,range_end:this.range_end,source_port_start:this.source_port_start,source_port_end:this.source_port_end,destination_port_start:this.destination_port_start,destination_port_end:this.destination_port_end,options:this.options,comment:this.comment})}};var RO=class extends C0{constructor(n){super(n),this.type=null,n&&(this.name=n.name,this.labelName=n.labelName,this.type=n.type,this.comment=n.comment,this.mac=n.mac,this.interface_type=n.interface_type)}getValue(){return Fe(ee({},super.getValue()),{name:this.name,labelName:this.labelName,type:this.type,comment:this.comment,mac:this.mac,interface_type:this.interface_type})}},DO=class extends w0{constructor(n){super(n),n&&(this.name=n.name,this.firewall=n.firewall,this.host=n.host,this.labelName=n.labelName,this.type=n.type,this.interface_type=n.interface_type,this.comment=n.comment,this.mac=n.mac)}getValue(){return Fe(ee({},super.getValue()),{name:this.name,firewall:this.firewall,namhoste:this.host,labelName:this.labelName,type:this.type,interface_type:this.interface_type,comment:this.comment,mac:this.mac})}};var HZe=()=>({width:"80vw"}),zZe=i=>({"bg-[var(--fwcPaleBlue)]":i}),WZe=i=>({"font-bold":i});function $Ze(i,n){i&1&&(_(0,"div",12)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"ITEM_BATCH.PANEL_TITLE")))}function KZe(i,n){if(i&1&&(_(0,"h6",9),N(1,"i",15),D(2,"fwcIcon"),R(3,"\xA0 "),_(4,"strong"),R(5),D(6,"translate"),b(),R(7),b()),i&2){let e=h();p(),j(k(2,4,e.options.parentObject.type)),p(4),Q(k(6,6,"GLOBALS.DB_OBJECT_NAMES."+e.options.parentObject.type)),p(2),Y(" ",e.options.parentObject.name," ")}}function qZe(i,n){i&1&&(_(0,"colgroup"),N(1,"col")(2,"col")(3,"col"),b()),i&2&&(p(),Kt("width","20rem"),p(),Kt("width","10rem"))}function JZe(i,n){i&1&&(_(0,"tr")(1,"th"),R(2),D(3,"translate"),b(),_(4,"th",17),R(5),D(6,"translate"),b(),_(7,"th",18),R(8),D(9,"translate"),b()()),i&2&&(p(2),Q(k(3,3,"ITEM_BATCH.TABLE_HEADER.0")),p(3),Q(k(6,5,"ITEM_BATCH.TABLE_HEADER.1")),p(3),Q(k(9,7,"ITEM_BATCH.TABLE_HEADER.2")))}function QZe(i,n){i&1&&N(0,"i",22)}function YZe(i,n){if(i&1&&(_(0,"span",23)(1,"span"),N(2,"i"),R(3," \xA0 "),_(4,"p"),R(5),D(6,"translate"),b()()()),i&2){let e=h().rowData,t=h(2);f("ngClass",t.ItemBatchOperationTypeOptions[e.operationType].displayClass),p(2),j(t.ItemBatchOperationTypeOptions[e.operationType].icon),p(3),Q(k(6,4,t.ItemBatchOperationTypeOptions[e.operationType].translateKey))}}function XZe(i,n){if(i&1){let e=B();_(0,"a",24),A("click",function(o){w(e);let r=h(2).rowData,s=h(2),a=Ze(12);return C(s.showOperationMessage(o,r.operationMessage,a))}),N(1,"i",25),b()}}function ZZe(i,n){if(i&1&&(_(0,"span",20),N(1,"i"),R(2," \xA0 "),_(3,"span"),R(4),D(5,"translate"),b(),R(6," \xA0 "),G(7,XZe,2,0,"a"),b()),i&2){let e=h().rowData,t=h(2);f("ngClass",t.ItemBatchOperationStatusOptions[e.operationStatus].displayClass),p(),j(t.ItemBatchOperationStatusOptions[e.operationStatus].icon),p(3),Q(k(5,5,t.ItemBatchOperationStatusOptions[e.operationStatus].translateKey)),p(3),H(e.operationMessage?7:-1)}}function eet(i,n){if(i&1&&(_(0,"tr",19)(1,"td",20),N(2,"p-treeTableToggler",21)(3,"i",15),D(4,"fwcIcon"),R(5),G(6,QZe,1,0,"i",22),b(),_(7,"td",17),G(8,YZe,7,6,"span",23),b(),_(9,"td",18),G(10,ZZe,8,7,"span",20),b()()),i&2){let e=n.$implicit,t=n.rowData,o=h(2);f("id",ae(t.operationKey))("ngClass",de(13,zZe,t.operationKey===(o.currentOperationData==null?null:o.currentOperationData.operationKey))),p(),f("ngClass",de(15,WZe,t.operationKey===(o.currentOperationData==null?null:o.currentOperationData.operationKey))),p(),f("rowNode",e),p(),j(k(4,11,t.object==null?null:t.object.type)),p(2),Y(" ",t.object==null?null:t.object.name," "),p(),H(t.object!=null&&t.object.installFirewallUUID?6:-1),p(2),H(o.ItemBatchOperationTypeOptions[t.operationType]?8:-1),p(2),H(o.ItemBatchOperationStatusOptions[t.operationStatus]?10:-1)}}function tet(i,n){if(i&1&&(_(0,"div",8)(1,"p-treeTable",16),E(2,qZe,4,4,"ng-template",null,4,ie)(4,JZe,10,9,"ng-template",null,1,ie)(6,eet,11,17,"ng-template",null,5,ie),b()()),i&2){let e=h();p(),f("value",e.objectOperationsTreeNodes)("scrollable",!0)}}function iet(i,n){if(i&1&&(_(0,"div",8)(1,"div",26),N(2,"i",27)(3,"br"),_(4,"h6"),R(5),D(6,"translate"),b(),_(7,"p"),R(8),b()()()),i&2){let e=h();p(5),Q(k(6,2,"ITEM_BATCH.ERROR_HEADER")),p(3),Q(e.optionsErrorMessage)}}function net(i,n){if(i&1){let e=B();_(0,"p-button",30),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.processOperations(o.objectOperationsTreeNodes))}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"ITEM_BATCH.BTN_TRY_AGAIN")))("disabled",e.loadingData)}}function oet(i,n){if(i&1){let e=B();G(0,net,2,5,"p-button",28),_(1,"p-button",29),D(2,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();H((e.currentOperationData==null?null:e.currentOperationData.operationStatus)===e.ItemBatchOperationStatus.ERROR?0:-1),p(),f("label",ae(k(2,4,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var _ee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y){super(t,o,r,u,g,y),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.fwcUserService=s,this.fwcInterfaceService=a,this.fwcObjectService=l,this.confirmationService=c,this.utilService=d,this.cd=u,this.translate=m,this.store=g,this.router=y,this.ItemBatchOperationStatusOptions=mH,this.ItemBatchOperationTypeOptions=fH,this.ItemBatchOperationStatus=xo,this.loadingData=!1,this.createDialog(this.translate.instant("ITEM_BATCH.PANEL_TITLE"),"fwci-ipobjects",oi.ITEM_BATCH_MANAGER)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(Nt(()=>this.alive)).subscribe(t=>{t.uuid===this.dialogUUID&&this.setOptions(t.data)})}ngOnDestroy(){super.ngOnDestroy()}setOptions(t){return V(this,null,function*(){t&&(this.options=t,Array.isArray(t.objectTreeNodes)?(this.objectOperationsTreeNodes=[],this.objectOperationsTreeNodes=this.parseOptionObjects(t.objectTreeNodes),this.objectOperationsTreeNodes.length&&(this.currentOperationData=void 0,this.cd.markForCheck(),this.showDialog(),this.loadingData=!0,yield this.processOperations(this.objectOperationsTreeNodes),this.loadingData=!1)):(this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_DATA"),this.cd.markForCheck(),this.showDialog()))})}parseOptionObjects(t,o){let r=[];if(Array.isArray(t)){let s=this.fwcUserService.getActualFwSelectedCloud();t=t.filter(a=>{let l=Array.isArray(a.children)&&a.children.length;return a.data.modified||a.data.updateSpecial||!a.data.id||l&&a.children.some(c=>c.data.modified||c.data.updateSpecial||!c.data.id)}),t.forEach(a=>{let l,c=a.data||{},d,u=xo.PENDING,m=a.key;if(!c.id&&!c.special){if(d=La.CREATE,!this.options.parentObject)return this.optionsErrorMessage=this.translate.instant("ITEM_BATCH.ERROR_NO_PARENT"),[]}else c.id&&c.special&&c.updateSpecial?d=La.UPDATE_SPECIAL:c.id&&c.modified?d=La.UPDATE:(d=La.NO_OP,u=xo.NO_OP);l={operationKey:m,operationType:d,operationStatus:u,object:Fe(ee({},c),{fwcloud:s,name:a.label})};let g={key:m,expanded:!0,data:l,children:[]};Array.isArray(a.children)&&(g.children=this.parseOptionObjects(a.children,m)),r.push(g)})}return r}processOperations(t,o){return V(this,null,function*(){if(Array.isArray(t)){o||(o=this.options.parentObject);for(let r=0;r<t.length;r++){let s=t[r],a=s.data;if(!this.currentOperationData||this.currentOperationData&&this.currentOperationData.operationKey===a.operationKey){if(a.operationType==La.NO_OP)a.operationStatus=xo.NO_OP;else if(a.operationType==La.UPDATE_SPECIAL)a.operationStatus=xo.SUCCESS,a.operationResult={insertId:a.object.id};else{a.operationStatus=xo.RUNNING,a.object.node_parent=o.id_node,a.object.node_type=Q7[a.object.type],a.object.node_order=r+1,this.currentOperationData=a;try{let l=yield this.processCurrentOperation(o);l.data&&l.data.insertId&&(a.object.id=l.data.insertId,a.object.id_node=l.data.TreeinsertId,a.operationResult={insertId:l.data.insertId,TreeInsertId:l.data.TreeinsertId}),a.operationStatus=xo.SUCCESS}catch(l){a.operationStatus=xo.ERROR,a.operationMessage=l,this.cd.markForCheck();return}}this.cd.markForCheck()}Array.isArray(s.children)&&(yield this.processOperations(s.children,a.object))}}})}processCurrentOperation(t,o=!0){return V(this,null,function*(){let r;if(t&&this.currentOperationData){let s,a,l=document.getElementById(this.currentOperationData.operationKey);if(l&&l.scrollIntoView(),this.currentOperationData.operationType===La.CREATE){let c=this.currentOperationData.object;switch(this.currentOperationData.object.type){case O.OBJ_INTERFACE_FIREWALL:case O.OBJ_INTERFACE_HOST:{s=this.fwcInterfaceService.newInterface.bind(this.fwcInterfaceService);let d=new DO(c);d.fwcloud=this.currentOperationData.object.fwcloud,d.node_parent=t.id_node,t.type===O.OBJ_FIREWALL?d.firewall=t.id:t.type===O.OBJ_HOST&&(d.host=t.id),a=d.getValue();break}default:{s=this.fwcObjectService.newObject.bind(this.fwcObjectService);let d=new TO(c);d.fwcloud=this.currentOperationData.object.fwcloud,d.node_parent=t.id_node,d.force=o?1:0,(t.type===O.OBJ_INTERFACE_FIREWALL||t.type===O.OBJ_INTERFACE_HOST)&&(d.interface=t.id),a=d.getValue();break}}}else if(this.currentOperationData.operationType===La.UPDATE){let c=this.currentOperationData.object;switch(this.currentOperationData.object.type){case O.OBJ_INTERFACE_FIREWALL:case O.OBJ_INTERFACE_HOST:{s=this.fwcInterfaceService.updateInterface.bind(this.fwcInterfaceService);let d=new RO(c);d.interface_type=c.type,a=d.getValue();break}default:{s=this.fwcObjectService.updateObject.bind(this.fwcObjectService),a=new OO(c).getValue();break}}}if(s)r=yield this.utilService.fwcAPICall(s,a),this.currentOperationData=null;else throw new Error("No API Call");return r}})}getResultOperations(t){let o=[];return t||(t=this.objectOperationsTreeNodes),Array.isArray(t)&&t.forEach(r=>{o.push(r.data),Array.isArray(r.children)&&o.push(...this.getResultOperations(r.children))}),o}showOperationMessage(t,o,r){this.operationOverlayMessage=o,r.toggle(t)}onShowDialog(t){}onHideDialog(t){this.optionsErrorMessage=null,this.options&&this.options.onClose&&this.options.onClose(this.getResultOperations())}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(dt),x(Wr),x(Ki),x(ti),x(Tt),x(We),x($e),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-item-batch-manager-panel"]],standalone:!1,features:[Se([Wr,Ki]),re],decls:19,vars:12,consts:[["itemBatchDialog",""],["header",""],["footer",""],["overlayPanel",""],["colgroup",""],["body",""],["styleClass","dlgFwcDialog",3,"visibleChange","onShow","onHide","visible","modal","closable"],[1,"grid"],[1,"col-12"],[1,"fwcBlue"],["appendTo","body"],[1,"max-w-100"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-ipobjects","fwcOrange"],["aria-hidden","true"],["scrollHeight","15rem",1,"text-[0.9rem]",3,"value","scrollable"],[1,"text-center"],[1,"text-right"],[3,"ngClass","id"],[3,"ngClass"],[3,"rowNode"],[1,"fa","fa-fw","fa-lg","fa-check","fwcGreen"],[1,"spanInfoPill",3,"ngClass"],[3,"click"],[1,"fa","fa-lg","fa-fw","fa-info-circle"],[1,"divIconMessage"],[1,"fa","fa-5x","fa-exclamation-triangle","fwcRed"],["type","button","styleClass","p-button-warning","icon","fa fa-refresh",3,"disabled","label"],["type","button","icon","pi pi-check",3,"onClick","disabled","label"],["type","button","styleClass","p-button-warning","icon","fa fa-refresh",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",6,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(l){return w(s),C(r.onShowDialog(l))})("onHide",function(l){return w(s),C(r.onHideDialog(l))}),E(2,$Ze,5,3,"ng-template",null,1,ie),_(4,"div",7)(5,"div",8),G(6,KZe,8,8,"h6",9),b(),G(7,tet,8,2,"div",8),G(8,iet,9,4,"div",8),b(),E(9,oet,3,6,"ng-template",null,2,ie),b(),_(11,"p-popover",10,3)(13,"div",11)(14,"h6"),R(15,"Error"),b(),_(16,"p"),R(17),D(18,"json"),b()()()}o&2&&(De(Pe(11,HZe)),Ae("visible",r.displayDialog),f("modal",!0)("closable",!1),p(6),H(r.options!=null&&r.options.parentObject?6:-1),p(),H(r.optionsErrorMessage?-1:7),p(),H(r.optionsErrorMessage?8:-1),p(9),Y(" ",k(18,9,r.operationOverlayMessage)," "))},encapsulation:2,changeDetection:0});let i=n;return i})();var bee=Xr(Kd());function ret(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"PANELS.WINDOWS_INSTALLER.TITLE")," "))}function set(i,n){i&1&&(_(0,"div",6),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"PANELS.WINDOWS_INSTALLER.DESC")," "))}function aet(i,n){if(i&1){let e=B();G(0,set,3,3,"div",6),_(1,"div",6)(2,"div",10)(3,"span",11)(4,"label",12),R(5),D(6,"translate"),b()(),_(7,"span",11)(8,"input",13,3),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.connection_name,o)||(r.connection_name=o),C(o)}),b()(),_(10,"span",11)(11,"p-button",14),D(12,"translate"),A("onClick",function(){w(e);let o=h();return C(o.doGenerateFile())}),b()()()()}if(i&2){let e=Ze(9),t=h();H(t.opMessage?-1:0),p(5),Q(k(6,8,"PANELS.WINDOWS_INSTALLER.FIELDS.NOMBRE_CON")),p(3),Ae("ngModel",t.connection_name),f("pattern",t.CommonValidators.connNameRegExp)("required",!0),p(3),f("label",ae(k(12,10,"PANELS.WINDOWS_INSTALLER.BUTTONS.GENERATE")))("disabled",e.invalid)}}function cet(i,n){if(i&1){let e=B();_(0,"div",16)(1,"p-button",17),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.opMessage=void 0)}),b()()}i&2&&(p(),f("label",ae(k(2,2,"PANELS.WINDOWS_INSTALLER.BUTTONS.TRY_AGAIN"))))}function det(i,n){if(i&1&&(_(0,"div",6),N(1,"sts-fwc-message",15),G(2,cet,3,4,"div",16),b()),i&2){let e=h();p(),f("message",e.opMessage),p(),H(e.opMessage.type==="error"?2:-1)}}function pet(i,n){if(i&1){let e=B();_(0,"p-button",18),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var yee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t,o,r,s,g,d),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.translate=a,this.fwcUserService=l,this.utilService=c,this.router=d,this.fwcCloudService=u,this.fwcFirewallService=m,this.store=g,this.CommonValidators=Mt,this.createDialog(a.instant("PANELS.WINDOWS_INSTALLER.TITLE"),"fa-brands fa-windows",oi.VPN_WINDOWS_INSTALLER)}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showDialog(t){this.data=Object.assign({},t),this.connection_name=this.data.parentConfigName||"",this.connection_name=this.connection_name.replace(/\./gi,"_").substr(0,32),super.showDialog()}doGenerateFile(){return V(this,null,function*(){if(!this.data)return;this.opMessage={type:"loading",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.GENERATING.TEXT")};let t;if(this.data.cluster)try{let r=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),this.data.cluster,this.fwcUserService.getActualFwSelectedCloud())).data;r&&(t=r.id)}catch{}else t=this.data.firewall;t?(this.loadingData=!0,this.utilService.fwcAPICall(this.fwcCloudService.generateWindowsInstaller.bind(this.fwcCloudService),this.data.fwcloud,t,this.data.vpn,this.connection_name).then(o=>{let r=this.data.fwcloudName||"FWCLOUD",s;this.data.cluster?s=this.data.clusterName||"VPN":s=this.data.firewallName||"VPN";let a=r.trim()+"-"+s.trim()+"-"+this.connection_name.trim()+".exe";(0,bee.saveAs)(o.body,a),this.opMessage={type:"success",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.INFO.SUCCESS_GEN.TEXT")},this.loadingData=!1}).catch(o=>{this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")},this.loadingData=!1})):this.opMessage={type:"error",title:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.HEADER"),text:this.translate.instant("PANELS.WINDOWS_INSTALLER.ERRORS.GEN.TEXT")}})}resetState(){this.connection_name="",this.opMessage=void 0}onDialogHide(){this.resetState()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x($e),x(dt),x(Tt),x(at),x(Ba),x(Bt),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-vpn-windows-installer-panel"]],standalone:!1,features:[Se([Ie,Ba,Bt]),re],decls:9,vars:5,consts:[["dlgWindowsInstallerDialog",""],["header",""],["footer",""],["inputName","ngModel"],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[1,"grid"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"divInlineInput"],[1,"spanField"],["for","name",1,"fwcBlue"],["type","text","pInputText","","name","name","maxlength","32",2,"min-width","12rem",3,"ngModelChange","ngModel","pattern","required"],["type","button","icon","fa fa-cloud-download",3,"onClick","disabled","label"],[3,"message"],[1,"fwc-centered"],["type","button","icon","fa fa-refresh",3,"onClick","label"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(r.onDialogHide())}),E(2,ret,5,3,"ng-template",null,1,ie),_(4,"div",5),G(5,aet,13,12)(6,det,3,2,"div",6),b(),E(7,pet,2,5,"ng-template",null,2,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(5),H(r.opMessage?6:5))},dependencies:[Hi,_i,oy,io,IA,Zi,Ut,bt,si,Nn,It],encapsulation:2});let i=n;return i})();function x3(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var wm=x3();function xee(i){wm=i}var Dw={exec:()=>null};function Fn(i,n=""){let e=typeof i=="string"?i:i.source,t={replace:(o,r)=>{let s=typeof r=="string"?r:r.source;return s=s.replace(xa.caret,"$1"),e=e.replace(o,s),t},getRegex:()=>new RegExp(e,n)};return t}var uet=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),xa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:i=>new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}#`),htmlBeginRegex:i=>new RegExp(`^ {0,${Math.min(3,i-1)}}<(?:[a-z].*>|!--)`,"i")},het=/^(?:[ \t]*(?:\n|$))+/,fet=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,met=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Pw=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,get=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,T3=/(?:[*+-]|\d{1,9}[.)])/,Tee=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Oee=Fn(Tee).replace(/bull/g,T3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),_et=Fn(Tee).replace(/bull/g,T3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),O3=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,bet=/^[^\n]+/,R3=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,yet=Fn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",R3).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vet=Fn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,T3).getRegex(),NO="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D3=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wet=Fn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",D3).replace("tag",NO).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ree=Fn(O3).replace("hr",Pw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",NO).getRegex(),Cet=Fn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ree).getRegex(),P3={blockquote:Cet,code:fet,def:yet,fences:met,heading:get,hr:Pw,html:wet,lheading:Oee,list:vet,newline:het,paragraph:Ree,table:Dw,text:bet},vee=Fn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Pw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",NO).getRegex(),Iet=Fe(ee({},P3),{lheading:_et,table:vee,paragraph:Fn(O3).replace("hr",Pw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",vee).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",NO).getRegex()}),Eet=Fe(ee({},P3),{html:Fn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D3).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Dw,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Fn(O3).replace("hr",Pw).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Oee).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),xet=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Tet=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Dee=/^( {2,}|\\)\n(?!\s*$)/,Oet=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,FO=/[\p{P}\p{S}]/u,A3=/[\s\p{P}\p{S}]/u,Pee=/[^\s\p{P}\p{S}]/u,Ret=Fn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,A3).getRegex(),Aee=/(?!~)[\p{P}\p{S}]/u,Det=/(?!~)[\s\p{P}\p{S}]/u,Pet=/(?:[^\s\p{P}\p{S}]|~)/u,Aet=Fn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",uet?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),kee=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ket=Fn(kee,"u").replace(/punct/g,FO).getRegex(),Net=Fn(kee,"u").replace(/punct/g,Aee).getRegex(),Nee="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Fet=Fn(Nee,"gu").replace(/notPunctSpace/g,Pee).replace(/punctSpace/g,A3).replace(/punct/g,FO).getRegex(),Let=Fn(Nee,"gu").replace(/notPunctSpace/g,Pet).replace(/punctSpace/g,Det).replace(/punct/g,Aee).getRegex(),Met=Fn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Pee).replace(/punctSpace/g,A3).replace(/punct/g,FO).getRegex(),Bet=Fn(/\\(punct)/,"gu").replace(/punct/g,FO).getRegex(),Vet=Fn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Uet=Fn(D3).replace("(?:-->|$)","-->").getRegex(),jet=Fn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Uet).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),AO=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Get=Fn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",AO).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fee=Fn(/^!?\[(label)\]\[(ref)\]/).replace("label",AO).replace("ref",R3).getRegex(),Lee=Fn(/^!?\[(ref)\](?:\[\])?/).replace("ref",R3).getRegex(),Het=Fn("reflink|nolink(?!\\()","g").replace("reflink",Fee).replace("nolink",Lee).getRegex(),wee=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,k3={_backpedal:Dw,anyPunctuation:Bet,autolink:Vet,blockSkip:Aet,br:Dee,code:Tet,del:Dw,emStrongLDelim:ket,emStrongRDelimAst:Fet,emStrongRDelimUnd:Met,escape:xet,link:Get,nolink:Lee,punctuation:Ret,reflink:Fee,reflinkSearch:Het,tag:jet,text:Oet,url:Dw},zet=Fe(ee({},k3),{link:Fn(/^!?\[(label)\]\((.*?)\)/).replace("label",AO).getRegex(),reflink:Fn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",AO).getRegex()}),S3=Fe(ee({},k3),{emStrongRDelimAst:Let,emStrongLDelim:Net,url:Fn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",wee).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Fn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",wee).getRegex()}),Wet=Fe(ee({},S3),{br:Fn(Dee).replace("{2,}","*").getRegex(),text:Fn(S3.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),PO={normal:P3,gfm:Iet,pedantic:Eet},Tw={normal:k3,gfm:S3,breaks:Wet,pedantic:zet},$et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cee=i=>$et[i];function Jd(i,n){if(n){if(xa.escapeTest.test(i))return i.replace(xa.escapeReplace,Cee)}else if(xa.escapeTestNoEncode.test(i))return i.replace(xa.escapeReplaceNoEncode,Cee);return i}function See(i){try{i=encodeURI(i).replace(xa.percentDecode,"%")}catch{return null}return i}function Iee(i,n){let e=i.replace(xa.findPipe,(r,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),t=e.split(xa.splitPipe),o=0;if(t[0].trim()||t.shift(),t.length>0&&!t.at(-1)?.trim()&&t.pop(),n)if(t.length>n)t.splice(n);else for(;t.length<n;)t.push("");for(;o<t.length;o++)t[o]=t[o].trim().replace(xa.slashPipe,"|");return t}function Ow(i,n,e){let t=i.length;if(t===0)return"";let o=0;for(;o<t;){let r=i.charAt(t-o-1);if(r===n&&!e)o++;else if(r!==n&&e)o++;else break}return i.slice(0,t-o)}function Ket(i,n){if(i.indexOf(n[1])===-1)return-1;let e=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===n[0])e++;else if(i[t]===n[1]&&(e--,e<0))return t;return e>0?-2:-1}function Eee(i,n,e,t,o){let r=n.href,s=n.title||null,a=i[1].replace(o.other.outputLinkReplace,"$1");t.state.inLink=!0;let l={type:i[0].charAt(0)==="!"?"image":"link",raw:e,href:r,title:s,text:a,tokens:t.inlineTokens(a)};return t.state.inLink=!1,l}function qet(i,n,e){let t=i.match(e.other.indentCodeCompensation);if(t===null)return n;let o=t[1];return n.split(`
`).map(r=>{let s=r.match(e.other.beginningSpace);if(s===null)return r;let[a]=s;return a.length>=o.length?r.slice(o.length):r}).join(`
`)}var kO=class{options;rules;lexer;constructor(i){this.options=i||wm}space(i){let n=this.rules.block.newline.exec(i);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(i){let n=this.rules.block.code.exec(i);if(n){let e=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Ow(e,`
`)}}}fences(i){let n=this.rules.block.fences.exec(i);if(n){let e=n[0],t=qet(e,n[3]||"",this.rules);return{type:"code",raw:e,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:t}}}heading(i){let n=this.rules.block.heading.exec(i);if(n){let e=n[2].trim();if(this.rules.other.endingHash.test(e)){let t=Ow(e,"#");(this.options.pedantic||!t||this.rules.other.endingSpaceChar.test(t))&&(e=t.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(i){let n=this.rules.block.hr.exec(i);if(n)return{type:"hr",raw:Ow(n[0],`
`)}}blockquote(i){let n=this.rules.block.blockquote.exec(i);if(n){let e=Ow(n[0],`
`).split(`
`),t="",o="",r=[];for(;e.length>0;){let s=!1,a=[],l;for(l=0;l<e.length;l++)if(this.rules.other.blockquoteStart.test(e[l]))a.push(e[l]),s=!0;else if(!s)a.push(e[l]);else break;e=e.slice(l);let c=a.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");t=t?`${t}
${c}`:c,o=o?`${o}
${d}`:d;let u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,r,!0),this.lexer.state.top=u,e.length===0)break;let m=r.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){let g=m,y=g.raw+`
`+e.join(`
`),v=this.blockquote(y);r[r.length-1]=v,t=t.substring(0,t.length-g.raw.length)+v.raw,o=o.substring(0,o.length-g.text.length)+v.text;break}else if(m?.type==="list"){let g=m,y=g.raw+`
`+e.join(`
`),v=this.list(y);r[r.length-1]=v,t=t.substring(0,t.length-m.raw.length)+v.raw,o=o.substring(0,o.length-g.raw.length)+v.raw,e=y.substring(r.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:t,tokens:r,text:o}}}list(i){let n=this.rules.block.list.exec(i);if(n){let e=n[1].trim(),t=e.length>1,o={type:"list",raw:"",ordered:t,start:t?+e.slice(0,-1):"",loose:!1,items:[]};e=t?`\\d{1,9}\\${e.slice(-1)}`:`\\${e}`,this.options.pedantic&&(e=t?e:"[*+-]");let r=this.rules.other.listItemRegex(e),s=!1;for(;i;){let l=!1,c="",d="";if(!(n=r.exec(i))||this.rules.block.hr.test(i))break;c=n[0],i=i.substring(c.length);let u=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),m=i.split(`
`,1)[0],g=!u.trim(),y=0;if(this.options.pedantic?(y=2,d=u.trimStart()):g?y=n[1].length+1:(y=n[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,d=u.slice(y),y+=n[1].length),g&&this.rules.other.blankLine.test(m)&&(c+=m+`
`,i=i.substring(m.length+1),l=!0),!l){let I=this.rules.other.nextBulletRegex(y),P=this.rules.other.hrRegex(y),L=this.rules.other.fencesBeginRegex(y),F=this.rules.other.headingBeginRegex(y),K=this.rules.other.htmlBeginRegex(y);for(;i;){let le=i.split(`
`,1)[0],me;if(m=le,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),me=m):me=m.replace(this.rules.other.tabCharGlobal,"    "),L.test(m)||F.test(m)||K.test(m)||I.test(m)||P.test(m))break;if(me.search(this.rules.other.nonSpaceChar)>=y||!m.trim())d+=`
`+me.slice(y);else{if(g||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(u)||F.test(u)||P.test(u))break;d+=`
`+m}!g&&!m.trim()&&(g=!0),c+=le+`
`,i=i.substring(le.length+1),u=me.slice(y)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let v=null,S;this.options.gfm&&(v=this.rules.other.listIsTask.exec(d),v&&(S=v[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!v,checked:S,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(u=>u.type==="space"),d=c.length>0&&c.some(u=>this.rules.other.anyLine.test(u.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(i){let n=this.rules.block.html.exec(i);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(i){let n=this.rules.block.def.exec(i);if(n){let e=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),t=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:e,raw:n[0],href:t,title:o}}}table(i){let n=this.rules.block.table.exec(i);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let e=Iee(n[1]),t=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],r={type:"table",raw:n[0],header:[],align:[],rows:[]};if(e.length===t.length){for(let s of t)this.rules.other.tableAlignRight.test(s)?r.align.push("right"):this.rules.other.tableAlignCenter.test(s)?r.align.push("center"):this.rules.other.tableAlignLeft.test(s)?r.align.push("left"):r.align.push(null);for(let s=0;s<e.length;s++)r.header.push({text:e[s],tokens:this.lexer.inline(e[s]),header:!0,align:r.align[s]});for(let s of o)r.rows.push(Iee(s,r.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:r.align[l]})));return r}}lheading(i){let n=this.rules.block.lheading.exec(i);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(i){let n=this.rules.block.paragraph.exec(i);if(n){let e=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:e,tokens:this.lexer.inline(e)}}}text(i){let n=this.rules.block.text.exec(i);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(i){let n=this.rules.inline.escape.exec(i);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(i){let n=this.rules.inline.tag.exec(i);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(i){let n=this.rules.inline.link.exec(i);if(n){let e=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(e)){if(!this.rules.other.endAngleBracket.test(e))return;let r=Ow(e.slice(0,-1),"\\");if((e.length-r.length)%2===0)return}else{let r=Ket(n[2],"()");if(r===-2)return;if(r>-1){let s=(n[0].indexOf("!")===0?5:4)+n[1].length+r;n[2]=n[2].substring(0,r),n[0]=n[0].substring(0,s).trim(),n[3]=""}}let t=n[2],o="";if(this.options.pedantic){let r=this.rules.other.pedanticHrefTitle.exec(t);r&&(t=r[1],o=r[3])}else o=n[3]?n[3].slice(1,-1):"";return t=t.trim(),this.rules.other.startAngleBracket.test(t)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(e)?t=t.slice(1):t=t.slice(1,-1)),Eee(n,{href:t&&t.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(i,n){let e;if((e=this.rules.inline.reflink.exec(i))||(e=this.rules.inline.nolink.exec(i))){let t=(e[2]||e[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=n[t.toLowerCase()];if(!o){let r=e[0].charAt(0);return{type:"text",raw:r,text:r}}return Eee(e,o,e[0],this.lexer,this.rules)}}emStrong(i,n,e=""){let t=this.rules.inline.emStrongLDelim.exec(i);if(!(!t||t[3]&&e.match(this.rules.other.unicodeAlphaNumeric))&&(!(t[1]||t[2])||!e||this.rules.inline.punctuation.exec(e))){let o=[...t[0]].length-1,r,s,a=o,l=0,c=t[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,n=n.slice(-1*i.length+o);(t=c.exec(n))!=null;){if(r=t[1]||t[2]||t[3]||t[4]||t[5]||t[6],!r)continue;if(s=[...r].length,t[3]||t[4]){a+=s;continue}else if((t[5]||t[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...t[0]][0].length,u=i.slice(0,o+t.index+d+s);if(Math.min(o,s)%2){let g=u.slice(1,-1);return{type:"em",raw:u,text:g,tokens:this.lexer.inlineTokens(g)}}let m=u.slice(2,-2);return{type:"strong",raw:u,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(i){let n=this.rules.inline.code.exec(i);if(n){let e=n[2].replace(this.rules.other.newLineCharGlobal," "),t=this.rules.other.nonSpaceChar.test(e),o=this.rules.other.startingSpaceChar.test(e)&&this.rules.other.endingSpaceChar.test(e);return t&&o&&(e=e.substring(1,e.length-1)),{type:"codespan",raw:n[0],text:e}}}br(i){let n=this.rules.inline.br.exec(i);if(n)return{type:"br",raw:n[0]}}del(i){let n=this.rules.inline.del.exec(i);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(i){let n=this.rules.inline.autolink.exec(i);if(n){let e,t;return n[2]==="@"?(e=n[1],t="mailto:"+e):(e=n[1],t=e),{type:"link",raw:n[0],text:e,href:t,tokens:[{type:"text",raw:e,text:e}]}}}url(i){let n;if(n=this.rules.inline.url.exec(i)){let e,t;if(n[2]==="@")e=n[0],t="mailto:"+e;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(o!==n[0]);e=n[0],n[1]==="www."?t="http://"+n[0]:t=n[0]}return{type:"link",raw:n[0],text:e,href:t,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(i){let n=this.rules.inline.text.exec(i);if(n){let e=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:e}}}},Gc=class I3{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||wm,this.options.tokenizer=this.options.tokenizer||new kO,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={other:xa,block:PO.normal,inline:Tw.normal};this.options.pedantic?(e.block=PO.pedantic,e.inline=Tw.pedantic):this.options.gfm&&(e.block=PO.gfm,this.options.breaks?e.inline=Tw.breaks:e.inline=Tw.gfm),this.tokenizer.rules=e}static get rules(){return{block:PO,inline:Tw}}static lex(n,e){return new I3(e).lex(n)}static lexInline(n,e){return new I3(e).inlineTokens(n)}lex(n){n=n.replace(xa.carriageReturn,`
`),this.blockTokens(n,this.tokens);for(let e=0;e<this.inlineQueue.length;e++){let t=this.inlineQueue[e];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,e=[],t=!1){for(this.options.pedantic&&(n=n.replace(xa.tabCharGlobal,"    ").replace(xa.spaceLine,""));n;){let o;if(this.options.extensions?.block?.some(s=>(o=s.call({lexer:this},n,e))?(n=n.substring(o.raw.length),e.push(o),!0):!1))continue;if(o=this.tokenizer.space(n)){n=n.substring(o.raw.length);let s=e.at(-1);o.raw.length===1&&s!==void 0?s.raw+=`
`:e.push(o);continue}if(o=this.tokenizer.code(n)){n=n.substring(o.raw.length);let s=e.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.at(-1).src=s.text):e.push(o);continue}if(o=this.tokenizer.fences(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.heading(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.hr(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.blockquote(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.list(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.html(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.def(n)){n=n.substring(o.raw.length);let s=e.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},e.push(o));continue}if(o=this.tokenizer.table(n)){n=n.substring(o.raw.length),e.push(o);continue}if(o=this.tokenizer.lheading(n)){n=n.substring(o.raw.length),e.push(o);continue}let r=n;if(this.options.extensions?.startBlock){let s=1/0,a=n.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(r=n.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(r))){let s=e.at(-1);t&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):e.push(o),t=r.length!==n.length,n=n.substring(o.raw.length);continue}if(o=this.tokenizer.text(n)){n=n.substring(o.raw.length);let s=e.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):e.push(o);continue}if(n){let s="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,e}inline(n,e=[]){return this.inlineQueue.push({src:n,tokens:e}),e}inlineTokens(n,e=[]){let t=n,o=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(t))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(t=t.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+t.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(t))!=null;)t=t.slice(0,o.index)+"++"+t.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let r;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(t))!=null;)r=o[2]?o[2].length:0,t=t.slice(0,o.index+r)+"["+"a".repeat(o[0].length-r-2)+"]"+t.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);t=this.options.hooks?.emStrongMask?.call({lexer:this},t)??t;let s=!1,a="";for(;n;){s||(a=""),s=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},n,e))?(n=n.substring(l.raw.length),e.push(l),!0):!1))continue;if(l=this.tokenizer.escape(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.tag(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.link(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(l.raw.length);let d=e.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):e.push(l);continue}if(l=this.tokenizer.emStrong(n,t,a)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.codespan(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.br(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.del(n)){n=n.substring(l.raw.length),e.push(l);continue}if(l=this.tokenizer.autolink(n)){n=n.substring(l.raw.length),e.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(n))){n=n.substring(l.raw.length),e.push(l);continue}let c=n;if(this.options.extensions?.startInline){let d=1/0,u=n.slice(1),m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},u),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(c=n.substring(0,d+1))}if(l=this.tokenizer.inlineText(c)){n=n.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),s=!0;let d=e.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):e.push(l);continue}if(n){let d="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return e}},zh=class{options;parser;constructor(i){this.options=i||wm}space(i){return""}code({text:i,lang:n,escaped:e}){let t=(n||"").match(xa.notSpaceStart)?.[0],o=i.replace(xa.endingNewline,"")+`
`;return t?'<pre><code class="language-'+Jd(t)+'">'+(e?o:Jd(o,!0))+`</code></pre>
`:"<pre><code>"+(e?o:Jd(o,!0))+`</code></pre>
`}blockquote({tokens:i}){return`<blockquote>
${this.parser.parse(i)}</blockquote>
`}html({text:i}){return i}def(i){return""}heading({tokens:i,depth:n}){return`<h${n}>${this.parser.parseInline(i)}</h${n}>
`}hr(i){return`<hr>
`}list(i){let n=i.ordered,e=i.start,t="";for(let s=0;s<i.items.length;s++){let a=i.items[s];t+=this.listitem(a)}let o=n?"ol":"ul",r=n&&e!==1?' start="'+e+'"':"";return"<"+o+r+`>
`+t+"</"+o+`>
`}listitem(i){let n="";if(i.task){let e=this.checkbox({checked:!!i.checked});i.loose?i.tokens[0]?.type==="paragraph"?(i.tokens[0].text=e+" "+i.tokens[0].text,i.tokens[0].tokens&&i.tokens[0].tokens.length>0&&i.tokens[0].tokens[0].type==="text"&&(i.tokens[0].tokens[0].text=e+" "+Jd(i.tokens[0].tokens[0].text),i.tokens[0].tokens[0].escaped=!0)):i.tokens.unshift({type:"text",raw:e+" ",text:e+" ",escaped:!0}):n+=e+" "}return n+=this.parser.parse(i.tokens,!!i.loose),`<li>${n}</li>
`}checkbox({checked:i}){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:i}){return`<p>${this.parser.parseInline(i)}</p>
`}table(i){let n="",e="";for(let o=0;o<i.header.length;o++)e+=this.tablecell(i.header[o]);n+=this.tablerow({text:e});let t="";for(let o=0;o<i.rows.length;o++){let r=i.rows[o];e="";for(let s=0;s<r.length;s++)e+=this.tablecell(r[s]);t+=this.tablerow({text:e})}return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+t+`</table>
`}tablerow({text:i}){return`<tr>
${i}</tr>
`}tablecell(i){let n=this.parser.parseInline(i.tokens),e=i.header?"th":"td";return(i.align?`<${e} align="${i.align}">`:`<${e}>`)+n+`</${e}>
`}strong({tokens:i}){return`<strong>${this.parser.parseInline(i)}</strong>`}em({tokens:i}){return`<em>${this.parser.parseInline(i)}</em>`}codespan({text:i}){return`<code>${Jd(i,!0)}</code>`}br(i){return"<br>"}del({tokens:i}){return`<del>${this.parser.parseInline(i)}</del>`}link({href:i,title:n,tokens:e}){let t=this.parser.parseInline(e),o=See(i);if(o===null)return t;i=o;let r='<a href="'+i+'"';return n&&(r+=' title="'+Jd(n)+'"'),r+=">"+t+"</a>",r}image({href:i,title:n,text:e,tokens:t}){t&&(e=this.parser.parseInline(t,this.parser.textRenderer));let o=See(i);if(o===null)return Jd(e);i=o;let r=`<img src="${i}" alt="${e}"`;return n&&(r+=` title="${Jd(n)}"`),r+=">",r}text(i){return"tokens"in i&&i.tokens?this.parser.parseInline(i.tokens):"escaped"in i&&i.escaped?i.text:Jd(i.text)}},N3=class{strong({text:i}){return i}em({text:i}){return i}codespan({text:i}){return i}del({text:i}){return i}html({text:i}){return i}text({text:i}){return i}link({text:i}){return""+i}image({text:i}){return""+i}br(){return""}},Hc=class E3{options;renderer;textRenderer;constructor(n){this.options=n||wm,this.options.renderer=this.options.renderer||new zh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new N3}static parse(n,e){return new E3(e).parse(n)}static parseInline(n,e){return new E3(e).parseInline(n)}parse(n,e=!0){let t="";for(let o=0;o<n.length;o++){let r=n[o];if(this.options.extensions?.renderers?.[r.type]){let a=r,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){t+=l||"";continue}}let s=r;switch(s.type){case"space":{t+=this.renderer.space(s);continue}case"hr":{t+=this.renderer.hr(s);continue}case"heading":{t+=this.renderer.heading(s);continue}case"code":{t+=this.renderer.code(s);continue}case"table":{t+=this.renderer.table(s);continue}case"blockquote":{t+=this.renderer.blockquote(s);continue}case"list":{t+=this.renderer.list(s);continue}case"html":{t+=this.renderer.html(s);continue}case"def":{t+=this.renderer.def(s);continue}case"paragraph":{t+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;o+1<n.length&&n[o+1].type==="text";)a=n[++o],l+=`
`+this.renderer.text(a);e?t+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):t+=l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return t}parseInline(n,e=this.renderer){let t="";for(let o=0;o<n.length;o++){let r=n[o];if(this.options.extensions?.renderers?.[r.type]){let a=this.options.extensions.renderers[r.type].call({parser:this},r);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){t+=a||"";continue}}let s=r;switch(s.type){case"escape":{t+=e.text(s);break}case"html":{t+=e.html(s);break}case"link":{t+=e.link(s);break}case"image":{t+=e.image(s);break}case"strong":{t+=e.strong(s);break}case"em":{t+=e.em(s);break}case"codespan":{t+=e.codespan(s);break}case"br":{t+=e.br(s);break}case"del":{t+=e.del(s);break}case"text":{t+=e.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return t}},Rw=class{options;block;constructor(i){this.options=i||wm}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(i){return i}postprocess(i){return i}processAllTokens(i){return i}emStrongMask(i){return i}provideLexer(){return this.block?Gc.lex:Gc.lexInline}provideParser(){return this.block?Hc.parse:Hc.parseInline}},Jet=class{defaults=x3();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Hc;Renderer=zh;TextRenderer=N3;Lexer=Gc;Tokenizer=kO;Hooks=Rw;constructor(...i){this.use(...i)}walkTokens(i,n){let e=[];for(let t of i)switch(e=e.concat(n.call(this,t)),t.type){case"table":{let o=t;for(let r of o.header)e=e.concat(this.walkTokens(r.tokens,n));for(let r of o.rows)for(let s of r)e=e.concat(this.walkTokens(s.tokens,n));break}case"list":{let o=t;e=e.concat(this.walkTokens(o.items,n));break}default:{let o=t;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(r=>{let s=o[r].flat(1/0);e=e.concat(this.walkTokens(s,n))}):o.tokens&&(e=e.concat(this.walkTokens(o.tokens,n)))}}return e}use(...i){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return i.forEach(e=>{let t=ee({},e);if(t.async=this.defaults.async||t.async||!1,e.extensions&&(e.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let r=n.renderers[o.name];r?n.renderers[o.name]=function(...s){let a=o.renderer.apply(this,s);return a===!1&&(a=r.apply(this,s)),a}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let r=n[o.level];r?r.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),t.extensions=n),e.renderer){let o=this.defaults.renderer||new zh(this.defaults);for(let r in e.renderer){if(!(r in o))throw new Error(`renderer '${r}' does not exist`);if(["options","parser"].includes(r))continue;let s=r,a=e.renderer[s],l=o[s];o[s]=(...c)=>{let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d||""}}t.renderer=o}if(e.tokenizer){let o=this.defaults.tokenizer||new kO(this.defaults);for(let r in e.tokenizer){if(!(r in o))throw new Error(`tokenizer '${r}' does not exist`);if(["options","rules","lexer"].includes(r))continue;let s=r,a=e.tokenizer[s],l=o[s];o[s]=(...c)=>{let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d}}t.tokenizer=o}if(e.hooks){let o=this.defaults.hooks||new Rw;for(let r in e.hooks){if(!(r in o))throw new Error(`hook '${r}' does not exist`);if(["options","block"].includes(r))continue;let s=r,a=e.hooks[s],l=o[s];Rw.passThroughHooks.has(r)?o[s]=c=>{if(this.defaults.async&&Rw.passThroughHooksRespectAsync.has(r))return V(this,null,function*(){let u=yield a.call(o,c);return l.call(o,u)});let d=a.call(o,c);return l.call(o,d)}:o[s]=(...c)=>{if(this.defaults.async)return V(this,null,function*(){let u=yield a.apply(o,c);return u===!1&&(u=yield l.apply(o,c)),u});let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d}}t.hooks=o}if(e.walkTokens){let o=this.defaults.walkTokens,r=e.walkTokens;t.walkTokens=function(s){let a=[];return a.push(r.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults=ee(ee({},this.defaults),t)}),this}setOptions(i){return this.defaults=ee(ee({},this.defaults),i),this}lexer(i,n){return Gc.lex(i,n??this.defaults)}parser(i,n){return Hc.parse(i,n??this.defaults)}parseMarkdown(i){return(n,e)=>{let t=ee({},e),o=ee(ee({},this.defaults),t),r=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&t.async===!1)return r(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return r(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=i),o.async)return V(this,null,function*(){let s=o.hooks?yield o.hooks.preprocess(n):n,a=yield(o.hooks?yield o.hooks.provideLexer():i?Gc.lex:Gc.lexInline)(s,o),l=o.hooks?yield o.hooks.processAllTokens(a):a;o.walkTokens&&(yield Promise.all(this.walkTokens(l,o.walkTokens)));let c=yield(o.hooks?yield o.hooks.provideParser():i?Hc.parse:Hc.parseInline)(l,o);return o.hooks?yield o.hooks.postprocess(c):c}).catch(r);try{o.hooks&&(n=o.hooks.preprocess(n));let s=(o.hooks?o.hooks.provideLexer():i?Gc.lex:Gc.lexInline)(n,o);o.hooks&&(s=o.hooks.processAllTokens(s)),o.walkTokens&&this.walkTokens(s,o.walkTokens);let a=(o.hooks?o.hooks.provideParser():i?Hc.parse:Hc.parseInline)(s,o);return o.hooks&&(a=o.hooks.postprocess(a)),a}catch(s){return r(s)}}}onError(i,n){return e=>{if(e.message+=`
Please report this to https://github.com/markedjs/marked.`,i){let t="<p>An error occurred:</p><pre>"+Jd(e.message+"",!0)+"</pre>";return n?Promise.resolve(t):t}if(n)return Promise.reject(e);throw e}}},vm=new Jet;function kn(i,n){return vm.parse(i,n)}kn.options=kn.setOptions=function(i){return vm.setOptions(i),kn.defaults=vm.defaults,xee(kn.defaults),kn};kn.getDefaults=x3;kn.defaults=wm;kn.use=function(...i){return vm.use(...i),kn.defaults=vm.defaults,xee(kn.defaults),kn};kn.walkTokens=function(i,n){return vm.walkTokens(i,n)};kn.parseInline=vm.parseInline;kn.Parser=Hc;kn.parser=Hc.parse;kn.Renderer=zh;kn.TextRenderer=N3;kn.Lexer=Gc;kn.lexer=Gc.lex;kn.Tokenizer=kO;kn.Hooks=Rw;kn.parse=kn;var p0i=kn.options,u0i=kn.setOptions,h0i=kn.use,f0i=kn.walkTokens,m0i=kn.parseInline;var g0i=Hc.parse,_0i=Gc.lex;var Qet=["*"],Yet="Copy",Xet="Copied",Zet=(()=>{let n=class n{constructor(){this._buttonClick$=new Le,this.copied=PE(this._buttonClick$.pipe(Bo(()=>of(Dt(!0),Yd(3e3).pipe(V0(!1)))),Jc(),rf(1))),this.copiedText=ct(()=>this.copied()?Xet:Yet)}onCopyToClipboardClick(){this._buttonClick$.next()}};n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=oe({type:n,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,r){o&1&&(mi(0,"button",0),zS("click",function(){return r.onCopyToClipboardClick()}),R(1),gi()),o&2&&(Lr("copied",r.copied()),p(),Q(r.copiedText()))},encapsulation:2,changeDetection:0});let i=n;return i})(),ett=new he("CLIPBOARD_OPTIONS");var F3=(function(i){return i.CommandLine="command-line",i.LineHighlight="line-highlight",i.LineNumbers="line-numbers",i})(F3||{}),ttt=new he("MARKED_EXTENSIONS"),itt=new he("MARKED_OPTIONS"),ntt=new he("MERMAID_OPTIONS"),Mee=new he("SANITIZE");function ott(i){return typeof i=="function"}var rtt="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",stt="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",att="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",ltt="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",ctt="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",dtt="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information";var Bee=(()=>{let n=class n{get options(){return this._options}set options(t){this._options=ee(ee({},this.DEFAULT_MARKED_OPTIONS),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,o,r,s,a,l,c,d){this.clipboardOptions=t,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new zh},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Le,this.reload$=this._reload$.asObservable(),this.options=r}parse(t,o=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:r,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d=ee(ee({},this.options),o.markedOptions),u=d.renderer||this.renderer||new zh;this.extensions&&(this.renderer=this.extendsRendererForExtensions(u)),l&&(this.renderer=this.extendsRendererForMermaid(u));let m=this.trimIndentation(t),g=r?this.decodeHtml(m):m,y=a?this.parseEmoji(g):g,v=this.parseMarked(y,d,s);return c?v:this.sanitizeHtml(v)}render(t,o=this.DEFAULT_RENDER_OPTIONS,r){let{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:u}=o;l&&this.renderKatex(t,ee(ee({},this.DEFAULT_KATEX_OPTIONS),c)),d&&this.renderMermaid(t,ee(ee(ee({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),u)),s&&this.renderClipboard(t,r,ee(ee(ee({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),a)),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error(dtt);return this.http.get(t,{responseType:"text"}).pipe(J(o=>this.handleExtension(t,o)))}highlight(t){if(!At(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);let o=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!At(this.platform))return t;let o=document.createElement("textarea");return o.innerHTML=t,o.value}extendsRendererForExtensions(t){let o=t;return o.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&kn.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){let o=t;if(o.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return t;let r=t.code;return t.code=s=>s.lang==="mermaid"?`<div class="mermaid">${s.text}</div>`:r(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,o){let r=t.lastIndexOf("://"),s=r>-1?t.substring(r+4):t,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&d!=="md"?"```"+d+`
`+o+"\n```":o}parseMarked(t,o,r=!1){if(o.renderer){let s=ee({},o.renderer);delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,kn.use({renderer:s})}return r?kn.parseInline(t,o):kn.parse(t,o)}parseEmoji(t){if(!At(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(rtt);return joypixels.shortnameToUnicode(t)}renderKatex(t,o){if(At(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(stt);renderMathInElement(t,o)}}renderClipboard(t,o,r){if(!At(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(ltt);if(!o)throw new Error(ctt);let{buttonComponent:s,buttonTemplate:a}=r,l=t.querySelectorAll("pre");for(let c=0;c<l.length;c++){let d=l.item(c),u=document.createElement("div");u.style.position="relative",d.parentNode.insertBefore(u,d),u.appendChild(d);let m=document.createElement("div");m.classList.add("markdown-clipboard-toolbar"),m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.zIndex="1",u.insertAdjacentElement("beforeend",m),u.onmouseenter=()=>m.classList.add("hover"),u.onmouseleave=()=>m.classList.remove("hover");let g;if(s){let v=o.createComponent(s);g=v.hostView,v.changeDetectorRef.markForCheck()}else if(a)g=o.createEmbeddedView(a);else{let v=o.createComponent(Zet);g=v.hostView,v.changeDetectorRef.markForCheck()}let y;g.rootNodes.forEach(v=>{m.appendChild(v),y=new ClipboardJS(v,{text:()=>d.innerText})}),g.onDestroy(()=>y.destroy())}}renderMermaid(t,o=this.DEFAULT_MERMAID_OPTIONS){if(!At(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(att);let r=t.querySelectorAll(".mermaid");r.length!==0&&(mermaid.initialize(o),mermaid.run({nodes:r}))}trimIndentation(t){if(!t)return"";let o;return t.split(`
`).map(r=>{let s=o;return r.length>0&&(s=isNaN(s)?r.search(/\S|$/):Math.min(r.search(/\S|$/),s)),isNaN(o)&&(o=s),s?r.substring(s):r}).join(`
`)}sanitizeHtml(t){return V(this,null,function*(){return ott(this.sanitize)?this.sanitize(yield t):this.sanitize!==ma.NONE?this.sanitizer.sanitize(this.sanitize,t)??"":t})}};n.\u0275fac=function(o){return new(o||n)(be(ett,8),be(ttt,8),be(itt,8),be(ntt,8),be(wr),be(Mee),be(ai,8),be(dp))},n.\u0275prov=ne({token:n,factory:n.\u0275fac});let i=n;return i})(),LO=(()=>{let n=class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,o,r){this.element=t,this.markdownService=o,this.viewContainerRef=r,this.error=new te,this.load=new te,this.ready=new te,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Le}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Ta(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,o=!1){return V(this,null,function*(){let r={decodeHtml:o,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},s={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=yield this.markdownService.parse(t,r);this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(t){return t!=null&&`${String(t)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,F3.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,F3.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,o){let r=t.querySelectorAll("pre");for(let s=0;s<r.length;s++){let a=o instanceof Array?o:[o];r.item(s).classList.add(...a)}}setPluginOptions(t,o){let r=t.querySelectorAll("pre");for(let s=0;s<r.length;s++)Object.keys(o).forEach(a=>{let l=o[a];if(l){let c=this.toLispCase(a);r.item(s).setAttribute(c,l.toString())}})}toLispCase(t){let o=t.match(/([A-Z])/g);if(!o)return t;let r=t.toString();for(let s=0,a=o.length;s<a;s++)r=r.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return r.slice(0,1)==="-"&&(r=r.slice(1)),r}};n.\u0275fac=function(o){return new(o||n)(x(Ei),x(Bee),x(Fr))},n.\u0275cmp=oe({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[$n],ngContentSelectors:Qet,decls:1,vars:0,template:function(o,r){o&1&&(ci(),Ht(0))},encapsulation:2});let i=n;return i})();function ptt(i){return[Bee,i?.loader??[],i?.clipboardOptions??[],i?.markedOptions??[],i?.mermaidOptions??[],i?.markedExtensions??[],htt(i?.sanitize)??[]]}function utt(i){return i!=null&&i.provide!=null}function htt(i){return utt(i)?i:{provide:Mee,useValue:i??ma.HTML}}var Vee=(()=>{let n=class n{static forRoot(t){return{ngModule:n,providers:[ptt(t)]}}static forChild(){return{ngModule:n}}};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({});let i=n;return i})();var Uee=i=>({display:i}),mtt=()=>({width:"2rem",height:"2rem"});function gtt(i,n){if(i&1&&(_(0,"div",10)(1,"h6",11),N(2,"i",12),R(3),b()()),i&2){let e=h();p(2),f("ngClass",e.icon),p(),Y(" ",e.title," ")}}function _tt(i,n){i&1&&(_(0,"div",5),N(1,"p-progressSpinner"),b()),i&2&&(p(),De(Pe(2,mtt)))}function btt(i,n){if(i&1){let e=B();_(0,"markdown",13),A("load",function(o){w(e);let r=h();return C(r.onMarkdownLoaded(o))})("error",function(o){w(e);let r=h();return C(r.onMarkdownError(o))}),b()}if(i&2){let e=h();f("src",e.fileName)}}function ytt(i,n){if(i&1){let e=B();_(0,"markdown",14),A("ready",function(o){w(e);let r=h();return C(r.onMarkdownLoaded(o))}),b()}if(i&2){let e=h();f("data",e.markdown)}}function vtt(i,n){if(i&1&&(_(0,"div",9),N(1,"sts-fwc-message",15),b()),i&2){let e=h();p(),f("message",e.errorMessage)}}function wtt(i,n){if(i&1){let e=B();_(0,"p-button",16),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var J0i=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c){super(t,o,r,s,l,c),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.translate=a,this.store=l,this.router=c,this.createDialog(a.instant("PANELS.DOCS_PANEL.TITLE"),"fa fa-info",oi.DOCS_PANEL)}ngOnInit(){this.appDialogPanelsService.searchAndShowDialog().pipe(Nt(()=>this.alive)).subscribe(t=>{t.uuid===this.dialogUUID&&t.data&&(t.data.fileName||t.data.url||t.data.markdown)&&(this.errorMessage=void 0,this.loadingData=!0,t.data.title&&(this.title=t.data.title),t.data.icon&&(this.icon=t.data.icon),t.data.url?this.fileName=t.data.url:t.data.fileName?this.fileName="./assets/docs/"+t.data.fileName+".md":t.data.markdown&&(this.markdown=t.data.markdown,this.loadingData=!1),this.showDialog())})}ngOnDestroy(){super.ngOnDestroy()}onMarkdownLoaded(t){this.loadingData=!1,setTimeout(()=>{this.recenterDialog()},1)}onMarkdownError(t){this.loadingData=!1,this.errorMessage={type:"error",title:"Error",text:this.translate.instant("PANELS.DOCS_PANEL.ERRORS.READING_FILE",{name:this.fileName})},this.recenterDialog()}onHideDialog(){}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x($e),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-docs-panel"]],viewQuery:function(o,r){if(o&1&&_e(LO,5),o&2){let s;W(s=$())&&(r.mdComponent=s.first)}},standalone:!1,features:[re],decls:12,vars:14,consts:[["dlgDocsDialog",""],["header",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onShow","onHide","visible","modal","closable","resizable"],[1,"grid","divMarkdown",3,"ngStyle"],[1,"col-12","fwc-centered"],[1,"col-12","[&_h1]:text-[2em]","[&_h2]:text-[1.5em]","[&_h3]:text-[1.17em]","[&_h4]:text-[1em]","[&_h5]:text-[0.83em]","[&_h6]:text-[0.67em]",3,"ngStyle"],[3,"src"],[3,"data"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcOrange",3,"ngClass"],[3,"load","error","src"],[3,"ready","data"],[3,"message"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(2,gtt,4,2,"ng-template",null,1,ie),_(4,"div",4),G(5,_tt,2,3,"div",5),_(6,"div",6),G(7,btt,1,1,"markdown",7),G(8,ytt,1,1,"markdown",8),b(),G(9,vtt,2,1,"div",9),b(),E(10,wtt,2,5,"ng-template",null,2,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(4),f("ngStyle",de(10,Uee,r.fileName||r.markdown?"block":"none")),p(),H(r.loadingData?5:-1),p(),f("ngStyle",de(12,Uee,r.loadingData?"none":"block")),p(),H(r.fileName?7:-1),p(),H(r.markdown?8:-1),p(),H(!r.loadingData&&r.errorMessage?9:-1))},dependencies:[$t,ft,LO,Ut,lo,bt,Nn,It],encapsulation:2});let i=n;return i})();var jee=Xr(Kd());var Ctt=["fwcMessageComponent"],Stt=["txtExported"];function Itt(i,n){i&1&&ve(0)}function Ett(i,n){if(i&1){let e=B();_(0,"div",23)(1,"textarea",24),D(2,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.iptablesSaveText,o)||(r.iptablesSaveText=o),C(o)}),b()()}if(i&2){let e=h(3);p(),f("placeholder",ae(k(2,3,"PANELS.IPTABLES_SAVE.IMPORT.INFO.PASTE_HERE"))),Ae("ngModel",e.iptablesSaveText)}}function xtt(i,n){if(i&1){let e=B();_(0,"div",26),N(1,"i",27),_(2,"span",28),R(3),b(),_(4,"span",29),R(5),D(6,"fwcFileSize"),b(),_(7,"p-button",30),A("onClick",function(){w(e),h();let o=Ze(2),r=h(3);return C(r.handleRemoveSelectedFile(o,0))}),b()()}if(i&2){let e=n.$implicit,t=h(4);p(3),Q(e.name),p(2),Q(k(6,3,e.size)),p(2),f("disabled",t.loadingData||t.success)}}function Ttt(i,n){i&1&&(_(0,"div",32),N(1,"i",33)(2,"br"),_(3,"p"),R(4),D(5,"translate"),b()()),i&2&&(p(4),Q(k(5,1,"PANELS.FILEUPLOAD_PANEL.SELECT_FILE")))}function Ott(i,n){if(i&1&&E(0,Ttt,6,3,"div",31),i&2){h();let e=Ze(2);f("ngIf",!(e.files!=null&&e.files.length))}}function Rtt(i,n){if(i&1){let e=B();_(0,"div",17)(1,"p-fileUpload",25,3),D(3,"translate"),D(4,"translate"),D(5,"translate"),D(6,"translate"),D(7,"translate"),A("onSelect",function(o){w(e);let r=h(3);return C(r.handleSelectFile(o))})("onRemove",function(o){w(e);let r=h(3);return C(r.handleOnRemoveSelectedFile(o))}),E(8,xtt,8,5,"ng-template",null,4,ie)(10,Ott,1,1,"ng-template",null,5,ie),b()()}if(i&2){let e=h(3);p(),f("disabled",e.loadingData||e.success)("maxFileSize",1e3*1e3*10)("chooseLabel","\u2002"+k(3,9,"PANELS.IPTABLES_SAVE.BUTTONS.CHOOSE"))("showCancelButton",!1)("showUploadButton",!1)("invalidFileSizeMessageSummary",k(4,11,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.SUMMARY"))("invalidFileSizeMessageDetail",k(5,13,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_SIZE.DETAIL"))("invalidFileTypeMessageSummary",k(6,15,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.SUMMARY"))("invalidFileTypeMessageDetail",k(7,17,"PANELS.FILEUPLOAD_PANEL.UPLOAD_ERRORS.FILE_TYPE.DETAIL"))}}function Dtt(i,n){i&1&&ve(0)}function Ptt(i,n){if(i&1&&(_(0,"div",17),E(1,Dtt,1,0,"ng-container",34),b()),i&2){h(3);let e=Ze(4);p(),f("ngTemplateOutlet",e)}}function Att(i,n){if(i&1){let e=B();_(0,"div",35)(1,"p-checkbox",36),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.okToImport,o)||(r.okToImport=o),C(o)}),b(),_(2,"label",37),R(3),D(4,"translate"),b()()}if(i&2){let e=h(3);p(),Ae("ngModel",e.okToImport),f("disabled",e.loadingData),p(2),Y("\u2002",k(4,3,"WIZARDS.FIREWALL_IMPORT.INFO.WARN_IMPORT"))}}function ktt(i,n){if(i&1){let e=B();_(0,"div",16)(1,"div",17)(2,"p"),R(3),D(4,"translate"),b()(),_(5,"div",17)(6,"p-radiobutton",18),ke("ngModelChange",function(o){w(e);let r=h(2);return Ne(r.selectedImportOption,o)||(r.selectedImportOption=o),C(o)}),b(),R(7),D(8,"translate"),b(),_(9,"div",17)(10,"p-radiobutton",18),ke("ngModelChange",function(o){w(e);let r=h(2);return Ne(r.selectedImportOption,o)||(r.selectedImportOption=o),C(o)}),b(),R(11),D(12,"translate"),b(),_(13,"div",19)(14,"p-radiobutton",18),ke("ngModelChange",function(o){w(e);let r=h(2);return Ne(r.selectedImportOption,o)||(r.selectedImportOption=o),C(o)}),b(),R(15),D(16,"translate"),b(),N(17,"br"),E(18,Ett,3,5,"div",20)(19,Rtt,12,19,"div",21)(20,Ptt,2,1,"div",21)(21,Att,5,5,"div",22),b()}if(i&2){let e=h(2);p(3),Q(k(4,17,"PANELS.IPTABLES_SAVE.IMPORT.SELECT_OPTION")),p(3),f("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.COPYPASTE),Ae("ngModel",e.selectedImportOption),p(),Y(" ",k(8,19,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.COPY_PASTE")," "),p(3),f("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.UPLOAD_FILE),Ae("ngModel",e.selectedImportOption),p(),Y(" ",k(12,21,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.FILE_UPLOAD")," "),p(3),f("disabled",e.loadingData||e.success)("value",e.FwcIptablesSaveImportOptions.SSH_OR_AGENT),Ae("ngModel",e.selectedImportOption),p(),Y(" ",k(16,23,"PANELS.IPTABLES_SAVE.IMPORT.OPTIONS.SSH")," "),p(3),f("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.success),p(),f("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.success),p(),f("ngIf",e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.success),p(),f("ngIf",(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&!e.hideUI)}}function Ntt(i,n){i&1&&ve(0)}function Ftt(i,n){i&1&&ve(0)}function Ltt(i,n){if(i&1&&(_(0,"div",16)(1,"div",17)(2,"p"),R(3),D(4,"translate"),b()(),_(5,"div",23),E(6,Ftt,1,0,"ng-container",34),b()()),i&2){h(3);let e=Ze(4);p(3),Q(k(4,2,"PANELS.IPTABLES_SAVE.EXPORT.TEXT")),p(3),f("ngTemplateOutlet",e)}}function Mtt(i,n){if(i&1&&(_(0,"div",16)(1,"div",17),R(2),D(3,"translate"),b(),_(4,"div",17)(5,"textarea",38,8),R(7),b()()()),i&2){let e=h(3);p(2),Y(" ",k(3,2,"PANELS.IPTABLES_SAVE.EXPORT.INFO.SUCCESS"),": "),p(5),Q(e.exportFile)}}function Btt(i,n){if(i&1&&E(0,Ntt,1,0,"ng-container",15)(1,Ltt,7,4,"ng-template",null,6,ie)(3,Mtt,8,4,"ng-template",null,7,ie),i&2){let e=Ze(2),t=Ze(4),o=h(2);f("ngIf",!o.exportFile)("ngIfThen",e)("ngIfElse",t)}}function Vtt(i,n){if(i&1&&(we(0),E(1,Itt,1,0,"ng-container",15)(2,ktt,22,25,"ng-template",null,1,ie)(4,Btt,5,3,"ng-template",null,2,ie),Ce()),i&2){let e=Ze(3),t=Ze(5),o=h();p(),f("ngIf",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.IMPORT)("ngIfThen",e)("ngIfElse",t)}}function Utt(i,n){if(i&1&&(_(0,"div",16)(1,"div",17),N(2,"sts-fwc-message",39,9),b()()),i&2){let e=h();p(2),f("message",e.statusMessage)}}function jtt(i,n){i&1&&ve(0)}function Gtt(i,n){if(i&1){let e=B();_(0,"p-button",43),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handleImportExport())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT?"PANELS.IPTABLES_SAVE.BUTTONS.IMPORT":"PANELS.IPTABLES_SAVE.BUTTONS.EXPORT")))("disabled",e.loadingData||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.IMPORT&&(!e.hideUI&&!e.okToImport||e.selectedImportOption===e.FwcIptablesSaveImportOptions.COPYPASTE&&!e.iptablesSaveText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.UPLOAD_FILE&&!e.iptablesFileText||e.selectedImportOption===e.FwcIptablesSaveImportOptions.SSH_OR_AGENT&&!e.formModel.valid)||(e.options==null?null:e.options.operation)===e.FwcIptablesSaveOperation.EXPORT&&!e.formModel.valid)}}function Htt(i,n){if(i&1){let e=B();E(0,Gtt,2,5,"p-button",41),_(1,"p-button",42),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handleCancel())}),b()}if(i&2){let e=h(2);f("ngIf",e.firewall),p(),f("label",ae(k(2,4,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",e.loadingData)}}function ztt(i,n){if(i&1){let e=B();we(0),_(1,"p-button",45),D(2,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handleCopyExportedToClipboard())}),b(),_(3,"p-button",46),D(4,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handleDownloadExported())}),b(),Ce()}if(i&2){let e=h(3);p(),f("label",ae(k(2,6,"VPN.CONFIG.CLIPBOARD.BUTTON")))("disabled",e.loadingData),p(2),f("label",ae(k(4,8,"VPN.CONFIG.DOWNLOAD.BUTTON")))("disabled",e.loadingData)}}function Wtt(i,n){if(i&1){let e=B();E(0,ztt,5,10,"ng-container",13),_(1,"p-button",44),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handleCancel())}),b()}if(i&2){let e=h(2);f("ngIf",e.exportFile),p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CLOSE")))}}function $tt(i,n){if(i&1&&(_(0,"div",16)(1,"div",40),E(2,jtt,1,0,"ng-container",15)(3,Htt,3,6,"ng-template",null,10,ie)(5,Wtt,3,5,"ng-template",null,11,ie),b()()),i&2){let e=Ze(4),t=Ze(6),o=h();p(2),f("ngIf",o.success)("ngIfThen",t)("ngIfElse",e)}}function Ktt(i,n){if(i&1){let e=B();we(0),_(1,"div",19)(2,"div",49)(3,"span",50)(4,"p-select",59),A("onChange",function(){return w(e),C(!0)}),b(),_(5,"label",60),R(6),D(7,"translate"),b()()()(),_(8,"div",17)(9,"div",49)(10,"span",53)(11,"label",61),R(12),D(13,"translate"),b(),N(14,"input",62),b()()(),Ce()}if(i&2){let e=h(2);p(4),f("options",e.agentProtocolOptions)("autoDisplayFirst",!1),p(2),Q(k(7,6,"FW.MSG_FW_EDITION.AGENT_PROTOCOL")),p(6),Q(k(13,8,"FW.MSG_FW_EDITION.AGENT_APIKEY")),p(2),f("showPassword",!1)("feedback",!1)}}function qtt(i,n){i&1&&(_(0,"div",19)(1,"div",49)(2,"span",53)(3,"label",63),R(4),D(5,"translate"),b(),N(6,"input",64),b()()(),_(7,"div",17)(8,"div",49)(9,"span",53)(10,"label",65),R(11),D(12,"translate"),b(),N(13,"input",66),b()()()),i&2&&(p(4),Y(" ",k(5,2,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER")," "),p(7),Y(" ",k(12,4,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")," "))}function Jtt(i,n){if(i&1){let e=B();_(0,"form",47)(1,"fieldset",48),A("keyup.enter",function(){w(e);let o=h();return C(o.handleImportExport())})("keyup.esc",function(){w(e);let o=h();return C(o.handleCancel())}),_(2,"div",17)(3,"div",49)(4,"span",50)(5,"p-select",51),A("onChange",function(){return w(e),C(!0)}),b(),_(6,"label",52),R(7),D(8,"translate"),b()()()(),_(9,"div",19)(10,"div",49)(11,"span",53)(12,"label",54),R(13),D(14,"translate"),b(),N(15,"input",55),b()()(),_(16,"div",19)(17,"div",49)(18,"span",53)(19,"label",56),R(20),D(21,"translate"),b(),N(22,"input",57),b()()(),E(23,Ktt,15,10,"ng-container",58)(24,qtt,14,6,"ng-template",null,12,ie),b()()}if(i&2){let e,t=Ze(25),o=h();f("formGroup",o.formModel),p(),f("disabled",o.loadingData||o.success),p(4),f("options",o.communicationOptions)("autoDisplayFirst",!1),p(2),Q(k(8,11,"FW.MSG_FW_EDITION.COMM_TYPE")),p(6),Y(" ",k(14,13,"ITEM_PANEL.FIELDS.ADDRESS")," "),p(2),f("readOnly",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.EXPORT),p(5),Y(" ",k(21,15,"CLUSTER.MSG_CLUSTER_EDITION.PORT")," "),p(2),f("readOnly",(o.options==null?null:o.options.operation)===o.FwcIptablesSaveOperation.EXPORT),p(),f("ngIf",((e=o.formModel.get("communication"))==null?null:e.value)==="agent")("ngIfElse",t)}}var da=(function(i){return i[i.IMPORT=1]="IMPORT",i[i.EXPORT=2]="EXPORT",i})(da||{}),zc=(function(i){return i[i.COPYPASTE=1]="COPYPASTE",i[i.UPLOAD_FILE=2]="UPLOAD_FILE",i[i.SSH_OR_AGENT=3]="SSH_OR_AGENT",i})(zc||{}),Qtt=12e4,Gee=(()=>{let n=class n{set importSSHData(t){if(t){this.options={objId:t.firewall,objName:"",objType:O.OBJ_FIREWALL,operation:da.IMPORT},this.selectedImportOption=zc.SSH_OR_AGENT;let o={id:t.firewall,ip:t.ip,install_communication:t.communication,install_port:t.port,install_user:t.sshuser,install_pass:t.sshpass,install_protocol:t.protocol,install_apikey:t.apikey};this.createForm(o),this.handleImportExport()}}constructor(t,o,r,s,a,l,c,d){this.fwcEventService=t,this.fwcFirewallService=o,this.utilService=r,this.formBuilder=s,this.cd=a,this.translate=l,this.fwcUserService=c,this.messageService=d,this.onFinish=new te,this.selectedImportOption=zc.COPYPASTE,this.okToImport=!1,this.filesToUpload=[],this.loadingData=!1,this.alive=!0,this.isSSHCommunicationDisabled=!1,this.communicationOptions=[],this.agentProtocolOptions=[{label:"HTTPS",value:"https"},{label:"HTTP",value:"http"}],this.FwcIptablesSaveOperation=da,this.FwcIptablesSaveImportOptions=zc}ngOnInit(){return V(this,null,function*(){if(this.buildCommunicationOptions(),this.checkData(this.options)&&!this.hideUI){let t,o;if(this.options.objType===O.OBJ_FIREWALL?(t=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL")):this.options.objType===O.OBJ_CLUSTER&&(t=this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER")),this.isSSHCommunicationDisabled=!(yield this.utilService.fwcAPICall(this.fwcFirewallService.loadBackEndConfig.bind(this.fwcFirewallService))).data.availablecommunications.includes("ssh"),this.buildCommunicationOptions(),t){this.loadingData=!0;let r=o.toLowerCase();this.options.objName&&(r+=" '"+this.options.objName+"'"),this.statusMessage={text:this.translate.instant("PANELS.IPTABLES_SAVE.INFO.READ_DATA",{name:r}),type:"loading"},this.utilService.fwcAPICall(t,this.options.objId,this.fwcUserService.getActualFwSelectedCloud()).then(s=>V(this,null,function*(){if(s.data)if(this.loadingData=!1,this.options.operation===da.EXPORT&&!s.data.install_ipobj)this.statusMessage={title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.NO_INST_DATA.TEXT"),type:"error",horizontal:!0};else{let a=Object.assign(s.data),l=this.fwcUserService.getActualFwcUser().privateKey,c=a.install_user,d=a.install_pass,u=a.install_apikey;try{c&&(c=yield this.utilService.openPGPDecrypt(c,l)),d&&(d=yield this.utilService.openPGPDecrypt(d,l)),u&&(u=yield this.utilService.openPGPDecrypt(u,l))}catch{}a.install_user=c,a.install_pass=d,a.install_apikey=u,this.createForm(a),this.firewall=s.data,this.statusMessage=null,this.options.operation===da.EXPORT&&a.install_communication==="agent"&&this.handleImportExport()}})).catch(s=>{this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.READ_DATA",{name:`${o} '${this.options.objName}'`}),type:"error",details:s,horizontal:!0,bordered:!0},this.loadingData=!1})}}else this.hideUI||(this.statusMessage={title:"Error",text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.INCORRECT_OPTIONS"),type:"error",horizontal:!0})})}buildCommunicationOptions(){this.communicationOptions=[{label:"SSH",value:"ssh",disabled:this.isSSHCommunicationDisabled},{label:"FWCloud-Agent",value:"agent"}]}createForm(t){this.formModel=this.formBuilder.group({id:new Ee(t.id,[Me.required]),ip:new Ee(t.ip,[Me.required,Me.pattern(Mt.ipV4Regexp)]),port:new Ee(t.install_port,[Me.required,Me.pattern(Mt.portRegexp)]),communication:new Ee(t.install_communication||"agent",[Me.required]),sshuser:new Ee(t.install_user,t.install_communication==="ssh"?Me.required:[]),sshpass:new Ee(t.install_pass,t.install_communication==="ssh"?Me.required:[]),protocol:new Ee(t.install_protocol,t.install_communication==="agent"?Me.required:[]),apikey:new Ee(t.install_apikey,t.install_communication==="agent"?Me.required:[])})}checkData(t){return t&&(t.operation===da.IMPORT||t.operation===da.EXPORT)&&typeof t.objId=="number"&&(t.objType===O.OBJ_FIREWALL||t.objType===O.OBJ_CLUSTER)}handleSelectFile(t){return V(this,null,function*(){if(t){let o=t.files[0];if(o){this.iptablesFileText=null;try{this.iptablesFileText=yield this.readFile(o)}catch{}}}})}handleRemoveSelectedFile(t,o){t.files.splice(o),this.handleOnRemoveSelectedFile()}handleOnRemoveSelectedFile(t){this.iptablesFileText=null}handleImportExport(){return V(this,null,function*(){let t,o,r,s,a,l;if(this.loadingData||!this.options||this.options.operation===da.IMPORT&&(!this.hideUI&&!this.okToImport||this.selectedImportOption===zc.COPYPASTE&&!this.iptablesSaveText||this.selectedImportOption===zc.UPLOAD_FILE&&!this.iptablesFileText||this.selectedImportOption===zc.SSH_OR_AGENT&&!this.formModel.valid)||this.options.operation===da.EXPORT&&!this.formModel.valid)return;let c=u=>{let m=!1;if(!(u instanceof cp&&u.body)){if(u.data)if(this.options.operation===da.IMPORT){let g=u.data,y=`
              <div class="grid p-0 fwcPaleDarkBg">
                <div class="col-12 fwc-centered">
                  <strong>${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TITLE")}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IPOBJS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.ipObjs}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.INTERFACES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.interfaces}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.RULES")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${g.rules}</strong>
                </div>
                <div class="col-6 fwc-right noVertPad">
                  ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.IGNORED_MODS")}: 
                </div>
                <div class="col-6 fwc-left noVertPad">
                  <strong>${Array.isArray(g.modulesIgnored)?g.modulesIgnored.join(", "):"-"}</strong>
                </div>
                <div class="col-12 vertPad">
                  <hr>
                  <strong class="fwcRed"><i class="fa fa-lg fa-exclamation-triangle"></i> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TITLE")}:</strong> ${this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.RESUME.TXT_WARNING.TEXT")}
                  <br>
                </div>
              </div>
            `;s+=y,m=!0,this.statusMessage=Fe(ee({},this.statusMessage),{text:s,type:"success",highlight:!0})}else this.exportFile=Array.isArray(u.data)?u.data.join(`
`):"",this.statusMessage=null}this.success=!0,this.hideUI&&this.onFinish.emit({success:!0,reloadUI:m}),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1},d=u=>{let m=this.translate.instant("GLOBALS.ERRORS.COMMUNICATION");if(this.success=!1,u){let g=this.utilService.isCommunicationErrorStr(u.error);g?a=g:m=u.error}this.statusMessage={title:"Error",text:a,details:m,type:"error",horizontal:!0,bordered:!0},this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.loadingData=!1,this.hideUI&&this.onFinish.emit({success:!1,reloadUI:!1})};if(this.options.operation===da.IMPORT)switch(o=this.fwcFirewallService.ipTablesSaveImport.bind(this.fwcFirewallService),s=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.SUCCESS"),a=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.ERRORS.ERROR"),l=this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.IN_PROCESS"),this.selectedImportOption){case zc.COPYPASTE:case zc.UPLOAD_FILE:if(this.selectedImportOption===zc.COPYPASTE?r=this.iptablesSaveText:r=this.iptablesFileText,r){let u=r.replace(/\r\n/g,`
`).split(`
`).filter(m=>m);t={firewall:this.firewall.id,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"data",ip_version:4,data:u}}break;case zc.SSH_OR_AGENT:if(this.formModel.valid){t=yield this.buildSSHApiObject();let u=Object.assign({},t);u.communication==="agent"&&(delete u.sshuser,delete u.sshpass),t=u}break}else if(this.options.operation===da.EXPORT&&this.formModel.valid){t=yield this.buildSSHApiObject();let u=Object.assign({},t);delete u.type,delete u.ip,delete u.port,delete u.protocol,delete u.apikey,u.communication==="agent"&&(delete u.sshuser,delete u.sshpass),delete u.communication,t=u,o=this.fwcFirewallService.ipTablesSaveExport.bind(this.fwcFirewallService),a=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.ERRORS.ERROR"),l=this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.IN_PROCESS")}t&&(this.loadingData=!0,this.statusMessage={text:l,type:"loading"},this.channel_id=lr(),this.utilService.ioListenOnLogEvent(this.channel_id),this.fwcEventService.getEvent().pipe(Nt(()=>this.alive)).subscribe(u=>{this.loadingData&&this.resetTimer();let m=new Qr(u);this.fwcMessageComponent&&m&&m.payload&&this.fwcMessageComponent.changeStatus(m.payload.message,this.translate.instant("PANELS.IPTABLES_SAVE.IMPORT.INFO.LINE")+":")}),this.resetTimer(),this.cd.detectChanges(),this.apiCallSubscription=o(t,this.channel_id).subscribe(u=>{c(u)},u=>{if(u&&u.status==403&&u.error){let m=u.error;if(m.fwc_confirm_token){let g=m.fwc_confirm_token;this.fwcUserService.setConfirmationToken(g),this.apiCallSubscription=o(t,this.channel_id).subscribe(y=>V(this,null,function*(){c(y),this.fwcUserService.setConfirmationToken(void 0)}),y=>{d(y),this.fwcUserService.setConfirmationToken(void 0)})}else d(u)}else d(u)}))})}doSSHImport(t){}handleCancel(){let t=!1;this.channel_id&&this.utilService.ioReleaseLogEvent(this.channel_id),this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.checkData(this.options)&&this.options.operation===da.IMPORT&&this.success&&(t=!0),this.onFinish.emit({success:this.success,reloadUI:t})}handleCopyExportedToClipboard(){this.txtExported&&(this.txtExported.nativeElement.select(),document.execCommand("copy"),this.txtExported.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.IPTABLES_SAVE.EXPORT.INFO.CLIPBOARD")}))}handleDownloadExported(){if(this.txtExported){let t="iptables-save.txt";this.checkData(this.options)&&(t=`${this.options.objName.replace(/[^a-z0-9\-]/gi,"_")}-iptables-save.txt`);let o=new Blob([this.exportFile],{type:"text/plain;charset=utf-8"});(0,jee.saveAs)(o,t)}}buildSSHApiObject(){return V(this,null,function*(){let t=this.fwcUserService.getActualFwcUser().publicKey,o=this.formModel.get("sshuser").value,r=this.formModel.get("sshpass").value,s=this.formModel.get("apikey").value;return o&&(o=yield this.utilService.openPGPEncrypt(o,t)),r&&(r=yield this.utilService.openPGPEncrypt(r,t)),s&&(s=yield this.utilService.openPGPEncrypt(s,t)),{firewall:this.formModel.get("id").value,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:this.formModel.get("ip").value,port:this.formModel.get("port").value,sshuser:o,sshpass:r,communication:this.formModel.get("communication").value,apikey:s,protocol:this.formModel.get("protocol").value}})}buildJSONFromBlob(t){return new Promise((o,r)=>{let s=new FileReader;s.addEventListener("loadend",a=>{let l="",c;a.currentTarget&&(c=JSON.parse(a.currentTarget.result),l=c.data.join(`
`)),o(l)}),s.addEventListener("error",a=>{r(a)}),s.readAsText(t)})}readFile(t){return new Promise((o,r)=>{let s=new FileReader;s.readAsText(t,"UTF-8"),s.onload=a=>{o(a.target.result)},s.onerror=a=>{r(a)}})}resetTimer(){this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.utilService.ioReleaseLogEvent(this.channel_id),this.apiCallSubscription&&this.apiCallSubscription.unsubscribe(),this.success=!1,this.loadingData=!1,this.statusMessage={type:"error",title:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.HEADER"),text:this.translate.instant("PANELS.IPTABLES_SAVE.ERRORS.TIMEOUT.TEXT"),bordered:!0}},Qtt)}};n.\u0275fac=function(o){return new(o||n)(x(dn),x(Bt),x(Tt),x(ur),x(We),x($e),x(dt),x(ii))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-iptables-save"]],viewQuery:function(o,r){if(o&1&&(_e(Ctt,5),_e(Stt,5)),o&2){let s;W(s=$())&&(r.fwcMessageComponent=s.first),W(s=$())&&(r.txtExported=s.first)}},inputs:{options:"options",hideUI:"hideUI",importSSHData:"importSSHData",doSSHImport:"doSSHImport"},outputs:{onFinish:"onFinish"},standalone:!1,decls:5,vars:3,consts:[["sshForm",""],["import",""],["export",""],["pfuUpload",""],["file",""],["content",""],["showExportOptions",""],["showExportResult",""],["txtExported",""],["fwcMessageComponent",""],["showButtons",""],["showCloseButton",""],["sshFirewall",""],[4,"ngIf"],["class","grid",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"grid"],[1,"col-12"],["name","importOptions",3,"ngModelChange","disabled","value","ngModel"],[1,"col-12","vertPad"],["class","col-12 divConfigFile",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-12 divCentered",4,"ngIf"],[1,"col-12","divConfigFile"],["pInputText","","rows","8",3,"ngModelChange","ngModel","placeholder"],["name","file","fileLimit","1",3,"onSelect","onRemove","disabled","maxFileSize","chooseLabel","showCancelButton","showUploadButton","invalidFileSizeMessageSummary","invalidFileSizeMessageDetail","invalidFileTypeMessageSummary","invalidFileTypeMessageDetail"],[1,"flex","items-center","gap-2"],[1,"fa","fa-lg","fa-file-text","fwcBlue"],[1,"truncate"],[1,"fwcPaleDark"],["icon","pi pi-times",3,"onClick","disabled"],["class","fwc-centered",4,"ngIf"],[1,"fwc-centered"],[1,"fa","fa-2x","fa-file","fwcPaleDark"],[4,"ngTemplateOutlet"],[1,"col-12","divCentered"],["name","chkOkToDelete","binary","true","inputId","chkOkToDelete",3,"ngModelChange","ngModel","disabled"],["for","chkOkToDelete",1,"p-checkbox-label","ng-star-inserted","p-checkbox-label-active","fwcBlue"],["pInputText","","rows","15","cols","85","readonly","",2,"height","auto !important","font-family","monospace !important"],[3,"message"],[1,"col-12","divButtons"],["type","button","icon","fa fa-upload",3,"disabled","label","onClick",4,"ngIf"],["type","button","styleClass","p-button-warning","icon","fa fa-close",3,"onClick","disabled","label"],["type","button","icon","fa fa-upload",3,"onClick","disabled","label"],["type","button","icon","fa fa-close",3,"onClick","label"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"onClick","label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","label","disabled"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"p-inputgroup"],[1,"p-float-label"],["inputId","communication","formControlName","communication","name","communication","optionLabel","label","optionValue","value","appendTo","body","styleClass","fwcSelect w-full",3,"onChange","options","autoDisplayFirst"],["for","communication"],[1,"p-float-label","fwc-float-inset"],["for","ip"],["pInputText","","type","text","formControlName","ip","name","ip","id","ip",3,"readOnly"],["for","port"],["pInputText","","type","number","formControlName","port","name","port","id","port",3,"readOnly"],[4,"ngIf","ngIfElse"],["inputId","protocol","formControlName","protocol","name","protocol","optionLabel","label","optionValue","value","appendTo","body","styleClass","fwcSelect w-full selNoMargin",3,"onChange","options","autoDisplayFirst"],["for","protocol"],["for","apikey"],["pPassword","","formControlName","apikey","name","apikey","maxlength","64",3,"showPassword","feedback"],["for","sshuser"],["pInputText","","type","text","formControlName","sshuser","name","sshuser","id","sshuser"],["for","sshpass"],["pInputText","","type","password","formControlName","sshpass","name","sshpass","id","sshpass"]],template:function(o,r){o&1&&E(0,Vtt,6,3,"ng-container",13)(1,Utt,4,1,"div",14)(2,$tt,7,3,"div",14)(3,Jtt,26,17,"ng-template",null,0,ie),o&2&&(f("ngIf",r.firewall&&!r.hideUI),p(),f("ngIf",r.statusMessage),p(),f("ngIf",!r.hideUI))},dependencies:[pt,gt,eo,Hi,pp,_i,Zn,io,Zi,to,ao,bt,si,dT,Pn,or,Qg,Sw,Nn,It,vO],encapsulation:2});let i=n;return i})();var MO=(()=>{let n=class n extends fO{constructor(t,o,r){super(t,r),this.dialogRef=t,this.dialogConfig=o,this.router=r}ngOnInit(){}handleFinish(t){if(this.dialogRef.close(t&&t.success),t&&t.reloadUI){let o=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([o])})}}};n.\u0275fac=function(o){return new(o||n)(x(jc),x(Mh),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-iptables-save-panel"]],standalone:!1,features:[re],decls:2,vars:1,consts:[[3,"onFinish","options"]],template:function(o,r){o&1&&(we(0),_(1,"sts-fwc-iptables-save",0),A("onFinish",function(a){return r.handleFinish(a)}),b(),Ce()),o&2&&(p(),f("options",r.dialogConfig.data))},encapsulation:2});let i=n;return i})();var Hee=(()=>{let n=class n{constructor(t){this.decimalPipe=t}transform(t,o,r){let s=t,a="B";return t>=1024*1024*1024*1024?(s=t/(1024*1024*1024*1024),a="TB"):t>=1024*1024*1024?(s=t/(1024*1024*1024),a="GB"):t>=1024*1024?(s=t/(1024*1024),a="MB"):t>=1024&&(s=t/1024,a="KB"),`${this.decimalPipe.transform(s,o,r)} ${a}`}};n.\u0275fac=function(o){return new(o||n)(x(Of,16))},n.\u0275pipe=Vo({name:"suitableBytePrecission",type:n,pure:!0,standalone:!1});let i=n;return i})();var L3=i=>({name:i}),Xtt=()=>({standalone:!0}),Ztt=()=>({width:"100%"}),eit=()=>["cn","address"];function tit(i,n){if(i&1&&(_(0,"h6",9),N(1,"i",10),R(2),D(3,"translate"),b()),i&2){let e=h(2);p(2),Y(" ",vi(3,1,"PANELS.VPN_HISTORIC_PANEL.TITLE",de(4,L3,e.options==null?null:e.options.openVpnConfigName))," ")}}function iit(i,n){if(i&1&&(_(0,"h6",9),N(1,"i",10),R(2),D(3,"translate"),b()),i&2){let e=h(2);p(2),Y(" ",vi(3,1,"PANELS.VPN_HISTORIC_PANEL.WG_TITLE",de(4,L3,e.options==null?null:e.options.wireGuardConfigName))," ")}}function nit(i,n){if(i&1&&(_(0,"h6",9),N(1,"i",10),R(2),D(3,"translate"),b()),i&2){let e=h(2);p(2),Y(" ",vi(3,1,"PANELS.VPN_HISTORIC_PANEL.IPS_TITLE",de(4,L3,e.options==null?null:e.options.ipsecConfigName))," ")}}function oit(i,n){if(i&1&&(_(0,"div",8),G(1,tit,4,6,"h6",9)(2,iit,4,6,"h6",9)(3,nit,4,6,"h6",9),b()),i&2){let e=h();p(),H(e.options.openVpnConfigType===e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER?1:e.options.wireGuardConfigType===e.ObjectTypes.OBJ_WGS_CONFIG_SER?2:e.options.wireGuardConfigType===e.ObjectTypes.OBJ_ISS_CONFIG_SER?3:-1)}}function rit(i,n){if(i&1&&(_(0,"div",7)(1,"div",11),N(2,"sts-fwc-message",12,2),b()()),i&2){let e=h();p(2),f("message",e.statusMessage)}}function sit(i,n){if(i&1){let e=B();_(0,"div",16)(1,"div",19)(2,"p-floatlabel",20)(3,"input",36),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(4,"label",37),R(5),D(6,"translate"),b()()()()}i&2&&(p(5),Q(k(6,1,"VPN.PANEL.FIELDS.CN")))}function ait(i,n){i&1&&(_(0,"label",22),R(1),D(2,"translate"),b()),i&2&&(p(),Q(k(2,1,"PANELS.VPN_HISTORIC_PANEL.FIELDS.PERIOD")))}function lit(i,n){i&1&&(_(0,"th",38),R(1),D(2,"translate"),N(3,"p-sortIcon",49),b()),i&2&&(p(),Y(" ",k(2,1,"VPN.STATUS.FIELDS.CN")," "))}function cit(i,n){if(i&1&&(_(0,"tr"),G(1,lit,4,3,"th",38),_(2,"th",39),R(3),D(4,"translate"),N(5,"p-sortIcon",40),b(),_(6,"th",41),R(7),D(8,"translate"),N(9,"p-sortIcon",42),b(),_(10,"th",43),R(11),D(12,"translate"),N(13,"p-sortIcon",44),b(),_(14,"th",45),R(15),D(16,"translate"),N(17,"p-sortIcon",46),b(),_(18,"th",47),R(19),D(20,"translate"),N(21,"p-sortIcon",48),b()()),i&2){let e=h(2);p(),H((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||(e.options==null?null:e.options.wireGuardConfigType)===e.ObjectTypes.OBJ_WGS_CONFIG_SER||(e.options==null?null:e.options.ipsecConfigType)===e.ObjectTypes.OBJ_ISS_CONFIG_SER?1:-1),p(2),Y(" ",k(4,6,"VPN.STATUS.FIELDS.REAL_ADDRESS")," "),p(4),Y(" ",k(8,8,"VPN.STATUS.FIELDS.CONNECTED_AT")," "),p(4),Y(" ",k(12,10,"VPN.STATUS.FIELDS.DISCONNECTED_AT")," "),p(4),Y(" ",k(16,12,"VPN.STATUS.FIELDS.RECEIVED")," "),p(4),Y(" ",k(20,14,"VPN.STATUS.FIELDS.SENT")," ")}}function dit(i,n){if(i&1&&(_(0,"td"),R(1),b()),i&2){let e=h(2).$implicit,t=h(2);ce("rowspan",t.tableData==null?null:t.tableData.historyGroupsMetadata[e.cn].size),p(),Y(" ",e.cn," ")}}function pit(i,n){if(i&1&&(_(0,"td"),R(1),b()),i&2){let e=h(2).$implicit;p(),Q(e.cn)}}function uit(i,n){if(i&1&&G(0,dit,2,2,"td")(1,pit,2,1,"td"),i&2){h(2);let e=Ze(41);H(e.sortField==="cn"?0:1)}}function hit(i,n){if(i&1&&(_(0,"tr",50),G(1,uit,2,1),_(2,"td"),R(3),b(),_(4,"td"),R(5),D(6,"date"),b(),_(7,"td"),R(8),D(9,"date"),b(),_(10,"td",51),R(11),D(12,"suitableBytePrecission"),b(),_(13,"td",51),R(14),D(15,"suitableBytePrecission"),b()()),i&2){let e=n.$implicit,t=h(2);f("pSelectableRow",e),p(),H((t.options==null?null:t.options.openVpnConfigType)===t.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||(t.options==null?null:t.options.wireGuardConfigType)===t.ObjectTypes.OBJ_WGS_CONFIG_SER||(t.options==null?null:t.options.ipsecConfigType)===t.ObjectTypes.OBJ_ISS_CONFIG_SER?1:-1),p(2),Q(e.address),p(2),Q(Zs(6,7,e.connected_at,"d/M/y hh:mm","UTC")),p(3),Q(Zs(9,11,e.disconnected_at,"d/M/y hh:mm","UTC")),p(3),Y(" ",vi(12,15,e.bytesReceived,"1.2-2")," "),p(3),Y(" ",vi(15,18,e.bytesSent,"1.2-2")," ")}}function fit(i,n){if(i&1&&(_(0,"tr")(1,"td"),R(2),D(3,"translate"),b()()),i&2){let e=h(2);p(),ce("colspan",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||(e.options==null?null:e.options.wireGuardConfigType)===e.ObjectTypes.OBJ_WGS_CONFIG_SER||(e.options==null?null:e.options.ipsecConfigType)===e.ObjectTypes.OBJ_ISS_CONFIG_SER?6:5),p(),Y(" ",k(3,2,"VPN.STATUS.NO_DATA.0")," ")}}function mit(i,n){if(i&1){let e=B();_(0,"div",7)(1,"div",11)(2,"form",13)(3,"p-fieldset",14),D(4,"translate"),_(5,"div",15),G(6,sit,7,3,"div",16),_(7,"div",17)(8,"div",18)(9,"div",16)(10,"div",19)(11,"p-floatlabel",20)(12,"p-select",21),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectDates,o)||(r.selectDates=o),C(o)}),A("onChange",function(){w(e);let o=h();return C(o.handleChangeDateSelector())}),b(),G(13,ait,3,3,"label",22),b()()(),_(14,"div",16)(15,"div",19)(16,"p-floatlabel",20)(17,"p-datepicker",23),A("onSelect",function(){w(e);let o=h();return C(o.handleSelectDate())}),b(),_(18,"label",24),R(19),D(20,"translate"),b()()()(),_(21,"div",16)(22,"div",19)(23,"p-floatlabel",20)(24,"p-datepicker",25),A("onSelect",function(){w(e);let o=h();return C(o.handleSelectDate())}),b(),_(25,"label",26),R(26),D(27,"translate"),b()()()()()(),_(28,"div",27)(29,"div",19)(30,"p-button",28),A("onClick",function(){w(e);let o=h();return C(o.handleReloadData())}),b(),_(31,"p-button",29),D(32,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleClearFilters())}),b()()()()()()()(),_(33,"div",7)(34,"div",11)(35,"p-fieldset",14),D(36,"translate"),_(37,"div",30)(38,"div",11)(39,"div",31)(40,"p-table",32,3),ke("selectionChange",function(o){w(e);let r=h();return Ne(r.vpnClientSelected,o)||(r.vpnClientSelected=o),C(o)}),A("onRowSelect",function(){w(e);let o=h();return C(o.handleVpnClientSelect())})("onRowUnselect",function(){w(e);let o=h();return C(o.handleVpnClientSelect())})("onSort",function(){w(e);let o=h();return C(o.handleSortTable())}),E(42,cit,22,16,"ng-template",null,0,ie)(44,hit,16,21,"ng-template",null,4,ie)(46,fit,4,4,"ng-template",null,5,ie),b()()(),_(48,"div",11)(49,"div",33)(50,"div",34),N(51,"p-chart",35),b(),_(52,"div",34),N(53,"p-chart",35),b()()()()()()()}if(i&2){let e=h();p(2),f("formGroup",e.filterFormModel),p(),f("legend",ae(k(4,34,"PANELS.VPN_HISTORIC_PANEL.INFO.FILTERS"))),p(3),H((e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||(e.options==null?null:e.options.wireGuardConfigType)===e.ObjectTypes.OBJ_WGS_CONFIG_SER||(e.options==null?null:e.options.ipsecConfigType)===e.ObjectTypes.OBJ_ISS_CONFIG_SER?6:-1),p(),f("ngClass",(e.options==null?null:e.options.openVpnConfigType)===e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||(e.options==null?null:e.options.wireGuardConfigType)===e.ObjectTypes.OBJ_WGS_CONFIG_SER||(e.options==null?null:e.options.wireGuardConfigType)===e.ObjectTypes.OBJ_ISS_CONFIG_SER?"col-12 md:col-8":"col-12 md:col-6"),p(5),f("options",e.dateRangeOptions),Ae("ngModel",e.selectDates),f("ngModelOptions",Pe(44,Xtt)),p(),H(e.selectDates!==void 0?13:-1),p(4),f("maxDate",e.filterFormModel.get("ends_at").value),p(2),Q(k(20,36,"PANELS.VPN_HISTORIC_PANEL.FIELDS.FROM")),p(5),f("minDate",e.filterFormModel.get("starts_at").value),p(2),Q(k(27,38,"PANELS.VPN_HISTORIC_PANEL.FIELDS.TO")),p(2),f("ngClass","col-12 md:col-4"),p(2),f("disabled",!1),p(),f("label",ae(k(32,40,"PANELS.VPN_HISTORIC_PANEL.FIELDS.CLEAR")))("disabled",!1),p(4),De(Pe(45,Ztt)),f("legend",ae(k(36,42,"PANELS.VPN_HISTORIC_PANEL.INFO.DATA"))),p(5),f("value",e.tableData==null?null:e.tableData.parsedHistoryData)("autoLayout",!0)("responsive",!1)("resizableColumns",!0)("rowTrackBy",e.tableRowTrackBy),Ae("selection",e.vpnClientSelected),f("globalFilterFields",Pe(46,eit))("loading",e.loadingData),p(11),f("data",e.tableData==null?null:e.tableData.volumeChartData)("options",e.volumeGraphOptions),p(2),f("data",e.tableData==null?null:e.tableData.speedChartData)("options",e.speedGraphOptions)}}function git(i,n){if(i&1){let e=B();_(0,"p-button",52),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onHandleCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var _it=50,BO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v){super(c,l,t,d,m,u),this.itemSelectedService=t,this.fwcFirewallService=o,this.fwcVpnService=r,this.fwcErrorPipe=s,this.utilService=a,this.appOptionsService=l,this.appDialogPanelsService=c,this.cd=d,this.router=u,this.store=m,this.translate=g,this.fb=y,this.primengConfig=v,this.volumeGraphPrecission="B",this.speedGraphPrecission="B",this.loadingData=!1,this.destroy$=new Le,this.ObjectTypes=O,this.filterFormModel=y.group({name:new Ee(""),starts_at:new Ee(null),ends_at:new Ee(null)}),this.dateRangeOptions=[{label:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_CUSTOM"),value:void 0},{label:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1D"),value:"1d"},{label:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1W"),value:"1w"},{label:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.FIELDS.RANGE_1M"),value:"1m"}],this.resetInitialFilters(),this.filterFormModel.valueChanges.pipe(Mm(300),Jc(),Ta(this.destroy$)).subscribe(S=>{this.loadingData=!0;let I="openVpnConfigId"in this.options?this.options.openVpnConfigId:"wireGuardConfigId"in this.options?this.options.wireGuardConfigId:"ipsecConfigId"in this.options?this.options.ipsecConfigId:void 0;this.getHistoryData(this.options.cloudId,this.options.firewallId,I,S).then(([P,L])=>{this.buildTableData(P.data),this.buildTableGraphs(L.data)}).catch(P=>{this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(P),type:"error"}}).finally(()=>{this.loadingData=!1})}),this.esLocale={firstDayOfWeek:1,dayNames:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],dayNamesShort:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],dayNamesMin:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],today:"Hoy",clear:"Borrar",weekHeader:"Sm"},this.primengConfig.setTranslation(this.esLocale),this.volumeGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(S,I,P)=>`${S}  ${this.volumeGraphPrecission}`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_VOLUME"),fontSize:14,position:"top"},customCanvasDisplay:{display:"flex"}}},this.speedGraphOptions={aspectRatio:1.5,maintainAspectRatio:!1,scales:{y:{ticks:{callback:(S,I,P)=>`${S}  ${this.speedGraphPrecission}/s`}}},plugins:{legend:{display:!0,position:"bottom"},title:{display:!0,text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.CHART_SPEED"),fontSize:14,position:"top"}}}}ngOnInit(){}ngOnDestroy(){this.destroy$.next(void 0),this.destroy$.complete()}updateAndShow(t){return V(this,null,function*(){if(t){this.statusMessage={text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.INFO.GETTING_INFO"),type:"loading"},this.options=t,this.displayDialog=!0;try{let o=yield this.getMasterFirewallId(t),r,s,a;"openVpnConfigId"in t?(r=t.openVpnConfigId,s=t.openVpnConfigType,a=t.openVpnConfigName):"wireGuardConfigId"in t&&(r=t.wireGuardConfigId,s=t.wireGuardConfigType,a=t.wireGuardConfigName),this.resetInitialFilters(a);let[l,c]=yield this.getHistoryData(t.cloudId,o,r,this.filterFormModel.value);this.statusMessage=null,this.buildTableData(l.data),this.buildTableGraphs(c.data)}catch(o){this.statusMessage={title:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.HEADER"),text:this.translate.instant("PANELS.VPN_HISTORIC_PANEL.ERRORS.GETTING_INFO.TEXT"),details:this.fwcErrorPipe.transform(o),type:"error"}}}})}getHistoryData(t,o,r,s){if(s||(s={}),s.name=s.name&&s.name.replace(/\*/g,"%"),s.starts_at){let l=new Date(s.starts_at);s.starts_at=l.setHours(0,0,0)}if(s.ends_at){let l=new Date(s.ends_at);s.ends_at=l.setHours(23,59,59)}let a=Object.assign({},s);return a.limit=_it,Promise.all([this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoric.bind(this.fwcVpnService),t,o,r,s),this.utilService.fwcAPICall(this.fwcVpnService.getConfigHistoricGraph.bind(this.fwcVpnService),t,o,r,a)])}getMasterFirewallId(t){return new Promise((o,r)=>{if(t.clusterId)this.fwcFirewallService.getClusterMasterNode(t.clusterId,t.cloudId).subscribe(s=>{let a=s.data.id;return t.firewallId=a,o(a)},s=>r(s));else return t.firewallId?o(t.firewallId):r()})}buildTableData(t){let o=[],r=1;for(let s in t){let a=t[s];if(a&&Array.isArray(a.connections))for(let l of a.connections)o.push({rowId:r++,cn:s,connected_at:l.connected_at,disconnected_at:l.disconnected_at,bytesReceived:l.bytesReceived,bytesSent:l.bytesSent,address:l.address})}this.tableData=Fe(ee({},this.tableData),{parsedHistoryData:o}),this.updateRowGroupMetaData(),this.recenterDialog()}buildTableGraphs(t){if(t=this.transformSuitableUnit(t),Array.isArray(t)){let o,r;o={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.RECEIVED"),data:[],fill:!0,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 0.7)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SENT"),data:[],fill:!0,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]},r={labels:[],datasets:[{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_UP"),data:[],fill:!1,borderColor:"rgba(0, 105, 167, 1)",backgroundColor:"rgba(0, 105, 167, 1)",pointRadius:0},{label:this.translate.instant("VPN.STATUS.FIELDS.SPEED_DOWN"),data:[],fill:!1,borderColor:"rgba(0, 153, 0, 1)",backgroundColor:"rgba(0, 153, 0, 1)",pointRadius:0}]};try{for(let s=0;s<t.length;s++){let a=t[s],l=new Date(a.timestamp).toLocaleString();o.labels.push(l),o.datasets[0].data.push(a.bytesReceived),o.datasets[1].data.push(a.bytesSent),r.labels.push(l),r.datasets[0].data.push(a.bytesSentSpeed),r.datasets[1].data.push(a.bytesReceivedSpeed)}this.tableData.volumeChartData=o,this.tableData.speedChartData=r}catch{}}}tableRowTrackBy(t,o){return o?o.rowId:null}updateRowGroupMetaData(){let t={};if(this.tableData&&this.tableData.parsedHistoryData){let o=this.tableData.parsedHistoryData;for(let r=0;r<o.length;r++){let a=o[r].cn;if(r==0)t[a]={index:0,size:1};else{let c=o[r-1].cn;a===c?t[a].size++:t[a]={index:r,size:1}}}this.tableData=Fe(ee({},this.tableData),{historyGroupsMetadata:t})}}handleChangeDateSelector(){let t=new Date,o,r=t;switch(this.selectDates){case"1d":o=new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);break;case"1w":o=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7);break;case"1m":o=new Date(t.getFullYear(),t.getMonth(),t.getDate()-30);break;default:o=this.filterFormModel.get("starts_at").value,r=this.filterFormModel.get("ends_at").value}this.filterFormModel.get("starts_at").setValue(o),this.filterFormModel.get("ends_at").setValue(r)}handleSelectDate(){this.selectDates=void 0}handleClearFilters(){this.filterFormModel.reset(),this.selectDates=void 0}handleReloadData(){this.initialFilterValues?this.setFilterValues(this.initialFilterValues,!0):this.filterFormModel.updateValueAndValidity()}handleVpnClientSelect(){console.log(this.vpnClientSelected)}handleSortTable(){this.updateRowGroupMetaData()}onHandleCancel(){this.displayDialog=!1}onHideDialog(){this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}transformSuitableUnit(t){if(t.length===0)return t;let o=0,r=0;t.forEach(d=>{d.bytesReceived&&d.bytesReceived>o&&(o=d.bytesReceived),d.bytesSent&&d.bytesSent>o&&(o=d.bytesSent),d.bytesReceivedSpeed&&d.bytesReceivedSpeed>r&&(r=d.bytesReceivedSpeed),d.bytesSentSpeed&&d.bytesSentSpeed>r&&(r=d.bytesSentSpeed)});let s="B",a="B",l=d=>d,c=d=>d;return o>=1024*1024*1024*1024?(s="TB",l=d=>d/(1024*1024*1024*1024)):o>=1024*1024*1024?(s="GB",l=d=>d/(1024*1024*1024)):o>=1024*1024?(s="MB",l=d=>d/(1024*1024)):o>=1024&&(s="KB",l=d=>d/1024),this.volumeGraphPrecission=s,r>=1024*1024*1024*1024?(a="TB",c=d=>d/(1024*1024*1024*1024)):r>=1024*1024*1024?(a="GB",c=d=>d/(1024*1024*1024)):r>=1024*1024?(a="MB",c=d=>d/(1024*1024)):r>=1024&&(a="KB",c=d=>d/1024),this.speedGraphPrecission=a,t.map(d=>({timestamp:d.timestamp,bytesReceived:l(d.bytesReceived),bytesReceivedSpeed:c(d.bytesReceivedSpeed),bytesSent:l(d.bytesSent),bytesSentSpeed:c(d.bytesSentSpeed)}))}getDefaultFilterName(){if(this.options){if("openVpnConfigName"in this.options)return this.options.openVpnConfigName;if("wireGuardConfigName"in this.options)return this.options.wireGuardConfigName;if("ipsecConfigName"in this.options)return this.options.ipsecConfigName}return""}buildInitialFilterValues(t){let o=new Date;return{name:t??this.getDefaultFilterName(),starts_at:new Date(o.getFullYear(),o.getMonth(),o.getDate()-7),ends_at:o,selectDates:"1w"}}setFilterValues(t,o){this.selectDates=t.selectDates,this.filterFormModel.setValue({name:t.name,starts_at:t.starts_at?new Date(t.starts_at):null,ends_at:t.ends_at?new Date(t.ends_at):null},{emitEvent:o})}resetInitialFilters(t,o=!1){this.initialFilterValues=this.buildInitialFilterValues(t),this.setFilterValues(this.initialFilterValues,o)}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(Bt),x(co),x(Ni),x(Tt),x(St),x(kt),x(We),x(at),x(tt),x($e),x(ur),x(Gg))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-vpn-historic-panel"]],standalone:!1,features:[Se([Bt]),re],decls:7,vars:5,consts:[["header",""],["footer",""],["fwcMessageComponent",""],["tabVpnStatusTable",""],["body",""],["emptymessage",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],[1,"grid"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-list-alt","fwcOrange","panel-header-icon"],[1,"col-12"],[3,"message"],[2,"margin-bottom","0.5rem",3,"formGroup"],[3,"legend"],[1,"grid","w-full","items-center"],[1,"col-12","md:col-4","flex","items-center"],[3,"ngClass"],[1,"grid","items-center"],[1,"p-inputgroup","w-full","h-full","items-center"],[1,"p-float-label"],["optionLabel","label","optionValue","value","name","selectDates","appendTo","body","styleClass","w-full h-full",3,"ngModelChange","onChange","options","ngModel","ngModelOptions"],["for","selectDates"],["formControlName","starts_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","maxDate"],["for","starts_at"],["formControlName","ends_at","dateFormat","dd/mm/yy","appendTo","body","showButtonBar","true",3,"onSelect","minDate"],["for","ends_at"],[1,"flex","items-center",3,"ngClass"],["type","button","styleClass","fwcButtonHeight","icon","fa fa-refresh",3,"onClick","disabled"],["type","button","styleClass","p-button-secondary fwcButtonHeight","icon","fa fa-times",1,"w-full",3,"onClick","disabled","label"],[1,"grid","w-full","gap-4"],[2,"overflow","auto","max-height","60vh"],["columnResizeMode","expand","dataKey","rowId","selectionMode","single","sortField","cn","sortMode","single",1,"optionsTable",3,"selectionChange","onRowSelect","onRowUnselect","onSort","value","autoLayout","responsive","resizableColumns","rowTrackBy","selection","globalFilterFields","loading"],[1,"grid","w-full"],[1,"col-12","md:col-6","max-w-[calc(1/2","-","0.5rem)]","h-80"],["type","line",1,"w-full","h-full","min-h-fit",3,"data","options"],["pInputText","","type","text","maxlength","64","formControlName","name","name","name",3,"drop"],["for","name"],["pSortableColumn","cn","pResizableColumn",""],["pSortableColumn","address","pResizableColumn",""],["field","address"],["pSortableColumn","connected_at","pResizableColumn",""],["field","connected_at"],["pSortableColumn","disconnected_at","pResizableColumn",""],["field","disconnected_at"],["pSortableColumn","bytesReceived","pResizableColumn",""],["field","bytesReceived"],["pSortableColumn","bytesSent","pResizableColumn",""],["field","bytesSent"],["field","cn"],[3,"pSelectableRow"],[2,"text-align","right"],["type","button","icon","fa fa-close",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",6),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onHide",function(){return w(s),C(r.onHideDialog())}),E(1,oit,4,1,"ng-template",null,0,ie),G(3,rit,4,1,"div",7)(4,mit,54,47),E(5,git,2,5,"ng-template",null,1,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(3),H(r.statusMessage?3:4))},dependencies:[$t,eo,Hi,_i,Zn,io,Zi,to,ao,Ut,bt,si,qp,go,ul,Gu,Mf,hl,Pn,Cw,Ir,ju,Nn,gc,It,Hee],encapsulation:2});let i=n;return i})();var bit=()=>({width:"738.5px",height:"800px"}),yit=i=>({visibility:i,"margin-left":"1rem"}),vit=()=>({width:"1.7rem",height:"1.7rem"}),wit=i=>({"fwc-systemctl-option-icon":i});function Cit(i,n){i&1&&(_(0,"div",19)(1,"h6",20),N(2,"i",21),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"CONTEXT.SYSTEMCTL.PANEL.TITLE")," "))}function Sit(i,n){if(i&1&&(N(0,"i"),R(1)),i&2){let e=h().$implicit;j(e.iconClass),p(),Y(" ",e.label," ")}}function Iit(i,n){if(i&1&&R(0),i&2){let e=h().$implicit;Y(" ",e.label," ")}}function Eit(i,n){if(i&1&&G(0,Sit,2,3)(1,Iit,1,1),i&2){let e=n.$implicit;H(e.iconClass?0:1)}}function xit(i,n){if(i&1&&(N(0,"i",22),R(1)),i&2){let e=h().$implicit;j(e.iconClass),f("ngClass",de(4,wit,e.value==="status")),p(),Y(" ",e.label," ")}}function Tit(i,n){if(i&1&&R(0),i&2){let e=h().$implicit;Y(" ",e.label," ")}}function Oit(i,n){if(i&1&&G(0,xit,2,6)(1,Tit,1,1),i&2){let e=n.$implicit;H(e.iconClass?0:1)}}function Rit(i,n){if(i&1){let e=B();_(0,"p-button",23),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCommandSelect())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.RUN")))("disabled",e.formModel.get("commandSelector").invalid)}}function Dit(i,n){if(i&1){let e=B();_(0,"p-button",24),A("onClick",function(){w(e);let o=h();return C(o.stopAction())}),b()}}function Pit(i,n){if(i&1){let e=B();_(0,"p-button",25),A("onClick",function(){w(e);let o=h();return C(o.handleClose())}),b()}}var M3=(function(i){return i.status="status",i.start="start",i.stop="stop",i.restart="restart",i.reload="reload",i.enable="enable",i.disable="disable",i})(M3||{}),Os=(function(i){return i.openvpn="openvpn",i.dhcp="isc-dhcp-server",i.keepalived="keepalived",i.HAProxy="haproxy",i.wireGuard="wg-quick",i.IPSec="strongswan-starter",i})(Os||{}),S0=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L){super(d,o,t,I,P,L),this.itemSelectedService=t,this.appOptionsService=o,this.fwcUserService=r,this.fwcFirewallService=s,this.fwcPolicyService=a,this.fwcErrorPipe=l,this.fb=c,this.appDialogPanelsService=d,this.confirmationService=u,this.messageService=m,this.inputDataService=g,this.fwcEventService=y,this.utilService=v,this.translate=S,this.cd=I,this.store=P,this.router=L,this.statusError=new te,this.nodeSelected=new te,this.displaySystemCtlSelectorDialog=!1,this.data={},this.loadingData=!1,this.firstAction=!0,this.errorOcurred=!1,this.timeoutRegex=/ECONNABORTED:\sTimeout/,this.apiErrorRegex=/ApiKeyNotValid:/,this.apiNotFoundRegex=/ApiKeyNotFound:/,this.apiConnectionRefusedRegex=/ECONNREFUSED/,this.apiHostUnreachableRegex=/EHOSTUNREACH/,this.createDialog(S.instant("CONTEXT.SYSTEMCTL.PANEL.TITLE"),"fa-solid fa-terminal",oi.SYSTEMCTL_PANEL)}ngOnInit(){super.ngOnInit(),this.initializeCommandSelector(),this.formModel=this.fb.group({commandSelector:new Ee(null,Me.required)})}initializeCommandSelector(){this.commandSelector=[{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DEFAULT"),value:null},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STATUS"),iconClass:"fwcMenuIcon fwci-help fwcBlue",value:"status"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.START"),iconClass:"fa-solid fa-circle-play fwcBlue",value:"start"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.STOP"),iconClass:"fwcMenuIcon fwci-reject fwcRed",value:"stop"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RELOAD"),iconClass:"fa-solid fa-rotate-right fwcBlue",value:"reload"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.RESTART"),iconClass:"fwci-reload fwcBlue",value:"restart"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.ENABLE"),iconClass:"fa-regular fa-circle-check fwcBlue",value:"enable"},{label:this.translate.instant("CONTEXT.SYSTEMCTL.COMMANDS.DISABLE"),iconClass:"fa-solid fa-ban fwcRed",value:"disable"}]}handleLoadingDataChange(t){this.loadingData=t,t?this.formModel.get("commandSelector").disable():this.formModel.get("commandSelector").enable()}systemCtlSelectorDialog(t){this.data=t,this.displaySystemCtlSelectorDialog=!0}onCommandSelect(){let t=this.formModel.get("commandSelector").value;t&&(this.data.command=t.value,this.handleLoadingDataChange(!0),this.showSystemctlDialog())}showSystemctlDialog(){return V(this,null,function*(){this.loadingData=!0;let t=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),this.data.firewall,this.fwcUserService.getActualFwSelectedCloud())).data;if(t.install_communication==="ssh"){this.displaySystemCtlSelectorDialog=!1;let o=this.fwcUserService.getActualFwcUser().privateKey,r={header:this.translate.instant("COMPILE.INST_SSH",{name:t.name}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!0,formControls:[{name:"firewall_id",type:"hidden",value:t.id},{name:"communication",type:"hidden",value:t.install_communication},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:t.interface_name,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:t.ip_name+" ("+t.ip+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:t.install_user?yield this.utilService.openPGPDecrypt(t.install_user,o):"",setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:t.install_pass?yield this.utilService.openPGPDecrypt(t.install_pass,o):""}],onAccept:s=>V(this,null,function*(){let a=this.fwcUserService.getActualFwcUser().publicKey,l=s.ssh_user,c=s.ssh_password;l&&(l=yield this.utilService.openPGPEncrypt(l,a)),c&&(c=yield this.utilService.openPGPEncrypt(c,a)),this.data=Fe(ee({},this.data),{sshuser:l,sshpass:c}),this.displaySystemCtlSelectorDialog=!0,this.loadingData=!1,yield this.systemctlAction()}),onCancel:()=>{this.statusError.emit(!0)}};this.inputDataService.setInputData(r)}else this.loadingData=!1,yield this.systemctlAction()})}systemctlAction(){return V(this,null,function*(){let t=this.data.service;this.loadingData=!0,this.log.startDataLoad(),this.firstAction?this.firstAction=!1:(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant(`CONTEXT.SYSTEMCTL.PANEL.${this.data.command.toUpperCase()}`,{service:t}),Ue.MSG_INFO),this.communicationSubscription=this.utilService.fwcAPICallObservable(this.fwcFirewallService.getSystemctlInformation.bind(this.fwcFirewallService),this.data).subscribe({next:o=>{this.systemctlStatusResponse=Object.assign({},this.systemctlStatusResponse),this.systemctlStatusResponse=JSON.parse(JSON.stringify(o.data.data)),o.data.data===""?(this.systemctlStatusResponse=" ",this.log.scrollToBottom()):(this.addMessageToLog(this.systemctlStatusResponse,Ue.MSG_NOTICE),this.log.scrollToBottom()),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.DONE"),Ue.MSG_OK),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1},error:o=>V(this,null,function*(){this.errorOcurred=!0,this.systemctlResponseError=o.error.msg?o.error.msg:o.error.message,this.timeoutRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNABORTED: Timeout"):this.apiNotFoundRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotFound"):this.apiErrorRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ApiKeyNotValid"):this.apiConnectionRefusedRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.ECONNREFUSED"):this.apiHostUnreachableRegex.test(this.systemctlResponseError)?this.systemctlResponseError=this.translate.instant("API_ERROR.EHOSTUNREACH"):this.systemctlResponseError=JSON.parse(this.systemctlResponseError)?JSON.parse(this.systemctlResponseError).message:this.systemctlResponseError,this.addMessageToLog(this.systemctlResponseError,Ue.MSG_ERROR),this.addMessageToLog(this.translate.instant("CONTEXT.SYSTEMCTL.PANEL.ERROR"),Ue.MSG_ERROR),this.log.scrollToBottom(),this.handleLoadingDataChange(!1),this.loadingData=!1})}),this.log.stopDataLoad()})}stopAction(){this.communicationSubscription&&(this.loadingData=!1,this.handleLoadingDataChange(!1),this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}handleClose(){this.hideDialog(),this.displaySystemCtlSelectorDialog=!1,this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null)}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(dt),x(Bt),x(qn),x(Ni),x(ur),x(kt),x(ti),x(ii),x(Oo),x(dn),x(Tt),x($e),x(We),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-systemctl-actions-panel"]],viewQuery:function(o,r){if(o&1&&_e(wo,5),o&2){let s;W(s=$())&&(r.log=s.first)}},outputs:{statusError:"statusError",nodeSelected:"nodeSelected"},standalone:!1,features:[re],decls:27,vars:21,consts:[["header",""],["selectedItem",""],["item",""],["footer",""],["styleClass","dlgFwcDialog fwcObjectDialog--small dlgFwcDialog--log-resize",3,"visibleChange","visible","modal","resizable","closable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","align-items-end","border-b-2","border-(--fwcGrey2)","p-[0.313rem]"],[1,"col-6"],[1,"flex","flex-col","gap-1"],["for","commandSelector",1,"block","h-4","leading-4","text-left","text-[12px]","uppercase","text-(--fwcBlue)"],[1,"p-inputgroup"],["formControlName","commandSelector","appendTo","body","optionLabel","label","dataKey","value",1,"w-full",3,"options"],[1,"grid","col-6"],["styleClass","p-button-success","icon","pi pi-check",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark","label","Stop"],[1,"divLoadTemp",3,"ngStyle"],[1,"mt-2.5","mb-[0.313rem]","fwc-log-flex"],[3,"autoResize"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa-solid","fa-terminal","panel-header-icon"],[3,"ngClass"],["styleClass","p-button-success","icon","pi pi-check",3,"onClick","disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark","label","Stop",3,"onClick"],["type","button","icon","pi pi-check","label","Close",3,"onClick"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4),ke("visibleChange",function(l){return w(s),Ne(r.displaySystemCtlSelectorDialog,l)||(r.displaySystemCtlSelectorDialog=l),C(l)}),E(1,Cit,5,3,"ng-template",null,0,ie),_(3,"form",5)(4,"fieldset",6),A("keyup.enter",function(){return w(s),C(r.onCommandSelect())})("keyup.esc",function(){return w(s),C(r.handleClose())}),_(5,"div",7),we(6),_(7,"div",8)(8,"div",9)(9,"label",10),R(10),D(11,"translate"),b(),_(12,"div",11)(13,"p-select",12),E(14,Eit,2,1,"ng-template",null,1,ie)(16,Oit,2,1,"ng-template",null,2,ie),b()()()(),Ce(),_(18,"div",13),G(19,Rit,2,5,"p-button",14),G(20,Dit,1,0,"p-button",15),_(21,"div",16),N(22,"p-progressSpinner"),b()()()()(),_(23,"div",17),N(24,"sts-fwc-log",18),b(),E(25,Pit,1,0,"ng-template",null,3,ie),b()}o&2&&(De(Pe(17,bit)),Ae("visible",r.displaySystemCtlSelectorDialog),f("modal",!1)("resizable",!0)("closable",!1),p(3),f("formGroup",r.formModel),p(7),Y(" ",k(11,15,"CONTEXT.SYSTEMCTL.ACTIONS")," "),p(3),f("options",r.commandSelector),p(6),H(r.loadingData?-1:19),p(),H(r.loadingData?20:-1),p(),f("ngStyle",de(18,yit,r.loadingData?"visible":"hidden")),p(),De(Pe(20,vit)),p(2),f("autoResize",!0))},encapsulation:2});let i=n;return i})();var Aw=()=>({visibility:"hidden"});function Ait(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"PANELS.DHCP_RULE_PANEL.TITLE")," "))}function kit(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",11)(2,"p-floatlabel",12)(3,"p-select",13),A("onChange",function(o){w(e);let r=h(2);return C(r.toggleFields(o.value))}),b(),_(4,"label"),R(5),D(6,"translate"),b()()()()}if(i&2){let e=h(2);p(3),f("options",e.dhcpRegularRuleTypes)("autoDisplayFirst",!1),p(2),Q(k(6,3,"DHCP.NEW_RULE_PANEL.TYPES"))}}function Nit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12)(3,"label",14),R(4),D(5,"translate"),b(),N(6,"sts-fwc-object-group",15),D(7,"translate"),b()(),N(8,"p",16),b()),i&2){let e=h(2);p(4),Q(k(5,6,"POLICY_GRID.RULES.DHCP_NETWORK")),p(2),f("msgNotAllowed",ae(k(7,8,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_NETWORK),p(2),f("ngStyle",Pe(10,Aw))}}function Fit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",17),D(4,"translate"),_(5,"label",18),R(6),D(7,"translate"),b()()(),N(8,"p",16),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_RANGE),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.RANGE")),p(2),f("ngStyle",Pe(10,Aw))}}function Lit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",19),D(4,"translate"),_(5,"label",20),R(6),D(7,"translate"),b()()(),N(8,"p",16),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_ROUTER),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.ROUTER")),p(2),f("ngStyle",Pe(10,Aw))}}function Mit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",21),D(4,"translate"),_(5,"label",22),R(6),D(7,"translate"),b()()(),N(8,"p",16),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_INTERFACE),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.INTERFACE")),p(2),f("ngStyle",Pe(10,Aw))}}function Bit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",23),D(4,"translate"),_(5,"label",24),R(6),D(7,"translate"),b()()(),N(8,"p",16),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.DHCP_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_DHCP_RULE_IP),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.IP")),p(2),f("ngStyle",Pe(10,Aw))}}function Vit(i,n){if(i&1){let e=B();_(0,"div",6)(1,"label",25),R(2),D(3,"translate"),b(),_(4,"div",26)(5,"textarea",27),A("drop",function(o){w(e);let r=h(2);return C(r.preventDrop(o))}),b()()()}i&2&&(p(2),Q(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function Uit(i,n){if(i&1&&(N(0,"div",6),G(1,kit,7,5,"div",10),G(2,Nit,9,11,"div",6),G(3,Fit,9,11,"div",6),G(4,Lit,9,11,"div",6),G(5,Mit,9,11,"div",6),G(6,Bit,9,11,"div",6),G(7,Vit,6,3,"div",6)),i&2){let e=h();p(),H(e.dhcpFixedIpPolicySelected()?-1:1),p(),H(e.isRegularRuleSelected()?2:-1),p(),H(e.isRegularRuleSelected()?3:-1),p(),H(e.isRegularRuleSelected()?4:-1),p(),H(e.dhcpFixedIpPolicySelected()?5:-1),p(),H(e.dhcpFixedIpPolicySelected()?6:-1),p(),H(e.isManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?7:-1)}}function jit(i,n){if(i&1&&(_(0,"div",6),N(1,"sts-fwc-message",28),b()),i&2){let e=h();p(),f("message",e.opMessage)}}function Git(i,n){if(i&1){let e=B();_(0,"p-button",29),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleCancel())}),b(),_(2,"p-button",30),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var zee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L){super(r,o,t,s,a,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.store=a,this.fb=l,this.router=c,this.fwcErrorPipe=d,this.utilService=u,this.fwcPolicyService=m,this.fwcDhcpPolicyService=g,this.fwcUserService=y,this.fwcFirewallService=v,this.confirmationService=S,this.translate=I,this.messageService=P,this.http=L,this.ObjectTypes=O,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.dhcpRegularRuleTypes=[{id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1},{id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3},{id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3}],this.dhcpFixedIpRuleType={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2}}ngOnInit(){this.formModel=this.fb.group({dhcpRegularRuleTypes:new Ee,dhcpRegularRule:new Ee,dhcpManualConfigRule:new Ee,dhcpDefaultConfigRule:new Ee,dhcpFixedIpRule:new Ee,network:new Ee(void 0),range:new Ee(void 0),router:new Ee(void 0),interface:new Ee(void 0),ip:new Ee(void 0),cfg_text:new Ee(void 0)}),this.dhcpRegularRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE"),rule_type:1,network:"",range:"",router:""},this.dhcpManualConfigRule={id:1,name:this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpDefaultConfigRule={id:2,name:this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE"),rule_type:3,cfg_text:""},this.dhcpFixedIpRule={id:0,name:this.translate.instant("DHCP.NEW_RULE_PANEL.FIXED_IP_TYPE"),rule_type:2,interface:"",ip:""},this.formModel.setValidators([this.validateRegularRuleFields.bind(this),this.validateFixedIpRuleFields.bind(this),this.validateManualConfigRuleFields.bind(this)]),this.formModel.get("dhcpRegularRuleTypes").valueChanges.subscribe(t=>{if(t!==this.formModel.get("dhcpRegularRuleTypes").value){this.toggleFields(t);let o=this.formModel.get("dhcpRegularRuleTypes"),r=this.formModel.get("network"),s=this.formModel.get("range"),a=this.formModel.get("router");o.setValidators(this.getDhcpRuleTypesValidators()),r.setValidators(this.getDhcpRuleTypesValidators()),s.setValidators(this.getDhcpRuleTypesValidators()),a.setValidators(this.getDhcpRuleTypesValidators()),o.updateValueAndValidity(),r.updateValueAndValidity(),s.updateValueAndValidity(),a.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpFixedIpRule").valueChanges.subscribe(t=>{if(t!==this.formModel.get("dhcpFixedIpRule").value){this.toggleFields(t);let o=this.formModel.get("dhcpFixedIpRule"),r=this.formModel.get("interface"),s=this.formModel.get("ip"),a=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(a.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),o.setValidators(this.getDhcpFixedIpRuleValidators()),r.setValidators(this.getDhcpFixedIpRuleValidators()),s.setValidators(this.getDhcpFixedIpRuleValidators()),o.updateValueAndValidity(),r.updateValueAndValidity(),s.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpManualConfigRule").valueChanges.subscribe(t=>{if(t!==this.formModel.get("dhcpManualConfigRule").value){this.toggleFields(t);let o=this.formModel.get("cfg_text");this.defaultConfigTextSet&&(o.setValue("",{emitEvent:!1}),this.defaultConfigTextSet=!1),o.updateValueAndValidity(),this.formModel.updateValueAndValidity()}}),this.formModel.get("dhcpDefaultConfigRule").valueChanges.subscribe(t=>{if(t!==this.formModel.get("dhcpDefaultConfigRule").value){this.toggleFields(t);let o=this.formModel.get("cfg_text");this.setDhcpConfigText(),o.updateValueAndValidity(),this.formModel.updateValueAndValidity()}})}toggleFields(t){let o=this.formModel.get("network"),r=this.formModel.get("range"),s=this.formModel.get("router"),a=this.formModel.get("interface"),l=this.formModel.get("ip"),c=this.formModel.get("cfg_text");o.reset(),r.reset(),s.reset(),o.disable(),r.disable(),s.disable(),a.reset(),l.reset(),a.disable(),l.disable(),c.reset(),t==="dhcpRegularRuleTypes"?(o.enable(),r.enable(),s.enable()):t==="dhcpFixedIpRule"?(a.enable(),l.enable()):(t==="dhcpManualConfigRule"||t==="dhcpDefaultConfigRule")&&c.enable()}dhcpFixedIpPolicySelected(){let t=this.fwcPolicyService.getActualSelectedPolicy();return t&&t._fwcPolicyType===Fi[M.DHCP_FIXED_IP]}isRegularRuleSelected(){let t=this.formModel.get("dhcpRegularRuleTypes").value,o=t&&t.name===this.translate.instant("DHCP.NEW_RULE_PANEL.REGULAR_TYPE")&&t.rule_type===1;return o&&(this.defaultConfigTextSet=!1),o}isManualConfigRuleSelected(){let t=this.formModel.get("dhcpRegularRuleTypes").value,o=t&&t.name===this.translate.instant("DHCP.NEW_RULE_PANEL.MANUAL_CONFIG_TYPE");return o&&(this.defaultConfigTextSet=!1),o}isDefaultConfigRuleSelected(){let t=this.formModel.get("dhcpRegularRuleTypes").value,o=t&&t.name===this.translate.instant("DHCP.NEW_RULE_PANEL.DEFAULT_CONFIG_TYPE");return o&&!this.defaultConfigTextSet?(this.setDhcpConfigText(),this.defaultConfigTextSet=!0):o||(this.defaultConfigTextSet=!1),o}getDhcpRuleTypesValidators(){return this.isRegularRuleSelected()?Me.required:null}getDhcpFixedIpRuleValidators(){return this.dhcpFixedIpPolicySelected()?Me.required:null}validateRegularRuleFields(){let t=this.formModel.get("network"),o=this.formModel.get("range"),r=this.formModel.get("router");return this.isRegularRuleSelected()&&(!t.value||!o.value||!r.value)?{requiredFieldsMissing:!0}:null}validateFixedIpRuleFields(){let t=this.formModel.get("interface"),o=this.formModel.get("ip");return this.dhcpFixedIpPolicySelected()&&(!t.value||!o.value)?{requiredFieldsMissing:!0}:null}validateManualConfigRuleFields(){return this.isManualConfigRuleSelected(),null}loadDhcpConfigFile(){return V(this,null,function*(){try{return yield this.http.get("assets/config/system/dhcpd-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(t){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)}),t}})}setDhcpConfigText(){return V(this,null,function*(){try{let t=yield this.loadDhcpConfigFile();this.formModel.get("cfg_text").setValue(t)}catch(t){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)})}})}showNewRuleDialog(t,o,r,s){this.clusterId=t,this.firewallId=o,this.baseRuleId=r,this.newRuleOffset=s,t?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{this.clusterId=a.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(o,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{this.firewallId=a.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(qi.requestBlockUI());let{comment:t}=this.formModel.value,o=this.newRuleOffset<1?"above":"below",r=this.dhcpRegularRuleTypes[0].rule_type,s=this.dhcpRegularRuleTypes[1].rule_type,a=this.dhcpRegularRuleTypes[2].rule_type,l=this.dhcpFixedIpRule.rule_type,c={firewallId:this.firewallId,to:this.baseRuleId,offset:o,style:void 0,comment:t};this.isRegularRuleSelected()?(c.networkId=this.formModel.controls.network.value.id,c.rangeId=this.formModel.controls.range.value.id,c.routerId=this.formModel.controls.router.value.id,c.rule_type=r):this.dhcpFixedIpPolicySelected()?(c.interfaceId=this.formModel.controls.interface.value.id,c.routerId=this.formModel.controls.ip.value.id,c.rule_type=l):this.isManualConfigRuleSelected()?(c.rule_type=s,c.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(c.rule_type=a,c.cfg_text=this.formModel.controls.cfg_text.value),this.loadingData=!0,this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcDhcpPolicyService.newPolicyDhcpRule.bind(this.fwcDhcpPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),c).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.DHCP_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(d=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(d)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(qi.requestUnblockUI())})}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(tt),x(ur),x(at),x(Ni),x(Tt),x(qn),x(Vh),x(dt),x(Bt),x(ti),x($e),x(ii),x(ai))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-dhcp-rule-panel"]],standalone:!1,features:[re],decls:10,vars:9,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","dhcpRegularRuleTypes","appendTo","body","optionLabel","name","dataKey","id",1,"dropDownForm",3,"onChange","options","autoDisplayFirst"],["for","network",1,"fwcFloatLabel"],["formControlName","network",3,"readOnly","groupType","msgNotAllowed"],[1,"fwc-error",3,"ngStyle"],["formControlName","range",3,"readOnly","groupType","msgNotAllowed"],["for","range",1,"fwcFloatLabel"],["formControlName","router",3,"readOnly","groupType","msgNotAllowed"],["for","router",1,"fwcFloatLabel"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],["for","interface",1,"fwcFloatLabel"],["formControlName","ip",3,"readOnly","groupType","msgNotAllowed"],["for","ip",1,"fwcFloatLabel"],["for","cfg_text",1,"fwcFloatLabel"],[1,"fwcTextArea"],["pInputText","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(1,Ait,5,3,"ng-template",null,0,ie),_(3,"form",3)(4,"fieldset",4),A("keyup.enter",function(l){return w(s),C(r.handleCheckForm(l))})("keyup.esc",function(){return w(s),C(r.handleCancel())}),_(5,"div",5),G(6,Uit,8,7),G(7,jit,2,1,"div",6),b()()(),E(8,Git,4,9,"ng-template",null,1,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),p(3),f("formGroup",r.formModel),p(),f("disabled",r.loadingData),p(2),H(r.dataLoaded?6:-1),p(),H(!r.loadingData&&r.opMessage?7:-1))},encapsulation:2});let i=n;return i})();var Wh=(()=>{let n=class n extends $i{constructor(t,o){super(t),this.httpClient=t,this.fwcFirewallService=o,this._isKeepalivedPolicy=new _n(!1),this.isKeepalivedPolicy$=this._isKeepalivedPolicy.asObservable(),this._keepalivedClusterId=new _n(0),this.keepalivedClusterId$=this._keepalivedClusterId.asObservable()}setIsKeepalivedPolicy(t){this._isKeepalivedPolicy.next(t)}setKeepalivedClusterId(t){this._keepalivedClusterId.next(t)}getKeepalivedClusterId(){return this._keepalivedClusterId.getValue()}getKeepalivedPolicy(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getKeepalivedPolicyGrid(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/grid`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newPolicyKeepalivedRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules`;return this.httpClient.post(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateKeepalivedPolicyRule(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}moveObjectBetweenPositions(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/moveFrom`;return this.httpClient.put(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateKeepalivedPolicyRules(t,o,r,s){let a=r.map(d=>`rules[]=${d}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/bulkUpdate?${a}`,c={active:s.active,style:s.style,group:s.group};return this.httpClient.put(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteKeepalivedPolicyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteKeepalivedPolicyRules(t,o,r){let s=r.map(l=>`rules[]=${l}`).join("&"),a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}manageKeepalivedPolicyRules(t,o,r,s,a,l){let c="copy",d=this.httpClient.post,u=s<0?"above":"below";l===Go.CUT&&(c="move",d=this.httpClient.put);let m=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/${c}`,g={to:r,offset:u,rules:a};return d.call(this.httpClient,m,g).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}compileKeepalivedPolicyRules(t,o,r){let s;if(r){let a=r.map(l=>`rules[]=${l}`).join("&");s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/compile?${a}`}else s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/compile`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getKeepalivedGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/keepalivedGroups/${r}`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkGroupRestrictions(t){let{fwcloud:o,firewall:r,id:s}=t,a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${r}/system/keepalivedGroups/${s}/restricted`;return this.httpClient.get(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newKeepalivedPolicyRuleGroup(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedGroups`,c={name:r,comment:s,rules:a};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateKeepalivedPolicyRuleGroup(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedGroups/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteKeepalivedPolicyRulesGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedGroups/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}installConfig(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/keepalivedRules/install?channel_id=${r}`;return this.httpClient.put(a,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai),be(Bt))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var B3=()=>({visibility:"hidden"});function Hit(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"PANELS.KEEPALIVED_RULE_PANEL.TITLE")," "))}function zit(i,n){i&1&&N(0,"div",6)}function Wit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"span",12),N(3,"sts-fwc-object-group",15),D(4,"translate"),_(5,"label",16),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_INTERFACE),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.INTERFACE")),p(2),f("ngStyle",Pe(10,B3))}}function $it(i,n){i&1&&N(0,"div",6)}function Kit(i,n){if(i&1){let e=B();_(0,"div",6)(1,"div",11)(2,"span",12)(3,"sts-fwc-object-group",18),D(4,"translate"),A("onVirtualIpChange",function(o){w(e);let r=h(2);return C(r.handleOnChange(o))}),b(),_(5,"label",19),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()}if(i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_VIRTUAL_IPS),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.VIRTUAL_IPS")),p(2),f("ngStyle",Pe(10,B3))}}function qit(i,n){i&1&&N(0,"div",6)}function Jit(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"span",12),N(3,"sts-fwc-object-group",20),D(4,"translate"),_(5,"label",21),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.KEEPALIVED_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_KEEPALIVED_MASTER_NODE),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.MASTER_NODE")),p(2),f("ngStyle",Pe(10,B3))}}function Qit(i,n){if(i&1){let e=B();_(0,"div",6)(1,"label",22),R(2),D(3,"translate"),b(),_(4,"div",23)(5,"textarea",24),A("drop",function(o){w(e);let r=h(2);return C(r.preventDrop(o))}),b()()()}i&2&&(p(2),Q(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function Yit(i,n){if(i&1){let e=B();N(0,"div",6),_(1,"div",10)(2,"div",11)(3,"p-floatlabel",12)(4,"p-select",13),A("onChange",function(o){w(e);let r=h();return C(r.toggleFields(o.value))}),b(),_(5,"label",14),R(6),D(7,"translate"),b()()()(),G(8,zit,1,0,"div",6),G(9,Wit,9,11,"div",6),G(10,$it,1,0,"div",6),G(11,Kit,9,11,"div",6),G(12,qit,1,0,"div",6),G(13,Jit,9,11,"div",6),G(14,Qit,6,3,"div",6)}if(i&2){let e=h();p(4),f("options",e.keepalivedRuleTypes)("autoDisplayFirst",!1),p(2),Q(k(7,10,"KEEPALIVED.NEW_RULE_PANEL.TYPES")),p(2),H(e.keepalivedRuleSelected()?8:-1),p(),H(e.keepalivedRuleSelected()?9:-1),p(),H(e.keepalivedRuleSelected()?10:-1),p(),H(e.keepalivedRuleSelected()?11:-1),p(),H(e.keepalivedRuleSelected()?12:-1),p(),H(e.keepalivedRuleSelected()?13:-1),p(),H(e.keepalivedManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?14:-1)}}function Xit(i,n){if(i&1&&(_(0,"div",6),N(1,"sts-fwc-message",25),b()),i&2){let e=h();p(),f("message",e.opMessage)}}function Zit(i,n){if(i&1){let e=B();_(0,"p-button",26),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleCancel())}),b(),_(2,"p-button",27),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var Wee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L){super(r,o,t,s,a,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.store=a,this.fb=l,this.router=c,this.fwcErrorPipe=d,this.utilService=u,this.fwcPolicyService=m,this.fwcKeepalivedPolicyService=g,this.fwcUserService=y,this.fwcFirewallService=v,this.confirmationService=S,this.translate=I,this.messageService=P,this.http=L,this.ObjectTypes=O,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.keepalivedRuleTypes=[{id:0,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE"),rule_type:1},{id:1,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({keepalivedRuleTypes:new Ee,keepalivedRule:new Ee,keepalivedManualConfigRule:new Ee,keepalivedDefaultConfigRule:new Ee,interface:new Ee,virtualIps:this.fb.array([]),masterNode:new Ee,cfg_text:new Ee}),this.formModel.get("keepalivedRuleTypes").valueChanges.subscribe(t=>{this.toggleFields(t),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateFields.bind(this)])}toggleFields(t){let o=this.formModel.get("interface"),r=this.formModel.get("virtualIps"),s=this.formModel.get("masterNode"),a=this.formModel.get("cfg_text");if(o.reset(),s.reset(),a.reset(),t&&t.rule_type===1)for(o.enable(),s.enable(),a.disable();r.length!==0;)r.removeAt(0);else t&&t.rule_type===2?(a.enable(),o.disable(),s.disable(),r.controls.forEach(l=>{l.disable()})):t&&t.rule_type===2&&t==="keepalivedDefaultConfigRule"&&a.enable()}validateFields(){let t=this.formModel.get("keepalivedRuleTypes").value,o=this.formModel.get("interface"),r=this.formModel.get("virtualIps"),s=this.formModel.get("masterNode"),a=this.formModel.get("cfg_text");if(t&&t.rule_type===1){if(!o.value||!s.value||r.length===0)return{requiredFieldsMissing:!0}}else if(t&&t.rule_type===2)return a.value,null;return null}addVirtualIp(t){let o=this.fb.control(t);o.setValue(t),this.formModel.get("virtualIps").push(o)}handleOnChange(t){this.addVirtualIp(t.id)}keepalivedRuleSelected(){let t=this.formModel.get("keepalivedRuleTypes").value;return t&&t.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_RULE")&&t.rule_type===1}keepalivedManualConfigRuleSelected(){let t=this.formModel.get("keepalivedRuleTypes").value;return t&&t.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_MANUAL")&&t.rule_type===2}isDefaultConfigRuleSelected(){let t=this.formModel.get("keepalivedRuleTypes").value,o=t&&t.name===this.translate.instant("KEEPALIVED.NEW_RULE_PANEL.KEEPALIVED_DEFAULT");return o&&!this.defaultConfigTextSet?(this.setKeepalivedConfigText(),this.defaultConfigTextSet=!0):o||(this.defaultConfigTextSet=!1),o}loadKeepalivedConfigFile(){return V(this,null,function*(){try{return yield this.http.get("assets/config/system/keepalived-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(t){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)}),t}})}setKeepalivedConfigText(){return V(this,null,function*(){try{let t=yield this.loadKeepalivedConfigFile();this.formModel.get("cfg_text").setValue(t)}catch(t){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)})}})}showNewRuleDialog(t,o,r,s){this.clusterId=t,this.firewallId=o,this.baseRuleId=r,this.newRuleOffset=s,this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{this.clusterId=a.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(qi.requestBlockUI());let{comment:t}=this.formModel.value,o=this.newRuleOffset<1?"above":"below",r=this.keepalivedRuleTypes[0].rule_type,s=this.keepalivedRuleTypes[1].rule_type,a=this.keepalivedRuleTypes[2].rule_type,l={firewallId:this.firewallId,to:this.baseRuleId,offset:o,style:void 0,comment:t};if(this.keepalivedRuleSelected()){l.interfaceId=this.formModel.controls.interface.value.id,l.masterNodeId=this.formModel.controls.masterNode.value.id,l.rule_type=r;let c=[];Array.isArray(this.formModel.get("virtualIps").value)&&this.formModel.get("virtualIps").value.forEach((d,u)=>{c.push({id:d,order:u+1})}),l.virtualIpsIds=c}else this.keepalivedManualConfigRuleSelected()?(l.rule_type=s,l.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(l.rule_type=a,l.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.newPolicyKeepalivedRule.bind(this.fwcKeepalivedPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),l).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(qi.requestUnblockUI())})}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(tt),x(ur),x(at),x(Ni),x(Tt),x(qn),x(Wh),x(dt),x(Bt),x(ti),x($e),x(ii),x(ai))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-keepalived-rule-panel"]],standalone:!1,features:[re],decls:10,vars:9,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","keepalivedRuleTypes","appendTo","body","optionLabel","name","dataKey","id",1,"dropDownForm",3,"onChange","options","autoDisplayFirst"],["for","name",1,"fwcFloatLabel"],["formControlName","interface",3,"readOnly","groupType","msgNotAllowed"],["for","interface",1,"fwcFloatLabel"],[1,"fwc-error",3,"ngStyle"],["dropzone","move","formArrayName","virtualIps",3,"onVirtualIpChange","readOnly","groupType","msgNotAllowed"],["for","virtualIps",1,"fwcFloatLabel"],["formControlName","masterNode",3,"readOnly","groupType","msgNotAllowed"],["for","masterNode",1,"fwcFloatLabel"],["for","cfg_text"],[1,"fwcTextArea"],["pTextarea","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(1,Hit,5,3,"ng-template",null,0,ie),_(3,"form",3)(4,"fieldset",4),A("keyup.enter",function(l){return w(s),C(r.handleCheckForm(l))})("keyup.esc",function(){return w(s),C(r.handleCancel())}),_(5,"div",5),G(6,Yit,15,12),G(7,Xit,2,1,"div",6),b()()(),E(8,Zit,4,9,"ng-template",null,1,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),p(3),f("formGroup",r.formModel),p(),f("disabled",r.loadingData),p(2),H(r.dataLoaded?6:-1),p(),H(!r.loadingData&&r.opMessage?7:-1))},encapsulation:2});let i=n;return i})();var $h=(()=>{let n=class n extends $i{constructor(t){super(t),this.httpClient=t,this._isHAProxyPolicy=new _n(!1),this.isHAProxyPolicy$=this._isHAProxyPolicy.asObservable()}setIsHAProxyPolicy(t){this._isHAProxyPolicy.next(t)}getHAProxyPolicy(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getHAProxyPolicyGrid(t,o){let r=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/grid`;return this.httpClient.get(r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newPolicyHAProxyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules`;return this.httpClient.post(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateHAProxyPolicyRule(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}moveObjectBetweenPositions(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/moveFrom`;return this.httpClient.put(s,r).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateHAProxyPolicyRules(t,o,r,s){let a=r.map(d=>`rules[]=${d}`).join("&"),l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/bulkUpdate?${a}`,c={active:s.active,style:s.style,group:s.group};return this.httpClient.put(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteHAProxyPolicyRule(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteHAProxyPolicyRules(t,o,r){let s=r.map(l=>`rules[]=${l}`).join("&"),a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/bulkRemove?${s}`;return this.httpClient.delete(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}manageHAProxyPolicyRules(t,o,r,s,a,l){let c="copy",d=this.httpClient.post,u=s<0?"above":"below";l===Go.CUT&&(c="move",d=this.httpClient.put);let m=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/${c}`,g={to:r,offset:u,rules:a};return d.call(this.httpClient,m,g).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}compileHAProxyPolicyRules(t,o,r){let s;if(r){let a=r.map(l=>`rules[]=${l}`).join("&");s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/compile?${a}`}else s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/compile`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}getHAProxyGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${t}/firewalls/${o}/system/haproxyGroups/${r}`;return this.httpClient.get(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}checkGroupRestrictions(t){let{fwcloud:o,firewall:r,id:s}=t,a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${r}/system/haproxyGroups/${s}/restricted`;return this.httpClient.get(a).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}newHAProxyPolicyRuleGroup(t,o,r,s,a){let l=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyGroups`,c={name:r,comment:s,rules:a};return this.httpClient.post(l,c).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}updateHAProxyPolicyRuleGroup(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyGroups/${r}`;return this.httpClient.put(a,s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}deleteHAProxyPolicyRulesGroup(t,o,r){let s=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyGroups/${r}`;return this.httpClient.delete(s).pipe(J(this.handleAPIResponseNew),X(this.handleAPIErrorNew))}installConfig(t,o,r,s){let a=`${Ie.settings.fwcAppURL}/fwclouds/${o}/firewalls/${t}/system/haproxyRules/install?channel_id=${r}`;return this.httpClient.put(a,JSON.stringify(s)).pipe(J(this.handleAPIResponse),X(this.handleAPIError))}};n.\u0275fac=function(o){return new(o||n)(be(ai))},n.\u0275prov=ne({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var ent=["txtConfigFile"],tnt=()=>({width:"80vw"}),$ee=i=>({name:i}),int=i=>({visibility:i}),nnt=()=>({width:"1.7rem",height:"1.7rem"});function ont(i,n){if(i&1&&(_(0,"h6",13),N(1,"i",14),R(2),D(3,"translate"),b()),i&2){let e=h(2);p(2),Y(" ",vi(3,1,e.configManageTranslateKey+".FORM_HEADER",de(4,$ee,e.objectToManage.firewall_name))," ")}}function rnt(i,n){if(i&1&&(_(0,"h6",13),N(1,"i",14),R(2),D(3,"translate"),b()),i&2){let e=h(2);p(2),Y(" ",vi(3,1,e.configManageTranslateKey+".FORM_HEADER",de(4,$ee,e.objectToManage.cluster_name))," ")}}function snt(i,n){if(i&1&&(we(0),_(1,"div",12),G(2,ont,4,6,"h6",13),G(3,rnt,4,6,"h6",13),b(),Ce()),i&2){let e=h();p(2),H(e.objectToManage.cluster_id?-1:2),p(),H(e.objectToManage.cluster_id?3:-1)}}function ant(i,n){if(i&1&&(_(0,"span"),N(1,"i",15),R(2,"\xA0"),_(3,"strong"),R(4),b()()),i&2){let e=h(2).$implicit;p(4),Q(e.firewallName)}}function lnt(i,n){if(i&1&&(_(0,"span"),N(1,"span",16)(2,"i",17),R(3),b()),i&2){let e=h(2).$implicit;p(3),Y("\xA0",e.firewallName)}}function cnt(i,n){if(i&1&&(_(0,"td"),G(1,ant,5,1,"span"),G(2,lnt,4,1,"span"),b()),i&2){let e=h().$implicit;p(),H(e.isNode?-1:1),p(),H(e.isNode?2:-1)}}function dnt(i,n){if(i&1&&(_(0,"td"),N(1,"i",17),R(2),b()),i&2){let e=h().$implicit;p(2),Y("\xA0",e.firewallName," ")}}function pnt(i,n){if(i&1&&(_(0,"tr",9),G(1,cnt,3,2,"td"),G(2,dnt,3,1,"td"),_(3,"td",8),N(4,"i"),b()()),i&2){let e=n.$implicit,t=h();f("ngClass",e.coloredBg?"bgColored":"bgNormal"),p(),H(e.clusterId!==null&&e.clusterId!==void 0?1:-1),p(),H(e.clusterId===null||e.clusterId===void 0?2:-1),p(2),j(t.FirewallOpsIcons[e.installState])}}function unt(i,n){if(i&1){let e=B();_(0,"p-button",21),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.doStopProcess())}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.STOP")))}function hnt(i,n){if(i&1){let e=B();_(0,"p-button",24),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.doPauseProcess(!0))}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"COMPILE.PAUSE")))("disabled",e.disableButtons)}}function fnt(i,n){if(i&1){let e=B();_(0,"p-button",25),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.doContinueProcess())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"COMPILE.CONTINUE")))("disabled",e.disableButtons)}}function mnt(i,n){if(i&1&&(G(0,hnt,2,5,"p-button",22),G(1,fnt,2,5,"p-button",23)),i&2){let e=h(2);H(!e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?0:-1),p(),H(e.pauseProcess&&e.operationInProcessId<e.operationQueue.length?1:-1)}}function gnt(i,n){if(i&1){let e=B();_(0,"p-button",26),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onCancel())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function _nt(i,n){if(i&1&&(_(0,"div",18),N(1,"p-progressSpinner"),b(),G(2,unt,2,4,"p-button",19),G(3,mnt,2,2),G(4,gnt,2,5,"p-button",20)),i&2){let e=h();f("ngStyle",de(6,int,e.savingData?"visible":"hidden")),p(),De(Pe(8,nnt)),p(),H(e.loadingData?2:-1),p(),H(e.objectToManage&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==null&&(e.operationQueue[e.operationInProcessId]==null?null:e.operationQueue[e.operationInProcessId].clusterId)!==void 0?3:-1),p(),H(e.object?-1:4)}}var bnt=6e4,I0=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,l,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.translate=a,this.store=l,this.router=c,this.fwcFirewallService=d,this.utilService=u,this.fwcDhcpPolicyService=m,this.fwcKeepalivedPolicyService=g,this.fwcHAProxyPolicyService=y,this.fwcUserService=v,this.confirmationService=S,this.messageService=I,this.fwcEventService=P,this.fwcErrorPipe=L,this.inputDataService=F,this.restrictionsReadOnly=!1,this.ObjectTypes=O,this.FirewallOpsIcons=Id,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.NodeTypes=M,this.alive=!0}ngOnInit(){return V(this,null,function*(){this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectDialogUuidsToReload)).subscribe(o=>{o&&o.find(r=>r===this.dialogUUID)&&this.reloadPanel()});let t=this.objectToManage;if(t.parent_type===O.OBJ_CLUSTER){let o;if(o=yield this.getClusterMasterFirewall(t.parent_id),o)t.firewall=o.id,t.firewall_name=o.name;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:t.name})});return}}else t.firewall=t.parent_id})}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},bnt)}refreshTimeoutHandler(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.startTimeoutHandler()}reloadPanel(){if(this.displayDialog||this.dialogMinified){let t=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.dialogId===t&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0)),this.store.dispatch(an.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToManage=null,this.remoteOptions=[],this.errorMsg=null}onItemManage(t,o){return V(this,null,function*(){if(!t)return;let r,s,a,l=[],c=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=t,t._fwcObjType===Fi[M.DHCP]?(this.configManageTranslateKey="DHCP.CONFIG",this.configManageAPICall=this.fwcDhcpPolicyService.installConfig.bind(this.fwcDhcpPolicyService)):t._fwcObjType===Fi[M.KEEPALIVED]?(this.configManageTranslateKey="KEEPALIVED.CONFIG",this.configManageAPICall=this.fwcKeepalivedPolicyService.installConfig.bind(this.fwcKeepalivedPolicyService)):t._fwcObjType===Fi[M.HAPROXY]&&(this.configManageTranslateKey="HAPROXY.CONFIG",this.configManageAPICall=this.fwcHAProxyPolicyService.installConfig.bind(this.fwcHAProxyPolicyService)),this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),o&&this.recenterDialog(),this.channel_id=lr(),this.utilService.ioListenOnLogEvent(this.channel_id),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(d=>{let u=new Qr(d),m;u.payload.type===Ue.MSG_ERROR&&(m=this.utilService.isCommunicationErrorStr(u.payload.message),this.pauseProcess=!0,this.loadingData=!1,this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.operationWithErrors=!0),m?this.continueButtonText=this.translate.instant("COMPILE.RETRY"):(this.log.addNewMessage(u),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),t.parent_type===O.OBJ_CLUSTER?(a=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),s=t.parent_id,r=!0):t.parent_type===O.OBJ_FIREWALL&&(a=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),s=t.firewall_id,r=!1),a&&a(s,c).subscribe(d=>V(this,null,function*(){d.data&&d.data instanceof Array?l=d.data:d.data?(l=[],l.push(d.data)):l=[],this.operationQueue=[];let u;r&&(u={clusterId:s,firewallId:s,firewallName:t._fwcClusterName,installState:ni.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},u)));for(let m=0;m<l.length;m++){let g=l[m];u={clusterId:g.cluster,clusterName:t._fwcClusterName,isNode:!!g.cluster,firewallId:l[m].id,firewallName:l[m].name,installState:ni.FW_PENDING,opInstalled:!1,installCommunication:l[m].install_communication,installProtocol:l[m].install_protocol,installApikey:l[m].install_apikey},this.operationQueue.push(Object.assign({},u))}this.operationInProcessId=0,this.processOperation(!0)}),d=>{d.error&&d.error.fwcErr!==1002&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d)}),this.eventsSubscription.unsubscribe(),this.loadingData=!1})})}doTimeoutOp(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),Ue.MSG_WARNING)),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}doPauseProcess(t){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&this.log.stopDataLoad(),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),t&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),Ue.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.operationQueue&&this.operationQueue[this.operationInProcessId].clusterId!==null&&this.operationQueue[this.operationInProcessId].clusterId!==void 0&&this.processOperation()}processOperation(t){let o;if(!this.pauseProcess&&this.operationQueue&&this.operationInProcessId<this.operationQueue.length){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?o=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):o=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState===ni.FW_PENDING){r.installState=ni.FW_PROCESSING,t||this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:o}),Ue.MSG_INFO);let s={firewall_id:r.firewallId,interface_name:r.installInterfaceName,ip_name:void 0};this.disableButtons=!0,this.loadingData=!0,this.refreshTimeoutHandler(),this.manageConfig(s).catch(a=>{o=this.translate.instant("COMPILE.INST_FW_ERROR_TEXT",{name:r.firewallName,error:a})})}else this.operationInProcessId++,this.processOperation(t)}}manageConfig(t){return V(this,null,function*(){let o,r;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(r=this.operationQueue[this.operationInProcessId]),!(!r||!this.configManageAPICall))if(r.clusterId!==null&&r.clusterId!==void 0?o=`cluster ${r.clusterId} - firewall ${r.firewallId} (${r.firewallName})`:o=`firewall ${r.firewallId} (${r.firewallName})`,this.disableButtons=!1,t){this.startTimeoutHandler(),this.log.startDataLoad(),this.disableButtons=!0,this.loadingData=!0;let s=yield this.fwcFirewallService.getFirewall(t.firewall_id,this.fwcUserService.getActualFwSelectedCloud()).toPromise();try{if(s.data.ip===null||s.data.ip===void 0||s.data.install_interface===null||s.data.install_interface===void 0){r.installState=ni.FW_ERROR,this.operationWithErrors=!0,this.pauseProcess=!0,this.disableButtons=!1,this.loadingData=!1,this.log&&this.log.stopDataLoad(),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:s.data.name}),reject:()=>{this.doPauseProcess(),this.confirmationService.close()},accept:()=>{let a=this.translate.instant("COMPILE.INST_FW_ERROR_IP");this.addMessageToLog(this.translate.instant("COMPILE.INST_CONFIG_ERROR",{name:s.data.name,error:a}),Ue.MSG_ERROR),this.pauseProcess=!1,this.operationInProcessId++,this.processOperation(),this.confirmationService.close()}})},1);return}}catch(a){if(a.message==="Missing ip/interface")return}this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,t.firewall_id,this.fwcUserService.getActualFwSelectedCloud(),this.channel_id).subscribe({next:()=>{this.disableButtons=!1,r.installState=ni.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),Ue.MSG_ERROR):(this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),Ue.MSG_OK),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)),this.operationInProcessId++,this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&this.processOperation(),this.loadingData=!1},error:a=>{if(this.disableButtons=!1,this.loadingData=!1,this.log.stopDataLoad(),a.status===403){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null);return}this.installConfigError=a.error.msg?a.error.msg:a.error.message,this.installConfigError=JSON.parse(this.installConfigError)?JSON.parse(this.installConfigError).message:this.installConfigError,a.error&&this.installConfigError==="EPROTO: Protocol error"&&a.status===400?this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.PROTOCOL_ERROR"),Ue.MSG_ERROR):a.error&&this.installConfigError==="Method not implemented."&&a.status===500?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.METHOD_NOT_IMPLEMENTED"),Ue.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ETIMEDOUT: IP is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.IP_NOT_VALID"),Ue.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="ECONNREFUSED: Port is not valid"&&a.status===400?(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INVALID_PORT"),Ue.MSG_ERROR),this.doContinueProcess()):a.error&&this.installConfigError==="Request failed with status code 404"&&a.status===500&&(this.addMessageToLog(this.translate.instant("DHCP.CONFIG.ERRORS.INTERNAL_SERVER"),Ue.MSG_ERROR),this.doContinueProcess()),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():(this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.doContinueProcess())}})}else r.installState=ni.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:o}),Ue.MSG_ERROR),this.operationInProcessId++,this.processOperation()})}onShowDialog(){this.recenterDialog(),this.showDialog()}onCancel(t){!t&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("DHCP.CONFIG.EXIT_PANEL"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.pauseProcess=!1,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}doStopProcess(){this.pauseProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("DHCP.CONFIG.STOP"),Ue.MSG_WARNING)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}getClusterMasterFirewall(t){return new Promise((o,r)=>{this.fwcFirewallService.getClusterMasterNode(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(s=>{let a;a=s.data,o(a)},s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),r()})})}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x($e),x(tt),x(at),x(Bt),x(Tt),x(Vh),x(Wh),x($h),x(dt),x(ti),x(ii),x(dn),x(Ni),x(Oo))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-system-install-panel"]],viewQuery:function(o,r){if(o&1&&(_e(ent,5),_e(wo,5)),o&2){let s;W(s=$())&&(r.txtConfigFile=s.first),W(s=$())&&(r.log=s.first)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},standalone:!1,features:[re],decls:24,vars:14,consts:[["dlgOVConfigPanel",""],["header",""],["footer",""],["styleClass","dlgFwcDialog fwcObjectDialog dlgFwcDialog--log-resize",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],[1,"grid","grid","grid-nogutter","fwc-log-grid",2,"min-height","480px"],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[3,"autoResize"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[1,"divLoadTemp",3,"ngStyle"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"label"],["icon","pi pi-times",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"onClick","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"disabled","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"onClick","disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"onClick","disabled","label"],["icon","pi pi-times",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(r.onShowDialog())})("onHide",function(){return w(s),C(r.hideDialog())}),E(2,snt,4,2,"ng-template",null,1,ie),we(4),_(5,"div",4)(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead")(10,"tr")(11,"th"),R(12),D(13,"translate"),b(),_(14,"th",8),R(15),D(16,"translate"),b()()(),_(17,"tbody"),fn(18,pnt,5,5,"tr",9,ro),b()()()(),_(20,"div",10),N(21,"sts-fwc-log",11),b()(),Ce(),E(22,_nt,5,9,"ng-template",null,2,ie),b()}o&2&&(De(Pe(13,tnt)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(12),Q(k(13,9,"COMPILE.FORM.NAME")),p(3),Y(" ",k(16,11,r.configManageTranslateKey+".OPERATION")," "),p(3),mn(r.operationQueue),p(3),f("autoResize",!0))},encapsulation:2});let i=n;return i})();var jO=()=>({visibility:"hidden"});function ynt(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"PANELS.HAPROXY_RULE_PANEL.TITLE")," "))}function vnt(i,n){if(i&1){let e=B();_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12)(3,"sts-fwc-object-group",15),D(4,"translate"),A("onHAProxyIpChange",function(o){w(e);let r=h(2);return C(r.handleOnFrontendIpChange(o))}),b(),_(5,"label",16),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()}if(i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_IP),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.FRONTEND_IP")),p(2),f("ngStyle",Pe(10,jO))}}function wnt(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",18),D(4,"translate"),_(5,"label",19),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_FRONTEND_PORT),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.FRONTEND_PORT")),p(2),f("ngStyle",Pe(10,jO))}}function Cnt(i,n){if(i&1){let e=B();_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12)(3,"sts-fwc-object-group",20),D(4,"translate"),A("onHAProxyIpChange",function(o){w(e);let r=h(2);return C(r.handleOnBackendIpChange(o))}),b(),_(5,"label",21),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()}if(i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_IPS),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.BACKEND_IPS")),p(2),f("ngStyle",Pe(10,jO))}}function Snt(i,n){if(i&1&&(_(0,"div",6)(1,"div",11)(2,"p-floatlabel",12),N(3,"sts-fwc-object-group",22),D(4,"translate"),_(5,"label",23),R(6),D(7,"translate"),b()()(),N(8,"p",17),b()),i&2){let e=h(2);p(3),f("msgNotAllowed",ae(k(4,6,"PANELS.HAPROXY_RULE_PANEL.ERRORS.INVALID_FROM")))("readOnly",!1)("groupType",e.ObjectTypes.OBJ_HAPROXY_RULE_BACKEND_PORT),p(3),Q(k(7,8,"ITEM_PANEL.FIELDS.BACKEND_PORT")),p(2),f("ngStyle",Pe(10,jO))}}function Int(i,n){if(i&1){let e=B();_(0,"div",6)(1,"label",24),R(2),D(3,"translate"),b(),_(4,"div",25)(5,"textarea",26),A("drop",function(o){w(e);let r=h(2);return C(r.preventDrop(o))}),b()()()}i&2&&(p(2),Q(k(3,1,"ITEM_PANEL.FIELDS.CFG_TEXT")))}function Ent(i,n){if(i&1){let e=B();N(0,"div",6),_(1,"div",10)(2,"div",11)(3,"p-floatlabel",12)(4,"p-select",13),A("onChange",function(o){w(e);let r=h();return C(r.toggleFields(o.value))}),b(),_(5,"label",14),R(6),D(7,"translate"),b()()()(),G(8,vnt,9,11,"div",6),G(9,wnt,9,11,"div",6),G(10,Cnt,9,11,"div",6),G(11,Snt,9,11,"div",6),G(12,Int,6,3,"div",6)}if(i&2){let e=h();p(4),f("options",e.HAProxyRuleTypes)("autoDisplayFirst",!1),p(2),Q(k(7,8,"HAPROXY.NEW_RULE_PANEL.TYPES")),p(2),H(e.HAProxyRuleSelected()?8:-1),p(),H(e.HAProxyRuleSelected()?9:-1),p(),H(e.HAProxyRuleSelected()?10:-1),p(),H(e.HAProxyRuleSelected()?11:-1),p(),H(e.HAProxyManualConfigRuleSelected()||e.isDefaultConfigRuleSelected()?12:-1)}}function xnt(i,n){if(i&1&&(_(0,"div",6),N(1,"sts-fwc-message",27),b()),i&2){let e=h();p(),f("message",e.opMessage)}}function Tnt(i,n){if(i&1){let e=B();_(0,"p-button",28),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleCancel())}),b(),_(2,"p-button",29),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.handleSave())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.CANCEL"))),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData)}}var Kee=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L){super(r,o,t,s,a,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.store=a,this.fb=l,this.router=c,this.fwcErrorPipe=d,this.utilService=u,this.fwcPolicyService=m,this.fwcHAProxyPolicyService=g,this.fwcUserService=y,this.fwcFirewallService=v,this.confirmationService=S,this.translate=I,this.messageService=P,this.http=L,this.ObjectTypes=O,this.defaultConfigTextSet=!1,this.loadingData=!1,this.dataLoaded=!1,this.HAProxyRuleTypes=[{id:0,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE"),rule_type:1},{id:1,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL"),rule_type:2},{id:2,name:this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT"),rule_type:2}]}ngOnInit(){this.formModel=this.fb.group({HAProxyRuleTypes:new Ee,HAProxyRule:new Ee,HAProxyManualConfigRule:new Ee,HAProxyDefaultConfigRule:new Ee,frontendIp:new Ee,frontendPort:new Ee,backendIps:this.fb.array([]),backendPort:new Ee,cfg_text:new Ee}),this.formModel.get("HAProxyRuleTypes").valueChanges.subscribe(t=>{this.toggleFields(t),this.formModel.updateValueAndValidity()}),this.formModel.setValidators([this.validateHAProxyRuleFields.bind(this)])}toggleFields(t){let o=this.formModel.get("frontendIp"),r=this.formModel.get("frontendPort"),s=this.formModel.get("backendIps"),a=this.formModel.get("backendPort"),l=this.formModel.get("cfg_text");if(o.reset(),r.reset(),a.reset(),l.reset(),t&&t.rule_type===1)for(o.enable(),r.enable(),a.enable(),l.disable();s.length!==0;)s.removeAt(0);else t&&t.rule_type===2?(l.enable(),o.disable(),r.disable(),a.disable(),s.controls.forEach(c=>{c.disable()})):t&&t.rule_type===2&&t==="HAProxyDefaultConfigRule"&&l.enable()}validateHAProxyRuleFields(){let t=this.formModel.get("HAProxyRuleTypes").value,o=this.formModel.get("frontendIp"),r=this.formModel.get("frontendPort"),s=this.formModel.get("backendIps"),a=this.formModel.get("backendPort"),l=this.formModel.get("cfg_text");return t&&t.rule_type===1?!o.value||!r.value||s.length===0||!a.value?{requiredFieldsMissing:!0}:null:(t&&t.rule_type===2&&l.value,null)}addFrontendIp(t){this.formModel.get("frontendIp").setValue(t)}addBackendIp(t){let o=this.fb.control(t);o.setValue(t),this.formModel.get("backendIps").push(o)}handleOnBackendIpChange(t){this.addBackendIp(t.id)}handleOnFrontendIpChange(t){this.addFrontendIp(t.id)}HAProxyRuleSelected(){let t=this.formModel.get("HAProxyRuleTypes").value;return t&&t.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_RULE")&&t.rule_type===1}HAProxyManualConfigRuleSelected(){let t=this.formModel.get("HAProxyRuleTypes").value;return t&&t.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_MANUAL")&&t.rule_type===2}isDefaultConfigRuleSelected(){let t=this.formModel.get("HAProxyRuleTypes").value,o=t&&t.name===this.translate.instant("HAPROXY.NEW_RULE_PANEL.HAPROXY_DEFAULT");return o&&!this.defaultConfigTextSet?(this.setHAProxyConfigText(),this.defaultConfigTextSet=!0):o||(this.defaultConfigTextSet=!1),o}loadHAProxyConfigFile(){return V(this,null,function*(){try{return yield this.http.get("assets/config/system/HAProxy-DEFAULT.conf",{responseType:"text"}).toPromise()}catch(t){throw this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)}),t}})}setHAProxyConfigText(){return V(this,null,function*(){try{let t=yield this.loadHAProxyConfigFile();this.formModel.get("cfg_text").setValue(t)}catch(t){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(t)})}})}showNewRuleDialog(t,o,r,s){this.clusterId=t,this.firewallId=o,this.baseRuleId=r,this.newRuleOffset=s,t?this.fwcFirewallService.getCluster.bind(this.fwcFirewallService)(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{this.clusterId=a.data.id,this.displayDialog=!0}):this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService)(o,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{this.firewallId=a.data.id,this.displayDialog=!0}),this.dataLoaded=!0}handleSave(){if(this.formModel.valid){this.store.dispatch(qi.requestBlockUI());let{comment:t}=this.formModel.value,o=this.newRuleOffset<1?"above":"below",r=this.HAProxyRuleTypes[0].rule_type,s=this.HAProxyRuleTypes[1].rule_type,a=this.HAProxyRuleTypes[2].rule_type,l={firewallId:this.firewallId,to:this.baseRuleId,offset:o,style:void 0,comment:t};if(this.HAProxyRuleSelected()){l.frontendIpId=this.formModel.controls.frontendIp.value,l.frontendPortId=this.formModel.controls.frontendPort.value.id,l.backendPortId=this.formModel.controls.backendPort.value.id,l.rule_type=r;let c=[];Array.isArray(this.formModel.get("backendIps").value)&&this.formModel.get("backendIps").value.forEach((d,u)=>{c.push({id:d,order:u+1})}),l.backendIpsIds=c}else this.HAProxyManualConfigRuleSelected()?(l.rule_type=s,l.cfg_text=this.formModel.controls.cfg_text.value):this.isDefaultConfigRuleSelected()&&(l.rule_type=a,l.cfg_text=this.formModel.controls.cfg_text.value);this.loadingData=!0,this.store.dispatch(qi.requestBlockUI()),this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.newPolicyHAProxyRule.bind(this.fwcHAProxyPolicyService),this.firewallId,this.fwcUserService.getActualFwSelectedCloud(),l).then(()=>{this.hideDialog(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.INFO.SAVE_RULE")}),this.fwcPolicyService.reloadPolicy(),this.store.dispatch(_r.updateFwStatus({item:{cluster:this.clusterId,id:this.firewallId,status:3}}))}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(c)})}).finally(()=>{this.loadingData=!1,this.store.dispatch(qi.requestUnblockUI())})}}handleCheckForm(t){t&&t.target&&this.formModel.valid&&(t.target.blur(),this.handleSave())}handleCancel(){this.hideDialog(),this.fwcPolicyService.reloadPolicy()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(tt),x(ur),x(at),x(Ni),x(Tt),x(qn),x($h),x(dt),x(Bt),x(ti),x($e),x(ii),x(ai))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-haproxy-rule-panel"]],standalone:!1,features:[re],decls:10,vars:9,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--system fwcObjectDialog--dhcp",3,"visibleChange","onShow","onHide","visible","modal","closable","draggable","resizable"],[3,"formGroup"],[3,"keyup.enter","keyup.esc","disabled"],[1,"grid"],[1,"col-12"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fa","fa-gear","fwcOrange"],[1,"col-12",2,"margin-bottom","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["formControlName","HAProxyRuleTypes","appendTo","body","optionLabel","name","dataKey","id",1,"dropDownForm",3,"onChange","options","autoDisplayFirst"],["for","name",1,"fwcFloatLabel"],["formControlName","frontendIp",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],["for","frontendIp",1,"fwcFloatLabel"],[1,"fwc-error",3,"ngStyle"],["formControlName","frontendPort",3,"readOnly","groupType","msgNotAllowed"],["for","frontendPort",1,"fwcFloatLabel"],["formArrayName","backendIps",3,"onHAProxyIpChange","readOnly","groupType","msgNotAllowed"],["for","backendIps",1,"fwcFloatLabel"],["formControlName","backendPort",3,"readOnly","groupType","msgNotAllowed"],["for","backendPort",1,"fwcFloatLabel"],["for","cfg_text"],[1,"fwcTextArea"],["pInputText","","formControlName","cfg_text","name","cfg_text",2,"height","120px",3,"drop"],[3,"message"],["type","button","styleClass","p-button-secondary","icon","pi pi-times",3,"onClick","label"],["type","button","icon","pi pi-check",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(){return w(s),C(!0)})("onHide",function(){return w(s),C(!0)}),E(1,ynt,5,3,"ng-template",null,0,ie),_(3,"form",3)(4,"fieldset",4),A("keyup.enter",function(l){return w(s),C(r.handleCheckForm(l))})("keyup.esc",function(){return w(s),C(r.handleCancel())}),_(5,"div",5),G(6,Ent,13,10),G(7,xnt,2,1,"div",6),b()()(),E(8,Tnt,4,9,"ng-template",null,1,ie),b()}o&2&&(Ae("visible",r.displayDialog),f("modal",!1)("closable",!1)("draggable",!0)("resizable",!0),p(3),f("formGroup",r.formModel),p(),f("disabled",r.loadingData),p(2),H(r.dataLoaded?6:-1),p(),H(!r.loadingData&&r.opMessage?7:-1))},encapsulation:2});let i=n;return i})();var V3=class{constructor(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}clearData(){this.data={action:"move",clone:null,dropPos:-1,handle:null,source:null,sourceCtrl:null,sourceData:null,sourceIndex:-1,target:null,targetCtrl:null,type:""}}getData(){return this.data}setData(n){n&&(n.action&&(this.data.action=n.action),isNaN(n.dropPos)||(this.data.dropPos=n.dropPos),isNaN(n.sourceIndex)||(this.data.sourceIndex=n.sourceIndex),this.data.clone=n.clone!==void 0?n.clone:null,this.data.source=n.source!==void 0?n.source:null,this.data.handle=n.handle!==void 0?n.handle:null,this.data.sourceCtrl=n.sourceCtrl!==void 0?n.sourceCtrl:null,this.data.sourceData=n.sourceData!==void 0?n.sourceData:null,this.data.target=n.target!==void 0?n.target:null,this.data.targetCtrl=n.targetCtrl!==void 0?n.targetCtrl:null,this.data.type=n.type!==void 0?n.type:"")}checkHit(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}getDropPos(n,e,t,o){return o==="horizontal"?this.getDropPosHorizontal(n,e,t):this.getDropPosVertical(n,e,t)}getDropPosHalf(n,e,t){let o={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height};switch(t){case"full":if(this.checkHit(n.x,n.y,o))return 0;break;case"horizontal":if(o.right=e.x+e.width/2,this.checkHit(n.x,n.y,o))return 1;if(o.left=o.right,o.right=e.x+e.width,this.checkHit(n.x,n.y,o))return 2;break;default:if(o.bottom=e.y+e.height/2,this.checkHit(n.x,n.y,o))return 1;if(o.top=o.bottom,o.bottom=e.y+e.height,this.checkHit(n.x,n.y,o))return 2}return-1}getDropPosHorizontal(n,e,t){if(t)return this.getDropPosHalf(n,e,"horizontal");{let o={left:e.x+e.width/4,top:e.y,right:e.x+3*e.width/4,bottom:e.y+e.height};if(this.checkHit(n.x,n.y,o))return 0;if(o.right=o.left,o.left=e.x,this.checkHit(n.x,n.y,o))return 1;if(o.left=e.x+3*e.width/4,o.right=e.x+e.width,this.checkHit(n.x,n.y,o))return 2}return-1}getDropPosVertical(n,e,t){if(t)return this.getDropPosHalf(n,e,"vertical");{let o={left:e.x,top:e.y+e.height/4,right:e.x+e.width,bottom:e.y+3*e.height/4};if(this.checkHit(n.x,n.y,o))return 0;if(o.bottom=o.top,o.top=e.y,this.checkHit(n.x,n.y,o))return 1;if(o.top=e.y+3*e.height/4,o.bottom=e.y+e.height,this.checkHit(n.x,n.y,o))return 2}return-1}},Ont=(function(){var i;return{getInstance:function(){return i==null&&((i=new V3).constructor=null),i}}})(),qee=Ont;var U3=class{isString(n){return n?typeof n=="string"||n instanceof String:!1}_isFilterCondition(n){return n==="a"||n==="b"||n==="c"||n==="d"||n==="e"||n==="f"||n==="g"||n==="h"||n==="i"||n==="j"||n==="k"||n==="l"||n==="m"||n==="n"||n==="o"||n==="p"||n==="q"||n==="r"||n==="s"||n==="t"||n==="u"||n==="v"||n==="w"||n==="x"||n==="y"||n==="z"}beginsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(0,e.length)===e:n.toLowerCase().substring(0,e.length)===e.toLowerCase():!1}endsWith(n,e,t){return n!==void 0&&e!==void 0&&this.isString(n)&&this.isString(e)&&n.length>=e.length?t!==!1?n.substring(n.length-e.length,n.length)===e:n.toLowerCase().substring(n.length-e.length,n.length)===e.toLowerCase():!1}_getFilterCondition(n,e){let t="abcdefghijklmnopqrstuvwxyz".indexOf(e);return n&&t>=0&&t<n.length?n[t]:null}_createFilterNode(){return{result:!1}}_setFilterNode(n,e,t,o){let r=this._createFilterNode();r.condition=this._getFilterCondition(e,t),r.negative=o,n.left?n.right||(n.right=r):n.left=r}_getMatchResult(n,e,t,o,r){let s=!1;if(n!==void 0&&t!==void 0){switch(e){case">":s=n>t;break;case">=":s=n>=t;break;case"<":s=n<t;break;case"<=":s=n<=t;break;case"=":this.isString(n)&&this.isString(t)?s=r!==!1?n===t:n.toLowerCase()===t.toLowerCase():s=n===t;break;case"!=":case"<>":this.isString(n)&&this.isString(t)?s=r!==!1?n!==t:n.toLowerCase()!==t.toLowerCase():s=n!==t;break;case"->":s=this.beginsWith(n,t,r);break;case"<-":s=this.endsWith(n,t,r);break;case"><":case"[]":s=this.isString(n)&&this.isString(t)?r!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1;break;case"][":s=!(s=this.isString(n)&&this.isString(t)?r!==!1?n.indexOf(t)>-1:n.toLowerCase().indexOf(t.toLowerCase())>-1:!1);break;default:s=!1}o===!0&&(s=!s)}return s}_getFilterResult(n,e,t,o){if(e){if(Array.isArray(e.value)){let r=[];for(let a=0;a<e.value.length;a++)r.push(this._getMatchResult(n,e.operation,e.value[a],t,o));let s=!0;if(e.join==="&")for(let a=0;a<r.length;a++)s=s&&r[a];else{s=!1;for(let a=0;a<r.length;a++)s=s||r[a]}return s}return this._getMatchResult(n,e.operation,e.value,t,o)}return!0}_applyFilter(n,e,t){if(e){let o=e,r=o;return r.left&&(r.left.condition?r.left.result=this._getFilterResult(n,r.left.condition,r.left.negative,t):(r=r.left,this._applyFilter(n,r,t))),(r=o).right&&(r.right.condition?r.right.result=this._getFilterResult(n,r.right.condition,r.right.negative,t):(r=r.right,this._applyFilter(n,r,t))),o.operator==="&"?(o.result=!0,o.left&&(o.result=o.result&&o.left.result),o.right&&(o.result=o.result&&o.right.result)):(o.result=!1,o.left&&(o.result=o.result||o.left.result),o.right&&(o.result=o.result||o.right.result)),o.result}return!0}createTree(n,e){if(e){let t=this._createFilterNode(),o=t,r=null,s=!1;for(let a=0;a<e.length;a++)this._isFilterCondition(e[a])?this._setFilterNode(o,n,e[a],s):e[a]==="&"||e[a]==="|"?(s=!1,o.operator=e[a]):e[a]==="!"?s=!0:e[a]==="("?(s=!1,(r=this._createFilterNode()).parent=o,o=r):e[a]===")"&&(s=!1,o.parent&&(o.parent.left?o.parent.right||(o.parent.right=o):o.parent.left=o),o=o.parent);return t}return null}match(n,e,t,o,r){if(Array.isArray(e))return r||(r=this.createTree(e,o)),this._applyFilter(n,r,t);let s=e?e.negative:!1;return this._getFilterResult(n,e,s,t)}filter(n,e,t,o,r,s){let a=[];if(n&&Array.isArray(n))for(let l=0;l<n.length;l++){let c=e?n[l][e]:n[l];this.match(c,t,s,o,r)&&a.push(n[l])}return a}},Jee=U3;var j3=ze`
    .iui-dragwin
    {
        opacity: 0;
        background: -webkit-linear-gradient(white, #F1EFEC);
        background:    -moz-linear-gradient(white, #F1EFEC);
        background:     -ms-linear-gradient(white, #F1EFEC);
        background:      -o-linear-gradient(white, #F1EFEC);
        background :         linear-gradient(white, #F1EFEC);

        background-color: #F1EFEC;
        border: thin solid black;
        border-radius: 3px;
        font-size: var(--iui-dragwin-font-size, 1em);
        margin:0;
        padding: 2px;
        position: absolute;
        box-shadow: 0 0 3px #888888;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        max-width: 200px;
        z-index: 9999999;
    }
    .iui-dragwin-title
    {
        border-left: thin solid #c5c5c5;
        padding: 3px 3px 3px 5px;
        margin: 0 2px 0 0;
        vertical-align: middle;
    }
    .iui-dragwin-icon
    {
        display: inline-block;
        padding: 0;
        margin: 2px 0 3px 2px;
        width: 16px;
        height: 16px;
        vertical-align: middle;
    }
    .iui-dragwin-num
    {
        border-left: thin solid #c5c5c5;
        color: black;
        padding: 3px 3px 3px 5px;
        margin: 0;
        vertical-align: middle;
    }
    .iui-dragwin-move-left
    {
        background-image: url(../../icons/move-left.ico);
    }
    .iui-dragwin-move-up
    {
        background-image: url(../../icons/move-up.ico);
    }
    .iui-dragwin-move-in
    {
        background-image: url(../../icons/move-in.ico);
    }
    .iui-dragwin-move-right
    {
        background-image: url(../../icons/move-right.ico);
    }
    .iui-dragwin-move-down
    {
        background-image: url(../../icons/move-down.ico);
    }
    .iui-dragwin-move-end
    {
        background-image: url(../../icons/move-end.ico);
    }
    .iui-dragwin-move-left-copy
    {
        background-image: url(../../icons/move-left-copy.ico);
    }
    .iui-dragwin-move-up-copy
    {
        background-image: url(../../icons/move-up-copy.ico);
    }
    .iui-dragwin-move-in-copy
    {
        background-image: url(../../icons/move-in-copy.ico);
    }
    .iui-dragwin-move-right-copy
    {
        background-image: url(../../icons/move-right-copy.ico);
    }
    .iui-dragwin-move-down-copy
    {
        background-image: url(../../icons/move-down-copy.ico);
    }
    .iui-dragwin-move-end-copy
    {
        background-image: url(../../icons/move-end-copy.ico);
    }
    .hidden-drag-ghost {
        position: absolute;
        top: 0;
        left: 0;
        visibility: hidden;
    }
`;var Qee=ze`
`;var Yee=ze`
    .iui-dragwin {
        opacity: 0;
        background: -webkit-linear-gradient(#363636, #303030);
        background:    -moz-linear-gradient(#363636, #303030);
        background:     -ms-linear-gradient(#363636, #303030);
        background:      -o-linear-gradient(#363636, #303030);
        background :         linear-gradient(#363636, #303030);

        background-color: #303030;
        border: thin solid #151515;
        box-shadow: 0 0 3px #151515;
        color: #cccccc;
    }
    .iui-dragwin-title {
        border-left: thin solid #151515;
    }
    .iui-dragwin-num {
        color: #cccccc;
    }
`;var Xee=ze`
`;var GO=class extends X_{constructor(){super(),this._commonService=new Z_,this._currentDragNum=1,this._currentIconClass="",this._currentPosition={x:0,y:0},this._currentSize={width:0,height:0},this._currentTitle="",this._currentDisplay="block",this._currentControlStyleSettings=j3,this._currentResourcePath="../icons",this._currentCustomStyle={},this._currentTheme=zn.None,this._currentThemeSettings=ze``}connectedCallback(){}disconnectedCallback(){}static get properties(){return{colorScheme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"light":return bi.Light;case"dark":return bi.Dark;default:return bi.None}},toAttribute:n=>{switch(n){case bi.Light:return"Light";case bi.Dark:return"Dark";default:return"None"}}},reflect:!0},customStyle:{type:Object,attribute:"custom-style"},display:{type:String,reflect:!0},dragNum:{type:Number,attribute:"drag-num",reflect:!0},iconClass:{type:String,attribute:"icon-class",reflect:!0},position:{type:Object},resourcePath:{type:String,attribute:"resource-path",reflect:!0},size:{type:Object},title:{type:String,reflect:!0},theme:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"office":return zn.Office;case"dark":return zn.Dark;default:return zn.None}},toAttribute:n=>{switch(n){case zn.Office:return"Office";case zn.Dark:return"Dark";default:return"None"}}},reflect:!0}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get colorScheme(){return this._currentColorScheme}set colorScheme(n){if(this._currentColorScheme!==n){let e=this._currentColorScheme;this._currentColorScheme=n,this._updateColorSchemeSettings(n),this.requestUpdate("colorScheme",e),this.refresh()}}get customStyle(){return this._currentCustomStyle}set customStyle(n){if(this._currentCustomStyle!==n){let e=this._currentCustomStyle;this._currentCustomStyle=n,this.requestUpdate("customStyle",e),this.refresh()}}get display(){return this._currentDisplay}set display(n){if(this._currentDisplay!==n){let e=this._currentDisplay;this._currentDisplay=n,this.requestUpdate("display",e)}}get dragNum(){return this._currentDragNum}set dragNum(n){if(this._currentDragNum!==n){let e=this._currentDragNum;this._currentDragNum=n,this.requestUpdate("dragNum",e)}}get iconClass(){return this._currentIconClass}set iconClass(n){if(this._currentIconClass!==n){let e=this._currentIconClass;this._currentIconClass=n,this.requestUpdate("iconClass",e)}}get position(){return this._currentPosition}set position(n){let e=this._currentPosition;this._currentPosition=n,this.requestUpdate("position",e)}get resourcePath(){return this._currentResourcePath}set resourcePath(n){if(this._currentResourcePath!==n){let e=this._currentResourcePath;this._currentResourcePath=n,this._updateControlStyleSettings(n),this.requestUpdate("resourcePath",e)}}get size(){return this._currentSize}set size(n){let e=this._currentSize;this._currentSize=n,this.requestUpdate("size",e)}get title(){return this._currentTitle}set title(n){if(this._currentTitle!==n){let e=this._currentTitle;this._currentTitle=n,this.requestUpdate("title",e)}}get theme(){return this._currentTheme}set theme(n){if(this._currentTheme!==n){let e=this._currentTheme;this._currentTheme=n,this._updateThemeSettings(n),this.requestUpdate("theme",e),this.refresh()}}updatePos(n){n&&(this.dragNum=n.num?n.num:1,this.iconClass=n.class?n.class:"",this.position={x:n.left,y:n.top},this.title=n.text?n.text:"",this.refresh())}_getTitleStyle(){let n={};return this._currentIconClass===""&&(n.border=0),n}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=ze``,n){case bi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(Yee.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(Xee.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(Qee.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}firstUpdated(n){}refresh(){this.update()}render(){return Ke`             <style>                 ${this._currentControlStyleSettings}                 ${this._currentThemeSettings}                 ${this._currentColorSchemeSettings}                 ${this._currentCustomStyle}             </style>             <div data-drag-window class="iui-dragwin" style=${ln({display:this._currentDisplay,top:this._currentPosition.y+"px",left:this._currentPosition.x+"px"})}>                 ${this._currentIconClass!==""?Ke`<span class=${Gn(this._currentIconClass)}></span>`:Ke``}                 <span class="iui-dragwin-title" style=${ln(this._getTitleStyle())}>${this._currentTitle}</span>                 ${this._currentDragNum>1?Ke`<span class="iui-dragwin-num">+${this._currentDragNum-1}</span>`:Ke``}             </div>         `}_updateControlStyleSettings(n){this._currentControlStyleSettings=ze``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(j3.cssText,"../../icons",n)}};window.customElements.define("iui-dragwin",GO);var Zee=GO;var G3=class extends Eh{_init(){super._init(),this._lastUpdate=0,this._updateDelay=100,this._dataService=new t0,this._dragDropService=qee.getInstance(),this._filterService=new Jee,this._currentAnimationSpeedValue=400,this._initSuccess=!0,this._isAnimationInProcess=!1,this._isInitActive=!1,this._stackAdd=[],this._stackRemove=[],this._currentDefaultGroupName="other",this._currentGroupBy=null,this._currentGroupList=[],this._currentList=[],this._dataGroups=[],this._dataItems=[],this._fullList=[],this._fullChildList=[],this._fullRemovalList=[],this._scrollItemList=[],this._currentDragDropMode=rr.Dynamic,this._dropMarkElem=null,this._dragCmp=null,this._expandItem=null,this._isAutoExpanded=!1,this._dragContentElem=null,this._dragItemList=[],this._dragItemObj=null,this._dragElemPos={top:-9999999,left:0},this._dragElemSize={width:0,height:0},this._dragListPos={top:-9999999,left:0},this._dragListSize={width:0,height:0},this._dragListStartPos={top:-9999999,left:0},this._dragWindow=null,this._dragListIndex=-1,this._dragTargetIndex=-1,this._dragOverStarted=!1,this._currentDragPos={x:0,y:0},this._prevDragPos={x:0,y:0},this._dragMoveSpace=10,this._dropPos=-1,this._cloneElem=null,this._cloneElemStartPos={x:0,y:0},this._expandTimeout=null,this._isCtrlDragEntered=!1,this._isDragActive=!1,this._isDragCopy=!1,this._isDragInside=!1,this._isDragActiveTimeout=null,this._currentDragItems=0,this._maxDragItems=3,this._totalDragItems=0,this._filterParams=null,this._ctrlCursor="default",this._currentContentVisibility=ps.Both,this._hoverItem=null,this._options={allowDrag:!1,allowDrop:!1,currentStyle:null,dataFields:null,selectedItem:null},this._isGroupingEnabled=!1,this._blockHoverRect={height:0,left:0,top:-9999999,width:0},this._blockSelectRect=[],this._blockSelectHeight=0,this._hoverItemObj={data:{}},this._currentFocusObj=null,this._isKeyboardActive=!1,this._avgItemHeight=0,this._blockSize={width:0,height:0},this._contentSize={width:0,height:0},this._ctrlPadding={top:0,right:0,bottom:0,left:0},this._currentIndex=0,this._currentItemSize={width:0,height:0},this._currentItemSpacing=0,this._prevIndex=0,this._isAutoSized=!1,this._isHoverTemplatePresent=!1,this._isSelectedTemplatePresent=!1,this._isUpdateActive=!1,this._prevLongestItemWidth=0,this._longestItemWidth=0,this._longestItemWidthValue="auto",this._requestUpdateLayout=!1,this._virtualization=!0,this._visibleRange=100,this._updateTimer=null,this._isLoading=!1,this._isLoadingEnd=!1,this._loadingEndTimeout=null,this._loadIconPos={top:0,left:0},this._currentMouseWheelSpeed=Us.Normal,this._currentScrollAppearance=Hn.Static,this._currentScrollPos={x:0,y:0},this._maxScrollPos={x:0,y:0},this._accelerator=.5,this._isMouseWheelActive=!1,this._isScrollActive=!1,this._isScrollTimerActive=!1,this._isScrollVisible=!0,this._prevScrollPos={x:0,y:0},this._scrollAppearanceTimeout=null,this._scrollBarSize={width:0,height:0},this._scrollCount=0,this._scrollLargeChange={x:0,y:0},this._scrollSize={width:0,height:0},this._scrollSizeAddition=0,this._scrollTimerID=null,this._horScrollOrientation=Xo.Horizontal,this._currentSelection=null,this._currentSelectionMode=ko.One,this._isItemClicked=!1,this._shiftFirstSelectedItem=null,this._removeIndex=-1,this._currentSelectedItems=[],this._currentCtrlSize={width:0,height:0},this._currentSorting=Kl.None,this._sortComparer=null,this._dragListClass={},this._groupClassName="iui-baselistgroup",this._groupContentClassName=this._groupClassName+"-content",this._expandBoxClassName=this._groupClassName+"-expand-box",this._itemClassName="iui-baselistitem",this._itemContentClassName=this.itemClassName+"-content",this._scrollCornerClassName="iui-scrollbar-corner",this._animationCheckTimer=null,this._touchStartPos={x:0,y:0},this._touchEndPos={x:0,y:0}}connectedCallback(){super.connectedCallback(),this._windowDragOver=this._windowDragOver.bind(this),window.addEventListener("dragover",this._windowDragOver),this._windowKeyDown=this._windowKeyDown.bind(this),window.addEventListener("keydown",this._windowKeyDown),this._windowKeyUp=this._windowKeyUp.bind(this),window.addEventListener("keyup",this._windowKeyUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("dragover",this._windowDragOver),window.removeEventListener("keydown",this._windowKeyDown),window.removeEventListener("keyup",this._windowKeyUp),this._clearDragTimeout(),this._clearExpandTimeout(),this._resetAnimationCheckTimer(),this._resetLayoutTimer(),this._resetScrollAppearanceTimeout()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},group:{expandBox:{general:this._expandBoxClassName,expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},general:{disabled:this._groupClassName+"-disabled",focused:this._groupClassName+"-focused",normal:this._groupClassName,hovered:this._groupClassName+"-hovered",selected:this._groupClassName+"-selected"},content:{disabled:this._groupContentClassName+"-disabled",focused:this._groupContentClassName+"-focused",normal:this._groupContentClassName,hovered:this._groupContentClassName+"-hovered",selected:this._groupContentClassName+"-selected"}},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{allowDrag:{type:Boolean,attribute:"allow-drag",reflect:!0},allowDrop:{type:Boolean,attribute:"allow-drop",reflect:!0},allowFilter:{type:Boolean,attribute:"allow-filter",reflect:!0},animateInit:{type:Boolean,attribute:"animate-init",reflect:!0},contentVisibility:{attribute:"content-visibility",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return ps.None;case"hover":return ps.Hover;case"select":return ps.Select;default:return ps.Both}},toAttribute:n=>{switch(n){case ps.None:return"None";case ps.Hover:return"Hover";case ps.Select:return"Select";default:return"Both"}}},reflect:!0},dataFields:{type:Object,attribute:"data-fields"},dragDropMode:{attribute:"dragdrop-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"popup":return rr.Static;default:return ko.Dynamic}},toAttribute:n=>{switch(n){case rr.Static:return"Static";default:return"Dynamic"}}},reflect:!0},focusedItem:{type:Object,attribute:"focused-item"},items:{type:Array},itemSpacing:{type:Number,attribute:"item-spacing",reflect:!0},mouseWheelSpeed:{attribute:"mousewheel-speed",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"veryslow":return Us.VerySlow;case"slow":return Us.Slow;case"fast":return Us.Fast;case"veryfast":return Us.VeryFast;default:return Us.Normal}},toAttribute:n=>{switch(n){case Us.VerySlow:return"VerySlow";case Us.Slow:return"Slow";case Us.Fast:return"Fast";case Us.VeryFast:return"VeryFast";default:return"Normal"}}},reflect:!0},scrollAppearance:{attribute:"scroll-appearance",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?Hn.Dynamic:Hn.Static,toAttribute:(n,e)=>n===Hn.Dynamic?"Dynamic":"Static"},reflect:!0},selectedItem:{type:Object,attribute:"selected-item"},selectionMode:{attribute:"selection-mode",converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"none":return ko.None;case"multisimple":return ko.MultiSimple;case"multiextended":return ko.MultiExtended;default:return ko.One}},toAttribute:n=>{switch(n){case ko.None:return"None";case ko.MultiSimple:return"MultiSimple";case ko.MultiExtended:return"MultiExtended";default:return"One"}}},reflect:!0},showScroll:{type:Boolean,attribute:"show-scroll",reflect:!0},sorting:{converter:{fromAttribute:n=>{switch((n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()){case"ascending":return Kl.Ascending;case"descending":return Kl.Descending;default:return Kl.None}},toAttribute:n=>{switch(n){case Kl.Ascending:return"Ascending";case Kl.Descending:return"Descending";default:return"None"}}},reflect:!0},virtualMode:{type:Boolean,attribute:"virtual-mode",reflect:!0}}}set allowDrag(n){if(this._options.allowDrag!==n){let e=this._options.allowDrag;this._options.allowDrag=n,this.requestUpdate("allowDrag",e)}}set allowDrop(n){if(this._options.allowDrop!==n){let e=this._options.allowDrop;this._options.allowDrop=n,this.requestUpdate("allowDrop",e)}}set allowFilter(n){if(this._options.allowFilter!==n){let e=this._options.allowFilter;this._options.allowFilter=n,this.requestUpdate("allowFilter",e)}}get allowFocus(){return this._options.allowFocus}set allowFocus(n){if(this._options.allowFocus!==n){let e=this._options.allowFocus;this._options.allowFocus=n,n||(this._currentFocusObj=null),this.refresh(),this.requestUpdate("allowFocus",e)}}get animateInit(){return this._isInitActive}set animateInit(n){if(this._isInitActive!==n){let e=this._isInitActive;this._isInitActive=n,this.requestUpdate("animateInit",e)}}get dataFields(){return this._options.dataFields}set dataFields(n){let e=this._options.dataFields;this._updateDataFields(n),this.requestUpdate("dataFields",e)}get focusedItem(){return this._currentFocusObj?this._currentFocusObj.data:null}set focusedItem(n){let e=this.allowFocus&&!this._currentFocusObj,t=this.allowFocus&&this._currentFocusObj&&this._currentFocusObj.data!==n;if(e||t){let o=this._currentFocusObj?this._currentFocusObj.data:null;this._currentFocusObj=this._getObjFromItem(n),this._updateFocusItem(),this.selectedItem!==n&&this._processSelection(null,n),this.requestUpdate("focusedItem",o),this.refresh()}}get contentVisibility(){return this._currentContentVisibility}set contentVisibility(n){if(this._currentContentVisibility!==n){let e=this._currentContentVisibility;this._currentContentVisibility=n,this.requestUpdate("contentVisibility",e)}}get dragDropMode(){return this._currentDragDropMode}set dragDropMode(n){if(this._currentDragDropMode!==n){let e=this._currentDragDropMode;this._currentDragDropMode=n,this.requestUpdate("dragDropMode",e)}}get items(){return this._dataItems}set items(n){let e=this._dataItems;e.length===0&&(this._initSuccess=!1),this._dataItems=n,this._updateData(),this.requestUpdate("items",e)}get itemSpacing(){return this._currentItemSpacing}set itemSpacing(n){let e=this._currentItemSpacing;this._currentItemSpacing=n,this.requestUpdate("itemSpacing",e)}get mouseWheelSpeed(){return this._currentMouseWheelSpeed}set mouseWheelSpeed(n){if(this._currentMouseWheelSpeed!==n){let e=this._currentMouseWheelSpeed;this._currentMouseWheelSpeed=n,this.requestUpdate("mouseWheelSpeed",e)}}get scrollAppearance(){return this._currentScrollAppearance}set scrollAppearance(n){if(this._currentScrollAppearance!==n){let e=this._currentScrollAppearance;this._currentScrollAppearance=n,this._isScrollVisible=this._currentScrollAppearance!==Hn.Dynamic,this.requestUpdate("scrollAppearance",e),this._internalUpdateLayout()}}get showScroll(){return this._options.showScroll}set showScroll(n){let e=this._options.showScroll;this._updateShowScroll(n),this.requestUpdate("showScroll",e)}get selectedItem(){return this._currentSelection}set selectedItem(n){if(this._currentSelection!==n){let e=this._currentSelection,t=this,o=setTimeout(function(){t._processSelection(null,n),t.requestUpdate("selectedItem",e),clearTimeout(o)},1)}}get selectionMode(){return this._currentSelectionMode}set selectionMode(n){if(this._currentSelectionMode!==n){let e=this,t=e._currentSelectionMode;e._currentSelectionMode=n,e._clearPrevSelection(e._currentSelectionMode!==ko.None?e._currentSelection:null);let o=setTimeout(function(){e.refresh(),e._currentSelectionMode===ko.None&&(e._currentSelection=null),e._invokeEvent("selectionChanged",{item:e._currentSelection}),e.requestUpdate("selectionMode",t),clearTimeout(o)},1)}}get sorting(){return this._currentSorting}set sorting(n){if(this._currentSorting!==n){let e=this._currentSorting;this._currentSorting=n,this.requestUpdate("sorting",e)}}get virtualMode(){return this._virtualization}set virtualMode(n){if(this._virtualization!==n){let e=this._virtualization;this._virtualization=!0,this.requestUpdate("virtualMode",e),this._internalUpdateLayout()}}addItem(n,e){return V(this,null,function*(){return this._callEventAdd("add",n,-1,e)})}_addItemToList(n,e,t,o,r,s){let a=this,l=!0,c=-1,d=a._dragDropService.getData();if(a._isAnimationAllowed&&!d.source){let u=a._currentList.length,m=[],g=null,y=null;switch(c=a._scrollItemList.length,n){case"at":u=t,o?m=a._currentList.filter(v=>v.data.type!=="group"&&v.data[a._options.dataFields.pid]===o[a._options.dataFields.id]):m=a._currentList.filter(v=>v.data.type!=="group"&&!v.data[a._options.dataFields.pid]),a._commonService.isIndexInRange(u,m)?(g=a._getObjFromScrollItem(m[u].data),c=a._getItemScrollIndex(g)):m.length>0?(g=a._getObjFromScrollItem(m[m.length-1].data))?c=a._getItemScrollIndex(g)+1:c=-1:o&&(c=0);break;case"ref":if(r){let v=a._getObjFromScrollItem(r);v?(c=a._scrollItemList.indexOf(v),s&&(y=a._getLastChildItemFromExpanded(r))&&(c=(g=a._getObjFromScrollItem(y))?a._getItemScrollIndex(g)+1:-1)):l=!1}break;default:o&&(y=a._getLastChildItemFromExpanded(o))&&(c=(g=a._getObjFromScrollItem(y))?a._getItemScrollIndex(g)+1:-1)}c<0&&(l=!1)}switch(n){case"at":for(let m=e.length-1;m>=0;m--)a._dataService.insert(e[m],t,o);break;case"ref":let u=s?e.toReversed():e;for(let m=0;m<u.length;m++)a._dataService.insertByRef(u[m],r,s);break;default:for(let m=0;m<e.length;m++)a._dataService.insert(e[m],-1,o)}return{animateAllowed:l,scrollIndex:c,addAllowed:!0}}clearItems(n){return V(this,null,function*(){let e=this;return n||(e._currentSelectedItems.length=0,e._currentSelection=null),e._callEventClear(n)})}insertItemAt(n,e,t){return V(this,null,function*(){return this._callEventAdd("at",n,e,t)})}insertItemBefore(n,e){return V(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e)})}insertItemAfter(n,e){return V(this,null,function*(){return this._callEventAdd("ref",n,-1,null,e,!0)})}removeItem(n){return V(this,null,function*(){return this._callEventRemove(n)})}removeItemAt(n,e){return V(this,null,function*(){return this._callEventRemove(null,n,e)})}_callEventAdd(n,e,t,o,r,s){return V(this,null,function*(){let a=this,l=a._dragDropService.getData();return!a._isAnimationAllowed||l.source?a._processAddItemGeneral(n,e,t,o,r,s):(a._stackAdd.push({type:n,item:e,index:t,parent:o,refItem:r,flag:s}),a._stackAdd.length===1?a._processAddRange(n,e,t,o,r,s):Promise.resolve())})}_callEventClear(n){return V(this,null,function*(){let e=this;return new Promise(t=>{e._isAnimationAllowed&&e._scrollItemList.length>0?(e._isAnimationInProcess=!0,setTimeout(function(){return V(this,null,function*(){yield e._applyScaleAnimation(e._scrollItemList),e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),e._isAnimationInProcess=!1,t()})},1)):e._isUpdateAllowed?setTimeout(function(){return V(this,null,function*(){e._dataService.clear(n),yield e._processUpdateCurrentLayout(),e._invokeEvent("clear",{parent:n}),t()})},1):(e._dataService.clear(n),e._invokeEvent("clear",{parent:n}),t())})})}_callEventRemove(n,e,t){return V(this,null,function*(){let o=this,r=o._dragDropService.getData();return!o._isAnimationAllowed||r.source?o._processRemoveItemGeneral(n,e,t):(o._stackRemove.push({item:n,index:e,parent:t}),o._stackRemove.length===1?o._processRemoveRange(n,e,t):Promise.resolve())})}_processAddItemGeneral(n,e,t,o,r,s){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:o}).cancel!==!0){let c=Array.isArray(e)?e:[e];a._addItemToList(n,c,t,o,r,s),a._processItemAdd(e,o);let d=a._dragDropService.getData();d.source?(a._invokeEvent("itemAdded",{index:t,item:e}),l()):a._isUpdateAllowed?setTimeout(function(){return V(this,null,function*(){d.source||(a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width),yield a._processUpdateCurrentLayout()),a._invokeEvent("itemAdded",{index:t,item:e}),l()})},1):(a._invokeEvent("itemAdded",{index:t,item:e}),l())}else l()})}_processItemAdd(n,e){}_processItemRemoval(n,e){}_processRemoveItemGeneral(n,e,t){return V(this,null,function*(){let o=this;return new Promise(r=>{if(o._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){!n&&o._commonService.isIndexInRange(e,o._fullList)&&(n=o._fullList[e]);let s=Array.isArray(n)?n:[n];for(let a=0;a<s.length;a++)o._dataService.removeAt(s[a],e,t);o._processItemRemoval(n,t),n&&n[o._options.dataFields.selected]&&(n[o._options.dataFields.selected]=!1,o._currentSelectedItems=o._currentSelectedItems.filter(a=>a!==n),o._currentSelection&&o._commonService.isEqual(o._currentSelection[o._options.dataFields.id],n[o._options.dataFields.id])&&(o._currentSelection=null),o._invokeEvent("selectionChanged",{item:o._currentSelection})),o._dragDropService.getData().source?(o._invokeEvent("itemRemoved",{index:e,item:n}),r()):o._isUpdateAllowed?setTimeout(function(){return V(this,null,function*(){yield o._processUpdateCurrentLayout(),o._invokeEvent("itemRemoved",{index:e,item:n}),r()})},1):(o._invokeEvent("itemRemoved",{index:e,item:n}),r())}else r()})})}_getLastChildItemFromExpanded(n){let e=this;if(e.isItemExpanded(n)){let t=e._currentList.filter(o=>o.data.type!=="group"&&o.data[e._options.dataFields.pid]===n[e._options.dataFields.id]);if(t.length>0)return e._getLastChildItemFromExpanded(t[t.length-1].data)}return n}_animateCurrentItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animateNewItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),this.update(),e&&this._clearInactiveAnimations()}_animatePosition(n,e){n.forEach((t,o)=>{t.element.position={x:t.element.position.x,y:t.values.top}}),e&&this._clearInactiveAnimations(),this.update()}_cancelAddProcess(n,e,t,o,r,s){}_processAddRange(n,e,t,o,r,s){return V(this,null,function*(){let a=this;return new Promise(l=>{if(a._invokeEvent("itemAdding",{cancel:!1,item:e,index:t,parent:o}).cancel!==!0){let c=Array.isArray(e)?e:[e],d=a._addItemToList(n,c,t,o,r,s);if(d.addAllowed&&d.animateAllowed){a._isAnimationInProcess=!0;let u=d.scrollIndex;a._processItemAdd(c,o),setTimeout(function(){return V(this,null,function*(){a._scrollItemList.length===0&&(a.update(),a._updateClientRect(),a._currentItemSize.width=a._clientRect.width,a._updateBlockSize());let m={x:a._ctrlPadding.left,y:a._ctrlPadding.top},g=a._currentItemSize.height>0?a._currentItemSize.height:30,y=[],v=null;u>=0&&u<a._scrollItemList.length?(m={x:(v=a._scrollItemList[u]).position.x,y:v.position.y},yield a._updateCurrentScrollItemPos(u,c.length*a._currentItemSize.height),m.y-=a._currentItemSize.height):a._scrollItemList.length>0&&(m={x:(v=a._scrollItemList[a._scrollItemList.length-1]).position.x,y:v.position.y});let S=v?v.indent:0;if(o){let P=a._getObjFromItem(o);S=P?P.indent+a._options.indent:S}for(let P=0;P<c.length;P++){a._scrollItemList.length===0&&(m.y-=g);let L={clickPos:{x:0,y:0},data:c[P],indent:S,index:u,inlineStyle:{},position:{x:m.x,y:m.y},showCheckBox:a._isItemCheckBoxAllowed(c[P]),showRadioButton:a._isItemRadioButtonAllowed(c[P]),size:{width:0,height:a._currentItemSize.height},targetPosition:{x:m.x,y:m.y},style:{},tabIndex:0,zIndex:0};a._updateItemStyle(L),a._scrollItemList.splice(u,0,L),a.refresh();let F=Math.max(50,300-50*a._stackAdd.length);a._applyScaleAnimation([L],F,.8,1),yield a._updateNewScrollItemPos(L,F),y.push(L),u++,m.y+=g}a._invokeEvent("itemAdded",{index:t,item:e});let I=Math.max(50,300-50*a._stackAdd.length);setTimeout(function(){if(a._currentList.length===0&&(a._updateCurrentItemSize(),a._updateVisibleRange()),a._updateCurrentList(),a._stackAdd.splice(0,1),a._stackAdd.length>0){let P=a._stackAdd[0];a._processAddRange(P.type,P.item,P.index,P.parent,P.refItem,P.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()},I)})},1)}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let u=a._stackAdd[0];a._processAddRange(u.type,u.item,u.index,u.parent,u.refItem,u.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()}else if(a._stackAdd.splice(0,1),a._stackAdd.length>0){let c=a._stackAdd[0];a._processAddRange(c.type,c.item,c.index,c.parent,c.refItem,c.flag)}else a._internalUpdateCurrentLayout(),a._isAnimationInProcess=!1,l()})})}_updateFullRemovalList(n){let e=this;n.forEach(t=>{e._fullRemovalList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateFullRemovalList(t[e._options.dataFields.items])})}_animateRemove(n,e){n.forEach((t,o)=>{t.element.animateLeft=t.values.animateLeft}),e&&this._clearInactiveAnimations(),this.update()}_animateScale(n,e){n.forEach((t,o)=>{t.element.scale=t.values.scale}),e&&this._clearInactiveAnimations(),this.update()}_applyRemoveAnimation(n,e){return V(this,null,function*(){let t=this._animateRemove.bind(this),o=new Ts;this._activeAnimations.push(o);let r=[];for(let s=0;s<n.length;s++){let a=n[s],l={animateLeft:0},c={animateLeft:100};r.push({element:a,current:l,values:c})}return yield o.animate(r,100,e!==void 0?e:200,t),Promise.resolve()})}_applyScaleAnimation(n,e,t,o){return V(this,null,function*(){let r=this._animateScale.bind(this),s=new Ts;this._activeAnimations.push(s);let a=[];for(let l=0;l<n.length;l++){let c=n[l],d={scale:t!==void 0?t:1},u={scale:o!==void 0?o:0};a.push({element:c,current:d,values:u})}return yield s.animate(a,0,e!==void 0?e:200,r),Promise.resolve()})}_processRemoveRange(n,e,t){return V(this,null,function*(){let o=this;return new Promise(r=>{if(o._invokeEvent("itemRemoving",{cancel:!1,item:n,index:e,parent:t}).cancel!==!0){if(!n){let a=[];t?a=o._currentList.filter(l=>l.data.type!=="group"&&l.data[o._options.dataFields.pid]===t[o._options.dataFields.id]):a=o._currentList.filter(l=>l.data.type!=="group"&&!l.data[o._options.dataFields.pid]),o._commonService.isIndexInRange(e,a)&&(n=a[e].data)}let s=[];if(n&&(s=Array.isArray(n)?n:[n]),s.length>0)o._isAnimationInProcess=!0,setTimeout(function(){return V(this,null,function*(){o._fullRemovalList.length=0,o._updateFullRemovalList(s);let a=[],l=[...o._scrollItemList],c=0;for(let g=0;g<o._fullRemovalList.length;g++){let y=o._getObjFromScrollItem(o._fullRemovalList[g]);y&&(c++,a.push(y),l=l.filter(v=>v.data!==y.data))}let d=Math.max(50,200-50*o._stackRemove.length);yield o._applyScaleAnimation(a,d,1,.8),yield o._applyRemoveAnimation(a,d),c>0&&o.refresh();let u=!1;for(let g=0;g<s.length;g++){let y=s[g];o._dataService.removeAt(y,e,t),y&&y[o._options.dataFields.selected]&&(y[o._options.dataFields.selected]=!1,o._currentSelectedItems=o._currentSelectedItems.filter(v=>v!==y),o._currentSelection&&o._commonService.isEqual(o._currentSelection[o._options.dataFields.id],y[o._options.dataFields.id])&&(o._currentSelection=null),u=!0)}for(let g=0;g<o._fullRemovalList.length;g++){let y=o._fullRemovalList[g],v=e!==void 0?e:o._fullList.indexOf(y);v>=0&&o._fullList.splice(v,1),(v=o._getItemCurrentIndex(y))>=0&&o._currentList.splice(v,1)}o._processItemRemoval(n,t);let m=Math.max(50,300-50*o._stackRemove.length);if(c>0&&l.length>0){let g={x:o._ctrlPadding.left,y:o._ctrlPadding.top};l.forEach(y=>{y.targetPosition.y=g.y,g.y+=o._currentItemSize.height}),o._repositionItems(l,0,m)}if(c>0&&o._scrollItemList.length>0){let g=[],y=o._scrollItemList.length-1,v=o._scrollItemList[y],S={x:v.position.x,y:v.position.y+o._currentItemSize.height},I=o._currentIndex+o._visibleRange-c;for(let L=0;L<c;L++)if(I+L<o._currentList.length){let F=o._currentList[I+L].data,K={clickPos:{x:0,y:0},data:F,indent:o._currentList[I+L].indent,index:y+L+1,inlineStyle:{},position:{x:S.x,y:S.y},showCheckBox:o._isItemCheckBoxAllowed(F),showRadioButton:o._isItemRadioButtonAllowed(F),size:{width:0,height:o._currentItemSize.height},targetPosition:{x:S.x,y:S.y},style:{},tabIndex:0,zIndex:0};g.push(K),o._updateItemStyle(K),o._scrollItemList.splice(K.index,0,K),S.y+=o._currentItemSize.height}o.update();let P=c*o._currentItemSize.height;yield o._moveItemsUpward(o._scrollItemList,y+1,-P,m)}a.forEach(g=>{let y=o._scrollItemList.indexOf(g);y>=0&&o._scrollItemList.splice(y,1)}),o.refresh(),o._invokeEvent("itemRemoved",{index:e,item:n}),u&&o._invokeEvent("selectionChanged",{item:o._currentSelection}),setTimeout(function(){if(o._stackRemove.splice(0,1),o._updateCurrentList(),o._stackRemove.length>0){let g=o._stackRemove[0];o._processRemoveRange(g.item,g.index,g.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()},m)})},1);else if(o._stackRemove.splice(0,1),o._stackRemove.length>0){let a=o._stackRemove[0];o._processRemoveRange(a.item,a.index,a.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()}else if(o._stackRemove.splice(0,1),o._stackRemove.length>0){let s=o._stackRemove[0];o._processRemoveRange(s.item,s.index,s.parent)}else o._isAnimationInProcess=!1,o._internalUpdateCurrentLayout(),r()})})}_repositionItems(n,e,t){return V(this,null,function*(){let o=this._animatePosition.bind(this),r=new Ts;this._activeAnimations.push(r);let s=[];for(let a=e;a<n.length;a++){let l=n[a],c={top:l.position.y},d={top:l.targetPosition.y};s.push({element:l,current:c,values:d})}return yield r.animate(s,0,t!==void 0?t:250,o),Promise.resolve()})}_updateCurrentScrollItemPos(n,e){return V(this,null,function*(){let t=this,o=t._animateCurrentItemPos.bind(t),r=new Ts;t._activeAnimations.push(r);let s=[];for(let a=n;a<t._scrollItemList.length;a++){let l=t._scrollItemList[a],c={top:l.position.y},d={top:l.position.y+e};s.push({element:l,current:c,values:d})}return yield r.animate(s,0,250,o),Promise.resolve()})}_updateNewScrollItemPos(n,e){return V(this,null,function*(){let t=this._animateNewItemPos.bind(this),o=new Ts;this._activeAnimations.push(o);let r=[],s=this._currentItemSize.height>0?this._currentItemSize.height:30,a={top:n.position.y},l={top:n.position.y+s};return r.push({element:n,current:a,values:l}),yield o.animate(r,0,e!==void 0?e:200,t),Promise.resolve()})}_updateCtrlSize(n){return V(this,null,function*(){this._clearAnimations(),this._isAnimationInProcess=!0;let e=this._animateSize.bind(this),t=new Ts;this._activeAnimations.push(t);let o=[{current:{height:this._currentCtrlSize.height},values:{height:this._clientRect.height}}];return yield t.animate(o,100,n!==void 0?n:250,e),this._isAnimationInProcess=!1,Promise.resolve()})}_animateSize(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height),e&&(t._currentCtrlSize.height=t._clientRect.height,setTimeout(function(){t._clearInactiveAnimations()},1)),t.update()}_animateToggle(n,e){let t=this;n.length>0&&(t._currentCtrlSize.height=n[0].values.height,n.forEach((o,r)=>{o.element.position={x:o.element.position.x,y:o.values.top}})),e&&(t._currentCtrlSize.height=t._clientRect.height,t._clearInactiveAnimations()),t.update()}_moveItemsDownward(n,e,t){return V(this,null,function*(){let o=this,r=o._animateToggle.bind(o),s=new Ts;o._activeAnimations.push(s);let a=[];for(let l=e;l<n.length;l++){let c=n[l],d={top:c.position.y,height:o._currentCtrlSize.height},u={top:t!=null?c.position.y+t:c.targetPosition.y,height:o._clientRect.height};a.push({element:c,current:d,values:u})}return yield s.animate(a,0,250,r),Promise.resolve()})}_moveItemsUpward(n,e,t,o){return V(this,null,function*(){let r=this,s=r._animateToggle.bind(r),a=new Ts;r._activeAnimations.push(a);let l=[];for(let c=e;c<n.length;c++){let d=n[c],u={top:d.position.y,height:r._currentCtrlSize.height},m={top:t!=null?d.position.y+t:d.targetPosition.y,height:r._clientRect.height};l.push({element:d,current:u,values:m})}return yield a.animate(l,0,o!==void 0?o:250,s),Promise.resolve()})}_updateItemCollapse(n){return V(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){e._updateItemStyle(t);let o=e._scrollItemList.indexOf(t);if(o<e._scrollItemList.length){let r=e._scrollItemList[o];e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let s=e._fullChildList.length;if(e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length-s)*e._avgItemHeight,o<e._scrollItemList.length-1){let c=[],d=e._scrollItemList.length-1,u=e._scrollItemList[e._scrollItemList.length-1],m={x:u.position.x,y:u.position.y+e._currentItemSize.height},g=e._getItemCurrentIndex(u.data);if(g>=0){let v=g+1;for(let S=0;S<s&&S+v<e._currentList.length;S++){let I=e._currentList[S+v],P={clickPos:{x:0,y:0},data:I.data,indent:I.indent,index:S+d+1,inlineStyle:{},position:{x:m.x,y:m.y},showCheckBox:e._isItemCheckBoxAllowed(I.data),showRadioButton:e._isItemRadioButtonAllowed(I.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:m.x,y:m.y},style:{},tabIndex:0,zIndex:0};c.push(P),e._updateItemStyle(P),e._scrollItemList.splice(P.index,0,P),m.y+=e._currentItemSize.height}e.update()}let y=s*e._currentItemSize.height;e._moveItemsUpward(e._scrollItemList,o+s,-y)}let a=[],l=0;for(let c=o+1;c<e._scrollItemList.length&&l<s;c++,l++){let d=e._scrollItemList[c];d.targetPosition={x:r.position.x,y:r.position.y},a.push(d)}yield e._moveItemsUpward(a,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_updateChildList(n,e){let t=this;n.forEach(o=>{if(t._isItemAllowed(o)){let r=e+t._options.indent;t._fullChildList.push({data:o,indent:r}),o[t._options.dataFields.items]&&t.isItemExpanded(o)&&t._updateChildList(o[t._options.dataFields.items],r)}})}_updateItemExpand(n){return V(this,null,function*(){let e=this,t=e._getObjFromScrollItem(n);if(t){let o=e._scrollItemList.indexOf(t);if(o<e._scrollItemList.length){let r=e._scrollItemList[o],s={x:r.position.x,y:r.position.y};e._fullChildList.length=0,e._updateChildList(t.data[e._options.dataFields.items],t.indent);let a=e._fullChildList.length;if(o<e._scrollItemList.length-1){let c=a*e._currentItemSize.height;e._moveItemsDownward(e._scrollItemList,o+1,c)}let l=[];e._currentCtrlSize.height=e._clientRect.height,e._clientRect.height=(e._currentList.length+a)*e._avgItemHeight;for(let c=0;c<e._fullChildList.length;c++){let d=e._fullChildList[c],u={clickPos:{x:0,y:0},data:d.data,indent:d.indent,index:c+o,inlineStyle:{},position:{x:s.x,y:s.y},showCheckBox:e._isItemCheckBoxAllowed(d.data),showRadioButton:e._isItemRadioButtonAllowed(d.data),size:{width:0,height:e._currentItemSize.height},targetPosition:{x:s.x,y:s.y+(c+1)*e._currentItemSize.height},style:{},tabIndex:0,zIndex:0};l.push(u),e._updateItemStyle(u),e._scrollItemList.splice(u.index,0,u)}yield e._moveItemsDownward(l,0)}}return e._internalUpdateCurrentLayout(),e._isAnimationInProcess=!1,Promise.resolve()})}_animateItemPos(n,e){n.forEach((t,o)=>{t.element.position={x:t.values.left,y:t.element.position.y}}),this.update(),e&&this._clearInactiveAnimations()}_isInitAnimationAllowed(){return this._isAnimationAllowed&&this._isInitActive&&!this._initSuccess}_updateScrollItemPos(){return V(this,null,function*(){let n=this;if(n._isInitAnimationAllowed()){let e=n._animateItemPos.bind(n),t=new Ts;n._activeAnimations.push(t);let o=[];n._scrollItemList.forEach((r,s)=>{let a={left:r.position.x},l={left:r.targetPosition.x};o.push({element:r,current:a,values:l})}),yield t.animate(o,0,250,e),n.refresh()}return n._initSuccess=!0,Promise.resolve()})}_itemClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemClick",{event:n,item:e.data})}_itemDblClickEvent(n,e){this._isEnabled&&n.which===1&&this._invokeEvent("itemDblClick",{event:n,item:e.data})}_itemRightClickEvent(n,e){this._isEnabled&&this._invokeEvent("itemRightClick",{event:n,item:e.data})}_processLoadData(n,e,t,o){return V(this,null,function*(){yield this.clearItems(e),this._updateDataFields(t);let r=[];if(n)if(o||o===void 0){let s=[];n.forEach((a,l)=>{a[this._options.dataFields.items]=[];let c=a[this._options.dataFields.pid];s[c]?(s[c][this._options.dataFields.items]||(s[c][this._options.dataFields.items]=[]),s[a[this._options.dataFields.id]]=a,s[c][this._options.dataFields.items].push(a)):(s[a[this._options.dataFields.id]]=a,r.push(a))}),s.length=0}else r=n;return e?(r.map(s=>s[this._options.dataFields.pid]=e[this._options.dataFields.id]),e[this._options.dataFields.items]=r):this.items&&(this.items.length=0,r.map(s=>this.items.push(s))),this._invokeEvent("loadComplete"),this._internalUpdateLayout(),Promise.resolve()})}_updateData(){this._dataService.init([{data:this.items}])}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",childCount:n.childCount?n.childCount:"childCount",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",group:n.group?n.group:"group",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",items:n.items?n.items:"items",name:n.name?n.name:"name",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",radioGroup:n.radioGroup?n.radioGroup:"radioGroup",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.visible?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",canSelect:"canSelect",checkBoxSettings:"checkBoxSettings",checked:"checked",checkState:"checkState",childCount:"childCount",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",enabled:"enabled",expanded:"expanded",group:"group",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",items:"items",name:"name",objects:"items",pid:"pid",radioGroup:"radioGroup",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),allowFocus:this._commonService.isFieldAvailable(n.allowFocus,!1),dataFields:null,selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,allowFocus:!1,dataFields:null,selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_resetScrollItemList(){this._scrollItemList.length=0,this.update()}_updateScrollItemList(n){this._resetScrollItemList()}_updateShowScroll(n){n?this._options.showScroll={horizontal:this._commonService.isFieldAvailable(n.horizontal,!0),vertical:this._commonService.isFieldAvailable(n.vertical,!0)}:this._options.showScroll={horizontal:!0,vertical:!0}}_isItemCheckBoxAllowed(n){return!1}_isItemRadioButtonAllowed(n){return!1}_addDropMark(n){this._removeDropMark(),(this._currentDragDropMode!==rr.Dynamic||this._dragItemObj!==null)&&(this._dragCmp=document.createElement("iui-dragwin",{is:Zee}),this._dragCmp&&(this._dragCmp.colorScheme=this._currentColorScheme,this._dragCmp.customStyle=this.customStyle,this._dragCmp.resourcePath=this.resourcePath,this._dragCmp.theme=this._currentTheme,document.body.appendChild(this._dragCmp),this._dragCmp.refresh()))}_removeDropMark(){this._dragCmp&&this._dragCmp.remove(),this._dragCmp=null}_calcDragMoveSpace(){return Math.floor(.4*this._currentItemSize.height)}_callDragDropEvent(n,e,t){let o={action:e.action,cancel:!1,dragObj:e.source,dropPos:e.dropPos,event:n,isDropAllowed:e.allow,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:e.targetCtrl,targetObj:e.target};return t?this._invokeEvent("dragDrop",o):this._invokeEvent("dragOver",o),o}_checkEmptySpace(n){let e=this._getContentSize(),t=this._commonService.getPageRect(this._elemRef),o=t.top+e.height,r=t.bottom,s=this._commonService.getMousePos(n),a=this._commonService.getShiftPos();return s.x-=a.x,s.y-=a.y,s.y>=o&&s.y<=r}_clearDragActive(){let n=this;n._isDragActiveTimeout=setTimeout(function(){n._isDragActive=!1,clearTimeout(n._isDragActiveTimeout)},100)}_clearDragTimeout(){this._isDragActiveTimeout&&clearTimeout(this._isDragActiveTimeout),this._isDragActiveTimeout=null}_clearDragDropSettings(n){n&&this._dragDropService.clearData(),this._dragItemList.length=0,this._dragItemObj=null,this._dragOverStarted=!1,this._dropPos=-1,this._hoverItem=null,this._isDragCopy=!1,this._scrollSizeAddition=0,this._removeDropMark(),this._resetDragListPos()}_clearExpandTimeout(){this._expandTimeout&&clearTimeout(this._expandTimeout),this._expandTimeout=null}_ctrlDragEnd(n){this._removeDropMark();let e=this._dragDropService.getData();e.targetCtrl&&e.targetCtrl.removeDropMark&&e.targetCtrl.removeDropMark(),this._itemDragEnd(n,null)}_ctrlDragEnter(n){this._isEnabled&&this._processDragEnter(n)}_ctrlDragDrop(n){this._isEnabled&&(this._currentDragDropMode===rr.Static?(this._processDragDropStatic(n),this._removeDropMark()):this._processDragDropDynamic(n),n.stopPropagation())}_ctrlDragLeave(n){this._isEnabled&&this._processDragLeave(n)}_ctrlDragOver(n){this._isEnabled&&(this._currentDragDropMode===rr.Static?(this._processDragOverStatic(n),n.stopPropagation()):this._options.allowDrop?(this._processScroll(n),this._isScrollTimerActive?this._updateDragListPos(n):this._processDragOverDynamic(n)):this._isDragActive&&this._dragItemObj&&(this._dragDropService.getData().targetCtrl?this._dropMark(n):(this._updateDropMark(n),n.stopPropagation())))}_dropMark(n,e,t){if(!this._dragCmp&&!this._isScrollTimerActive&&this._addDropMark({x:n.pageX,y:n.pageY}),this._dragCmp){let o="none";(t||this._options.allowDrop)&&(o=e?"block":"none"),this._dragCmp.display=o,this._dragCmp.refresh()}}_expandOnDelay(n){let e=this;e._isAutoExpanded!==!1&&n&&(e._expandItem!==n&&(e._clearExpandTimeout(),e._expandTimeout=setTimeout(function(){e._expandTimeout&&e.expand(n),clearTimeout(e._expandTimeout)},this._currentDragDropMode===rr.Dynamic?750:500)),e._expandItem=n)}_updateDragComponent(n){this._dragCmp&&this._dragCmp.updatePos(n)}_isDragAllowed(n){return this._options.allowDrag?!!(n&&(n[this._options.dataFields.allowDrag]||n[this._options.dataFields.allowDrag]===void 0)):!1}_isDropAllowed(n,e,t){let o=this._options.allowDrop;if(o&&n&&e)if(e[this._options.dataFields.allowDrop]||e[this._options.dataFields.allowDrop]===void 0){o=!0;let r=!1;if(Array.isArray(n))for(let s=0;s<n.length;s++){if(r=!!(t===0&&this._isParentOf(e,n[s])),this._commonService.isEqual(n[s][this._options.dataFields.id],e[this._options.dataFields.id])||r||this._isChildOf(e,n[s])){o=!1;break}if(!o)break}else r=!!(t===0&&this._isParentOf(e,n)),(this._commonService.isEqual(n[this._options.dataFields.id],e[this._options.dataFields.id])||r||this._isChildOf(e,n))&&(o=!1)}else o=!1;return o}_processDragStartStatic(n,e){if(this._dragDropService.clearData(),this._isDragAllowed(e)){if(e)if(!this._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let t={clone:null,source:null,sourceCtrl:this,sourceData:this.items};switch(this.selectionMode){case ko.MultiSimple:case ko.MultiExtended:t.clone=this._createCloneList(this._currentSelectedItems,!0),t.source=this._currentSelectedItems;break;default:t.clone=this._createCloneList([e],!0)[0],t.source=e}let o={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:t.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:null};if(this._invokeEvent("dragStart",o),o.cancel===!0){n.preventDefault();return}else this._isDragActive=!0,this._addDropMark({x:n.pageX,y:n.pageY}),this._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[this._options.dataFields.id]?e[this._options.dataFields.id].toString():"")),this._dragDropService.setData(t)}}else n.preventDefault()}_processDragStartDynamic(n,e,t){let o=this;if(o._dragDropService.clearData(),o._isDragAllowed(e)){if(e)if(!o._isDragAllowed(e))n.dataTransfer?n.dataTransfer.effectAllowed="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="none");else{let s={clone:null,source:null,sourceCtrl:o,sourceData:o.items};switch(o.selectionMode){case ko.MultiSimple:case ko.MultiExtended:s.clone=o._createCloneList(o._currentSelectedItems,!0),s.source=o._currentSelectedItems;break;default:s.clone=o._createCloneList([e],!0)[0],s.source=e}let a={action:n.shiftKey?"copy":"move",cancel:!1,dragObj:s.source,dropPos:-1,event:n,isDropAllowed:o._options.allowDrop,mousePos:o._commonService.getMousePos(n),sourceCtrl:s.sourceCtrl,targetCtrl:o,targetObj:null};if(o._invokeEvent("dragStart",a),a.cancel===!0){n.preventDefault();return}else{o._isAnimationInProcess=!0,o._isCtrlDragEntered=!0,o._isDragActive=!0,o._dragOverStarted=!1,o._isMouseEnterAllowed=!1;let l=o._getObjFromScrollItem(e);if(l){o._updateDragItemList(s);let c=o._commonService.getShiftPos(),d=o._commonService.getMousePos(n);d.x-=c.x,d.y-=c.y,o._dragElemPos.top=t.client.y,o._dragElemSize={width:t.page.width,height:t.page.height},o._dragItemObj=l,o._dragListStartPos.top=d.y-t.page.y,o._dragListStartPos.left=d.x-t.page.x,o._currentDragPos=o._commonService.getMousePos(n),o._prevDragPos=o._commonService.getMousePos(n);let u=Array.isArray(s.source)?s.source.length:1;o._currentDragItems=Math.min(o._maxDragItems,u),o._totalDragItems=u,o._dropPos=-1,o._dragMoveSpace=o._calcDragMoveSpace(),o.update(),o._updateDragListSize(),o._dragListIndex=o._scrollItemList.indexOf(l);let m=o._scrollItemList.filter(y=>!o._isItemDragged(y.data));o._isGroupingEnabled&&(m=m.filter(y=>!(y.data.type==="group"&&!y.data.visibleOnDrag)));let g={x:o._ctrlPadding.left,y:o._ctrlPadding.top};for(let y=0;y<m.length;y++){let v=m[y];y===o._dragListIndex&&(g.y+=o._currentItemSize.height),v.position={x:g.x,y:g.y},g.y+=o._currentItemSize.height}o._dragListIndex=-1;var r=document.createElement("span");r.id="drag-ghost",r.style.position="absolute",r.style.top="-1000px",document.body.appendChild(r),n.dataTransfer.setDragImage(r,0,0),r.remove()}o._addDropMark({x:n.pageX,y:n.pageY}),o._dropMark(n),n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",e[o._options.dataFields.id]?e[o._options.dataFields.id].toString():"")):n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.effectAllowed="move",n.originalEvent.dataTransfer.setData("text",e[o._options.dataFields.id]?e[o._options.dataFields.id].toString():"")),o._dragDropService.setData(s)}}}else n.preventDefault()}_preventDrop(n){n.dataTransfer?n.dataTransfer.dropEffect="none":n.originalEvent&&n.originalEvent.dataTransfer&&(n.originalEvent.dataTransfer.dropEffect="none")}_processDragEnter(n){this._options.allowDrop||this._preventDrop(n),this._currentDragDropMode===rr.Static?this._processDragEnterStatic(n):this._processDragEnterDynamic(n)}_processDragEnterStatic(n){if(!this._isCtrlDragEntered){this._isCtrlDragEntered=!0;let e=this._dragDropService.getData(),t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragEnterDynamic(n){if(n.preventDefault(),this._options.allowDrop&&!this._isCtrlDragEntered){this._isCtrlDragEntered=!0,this._isDragActive=!0,this._dropPos=-1,this._dropMark(n),this._updateDragItemList(),this._dragItemObj||(this._dragListStartPos.top=this._currentItemSize.height>0?this._currentItemSize.height/2:10,this._dragListStartPos.left=this._currentItemSize.width>0?this._currentItemSize.width/2:10,this._updateDragListPos(n),this.update());let e=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:e.clone,dropPos:-1,source:e.source,sourceCtrl:e.sourceCtrl,sourceData:e.sourceData,target:null,targetCtrl:this});let t={action:n.shiftKey?"copy":"move",dragObj:e.source,dropPos:-1,event:n,isDropAllowed:this._options.allowDrop,mousePos:this._commonService.getMousePos(n),sourceCtrl:e.sourceCtrl,targetCtrl:this,targetObj:null};this._invokeEvent("dragEnter",t)}}_processDragLeave(n){this._currentDragDropMode===rr.Static?this._processDragLeaveStatic(n):this._processDragLeaveDynamic(n)}_processDragLeaveStatic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();if(t.x-=o.x,t.y-=o.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom){this._isCtrlDragEntered=!1,this._stopScrollTimer();let r=this._dragDropService.getData(),s={action:n.shiftKey?"copy":"move",dragObj:r.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:r.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}this._dropMark(n)}}_processDragLeaveDynamic(n){if(this._isCtrlDragEntered){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();if(t.x-=o.x,t.y-=o.y,t.x<=e.left||t.x>=e.right||t.y<=e.top||t.y>=e.bottom){this._isCtrlDragEntered=!1,this._dragListIndex=-1,this._dropPos=-1,this._resetDragListPos(),this._updateScrollItemList(),this.update(),this._stopScrollTimer();let r=this._dragDropService.getData();this._dragDropService.setData({action:n.shiftKey?"copy":"move",clone:r.clone,dropPos:-1,source:r.source,sourceCtrl:r.sourceCtrl,sourceData:r.sourceData,target:null,targetCtrl:null});let s={action:n.shiftKey?"copy":"move",dragObj:r.source,dropPos:-1,event:n,isDropAllowed:!1,mousePos:this._commonService.getMousePos(n),sourceCtrl:r.sourceCtrl,targetCtrl:null,targetObj:null};this._invokeEvent("dragLeave",s)}}}_processDragOverStatic(n,e,t,o,r){n.preventDefault(),this._processDragEnter(n);let s=!0;if(n.dataTransfer?s=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(s=n.originalEvent.dataTransfer.effectAllowed!=="none"),s){let a=this._dragDropService.getData(),l=this._commonService.getShiftPos();if(e){let c=this._commonService.getMousePos(n);c.x-=l.x,c.y-=l.y;let d=this._dragDropService.getDropPos(c,t,o,r);s=this._isDropAllowed(a.source,e,d);let u={action:n.shiftKey?"copy":"move",source:a.source,dropPos:d,allow:s,sourceCtrl:a.sourceCtrl,target:e,targetCtrl:this},m=this._callDragDropEvent(n,u);if(!s||m.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let g=this._commonService.getMousePos(n),y=g.y+16,v=g.x+20,S={"iui-dragwin-icon":!0},I="";switch(m.dropPos){case 0:I="iui-dragwin-move-in";break;case 1:r==="horizontal"?I="iui-dragwin-move-left":I="iui-dragwin-move-up";break;case 2:r==="horizontal"?I="iui-dragwin-move-right":I="iui-dragwin-move-down";break;default:I=""}I!==""&&(m.action==="copy"&&(I+="-copy"),S[I]=!0),this._updateDragComponent({class:S,top:y,left:v,text:e[this._options.dataFields.text]}),this._dropMark(n,s),this._dragDropService.setData({action:m.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:e,targetCtrl:this,dropPos:m.dropPos})}}else if(!this._options.allowDrop)this._preventDrop(n),this._dropMark(n);else{s=this._checkEmptySpace(n);let c={action:n.shiftKey?"copy":"move",source:a.source,dropPos:-1,allow:s,sourceCtrl:a.sourceCtrl,target:null,targetCtrl:this},d=this._callDragDropEvent(n,c);if(!s||d.cancel===!0)this._preventDrop(n),this._dropMark(n);else{let u=this._commonService.getMousePos(n),m=u.y+16,g=u.x+20,y={"iui-dragwin-icon":!0,"iui-dragwin-move-end":!0};d.action==="copy"&&(y["iui-dragwin-move-end-copy"]=!0),this._updateDragComponent({class:y,top:m,left:g,text:this.name?this.name:"Component"}),this._dropMark(n,s),this._dragDropService.setData({action:d.action,clone:a.clone,source:a.source,sourceCtrl:a.sourceCtrl,sourceData:a.sourceData,target:null,targetCtrl:this,dropPos:d.dropPos})}}}}_processDragDropStatic(n,e){n.preventDefault(),this._dropMark(n);let t=!0;n.dataTransfer?t=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(t=n.originalEvent.dataTransfer.effectAllowed!=="none");let o=this._dragDropService.getData();if(t)if(e?t=this._isDropAllowed(o.source,e,o.dropPos):t=this._checkEmptySpace(n),t&&o.source){let r={action:o.action,source:o.source,dropPos:o.dropPos,allow:t,sourceCtrl:o.sourceCtrl,target:o.target,targetCtrl:this},s=this._callDragDropEvent(n,r,!0);this._dragDropService.setData({action:s.action,clone:o.clone,dropPos:s.dropPos,source:o.source,sourceCtrl:o.sourceCtrl,sourceData:o.sourceData,target:o.target,targetCtrl:this}),!s.cancel&&this._isProcessAllowed?this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();this._clearDragDropSettings(),this.update()}_processDragOverDynamic(n){n.preventDefault(),this._processDragEnter(n);let e=!0;if(n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none"),e){let t=this._dragDropService.getData();if(this._isAnimationInProcess=!0,this._dragOverStarted){this._updateDragListPos(n),this._currentDragPos=this._commonService.getMousePos(n);let o=this._scrollItemList,r=this._getDragDropTarget(e),s=r.target?r.target.data:null;e=r.pass&&this._options.allowDrop,this._dragTargetIndex>=0&&this._dragTargetIndex<o.length&&(s=o[this._dragTargetIndex].data),this._dropPos===0&&this._expandOnDelay(s);let a={action:n.shiftKey?"copy":"move",source:t.source,dropPos:s?this._dropPos:-1,allow:e,sourceCtrl:t.sourceCtrl,target:s,targetCtrl:this};this._isDragCopy=!!n.shiftKey;let l=this._callDragDropEvent(n,a);!e||l.cancel===!0?this._preventDrop(n):(this._updateDragItemPos(),this._dragDropService.setData({action:l.action,clone:t.clone,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:s,targetCtrl:this,dropPos:l.dropPos})),this._prevDragPos=this._commonService.getMousePos(n),this.update()}else{this._dragItemList.forEach(r=>r.data[this._options.dataFields.expanded]=!1);let o=this._dragItemObj?this.getNextCurrentItem(this._dragItemObj.data):null;for(;o&&this._isItemDragged(o);)o=this.getNextCurrentItem(o);this._processUpdateCurrentLayout(),this._dragItemObj&&this.isItemExpanded(this._dragItemObj.data)&&this.collapse(this._dragItemObj.data),this._scrollSizeAddition=0,t.sourceCtrl!==this?this._scrollSizeAddition=this._dragListSize.height:this._dragItemObj&&this._dragItemObj.position.y+this._currentScrollPos.y+this._dragListSize.height<this._maxScrollPos.y&&(this._scrollSizeAddition=this._dragListSize.height),this._updateScrollSize(),this._dragOverStarted=!0,this._updateScrollItemList(o),this.update(),this._dragListIndex=-1}}}_resetDragListPos(){this._dragListPos={top:-9999999,left:0}}_updateDragListPos(n){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let o=this._commonService.getPageRect(this._elemRef);this._dragListPos.top=t.y-o.y-this._dragListStartPos.top,this._dragListPos.left=t.x-o.x-this._dragListStartPos.left}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let o=this._scrollItemList.length-1;o>=0;o--){let r=this._scrollItemList[o];if(e=r.data,this._dragListPos.top+this._dragListSize.height>r.position.y+this._dragMoveSpace&&(this._dragListIndex=o+1,this._dropPos=2,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=o;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let o=0;o<this._scrollItemList.length;o++){let r=this._scrollItemList[o];if(e=r.data,this._dragListPos.top<r.position.y+r.size.height-this._dragMoveSpace&&(this._dragListIndex=o,this._dropPos=1,n=this._isDropAllowed(t.source,e))){this._dragTargetIndex=o;break}}return{pass:n,target:e}}_updateDragItemPos(){if(this._dragListIndex>=0){let n={x:this._ctrlPadding.left,y:this._ctrlPadding.top},e=0;for(e=0;e<this._scrollItemList.length;e++){let t=this._scrollItemList[e];e===this._dragListIndex&&(n.y+=this._dragListSize.height),e===this._dragTargetIndex&&this._updateDragIndent(this._dropPos>=0?t.indent:0),this._activeAnimations.filter(o=>o.isAnimated(t)).length===0&&this._animateTarget(t,n),n.y+=this.isSeparator(t.data)?15:this._currentItemSize.height}}}_updateDragIndent(n){}_animateTarget(n,e){let t={top:n.position.y,left:n.position.x},o={top:e.y,left:e.x};if(o.top!==t.top||o.left!==t.left){let r=this._updateAnimationValues.bind(this),s=new Ts(n);this._activeAnimations.push(s),s.animate({element:n,current:t,values:o},0,this._currentAnimationSpeedValue,r)}}_clearTargetAnimation(n){this._activeAnimations.filter(e=>e.isAnimated(n)).forEach(e=>{e.destroy(),e=void 0}),this._activeAnimations=this._activeAnimations.filter(e=>!e.isAnimated(n))}_updateAnimationValues(n,e,t){n.length>0&&(n.forEach(o=>{o.element&&(o.element.position={x:o.values.left,y:o.values.top},e&&(this._clearTargetAnimation(o.element),this._clearInactiveAnimations()))}),this.update())}_updateDragListSize(){this._dragContentElem=this.shadowRoot.querySelector("#drag-content"),this._dragContentElem&&(this._dragListSize={width:this._dragContentElem.offsetWidth,height:this._dragContentElem.offsetHeight})}_getDragItemExpandBoxStyle(n){return{}}_updateDragItemList(n){this._dragItemList.length=0;let e=n||this._dragDropService.getData();if(e.source){let t=Array.isArray(e.source)?e.source:[e.source];t.forEach(o=>{this._dragItemList.push({data:o,expanded:o[this._options.dataFields.expanded],indent:0,style:{expandBox:this._getDragItemExpandBoxStyle(o)}})}),this._currentDragItems=Math.min(this._maxDragItems,t.length),this._totalDragItems=t.length,this.refresh(),this._updateDragListSize()}}_processDragDropDynamic(n){return V(this,null,function*(){n.preventDefault(),this._dragItemList.forEach(o=>o.data[this._options.dataFields.expanded]=o.expanded),this._updateCurrentLayout(!1),this._dropMark(n),this._dragItemList.length=0,this.update();let e=!0;n.dataTransfer?e=n.dataTransfer.effectAllowed!=="none":n.originalEvent&&n.originalEvent.dataTransfer&&(e=n.originalEvent.dataTransfer.effectAllowed!=="none");let t=this._dragDropService.getData();if(e)if(t.target&&(e=this._isDropAllowed(t.source,t.target)),e&&t.source){let o={action:t.action,source:t.source,dropPos:t.dropPos,allow:e,sourceCtrl:t.sourceCtrl,target:t.target,targetCtrl:this},r=this._callDragDropEvent(n,o,!0);this._dragDropService.setData({action:r.action,clone:t.clone,dropPos:r.dropPos,source:t.source,sourceCtrl:t.sourceCtrl,sourceData:t.sourceData,target:t.target,targetCtrl:this}),!r.cancel&&this._isProcessAllowed?yield this._drop(this._dragDropService.getData()):this._isDragActive=!1}else this._isDragActive=!1,this._dragDropService.clearData();else this._isDragActive=!1,this._dragDropService.clearData();return this._clearDragDropSettings(),this.update(),Promise.resolve()})}_drop(n){return V(this,null,function*(){return this._currentDragDropMode===rr.Static?this._dropStatic(n):this._dropDynamic(n)})}_dropDynamic(n){return V(this,null,function*(){let e=this;return new Promise(t=>{let o=e.getTopItem(),r=e._getItemCurrentIndex(o),s=0;if(n&&n.sourceCtrl){let a=n.action==="copy"&&n.clone?n.clone:n.source,l=-1;if(Array.isArray(a)){let c=[];a.forEach(d=>{if((l=e._getItemCurrentIndex(d))<r&&(s++,e._isGroupingEnabled)){let u=e._getGroupFromItem(d);u&&!u.visibleOnDrag&&s--}c.push(d)}),n.dropPos===2&&(c=c.toReversed()),e._processDataDrop(c,n)}else{if((l=e._getItemCurrentIndex(a))<r&&(s=1,e._isGroupingEnabled)){let c=e._getGroupFromItem(a);c&&!c.visibleOnDrag&&s--}e._processDataDrop([a],n)}e._isAnimationInProcess=!1,n.sourceCtrl!==n.targetCtrl&&(s=0,e._isDragActive=!1),s=n.action!=="copy"?s:0,e.scrollTo(o,s),e._processUpdateLayout(),e._clearAllSelection(),e.refresh()}e._isAnimationInProcess=!1,setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_dropStatic(n){return V(this,null,function*(){let e=this;return new Promise(t=>{if(n&&n.sourceCtrl){e.suspendLayout();let o=n.action==="copy"&&n.clone?n.clone:n.source;if(Array.isArray(o)){let r=[];for(let s=0;s<o.length;s++)r.push(o[s]);n.dropPos===2&&(r=r.toReversed()),e._processDataDrop(r,n)}else e._processDataDrop([o],n);n.sourceCtrl!==n.targetCtrl&&n.sourceCtrl.updateLayout&&n.sourceCtrl.updateLayout(),e.resumeLayout(),e._clearAllSelection(),e.refresh()}setTimeout(function(){e._isCtrlDragEntered=!1,e._clearDragActive(),e._clearExpandTimeout(),e._dragDropService.clearData(),t()},250)})})}_processDataDrop(n,e){return V(this,null,function*(){let t=this;return new Promise(o=>{let r=!0;if(t._currentDragDropMode===rr.Dynamic&&e.dropPos<0&&(e.target||t._currentList.length>0)){r=!1;let s=t._commonService.getPageRect(t._elemRef),a=t._commonService.getShiftPos(),l=t._currentDragPos.y-a.y-s.top,c=t._scrollItemList[t._scrollItemList.length-1];c&&l>=c.position.y+c.size.height&&l<=s.height&&(r=!0)}if(r){if(e.action!=="copy"&&e.sourceCtrl&&e.sourceCtrl.removeItem&&e.sourceCtrl.removeItem(n),t._isGroupingEnabled&&e.dropPos>0&&e.target){let s=e.target[t._options.dataFields.group];if(e.target.type==="group"){let a=e.dropPos===1?t.getPrevObj(e.target,t._currentGroupList):e.target;if(s=a?a[t._options.dataFields.name]:void 0,a){let l=t._currentGroupBy?t._currentGroupBy:t._options.dataFields.group,c=t._fullList.filter(d=>d[l]===a[t._options.dataFields.name]&&t._isItemAllowed(d));c.length>0&&(e.dropPos===1?(e.target=c[c.length-1],e.dropPos=2):(e.target=c[0],e.dropPos=1))}else e.dropPos=-1}n.forEach(a=>a[t._options.dataFields.group]=s)}switch(e.dropPos){case 0:t.insertItemAt(n,t._currentDragDropMode===rr.Dynamic?0:-1,e.target);break;case 1:t.insertItemBefore(n,e.target);break;case 2:t.insertItemAfter(n,e.target);break;default:t.addItem(n)}}else o()})})}_itemDragStart(n,e,t){if(this._isEnabled)if(this._currentDragDropMode===rr.Static)this._processDragStartStatic(n,e.data);else{let o=this._getItemElemList();if(o&&t>=0&&t<o.length){let r=this._commonService.getPageRect(o[t]),s={x:r.left,y:r.top,width:r.right-r.left,height:r.bottom-r.top},a={x:(r=this._commonService.getClientRect(this._elemRef,o[t])).left,y:r.top,width:r.right-r.left,height:r.bottom-r.top};this._processDragStartDynamic(n,e.data,{page:s,client:a})}}n.stopPropagation()}_itemDragOver(n,e,t,o){if(this._isEnabled&&this._currentDragDropMode===rr.Static&&this._options.allowDrop){let r=this._getItemElemList();if(r&&t>=0&&t<r.length){let s=this._commonService.getPageRect(r[t]),a={x:s.left,y:s.top,width:s.right-s.left,height:s.bottom-s.top};this._expandOnDelay(e.data),this._processScroll(n),this._isScrollTimerActive||this._processDragOverStatic(n,e.data,a,o)}n.stopPropagation()}}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===rr.Static&&(this._processDragDropStatic(n,e.data),n.stopPropagation())}_itemDragEnd(n,e){let t=this._dragDropService.getData(),o={action:n.shiftKey?"copy":"move",dragObj:t.source,dropPos:t.dropPos,event:n,mousePos:this._commonService.getMousePos(n),sourceCtrl:t.sourceCtrl,targetCtrl:this,targetObj:t.target};this._invokeEvent("dragEnd",o),this.updateLayout(),this._clearDragDropSettings(),this._isAnimationInProcess=!1}_updateDropMark(n){let e=this._commonService.getMousePos(n),t=e.y+16,o=e.x-8,r=this._dragItemObj.data[this._options.dataFields.text];this._updateDragComponent({num:this._totalDragItems,top:t,left:o,text:r}),this._dropMark(n,!0,!0)}_windowDragOver(n){if(this._currentDragDropMode===rr.Dynamic&&this._isDragActive&&this._dragItemObj){let e=this._commonService.getPageRect(this._elemRef),t=this._commonService.getMousePos(n),o=this._commonService.getShiftPos();t.x-=o.x,t.y-=o.y,t.x<e.left||t.x>e.right||t.y<e.top||t.y>e.bottom?this._dragDropService.getData().targetCtrl?this._dropMark(n):this._updateDropMark(n):this._dropMark(n)}}exportToJSON(n,e,t,o){t=t||null,n=n||this.items;let r=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.childCount,this._options.dataFields.content,this._options.dataFields.contentVisibility,this._options.dataFields.contextMenu,this._options.dataFields.enabled,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.group,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.name,this._options.dataFields.radioGroup,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return JSON.stringify(n,r,t)}filter(n){this._filterParams=n,this._processUpdateLayout(),this._invokeEvent("filtered")}_clearHoverItem(){let n=this;if(n._hoverItem){let e=setTimeout(function(){let t=n._getObjFromScrollItem(n._hoverItem);n._hoverItem=null,n._updateItemStyle(t),clearTimeout(e)},25)}}cloneItem(n){return this._dataService.clone(n)}_createCloneList(n,e){let t=[];return n.map(o=>{let r=this.cloneItem(o);e&&delete r[this._options.dataFields.selected],t.push(r)}),t}_getFilterTree(n){return n?this._filterService.createTree(n.conditions,n.formula):null}_getGroupFromItem(n){let e=this,t=e._currentGroupBy?e._currentGroupBy:e._options.dataFields.group,o=e._currentGroupList.filter(r=>e._isGroupAllowed(r)&&r[e._options.dataFields.name]===n[t]);return o.length>0?o[0]:null}_getObjFromItem(n){return this._getObjFromList(n,this._currentList)}_getObjFromList(n,e){let t=e.filter(o=>n&&o.data===n);return t.length>0?t[0]:null}_getObjFromScrollItem(n){return this._getObjFromList(n,this._scrollItemList)}_getItemCurrentIndex(n){let e=this._getObjFromItem(n);return n&&e&&this._currentList?this._currentList.indexOf(e):-1}_getItemScrollIndex(n){return n&&this._scrollItemList?this._scrollItemList.indexOf(n):-1}_getItemElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemElemList(),o=this._getItemScrollIndex(e);if(o>=0&&o<t.length)return t[o]}return null}_getItemContentElem(n){let e=this._getObjFromScrollItem(n);if(e){let t=this._getItemContentElemList(),o=this._getItemScrollIndex(e);if(o>=0&&o<t.length)return t[o]}return null}_getItemElemList(){return this._itemElems?this._itemElems:null}_getItemContentElemList(){return this._itemContentElems?this._itemContentElems:null}getHoverItem(){return this._hoverItem}getList(n,e){let t=[];switch(n){case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(o=>o.data):[];break;default:t=this._dataService.getList(e)}return t}getFullList(){return this._fullList}_updateCurrentList(){}updateFullList(){return this._fullList=[...this._dataService.getList()],this._fullList=this._applySorting(this._fullList),this._fullList}getTopItem(){return this.virtualMode!==!1&&this._scrollItemList.length>0?this._scrollItemList[0].data:null}_isChildOf(n,e){return!1}_isThereNoSelectTemplate(n){return this.contentVisibility===ps.Both&&(!this._isSelectedTemplatePresent||!n[this._options.dataFields.selected])}_isThereHoverTemplate(n){return this._isThereNoSelectTemplate(n)||this.contentVisibility===ps.Hover}_checkItemHoverVisibility(n){return n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===ps.Hover||n[this._options.dataFields.contentVisibility]===ps.Both}_isContentAllowed(n,e){let t=this.contentVisibility===ps.Both;switch(e){case"hover":t=this._isThereHoverTemplate(n)&&this._checkItemHoverVisibility(n);break;case"select":{let o=t||this.contentVisibility===ps.Select,r=n[this._options.dataFields.contentVisibility]===void 0||n[this._options.dataFields.contentVisibility]===ps.Select||n[this._options.dataFields.contentVisibility]===ps.Both;t=o&&r}break;default:t=this.contentVisibility===ps.Both}return t}_isGroupAllowed(n){return n[this._options.dataFields.visible]!==!1}_isIndexInRange(n){return this._currentList?n>=0&&n<this._currentList.length:!1}_isItemAllowed(n){if(n[this._options.dataFields.visible]===!1)return!1;if(this._options.allowFilter===!1)return!0;let e=!0;if(n&&this._filterParams){let t=n[this._options.dataFields.value];t=t!==void 0?t:n[this._options.dataFields.text],this._filterParams.callback?e=this._filterParams.callback(t,n):!(e=this._filterService.match(t,this._filterParams.conditions,this._filterParams.caseSensitive,this._filterParams.formula,this._getFilterTree(this._filterParams)))&&this._filterParams.allowParent&&(e=this._filterIsThereChildren(n))}return e}isSeparator(n){return!1}_filterIsThereChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t)for(let o=0;o<t.length&&!(e=this._isItemAllowed(t[o]));o++);return e}_isItemDragged(n){return n?this._dragItemList.filter(e=>e.data===n).length>0:!1}_isItemEnabled(n){return this._isEnabled&&n&&this._commonService.isTrue(n[this._options.dataFields.enabled])}isItemExpanded(n){return n?!!(n[this._options.dataFields.expanded]||n[this._options.dataFields.expanded]===void 0):!0}_isItemHovered(n){return!!(!this._isDragActive&&!this._isScrollTimerActive&&n&&n===this._hoverItem)}_isItemSelected(n){return!!(n&&n[this._options.dataFields.selected]===!0)}_isParentOf(n,e){return!1}_updateItemList(){}beginLoad(n){this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}endLoad(n){let e=this;e._isLoading=!1,e._isLoadingEnd=!0,e.update(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_getLastItemIndex(){return this._fullList.length-1}getPrevCurrentItem(n){let e=null;if(n){let t=this._currentList,o=this._getItemCurrentIndex(n);(o=o>0?o-1:-1)>=0&&(e=t[o].data)}return e}getPrevItem(n){return this.getPrevObj(n,this._fullList)}getPrevObj(n,e){let t=null;if(n){let o=e.filter(r=>r.visibleOnDrag!==!1).indexOf(n);(o=o>0?o-1:-1)>=0&&(t=e[o])}return t}getNextCurrentItem(n){let e=null;if(n){let t=this._currentList,o=this._getItemCurrentIndex(n);(o=o>=0&&o<t.length-1?o+1:-1)>=0&&(e=t[o].data)}return e}getNextItem(n){return this.getNextObj(n,this._fullList)}getNextObj(n,e){let t=null;if(n){let o=e.indexOf(n);(o=o<e.length-1?o+1:-1)>=0&&(t=e[o])}return t}moveItem(n,e,t,o){return V(this,null,function*(){if(n){let r=-1;switch(e){case di.At:r=o;break;case di.Down:t=this.getNextItem(n);break;case di.First:r=0;break;case di.Last:this._fullList.length>0&&(t=this._fullList[this._fullList.length-1]);break;case di.Up:t=this.getPrevItem(n);break;default:r=-1}let s=Array.isArray(n)?n:[n];yield this._moveItemAt(s,t,e,r)}return Promise.resolve()})}_moveItemAt(n,e,t,o){return V(this,null,function*(){let r=this;if(!e){if(t===di.Before||t===di.Up)return Promise.resolve();if(t===di.After||t===di.Down||t===di.Last)return Promise.resolve()}r._isUpdateAllowed=!1;let s=n.filter(a=>r._fullList.indexOf(a)>=0);r._getItemCurrentIndex(s[0])>r._getItemCurrentIndex(s[s.length-1])&&(s=s.toReversed());for(let a=0;a<s.length;a++){let l=s[a];yield r.removeItem(l),t===di.First||t===di.Right||t===di.At?yield this.insertItemAt(l,o,e):t===di.Before||t===di.Up?yield this.insertItemBefore(l,e):(t===di.After||t===di.Left||t===di.Down||t===di.Last)&&(yield this.insertItemAfter(l,e))}return r._isUpdateAllowed=!0,r._internalUpdateLayout(),r._invokeEvent("itemMoved",{item:s}),Promise.resolve()})}_getSelectBlockRect(n){let e={left:0,top:"-9999999px",height:0,width:0};return n<this._blockSelectRect.length&&(e={left:this._blockSelectRect[n].left+"px",top:this._blockSelectRect[n].top+"px",height:this._blockSelectRect[n].height+"px",width:this._blockSelectRect[n].width+"px"}),e}_hoverBlockMouseMove(n){this._isEnabled&&!this._isScrollActive&&!this._hoverItem&&this._itemMouseEnter(n,this._hoverItemObj)}_hoverBlockMouseLeave(n){this._isEnabled&&!this._isScrollActive&&this._itemMouseLeave(n,this._hoverItemObj)}_itemMouseEnter(n,e){this._isEnabled&&!this._isDragActive&&!this._isScrollActive&&!this.isSeparator(e.data)&&(this._hoverItem=e.data,this._hoverItemObj=e,this._updateItemStyle(e),this.update(),this._invokeEvent("itemHover",{item:e.data}))}_itemMouseMove(n,e){if(this._isEnabled&&!this._isDragActive&&!this._isScrollActive){this._hoverItem=e.data,this._updateItemStyle(e);let t=this._getItemScrollIndex(e),o=this._getItemElemList();if(o&&t>=0&&t<o.length){let r=this._commonService.getPageRect(this._elemRef),s=this._commonService.getPageRect(o[t]);this._blockHoverRect.top=s.top-r.top-1,this._blockHoverRect.width=this._clientRect.width-2,this.isVerScrollVisible()&&(this._blockHoverRect.width-=16,this._currentScrollAppearance===Hn.Dynamic&&(this._blockHoverRect.width+=7)),this.update()}this._invokeEvent("itemHover",{item:e.data})}}_itemMouseLeave(n,e){this._isEnabled&&!this._isScrollActive&&(this._hoverItem=null,this._updateItemStyle(e),this.update())}_itemGotFocus(n){this._isEnabled&&!this._isScrollActive&&(this.focusedItem=n.data)}_itemLostFocus(n){this.focusedItem=null,this.refresh()}_itemKeyDown(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};switch(this._invokeEvent("keyDown",t),n.keyCode){case 9:break;case 13:this._invokeEvent("beforeEdit",t);break;case 27:break;case 33:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageUpKey(e));break;case 34:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processPageDownKey(e));break;case 35:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processEndKey(e));break;case 36:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processHomeKey(e));break;case 37:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processLeftArrowKey(e));break;case 32:break;case 38:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processUpArrowKey(e));break;case 39:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processRightArrowKey(e));break;case 40:!t.cancel&&this._options.allowFocus&&(n.preventDefault(),this._isKeyboardActive=!0,this._processDownArrowKey(e));break;default:this._defaultFunc()}}}_itemKeyPress(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyPress",t)}}_itemKeyUp(n,e){if(this._isEnabled){let t={cancel:!1,item:e.data,event:n};this._invokeEvent("keyUp",t)}}_refreshFocusedItem(n){let e=this;setTimeout(function(){e._currentFocusObj=n,e._updateFocusItem(),e.refresh()},1)}_updateFocusItem(){if(this._options.allowFocus&&this._currentFocusObj){let n=this._getItemContentElem(this._currentFocusObj.data);n&&n.focus()}}_processDownArrowKey(n,e){let t=this._getDownItem(n);if(t){let o=this,r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1);this._isLastItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+2*this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_processEndKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._maxScrollPos.y});let o=this;setTimeout(function(){t=o._scrollItemList[o._scrollItemList.length-1],o.focusedItem=t.data;let r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1)},1)}return t}_processHomeKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:0});let o=this;setTimeout(function(){t=o._scrollItemList[0],o.focusedItem=t.data;let r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1)},1)}return t}_processLeftArrowKey(n,e){return null}_processPageDownKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y+this._avgItemHeight*(this._scrollItemList.length-1)});let o=this;setTimeout(function(){let r=n.index>=0&&n.index<o._scrollItemList.length?n.index:o._scrollItemList.length-1;o._currentScrollPos.y===o._maxScrollPos.y&&(r=o._scrollItemList.length-1),t=o._scrollItemList[r],o.focusedItem=t.data;let s=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processPageUpKey(n,e){let t=null;if(this._scrollItemList.length>0){this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight*(this._scrollItemList.length-1)});let o=this;setTimeout(function(){let r=n.index>=0&&n.index<o._scrollItemList.length?n.index:0;o._currentScrollPos.y===0&&(r=0),t=o._scrollItemList[r],o.focusedItem=t.data;let s=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(s)},1)},1)}return t}_processRightArrowKey(n,e){return null}_processUpArrowKey(n,e){let t=this._getUpItem(n);if(t){let o=this,r=setTimeout(function(){o._processSelection(e,t.data),clearTimeout(r)},1);this._isFirstItem(t)&&this.scrollPos({x:this._currentScrollPos.x,y:this._currentScrollPos.y-this._avgItemHeight}),this.focusedItem=t.data,this.refresh()}return t}_getDownItem(n){let e=n.index>=0&&n.index<this._scrollItemList.length-1?n.index+1:-1;return e>=0?this._scrollItemList[e]:null}_getUpItem(n){let e=n.index>0?n.index-1:-1;return e>=0?this._scrollItemList[e]:null}_isFirstItem(n){return n.index===0}_isLastItem(n){return n.index===this._scrollItemList.length-2}moveFocus(n,e){if(!this._options.allowFocus)return null;let t=null,o=this._getObjFromScrollItem(n);if(o)switch(e){case"down":t=this._processDownArrowKey(o);break;case"end":t=this._processEndKey(o);break;case"home":t=this._processHomeKey(o);break;case"left":t=this._processLeftArrowKey(o);break;case"pagedown":t=this._processPageDownKey(o);break;case"pageup":t=this._processPageUpKey(o);break;case"right":t=this._processRightArrowKey(o);break;case"up":t=this._processUpArrowKey(o);break;default:this._defaultFunc()}return t?t.data:null}_windowKeyDown(n){this._isEnabled&&this._isKeyboardActive&&n.preventDefault()}_windowKeyUp(n){this._isKeyboardActive=!1}_checkForSelectionChange(){if(this._currentSelectedItems.length>0){let n=this.getFullList(),e=[];if(this._currentSelectedItems.forEach(t=>{n.filter(o=>this._commonService.isEqual(o[this._options.dataFields.id],t[this._options.dataFields.id])).length===0&&e.push(t)}),e.length>0){let t=[];e.forEach(o=>{o[this._options.dataFields.selected]=!1,t.push(this._currentSelectedItems.indexOf(o))}),this._currentSelection&&e.filter(o=>this._commonService.isEqual(this._currentSelection[this._options.dataFields.id],o[this._options.dataFields.id])).length>0&&(this._currentSelection=null);for(let o=t.length-1;o>=0;o--)this._currentSelectedItems.splice(t[o],1);this._invokeEvent("selectionChanged",{item:this._currentSelection})}}}_getContentSize(){return{width:0,height:0}}_internalUpdateCurrentLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateCurrentLayout(),n._resetLayoutTimer()},100)}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateBlockSize(){this._blockSize={width:0,height:0}}_resetAnimationCheckTimer(){this._animationCheckTimer&&clearInterval(this._animationCheckTimer),this._animationCheckTimer=null}_resetLayoutTimer(){this._updateTimer&&clearTimeout(this._updateTimer),this._updateTimer=null}suspendLayout(){this._isUpdateAllowed=!1}resumeLayout(){return V(this,null,function*(){return this._isUpdateAllowed=!0,this.updateLayout()})}_updateCheckState(){}_updateCurrentLayout(n){}_updateItemElems(){this._itemElems=this.shadowRoot.querySelectorAll("li[data-item]"),this._itemContentElems=this.shadowRoot.querySelectorAll("div[data-item-content]")}_internalUpdateLayout(){let n=this;n._resetLayoutTimer(),n._updateTimer=setTimeout(function(){n._updateTimer&&n._processUpdateLayout(),n._resetLayoutTimer()},100)}updateLayout(n){return V(this,null,function*(){let e=this,t=Promise.resolve();return e._animationCheckTimer||(e._animationCheckTimer=setInterval(function(){return V(this,null,function*(){e._isAnimationInProcess||(e._resetAnimationCheckTimer(),t=yield e._processUpdateLayout())})},100)),t})}_processUpdateLayout(){let n=this;return new Promise(e=>{if(n._isUpdateActive=!0,n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._stackAdd.length=0,n._stackRemove.length=0,n._updateCurrentList(),n.updateFullList(),n._ctrlPadding=n._commonService.getPadding(n._elemRef),n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateScrollItemList(),n.update(),setTimeout(function(){n._updateItemElems(),n._updateVisibleRange(),setTimeout(function(){n._updateItemElems(),n._updateBlockSize(),n._checkForSelectionChange(),n._updateCurrentItemSize(),n._updateCheckState(),n._updateScrollSize(),n._updateVisibleRange(),n._updateScrollItemList(),n.refresh(),n._currentItemSize={width:n._contentSize.width,height:n._avgItemHeight},n._isAutoSized?(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize()):n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateScrollItemPos(),setTimeout(function(){n._updateBlockSize(),t&&(n.focusedItem=t),n._isUpdateActive=!1,n._updateItemElems(),n._updateHoverContentPos(),n._updateSelectContentPos(),n.refresh(),n._invokeEvent("updateComplete"),e()},1)},1)},1)}else e()})}_updateClientRect(){this._ctrlPadding=this._commonService.getPadding(this._elemRef),this._elemRef.clientWidth>0&&this._elemRef.clientHeight>0&&(this._clientRect={width:this._elemRef.clientWidth-(this._ctrlPadding.left+this._ctrlPadding.right),height:this._elemRef.clientHeight-(this._ctrlPadding.top+this._ctrlPadding.bottom)})}_updateCurrentItemSize(){let n=this;n._avgItemHeight=0;let e=n._getItemElemList();if(e&&e.length>0){let t=0;for(let o=0;o<e.length;o++)t+=e[o].offsetHeight;n._avgItemHeight=Math.floor(t/e.length)}n._currentItemSize.height=n._avgItemHeight}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-2,height:n._clientRect.height-2},n._scrollSize={width:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._contentSize.width-=16,n._currentScrollAppearance===Hn.Dynamic&&(n._contentSize.width+=5),n._scrollSize.width>0&&(n._scrollSize.width+=16)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-14:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-14:n._clientRect.height},n._currentScrollAppearance===Hn.Static?(n._scrollBarSize.width-=4,n._scrollBarSize.height-=4):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===Hn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}_updateHoverContentPos(){let n=this;if(n._blockHoverRect={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2},n._hoverItem&&n._isHoverTemplatePresent){let e=n._getObjFromScrollItem(n._hoverItem),t=n._getItemScrollIndex(e),o=n._getItemElemList();if(o&&t>=0&&t<o.length){let r=n._commonService.getPageRect(n._elemRef),s=n._commonService.getPageRect(o[t]);n._blockHoverRect.top=s.top-r.top-1,n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,n._currentScrollAppearance===Hn.Dynamic&&(n._blockHoverRect.width+=7)),n.update()}}}_updateSelectContentPos(){let n=this;if(n._blockSelectRect.length=0,n._isSelectedTemplatePresent){let e=n._commonService.getPageRect(n._elemRef),t=n._getItemElemList();n._blockSelectHeight=n._avgItemHeight-2,n._currentSelectedItems.forEach(o=>{let r=n._getObjFromScrollItem(o),s=n._getItemScrollIndex(r),a={height:n._blockSelectHeight,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(a.width-=16);let l=n._commonService.getPageRect(t[s]);t&&s>=0&&s<t.length?a.top=l.top-e.top-1:a.top=-9999999,n._blockSelectRect.push(a)})}}_updateVisibleRange(){if(this._isAutoSized)this._visibleRange=this._currentList.length;else{this._visibleRange=1;let n=this._getItemElemList();if(n&&n.length>0){let e=0;for(let o=0;o<n.length;o++)e+=n[o].offsetHeight;let t=Math.floor(e/n.length);t>0&&(this._visibleRange=Math.floor(this._clientRect.height/t)+1)}}}updateView(){this._currentIndex=this._avgItemHeight>0?Math.floor(this._currentScrollPos.y/this._avgItemHeight):0,this._currentIndex!==this._prevIndex?(this._updateScrollItemList(),this._updateBlockSize(),this._prevIndex=this._currentIndex,this.update(),this._updateItemElems()):this.update(),this._updateHoverContentPos(),this._updateSelectContentPos()}_updateCloneElemPos(n){n.which===1&&this._cloneElem&&(this._cloneElem.style.top=n.pageY-this._cloneElemStartPos.y+"px",this._cloneElem.style.left=n.pageX-this._cloneElemStartPos.x+"px")}_ctrlMouseEnter(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="block"),this.state|=tn.Hovered,this._currentScrollAppearance===Hn.Dynamic&&(this._isScrollVisible=!0)),this._ctrlCursor="default",this.update()}_ctrlMouseLeave(n){this._isEnabled&&(n.which===1&&this._cloneElem&&(this._cloneElem.style.display="none"),this.state&=~tn.Hovered,this._currentScrollAppearance===Hn.Dynamic&&(this._resetScrollAppearanceTimeout(),this._isScrollVisible=!!this._isScrollActive)),this._blockHoverRect.top=-9999999,this.update(),this._stopScrollTimer()}_onCtrlMouseMove(n){this._hoverItem||(this._blockHoverRect.top=-9999999,this.update())}_itemMouseDown(n,e){this._isEnabled&&(this._isItemClicked=!0,this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),e.data.type==="group"&&n.which===1?this.toggle(e.data):this._processSelection(n,e.data),this._prevClickedObj&&(this._prevClickedObj.isClicked=!1),e.isClicked=!0,e.clickPos=this._commonService.getClientPos(n,this._elemRef),this._prevClickedObj=e),n.stopPropagation()}_itemMouseUp(n,e){this._isEnabled&&this._isItemClicked&&this._updateSelection(n,e.data),this._isItemClicked=!1}_onScroll(n){n.target&&(this.virtualMode?(n.target.scrollTop=0,n.target.scrollLeft=0):this.scrollPos({x:n.target.scrollLeft,y:n.target.scrollTop}))}scrollPos(n){return n&&(this._currentScrollPos={x:Math.max(0,Math.min(n.x,this._maxScrollPos.x)),y:Math.max(0,Math.min(n.y,this._maxScrollPos.y))},this.updateView(),this._invokeEvent("scrollPosChanged",{value:this._currentScrollPos,max:this._maxScrollPos})),{x:Math.floor(this._currentScrollPos.x),y:Math.floor(this._currentScrollPos.y)}}_changeHorizontalScrollPos(n){this._currentScrollPos.x=Math.max(0,Math.min(n,this._maxScrollPos.x)),this._currentScrollPos.x!==this._prevScrollPos.x&&(this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.x=this._currentScrollPos.x,this.update())}_changeVerticalScrollPos(n){this._currentScrollPos.y=Math.max(0,Math.min(n,this._maxScrollPos.y)),this._currentScrollPos.y!==this._prevScrollPos.y&&(this.updateView(),this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this._prevScrollPos.y=this._currentScrollPos.y)}_processMouseWheel(n,e){if(this._isEnabled){this._hoverItem=null,this._isMouseWheelActive=!0;let t=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail)),o=5;switch(this._mouseWheelSpeed){case Us.VerySlow:o=15;break;case Us.Slow:o=9;break;case Us.Fast:o=3;break;case Us.VeryFast:o=1;break;default:o=5}if(n.preventDefault(),this.isVerScrollVisible()){let r=Math.floor(this._clientRect.height/o);this._mouseWheelSpeed===Us.VerySlow&&this._avgItemHeight>0&&(r=this._avgItemHeight);let s=this._currentScrollPos.y+r*t*-1;t>0&&s<=this._avgItemHeight&&(s=0),this._changeVerticalScrollPos(s)}else if(e&&this.isHorScrollVisible()){let r=Math.floor(this._clientRect.width/o),s=this._currentScrollPos.x+r*t*-1;this._changeHorizontalScrollPos(s)}n.stopPropagation(),this._isMouseWheelActive=!1}}isVerScrollVisible(){return!!(!this._isAutoSized&&this._options.showScroll.vertical&&this._scrollSize.height>0)}isHorScrollVisible(){return!!(this._options.showScroll.horizontal&&this._scrollSize.width>0)}isScrolling(){return this._isScrollActive}_onVerticalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onVerticalScrollEnd(n){this._isScrollActive=!1,this._updateScrollAppearance(n.detail.event)}_onVerticalScrollChanged(n){this._isMouseWheelActive||this._changeVerticalScrollPos(n.detail.value)}_onHorizontalScrollStart(n){this._hoverItem=null,this._isScrollActive=!0}_onHorizontalScrollEnd(n){this._isScrollActive=!1}_onHorizontalScrollChanged(n){this._currentScrollPos.x=n.detail.value,this._invokeEvent("scrollPosChanged",{value:this.scrollPos(),max:this._maxScrollPos}),this.update()}_scrollMouseEnter(n){this._blockHoverRect.top=-9999999,this.update()}_processScroll(n){if(this.isVerScrollVisible()){let e=this._commonService.getShiftPos(),t=this._commonService.getMousePos(n);t.x-=e.x,t.y-=e.y;let o=this._commonService.getPageRect(this._elemRef),r=o.top+25,s=o.bottom-25;if(this.isHorScrollVisible()&&(s-=16),this._currentDragDropMode===rr.Static)t.y<r&&this._currentScrollPos.y>0?this._startScrollTimer(!1):t.y>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer();else{let a=this._commonService.getPageRect(this._elemRef);a.y+this._dragListPos.top<r&&this._currentScrollPos.y>0?this._startScrollTimer(!1):a.y+this._dragListPos.top+this._dragListSize.height>s&&this._currentScrollPos.y<this._maxScrollPos.y?this._startScrollTimer(!0):this._stopScrollTimer()}}else this._stopScrollTimer()}_resetScrollAppearanceTimeout(){this._scrollAppearanceTimeout&&clearTimeout(this._scrollAppearanceTimeout),this._scrollAppearanceTimeout=null}_startScrollTimer(n,e){let t=this;if(t._removeDropMark(),!t._isScrollTimerActive){t._accelerator=.5,t._scrollCount=0,t._isScrollTimerActive=!0;let o=e||100;t._scrollTimerID||(t._scrollTimerID=setInterval(function(){t._scrollTimerElapsed(n)},o))}}_stopScrollTimer(){this._scrollTimerID&&(clearInterval(this._scrollTimerID),this._scrollTimerID=null),this._accelerator=.5,this._scrollCount=0,this._isScrollTimerActive=!1}_scrollTimerElapsed(n){let e=this._currentScrollPos;this._scrollCount===0&&(this._scrollCount=5),this._scrollCount+=5,this._accelerator+=.5,this._scrollCount+=Math.floor(this._accelerator);let t=this._scrollCount;n?this._currentScrollPos.y+t>this._maxScrollPos.y?this._currentScrollPos.y=this._maxScrollPos.y:this._currentScrollPos.y+=t:this._currentScrollPos.y-t<0?this._currentScrollPos.y=0:this._currentScrollPos.y-=t,(e.y<=0||this._currentScrollPos.y<e.y)&&this._stopScrollTimer(),this.update()}scrollTo(n,e){if(this.virtualMode!==!1&&n){let t=this._getItemCurrentIndex(n);t>=0&&this.scrollPos({x:this._currentScrollPos.x,y:e!==void 0?this._avgItemHeight*(t-e):this._avgItemHeight*(t+1-Math.floor(this._visibleRange/2))}),this._processUpdateLayout()}}_updateScrollAppearance(n){let e=this;e._resetScrollAppearanceTimeout(),e._scrollAppearanceTimeout=setTimeout(function(){let t=e._commonService.getPageRect(e._elemRef),o=e._commonService.getMousePos(n),r=e._commonService.getShiftPos();o.x-=r.x,o.y-=r.y;let s=o.x<t.left||o.x>t.right||o.y<t.top||o.y>t.bottom;e._isScrollVisible=!s,e.update()},100)}findItemById(n){return this._dataService.findObjectById(n)}findItemByText(n){return this._dataService.findObjectByText(n)}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e)}_clearAllSelection(){let n=this._fullList;n&&(n.forEach(e=>e[this._options.dataFields.selected]=!1),this._currentSelection=null,this._currentSelectedItems.length=0)}clearSelection(){this._clearPrevSelection(),this._currentSelection=null,this._updateSelectContentPos(),this.refresh()}_clearComponentSelection(){this._itemList.forEach(n=>n.state&=~tn.Selected)}_clearPrevSelection(n){for(let e=0;e<this._currentSelectedItems.length;e++)n&&!this._commonService.isEqual(this._currentSelectedItems[e][this._options.dataFields.id],n[this._options.dataFields.id])?this._currentSelectedItems[e][this._options.dataFields.selected]=!1:n||(this._currentSelectedItems[e][this._options.dataFields.selected]=!1);this._currentSelectedItems.length=0,n&&this._isItemEnabled(n)&&this._currentSelectedItems.push(n)}_isItemInSelectionList(n){let e=!1,t=this._currentSelectedItems;if(n&&t){for(let o=0;o<t.length;o++)if(this._commonService.isEqual(t[o][this._options.dataFields.id],n[this._options.dataFields.id])){e=!0;break}}return e}_isCtrlKeyPressed(n){return n&&(n.ctrlKey||n.metaKey)}_isShiftKeyPressed(n){return n&&n.shiftKey}_processSelection(n,e,t){let o=this,r=!0;if(e){if(o.selectionMode===ko.None||e.type==="group"||e[o._options.dataFields.canSelect]===!1)return;let s=o._currentSelectedItems.length>0;if(!o._isItemEnabled(e))o._clearPrevSelection(),o.refresh(),s&&this._invokeEvent("selectionChanged",{item:null});else{let a=o._currentSelection,l=!0;a&&(l=this._isCtrlKeyPressed(n)||!this._commonService.isEqual(a[o._options.dataFields.id],e[o._options.dataFields.id])||a[o._options.dataFields.selected]===!1);let c={cancel:!1,item:e};if(o._invokeEvent("beforeSelect",c),r=c.cancel!==!0,c.cancel!==!0){let d=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(l){if(o.selectionMode===ko.MultiExtended&&(l=!o._isItemInSelectionList(e)||!d||this._isShiftKeyPressed(n)),l&&(o.selectionMode===ko.One||n&&n.shiftKey||!d&&o.selectionMode!==ko.MultiSimple&&(o._currentSelectedItems.length===1||!o._isItemInSelectionList(e)))&&o._clearPrevSelection(),o._currentSelection=e,n&&n.shiftKey&&o.selectionMode!==ko.One){o._shiftFirstSelectedItem||(o._shiftFirstSelectedItem=a);let u=o._getItemCurrentIndex(o._shiftFirstSelectedItem),m=o._getItemCurrentIndex(e);if(u>m){let g=u;u=m,m=g}if(o._isIndexInRange(u)&&o._isIndexInRange(m))for(let g=u;g<=m;g++)o._currentList[g].data.type!=="group"&&o._currentList[g].data[o._options.dataFields.canSelect]!==!1&&(o._currentList[g].data[o._options.dataFields.selected]=!0,o._currentSelectedItems.push(o._currentList[g].data))}else if(d||o.selectionMode===ko.MultiSimple){let u=e[o._options.dataFields.selected]===null||e[o._options.dataFields.selected]==="undefined"?!1:e[o._options.dataFields.selected];e[o._options.dataFields.selected]=!u,e[o._options.dataFields.selected]?o._isItemInSelectionList(e)||o._currentSelectedItems.push(e):o._currentSelectedItems=o._currentSelectedItems.filter(function(m){return m!==e}),o._shiftFirstSelectedItem=null}else e[o._options.dataFields.selected]=!0,o._isItemInSelectionList(e)||o._currentSelectedItems.push(e),o._shiftFirstSelectedItem=null;o._callAfterSelectEvent(e),o.refresh()}else if(d||o.selectionMode===ko.MultiSimple){let u=e[o._options.dataFields.selected]===null||e[o._options.dataFields.selected]==="undefined"?!1:e[o._options.dataFields.selected];t&&t!=="undefined"&&(u=t),e[o._options.dataFields.selected]=!u,e[o._options.dataFields.selected]?o._isItemInSelectionList(e)||o._currentSelectedItems.push(e):o._currentSelectedItems=o._currentSelectedItems.filter(function(m){return m!==e}),o._shiftFirstSelectedItem=null,o._callAfterSelectEvent(e),o.refresh()}else!d&&!(o.selectionMode&ko.MultiSimple)&&(o._currentSelectedItems.length===1||!o._isItemInSelectionList(e))&&(o._shiftFirstSelectedItem=null,o._clearPrevSelection(e),o.refresh(),l&&s&&o._invokeEvent("selectionChanged",{item:null}));o._updateSelectContentPos()}}}return r}selectItems(n){if(n&&Array.isArray(n)){this._currentSelectedItems.map(e=>e[this._options.dataFields.selected]=!1),this._currentSelectedItems.length=0;for(let e=0;e<n.length;e++)n[e][this._options.dataFields.selected]=!0,this._currentSelectedItems.push(n[e]);n.length>0?(this._currentSelection=n[n.length-1],this._callAfterSelectEvent(this._currentSelection)):this._currentSelection=null,this.refresh()}}_updateSelection(n,e){let t=!!(n&&(n.shiftKey||n.ctrlKey||n.metaKey));if(this.selectionMode===ko.MultiExtended&&e[this._options.dataFields.canSelect]!==!1&&this._currentSelectedItems.length>0&&!n.shiftKey&&!t&&n.which===1){let o=this._currentSelectedItems.length;this._clearPrevSelection(),e[this._options.dataFields.selected]=!0,this._currentSelectedItems.push(e),this._updateSelectContentPos(),o>1&&this._callAfterSelectEvent(e),this.refresh()}}_applySorting(n){let e=this;return Array.isArray(n)&&(n=[...n])&&(e._sortComparer?n.sort(e._sortComparer):e._isSortingAllowed()&&n.sort(function(t,o){let r=null,s=null;switch((r=t[e._options.dataFields.value])||(r=t.type==="group"?t[e._options.dataFields.name]:t[e._options.dataFields.text]),e._commonService.isObject(r)&&(r=r.value?r.value:r.text),(s=o[e._options.dataFields.value])||(s=o.type==="group"?o[e._options.dataFields.name]:o[e._options.dataFields.text]),e._commonService.isObject(s)&&(s=s.value?s.value:s.text),r=r!==void 0?r:null,s=s!==void 0?s:null,e._currentSorting){case Kl.Ascending:if(r<s)return-1;if(r>s)return 1;break;case Kl.Descending:if(r>s)return-1;if(r<s)return 1;break;default:return 0}return 0})),n}_isSortingAllowed(){return this._currentSorting===Kl.Ascending||this._currentSorting===Kl.Descending}sort(n,e){this._currentSorting=n,this._sortComparer=e||null,this._processUpdateLayout(),this._invokeEvent("sorted")}_getDragListClass(){return this._dragListClass={"iui-draglist":!0},this._isDragActive&&(this._dragListClass["iui-draglist-active"]=!0),this._dragListClass}_getItemInlineStyle(n){return n?n.data[this._options.dataFields.style]||{}:{}}_getScrollCornerClass(){let n={};return n[this._scrollCornerClassName]=!0,this._currentScrollAppearance===Hn.Dynamic&&(n[this._scrollCornerClassName+"-dynamic"]=!0),this._isEnabled||(n[this._scrollCornerClassName+"-disabled"]=!0),n}refresh(){this._updateControlClass(),this._scrollItemList.forEach(n=>this._updateItemStyle(n)),this.update(),this._updateReferences()}_updateItemStyle(n){if(n){n.style={expandBox:{},general:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.data.type==="group"?(n.style.general[this._groupClassName]=!0,n.style.general[this._options.currentStyle.group.general.normal]=!0,n.style.content[this._groupContentClassName]=!0,n.style.content[this._options.currentStyle.group.content.normal]=!0,this._isItemEnabled(n.data)||(n.style.general[this._options.currentStyle.group.general.disabled]=!0,n.style.content[this._options.currentStyle.group.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.group.general.focused]=!0,n.style.content[this._options.currentStyle.group.content.focused]=!0),n.style.expandBox[this._options.currentStyle.group.expandBox.general]=!0,n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.group.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.group.expandBox.collapsed]=!0):(n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?(n.style.general[this._options.currentStyle.item.general.selected]=!0,n.style.content[this._options.currentStyle.item.content.selected]=!0):this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0,n.style.content[this._options.currentStyle.item.content.hovered]=!0):(n.style.general[this._options.currentStyle.item.general.disabled]=!0,n.style.content[this._options.currentStyle.item.content.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.general[this._options.currentStyle.item.general.focused]=!0,n.style.content[this._options.currentStyle.item.content.focused]=!0));let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemGeneralStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemClassName+"-selected")}:this._getDefaultItemGeneralStyle()}_getItemContentStyle(n){return this._commonService.isString(n)?n:n?{disabled:this._commonService.isFieldAvailable(n.disabled,this._itemContentClassName+"-disabled"),focused:this._commonService.isFieldAvailable(n.focused,this._itemContentClassName+"-focused"),normal:this._commonService.isFieldAvailable(n.normal,this._itemContentClassName),hovered:this._commonService.isFieldAvailable(n.hovered,this._itemContentClassName+"-hovered"),selected:this._commonService.isFieldAvailable(n.selected,this._itemContentClassName+"-selected")}:this._getDefaultItemContentStyle()}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),group:this._getDefaultGroupStyle(),item:this._getDefaultItemStyle()}}_getDefaultGroupStyle(){return{expandBox:this._getDefaultGroupExpandBoxStyle(),general:this._getDefaultGroupGeneralStyle(),content:this._getDefaultGroupContentStyle()}}_getDefaultGroupExpandBoxStyle(){return{general:this._defaultStyle.group.expandBox.general,expanded:this._defaultStyle.group.expandBox.expanded,collapsed:this._defaultStyle.group.expandBox.collapsed}}_getDefaultGroupGeneralStyle(){return{disabled:this._defaultStyle.group.general.disabled,focused:this._defaultStyle.group.general.focused,normal:this._defaultStyle.group.general.normal,hovered:this._defaultStyle.group.general.hovered,selected:this._defaultStyle.group.general.selected}}_getDefaultGroupContentStyle(){return{disabled:this._defaultStyle.group.content.disabled,focused:this._defaultStyle.group.content.focused,normal:this._defaultStyle.group.content.normal,hovered:this._defaultStyle.group.content.hovered,selected:this._defaultStyle.group.content.selected}}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemGeneralStyle(){return{disabled:this._defaultStyle.item.general.disabled,focused:this._defaultStyle.item.general.focused,normal:this._defaultStyle.item.general.normal,hovered:this._defaultStyle.item.general.hovered,selected:this._defaultStyle.item.general.selected}}_getDefaultItemContentStyle(){return{disabled:this._defaultStyle.item.content.disabled,focused:this._defaultStyle.item.content.focused,normal:this._defaultStyle.item.content.normal,hovered:this._defaultStyle.item.content.hovered,selected:this._defaultStyle.item.content.selected}}_updateStyle(n){this._options.currentStyle=this._getDefaultListStyle()}_getItemTemplate(n,e){let t=null,o=null;if(n.type==="group")t=this.itemTemplate;else switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let r=t(n,this._getItemCurrentIndex(n));r&&(o=new Mc(r.strings,r.values,"html",pm))}if(!o){let r={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(l=>r[l]=!0);let a=n.type==="group"?n[this._options.dataFields.name]:n[this._options.dataFields.text];return Ke`                 ${s.length>0?Ke`<span class=${Gn(r)}></span>`:Ke``}                 ${n[this._options.dataFields.iconUrl]?Ke`<img style=${ln({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:Ke``}                 <span class="iui-item-label">${a}</span>             `}return o}_itemTouchStart(n,e){this._isEnabled&&(this._options.allowFocus&&n.which===1&&(this.focusedItem=e.data),this._processSelection(n,e.data))}_itemTouchMove(n,e){}_itemTouchEnd(n,e){}_ctrlTouchStart(n){if(n.preventDefault(),this._isEnabled){let e=this._commonService.getTouchData(n);e&&e.length>0&&(this._touchStartPos={x:e[0].pageX,y:e[0].pageY})}}_ctrlTouchEnd(n){let e=this;if(e._isEnabled){let t=e._commonService.getTouchData(n);t&&t.length>0&&(e._touchEndPos={x:t[0].pageX,y:t[0].pageY});let o={dx:e._touchEndPos.x-e._touchStartPos.x,dy:e._touchEndPos.y-e._touchStartPos.y},r=!1,s=!1,a=e._touchStartPos,l={x:e._currentScrollPos.x,y:e._currentScrollPos.y},c=setInterval(function(){let d=e._currentScrollPos;o.dx<-20?(a.x-=30,a.x>e._touchEndPos.x?d.x+=30:(d.x=l.x-o.dx,r=!0)):o.dx>20?(a.x+=30,a.x<e._touchEndPos.x?d.x-=30:(d.x=l.x-o.dx,r=!0)):r=!0,o.dy<-20?(a.y-=25,a.y>e._touchEndPos.y?d.y+=25:(d.y=l.y-o.dy,s=!0)):o.dy>20?(a.y+=25,a.y<e._touchEndPos.y?d.y-=25:(d.y=l.y-o.dy,s=!0)):s=!0,e.scrollPos(d),r&&s&&clearInterval(c)},5);e._touchStartPos=e._touchEndPos}}resolve(n){if(this._isProcessAllowed=!0,this._commonService.isString(n))switch(n.toLowerCase()){case"dragdrop":this._drop(this._dragDropService.getData());break;default:this._defaultFunc()}}},ete=G3;var E0=ze`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #f5f5f5);
        border: var(--iui-scrollbar-border, 0);
        border-color:  var(--iui-scrollbar-border-color, #f5f5f5);
        border-radius: var(--iui-scrollbar-border-radius, 1px);
        border-width: var(--iui-scrollbar-border-width, thin);
        cursor: var(--iui-scrollbar-cursor, default);
        display: var(--iui-scrollbar-display, block);
        height: var(--iui-scrollbar-height, auto);
        margin: var(--iui-scrollbar-margin, 0);
        opacity: var(--iui-scrollbar-opacity, 0);
        overflow: hidden;
        padding: var(--iui-scrollbar-padding, 2px);
        position: var(--iui-scrollbar-position, absolute);
        width: var(--iui-scrollbar-width, auto);
        z-index: var(--iui-scrollbar-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 1);
        transition: opacity 0.4s ease-in-out;
    }
    .iui-scrollbar-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
        transition: opacity 1s ease-in-out;
    }
    .iui-scrollbar-vertical {
        border-left: var(--iui-scrollbar-vertical-border-left, thin solid #f5f5f5);
        display: var(--iui-scrollbar-vertical-display, block);
        top: 0;
        width: var(--iui-scrollbar-vertical-width, 11px);
    }
    .iui-scrollbar-horizontal {
        border-top: var(--iui-scrollbar-horizontal-border-top, thin solid #f5f5f5);
        bottom: 0;
        display: var(--iui-scrollbar-horizontal-display, block);
        height: var(--iui-scrollbar-horizontal-height, 11px);
    }
    
    /* ScrollBar Thumb */
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #e5e5e5);
        border: var(--iui-scrollbar-thumb-border, thin solid #d5d5d5);
        border-color: var(--iui-scrollbar-thumb-border-color, #d5d5d5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 2px);
        position: absolute;
        transition: background 0.25s ease-in-out, border 0.25s ease-in-out;
        z-index: var(--iui-scrollbar-thumb-z-index, 99);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #d5d5d5);
        border: var(--iui-scrollbar-thumb-hovered-border, thin solid #c5c5c5);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #c5c5c5);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #c5c5c5);
        border: var(--iui-scrollbar-thumb-selected-border, thin solid #b5b5b5);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #b5b5b5);
    }
    .iui-scrollbar-thumb-vertical {
        top: 2px;
        width: var(--iui-scrollbar-thumb-vertical-width, 9px);
    }
    .iui-scrollbar-thumb-horizontal {
        left: 2px;
        height: var(--iui-scrollbar-thumb-height, 9px);
    }
    
    /* ScrollBar Dynamic */
    .iui-scrollbar-dynamic {
        background: var(--iui-scrollbar-dynamic-background, transparent);
        border-color:  var(--iui-scrollbar-dynamic-border-color, transparent);
        border-left: var(--iui-scrollbar-dynamic-border-left, 0);
        border-top: var(--iui-scrollbar-dynamic-border-top, 0);
        padding: var(--iui-scrollbar-dynamic-padding, 0);
        opacity: var(--iui-scrollbar-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-enter {
        opacity: var(--iui-scrollbar-enter-opacity, 0.8);
    }
    .iui-scrollbar-dynamic-leave {
        opacity: var(--iui-scrollbar-opacity, 0);
    }
    .iui-scrollbar-dynamic-vertical {
        width: var(--iui-scrollbar-vertical-width, 9px);
    }
    .iui-scrollbar-dynamic-horizontal {
        height: var(--iui-scrollbar-vertical-height, 9px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-vertical {
        top: 0;
        width: var(--iui-scrollbar-thumb-width, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-horizontal {
        left: 0;
        height: var(--iui-scrollbar-thumb-height, 7px);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #e5e5e5);
        border-radius: var(--iui-scrollbar-thumb-border-radius, 0);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #d5d5d5);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #c5c5c5);
    }

    /* ScrollBar Corer */
    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #f5f5f5);
        bottom: 0;
        cursor: var(--iui-scrollbar-corner-cursor, default);
        height: var(--iui-scrollbar-corner-height, 16px);
        margin: 0;
        padding: 0;
        position: absolute;
        right: 0;
        width: var(--iui-scrollbar-corner-width, 16px);
        z-index: var(--iui-scrollbar-corner-z-index, 99);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-scrollbar-corner-dynamic {
        background: var(--iui-scrollbar-corner-dynamic-background, transparent);
        height: var(--iui-scrollbar-corner-height, 9px);
        width: var(--iui-scrollbar-corner-width, 9px);
    }

    /* Disabled State */
    .iui-scrollbar-disabled div, .iui-scrollbar-thumb-disabled, .iui-scrollbar-corner-disabled {
        opacity: var(--iui-scrollbar-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var HO=ze`
`;var kw=ze`
    .iui-scrollbar {
        background: var(--iui-scrollbar-background, #1e1e1e);
        border-color: var(--iui-scrollbar-border-color, #151515);
    } 
    .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #404040);
        border-color: var(--iui-scrollbar-thumb-border-color, #404040);
    }
    .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #515151);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #515151);
    }
    .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #626262);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #626262);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb {
        background: var(--iui-scrollbar-thumb-background, #484848);
        border-color: var(--iui-scrollbar-thumb-border-color, #484848);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-hovered {
        background: var(--iui-scrollbar-thumb-hovered-background, #646464);
        border-color: var(--iui-scrollbar-thumb-hovered-border-color, #646464);
    }
    .iui-scrollbar-dynamic .iui-scrollbar-thumb-selected {
        background: var(--iui-scrollbar-thumb-selected-background, #808080);
        border-color: var(--iui-scrollbar-thumb-selected-border-color, #808080);
    }

    .iui-scrollbar-corner {
        background: var(--iui-scrollbar-corner-background, #1e1e1e);
    }
`;var zO=ze`
`;var H3=class extends Eh{_init(){super._init(),this._currentMaxValue=0,this._currentMinValue=0,this._currentValue=0,this._currentAppearance=Hn.Static,this._isVisible=!0,this._currentSplitterDistance={x:0,y:0},this._emptySpace=0,this._maxPos={x:0,y:0},this._currentOrientation=Xo.Vertical,this._scrollPos={top:0,right:0,bottom:0,left:0},this._scrollSize={width:0,height:0},this._thumbSize={width:0,height:0},this._thumbPos={x:2,y:2},this._isThumbActive=!1,this._prevPos={x:0,y:0},this._smallChange=0,this._largeChangeValue=0,this._scrollInterval=null,this._scrollTimeout=null,this._thumbStartPos={x:0,y:0},this._generalClassName="iui-scrollbar",this._isThumbHovered=!1,this._thumbClass={},this._thumbClassName=this._generalClassName+"-thumb"}connectedCallback(){super.connectedCallback(),this._windowMouseMove=this._windowMouseMove.bind(this),window.addEventListener("mousemove",this._windowMouseMove),this._windowMouseUp=this._windowMouseUp.bind(this),window.addEventListener("mouseup",this._windowMouseUp)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("mousemove",this._windowMouseMove),window.removeEventListener("mouseup",this._windowMouseUp),this._clearScrollTimers()}static get properties(){return{appearance:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="dynamic"?Hn.Dynamic:Hn.Static,toAttribute:(n,e)=>n===Xo.Dynamic?"Dynamic":"Static"},reflect:!0},height:{type:Number},largeChange:{type:Number,attribute:"large-change"},max:{type:Number,reflect:!0},min:{type:Number,reflect:!0},orientation:{converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="horizontal"?Xo.Horizontal:Xo.Vertical,toAttribute:(n,e)=>n===Xo.Horizontal?"Horizontal":"Vertical"},reflect:!0},position:{type:Object},value:{type:Number,reflect:!0},width:{type:Number}}}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}get appearance(){return this._currentAppearance}set appearance(n){if(this._currentAppearance!==n){let e=this._currentAppearance;this._currentAppearance=n,this.visible=this._currentAppearance!==Hn.Dynamic,this.requestUpdate("appearance",e)}}set height(n){if(this._scrollSize.height!==n&&n>=0){let e=this._scrollSize.height;this._scrollSize.height=n,this.requestUpdate("height",e),this.updateLayout()}}set largeChange(n){if(this._largeChangeValue!==n&&n>=0){let e=this._largeChangeValue;this._largeChangeValue=n,this.requestUpdate("largeChange",e)}}get max(){return this._currentMaxValue}set max(n){if(this._currentMaxValue!==n){let e=this._currentMaxValue;n<=0?this._currentMaxValue=1:this._currentMaxValue=n,this._currentValue>this._currentMaxValue&&(this._currentValue=this._currentMaxValue),this.requestUpdate("max",e),this.updateLayout()}}get min(){return this._currentMinValue}set min(n){if(this._currentMinValue!==n&&n>=0){let e=this._currentMinValue;this._currentMinValue=n,this.requestUpdate("min",e),this.updateLayout()}}get orientation(){return this._currentOrientation}set orientation(n){if(this._currentOrientation!==n){let e=this._currentOrientation;this._currentOrientation=n,this.requestUpdate("orientation",e),this.updateLayout()}}set position(n){let e=this._scrollPos;n!==void 0?this._scrollPos={top:this._commonService.isFieldAvailable(n.top,0),right:this._commonService.isFieldAvailable(n.right,0),bottom:this._commonService.isFieldAvailable(n.bottom,0),left:this._commonService.isFieldAvailable(n.left,0)}:this._scrollPos={top:0,right:0,bottom:0,left:0},this.requestUpdate("position",e)}get value(){return this._currentValue}set value(n){if(this._currentValue!==n){let e=this._currentValue;n<this._currentMinValue?this._currentValue=this._currentMinValue:n>this._currentMaxValue?this._currentValue=this._currentMaxValue:this._currentValue=n,this.requestUpdate("value",e),this.updateLayout(),this._invokeEvent("valueChanged",{value:this._currentValue})}}get visible(){return this._isVisible}set visible(n){if(n!==void 0&&this._isVisible!==n){let e=this._isVisible;this._isVisible=this._currentAppearance===Hn.Dynamic?n:!0,this.requestUpdate("visible",e),this._updateVisibility()}}set width(n){this._scrollSize.width!==n&&n>=0&&(this._scrollSize.width=n,this.updateLayout())}_thumbMouseEnter(n){this._isThumbHovered=!0,this.refresh()}_thumbMouseLeave(n){this._isThumbHovered=!1,this.refresh()}_thumbMouseDown(n){if(this._isEnabled){this.state|=tn.Selected;let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y};this._thumbStartPos=t,this._isThumbActive=!0,this.prevPos={x:this.value,y:this.value},this._invokeEvent("scrollStart",{event:n,value:this._currentValue})}this._invokeEvent("scrollMouseDown"),n.stopPropagation()}_windowMouseMove(n){if(this._isEnabled&&n.which===1&&this._isThumbActive){let e=this._commonService.getShiftPos(),t={x:n.pageX-e.x,y:n.pageY-e.y},o=0;this.orientation===Xo.Horizontal?this._emptySpace>0&&(o=this.prevPos.x+(t.x-this._thumbStartPos.x)*this._currentMaxValue/this._emptySpace):this._emptySpace>0&&(o=this.prevPos.y+(t.y-this._thumbStartPos.y)*this._currentMaxValue/this._emptySpace),this.value=o}}_windowMouseUp(n){this._isEnabled&&(this._isThumbActive=!1,this._prevPos.y=this._currentValue,this.state&=~tn.Selected,this._clearScrollTimers(),this._invokeEvent("scrollEnd",{event:n,value:this._currentValue}))}isVertical(){return this.orientation===Xo.Vertical}_updateVisibility(){this._isEnabled&&this._currentAppearance===Hn.Dynamic&&(this._isVisible?this.state|=tn.Hovered:this.state&=~tn.Hovered)}_changeScrollPos(n){if(this._isEnabled){let e=this;e._processLargeChange(n),e._clearScrollTimers(),e._scrollTimeout=setTimeout(function(){e._scrollInterval=setInterval(function(){e._currentValue>e._currentMinValue&&e._currentValue<e._currentMaxValue?e._processLargeChange(n):e._clearScrollTimers()},100),clearTimeout(e._scrollTimeout)},250)}}_clearScrollTimers(){this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollInterval&&clearInterval(this._scrollInterval),this._scrollTimeout=null,this._scrollInterval=null}_processLargeChange(n){let e=-1;switch(this.isVertical()?e=n.offsetY<this._thumbPos.y?1:n.offsetY>this._thumbPos.y+this._thumbSize.height?2:-1:e=n.offsetX<this._thumbPos.x?1:n.offsetX>this._thumbPos.x+this._thumbSize.width?2:-1,e){case 1:this.value-=this._largeChangeValue;break;case 2:this.value+=this._largeChangeValue;break;default:this._defaultFunc()}}_getControlClass(){return this._ctrlClass}_getThumbClass(){return this._thumbClass}refresh(){this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateThumbClass(),this.update(),this._updateReferences()}_updateColorSchemeSettings(n){switch(this._currentColorSchemeSettings=ze``,n){case bi.Dark:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(kw.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(zO.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentColorSchemeSettings.cssText=""}}_updateControlClass(){this._ctrlClass={},this._ctrlClass[this._generalClassName]=!0,this._options.currentStyle&&this._options.currentStyle.general&&(this._ctrlClass[this._options.currentStyle.general.normal]=!0,this.orientation===Xo.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-vertical"]=!0,this._currentAppearance===Hn.Dynamic&&(this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic"]=!0,this.orientation===Xo.Horizontal?this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-horizontal"]=!0:this._ctrlClass[this._options.currentStyle.general.normal+"-dynamic-vertical"]=!0),this.state&tn.Disabled?this._ctrlClass[this._options.currentStyle.general.disabled]=!0:this.state&tn.Focused?this._ctrlClass[this._options.currentStyle.general.focused]=!0:this.state&tn.Selected?this._ctrlClass[this._options.currentStyle.general.selected]=!0:this.state&tn.Hovered&&(this._ctrlClass[this._options.currentStyle.general.hovered]=!0),this.state&tn.Hovered||this._isVisible?(this._ctrlClass[this._defaultStyle.general.normal+"-enter"]=!0,this._currentAppearance===Hn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-enter"]=!0)):(this._ctrlClass[this._defaultStyle.general.normal+"-leave"]=!0,this._currentAppearance===Hn.Dynamic&&(this._ctrlClass[this._defaultStyle.general.normal+"-dynamic-leave"]=!0)))}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(HO.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText=""}}_updateThumbClass(){this._thumbClass={},this._thumbClass[this._thumbClassName]=!0,this.orientation===Xo.Horizontal?this._thumbClass[this._thumbClassName+"-horizontal"]=!0:this._thumbClass[this._thumbClassName+"-vertical"]=!0,this.state&tn.Disabled?this._thumbClass[this._thumbClassName+"-disabled"]=!0:this.state&tn.Focused?this._thumbClass[this._thumbClassName+"-focused"]=!0:this.state&tn.Selected?this._thumbClass[this._thumbClassName+"-selected"]=!0:this._isThumbHovered&&(this._thumbClass[this._thumbClassName+"-hovered"]=!0)}firstUpdated(n){this.updateLayout()}updateLayout(n){return V(this,null,function*(){yield this._processUpdateLayout(),this.refresh()})}_processUpdateLayout(){let n=this;return new Promise(e=>{let t=n._currentAppearance===Hn.Static?2:0;if(n.orientation===Xo.Horizontal){n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.width);let o=n._scrollSize.width-t,r=0;n._currentMaxValue+o>0&&(r=o*o/(n._currentMaxValue+o)),r=o/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?r=o:r<7&&(r=7),n._thumbSize.width=r,n._emptySpace=o-r,n._currentMaxValue>0&&(n._thumbPos.x=t+n._currentValue*n._emptySpace/n._currentMaxValue)}else{n._largeChangeValue===0&&(n._largeChangeValue=n._scrollSize.height);let o=n._scrollSize.height-t,r=0;n._currentMaxValue+o>0&&(r=o*o/(n._currentMaxValue+o)),r=o/(n._currentMaxValue+n._largeChangeValue)*n._largeChangeValue,n._currentMaxValue<=0?r=o:r<7&&(r=7),n._thumbSize.height=r,n._emptySpace=o-r,n._currentMaxValue>0&&(n._thumbPos.y=t+n._currentValue*n._emptySpace/n._currentMaxValue)}e()})}render(){let n=this.isVertical()?{top:this._scrollPos.top+"px",right:0,height:this._scrollSize.height+"px"}:{bottom:this._scrollPos.bottom+"px",left:0,width:this._scrollSize.width+"px"},e=this.isVertical()?{top:this._thumbPos.y+"px",height:this._thumbSize.height+"px"}:{left:this._thumbPos.x+"px",width:this._thumbSize.width+"px"};return Ke`                 <style>                     ${E0}                     ${this._currentThemeSettings}                     ${this._currentColorSchemeSettings}                 </style>                 <div class=${Gn(this._getControlClass())} style=${ln(n)} @mousedown="${t=>this._changeScrollPos(t)}">                     <div class=${Gn(this._getThumbClass())} style=${ln(e)} @mouseenter="${t=>this._thumbMouseEnter(t)}" @mousedown="${t=>this._thumbMouseDown(t)}" @mouseleave="${t=>this._thumbMouseLeave(t)}"></div>                 </div>         `}updated(n){n.forEach((e,t)=>{})}};window.customElements.define("iui-scrollbar",H3);var z3=ze`
    .iui-base-loading {
        opacity: 1;
        pointer-events: none;

        animation-name: iui-base-loading-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-animate {
        0% { opacity: 1; }
        100% { opacity: 0.4; }
    }
    .iui-base-loading-end {
        opacity: 0.4;
        pointer-events: none;

        animation-name: iui-base-loading-end-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-base-loading-end-animate {
        0% { opacity: 0.4; }
        100% { opacity: 1; }
    }


    .iui-loading-icon {
        background-image: url(../../icons/circular.png);
        height: 48px;
        left: 0;
        position: absolute;
        top: 0;
        width: 48px;
        z-index: 999;

        animation-name: iui-loading-icon-animate;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: infinite;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-loading-icon-animate {
        0% { 
            -ms-transform: rotate(0deg);
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(360deg);
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    .iui-draglist {
        background: var(--iui-draglist-background, white);
        border: var(--iui-draglist-border, thin solid transparent);
        border-color: var(--iui-draglist-border-color, transparent);
        box-shadow: var(--iui-draglist-box-shadow, 0 0 0 transparent);
        margin: 0;
        opacity: 0.9;
        overflow: hidden;
        padding: 0;
        pointer-events: none;
        position: absolute;
        transition: border-color 0.4s ease-in-out, box-shadow 0.4s ease-in-out;
        z-index: 999;
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #e5e5e5);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #d5d5d5);
    }
    .iui-draglist-copy {
        background: url(../../icons/copy.ico);
        display: block;
        height: 16px;
        opacity: 0.6;
        position: absolute;
        width: 16px;
        z-index: 999;
    }
    .iui-draglist-corner {
        opacity: 1;
        position: absolute;
        right: -1px;
        bottom: -3px;
        zIndex: 999;
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #f5f5f5);
        border: var(--iui-draglist-corner-border, thin solid #e5e5e5);
        border-color: var(--iui-draglist-corner-border-color, #e5e5e5);
        opacity: 1;
        position: absolute;
        top: -35%;
        left: -20%;
        transform: rotate(45deg);
        width: 250%;
        height: 300%;
        zIndex: 0;
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, black);
        padding: 3px;
        position: relative;
        zIndex: 1;
    }
`;var tte=ze`
    .iui-header-expand-box {
        opacity: 0.75;
    }
    .iui-item {
        color: #cccccc;
    }
    /* Item Hover State */
    .iui-item-hovered {
        background-color: #2a2d2e;
        border: thin solid #2a2d2e;
    }
    /* Item Selected State */
    .iui-item-selected {
        background-color: #37373d;
        border: thin solid #37373d;
        color: white;
    } 

    .iui-list {
        background: #252526;
        border: thin solid #151515;
        color: #cccccc;
    }
    .iui-list li {
        color: #cccccc;
    }
    .iui-list li:hover {
        background-color: #2a2d2e;
        border: 2px solid #2a2d2e;
    }
    .iui-list-item-selected {
        background-color: #37373d;
        color: white;
    }

    .iui-draglist {
        background: var(--iui-draglist-background, #303030);
    }
    .iui-draglist-active {
        border-color: var(--iui-draglist-active-border-color, #151515);
        box-shadow: var(--iui-draglist-active-box-shadow, 0 0 3px #252525);
    }
    .iui-draglist-copy {
        background: url(../../../icons/copy-white.ico);
    }
    .iui-draglist-corner-block {
        background: var(--iui-draglist-corner-background, #151515);
        border-color: var(--iui-draglist-corner-border-color, #050505);
    }
    .iui-draglist-num {
        color: var(--iui-draglist-num-color, #cccccc);
    }
`;var ite=ze`
    .iui-header-enter {
        animation-name: iui-combobox-header-animate-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-enter {
        0% { box-shadow: 0 0 0 transparent; }
        100% { box-shadow: 2px 3px 3px #e5e5e5; }
    } 
    .iui-header-leave {
        animation-name: iui-combobox-header-animate-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-combobox-header-animate-leave {
        0% { box-shadow: 2px 3px 3px #e5e5e5; }
        100% { box-shadow: 0 0 0 transparent; }
    } 
`;var W3=ze`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #cecece);
        border-color:  var(--iui-treeview-border-color, #cecece);
        border-radius: var(--iui-treeview-border-radius, 1px);
        border-width: var(--iui-treeview-border-width, thin);
        color: var(--iui-treeview-color, black);
        cursor: var(--iui-treeview-cursor, default);
        display: var(--iui-treeview-display, block);
        float: var(--iui-treeview-float, none);
        height: var(--iui-treeview-height, 100%);
        margin: var(--iui-treeview-margin, 0);
        opacity: var(--iui-treeview-opacity, 1);
        overflow: hidden;
        padding: var(--iui-treeview-padding, 0);
        position: var(--iui-treeview-position, relative);
        width: var(--iui-treeview-width, auto);
        z-index: var(--iui-treeview-z-index, auto);

        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -o-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    .iui-treeview-item-empty-content {
        background: #f5f5f5;
        margin: 0;
    }

    .iui-treeview-block-hover, .iui-treeview-block-select {
        background: var(--iui-treeview-block-background, transparent);
        border: var(--iui-treeview-block-border, thin solid #cecece);
        box-shadow: var(--iui-treeview-block-box-shadow, 2px 3px 3px #e5e5e5);
        pointer-events: none;
        position: absolute;
        z-index: 99;
    }
    .iui-treeview-block-hover > div, .iui-treeview-block-select > div {
        background: var(--iui-treeview-block-panel-background, #f5f5f5);
        pointer-events: auto;
        position: absolute;
        right: 0;
        top: 0;
        z-index: 98;
    }

    /* Disabled State */
    .iui-treeview-disabled div, .iui-treeview-disabled ul {
        opacity: var(--iui-treeview-disabled-opacity, 0.75);
        pointer-events: none;
    }
`;var nte=ze`
`;var $3=ze`
    .iui-treeview {
        background: #363636;
        border: #121212;
        color: #c5c5c5;
    }
`;var ote=ze`
    .iui-treeview {
        background: var(--iui-treeview-background, white);
        border: var(--iui-treeview-border, thin solid #d9d9d9);
        color: var(--iui-treeview-color, black);
    }
`;var K3=ze`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--iui-treeitem-color, black);
        list-style-type: none;
        overflow: hidden;
        margin: var(--iui-treeitem-margin, 0);
        padding: var(--iui-treeitem-padding, 0);
        font-family: arial, sans-serif !important;
        font-size: 0.9rem !important;
    }
    .iui-treeitem-block {
        border: var(--iui-treeitem-border, 1px solid transparent);
        border-color: var(--iui-treeitem-border-color, transparent);
        border-width: var(--iui-treeitem-border-width, 1px);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, black);
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
    }
    .iui-treeitem-content-block {
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--iui-treeitem-content-border-color, transparent);
        border-width: var(--iui-treeitem-content-border-width, 1px);
        display: inline-flex;
        align-items: center;
    }
    .iui-treeitem-content-hovered {
        color: var(--iui-treeitem-content-hovered-color, black);
    }
    .iui-treeitem-content-selected {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
    .iui-treeitem-content-block:focus {
        background: var(--iui-treeitem-content-selected-background, #e5e5e5);
        color: var(--iui-treeitem-content-selected-color, black);
    }
   
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div {
        background-color: var(--lightColor);
        border: var(--iui-treeitem-content-border, 1px solid transparent);
        border-color: var(--fwcGrey7);
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div {
        background-color: var(--lightColor);
        max-width: max-content;    
        font-weight: bold !important;
    }
    div > div > ul > li.iui-treeitem.iui-treeitem-block.iui-treeitem-selected > div > div > div > div:hover {
        background-color: var(--lightColor) !important;
        max-width: max-content !important;
    }

    
    .iui-treeitem:focus {
        outline: none !important;
    }
    .iui-treeitem-empty {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }
    .iui-treeitem-content {
        display: block;
        margin: 0;
        padding: var(--iui-treeitem-content-padding, 0px);
        position: relative;
        white-space: nowrap;
        max-width: max-content;
        line-height: 1.25;
    }
    .iui-treeitem-content:hover {
        background-color: var(--lightColor);
    }
    .iui-treeitem-content-focused {
        max-width: max-content;
    }
    .iui-treeitem-content:focus {
        outline: none !important;
    }
    .iui-treeitem-content-template {
        display: var(--iui-treeitem-content-template-display, inline-block);
        vertical-align: var(--iui-treeitem-content-template-vertical-align, middle);
    }
    .iui-treeitem-expand-box {
        background: url(../../icons/expandbox-icons.png) no-repeat 0 -48px;
        display: inline-block;
        overflow: hidden;
        padding: 0;
        margin: var(--iui-treeitem-expand-box-margin, 1px 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: top;
        color: #333 !important;
        filter: invert(0%) brightness(0%);
    }      
        .iui-treeview-enter .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-enter;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.4s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-enter {
        0% { opacity: 0; }
        100% { opacity: 1; }
    } 
    .iui-treeview-leave .iui-treeitem-expand-box-general {
        animation-name: iui-treeview-animate-expand-box-leave;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 1s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes iui-treeview-animate-expand-box-leave {
        0% { opacity: 1; }
        100% { opacity: 0; }
    } 
    .iui-treeitem-expand-box-open {
        background-position: 0 -16px;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: 0 0;
    
        animation-name: expand-box-open;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-open {
        0% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
        100% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
    }
    .iui-treeitem-expand-box-close {
        background-position: 0 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: 0 0;

        animation-name: expand-box-close;
        animation-delay: 0s;
        animation-direction: normal;
        animation-duration: 0.25s;
        animation-fill-mode: forwards;
        animation-iteration-count: 1;
        animation-play-state: running;
        animation-timing-function: linear; 
    }
    @keyframes expand-box-close {
        0% { 
            -ms-transform: rotate(90deg); /* IE 9 */
            -webkit-transform: rotate(90deg); /* Chrome, Safari, Opera */
            transform: rotate(90deg);
        }
        100% { 
            -ms-transform: rotate(0deg); /* IE 9 */
            -webkit-transform: rotate(0deg); /* Chrome, Safari, Opera */
            transform: rotate(0deg);
        }
    }
    .iui-treeitem-expand-box-load {
        background: var(--iui-treeitem-expand-box-load-background-image, url(../../icons/load.gif)) no-repeat 0 0 !important;
    }
    .iui-treeitem-list {
        list-style-type: none;
        margin: 0;
        padding: 0 0 0 20px;
        overflow: hidden;
    }

    /* Disabled State */
    .iui-treeitem-disabled div {
        opacity: var(--iui-treeitem-disabled-opacity, 0.75);
        pointer-events: none;
    }

    /* CheckBox */
    .iui-treeitem-checkbox {
        background-image: var(--iui-treeitem-checkbox-background-image, url(../../icons/checkbox-unchecked.ico));
        background-repeat: no-repeat;
        display: inline-block;
        overflow: hidden;
        padding: var(--iui-treeitem-checkbox-padding, 0);
        margin: var(--iui-treeitem-checkbox-margin, 0 5px 0 0);
        width: 16px;
        height: 16px;
        vertical-align: var(--iui-treeitem-checkbox-vertical-align, middle);
    }
    .iui-treeitem-checkbox-checked {
        background-image: var(--iui-treeitem-checkbox-checked-background-image, url(../../icons/checkbox-checked.ico));
    }
    .iui-treeitem-checkbox-indeterminate {
        background-image: var(--iui-treeitem-checkbox-indeterminate-background-image, url(../../icons/checkbox-indeterminate.ico));
    }

    /* Animations */
    .iui-treeitem-animate {
        border: 0 solid transparent;
        background-color: transparent;
        box-shadow: none;
        list-style-type: none;
        position: relative;
    }
`;var rte=ze`
    .iui-treeitem {
        transition-duration: var(--iui-treeitem-transition-duration, 0.15s);
        transition-property: var(--iui-treeitem-transition-property, background, border-color, color);
        transition-timing-function: var(--iui-treeitem-transition-timing-function, ease-in-out);
    }
`;var q3=ze`
    .iui-treeitem {
        background: var(--iui-treeitem-background, transparent);
        color: var(--fwcDark)!important;
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #eeeeee);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, white);
        max-width: max-content;
    }
    .iui-treeitem-selected .iui-treeitem-expand-box, .iui-treeitem-content-selected .iui-treeitem-expand-box {
    }
    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -48px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -48px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
    }
    .iui-treeitem-expand-box-close {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close:hover {
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -48px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -48px 0;
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: white;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: white;       
    }
`;var ste=ze`
    .iui-treeitem {
        background: var(--iui-treeitem-background, white);
        color: var(--iui-treeitem-color, black);
    }
    .iui-treeitem-hovered {
        color: var(--iui-treeitem-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-selected {
        color: var(--iui-treeitem-selected-color, black);
        max-width: max-content;
    } 
    .iui-treeitem-content-hovered,
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-hovered-color, #323232);
        max-width: max-content;
    }
    .iui-treeitem-content-selected {
        color: var(--iui-treeitem-content-selected-color, black);
        max-width: max-content;
    }

    .iui-treeitem-expand-box {
        background: url(../../../icons/expandbox-icons.png) no-repeat -80px -48px;
    }
    .iui-treeitem-expand-box-open {
        background-position: -80px -16px;
    }
    .iui-treeitem-expand-box-open:hover {
        background-position: -64px -16px;
    }
    .iui-treeitem-expand-box-close {
        background-position: -80px 0;
    }
    .iui-treeitem-expand-box-close:hover {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-open-animate {
        background-position: -64px 0;
    }
    .iui-treeitem-expand-box-close-animate {
        background-position: -64px 0;
    }
    .iui-treeitem.iui-treeitem-block.iui-treeitem-focused {
        font-weight: 700;
        color:black;
    }
    div > div > ul > li:first-child.iui-treeitem.iui-treeitem-block.iui-treeitem-selected,
    div > div > ul > li.first-selected.iui-treeitem.iui-treeitem-block {
        font-weight: 700; 
        color: black;       
    }
    div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwc-label.fwcDark {
        color: black;
    }
`;var J3=class extends ete{_init(){super._init(),this._isCheckBoxVisible=!1,this._currentCheckMode=Kp.TwoState,this._isThereChildItems=!1,this._fullMoveList=[],this._currentItemDisplay=qr.Full,this._currentItemSize={width:1999,height:1999},this._isExpandBoxVisible=!0,this._isLongestInProcess=!1,this._longestObj={data:null,width:0},this._currentBaseColorSchemeSettings=ze``,this._currentBaseStyleSettings=z3,this._currentControlStyleSettings=W3,this._currentItemColorSchemeSettings=ze``,this._currentItemStyleSettings=K3,this._currentItemThemeSettings=ze``,this._currentScrollColorSchemeSettings=ze``,this._currentScrollStyleSettings=E0,this._generalClassName="iui-treeview",this._itemClassName="iui-treeitem",this._itemContentClassName=this._itemClassName+"-content",this._expandBoxClassName=this._itemClassName+"-expand-box",this._isExpandBoxTouched=!1,this._updateOptions(),this._initStyle(),this._updateData(),this._resizeObserver=new ResizeObserver(n=>{let e=this;if(!e._isAnimationInProcess&&n&&n.length>0&&n[0].contentRect){let t=!1;e._elemRef&&e._updateClientRect(),e._clientRect.width!==e._prevClientRect.width&&(e._prevClientRect.width=e._clientRect.width,t=!0),e._clientRect.height!==e._prevClientRect.height&&(e._prevClientRect.height=e._clientRect.height,t=!0),t&&(e._updateScrollLayout(),e._invokeEvent("sizeChanged",{size:e._clientRect}))}})}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=null,this._removeDropMark(),this._loadingEndTimeout&&clearTimeout(this._loadingEndTimeout),this._resetLayoutTimer()}_initStyle(){this._defaultStyle={general:{disabled:this._generalClassName+"-disabled",focused:this._generalClassName+"-focused",normal:this._generalClassName,hovered:this._generalClassName+"-hovered",selected:this._generalClassName+"-selected"},item:{general:{disabled:this._itemClassName+"-disabled",focused:this._itemClassName+"-focused",normal:this._itemClassName,hovered:this._itemClassName+"-hovered",selected:this._itemClassName+"-selected"},expandBox:{general:this._expandBoxClassName,load:this._expandBoxClassName+"-load",expanded:this._expandBoxClassName+"-open",collapsed:this._expandBoxClassName+"-close"},content:{disabled:this._itemContentClassName+"-disabled",focused:this._itemContentClassName+"-focused",normal:this._itemContentClassName,hovered:this._itemContentClassName+"-hovered",selected:this._itemContentClassName+"-selected"}}},this._updateStyle(this.controlStyle),this._updateControlClass(),this._updateColorSchemeSettings(this._currentColorScheme),this.refresh()}attributeChangedCallback(n,e,t){super.attributeChangedCallback(n,e,t)}static get properties(){return{autoExpand:{type:Boolean,attribute:"auto-expand",reflect:!0},autoSize:{type:Boolean,attribute:"auto-size",reflect:!0},checkBoxes:{type:Boolean,attribute:"check-boxes",reflect:!1},checkMode:{attribute:"check-mode",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="twostate"?Kp.TwoState:Kp.ThreeState,toAttribute:(n,e)=>n===Kp.TwoState?"twostate":"threestate"},reflect:!0},compactMode:{type:Boolean,attribute:"compact-mode",reflect:!0},indent:{type:Number,reflect:!0},itemDisplay:{attribute:"item-display",converter:{fromAttribute:n=>(n=n.replace(/"|'/,"").replace(/"|'/,"")).toLowerCase()==="partial"?qr.Partial:qr.Full,toAttribute:(n,e)=>n===qr.Partial?"Partial":"Full"},reflect:!0},showExpandBox:{type:Boolean,attribute:"show-expandbox",reflect:!0}}}get autoExpand(){return this._isAutoExpanded}set autoExpand(n){if(this._isAutoExpanded!==n){let e=this._isAutoExpanded;this._isAutoExpanded=n,this.requestUpdate("autoExpand",e)}}get autoSize(){return this._isAutoSized}set autoSize(n){if(this._isAutoSized!==n){let e=this._isAutoSized;this._isAutoSized=n,this.requestUpdate("autoSize",e),this._internalUpdateLayout()}}get checkBoxes(){return this._isCheckBoxVisible}set checkBoxes(n){if(this._isCheckBoxVisible!==n){let e=this._isCheckBoxVisible;this._isCheckBoxVisible=n,this.requestUpdate("checkBoxes",e),this._internalUpdateLayout()}}get checkMode(){return this._currentCheckMode}set checkMode(n){if(this._currentCheckMode!==n){let e=this._currentCheckMode;this._currentCheckMode=n,this.requestUpdate("checkMode",e),this._internalUpdateLayout()}}get compactMode(){return this._currentCompactMode}set compactMode(n){if(this._currentCompactMode!==n){let e=this._currentCompactMode;this._currentCompactMode=n,this.requestUpdate("compactMode",e),this._internalUpdateLayout()}}get indent(){return this._options.indent}set indent(n){if(this._options.indent!==n){let e=this._options.indent;this._options.indent=n,this.requestUpdate("indent",e),this._internalUpdateLayout()}}get itemDisplay(){return this._currentItemDisplay}set itemDisplay(n){if(this._currentItemDisplay!==n){let e=this._currentItemDisplay;this._currentItemDisplay=n,this.requestUpdate("itemDisplay",e),this._internalUpdateLayout()}}get showExpandBox(){return this._isExpandBoxVisible}set showExpandBox(n){if(this._isExpandBoxVisible!==n){let e=this._isExpandBoxVisible;this._isExpandBoxVisible=n,this.requestUpdate("showExpandBox",e),this._internalUpdateLayout()}}_moveItemAt(n,e,t,o){return V(this,null,function*(){let r=this;return(t===di.Before||t===di.After||t===di.Left||t===di.Right)&&!e?Promise.resolve():new Promise(s=>{let a=n.filter(l=>r._fullList.indexOf(l)>=0);if(a.length>0){let l=[],c=!0,d=0,u=!1,m=-1,g=null;switch(t){case di.At:e?(m=r._getItemCurrentIndex(e),r._commonService.isIndexInRange(m,r._currentList)&&r.isItemExpanded(e)&&(l=r._currentList.filter(y=>y.data.type!=="group"&&y.data[r._options.dataFields.pid]===e[r._options.dataFields.id]))):l=r._currentList.filter(y=>y.data.type!=="group"&&!y.data[r._options.dataFields.pid]),r._commonService.isIndexInRange(o,l)?g=l[o].data:(o=-1,(g=l.length>0?l[l.length-1].data:e)&&(t=di.After,e=g,g=r._getLastChildItemFromExpanded(g)));break;case di.First:o=0,e?(g=e,d=1):r._currentList.length>0&&(g=r._currentList[0].data);break;case di.Last:o=-1,e?g=r._getLastChildItemFromExpanded(e):(l=r._currentList.filter(y=>y.data.type!=="group"&&!y.data[r._options.dataFields.pid]),(g=l.length>0?l[l.length-1].data:null)&&(t=di.After,e=g,g=r._getLastChildItemFromExpanded(g)));break;case di.Left:e?(t=di.After,u=!0,g=r._getLastChildItemFromExpanded(e),(!r.isItemExpanded(e)||a.indexOf(g)>=0)&&(g=null)):c=!1;break;case di.Right:o=-1;break;default:e?(g=e,(t===di.After||t===di.Down)&&(t=di.After,g=r._getLastChildItemFromExpanded(g))):c=!1}if(!u&&c){let y=!1;if(e)for(let v=0;v<a.length&&!(y=e===a[v]?!0:r._isChildOf(e,a[v]));v++);if(!y&&g)for(let v=0;v<a.length&&!(y=g===a[v]?!0:r._isChildOf(g,a[v]));v++);c=!y}if(c){for(let v=0;v<a.length;v++)r._dataService.removeAt(a[v]);let y=t===di.Before||t===di.Up?a:a.toReversed();for(let v=0;v<y.length;v++){let S=y[v];t===di.First||t===di.Last||t===di.Right||t===di.At?r._dataService.insert(S,o,e):t===di.Before||t===di.Up?r._dataService.insertByRef(S,e):(t===di.After||t===di.Left||t===di.Down)&&r._dataService.insertByRef(S,e,!0)}setTimeout(function(){return V(this,null,function*(){let v=r._getObjFromScrollItem(g);if(v){let S=r._getItemCurrentIndex(g),I=r._getItemScrollIndex(v);t===di.After||t===di.Down||t===di.Last?I+=1:t===di.First&&(I+=d),r._fullMoveList.length=0,r._updateMoveList(a);let P=0;for(let L=0;L<r._fullMoveList.length;L++){let F=r._getItemCurrentIndex(r._fullMoveList[L]),K=r._getObjFromScrollItem(r._fullMoveList[L]);F<S&&!K&&P++}if(r._isAnimationAllowed&&(r._isAnimationInProcess=!0,r._scrollItemList.length>0)){let L=r._scrollItemList[0],F=r._scrollItemList.length-1,K=r._scrollItemList[F],le=[];for(let Te=0;Te<r._fullMoveList.length;Te++){let He=r._getObjFromScrollItem(r._fullMoveList[Te]);if(He)le.push(He);else{let Be=r._getObjFromItem(r._fullMoveList[Te]),rt=r._getItemCurrentIndex(r._fullMoveList[Te]),Rt={clickPos:{x:0,y:0},data:r._fullMoveList[Te],indent:Be?Be.indent:0,index:F+Te+1,inlineStyle:{},position:{x:K.position.x,y:K.position.y+r._currentItemSize.height},showCheckBox:r._isItemCheckBoxAllowed(r._fullMoveList[Te]),showRadioButton:r._isItemRadioButtonAllowed(r._fullMoveList[Te]),size:{width:0,height:r._currentItemSize.height},targetPosition:{x:K.position.x,y:K.position.y+r._currentItemSize.height},style:{},tabIndex:0,zIndex:0};rt<S&&(Rt.position.y=L.position.y-r._currentItemSize.height,Rt.targetPosition.y=Rt.position.y),r._updateItemStyle(Rt),le.push(Rt),r._scrollItemList.splice(Rt.index,0,Rt)}}r.update();let me=r._scrollItemList.filter(Te=>r._fullMoveList.indexOf(Te.data)<0),fe={x:r._ctrlPadding.left,y:r._ctrlPadding.top};for(let Te=0;Te<r._scrollItemList.length&&Te<I+P;Te++){let He=r._scrollItemList[Te];le.indexOf(He)<0&&(He.targetPosition.y=fe.y,fe.y+=r._currentItemSize.height)}le.forEach(Te=>{Te.targetPosition.y=fe.y,Te.zIndex=999,fe.y+=r._currentItemSize.height});for(let Te=I+P;Te<r._scrollItemList.length;Te++){let He=r._scrollItemList[Te];le.indexOf(He)<0&&(He.targetPosition.y=fe.y,fe.y+=r._currentItemSize.height)}r._repositionItems(le,0,250),yield r._repositionItems(me,0,250)}r._currentIndex=Math.max(0,r._currentIndex-P),r._currentScrollPos.y=Math.max(0,Math.min(r._avgItemHeight*r._currentIndex,r._maxScrollPos.y))}yield r._processUpdateCurrentLayout(),r._invokeEvent("itemMoved",{item:a}),r._isAnimationInProcess=!1,s()})},1)}else s()}else s()})})}_updateMoveList(n){let e=this;n.forEach(t=>{e._getItemCurrentIndex(t)>=0&&e._isItemAllowed(t)&&(e._fullMoveList.push(t),t[e._options.dataFields.items]&&e.isItemExpanded(t)&&e._updateMoveList(t[e._options.dataFields.items]))})}_itemDblClickEvent(n,e){if(this._isEnabled){let t={cancel:!1,event:n,item:e.data};this._invokeEvent("itemDblClick",t),t.cancel!==!0&&this.toggle(e.data)}}_checkItem(n,e){if(e){let t=this._getItemCheckValue(e);t=t===void 0||t===Dr.Indeterminate||t===Dr.Unchecked?Dr.Checked:Dr.Unchecked,this._updateCheckValue(e,t),this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this.refresh(),this._invokeEvent("checkStateChanged",{item:e,checked:e[this._options.dataFields.checked],checkState:e[this._options.dataFields.checkState]})}n.stopPropagation()}_getItemCheckValue(n){return n?this._currentCheckMode===Kp.ThreeState?n[this._options.dataFields.checkState]:n[this._options.dataFields.checked]===!0?Dr.Checked:Dr.Unchecked:Dr.Unchecked}_updateCheckValue(n,e){n&&(n[this._options.dataFields.checkState]=e,n[this._options.dataFields.checked]=e===Dr.Checked)}_updateChildItemCheckValue(n){if(n&&n[this._options.dataFields.items])for(let e=0;e<n[this._options.dataFields.items].length;e++){let t=this._getItemCheckValue(n);t===Dr.Checked?this._updateCheckValue(n.items[e],Dr.Checked):t===Dr.Unchecked&&this._updateCheckValue(n.items[e],Dr.Unchecked),this._updateChildItemCheckValue(n.items[e])}}_updateParentItemCheckValue(n){let e=this.getItemParent(n);for(;e;){let t=e[this._options.dataFields.items];if(t){let o=0,r=0;for(let a=0;a<t.length;a++){let l=this._getItemCheckValue(t[a]);l===Dr.Checked?o++:l===Dr.Indeterminate&&r++}let s=Dr.Unchecked;o===t.length?s=Dr.Checked:(o>0||r>0)&&(s=Dr.Indeterminate),this._updateCheckValue(e,s)}e=this.getItemParent(e)}}_updateCheckState(){this._currentCheckMode===Kp.ThreeState&&this._updateChildrenCheckState(this._dataService.getList())}_updateChildrenCheckState(n){n&&n.forEach(e=>{this._updateChildItemCheckValue(e),this._updateParentItemCheckValue(e),this._updateChildrenCheckState(e[this._options.dataFields.items])})}_updateData(){this._dataService.init([{data:this.items,fields:this._options.dataFields}]),this._internalUpdateLayout()}_updateOptions(n){n?(this._options={allowDrag:this._commonService.isFieldAvailable(n.allowDrag,!1),allowDrop:this._commonService.isFieldAvailable(n.allowDrop,!1),allowFilter:this._commonService.isFieldAvailable(n.allowFilter,!1),compactMode:this._commonService.isFieldAvailable(n.compactMode,!1),dataFields:null,indent:this._commonService.isFieldAvailable(n.indent,15),loadItems:[],selectedItem:this._commonService.isFieldAvailable(n.selectedItem,this._options.selectedItem?this._options.selectedItem:null)},this._updateShowScroll(n.showScroll)):(this._options={allowDrag:!1,allowDrop:!1,allowFilter:!1,compactMode:!1,dataFields:null,indent:15,loadItems:[],selectedItem:null},this._updateDataFields(),this._updateShowScroll())}_updateDataFields(n){n?this._options.dataFields={allowCheckBox:n.allowCheckBox?n.allowCheckBox:"allowCheckBox",allowDrag:n.allowDrag?n.allowDrag:"allowDrag",allowDrop:n.allowDrop?n.allowDrop:"allowDrop",allowEdit:n.allowEdit?n.allowEdit:"allowEdit",allowFocus:n.allowFocus?n.allowFocus:"allowFocus",allowRadioButton:n.allowRadioButton?n.allowRadioButton:"allowRadioButton",autoCheck:n.autoCheck?n.autoCheck:"autoCheck",canSelect:n.canSelect?n.canSelect:"canSelect",checkBoxSettings:n.checkBoxSettings?n.checkBoxSettings:"checkBoxSettings",checked:n.checked?n.checked:"checked",checkState:n.checkState?n.checkState:"checkState",content:n.content?n.content:"content",contentVisibility:n.contentVisibility?n.contentVisibility:"contentVisibility",contextMenu:n.contextMenu?n.contextMenu:"contextMenu",data:n.data?n.data:"data",enabled:n.enabled?n.enabled:"enabled",expanded:n.expanded?n.expanded:"expanded",hasChildren:n.hasChildren?n.hasChildren:"hasChildren",icon:n.icon?n.icon:"icon",iconUrl:n.iconUrl?n.iconUrl:"iconUrl",id:n.id?n.id:"id",isRoot:n.isRoot?n.id:"isRoot",items:n.items?n.items:"items",objects:n.items?n.items:"items",pid:n.pid?n.pid:"pid",selected:n.selected?n.selected:"selected",showCheckBox:n.showCheckBox?n.showCheckBox:"showCheckBox",statusIcon:n.statusIcon?n.statusIcon:"statusIcon",style:n.style?n.style:"style",templateObj:n.templateObj?n.templateObj:"templateObj",text:n.text?n.text:"text",tooltip:n.tooltip?n.tooltip:"tooltip",value:n.value?n.value:"value",visible:n.value?n.visible:"visible"}:this._options.dataFields={allowCheckBox:"allowCheckBox",allowDrag:"allowDrag",allowDrop:"allowDrop",allowEdit:"allowEdit",allowFocus:"allowFocus",allowRadioButton:"allowRadioButton",autoCheck:"autoCheck",checkBoxSettings:"checkBoxSettings",canSelect:"canSelect",checked:"checked",checkState:"checkState",content:"content",contentVisibility:"contentVisibility",contextMenu:"contextMenu",data:"data",enabled:"enabled",expanded:"expanded",hasChildren:"hasChildren",icon:"icon",iconUrl:"iconUrl",id:"id",isRoot:"isRoot",items:"items",objects:"items",pid:"pid",selected:"selected",showCheckBox:"showCheckBox",statusIcon:"statusIcon",style:"style",templateObj:"templateObj",text:"text",tooltip:"tooltip",value:"value",visible:"visible"},this._dataService&&this._dataService.updateDataFields(this._options.dataFields)}_updateCurrentList(){this._currentList.length=0,this._isThereChildItems=!1;let n=this._dataService.getList();this._options.compactMode===!0&&(n=this._createCompactList(n)),n&&(n=this._applySorting(n)).forEach(e=>this._addChildItems(e,0,null,!1))}_addChildItems(n,e,t,o,r){let s=!0;if(!n[this._options.dataFields.items])return s=this._addItemToCurrentList(n,e,t,o,r);if(this._addItemToCurrentList(n,e,t,o,r)){s=!0;let a=0;if(o||this.isItemExpanded(n)){let l=n[this._options.dataFields.items];l&&(l=this._applySorting(l)).forEach(c=>{this._addChildItems(c,e+this._options.indent,n[this._options.dataFields.id],o,n)&&a++})}!o&&!this._isThereChildItems&&(a>0||this._isThereItems(n))&&(this._isThereChildItems=!0)}return s}_addItemToCurrentList(n,e,t,o,r){n.type="item",n[this._options.dataFields.id]||(n[this._options.dataFields.id]=this._commonService.getUniqueId()),t?n[this._options.dataFields.pid]=t:delete n[this._options.dataFields.pid];let s=this._isItemAllowed(n);return s&&(o?this._fullList.push(n):this._currentList.push({data:n,dragIndent:e,indent:e,inlineStyle:{},style:{general:{},expandBox:{},content:{}}})),s}_isThereItems(n){return!this.isItemExpanded(n)&&n[this._options.dataFields.items]&&n[this._options.dataFields.items].length>0&&this._isThereVisibleChildren(n)}_resetVisiblity(n){n&&n.forEach(e=>{e[this._options.dataFields.visible]=!0,this._resetVisiblity(e[this._options.dataFields.items])})}_collapseChildren(n){n&&n.forEach(e=>{e[this._options.dataFields.expanded]=!1,this._collapseChildren(e[this._options.dataFields.items])})}_createCompactList(n){if(this._resetVisiblity(n),this.selectedItem){let e=this.selectedItem,t=this.getItemParent(this.selectedItem),o=t,r=this.selectedItem;if(this._collapseChildren(r[this._options.dataFields.items]),t)for(;t;){this._updateChildren(t,r);let s=this.getItemParent(t);s||(e=t),r=t,t=s}n.forEach(s=>{this._commonService.isEqual(s[this._options.dataFields.id],e[this._options.dataFields.id])||(s[this._options.dataFields.visible]=o&&this.isItemExpanded(e)?!1:!(this.isItemExpanded(r)&&this._isThereVisibleChildren(this.selectedItem)))})}return n}_updateChildren(n,e){n[this._options.dataFields.items].forEach(t=>{this._commonService.isEqual(t[this._options.dataFields.id],e[this._options.dataFields.id])||(t[this._options.dataFields.expanded]=!1,t[this._options.dataFields.visible]=!(this.isItemExpanded(e)&&this._isThereVisibleChildren(e)))})}loadData(n,e,t,o){this._processLoadData(n,e,t,o)}_updateScrollItemList(n){let e=this;e._resetScrollItemList(),e._scrollItemList.length=0,e.update();let t=e._isInitAnimationAllowed(),o=t?{x:-e._clientRect.width,y:0}:{x:0,y:0},r={x:e._ctrlPadding.left+o.x,y:e._ctrlPadding.top+o.y},s=e._currentIndex,a=0;for(;s+a<e._currentList.length&&s<e._currentIndex+e._visibleRange;){let l=e._currentList[s+a];if(e._isItemDragged(l.data))a++;else{n&&l.data===n&&(r.y+=e._dragListSize.height);let c={clickPos:{x:0,y:0},data:l.data,indent:l.indent,index:s-e._currentIndex,inlineStyle:e._getItemInlineStyle(l),position:{x:t?r.x-25*s:r.x,y:r.y},showCheckBox:e._isItemCheckBoxAllowed(l.data),showRadioButton:e._isItemRadioButtonAllowed(l.data),size:{width:0,height:e._currentItemSize.height},style:{},tabIndex:0,targetPosition:{x:e._ctrlPadding.left,y:r.y},zIndex:e._currentIndex+e._visibleRange-s};e._updateItemStyle(c),e._scrollItemList.push(c),r.y+=e._currentItemSize.height,s++}}}_checkForChildren(n){let e=!1,t=n[this._options.dataFields.items];if(t){for(let o=0;o<t.length;o++)if(this._isItemAllowed(t[o])){e=!0;break}}return e}_updateIsThereChildItems(){let n=!1,e=this._dataService.getList();if(e)for(let t=0;t<e.length&&!(n=this._checkForChildren(e[t]));t++);this.isThereChildItems=n}_processItemAdd(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_processItemRemoval(n,e){this._isUpdateAllowed&&this._updateIsThereChildItems()}_itemDragDrop(n,e){this._isEnabled&&this._currentDragDropMode===rr.Static&&(this._expandItem=null,this._expandTimeout&&clearTimeout(this._expandTimeout),this._processDragDropStatic(n,e.data),n.stopPropagation())}collapse(n){return V(this,null,function*(){return this.toggle(n,!1)})}expand(n){return V(this,null,function*(){return this.toggle(n,!0)})}_expandBoxMouseDown(n,e){this._isEnabled&&(n.which===1&&!this._isExpandBoxTouched&&this.toggle(e),this._isExpandBoxTouched=!1),n.stopPropagation()}_expandBoxMouseUp(n){this._isExpandBoxTouched=!1,n.stopPropagation()}_expandBoxTouchStart(n,e){this._isEnabled&&(this._isExpandBoxTouched=!0,this.toggle(e)),n.stopPropagation()}_expandBoxTouchEnd(n,e){}toggle(n,e){return V(this,null,function*(){let t=this,o=Promise.resolve();if(n){if(!n[t._options.dataFields.hasChildren]&&(!n[t._options.dataFields.items]||n[t._options.dataFields.items].length===0))return;if(e&&n[t._options.dataFields.expanded]!==!1)return;if(e===!1&&n[t._options.dataFields.expanded]===!1)return;let r=e!==void 0?e:n[t._options.dataFields.expanded]!==!1,s=e!==void 0?e:!r,a={cancel:!1,item:n};e!==void 0?e?t._invokeEvent("beforeExpand",a):t._invokeEvent("beforeCollapse",a):r?t._invokeEvent("beforeCollapse",a):t._invokeEvent("beforeExpand",a),a.cancel!==!0&&(s!==n[t._options.dataFields.expanded]&&(n[t._options.dataFields.expanded]=s,t._isAnimationAllowed?t._options.compactMode===!0?t._processSelection(null,n):(t._isAnimationInProcess=!0,t._clearAnimations(),s?o=t._updateItemExpand(n):o=t._updateItemCollapse(n)):t._internalUpdateCurrentLayout()),t.isItemExpanded(n)?t._invokeEvent("afterExpand",{item:n}):t._invokeEvent("afterCollapse",{item:n}))}else t.getFullList().forEach(r=>r[t._options.dataFields.expanded]=e),t._internalUpdateCurrentLayout();return t.update(),o})}exportToJSON(n,e,t,o){t=t||null,n=n||(o===!1?this.items:this.getFullList());let r=e||[this._options.dataFields.allowDrag,this._options.dataFields.allowDrop,this._options.dataFields.allowEdit,this._options.dataFields.allowFocus,this._options.dataFields.autoCheck,this._options.dataFields.canSelect,this._options.dataFields.checkBoxSettings,this._options.dataFields.checked,this._options.dataFields.checkState,this._options.dataFields.content,this._options.dataFields.contextMenu,this._options.dataFields.contentVisibility,this._options.dataFields.enabled,this._options.dataFields.expanded,this._options.dataFields.fixed,this._options.dataFields.fixChildren,this._options.dataFields.hasChildren,this._options.dataFields.icon,this._options.dataFields.id,this._options.dataFields.pid,this._options.dataFields.selected,this._options.dataFields.showCheckBox,this._options.dataFields.statusIcon,this._options.dataFields.style,this._options.dataFields.templateObj,this._options.dataFields.text,this._options.dataFields.tooltip,this._options.dataFields.value,this._options.dataFields.visible];return o===!1&&r.push(this._options.dataFields.items),JSON.stringify(n,r,t)}_getCheckedItems(){return this._fullList.filter(n=>n[this._options.dataFields.checked]===!0)}_getDisplayMode(){return this._currentItemDisplay===qr.Partial&&!this._isHoverTemplatePresent&&!this._isSelectedTemplatePresent?qr.Partial:qr.Full}updateFullList(){this._fullList.length=0;let n=this._dataService.getList();return n&&n.forEach(e=>this._addChildItems(e,0,null,!0)),this._fullList}getItemLevel(n){let e=0,t=this.getItemParent(n);for(;t;)e++,t=this.getItemParent(t);return e}getItemParent(n){return this._dataService.getParent(n)}getList(n,e){let t=[];switch(n){case"checked":t=this._getCheckedItems();break;case"current":t=this._currentList;break;case"selected":t=this._currentSelectedItems;break;case"virtual":t=this._scrollItemList?this._scrollItemList.map(o=>o.data):[];break;default:t=this._dataService.getList(e)}return t}_isChildOf(n,e){let t=!1;if(n&&e){let o=e[this._options.dataFields.items];if(o&&o.length>0)for(let r=0;r<o.length;r++){if(this._commonService.isEqual(n[this._options.dataFields.id],o[r][this._options.dataFields.id])){t=!0;break}else t=this._isChildOf(n,o[r]);if(t)break}}return t}_isItemCheckBoxAllowed(n){return this._isCheckBoxVisible&&n&&this._commonService.isTrue(n[this._options.dataFields.allowCheckBox])}_isParentOf(n,e){let t=this._dataService.getParent(e);return!!(n&&e&&t&&this._commonService.isEqual(n[this._options.dataFields.id],t[this._options.dataFields.id]))}isThereChildren(){return this._isThereChildItems}_isThereVisibleChildren(n){let e=!1;if(n){let t=n[this._options.dataFields.items];if(t){for(let o=0;o<t.length;o++)if(this._isItemAllowed(t[o])){e=!0;break}}}return e}_getFirstItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[0]),e}_getItemRealIndex(n){let e=this._dataService.getList();return e?e.indexOf(n):-1}getPrevItem(n){let e=null;if(n){let t=this._dataService.getList(),o=this.getItemParent(n);if(o&&(t=o[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let r=t.indexOf(n);(r=r>0?r-1:-1)>=0&&(e=t[r])}}return e}getNextItem(n){let e=null;if(n){let t=this._dataService.getList(),o=this.getItemParent(n);if(o&&(t=o[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)){let r=t.indexOf(n);(r=r<t.length-1?r+1:-1)>=0&&(e=t[r])}}return e}_getLastItem(n){let e=null,t=this._dataService.getList();return n&&(t=n[this._options.dataFields.items]),t=this._applySorting(t),Array.isArray(t)&&t.length>0&&(e=t[t.length-1]),e}moveItem(n,e,t,o){return V(this,null,function*(){if(n){let r=-1;switch(e){case di.At:r=o;break;case di.Down:t=this.getNextItem(n);break;case di.Left:t=this.getItemParent(n);break;case di.Right:case di.Up:t=this.getPrevItem(n);break;default:r=-1}let s=Array.isArray(n)?n:[n],a=[];for(let l=0;l<s.length;l++){let c=s[l],d=!1,u=this.getItemParent(c);for(;u;){if(s.indexOf(u)>=0){d=!0;break}u=this.getItemParent(u)}d||a.push(c)}a.length>0&&this._getItemCurrentIndex(a[0])>this._getItemCurrentIndex(a[a.length-1])&&(a=a.toReversed()),yield this._moveItemAt(a,t,e,r)}return Promise.resolve()})}_processLeftArrowKey(n,e){return this.collapse(n.data),this._refreshFocusedItem(n),null}_processRightArrowKey(n,e){return this.expand(n.data),this._refreshFocusedItem(n),null}_updateBlockSize(){this._currentItemDisplay===qr.Partial?this.virtualMode!==!1&&this._updateLongestItem():(this._blockSize={width:this._scrollBarSize.width+2,height:this._scrollBarSize.height+2},this._currentScrollAppearance===Hn.Dynamic&&(this._blockSize.width+=5),this._longestItemWidthValue=this._getFullItemWidth())}_isItemInCurrentList(n){let e=!1;if(n){for(let t=0;t<this._currentList.length;t++)if(this._currentList[t].data.id===n.id){e=!0;break}}return e}_getFullItemWidth(){return!this._isLongestInProcess&&this._currentItemDisplay===qr.Partial&&(this._isHoverTemplatePresent||this._isSelectedTemplatePresent)?this._longestItemWidth+"px":this._currentItemSize.width+"px"}_updateLongestItem(){let n=this;n._isLongestInProcess=!0,n._prevLongestItemWidth=n._longestObj&&n._isItemInCurrentList(n._longestObj.data)?n._longestObj.width:0,setTimeout(function(){n._longestObj&&!n._isItemInCurrentList(n._longestObj.data)&&(n._longestObj={data:null,width:0});let e=n._getItemContentElemList();e&&(n._calcLongestItem(e),n._prevLongestItemWidth<n._clientRect.width&&(n._prevLongestItemWidth=n._clientRect.width));let t=n._commonService.getPadding(n._elemRef);n._blockSize.width=n._longestObj.width+(t.left+t.right),n._isLongestInProcess=!1,n._longestItemWidth=n._prevLongestItemWidth,n._longestItemWidthValue=n._getFullItemWidth(),n._updateScrollSize()},1)}_calcLongestItem(n,e){let t=0;for(let o=0;o<n.length;o++)if(o<this._scrollItemList.length){let r=this._scrollItemList[o].data,s=this._getObjFromItem(r);if(s){let a=n[o].offsetWidth+s.indent;if(!e&&this._longestObj.data===s.data){this._calcLongestItem(n,!0);break}t<a&&a>=this._longestObj.width&&(t=a,this._longestObj={data:s.data,width:t},this._prevLongestItemWidth=t)}}}_processUpdateCurrentLayout(){let n=this;return new Promise(e=>{if(n._isAnimationAllowed||n._isUpdateAllowed){let t=n._currentFocusObj?n._currentFocusObj.data:null;n._currentCtrlSize={width:n._clientRect.width,height:n._clientRect.height},n._updateClientRect(),n._updateCurrentList(),n.updateFullList(),n._updateScrollItemList(),n.update(),n._updateScrollSize(),n._updateBlockSize(),n._updateItemElems(),n._updateCurrentItemSize(),n._updateVisibleRange(),n._updateScrollItemList(),n._currentItemDisplay===qr.Partial&&n._virtualMode!==!1?n._updateLongestItem():n._updateScrollSize(),n._currentItemSize.width=n._contentSize.width,n._isAutoSized&&(n._clientRect.height=n._visibleRange*n._avgItemHeight,n._updateCtrlSize(10)),n._updateHoverContentPos(),n._updateSelectContentPos(),t&&(n.focusedItem=t),n.update(),n._updateItemElems()}e()})}_updateCurrentLayout(n){let e=this;e._isUpdateAllowed&&(e._resetLayoutTimer(),e._updateCurrentList(),this._isAutoSized&&this._updateVisibleRange(),n&&e.updateFullList(),e._updateScrollItemList(),this._currentItemDisplay===qr.Partial&&this._virtualMode!==!1?e._updateLongestItem():e._updateScrollSize(),e._updateTimer=setTimeout(function(){e._updateBlockSize(),e.update(),e._updateItemElems(),e._updateHoverContentPos(),e._updateSelectContentPos(),e.update(),clearTimeout(e._updateTimer)},1))}_updateScrollLayout(){this._updateClientRect(),this._updateBlockSize(),this._updateScrollSize(),this._currentItemSize={width:this._contentSize.width,height:this._avgItemHeight},this.refresh(),this._updateItemElems(),this.update()}_updateScrollSize(){let n=this;n._contentSize={width:n._clientRect.width-3,height:n._clientRect.height},n._scrollSize={width:n._currentItemDisplay===qr.Partial?n._blockSize.width-n._clientRect.width-2:0,height:n._avgItemHeight*n._currentList.length-n._clientRect.height+n._avgItemHeight},n._isDragActive&&(n._scrollSize.height+=n._scrollSizeAddition),n.isVerScrollVisible()&&(n._currentScrollAppearance===Hn.Static?n._contentSize.width-=16:(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._contentSize.width-=13)),n._currentItemDisplay===qr.Partial&&n._scrollSize.width>=-6&&(n.isVerScrollVisible()&&(n._scrollSize.width+=16),(n._isHoverTemplatePresent||n._isSelectedTemplatePresent)&&(n._scrollSize.width+=4)),n.isHorScrollVisible()&&(n._scrollSize.height+=16),n._scrollSize.width=Math.max(0,n._scrollSize.width),n._scrollSize.height=Math.max(0,n._scrollSize.height),n._maxScrollPos={x:n._scrollSize.width,y:n._scrollSize.height},n._currentScrollPos.x>n._maxScrollPos.x&&n._changeHorizontalScrollPos(n._maxScrollPos.x),n._currentScrollPos.y>n._maxScrollPos.y&&n._changeVerticalScrollPos(n._maxScrollPos.y),n._scrollBarSize={width:n.isVerScrollVisible()?n._clientRect.width-16:n._clientRect.width,height:n.isHorScrollVisible()?n._clientRect.height-16:n._clientRect.height},n._currentScrollAppearance===Hn.Static?(n._scrollBarSize.width-=2,n._scrollBarSize.height-=2):(n.isVerScrollVisible()&&(n._scrollBarSize.height+=2),n.isHorScrollVisible()&&(n._scrollBarSize.width+=2),n.isVerScrollVisible()&&n.isHorScrollVisible()&&(n._scrollBarSize.width+=5,n._scrollBarSize.height+=5)),n._scrollLargeChange={x:n._scrollBarSize.width,y:n._scrollBarSize.height},n._blockHoverRect.width=n._clientRect.width-2;let e={height:n._avgItemHeight-2,left:0,top:-9999999,width:n._clientRect.width-2};n.isVerScrollVisible()&&(n._blockHoverRect.width-=16,e.width-=16,n._currentScrollAppearance===Hn.Dynamic&&(n._blockHoverRect.width+=7,e.width+=7)),n._blockSelectRect.forEach(t=>{t.width=e.width,t.height=e.height})}beginLoad(n){if(n)this._options.loadItems.indexOf(n)<0&&this._options.loadItems.push(n);else{this._isLoading=!0,this.update();let e=this.shadowRoot.querySelector(".iui-loading-icon");e&&(this._loadIconPos={top:(this._clientRect.height-e.offsetHeight)/2,left:(this._clientRect.width-e.offsetWidth)/2})}this.update()}endLoad(n){let e=this;if(n){let t=e._options.loadItems.indexOf(n);t>=0&&e._options.loadItems.splice(t,1),e._updateCurrentLayout(!0)}else e._options.loadItems.length=0,e._isLoading=!1,e._isLoadingEnd=!0,e.refresh(),e._loadingEndTimeout=setTimeout(function(){e._isLoadingEnd=!1,e.update(),clearTimeout(e._loadingEndTimeout)},400)}_isItemLoading(n){return this._options.loadItems.indexOf(n)>=0}_checkedChanged(n,e){if(!this._isAnimationInProcess){let t=n.detail.checked;e.data[this._options.dataFields.checked]!==t&&(e.data[this._options.dataFields.checked]=t,this._updateItemRadioButtonValue(e),this._invokeEvent("checkedChanged",{event:n,item:e.data,checked:e.data[this._options.dataFields.checked]}),this.update())}}_getItemRadioValue(n){return!!(n&&n[this._options.dataFields.checked]===!0)}_isItemRadioButtonAllowed(n){return n&&n[this._options.dataFields.allowRadioButton]===!0}_updateItemRadioButtonValue(n){if(n){let e=this.getItemParent(n.data);(e?e[this._options.dataFields.items]:[]).forEach(t=>{this._isItemRadioButtonAllowed(t)&&t!==n.data&&(t[this._options.dataFields.checked]=!1)})}}scrollTo(n,e){let t=this;if(t.virtualMode!==!1&&n)if(e!==void 0){let o=t._getItemCurrentIndex(n);o>=0&&t.scrollPos({x:t._currentScrollPos.x,y:e!==void 0?t._avgItemHeight*(o-e):t._avgItemHeight*(o+1-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()}else{t.suspendLayout();let o=t.getItemParent(n);for(;o!==null;)t.expand(o),o=t.getItemParent(o);t.resumeLayout();let r=setTimeout(function(){let s=t._getItemCurrentIndex(n);s>=0&&(t.scrollPos({x:t._currentScrollPos.x,y:t._avgItemHeight*(s-Math.floor(t._visibleRange/2))}),t._processUpdateLayout()),clearTimeout(r)},150)}}_callAfterSelectEvent(n){let e={item:n};this._invokeEvent("afterSelect",e),this._invokeEvent("selectionChanged",e),this._options.compactMode===!0&&(this.getItemParent(n)&&(n[this._options.dataFields.expanded]=!0),this._processUpdateLayout())}_getControlStyle(){let n=this._currentInlineStyle||{};if(n.cursor=this._ctrlCursor,n.overflow=this.virtualMode?"hidden":"auto",this._ctrlSize.width>0&&(n.width=this._ctrlSize.width+"px"),this._isAutoSized){let e=this._currentCtrlSize.height;this.isHorScrollVisible()&&(e+=16),n.height=e+"px"}else this._ctrlSize.height>0&&(n.height=this._ctrlSize.height+"px");return n}_getBlockStyle(){let n={};return this._currentItemDisplay===qr.Partial&&(n={width:this._blockSize.width+"px"}),n}_getItemInlineContentStyle(n){let e={};return e["padding-left"]=n.indent+"px",e}_isThereNoItems(n){return n[this._options.dataFields.items]&&n[this._options.dataFields.items].length===0}_itemHasChildren(n){return n[this._options.dataFields.hasChildren]&&(this._isThereVisibleChildren(n)||!n[this._options.dataFields.items]||this._isThereNoItems(n))}_updateItemStyle(n){if(n){n.style={general:{},expandBox:{},content:{}},n.inlineStyle=this._getItemInlineStyle(n),n.style.general[this._itemClassName]=!0,n.style.general[this._options.currentStyle.item.general.normal]=!0,n.style.content[this._itemContentClassName]=!0,n.style.content[this._options.currentStyle.item.content.normal]=!0,this._getDisplayMode()===qr.Partial?(n.style.content["iui-treeitem-content-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.content[this._options.currentStyle.item.content.selected]=!0:this._isItemHovered(n.data)&&(n.style.content[this._options.currentStyle.item.content.hovered]=!0):n.style.content[this._options.currentStyle.item.content.disabled]=!0):(n.style.general["iui-treeitem-block"]=!0,this._isItemEnabled(n.data)?this._isItemSelected(n.data)?n.style.general[this._options.currentStyle.item.general.selected]=!0:this._isItemHovered(n.data)&&(n.style.general[this._options.currentStyle.item.general.hovered]=!0):n.style.general[this._options.currentStyle.item.general.disabled]=!0),this._options.allowFocus&&this._currentFocusObj&&n.data===this._currentFocusObj.data&&(n.style.content[this._options.currentStyle.item.content.focused]=!0),(this._isThereChildItems||n.data[this._options.dataFields.hasChildren])&&(n.style.expandBox[this._options.currentStyle.item.expandBox.general]=!0),(this._itemHasChildren(n.data)||this._isThereVisibleChildren(n.data))&&(this._isItemLoading(n.data)?n.style.expandBox[this._options.currentStyle.item.expandBox.load]=!0:n.data[this._options.dataFields.expanded]!==!1?n.style.expandBox[this._options.currentStyle.item.expandBox.expanded]=!0:n.style.expandBox[this._options.currentStyle.item.expandBox.collapsed]=!0);let e=this._getObjFromItem(n.data);e&&(e.style=n.style,e.inlineStyle=n.inlineStyle)}}_getAppliedExpandBoxClass(n){return n.style.expandBox}_getAppliedItemClass(n){return n.style.general}_getAppliedItemStyle(n,e){let t=this._commonService.getStyle(n.inlineStyle),o=ee({},t.normal)||{};return this._isItemEnabled(n.data)?this._isItemSelected(n.data)?o=ee({},t.selected)||{}:this._isItemHovered(n.data)&&(o=ee({},t.hovered)||{}):o=ee({},t.disabled)||{},o.position="absolute",n.position&&(o.top=n.position.y+"px",n.removeStart||(o.left=n.position.x-this._currentScrollPos.x+"px")),n.scale!==void 0&&(o.transform="scale("+n.scale+")"),n.animateLeft!==void 0&&(o.left=n.animateLeft+"%"),o.zIndex=n.zIndex!==void 0?n.zIndex:this._visibleRange-e,o.display=this._currentItemDisplay===qr.Partial?"inline-block":"block",o.width=this._longestItemWidthValue,o}_getAppliedItemExpandBoxStyle(n){return this._commonService.getStyle(n.inlineStyle).expandBox||{}}_getCheckBoxClass(n){let e={"iui-treeitem-checkbox":!0};if(this._currentCheckMode===Kp.ThreeState)switch(n[this._options.dataFields.checkState]){case Dr.Indeterminate:e["iui-treeitem-checkbox-indeterminate"]=!0;break;case Dr.Checked:e["iui-treeitem-checkbox-checked"]=!0;break;default:this._defaultFunc()}else n[this._options.dataFields.checked]&&(e["iui-treeitem-checkbox-checked"]=!0);return e}_getItemStyle(n){return n?{general:this._getItemGeneralStyle(n.general),expandBox:this._getItemExpandBoxStyle(n.expandBox),content:this._getItemContentStyle(n.content)}:this._getDefaultItemStyle()}_getItemExpandBoxStyle(n){return this._commonService.isString(n)?n:n?{general:this._commonService.isFieldAvailable(n.disabled,this._expandBoxClassName),load:this._commonService.isFieldAvailable(n.focused,this._expandBoxClassName+"-load"),expanded:this._commonService.isFieldAvailable(n.normal,this._expandBoxClassName+"-open"),collapsed:this._commonService.isFieldAvailable(n.hovered,this._expandBoxClassName+"-close")}:this._getDefaultItemExpandBoxStyle()}_getDefaultItemStyle(){return{general:this._getDefaultItemGeneralStyle(),expandBox:this._getDefaultItemExpandBoxStyle(),content:this._getDefaultItemContentStyle()}}_getDefaultItemExpandBoxStyle(){return{general:this._defaultStyle.item.expandBox.general,load:this._defaultStyle.item.expandBox.load,expanded:this._defaultStyle.item.expandBox.expanded,collapsed:this._defaultStyle.item.expandBox.collapsed}}_getDefaultListStyle(){return{general:this._getDefaultGeneralStyle(),item:this._getDefaultItemStyle()}}_updateColorSchemeSettings(n){switch(this._currentBaseColorSchemeSettings=ze``,this._currentColorSchemeSettings=ze``,this._currentItemColorSchemeSettings=ze``,this._currentScrollColorSchemeSettings=ze``,n){case bi.Dark:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(tte.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll($3.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(q3.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(kw.cssText,"../../../icons",this._currentResourcePath);break;case bi.Light:this._currentBaseColorSchemeSettings.cssText=this._commonService.replaceAll(ite.cssText,"../../../icons",this._currentResourcePath),this._currentColorSchemeSettings.cssText=this._commonService.replaceAll(ote.cssText,"../../../icons",this._currentResourcePath),this._currentItemColorSchemeSettings.cssText=this._commonService.replaceAll(ste.cssText,"../../../icons",this._currentResourcePath),this._currentScrollColorSchemeSettings.cssText=this._commonService.replaceAll(zO.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentBaseColorSchemeSettings.cssText="",this._currentColorSchemeSettings.cssText="",this._currentItemColorSchemeSettings.cssText="",this._currentScrollColorSchemeSettings.cssText=""}}_updateThemeSettings(n){switch(this._currentThemeSettings=ze``,this._currentItemThemeSettings=ze``,this._currentScrollStyleSettings=ze``,n){case zn.Office:this._currentThemeSettings.cssText=this._commonService.replaceAll(nte.cssText,"../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(rte.cssText,"../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(HO.cssText,"../../icons",this._currentResourcePath);break;case zn.Dark:this._currentThemeSettings.cssText=this._commonService.replaceAll($3.cssText,"../../../icons",this._currentResourcePath),this._currentItemThemeSettings.cssText=this._commonService.replaceAll(q3.cssText,"../../../icons",this._currentResourcePath),this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(kw.cssText,"../../../icons",this._currentResourcePath);break;default:this._currentThemeSettings.cssText="",this._currentItemThemeSettings.cssText="",this._currentScrollStyleSettings.cssText=this._commonService.replaceAll(E0.cssText,"../../icons",this._currentResourcePath)}}_getItemTemplate(n,e){let t=null,o=null;switch(e){case"hover":t=this.itemHoverTemplate;break;case"select":t=this.itemSelectTemplate;break;default:t=this.itemTemplate}if(t){let r=t(n,this._getItemCurrentIndex(n));r&&(o=new Mc(r.strings,r.values,"html",pm))}if(!o){let r={},s=this._commonService.isString(n[this._options.dataFields.icon])?n[this._options.dataFields.icon].split(" "):[];s.map(a=>r[a]=!0),o=Ke`                 ${s.length>0?Ke`<span class=${Gn(r)}></span>`:Ke``}                 ${n[this._options.dataFields.iconUrl]?Ke`<img style=${ln({verticalAlign:"middle"})} src="${n[this._options.dataFields.iconUrl]} />`:Ke``}                 <span class="iui-item-label" >${n[this._options.dataFields.text]}</span>             `}return o}_getDragTemplate(n){return Ke`             <div class=${Gn({[this._itemClassName]:!0})}>                 <div style=${ln({"padding-left":n.indent+"px"})}>                     <div class=${Gn({[this._itemContentClassName]:!0})}>                         ${this.showExpandBox?Ke`<span class=${Gn(n.style.expandBox)}></span>`:Ke``}                         ${this._isCheckBoxVisible?Ke`<span class=${Gn(this._getCheckBoxClass(n.data))}></span>`:Ke``}                         <div style="display:inline-block">                             ${this._getItemTemplate(n.data)}                         </div>                     </div>                 </div>             </div>         `}_isExpandBoxPresent(n){return this._isThereChildItems||n[this._options.dataFields.hasChildren]}_getDragItemExpandBoxStyle(n){let e={};return(this._isThereChildItems||n[this._options.dataFields.hasChildren])&&(e[this._expandBoxClassName]=!0),(this._itemHasChildren(n)||this._isThereVisibleChildren(n))&&(e[this._expandBoxClassName+"-close"]=!0),e}_calcDragMoveSpace(){return Math.floor(.25*this._currentItemSize.height)}_getDragDropTarget(n){let e=null,t=this._dragDropService.getData();if(this._currentDragPos.y>this._prevDragPos.y)for(let o=this._scrollItemList.length-1;o>=0;o--){let r=this._scrollItemList[o];if(e=r,this._dragListPos.top+this._dragListSize.height>r.position.y&&this._isDropAllowed(t.source,e.data)){this._dropPos=1,this._dragListPos.top+this._dragListSize.height>r.position.y+this._dragMoveSpace&&(this._dragListIndex=o+1,this._dropPos=0,this._dragListPos.top>r.position.y+r.size.height+this._dragMoveSpace/2?this._dropPos=-1:this._dragListPos.top>r.position.y+r.size.height-this._dragMoveSpace&&(this._dropPos=2)),n=!0,this._dragTargetIndex=o;break}}else if(this._currentDragPos.y<this._prevDragPos.y)for(let o=0;o<this._scrollItemList.length;o++){let r=this._scrollItemList[o];if(e=r,this._dragListPos.top<r.position.y+r.size.height&&this._isDropAllowed(t.source,e.data)){this._dropPos=2,this._dragListPos.top<r.position.y+r.size.height-this._dragMoveSpace&&(this._dropPos=0,this._dragListPos.top<r.position.y+r.size.height/2&&(this._dragListIndex=o,this._dropPos=1)),n=!0,this._dragTargetIndex=o;break}}return{pass:n,target:e}}_updateDragIndent(n){this._activeAnimations.filter(e=>e.getTarget()==="INDENT").length===0&&this._animateIndent(this._dragItemList,this._dropPos===0?n+this._options.indent:n)}_animateIndent(n,e){let t=this._updateIndentAnimation.bind(this),o=new Ts("INDENT");this._activeAnimations.push(o);let r=[];n.forEach(s=>r.push({element:s,current:{paddingLeft:s.indent},values:{paddingLeft:e}})),o.animate(r,0,this._currentAnimationSpeedValue,t)}_updateIndentAnimation(n,e,t){n.length>0&&(n.forEach(o=>{o.element&&(o.element.indent=o.values.paddingLeft,e&&(this._clearTargetAnimation("INDENT"),this._clearInactiveAnimations()))}),this.update())}_getRadioButtonLayout(n){let e=Ke``;if(n.showRadioButton){let t=ze`                 .iui-radio-button {                     margin: var(--iui-radio-button-margin, 0 3px);                     padding: var(--iui-radio-button-padding, 3px 0);                 }                 .iui-radio-button-btn {                     margin: var(--iui-radio-button-btn-margin, 0);                 }                 .iui-radio-button-btn span {                     height: var(--iui-radio-button-btn-content-height, 10px);                     width: var(--iui-radio-button-btn-content-width, 10px);                 }             `;e=Ke`                 <iui-radiobutton                      .checked=${this._getItemRadioValue(n.data)}                     .colorScheme="${this._currentColorScheme}"                     .customStyle="${[t,this.customStyle]}"                     .enabled="${this.enabled}"                      .theme="${this._currentTheme}"                     @checkedChanged="${o=>this._checkedChanged(o,n)}"                 ></iui-radiobutton>`}return e}render(){return Ke`                 <style>                     ${E0}                     ${this._currentBaseStyleSettings}                     ${this._currentBaseColorSchemeSettings}                     ${this._currentScrollStyleSettings}                     ${this._currentControlStyleSettings}                     ${this._currentItemStyleSettings}                     ${this._currentThemeSettings}                     ${this._currentItemThemeSettings}                     ${this._currentColorSchemeSettings}                     ${this._currentItemColorSchemeSettings}                     ${this._currentScrollColorSchemeSettings}                     ${this._currentCustomStyle}                 </style>                 <div data-ctrl="treeview" class=${Gn(this._getControlClass())} style=${ln(this._getControlStyle())} @DOMMouseScroll="${n=>this._processMouseWheel(n)}" @mousewheel="${n=>this._processMouseWheel(n)}" @mouseenter="${n=>this._ctrlMouseEnter(n)}" @mouseleave="${n=>this._ctrlMouseLeave(n)}" @mousemove="${n=>this._onCtrlMouseMove(n)}" @dragenter="${n=>this._ctrlDragEnter(n)}" @dragleave="${n=>this._ctrlDragLeave(n)}" @dragover="${n=>this._ctrlDragOver(n)}" @drop="${n=>this._ctrlDragDrop(n)}" @dragend="${n=>this._ctrlDragEnd(n)}" @scroll="${n=>this._onScroll(n)}">                     <div class=${Gn({"iui-base-loading":!!this._isLoading,"iui-base-loading-end":!!this._isLoadingEnd})}>                         <ul style=${ln({width:this._currentItemDisplay===qr.Partial?"9999px":this._blockSize.width+"px",height:this._contentSize.height+"px",margin:this._isScrollListInit?"-9999px 0 0 0":0,padding:0})} @touchstart="${n=>this._ctrlTouchStart(n)}" @touchend="${n=>this._ctrlTouchEnd(n)}">                             ${this._scrollItemList.map((n,e)=>Ke`                                 <li data-item class=${Gn(this._getAppliedItemClass(n))} style=${ln(this._getAppliedItemStyle(n,e))} @mouseenter="${t=>this._itemMouseEnter(t,n)}" @mousemove="${t=>this._itemMouseMove(t,n)}" @mouseleave="${t=>this._itemMouseLeave(t,n)}">                                     <div style=${ln({"padding-left":n.indent+"px"})} draggable="true" @mousedown="${t=>this._itemMouseDown(t,n)}" @mouseup="${t=>this._itemMouseUp(t,n)}" @dragstart="${t=>this._itemDragStart(t,n,e)}" @dragover="${t=>this._itemDragOver(t,n,e)}" @drop="${t=>this._itemDragDrop(t,n)}" @dragend="${t=>this._ctrlDragEnd(t)}" @touchstart="${t=>this._itemTouchStart(t,n)}" @touchmove="${t=>this._itemTouchMove(t,n)}" @touchend="${t=>this._itemTouchEnd(t,n)}">                                         <div data-item-content class=${Gn(n.style.content)} style=${ln({display:this._currentItemDisplay===qr.Partial?"inline-block":"block"})} tabindex="${n.tabIndex}" @focus="${()=>this._itemGotFocus(n)}" @blur="${()=>this._itemLostFocus(n)}" @keydown="${t=>this._itemKeyDown(t,n)}" @keypress="${t=>this._itemKeyPress(t,n)}" @keyup="${t=>this._itemKeyUp(t,n)}">                                             <div class="iui-treeitem-content-block">                                                 ${this.showExpandBox?Ke`<span class=${Gn(this._getAppliedExpandBoxClass(n))} style=${ln(this._getAppliedItemExpandBoxStyle(n))} @mousedown="${t=>this._expandBoxMouseDown(t,n.data)}" @mouseup="${t=>this._expandBoxMouseUp(t)}" @touchstart="${t=>this._expandBoxTouchStart(t,n.data)}" @touchend="${t=>this._expandBoxTouchEnd(t,n.data)}"></span>`:Ke``}                                                 ${n.showCheckBox?Ke`<span class=${Gn(this._getCheckBoxClass(n.data))} @mousedown="${t=>this._checkItem(t,n.data)}" @touchstart="${t=>this._checkItem(t,n.data)}"></span>`:Ke``}                                                 ${this._getRadioButtonLayout(n)}                                                 <div class="iui-treeitem-content-template" @click="${t=>this._itemClickEvent(t,n)}" @dblclick="${t=>this._itemDblClickEvent(t,n)}" @contextmenu="${t=>this._itemRightClickEvent(t,n)}">                                                     ${this._getItemTemplate(n.data)}                                                 </div>                                             </div>                                         </div>                                     </div>                                 </li>                             `)}                         </ul>                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isHoverTemplatePresent&&this._hoverItemObj&&this._isContentAllowed(this._hoverItemObj.data,"hover")?Ke`<div class="iui-treeview-block iui-treeview-block-hover" style=${ln({left:this._blockHoverRect.left+"px",top:this._blockHoverRect.top+"px",height:this._blockHoverRect.height+"px",width:this._blockHoverRect.width+"px"})}>                                     <div style=${ln({height:this._blockHoverRect.height+"px"})} @mousemove="${n=>this._hoverBlockMouseMove(n)}" @mouseleave="${n=>this._hoverBlockMouseLeave(n)}">                                         ${this._getItemTemplate(this._hoverItemObj.data,"hover")}                                     </div>                                 </div>`:Ke``}                         ${!this._isDragActive&&!this._isAnimationInProcess&&this._isSelectedTemplatePresent?this._currentSelectedItems.map((n,e)=>Ke`<span>                                     ${this._isContentAllowed(n,"select")?Ke`<div class="iui-treeview-block iui-treeview-block-select" style=${ln(this._getSelectBlockRect(e))}>                                             <div style=${ln({height:this._blockSelectHeight+"px"})}>                                                 ${this._getItemTemplate(n,"select")}                                             </div>                                         </div>`:Ke``}                                     </span>`):Ke``}                         ${this.isVerScrollVisible()?Ke`<iui-scrollbar id="ver-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" .value="${this._currentScrollPos.y}" .max="${this._maxScrollPos.y}" .largeChange="${this._scrollLargeChange.y}" .height="${this._scrollBarSize.height}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onVerticalScrollChanged(n)}" @scrollStart="${n=>this._onVerticalScrollStart(n)}" @scrollEnd="${n=>this._onVerticalScrollEnd(n)}"></iui-scrollbar>`:Ke``}                         ${this.isHorScrollVisible()?Ke`<iui-scrollbar id="hor-scroll" .allowAnimation="${this._isAnimationAllowed}" .appearance="${this._currentScrollAppearance}" .colorScheme="${this._currentColorScheme}" .enabled="${this.enabled}" orientation="Horizontal" .value="${this._currentScrollPos.x}" .max="${this._maxScrollPos.x}" .width="${this._scrollBarSize.width}" .theme="${this._currentTheme}" .visible="${this._isScrollVisible}" @mouseenter="${n=>this._scrollMouseEnter(n)}" @valueChanged="${n=>this._onHorizontalScrollChanged(n)}" @scrollStart="${n=>this._onHorizontalScrollStart(n)}" @scrollEnd="${n=>this._onHorizontalScrollEnd(n)}"></iui-scrollbar>`:Ke``}                         ${this.isVerScrollVisible()&&this.isHorScrollVisible()?Ke`<div class=${Gn(this._getScrollCornerClass())}></div>`:Ke``}                     </div>                     ${this._isDragActive&&this._isCtrlDragEntered?Ke`<div id="drag-content" class=${Gn(this._getDragListClass())} style=${ln({top:this._dragListPos.top+"px",width:this._contentSize.width-2+"px"})}>                                 ${this._isDragCopy?Ke`<span class="iui-draglist-copy" style=${ln({top:this._currentDragItems===1?this._dragListSize.height/2-8+"px":"3px",left:this._dragListSize.width/2-8+"px"})}></span>`:Ke``}                                 <ul style=${ln({margin:0,padding:0})}>                                     ${this._dragItemList.filter((n,e)=>e<this._maxDragItems).map((n,e)=>Ke`                                         <li class=${Gn({"iui-listitem-animate":this.allowAnimation})} style=${ln({border:"thin solid gray2"})}>                                             ${this._getDragTemplate(n)}                                         </li>                                     `)}                                 </ul>                                 ${this._totalDragItems>this._currentDragItems?Ke`<div class="iui-draglist-corner">                                             <div class="iui-draglist-corner-block"></div>                                             <div class="iui-draglist-num">+${this._totalDragItems-this._currentDragItems}</div>                                         </div>`:Ke``}                             </div>`:Ke``}                     ${this._isLoading?Ke`<div class="iui-loading-icon" style=${ln({top:this._loadIconPos.top+"px",left:this._loadIconPos.left+"px"})}></div>`:Ke``}                 </div>             `}firstUpdated(n){let e=this;e._updateReferences(),setTimeout(function(){e._isHoverTemplatePresent=!!e.itemHoverTemplate,e._isSelectedTemplatePresent=!!e.itemSelectTemplate,e._internalUpdateLayout()},1)}updated(n){n.forEach((e,t)=>{}),this._updateFocusItem()}_updateControlStyleSettings(n){this._currentBaseStyleSettings=ze``,this._currentBaseStyleSettings.cssText=this._commonService.replaceAll(z3.cssText,"../../icons",n),this._currentControlStyleSettings=ze``,this._currentControlStyleSettings.cssText=this._commonService.replaceAll(W3.cssText,"../../icons",n),this._currentItemStyleSettings=ze``,this._currentItemStyleSettings.cssText=this._commonService.replaceAll(K3.cssText,"../../icons",n)}_updateReferences(){this._elemRef=this.shadowRoot.querySelector("div[data-ctrl=treeview]"),this._resizeObserver&&this._resizeObserver.observe(this._elemRef)}};window.customElements.define("iui-treeview",J3);var ate=ze`
  .fwcBadge {
    display: inline-block;
    border-radius: 50%;
    color: var(--fwcWhite);
    height: 1.3rem;
    width: 1.3rem;
    line-height: 1.3rem;
    text-align: center;
    margin-bottom: 0.2rem;
  }

  .fwcBadgeFw {
    float: left;
    width: 13px;
    height: 13px;
    display: flex; /* Added for centering content */
    align-items: center; /* Vertically center content */
    justify-content: center; /* Horizontally center content */

    p {
      font-size: 9px;
      font-weight: bold;
      text-align: center;
      color: var(--fwcWhite);
      margin: 0; /* Reset margin to avoid unexpected space */
      line-height: 1; /* Ensure single line height */
    }

    &.fwcBadgeFw-C {
      background-color: var(--fwcPaleOrange);      
      margin-right: 1px;
    }

    &.fwcBadgeFw-I {
      background-color: var(--fwcOrange);     
    }
  }

  .spanInfoPill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;

    span:first-child {
      color: var(--fwcWhite);
      display: inline-block;
      background-color: var(--fwcDarkBlue);
      border: 1px solid var(--fwcDarkBlue);
      padding: 0 0.4rem;

      p {
        vertical-align: middle;
        display: inline-block;
        margin: 0;
        padding: 0;
        font-family: monospace;
        font-size: smaller;
        text-transform: uppercase;
      }
    }

    span:last-child {
      padding: 0 3px;
    }

    &.pillSuccess {
      border: 1px solid var(--fwcGreen);
      color: var(--fwcDarkGreen);

      span:first-child {
        background: var(--fwcPaleGreen);
        border: 1px solid var(--fwcPaleGreen);
        border-right: 1px solid var(--fwcGreen);
        color: var(--fwcDark);
      }
    }

    &.pillDanger {
      border: 1px solid var(--fwcRed2);
      color: var(--fwcRed2);

      span:first-child {
        background: var(--fwcPaleRed);
        border: 1px solid var(--fwcPaleRed);
        border-right: 1px solid var(--fwcRed2);
        color: var(--fwcRed2);
      }
    }

    &.pillInfo {
      border: 1px solid var(--fwcBlue);
      color: var(--fwcBlue);

      span:first-child {
        background: var(--fwcPaleBlue);
        border: 1px solid var(--fwcPaleBlue);
        border-right: 1px solid var(--fwcBlue);
        color: var(--fwcDarkBlue);
      }
    }

    &.pillInfoBadge {
      border: 1px solid var(--fwcPaleBlue);

      span:first-child {
        background: var(--fwcPaleBlue);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillWarnBadge {
      border: 1px solid var(--fwcGreen);

      span:first-child {
        background: var(--fwcGreen);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }

    &.pillSecondaryBadge {
      border: 1px solid var(--fwcPaleDark);

      span:first-child {
        background: var(--fwcPaleDark);

        p {
          color: var(--fwcWhite);
          font-family: inherit;
          text-transform: none;
        }
      }
    }
  }

  .spanSimplePill {
    display: inline-block;
    border: 1px solid var(--fwcDarkBlue);
    border-radius: 3px;
    margin: 0 0.5rem;
    padding-left: 3px;
    padding-right: 0.5rem;
    background-color: var(--fwcWhite);
    cursor: pointer;

    &-select {
      font-weight: normal;
      font-style: normal;
      color: var(--fwcMidDark);
    }
  }
`;var lte=ze`
  .flag-icon {
    display: inline-block;
    width: 1.3em;
    height: 1em;
    background-size: cover;
    background-position: 50%;
    background-repeat: no-repeat;
  }
  .flag-icon-ac { background-image: url('/assets/flags/4x3/ac.svg'); }
.flag-icon-ad { background-image: url('/assets/flags/4x3/ad.svg'); }
.flag-icon-ae { background-image: url('/assets/flags/4x3/ae.svg'); }
.flag-icon-af { background-image: url('/assets/flags/4x3/af.svg'); }
.flag-icon-ag { background-image: url('/assets/flags/4x3/ag.svg'); }
.flag-icon-ai { background-image: url('/assets/flags/4x3/ai.svg'); }
.flag-icon-al { background-image: url('/assets/flags/4x3/al.svg'); }
.flag-icon-am { background-image: url('/assets/flags/4x3/am.svg'); }
.flag-icon-ao { background-image: url('/assets/flags/4x3/ao.svg'); }
.flag-icon-aq { background-image: url('/assets/flags/4x3/aq.svg'); }
.flag-icon-ar { background-image: url('/assets/flags/4x3/ar.svg'); }
.flag-icon-as { background-image: url('/assets/flags/4x3/as.svg'); }
.flag-icon-at { background-image: url('/assets/flags/4x3/at.svg'); }
.flag-icon-au { background-image: url('/assets/flags/4x3/au.svg'); }
.flag-icon-aw { background-image: url('/assets/flags/4x3/aw.svg'); }
.flag-icon-ax { background-image: url('/assets/flags/4x3/ax.svg'); }
.flag-icon-az { background-image: url('/assets/flags/4x3/az.svg'); }
.flag-icon-ba { background-image: url('/assets/flags/4x3/ba.svg'); }
.flag-icon-bb { background-image: url('/assets/flags/4x3/bb.svg'); }
.flag-icon-bd { background-image: url('/assets/flags/4x3/bd.svg'); }
.flag-icon-be { background-image: url('/assets/flags/4x3/be.svg'); }
.flag-icon-bf { background-image: url('/assets/flags/4x3/bf.svg'); }
.flag-icon-bg { background-image: url('/assets/flags/4x3/bg.svg'); }
.flag-icon-bh { background-image: url('/assets/flags/4x3/bh.svg'); }
.flag-icon-bi { background-image: url('/assets/flags/4x3/bi.svg'); }
.flag-icon-bj { background-image: url('/assets/flags/4x3/bj.svg'); }
.flag-icon-bl { background-image: url('/assets/flags/4x3/bl.svg'); }
.flag-icon-bm { background-image: url('/assets/flags/4x3/bm.svg'); }
.flag-icon-bn { background-image: url('/assets/flags/4x3/bn.svg'); }
.flag-icon-bo { background-image: url('/assets/flags/4x3/bo.svg'); }
.flag-icon-bq { background-image: url('/assets/flags/4x3/bq.svg'); }
.flag-icon-br { background-image: url('/assets/flags/4x3/br.svg'); }
.flag-icon-bs { background-image: url('/assets/flags/4x3/bs.svg'); }
.flag-icon-bt { background-image: url('/assets/flags/4x3/bt.svg'); }
.flag-icon-bv { background-image: url('/assets/flags/4x3/bv.svg'); }
.flag-icon-bw { background-image: url('/assets/flags/4x3/bw.svg'); }
.flag-icon-by { background-image: url('/assets/flags/4x3/by.svg'); }
.flag-icon-bz { background-image: url('/assets/flags/4x3/bz.svg'); }
.flag-icon-ca { background-image: url('/assets/flags/4x3/ca.svg'); }
.flag-icon-cc { background-image: url('/assets/flags/4x3/cc.svg'); }
.flag-icon-cd { background-image: url('/assets/flags/4x3/cd.svg'); }
.flag-icon-cf { background-image: url('/assets/flags/4x3/cf.svg'); }
.flag-icon-cg { background-image: url('/assets/flags/4x3/cg.svg'); }
.flag-icon-ch { background-image: url('/assets/flags/4x3/ch.svg'); }
.flag-icon-ci { background-image: url('/assets/flags/4x3/ci.svg'); }
.flag-icon-ck { background-image: url('/assets/flags/4x3/ck.svg'); }
.flag-icon-cl { background-image: url('/assets/flags/4x3/cl.svg'); }
.flag-icon-cm { background-image: url('/assets/flags/4x3/cm.svg'); }
.flag-icon-cn { background-image: url('/assets/flags/4x3/cn.svg'); }
.flag-icon-co { background-image: url('/assets/flags/4x3/co.svg'); }
.flag-icon-cp { background-image: url('/assets/flags/4x3/cp.svg'); }
.flag-icon-cr { background-image: url('/assets/flags/4x3/cr.svg'); }
.flag-icon-cu { background-image: url('/assets/flags/4x3/cu.svg'); }
.flag-icon-cv { background-image: url('/assets/flags/4x3/cv.svg'); }
.flag-icon-cw { background-image: url('/assets/flags/4x3/cw.svg'); }
.flag-icon-cx { background-image: url('/assets/flags/4x3/cx.svg'); }
.flag-icon-cy { background-image: url('/assets/flags/4x3/cy.svg'); }
.flag-icon-cz { background-image: url('/assets/flags/4x3/cz.svg'); }
.flag-icon-de { background-image: url('/assets/flags/4x3/de.svg'); }
.flag-icon-dg { background-image: url('/assets/flags/4x3/dg.svg'); }
.flag-icon-dj { background-image: url('/assets/flags/4x3/dj.svg'); }
.flag-icon-dk { background-image: url('/assets/flags/4x3/dk.svg'); }
.flag-icon-dm { background-image: url('/assets/flags/4x3/dm.svg'); }
.flag-icon-do { background-image: url('/assets/flags/4x3/do.svg'); }
.flag-icon-dz { background-image: url('/assets/flags/4x3/dz.svg'); }
.flag-icon-ea { background-image: url('/assets/flags/4x3/ea.svg'); }
.flag-icon-ec { background-image: url('/assets/flags/4x3/ec.svg'); }
.flag-icon-ee { background-image: url('/assets/flags/4x3/ee.svg'); }
.flag-icon-eg { background-image: url('/assets/flags/4x3/eg.svg'); }
.flag-icon-eh { background-image: url('/assets/flags/4x3/eh.svg'); }
.flag-icon-er { background-image: url('/assets/flags/4x3/er.svg'); }
.flag-icon-es-ct { background-image: url('/assets/flags/4x3/es-ct.svg'); }
.flag-icon-es-ga { background-image: url('/assets/flags/4x3/es-ga.svg'); }
.flag-icon-es { background-image: url('/assets/flags/4x3/es.svg'); }
.flag-icon-et { background-image: url('/assets/flags/4x3/et.svg'); }
.flag-icon-eu { background-image: url('/assets/flags/4x3/eu.svg'); }
.flag-icon-fi { background-image: url('/assets/flags/4x3/fi.svg'); }
.flag-icon-fj { background-image: url('/assets/flags/4x3/fj.svg'); }
.flag-icon-fk { background-image: url('/assets/flags/4x3/fk.svg'); }
.flag-icon-fm { background-image: url('/assets/flags/4x3/fm.svg'); }
.flag-icon-fo { background-image: url('/assets/flags/4x3/fo.svg'); }
.flag-icon-fr { background-image: url('/assets/flags/4x3/fr.svg'); }
.flag-icon-ga { background-image: url('/assets/flags/4x3/ga.svg'); }
.flag-icon-gb-eng { background-image: url('/assets/flags/4x3/gb-eng.svg'); }
.flag-icon-gb-nir { background-image: url('/assets/flags/4x3/gb-nir.svg'); }
.flag-icon-gb-sct { background-image: url('/assets/flags/4x3/gb-sct.svg'); }
.flag-icon-gb-wls { background-image: url('/assets/flags/4x3/gb-wls.svg'); }
.flag-icon-gb { background-image: url('/assets/flags/4x3/gb.svg'); }
.flag-icon-gd { background-image: url('/assets/flags/4x3/gd.svg'); }
.flag-icon-ge { background-image: url('/assets/flags/4x3/ge.svg'); }
.flag-icon-gf { background-image: url('/assets/flags/4x3/gf.svg'); }
.flag-icon-gg { background-image: url('/assets/flags/4x3/gg.svg'); }
.flag-icon-gh { background-image: url('/assets/flags/4x3/gh.svg'); }
.flag-icon-gi { background-image: url('/assets/flags/4x3/gi.svg'); }
.flag-icon-gl { background-image: url('/assets/flags/4x3/gl.svg'); }
.flag-icon-gm { background-image: url('/assets/flags/4x3/gm.svg'); }
.flag-icon-gn { background-image: url('/assets/flags/4x3/gn.svg'); }
.flag-icon-gp { background-image: url('/assets/flags/4x3/gp.svg'); }
.flag-icon-gq { background-image: url('/assets/flags/4x3/gq.svg'); }
.flag-icon-gr { background-image: url('/assets/flags/4x3/gr.svg'); }
.flag-icon-gs { background-image: url('/assets/flags/4x3/gs.svg'); }
.flag-icon-gt { background-image: url('/assets/flags/4x3/gt.svg'); }
.flag-icon-gu { background-image: url('/assets/flags/4x3/gu.svg'); }
.flag-icon-gw { background-image: url('/assets/flags/4x3/gw.svg'); }
.flag-icon-gy { background-image: url('/assets/flags/4x3/gy.svg'); }
.flag-icon-hk { background-image: url('/assets/flags/4x3/hk.svg'); }
.flag-icon-hm { background-image: url('/assets/flags/4x3/hm.svg'); }
.flag-icon-hn { background-image: url('/assets/flags/4x3/hn.svg'); }
.flag-icon-hr { background-image: url('/assets/flags/4x3/hr.svg'); }
.flag-icon-ht { background-image: url('/assets/flags/4x3/ht.svg'); }
.flag-icon-hu { background-image: url('/assets/flags/4x3/hu.svg'); }
.flag-icon-ic { background-image: url('/assets/flags/4x3/ic.svg'); }
.flag-icon-id { background-image: url('/assets/flags/4x3/id.svg'); }
.flag-icon-ie { background-image: url('/assets/flags/4x3/ie.svg'); }
.flag-icon-il { background-image: url('/assets/flags/4x3/il.svg'); }
.flag-icon-im { background-image: url('/assets/flags/4x3/im.svg'); }
.flag-icon-in { background-image: url('/assets/flags/4x3/in.svg'); }
.flag-icon-io { background-image: url('/assets/flags/4x3/io.svg'); }
.flag-icon-iq { background-image: url('/assets/flags/4x3/iq.svg'); }
.flag-icon-ir { background-image: url('/assets/flags/4x3/ir.svg'); }
.flag-icon-is { background-image: url('/assets/flags/4x3/is.svg'); }
.flag-icon-it { background-image: url('/assets/flags/4x3/it.svg'); }
.flag-icon-je { background-image: url('/assets/flags/4x3/je.svg'); }
.flag-icon-jm { background-image: url('/assets/flags/4x3/jm.svg'); }
.flag-icon-jo { background-image: url('/assets/flags/4x3/jo.svg'); }
.flag-icon-jp { background-image: url('/assets/flags/4x3/jp.svg'); }
.flag-icon-ke { background-image: url('/assets/flags/4x3/ke.svg'); }
.flag-icon-kg { background-image: url('/assets/flags/4x3/kg.svg'); }
.flag-icon-kh { background-image: url('/assets/flags/4x3/kh.svg'); }
.flag-icon-ki { background-image: url('/assets/flags/4x3/ki.svg'); }
.flag-icon-km { background-image: url('/assets/flags/4x3/km.svg'); }
.flag-icon-kn { background-image: url('/assets/flags/4x3/kn.svg'); }
.flag-icon-kp { background-image: url('/assets/flags/4x3/kp.svg'); }
.flag-icon-kr { background-image: url('/assets/flags/4x3/kr.svg'); }
.flag-icon-kw { background-image: url('/assets/flags/4x3/kw.svg'); }
.flag-icon-ky { background-image: url('/assets/flags/4x3/ky.svg'); }
.flag-icon-kz { background-image: url('/assets/flags/4x3/kz.svg'); }
.flag-icon-la { background-image: url('/assets/flags/4x3/la.svg'); }
.flag-icon-lb { background-image: url('/assets/flags/4x3/lb.svg'); }
.flag-icon-lc { background-image: url('/assets/flags/4x3/lc.svg'); }
.flag-icon-li { background-image: url('/assets/flags/4x3/li.svg'); }
.flag-icon-lk { background-image: url('/assets/flags/4x3/lk.svg'); }
.flag-icon-lr { background-image: url('/assets/flags/4x3/lr.svg'); }
.flag-icon-ls { background-image: url('/assets/flags/4x3/ls.svg'); }
.flag-icon-lt { background-image: url('/assets/flags/4x3/lt.svg'); }
.flag-icon-lu { background-image: url('/assets/flags/4x3/lu.svg'); }
.flag-icon-lv { background-image: url('/assets/flags/4x3/lv.svg'); }
.flag-icon-ly { background-image: url('/assets/flags/4x3/ly.svg'); }
.flag-icon-ma { background-image: url('/assets/flags/4x3/ma.svg'); }
.flag-icon-mc { background-image: url('/assets/flags/4x3/mc.svg'); }
.flag-icon-md { background-image: url('/assets/flags/4x3/md.svg'); }
.flag-icon-me { background-image: url('/assets/flags/4x3/me.svg'); }
.flag-icon-mf { background-image: url('/assets/flags/4x3/mf.svg'); }
.flag-icon-mg { background-image: url('/assets/flags/4x3/mg.svg'); }
.flag-icon-mh { background-image: url('/assets/flags/4x3/mh.svg'); }
.flag-icon-mk { background-image: url('/assets/flags/4x3/mk.svg'); }
.flag-icon-ml { background-image: url('/assets/flags/4x3/ml.svg'); }
.flag-icon-mm { background-image: url('/assets/flags/4x3/mm.svg'); }
.flag-icon-mn { background-image: url('/assets/flags/4x3/mn.svg'); }
.flag-icon-mo { background-image: url('/assets/flags/4x3/mo.svg'); }
.flag-icon-mp { background-image: url('/assets/flags/4x3/mp.svg'); }
.flag-icon-mq { background-image: url('/assets/flags/4x3/mq.svg'); }
.flag-icon-mr { background-image: url('/assets/flags/4x3/mr.svg'); }
.flag-icon-ms { background-image: url('/assets/flags/4x3/ms.svg'); }
.flag-icon-mt { background-image: url('/assets/flags/4x3/mt.svg'); }
.flag-icon-mu { background-image: url('/assets/flags/4x3/mu.svg'); }
.flag-icon-mv { background-image: url('/assets/flags/4x3/mv.svg'); }
.flag-icon-mw { background-image: url('/assets/flags/4x3/mw.svg'); }
.flag-icon-mx { background-image: url('/assets/flags/4x3/mx.svg'); }
.flag-icon-my { background-image: url('/assets/flags/4x3/my.svg'); }
.flag-icon-mz { background-image: url('/assets/flags/4x3/mz.svg'); }
.flag-icon-na { background-image: url('/assets/flags/4x3/na.svg'); }
.flag-icon-nc { background-image: url('/assets/flags/4x3/nc.svg'); }
.flag-icon-ne { background-image: url('/assets/flags/4x3/ne.svg'); }
.flag-icon-nf { background-image: url('/assets/flags/4x3/nf.svg'); }
.flag-icon-ng { background-image: url('/assets/flags/4x3/ng.svg'); }
.flag-icon-ni { background-image: url('/assets/flags/4x3/ni.svg'); }
.flag-icon-nl { background-image: url('/assets/flags/4x3/nl.svg'); }
.flag-icon-no { background-image: url('/assets/flags/4x3/no.svg'); }
.flag-icon-np { background-image: url('/assets/flags/4x3/np.svg'); }
.flag-icon-nr { background-image: url('/assets/flags/4x3/nr.svg'); }
.flag-icon-nu { background-image: url('/assets/flags/4x3/nu.svg'); }
.flag-icon-nz { background-image: url('/assets/flags/4x3/nz.svg'); }
.flag-icon-om { background-image: url('/assets/flags/4x3/om.svg'); }
.flag-icon-pa { background-image: url('/assets/flags/4x3/pa.svg'); }
.flag-icon-pe { background-image: url('/assets/flags/4x3/pe.svg'); }
.flag-icon-pf { background-image: url('/assets/flags/4x3/pf.svg'); }
.flag-icon-pg { background-image: url('/assets/flags/4x3/pg.svg'); }
.flag-icon-ph { background-image: url('/assets/flags/4x3/ph.svg'); }
.flag-icon-pk { background-image: url('/assets/flags/4x3/pk.svg'); }
.flag-icon-pl { background-image: url('/assets/flags/4x3/pl.svg'); }
.flag-icon-pm { background-image: url('/assets/flags/4x3/pm.svg'); }
.flag-icon-pn { background-image: url('/assets/flags/4x3/pn.svg'); }
.flag-icon-pr { background-image: url('/assets/flags/4x3/pr.svg'); }
.flag-icon-ps { background-image: url('/assets/flags/4x3/ps.svg'); }
.flag-icon-pt { background-image: url('/assets/flags/4x3/pt.svg'); }
.flag-icon-pw { background-image: url('/assets/flags/4x3/pw.svg'); }
.flag-icon-py { background-image: url('/assets/flags/4x3/py.svg'); }
.flag-icon-qa { background-image: url('/assets/flags/4x3/qa.svg'); }
.flag-icon-re { background-image: url('/assets/flags/4x3/re.svg'); }
.flag-icon-ro { background-image: url('/assets/flags/4x3/ro.svg'); }
.flag-icon-rs { background-image: url('/assets/flags/4x3/rs.svg'); }
.flag-icon-ru { background-image: url('/assets/flags/4x3/ru.svg'); }
.flag-icon-rw { background-image: url('/assets/flags/4x3/rw.svg'); }
.flag-icon-sa { background-image: url('/assets/flags/4x3/sa.svg'); }
.flag-icon-sb { background-image: url('/assets/flags/4x3/sb.svg'); }
.flag-icon-sc { background-image: url('/assets/flags/4x3/sc.svg'); }
.flag-icon-sd { background-image: url('/assets/flags/4x3/sd.svg'); }
.flag-icon-se { background-image: url('/assets/flags/4x3/se.svg'); }
.flag-icon-sg { background-image: url('/assets/flags/4x3/sg.svg'); }
.flag-icon-sh { background-image: url('/assets/flags/4x3/sh.svg'); }
.flag-icon-si { background-image: url('/assets/flags/4x3/si.svg'); }
.flag-icon-sj { background-image: url('/assets/flags/4x3/sj.svg'); }
.flag-icon-sk { background-image: url('/assets/flags/4x3/sk.svg'); }
.flag-icon-sl { background-image: url('/assets/flags/4x3/sl.svg'); }
.flag-icon-sm { background-image: url('/assets/flags/4x3/sm.svg'); }
.flag-icon-sn { background-image: url('/assets/flags/4x3/sn.svg'); }
.flag-icon-so { background-image: url('/assets/flags/4x3/so.svg'); }
.flag-icon-sr { background-image: url('/assets/flags/4x3/sr.svg'); }
.flag-icon-ss { background-image: url('/assets/flags/4x3/ss.svg'); }
.flag-icon-st { background-image: url('/assets/flags/4x3/st.svg'); }
.flag-icon-sv { background-image: url('/assets/flags/4x3/sv.svg'); }
.flag-icon-sx { background-image: url('/assets/flags/4x3/sx.svg'); }
.flag-icon-sy { background-image: url('/assets/flags/4x3/sy.svg'); }
.flag-icon-sz { background-image: url('/assets/flags/4x3/sz.svg'); }
.flag-icon-ta { background-image: url('/assets/flags/4x3/ta.svg'); }
.flag-icon-tc { background-image: url('/assets/flags/4x3/tc.svg'); }
.flag-icon-td { background-image: url('/assets/flags/4x3/td.svg'); }
.flag-icon-tf { background-image: url('/assets/flags/4x3/tf.svg'); }
.flag-icon-tg { background-image: url('/assets/flags/4x3/tg.svg'); }
.flag-icon-th { background-image: url('/assets/flags/4x3/th.svg'); }
.flag-icon-tj { background-image: url('/assets/flags/4x3/tj.svg'); }
.flag-icon-tk { background-image: url('/assets/flags/4x3/tk.svg'); }
.flag-icon-tl { background-image: url('/assets/flags/4x3/tl.svg'); }
.flag-icon-tm { background-image: url('/assets/flags/4x3/tm.svg'); }
.flag-icon-tn { background-image: url('/assets/flags/4x3/tn.svg'); }
.flag-icon-to { background-image: url('/assets/flags/4x3/to.svg'); }
.flag-icon-tr { background-image: url('/assets/flags/4x3/tr.svg'); }
.flag-icon-tt { background-image: url('/assets/flags/4x3/tt.svg'); }
.flag-icon-tv { background-image: url('/assets/flags/4x3/tv.svg'); }
.flag-icon-tw { background-image: url('/assets/flags/4x3/tw.svg'); }
.flag-icon-tz { background-image: url('/assets/flags/4x3/tz.svg'); }
.flag-icon-ua { background-image: url('/assets/flags/4x3/ua.svg'); }
.flag-icon-ug { background-image: url('/assets/flags/4x3/ug.svg'); }
.flag-icon-um { background-image: url('/assets/flags/4x3/um.svg'); }
.flag-icon-un { background-image: url('/assets/flags/4x3/un.svg'); }
.flag-icon-us { background-image: url('/assets/flags/4x3/us.svg'); }
.flag-icon-uy { background-image: url('/assets/flags/4x3/uy.svg'); }
.flag-icon-uz { background-image: url('/assets/flags/4x3/uz.svg'); }
.flag-icon-va { background-image: url('/assets/flags/4x3/va.svg'); }
.flag-icon-vc { background-image: url('/assets/flags/4x3/vc.svg'); }
.flag-icon-ve { background-image: url('/assets/flags/4x3/ve.svg'); }
.flag-icon-vg { background-image: url('/assets/flags/4x3/vg.svg'); }
.flag-icon-vi { background-image: url('/assets/flags/4x3/vi.svg'); }
.flag-icon-vn { background-image: url('/assets/flags/4x3/vn.svg'); }
.flag-icon-vu { background-image: url('/assets/flags/4x3/vu.svg'); }
.flag-icon-wf { background-image: url('/assets/flags/4x3/wf.svg'); }
.flag-icon-ws { background-image: url('/assets/flags/4x3/ws.svg'); }
.flag-icon-xk { background-image: url('/assets/flags/4x3/xk.svg'); }
.flag-icon-xx { background-image: url('/assets/flags/4x3/xx.svg'); }
.flag-icon-ye { background-image: url('/assets/flags/4x3/ye.svg'); }
.flag-icon-yt { background-image: url('/assets/flags/4x3/yt.svg'); }
.flag-icon-za { background-image: url('/assets/flags/4x3/za.svg'); }
.flag-icon-zm { background-image: url('/assets/flags/4x3/zm.svg'); }
.flag-icon-zw { background-image: url('/assets/flags/4x3/zw.svg'); }

`;var cte=ze`
  .fwcBlue {
    color: var(--fwcBlue);
  }
  .fwcOrange {
    color: var(--fwcOrange);
  }
  .fwcDarkBlue {
    color: var(--fwcDarkBlue);
  }
  .fwcTree-item {
    display: inline-flex;
    align-items: center;
    margin-left: 0;
    transition: all 0.3s;
    height: 27px !important;
  }
  
  .fwcTree-item * {
    pointer-events: none;
    margin-right: 0.25rem;
  }
  .fwcTree-item .fwcTreeIcon{
    margin-top: 5px;   
  }
  .fwcTree-item.fwcHighlightNode {
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }
  
  .fwcTree-item.fwcSelectedPolicyNode .fwc-label {
    font-weight: bold !important;
  }
  
  div.fwcTree-item--disabled:not(.fwcTree-item--vyos-disabled) .fwcTreeIcon::before {
    content: "";    
    position: absolute;
    top: 0.35em;
  }
  
  .fwcTree-item--disabled .fwc-label {
    color: var(--fwcPaleDark) !important;
  }

  .fwcTree-item--cluster-only {
    color: var(--fwcPaleDark) !important;
    opacity: 0.55;
    filter: grayscale(0.9) brightness(1.05);
    cursor: not-allowed;
  }

  .fwcTree-item--cluster-only .fwc-label,
  .fwcTree-item--cluster-only .fwcTreeIcon,
  .fwcTree-item--cluster-only .fwcTreeIcon::before,
  .fwcTree-item--cluster-only svg,
  .fwcTree-item--cluster-only svg * {
    color: var(--fwcPaleDark) !important;
    fill: var(--fwcPaleDark) !important;
  }

  .fwcTree-item--vyos-disabled {
    cursor: not-allowed;
  }

  .fwcTree-item-highlight{
    margin-left: 0.2em;
    background-color: var(--fwcPaleGreen) !important;
    padding-right: 8em;
  }



  .clickable-area {
    display: block;
    width: 100%;
    height: 100%;
    cursor: pointer;
  }
  div > div > ul > li:nth-child(1) > div > div > div > div > iui-contextmenu > div > span.fwcDark {
    margin-left: -0.5rem;
  }
`;var dte=ze`
    @import url('node_modules/@fortawesome/fontawesome-free/css/all.css');

    .fa-brands {
        display: inline-block;
        font-family: 'Font Awesome 5 Brands';
        font-weight: normal;
        font-style: normal;
        font-size: inherit;
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    .fa-windows:before {
        content: "\\f17a";
    }
`;var pte=(()=>{let n=class n{constructor(t,o){this.el=t,this.tr=o}ngAfterViewInit(){}};n.\u0275fac=function(o){return new(o||n)(x(Ei),x(Da))},n.\u0275dir=ht({type:n,selectors:[["","appStepContent",""]],inputs:{stepTitle:"stepTitle"},standalone:!1});let i=n;return i})();var ute=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c){super(r,o,t,a,c,l),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.translate=s,this.cd=a,this.router=l,this.store=c,this.onStepDisplay=new te,this.translate.get("CONFIG_PANEL.TITLE").subscribe(d=>{this.createDialog(d,"fa fa-magic")})}ngOnInit(){this.resetState()}ngOnDestroy(){super.ngOnDestroy()}ngAfterViewInit(){this.stepsTemplates&&this.stepsTemplates.length&&(this.stepsTemplates.forEach((t,o)=>{this.state.steps.push({stepItem:{id:""+o,label:this.translate.instant(t.stepTitle)},stepTemplate:t})}),this.displayStepContent(0))}resetState(){this.state={loadingData:!1,errorMessages:[],selectedStep:0,steps:this.state&&this.state.steps?this.state.steps:[]}}getStepsItems(){let t=[];return this.state&&Array.isArray(this.state.steps)&&this.state.steps.forEach(o=>{t.push(o.stepItem)}),t}getSelectedStep(){let t=null;return this.state&&Array.isArray(this.state.steps)&&this.state.selectedStep>=0&&this.state.selectedStep<=this.state.steps.length&&(t=this.state.steps[this.state.selectedStep]),t}getSelectedStepTemplate(){let t=null,o=this.getSelectedStep();return o&&(t=o.stepTemplate),t}displayStepContent(t){this.state.selectedStep=t,this.recenterDialog(),this.onStepDisplay.emit(t)}handleClose(t){this.hideDialog(),t&&this.reloadCurrentRouteAlt()}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}reloadCurrentRouteAlt(){let t=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([t])}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x($e),x(We),x(at),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-wizard-panel"]],viewQuery:function(o,r){if(o&1&&_e(pte,5),o&2){let s;W(s=$())&&(r.stepsTemplates=s)}},outputs:{onStepDisplay:"onStepDisplay"},standalone:!1,features:[re],decls:0,vars:0,template:function(o,r){},encapsulation:2});let i=n;return i})();var Nw=class extends v0{constructor(n){super(n),n&&(this.firewall=n.firewall,this.cluster=n.cluster,this.name=n.name,this.comment=n.comment,this.install_user=n.install_user,this.install_pass=n.install_pass,this.save_user_pass=n.save_user_pass,this.install_interface=n.install_interface,this.install_ipobj=n.install_ipobj,this.fwmaster=n.fwmaster,this.install_port=n.install_port,this.options=n.options,this.plugins=n.plugins,this.install_communication=n.install_communication,this.install_protocol=n.install_protocol,this.install_apikey=n.install_apikey)}getValue(){return Fe(ee({},super.getValue()),{firewall:this.firewall,cluster:this.cluster,name:this.name,comment:this.comment,install_user:this.install_user,install_pass:this.install_pass,save_user_pass:this.save_user_pass,install_interface:this.install_interface,install_ipobj:this.install_ipobj,fwmaster:this.fwmaster,install_port:this.install_port,options:this.options,plugins:this.plugins,install_communication:this.install_communication,install_protocol:this.install_protocol,install_apikey:this.install_apikey})}};var Rnt=["fwcInterfacesEditor"],Dnt=["buttonNext"],Pnt=["inputObjName"],Ant=["fwcIptablesSaveComponent"],knt=["inputNode"],Nnt=["inputDiscoverNode"],Fnt=i=>({visibility:i}),Lnt=i=>({"fwc-autodiscover-agent":i}),Mnt=i=>({error:i}),hte=i=>({objName:i});function Bnt(i,n){i&1&&(_(0,"div",16)(1,"h6",17),N(2,"i",18),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"WIZARDS.FIREWALL_IMPORT.TITLE")," "))}function Vnt(i,n){if(i&1&&(_(0,"div",19),ve(1,21),b()),i&2){let e=h(3);p(),f("ngTemplateOutlet",e.getSelectedStepTemplate().tr)}}function Unt(i,n){if(i&1){let e=B();_(0,"div",19)(1,"p-steps",20),ke("activeIndexChange",function(o){w(e);let r=h(2);return Ne(r.state.selectedStep,o)||(r.state.selectedStep=o),C(o)}),b(),_(2,"div",10),G(3,Vnt,2,1,"div",19),b()()}if(i&2){let e,t=h(2);p(),f("model",t.getStepsItems())("readonly",!0),Ae("activeIndex",t.state.selectedStep),p(2),H((e=t.getSelectedStepTemplate())!=null&&e.tr&&!(!(t.state==null||t.state.errorMessages==null)&&t.state.errorMessages.length)?3:-1)}}function jnt(i,n){if(i&1){let e=B();_(0,"div",19)(1,"p-message",22),ke("valueChange",function(o){w(e);let r=h(2);return Ne(r.state.errorMessages,o)||(r.state.errorMessages=o),C(o)}),b()()}if(i&2){let e=h(2);p(),Ae("value",e.state.errorMessages),f("closable",!1)}}function Gnt(i,n){if(i&1&&(_(0,"div",10),G(1,Unt,4,4,"div",19),G(2,jnt,2,2,"div",19),b()),i&2){let e,t=h();p(),H((e=t.getStepsItems())!=null&&e.length?1:-1),p(),H(t.state.errorMessages!=null&&t.state.errorMessages.length?2:-1)}}function Hnt(i,n){if(i&1){let e=B();_(0,"p-button",26),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handleClose())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",e.state==null?null:e.state.loadingData)}}function znt(i,n){if(i&1){let e=B();_(0,"p-button",30,3),D(2,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handlePrevNextButton(!0))}),b()}if(i&2){let e=h(3);f("label",ae(k(2,3,"WIZARDS.GLOBALS.BUTTONS.NEXT")))("disabled",e.state.loadingData||e.isPrevNextButtonDisabled(!0))}}function Wnt(i,n){if(i&1){let e=B();_(0,"p-button",31),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handleClose(!0))}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.FINISH")))}function $nt(i,n){if(i&1){let e=B();_(0,"div",25)(1,"p-button",27),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handlePrevNextButton())}),b(),G(3,znt,3,5,"p-button",28)(4,Wnt,2,4,"p-button",29),b()}if(i&2){let e=h(2);p(),f("label",ae(k(2,4,"WIZARDS.GLOBALS.BUTTONS.PREVIOUS")))("disabled",e.state.loadingData||e.isPrevNextButtonDisabled()),p(2),H(e.state.selectedStep<e.getStepsItems().length-1?3:4)}}function Knt(i,n){if(i&1&&(_(0,"div",23),G(1,Hnt,2,5,"p-button",24),G(2,$nt,5,6,"div",25),b()),i&2){let e=h();p(),H(e.state.selectedStep<e.getStepsItems().length-2?1:-1),p(),H(!(e.state==null||e.state.errorMessages==null)&&e.state.errorMessages.length?-1:2)}}function qnt(i,n){i&1&&(_(0,"div",10)(1,"div",32),N(2,"img",33),b(),N(3,"div",34),D(4,"translate"),b()),i&2&&(p(3),f("innerHTML",ae(k(4,2,"WIZARDS.FIREWALL_IMPORT.STEPS.0.TEXT")),on))}function Jnt(i,n){}function Qnt(i,n){i&1&&(_(0,"p",58),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "))}function Ynt(i,n){if(i&1){let e=B();_(0,"p-button",62),D(1,"translate"),A("onClick",function(){w(e);let o=h().$index,r=h(3);return C(r.nodeRemove(o))}),b()}if(i&2){let e=h(4);f("pTooltip",ae(k(1,3,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_DELETE")))("disabled",e.state==null?null:e.state.loadingData)}}function Xnt(i,n){if(i&1){let e=B();_(0,"p-button",63),D(1,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.nodeAdd())}),b()}if(i&2){let e=h(4);f("pTooltip",ae(k(1,3,"CLUSTER.MSG_CLUSTER_EDITION.TT_NODE_ADD")))("disabled",(e.state==null?null:e.state.loadingData)||!e.formModel.get("fwnodes").valid)}}function Znt(i,n){if(i&1&&(_(0,"div",56)(1,"div",46)(2,"div",47)(3,"label",48),R(4),D(5,"translate"),b()(),_(6,"div",49),N(7,"input",57,5),D(9,"translate"),G(10,Qnt,3,3,"p",58),b(),_(11,"div",59),G(12,Ynt,2,5,"p-button",60),G(13,Xnt,2,5,"p-button",61),b()()()),i&2){let e=n.$implicit,t=n.$index,o=h(3);f("formGroupName",t),p(4),Y(" ",k(5,9,"FW.MSG_FW_EDITION.NAME")," "),p(3),f("id",_s("fwName",t))("placeholder",ae(k(9,11,"CLUSTER.MSG_CLUSTER_EDITION.NODE_NAME"))),p(3),H(!e.get("name").valid&&!e.get("name").pristine?10:-1),p(2),H(o.getFormNodes().controls.length>1?12:-1),p(),H(t+1==o.getFormNodes().controls.length?13:-1)}}function eot(i,n){if(i&1&&(_(0,"div",54)(1,"div",19)(2,"h5",55),R(3),D(4,"translate"),b()(),fn(5,Znt,14,13,"div",56,ro),b()),i&2){let e=h(2);p(3),Y(" ",k(4,1,"CLUSTER.MSG_CLUSTER_EDITION.NODES")," "),p(2),mn(e.getFormNodes().controls)}}function tot(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",35),R(2),D(3,"translate"),b(),_(4,"div",19)(5,"div",36)(6,"span",37)(7,"p-radiobutton",38),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectFwCluster,o)||(r.selectFwCluster=o),C(o)}),A("click",function(){w(e);let o=h();return C(o.handleSelectObjType())}),b(),_(8,"label",39),R(9),D(10,"translate"),b()(),N(11,"span",40),_(12,"span",37)(13,"p-radiobutton",41),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectFwCluster,o)||(r.selectFwCluster=o),C(o)}),A("click",function(){w(e);let o=h();return C(o.handleSelectObjType())}),b(),_(14,"label",42),R(15),D(16,"translate"),b()()()()(),_(17,"form",43)(18,"fieldset",44),A("keyup.enter",function(){w(e);let o=h();return C(o.handlePrevNextButton(!0))}),_(19,"div",10)(20,"div",45)(21,"div",46)(22,"div",47)(23,"label",48),R(24),D(25,"translate"),b()(),_(26,"div",49),N(27,"input",50,4),D(29,"translate"),b()(),_(30,"p",51),R(31),D(32,"translate"),b()(),_(33,"div",45)(34,"div",46)(35,"div",47)(36,"label",52),R(37),D(38,"translate"),b()(),_(39,"div",49),N(40,"input",53),D(41,"translate"),b()()()(),G(42,Jnt,0,0)(43,eot,7,3,"div",54),b()()}if(i&2){let e=h();p(2),Y(" ",k(3,17,"WIZARDS.FIREWALL_IMPORT.STEPS.1.TEXT")," "),p(5),f("value",e.ObjectTypes.OBJ_FIREWALL),Ae("ngModel",e.selectFwCluster),p(2),Y(" ",k(10,19,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.FW")," "),p(4),f("value",e.ObjectTypes.OBJ_CLUSTER),Ae("ngModel",e.selectFwCluster),p(2),Y(" ",k(16,21,"WIZARDS.FIREWALL_IMPORT.STEPS.1.OPTIONS.CLUSTER")," "),p(2),f("formGroup",e.formModel),p(7),Q(k(25,23,"FW.MSG_FW_EDITION.NAME")),p(3),f("placeholder",ae(k(29,25,"FW.MSG_FW_EDITION.NAME"))),p(3),f("ngStyle",de(33,Fnt,e.formModel.get("name").valid||e.formModel.get("name").pristine?"hidden":"visible")),p(),Y(" ",k(32,27,"ITEM_PANEL.ERRORS.FIELD_INVALID_NAME")," "),p(6),Q(k(38,29,"FW.MSG_FW_EDITION.DESC")),p(3),f("placeholder",ae(k(41,31,"FW.MSG_FW_EDITION.DESC"))),p(2),H(e.selectFwCluster===e.ObjectTypes.OBJ_FIREWALL?42:43)}}function iot(i,n){if(i&1){let e=B();_(0,"div",76)(1,"div",72)(2,"p-select",79),D(3,"translate"),A("onChange",function(){return w(e),C(!0)}),b()()(),_(4,"div",80)(5,"div",72),N(6,"input",81),D(7,"translate"),_(8,"p-button",82),A("mousedown",function(){w(e);let o=h().$index,r=h(4);return C(r.displayApiKey[o]=!0)})("mouseup",function(){w(e);let o=h().$index,r=h(4);return C(r.displayApiKey[o]=!1)})("mouseout",function(){w(e);let o=h().$index,r=h(4);return C(r.displayApiKey[o]=!1)}),b()()()}if(i&2){let e=h().$index,t=h(4);p(2),f("options",t.agentProtocolOptions)("placeholder",k(3,7,"FW.MSG_FW_EDITION.AGENT_PROTOCOL"))("autoDisplayFirst",!1),p(4),f("placeholder",ae(k(7,9,"FW.MSG_FW_EDITION.AGENT_APIKEY")))("showPassword",t.displayApiKey[e])("feedback",!1)}}function not(i,n){if(i&1){let e=B();_(0,"div",83),N(1,"input",84),D(2,"translate"),b(),_(3,"div",83)(4,"div",72),N(5,"input",85),D(6,"translate"),D(7,"translate"),_(8,"p-button",82),A("mousedown",function(){w(e);let o=h().$index,r=h(4);return C(r.displaySSH[o]=!0)})("mouseup",function(){w(e);let o=h().$index,r=h(4);return C(r.displaySSH[o]=!1)})("mouseout",function(){w(e);let o=h().$index,r=h(4);return C(r.displaySSH[o]=!1)}),b()()()}if(i&2){let e=h().$index,t=h(4);p(),f("placeholder",ae(k(2,7,"CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"))),p(4),f("placeholder",ae(k(6,9,"CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS")))("showPassword",t.displaySSH[e])("promptLabel",k(7,11,"GLOBALS.MSG_PASSWORD.PASS"))("feedback",!1)}}function oot(i,n){if(i&1&&(_(0,"div",76),N(1,"p-select",86),b()),i&2){let e=h(5);p(),f("options",e.nodeRoleOptions)}}function rot(i,n){i&1&&(_(0,"span"),N(1,"i",87),D(2,"translate"),b()),i&2&&(p(),f("pTooltip",ae(k(2,3,"WIZARDS.FIREWALL_IMPORT.ERRORS.FORM_VALUES")))("showDelay",300))}function sot(i,n){i&1&&(_(0,"span"),N(1,"i",88),b())}function aot(i,n){i&1&&(_(0,"span"),N(1,"i",89),b())}function lot(i,n){i&1&&(_(0,"span"),N(1,"i",90),b())}function cot(i,n){if(i&1&&(_(0,"p",58),R(1),D(2,"translate"),b()),i&2){let e=h().$implicit;p(),Y(" ",vi(2,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.SSH_ERROR",de(4,Mnt,e.get("statusMsg").value))," ")}}function dot(i,n){if(i&1){let e=B();_(0,"div",66)(1,"p-fieldset",69)(2,"div",70)(3,"div",71)(4,"div",72)(5,"p-button",73),D(6,"translate"),D(7,"translate"),A("onClick",function(){let o=w(e).$implicit,r=h(4);return C(r.onClusterNodeInstallCommChange(o))}),b(),N(8,"input",74,6),D(10,"translate"),b()(),_(11,"div",71),N(12,"input",75),D(13,"translate"),b(),G(14,iot,9,11)(15,not,9,13),G(16,oot,2,1,"div",76),_(17,"div",77),G(18,rot,3,5,"span"),G(19,sot,2,0,"span")(20,aot,2,0,"span")(21,lot,2,0,"span"),b(),_(22,"div",78),G(23,cot,3,6,"p",58),b()()()()}if(i&2){let e,t=n.$implicit,o=n.$index,r=h(4);f("formGroupName",o),p(),f("legend",r.buildNodeHeader(o,t.get("name").value,t.get("install_communication").value)),p(),f("ngClass",de(24,Lnt,t.get("install_communication").value==="agent")),p(),f("ngClass",r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?"col-2":"col-3"),p(2),f("icon",t.get("install_communication").value==="agent"?"fa fa-user-secret":"fa fa-terminal")("pTooltip",t.get("install_communication").value==="agent"?k(6,16,"CLUSTER.MSG_CLUSTER_EDITION.COMM_FWCAGENT"):k(7,18,"CLUSTER.MSG_CLUSTER_EDITION.COMM_SSH")),p(3),f("placeholder",ae(k(10,20,"ITEM_PANEL.FIELDS.ADDRESS"))),p(3),f("ngClass",r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?"col-1":"col-2"),p(),f("placeholder",ae(k(13,22,"CLUSTER.MSG_CLUSTER_EDITION.PORT"))),p(2),H(t.get("install_communication").value==="agent"?14:15),p(2),H(r.selectFwCluster===r.ObjectTypes.OBJ_CLUSTER?16:-1),p(2),H(t.dirty&&t.enabled&&!t.valid?18:-1),p(),H((e=t.get("status").value)===r.ItemBatchOperationStatus.RUNNING?19:e===r.ItemBatchOperationStatus.ERROR?20:e===r.ItemBatchOperationStatus.SUCCESS?21:-1),p(4),H(t.get("status").value===r.ItemBatchOperationStatus.ERROR?23:-1)}}function pot(i,n){if(i&1){let e=B();_(0,"div",19)(1,"h5",55),R(2),D(3,"translate"),_(4,"strong"),R(5),b()()(),fn(6,dot,24,26,"div",66,ro),_(8,"div",67)(9,"p-button",68),D(10,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.handleDiscoverInterfaces())}),b()()}if(i&2){let e=h(3);p(2),Y(" ",k(3,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster)," "),p(3),Q(e.formModel.get("name").value),p(),mn(e.getSSHFormNodes().controls),p(3),f("label",ae(k(10,7,"FW.MSG_FW_EDITION.DISCOVER_IF")))("disabled",(e.state==null?null:e.state.loadingData)||!e.sshFormModel.valid)}}function uot(i,n){if(i&1){let e=B();_(0,"div",19)(1,"sts-fwc-interfaces-tree-editor",91,7),A("onStartAutodiscover",function(){w(e);let o=h(3);return C(o.handleDiscoverInterfaces())}),b()()}if(i&2){let e=h(3);p(),f("options",e.interfacesEditorOptions)("manualMode",!0)("minimized",!e.autodiscoverFinished)}}function hot(i,n){if(i&1){let e=B();_(0,"form",65),A("keyup.enter",function(){w(e);let o=h(2);return C(o.handleDiscoverInterfaces())}),_(1,"div",54)(2,"div",35),R(3),D(4,"translate"),b(),G(5,pot,11,9),G(6,uot,3,3,"div",19),b()()}if(i&2){let e=h(2);f("formGroup",e.sshFormModel),p(3),Y(" ",k(4,4,"WIZARDS.FIREWALL_IMPORT.STEPS.2.TEXT")," "),p(2),H(e.autodiscoverFinished?-1:5),p(),H(e.autodiscoverFinished||e.showInterfacesEditor?6:-1)}}function fot(i,n){if(i&1&&G(0,hot,7,6,"form",64),i&2){let e=h();H(e.sshFormModel?0:-1)}}function mot(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",35),R(2),D(3,"translate"),b()(),_(4,"sts-fwc-iptables-save",92,8),A("onFinish",function(o){w(e);let r=h();return C(r.handleIptablesSaveFinish(o))}),b()}if(i&2){let e=h();p(2),Y(" ",k(3,3,"WIZARDS.FIREWALL_IMPORT.STEPS.3.TEXT")," "),p(2),f("hideUI",!0)("importSSHData",e.importSSHData)}}function got(i,n){i&1&&(_(0,"div"),N(1,"i",98),_(2,"h6"),R(3),D(4,"translate"),b()()),i&2&&(p(3),Q(k(4,1,"WIZARDS.FIREWALL_IMPORT.INFO.IMPORT")))}function _ot(i,n){i&1&&(N(0,"i",99),_(1,"h6"),R(2),D(3,"translate"),b()),i&2&&(p(2),Q(k(3,1,"WIZARDS.FIREWALL_IMPORT.ERRORS.IMPORT")))}function bot(i,n){if(i&1&&(_(0,"div",102),N(1,"i",103)(2,"span",101),b()),i&2){let e=n.$implicit;p(2),f("innerHTML",e,on)}}function yot(i,n){if(i&1&&(_(0,"div",95),N(1,"i",100)(2,"span",101),fn(3,bot,3,1,"div",102,ro),b()),i&2){let e=n.$implicit;p(),f("ngClass",e.success?"fa-check-circle fwcGreen":"fa-exclamation-triangle fwcOrange"),p(),f("innerHTML",e.summary,on),p(),mn(e.details)}}function vot(i,n){if(i&1&&(_(0,"div"),R(1),D(2,"translate"),D(3,"translate"),D(4,"lowercase"),D(5,"translate"),b()),i&2){let e=h(3);p(),Ef(" ",k(2,3,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY1")," ",k(4,7,k(3,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",vi(5,9,"WIZARDS.FIREWALL_IMPORT.INFO.SUMMARY2",de(12,hte,e.formModel.get("name").value))," ")}}function wot(i,n){if(i&1&&(R(0),D(1,"translate"),D(2,"translate"),D(3,"lowercase"),D(4,"translate")),i&2){let e=h(3);Ef(" ",k(1,3,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY1")," ",k(3,7,k(2,5,"GLOBALS.DB_OBJECT_NAMES."+e.selectFwCluster))," ",vi(4,9,"WIZARDS.FIREWALL_IMPORT.ERRORS.SUMMARY2",de(12,hte,e.formModel.get("name").value))," ")}}function Cot(i,n){if(i&1&&(_(0,"div",93)(1,"div",94),G(2,got,5,3,"div")(3,_ot,4,3),b(),_(4,"div",19)(5,"h6"),R(6),D(7,"translate"),b()(),fn(8,yot,5,2,"div",95,ro),_(10,"div",19),N(11,"div",96),b(),_(12,"div",97),G(13,vot,6,14,"div")(14,wot,5,14),b()()),i&2){let e=h(2);p(2),H(e.areAllOperationsSuccessful()?2:3),p(4),Q(k(7,3,"WIZARDS.FIREWALL_IMPORT.INFO.OPERATIONS")),p(2),mn(e.operationResults),p(5),H(e.areAllOperationsSuccessful()?13:14)}}function Sot(i,n){if(i&1&&G(0,Cot,15,5,"div",93),i&2){let e=h();H(e.operationResults?0:-1)}}var fte=(()=>{let n=class n extends ute{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S){super(l,r,c,u,g,y,S),this.fwcUserService=t,this.utilService=o,this.appOptionsService=r,this.fwcFirewallService=s,this.fwcObjectTreeService=a,this.itemSelectedService=l,this.appDialogPanelsService=c,this.fwcErrorPipe=d,this.translate=u,this.formBuilder=m,this.cd=g,this.router=y,this.confirmationService=v,this.store=S,this.operationResults=[],this.selectFwCluster=O.OBJ_FIREWALL,this.displaySSH=[],this.displayApiKey=[],this.agentProtocolOptions=[{label:"HTTPS",value:"https"},{label:"HTTP",value:"http"}],this.showInterfacesEditor=!1,this.autodiscoverFinished=!1,this.ObjectTypes=O,this.ItemBatchOperationStatus=xo,this.iptablesSaveFinished=!1,this.createDialog(u.instant("WIZARDS.FIREWALL_IMPORT.TITLE"),"fa fa-magic",oi.FIREWALL_IMPORT_WIZARD)}ngOnInit(){super.ngOnInit(),this.utilService.fwcAPICall(this.fwcObjectTreeService.getNodes.bind(this.fwcObjectTreeService),M.FOLDER_FW,this.fwcUserService.getActualFwSelectedCloud()).then(t=>{Array.isArray(t.data)&&t.data.length===1&&(this.parentNodeId=t.data[0].id,this.createForm(),this.nodeRoleOptions=[{value:null,label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NO_ROLE")},{value:"M",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.MASTER")},{value:"S",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.SLAVE")},{value:"N",label:this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")}])}).catch(t=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.0"),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.GETTING_TREE.1")}]}),this.onStepDisplay.subscribe(t=>{switch(t){case 0:this.buttonNext&&this.buttonNext.nativeElement.focus();break;case 1:this.inputObjName&&this.inputObjName.nativeElement.focus();break;case 2:this.inputDiscoverNodes&&this.inputDiscoverNodes.first.nativeElement.focus();break}})}ngAfterViewInit(){super.ngAfterViewInit()}ngOnDestroy(){super.ngOnDestroy()}createForm(){let t=lr();this.formModel=this.formBuilder.group({id:new Ee(void 0),name:new Ee("",[Me.required]),comment:new Ee(""),firewallUUID:new Ee(t),fwnodes:new tr([this.createNode()],Mt.distinctNameValidator.bind(this))})}onHideDialog(){if(this.state.selectedStep>=3){let t={_fwcObjType:this.selectFwCluster,container:Ge.C_FIREWALLS,_fwcTreeAction:Ii.NEW_ITEM,_fwcObjId:this.formModel.get("id").value};this.itemSelectedService.setModifiedItem(t)}this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}isPrevNextButtonDisabled(t){let o=!1;if(t)switch(this.state.selectedStep){case 1:o=this.selectFwCluster===O.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===O.OBJ_CLUSTER&&this.formModel.invalid;break;case 2:o=!this.autodiscoverFinished;break;case 3:o=!this.iptablesSaveFinished;break;case this.state.steps.length-1:o=!0}else switch(this.state.selectedStep){case 0:o=!0;break;case 3:o=!0;break;case 4:o=!0;break}return o}handlePrevNextButton(t){return V(this,null,function*(){if(t)switch(this.state.selectedStep){case 1:if(this.state.loadingData||this.selectFwCluster===O.OBJ_FIREWALL&&this.formModel.get("name").invalid||this.selectFwCluster===O.OBJ_CLUSTER&&this.formModel.invalid)return;this.buildSSHFormModel(),this.displayStepContent(this.state.selectedStep+1);break;case 2:let o,r;this.selectFwCluster===O.OBJ_FIREWALL?(o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.FIREWALL"),r=this.doCreateFirewall):(o=this.translate.instant("GLOBALS.MSG_OBJ_TYPES.CLUSTER"),r=this.doCreateCluster),this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_NEXT",{objType:o.toLowerCase()}),accept:()=>{r.call(this)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")});break;default:this.state.selectedStep<this.state.steps.length&&this.displayStepContent(this.state.selectedStep+1)}else switch(this.state.selectedStep){case 2:this.autodiscoverFinished?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("WIZARDS.FIREWALL_IMPORT.STEPS.2.CONFIRM_PREV"),accept:()=>{this.fwcInterfacesEditor.resetProperties(),this.interfacesEditorOptions=null,this.autodiscoverFinished=!1,this.showInterfacesEditor=!1,this.displayStepContent(1)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):this.displayStepContent(this.state.selectedStep-1);break;default:this.state.selectedStep&&this.displayStepContent(this.state.selectedStep-1)}})}createNode(){return new ho({name:new Ee("",[Me.required,Me.pattern(Mt.nameRegExp)])})}getFormNodes(){return this.formModel.get("fwnodes")}getSSHFormNodes(){return this.sshFormModel.get("fwnodes")}nodeAdd(){let t=this.formModel.get("fwnodes");if(t){let o=this.createNode();t.push(o)}this.recenterDialog();try{this.inputNodes.last.nativeElement.focus()}catch{}}nodeRemove(t){let o=this.formModel.get("fwnodes"),r=o.length;!o||o.length<2||t<0||t>=o.length||o.at(t).value.id&&r<2||(o.removeAt(t),this.recenterDialog())}handleSelectObjType(){this.inputObjName&&this.inputObjName.nativeElement.focus(),this.recenterDialog()}buildSSHFormModel(){let t;if(this.selectFwCluster===O.OBJ_FIREWALL?this.formModel.get("name").valid&&(t=new tr([new ho({name:new Ee(this.formModel.get("name").value,[Me.required,Me.pattern(Mt.nameRegExp)]),firewallUUID:new Ee(this.formModel.get("firewallUUID").value)})])):this.formModel.get("fwnodes").valid&&(t=this.formModel.get("fwnodes")),t){this.sshFormModel=this.formBuilder.group({fwnodes:new tr([])});let o=this.sshFormModel.get("fwnodes");for(let r=0;r<t.length;r++){let s=t.at(r),a;s.get("firewallUUID")?a=s.get("firewallUUID").value:a=lr(),o.push(new ho({name:new Ee(s.get("name").value),address:new Ee("",[Me.required,Me.pattern(Mt.ipV4Regexp)]),install_port:new Ee(22,[Me.required,Me.pattern(Mt.portRegexp)]),install_user:new Ee("",[Me.required,Me.pattern(Mt.linuxUsername)]),install_pass:new Ee("",[Me.required,Me.pattern(Mt.linuxPassword)]),role:new Ee(null),firewallUUID:new Ee(a),install_communication:new Ee("ssh",[Me.required]),install_protocol:new Ee("https"),install_apikey:new Ee(""),status:new Ee(xo.PENDING),statusMsg:new Ee("")}))}}}onClusterNodeInstallCommChange(t){if(t){let r=t.get("install_communication").value==="agent"?"ssh":"agent";t.get("install_communication").setValue(r),r==="agent"?(t.get("install_protocol").setValidators([Me.required]),t.get("install_apikey").setValidators([Me.required]),t.get("install_port").setValue(33033),t.get("install_user").clearValidators(),t.get("install_pass").clearValidators()):(t.get("install_protocol").clearValidators(),t.get("install_apikey").clearValidators(),t.get("install_port").setValue(22),t.get("install_user").setValidators([Me.required,Me.pattern(Mt.linuxUsername)]),t.get("install_pass").setValidators([Me.required,Me.pattern(Mt.linuxPassword)])),t.get("install_protocol").updateValueAndValidity(),t.get("install_apikey").updateValueAndValidity(),t.get("install_user").updateValueAndValidity(),t.get("install_pass").updateValueAndValidity()}}buildNodeHeader(t,o,r){let s="";return this.selectFwCluster===O.OBJ_CLUSTER?s=this.translate.instant("CLUSTER.CLUSTER_NODE_ROLES.NODE")+" '"+o+"'":s=this.translate.instant("FW.MSG_FW_EDITION.ACCESS"),s+=` (${r==="ssh"?"SSH":"FWCloud-Agent"})`,s}handleDiscoverInterfaces(){this.sshFormModel.valid&&(this.interfacesEditorOptions=null,this.sshFormModel.disable(),this.autodiscoverFinished=!1,this.autodiscoverOpIndex=0,this.showInterfacesEditor=!0,this.doDiscoverInterfaces())}doDiscoverInterfaces(){return V(this,null,function*(){let t=this.sshFormModel.get("fwnodes");if(t){if(this.autodiscoverOpIndex>=0&&this.autodiscoverOpIndex<t.length){let o=t.at(this.autodiscoverOpIndex);if(o.get("status").value===xo.SUCCESS)this.autodiscoverOpIndex++,this.doDiscoverInterfaces();else{o.get("status").setValue(xo.RUNNING),o.get("statusMsg").setValue("");let r=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster),s=this.formModel.get("name").value;this.autodiscoverHeader=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.HEADER",{objType:r.toLowerCase(),objName:s}),this.selectFwCluster===O.OBJ_FIREWALL?this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_FW"):this.autodiscoverText=this.translate.instant("FW.MSG_AUTODISCOVER.LOADING_CUSTOM.TEXT_CLUSTER",{objName:o.get("name").value});let a=this.fwcUserService.getActualFwcUser().publicKey,l=o.get("install_communication").value,c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ip:o.get("address").value,port:+o.get("install_port").value,communication:l};if(l==="ssh"){let d=o.get("install_user").value,u=o.get("install_pass").value;d&&(d=yield this.utilService.openPGPEncrypt(d,a)),u&&(u=yield this.utilService.openPGPEncrypt(u,a)),c.sshuser=d,c.sshpass=u}else{let d=o.get("install_apikey").value;d&&(d=yield this.utilService.openPGPEncrypt(d,a)),c.apikey=d,c.protocol=o.get("install_protocol").value}this.state.loadingData=!0,this.recenterDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.autoDiscoverInterfaces.bind(this.fwcFirewallService),c).then(d=>{if(Array.isArray(d.data)){let u=d.data;if(o.get("status").setValue(xo.SUCCESS),o.get("statusMsg").setValue(""),o.disable(),this.selectFwCluster===O.OBJ_CLUSTER){let y=o.get("role").value;y==="N"&&(y=o.get("name").value),y&&(u=u.map(v=>(v.suffixToAdd=y,v)))}let m=o.get("firewallUUID").value,g={isCluster:this.selectFwCluster===O.OBJ_CLUSTER,firewalls:[],discoveredFirewallUUID:m,discoveredAddress:o.get("address").value,discoveredIfs:[],existingIfs:[],hideActionButtons:!0};g.discoveredIfs=[...g.discoveredIfs,...u];for(let y=0;y<t.length;y++){let v=t.at(y),S=v.get("firewallUUID").value,I;this.fwcInterfacesEditor&&(I=this.fwcInterfacesEditor.getInstallationData(S)),g.firewalls.push({firewallUUID:S,firewall_name:v.get("name").value,firewall:void 0,cluster:void 0,installOptions:{firewallUUID:S,interface:I&&I.interface,ipobj:I&&I.address}})}this.fwcInterfacesEditor.processOptions(g),this.autodiscoverOpIndex++,this.doDiscoverInterfaces()}this.refreshDialog()}).catch(d=>{this.state.loadingData=!1;let u=this.utilService.isCommunicationError(d.error);o.get("status").setValue(xo.ERROR),u?o.get("statusMsg").setValue("("+u+")"):o.get("statusMsg").setValue("("+this.fwcErrorPipe.transform(d)+")"),o.enable(),this.refreshDialog()})}}else if(this.autodiscoverOpIndex===t.length){this.autodiscoverFinished=!0,this.fwcInterfacesEditor.selectAllNodes(!0);let o,r=[];if(this.selectFwCluster===O.OBJ_FIREWALL)o=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_FW",{ip:t.at(0).get("address").value});else{o=this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_CLUSTER");for(let a=0;a<t.length;a++){let l=t.at(a);r.push(this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.AUTODISCOVER_NODE",{name:l.get("name").value,ip:l.get("address").value}))}}let s={success:!0,summary:o,details:r};this.state.loadingData=!1,this.operationResults.push(s),this.refreshDialog()}}})}doCreateFirewall(){return V(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let t,r=this.sshFormModel.get("fwnodes").at(0),s=this.fwcUserService.getActualFwcUser().publicKey,a=yield this.utilService.openPGPEncrypt(r.get("install_user").value,s),l=yield this.utilService.openPGPEncrypt(r.get("install_pass").value,s),c=yield this.utilService.openPGPEncrypt(r.get("install_apikey").value,s);t={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,install_user:a,install_pass:"",install_port:r.get("install_port").value,save_user_pass:1,fwmaster:1,options:3,plugins:0,install_communication:r.get("install_communication").value,install_protocol:r.get("install_protocol").value,install_apikey:c,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),node_id:this.parentNodeId},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newFirewall.bind(this.fwcFirewallService),t).then(d=>{let u=d.data.insertId;this.formModel.get("id").setValue(u),this.processFwInterfacesOperations(t,d.data).then(()=>{this.operationResults.push({success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_FW",{name:this.formModel.get("name").value})}),this.importSSHData=this.buildSSHApiObject(u),this.displayStepContent(3)}).catch(m=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_GEN"),detail:m.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(d=>{let u=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:u.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:u.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processFwInterfacesOperations(t,o){return new Promise((r,s)=>V(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let a=this.fwcInterfacesEditor.getSelectedTreeNodes(),l=o.insertId;this.fwcInterfacesEditor.setNewLoIds(o);let d=(yield this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())).data,u=[];u.push(d);let m=this.fwcObjectTreeService.getNodesFull(u,M.OBJ_FIREWALL,l);if(m&&Array.isArray(m.items)){let g=m.items.find(y=>y.node_type===M.FOLDER_INTERFACES);if(g){let y={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:m.text,type:O.OBJ_FIREWALL,id:l,id_node:g.id},objectTreeNodes:a,onClose:S=>V(this,null,function*(){let I,P,L=!1;if(S.forEach(F=>{F.operationStatus===xo.SUCCESS&&F.operationResult&&F.object.installFirewallUUIDs&&F.object.installFirewallUUIDs.has(this.formModel.get("firewallUUID").value)&&(F.object.type===O.OBJ_INTERFACE_FIREWALL?I=F.operationResult.insertId:F.object.type===O.OBJ_ADDRESS&&(P=F.operationResult.insertId)),F.operationStatus===xo.ERROR&&(L=!0)}),L)return s(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_IFS_OPERATIONS")));if(I&&P){let F=new Nw(t);F.firewall=l,F.install_interface=I,F.install_ipobj=P,F.install_pass="";try{let K=F.getValue(),le=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),K)}catch{return s(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UPDATING_INST")))}}r()})},v={uuid:oi.ITEM_BATCH_MANAGER,data:y};this.appDialogPanelsService.searchAndShowDialog(v)}}else return s(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_MISSING_FIREWALL_NODE")))}else r()}catch{s(new Error(this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.PROCESS_FW_IFS.ERR_UNKNOWN")))}}))}doCreateCluster(){return V(this,null,function*(){if(this.sshFormModel.enable(),this.sshFormModel.valid){let t,o=this.fwcUserService.getActualFwcUser().publicKey,r=this.sshFormModel.get("fwnodes"),s=[];for(let a=0;a<r.length;a++){let l=r.at(a),c=yield this.utilService.openPGPEncrypt(l.get("install_user").value,o),d=yield this.utilService.openPGPEncrypt(l.get("install_pass").value,o),u=yield this.utilService.openPGPEncrypt(l.get("install_apikey").value,o);s.push({name:l.get("name").value,comment:null,install_user:c,install_pass:"",install_port:l.get("install_port").value,save_user_pass:1,fwmaster:a?0:1,install_communication:l.get("install_communication").value,install_protocol:l.get("install_protocol").value,install_apikey:u})}t={name:this.formModel.get("name").value,comment:this.formModel.get("comment").value,options:3,plugins:0,fwnodes:s},this.state.loadingData=!0,this.refreshDialog(),this.utilService.fwcAPICall(this.fwcFirewallService.newCluster.bind(this.fwcFirewallService),t,this.fwcUserService.getActualFwSelectedCloud(),this.parentNodeId).then(a=>{let l=a.data.insertId;this.formModel.get("id").setValue(l),this.processClusterInterfacesOperations(l,a.data).then(c=>{let d={success:!0,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.INFO.CREATE_CLUSTER",{name:this.formModel.get("name").value}),details:[]},u=this.sshFormModel.get("fwnodes"),m=[];for(let g=0;g<u.length;g++){let y=u.at(g);m.push(y.get("name").value)}d.details.push(m.join(", ")),this.operationResults.push(d),this.importSSHData=this.buildSSHApiObject(c),this.displayStepContent(3)}).catch(c=>{this.state.errorMessages=[{severity:"error",summary:this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_CREATING_IFS"),detail:c.message}],this.recenterDialog()}).finally(()=>{this.state.loadingData=!1,this.refreshDialog()})}).catch(a=>{let l=this.translate.instant("GLOBALS.DB_OBJECT_NAMES."+this.selectFwCluster);this.state.errorMessages=[{severity:"error",summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.0",{objType:l.toLowerCase()}),detail:this.translate.instant("WIZARDS.FIREWALL_IMPORT.ERRORS.CREATING_FW_CLUSTER.1",{objType:l.toLowerCase()})}],this.state.loadingData=!1,this.recenterDialog()})}})}processClusterInterfacesOperations(t,o){return new Promise((r,s)=>V(this,null,function*(){try{if(this.fwcInterfacesEditor&&this.fwcInterfacesEditor.areTherePendingOperations()){let a=this.fwcInterfacesEditor.getSelectedTreeNodes();o&&o.loData&&this.fwcInterfacesEditor.setNewLoIds(o);let[l,c]=yield Promise.all([this.utilService.fwcAPICall(this.fwcFirewallService.getCluster.bind(this.fwcFirewallService),t,this.fwcUserService.getActualFwSelectedCloud()),this.utilService.fwcAPICall(this.fwcObjectTreeService.getTree.bind(this.fwcObjectTreeService),this.appOptionsService.optionsTreeFw,this.fwcUserService.getActualFwSelectedCloud())]),d=l.data,u;if(d&&Array.isArray(d.nodes)&&(u=d.nodes),!u||!u.length)return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_EMPTY_CLUSTER")));let m=this.sshFormModel.get("fwnodes").value,g,y=this.fwcUserService.getActualFwcUser().publicKey;for(let P=0;P<u.length;P++){let L=u[P],F=m.find(K=>K.name===L.name);if(F){L.firewallUUID=F.firewallUUID;let K=F.install_user,le=F.install_pass,me=F.install_apikey;K&&(L.install_user=yield this.utilService.openPGPEncrypt(K,y)),le&&(L.install_pass=yield this.utilService.openPGPEncrypt(le,y)),me&&(L.install_apikey=yield this.utilService.openPGPEncrypt(me,y))}else return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_NODE")));L.fwmaster&&(g=L.id)}let v=c.data,S=[];S.push(v);let I=this.fwcObjectTreeService.getNodesFull(S,M.OBJ_CLUSTER,t);if(I&&Array.isArray(I.items)){let P=I.items.find(L=>L.node_type===M.FOLDER_INTERFACES);if(P){let L={parentObject:{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:I.text,type:O.OBJ_FIREWALL,id:g,id_node:P.id},objectTreeNodes:a,onClose:K=>V(this,null,function*(){let le=!1,me=new Map;if(K.forEach(fe=>{if(fe.operationStatus===xo.SUCCESS&&fe.operationResult&&fe.object.installFirewallUUIDs){let Te;fe.object.type===O.OBJ_INTERFACE_FIREWALL?Te={install_interface:fe.operationResult.insertId}:fe.object.type===O.OBJ_ADDRESS&&(Te={install_ipobj:fe.operationResult.insertId}),fe.object.installFirewallUUIDs&&fe.object.installFirewallUUIDs.forEach(He=>{let Be=me.get(He);Te=ee(ee({},Be),Te),me.set(He,Te)})}fe.operationStatus===xo.ERROR&&(le=!0)}),le)return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_IFS_OPERATIONS")));{let fe;if(me.size)for(let[Te,He]of me){let Be=u.find(rt=>rt.firewallUUID===Te);if(Be){fe=new Nw(Be),fe.fwcloud=this.fwcUserService.getActualFwSelectedCloud(),fe.firewall=Be.id,fe.install_interface=He.install_interface,fe.install_ipobj=He.install_ipobj,fe.install_pass="",fe.plugins=0;try{let rt=fe.getValue(),Rt=yield this.utilService.fwcAPICall(this.fwcFirewallService.updateFirewall.bind(this.fwcFirewallService),rt)}catch{return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST",{name:Be.name})))}}else return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UPDATING_INST_MISSING")))}}r(g)})},F={uuid:oi.ITEM_BATCH_MANAGER,data:L};this.appDialogPanelsService.searchAndShowDialog(F)}else return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_NO_IFS_NODE")))}else return s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_MISSING_CLUSTER_NODE")))}else r(null)}catch{s(new Error(this.translate.instant("CLUSTER.MSG_CLUSTER_BATCH.ERR_UNKNOWN")))}}))}handleIptablesSaveFinish(t){let o=t.success?"INFO":"ERRORS";this.operationResults.push({success:t.success,summary:this.translate.instant("WIZARDS.FIREWALL_IMPORT."+o+".IPTABLES_SAVE",{ip:this.sshFormModel.get("fwnodes").at(0).get("address").value})}),this.iptablesSaveFinished=!0,this.state.loadingData=!1,this.recenterDialog()}buildSSHApiObject(t){let o;if(this.sshFormModel){let r=this.sshFormModel.get("fwnodes").at(0);o={firewall:t,fwcloud:this.fwcUserService.getActualFwSelectedCloud(),type:"remote",ip_version:4,ip:r.get("address").value,port:r.get("install_port").value,sshuser:r.get("install_user").value,sshpass:r.get("install_pass").value,communication:r.get("install_communication").value,protocol:r.get("install_protocol").value,apikey:r.get("install_apikey").value}}return o}areAllOperationsSuccessful(){let t=!1;return this.operationResults&&(t=this.operationResults.every(o=>o.success)),t}};n.\u0275fac=function(o){return new(o||n)(x(dt),x(Tt),x(St),x(Bt),x(En),x(yt),x(kt),x(Ni),x($e),x(ur),x(We),x(at),x(ti),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-wizard-firewall-import"]],viewQuery:function(o,r){if(o&1&&(_e(Rnt,5),_e(Dnt,5),_e(Pnt,5),_e(Ant,5),_e(knt,5),_e(Nnt,5)),o&2){let s;W(s=$())&&(r.fwcInterfacesEditor=s.first),W(s=$())&&(r.buttonNext=s.first),W(s=$())&&(r.inputObjName=s.first),W(s=$())&&(r.fwcIptablesSaveComponent=s.first),W(s=$())&&(r.inputNodes=s),W(s=$())&&(r.inputDiscoverNodes=s)}},standalone:!1,features:[Se([Bt,En]),re],decls:12,vars:5,consts:[["dlgWizardDialog",""],["header",""],["footer",""],["buttonNext",""],["inputObjName",""],["inputNode",""],["inputDiscoverNode",""],["fwcInterfacesEditor",""],["fwcIptablesSaveComponent",""],["styleClass","dlgFwcDialog dlgFwcDialog--medium",3,"visibleChange","onHide","visible","modal","closable","resizable"],[1,"grid"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.0.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.1.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.2.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.3.TITLE"],["appStepContent","","stepTitle","WIZARDS.FIREWALL_IMPORT.STEPS.4.TITLE"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa","fa-magic","fwcOrange"],[1,"col-12"],["styleClass","pt-6",3,"activeIndexChange","model","readonly","activeIndex"],[3,"ngTemplateOutlet"],[3,"valueChange","value","closable"],[2,"display","flex","align-items","center","flex-wrap","wrap","width","100%"],["type","button","styleClass","p-button-warning","icon","fa fa-close",3,"disabled","label"],[2,"margin-left","auto","display","flex","flex-wrap","wrap","gap","0.5rem","justify-content","flex-end"],["type","button","styleClass","p-button-warning","icon","fa fa-close",3,"onClick","disabled","label"],["type","button","icon","fa fa-arrow-left",3,"onClick","disabled","label"],["type","button","icon","fa fa-arrow-right",3,"disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-check",3,"label"],["type","button","icon","fa fa-arrow-right",3,"onClick","disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-check",3,"onClick","label"],[1,"col-3","p-9"],["src","assets/img/import_wizard.png","height","200px","width","auto"],[1,"col-9","pl-2","pt-9","font-['Montserrat',Arial,sans-serif]",3,"innerHTML"],[1,"col-12","pl-2","pt-9","font-['Montserrat',Arial,sans-serif]","text-[0.9rem]"],[1,"divInlineInput"],[1,"spanField"],["inputId","selectFwOption","name","selectFwCluster",3,"ngModelChange","click","value","ngModel"],["for","selectFwOption"],[1,"fwcSepShort"],["inputId","selectClusterOption","name","selectFwCluster",3,"ngModelChange","click","value","ngModel"],["for","selectClusterOption"],[1,"w-full",3,"formGroup"],[3,"keyup.enter"],[1,"col-12","md:col-6"],[1,"flex","items-center","gap-4"],[1,"flex-none","leading-[2.4rem]","mr-4"],["for","name"],[1,"flex-1"],["type","text","maxlength","64","pInputText","","formControlName","name","name","name",3,"placeholder"],[1,"fwc-error",3,"ngStyle"],["for","comment"],["type","text","maxlength","255","pInputText","","formControlName","comment","name","comment",3,"placeholder"],["formArrayName","fwnodes",1,"grid"],[1,"fwcBlue"],[1,"col-12","md:col-6",3,"formGroupName"],["formControlName","name","maxlength","64","type","text","pInputText","",3,"id","placeholder"],[1,"fwc-error"],[1,"flex","ml-2"],["tooltipPosition","bottom","showDelay","500","type","button","styleClass","p-button-danger fwcButtonHeight","icon","pi pi-minus",3,"disabled","pTooltip"],["type","button","styleClass","fwcButtonHeight","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",3,"disabled","pTooltip"],["tooltipPosition","bottom","showDelay","500","type","button","styleClass","p-button-danger fwcButtonHeight","icon","pi pi-minus",3,"onClick","disabled","pTooltip"],["type","button","styleClass","fwcButtonHeight","icon","fa fa-plus","tooltipPosition","bottom","showDelay","500",3,"onClick","disabled","pTooltip"],[1,"w-full","autodiscover-form",3,"formGroup"],[1,"w-full","autodiscover-form",3,"keyup.enter","formGroup"],[1,"col-12",3,"formGroupName"],[1,"col-12","fwc-centered"],["type","button","icon","fa fa-search-plus",3,"onClick","disabled","label"],[3,"legend"],[1,"grid","w-full",3,"ngClass"],[3,"ngClass"],[1,"p-inputgroup"],["type","button","styleClass","fwcButtonHeight","tooltipPosition","top","showDelay","500",3,"onClick","icon","pTooltip"],["maxlength","64","type","text","formControlName","address","pInputText","",3,"placeholder"],["maxlength","64","type","number","formControlName","install_port","pInputText","",3,"placeholder"],[1,"col-2"],[1,"col","leading-[2.4rem]"],[1,"col-12","grid","grid-nogutter","w-auto"],["formControlName","install_protocol","name","install_protocol","optionLabel","label","optionValue","value","appendTo","body",1,"selNoMargin","fwc-autodiscover-select",3,"onChange","options","placeholder","autoDisplayFirst"],[1,"col-4"],["formControlName","install_apikey","name","install_apikey","pPassword","","maxlength","64",3,"showPassword","placeholder","feedback"],["type","button","icon","fa fa-eye","styleClass","p-button-secondary autodiscover-eye-btn",3,"mousedown","mouseup","mouseout"],[1,"col-3"],["maxlength","64","type","text","formControlName","install_user","pInputText","",3,"placeholder"],["maxlength","64","type","password","formControlName","install_pass","pPassword","",3,"showPassword","placeholder","promptLabel","feedback"],["formControlName","role","appendTo","body",1,"dropDownForm",3,"options"],["tooltipPosition","top",1,"fa","fa-lg","fa-exclamation-triangle","fwcRed",3,"pTooltip","showDelay"],[1,"fa","fa-lg","fa-cog","fa-spin","fwcBlue"],[1,"fa","fa-lg","fa-exclamation-circle","fwcRed"],[1,"fa","fa-lg","fa-check-circle","fwcGreen"],[3,"onStartAutodiscover","options","manualMode","minimized"],[3,"onFinish","hideUI","importSSHData"],[1,"grid","gap-4"],[1,"col-12","text-center","space-y-2"],[1,"col-12","pl-10","space-y-1"],[1,"h-px","bg-gradient-to-r","from-transparent","via-black/30","to-transparent"],[1,"col-12","mt-2"],[1,"fa","fa-4x","fa-check-circle","fwcGreen"],[1,"fa","fa-4x","fa-exclamation-triangle","fwcOrange"],[1,"fa","fa-lg","fa-fw",3,"ngClass"],[3,"innerHTML"],[1,"pl-10","text-[0.9rem]","text-[var(--fwcMidDark)]","py-[0.3rem]"],[1,"fa","fa-check","fwcGreen"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",9,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onHide",function(){return w(s),C(r.onHideDialog())}),E(2,Bnt,5,3,"ng-template",null,1,ie),G(4,Gnt,3,2,"div",10),E(5,Knt,3,2,"ng-template",null,2,ie),b(),E(7,qnt,5,4,"ng-template",11)(8,tot,44,35,"ng-template",12)(9,fot,1,1,"ng-template",13)(10,mot,6,5,"ng-template",14)(11,Sot,1,1,"ng-template",15)}o&2&&(Ae("visible",r.displayDialog),f("modal",!0)("closable",!1)("resizable",!0),p(4),H(r.state?4:-1))},styles:[`.autodiscover-form .p-inputgroup{align-items:stretch}.autodiscover-form .p-inputgroup .p-inputtext,.autodiscover-form .p-inputgroup select,.autodiscover-form .p-inputgroup .p-password-input{min-height:2.4375rem;height:2.4375rem}.autodiscover-form .p-inputgroup .p-password{display:flex;flex:1;align-items:stretch}.autodiscover-form .p-inputgroup .p-password-input{width:100%}.autodiscover-form .p-inputgroup .autodiscover-eye-btn.p-button{min-height:2.4375rem;height:2.4375rem;border-radius:0!important;padding:0 .9rem;width:auto}.autodiscover-form .p-inputgroup button.autodiscover-eye-btn .p-button-icon-left{margin-right:0}.autodiscover-form .p-inputgroup select.selNoMargin,.autodiscover-form .p-inputgroup select.fwc-autodiscover-select{margin:0!important;width:100%;border:0;border-bottom:1px solid var(--fwcGrey2);background:var(--inputBackgroundColor);padding:0 .75rem;font-family:var(--fwcFontFamily);height:2.4375rem;line-height:2.4375rem}.autodiscover-form .p-inputgroup>.p-button{width:auto}.autodiscover-form .p-inputgroup .p-inputtext{width:100%}
`],encapsulation:2,changeDetection:0});let i=n;return i})();var Fw=(function(i){return i.OBJECT_NAME="POLICY.TREE_SEARCH_OPTIONS.OBJECT_NAME",i.TCP_UDP_PORT="POLICY.TREE_SEARCH_OPTIONS.TCP_UDP_PORT",i.IP_ADDRESS="POLICY.TREE_SEARCH_OPTIONS.IP_ADDRESS",i.IP_OPENVPN="POLICY.TREE_SEARCH_OPTIONS.IP_OPENVPN",i})(Fw||{});var gte=Xr(Oc());var Iot=()=>({width:"100%","max-height":"20em",overflow:"auto"}),Eot=i=>({"font-weight":i});function xot(i,n){i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"VPN.STATUS.NODE_SELECT_DIALOG.TITLE")," "))}function Tot(i,n){if(i&1){let e=B();_(0,"span",10),A("dblclick",function(){let o=w(e).$implicit,r=h();return C(r.onNodeSelect(o))}),N(1,"i",11),D(2,"fwcIcon"),_(3,"span",12),R(4),b()()}if(i&2){let e=n.$implicit;p(),j(_s("fwcTreeIcon ",k(2,5,e.data==null?null:e.data.object_type))),p(2),f("ngStyle",de(7,Eot,e.selectable?"normal":"bold")),p(),Y(" ",e.label," ")}}function Oot(i,n){if(i&1){let e=B();_(0,"p-button",13),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onNodeSelect(o.selectedNode))}),b(),_(2,"p-button",14),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onSelectCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.SELECT")))("disabled",!e.selectedNode),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.CANCEL")))}}var WO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S){super(t,o,r,s,g,d),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.translate=a,this.fwcUserService=l,this.utilService=c,this.router=d,this.fwcFirewallService=u,this.fwcVpnService=m,this.store=g,this.inputDataService=y,this.confirmationService=v,this.fwcEventService=S,this.displayNodeSelectDialog=!1,this.serviceMap={OSR:Os.openvpn,S01:Os.dhcp,S02:Os.keepalived,S03:Os.HAProxy,WGS:Os.wireGuard,ISS:Os.IPSec},this.createDialog(a.instant("VPN.STATUS.NODE_SELECT_DIALOG.TITLE"),"fwcMenuIcon fwci-firewalls fwcOrange")}onNodeSelect(t){return V(this,null,function*(){if(!t||!t.selectable)return;let o=this.clusterNodes.find(r=>r.id===t.data.firewall_id);if(o){this.displayNodeSelectDialog=!1;let r=this.utilService.createDynamicComponentRef(S0),s=r.instance;s.setDynamicComponentRef(r);let a={fwcloud:this.selectedItem.fwcloud,firewall:o.id,service:this.serviceMap[this.selectedItem.node_type]==="openvpn"?this.serviceMap[this.selectedItem.node_type]+"@"+this.selectedItem._fwcObjName:this.serviceMap[this.selectedItem.node_type]};s.systemCtlSelectorDialog(a)}})}selectNodes(t){this.selectedItem=t,this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),this.selectedItem.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).then(o=>{this.clusterNodes=o.data,this.clusterNodes&&(this.clusterTreeNodes=this.buildNodesTree(this.clusterNodes,this.selectedItem.cluster_name),this.displayNodeSelectDialog=!0)}).catch(o=>{console.error(o)})}buildNodesTree(t,o){let r=[],s={label:o,data:{object_type:O.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return t.forEach(a=>{s.children.push({label:a.name,data:{object_type:O.OBJ_FIREWALL,firewall_id:a.id},selectable:!0})}),r.push(s),r}onSelectHide(t){}onSelectCancel(){this.displayNodeSelectDialog=!1,super.hideDialog()}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x($e),x(dt),x(Tt),x(at),x(Bt),x(co),x(tt),x(Oo),x(ti),x(dn))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-systemctl-nodes-selector-panel"]],standalone:!1,features:[re],decls:14,vars:12,consts:[["header",""],["default",""],["footer",""],["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","resizable","closable","modal"],[1,"grid"],[1,"col-12"],["selectionMode","single",1,"treeSelector",3,"selectionChange","value","selection"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"nodeselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["styleClass","p-button-success","icon","pi pi-check",3,"onClick","disabled","label"],["icon","pi pi-times",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3),ke("visibleChange",function(l){return w(s),Ne(r.displayNodeSelectDialog,l)||(r.displayNodeSelectDialog=l),C(l)}),A("onHide",function(l){return w(s),C(r.onSelectHide(l))}),E(1,xot,5,3,"ng-template",null,0,ie),_(3,"div",4)(4,"div",5)(5,"p"),R(6),D(7,"translate"),b()(),_(8,"div",5)(9,"p-tree",6),ke("selectionChange",function(l){return w(s),Ne(r.selectedNode,l)||(r.selectedNode=l),C(l)}),E(10,Tot,5,9,"ng-template",null,1,ie),b()()(),E(12,Oot,4,9,"ng-template",null,2,ie),b()}o&2&&(Ae("visible",r.displayNodeSelectDialog),f("resizable",!1)("closable",!1)("modal",!0),p(6),Q(k(7,9,"VPN.STATUS.NODE_SELECT_DIALOG.TEXT")),p(3),De(Pe(11,Iot)),f("value",r.clusterTreeNodes),Ae("selection",r.selectedNode))},encapsulation:2});let i=n;return i})();var Rot=()=>({width:"100%","max-height":"20em",overflow:"auto"}),Dot=i=>({"font-weight":i});function Pot(i,n){if(i&1&&(_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),b()()),i&2){let e=h();p(3),Y(" ",e.title," ")}}function Aot(i,n){if(i&1){let e=B();_(0,"span",10),A("dblclick",function(){let o=w(e).$implicit,r=h();return C(r.onNodeSelect(o))}),N(1,"i",11),D(2,"fwcIcon"),_(3,"span",12),R(4),b()()}if(i&2){let e=n.$implicit;p(),j(_s("fwcTreeIcon ",k(2,5,e.data==null?null:e.data.object_type))),p(2),f("ngStyle",de(7,Dot,e.selectable?"normal":"bold")),p(),Y(" ",e.label," ")}}function kot(i,n){if(i&1){let e=B();_(0,"button",13),D(1,"translate"),A("click",function(){w(e);let o=h();return C(o.onNodeSelect(o.selectedNode))}),b(),_(2,"button",14),D(3,"translate"),A("click",function(){w(e);let o=h();return C(o.onSelectCancel())}),b()}if(i&2){let e=h();f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.SELECT")))("disabled",!e.selectedNode),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.CANCEL")))}}var nu=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c){super(t,o,r,s,a,l),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.cd=s,this.store=a,this.router=l,this.translate=c,this.clusterTreeNodes=[],this.displayNodeSelectDialog=!1,this.selectedNode=null,this.dialogText="",this.options=null,this.createDialog(this.translate.instant("DHCP.POLICY.COMPILE_NODE_DIALOG.TITLE"),"fwcMenuIcon fwci-firewalls fwcOrange")}open(t){this.options=t,this.clusterTreeNodes=this.buildNodesTree(t.nodes,t.clusterName),this.selectedNode=null,this.displayNodeSelectDialog=!0;let o=t.titleKey??"DHCP.POLICY.COMPILE_NODE_DIALOG.TITLE",r=t.textKey??"DHCP.POLICY.COMPILE_NODE_DIALOG.TEXT";this.title=this.translate.instant(o),this.dialogText=this.translate.instant(r),this.refreshDialog()}onNodeSelect(t){return V(this,null,function*(){if(!t||!t.selectable||!this.options)return;let o=t.data?.firewall_id;if(o!==void 0)try{yield this.options.onSelect(o)}finally{this.closeDialog()}})}onSelectCancel(){this.closeDialog()}onSelectHide(t){this.closeDialog()}closeDialog(){this.displayNodeSelectDialog=!1,super.hideDialog(),this.dynamicComponentRef&&this.dynamicComponentRef.destroy()}buildNodesTree(t,o){let r={label:o,data:{object_type:O.OBJ_CLUSTER},selectable:!1,expanded:!0,children:[]};return Array.isArray(t)&&t.forEach(s=>{r.children.push({label:s.name,data:{object_type:O.OBJ_FIREWALL,firewall_id:s.id},selectable:!0})}),[r]}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(We),x(tt),x(at),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-policy-compile-node-selector-panel"]],standalone:!1,features:[re],decls:10,vars:10,consts:[["styleClass","dlgFwcDialog dlgFwcDialog--small",3,"visibleChange","onHide","visible","resizable","closable","modal"],["pTemplate","header"],[1,"grid"],[1,"col-12"],["selectionMode","single","styleClass","treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci-firewalls","fwcOrange"],[1,"nodeselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"],["pButton","","icon","pi pi-check",1,"p-button-success",3,"click","disabled","label"],["pButton","","icon","pi pi-times",3,"click","label"]],template:function(o,r){o&1&&(_(0,"p-dialog",0),ke("visibleChange",function(a){return Ne(r.displayNodeSelectDialog,a)||(r.displayNodeSelectDialog=a),a}),A("onHide",function(a){return r.onSelectHide(a)}),E(1,Pot,4,1,"ng-template",1),_(2,"div",2)(3,"div",3)(4,"p"),R(5),b()(),_(6,"div",3)(7,"p-tree",4),ke("selectionChange",function(a){return Ne(r.selectedNode,a)||(r.selectedNode=a),a}),E(8,Aot,5,9,"ng-template",5),b()()(),E(9,kot,4,9,"ng-template",6),b()),o&2&&(Ae("visible",r.displayNodeSelectDialog),f("resizable",!1)("closable",!1)("modal",!0),p(5),Q(r.dialogText),p(2),De(Pe(9,Rot)),f("value",r.clusterTreeNodes),Ae("selection",r.selectedNode))},styles:[".treeSelector[_ngcontent-%COMP%]{border:1px solid var(--surface-border);border-radius:4px;padding:.5rem}.nodeselect[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;cursor:pointer}"]});let i=n;return i})();var Not=["treeview"],Fot=["hintFirstTreeElement"],Lot=Sd.concat([M.FOLDER_POLICY,M.FOLDER_INTERFACES,M.POLICY_ROUTING,M.FOLDER_VPN,M.OPENVPN_ROOT,M.WIREGUARD_ROOT,M.IPSEC_ROOT,M.OPENVPN_PREFIX_FOLDER]).filter(i=>i!==M.ROUTING_TABLE),mte=tH.find(i=>i.name.toLowerCase()==="vyos")?.id??2,Mot=new Set([M.FOLDER_VPN,M.OPENVPN_ROOT,M.WIREGUARD_ROOT,M.IPSEC_ROOT,M.POLICY_ROUTING,M.POLICY_ROUTING6,M.FOLDER_ROUTING,M.ROUTING_TABLES,M.ROUTING_TABLE,M.FOLDER_SYSTEM,M.DHCP,M.DHCP_FIXED_IP,M.KEEPALIVED,M.HAPROXY]),oIi=(()=>{let n=class n{onContextMenuEvent(t,o){t.preventDefault(),this.contextMenuReference&&this.clearObjectInfo()}shouldShowClusterPolicyUnavailableState(t){if(!t||t.node_type!==M.KEEPALIVED)return!1;let o=!!t.cluster_id,r=!!t._fwcClusterId;return!(o||r)}fwcIcon(t,o){return wn.prototype.transform(t,o)}set treeOptions(t){if(this.options=Object.assign({},t),!this.lastSelectedPolicyInfo){let u=this.fwcPolicyService.getActualSelectedPolicy?.();u&&u._fwcFwId!==null&&u._fwcFwId!==void 0&&(this.lastSelectedPolicyInfo=Fe(ee({},u),{_dontLocateInTree:void 0,_forcePolicyReload:void 0}))}let o=this.resolveTreeFwcloudId(this.options),r=this.resolveTreeView(this.options),s=this.resolveTreeName(this.options),a=`${this.options?.container??""}|${o??""}|${r}|${s}`,l=this.hydrateTreePersistenceState(o,r,s),c=l&&this.lastResolvedOptionsKey===a&&Array.isArray(this.items)&&this.items.length>0&&!this.suspendTreeExpansionPersistence;this.lastResolvedOptionsKey=a;let d=o!==void 0&&!l;if(this.expandRootNodeOnFirstLoad=!!d,this.autoExpandNodeTypesOnFirstLoad=d?this.resolveAutoExpandNodeTypes(s):new Set,this.shouldReemitPolicyAfterBuild=!!(this.options.container===Ge.C_FIREWALLS&&this.lastSelectedPolicyInfo),c){this.restoreSelectionFromStore(),this.cd.detectChanges();return}this.selectedPolicyNode=void 0,this.treeLoad(),this.cd.detectChanges()}runWithTreeExpansionPersistencePaused(t){this.suspendTreeExpansionPersistence=!0;try{return t()}finally{this.suspendTreeExpansionPersistence=!1}}getCachedPolicyNode(){if(!this.lastSelectedPolicyInfo||this.options?.container!==Ge.C_FIREWALLS)return;let{_fwcFwId:t,_fwcPolicyType:o,_fwcObjId:r}=this.lastSelectedPolicyInfo;if(t!=null)return this.treeFindPolicyItem(this.items,t,o,r)}getCachedTreeSelectionNode(){if(!this.lastSelectedTreeNodeRef||!this.treeview?.nativeElement)return;let{nodeId:t,objId:o,objType:r}=this.lastSelectedTreeNodeRef;if(t!=null){let s=this.treeview.nativeElement.findItemById(t);if(s)return s}if(o!=null&&r!==void 0&&r!==null){let s=this.findItemByIdType(this.items,o,r);if(s)return s}}getTreePersistenceKeys(){let t=this.resolveTreeFwcloudId(this.options),o=this.resolveTreeView(this.options),r=this.resolveTreeName(this.options);return{fwcloudId:t,viewKey:o,treeName:r}}persistTreeOpenNodesState(){let{fwcloudId:t,viewKey:o,treeName:r}=this.getTreePersistenceKeys();this.appOptionsService.setTreeOpenNodes(t??null,o,r,Array.from(this.treeExpandedNodes))}hydrateTreePersistenceState(t,o,r){if(t==null)return this.treeExpandedNodes=new Set,this.lastSelectedTreeNodeRef=void 0,this.lastSelectedPolicyInfo=void 0,!1;let s=this.appOptionsService.hasTreeOpenNodesEntry(t,o,r);return this.treeExpandedNodes=this.appOptionsService.getTreeOpenNodesSet(t,o,r),this.lastSelectedTreeNodeRef=this.appOptionsService.getTreeSelectedNodeRef(t,o,r),this.lastSelectedPolicyInfo=this.lastSelectedTreeNodeRef?.policySelection?ee({},this.lastSelectedTreeNodeRef.policySelection):void 0,s}removeNodeAndDescendantsFromExpandedState(t){if(!t)return;let o=[t];for(;o.length;){let r=o.pop();if(r&&(r.id!==void 0&&r.id!==null&&this.treeExpandedNodes.delete(r.id),Array.isArray(r.items)))for(let s of r.items)o.push(s)}}rememberSelectedTreeItem(t){let{fwcloudId:o,viewKey:r,treeName:s}=this.getTreePersistenceKeys();if(!t){this.lastSelectedTreeNodeRef=void 0,this.lastSelectedPolicyInfo=void 0,this.appOptionsService.setTreeSelectedNodeRef(o,r,s,void 0);return}let a=this.buildPolicySelectionFromNode(t),l=a?ee({},a):this.lastSelectedPolicyInfo?ee({},this.lastSelectedPolicyInfo):void 0;l&&(l.fwcloud=l.fwcloud??this.resolveTreeFwcloudId(this.options)??this.fwcUserService.getActualFwSelectedCloud()),this.lastSelectedPolicyInfo=l?ee({},l):void 0,this.lastSelectedTreeNodeRef={nodeId:t.id,objId:t._fwcObjId??t.id_obj??void 0,objType:t._fwcObjType??t.obj_type??void 0,nodeType:t.node_type,policySelection:l},this.appOptionsService.setTreeSelectedNodeRef(o,r,s,this.lastSelectedTreeNodeRef)}onTreeSelectionChanged(t){let o=t?.detail?.item??this.treeview?.nativeElement?.selectedItem;this.rememberSelectedTreeItem(o)}buildPolicySelectionFromNode(t){if(!t||Sd.indexOf(t.node_type)===-1)return;let o={},r=t.id_obj;t.node_type===M.ROUTING_TABLE&&(r=t._fwcFwId),o._fwcUserId=this.fwcUser?.user_id,o._fwcFwId=r,o._fwcFwName=t._fwcFwName,o.fwcloud=t.fwcloud??this.resolveTreeFwcloudId(this.options)??this.fwcUserService.getActualFwSelectedCloud(),o._fwcObjId=t._fwcObjId;let s;switch(t.node_type){case M.POLICY_ROUTING:s=gr.POLICY_ROUTING;break;case M.ROUTING_TABLE:s=gr.ROUTING_TABLE,o._fwcPolicyName=t._fwcObjName;break;case M.DHCP:s=Fi[M.DHCP],o._fwcPolicyName=t._fwcObjName;break;case M.DHCP_FIXED_IP:s=Fi[M.DHCP_FIXED_IP],o._fwcPolicyName=t._fwcObjName;break;case M.KEEPALIVED:t.cluster_id&&(s=Fi[M.KEEPALIVED],o._fwcPolicyName=t._fwcObjName,o._fwcClusterId=t.cluster_id);break;case M.HAPROXY:s=Fi[M.HAPROXY],o._fwcPolicyName=t._fwcObjName;break;default:s=t.obj_type;break}if(t._fwcClusterId&&(o._fwcClusterId=t._fwcClusterId,o._fwcFwName=t._fwcClusterName),o._fwcPolicyType=s,!(!o._fwcFwId||!o._fwcPolicyType))return o}reEmitCachedPolicySelectionIfNeeded(){if(!(this.reemitPolicySelectionInProgress||!this.lastSelectedPolicyInfo)){this.reemitPolicySelectionInProgress=!0;try{let t=this.getCachedPolicyNode();if(t){this.rememberSelectedTreeItem(t),this.actionLoadPolicy(t,!0);return}let o=this.getCachedTreeSelectionNode();if(o){this.rememberSelectedTreeItem(o),this.itemSelectedService.setSelectedTreeNode(o),Sd.indexOf(o.node_type)!==-1&&this.actionLoadPolicy(o,!0);return}let{_fwcFwId:r,_fwcPolicyType:s,_fwcObjId:a}=this.lastSelectedPolicyInfo;r!=null&&s!==void 0&&(this.fwcPolicyService.setSelectedPolicy(Fe(ee({},this.lastSelectedPolicyInfo),{fwcloud:this.resolveTreeFwcloudId(this.options)??this.lastSelectedPolicyInfo.fwcloud,_dontLocateInTree:!0,_forcePolicyReload:!0,_fwcFwId:r,_fwcPolicyType:s,_fwcObjId:a})),this.fwcPolicyService.reloadPolicy())}finally{this.reemitPolicySelectionInProgress=!1}}}restoreSelectionFromStore(){let{fwcloudId:t,viewKey:o,treeName:r}=this.getTreePersistenceKeys();t!==void 0&&(this.lastSelectedTreeNodeRef=this.appOptionsService.getTreeSelectedNodeRef(t,o,r),this.lastSelectedPolicyInfo=this.lastSelectedTreeNodeRef?.policySelection?ee({},this.lastSelectedTreeNodeRef.policySelection):void 0,this.options?.container===Ge.C_FIREWALLS&&this.lastSelectedPolicyInfo&&(this.shouldReemitPolicyAfterBuild=!0,Array.isArray(this.items)&&this.items.length&&this.reEmitCachedPolicySelectionIfNeeded()))}resolveTreeFwcloudId(t){if(t&&t.fwcloud!==void 0&&t.fwcloud!==null)return t.fwcloud;let o=this.fwcUserService?.getActualFwSelectedCloud?.();return o??void 0}resolveTreeView(t){if(t&&t.view)return t.view;switch(t?.container){case Ge.C_FIREWALLS_CONDENSED:case Ge.C_CA:return"vpn";case Ge.C_FIREWALLS:case Ge.C_OBJECTS:case Ge.C_SERVICES:return"policy";default:return"policy"}}resolveTreeName(t){if(t&&t.treeName)return t.treeName;switch(t?.container){case Ge.C_FIREWALLS:case Ge.C_FIREWALLS_CONDENSED:case Ge.C_CLUSTERS:return"firewalls";case Ge.C_OBJECTS:return"objects";case Ge.C_SERVICES:return"services";case Ge.C_CA:return"PKI";default:return"firewalls"}}resolveAutoExpandNodeTypes(t){switch(t){case"firewalls":return new Set([M.FOLDER_FW,M.FOLDER_CLUSTER]);case"objects":return new Set([M.FOLDER_OBJECTS,M.COUNTRIES,M.FOLDER_SERVICES]);case"services":return new Set([M.FOLDER_SERVICES]);default:return new Set}}applyInitialRootExpansion(t){t&&(this.expandRootNodeOnFirstLoad?(this.expandRootNodeOnFirstLoad=!1,this.treeExpandedNodes.add(t.id),t.expanded=!0):t.expanded=this.treeExpandedNodes.has(t.id))}applyInitialAutoExpansion(t){if(this.autoExpandNodeTypesOnFirstLoad.size&&(this.expandNodeOnFirstLoad(t),!(!t||!Array.isArray(t.items))))for(let o of t.items)this.expandNodeOnFirstLoad(o)}expandNodeOnFirstLoad(t){t&&this.autoExpandNodeTypesOnFirstLoad.has(t.node_type)&&(this.treeExpandedNodes.add(t.id),t.expanded=!0)}set searchString(t){this._searchString=t,this.treeFilter()}get searchString(){return this._searchString}set treeSearchOptions(t){this._treeSearchOptions=t,this.treeFilterByOptions()}constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F,K,le,me,fe,Te,He,Be,rt,Rt,xt,Lt,mt){this.refService=t,this.fwcObjectTreeService=o,this.itemSelectedService=r,this.fwcPolicyService=s,this.fwcRoutingTableService=a,this.fwcUserService=l,this.fwcFirewallService=c,this.fwcObjectService=d,this.fwcInterfaceService=u,this.fwcContextMenuService=m,this.fwcDhcpPolicyService=g,this.fwcHAProxyPolicyService=y,this.fwcKeepalivedPolicyService=v,this.fwcErrorPipe=S,this.fwcPolicyGridRoutingTableFunctionalityService=I,this.confirmationService=P,this.messageService=L,this.inputDataService=F,this.utilService=K,this.fwcVpnService=le,this.appOptionsService=me,this.appHintService=fe,this.appDialogPanelsService=Te,this.dialogService=He,this.cd=Be,this.translate=rt,this.store=Rt,this.parentFwcTreePanelComponent=xt,this.fwcTreePanelMenuService=Lt,this.fwcAiAssistantService=mt,this.currentResourcePath="app/integralui/icons",this.treeIntegralUIStyle=[cte,js,ate,Hs,Gs,lte],this.currentDragDrop=rr.Static,this.currentItemTemplate=Re=>Ke`
      <iui-contextmenu
        .allowAnimation="${!1}"
        .customStyle="${[js,dte,Hs,Gs]}"
        .colorScheme="${this.currentColorScheme}"
        .settings=${Re._fwcDisabledForVyOS?this.treeContextMenu.NO_MENU:this.treeContextMenu[Re.node_type]?this.treeContextMenu[Re.node_type]:this.treeContextMenu.NO_MENU}
        @menuOpening=${Oi=>this.onContextMenuLoad(Oi)}
        @menuClick=${Oi=>this.onContextMenuHandler(Oi)}>
        <div class="fwcTree-item
          ${this.selectedPolicyNode&&Re.id==this.selectedPolicyNode.id?"fwcSelectedPolicyNode":""}
          ${Re.id==this.highlightNodeId?"fwcTree-item-highlight":""}
          ${Re._fwcDisabledForVyOS?"fwcTree-item--disabled fwcTree-item--vyos-disabled":""}
          ${this.shouldShowClusterPolicyUnavailableState(Re)?"fwcTree-item--disabled fwcTree-item--cluster-only":""}
          ${Re.obj_type===this.ObjectTypes?.OBJ_OPENVPN_CONFIG_CLI&&Re.openvpn_disabled&&!Re._fwcOpenvpnStatus?"fwcTree-item--disabled":""}
          ${Re.obj_type===this.ObjectTypes?.OBJ_WGC_CONFIG_CLI&&Re.wireguard_disabled&&!Re._fwcWireGuardStatus?"fwcTree-item--disabled":""}
          ${Re.obj_type===this.ObjectTypes?.OBJ_ISC_CONFIG_CLI&&Re.ipsec_disabled&&!Re._fwcIPSecStatus?"fwcTree-item--disabled":""}"
        @mouseenter=${Oi=>this.showObjectInfo(Re,Oi)}
        @mouseleave=${Oi=>this.clearObjectInfo(Oi)}
        @click=${Oi=>this.onItemClickEvent(Oi)}
        @dblclick=${Oi=>this.onItemDblClickEvent(Oi)}
        .draggable=${Re.allowDrag}
        @dragstart=${Oi=>this.onItemDragStart(Re,Oi)}
        @wheel="${()=>this.clearObjectInfo()}"
        @contextmenu=${Oi=>this.onContextMenuEvent(Oi,Re)}
      }}
      >
      ${Re.obj_type==this.ObjectTypes.OBJ_CA&&Re._fwcCaStatus?Ke`
      <span>
        <i class="fa fa-spin fa-spinner fwcBlue"></i>
      </span>`:""}

    ${Re.obj_type==this.ObjectTypes.OBJ_COUNTRIE?Ke`
      <span>
        <i class="flag-icon flag-icon-${Re.countryCode?Re.countryCode.toLowerCase():""}"></i>
      </span>`:""}
      ${Re.obj_type==this.ObjectTypes.OBJ_CONTINENT?Ke`
          <span>
            <i class="fwcTreeIcon ${this.fwcIcon(Re.obj_type,Re.continentCode?Re.continentCode:"")}"></i>
          </span>`:""}
      ${Re.obj_type!=this.ObjectTypes.OBJ_COUNTRIE&&Re.obj_type!=this.ObjectTypes.OBJ_CONTINENT&&!(Re.node_type==="OPN"||Re.node_type==="WG"||Re.node_type==="IS")?Ke`
          <i class="fwcTreeIcon ${this.fwcIcon(Re.obj_type,Re.node_type)}" aria-hidden="true"></i>
        `:""}
      ${Re.obj_type==this.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI&&Re.openvpn_disabled&&!Re._fwcOpenvpnStatus?Ke`
        <span class="fwcTree-item--disabled" style="margin-left: -0.15em; margin-top:0.3125em;">
          <img width="17.5" height="17.5" src="assets/img/openvpn-disabled.png" />
        </span>`:""}
      ${Re.obj_type==this.ObjectTypes.OBJ_WGC_CONFIG_CLI&&Re.wireguard_disabled&&!Re._fwcWireGuardStatus?Ke`
        <span class="fwcTree-item--disabled" style="margin-left: -0.15em; margin-top:0.3125em;">
          <img width="17.5" height="17.5" src="assets/img/wireguard-disabled.png" />
        </span>`:""}
        ${Re.obj_type==this.ObjectTypes.OBJ_ISC_CONFIG_CLI&&Re.ipsec_disabled&&!Re._fwcIPSecStatus?Ke`
          <span class="fwcTree-item--disabled" style="margin-left: -0.15em; margin-top:0.3125em;">
            <img width="17.5" height="17.5" src="assets/img/ipsec-disabled.png" />
          </span>`:""}
      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="VPN"?Ke`
        <span style="font-size: 16px; margin-left: -0.14rem; margin-right: -0.09em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-tunel_icon"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="OPN"?Ke`
        <span style="font-size: 16px; margin-left: -0.14rem; margin-right: -0.09em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-openvpn"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="WG"?Ke`
        <span style="font-size: 16px; margin-left: -0.14rem; margin-right: -0.09em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-wireguard"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="IS"?Ke`
        <span style="font-size: 16px; margin-left: -0.14rem; margin-right: -0.09em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-ipsec"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="SYS"?Ke`
        <span style="font-size: 16px; margin-left: -0.15rem; margin-right: -0.09em;">
          <i class="fa fa-gear fwcBlue"></i>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&["S01","S04"].includes(Re.node_type)?Ke`
        <span style="margin-right: -0.09em; margin-top: 0.3125em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-isc-dhcp"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="S02"?Ke`
        <span style="margin-right: -0.09em; margin-top:0.3125em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-keepalived"></use>
          </svg>
        </span>`:""}

      ${!this.loadedIcons.has(Re.id)&&Re.node_type=="S03"?Ke`
        <span style="margin-right: -0.09em; margin-top:0.3125em;">
          <svg class="icon" width="20" height="20" onload=${()=>this.loadedIcons.add(Re.id)}>
            <use xlink:href="assets/img/fwcIcons-symbol-defs.svg#fwci2-ha-proxy"></use>
          </svg>
        </span>`:""}

    ${Re.node_type=="FDF"?Ke`
      <span>
        <i class="fwcTreeIcon fwci-clusters fwcDarkBlue" aria-hidden="true"></i>
      </span>`:""}

      ${(Re.obj_type==this.ObjectTypes.OBJ_CLUSTER||Re.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Re.status_compiled?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-C">
        <p>C</p>
      </span>`:""}

    ${(Re.obj_type==this.ObjectTypes.OBJ_CLUSTER||Re.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&Re.status_compiled||(Re.obj_type==this.ObjectTypes.OBJ_CLUSTER||Re.obj_type==this.ObjectTypes.OBJ_FIREWALL)&&!Re.status_compiled&&Re.status_installed?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}

    ${(Re.obj_type==this.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI||Re.obj_type==this.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||Re.obj_type==this.ObjectTypes.OBJ_WGS_CONFIG_SER||Re.obj_type==this.ObjectTypes.OBJ_WGC_CONFIG_CLI||Re.obj_type==this.ObjectTypes.OBJ_ISS_CONFIG_SER||Re.obj_type==this.ObjectTypes.OBJ_ISC_CONFIG_CLI)&&Re._fwcOpenvpnStatus||Re._fwcWireGuardStatus||Re._fwcIPSecStatus?Ke`
      <span class="fwcBadgeFw fwcBadgeFw-I">
        <p>I</p>
      </span>`:""}
      <span class="fwc-label ${Re.fwcloud===null&&Re.id_obj!==null?"fwcBlue":"fwcDark"}"
      style="font-weight: ${Re._fwcObjId===null?"bold":"normal"};
      margin-left: ${Re.obj_type==this.ObjectTypes.OBJ_CLUSTER||Re.obj_type==this.ObjectTypes.OBJ_FIREWALL?"3px":"1px"}">

      ${Re.text}
      ${Re.labelName&&Re.labelName!==""?Ke`<span>[${Re.labelName}]</span>`:""}
      ${Re.obj_type===this.ObjectTypes.OBJ_ADDRESS&&Re.address&&Re.address!==""?Ke`<span>(${Re.address})</span>`:""}
      ${Re.obj_type==this.ObjectTypes.OBJ_CA&&Re._fwcCaStatus?Ke`
        <span style="margin-left: 0.3em">
          <i class="fa fa-question-circle fwcOrange" @mouseenter="${Oi=>this.appHintService.showRegisteredHint(zf.HINT_CA_CREATING,void 0,Oi)}" aria-hidden="true"></i>
        </span>`:""}
    </span>
    </div>
    </iui-contextmenu>
    `,this.applicationRef=null,this.contextMenuReference=null,this.treeExpandedNodes=new Set,this.expandRootNodeOnFirstLoad=!1,this.autoExpandNodeTypesOnFirstLoad=new Set,this.suspendTreeExpansionPersistence=!1,this.shouldReemitPolicyAfterBuild=!1,this.reemitPolicySelectionInProgress=!1,this.isKeepalivedPolicy=!1,this.searchOptions={allowParent:!0,caseSensitive:!1,conditions:{value:"",operation:"[]",negative:!1}},this.isHAProxyPolicy=!1,this.customSearchOptions={callback:(Re,Oi)=>{}},this._searchString="",this.alive=!0,this.ObjectTypes=O,this.NodeTypes=M,this.infoTooltipShown=!1,this.loadedIcons=new Set,this.vyosFirewallIds=new Set,this.vyosClusterIds=new Set,this.CACertTypes=f_,this.HintsIds=zf,this.serviceMap={OSR:Os.openvpn,S01:Os.dhcp,S02:Os.keepalived,S03:Os.HAProxy,WGS:Os.wireGuard,ISS:Os.IPSec},this.askAssitant=!1,this.items=[],this.forwardSelectionSubscription=this.fwcTreePanelMenuService.forwardSelection.subscribe(Re=>{this.onContextMenuHandler(Re.e,Re.panel_type)}),typeof window<"u"&&(this.treeDragEndHandler=()=>this.cleanupDragPreview(),window.addEventListener("dragend",this.treeDragEndHandler,!0))}ngOnInit(){return V(this,null,function*(){this.treeContextMenu=this.fwcContextMenuService.getTreeMenus(),this.nodeTranslations=this.translate.instant("NODE_TYPES"),this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(o=>{o==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.store.pipe(Nt(()=>this.alive),Cn(Xy.selectItemToSelect),Zo(o=>!!o)).subscribe(o=>{this.treeFindItem(o._fwcObjId,o._fwcObjType,!0,o._fwcSubObjId,o._fwcSubObjType)}),this.options&&(this.options.container===Ge.C_FIREWALLS||this.options.container===Ge.C_FIREWALLS_CONDENSED)&&this.store.pipe(Nt(()=>this.alive),Cn(Xy.selectItemUpdateFwStatus),Zo(o=>!!o)).subscribe(o=>{this.treeUpdateFwStatus(this.items,o),this.treeview?.nativeElement&&this.treeview.nativeElement.refresh(),this.cd.detectChanges()}),this.itemSelectedService.getItem().pipe(Nt(()=>this.alive)).subscribe(o=>{o.container||this.treeFindItem(o._fwcObjId,o._fwcObjType,!1,o._fwcSubObjId,o._fwcSubObjType)}),this.fwcPolicyService.getSelectedPolicy().pipe(Nt(()=>this.alive)).subscribe(o=>{let r=!!(o&&o._fwcFwId!==null&&o._fwcFwId!==void 0);if(r?this.lastSelectedPolicyInfo=Fe(ee({},o),{_dontLocateInTree:void 0,_forcePolicyReload:void 0}):(this.lastSelectedPolicyInfo=void 0,this.selectedPolicyNode=void 0),this.options.container===Ge.C_FIREWALLS&&r&&!o._dontLocateInTree){let s=this.treeFindPolicyItem(this.items,o._fwcFwId,o._fwcPolicyType,o._fwcObjId);if(!s)return;this.selectedPolicyNode=s;let a=this.treeview?.nativeElement;if(a&&s!==a.selectedItem&&(a.clearSelection(),a.scrollTo(s),a.selectItems([s])),this.rememberSelectedTreeItem(s),this.itemSelectedService.setSelectedTreeNode(s),o._forcePolicyReload||!this.fwcPolicyService.getActualPolicy()?.length){let c=Fe(ee({},o),{_dontLocateInTree:!0,_forcePolicyReload:!0});this.fwcPolicyService.setSelectedPolicy(c),this.fwcPolicyService.reloadPolicy()}}});let t=this.fwcPolicyService.getActualSelectedPolicy?.();if(t&&t._fwcFwId!==null&&t._fwcFwId!==void 0&&(this.lastSelectedPolicyInfo=Fe(ee({},t),{_dontLocateInTree:void 0,_forcePolicyReload:void 0})),this.options){let{fwcloudId:o,viewKey:r,treeName:s}=this.getTreePersistenceKeys();this.hydrateTreePersistenceState(o,r,s)}this.itemSelectedService.getModifiedItem().pipe(Nt(()=>this.alive)).subscribe(o=>{if(!(o.deleteFromList||o.addToList||o.selectItemInPosition)){switch(o._fwcTreeAction){case Ii.NEW_ITEM:this.treeNewItem(o);break;case Ii.DELETE_ITEM:this.treeDeleteItem(o);break;case Ii.NEW_GROUP_ITEM:this.treeNewItem(o,!0);break;case Ii.DELETE_GROUP_ITEM:this.treeDeleteItem(o,!0);break;case Ii.RELOAD_TREE:(o.containerToReload===this.options.container||Array.isArray(this.items)&&this.items.length&&this.items[0].node_type===o.treeNodeToReload)&&this.treeLoad(o);break;case Ii.MODIFY_ITEM:default:this.treeModifyItem(o);break}this.cd.detectChanges()}}),this.fwcUserService.getFwcUser().pipe(Nt(()=>this.alive)).subscribe(o=>{this.fwcUser&&this.fwcUser.selectedLanguage!=o.selectedLanguage&&this.translate.use(o.selectedLanguage),this.fwcUser=o}),this.fwcObjectTreeService.getTreeChildTypes().subscribe(o=>{this.fwcChildTypes=o}),this.appHintService.registerHint({id:zf.HINT_NO_FW,caption:"HINTS.HINT_NO_FW.CAPTION",description:"HINTS.HINT_NO_FW.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement}),this.appHintService.registerHint({id:zf.HINT_CA_CREATING,caption:"HINTS.HINT_CA_CREATING.CAPTION",description:"HINTS.HINT_CA_CREATING.DESC",imageURL:"assets/img/cloud.png",target:this.hintFirstTreeElement})})}ngAfterViewInit(){let t=this;setTimeout((function(){let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o}).bind(this),1)}ngOnDestroy(){this.alive=!1,this.forwardSelectionSubscription?.unsubscribe(),typeof window<"u"&&this.treeDragEndHandler&&window.removeEventListener("dragend",this.treeDragEndHandler,!0),this.cleanupDragPreview()}setExpandedNodes(t,o){if(this.suspendTreeExpansionPersistence)return;let r=t.detail?.item;r&&(o?this.treeExpandedNodes.add(r.id):this.removeNodeAndDescendantsFromExpandedState(r),this.persistTreeOpenNodesState())}treeLoad(t,o){let r=this.fwcUserService.getActualFwSelectedCloud();this.items.length=0,this.options.container==Ge.C_FIREWALLS||this.options.container==Ge.C_FIREWALLS_CONDENSED?(this.store.dispatch(qi.requestBlockUI()),Promise.all([this.getTree(this.options),this.getAllFirewalls(),this.getAllClusters()]).then(([s,a,l])=>{let c,d,u,m=s.data;m.text=" ",this.applyInitialRootExpansion(m),this.applyInitialAutoExpansion(m),this.items.push(m),this.treeview.nativeElement.updateLayout(),this.treeClusters=[],c=Array.isArray(a.data)?a.data:[],d=Array.isArray(l?.data)?l.data:[],this.populateVyosCompilerMaps(c,d);for(let g=0;g<c.length;g++)if(c[g].cluster!==void 0&&c[g].cluster!==null){u=!1;for(let y=0;y<this.treeClusters.length;y++)c[g].cluster==this.treeClusters[y].clusterId&&(this.treeClusters[y].fwnodes.push(c[g]),c[g].fwmaster&&(this.treeClusters[y].fwMasterId=c[g].id),u=!0);if(!u){let y=this.treeClusters.push({clusterId:c[g].cluster,fwnodes:[]});c[g].fwmaster&&(this.treeClusters[y-1].fwMasterId=c[g].id),this.treeClusters[y-1].fwnodes.push(c[g])}}this.buildTree(t,o),this.cd.detectChanges(),this.store.dispatch(qi.requestUnblockUI()),setTimeout(()=>{this.options.container==Ge.C_FIREWALLS&&Array.isArray(this.items)&&this.items.length&&Array.isArray(this.items[0].items)&&!this.items[0].items.length&&(this.appHintService.showRegisteredHint(zf.HINT_NO_FW,this.hintFirstTreeElement),this.hintFirstTreeElement&&this.appHintService.setHintElement(this.hintFirstTreeElement))},500)}).catch(s=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),this.store.dispatch(qi.requestUnblockUI())}),this.cd.detectChanges()):this.options.container==Ge.C_CA?(this.store.dispatch(qi.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,r).subscribe({next:s=>{let a=s.data;a.text=" ",this.applyInitialRootExpansion(a),this.items.push(a),this.treeview.nativeElement.updateLayout(),this.buildTree(t,o),this.store.dispatch(qi.requestUnblockUI())},error:s=>{this.errorMessage=s,this.store.dispatch(qi.requestUnblockUI())}}),this.cd.detectChanges()):(this.store.dispatch(qi.requestBlockUI()),this.fwcObjectTreeService.getTree(this.options,r).subscribe({next:s=>{let a;if(s.data.length>1){a=s.data;for(let l=0;l<a.length;l++)a[l].text=this.nodeTranslations+"."+a[l].node_type,this.applyInitialRootExpansion(a[l]),this.applyInitialAutoExpansion(a[l]),this.reorderTreeStdNodes(a[l]),this.items.push(a[l]),this.treeview.nativeElement.updateLayout()}else a=s.data,a.text=" ",this.applyInitialRootExpansion(a),this.applyInitialAutoExpansion(a),this.reorderTreeStdNodes(a),this.items.push(a),this.treeview.nativeElement.updateLayout();this.buildTree(t,o),this.store.dispatch(qi.requestUnblockUI())},error:s=>{this.errorMessage=s,this.store.dispatch(qi.requestUnblockUI())}}),this.cd.detectChanges())}getTree(t){return new Promise((r,s)=>{let a=this.fwcUserService.getActualFwcUser(),l=-1;a.selectedFwCloud!==null&&a.selectedFwCloud!==void 0&&(l=a.selectedFwCloud),this.fwcObjectTreeService.getTree(t,l).subscribe({next:c=>{r(c)},error:c=>{s(c)}})})}getAllFirewalls(){return new Promise((o,r)=>{let s=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getFirewallsByCloud(s).subscribe(a=>{o(a)},a=>{r(a)})})}getAllClusters(){return new Promise((t,o)=>{let r=this.fwcUserService.getActualFwSelectedCloud();this.fwcFirewallService.getClustersByCloud(r).subscribe(s=>t(s),s=>o(s))})}populateVyosCompilerMaps(t,o){let r=new Set,s=new Set;Array.isArray(t)&&t.forEach(a=>{a&&this.isVyOSCompilerValue(a.compiler,a.options)&&r.add(a.id)}),Array.isArray(o)&&o.forEach(a=>{a&&this.isVyOSCompilerValue(a.compiler,a.options)&&s.add(a.id)}),this.vyosFirewallIds=r,this.vyosClusterIds=s}isVyOSCompilerValue(t,o){if(t!=null){let r=typeof t=="number"?t:Number(t);if(!Number.isNaN(r))return r===mte}if(o!=null){let r=Number(o);if(!Number.isNaN(r))return(r&61440)>>12===mte}return!1}reorderTreeStdNodes(t){}buildTree(t,o){if(this.treePrepare(this.items),this.treeview.nativeElement.updateLayout(),this.selectedPolicyNode)this.selectedPolicyNode=this.findItemByIdType(this.items,this.selectedPolicyNode._fwcObjId,this.selectedPolicyNode._fwcObjType),t||(t=this.selectedPolicyNode);else if(!t){let r=this.getCachedPolicyNode();r&&(this.selectedPolicyNode=r,t=r)}if(!t){let r=this.getCachedTreeSelectionNode();r&&(t=r)}if(t){let r=this.items[0];this.options.container==t.container&&(o?t._fwcObjTreeParentId!==void 0?r=this.treeview.nativeElement.findItemById(t._fwcObjTreeParentId):t.pid!==void 0&&(r=this.treeview.nativeElement.findItemById(t.pid)):t._fwcObjTreeId!==void 0?r=this.treeview.nativeElement.findItemById(t._fwcObjTreeId):t._fwcObjId!==void 0&&t._fwcObjType!==void 0&&(r=this.findItemByIdType(this.items,t._fwcObjId,t._fwcObjType))),r&&(this.treeview.nativeElement.scrollTo(r),this.treeview.nativeElement.expand(r),this.treeview.nativeElement.selectItems([r]),Sd.findIndex(s=>r.node_type==s)!=-1&&(this.selectedPolicyNode=r),this.treeview.nativeElement.updateView(),this.rememberSelectedTreeItem(r),this.itemSelectedService.setSelectedTreeNode(r))}this.treeview.nativeElement.updateLayout(),this.shouldReemitPolicyAfterBuild&&(this.shouldReemitPolicyAfterBuild=!1,this.reEmitCachedPolicySelectionIfNeeded())}treePrepare(t,o){let r=o||{};for(let s=0;s<t.length;s++){let a=t[s],l,c,d,u,m=[],g=[],y=[],v=[],S=[],I=[],P=[],L=[],F,K,le,me,fe,Te,He=!!r?.vyosCompiler,Be=!!r?.disableSubtree,rt=He,Rt=Be;if(a.node_type==M.CONTINENT&&(a.continentCode=a.continentCode||a.text,c=a.continentCode,a.text=this.nodeTranslations[a.continentCode]),a.node_type==M.COUNTRIE&&(a.countryCode=a.countryCode||a.text,c=a.countryCode,a.text=this.translate.instant("COUNTRIES."+a.countryCode)),this.nodeTranslations[a.node_type]&&!a.id_obj&&(a.text=this.nodeTranslations[a.node_type]),a.node_type===M.OBJ_FIREWALL?(rt=He||this.vyosFirewallIds.has(a.id_obj),a._fwcUsesVyOSCompiler=rt):a.node_type===M.OBJ_CLUSTER&&(rt=He||this.vyosClusterIds.has(a.id_obj),a._fwcUsesVyOSCompiler=rt),!Rt&&rt&&Mot.has(a.node_type)&&(Rt=!0),a._fwcDisabledForVyOS=Rt,Rt&&(a.allowDrag=!1),this.options.container===Ge.C_FIREWALLS_CONDENSED&&(a.node_type===M.OBJ_FIREWALL||a.node_type===M.OBJ_CLUSTER))for(let xt=0;xt<a.items.length;xt++){let Lt=a.items[xt];if(Lt.node_type===M.FOLDER_VPN){let mt=Lt.items.filter(Re=>Re.node_type===M.OPENVPN_ROOT||Re.node_type===M.WIREGUARD_ROOT||Re.node_type===M.IPSEC_ROOT);a.items.splice(xt,1,...mt),xt=xt+mt.length-1}else Lt.node_type!==M.OPENVPN_ROOT&&Lt.node_type!==M.WIREGUARD_ROOT&&Lt.node_type!==M.IPSEC_ROOT&&(a.items.splice(xt,1),xt--)}if(Sd.findIndex(xt=>xt==a.node_type)!=-1&&(a.obj_type=+Fi[a.node_type]),Z7.findIndex(xt=>xt===a.node_type)!=-1&&(a.show_action=!0),m=r.fw_status,g=r.ca_status,y=r.openvpn_status,v=r.openvpn_info,S=r.wireguard_status,I=r.wireguard_info,P=r.ipsec_status,L=r.ipsec_info,a.expanded=this.treeExpandedNodes.has(a.id),a.container=this.options.container,a.containerReadOnly=this.options.containerReadOnly,a.obj_type==O.OBJ_INTERFACE_FIREWALL||a.obj_type==O.OBJ_INTERFACE_HOST){let xt=/(.+)\s+\[(.+)\]$/.exec(a.text),Lt=typeof a.labelName=="string"?a.labelName:"";xt?(a.text=xt[1],a.labelName=xt[2]):a.labelName=Lt||""}if(a.obj_type==O.OBJ_ADDRESS){let xt=/^(.+)\s+\((.+)\)$/.exec(a.text);xt&&a.address&&a.address===xt[2]&&(a.text=xt[1])}if(a._fwcObjName=a.text,a._fwcObjType=a.obj_type,a._fwcObjId=a.id_obj,r.prefix_name!==void 0&&r.prefix_name!==null&&(a._fwcObjName=r.prefix_name+a.text),(a.obj_type==O.OBJ_PREFIX_FOLDER||a.obj_type==O.OBJ_OPENVPN_PREFIX||a.obj_type==O.OBJ_WIREGUARD_PREFIX||a.obj_type==O.OBJ_IPSEC_PREFIX)&&(Te=a.text,fe=r.parent_cert_name),r.parent_cert_name!==void 0&&r.parent_cert_name!==null&&(a._fwcParentConfigName=r.parent_cert_name),(a.obj_type==O.OBJ_OPENVPN_CONFIG_SER||a.obj_type==O.OBJ_WGS_CONFIG_SER||a.obj_type==O.OBJ_ISS_CONFIG_SER)&&(fe=a._fwcObjName),a.container===Ge.C_FIREWALLS||a.container===Ge.C_OBJECTS||a.container===Ge.C_FIREWALLS_CONDENSED?(r.parent_id&&(l=r.parent_id,c=r.parent_name,d=r.parent_type,u=r.fw_master,r.parent_type===O.OBJ_FIREWALL&&(a._fwcFwId=l,a._fwcFwName=c,a.firewall_id=l,a.firewall_name=c),r.parent_type===O.OBJ_CLUSTER&&(a._fwcClusterId=l,a._fwcClusterName=c,a.cluster_id=l,a.cluster_name=c),r.parent_type===O.OBJ_HOST&&(a._fwcHostId=l,a._fwcHostName=c,a.host_id=l,a.host_name=c)),r.openvpn_id&&(a._fwcOpenVPNId=r.openvpn_id),r.wireguard_id&&(a._fwcWireGuardId=r.wireguard_id),r.ipsec_id&&(a._fwcIPSecId=r.ipsec_id),a.fw_status&&a.fw_status.length&&(m=a.fw_status),a.openvpn_status&&a.openvpn_status.length&&(y=a.openvpn_status),a.openvpn_info&&a.openvpn_info.length&&(v=a.openvpn_info),a.wireGuard_status&&a.wireGuard_status.length&&(S=a.wireGuard_status),a.wireguard_info&&a.wireguard_info.length&&(I=a.wireguard_info),a.ipsec_status&&a.ipsec_status.length&&(P=a.ipsec_status),a.ipsec_info&&a.ipsec_info.length&&(L=a.ipsec_info),(a.node_type===M.OBJ_FIREWALL||a.node_type===M.OBJ_CLUSTER||a.node_type===M.OBJ_HOST)&&(l=a.id_obj,c=a.text,d=a.obj_type,a.node_type==M.OBJ_FIREWALL&&(a._fwcFwId=l,a._fwcFwName=c,this.updateFwNodeStatus(a,m)),a.node_type==M.OBJ_CLUSTER&&this.updateClusterNodeStatus(a,m)),a.obj_type===O.OBJ_OPENVPN_CONFIG_CLI||a.obj_type===O.OBJ_OPENVPN_CONFIG_SER?this.updateOPVNStatus(a,y):a.obj_type===O.OBJ_WGC_CONFIG_CLI||a.obj_type===O.OBJ_WGS_CONFIG_SER?this.updateWireGuardStatus(a,S):(a.obj_type===O.OBJ_ISC_CONFIG_CLI||a.obj_type===O.OBJ_ISS_CONFIG_SER)&&this.updateIPSecStatus(a,P),a.obj_type===O.OBJ_OPENVPN_CONFIG_CLI?this.updateOPVNInfo(a,v):a.obj_type===O.OBJ_WGC_CONFIG_CLI?this.updateWireGuardInfo(a,I):a.obj_type===O.OBJ_ISC_CONFIG_CLI&&this.updateIPSecInfo(a,L),(a.node_type===M.FOLDER_INTERFACES||a.node_type===M.FOLDER_CLUSTER_FW||a.node_type===M.FOLDER_ROUTING)&&a._fwcClusterId&&(u=a.id_obj),a.parent_id=l,a.parent_name=c,a.parent_type=d,u&&(a._fwcFwId=u),a.node_type===M.OPENVPN_CONFIG_SER?(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),K=a.id_obj):a.node_type===M.WIREGUARD_CONFIG_SER?(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),le=a.id_obj):a.node_type===M.IPSEC_CONFIG_SER&&(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),me=a.id_obj),a.node_type===M.OPENVPN_PREFIX?(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),K=a._fwcOpenVPNId):a.node_type===M.WIREGUARD_PREFIX?(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),le=a._fwcWireGuardId):a.node_type===M.IPSEC_PREFIX&&(a.items=a.items.sort((xt,Lt)=>xt.text>Lt.text?1:-1),me=a._fwcIPSecId)):a.container===Ge.C_CA&&(a.ca_status&&a.ca_status.length&&(g=a.ca_status),a.obj_type==O.OBJ_CA&&(F=a.id_obj),a.obj_type==O.OBJ_PREFIX_FOLDER&&(F=r.ca_id),r.ca_id&&(a._fwcParentCA=r.ca_id),a.obj_type==O.OBJ_CA&&this.updateCAStatus(a,g)),a.expanded=!!a.expanded,a.allowDrag=this.checkItemDraggable(a),Sd.findIndex(xt=>a.node_type==xt)!=-1&&(a._fwcPolicyFwId=a.id_obj),a.items&&a.items.length){let xt={fw_status:m,parent_id:l,parent_name:c,parent_type:d,fw_master:u,ca_status:g,openvpn_status:y,openvpn_info:v,wireguard_status:S,wireguard_info:I,ipsec_status:P,ipsec_info:L,ca_id:F,openvpn_id:K,wireguard_id:le,ipsec_id:me,prefix_name:Te,parent_cert_name:fe,vyosCompiler:rt,disableSubtree:Rt};this.treePrepare(a.items,xt)}}this.isKeepalivedPolicy&&t.filter(a=>a.parent_type===O.OBJ_FIREWALL&&a.cluster_id&&a.node_type===M.OBJ_FIREWALL).forEach(a=>{a.allowDrag=!0})}checkItemDraggable(t){let o;if(t)return t._fwcObjId===null||t._fwcObjType===null||X7.findIndex(r=>t.node_type==r)!=-1||t.obj_type===O.OBJ_FIREWALL&&t._fwcClusterId!==null&&t._fwcClusterId!==void 0?o=!1:o=!0,o}updateFwNodeStatus(t,o){let r,s;if(Array.isArray(o))for(let a=0;a<o.length;a++){let l=o[a];l&&(l.id==t.id_obj&&(r=l),t._fwcClusterId!==null&&t._fwcClusterId!==void 0&&l.cluster==t._fwcClusterId&&(s={clusterId:l.cluster,status_compiled:0,status_installed:l.status&2?1:0}))}r&&(t.status_compiled=r.status&1?1:0,t.status_installed=r.status&2?1:0),s&&t._fwcClusterId!==null&&t._fwcClusterId!==void 0&&t._fwcClusterId==s.clusterId&&(t.status_compiled=0,t.status_installed=s.status_installed)}updateClusterNodeStatus(t,o){let r,s,a=0;if(t){for(let l=0;l<this.treeClusters.length;l++)if(this.treeClusters[l].clusterId==t.id_obj){s=this.treeClusters[l];break}if(Array.isArray(o))for(let l=0;l<o.length;l++){let c=o[l];c&&c.cluster==t.id_obj&&(r=c,s&&s.clusterId==r.cluster&&(s.fwMasterId==r.id&&(t.status_compiled=r.status&1?1:0),r.status&2&&(a=1)))}t.status_installed=a}}updateCAStatus(t,o){let r;if(t){if(Array.isArray(o)){for(let s=0;s<o.length;s++)if(o[s]&&t.id_obj==o[s].id&&o[s].status){r=1;break}}t._fwcCaStatus=r}}updateOPVNInfo(t,o){if(!(!t||!Array.isArray(o)))for(let r=0;r<o.length;r++)o[r]&&t.id_obj==o[r].openvpn&&(t.openvpn_disabled=!!o[r].openvpn_disabled)}updateOPVNStatus(t,o){let r;if(!(!t||!Array.isArray(o))){for(let s=0;s<o.length;s++)if(o[s]&&t.id_obj==o[s].id&&o[s].status){r=1;break}t._fwcOpenvpnStatus=r}}updateWireGuardInfo(t,o){if(!(!t||!Array.isArray(o)))for(let r=0;r<o.length;r++)o[r]&&t.id_obj==o[r].wireguard&&(t.wireguard_disabled=!!o[r].wireguard_disabled)}updateWireGuardStatus(t,o){let r;if(!(!t||!Array.isArray(o))){for(let s=0;s<o.length;s++)if(o[s]&&t.id_obj==o[s].id&&o[s].status){r=1;break}t._fwcWireGuardStatus=r}}updateIPSecInfo(t,o){if(!(!t||!Array.isArray(o)))for(let r=0;r<o.length;r++)o[r]&&t.id_obj==o[r].ipsec&&(t.ipsec_disabled=!!o[r].ipsec_disabled)}updateIPSecStatus(t,o){let r;if(!(!t||!Array.isArray(o))){for(let s=0;s<o.length;s++)if(o[s]&&t.id_obj==o[s].id&&o[s].status){r=1;break}t._fwcIPSecStatus=r}}treeFindItem(t,o,r,s,a){return V(this,null,function*(){let l=this.findItemByIdType(this.items,t,o,s,a);l&&(r&&this.parentFwcTreePanelComponent&&!this.parentFwcTreePanelComponent.expanded&&(yield this.parentFwcTreePanelComponent.togglePanel()),this.treeview.nativeElement.clearSelection(),this.treeview.nativeElement.scrollTo(l),this.treeview.nativeElement.selectItems([l]),this.treeview.nativeElement.updateLayout(),this.rememberSelectedTreeItem(l),this.itemSelectedService.setSelectedTreeNode(l))})}treeFindPolicyItem(t,o,r,s){let a=null;for(let l=0;l<t.length&&!a;l++){let c=t[l];r!==gr.ROUTING_TABLE&&c._fwcPolicyFwId==o&&c._fwcObjType==r||c.node_type===M.ROUTING_TABLE&&c._fwcFwId===o&&c._fwcObjId===s?a=c:r===Fi[M.DHCP]||r===Fi[M.DHCP_FIXED_IP]||r===Fi[M.KEEPALIVED]||r===Fi[M.HAPROXY]?(s=void 0,a=this.treeFindPolicyItem(c.items,o,r,s)):c.items&&c.items.length&&(a=this.treeFindPolicyItem(c.items,o,r,s))}return a}findItemsByIdType(t,o,r,s,a){let l=[],c;for(let d=0;d<t.length;d++)if(t[d]._fwcObjId==o&&t[d]._fwcObjType==r&&t[d].node_type!=M.FOLDER_INTERFACES)if(c=t[d],s&&c.items){let u=this.findItemsByIdType(c.items,s,a);u&&u.length&&(l=l.concat(u))}else l=l.concat(c);else t[d].items&&t[d].items.length&&(l=l.concat(this.findItemsByIdType(t[d].items,o,r,s,a)));return l}findItemByIdType(t,o,r,s,a){let l=null;for(let c=0;c<t.length&&!l;c++)if(t[c]._fwcObjId==o&&t[c]._fwcObjType==r){if(l=t[c],s&&l.items){let d=this.findItemByIdType(l.items,s,a);d&&(l=d)}}else t[c].items&&t[c].items.length&&(l=this.findItemByIdType(t[c].items,o,r,s,a));return l}treeFindNode(t,o,r){let s;return t==this.options.container&&(s=this.findItemByIdType(this.items,o,r)),s}treeModifyItem(t){if(this.items&&this.items.length&&t.id!==null&&t.id!==void 0&&t.type!==null&&t.type!==void 0||t.node_id!==null&&t.node_id!==void 0){let o=[];if(t.node_id){let r=this.treeview.nativeElement.findItemById(t.node_id);r&&o.push(r)}else o=this.findItemsByIdType(this.items,t.id,+t.type);if(o&&o.length)for(let r of o){let s=""+r.type,a=r.id;for(let l of Object.keys(r))t[l]!==void 0&&(r[l]=t[l]);r.type=s,r.id=a,t.address&&t.if_id?(r.if_id=t.if_id,r.address=t.address,r.text=t.name,r._fwcObjName=`${t.name} (${t.address})`,r.text=r._fwcObjName):r._fwcObjName=r.text=t.name,this.treeview.nativeElement.updateLayout()}}}treeNewItem(t,o){if(t.container==this.options.container)if(o){let r=this.treeview.nativeElement.findItemById(t._fwcObjTreeParentId);if(r){let s=r.items?r.items:[];t.items=[],this.treeview.nativeElement.insertItemAt(t,s.length,r),this.treeview.nativeElement.expand(r),this.treeview.nativeElement.updateLayout()}}else this.treeLoad(t,o);else this.options.container==Ge.C_FIREWALLS&&t.fw_status&&t.fw_status.length&&this.treeLoad(t,o)}treeDeleteItem(t,o){if(t.container==this.options.container){let r=t._fwcObjTreeId??t.id,s=r!=null?this.treeview?.nativeElement?.findItemById(r):void 0;this.removeNodeAndDescendantsFromExpandedState(s??t),this.persistTreeOpenNodesState(),o?(this.treeLoad(t,!0),setTimeout(()=>{let a=this.treeview.nativeElement.findItemById(t._fwcObjTreeParentId);a&&(this.treeview.nativeElement.selectItems([a]),this.rememberSelectedTreeItem(a),this.itemSelectedService.setSelectedTreeNode(a))},500)):this.treeLoad(t,o)}else this.options.container==Ge.C_FIREWALLS&&t.fw_status&&t.fw_status.length&&this.treeLoad(t,!0)}treeFilter(){this._searchString&&this._searchString.length?(this.searchOptions.conditions.value=this._searchString,this.treeview.nativeElement.filter(this.searchOptions)):this.treeview.nativeElement.filter()}treeFilterByOptions(){let t,o,r=a=>Number(a.split(".").map(l=>("000"+l).substr(-3)).join("")),s={callback:(a,l)=>{let c=!1,d=this._treeSearchOptions.searchFields,u=[l];for(;u&&u.length&&!c;){let m=u.shift();if(d.find(g=>g===Fw.OBJECT_NAME)&&m.text&&(c=m.text.toLowerCase().includes(this._treeSearchOptions.keyword.toLowerCase())),!c&&d.find(g=>g===Fw.TCP_UDP_PORT)&&(m.source_port_start||m.source_port_end||m.destination_port_start||m.destination_port_end)){let g=parseInt(this._treeSearchOptions.keyword);g!=null&&(c=g>=m.source_port_start&&g<=m.source_port_end||g>=m.destination_port_start&&g<=m.destination_port_end)}if(!c&&d.find(g=>g===Fw.IP_ADDRESS)&&(m.address||m.range_start||m.range_end)&&(m.address?c=m.address.includes(this._treeSearchOptions.keyword):m.range_start&&m.range_end&&(c=gte.isValid(this._treeSearchOptions.keyword)&&r(this._treeSearchOptions.keyword)>=r(m.range_start)&&r(this._treeSearchOptions.keyword)<=r(m.range_end))),c){let g=this.treeview.nativeElement.getItemParent(m);for(;g;)g.expanded=!0,g=this.treeview.nativeElement.getItemParent(g)}Array.isArray(m.items)&&u.push(...m.items)}return c}};if(this.treeview.nativeElement.suspendLayout(),this._treeSearchOptions&&this._treeSearchOptions.keyword)this.treeview.nativeElement.filter(s);else if(this.treeview.nativeElement.filter(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length){this.runWithTreeExpansionPersistencePaused(()=>{this.treeview.nativeElement.collapse()});let a=this.treeview.nativeElement.getFullList();for(let l=0;l<a.length;l++){let c=a[l];c.expanded=l===0||this.treeExpandedNodes.has(c.id)}}this.treeview.nativeElement.resumeLayout(),Array.isArray(this.treeview.nativeElement.items)&&this.treeview.nativeElement.items.length&&this.treeview.nativeElement.scrollTo(this.treeview.nativeElement.items[0])}treeUpdateFwStatus(t,o){let r=null;for(let s=0;s<t.length;s++){let a=t[s];a.node_type==M.OBJ_FIREWALL&&this.updateFwNodeStatus(a,o),a.node_type==M.OBJ_CLUSTER&&this.updateClusterNodeStatus(a,o),a.items&&a.items.length&&(r=this.treeUpdateFwStatus(a.items,o))}return r}onContextMenuLoad(t){let o=this.treeview.nativeElement.selectedItem;if(o?._fwcDisabledForVyOS){t.detail.cancel=!0;return}if(!o||this.options.container==Ge.C_FIREWALLS_CONDENSED&&o.node_type!=M.OPENVPN_CONFIG_SER&&o.node_type!=M.OPENVPN_CONFIG_CLI&&o.node_type!=M.OPENVPN_PREFIX&&o.node_type!=M.WIREGUARD_CONFIG_SER&&o.node_type!=M.WIREGUARD_CONFIG_CLI&&o.node_type!=M.WIREGUARD_PREFIX&&o.node_type!=M.IPSEC_CONFIG_SER&&o.node_type!=M.IPSEC_CONFIG_CLI&&o.node_type!=M.IPSEC_PREFIX||o.node_type==M.OBJ_FIREWALL&&o._fwcClusterId){t.detail.cancel=!0;return}let r=o._fwcObjId!==null&&o._fwcObjId!==void 0,s=o.fwcloud!==null&&o.fwcloud!==void 0,a,l,c=o.items.length,d=!o._fwcOpenvpnStatus,u=!o._fwcWireGuardStatus,m=!o._fwcIPSecStatus,g=o.obj_type==O.OBJ_OPENVPN_CONFIG_CLI&&o.openvpn_disabled&&d||o.obj_type==O.OBJ_WGC_CONFIG_CLI&&o.wireguard_disabled&&u||o.obj_type==O.OBJ_ISC_CONFIG_CLI&&o.ipsec_disabled&&m;l=this.treeview.nativeElement.getItemParent(o),a=!!(l&&(l.obj_type==O.OBJ_GROUP||l.obj_type==O.OBJ_SERVICE_GROUP)&&l.id_obj);let y=this.treeContextMenu[o.node_type],v=this.fwcUserService.getActualFwcUser(),S=[U.SEPARATOR,U.FOLDER_EXPAND,U.POLICY_PANEL_SHOW,U.POLICY_PANEL_DOWNLOAD,U.FOLDER_COLLAPSE,U.CA_VIEW,U.CA_CRT_VIEW,U.TREE_RELOAD,U.WHERE_USED,U.SYSTEM_SHOW_CONFIG,U.SYSTEM_DOWNLOAD_CONFIG,U.VPN_CONFIG_STATUS,U.VPN_CONFIG_HISTORIC,U.VPN_CONFIG_FILE];y&&y.items?y.items.forEach(I=>V(this,null,function*(){I.type!=="separator"&&(I.id==U.FOLDER_EXPAND?I.visible=!!(!o.expanded&&c):I.id==U.FOLDER_COLLAPSE?I.visible=!!(o.expanded&&c):I.id==U.VPN_CONFIG_BLOCK&&g||I.id==U.VPN_CONFIG_UNBLOCK&&!g||I.userObject&&!s||I.objectInGroup&&!a||I.objectInGroup===!1&&a||I.clusterNode&&!o._fwcClusterId||I.clusterNode===!1&&o._fwcClusterId||I.onlyOnNodeType&&I.onlyOnNodeType!=o.node_type||I.onlyIfConfigInstalled&&!d||I.onlyIfConfigInstalled&&!u||I.onlyIfConfigInstalled&&!m?I.visible=!1:I.visible=!!(I.finalObject&&r||!I.finalObject&&!r),I.disableOnCACreation&&o._fwcCaStatus==1?I.enabled=!1:I.enabled=!0,v.lockInfo.result||(I.enabled=S.includes(I.id)))})):t.detail.cancel=!0}onContextMenuHandler(t,o){return V(this,null,function*(){if(t.detail.item){let r=this.treeview.nativeElement.selectedItem;if(r?._fwcDisabledForVyOS)return;if(o&&(t.detail.item.id==U.TREE_RELOAD||t.detail.item.id==U.TREE_REPAIR)){if(this.parentFwcTreePanelComponent.panel_type!=o)return}else{if(!r)return;r._fwcUserId=this.fwcUser.user_id}switch(t.detail.item.id){case U.WHERE_USED:let s=Object.assign({},r);s._fwcUserId=this.fwcUser.user_id,s._fwcCloud=this.fwcUser.selectedFwCloud,s.whereUsedAction=!0,this.itemSelectedService.setItem(s);break;case U.FOLDER_EXPAND:this.treeview.nativeElement.expand(r);break;case U.FOLDER_COLLAPSE:this.treeview.nativeElement.collapse(r);break;case U.TREE_RELOAD:this.treeLoad(),this.cd.detectChanges();break;case U.TREE_REPAIR:{let vt=o||r.node_type,ut={tree_name:this.translate.instant("NODE_TYPES."+vt).toLowerCase()},it=lr(),ri={channelId:it,headerIcon:"fa fa-3x fa-wrench fwcBlue",textHeader:this.translate.instant("TREE_REPAIR_PANEL.HEADER",ut),textMessage:this.translate.instant("TREE_REPAIR_PANEL.TEXT"),apiCall:this.fwcObjectTreeService.repairTree.bind(this.fwcObjectTreeService),apiParams:[vt,this.fwcUserService.getActualFwSelectedCloud(),it],onClose:en=>{en&&!en.error?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_OK")}),this.treeLoad()):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("TREE_REPAIR_PANEL.REPAIR_ERRORS")})}},nn=this.utilService.createDynamicComponentRef(Pr),Ji=nn.instance;Ji.setDynamicComponentRef(nn),this.communicationSubscription=Ji.socketEventEmitter.subscribe(en=>{en=="connected"&&this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:ri}),this.communicationSubscription.unsubscribe()}),Ji.checkConnection();break}case U.FIREWALL_IMPORT:{let vt=this.utilService.createDynamicComponentRef(fte),ut=vt.instance;ut.setDynamicComponentRef(vt),ut.displayDialog=!0;break}case U.NGFW:r.ngfw=!0,this.itemSelectedService.setItem(r);break;case U.PLUGINS:r.plugins=!0,this.itemSelectedService.setItem(r);break;case U.FIREWALL_EDIT:r.ngfw=!1,this.itemSelectedService.setItem(r);break;case U.NODE_EDIT:this.itemSelectedService.setItem(r);break;case U.POLICY_LOAD:this.actionLoadPolicy(r);break;case U.FIREWALL_NEW:let a={id_obj:null,obj_type:O.OBJ_FIREWALL,_fwcObjType:O.OBJ_FIREWALL,node_id:r.id};this.itemSelectedService.setItem(a);break;case U.FIREWALL_DELETE:let l=Object.assign({},r);l.deleteAction=!0,this.itemSelectedService.setItem(l);break;case U.NODE_DELETE:let c=Object.assign({},r);c.deleteAction=!0,this.itemSelectedService.setItem(c);break;case U.FIREWALL_COMPILE:case U.FIREWALL_INSTALL:let d;d={compileAction:t.detail.item.id===U.FIREWALL_INSTALL?Er.COMP_INSTALL:Er.COMP_COMPILE,compileWhat:r._fwcObjType===O.OBJ_FIREWALL?Er.COMP_FIREWALL:Er.COMP_CLUSTER,compileId:r._fwcObjId,compileType:r._fwcObjType},this.itemSelectedService.setCloudToCompile(d);break;case U.POLICY_PANEL_SHOW:let u=this.utilService.createDynamicComponentRef(w3),m=u.instance;m.setDynamicComponentRef(u),m.show(r._fwcObjId);break;case U.POLICY_PANEL_DOWNLOAD:let g=this.utilService.createDynamicComponentRef(w3),y=g.instance;y.setDynamicComponentRef(g),y.downloadPolicyScript(r._fwcObjId);break;case U.FIREWALL_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case U.FIREWALL_INSTALL_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Er.COMP_INSTALL,compileWhat:Er.COMP_CLOUD,compileId:this.fwcUserService.getActualFwSelectedCloud()});break;case U.FIREWALL_CLONE:let v={header:this.translate.instant("TREE.FW_CLONE.HEADER",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.FW_CLONE.TEXT"),formControls:[{name:"firewall",type:"hidden",value:r._fwcObjId},{name:"type",type:"hidden",value:r._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:r.pid},{name:"name",label:this.translate.instant("TREE.FW_CLONE.NAME"),type:"text",required:!0,value:`${r._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.FW_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(v);break;case U.FIREWALL_TO_CLUSTER:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_1",{name:r._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let vt={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:r._fwcObjId,node_id:r.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertFwToCluster.bind(this.fwcFirewallService),vt).then(ut=>{let it={},ri=ut.data.insertId;it.id=it.id_obj=it._fwcObjId=ri,it._fwcObjType=O.OBJ_CLUSTER,it._fwcTreeAction=Ii.NEW_ITEM,it.container=Ge.C_FIREWALLS,this.treeNewItem(it);let nn={_fwcFwId:null},Ji=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(nn),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_FW_TO_CLUSTER_OK_1",{name:r._fwcObjName})})}).catch(ut=>{ut.error.fwcErr==8001||ut.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+ut.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(ut)})})}});break;case U.FIREWALL_IPTABLES_IMPORT:case U.FIREWALL_IPTABLES_EXPORT:let S=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_IMPORT"),I={operation:da.IMPORT,objId:r._fwcObjId,objType:r._fwcObjType,objName:r._fwcObjName};t.detail.item.id===U.FIREWALL_IPTABLES_EXPORT&&(I.operation=da.EXPORT,S=this.translate.instant("PANELS.IPTABLES_SAVE.TITLE_EXPORT")),this.dialogService.open(MO,{showHeader:!0,header:S,closable:!1,closeOnEscape:!1,data:I,styleClass:"custom-dialog"}).onClose.pipe(Nt(()=>this.alive)).subscribe(vt=>{});break;case U.FOLDER_NEW:let L={header:this.translate.instant("TREE.FOLDER.HEADER_NEW"),helpText:this.translate.instant("TREE.FOLDER.TEXT_NEW"),formControls:[{name:"id_parent",type:"hidden",value:r.id},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_name",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(L);break;case U.FOLDER_DELETE:if(r.node_type==M.FOLDER)if(r.items&&r.items.length)this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_FOLDER_NOT_EMPTY_ERROR")});else{let vt={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),id:r.id};this.utilService.fwcAPICall(this.fwcObjectTreeService.deleteFolder.bind(this.fwcObjectTreeService),vt).then(ut=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DELETE")}),this.treeLoad()}).catch(ut=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(ut)})})}break;case U.FOLDER_RENAME:let F={header:this.translate.instant("TREE.FOLDER.HEADER_RENAME",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.FOLDER.TEXT_RENAME"),formControls:[{name:"id",type:"hidden",value:r.id},{name:"old_name",type:"hidden",value:r._fwcObjName},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"folder_newname",label:this.translate.instant("TREE.FOLDER.NAME"),type:"text",required:!0,value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(F);break;case U.CLUSTER_NEW:let K={id_obj:null,obj_type:O.OBJ_CLUSTER,_fwcObjType:O.OBJ_CLUSTER,node_id:r.id};this.itemSelectedService.setItem(K);break;case U.NGFW:r.ngfw=!0,this.itemSelectedService.setItem(r);break;case U.PLUGINS:r.plugins=!0,this.itemSelectedService.setItem(r);break;case U.CLUSTER_EDIT:r.ngfw=!1,this.itemSelectedService.setItem(r);break;case U.CLUSTER_DELETE:let le=Object.assign({},r);le.deleteAction=!0,this.itemSelectedService.setItem(le);break;case U.CLUSTER_COMPILE_ALL:this.itemSelectedService.setCloudToCompile({compileAction:Er.COMP_COMPILE,compileWhat:Er.COMP_CLUSTERS_ALL,compileId:void 0});break;case U.CLUSTER_CLONE:let me={header:this.translate.instant("TREE.CL_CLONE.HEADER",{name:r._fwcObjName}),helpText:this.translate.instant("TREE.CL_CLONE.TEXT"),formControls:[{name:"cluster",type:"hidden",value:r._fwcObjId},{name:"type",type:"hidden",value:r._fwcObjType},{name:"fwcloud",type:"hidden",value:this.fwcUserService.getActualFwSelectedCloud()},{name:"node_id",type:"hidden",value:r.pid},{name:"name",label:this.translate.instant("TREE.CL_CLONE.NAME"),type:"text",required:!0,value:`${r._fwcObjName}_CLONE`},{name:"comment",label:this.translate.instant("TREE.CL_CLONE.COMMENT"),type:"textarea",value:""}],onAccept:this.processInputDialogData.bind(this)};this.inputDataService.setInputData(me);break;case U.CLUSTER_TO_FIREWALL:this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_CONFIRM_OP"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_1",{name:r._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let vt={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),cluster:r._fwcObjId,node_id:r.pid};this.utilService.fwcAPICall(this.fwcFirewallService.convertClusterToFw.bind(this.fwcFirewallService),vt).then(ut=>{let it={},ri=ut.data.insertId;it.id=it.id_obj=it._fwcObjId=ri,it._fwcObjType=O.OBJ_FIREWALL,it._fwcTreeAction=Ii.NEW_ITEM,it.container=Ge.C_FIREWALLS,this.treeNewItem(it);let nn={_fwcFwId:null},Ji=this.fwcPolicyService.getActualSelectedPolicy();this.fwcPolicyService.setSelectedPolicy(nn),this.itemSelectedService.hideObjectPanel(),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_CLUSTER_TO_FW_OK_1",{name:r._fwcObjName})})}).catch(ut=>{ut.error.fwcErr==8001||ut.error.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+ut.error.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),detail:this.fwcErrorPipe.transform(ut)})})}});break;case U.NEW_INTERFACE:if(r._fwcFwId&&r._fwcObjType==O.OBJ_INTERFACE_FIREWALL||r._fwcClusterId&&r._fwcObjType==O.OBJ_INTERFACE_FIREWALL||r._fwcObjId&&!r._fwcFwId&&r._fwcObjType==O.OBJ_HOST){let vt,ut;r._fwcObjType==O.OBJ_INTERFACE_FIREWALL?ut=O.OBJ_INTERFACE_FIREWALL:ut=O.OBJ_INTERFACE_HOST;let it=this.fwcChildTypes.data.filter(function(Tn){return Tn.id_node==r.node_type}),ri,nn=r._fwcObjId!==null&&r._fwcObjId!==void 0;if(it.forEach(Tn=>{(Tn.is_object&&nn||!Tn.is_object&&!nn)&&(ri=Tn)}),!ri){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});return}let Ji,en,yn;r.parent_type===O.OBJ_FIREWALL&&(Ji=r.parent_id),r.parent_type===O.OBJ_CLUSTER&&(Ji=r._fwcFwId,en=r.parent_id),r.parent_type===O.OBJ_HOST&&(yn=r.parent_id);let Yn;en&&Ji?Yn="CLUSTER "+en+", MASTER FIREWALL: "+Ji:yn?Yn="HOST "+yn:Yn="FIREWALL "+Ji,vt={node_parent:r.id,node_order:1,node_type:ri.node_type,host:yn,firewall:Ji,cluster:en,interface_type:ut,_fwcObjId:void 0,_fwcObjType:ut,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,container:this.options.container,containerReadOnly:!0,parent_id:r.parent_id,parent_name:r.parent_name,parent_type:r.parent_type},this.itemSelectedService.setItem(vt)}else this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_IF_ERROR")});break;case U.NEW_ADDRESS:case U.NEW_GROUP:case U.NEW_NETWORK:case U.NEW_IP_RANGE:case U.NEW_HOST:case U.NEW_IP_SERVICE:case U.NEW_ICMP_SERVICE:case U.NEW_TCP_SERVICE:case U.NEW_UDP_SERVICE:case U.NEW_SERVICE_GROUP:case U.NEW_DNS:let fe,Te="",He=this.fwcChildTypes.data.filter(vt=>vt.id_node==r.node_type),Be,rt=r._fwcObjId!==null&&r._fwcObjId!==void 0;if(He.forEach(vt=>{(vt.is_object&&rt||!vt.is_object&&!rt)&&(Be=vt)}),!Be){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_ADD_OBJ_ERROR")});return}let Rt=r._fwcObjType,xt,Lt;if(t.detail.item.id==U.NEW_ADDRESS&&(r._fwcObjType==O.OBJ_INTERFACE_FIREWALL||r._fwcObjType==O.OBJ_INTERFACE_HOST)){Rt=O.OBJ_ADDRESS,xt=r._fwcObjId,Lt=r._fwcObjType;let vt=-1,ut=r._fwcFwName,it=r._fwcObjName,ri=`^${it}$`,nn=new RegExp(ri,"g"),Ji=`^${it}:(\\d+)$`,en=new RegExp(Ji,"g");if(r._fwcClusterName&&r._fwcClusterName.length&&(ut=r._fwcClusterName),r._fwcHostName&&r._fwcHostName.length&&(ut=r._fwcHostName),r.items&&r.items.constructor===Array)for(let yn=0;yn<r.items.length;yn++){let Yn=r.items[yn]._fwcObjName,Tn,hs;Tn=nn.exec(Yn),Tn&&vt==-1&&(vt=0),Tn=en.exec(Yn),Tn&&(hs=+Tn[1],vt=hs+1)}vt==-1?Te=`${it}`:Te=`${it}:${vt}`}let mt;switch(t.detail.item.id){case U.NEW_TCP_SERVICE:mt=6;break;case U.NEW_ICMP_SERVICE:mt=1;break;case U.NEW_UDP_SERVICE:mt=17;break}fe={_fwcObjId:void 0,_fwcObjType:Rt,_fwcObjName:Te,fwcloud:this.fwcUser.selectedFwCloud,_fwcUserId:this.fwcUser.user_id,interface:xt,_fwcParentInterfaceType:Lt,_fwcParentObjName:r._fwcObjName,container:this.options.container,containerReadOnly:!0,node_parent:r.id,node_order:1,node_type:Be.node_type,protocol:mt},this.itemSelectedService.setItem(fe);break;case U.DUPLICATE:this.onItemDblClickEvent(void 0,!0);break;case U.EDIT:this.onItemDblClickEvent(void 0);break;case U.DELETE:if(r.fwcloud==null||r.fwcloud==null){this.confirmationService.confirm({header:"Error",icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant("TREE.MSG_DELETE_OBJ_ERROR_1",{name:r._fwcObjName})});return}let Re=Object.assign({},r);Re.deleteAction=!0,this.itemSelectedService.setItem(Re);break;case U.DELETE_FROM_GROUP:let Oi=this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_1",{name:r._fwcObjName});this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:Oi,rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let vt=this.treeview.nativeElement.getItemParent(r),ut={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:vt.id_obj,ipobj:r._fwcObjId,obj_type:r._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),ut).then(it=>{let ri=Object.assign({},r);it.data&&it.data.length&&(ri.fw_status=it.data),ri._fwcObjTreeParentId=ri.pid,this.treeDeleteItem(ri,!0);let nn=this.itemSelectedService.getActualItem();this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_SUCCESS")})}).catch(it=>{it.error&&(it.error.restrictions?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("TREE.RESTR_ERROR.HEADER"),detail:this.translate.instant("TREE.RESTR_ERROR.TEXT",{name:r._fwcObjName})}):it.error.fwcErr==5001?setTimeout(()=>{this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:r._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})},500):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(it)}))})}});break;case U.CA_NEW:case U.CA_CRT_NEW:let Li={_fwcObjId:void 0,container:this.options.container,node_id:r.id,node_type:r.node_type,obj_type:O.OBJ_CA};if(t.detail.item.id==U.CA_CRT_NEW){if(Li.type=f_.client,Li.obj_type=O.OBJ_CERT_CLI,r.obj_type==O.OBJ_CA)Li.ca=r.id_obj,Li.ca_name=r.text;else if(r.obj_type==O.OBJ_PREFIX_FOLDER){let vt=this.treeview.nativeElement.getItemParent(r);Li.ca=vt.id_obj,Li.ca_name=vt.text,Li.folder_prefix=r.text}}this.itemSelectedService.setItem(Li);break;case U.CA_VIEW:case U.CA_CRT_VIEW:r.containerReadOnly=!0,this.itemSelectedService.setItem(r);break;case U.CA_EDIT:case U.CA_CRT_EDIT:r.containerReadOnly=!1,this.itemSelectedService.setItem(r);break;case U.CA_DELETE:case U.CA_CRT_DELETE:let Co,Lo,bn,Mo={fwcloud:this.fwcUserService.getActualFwSelectedCloud()};t.detail.item.id==U.CA_DELETE?(Lo=this.fwcVpnService.deleteCA.bind(this.fwcVpnService),Co=this.fwcVpnService.checkCARestrictions.bind(this.fwcVpnService),bn=this.translate.instant("TREE.VPN.CA_DELETE_CONF",{ca_name:r.text}),Mo.ca=r.id_obj):(Lo=this.fwcVpnService.deleteCertificate.bind(this.fwcVpnService),Co=this.fwcVpnService.checkCertificateRestrictions.bind(this.fwcVpnService),bn=this.translate.instant("TREE.VPN.CERT_DELETE_CONF",{cert_name:r.text}),Mo.crt=r.id_obj),Co(Mo).subscribe(vt=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,message:bn,accept:()=>{this.utilService.fwcAPICall(Lo,Mo).then(ut=>{let it=Object.assign({},r);it._fwcTreeAction=Ii.DELETE_ITEM,this.treeDeleteItem(it),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("TREE.VPN.DELETE_OK")}),this.fwcUserService.setConfirmationToken(void 0)}).catch(ut=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(ut)})})},reject:()=>{}})},vt=>{if(vt.error&&vt.error.restrictions){let ut=vt.error.restrictions,it,ri;ut&&(ut.caHasCertificates?(it=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),ri=this.translate.instant("TREE.VPN.CA_DELETE_RESTR_MSG",{ca_name:r.text})):ut.crtUsedInOpenvpn?(it=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),ri=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:r.text})):ut.crtUsedInWireguard?(it=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR"),ri=this.translate.instant("TREE.VPN.CERT_DELETE_RESTR_MSG",{cert_name:r.text})):ut.caHasPrefixes&&(it=this.translate.instant("TREE.VPN.CA_DELETE_RESTR"),ri=this.translate.instant("TREE.VPN.CA_DELETE_PREFIXES_MSG",{ca_name:r.text}))),this.confirmationService.confirm({header:it,icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:ri})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(vt)})});break;case U.CA_CRT_NEW_PREFIX:case U.VPN_CONFIG_NEW_PREFIX:let un=Object.assign({},r);un._fwcObjType=un.obj_type=r._fwcObjType==O.OBJ_OPENVPN_CONFIG_SER?O.OBJ_OPENVPN_PREFIX:r._fwcObjType===O.OBJ_WGS_CONFIG_SER?O.OBJ_WIREGUARD_PREFIX:r._fwcObjType===O.OBJ_ISS_CONFIG_SER?O.OBJ_IPSEC_PREFIX:O.OBJ_PREFIX_FOLDER,un.newPrefixAction=!0,this.itemSelectedService.setItem(un);break;case U.CA_CRT_EDIT_PREFIX:case U.CA_CRT_DELETE_PREFIX:case U.VPN_CONFIG_EDIT_PREFIX:case U.VPN_CONFIG_DELETE_PREFIX:let xn=Object.assign({},r);xn.editPrefixAction=t.detail.item.id==U.CA_CRT_EDIT_PREFIX||t.detail.item.id==U.VPN_CONFIG_EDIT_PREFIX,xn.deletePrefixFolderAction=t.detail.item.id==U.CA_CRT_DELETE_PREFIX,xn.deleteAction=t.detail.item.id==U.VPN_CONFIG_DELETE_PREFIX,this.itemSelectedService.setItem(xn);break;case U.VPN_CONFIG_FILE:case U.VPN_CONFIG_DELETE:case U.VPN_CONFIG_INSTALL:case U.VPN_CONFIG_SYNC_CCD:case U.VPN_CONFIG_SYNC_PENDING_CCD:case U.VPN_CONFIG_UNINSTALL:case U.VPN_CONFIG_BLOCK:case U.VPN_CONFIG_UNBLOCK:case U.VPN_CONFIG_SYSTEMCTL:let Ai=Object.assign({},r),ru=vt=>{let ut=!0,it=[];for(it.push(...r.items);it.length;){let ri=it.pop();if(ri._fwcObjType==O.OBJ_OPENVPN_CONFIG_CLI||ri._fwcObjType==O.OBJ_WGC_CONFIG_CLI||ri._fwcObjType==O.OBJ_ISC_CONFIG_CLI){this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_NOT_POSSIBLE"),icon:"pi pi-exclamation-triangle fwcRed iconBig",message:vt,rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}),ut=!1;break}else ri.items&&ri.items.length&&it.push(...ri.items)}return ut};t.detail.item.id==U.VPN_CONFIG_UNINSTALL?ru(this.translate.instant("TREE.VPN.CONF_UNINSTALL.RESTR",{name:r._fwcObjName}))&&(Ai.uninstallAction=!0,this.itemSelectedService.setItem(Ai)):(Ai.deleteAction=t.detail.item.id==U.VPN_CONFIG_DELETE,Ai.configFileAction=t.detail.item.id==U.VPN_CONFIG_FILE,Ai.installAction=t.detail.item.id==U.VPN_CONFIG_INSTALL,Ai.syncCCDAction=t.detail.item.id==U.VPN_CONFIG_SYNC_CCD,Ai.syncPendingCCDAction=t.detail.item.id==U.VPN_CONFIG_SYNC_PENDING_CCD,Ai.blockVPNAction=t.detail.item.id==U.VPN_CONFIG_BLOCK,Ai.unblockVPNAction=t.detail.item.id==U.VPN_CONFIG_UNBLOCK,Ai.systemctlAction=t.detail.item.id==U.VPN_CONFIG_SYSTEMCTL,this.itemSelectedService.setItem(Ai)),Ai.node_type===M.OPENVPN_CONFIG_SER?Ai.blockVPNAction?r.openvpn_disabled=!0:Ai.unblockVPNAction&&(r.openvpn_disabled=!1):Ai.node_type===M.WIREGUARD_CONFIG_SER?Ai.blockVPNAction?r.wireguard_disabled=!0:Ai.unblockVPNAction&&(r.wireguard_disabled=!1):Ai.node_type===M.IPSEC_CONFIG_SER&&(Ai.blockVPNAction?r.ipsec_disabled=!0:Ai.unblockVPNAction&&(r.ipsec_disabled=!1));break;case U.VPN_CONFIG_INST_WINDOWS:{let vt=this.utilService.createDynamicComponentRef(yee),ut=vt.instance;ut.setDynamicComponentRef(vt);let it;if(r._fwcObjType===311)it={openvpn:r._fwcObjId};else if(r._fwcObjType===321)it={wireguard:r._fwcObjId};else if(r._fwcObjType===331)it={ipsec:r._fwcObjId};else throw new Error(`VPN type not supported for objId ${r._fwcObjId}`);let ri={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),fwcloudName:this.fwcUserService.getActualFwcUser().selectedFwCloudName,cluster:r._fwcClusterId,clusterName:r._fwcClusterName,firewall:r._fwcFwId,firewallName:r._fwcFwName,vpn:it,parentConfigName:r._fwcObjName};ut.showDialog(ri);break}case U.VPN_CONFIG_STATUS:let Yr=Object.assign({},r);Yr.statusAction=!0,this.itemSelectedService.setItem(Yr);break;case U.VPN_CONFIG_HISTORIC:if(r._fwcObjType===O.OBJ_OPENVPN_CONFIG_SER){let vt={cloudId:this.fwcUserService.getActualFwSelectedCloud(),openVpnConfigId:r._fwcOpenVPNId||r._fwcObjId,openVpnConfigType:r._fwcObjType,openVpnConfigName:r._fwcObjName,firewallId:r._fwcFwId,clusterId:r._fwcClusterId},ut=this.utilService.createDynamicComponentRef(BO),it=ut.instance;it.setDynamicComponentRef(ut),it.updateAndShow(vt);break}else if(r._fwcObjType===O.OBJ_WGS_CONFIG_SER){let vt={cloudId:this.fwcUserService.getActualFwSelectedCloud(),wireGuardConfigId:r._fwcWireGuardId||r._fwcObjId,wireGuardConfigType:r._fwcObjType,wireGuardConfigName:r._fwcObjName,firewallId:r._fwcFwId,clusterId:r._fwcClusterId},ut=this.utilService.createDynamicComponentRef(BO),it=ut.instance;it.setDynamicComponentRef(ut),it.updateAndShow(vt);break}else if(r._fwcObjType===O.OBJ_ISS_CONFIG_SER){let vt={cloudId:this.fwcUserService.getActualFwSelectedCloud(),ipsecConfigId:r._fwcIPSecId||r._fwcObjId,ipsecConfigType:r._fwcObjType,ipsecConfigName:r._fwcObjName,firewallId:r._fwcFwId,clusterId:r._fwcClusterId},ut=this.utilService.createDynamicComponentRef(BO),it=ut.instance;it.setDynamicComponentRef(ut),it.updateAndShow(vt);break}case U.SYSTEMCTL:{let vt=this.utilService.createDynamicComponentRef(S0),ut=vt.instance;ut.setDynamicComponentRef(vt);let it=r.firewall_id;if(r.cluster_id){let ri=this.utilService.createDynamicComponentRef(WO),nn=ri.instance;nn.setDynamicComponentRef(ri),nn.selectNodes(r)}else{let ri={fwcloud:r.fwcloud,firewall:it,service:this.serviceMap[r.node_type]===Os.openvpn?this.serviceMap[r.node_type]+"@"+r._fwcObjName:this.serviceMap[r.node_type]===Os.wireGuard?this.serviceMap[r.node_type]+"@"+(yield this.utilService.fwcAPICall(this.fwcVpnService.getWireGuardConfigInfo.bind(this.fwcVpnService),{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:r._fwcObjId})).data.data[0].install_name.split(".")[0]:this.serviceMap[r.node_type]===Os.IPSec?this.serviceMap[r.node_type]:this.serviceMap[r.node_type]};ut.systemCtlSelectorDialog(ri)}break}case U.SYSTEM_SHOW_CONFIG:case U.SYSTEM_COMPILE:{let vt=r.firewall_id,ut=this.fwcUserService.getActualFwSelectedCloud(),it,ri,nn,Ji,en;if(r.parent_type==O.OBJ_CLUSTER)r.obj_type===Fi[M.DHCP]?yield this.handleDhcpClusterCompile(r,ut):r.obj_type===Fi[M.HAPROXY]?yield this.handleHAProxyClusterCompile(r,ut):r.obj_type===Fi[M.KEEPALIVED]?yield this.handleKeepalivedClusterCompile(r,ut):this.fwcFirewallService.getClusterMasterNode(r.cluster_id,this.fwcUserService.getActualFwSelectedCloud()).subscribe(yn=>V(this,null,function*(){vt=yn.data.id}));else if(r.parent_type==O.OBJ_FIREWALL){if(r.obj_type===Fi[M.DHCP])it=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),vt,ut)).data,it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(ri=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),nn=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),Ji=this.translate.instant("DHCP.POLICY.RULE"),en="dhcp",yield this.utilService.fwcAPICall(ri,vt,this.fwcUserService.getActualFwSelectedCloud(),it.map(yn=>yn.id)).then(yn=>{let Yn=this.utilService.createDynamicComponentRef(El),Tn=Yn.instance;Tn.setDynamicComponentRef(Yn),Tn.showCompilationData(yn.data,it,Ji,nn,void 0,en)}));else if(r.obj_type===Fi[M.HAPROXY])it=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),vt,ut)).data,it.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):(ri=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),nn=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),Ji=this.translate.instant("HAPROXY.POLICY.RULE"),en="haproxy",yield this.utilService.fwcAPICall(ri,vt,this.fwcUserService.getActualFwSelectedCloud(),it.map(yn=>yn.id)).then(yn=>{let Yn=this.utilService.createDynamicComponentRef(El),Tn=Yn.instance;Tn.setDynamicComponentRef(Yn),Tn.showCompilationData(yn.data,it,Ji,nn,void 0,en)}));else if(r.obj_type===Fi[M.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case U.SYSTEM_DOWNLOAD_CONFIG:{let vt=this.fwcUserService.getActualFwSelectedCloud(),ut=r.firewall_id,it,ri,nn;if(r.parent_type===O.OBJ_CLUSTER)if(r.obj_type===Fi[M.DHCP]){yield this.handleDhcpClusterDownload(r,vt);return}else if(r.obj_type===Fi[M.KEEPALIVED]){yield this.handleKeepalivedClusterDownload(r,vt);return}else if(r.obj_type===Fi[M.HAPROXY]){yield this.handleHAProxyClusterDownload(r,vt);return}else this.fwcFirewallService.getClusterMasterNode(r.cluster_id,vt).subscribe(Ji=>V(this,null,function*(){ut=Ji.data.id}));else if(r.parent_type===O.OBJ_FIREWALL){if(r.obj_type===Fi[M.DHCP])it=yield this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),ri=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),ut,vt)).data,nn="dhcp",ri.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(it,ut,vt).then(Ji=>{let en="",yn=Ji.data;if(Array.isArray(yn))for(let hs of yn)en+=hs.cs,en+=`
`;let Yn=this.utilService.createDynamicComponentRef(El),Tn=Yn.instance;Tn.setDynamicComponentRef(Yn),Tn.onDownloadConfigFile(en,nn)});else if(r.obj_type===Fi[M.HAPROXY])it=yield this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),ri=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),ut,vt)).data,nn="haproxy",ri.length===0?this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}):yield this.utilService.fwcAPICall(it,ut,vt).then(Ji=>{let en="",yn=Ji.data;if(Array.isArray(yn))for(let hs of yn)en+=hs.cs,en+=`
`;let Yn=this.utilService.createDynamicComponentRef(El),Tn=Yn.instance;Tn.setDynamicComponentRef(Yn),Tn.onDownloadConfigFile(en,nn)});else if(r.obj_type===Fi[M.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}}break}case U.SYSTEM_INSTALL:{let vt=r.firewall_id,ut=this.fwcUserService.getActualFwSelectedCloud(),it;if(r.parent_type===O.OBJ_CLUSTER){let ri,nn=[];this.fwcFirewallService.getCluster(r.cluster_id,ut).subscribe(Ji=>V(this,null,function*(){let en=Ji.data.nodes;ri=!0;for(let yn=0;yn<en.length;yn++){let Yn=en[yn];Yn.install_communication==="agent"&&nn.push(Yn)}if(nn.length===0){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.CLUSTER_TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),ri=!1;return}else if(ri){r.obj_type===(Fi[M.DHCP]||Fi[M.DHCP_FIXED_IP])?this.fwcFirewallService.getClusterMasterNode(r.cluster_id,ut).subscribe(hs=>V(this,null,function*(){vt=hs.data.id,it=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),vt,ut)).data,it.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):r.obj_type===Fi[M.KEEPALIVED]?this.fwcFirewallService.getClusterMasterNode(r.cluster_id,ut).subscribe(hs=>V(this,null,function*(){vt=hs.data.id,it=yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),vt,ut),it.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"})})):r.obj_type===Fi[M.HAPROXY]&&this.fwcFirewallService.getClusterMasterNode(r.cluster_id,ut).subscribe(hs=>V(this,null,function*(){vt=hs.data.id,it=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),vt,ut)).data,it.length===0&&this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT")})}));let yn=Object.assign({},r),Yn=this.utilService.createDynamicComponentRef(I0),Tn=Yn.instance;Tn.setDynamicComponentRef(Yn),yield Tn.onItemManage(yn)}}))}else this.fwcFirewallService.getFirewall(r.firewall_id,ut).subscribe(ri=>V(this,null,function*(){if(ri.data.install_communication!=="agent"){this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.COMMUNICATION_INSTALL_ERROR.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}if(r.obj_type===(Fi[M.DHCP]||Fi[M.DHCP_FIXED_IP]))if(it=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),vt,ut)).data,it.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let nn=Object.assign({},r),Ji=this.utilService.createDynamicComponentRef(I0),en=Ji.instance;en.setDynamicComponentRef(Ji),yield en.onItemManage(nn)}else if(r.obj_type===Fi[M.KEEPALIVED]){this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});return}else if(r.obj_type===Fi[M.HAPROXY])if(it=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),vt,ut)).data,it.length===0)this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"});else{let nn=Object.assign({},r),Ji=this.utilService.createDynamicComponentRef(I0),en=Ji.instance;en.setDynamicComponentRef(Ji),yield en.onItemManage(nn)}}));break}case U.NO_MENU:break;case U.MARK_NEW:let Yl=Object.assign({},r);Yl._fwcObjName="",Yl.node_parent=r.id,this.itemSelectedService.setItem(Yl);break;case U.ROUTING_TABLE_NEW:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(r._fwcClusterId,r._fwcClusterName,r._fwcFwId,r._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}case U.ROUTING_TABLE_EDIT:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(r._fwcClusterId,r._fwcClusterName,r._fwcFwId,r._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),r._fwcObjId);break}case U.ROUTING_TABLE_DELETE:{this.deleteRoutingTable(r._fwcFwId,r.id_obj,r._fwcObjName);break}case U.ROUTING_TABLE_NEW_ROUTE:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRouteDialog(r._fwcClusterId,r._fwcFwId,r.id_obj,r._fwcObjName);break}}}})}onItemClickEvent(t){let o=this.treeview.nativeElement.selectedItem,r=Sd;o?._fwcDisabledForVyOS||(this.rememberSelectedTreeItem(o),this.clearObjectInfo(void 0),r.findIndex(s=>o.node_type==s)!=-1&&this.actionLoadPolicy(o))}onItemDblClickEvent(t,o){return V(this,null,function*(){if(this.clearObjectInfo(void 0),!this.fwcUser.lockInfo.result||!this.treeview||!this.treeview.nativeElement.selectedItem)return;let r=this.treeview.nativeElement.selectedItem;this.rememberSelectedTreeItem(r);let s=Object.assign({},r);if(!s._fwcDisabledForVyOS){switch(s.node_type){case M.FOLDER_POLICY:case M.POLICY_INPUT:case M.POLICY_OUTPUT:case M.POLICY_FORWARD:case M.FOLDER_NAT:case M.POLICY_SNAT:case M.POLICY_DNAT:case M.POLICY_ROUTING:case M.FOLDER_VPN:case M.OPENVPN_ROOT:case M.WIREGUARD_ROOT:case M.IPSEC_ROOT:case M.FOLDER_SYSTEM:case M.DHCP:case M.DHCP_FIXED_IP:case M.KEEPALIVED:case M.HAPROXY:break;case M.FOLDER_POLICY6:case M.POLICY_INPUT6:case M.POLICY_OUTPUT6:case M.POLICY_FORWARD6:case M.POLICY_SNAT6:case M.POLICY_DNAT6:case M.POLICY_ROUTING6:break;case M.OPENVPN_CA:case M.OPENVPN_CERT:case M.WIREGUARD_CA:case M.WIREGUARD_CERT:case M.IPSEC_CA:case M.IPSEC_CERT:s.containerReadOnly=!1,this.itemSelectedService.setItem(s);case M.FOLDER_ROUTING:case M.ROUTING_TABLES:case M.FOLDER_INTERFACES:case M.FOLDER_CLUSTER_FW:break;case M.OPENVPN_PREFIX_FOLDER:case M.OPENVPN_PREFIX:case M.WIREGUARD_PREFIX_FOLDER:case M.WIREGUARD_PREFIX:case M.IPSEC_PREFIX_FOLDER:case M.IPSEC_PREFIX:s.editPrefixAction=!0,this.itemSelectedService.setItem(s);break;case M.ROUTING_TABLE:this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(s._fwcClusterId,s._fwcClusterName,s._fwcFwId,s._fwcFwName,this.fwcUserService.getActualFwSelectedCloud(),s._fwcObjId);break;default:if(s._fwcObjId!==null){let a=this.treeview.nativeElement.getItemParent(s);if(!a)return;if(s.node_type==M.OBJ_FIREWALL&&s._fwcClusterId&&this.onContextMenuHandler(t,s.node_type),s.obj_type==O.OBJ_ADDRESS&&(a._fwcObjType==O.OBJ_INTERFACE_FIREWALL||a._fwcObjType==O.OBJ_INTERFACE_HOST)&&(s._fwcParentInterfaceType=a._fwcObjType,s._fwcParentObjName=a._fwcObjName),o){let l=this.treeview.nativeElement.getItemParent(s);if(l.node_type==M.STANDARD)if(l.pid)s.node_parent=l.pid;else return;else s.node_parent=s.pid;s.duplicateObjectAction=!0}this.itemSelectedService.setItem(s)}break}t&&t.stopPropagation()}})}actionLoadPolicy(t,o=!1){let r=this.buildPolicySelectionFromNode(t);r&&(this.rememberSelectedTreeItem(t),r._forcePolicyReload=o,r._dontLocateInTree=o?!0:r._dontLocateInTree,this.isHAProxyPolicy=!1,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!1),this.isKeepalivedPolicy=!1,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!1),t.node_type===M.KEEPALIVED&&(t.cluster_id?(this.isKeepalivedPolicy=!0,this.fwcKeepalivedPolicyService.setIsKeepalivedPolicy(!0),this.fwcKeepalivedPolicyService.setKeepalivedClusterId(t.cluster_id),this.buildTree()):this.confirmationService.confirm({header:"Keepalived Policy Error",icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_POLICY_FIREWALL"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})),t.node_type===M.HAPROXY&&(this.isHAProxyPolicy=!0,this.fwcHAProxyPolicyService.setIsHAProxyPolicy(!0),this.buildTree()),this.fwcPolicyService.setSelectedPolicy(r),this.itemSelectedService.setSelectedTreeNode(t),r._forcePolicyReload&&this.fwcPolicyService.reloadPolicy())}onItemDragStart(t,o){this.clearObjectInfo(void 0),this.cleanupDragPreview();let r;r=Object.assign({},t),r.obj_type==O.OBJ_CONTINENT&&(r.name=r.parent_name),r.obj_type==O.OBJ_COUNTRIE&&(r.name=r.parent_name),this.itemSelectedService.setDragItem(r);let s=r.id?.toString()??"";o.dataTransfer.setData("dragItemId",s),o.dataTransfer.setData("text/plain",s),this.setDragImageFromEvent(o),o.dataTransfer.dropEffect="copy",o.dataTransfer.effectAllowed="copyMove",this.clearObjectInfo(void 0)}setDragImageFromEvent(t){if(!t?.dataTransfer)return;let o=t.target?.closest(".fwcTree-item");if(!o)return;this.cleanupDragPreview();let r=o.getBoundingClientRect(),s=r.width/2,a=r.height/2;(t.clientX!==0||t.clientY!==0)&&(s=t.clientX-r.left,a=t.clientY-r.top);let l=this.createDragPreviewElement(o,r),c=l??o;try{t.dataTransfer.setDragImage(c,s,a),l&&(this.dragPreviewElement=l)}catch{l?.parentNode&&l.parentNode.removeChild(l),this.dragPreviewElement=void 0}}createDragPreviewElement(t,o){if(typeof document>"u"||typeof window>"u")return null;let r=t.cloneNode(!0);if(!r)return null;let s=window.getComputedStyle(t),a=s.backgroundColor&&s.backgroundColor!=="rgba(0, 0, 0, 0)"?s.backgroundColor:"rgba(255, 255, 255, 0.95)";return r.style.pointerEvents="none",r.style.position="fixed",r.style.top="-1000px",r.style.left="-1000px",r.style.zIndex="2147483647",r.style.background=a,r.style.borderRadius="4px",r.style.padding="2px 6px",r.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.2)",r.style.border="1px solid rgba(0, 0, 0, 0.12)",r.style.boxSizing="border-box",r.style.display="inline-flex",r.style.alignItems="center",r.style.gap="0.35rem",r.style.font=s.font||`${s.fontSize} ${s.fontFamily}`,r.style.color=s.color,r.style.whiteSpace="nowrap",r.style.width=`${o.width}px`,r.style.minHeight=`${o.height}px`,r.style.height=`${o.height}px`,document.body.appendChild(r),r}cleanupDragPreview(){this.dragPreviewElement?.parentNode&&this.dragPreviewElement.parentNode.removeChild(this.dragPreviewElement),this.dragPreviewElement=void 0}checkDnDAllowance(t,o){return this.clearObjectInfo(void 0),t&&t._fwcDisabledForVyOS||o&&o._fwcDisabledForVyOS?!1:!!(t&&o&&((t.node_type==M.FOLDER||t.node_type==M.FOLDER_FW)&&(o.node_type==M.FOLDER||o.node_type==M.OBJ_CLUSTER||o.node_type==M.OBJ_FIREWALL)||(t.node_type==M.OPENVPN_ROOT||t.node_type==M.WIREGUARD_ROOT||t.node_type==M.IPSEC_ROOT)&&o.obj_type==O.OBJ_CERT_SER||(t.node_type==M.OPENVPN_CONFIG_SER||t.node_type==M.WIREGUARD_CONFIG_SER||t.node_type==M.IPSEC_CONFIG_SER)&&o.obj_type==O.OBJ_CERT_CLI)&&t.id!=o.id&&t.id!=o.pid&&(o.items&&o.items.length&&!o.items.find(function(r){return r.id==t.id})||o.items&&!o.items.length))}onDragOver(t){if(t){let o=t.detail;if(o){let r=o.targetObj,s=o.dragObj;this.checkDnDAllowance(r,s)?this.highlightNodeId=r.id:this.highlightNodeId=void 0}}this.treeview.nativeElement.refresh()}onDragLeave(t){this.highlightNodeId=void 0}onDragDrop(t){let o=t.detail;if(this.cleanupDragPreview(),o){let r=o.targetObj,s=o.dragObj;if(this.clearObjectInfo(void 0),this.checkDnDAllowance(r,s)){let a=this.fwcUserService.getActualFwSelectedCloud(),l={fwcloud:a,src:s.id,dst:r.id};if(s&&s.node_type==M.OPENVPN_CERT||s.node_type==M.WIREGUARD_CERT||s.node_type==M.IPSEC_CERT){let c,d=s,u=r,m,g,y;if(u.node_type==M.OPENVPN_ROOT?(c=u,y=O.OBJ_OPENVPN_CONFIG_SER):u.node_type==M.WIREGUARD_ROOT?(c=u,y=O.OBJ_WGS_CONFIG_SER):u.node_type==M.IPSEC_ROOT?(c=u,y=O.OBJ_ISS_CONFIG_SER):u.node_type==M.OPENVPN_CONFIG_SER?(c=u,y=O.OBJ_OPENVPN_CONFIG_CLI,m=c._fwcObjId,g=c._fwcObjName):u.node_type==M.WIREGUARD_CONFIG_SER?(c=u,y=O.OBJ_WGC_CONFIG_CLI,m=c._fwcObjId,g=c._fwcObjName):u.node_type==M.IPSEC_CONFIG_SER&&(c=u,y=O.OBJ_ISC_CONFIG_CLI,m=c._fwcObjId,g=c._fwcObjName),c){let v=[];Array.isArray(c.items)&&c.items.forEach(I=>{I.node_type===M.OPENVPN_CONFIG_CLI||I.node_type===M.WIREGUARD_CONFIG_CLI||I.node_type===M.IPSEC_CONFIG_CLI?v.push({id_obj:I.id_obj,obj_type:I.obj_type,name:I._fwcObjName}):(I.node_type===M.OPENVPN_PREFIX||I.node_type===M.WIREGUARD_PREFIX||I.node_type===M.IPSEC_PREFIX)&&Array.isArray(I.items)&&I.items.forEach(P=>{v.push({id_obj:P.id_obj,obj_type:P.obj_type,name:P._fwcObjName})})});let S={fwcloud:a,obj_type:y,crt:d.id_obj,node_id:c.id,vpn:m,parent_id:u.parent_id,parent_type:u.parent_type,parent_name:u.parent_name,_fwcObjId:void 0,_fwcCrtType:d.obj_type,_fwcCrtName:d._fwcObjName,_fwcParentConfigName:g,_fwcParentCA:d._fwcParentCA,_fwcChildClientNodes:v};if(u.node_type==M.OPENVPN_ROOT){let I=this.checkVpnOperationErrors(c,u,S,"openvpn");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else if(u.node_type==M.WIREGUARD_ROOT){let I=this.checkVpnOperationErrors(c,u,S,"wireguard");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else if(u.node_type==M.IPSEC_ROOT){let I=this.checkVpnOperationErrors(c,u,S,"ipsec");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else if(u.node_type==M.OPENVPN_CONFIG_SER){let I=this.checkVpnOperationErrors(c,u,S,"openvpn");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else if(u.node_type==M.WIREGUARD_CONFIG_SER){let I=this.checkVpnOperationErrors(c,u,S,"wireguard");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else if(u.node_type==M.IPSEC_CONFIG_SER){let I=this.checkVpnOperationErrors(c,u,S,"ipsec");I?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(I)}):this.itemSelectedService.setItem(S)}else this.itemSelectedService.setItem(S)}}else this.utilService.fwcAPICall(this.fwcObjectTreeService.dropInFolder.bind(this.fwcObjectTreeService),l).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_DROP")}),this.treeLoad()}).catch(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})})}}this.highlightNodeId=void 0,t.detail.cancel=!0}checkVpnOperationErrors(t,o,r,s){let a,l;if(!t||!r)return"BAD PARAMETERS";this.items&&Array.isArray(this.items)&&this.items.length&&(l=this.items[0][`${s}_info`]);let c=r.crt,d=r[s]??r.vpn,u=r._fwcParentCA,m=o?._fwcFwId,g=o?._fwcClusterId,y;if((o.node_type===M.OPENVPN_ROOT&&r.obj_type===O.OBJ_OPENVPN_CONFIG_SER||o.node_type===M.WIREGUARD_ROOT&&r.obj_type===O.OBJ_WGS_CONFIG_SER||o.node_type===M.IPSEC_ROOT&&r.obj_type===O.OBJ_ISS_CONFIG_SER)&&(r.vpn=s),l)for(let v of l){if((r.obj_type===O.OBJ_OPENVPN_CONFIG_SER||r.obj_type===O.OBJ_WGS_CONFIG_SER||r.obj_type===O.OBJ_ISS_CONFIG_SER)&&v.crt===c&&(v[`${s}_parent`]===void 0||v[`${s}_parent`]===null))return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.SERVER_SAME_CERT");if(s==="ipsec"&&r.obj_type===O.OBJ_ISS_CONFIG_SER&&!v.ipsec_parent){let I=this.findItemByIdType(this.items,v.ipsec,O.OBJ_ISS_CONFIG_SER);if(I&&(m&&I._fwcFwId===m||g&&I._fwcClusterId===g))return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.IPSEC_SERVER_CONFIG_ALREADY_EXISTS")}if(d!==void 0&&v[`${s}_parent`]===d&&v.crt===c)return this.translate.instant(`VPN.CONFIG.ERRORS.RESTRICTIONS.CERT_ALREADY_EXISTS_ON_${s.toUpperCase()}_CONFIG`);if(v[s]===d&&(v[`${s}_parent`]===void 0||v[`${s}_parent`]===null)&&(y=v.ca,u!=null&&v.ca!==u))return this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA")}return y!=null&&u!==void 0&&u!==null&&y!==u?this.translate.instant("VPN.CONFIG.ERRORS.RESTRICTIONS.DIFFERENT_CA"):a}deleteRoutingTable(t,o,r){let s={deleteAction:!0,_fwcObjId:o,_fwcObjName:r,_fwcObjType:O.OBJ_ROUTING_TABLE,_fwcFwId:t};this.itemSelectedService.setItem(s)}processInputDialogData(t){return V(this,null,function*(){let o;if(t)if(t.folder_name)t.name=t.folder_name,delete t.folder_name,this.utilService.fwcAPICall(this.fwcObjectTreeService.newFolder.bind(this.fwcObjectTreeService),t).then(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS")}),this.treeLoad()}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})});else if(t.folder_newname)t.new_name=t.folder_newname,delete t.folder_newname,this.utilService.fwcAPICall(this.fwcObjectTreeService.updateFolder.bind(this.fwcObjectTreeService),t).then(r=>{let s;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FOLDER.SUCCESS_RENAME")}),s={node_id:t.id,name:t.new_name,_fwcTreeAction:Ii.MODIFY_ITEM},this.treeModifyItem(s)}).catch(r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})});else{let r;if(t.firewall!==void 0&&t.firewall!==null)r=this.fwcFirewallService.cloneFirewall.bind(this.fwcFirewallService);else if(t.cluster!==void 0&&t.cluster!=null)r=this.fwcFirewallService.cloneCluster.bind(this.fwcFirewallService);else return;o=Object.assign({},t),delete o.type;let s={channelId:void 0,headerIcon:"fa fa-3x fa-vault fwcBlue",textHeader:this.translate.instant("FW.MSG_FW_CLONE.TITLE"),textMessage:this.translate.instant("FW.MSG_FW_CLONE.TEXT"),apiCall:r,apiParams:[o],onClose:a=>{if(a&&!a.error){let l=a.data.insertId,c={};c.container=Ge.C_FIREWALLS,c.id=c.id_obj=c._fwcObjId=l,c._fwcObjType=t.type,c._fwcTreeAction=Ii.NEW_ITEM,this.treeNewItem(c),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("TREE.FW_CLONE.SUCCESS")})}else a.error&&(a.data.fwcErr==8001||a.data.fwcErr==8002?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR."+a.data.fwcErr),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK"),accept:()=>{}}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a.data)}))}};this.appDialogPanelsService.searchAndShowDialog({uuid:oi.BLOCK_UI_PANEL,data:s})}})}handleClickNodeAction(t){switch(t.node_type){case M.ROUTING_TABLES:{this.fwcPolicyGridRoutingTableFunctionalityService.showNewRoutingTableDialog(t._fwcClusterId,t._fwcClusterName,t._fwcFwId,t._fwcFwName,this.fwcUserService.getActualFwSelectedCloud());break}}}showObjectInfo(t,o){if(!t)return;o&&o.preventDefault();let r=o.target||o.currentTarget;if(!r&&o.composedPath&&o.composedPath().length>0&&(r=o.composedPath()[0]),!r){console.error("No target element found for the event.");return}let s=t.node_type;if(!this.infoTooltipTimer&&!this.infoTooltipShown&&t._fwcObjId!==null&&t._fwcObjType!==null&&Lot.findIndex(a=>s===a)===-1){let a={objId:t._fwcObjId,objType:t._fwcObjType,fwId:t._fwcFwId,clusterId:t._fwcClusterId,objParentId:t.parent_id};this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(a,{event:o,targetElement:r})},1e3)}}handleDhcpClusterCompile(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){yield this.compileDhcpPolicyForClusterNode(t.cluster_id,d,o)});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)})})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}handleKeepalivedClusterCompile(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){yield this.compileKeepalivedPolicyForClusterNode(t.cluster_id,d,o)});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)}),titleKey:"KEEPALIVED.POLICY.COMPILE_NODE_DIALOG.TITLE",textKey:"KEEPALIVED.POLICY.COMPILE_NODE_DIALOG.TEXT"})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}compileDhcpPolicyForClusterNode(t,o,r){return V(this,null,function*(){let s=yield this.fetchDhcpCompilation(t,o,r);if(!s)return;let{rules:a,data:l}=s,c=this.translate.instant("DHCP.POLICY.RULE"),d=this.translate.instant("DHCP.POLICY.COMPILE_DIALOG_TITLE"),u=this.utilService.createDynamicComponentRef(El),m=u.instance;m.setDynamicComponentRef(u),m.showCompilationData(l,a,c,d,void 0,"dhcp")})}handleHAProxyClusterCompile(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){yield this.compileHAProxyPolicyForClusterNode(t.cluster_id,d,o)});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)}),titleKey:"HAPROXY.POLICY.COMPILE_NODE_DIALOG.TITLE",textKey:"HAPROXY.POLICY.COMPILE_NODE_DIALOG.TEXT"})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}compileHAProxyPolicyForClusterNode(t,o,r){return V(this,null,function*(){let s=yield this.fetchHAProxyCompilation(t,o,r);if(!s)return;let{rules:a,data:l}=s,c=this.translate.instant("HAPROXY.POLICY.RULE"),d=this.translate.instant("HAPROXY.POLICY.COMPILE_DIALOG_TITLE"),u=this.utilService.createDynamicComponentRef(El),m=u.instance;m.setDynamicComponentRef(u),m.showCompilationData(l,a,c,d,void 0,"haproxy")})}handleHAProxyClusterDownload(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){let u=yield this.fetchHAProxyCompilation(t.cluster_id,d,o);if(!u)return;let m=this.buildCompilationString(u.data),g=this.utilService.createDynamicComponentRef(El),y=g.instance;y.setDynamicComponentRef(g),y.onDownloadConfigFile(m,"haproxy")});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)}),titleKey:"HAPROXY.POLICY.COMPILE_NODE_DIALOG.TITLE",textKey:"HAPROXY.POLICY.COMPILE_NODE_DIALOG.TEXT"})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}handleKeepalivedClusterDownload(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){let u=yield this.fetchKeepalivedCompilation(t.cluster_id,d,o);if(!u)return;let m=this.buildCompilationString(u.data),g=this.utilService.createDynamicComponentRef(El),y=g.instance;y.setDynamicComponentRef(g),y.onDownloadConfigFile(m,"keepalived")});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)}),titleKey:"KEEPALIVED.POLICY.COMPILE_NODE_DIALOG.TITLE",textKey:"KEEPALIVED.POLICY.COMPILE_NODE_DIALOG.TEXT"})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}compileKeepalivedPolicyForClusterNode(t,o,r){return V(this,null,function*(){let s=yield this.fetchKeepalivedCompilation(t,o,r);if(!s)return;let{rules:a,data:l}=s,c=this.translate.instant("KEEPALIVED.POLICY.RULE"),d=this.translate.instant("KEEPALIVED.POLICY.COMPILE_DIALOG_TITLE"),u=this.utilService.createDynamicComponentRef(El),m=u.instance;m.setDynamicComponentRef(u),m.showCompilationData(l,a,c,d,void 0,"keepalived")})}handleDhcpClusterDownload(t,o){return V(this,null,function*(){try{let s=(yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),t.cluster_id,o))?.data||[],a=d=>V(this,null,function*(){let u=yield this.fetchDhcpCompilation(t.cluster_id,d,o);if(!u)return;let{data:m}=u,g=this.buildCompilationString(m),y=this.utilService.createDynamicComponentRef(El),v=y.instance;v.setDynamicComponentRef(y),v.onDownloadConfigFile(g,"dhcp")});if(!s.length){let d=yield this.utilService.fwcAPICall(this.fwcFirewallService.getClusterMasterNode.bind(this.fwcFirewallService),t.cluster_id,o);d?.data?.id!==void 0&&(yield a(d.data.id));return}if(s.length===1){yield a(s[0].id);return}let l=this.utilService.createDynamicComponentRef(nu),c=l.instance;c.setDynamicComponentRef(l),c.open({clusterName:t.cluster_name,nodes:s,onSelect:d=>V(this,null,function*(){yield a(d)})})}catch(r){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)})}})}fetchDhcpCompilation(t,o,r){return V(this,null,function*(){try{let a=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.getDhcpPolicy.bind(this.fwcDhcpPolicyService),o,r))?.data||[],l=Array.isArray(a)?a.filter(u=>{let m=this.resolveRuleApplyTo(u);return m==null||m===o}):[];if(!l.length)return this.confirmationService.confirm({header:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.DHCP_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),null;let d=(yield this.utilService.fwcAPICall(this.fwcDhcpPolicyService.compileDhcpPolicyRules.bind(this.fwcFirewallService),o,r,l.map(u=>u.id)))?.data||[];return{rules:l,data:d}}catch(s){return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),null}})}fetchHAProxyCompilation(t,o,r){return V(this,null,function*(){try{let a=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.getHAProxyPolicy.bind(this.fwcHAProxyPolicyService),o,r))?.data||[],l=Array.isArray(a)?a.filter(u=>{let m=this.resolveRuleApplyTo(u);return m==null||m===o}):[];if(!l.length)return this.confirmationService.confirm({header:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.HAPROXY_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),null;let d=(yield this.utilService.fwcAPICall(this.fwcHAProxyPolicyService.compileHAProxyPolicyRules.bind(this.fwcFirewallService),o,r,l.map(u=>u.id)))?.data||[];return{rules:l,data:d}}catch(s){return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),null}})}buildCompilationString(t){return Array.isArray(t)?t.map(o=>o?.cs??"").filter(o=>o!=="").join(`
`):""}fetchKeepalivedCompilation(t,o,r){return V(this,null,function*(){try{let a=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.getKeepalivedPolicy.bind(this.fwcKeepalivedPolicyService),o,r))?.data||[],l=Array.isArray(a)?a.filter(u=>{let m=this.resolveRuleApplyTo(u);return m==null||m===o}):[];if(!l.length)return this.confirmationService.confirm({header:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.SUMMARY"),icon:"fa fa-exclamation-triangle fwcOrange iconBig",message:this.translate.instant("PANELS.KEEPALIVED_RULE_PANEL.ERRORS.NO_RULES_TO_COMPILE.TEXT"),rejectVisible:!1,acceptLabel:"Ok"}),null;let d=(yield this.utilService.fwcAPICall(this.fwcKeepalivedPolicyService.compileKeepalivedPolicyRules.bind(this.fwcFirewallService),o,r,l.map(u=>u.id)))?.data||[];return{rules:l,data:d}}catch(s){return this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)}),null}})}resolveRuleApplyTo(t){if(!t||typeof t!="object")return;let o=["firewallApplyToId","firewallApplyTo","fw_apply_to","fwApplyTo"];for(let r of o)if(r in t){let s=t[r];if(s==null)return s;if(typeof s=="object"&&s!==null&&"id"in s){let l=s.id,c=typeof l=="number"?l:Number(l);if(!Number.isNaN(c))return c;continue}let a=typeof s=="number"?s:Number(s);if(!Number.isNaN(a))return a}}clearObjectInfo(t){t&&t.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(setTimeout(()=>this.itemSelectedService.setObjectInfo(void 0,t),500),this.infoTooltipShown=!1)}};n.\u0275fac=function(o){return new(o||n)(x(sa),x(En),x(yt),x(qn),x(aa),x(dt),x(Bt),x(Ki),x(Wr),x(R_),x(Vh),x($h),x(Wh),x(Ni),x(Gh),x(ti),x(ii),x(Oo),x(Tt),x(co),x(St),x(JI),x(kt),x(Bh),x(We),x($e),x(tt),x(wJ,8),x(Yx),x(Xu))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-tree"]],viewQuery:function(o,r){if(o&1&&(_e(Not,7),_e(Fot,5)),o&2){let s;W(s=$())&&(r.treeview=s.first),W(s=$())&&(r.hintFirstTreeElement=s.first)}},inputs:{treeOptions:"treeOptions",treeStyle:"treeStyle",searchString:"searchString",treeSearchOptions:"treeSearchOptions"},standalone:!1,features:[Se([En,Ki,Bt,Wr,Gh,Bh,wn])],decls:2,vars:14,consts:[["treeview",""],[3,"afterExpand","afterCollapse","selectionChanged","dragOver","dragLeave","dragDrop","items","itemTemplate","allowDrag","allowDrop","allowFocus","virtualMode","itemDisplay","autoExpand","resourcePath","customStyle","allowAnimation","allowFilter","colorScheme","dragDropMode"]],template:function(o,r){if(o&1){let s=B();_(0,"iui-treeview",1,0),A("afterExpand",function(l){return w(s),C(r.setExpandedNodes(l,!0))})("afterCollapse",function(l){return w(s),C(r.setExpandedNodes(l,!1))})("selectionChanged",function(l){return w(s),C(r.onTreeSelectionChanged(l))})("dragOver",function(l){return w(s),C(r.onDragOver(l))})("dragLeave",function(l){return w(s),C(r.onDragLeave(l))})("dragDrop",function(l){return w(s),C(r.onDragDrop(l))}),b()}o&2&&f("items",r.items)("itemTemplate",r.currentItemTemplate)("allowDrag",!0)("allowDrop",!0)("allowFocus",!0)("virtualMode",!0)("itemDisplay",0)("autoExpand",!(r.options!=null&&r.options.containerReadOnly))("resourcePath",r.currentResourcePath)("customStyle",r.treeIntegralUIStyle)("allowAnimation",!1)("allowFilter",!0)("colorScheme",r.currentColorScheme)("dragDropMode",r.currentDragDrop)},styles:[`fwcTree-item{display:inline-block;margin-left:0;transition:all .3s}fwcTree-item *{pointer-events:none}fwcTree-item.fwcHighlightNode{margin-left:.2em;background-color:var(--fwcPaleGreen)!important;padding-right:8em}fwcTree-item.fwcSelectedPolicyNode span.fwc-label{font-weight:700!important}fwcTree-item--disabled .fwcTreeIcon:after{content:"\\\\";font-weight:700;color:var(--fwcRed);position:absolute;left:.9em;top:-.4em;font-size:1.7em;font-style:normal}fwcTree-item--disabled .fwc-label{color:var(--fwcPaleDark)!important}
`],encapsulation:2});let i=n;return i})();var Bot=["fwcGroup"];function Vot(i,n){if(i&1){let e=B();_(0,"div",4),A("contextmenu",function(){let o=w(e).$implicit,r=h();return C(r.selectedItem=o)})("mouseenter",function(o){let r=w(e).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h();return C(r.clearObjectInfo(o))})("dblclick",function(){let o=w(e).$implicit,r=h();return C(r.onItemDblClick(o))}),_(1,"div"),N(2,"i",5),D(3,"fwcIcon"),_(4,"span",6),R(5),b()()()}if(i&2){let e=n.$implicit;Lr("item-rightclicked",e.rightclicked==!0),ce("data-obj_id",e.id),p(2),j(_s("fwcIcon ",k(3,7,e._fwcObjType))),p(3),Y(" ",e._fwcObjName)}}var Cm=(()=>{let n=class n{set ipobjs(t){this._ipobjs=t}constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I){this.refService=t,this.store=o,this.renderer=r,this.fwcObjectService=s,this.itemSelectedService=a,this.fwcInterfaceService=l,this.fwcContextMenuService=c,this.fwcKeepalivedPolicyService=d,this.fwcHAProxyPolicyService=u,this.fwcErrorPipe=m,this.fwcUserService=g,this.confirmationService=y,this.utilService=v,this.messageService=S,this.translate=I,this._ipobjs=[],this.groupChanged=new te,this.onVirtualIpChange=new te,this.onHAProxyIpChange=new te,this.applicationRef=null,this.contextMenuReference=null,this.contextMenuStyle=[js,Hs,Gs],this.groupAllowedTypes=[],this.infoTooltipShown=!1,this.alive=!0,this.customFormMode=!1,this.isDisabled=!1,this.isKeepalived=!1,this.keepalivedClusterId=0,this.isHAProxy=!1,this.onChange=P=>{},this.onTouch=()=>{}}writeValue(t){this.customFormMode=!0,this.formValue=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouch=t}setDisabledState(t){this.isDisabled=t}ngOnInit(){this.contextMenu=this.fwcContextMenuService.getGroupObjectMenus(),this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(t=>{t==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.fwcObjectService.getObjectGroupAllowedTypes().subscribe(t=>{this.groupAllowedTypes=t}),this.fwcUserService.getFwcUser().pipe(Nt(()=>this.alive)).subscribe(t=>{this.fwcUser=t}),this.fwcKeepalivedPolicyService.isKeepalivedPolicy$.subscribe(t=>{this.isKeepalived=t}),this.fwcHAProxyPolicyService.isHAProxyPolicy$.subscribe(t=>{this.isHAProxy=t})}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let t=this;setTimeout(()=>{let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o},1)}listDragOver(t){t.preventDefault()}listDragEnter(t){let o;if(this.renderer.addClass(this.fwcGroup.nativeElement,"draggedOver"),t.target==this.fwcGroup.nativeElement&&(o=this.itemSelectedService.getDragItem(),o)){let r=+o._fwcObjType;!o.container||this.groupAllowedTypes[this.groupType].indexOf(r)==-1||this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(function(s){return o._fwcObjId==s._fwcObjId&&o._fwcObjType==s._fwcObjType})||this.readOnly?this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"):this.renderer.addClass(this.fwcGroup.nativeElement,"fwcObjectAllowed")}}listDragDrop(t){return V(this,null,function*(){let o,r;t.preventDefault(),this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"),r=this.itemSelectedService.getDragItem(),this.itemSelectedService.clearDragItem(),r&&(!r.container||this.readOnly||(o=yield this.checkOperation(r),o?setTimeout(()=>{this.confirmationService.confirm({header:"Error",icon:"fa fa-exclamation-circle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:o})},500):(r._fwcObjTreeParentId=r.pid,this.addObject(r))))})}listDragLeave(t){t.target==this.fwcGroup.nativeElement&&(this.renderer.removeClass(this.fwcGroup.nativeElement,"draggedOver"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectForbidden"),this.renderer.removeClass(this.fwcGroup.nativeElement,"fwcObjectAllowed"))}checkOperation(t){return V(this,null,function*(){let o,r=+t._fwcObjType;if(this.groupAllowedTypes[this.groupType].indexOf(r)==-1)o=this.msgNotAllowed?this.msgNotAllowed:this.translate.instant("GROUP.ERROR_NOTALLOWED");else if(this._ipobjs&&this._ipobjs.length&&this._ipobjs.some(s=>t._fwcObjId==s._fwcObjId&&t._fwcObjType==s._fwcObjType))o=this.msgAlreadyExisting?this.msgAlreadyExisting:this.translate.instant("GROUP.ERR_EXISTS",{name:t._fwcObjName});else if((t._fwcObjType===O.OBJ_GROUP||t._fwcObjType===O.OBJ_SERVICE_GROUP)&&(!t.items||!t.items.length))o=this.translate.instant("GROUP.ERROR_EMPTY_GROUP",{name:t._fwcObjName});else if(t._fwcObjType===O.OBJ_INTERFACE_FIREWALL||t._fwcObjType===O.OBJ_INTERFACE_HOST){let s,a;r==O.OBJ_INTERFACE_HOST?(a=this.fwcInterfaceService.getInterfaceHost.bind(this.fwcInterfaceService),s=t.host_id):(a=this.fwcInterfaceService.getInterface.bind(this.fwcInterfaceService),t.cluster_id?s=t._fwcFwId:s=t.firewall_id||t._fwcFwId);let c=(yield a(s,t.id_obj,t.fwcloud).toPromise()).data;(c.mac==null||c.mac==null)&&(o=this.translate.instant("DHCP.POLICY.ERROR_EMPTY_MAC"))}else if(t._fwcObjType===O.OBJ_HOST){let s=!1;if(Array.isArray(t.items)&&t.items.length){for(let a of t.items)if(Array.isArray(a.items)&&a.items.length){s=!!a.items.find(l=>l._fwcObjType===O.OBJ_ADDRESS);break}}s||(o=this.translate.instant("GROUP.ERROR_EMPTY_HOST",{name:t._fwcObjName}))}return o})}addObject(t){if(t){let o=Object.assign({},t);if(this.isHAProxy&&(this.customFormMode=!0),this.isKeepalived&&(this.customFormMode=!0),this.customFormMode){this.formValue=o._fwcObjId;try{if(this.isKeepalived&&(o._fwcObjType===O.OBJ_FIREWALL||o._fwcObjType===O.OBJ_ADDRESS||o._fwcObjType===O.OBJ_INTERFACE_FIREWALL)){let r=this.fwcKeepalivedPolicyService.getKeepalivedClusterId();if(this.keepalivedClusterId=r,o.cluster_id!==r)throw new Error("Invalid cluster")}if(o._fwcObjType===O.OBJ_ADDRESS&&this.isKeepalived)Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(o._fwcObjId),this._ipobjs.push(o),this.onVirtualIpChange.emit({id:o._fwcObjId,type:o._fwcObjType});else try{this.groupType===O.OBJ_HAPROXY_RULE_FRONTEND_IP&&this.isHAProxy?(this._ipobjs=[o],this.onHAProxyIpChange.emit({id:o._fwcObjId,type:o._fwcObjType})):o._fwcObjType===O.OBJ_ADDRESS&&this.isHAProxy?(Array.isArray(this.formValue)||(this.formValueArray=[]),this.formValueArray.push(o._fwcObjId),this._ipobjs.push(o),this.onHAProxyIpChange.emit({id:o._fwcObjId,type:o._fwcObjType})):(this._ipobjs=[o],this.onChange({id:o._fwcObjId,type:o._fwcObjType}))}catch(r){r.message==="Invalid cluster"?setTimeout(()=>{this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})},500):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)});return}}catch(r){r.message==="Invalid cluster"?setTimeout(()=>{this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("KEEPALIVED.POLICY.ERROR_CLUSTER_NODES"),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})},500):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)});return}}else{o.selected=!1,o.fwcloud=this.fwcUserService.getActualFwSelectedCloud();let r;r={fwcloud:this.fwcUser.selectedFwCloud,node_parent:this.groupTreeId,node_order:1,node_type:o.node_type,ipobj_g:this.groupId,ipobj:o._fwcObjId},this.utilService.fwcAPICall(this.fwcObjectService.newObjectGroupObject.bind(this.fwcObjectService),r).then(s=>{o._fwcTreeAction=Ii.NEW_GROUP_ITEM,this.groupType==O.OBJ_SERVICE_GROUP?o.container=Ge.C_SERVICES:this.groupType==O.OBJ_GROUP&&(o.container=Ge.C_OBJECTS),s.data&&s.data.length&&(o.fw_status=s.data),o._fwcObjTreeParentId=this.groupTreeId,o.text=o._fwcObjName,this.itemSelectedService.setModifiedItem(o),(!this._ipobjs||!Array.isArray(this._ipobjs))&&(this._ipobjs=[]),this._ipobjs.push(o),this.groupChanged.emit(!0),setTimeout(()=>{this.fwcGroup.nativeElement.scrollTop=this.fwcGroup.nativeElement.scrollHeight-this.fwcGroup.nativeElement.clientHeight},1),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_ADDED")})}).catch(s=>{s.error&&s.error.fwcErr==5001?setTimeout(()=>{this.confirmationService.confirm({header:this.translate.instant("POSITION.ERROR_HEADER"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("GROUP.ERROR_EMPTY_CONTAINER",{name:o._fwcObjName}),rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})},500):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})})}}}onItemRightClick(t){this.selectedItem=t,this.clearObjectInfo()}onItemDblClick(t){let o=Object.assign({},t);this.store.dispatch(_r.selectTreeItem({item:o}))}onContextMenuLoad(t){let o=!1,r=!1,s=this.contextMenu.OBJECT;this.customFormMode&&(s=this.contextMenu.OBJECT_CUSTOMFORM),t.detail.event&&t.detail.event.target&&!t.detail.event.target.getAttribute("data-obj_id")&&(o=!0,this.selectedItem=void 0),this.selectedItem&&(this.selectedItem.rightclicked=!0),(this.selectedItem&&this.selectedItem._fwcObjType==O.OBJ_ANY||!this._ipobjs.length||o)&&(r=!0),s&&s.items&&s.items.forEach(a=>{a.userObject&&this.readOnly?a.visible=!1:a.visible=!r&&a.id!=U.NO_MENU||r&&a.id==U.NO_MENU})}onContextMenuClose(t){this.selectedItem&&(this.selectedItem.rightclicked=!1)}onContextMenuHandler(t){let o=this.selectedItem;if(o&&t.detail.item)switch(t.detail.item.id){case U.FIND_IN_TREE:this.onItemDblClick(o);break;case U.WHERE_USED:let r=Object.assign({},o);r.whereUsedAction=!0,this.itemSelectedService.setItem(r);break;case U.DELETE_FROM_GROUP:this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),message:this.translate.instant("GROUP.DEL_OBJ",{name:o._fwcObjName}),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{let s={fwcloud:this.fwcUser.selectedFwCloud,ipobj_g:this.groupId,ipobj:o._fwcObjId,obj_type:o._fwcObjType};this.utilService.fwcAPICall(this.fwcObjectService.deleteObjectGroupObject.bind(this.fwcObjectService),s).then(a=>{let l=Object.assign({},o);this.removeItem(o),this.groupChanged.emit(!0),this.groupType==O.OBJ_SERVICE_GROUP?l.container=Ge.C_SERVICES:this.groupType==O.OBJ_GROUP&&(l.container=Ge.C_OBJECTS),l._fwcObjTreeParentId=this.groupTreeId,l._fwcTreeAction=Ii.DELETE_GROUP_ITEM,a.data&&a.data.length&&(l.fw_status=a.data),this.itemSelectedService.setModifiedItem(l),this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("GROUP.OBJ_DELETED")})}).catch(a=>{a.error&&a.error.fwcErr==5001?setTimeout(()=>{this.confirmationService.confirm({header:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("TREE.MSG_DELETE_OBJ_GROUP_EMPTY",{name:o._fwcObjName}),rejectVisible:!1,closeOnEscape:!1,acceptLabel:"Ok",accept:()=>{}})},500):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("GROUP.ERR_DELETING")})})}});break;case U.DELETE:{this._ipobjs=[],this.formValue=void 0,this.onChange(void 0);break}}}removeItem(t){let o=-1;if(!this._ipobjs)return-1;for(let r=0;r<this._ipobjs.length;r++)if(this._ipobjs[r]._fwcObjId!=O.OBJ_ANY&&this._ipobjs[r]._fwcObjId==t._fwcObjId){o=r;break}return o>=0&&this._ipobjs.splice(o,1),o}showObjectInfo(t,o){if(o&&o.preventDefault(),t&&!this.infoTooltipTimer&&!this.infoTooltipShown){let r={objId:t._fwcObjId,objType:t._fwcObjType,objParentId:t.parent_id,fwId:t._fwcFwId,clusterId:t.cluster_id};t.highlighted&&delete t.highlighted,r.objId!==null&&r.objType!==null&&r.objType!=O.OBJ_ANY&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,o)},1e3))}}clearObjectInfo(t){t&&t.preventDefault(),this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.itemSelectedService.setObjectInfo(void 0,t),this.infoTooltipShown=!1}};n.\u0275fac=function(o){return new(o||n)(x(sa),x(tt),x(Wo),x(Ki),x(yt),x(Wr),x(R_),x(Wh),x($h),x(Ni),x(dt),x(ti),x(Tt),x(ii),x($e))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-object-group"]],viewQuery:function(o,r){if(o&1&&_e(Bot,5),o&2){let s;W(s=$())&&(r.fwcGroup=s.first)}},inputs:{groupId:"groupId",groupType:"groupType",groupTreeId:"groupTreeId",readOnly:"readOnly",ipobjs:"ipobjs",msgNotAllowed:"msgNotAllowed",msgAlreadyExisting:"msgAlreadyExisting"},outputs:{groupChanged:"groupChanged",onVirtualIpChange:"onVirtualIpChange",onHAProxyIpChange:"onHAProxyIpChange"},standalone:!1,features:[Se([Ki,Wr,{provide:Bn,useExisting:Xt(()=>n),multi:!0}])],decls:5,vars:5,consts:[["fwcGroup",""],[3,"menuClick","menuOpening","menuClosed","settings","allowAnimation","customStyle","colorScheme","contextMenuRef"],[1,"divFwcPosition","divFwcGroup",3,"dragover","dragenter","dragleave","drop","mouseenter"],[1,"divFwcPosition-item","item-general-default","noselect",3,"item-rightclicked"],[1,"divFwcPosition-item","item-general-default","noselect",3,"contextmenu","mouseenter","mouseleave","dblclick"],["aria-hidden","true"],[1,"fwc-label"]],template:function(o,r){if(o&1){let s=B();_(0,"iui-contextmenu",1),A("menuClick",function(l){return w(s),C(r.onContextMenuHandler(l))})("menuOpening",function(l){return w(s),C(r.onContextMenuLoad(l))})("menuClosed",function(l){return w(s),C(r.onContextMenuClose(l))}),_(1,"div",2,0),A("dragover",function(l){return w(s),C(r.listDragOver(l))})("dragenter",function(l){return w(s),C(r.listDragEnter(l))})("dragleave",function(l){return w(s),C(r.listDragLeave(l))})("drop",function(l){return w(s),C(r.listDragDrop(l))})("mouseenter",function(l){return w(s),C(r.clearObjectInfo(l))}),fn(3,Vot,6,9,"div",3,ro),b()()}o&2&&(f("settings",r.customFormMode?r.contextMenu.OBJECT_CUSTOMFORM:r.contextMenu.OBJECT)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme)("contextMenuRef",r.contextMenuReference),p(3),mn(r._ipobjs))},encapsulation:2});let i=n;return i})();var Uot=["treePanel"],jot=()=>({"max-height":"20em",overflow:"auto"}),Got=i=>({"font-weight":i});function Hot(i,n){if(i&1){let e=B();_(0,"div",1)(1,"p-floatlabel",11)(2,"input",12),ke("ngModelChange",function(o){w(e);let r=h();return Ne(r.selectedObjectName,o)||(r.selectedObjectName=o),C(o)}),b(),_(3,"label",13),R(4),D(5,"translate"),b()(),_(6,"p-button",14),A("onClick",function(o){w(e),h();let r=Ze(2);return C(r.toggle(o))}),b()()}if(i&2){let e=h();p(2),Ae("ngModel",e.selectedObjectName),p(2),Q(k(5,2,"ITEM_PANEL.FIELDS.NAME"))}}function zot(i,n){if(i&1){let e=B();_(0,"span",15),A("dblclick",function(){let o=w(e).$implicit,r=h();return C(r.onSelectObjectNode(o))}),N(1,"i",16),D(2,"fwcIcon"),_(3,"span",17),R(4),b()()}if(i&2){let e=n.$implicit;p(),j(_s("fwcTreeIcon ",vi(2,5,e.data==null?null:e.data.obj_type,e.data==null?null:e.data.node_type))),p(2),f("ngStyle",de(8,Got,e.selectable||e.data!=null&&e.data.alreadySelected?"normal":"bold")),p(),Y(" ",e.label," ")}}var Rs=(()=>{let n=class n{set disabledObjects(t){this._disabledObjects=t,this.manageOptions(t)}set fwcloudId(t){this._fwcloudId=t}constructor(t,o,r,s,a,l,c){this.appOptionsService=t,this.fwcObjectTreeService=o,this.fwcErrorPipe=r,this.messageService=s,this.translate=a,this.fwcUserService=l,this.cd=c,this.objectSelected=new te}ngOnInit(){}ngOnChanges(t){t.fwcloudId&&this.reloadData(this._fwcloudId)}reloadData(t){let o=this.fwcUserService.getActualFwcUser();this.nodeTranslations=this.translate.instant("NODE_TYPES");let r=Object.assign({},this.appOptionsService.optionsTreeFw),s=Object.assign({},this.appOptionsService.optionsTreeObj);r.user_id=s.user_id=o.user_id,r.fwcloud=s.fwcloud=t!==null?t:o.selectedFwCloud,r.objStandard=s.objStandard=0,r.objCloud=s.objCloud=1,Promise.all([this.getTree(r,this.fwTreeNodes),this.getTree(s,this.objectTreeNodes)]).then(([a,l])=>{this.treeData=a.concat(l),this.manageOptions(this._disabledObjects)}).catch(a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})})}getTree(t,o){let r;return r=new Promise((s,a)=>{let l=[];Array.isArray(o)&&o.length?this.fwcObjectTreeService.getTree(t,t.fwcloud).subscribe(c=>{let d;if(c.data.length?d=c.data[0]:d=c.data,Array.isArray(d.items)&&d.items.length)for(let u=0;u<d.items.length;u++){let m=d.items[u];o.findIndex(g=>m.node_type==g)==-1&&(d.items.splice(u,1),u=u-1)}l=this.convertTree([d],o),s(l)},c=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)}),a(c)}):s([])}),this.cd.detectChanges(),r}convertTree(t,o,r){let s=[];return Array.isArray(o)||(o=[]),Array.isArray(this.selectableObjects)||(this.selectableObjects=[]),t.forEach(a=>{this.nodeTranslations[a.node_type]&&!a.id_obj&&(a.text=this.nodeTranslations[a.node_type]);let l=o.findIndex(d=>a.node_type==d)!=-1,c=this.selectableObjects.findIndex(d=>a.obj_type==d)!=-1&&a.id_obj!==null;if(a.node_type!=M.STANDARD&&l||!r){let d={label:a.text,data:{name:a.text,id_obj:a.id_obj,obj_type:a.obj_type,node_type:a.node_type,parent_id:r?r.id_obj:void 0},selectable:c,expanded:!r,children:[]};a.items&&a.items.length&&(d.children=this.convertTree(a.items,o,a)),s.push(d)}}),s}showTree(t,o,r){this.treeMetadata=o,r&&(this.selectedObjectNode=null,this.selectedObjectName=""),this.treePanel.toggle(t)}setOptionSelectable(t,o){let r=this.treeData.slice(0);if(t!=null){for(;r.length;){let s=r.shift();s.data&&s.data.id_obj==t&&(s.data.alreadySelected=!o,s.selectable=o),s.children&&s.children.length&&r.push(...s.children)}this.selectedObjectNode=null,this.selectedObjectName=""}}manageOptions(t){if(!this.treeData)return;let o=this.treeData.slice(0);for(Array.isArray(t)||(t=[]);o.length;){let r=o.shift(),s=t.findIndex(a=>a.ipobj==r.data.id_obj);s!=-1&&(r.data.alreadySelected=!0,t.splice(s,1)),r.children&&r.children.length&&o.push(...r.children)}this.selectedObjectNode=null,this.selectedObjectName=""}onSelectObjectNode(t){if(!t||!t.selectable)return;let o=ee({},t.data);this.selectedObjectName=t.label,this.treePanel&&this.treePanel.hide(),this.treeMetadata&&(o._metadata=this.treeMetadata),this.objectSelected.emit(o)}};n.\u0275fac=function(o){return new(o||n)(x(St),x(En),x(Ni),x(ii),x($e),x(dt),x(We))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-tree-selector"]],viewQuery:function(o,r){if(o&1&&_e(Uot,5),o&2){let s;W(s=$())&&(r.treePanel=s.first)}},inputs:{fwTreeNodes:"fwTreeNodes",objectTreeNodes:"objectTreeNodes",selectableObjects:"selectableObjects",hideObjectName:"hideObjectName",disabledObjects:"disabledObjects",fwcloudId:"fwcloudId"},outputs:{objectSelected:"objectSelected"},standalone:!1,features:[Se([En]),$n],decls:11,vars:8,consts:[["treePanel",""],[1,"p-inputgroup"],["appendTo","body",3,"dismissable"],["selectionMode","single",1,"treeSelector",3,"selectionChange","value","selection"],["pTemplate","default"],[1,"grid"],[1,"col-12"],[1,"fwc-right-float"],["type","button","icon","fa fa-times","styleClass","p-button-warning",3,"onClick"],[1,"fwcSepShort"],["type","button","icon","fa fa-check","styleClass","p-button-success",3,"onClick","disabled"],[1,"p-float-label"],["type","text","pInputText","","maxlength","64","name","_object_name","disabled","true",3,"ngModelChange","ngModel"],["for","_object_name"],["type","button","icon","fa fa-search","styleClass","p-button-secondary max-h-full !min-h-10 !w-8 !px-4 !py-[0.4rem] fwc-icon-center-button",3,"onClick"],[1,"noselect",3,"dblclick"],["aria-hidden","true"],[3,"ngStyle"]],template:function(o,r){if(o&1){let s=B();G(0,Hot,7,4,"div",1),_(1,"p-popover",2,0)(3,"p-tree",3),ke("selectionChange",function(l){return w(s),Ne(r.selectedObjectNode,l)||(r.selectedObjectNode=l),C(l)}),E(4,zot,5,10,"ng-template",4),b(),_(5,"div",5)(6,"div",6)(7,"div",7)(8,"p-button",8),A("onClick",function(){w(s);let l=Ze(2);return C(l.hide())}),b(),N(9,"span",9),_(10,"p-button",10),A("onClick",function(){return w(s),C(r.onSelectObjectNode(r.selectedObjectNode))}),b()()()()()}o&2&&(H(r.hideObjectName?-1:0),p(),f("dismissable",!1),p(2),De(Pe(7,jot)),f("value",r.treeData),Ae("selection",r.selectedObjectNode),p(7),f("disabled",!r.selectedObjectNode))},dependencies:[ft,Hi,_i,io,Zi,_t,Mu,bt,Ka,si,Ir,It,wn],encapsulation:2});let i=n;return i})();var _te=Xr(Oc());var Wot=["optionsTable"],$ot=["routesTreeSelector"],Kot=()=>({width:"40rem",height:"28rem"}),qot=(i,n,e,t,o,r)=>[i,n,e,t,o,r],Jot=(i,n,e,t)=>[i,n,e,t],Qot=(i,n)=>[i,n];function Yot(i,n){i&1&&(_(0,"tr"),N(1,"th",13),_(2,"th",14),R(3),D(4,"translate"),N(5,"p-sortIcon",15),b(),_(6,"th"),R(7),D(8,"translate"),b(),_(9,"th"),R(10),D(11,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,3,"VPN.CONFIG.GRID_HEADER.0")," "),p(4),Q(k(8,5,"VPN.CONFIG.GRID_HEADER.1")),p(3),Q(k(11,7,"VPN.CONFIG.GRID_HEADER.2")))}function Xot(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function Zot(i,n){if(i&1&&(_(0,"div")(1,"div"),R(2),b()()),i&2){let e=n.$implicit;p(2),Q(e.label)}}function ert(i,n){if(i&1){let e=B();_(0,"p-select",22),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(2).$implicit;return Ne(r.name,o)||(r.name=o),C(o)}),A("onChange",function(o){w(e);let r=h(3);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,Xot,2,1,"ng-template",null,6,ie)(4,Zot,3,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(2).$implicit,t=h();f("options",t.availableKeywords),Ae("ngModel",e.name),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function trt(i,n){if(i&1&&R(0),i&2){let e=h(2).$implicit;Y(" ",e.name," ")}}function irt(i,n){i&1&&(_(0,"div",24)(1,"h6",25),N(2,"i",26),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"VPN.CONFIG.DATA_CIPHERS.HEADER")," "))}function nrt(i,n){if(i&1){let e=B();_(0,"div",27)(1,"div",28)(2,"label",29),R(3),D(4,"translate"),b(),_(5,"p-listbox",30),ke("ngModelChange",function(o){w(e);let r=h(4);return Ne(r.selectedItems,o)||(r.selectedItems=o),C(o)}),b()(),_(6,"div",31)(7,"p-button",32),A("onClick",function(){w(e);let o=h(4);return C(o.addSelected())}),b(),_(8,"p-button",33),A("onClick",function(){w(e);let o=h(4);return C(o.removeSelected())}),b()(),_(9,"div",34)(10,"label",35),R(11),D(12,"translate"),b(),_(13,"p-listbox",30),ke("ngModelChange",function(o){w(e);let r=h(4);return Ne(r.removedItems,o)||(r.removedItems=o),C(o)}),b()()()}if(i&2){let e=h(4);p(3),Q(k(4,8,"VPN.CONFIG.DATA_CIPHERS.AVAILABLE_CIPHERS")),p(2),f("options",e.unselectedOptions),Ae("ngModel",e.selectedItems),f("multiple",!0),p(6),Q(k(12,10,"VPN.CONFIG.DATA_CIPHERS.SELECTED_CIPHERS")),p(2),f("options",e.selectedOptions),Ae("ngModel",e.removedItems),f("multiple",!0)}}function ort(i,n){if(i&1){let e=B();_(0,"p-button",36),D(1,"translate"),A("onClick",function(){w(e);let o=h(3).$implicit,r=h();return C(r.confirmSelection(o))}),b(),_(2,"p-button",37),D(3,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.onCloseDialog())}),b()}if(i&2){let e=h(4);f("label",ae(k(1,5,"GLOBALS.MSG_BUTTONS.ACCEPT")))("disabled",e.selectedOptions.length===0),p(2),f("label",ae(k(3,7,"GLOBALS.MSG_BUTTONS.CANCEL")))}}function rrt(i,n){if(i&1){let e=B();_(0,"td",20),A("click",function(){w(e);let o=h(2).$implicit,r=h();return C(r.openDialog(o))}),_(1,"p-dialog",23),ke("visibleChange",function(o){w(e);let r=h(3);return Ne(r.displayDialog,o)||(r.displayDialog=o),C(o)}),A("onHide",function(){w(e);let o=h(3);return C(o.onCloseDialog())}),E(2,irt,5,3,"ng-template",null,1,ie)(4,nrt,14,12,"ng-template",null,4,ie)(6,ort,4,9,"ng-template",null,8,ie),b(),_(8,"p"),R(9),b()()}if(i&2){let e=h(2).$implicit,t=h();p(),De(Pe(6,Kot)),Ae("visible",t.displayDialog),f("modal",!0)("closable",!0),p(8),Y(" ",t.getOptionArgsWithDefault(e)," ")}}function srt(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function art(i,n){if(i&1&&(_(0,"div"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function lrt(i,n){if(i&1){let e=B();_(0,"p-select",22),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(4).$implicit;return Ne(r.arg,o)||(r.arg=o),C(o)}),A("onChange",function(o){w(e);let r=h(5);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,srt,2,1,"ng-template",null,6,ie)(4,art,2,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(4).$implicit,t=h();f("options",t.availableCiphers),Ae("ngModel",e.arg),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function crt(i,n){if(i&1&&(_(0,"p"),R(1),b()),i&2){let e=h(4).$implicit,t=h();p(),Q(t.getOptionArgsWithDefault(e))}}function drt(i,n){i&1&&(_(0,"p-cellEditor"),E(1,lrt,6,6,"ng-template",null,4,ie)(3,crt,2,1,"ng-template",null,5,ie),b())}function prt(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function urt(i,n){if(i&1&&(_(0,"div"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function hrt(i,n){if(i&1){let e=B();_(0,"p-select",22),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(4).$implicit;return Ne(r.arg,o)||(r.arg=o),C(o)}),A("onChange",function(o){w(e);let r=h(5);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,prt,2,1,"ng-template",null,6,ie)(4,urt,2,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(4).$implicit,t=h();f("options",t.complzoOptions),Ae("ngModel",e.arg),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,4,"VPN.CONFIG.NO_OPS"))}}function frt(i,n){if(i&1&&(_(0,"p"),R(1),b()),i&2){let e=h(4).$implicit,t=h();p(),Y(" ",t.getOptionArgsWithDefault(e))}}function mrt(i,n){i&1&&(_(0,"p-cellEditor"),E(1,hrt,6,6,"ng-template",null,4,ie)(3,frt,2,1,"ng-template",null,5,ie),b())}function grt(i,n){if(i&1){let e=B();_(0,"input",39),ke("ngModelChange",function(o){w(e);let r=h(5).$implicit;return Ne(r.arg,o)||(r.arg=o),C(o)}),A("change",function(o){w(e);let r=h(6);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(5).$implicit;Ae("ngModel",e.arg)}}function _rt(i,n){if(i&1&&G(0,grt,1,1,"input",38),i&2){let e=h(4).$implicit,t=h();H(t.checkFlagOption(e)?-1:0)}}function brt(i,n){if(i&1&&R(0),i&2){let e=h(4).$implicit;Y(" ",e.arg," ")}}function yrt(i,n){i&1&&(_(0,"p-cellEditor"),E(1,_rt,1,1,"ng-template",null,4,ie)(3,brt,1,1,"ng-template",null,5,ie),b())}function vrt(i,n){if(i&1){let e=B();_(0,"td",20),A("click",function(o){w(e);let r=h(3);return C(r.scrollToEditorCell(o))}),G(1,drt,5,0,"p-cellEditor")(2,mrt,5,0,"p-cellEditor")(3,yrt,5,0,"p-cellEditor"),b()}if(i&2){let e=h(2).$implicit;p(),H(e.name==="cipher"||e.name==="data-ciphers-fallback"?1:e.name==="comp-lzo"?2:3)}}function wrt(i,n){if(i&1){let e=B();_(0,"input",39),ke("ngModelChange",function(o){w(e);let r=h(2).$implicit;return Ne(r.comment,o)||(r.comment=o),C(o)}),A("change",function(o){w(e);let r=h(3);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(2).$implicit;Ae("ngModel",e.comment)}}function Crt(i,n){if(i&1&&(_(0,"div",40),R(1),b()),i&2){let e=h(2).$implicit;p(),Y(" ",e.comment," ")}}function Srt(i,n){if(i&1){let e=B();_(0,"td",20),A("click",function(o){w(e);let r=h(2);return C(r.scrollToEditorCell(o))}),_(1,"p-cellEditor"),E(2,ert,6,6,"ng-template",null,4,ie)(4,trt,1,1,"ng-template",null,5,ie),b()(),G(6,rrt,10,7,"td",21)(7,vrt,4,1,"td",21),_(8,"td",21)(9,"p-cellEditor"),E(10,wrt,1,1,"ng-template",null,4,ie)(12,Crt,2,1,"ng-template",null,5,ie),b()()}if(i&2){let e=h().$implicit;p(6),H(e.name==="data-ciphers"?6:7)}}function Irt(i,n){if(i&1&&(N(0,"i",41),D(1,"translate")),i&2){let e=h(2).$implicit;f("pTooltip",ae(k(1,2,e.emptyMessageKey)))}}function Ert(i,n){if(i&1){let e=B();_(0,"span"),R(1," \xA0 "),_(2,"i",42),A("mouseenter",function(o){w(e);let r=h(2).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h(3);return C(r.clearObjectInfo(o))})("wheel",function(o){w(e);let r=h(3);return C(r.clearObjectInfo(o))}),b()()}}function xrt(i,n){if(i&1&&(_(0,"td")(1,"strong"),R(2),b()(),_(3,"td"),G(4,Irt,2,4,"i",41),_(5,"strong"),R(6),b(),G(7,Ert,3,0,"span"),b(),_(8,"td")(9,"strong"),R(10),b()()),i&2){let e=h().$implicit;p(2),Q(e.name),p(2),H(e.arg?-1:4),p(2),Q(e.arg),p(),H(e.ipobj&&e.arg?7:-1),p(3),Q(e.comment)}}function Trt(i,n){if(i&1){let e=B();_(0,"tr",16,3)(2,"td",17)(3,"iui-contextmenu",18),A("menuOpening",function(o){let r=w(e),s=r.$implicit,a=r.rowIndex,l=h();return C(l.contextMenuLoad(o,s,a))})("menuClick",function(o){let r=w(e),s=r.$implicit,a=r.rowIndex,l=h();return C(l.contextMenuHandler(o,s,a))}),N(4,"i",19),b()(),G(5,Srt,14,1)(6,xrt,11,5),b()}if(i&2){let e=n.$implicit,t=n.rowIndex,o=h();f("pReorderableRow",t),p(3),f("settings",o.contextMenu)("allowAnimation",!1)("customStyle",o.contextMenuStyle)("colorScheme",o.currentColorScheme),p(2),H(e.readonly?6:5)}}function Ort(i,n){if(i&1){let e=B();_(0,"p-button",43),D(1,"translate"),A("onClick",function(o){w(e);let r=h();return C(r.onAddRouteOrIRoute(o))}),b(),_(2,"p-button",43),D(3,"translate"),A("onClick",function(o){w(e);let r=h();return C(r.onAddRouteOrIRoute(o,!0))}),b(),_(4,"sts-fwc-tree-selector",44,9),A("objectSelected",function(o){w(e);let r=h();return C(r.onRouteObjectSelected(o))}),b()}if(i&2){let e=h();f("label",ae(k(1,9,"VPN.CONFIG.ADD_ROUTE"))),p(2),f("label",ae(k(3,11,"VPN.CONFIG.ADD_IROUTE"))),p(2),f("fwcloudId",null)("hideObjectName",!0)("fwTreeNodes",bs(13,qot,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(20,Jot,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_NETWORK,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(25,Qot,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_NETWORK))}}var $O=(()=>{let n=class n{set options(t){this.buildKeywords(),this.buildOptions(t)}constructor(t,o,r,s,a,l,c,d,u,m){this.refService=t,this.itemSelectedService=o,this.confirmationService=r,this.utilService=s,this.fwcObjectService=a,this.fwcUserService=l,this.fwcInterfaceService=c,this.cd=d,this.translate=u,this.store=m,this.dataChanges=new te,this.optionDeleted=new te,this.contextMenuReference=null,this.contextMenuStyle=[js,Hs,Gs],this.applicationRef=null,this.initialized=!1,this.OptionScope=ye,this.NodeTypes=M,this.ObjectTypes=O,this.alive=!0,this.isClosing=!1,this.infoTooltipShown=!1,this.displayDialog=!1,this.selectedItems=[],this.removedItems=[],this.openVPNDefaultServerOVPOptions=Gk,this.isEditing=!1,this.gridOptions=[],this.availableKeywords=[],this.availableCiphers=Vk,this.defaultCipher=Vk[0].value,this.defaultDataCiphersValue=[51,4,0].map(g=>({label:this.availableCiphers[g].label,value:this.availableCiphers[g].value})),this.unselectedOptions=this.availableCiphers.filter(g=>!this.defaultDataCiphersValue.some(y=>y.value===g.value)),this.selectedOptions=[],this.selectedOptionsDisplay=this.defaultDataCiphersValue.map(g=>g.value).join(":"),this.complzoOptions=Uk,this.complzoDefaultOption=Uk[0].value}ngOnInit(){this.contextMenu={items:[{id:U.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(t=>{t==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.selectedOptions=this.defaultDataCiphersValue,this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions]}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let t=this;setTimeout(function(){let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o},1)}ngOnChanges(t){if(t.options){let r=t.options.currentValue;this.gridOptions=r.filter(s=>s.scope===this.scope)}this.dataChanges.emit(0),this.optionsTable&&!this.initialized&&(setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"smooth",block:"start"})},100),this.initialized=!0,this.cd.detectChanges())}buildKeywords(t){let o=this.scope===ye.ccd?rH:Gk;this.availableKeywords=[];let r=t?t.map(s=>s.name):jI.map(s=>s.name);o.forEach(s=>{let a=r.includes(s),l=jk.includes(s);this.availableKeywords.push({label:s,value:s,disabled:a&&!l})})}buildOptions(t){if(!(!t||this.scope!=ye.ccd&&this.scope!=ye.ovp)){this.requiredOptions=[],this.genericOptions=[],this.gridOptions=[];for(let o=0;o<t.length;o++)t[o].scope==this.scope&&this.gridOptions.push(Object.assign({},t[o]))}}onDeleteOption(t,o){this.checkOptionIsMandatory(t)||this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",rejectVisible:!0,rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),message:this.translate.instant("VPN.CONFIG.ASK_DELETE_OPTION",{name:t.name}),accept:()=>{let r=Object.assign({},t);if(this.checkOptionIsDeletable(t)?(this.gridOptions.splice(o,1),this.optionDeleted.emit(r)):t.arg&&t.arg.length&&(t.arg=void 0,t.ipobj=void 0,t.comment=void 0,this.optionDeleted.emit(r)),!jk.includes(t.name)){let s=this.availableKeywords.find(a=>a.value===t.name);s&&(s.disabled=!1)}}})}onAddOption(){let t=document.activeElement;t&&t.blur(),this.buildKeywords(this.gridOptions),setTimeout(()=>{this.addIPOption("",this.scope)},50)}onAddRouteOrIRoute(t,o){this.routesTreeSelector&&this.routesTreeSelector.showTree(t,{iroute:!!o},!0)}onRouteObjectSelected(t){if(!t||!t._metadata)return;let o,r;switch(t.obj_type){case O.OBJ_ADDRESS:case O.OBJ_NETWORK:o=this.fwcObjectService.getObject.bind(this.fwcObjectService),r=[t.id_obj,this.fwcUserService.getActualFwSelectedCloud()];break}o&&t.id_obj&&this.utilService.fwcAPICall(o,...r).then(s=>{let a=s.data.address,l=s.data.netmask,c,d;if(t.obj_type===O.OBJ_ADDRESS)l="255.255.255.255";else{let u=Mt.netmaskCIDRRegexp.exec(l);if(u){let m=parseInt(u[1]);l=_te.IPv4.subnetMaskFromPrefixLength(m).toString()}}t._metadata.iroute?(c="iroute",d=`${a} ${l}`):(c="push",d=`"route ${a} ${l}"`),this.addIPOption(c,this.scope,d)}).catch(s=>{})}onDataChanged(t){this.dataChanges.emit(1)}contextMenuLoad(t,o,r){let s=!1,a=!1;if(s=this.checkOptionIsMandatory(o),a=s,a){t.detail.cancel=!0;return}this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(l){l.id==U.VPN_OPTION_DELETE&&(l.visible=!s)})}checkOptionIsMandatory(t){let o=!1;for(let r in Cs)if(t.name==Cs[r]){o=!0;break}return o}checkOptionIsDeletable(t){let o=!0;return t.required&&this.gridOptions.filter(s=>s.name==t.name).length<=1&&(o=!1),o}contextMenuHandler(t,o,r){if(t.detail.item)switch(t.detail.item.id){case U.VPN_OPTION_DELETE:this.onDeleteOption(o,r);break}}getOptions(){return this.gridOptions=this.gridOptions.filter(t=>!!t.name),this.gridOptions}getScope(){return this.scope}updateOrCreateIPOption(t,o){if(!t)return;let r=!0,s=this.gridOptions.filter(a=>a.name==t.name);if(s.length==1){let a=s[0];if(!a.ipobj&&a.required||o)for(let l of Object.keys(t))t[l]!==void 0&&t[l]!==null&&(a[l]=t[l]),r=!1}if(r){for(let a=this.gridOptions.length-1;a>=0;a--)if(this.gridOptions[a].name==t.name){this.gridOptions.splice(a+1,0,Object.assign({},t));break}}this.dataChanges.emit(1)}addIPOption(t,o,r,s,a){if(this.gridOptions.length&&!this.gridOptions[this.gridOptions.length-1].name&&this.gridOptions.pop(),this.gridOptions.push({name:t,scope:o,arg:r,ipobj:s,comment:a}),this.selectedOption=this.gridOptions[this.gridOptions.length-1],this.cd.detectChanges(),this.optionsTable&&setTimeout(()=>{this.optionsTable.el.nativeElement.querySelector("table").scrollIntoView({behavior:"instant",block:"end"})},0),t)this.dataChanges.emit(1);else{let l=this.optionsTable.el.nativeElement.querySelector("table tbody tr:last-child");if(l){let c=l.querySelector("td:nth-child(2)");c&&setTimeout(()=>{c.click()},0)}}}modifyIPOption(t,o,r,s){let a=this.gridOptions.find(l=>l.name==t);a&&o===this.scope&&(a.arg=r,this.onDataChanged(1),s!=null&&(a.ipobj=s))}checkFlagOption(t){return iH.includes(t.name)}clearOptions(){this.options=[],this.gridOptions=[],this.initialized=!1}showObjectInfo(t,o){if(t){let r={objId:t.ipobj};r.objId!==null&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,o)},1e3))}}clearObjectInfo(t){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,t),this.infoTooltipShown=!1)}addSelected(){let t=this.selectedItems.filter(o=>!this.selectedOptions.some(r=>r.value===o.value));this.selectedOptions.push(...t),this.unselectedOptions=this.unselectedOptions.filter(o=>!this.selectedItems.includes(o)),this.unselectedOptions.sort((o,r)=>o.label.localeCompare(r.label)),this.selectedItems=[],this.removedItems=[],this.cd.detectChanges()}removeSelected(){let t=this.removedItems.filter(o=>!this.unselectedOptions.some(r=>r.value===o.value));this.unselectedOptions.push(...t),this.unselectedOptions.sort((o,r)=>o.label.localeCompare(r.label)),this.selectedOptions=this.selectedOptions.filter(o=>!this.removedItems.includes(o)),this.removedItems=[],this.selectedItems=[],this.cd.detectChanges()}confirmSelection(t){this.initialSelectedOptions=[...this.selectedOptions],this.initialUnselectedOptions=[...this.unselectedOptions],this.selectedOptionsDisplay=this.selectedOptions.map(o=>o.label).join(":"),t.arg=this.selectedOptionsDisplay,this.displayDialog=!1,this.cd.detectChanges(),this.dataChanges.emit(1)}openDialog(t){if(!this.displayDialog){let o=t?.arg&&t.arg.trim()!==""?t.arg:this.defaultDataCiphersValue.map(s=>s.value).join(":"),r=o.split(":");this.selectedOptions=r.map(s=>this.availableCiphers.find(a=>a.value===s)).filter(s=>s!==void 0),this.unselectedOptions=this.availableCiphers.filter(s=>!o.includes(s.value)).sort((s,a)=>s.label.localeCompare(a.label)),setTimeout(()=>{this.displayDialog=!0,this.cd.detectChanges()},0)}}onCloseDialog(){this.isClosing||(this.isClosing=!0,this.selectedOptions=[...this.initialSelectedOptions],this.unselectedOptions=[...this.initialUnselectedOptions],setTimeout(()=>{this.displayDialog=!1,this.isClosing=!1,this.dataChanges.emit(0),this.cd.detectChanges()},300))}scrollToEditorCell(t){let o=t.currentTarget;o&&setTimeout(()=>{o.scrollIntoView({behavior:"instant",block:"center"}),this.dropdown.show()},0)}getOptionArgsWithDefault(t){return(!t.arg||t.arg===""||t.arg.trim()==="")&&(t.name==="data-ciphers"?t.arg=this.defaultDataCiphersValue.map(o=>o.value).join(":"):t.name==="cipher"||t.name==="data-ciphers-fallback"?t.arg=this.defaultCipher:t.name==="comp-lzo"&&(t.arg=this.complzoDefaultOption)),t.arg}onEditStart(){this.isEditing=!0}onEditEnd(){this.isEditing=!1}};n.\u0275fac=function(o){return new(o||n)(x(sa),x(yt),x(ti),x(Tt),x(Ki),x(dt),x(Wr),x(We),x($e),x(tt))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ovoptions-grid"]],viewQuery:function(o,r){if(o&1&&(_e(Pn,5),_e(Wot,5),_e($ot,5)),o&2){let s;W(s=$())&&(r.dropdown=s.first),W(s=$())&&(r.optionsTable=s.first),W(s=$())&&(r.routesTreeSelector=s.first)}},inputs:{scope:"scope",options:"options"},outputs:{dataChanges:"dataChanges",optionDeleted:"optionDeleted"},standalone:!1,features:[Se([Wr,Ki]),$n],decls:10,vars:8,consts:[["optionsTable",""],["header",""],["body",""],["dropwdown",""],["input",""],["output",""],["selectedItem",""],["item",""],["footer",""],["routesTreeSelector",""],["scrollHeight","13em","selectionMode","single",1,"optionsTable",3,"selectionChange","onEditComplete","onRowReorder","onEditInit","onEditCancel","value","scrollable","selection"],[1,"divGridFooter"],["icon","fa fa-plus",3,"onClick","label"],[1,"tdActionColumn"],["pSortableColumn","name"],["field","name"],[1,"trOptionsGridRow",3,"pReorderableRow"],["pReorderableRowHandle","",1,"tdActionColumn"],["contextMenuRef","contextMenuReference",3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],["pReorderableRowHandle","",1,"fa","fa-bars","fwcBlue"],["pEditableColumn","",3,"click"],["pEditableColumn",""],["appendTo","body","filter","true",1,"fwcGridDropDown",3,"ngModelChange","onChange","keydown","keydown.arrowUp","keydown.arrowDown","options","ngModel","autoDisplayFirst","emptyFilterMessage"],["id","data-ciphers","styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","closable"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"dual-list"],[1,"ciphersList"],["for","availableCiphers",1,"fwcBlue"],["optionLabel","label",3,"ngModelChange","options","ngModel","multiple"],[1,"button-group"],["icon","pi pi-arrow-right",3,"onClick"],["styleClass","p-button-danger","icon","pi pi-arrow-left",3,"onClick"],[1,"selectedOptions"],["for","selectedCiphers",1,"fwcBlue"],["icon","pi pi-check",3,"onClick","label","disabled"],["styleClass","p-button-danger","icon","pi pi-times",3,"onClick","label"],["pInputText","","type","text","maxlength","255",3,"ngModel"],["pInputText","","type","text","maxlength","255",3,"ngModelChange","change","keydown","keydown.arrowUp","keydown.arrowDown","ngModel"],[1,"divWrapper"],[1,"fa","fa-question-circle","fa-lg","fwcOrange",3,"pTooltip"],[1,"fa","fa-lg","fa-info-circle","fwcBlue",3,"mouseenter","mouseleave","wheel"],[3,"onClick","label"],[3,"objectSelected","fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"]],template:function(o,r){if(o&1){let s=B();_(0,"p-table",10,0),ke("selectionChange",function(l){return w(s),Ne(r.selectedOption,l)||(r.selectedOption=l),C(l)}),A("onEditComplete",function(l){return w(s),C(r.onDataChanged(l))})("onRowReorder",function(l){return w(s),C(r.onDataChanged(l))})("onRowReorder",function(l){return w(s),C(r.onDataChanged(l))})("onEditInit",function(){return w(s),C(r.onEditStart())})("onEditCancel",function(){return w(s),C(r.onEditEnd())})("onEditComplete",function(){return w(s),C(r.onEditEnd())}),E(2,Yot,12,9,"ng-template",null,1,ie)(4,Trt,7,6,"ng-template",null,2,ie),b(),_(6,"div",11)(7,"p-button",12),D(8,"translate"),A("onClick",function(){return w(s),C(r.onAddOption())}),b(),G(9,Ort,6,28),b()}o&2&&(f("value",r.gridOptions)("scrollable",!0),Ae("selection",r.selectedOption),p(7),f("label",ae(k(8,6,"VPN.CONFIG.ADD_OPTION"))),p(2),H(r.scope===r.OptionScope.ccd?9:-1))},dependencies:[Hi,_i,io,Zi,Ut,cn,bt,si,go,ul,Bf,Yg,hl,Xg,Zg,Pn,CT,Rs,It],styles:[`@charset "UTF-8";.p-select.fwcGridDropDown{width:100%!important}.tdActionColumn{width:2.5em}.optionsTable thead th{height:32px;padding:.3rem;line-height:1.1}tr.trOptionsGridRow{height:32px}tr.trOptionsGridRow td{overflow:hidden;font-family:Montserrat,Arial,sans-serif;padding:.3rem;line-height:1.1;vertical-align:middle}tr.trOptionsGridRow td .divWrapper{position:relative;height:100%;width:100%}tr.trOptionsGridRow td .divWrapper:before{content:"\\a0"}tr.trOptionsGridRow td .divWrapper .divColButtons{cursor:pointer;position:absolute;right:-2.5rem;top:0;transition:all .3s ease-in-out}tr.trOptionsGridRow td .divWrapper .divColButtons i{color:var(--fwcWhite);background:var(--fwcRed);display:inline-block;width:1.5rem;height:1.5rem;text-align:center;line-height:1.5rem;border-radius:50%;margin-top:-.2rem}tr.trOptionsGridRow td .divWrapper .divColButtons i:active{transform:scale(.95)}tr.trOptionsGridRow:hover .divColButtons{right:0!important}.trOptionsGridRow input.p-inputtext{height:20px!important}td p-celleditor p-select .fwcGridDropDown span.p-select-label{padding:.1rem!important}div.divGridFooter{text-align:center;padding:.2rem}div.divGridFooter button{font-size:.8rem!important;margin-left:.5rem}.dual-list{display:flex;width:100%;justify-content:space-between}.dual-list .p-listbox{width:200px;height:300px}.dual-list .p-listbox-list-wrapper{max-height:300px!important}.button-group{display:flex;flex-direction:column;align-items:center;margin-top:20%}.button-group>button{height:3rem;width:4rem;max-height:3rem!important;max-width:4rem!important}.button-group p{margin:10px}.p-datatable-reorderablerow-handle{margin-left:5px!important;margin-top:3px!important}
`],encapsulation:2});let i=n;return i})();var Sm=Xr(Oc());function T0(i,n,e){let t,o;try{o=Sm.parse(i)}catch{return{valid:!1,error:"invalidIP",message:e.instant("VPN.PANEL.ERRORS.IP_INVALID"),prefix:null}}let r=/^\/(\d{1,2})$/.exec(n);if(r)t=parseInt(r[1],10);else try{t=Sm.IPv4.parse(n).prefixLengthFromSubnetMask()}catch{t=null}if(t===null||isNaN(t)||t<0||t>30)return{valid:!1,error:"invalidMask",message:e.instant("VPN.PANEL.ERRORS.NETMASK_INVALID"),prefix:t};let s=`${i}/${t}`,a,l;try{[a]=Sm.parseCIDR(s),l=Sm.IPv4.networkAddressFromCIDR(`${a.toString()}/${t}`)}catch{return{valid:!1,error:"invalidCIDR",message:e.instant("VPN.PANEL.ERRORS.NETMASK_INVALID"),prefix:t}}return o.toString()!==l.toString()?{valid:!1,error:"notNetworkAddress",message:e.instant("VPN.PANEL.ERRORS.IP_NOT_IN_NETWORK",{network:l.toString()}),prefix:t}:{valid:!0,prefix:t}}var vte=Xr(Kd()),ou=Xr(Oc());var O0=(()=>{let n=class n{constructor(t){this.el=t}ngAfterViewInit(){this.focusElement()}focusElement(){setTimeout(()=>{this.el&&this.el.nativeElement&&this.el.nativeElement.focus()},400)}};n.\u0275fac=function(o){return new(o||n)(x(Ei))},n.\u0275dir=ht({type:n,selectors:[["","appAutofocus",""]],standalone:!1});let i=n;return i})();var Drt=["txtConfigFile"],Prt=()=>({width:"80vw"}),Art=(i,n)=>({obj_type:i,name:n}),Y3=i=>({name:i}),krt=()=>({visibility:"visible"}),KO=i=>({visibility:i}),Nrt=(i,n,e,t,o,r)=>[i,n,e,t,o,r],Frt=(i,n,e,t)=>[i,n,e,t],Lrt=(i,n)=>[i,n],Mrt=()=>({height:"2.5rem"}),Brt=()=>({width:"1.7rem",height:"1.7rem"}),Vrt=i=>({obj_type:i});function Urt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i"),D(3,"fwcIcon"),R(4),D(5,"translate"),D(6,"translate"),b()()),i&2){let e=h(2);p(2),j(Zs(3,3,e.objectToDelete._fwcObjType,null,"fwcOrange")),p(2),Y(" ",vi(6,9,"VPN.CONFIG.HEADER_DELETE_2",Ct(12,Art,k(5,7,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR"),e.objectToDelete._fwcObjName))," ")}}function jrt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.HEADER_FILE",de(4,Y3,e.objectToRetrieve._fwcObjName))," ")}}function Grt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,e.configManageTranslateKey+".FORM_HEADER",de(4,Y3,e.objectToManage._fwcObjName))," ")}}function Hrt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",15),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.HEADER_WU",de(4,Y3,e.objectToSearchWU._fwcObjName))," ")}}function zrt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),b()()),i&2){let e=h(2);p(3),Y(" ",e.headerTitle," ")}}function Wrt(i,n){if(i&1){let e=B();_(0,"div",12)(1,"p-button",16),A("onClick",function(){w(e);let o=h(2);return C(o.minimizeDialog())}),b()()}}function $rt(i,n){if(i&1&&(G(0,Urt,7,15,"div",11),G(1,jrt,5,6,"div",11),G(2,Grt,5,6,"div",11),G(3,Hrt,5,6,"div",11),G(4,zrt,4,1,"div",11),G(5,Wrt,2,0,"div",12)),i&2){let e=h();H(e.objectToDelete?0:-1),p(),H(e.objectToRetrieve?1:-1),p(),H(e.objectToManage?2:-1),p(),H(e.objectToSearchWU?3:-1),p(),H(!e.objectToDelete&&!e.objectToRetrieve&&!e.objectToManage&&!e.objectToSearchWU?4:-1),p(),H(e.disableButtons?-1:5)}}function Krt(i,n){i&1&&(_(0,"div",6)(1,"div",17),N(2,"p-progressSpinner"),b()())}function qrt(i,n){if(i&1&&(_(0,"div",6)(1,"div",18),N(2,"sts-fwc-message",19),b()()),i&2){let e=h();p(2),f("message",e.errorMsg)}}function Jrt(i,n){if(i&1){let e=B();_(0,"div",20),N(1,"sts-fwc-message",19),_(2,"sts-fwc-object-restrictions",21),A("onHideParent",function(){w(e);let o=h(3);return C(o.minimizeDialog(!0))})("onRefreshRestrictions",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()()}if(i&2){let e=h(3);p(),f("message",e.deleteMsg),p(),f("dependencies",e.dependencies)("readOnly",e.restrictionsReadOnly)}}function Qrt(i,n){if(i&1&&G(0,Jrt,3,3,"div",20),i&2){let e=h(2);H(e.dependencies.restrictionsError?-1:0)}}function Yrt(i,n){if(i&1){let e=B();_(0,"div",22)(1,"p-checkbox",23),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.alsoUninstallConfig,o)||(r.alsoUninstallConfig=o),C(o)}),b(),_(2,"label",24),R(3),D(4,"translate"),b()()}if(i&2){let e=h(3);p(),Ae("ngModel",e.alsoUninstallConfig),p(2),Y("\xA0",k(4,2,"VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST"))}}function Xrt(i,n){if(i&1&&(N(0,"sts-fwc-message",19),G(1,Yrt,5,4,"div",22)),i&2){let e=h(2);f("message",e.deleteMsg),p(),H(e.objectToDelete.obj_type==e.ObjectTypes.OBJ_OPENVPN_CONFIG_SER||e.objectToDelete.obj_type==e.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI?1:-1)}}function Zrt(i,n){if(i&1&&G(0,Qrt,1,1)(1,Xrt,2,2),i&2){let e=h();H(e.dependencies?0:1)}}function est(i,n){if(i&1&&(_(0,"div",7)(1,"div",25)(2,"textarea",26,3),R(4),b()()()),i&2){let e=h();p(4),Q(e.configFile)}}function tst(i,n){if(i&1&&(_(0,"span"),N(1,"i",34),R(2,"\xA0"),_(3,"strong"),R(4),b()()),i&2){let e=h(2).$implicit;p(4),Q(e.firewallName)}}function ist(i,n){if(i&1&&(_(0,"span"),N(1,"span",35)(2,"i",36),R(3),b()),i&2){let e=h(2).$implicit;p(3),Y("\xA0",e.firewallName)}}function nst(i,n){if(i&1&&(_(0,"td"),G(1,tst,5,1,"span"),G(2,ist,4,1,"span"),b()),i&2){let e=h().$implicit;p(),H(e.isNode?-1:1),p(),H(e.isNode?2:-1)}}function ost(i,n){if(i&1&&(_(0,"td"),N(1,"i",36),R(2),b()),i&2){let e=h().$implicit;p(2),Y("\xA0",e.firewallName," ")}}function rst(i,n){if(i&1&&(_(0,"tr",31),G(1,nst,3,2,"td"),G(2,ost,3,1,"td"),_(3,"td",30),N(4,"i"),b()()),i&2){let e=n.$implicit,t=h(2);f("ngClass",e.coloredBg?"bgColored":"bgNormal"),p(),H(e.clusterId!==null&&e.clusterId!==void 0?1:-1),p(),H(e.clusterId===null||e.clusterId===void 0?2:-1),p(2),j(t.FirewallOpsIcons[e.installState])}}function sst(i,n){if(i&1&&(_(0,"div",8)(1,"div",27)(2,"div",28)(3,"table",29)(4,"thead")(5,"tr")(6,"th"),R(7),D(8,"translate"),b(),_(9,"th",30),R(10),D(11,"translate"),b()()(),_(12,"tbody"),fn(13,rst,5,5,"tr",31,ro),b()()()(),_(15,"div",32),N(16,"sts-fwc-log",33),b()()),i&2){let e=h();p(7),Q(k(8,3,"COMPILE.FORM.NAME")),p(3),Y(" ",k(11,5,e.configManageTranslateKey+".OPERATION")," "),p(3),mn(e.operationQueue),p(3),f("autoResize",!0)}}function ast(i,n){if(i&1){let e=B();_(0,"sts-fwc-object-wu",37),A("onHideParent",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()}if(i&2){let e=h();f("objectInfo",e.objectToSearchWU._fwcObjectInfo)("readOnly",e.restrictionsReadOnly)}}function lst(i,n){if(i&1&&(_(0,"div",48)(1,"label",71),R(2),D(3,"translate"),b(),N(4,"input",72),b()),i&2){let e=h(2);p(2),Q(k(3,3,e.object.parent_type==e.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER")),p(2),f("value",ae(e.object.parent_name))}}function cst(i,n){if(i&1&&(_(0,"div",48)(1,"label",71),R(2),D(3,"translate"),b(),N(4,"input",72),b()),i&2){let e=h(2);p(2),Q(k(3,3,"VPN.CONFIG.SER.OPENVPN")),p(2),f("value",ae(e.object._fwcParentConfigName))}}function dst(i,n){if(i&1&&(_(0,"div",73),N(1,"i",74),D(2,"translate"),b()),i&2){let e=h(2);p(),f("pTooltip",ae(k(2,3,e.ipNetmaskErrorMsg)))("ngStyle",Pe(5,krt))}}function pst(i,n){if(i&1&&(_(0,"p",83),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,KO,(e=t.formModel.get("install_dir"))!=null&&e.valid||(e=t.formModel.get("install_dir"))!=null&&e.pristine&&((e=t.formModel.get("install_dir"))!=null&&e.untouched)?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.PANEL.ERRORS.INVALID_INSTALL_PATH")," ")}}function ust(i,n){if(i&1&&(_(0,"p",83),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,KO,(e=t.formModel.get("install_name"))!=null&&e.valid?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")," ")}}function hst(i,n){if(i&1){let e=B();_(0,"div",62)(1,"p-fieldset",75),D(2,"translate"),_(3,"div",76)(4,"div",77)(5,"div",48)(6,"p-floatlabel",68)(7,"input",78),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(8,"label",79),R(9),D(10,"translate"),b()()(),E(11,pst,3,6,"p",80),b(),_(12,"div",77)(13,"div",48)(14,"p-floatlabel",68)(15,"input",81),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(16,"label",82),R(17),D(18,"translate"),b()()(),E(19,ust,3,6,"p",80),b()()()()}if(i&2){let e,t,o=h(2);p(),f("legend",k(2,5,"VPN.PANEL.FIELDS.INST_OPTIONS")),p(8),Q(k(10,7,"VPN.PANEL.FIELDS.CONFIG_DIR")),p(2),f("ngIf",!((e=o.formModel.get("install_dir"))!=null&&e.valid||(e=o.formModel.get("install_dir"))!=null&&e.pristine&&((e=o.formModel.get("install_dir"))!=null&&e.untouched))),p(6),Q(k(18,9,"VPN.PANEL.FIELDS.CONFIG_FILE")),p(2),f("ngIf",!((t=o.formModel.get("install_name"))!=null&&t.valid))}}function fst(i,n){if(i&1&&(_(0,"div",95)(1,"p",83),R(2),D(3,"translate"),b()()),i&2){let e=h(3);p(),f("ngStyle",de(4,KO,e.formModelRemote!=null&&e.formModelRemote.invalid&&(e.formModelRemote!=null&&e.formModelRemote.touched)&&(e.formModelRemote!=null&&e.formModelRemote.dirty)?"visible":"hidden")),p(),Y(" ",k(3,2,"VPN.PANEL.ERRORS.INVALID_REMOTE")," ")}}function mst(i,n){if(i&1){let e=B();_(0,"div",63)(1,"form",84)(2,"p-fieldset",85)(3,"div",86)(4,"div",87)(5,"sts-fwc-tree-selector",88,4),A("objectSelected",function(o){w(e);let r=h(2);return C(r.onRemoteIPObjectChange(o))}),b()(),_(7,"div",89)(8,"p-floatlabel",68)(9,"input",90),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(10,"label",91),R(11),D(12,"translate"),b()()(),_(13,"div",92)(14,"p-button",93),A("onClick",function(){w(e);let o=h(2);return C(o.onAddRemoteOption())}),b()(),E(15,fst,4,6,"div",94),b()()()()}if(i&2){let e=h(2);p(),f("formGroup",e.formModelRemote),p(4),f("fwcloudId",null)("fwTreeNodes",bs(13,Nrt,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(20,Frt,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_DNS,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(25,Lrt,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_DNS))("disabledObjects",e.disabledTreeRemoteOptions),p(6),Q(k(12,11,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),p(3),De(Pe(28,Mrt)),f("disabled",!(e.formModelRemote!=null&&e.formModelRemote.valid)),p(),f("ngIf",(e.formModelRemote==null?null:e.formModelRemote.invalid)&&(e.formModelRemote==null?null:e.formModelRemote.touched)&&(e.formModelRemote==null?null:e.formModelRemote.dirty))}}function gst(i,n){if(i&1){let e=B();_(0,"div",64)(1,"h5",65),R(2),D(3,"translate"),b(),_(4,"sts-fwc-ovoptions-grid",66),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("dataChanges",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))}),b()()}if(i&2){let e=h(2);p(2),Y(" ",k(3,3,"VPN.CONFIG.CCD")," "),p(2),f("options",e.object.options)("scope",e.OptionScope.ccd)}}function _st(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",38)(2,"button",39),N(3,"i",40),_(4,"span"),R(5),D(6,"translate"),b()()(),_(7,"section",41)(8,"div",42)(9,"form",43)(10,"fieldset",44),A("keyup.enter",function(o){w(e);let r=h();return C(r.checkForm(o))})("keyup.esc",function(){w(e);let o=h();return C(o.onCancel())}),_(11,"div",45)(12,"div",46)(13,"div",45)(14,"div",47),G(15,lst,5,5,"div",48),G(16,cst,5,5,"div",48),b(),_(17,"div",47)(18,"div",48)(19,"label",49),R(20),D(21,"translate"),b(),N(22,"input",50),b()()()(),_(23,"div",51)(24,"p-fieldset",52)(25,"div",6)(26,"div",27)(27,"div",48)(28,"p-floatlabel",53)(29,"input",54),A("drop",function(){w(e);let o=h();return C(o.preventDrop())}),b(),_(30,"label",55),R(31),D(32,"translate"),b()()()(),_(33,"div",56)(34,"div",48)(35,"p-floatlabel",53)(36,"input",57),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowOnlyNumbersAndDot(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(37,"label",58),R(38),D(39,"translate"),b()()()(),_(40,"div",27)(41,"div",48)(42,"p-floatlabel",53)(43,"input",59),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowNumbersDotAndSlash(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(44,"label",60),R(45),D(46,"translate"),b()()()(),E(47,dst,3,6,"div",61),b()()(),G(48,hst,20,11,"div",62),G(49,mst,16,29,"div",63),G(50,gst,5,5,"div",64),_(51,"div",31)(52,"h5",65),R(53),D(54,"translate"),b(),_(55,"sts-fwc-ovoptions-grid",66),A("optionDeleted",function(o){w(e);let r=h();return C(r.onOptionsDelete(o))})("dataChanges",function(o){w(e);let r=h();return C(r.onOptionsChange(o))}),b()(),_(56,"div",67)(57,"div",48)(58,"p-floatlabel",68)(59,"input",69),A("drop",function(){w(e);let o=h();return C(o.preventDrop())}),b(),_(60,"label",70),R(61),D(62,"translate"),b()()()()()()()()()()}if(i&2){let e,t=h();p(5),Q(k(6,21,"VPN.PANEL.DATA")),p(4),f("formGroup",t.formModel),p(6),H(t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_SER?15:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI?16:-1),p(4),Q(k(21,23,"VPN.CONFIG.CN")),p(2),f("value",ae(t.object._fwcCrtName)),p(2),f("legend",ae(t.fieldsetTitle)),p(7),Q(k(32,25,"ITEM_PANEL.FIELDS.NAME")),p(7),Q(k(39,27,"ITEM_PANEL.FIELDS.ADDRESS")),p(7),Q(k(46,29,"ITEM_PANEL.FIELDS.MASK")),p(2),f("ngIf",((e=t.formModel.get("_ipobj_address"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_address"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_netmask"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_netmask"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_name"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_name"))==null?null:e.invalid)),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_SER?48:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI?49:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI?50:-1),p(),f("ngClass",t.object.obj_type==t.ObjectTypes.OBJ_OPENVPN_CONFIG_CLI?"col-6":"col-12"),p(2),Y(" ",k(54,31,"VPN.CONFIG.OVP")," "),p(2),f("options",t.object.options)("scope",t.OptionScope.ovp),p(6),Q(k(62,33,"ITEM_PANEL.FIELDS.COMMENTS"))}}function bst(i,n){if(i&1){let e=B();_(0,"p-button",100),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"POLICY_GRID.RELOAD")))("disabled",e.loadingData)}}function yst(i,n){if(i&1){let e=B();G(0,bst,2,5,"p-button",98),_(1,"p-button",99),D(2,"translate"),D(3,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onProcessDeleteAction())}),b()}if(i&2){let e=h(2);H(e.dependencies?0:-1),p(),f("label",ae(vi(3,6,"CONTEXT.VPN_CONFIG.DELETE_2",de(9,Vrt,k(2,4,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR")))))("disabled",!e.okToDelete||e.loadingData||e.savingData)}}function vst(i,n){if(i&1){let e=B();_(0,"p-button",103),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCopyConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")))("disabled",e.loadingData)}}function wst(i,n){if(i&1){let e=B();_(0,"p-button",104),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDownloadConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.DOWNLOAD.BUTTON")))("disabled",e.loadingData)}}function Cst(i,n){if(i&1&&(G(0,vst,2,5,"p-button",101),G(1,wst,2,5,"p-button",102)),i&2){let e=h(2);H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?0:-1),p(),H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?1:-1)}}function Sst(i,n){if(i&1){let e=B();_(0,"p-button",108),D(1,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.doPauseProcess(!0))}),b()}if(i&2){let e=h(4);f("label",ae(k(1,3,"COMPILE.PAUSE")))("disabled",e.disableButtons)}}function Ist(i,n){if(i&1){let e=B();_(0,"p-button",109),A("onClick",function(){w(e);let o=h(4);return C(o.doContinueProcess())}),b()}if(i&2){let e=h(4);f("disabled",e.disableButtons)("label",e.continueButtonText)}}function Est(i,n){if(i&1){let e=B();_(0,"p-button",105),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.doStopProcess())}),b(),G(2,Sst,2,5,"p-button",106)(3,Ist,1,2,"p-button",107)}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.STOP"))),p(2),H(e.pauseProcess?3:2)}}function xst(i,n){if(i&1&&G(0,Est,4,5),i&2){let e=h(2);H(e.operationInProcessId<e.operationQueue.length&&!e.stopProcess?0:-1)}}function Tst(i,n){if(i&1){let e=B();_(0,"p-button",112),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",!e.object||e.loadingData||e.savingData)}}function Ost(i,n){if(i&1){let e=B();_(0,"p-button",113),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onSave())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData||e.savingData)}}function Rst(i,n){if(i&1&&(G(0,Tst,2,5,"p-button",110),G(1,Ost,2,5,"p-button",111)),i&2){let e=h(2);H(e.formModel.pristine?-1:0),p(),H(e.formModel.pristine?-1:1)}}function Dst(i,n){if(i&1){let e=B();_(0,"p-button",114),D(1,"translate"),A("mousedown",function(){w(e);let o=h(2);return C(o.onCancel())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function Pst(i,n){if(i&1&&(_(0,"div",96),N(1,"p-progressSpinner"),b(),G(2,yst,4,11),G(3,Cst,2,2),G(4,xst,1,1),G(5,Rst,2,2),G(6,Dst,2,5,"p-button",97)),i&2){let e=h();f("ngStyle",de(8,KO,e.savingData?"visible":"hidden")),p(),De(Pe(10,Brt)),p(),H(e.objectToDelete?2:-1),p(),H(e.objectToRetrieve?3:-1),p(),H(e.objectToManage?4:-1),p(),H(e.object&&e.formModel?5:-1),p(),H(!e.object||!e.formModel||e.object&&e.formModel&&e.formModel.pristine?6:-1)}}var bte=6e4,yte=["server","ifconfig-push","remote"],uxi=(()=>{let n=class n extends jt{ipNetmaskValidator(t){if(!this.formModel||!this.object||!this.formModel.controls._ipobj_address)return{ipNetmaskValidator:!0};let o=!1,r="",s="",a,l,c;this.formModel.controls._ipobj_address&&(r=this.formModel.controls._ipobj_address.value||""),r&&this.formModel.controls._ipobj_address.markAsTouched(),this.formModel.controls._ipobj_netmask&&(s=this.formModel.controls._ipobj_netmask.value||""),s&&this.formModel.controls._ipobj_netmask.markAsTouched();let d=Mt.netmaskCIDRRegexp.exec(s);if(d){let u=parseInt(d[1]);try{s=ou.IPv4.subnetMaskFromPrefixLength(u).toString()}catch{o=!1}}return r.match(Mt.ipV4Regexp)&&s.match(Mt.netmaskRegexp)&&(c=r.trim()+" "+s.trim(),this.formModel.controls._ipobj_address.setErrors(null),o=!0),this.object.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(a=ye.ccd,l=Cs.O_CLIENT):this.object.obj_type==O.OBJ_OPENVPN_CONFIG_SER&&(a=ye.ovp,l=Cs.O_SERVER),this.optionsGrids.forEach(u=>{u.getScope()===a&&u.modifyIPOption(l,a,c)}),o?null:{ipNetmaskValidator:!0}}constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,L,F),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcObjectTreeService=d,this.fwcVpnService=u,this.inputDataService=m,this.fwcErrorPipe=g,this.translate=y,this.confirmationService=v,this.utilService=S,this.fwcEventService=I,this.messageService=P,this.store=L,this.router=F,this.restrictionsReadOnly=!1,this.ObjectTypes=O,this.CACertTypes=f_,this.OptionScope=ye,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=Id,this.operationQueue=[],this.operationStatus={},this.pauseProcess=!1,this.disableButtons=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=M,this.alive=!0,this.lastValidGridValue=null,this.originalAddress="",this.originalNetmask="",this.allowBlurValidation=!1,this.isClient=!1,this.createDialog(this.translate.instant("VPN.PANEL.TITLE"),"fwci2-openvpn",oi.OVCONFIG_PANEL)}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectDialogUuidsToReload)).subscribe(t=>{t&&t.find(o=>o===this.dialogUUID)&&this.reloadPanel()}),this.initialFormValue=this.formModel?.getRawValue(),this.itemSelectedService.getItem().pipe(Nt(()=>this.alive)).subscribe(t=>V(this,null,function*(){if(!(t.obj_type!=O.OBJ_OPENVPN_CONFIG_SER&&t.obj_type!=O.OBJ_OPENVPN_CONFIG_CLI&&t.obj_type!=O.OBJ_PREFIX_FOLDER&&t.obj_type!=O.OBJ_OPENVPN_PREFIX||t.statusAction||t._onlySelectInTree)){if(this.resetProperties(),t.parent_type==O.OBJ_CLUSTER){let o;if(o=yield this.getClusterMasterFirewall(t.parent_id),o)t.firewall=o.id;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:t.parent_name})});return}}else t.firewall=t.parent_id;if(t.deleteAction)this.onItemDelete(t);else if(t.configFileAction)this.onItemGetFile(t);else if(t.installAction||t.syncCCDAction||t.uninstallAction||t.syncPendingCCDAction){let o=this.utilService.createDynamicComponentRef(Pr),r=o.instance;r.setDynamicComponentRef(o),this.communicationSubscription=r.socketEventEmitter.subscribe(s=>{s=="connected"&&this.onItemManage(t),this.communicationSubscription.unsubscribe()}),r.checkConnection()}else if(t.newPrefixAction||t.editPrefixAction||t.deletePrefixFolderAction)this.managePrefix(t);else if(t.whereUsedAction)this.showWhereUsed(t);else if(t.blockVPNAction||t.unblockVPNAction)this.blockUnblockVPNConnection(t);else if(Array.isArray(t._fwcChildClientNodes)&&t._fwcChildClientNodes.length){let o=[];t._fwcChildClientNodes.forEach(s=>{o.find(a=>a.id===s.id_obj)||o.push({id:s.id_obj,text:s.name})});let r={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.HEADER_CLI"),type:"select",options:o,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:s=>{if(s)if(s.clientConfId)t._fwcObjId=s.clientConfId,this.onItemSelect(t,!0);else{let a=ee({},t);delete a._fwcChildClientNodes,this.onItemSelect(a)}}};this.inputDataService.setInputData(r)}else this.onItemSelect(t)}}))}ngOnDestroy(){super.ngOnDestroy()}startTimeoutHandler(){this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},bte)}refreshTimeoutHandler(){clearTimeout(this.timeoutTimer),this.startTimeoutHandler()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified){if(this.objectToDelete){let t=Object.assign({},this.objectToDelete),o=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(t),this.dialogId==o&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let t=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(t)}}this.store.dispatch(an.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.formModel&&this.formModel.reset(),this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null}getFirstAvailableIP(t,o){if(!ou.isValid(t))throw new Error("IP address is invalid");let r,s,a=o.match(Mt.netmaskCIDRRegexp);if(a){if(r=parseInt(a[1],10),r<0||r>32)throw new Error("Netmask is invalid");s=ou.IPv4.subnetMaskFromPrefixLength(r).toString()}else{if(!Mt.netmaskRegexp.test(o))throw new Error("Netmask is invalid");let g=ou.IPv4.parse(o).prefixLengthFromSubnetMask();if(g===null||g<0||g>32)throw new Error("Netmask is invalid");r=g,s=o}let l=`${t}/${r}`,c=ou.IPv4.networkAddressFromCIDR(l);if(r>=32)throw new Error("Netmask is invalid");let d=c.octets.slice();return d[3]+=1,`${ou.fromByteArray(d).toString()} ${s}`}updateAddressOptionFromInputs(){let t=this.formModel?.get("_ipobj_address"),o=this.formModel?.get("_ipobj_netmask"),r=t?.value?.trim()||"",s=o?.value?.trim()||"";if(this.object?.obj_type===O.OBJ_OPENVPN_CONFIG_CLI){if(!r){this.clearIPFromGrid(),this.lastValidGridValue=null,this.formModel?.updateValueAndValidity();return}if(!(r?this.appOptionsService.isValidIP(r):!1)){this.appOptionsService.setControlError(t,"invalidIP"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_INVALID"),this.formModel?.updateValueAndValidity();return}this.appOptionsService.clearControlErrors(t),(!this.lastValidGridValue||this.lastValidGridValue.ip!==r)&&(this.optionsGrids.forEach(P=>{P.getScope()===ye.ccd&&P.modifyIPOption(Cs.O_CLIENT,ye.ccd,r)}),this.lastValidGridValue={ip:r,mask:""}),this.formModel?.updateValueAndValidity();return}let l=t?.touched,c=o?.touched;if((t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&!l&&t?.markAsTouched(),(o?.value!==this.originalNetmask||t?.value!==this.originalAddress)&&!c&&o?.markAsTouched(),!r&&!s){this.clearIPFromGrid(),this.lastValidGridValue=null,this.formModel?.updateValueAndValidity();return}let d=r?this.appOptionsService.isValidIP(r):!1,u=s?this.appOptionsService.isValidMask(s):!1;if(!d||!u){!d&&!u?(this.appOptionsService.setControlError(t,"bothInvalid"),this.appOptionsService.setControlError(o,"bothInvalid"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK_INVALID")):d?(this.appOptionsService.setControlError(o,"invalidMask"),this.appOptionsService.clearControlErrors(t),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.NETMASK_INVALID")):(this.appOptionsService.setControlError(t,"invalidIP"),this.appOptionsService.clearControlErrors(o),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_INVALID")),this.formModel?.updateValueAndValidity();return}let m=T0(r,s,this.translate);if(!m.valid){m.error==="invalidMask"?(this.appOptionsService.setControlError(o,"invalidMask"),this.appOptionsService.clearControlErrors(t)):m.error==="notNetworkAddress"?(this.appOptionsService.setControlError(t,"notNetworkAddress"),this.appOptionsService.setControlError(o,"notNetworkAddress")):m.error==="invalidIP"&&(this.appOptionsService.setControlError(t,"invalidIP"),this.appOptionsService.clearControlErrors(o)),this.ipNetmaskErrorMsg=m.message||"",this.formModel?.updateValueAndValidity();return}if(this.appOptionsService.clearControlErrors(t),this.appOptionsService.clearControlErrors(o),!this.lastValidGridValue||this.lastValidGridValue.ip!==r||this.lastValidGridValue.mask!==s){let S=this.getFirstAvailableIP(r,s);this.optionsGrids.forEach(I=>{I.getScope()===ye.ovp&&I.modifyIPOption(Cs.O_SERVER,ye.ovp,S)}),this.lastValidGridValue={ip:r,mask:s}}if(!l&&!c)return;(t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&(l||t?.markAsTouched(),c||o?.markAsTouched()),t?.value===this.originalAddress&&o?.value===this.originalNetmask&&!t?.errors&&!o?.errors&&(this.formModel?.markAsPristine(),t?.markAsPristine(),o?.markAsPristine()),this.formModel?.updateValueAndValidity()}clearIPFromGrid(){let t=this.object?.obj_type,o=null;t===O.OBJ_OPENVPN_CONFIG_CLI?o=ye.ccd:t===O.OBJ_OPENVPN_CONFIG_SER&&(o=ye.ovp),o&&this.optionsGrids.forEach(r=>{r.getScope()===o&&r.modifyIPOption(Cs.O_SERVER,ye.ovp,"")})}checkOVPNConfigCanBeDeleted(t){return new Promise((r,s)=>{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t._fwcObjId};this.fwcVpnService.checkConfigRestrictions(a).subscribe({next:l=>{r(!0)},error:l=>{l.error&&l.error.restrictions?r(!1):s(l)}})})}onItemDelete(t,o){if(!t)return;let r,s,a;this.objectToDelete=t,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,t.obj_type==O.OBJ_OPENVPN_CONFIG_SER||t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(r=this.fwcVpnService.checkConfigRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t._fwcObjId},a="VPN.CONFIG"):t.obj_type==O.OBJ_OPENVPN_PREFIX&&(r=this.fwcVpnService.checkOpenVPNPrefixRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj},a="VPN.OPENVPN_PREFIX"),r&&(this.showDialog(),o&&this.recenterDialog(),r(s).subscribe(l=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},t),this.deleteMsg={type:"warning",title:this.translate.instant(a+".DELETE_WARN.SUMMARY"),text:this.translate.instant(a+".DELETE_WARN.TEXT",{name:t._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(a+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(a+".ERRORS.RESTR_ERROR.TEXT",{name:t._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(a+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(l)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(t){if(!t)return;this.objectToRetrieve=t,this.loadingData=!0,this.showDialog();let o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t._fwcObjId};this.fwcVpnService.getConfigFile(o).subscribe({next:r=>{r.data?this.configFile=r.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:r.error})},r.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r.error)})),this.loadingData=!1,this.recenterDialog()},error:r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.loadingData=!1}})}onItemManage(t,o){if(!t)return;let r=t.id_obj,s,a,l,c=[],d=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=t,t.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installConfig.bind(this.fwcVpnService)):t.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallConfig.bind(this.fwcVpnService)):t.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigCCD.bind(this.fwcVpnService)):t.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),o&&this.recenterDialog(),this.channel_id=lr(),this.utilService.ioListenOnLogEvent(this.channel_id),this.startTimeoutHandler(),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(u=>{this.refreshTimeoutHandler();let m=new Qr(u),g;m.payload.type===Ue.MSG_ERROR&&(g=this.utilService.isCommunicationErrorStr(m.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0,this.doTimeoutOp()),g?(this.continueButtonText=this.translate.instant("COMPILE.RETRY"),this.doTimeoutOp()):(this.log.addNewMessage(m),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),t.parent_type==O.OBJ_CLUSTER?(l=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),a=t.parent_id,s=!0):t.parent_type==O.OBJ_FIREWALL&&(l=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),a=t.firewall,s=!1),l&&l(a,d).subscribe(u=>V(this,null,function*(){u.data&&u.data instanceof Array?c=u.data:u.data?(c=[],c.push(u.data)):c=[],this.operationQueue=[];let m;s&&(m={openvpn:r,clusterId:a,firewallId:a,firewallName:t._fwcClusterName,installState:ni.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},m)));let g=this.fwcUserService.getActualFwcUser().privateKey;for(let y=0;y<c.length;y++){let v=c[y],S=v.install_user,I=v.install_pass;try{S&&(S=yield this.utilService.openPGPDecrypt(S,g)),I&&(I=yield this.utilService.openPGPDecrypt(I,g))}catch{}m={clusterId:v.cluster,clusterName:t._fwcClusterName,isNode:!!v.cluster,openvpn:r,firewallId:c[y].id,firewallName:c[y].name,installState:ni.FW_PENDING,opInstalled:!1,sshUser:S,sshPassword:I,installInterface:c[y].install_interface,installInterfaceName:c[y].interface_name,installIpobj:c[y].install_ipobj,installIpobjName:c[y].ip_name,installIpobjIP:c[y].ip,installCommunication:c[y].install_communication,installProtocol:c[y].install_protocol,installApikey:c[y].install_apikey,deleteAction:t.deleteAction},this.operationQueue.push(Object.assign({},m))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(!0)}),u=>{u.error&&u.error.fwcErr==1002||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1})}processOVPNOperation(t){let o;if(!this.pauseProcess&&(clearTimeout(this.timeoutTimer),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?o=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):o=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState==ni.FW_PENDING)if(r.installState=ni.FW_PROCESSING,t||this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:o}),Ue.MSG_INFO),r.installInterface&&r.installIpobj)if(r.installCommunication==="ssh"){let s={header:this.translate.instant("COMPILE.INST_SSH",{name:o}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"openvpn",type:"hidden",value:r.openvpn},{name:"firewall_id",type:"hidden",value:r.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.installIpobjName+" ("+r.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:r.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:r.sshPassword},{name:"deleteAction",type:"hidden",value:r.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"p-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};this.disableButtons=!0,this.inputDataService.setInputData(s);return}else{let s={openvpn:r.openvpn,firewall_id:r.firewallId,interface_name:r.installInterfaceName,deleteAction:r.deleteAction,ip_name:void 0,ssh_user:void 0,ssh_password:void 0};this.disableButtons=!0,this.manageConfig(s)}else r.installState=ni.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName}),reject:()=>{this.doPauseProcess(),this.confirmationService.close()},accept:()=>{let s=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName});this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:o,error:s}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(),this.confirmationService.close()}})},1);else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation(t)}}manageConfig(t){return V(this,null,function*(){let o,r,s;if(this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(r=this.operationQueue[this.operationInProcessId]),!(!r||!this.configManageAPICall))if(r.clusterId!==null&&r.clusterId!==void 0?o=`cluster ${r.clusterId} - firewall ${r.firewallId} (${r.firewallName})`:o=`firewall ${r.firewallId} (${r.firewallName})`,this.disableButtons=!1,t){if(this.actualFirewallCompileSSHInputData=t,t.btnPauseProcess){r.installState=ni.FW_PENDING,this.doPauseProcess(!0);return}this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>{this.doTimeoutOp()},bte),this.log.startDataLoad();let a=this.fwcUserService.getActualFwcUser().publicKey,l=t.ssh_user,c=t.ssh_password;l&&(l=yield this.utilService.openPGPEncrypt(l,a)),c&&(c=yield this.utilService.openPGPEncrypt(c,a)),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t.openvpn,firewall:t.firewall_id,sshuser:l,sshpass:c},this.disableButtons=!0,this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,this.channel_id,s).subscribe({next:()=>{this.disableButtons=!1,r.installState=ni.FW_OK,this.log&&this.log.stopDataLoad(),this.operationWithErrors?this.addMessageToLog(this.translate.instant("VPN.CONFIG.ERRORS.OPERATION_ERRORS"),Ue.MSG_ERROR):this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".COMPLETED"),Ue.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processOVPNOperation():t.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ASK_DELETE"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>{this.onDeleteConfigurationOrPrefix()}}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.timeoutTimer)},error:d=>{this.disableButtons=!1;let u=this.utilService.isCommunicationError(d.error);u?(r.installState=ni.FW_PENDING,this.addMessageToLog(u,Ue.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(d.error.fwcErr==9e3?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(r.installState=ni.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:o,error:d.error}),Ue.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.timeoutTimer)}})}else r.installState=ni.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:o}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processOVPNOperation()})}doTimeoutOp(){clearTimeout(this.timeoutTimer),this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),Ue.MSG_WARNING))}doPauseProcess(t){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),t&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),Ue.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processOVPNOperation()}onItemSelect(t,o){return V(this,null,function*(){if(!t)return;this.loadingData=!0,this.showDialog();let r=t._fwcObjId,s=t.obj_type;if(t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let a=yield this.loadIPObjects(),l=yield this.loadDNSObjects();if(!a||!l)return;this.remoteOptions=[],this.remoteOptions.push(a),this.remoteOptions.push(l)}else this.headerTitle=this.translate.instant("VPN.CONFIG.HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(r===void 0&&s!==void 0){let a=Object.assign({},t);if(a.obj_type==O.OBJ_OPENVPN_CONFIG_CLI){a.options=Jt(nH).concat(Jt(oH));let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t.vpn},c=yield this.getFirstFreeIP(l),d="",u="";c&&(d=c.ip,u=c.netmask);let m=this.getOption(a.options,Cs.O_CLIENT);a._ipobj_address=d,a._ipobj_netmask=u,m.arg=d+" "+u,a.openvpn=t.vpn}else a.options=Jt(jI);this.createForm(a,!0),a.obj_type==O.OBJ_OPENVPN_CONFIG_CLI&&!o&&setTimeout(()=>{let l=document.querySelector("button .fa-search")?.parentElement;l&&l.click()},300),this.loadingData=!1}else{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:r},l;t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?l=Cs.O_CLIENT:l=Cs.O_SERVER,this.fwcVpnService.getConfig(a).subscribe({next:c=>V(this,null,function*(){if(c.data){let d=Object.assign({},c.data);d.fwcloud=a.fwcloud,d.obj_type=t.obj_type,d.parent_type=t.parent_type,d.parent_name=t.parent_name,d._fwcParentConfigName=t._fwcParentConfigName,o?(d.crt=t.crt,d._fwcCrtName=t._fwcCrtName,d._fwcObjId=void 0,d.node_id=t.node_id):(d._fwcCrtName=t._fwcObjName,d._fwcObjId=r);let u=this.getOption(d.options,l);u?this.fwcVpnService.getConfigIPObjects(a).subscribe(m=>V(this,null,function*(){let g=m.data,y=g.filter(v=>v.id==u.ipobj);if(y.length){if(t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI&&o){let S={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:t.vpn};this.isClient=!0;let I=yield this.getFirstFreeIP(S),P="",L="";I&&(P=I.ip,L=I.netmask);let F=this.getOption(d.options,Cs.O_CLIENT);d._ipobj_address=P,d._ipobj_netmask=L,F.arg=P+" "+L}else{let S=y[0];d._ipobj_name=S.name,d._ipobj_address=S.address,d._ipobj_netmask=S.netmask,d._ipobj_id=S.id}let v=this.appOptionsService.convertToStandardNetmask(d._ipobj_netmask);u.arg=d._ipobj_address+" "+v,u.readonly=!0}if(t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI){let v=d.options.filter(S=>S.name=="remote");v.length&&(v.forEach(S=>{for(let I=0;I<g.length;I++){let P=g[I];if(S.ipobj==P.id){let L;P.type==O.OBJ_ADDRESS?L=P.address:P.type==O.OBJ_DNS&&(L=P.name),L&&(S.arg=L+" "+S.arg);break}}}),this.disabledTreeRemoteOptions=v)}this.createForm(d,o),this.loadingData=!1,this.recenterDialog(),this.showDialog()}),m=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(m)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(m)}),this.loadingData=!1}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else c.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(c.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c.error)})),this.loadingData=!1}),error:c=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(c)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)}),this.loadingData=!1}})}})}loadIPObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},o(s)}),t}loadDNSObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},o(s)}),t}createForm(t,o){if(!t)return;t.options.forEach(l=>{yte.findIndex(c=>l.name==c)!=-1&&(l.required=!0,l.readonly=!0)}),this.formModel=new ho({fwcloud:new Ee(t.fwcloud),openvpn:new Ee(t.openvpn),firewall:new Ee(t.firewall,Me.required),crt:new Ee(t.crt,Me.required),node_id:new Ee(t.node_id),comment:new Ee(t.comment),options:new tr(this.createOVPNOptions(t.options))});let r=`VPN-${t.parent_name}-${t._fwcCrtName}`;if(t.obj_type==O.OBJ_OPENVPN_CONFIG_SER){r=`LAN-VPN-${t._fwcCrtName}`;let l;t.install_name?l=t.install_name:(l=t._fwcCrtName,l=l.substr(0,59)+".conf"),this.formModel.addControl("install_dir",new Ee(t.install_dir||"/etc/openvpn",[Me.required,Me.pattern(Mt.posixPathRegexp)])),this.formModel.addControl("install_name",new Ee(l,[Me.required,Me.pattern(Mt.posixFilenameRegexp)]))}else t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI&&(this.formModel.controls.openvpn.setValue(t.openvpn),this.formModel.addControl("_remote_options",new tr(this.createOVPNOptions(t.options,"remote"))));let s=t._ipobj_name||r;s=s.substr(0,64),this.formModel.addControl("_ipobj_id",new Ee(t._ipobj_id)),this.formModel.addControl("_ipobj_name",new Ee(s,[Me.required,Me.pattern(Mt.nameRegExp)])),this.formModel.addControl("_ipobj_address",new Ee(t._ipobj_address,[Me.required]));let a=this.appOptionsService.convertToStandardNetmask(t._ipobj_netmask);this.formModel.addControl("_ipobj_netmask",new Ee({value:a,disabled:t.obj_type===O.OBJ_OPENVPN_CONFIG_CLI},{validators:[Me.required],updateOn:"blur"})),o&&this.formModel.markAsDirty(),this.formModelRemote=new ho({id_obj:new Ee(void 0,[Me.required]),obj_type:new Ee(void 0,[Me.required]),remote_port:new Ee(1194,[Me.required,Me.min(0),Me.max(65535)])}),this.object=t}requiresArgValidation(t,o){return!!o&&yte.includes(t)}createOVPNOptions(t,o){let r=[];for(let s of t)if(!o||s.name===o){let a=new ho({name:new Ee(s.name,Me.required),arg:new Ee(s.arg),ipobj:new Ee(s.ipobj),scope:new Ee(s.scope),comment:new Ee(s.comment)});this.requiresArgValidation(s.name,o)&&a.controls.arg.setValidators(Me.required),r.push(a)}return r}revalidateForm(t){for(let o in this.formModel.controls)(!t||t==o)&&(this.formModel.controls[o].updateValueAndValidity(),this.formModel.controls[o].markAsTouched())}onCancel(t){!t&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(o=>{o.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModel.valid&&(t.target.blur(),this.onSave())}onSave(t=0){return V(this,null,function*(){if(!this.object)return;let o=[];this.optionsGrids.forEach(g=>{let y=g.getOptions();o=o.concat(y)});for(let g=0;g<o.length;g++)o[g].name&&!o[g].name.length&&delete o[g];o=Jt(o),o.forEach(g=>{if(g.name=="remote"){let y=/\s*(\d+)$/.exec(g.arg),v;y&&(v=y[1],g.arg=v)}}),this.formModel.removeControl("options"),this.formModel.addControl("options",new tr(this.createOVPNOptions(o)));let r={},s={};for(let g in this.formModel.controls)r[g]=this.formModel.controls[g].value!==null&&this.formModel.controls[g].value!==void 0?this.formModel.controls[g].value:void 0;let a=this.appOptionsService.convertToStandardNetmask(r._ipobj_netmask);s={id:r._ipobj_id,type:void 0,fwcloud:r.fwcloud,name:r._ipobj_name,address:r._ipobj_address,netmask:a,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:t};let l,c,d;this.object.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(s.type=O.OBJ_ADDRESS,s.node_type=M.OBJ_ADDRESS,l=M.FOLDER_ADDRESSES,c=ye.ccd,d=Cs.O_CLIENT):this.object.obj_type==O.OBJ_OPENVPN_CONFIG_SER&&(s.type=O.OBJ_NETWORK,s.node_type=M.OBJ_NETWORK,l=M.FOLDER_NETWORKS,c=ye.ovp,d=Cs.O_SERVER),delete r._ipobj_id,delete r._ipobj_address,delete r._ipobj_name,delete r._ipobj_netmask,delete r._remote_options;let u,m;if(this.object._fwcObjId===void 0){u=this.fwcVpnService.newConfig.bind(this.fwcVpnService);let g=yield this.getParentId(l);if(g==-1){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1;return}this.object.obj_type==O.OBJ_OPENVPN_CONFIG_SER?(m=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),s.node_parent=g):m=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK")}else r.openvpn=this.object._fwcObjId,delete s.node_order,delete s.node_type,delete r.firewall,delete r.crt,u=this.fwcVpnService.updateConfig.bind(this.fwcVpnService),this.object.obj_type==O.OBJ_OPENVPN_CONFIG_SER?m=this.translate.instant("VPN.CONFIG.UPDATE_SERVER_CFG_OK"):m=this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(s).then(g=>{let y;g.data&&(y=g.data.insertId),this.modifyOption(r.options,d,void 0,y),this.clearOptionsArgs(r.options),this.utilService.fwcAPICall(u,r).then(v=>{let S=v.data&&v.data.insertId?v.data.insertId:r.openvpn,I={container:Ge.C_FIREWALLS_CONDENSED,_fwcObjId:S,_fwcObjType:this.object.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(I),I.container=Ge.C_FIREWALLS,this.itemSelectedService.setModifiedItem(I),v.data&&v.data.fw_status&&this.store.dispatch(_r.updateFwStatus({item:v.data.fw_status})),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:m}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(v=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)}),this.savingData=!1})},g=>{g.error&&g.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)}),this.savingData=!1})})}getParentId(t){let o;return o=new Promise((r,s)=>{this.fwcObjectTreeService.getNodes(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=-1;a.data&&a.data.length&&(l=a.data[0].id),r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(-1)})}),o}getClusterMasterFirewall(t){let o;return o=new Promise((r,s)=>{this.fwcFirewallService.getClusterMasterNode(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l;l=a.data,r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(void 0)})}),o}getFirstFreeIP(t){return new Promise(o=>{this.fwcVpnService.getVPNLanNextFreeIP(t).subscribe({next:r=>{o(r.data)},error:r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),o(void 0)}})})}modifyOption(t,o,r,s){let a=t.find(l=>l.name==o);a&&(r&&(a.arg=r),s!=null&&(a.ipobj=s))}getOption(t,o){return t.find(r=>r.name==o)}clearOptionsArgs(t){t.forEach(o=>{o.ipobj!==void 0&&o.ipobj!==null&&o.name!="remote"&&(o.arg="")})}manageNetworkIPObject(t){let o;return o=new Promise((r,s)=>{let a;if(t.id===void 0)a=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine){r({data:void 0});return}a=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}this.utilService.fwcAPICall(a,t).then(l=>{r(l)}).catch(l=>{l.error.fwcErr==1003&&this.confirmDuplicateOVPNOperation(l),s(l)})}),o}updateIPOnGrid(t){let o=this.formModel.controls._ipobj_address.value,r="",s,a,l;this.object.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(o.match(Mt.ipV4Regexp)&&(l=o),s=ye.ccd,a=Cs.O_CLIENT):this.object.obj_type==O.OBJ_OPENVPN_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(r=this.formModel.controls._ipobj_netmask.value),o.match(Mt.ipV4Regexp)&&r.match(Mt.netmaskRegexp)&&(l=o.trim()+" "+r.trim()),s=ye.ovp,a=Cs.O_SERVER),l&&this.optionsGrids.forEach(c=>{c.getScope()===s&&c.modifyIPOption(a,s,l)})}confirmDuplicateOVPNOperation(t){let o="",r=[];if(t.data&&t.data.length){r=t.data,o="<ul>";for(let s=0;s<r.length;s++)o+="<li><strong>"+r[s].name+"</strong> ("+r[s].id+") </li>";o+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:o}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let t="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==O.OBJ_OPENVPN_CONFIG_SER)t=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"OpenVPN_Server",t+=".conf";else if(this.objectToRetrieve._fwcObjType==O.OBJ_OPENVPN_CONFIG_CLI){let r=[];r.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),r.push(this.objectToRetrieve._fwcFwName||"FW"),r.push(this.objectToRetrieve._fwcObjName||"OpenVPN_Client"),r=r.map(s=>s.replace(/[^a-z0-9\-]/gi,"_")),t=r.join("-"),t+=".ovpn"}let o=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});(0,vte.saveAs)(o,t)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){if(this.configOrPrefixToDelete)if(this.configOrPrefixToDelete.obj_type==O.OBJ_OPENVPN_CONFIG_SER||this.configOrPrefixToDelete.obj_type==O.OBJ_OPENVPN_CONFIG_CLI)if(this.alsoUninstallConfig){this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0;let t=this.utilService.createDynamicComponentRef(Pr),o=t.instance;o.setDynamicComponentRef(t),this.communicationSubscription=o.socketEventEmitter.subscribe(r=>{r=="connected"&&this.onItemManage(this.configOrPrefixToDelete,!0),this.communicationSubscription.unsubscribe()}),o.checkConnection()}else this.onDeleteConfigurationOrPrefix();else this.onDeleteConfigurationOrPrefix()}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let t,o,r,s=this.configOrPrefixToDelete;s.obj_type==O.OBJ_OPENVPN_CONFIG_SER||s.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(t=this.fwcVpnService.deleteConfig.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:this.configOrPrefixToDelete._fwcObjId},r="VPN.CONFIG"):s.obj_type==O.OBJ_OPENVPN_PREFIX&&(t=this.fwcVpnService.deleteOpenVPNPrefix.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:s.id_obj},r="VPN.OPENVPN_PREFIX"),t&&(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(r+".DELETING",{name:"OpenVPN"}),Ue.MSG_INFO),this.utilService.fwcAPICall(t,o).then(a=>{let l=Object.assign({},this.configOrPrefixToDelete);l._fwcTreeAction=Ii.DELETE_ITEM,a.data&&a.data.length&&(l.fw_status=a.data),this.itemSelectedService.setModifiedItem(l),this.log||(this.hideDialog(),this.resetProperties()),s.obj_type==O.OBJ_OPENVPN_CONFIG_SER||s.obj_type==O.OBJ_OPENVPN_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.DELETE_SUCCESS")}),this.addMessageToLog(this.translate.instant("VPN.CONFIG.DELETE_SUCCESS"),Ue.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.OPENVPN_PREFIX.DELETE.OK")})}).catch(a=>{let l;l=this.translate.instant(r+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(a)}),this.errorMsg={type:"error",title:this.translate.instant(r+".ERRORS.DELETE_ERROR.SUMMARY"),text:l},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.log&&this.addMessageToLog(l,Ue.MSG_ERROR)}))}showRestrictions(t,o){}hideRestrictions(t){}managePrefix(t){let o,r,s,a,l,c,d,u;if(t)if(t.deletePrefixFolderAction){let m={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj};if(t.obj_type==O.OBJ_PREFIX_FOLDER)c=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),d=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),l="VPN.PREFIX_FOLDER";else return;c(m).subscribe(g=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant(l+".DELETE.ASK",{name:t._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(d,m).then(y=>{if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(l+".DELETE.OK")}),t._fwcTreeAction=Ii.DELETE_ITEM,this.itemSelectedService.setModifiedItem(t),t.container!=Ge.C_FIREWALLS_CONDENSED){let v={_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED};this.itemSelectedService.setModifiedItem(v)}}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})})}})},g=>{g.error&&g.error.restrictions?(this.dependencies=g.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(l+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(l+".DELETE.RESTR_TEXT",{name:t._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})})}else{let m,g,y={[O.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[O.OBJ_OPENVPN_PREFIX]:[this.fwcVpnService.editOpenVPNPrefix.bind(this.fwcVpnService),this.fwcVpnService.newOpenVPNPrefix.bind(this.fwcVpnService)]};if(t.obj_type==O.OBJ_PREFIX_FOLDER)m=t.id_obj,l="VPN.PREFIX_FOLDER";else if(t.obj_type==O.OBJ_OPENVPN_PREFIX)g=t.id_obj,l="VPN.OPENVPN_PREFIX";else return;if(t.editPrefixAction)o=t._fwcObjName,r=t.id_obj,s=this.translate.instant(l+".EDIT.HEADER"),a=this.translate.instant(l+".EDIT.TEXT"),y[t.obj_type]&&y[t.obj_type][0]&&(u=y[t.obj_type][0]);else if(t.newPrefixAction)s=this.translate.instant(l+".NEW.HEADER"),a=this.translate.instant(l+".NEW.TEXT"),y[t.obj_type]&&y[t.obj_type][1]&&(u=y[t.obj_type][1]);else return;let v={header:s,helpText:a,formControls:[{name:"container",type:"hidden",value:t.container},{name:"id",type:"hidden",value:r},{name:"obj_type",type:"hidden",value:t.obj_type},{name:"ca",type:"hidden",value:m},{name:"orig_name",type:"hidden",value:o},{name:"name",label:this.translate.instant(l+".NAME"),type:"text",required:!0,value:o},{name:"openvpn",type:"hidden",value:g},{name:"translateKey",type:"hidden",value:l},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(v)}}onManagePrefix(t){if(t){if(t.name==t.orig_name)return;let o,r,s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:t.name},a;o=t.translateKey,r=t.apiCall,t.id?(s.prefix=t.id,a=this.translate.instant(o+".EDIT.OK")):(s.ca=t.ca,s.openvpn=t.openvpn,a=this.translate.instant(o+".NEW.OK")),this.utilService.fwcAPICall(r,s).then(l=>{let c=l.data&&l.data.insertId?l.data.insertId:t.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:a});let d={container:t.container,_fwcObjName:t.name,_fwcObjId:c,_fwcObjType:t.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(d),t.container!=Ge.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_OBJECTS}),this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]}))}).catch(l=>{let c,d;l.error&&(l.error.fwcErr==1003?(c=this.translate.instant(o+".ERRORS.ERROR_DUP.SUMMARY"),d=this.translate.instant(o+".ERRORS.ERROR_DUP.TEXT")):l.error.fwcErr==5001?(c=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),d=this.translate.instant("VPN.OPENVPN_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})),d&&this.confirmationService.confirm({header:c,icon:"fa fa-exclamation-circle fwcRed iconBig",message:d,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(t){if(!t)return;this.objectToSearchWU=t;let o,r;r={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},t.obj_type==O.OBJ_OPENVPN_PREFIX?(o=this.fwcVpnService.getOpenVPNWhereUsed.bind(this.fwcVpnService),r.prefix=t._fwcObjId):t.obj_type==O.OBJ_OPENVPN_CONFIG_CLI&&(o=this.fwcVpnService.getConfigWhereUsed.bind(this.fwcVpnService),r.openvpn=t._fwcObjId),this.showDialog(),o&&o(r).subscribe(s=>{let a=Object.assign({},s.data);a._fwcObjType=t.obj_type,this.objectToSearchWU._fwcObjectInfo=a,this.recenterDialog()},s=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)})}})}blockUnblockVPNConnection(t){let o=t._fwcObjId,r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:o},s;this.fwcVpnService.getConfig(r).pipe(Xn(a=>{let l=a.data;Array.isArray(l.options)||(l.options=[]);let c,d=[];if(l.options.forEach(u=>{d.push({arg:u.arg,comment:u.comment,ipobj:u.ipobj,name:u.name,scope:u.scope})}),t.blockVPNAction){if(s="VPN.CONFIG.INFO.BLOCK_VPN",d.find(u=>u.name==="disable"))return Dt(null);d.push({arg:"",comment:"",ipobj:null,name:"disable",scope:ye.ccd})}else if(s="VPN.CONFIG.INFO.UNBLOCK_VPN",d.find(u=>u.name==="disable"))d=d.filter(u=>u.name!=="disable");else return Dt(null);return d=d.sort((u,m)=>u.scope-m.scope),c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),openvpn:l.id,options:d},Rn(this.utilService.fwcAPICall(this.fwcVpnService.updateConfig.bind(this.fwcVpnService),c))})).subscribe({next:a=>{a===null||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(s+".SUMMARY"),detail:this.translate.instant(s+".TEXT")});let l=this.utilService.createDynamicComponentRef(Pr),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&(t.installAction=!0,this.onItemManage(t)),this.communicationSubscription.unsubscribe()}),c.checkConnection()},error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})}})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let t=this.formModelRemote.value,o=this.optionsGrids.find(s=>s.getScope()===ye.ovp);if(!o)return;let r=o.getOptions();for(let s=0;s<r.length;s++){let a=r[s];if(a.name==="remote"&&a.ipobj===t.id_obj){let l=/\s*(\d+)$/.exec(a.arg),c;if(l&&(c=l[1],t.remote_port===+c)){this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.SUMMARY"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("VPN.CONFIG.ERRORS.EXISTING_REMOTE_ERROR.TEXT"),acceptLabel:"Ok",rejectVisible:!1});return}}}this.fwcObjectService.getObject(t.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe({next:s=>{if(!s.data)return;let a=s.data,l="",c="";t.obj_type==O.OBJ_ADDRESS&&(l=a.address),t.obj_type==O.OBJ_DNS&&(l=a.name),l+=" "+t.remote_port,a.if_name?(a.cluster_name?c+=`Cluster '${a.cluster_name}'`:a.firewall_name?c+=`Firewall '${a.firewall_name}'`:a.host_name&&(c+=`Host '${a.host_name}'`),c+=` - IF '${a.if_name}'`):c+=a.name;let d={name:"remote",scope:ye.ovp,arg:l,ipobj:t.id_obj,required:!0,readonly:!0},u=[];o.updateOrCreateIPOption(d),u=u.concat(o.getOptions()),this.formModel.controls._remote_options=new tr(this.createOVPNOptions(u,"remote")),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},error:s=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})}})}onRemoteIPObjectChange(t){!t||t.obj_type!=O.OBJ_ADDRESS&&t.obj_type!=O.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(t.id_obj),this.formModelRemote.get("obj_type").setValue(t.obj_type))}updateOptions(t){let o=[],r=[...this.formModel.get("options").value];if(this.optionsGrids.forEach(s=>{(!t||s.getScope()==t)&&(o=o.concat(s.getOptions()))}),o.length===r.length){let s=new Set(r.map(c=>c.name)),a=new Set(o.map(c=>c.name));if(!(s.size===a.size&&[...s].every(c=>a.has(c))))for(let c=0;c<o.length;c++){let d=o[c],u=r[c];u&&u.name!==d.name&&(d.name==="cipher"||d.name==="data-ciphers-fallback"?d.arg=this.optionsGrids.first.defaultCipher:d.name==="data-ciphers"?d.arg=this.optionsGrids.first.selectedOptionsDisplay:d.arg="")}}o.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new tr(this.createOVPNOptions(o))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new tr(this.createOVPNOptions(o,"remote")))),this.formModel.updateValueAndValidity())}onOptionsChange(t){this.updateOptions(),t&&this.formModel.markAsDirty(),this.recenterDialog()}onOptionsDelete(t){t&&t.name=="remote"&&t.ipobj&&this.updateOptions(),this.formModel.markAsDirty()}onShowDialog(t){this.recenterDialog()}onHideDialog(t){}doStopProcess(){this.pauseProcess=!0,this.stopProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_STOP"),Ue.MSG_ERROR)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}allowOnlyNumbersAndDot(t){let o=/[0-9.]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}allowNumbersDotAndSlash(t){let o=/[0-9.\/]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(dt),x(Bt),x(Ki),x(En),x(co),x(Oo),x(Ni),x($e),x(ti),x(Tt),x(dn),x(ii),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ovconfig-panel"]],viewQuery:function(o,r){if(o&1&&(_e(Rs,5),_e(Drt,5),_e(wo,5),_e($O,5)),o&2){let s;W(s=$())&&(r.treeSelector=s.first),W(s=$())&&(r.txtConfigFile=s.first),W(s=$())&&(r.log=s.first),W(s=$())&&(r.optionsGrids=s)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},standalone:!1,features:[Se([Ki,En,Bt]),re],decls:13,vars:14,consts:[["dlgOVConfigPanel",""],["header",""],["footer",""],["txtConfigFile",""],["treeSelector",""],["styleClass","dlgFwcDialog fwcObjectDialog dlgFwcDialog--log-resize",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],[1,"grid"],[1,"grid","grid-nogutter","fwc-log-grid"],[1,"grid","grid-nogutter","fwc-log-grid","fwc-ovconfig-log-grid"],[3,"objectInfo","readOnly"],[1,"first-tabview","tabTabbedMenu","flex","flex-col","w-full","bg-(--surfaceBackgroundColor)"],[1,"divFormHeader"],[1,"divHeaderButtons"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwci-whereused","fwcOrange"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],[1,"col-12","divCentered"],[1,"col-12"],[3,"message"],[1,"fwcRestrictionsContainer"],[3,"onHideParent","onRefreshRestrictions","dependencies","readOnly"],[1,"col-12",2,"text-align","center"],["inputId","chkUninstallConfig","name","chkUninstallConfig","binary","true",3,"ngModelChange","ngModel"],["for","chkUninstallConfig"],[1,"col-12","divConfigFile"],["pInputText","","rows","15","readonly",""],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[3,"autoResize"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[3,"onHideParent","objectInfo","readOnly"],[1,"flex","flex-wrap","fwc-tabbar"],["type","button",1,"fwc-tab-button","is-active"],[1,"fa","fa-pencil","fwcOrange"],[1,"fwc-ovconfig-panel-section"],[1,"fwcObjectPanel"],[1,"fwcOvconfigPanel",3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","grid-nogutter"],[1,"col-12","mb-2.5","whitespace-nowrap","font-['Montserrat',sans-serif]"],[1,"col-6","grid","grid-nogutter"],[1,"p-inputgroup"],["for","crtName",1,"fwcBlue"],["pInputText","","name","crtName","type","text","readonly","",3,"value"],[1,"col-12","lg:col-6","padding-right",2,"padding-right","10px"],[1,"fwc-ovconfig-fieldset","fwc-ovconfig-network",3,"legend"],[1,"p-float-label",2,"margin-top","10px"],["pInputText","","maxlength","64","type","text","formControlName","_ipobj_name","name","_ipobj_name",3,"drop"],["for","_ipobj_name"],[1,"col-3"],["pInputText","","appAutofocus","","maxlength","45","type","text","formControlName","_ipobj_address","name","_ipobj_address",3,"drop","keypress","blur"],["for","_ipobj_address"],["pInputText","","maxlength","17","type","text","formControlName","_ipobj_netmask","name","_ipobj_netmask",3,"drop","keypress","blur"],["for","_ipobj_netmask"],["class","col-1 grid-nogutter","style","padding:0; width: 8%;",4,"ngIf"],[1,"col-12","lg:col-6",2,"padding-left","10px"],[1,"col-12","lg:col-6"],[1,"col-6",2,"padding-right","10px"],[1,"noVertPad","fwcBlue"],[3,"optionDeleted","dataChanges","options","scope"],[1,"col-12",2,"margin-top","1rem"],[1,"p-float-label"],["pInputText","","type","text","maxlength","255","formControlName","comment","name","comment",3,"drop"],["for","comment"],["for","parentConfigName",1,"fwcBlue"],["pInputText","","name","parentConfigName","type","text","readonly","",3,"value"],[1,"col-1","grid-nogutter",2,"padding","0","width","8%"],[1,"pi","pi-exclamation-circle","fwcOrange",3,"pTooltip","ngStyle"],[1,"fwc-ovconfig-fieldset","fwc-ovconfig-installation",3,"legend"],[1,"grid",2,"max-height","fit-content","width","100%"],[1,"col-6",2,"margin-top","10px"],["pInputText","","type","text","formControlName","install_dir","name","install_dir",2,"font-family","monospace !important",3,"drop"],["for","install_dir"],["class","fwc-error err-no-margin",3,"ngStyle",4,"ngIf"],["pInputText","","type","text","maxlength","64","formControlName","install_name","name","install_name",2,"font-family","monospace !important",3,"drop"],["for","install_name"],[1,"fwc-error","err-no-margin",3,"ngStyle"],[3,"formGroup"],["legend","Remote"],[1,"grid",2,"width","100%"],[1,"col-6"],[3,"objectSelected","fwcloudId","fwTreeNodes","objectTreeNodes","selectableObjects","disabledObjects"],[1,"col-5"],["pInputText","","type","number","formControlName","remote_port","name","remote_port",3,"drop"],["for","remote_port"],[1,"col"],["type","button","styleClass","fwcButtonHeight !px-4 !py-[0.4rem] fwc-icon-center-button","icon","fa fa-plus",3,"onClick","disabled"],["class","col-12 grid grid-nogutter",4,"ngIf"],[1,"col-12","grid","grid-nogutter"],[1,"divLoadTemp",3,"ngStyle"],["icon","pi pi-times",3,"disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-trash",3,"onClick","disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"onClick","disabled","label"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"onClick","label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","label","disabled"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"onClick","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"disabled","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"onClick","disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"onClick","disabled","label"],["styleClass","p-button-danger","icon","pi pi-times",3,"label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"label","disabled"],["styleClass","p-button-danger","icon","pi pi-times",3,"onClick","label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"onClick","label","disabled"],["icon","pi pi-times",3,"mousedown","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(l){return w(s),C(r.onShowDialog(l))})("onHide",function(l){return w(s),C(r.onHideDialog(l))}),E(2,$rt,6,6,"ng-template",null,1,ie),G(4,Krt,3,0,"div",6),G(5,qrt,3,1,"div",6),G(6,Zrt,2,1),G(7,est,5,1,"div",7),G(8,sst,17,7,"div",8),G(9,ast,1,2,"sts-fwc-object-wu",9),G(10,_st,63,35,"div",10),E(11,Pst,7,11,"ng-template",null,2,ie),b()}o&2&&(De(Pe(13,Prt)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(4),H(r.loadingData?4:-1),p(),H(r.errorMsg?5:-1),p(),H(r.objectToDelete&&!r.loadingData&&!r.errorMsg?6:-1),p(),H(r.objectToRetrieve&&!r.loadingData&&!r.errorMsg?7:-1),p(),H(r.objectToManage&&!r.loadingData&&!r.errorMsg?8:-1),p(),H(r.objectToSearchWU&&!r.loadingData&&!r.errorMsg?9:-1),p(),H(r.object&&r.formModel&&!r.loadingData&&!r.errorMsg?10:-1))},dependencies:[$t,pt,ft,eo,Hi,pp,_i,Zn,io,Zi,to,ao,Ut,lo,cn,bt,si,qp,or,Ir,wo,y0,jh,Nn,$O,Rs,O0,It,wn],styles:[`.p-fieldset-content{display:flex;flex-direction:row;width:100%}sts-fwc-ovconfig-panel p-fieldset.fwc-ovconfig-fieldset .p-fieldset-content{width:100%!important;min-width:0!important;max-width:100%!important;height:93.25px!important;min-height:93.25px!important;max-height:93.25px!important;box-sizing:border-box;padding:9.136px 16px!important}sts-fwc-ovconfig-panel p-fieldset.fwc-ovconfig-network .p-fieldset-content{height:80px!important;min-height:80px!important;max-height:80px!important}sts-fwc-ovconfig-panel p-fieldset.fwc-ovconfig-network .grid{align-items:center}sts-fwc-ovconfig-panel p-fieldset.fwc-ovconfig-network .grid>.col-1{display:flex;align-items:center;justify-content:center}sts-fwc-ovconfig-panel p-fieldset.fwc-ovconfig-installation .p-fieldset-content{height:80px!important;min-height:80px!important;max-height:80px!important}body .p-fieldset{border:1px solid #c8c8c8;background-color:transparent;color:#333}body .p-corner-all{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px}.p-fieldset .p-fieldset-legend{border:1px solid transparent;background:none;font-weight:400}.p-fieldset .p-fieldset-legend-text{margin-left:15px;font-family:Montserrat,Arial,sans-serif}p-fieldset[legend=Remote] .p-fieldset-content{margin-top:10px}.fwc-ovconfig-panel-section{display:flex;flex-direction:column;flex:1 1 0%;padding:1rem 1rem 1.571rem!important;overflow:hidden;box-sizing:border-box;border:1px solid var(--fwcGrey2);border-bottom-right-radius:3px;border-bottom-left-radius:3px;background:var(--surfaceBackgroundColor)}.fwc-ovconfig-panel-section *{max-width:100%!important;box-sizing:border-box;flex-shrink:1;overflow-wrap:break-word}sts-fwc-ovconfig-panel .fwc-tabbar{gap:.2rem;background:transparent}sts-fwc-ovconfig-panel{--p-tabs-tab-hover-background: var(--p-tabs-tab-background);--p-tabs-tab-hover-border-color: var(--p-tabs-tab-border-color);--p-tabs-tab-hover-color: var(--p-tabs-tab-color);--p-tabview-tab-hover-color: var(--p-tabview-tab-color)}.dlgFwcDialog .fwcOvconfigPanel .p-inputgroup{align-items:center;width:100%}.fwc-ovconfig-panel-section .fwc-icon-center-button{display:inline-flex;align-items:center;justify-content:center;text-align:center}.fwc-ovconfig-panel-section .fwc-icon-center-button .p-button-icon,.fwc-ovconfig-panel-section .fwc-icon-center-button .p-button-icon-left,.fwc-ovconfig-panel-section .fwc-icon-center-button .p-button-icon-right{display:inline-flex;align-items:center;justify-content:center;line-height:1;margin:0!important}.fwc-ovconfig-panel-section .fwc-icon-center-button .p-button-label{display:none}.fwc-ovconfig-log-grid{height:435px;min-height:0}
`],encapsulation:2,data:{animation:[$d]}});let i=n;return i})();var Ite=Xr(Kd()),Wc=Xr(Oc());var Ast=()=>({width:"70vw",maxHeight:"42rem"}),wte=()=>({"max-width":"none"}),X3=i=>({display:i}),kst=()=>["cn","allowedips"],Nst=i=>({visibility:i}),Fst=()=>({width:"1.7rem",height:"1.7rem"}),Lst=()=>({width:"60vw",maxHeight:"24rem"});function Mst(i,n){i&1&&(_(0,"span",19),N(1,"i",20),_(2,"span"),R(3),D(4,"translate"),b()()),i&2&&(p(3),Q(k(4,1,"VPN.CONFIG.PEER_LIST")))}function Bst(i,n){i&1&&(_(0,"tr")(1,"th",21),R(2),D(3,"translate"),N(4,"p-sortIcon",22),b(),_(5,"th",23),R(6),D(7,"translate"),b()()),i&2&&(p(2),Y(" ",k(3,2,"VPN.PANEL.FIELDS.CN")," "),p(4),Y(" ",k(7,4,"VPN.PANEL.FIELDS.ALLOWED_IPS")," "))}function Vst(i,n){if(i&1){let e=B();_(0,"tr",24),A("click",function(o){let r=w(e).$implicit;return h().showClientOptionsDialog(r.id),C(o.stopPropagation())}),_(1,"td"),R(2),b(),_(3,"td",25),R(4),b()()}if(i&2){let e=n.$implicit,t=h();p(2),Q(e.cn),p(2),Y(" ",t.formatAllowedIps(e.allowedips)," ")}}function Ust(i,n){if(i&1){let e=B();_(0,"div",26),N(1,"p-progressSpinner"),b(),_(2,"p-button",27),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancel(!0))}),b()}if(i&2){let e=h();f("ngStyle",de(8,Nst,e.savingData?"visible":"hidden")),p(),De(Pe(10,Fst)),p(),f("label",ae(k(3,6,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function jst(i,n){if(i&1&&(_(0,"div",29),N(1,"i",20),_(2,"span"),R(3),b()()),i&2){let e=h(2);p(3),Y("Peer: ",e.selectedClient==null?null:e.selectedClient.cn)}}function Gst(i,n){if(i&1){let e=B();_(0,"div",28)(1,"sts-fwc-wireguard-options-grid",30),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))}),b()()}if(i&2){let e=h(2);p(),f("options",e.selectedClientOptions)("scope",e.scope)}}function Hst(i,n){if(i&1){let e=B();_(0,"p-button",33),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onSave())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.selectedClient||!(e.clientOptions!=null&&e.clientOptions.length)||!e.allOptionsValid())}}function zst(i,n){if(i&1){let e=B();G(0,Hst,2,5,"p-button",31),_(1,"p-button",32),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onCancel(!1))}),b()}if(i&2){let e=h(2);H(e.hasChanges?0:-1),p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CLOSE")))}}function Wst(i,n){if(i&1){let e=B();_(0,"p-dialog",5),ke("visibleChange",function(o){w(e);let r=h();return Ne(r.displayOptionsDialog,o)||(r.displayOptionsDialog=o),C(o)}),E(1,jst,4,1,"ng-template",null,0,ie),G(3,Gst,2,2,"div",28),E(4,zst,3,5,"ng-template",null,4,ie),b()}if(i&2){let e=h();De(Pe(6,Lst)),Ae("visible",e.displayOptionsDialog),f("modal",!0)("contentStyle",Pe(7,wte)),p(3),H(e.selectedClientOptions&&!e.isLoading?3:-1)}}var qO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,L,F),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcObjectTreeService=d,this.fwcVpnService=u,this.inputDataService=m,this.fwcErrorPipe=g,this.translate=y,this.confirmationService=v,this.utilService=S,this.fwcEventService=I,this.messageService=P,this.store=L,this.router=F,this.options=[],this.clientsUpdated=new te,this.optionDeleted=new te,this.optionsChanged=new te,this.validationStatus=new te,this.contextMenuStyle=[js,Hs,Gs],this.wireguardClients=[],this.scope=3,this.showPeerDialog=!1,this.selectedServerId=null,this.isExpanded=[],this.clientOptions=[],this.displayOptionsDialog=!1,this.hasChanges=!1,this.createDialog(this.translate.instant("VPN.PANEL.WG_TITLE"),"fwci2-wireguard",oi.WIREGUARD_CONFIG_PANEL)}showDialog(t,o){this.serverId=o||null,this.wireguardClients=(t||[]).map((r,s)=>{let a=r.allowedips;return!a&&this.clientOptions[s]&&(a=this.clientOptions[s].find(c=>c.name==="AllowedIPs")?.arg||"-"),a||(a=this.wireguardClients.find(d=>d.id===r.id)?.find(d=>d.name==="AllowedIPs")?.arg||"-"),a=this.appOptionsService.getNormalizedAllowedIps({allowedips:a}),Fe(ee({},r),{allowedips:a})}),this.wireguardClients.length>0&&(this.displayDialog=!0)}showClientOptionsDialog(t){return V(this,null,function*(){let o=this.wireguardClients.find(r=>r.id===t);this.selectedClient=Fe(ee({},o),{allowedips:this.appOptionsService.getNormalizedAllowedIps(o)}),this.displayOptionsDialog=!1;try{yield this.loadClientOptions(this.serverId,o.id);let r=this.wireguardClients.findIndex(a=>a.id===o.id);this.selectedClientOptions=JSON.parse(JSON.stringify(this.clientOptions[r]||[]));let s=this.selectedClientOptions.find(a=>a.name==="AllowedIPs");s&&(s.arg=this.appOptionsService.normalizeFirstTo32(s.arg)),this.displayOptionsDialog=!0}catch(r){console.error("Error loading options:",r)}})}loadClientOptions(t,o){return V(this,null,function*(){let r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t,wireguard_cli:o};try{let a=(yield this.utilService.fwcAPICall(this.fwcVpnService.getWireGuardClientOptions.bind(this.fwcVpnService),r)).data.data,l=this.fwcUserService.getActualFwcUser().privateKey,c="";if(a.publicKey)try{c=yield this.utilService.openPGPDecrypt(a.publicKey,l)}catch(F){console.error("Error decrypting PublicKey:",F),c=a.publicKey}let d=(a?.options||[]).filter(F=>F.name!=="Address").map(F=>ee({},F)),m=a?.options?.find(F=>F.name==="Address")?.arg?.trim().split("/")[0]||"",g=d.find(F=>F.name==="AllowedIPs"),y=g?.arg||"";!g&&m&&(y=`${m}/32`);let v=F=>F.trim(),S=y.split(",").map(v).filter(F=>F.length>0);S.length===0&&m&&S.push(`${m}/32`);let I=this.appOptionsService.normalizeFirstTo32(Array.from(new Set(S)).join(", ")),P=d.findIndex(F=>F.name==="AllowedIPs");d.unshift({name:"PublicKey",arg:c,scope:4,comment:null}),P>=0?d[P+1]=Fe(ee({},d[P+1]),{arg:I}):d.push({name:"AllowedIPs",arg:I,scope:43,comment:null});let L=this.wireguardClients.findIndex(F=>F.id===o);return L!==-1&&(this.clientOptions[L]=[...d],this.wireguardClients[L]=Fe(ee({},this.wireguardClients[L]),{allowedips:I})),d}catch(s){throw console.error("Error loading client options:",s),s}})}reloadWireGuardClients(t){return V(this,null,function*(){let o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t};try{let s=(yield Qd(this.fwcVpnService.getWireGuardClients(o))).data.data,a=yield Promise.all(s.map(l=>V(this,null,function*(){let d=(yield this.loadClientOptions(t,l.id)).find(u=>u.name==="AllowedIPs");return Fe(ee({},l),{allowedips:d?.arg||l.allowedips})})));this.wireguardClients=a,this.clientsUpdated.emit(this.wireguardClients)}catch(r){console.error("Error reloading wireguardClients:",r)}})}onOptionsChange(t){if(!this.selectedClient)return;let o=this.wireguardClients.findIndex(r=>r.id===this.selectedClient.id);o>=0&&(this.clientOptions[o]=[...t]),this.selectedClientOptions=[...t],this.hasChanges=!0}onOptionsDelete(t){if(!this.selectedClient)return;let o=this.wireguardClients.findIndex(r=>r.id===this.selectedClient.id);o>=0&&(this.clientOptions[o]=this.clientOptions[o].filter(r=>!this.isSameOption(r,t)),this.selectedClientOptions=[...this.clientOptions[o]]),this.formModel?.markAsDirty()}isSameOption(t,o){return t.id===o.id&&t.name===o.name&&t.value===o.value}updateOptions(){this.optionsChanged.emit([...this.clientOptions])}onSave(){return V(this,null,function*(){if(!this.selectedClient||!this.wireguardClients||!this.clientOptions){this.savingData=!1;return}let t=this.wireguardClients.findIndex(g=>g.id===this.selectedClient.id);if(t===-1||!this.clientOptions[t]){this.savingData=!1;return}this.savingData=!0;let o=this.selectedClientOptions||[],s=(yield Promise.all(o.map(g=>V(this,null,function*(){return ee({name:g.name,arg:g.arg,scope:g.scope,comment:g.comment||null},Number.isInteger(Number(g.ipobj))&&{ipobj:Number(g.ipobj)})})))).filter(g=>g.name!=="PublicKey"&&g.name!=="PrivateKey"),a=s.find(g=>g.name==="AllowedIPs"),c=s.find(g=>g.name==="Address")?.arg?.trim()||"";if(a&&typeof a.arg=="string"){let g=a.arg.split(",").map(L=>L.trim()).filter(Boolean),y=L=>L.split("/")[0],v=y(c),S=g.filter(L=>y(L)!==v),I=Array.from(new Set(S)),P=[];c&&c.trim()!==""&&P.push(c.trim()),P.push(...I.filter(L=>L&&L.trim()!=="")),a.arg=P.join(", ")}let d=this.appOptionsService.getNormalizedAllowedIps({allowedips:a?.arg||""});this.wireguardClients[t]=Fe(ee({},this.wireguardClients[t]),{allowedips:d});let u={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:this.serverId,wireguard_cli:this.selectedClient.id,options:s},m=this.fwcVpnService.updateWireGuardClientOptions.bind(this.fwcVpnService);try{this.savingData=!0;let g=yield this.updateClientOptions(m,u,t);return this.hasChanges=!1,g}catch(g){g.error&&g.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})}finally{this.savingData=!1,this.hasChanges=!1,this.cd.detectChanges(),this.refreshDialog(),this.reloadWireGuardClients(this.serverId)}})}formatAllowedIps(t){if(!t)return"";let o=l=>l.trim(),r=l=>l.split("/")[0];return t.split(",").map(o).filter(l=>l.length>0).reduce((l,c)=>{let d=r(c);return l.some(u=>r(u)===d)||l.push(c),l},[]).join(", ")}updateClientOptions(t,o,r){return V(this,null,function*(){return new Promise((a,l)=>{this.utilService.fwcAPICall(t,o).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK")}),this.savingData=!1,this.hasChanges=!1,this.displayOptionsDialog=!1,this.reloadWireGuardClients(this.serverId),this.clientsUpdated.emit(this.wireguardClients),this.resetProperties(),a(c)}).catch(c=>{if(c.error){let d=JSON.parse(c.error.msg);if(d.errors){let m=Object.values(d.errors).flat().join(", <br>");this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(m)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d.message)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)});l(c),this.savingData=!1,this.hasChanges=!1})})})}resetProperties(){this.savingData=!1,this.loadingData=!1,this.object=null,this.formModel&&this.formModel.reset()}onCancel(t=!1,o){this.displayOptionsDialog=!1,t&&(this.displayDialog=!1),t&&(this.hideDialog(),this.log&&this.log.clearMessages(),this.hasChanges=!1,this.resetProperties())}validateOption(t){if(!t.arg&&t.name!=="Table")return{valid:!1,message:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.REQUIRED")};let o=Ju.wireGuardOptionValidator(t.name),r=new ys(t.arg),s=o(r);if(!s)return{valid:!0};let a={invalidPresharedKey:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRESHARED_KEY"),invalidAddress:u=>this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ADDRESS",{ip:u}),invalidAllowedIPs:u=>this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ALLOWED_IPS",{ip:u}),invalidDNS:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_DNS"),invalidListenPort:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_LISTEN_PORT"),invalidMTU:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_MTU"),invalidTable:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_TABLE"),invalidEndpoint:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ENDPOINT"),invalidPersistentKeepalive:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PERSISTENT_KEEPALIVE"),invalidPreUp:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRE_UP"),invalidPostUp:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_POST_UP"),invalidPreDown:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRE_DOWN"),invalidPostDown:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_POST_DOWN"),invalidIpAddress:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_IP_ADDRESS"),invalidPort:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PORT"),invalidHostname:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_HOSTNAME"),invalidBase64:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_BASE64"),invalidCidr:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_CIDR")},l=Object.keys(s)[0],c=s[l]?.invalidIp,d=a[l];return{valid:!1,message:typeof d=="function"?d(c):d||this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_OPTION",{option:t.name})}}allOptionsValid(){return this.selectedClientOptions?this.selectedClientOptions.every(t=>this.validateOption(t).valid):!1}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(dt),x(Bt),x(Ki),x(En),x(co),x(Oo),x(Ni),x($e),x(ti),x(Tt),x(dn),x(ii),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-wireguard-peer-list"]],inputs:{options:"options"},outputs:{clientsUpdated:"clientsUpdated",optionDeleted:"optionDeleted",optionsChanged:"optionsChanged",validationStatus:"validationStatus"},standalone:!1,features:[Se([Ki,En,Bt]),re],decls:29,vars:40,consts:[["header",""],["inputSearch",""],["tabVpnStatusTable",""],["body",""],["footer",""],["appendTo","body",3,"visibleChange","visible","modal","contentStyle"],[1,"col-12","divVpnStatusMain-table"],[1,"tbrHighlighted"],[1,"p-toolbar-group-left"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-desktop","fwcOrange"],[1,"p-toolbar-group-right"],[1,"mt-[5px]","flex","max-h-[1.5rem]","items-center"],["type","button","icon","fa fa-search","styleClass","p-button-success","tooltipPosition","bottom","showDelay","700",2,"height","1.5rem",3,"onClick","pTooltip"],["type","text","pInputText","",3,"ngModelChange","input","placeholder","ngStyle","ngModel"],["type","button","icon","fa fa-close","styleClass","p-button-warning","tooltipPosition","bottom","showDelay","700",3,"onClick","pTooltip"],[1,"col-12",2,"overflow","auto"],["columnResizeMode","expand","selectionMode","single",1,"optionsTable",3,"selectionChange","value","resizableColumns","selection","globalFilterFields"],["appendTo","body",3,"visible","modal","style","contentStyle"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-share-alt","text-primary",2,"margin-left","10px"],["pSortableColumn","cn","pResizableColumn","",2,"width","10rem"],["field","cn"],["pResizableColumn",""],[3,"click"],[2,"max-width","60vw","overflow-wrap","break-word","word-break","break-all","white-space","normal","display","table-cell","vertical-align","top"],[1,"divLoadTemp",3,"ngStyle"],["icon","pi pi-times",3,"onClick","disabled","label"],[1,"max-w-[60vw]"],[1,"flex","items-center","gap-2"],[3,"optionDeleted","optionsChanged","options","scope"],["type","button","styleClass","p-button-success","icon","fa fa-save",3,"label","disabled"],["icon","pi pi-times",3,"onClick","label"],["type","button","styleClass","p-button-success","icon","fa fa-save",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),E(1,Mst,5,3,"ng-template",null,0,ie),_(3,"div",6)(4,"p-toolbar",7)(5,"div",8)(6,"span",9),N(7,"i",10),R(8),D(9,"translate"),b()(),_(10,"div",11)(11,"div",12)(12,"p-button",13),D(13,"translate"),A("onClick",function(){w(s);let l=Ze(15);return r.vpnClientsDataShowFilter=!0,C(l.focus())}),b(),_(14,"input",14,1),D(16,"translate"),ke("ngModelChange",function(l){return w(s),Ne(r.vpnClientsDataFilter,l)||(r.vpnClientsDataFilter=l),C(l)}),A("input",function(){w(s);let l=Ze(21);return C(l.filterGlobal(r.vpnClientsDataFilter,"contains"))}),b(),_(17,"p-button",15),D(18,"translate"),A("onClick",function(){w(s);let l=Ze(21);return r.vpnClientsDataShowFilter=!1,r.vpnClientsDataFilter="",C(l.reset())}),b()()()(),_(19,"div",16)(20,"p-table",17,2),ke("selectionChange",function(l){return w(s),Ne(r.vpnClientSelected,l)||(r.vpnClientSelected=l),C(l)}),E(22,Bst,8,6,"ng-template",null,0,ie)(24,Vst,5,2,"ng-template",null,3,ie),b()()(),E(26,Ust,4,11,"ng-template",null,4,ie),G(28,Wst,6,8,"p-dialog",18),b()}o&2&&(De(Pe(31,Ast)),Ae("visible",r.displayDialog),f("modal",!0)("contentStyle",Pe(32,wte)),p(8),Y(" ",k(9,23,"VPN.STATUS.FIELDS.CLIENTS")),p(4),De(de(33,X3,r.vpnClientsDataShowFilter?"none":"inline")),f("pTooltip",ae(k(13,25,"VPN.STATUS.BUTTONS.SEARCH"))),p(2),f("placeholder",ae(k(16,27,"VPN.STATUS.SEARCH")))("ngStyle",de(35,X3,r.vpnClientsDataShowFilter?"inline":"none")),Ae("ngModel",r.vpnClientsDataFilter),p(3),De(de(37,X3,r.vpnClientsDataShowFilter?"inline":"none")),f("pTooltip",ae(k(18,29,"VPN.STATUS.BUTTONS.CLEAR_SEARCH"))),p(3),f("value",r.wireguardClients)("resizableColumns",!0),Ae("selection",r.vpnClientSelected),f("globalFilterFields",Pe(39,kst)),p(8),H(r.displayOptionsDialog?28:-1))},encapsulation:2,data:{animation:[$d]}});let i=n;return i})();var Z3=Xr(Oc());var $st=["routesTreeSelector"],Kst=["nameCell"],qst=i=>({"max-width":i}),Jst=i=>({"background-color":i}),Qst=()=>({"align-content":"center"}),Yst=()=>({}),Xst=i=>({"non-interactive-dropdown":i}),Cte=i=>({"p-invalid":i}),Zst=(i,n)=>({"p-invalid":i,"expandable-input":n}),eat=i=>({"expandable-output":i}),tat=(i,n,e,t,o,r)=>[i,n,e,t,o,r],iat=(i,n,e,t)=>[i,n,e,t],nat=(i,n)=>[i,n];function oat(i,n){i&1&&(_(0,"h5",11),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"VPN.CONFIG.PEER_OPTIONS")," "))}function rat(i,n){i&1&&(_(0,"h5",11),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"VPN.CONFIG.INTERFACE_OPTIONS")," "))}function sat(i,n){if(i&1&&(_(0,"tr"),N(1,"th",15),_(2,"th",16),R(3),D(4,"translate"),N(5,"p-sortIcon",17),b(),_(6,"th",18),R(7),D(8,"translate"),b(),_(9,"th",18),R(10),D(11,"translate"),b()()),i&2){let e=h();p(2),f("ngStyle",de(10,qst,e.scope===e.OptionScope.wg_server_peer?"3rem":null)),p(),Y(" ",k(4,4,"VPN.CONFIG.GRID_HEADER.0")," "),p(4),Q(k(8,6,"VPN.CONFIG.GRID_HEADER.1")),p(3),Q(k(11,8,"VPN.CONFIG.GRID_HEADER.2"))}}function aat(i,n){if(i&1){let e=B();_(0,"td",20)(1,"iui-contextmenu",25),A("menuOpening",function(o){w(e);let r=h(2).$implicit,s=h();return C(s.contextMenuLoad(o,r))})("menuClick",function(o){w(e);let r=h(2).rowIndex,s=h();return C(s.contextMenuHandler(o,r))}),N(2,"i",26),b()()}if(i&2){let e=h(3);p(),f("settings",e.contextMenu)("allowAnimation",!1)("customStyle",e.contextMenuStyle)("colorScheme",e.currentColorScheme)}}function lat(i,n){if(i&1){let e=B();_(0,"td",21)(1,"div",27)(2,"iui-contextmenu",25),A("menuOpening",function(o){w(e);let r=h(2).$implicit,s=h();return C(s.contextMenuLoad(o,r))})("menuClick",function(o){w(e);let r=h(2).rowIndex,s=h();return C(s.contextMenuHandler(o,r))}),_(3,"div",28),N(4,"i",29),b()()()()}if(i&2){let e=h(3);p(2),f("settings",e.contextMenu)("allowAnimation",!1)("customStyle",e.contextMenuStyle)("colorScheme",e.currentColorScheme)}}function cat(i,n){if(i&1&&R(0),i&2){let e=h(3).$implicit;Y(" ",e.name," ")}}function dat(i,n){if(i&1&&R(0),i&2){let e=h(3).$implicit;Y(" ",e.name," ")}}function pat(i,n){i&1&&E(0,cat,1,1,"ng-template",null,4,ie)(2,dat,1,1,"ng-template",null,5,ie)}function uat(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function hat(i,n){if(i&1&&(_(0,"div")(1,"div"),R(2),b()()),i&2){let e=n.$implicit;p(2),Q(e.label)}}function fat(i,n){if(i&1){let e=B();_(0,"p-select",30),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3).$implicit;return Ne(r.name,o)||(r.name=o),C(o)}),A("onChange",function(o){w(e);let r=h(4);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,uat,2,1,"ng-template",null,6,ie)(4,hat,3,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(3).$implicit,t=h();f("options",t.availablePeerKeywords),Ae("ngModel",e.name),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,6,"VPN.CONFIG.NO_OPS"))("ngClass",de(8,Xst,t.isDefaultOption(e.name)))("disabled",e.disabled||t.isDefaultOption(e.name)||e.name==="PrivateKey"||e.name==="PublicKey")}}function mat(i,n){if(i&1&&R(0),i&2){let e=h(3).$implicit;Y(" ",e.name," ")}}function gat(i,n){i&1&&E(0,fat,6,10,"ng-template",null,4,ie)(2,mat,1,1,"ng-template",null,5,ie)}function _at(i,n){if(i&1){let e=B();_(0,"p-button",34),A("onClick",function(){w(e);let o=h(5);return C(o.togglePasswordVisibility())}),b()}if(i&2){let e=h(5);f("icon",ae(e.showPassword?"fa fa-eye-slash":"fa fa-eye"))}}function bat(i,n){if(i&1&&(_(0,"div",31),N(1,"input",32),G(2,_at,1,2,"p-button",33),b()),i&2){let e=h(3).$implicit,t=h();p(),f("type",t.showPassword?"text":"password")("value",e.arg),p(),H((e.name==="PrivateKey"||e.name==="PublicKey")&&e.arg!==t.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY")?2:-1)}}function yat(i,n){if(i&1){let e=B();_(0,"p-button",34),A("onClick",function(){w(e);let o=h(5);return C(o.togglePasswordVisibility())}),b()}if(i&2){let e=h(5);f("icon",ae(e.showPassword?"fa fa-eye-slash":"fa fa-eye"))}}function vat(i,n){if(i&1&&(_(0,"div",35),N(1,"span",36),G(2,yat,1,2,"p-button",33),b()),i&2){let e=h(3).$implicit,t=h();p(),f("pTooltip",ae(e.arg))("innerText",t.getPasswordDisplay(e)),p(),H((e.name==="PrivateKey"||e.name==="PublicKey")&&e.arg!==t.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY")?2:-1)}}function wat(i,n){i&1&&(_(0,"td",23)(1,"p-cellEditor"),E(2,bat,3,3,"ng-template",null,4,ie)(4,vat,3,4,"ng-template",null,5,ie),b()())}function Cat(i,n){if(i&1&&(N(0,"i",38),D(1,"translate")),i&2){let e=h(4).$implicit;f("pTooltip",ae(k(1,2,e.emptyMessageKey)))}}function Sat(i,n){if(i&1){let e=B();_(0,"span"),R(1," \xA0 "),_(2,"i",39),A("mouseenter",function(o){w(e);let r=h(5).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))})("wheel",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))}),b()()}}function Iat(i,n){if(i&1&&(_(0,"strong"),R(1),b(),G(2,Sat,3,0,"span")),i&2){let e=h(4).$implicit;p(),Q(e.arg),p(),H(e.ipobj?2:-1)}}function Eat(i,n){if(i&1&&(_(0,"td")(1,"div",31),G(2,Cat,2,4,"i",38)(3,Iat,3,2),b()()),i&2){let e=h(3).$implicit;p(2),H(e.arg?3:2)}}function xat(i,n){if(i&1){let e=B();_(0,"strong"),R(1),b(),_(2,"input",42),ke("ngModelChange",function(o){w(e);let r=h(6);return Ne(r.editableAllowedIPsText,o)||(r.editableAllowedIPsText=o),C(o)}),A("keydown.enter",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onAllowedIPsCombinedChange(o))})("blur",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onAllowedIPsCombinedChange(o))})("focus",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onCellEditInit(o))})("keypress",function(o){w(e);let r=h(6);return C(r.allowNumbersDotAndSlash(o))})("keydown.arrowUp",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(5).$implicit,t=h();p(),Q(t.getAllowedIPsFirstValue(e)),p(),Ae("ngModel",t.editableAllowedIPsText),f("ngClass",de(3,Cte,t.validateOption(e).valid===!1))}}function Tat(i,n){if(i&1){let e=B();_(0,"input",42),ke("ngModelChange",function(o){w(e);let r=h(6);return Ne(r.editableAllowedIPsText,o)||(r.editableAllowedIPsText=o),C(o)}),A("keydown.enter",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onAllowedIPsCombinedChange(o))})("blur",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onAllowedIPsCombinedChange(o))})("focus",function(){w(e);let o=h(5).$implicit,r=h();return C(r.onCellEditInit(o))})("keypress",function(o){w(e);let r=h(6);return C(r.allowNumbersDotAndSlash(o))})("keydown.arrowUp",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(6);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(5).$implicit,t=h();Ae("ngModel",t.editableAllowedIPsText),f("ngClass",de(2,Cte,t.validateOption(e).valid===!1))}}function Oat(i,n){if(i&1&&(_(0,"div",40),G(1,xat,3,5)(2,Tat,1,4,"input",41),b()),i&2){let e=h(5);p(),H(e.scope===e.OptionScope.wg_server_peer?1:2)}}function Rat(i,n){if(i&1&&N(0,"i",46),i&2){let e=h(5).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Dat(i,n){if(i&1){let e=B();_(0,"i",47),A("mouseenter",function(o){w(e);let r=h(5).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))})("wheel",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))}),b()}if(i&2){let e=h(5).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Pat(i,n){if(i&1&&(_(0,"div",43)(1,"strong"),R(2),b(),E(3,Rat,1,2,"i",44)(4,Dat,1,2,"i",45),b()),i&2){let e=h(4).$implicit,t=h();p(2),Q(e.arg),p(),f("ngIf",!t.isOptionValid(e)&&e.name!==""),p(),f("ngIf",e.ipobj)}}function Aat(i,n){i&1&&(_(0,"td",37)(1,"p-cellEditor"),E(2,Oat,3,1,"ng-template",null,4,ie)(4,Pat,5,3,"ng-template",null,5,ie),b()())}function kat(i,n){if(i&1&&(_(0,"div",50)(1,"small",51),N(2,"i",52),b()()),i&2){let e=h(5).$implicit,t=h();p(2),f("pTooltip",ae(t.getValidationMessage(e)))}}function Nat(i,n){if(i&1){let e=B();_(0,"div",48)(1,"input",49),ke("ngModelChange",function(o){w(e);let r=h(4).$implicit;return Ne(r.arg,o)||(r.arg=o),C(o)}),A("ngModelChange",function(){w(e);let o=h(4).$implicit,r=h();return C(r.onArgChanged(o))})("keydown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())}),b(),G(2,kat,3,2,"div",50),b()}if(i&2){let e=h(4).$implicit,t=h();p(),f("type",e.name==="ListenPort"?"number":"text"),Ae("ngModel",e.arg),f("ngClass",Ct(4,Zst,t.validateOption(e).valid===!1,e.name==="AllowedIPs")),p(),H(t.isOptionValid(e)?-1:2)}}function Fat(i,n){if(i&1&&N(0,"i",46),i&2){let e=h(5).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Lat(i,n){if(i&1){let e=B();_(0,"i",47),A("mouseenter",function(o){w(e);let r=h(5).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))})("wheel",function(o){w(e);let r=h(6);return C(r.clearObjectInfo(o))}),b()}if(i&2){let e=h(5).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Mat(i,n){if(i&1&&(_(0,"div",53)(1,"strong"),R(2),b(),G(3,Fat,1,2,"i",46),G(4,Lat,1,2,"i",54),b()),i&2){let e=h(4).$implicit,t=h();f("ngClass",de(4,eat,e.name==="AllowedIPs")),p(2),Q(e.arg),p(),H(!t.isOptionValid(e)&&e.name!==""?3:-1),p(),H(e.ipobj?4:-1)}}function Bat(i,n){i&1&&(_(0,"td",37)(1,"p-cellEditor"),E(2,Nat,3,7,"ng-template",null,4,ie)(4,Mat,5,6,"ng-template",null,5,ie),b()())}function Vat(i,n){if(i&1&&G(0,Eat,4,1,"td")(1,Aat,6,0,"td",37)(2,Bat,6,0,"td",37),i&2){let e=h(2).$implicit,t=h();H(e.name==="Address"&&e.name!=="AllowedIPs"||e.name==="Endpoint"?0:e.name==="AllowedIPs"&&e.name!=="Address"&&(t.scope===t.OptionScope.wg_server_peer||t.scope===t.OptionScope.wg_client_peer)?1:e.name!=="Address"?2:-1)}}function Uat(i,n){if(i&1){let e=B();_(0,"input",55),ke("ngModelChange",function(o){w(e);let r=h(2).$implicit;return Ne(r.comment,o)||(r.comment=o),C(o)}),A("ngModelChange",function(){w(e);let o=h(2).$implicit,r=h();return C(r.onArgChanged(o))})("keydown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(2).$implicit;Ae("ngModel",e.comment),f("disabled",e.name==="PrivateKey"||e.name==="PublicKey")}}function jat(i,n){if(i&1&&(_(0,"div",56),R(1),b()),i&2){let e=h(2).$implicit;p(),Y(" ",e.comment," ")}}function Gat(i,n){if(i&1){let e=B();_(0,"tr",19),G(1,aat,3,4,"td",20)(2,lat,5,4,"td",21),_(3,"td",22,3),A("click",function(o){w(e);let r=h(2);return C(r.scrollToEditorCell(o))}),_(5,"p-cellEditor"),G(6,pat,4,0)(7,gat,4,0),b()(),G(8,wat,6,0,"td",23)(9,Vat,3,1),_(10,"td",24)(11,"p-cellEditor"),E(12,Uat,1,2,"ng-template",null,4,ie)(14,jat,2,1,"ng-template",null,5,ie),b()()()}if(i&2){let e=h(),t=e.$implicit,o=e.rowIndex;f("pReorderableRow",t.name==="PrivateKey"||t.name==="PublicKey"?null:o)("ngStyle",de(7,Jst,t.name==="PrivateKey"||t.name==="PublicKey"?"var(--fwcPaleBlue2)":"auto")),p(),H(t.name==="PrivateKey"||t.name==="PublicKey"?1:2),p(2),f("ngStyle",t.name==="AllowedIPs"?Pe(9,Qst):Pe(10,Yst)),p(3),H(t.name==="PrivateKey"||t.name==="PublicKey"?6:7),p(2),H(t.name==="PrivateKey"||t.name==="PublicKey"?8:9),p(2),f("pEditableColumnDisabled",t.name==="PrivateKey"||t.name==="PublicKey")}}function Hat(i,n){if(i&1&&G(0,Gat,16,11,"tr",19),i&2){let e=n.$implicit,t=h();H(t.isSpecialOption(e.name)?-1:0)}}function zat(i,n){if(i&1){let e=B();_(0,"sts-fwc-tree-selector",59,8),A("objectSelected",function(o){w(e);let r=h(2);return C(r.onRouteObjectSelected(o))}),b()}if(i&2){let e=h(2);f("fwcloudId",null)("hideObjectName",!0)("fwTreeNodes",bs(5,tat,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(12,iat,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_NETWORK,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(17,nat,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_NETWORK))}}function Wat(i,n){if(i&1){let e=B();_(0,"p-button",57),D(1,"translate"),A("onClick",function(o){w(e);let r=h();return C(r.onAddRoute(o))}),b(),G(2,zat,2,20,"sts-fwc-tree-selector",58)}if(i&2){let e=h();f("label",ae(k(1,3,"VPN.CONFIG.ADD_ROUTE"))),p(2),H(e.scope===e.OptionScope.wg_client_peer||e.scope===e.OptionScope.wg_server_peer?2:-1)}}function $at(i,n){if(i&1){let e=B();_(0,"p-button",61),D(1,"translate"),A("onClick",function(o){w(e);let r=h(2);return C(r.onShowPeerList(o))}),b()}i&2&&f("label",ae(k(1,2,"VPN.CONFIG.SHOW_PEERS")))}function Kat(i,n){if(i&1&&G(0,$at,2,4,"p-button",60),i&2){let e=h();H(e.wireguardClients.length>0?0:-1)}}var R0=(()=>{let n=class n{constructor(t,o,r,s,a,l,c,d,u,m){this.refService=t,this.itemSelectedService=o,this.store=r,this.translate=s,this.utilService=a,this.fwcObjectService=l,this.fwcUserService=c,this.messageService=d,this.fwcVpnService=u,this.appOptionService=m,this.wireguardClients=[],this.optionsChanged=new te,this.validationStatus=new te,this.showPeerListDialog=new te,this.clientsUpdated=new te,this.modified=new te,this.gridOptions=[],this.selectedOption=null,this.alive=!0,this.infoTooltipShown=!1,this.contextMenuReference=null,this.contextMenuStyle=[js,Hs,Gs],this.applicationRef=null,this.NodeTypes=M,this.ObjectTypes=O,this.OptionScope=ye,this.showPassword=!1,this.isEditing=!1,this.defaultOptionsSet=new Set(["PrivateKey","Address","ListenPort","Endpoint","PublicKey","AllowedIPs"]),this.allowedIPsValues=[],this.editableAllowedIPsText="",this.availablePeerKeywords=[]}ngOnInit(){this.contextMenu={items:[{id:U.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(t=>{t==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.buildKeywords(this.gridOptions)}ngOnChanges(t){if(t.options&&t.options.currentValue&&(this.gridOptions=t.options.currentValue),t.vpnNetwork){this.vpnNetwork=t.vpnNetwork.currentValue;let o=this.gridOptions.find(r=>r.name==="AllowedIPs");o&&o.arg.split(",").map(s=>s.trim()).filter(s=>s&&s!==this.vpnNetwork).length===0&&(o.arg=this.vpnNetwork)}}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let t=this;setTimeout(function(){let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o},1)}updateOptions(){this.optionsChanged.emit([...this.gridOptions]),this.buildKeywords(this.gridOptions)}onDataChanged(t){if(t.dragIndex!==void 0&&t.dropIndex!==void 0){this.updateOptions();return}let o=t.value;if(this.defaultOptionsSet.has(o)){console.warn("A default option cannot be replaced: ",o);return}let r=this.gridOptions.findIndex(s=>s.name===o);r!==-1&&(this.gridOptions[r].arg="",this.updateOptions())}onArgChanged(t){let o=this.validateOption(t);o.valid||this.messageService.add({key:"gridValidation",severity:"error",summary:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.ARG_ERROR",{optionName:t.name}),detail:o.message,life:3e3}),this.validationStatus.emit({valid:o.valid,option:t,value:t.arg}),this.modified.emit(),this.updateOptions()}onAddOption(){let t={name:"",arg:"",comment:"",scope:this.scope};this.scope===ye.wg_server_peer&&(t.wireguard_cli=this.gridOptions.every(o=>o.wireguard_cli===this.gridOptions[0].wireguard_cli)?this.gridOptions[0].wireguard_cli:null),this.gridOptions.push(t),this.updateOptions(),setTimeout(()=>{let o=this.nameCells.last?.nativeElement;o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{o.click()},50))},100)}onAddRoute(t,o){this.routesTreeSelector&&this.routesTreeSelector.showTree(t,{peer:o},!0)}onRouteObjectSelected(t){this.utilService.fwcAPICall(this.fwcObjectService.getObject.bind(this.fwcObjectService),t.id_obj,this.fwcUserService.getActualFwSelectedCloud()).then(o=>{let r=o.data.address,s;if(o.data.obj_type!==7)s=`${r}/32`;else{let l=o.data.netmask;try{let c=Z3.parse(r),d;l.includes("/")?d=parseInt(l.replace("/",""),10):d=Z3.parse(l).prefixLengthFromSubnetMask(),s=`${c.toString()}/${d}`}catch{s=r}}let a=this.gridOptions.find(l=>l.name==="AllowedIPs");if(a){let l=a.arg.split(",").map(c=>c.trim());l.includes(s)||(l.push(s),a.arg=l.join(", "))}else{let l={name:"AllowedIPs",arg:s,comment:"",scope:this.scope};this.scope===ye.wg_server_peer&&(l.wireguard_cli=this.gridOptions.every(c=>c.wireguard_cli===this.gridOptions[0].wireguard_cli)?this.gridOptions[0].wireguard_cli:null),this.gridOptions.push(l)}this.updateOptions()})}getScope(){return this.scope}getOptions(){return this.gridOptions}clearOptions(){this.gridOptions=[],this.updateOptions()}modifyIPOption(t,o){let r=this.gridOptions.find(s=>s.name===t);r&&(r.arg=o,this.updateOptions())}updateOrCreateIPOption(t,o){let r=this.gridOptions.find(s=>s.name===t.name);r?(r.arg=t.arg,r.comment=t.comment):o&&this.gridOptions.push(t),this.updateOptions()}contextMenuLoad(t,o){let r=!1,s;if(this.scope===ye.wg_client_interface||this.scope===ye.wg_client_peer?r=Object.values(zk).includes(o.name):r=Object.values(Hk).includes(o.name),s=r,s){t.detail.cancel=!0;return}this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(a){a.id==U.VPN_OPTION_DELETE&&(a.visible=!r)})}contextMenuHandler(t,o){switch(t.detail.item.id){case U.VPN_OPTION_DELETE:this.gridOptions.splice(o,1),this.updateOptions();break}}buildKeywords(t){let o,r;switch(this.scope){case ye.wg_client_peer:o=zI,r=dH;break;case ye.wg_server_peer:o=aH,r=lH;break;case ye.wg_server_interface:o=GI,r=sH;break;case ye.wg_client_interface:o=HI,r=cH;break;default:o=[],r=[];break}let s=[];Array.isArray(t)?s=t:t&&Array.isArray(t.options)&&(s=t.options);let a=[...o,...r.filter(c=>!o.some(d=>d.name===c.name))].map(c=>c.name),l=s.map(c=>c.name).filter(c=>!!c);this.availablePeerKeywords=a.map(c=>({label:c,value:c,disabled:l.includes(c)||this.defaultOptionsSet.has(c)}))}scrollToEditorCell(t){let o=t.currentTarget;o&&setTimeout(()=>{o.scrollIntoView({behavior:"instant",block:"center"}),this.dropdown.show()},0)}isDefaultOption(t){return!!this.defaultOptionsSet[t]}togglePasswordVisibility(){this.showPassword=!this.showPassword}replaceDots(t){return t.replace(/./g,"\u2022")}isOptionValid(t){return this.validateOption(t).valid}getValidationMessage(t){return this.validateOption(t).message||""}validateOption(t){if(!t.arg&&t.name!=="Table")return{valid:!1,message:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.REQUIRED")};let o=Ju.wireGuardOptionValidator(t.name),r=new ys(t.arg),s=o(r);if(!s)return{valid:!0};let a={invalidPresharedKey:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRESHARED_KEY"),invalidAddress:u=>this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ADDRESS",{ip:u}),invalidAllowedIPs:u=>this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ALLOWED_IPS",{ip:u}),invalidDNS:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_DNS"),invalidListenPort:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_LISTEN_PORT"),invalidMTU:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_MTU"),invalidTable:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_TABLE"),invalidEndpoint:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_ENDPOINT"),invalidPersistentKeepalive:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PERSISTENT_KEEPALIVE"),invalidPreUp:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRE_UP"),invalidPostUp:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_POST_UP"),invalidPreDown:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PRE_DOWN"),invalidPostDown:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_POST_DOWN"),invalidIpAddress:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_IP_ADDRESS"),invalidPort:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_PORT"),invalidHostname:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_HOSTNAME"),invalidBase64:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_BASE64"),invalidCidr:this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_CIDR")},l=Object.keys(s)[0],c=s[l]?.invalidIp,d=a[l];return{valid:!1,message:typeof d=="function"?d(c):d||this.translate.instant("GLOBALS.MSG_WIREGUARD_VALIDATION.INVALID_OPTION",{option:t.name})}}getPasswordDisplay(t){return(t.name==="PrivateKey"||t.name==="PublicKey")&&t.arg!==this.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY")?this.showPassword?t.arg:this.replaceDots(t.arg):t.arg}isSpecialOption(t){return!!t&&/^<<.*>>$/.test(t)}onEditStart(){this.isEditing=!0}onEditEnd(){this.isEditing=!1}showObjectInfo(t,o){if(t){let r={objId:t.ipobj};r.objId!==null&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,o)},1e3))}}clearObjectInfo(t){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,t),this.infoTooltipShown=!1)}allowNumbersDotAndSlash(t){let o=/[0-9.,\/ ]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}onShowPeerList(t){this.showPeerListDialog.emit();let o=this.utilService.createDynamicComponentRef(qO),r=o.instance;r.setDynamicComponentRef(o),r.clientsUpdated.subscribe(s=>{this.clientsUpdated.emit(this.wireguardClients);let a=this.fwcUserService.getActualFwSelectedCloud();this.fwcVpnService.getWireGuardClients({fwcloud:a,wireguard:this.gridOptions[0].wireguard}).subscribe(l=>{this.wireguardClients=l.data.data})}),r.showDialog(this.wireguardClients,this.gridOptions[0].wireguard)}normalizeIP(t){return t.trim()}normalizeIPBase(t){return t.trim().split("/")[0]}getAllowedIPsFirstValue(t){let o=String(t?.arg||"").split(",").map(s=>this.normalizeIP(s).trim()).filter(Boolean);return Array.from(new Set(o))[0]||""}onCellEditInit(t){if(!this.editableAllowedIPsText?.trim()){let o=(t.arg||"").split(",").map(r=>this.normalizeIP(r));this.scope===ye.wg_server_peer?this.editableAllowedIPsText=o.slice(1).join(", "):this.editableAllowedIPsText=o.join(", ")}}onAllowedIPsCombinedChange(t){let o=this.editableAllowedIPsText.split(/[, ]+/).map(r=>this.normalizeIP(r)).filter(r=>r.length>0);if(this.scope===ye.wg_server_peer){let r=this.getAllowedIPsFirstValue(t),s=this.normalizeIPBase(r),a=o.filter(c=>this.normalizeIPBase(c)!==s),l=[r,...a];t.arg=l.filter((c,d,u)=>u.indexOf(c)===d).join(", ")}else t.arg=o.filter((r,s,a)=>a.indexOf(r)===s).join(", ");this.onArgChanged(t),setTimeout(()=>{this.editableAllowedIPsText=""})}};n.\u0275fac=function(o){return new(o||n)(x(sa),x(yt),x(tt),x($e),x(Tt),x(Ki),x(dt),x(ii),x(co),x(St))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-wireguard-options-grid"]],viewQuery:function(o,r){if(o&1&&(_e($st,5),_e(Pn,5),_e(Kst,5)),o&2){let s;W(s=$())&&(r.routesTreeSelector=s.first),W(s=$())&&(r.dropdown=s.first),W(s=$())&&(r.nameCells=s)}},inputs:{scope:"scope",options:"options",vpnNetwork:"vpnNetwork",wireguardClients:"wireguardClients"},outputs:{optionsChanged:"optionsChanged",validationStatus:"validationStatus",showPeerListDialog:"showPeerListDialog",clientsUpdated:"clientsUpdated",modified:"modified"},standalone:!1,features:[$n],decls:15,vars:10,consts:[["optionsTable",""],["header",""],["body",""],["nameCell",""],["input",""],["output",""],["selectedItem",""],["item",""],["routesTreeSelector",""],[1,"container"],[1,"col-12"],[1,"noVertPad","fwcBlue"],["scrollHeight","18em","selectionMode","single",1,"optionsTable",3,"selectionChange","onEditComplete","onRowReorder","onEditInit","onEditCancel","value","scrollable","selection"],[1,"divGridFooter"],["type","button","icon","fa fa-plus",3,"onClick","label"],[1,"tdActionColumn",2,"width","1rem"],["pSortableColumn","name",2,"width","17rem",3,"ngStyle"],["field","name"],[2,"width","17rem"],[1,"trOptionsGridRow",2,"max-height","32px",3,"pReorderableRow","ngStyle"],[1,"tdActionColumn"],["pReorderableRowHandle","",1,"tdActionColumn",2,"text-align","center","vertical-align","middle !important"],["pEditableColumn","","id","name",3,"click","ngStyle"],[2,"max-width","16rem"],["pEditableColumn","",3,"pEditableColumnDisabled"],["contextMenuRef","contextMenuReference",3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],[1,"fa","fa-bars","fwcBlue","hidden-cell"],[1,"context-menu-wrapper"],[1,"clickable-area"],["pReorderableRowHandle","",1,"fa","fa-bars","fwcBlue"],["appendTo","body","filter","true",1,"fwcGridDropDown",3,"ngModelChange","onChange","keydown","keydown.arrowUp","keydown.arrowDown","keydown.arrowLeft","keydown.arrowRight","options","ngModel","autoDisplayFirst","emptyFilterMessage","ngClass","disabled"],[1,"output-with-error"],["pInputText","","readonly","",1,"p-inputtext","readonly-password",3,"type","value"],["type","button","styleClass","toggle-visibility",3,"icon"],["type","button","styleClass","toggle-visibility",3,"onClick","icon"],[1,"output-with-error",2,"width","100%"],[1,"fake-input-text",3,"innerText","pTooltip"],["pEditableColumn",""],[1,"fa","fa-question-circle","fa-lg","fwcOrange",2,"margin-top","8px",3,"pTooltip"],[1,"fa","fa-lg","fa-info-circle","fwcBlue",3,"mouseenter","mouseleave","wheel"],[1,"allowedips-edit-container"],["pInputText","",3,"ngModel","ngClass"],["pInputText","",3,"ngModelChange","keydown.enter","blur","focus","keypress","keydown.arrowUp","keydown.arrowDown","keydown.arrowLeft","keydown.arrowRight","ngModel","ngClass"],[1,"allowedips-output","expandable-output"],["class","pi pi-exclamation-circle p-error","style","margin-left: 5px","tooltipPosition","left",3,"pTooltip",4,"ngIf"],["class","fa fa-lg fa-info-circle fwcBlue","style","margin-left: 5px","tooltipPosition","left",3,"pTooltip","mouseenter","mouseleave","wheel",4,"ngIf"],["tooltipPosition","left",1,"pi","pi-exclamation-circle","p-error",2,"margin-left","5px",3,"pTooltip"],["tooltipPosition","left",1,"fa","fa-lg","fa-info-circle","fwcBlue",2,"margin-left","5px",3,"mouseenter","mouseleave","wheel","pTooltip"],[1,"input-with-error"],["pInputText","","maxlength","255",3,"ngModelChange","keydown","keydown.arrowUp","keydown.arrowDown","keydown.arrowLeft","keydown.arrowRight","type","ngModel","ngClass"],[1,"error-message"],[1,"p-error"],[1,"pi","pi-exclamation-circle",3,"pTooltip"],[1,"output-with-error",3,"ngClass"],["tooltipPosition","left",1,"fa","fa-lg","fa-info-circle","fwcBlue",2,"margin-left","5px",3,"pTooltip"],["pInputText","","type","text","maxlength","255",3,"ngModelChange","keydown","keydown.arrowUp","keydown.arrowDown","keydown.arrowLeft","keydown.arrowRight","ngModel","disabled"],[1,"divWrapper"],["type","button","icon","fa fa-plus",2,"margin-left","5px",3,"onClick","label"],[3,"fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"],[3,"objectSelected","fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"],["type","button",2,"margin-left","5px",3,"label"],["type","button",2,"margin-left","5px",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"div",9)(1,"div",10),G(2,oat,3,3,"h5",11),G(3,rat,3,3,"h5",11),_(4,"p-table",12,0),ke("selectionChange",function(l){return w(s),Ne(r.selectedOption,l)||(r.selectedOption=l),C(l)}),A("onEditComplete",function(l){return w(s),C(r.onDataChanged(l))})("onRowReorder",function(l){return w(s),C(r.onDataChanged(l))})("onEditInit",function(){return w(s),C(r.onEditStart())})("onEditCancel",function(){return w(s),C(r.onEditEnd())})("onEditComplete",function(){return w(s),C(r.onEditEnd())}),E(6,sat,12,12,"ng-template",null,1,ie)(8,Hat,1,1,"ng-template",null,2,ie),b(),_(10,"div",13)(11,"p-button",14),D(12,"translate"),A("onClick",function(){return w(s),C(r.onAddOption())}),b(),G(13,Wat,3,5)(14,Kat,1,1),b()()()}o&2&&(p(2),H(r.scope===r.OptionScope.wg_client_peer?2:-1),p(),H(r.scope===r.OptionScope.wg_server_interface||r.scope===r.OptionScope.wg_client_interface?3:-1),p(),f("value",r.gridOptions)("scrollable",!0),Ae("selection",r.selectedOption),p(7),f("label",ae(k(12,8,"VPN.CONFIG.ADD_OPTION"))),p(2),H(r.scope==r.OptionScope.wg_client_peer||r.scope==r.OptionScope.wg_server_peer?13:r.scope==r.OptionScope.wg_server_interface?14:-1))},dependencies:[$t,pt,ft,Hi,_i,io,Zi,cn,bt,si,go,ul,Bf,Yg,hl,Xg,Zg,Pn,Rs,It],styles:[`.container{width:100%;height:auto;display:flex;flex-wrap:wrap}.divGridFooter{margin:15px auto 10px;text-align:center}.input-button-wrapper{width:100%;min-width:var(--min-width, 38rem)}.input-button-container{display:flex;align-items:center;justify-content:space-between;gap:var(--gap, 18px);width:100%}.input-button-container input{flex:1;min-width:0;max-width:100%}.non-interactive-dropdown{pointer-events:none!important;opacity:.7!important;cursor:not-allowed!important}.password-wrapper{display:flex;align-items:center;justify-content:space-between;gap:5px}.toggle-visibility{border:none;padding:1px;background:transparent;color:var(--primary-color);cursor:pointer}.hidden-cell{visibility:hidden;pointer-events:none;cursor:default!important}.fake-input-text{flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.context-menu-wrapper{width:100%;height:100%}.clickable-area{display:block;width:100%;height:100%;pointer-events:auto;align-content:center}.input-with-error{display:flex;gap:.25rem}.error-message{display:flex;align-items:center;gap:.5rem;margin-top:.25rem}.error-message i{font-size:.875rem}.output-with-error{display:flex;align-items:center}.p-invalid{border-color:#f44336!important}.optionsTable thead th{height:32px;padding:.3rem;line-height:1.1}.trOptionsGridRow{height:32px}.p-error{color:#f44336;font-size:.75rem}tr.trOptionsGridRow:not(:first-child):hover{background:#eaeaea!important;color:#333}tr.trOptionsGridRow td{overflow:hidden;font-family:Montserrat,Arial,sans-serif;padding:.3rem;line-height:1.1;vertical-align:middle}.allowedips-edit-container{display:flex}.trOptionsGridRow input.p-inputtext{height:20px!important;max-height:20px!important;width:100%}:host ::ng-deep .fwcGridDropDown .p-select-label{padding:.1rem!important}.output-with-error.expandable-output,.input-with-error input.expandable-input{white-space:pre-wrap;word-break:break-word;width:100%;max-width:48rem;overflow-wrap:break-word}td.p-editable-column .p-cell-editor>div{display:flex;flex-direction:column}
`],encapsulation:2});let i=n;return i})();var Jat=["txtConfigFile"],Qat=["gridComponent"],Yat=()=>({width:"80vw"}),Xat=(i,n)=>({obj_type:i,name:n}),eB=i=>({name:i}),Zat=()=>({visibility:"visible"}),JO=i=>({visibility:i}),elt=(i,n,e,t,o,r)=>[i,n,e,t,o,r],tlt=(i,n,e,t)=>[i,n,e,t],ilt=(i,n)=>[i,n],nlt=()=>({height:"2.5rem"}),olt=()=>({width:"1.7rem",height:"1.7rem"}),rlt=i=>({obj_type:i});function slt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i"),D(3,"fwcIcon"),R(4),D(5,"translate"),D(6,"translate"),b()()),i&2){let e=h(2);p(2),j(Zs(3,3,e.objectToDelete._fwcObjType,null,"fwcOrange")),p(2),Y(" ",vi(6,9,"VPN.CONFIG.HEADER_DELETE_2",Ct(12,Xat,k(5,7,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR"),e.objectToDelete._fwcObjName))," ")}}function alt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.WG_HEADER_FILE",de(4,eB,e.objectToRetrieve._fwcObjName))," ")}}function llt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,e.configManageTranslateKey+".FORM_HEADER",de(4,eB,e.objectToManage._fwcObjName))," ")}}function clt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",15),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.HEADER_WU",de(4,eB,e.objectToSearchWU._fwcObjName))," ")}}function dlt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),b()()),i&2){let e=h(2);p(3),Y(" ",e.headerTitle," ")}}function plt(i,n){if(i&1){let e=B();_(0,"div",12)(1,"p-button",16),A("onClick",function(){w(e);let o=h(2);return C(o.minimizeDialog())}),b()()}}function ult(i,n){if(i&1&&(G(0,slt,7,15,"div",11),G(1,alt,5,6,"div",11),G(2,llt,5,6,"div",11),G(3,clt,5,6,"div",11),G(4,dlt,4,1,"div",11),G(5,plt,2,0,"div",12)),i&2){let e=h();H(e.objectToDelete?0:-1),p(),H(e.objectToRetrieve?1:-1),p(),H(e.objectToManage?2:-1),p(),H(e.objectToSearchWU?3:-1),p(),H(!e.objectToDelete&&!e.objectToRetrieve&&!e.objectToManage&&!e.objectToSearchWU?4:-1),p(),H(e.disableButtons?-1:5)}}function hlt(i,n){i&1&&(_(0,"div",6)(1,"div",17),N(2,"p-progressSpinner"),b()())}function flt(i,n){if(i&1&&(_(0,"div",6)(1,"div",18),N(2,"sts-fwc-message",19),b()()),i&2){let e=h();p(2),f("message",e.errorMsg)}}function mlt(i,n){if(i&1){let e=B();_(0,"div",20),N(1,"sts-fwc-message",19),_(2,"sts-fwc-object-restrictions",21),A("onHideParent",function(){w(e);let o=h(3);return C(o.minimizeDialog(!0))})("onRefreshRestrictions",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()()}if(i&2){let e=h(3);p(),f("message",e.deleteMsg),p(),f("dependencies",e.dependencies)("readOnly",e.restrictionsReadOnly)}}function glt(i,n){if(i&1&&G(0,mlt,3,3,"div",20),i&2){let e=h(2);H(e.dependencies.restrictionsError?-1:0)}}function _lt(i,n){if(i&1){let e=B();_(0,"div",22)(1,"p-checkbox",23),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.alsoUninstallConfig,o)||(r.alsoUninstallConfig=o),C(o)}),b(),_(2,"label",24),R(3),D(4,"translate"),b()()}if(i&2){let e=h(3);p(),Ae("ngModel",e.alsoUninstallConfig),p(2),Y("\xA0",k(4,2,"VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST"))}}function blt(i,n){if(i&1&&(N(0,"sts-fwc-message",19),G(1,_lt,5,4,"div",22)),i&2){let e=h(2);f("message",e.deleteMsg),p(),H(e.objectToDelete.obj_type==e.ObjectTypes.OBJ_WGS_CONFIG_SER?1:-1)}}function ylt(i,n){if(i&1&&G(0,glt,1,1)(1,blt,2,2),i&2){let e=h();H(e.dependencies?0:1)}}function vlt(i,n){if(i&1&&(_(0,"div",7)(1,"div",25)(2,"textarea",26,3),R(4),b()()()),i&2){let e=h();p(4),Q(e.configFile)}}function wlt(i,n){if(i&1&&(_(0,"span"),N(1,"i",34),R(2,"\xA0"),_(3,"strong"),R(4),b()()),i&2){let e=h(2).$implicit;p(4),Q(e.firewallName)}}function Clt(i,n){if(i&1&&(_(0,"span"),N(1,"span",35)(2,"i",36),R(3),b()),i&2){let e=h(2).$implicit;p(3),Y("\xA0",e.firewallName)}}function Slt(i,n){if(i&1&&(_(0,"td"),G(1,wlt,5,1,"span"),G(2,Clt,4,1,"span"),b()),i&2){let e=h().$implicit;p(),H(e.isNode?-1:1),p(),H(e.isNode?2:-1)}}function Ilt(i,n){if(i&1&&(_(0,"td"),N(1,"i",36),R(2),b()),i&2){let e=h().$implicit;p(2),Y("\xA0",e.firewallName," ")}}function Elt(i,n){if(i&1&&(_(0,"tr",31),G(1,Slt,3,2,"td"),G(2,Ilt,3,1,"td"),_(3,"td",30),N(4,"i"),b()()),i&2){let e=n.$implicit,t=h(2);f("ngClass",e.coloredBg?"bgColored":"bgNormal"),p(),H(e.clusterId!==null&&e.clusterId!==void 0?1:-1),p(),H(e.clusterId===null||e.clusterId===void 0?2:-1),p(2),j(t.FirewallOpsIcons[e.installState])}}function xlt(i,n){if(i&1&&(_(0,"div",8)(1,"div",27)(2,"div",28)(3,"table",29)(4,"thead")(5,"tr")(6,"th"),R(7),D(8,"translate"),b(),_(9,"th",30),R(10),D(11,"translate"),b()()(),_(12,"tbody"),fn(13,Elt,5,5,"tr",31,ro),b()()()(),_(15,"div",32),N(16,"sts-fwc-log",33),b()()),i&2){let e=h();p(7),Q(k(8,3,"COMPILE.FORM.NAME")),p(3),Y(" ",k(11,5,e.configManageTranslateKey+".OPERATION")," "),p(3),mn(e.operationQueue),p(3),f("autoResize",!0)}}function Tlt(i,n){if(i&1){let e=B();_(0,"sts-fwc-object-wu",37),A("onHideParent",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()}if(i&2){let e=h();f("objectInfo",e.objectToSearchWU._fwcObjectInfo)("readOnly",e.restrictionsReadOnly)}}function Olt(i,n){if(i&1&&(_(0,"div",48)(1,"label",64),R(2),D(3,"translate"),b(),N(4,"input",65),b()),i&2){let e=h(2);p(2),Q(k(3,3,e.object.parent_type==e.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER")),p(2),f("value",ae(e.object.parent_name))}}function Rlt(i,n){if(i&1&&(_(0,"div",48)(1,"label",66),R(2),D(3,"translate"),b(),N(4,"input",67),b()),i&2){let e=h(2);p(2),Q(k(3,3,"VPN.CONFIG.SER.WIREGUARD")),p(2),f("value",ae(e.object._fwcParentConfigName))}}function Dlt(i,n){if(i&1&&(_(0,"div",68),N(1,"i",69),D(2,"translate"),b()),i&2){let e=h(2);p(),f("pTooltip",ae(k(2,3,e.ipNetmaskErrorMsg)))("ngStyle",Pe(5,Zat))}}function Plt(i,n){if(i&1&&(_(0,"p",79),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,JO,(e=t.formModel.get("install_dir"))!=null&&e.valid||(e=t.formModel.get("install_dir"))!=null&&e.pristine&&((e=t.formModel.get("install_dir"))!=null&&e.untouched)?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.PANEL.ERRORS.INVALID_INSTALL_PATH")," ")}}function Alt(i,n){if(i&1&&(_(0,"p",79),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,JO,(e=t.formModel.get("install_name"))!=null&&e.valid?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")," ")}}function klt(i,n){if(i&1){let e=B();_(0,"div",62)(1,"p-fieldset",70),D(2,"translate"),_(3,"div",71)(4,"div",72)(5,"div",48)(6,"p-floatlabel",73)(7,"input",74),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(8,"label",75),R(9),D(10,"translate"),b()()(),E(11,Plt,3,6,"p",76),b(),_(12,"div",72)(13,"div",48)(14,"p-floatlabel",73)(15,"input",77),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(16,"label",78),R(17),D(18,"translate"),b()()(),E(19,Alt,3,6,"p",76),b()()()()}if(i&2){let e,t,o=h(2);p(),f("legend",k(2,5,"VPN.PANEL.FIELDS.INST_OPTIONS")),p(8),Q(k(10,7,"VPN.PANEL.FIELDS.CONFIG_DIR")),p(2),f("ngIf",!((e=o.formModel.get("install_dir"))!=null&&e.valid||(e=o.formModel.get("install_dir"))!=null&&e.pristine&&((e=o.formModel.get("install_dir"))!=null&&e.untouched))),p(6),Q(k(18,9,"VPN.PANEL.FIELDS.CONFIG_FILE")),p(2),f("ngIf",!((t=o.formModel.get("install_name"))!=null&&t.valid))}}function Nlt(i,n){if(i&1&&(_(0,"div",91)(1,"p",79),R(2),D(3,"translate"),b()()),i&2){let e=h(3);p(),f("ngStyle",de(4,JO,e.formModelRemote!=null&&e.formModelRemote.invalid&&(e.formModelRemote!=null&&e.formModelRemote.touched)&&(e.formModelRemote!=null&&e.formModelRemote.dirty)?"visible":"hidden")),p(),Y(" ",k(3,2,"VPN.PANEL.ERRORS.INVALID_REMOTE")," ")}}function Flt(i,n){if(i&1){let e=B();_(0,"div",63)(1,"form",80)(2,"p-fieldset",81)(3,"div",82)(4,"div",83)(5,"sts-fwc-tree-selector",84,4),A("objectSelected",function(o){w(e);let r=h(2);return C(r.onRemoteIPObjectChange(o))}),b()(),_(7,"div",85)(8,"p-floatlabel",73)(9,"input",86),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(10,"label",87),R(11),D(12,"translate"),b()()(),_(13,"div",88)(14,"p-button",89),A("onClick",function(){w(e);let o=h(2);return C(o.onAddRemoteOption())}),b()(),E(15,Nlt,4,6,"div",90),b()()()()}if(i&2){let e=h(2);p(),f("formGroup",e.formModelRemote),p(4),f("fwcloudId",null)("fwTreeNodes",bs(13,elt,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(20,tlt,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_DNS,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(25,ilt,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_DNS))("disabledObjects",e.disabledTreeRemoteOptions),p(6),Q(k(12,11,"CLUSTER.MSG_CLUSTER_EDITION.PORT")),p(3),De(Pe(28,nlt)),f("disabled",!(e.formModelRemote!=null&&e.formModelRemote.valid)),p(),f("ngIf",(e.formModelRemote==null?null:e.formModelRemote.invalid)&&(e.formModelRemote==null?null:e.formModelRemote.touched)&&(e.formModelRemote==null?null:e.formModelRemote.dirty))}}function Llt(i,n){if(i&1){let e=B();_(0,"div",92)(1,"sts-fwc-wireguard-options-grid",93),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))})("validationStatus",function(o){w(e);let r=h(2);return C(r.handleValidationStatus(o))}),b(),_(2,"sts-fwc-wireguard-options-grid",94),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))})("validationStatus",function(o){w(e);let r=h(2);return C(r.handleValidationStatus(o))})("modified",function(){w(e);let o=h(2);return C(o.markFormAsDirty())}),b()(),_(3,"div",95)(4,"div",48)(5,"p-floatlabel",73)(6,"input",96),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(7,"label",97),R(8),D(9,"translate"),b()()()()}if(i&2){let e=h(2);p(),f("options",e.getClientInterfaceOptions())("scope",e.OptionScope.wg_client_interface),p(),f("options",e.getClientPeerOptions())("vpnNetwork",e.vpnNetwork)("scope",e.OptionScope.wg_client_peer),p(6),Q(k(9,6,"ITEM_PANEL.FIELDS.COMMENTS"))}}function Mlt(i,n){if(i&1){let e=B();_(0,"div",92)(1,"div",98)(2,"sts-fwc-wireguard-options-grid",99),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))})("validationStatus",function(o){w(e);let r=h(2);return C(r.handleValidationStatus(o))})("clientsUpdated",function(o){w(e);let r=h(2);return C(r.onClientsChanged(o))}),b()()(),_(3,"div",95)(4,"div",48)(5,"p-floatlabel",73)(6,"input",96),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(7,"label",97),R(8),D(9,"translate"),b()()()()}if(i&2){let e=h(2);p(2),f("options",e.object.options||e.object.data.options)("scope",e.OptionScope.wg_server_interface)("wireguardClients",e.wireguardClients),p(6),Q(k(9,4,"ITEM_PANEL.FIELDS.COMMENTS"))}}function Blt(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",38)(2,"button",39),N(3,"i",40),_(4,"span"),R(5),D(6,"translate"),b()()(),_(7,"section",41)(8,"div",42)(9,"form",43)(10,"fieldset",44),A("keyup.enter",function(o){w(e);let r=h();return C(r.checkForm(o))})("keyup.esc",function(){w(e);let o=h();return C(o.onCancel())}),_(11,"div",45)(12,"div",46)(13,"div",45)(14,"div",47),G(15,Olt,5,5,"div",48),G(16,Rlt,5,5,"div",48),b(),_(17,"div",47)(18,"div",48)(19,"label",49),R(20),D(21,"translate"),b(),N(22,"input",50),b()()()(),_(23,"div",51)(24,"p-fieldset",52)(25,"div",6)(26,"div",27)(27,"div",48)(28,"p-floatlabel",53)(29,"input",54),A("drop",function(){w(e);let o=h();return C(o.preventDrop())}),b(),_(30,"label",55),R(31),D(32,"translate"),b()()()(),_(33,"div",56)(34,"div",48)(35,"p-floatlabel",53)(36,"input",57),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowOnlyNumbersAndDot(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(37,"label",58),R(38),D(39,"translate"),b()()()(),_(40,"div",27)(41,"div",48)(42,"p-floatlabel",53)(43,"input",59),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowNumbersDotAndSlash(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(44,"label",60),R(45),D(46,"translate"),b()()()(),E(47,Dlt,3,6,"div",61),b()()(),G(48,klt,20,11,"div",62),G(49,Flt,16,29,"div",63),G(50,Llt,10,8)(51,Mlt,10,6),b()()()()()()}if(i&2){let e,t=h();p(5),Q(k(6,16,"VPN.PANEL.DATA")),p(4),f("formGroup",t.formModel),p(6),H(t.object.obj_type==t.ObjectTypes.OBJ_WGS_CONFIG_SER?15:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_WGC_CONFIG_CLI?16:-1),p(4),Q(k(21,18,"VPN.CONFIG.CN")),p(2),f("value",ae(t.object._fwcCrtName)),p(2),f("legend",ae(t.fieldsetTitle)),p(7),Q(k(32,20,"ITEM_PANEL.FIELDS.NAME")),p(7),Q(k(39,22,"ITEM_PANEL.FIELDS.ADDRESS")),p(7),Q(k(46,24,"ITEM_PANEL.FIELDS.MASK")),p(2),f("ngIf",((e=t.formModel.get("_ipobj_address"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_address"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_netmask"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_netmask"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_name"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_name"))==null?null:e.invalid)),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_WGS_CONFIG_SER?48:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_WGC_CONFIG_CLI?49:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_WGC_CONFIG_CLI?50:t.object.obj_type==t.ObjectTypes.OBJ_WGS_CONFIG_SER?51:-1)}}function Vlt(i,n){if(i&1){let e=B();_(0,"p-button",104),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"POLICY_GRID.RELOAD")))("disabled",e.loadingData)}}function Ult(i,n){if(i&1){let e=B();G(0,Vlt,2,5,"p-button",102),_(1,"p-button",103),D(2,"translate"),D(3,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onProcessDeleteAction())}),b()}if(i&2){let e=h(2);H(e.dependencies?0:-1),p(),f("label",ae(vi(3,6,"CONTEXT.VPN_CONFIG.DELETE_2",de(9,rlt,k(2,4,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR")))))("disabled",!e.okToDelete||e.loadingData||e.savingData)}}function jlt(i,n){if(i&1){let e=B();_(0,"p-button",107),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCopyConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")))("disabled",e.loadingData)}}function Glt(i,n){if(i&1){let e=B();_(0,"p-button",108),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDownloadConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.DOWNLOAD.BUTTON")))("disabled",e.loadingData)}}function Hlt(i,n){if(i&1&&(G(0,jlt,2,5,"p-button",105),G(1,Glt,2,5,"p-button",106)),i&2){let e=h(2);H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?0:-1),p(),H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?1:-1)}}function zlt(i,n){if(i&1){let e=B();_(0,"p-button",112),D(1,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.doPauseProcess(!0))}),b()}if(i&2){let e=h(4);f("label",ae(k(1,3,"COMPILE.PAUSE")))("disabled",e.disableButtons)}}function Wlt(i,n){if(i&1){let e=B();_(0,"p-button",113),A("onClick",function(){w(e);let o=h(4);return C(o.doContinueProcess())}),b()}if(i&2){let e=h(4);f("disabled",e.disableButtons)("label",e.continueButtonText)}}function $lt(i,n){if(i&1){let e=B();_(0,"p-button",109),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.doStopProcess())}),b(),G(2,zlt,2,5,"p-button",110)(3,Wlt,1,2,"p-button",111)}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.STOP"))),p(2),H(e.pauseProcess?3:2)}}function Klt(i,n){if(i&1&&G(0,$lt,4,5),i&2){let e=h(2);H(e.operationInProcessId<e.operationQueue.length&&!e.stopProcess?0:-1)}}function qlt(i,n){if(i&1){let e=B();_(0,"p-button",116),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",!e.object||e.loadingData||e.savingData)}}function Jlt(i,n){if(i&1){let e=B();_(0,"p-button",117),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onSave())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData||e.savingData)}}function Qlt(i,n){if(i&1&&(G(0,qlt,2,5,"p-button",114),G(1,Jlt,2,5,"p-button",115)),i&2){let e=h(2);H(e.formModel.pristine?-1:0),p(),H(e.formModel.pristine?-1:1)}}function Ylt(i,n){if(i&1){let e=B();_(0,"p-button",118),D(1,"translate"),A("mousedown",function(){w(e);let o=h(2);return C(o.onCancel())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function Xlt(i,n){if(i&1&&(_(0,"div",100),N(1,"p-progressSpinner"),b(),G(2,Ult,4,11),G(3,Hlt,2,2),G(4,Klt,1,1),G(5,Qlt,2,2),G(6,Ylt,2,5,"p-button",101)),i&2){let e=h();f("ngStyle",de(8,JO,e.savingData?"visible":"hidden")),p(),De(Pe(10,olt)),p(),H(e.objectToDelete?2:-1),p(),H(e.objectToRetrieve?3:-1),p(),H(e.objectToManage?4:-1),p(),H(e.object&&e.formModel?5:-1),p(),H(!e.object||!e.formModel||e.object&&e.formModel&&e.formModel.pristine?6:-1)}}var Ste=6e4,Zlt=["Address","ListenPort","AllowedIPs","Endpoint"],nOi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,L,F),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcObjectTreeService=d,this.fwcVpnService=u,this.inputDataService=m,this.fwcErrorPipe=g,this.translate=y,this.confirmationService=v,this.utilService=S,this.fwcEventService=I,this.messageService=P,this.store=L,this.router=F,this.restrictionsReadOnly=!1,this.showPeerListDialog=new te,this.ObjectTypes=O,this.OptionScope=ye,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=Id,this.operationQueue=[],this.pauseProcess=!1,this.disableButtons=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=M,this.alive=!0,this.wireguardClients=[],this.wireguardClientsOptions=[],this.wireguardClientPeerOptions=[],this.wireguardClientInterfaceOptions=[],this.isExpanded=[],this.showPeerDialog=!1,this.selectedServerId=null,this.showPeerComponent=!1,this.clientOptions=[],this.lastValidGridValue=null,this.vpnNetwork="",this.originalAddress="",this.originalNetmask="",this.allowBlurValidation=!1,this.createDialog(this.translate.instant("VPN.PANEL.WG_TITLE"),"fwci2-wireguard",oi.WIREGUARD_CONFIG_PANEL)}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectDialogUuidsToReload)).subscribe(t=>{t&&t.find(o=>o===this.dialogUUID)&&this.reloadPanel()}),this.initialFormValue=this.formModel?.getRawValue(),this.itemSelectedService.getItem().pipe(Nt(()=>this.alive)).subscribe(t=>V(this,null,function*(){if(!(t.obj_type!=O.OBJ_WGS_CONFIG_SER&&t.obj_type!=O.OBJ_WGC_CONFIG_CLI&&t.obj_type!=O.OBJ_PREFIX_FOLDER&&t.obj_type!=O.OBJ_WIREGUARD_PREFIX||t.statusAction||t._onlySelectInTree)){if(this.resetProperties(),t.parent_type==O.OBJ_CLUSTER){let o;if(o=yield this.getClusterMasterFirewall(t.parent_id),o)t.firewall=o.id;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:t.parent_name})});return}}else t.firewall=t.parent_id;if(t.deleteAction)this.onItemDelete(t);else if(t.configFileAction)this.onItemGetFile(t);else if(t.installAction||t.syncCCDAction||t.uninstallAction||t.syncPendingCCDAction){let o=this.utilService.createDynamicComponentRef(Pr),r=o.instance;r.setDynamicComponentRef(o),this.communicationSubscription=r.socketEventEmitter.subscribe(s=>{s=="connected"&&this.onItemManage(t),this.communicationSubscription.unsubscribe()}),yield r.checkConnection()}else if(t.newPrefixAction||t.editPrefixAction||t.deletePrefixFolderAction)this.managePrefix(t);else if(t.whereUsedAction)this.showWhereUsed(t);else if(t.blockVPNAction||t.unblockVPNAction)this.blockUnblockVPNConnection(t);else if(Array.isArray(t._fwcChildClientNodes)&&t._fwcChildClientNodes.length){let o=[];t._fwcChildClientNodes.forEach(s=>{o.find(a=>a.id===s.id_obj)||o.push({id:s.id_obj,text:s.name})});let r={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.WG_HEADER_CLI"),type:"select",options:o,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:s=>{if(s)if(s.clientConfId)t._fwcObjId=s.clientConfId,this.onItemSelect(t,!0);else{let a=ee({},t);delete a._fwcChildClientNodes,this.onItemSelect(a)}}};this.inputDataService.setInputData(r)}else yield this.onItemSelect(t)}}))}ngOnDestroy(){super.ngOnDestroy()}getFirstAvailableIP(t,o){if(!Wc.isValid(t))throw new Error("IP address is invalid");let r,s;if(Mt.netmaskCIDRRegexp.test(o)){let g=o.match(Mt.netmaskCIDRRegexp);if(r=parseInt(g[1],10),r<0||r>32)throw new Error("Netmask CIDR is invalid");s=this.appOptionsService.convertToStandardNetmask(r.toString())}else{if(!new RegExp(Mt.netmaskRegexp).test(o))throw new Error("Netmask decimal is invalid");r=this.appOptionsService.netmaskToCIDR(o),s=o}let l=`${t}/${r}`,d=Wc.IPv4.networkAddressFromCIDR(l).octets.slice();return d[3]+=1,`${Wc.fromByteArray(d).toString()}/${r}`}updateAddressOptionFromInputs(){let t=this.formModel?.get("_ipobj_address"),o=this.formModel?.get("_ipobj_netmask"),r=t?.value?.trim()||"",s=o?.value?.trim()||"",a=t?.touched,l=o?.touched;if((t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&!a&&t?.markAsTouched(),(o?.value!==this.originalNetmask||t?.value!==this.originalAddress)&&!l&&o?.markAsTouched(),!r&&!s){this.clearIPFromGrid(),this.lastValidGridValue=null,this.formModel?.updateValueAndValidity();return}let c=T0(r,s,this.translate);if(!c.valid){c.error==="invalidMask"?(this.appOptionsService.setControlError(o,"invalidMask"),this.appOptionsService.clearControlErrors(t)):c.error==="notNetworkAddress"?(this.appOptionsService.setControlError(t,"notNetworkAddress"),this.appOptionsService.setControlError(o,"notNetworkAddress")):c.error==="invalidIP"&&(this.appOptionsService.setControlError(t,"invalidIP"),this.appOptionsService.clearControlErrors(o)),this.ipNetmaskErrorMsg=c.message||"",this.formModel?.updateValueAndValidity();return}if(this.appOptionsService.clearControlErrors(t),this.appOptionsService.clearControlErrors(o),!this.lastValidGridValue||this.lastValidGridValue.ip!==r||this.lastValidGridValue.mask!==s){let g=this.getFirstAvailableIP(r,s),y=this.object?.obj_type,v;if(y===O.OBJ_WGC_CONFIG_CLI)v=ye.wg_client_interface;else if(y===O.OBJ_WGS_CONFIG_SER)v=ye.wg_server_interface;else return;this.optionsGrids.forEach(S=>{S.getScope()===v&&S.modifyIPOption(Ed.O_ADDRESS,g)}),this.lastValidGridValue={ip:r,mask:s}}if(!a&&!l)return;(t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&(a||t?.markAsTouched(),l||o?.markAsTouched()),t?.value===this.originalAddress&&o?.value===this.originalNetmask&&!t?.errors&&!o?.errors&&(this.formModel?.markAsPristine(),t?.markAsPristine(),o?.markAsPristine()),this.formModel?.updateValueAndValidity()}clearIPFromGrid(){let t=this.object?.obj_type,o=null;t===O.OBJ_WGC_CONFIG_CLI?o=ye.wg_client_interface:t===O.OBJ_WGS_CONFIG_SER&&(o=ye.wg_server_interface),o&&this.optionsGrids.forEach(r=>{r.getScope()===o&&r.modifyIPOption(Ed.O_ADDRESS,"")})}startTimeoutHandler(){this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},Ste)}refreshTimeoutHandler(){clearTimeout(this.timeoutTimer),this.startTimeoutHandler()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified){if(this.objectToDelete){let t=Object.assign({},this.objectToDelete),o=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(t),this.dialogId==o&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let t=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(t)}}this.store.dispatch(an.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null,this.formModel&&this.formModel.reset()}checkWireGuardConfigCanBeDeleted(t){return new Promise((r,s)=>{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t._fwcObjId};this.fwcVpnService.checkWireGuardConfigRestrictions(a).subscribe({next:l=>{r(!0)},error:l=>{l.error&&l.error.restrictions?r(!1):s(l)}})})}onItemDelete(t,o){if(!t)return;let r,s,a;this.objectToDelete=t,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,t.obj_type==O.OBJ_WGS_CONFIG_SER||t.obj_type==O.OBJ_WGC_CONFIG_CLI?(r=this.fwcVpnService.checkWireGuardConfigRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t._fwcObjId},a="VPN.CONFIG"):t.obj_type==O.OBJ_WIREGUARD_PREFIX&&(r=this.fwcVpnService.checkWireGuardPrefixRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj},a="VPN.WIREGUARD_PREFIX"),r&&(this.showDialog(),o&&this.recenterDialog(),r(s).subscribe(l=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},t),this.deleteMsg={type:"warning",title:this.translate.instant(a+".DELETE_WARN.SUMMARY"),text:this.translate.instant(a+".DELETE_WARN.TEXT",{name:t._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(a+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(a+".ERRORS.RESTR_ERROR.TEXT",{name:t._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(a+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(l)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(t){if(!t)return;this.objectToRetrieve=t,this.loadingData=!0,this.showDialog();let o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t._fwcObjId};this.fwcVpnService.getWireGuardConfigFile(o).subscribe({next:r=>{r.data?this.configFile=r.data.data?r.data.data.cfg:r.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:r.error})},r.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r.error)})),this.loadingData=!1,this.recenterDialog()},error:r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.loadingData=!1}})}getInstallFileName(t,o,r="wg"){return V(this,null,function*(){let s;this.operationQueue&&this.operationInProcessId<this.operationQueue.length&&(s=this.operationQueue[this.operationInProcessId]);let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:o,wireguard:s?.wireguard};try{let c=(yield this.utilService.fwcAPICall(this.fwcVpnService.getWireguardConfigFilename.bind(this.fwcVpnService),a))?.data?.data;if(c)return c}catch(l){console.error("Error fetching WireGuard config file",l)}})}onItemManage(t,o){if(!t)return;let r=t.id_obj,s,a,l,c=[],d=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=t,t.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installWireGuardConfig.bind(this.fwcVpnService)):t.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallWireGuardConfig.bind(this.fwcVpnService)):t.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncWireGuardConfigCCD.bind(this.fwcVpnService)):t.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncWireGuardConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),o&&this.recenterDialog(),this.channel_id=lr(),this.utilService.ioListenOnLogEvent(this.channel_id),this.startTimeoutHandler(),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(u=>{this.refreshTimeoutHandler();let m=new Qr(u),g;m.payload.type===Ue.MSG_ERROR&&(g=this.utilService.isCommunicationErrorStr(m.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0,this.doTimeoutOp()),g?(this.continueButtonText=this.translate.instant("COMPILE.RETRY"),this.doTimeoutOp()):(this.log.addNewMessage(m),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),t.parent_type==O.OBJ_CLUSTER?(l=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),a=t.parent_id,s=!0):t.parent_type==O.OBJ_FIREWALL&&(l=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),a=t.firewall,s=!1),l&&l(a,d).subscribe(u=>V(this,null,function*(){u.data&&u.data instanceof Array?c=u.data:u.data?(c=[],c.push(u.data)):c=[],this.operationQueue=[];let m;s&&(m={wireguard:r,clusterId:a,firewallId:a,firewallName:t._fwcClusterName,installState:ni.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},m)));let g=this.fwcUserService.getActualFwcUser().privateKey;for(let y=0;y<c.length;y++){let v=c[y],S=v.install_user,I=v.install_pass;try{S&&(S=yield this.utilService.openPGPDecrypt(S,g)),I&&(I=yield this.utilService.openPGPDecrypt(I,g))}catch{}m={clusterId:v.cluster,clusterName:t._fwcClusterName,isNode:!!v.cluster,wireguard:r,firewallId:c[y].id,firewallName:c[y].name,installState:ni.FW_PENDING,opInstalled:!1,sshUser:S,sshPassword:I,installInterface:c[y].install_interface,installInterfaceName:c[y].interface_name,installIpobj:c[y].install_ipobj,installIpobjName:c[y].ip_name,installIpobjIP:c[y].ip,installCommunication:c[y].install_communication,installProtocol:c[y].install_protocol,installApikey:c[y].install_apikey,deleteAction:t.deleteAction},this.operationQueue.push(Object.assign({},m))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processWireGuardOperation(!0)}),u=>{u.error&&u.error.fwcErr==1002||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1})}processWireGuardOperation(t){let o;if(!this.pauseProcess&&(clearTimeout(this.timeoutTimer),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?o=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):o=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState==ni.FW_PENDING)if(r.installState=ni.FW_PROCESSING,t||this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:o}),Ue.MSG_INFO),r.installInterface&&r.installIpobj)if(r.installCommunication==="ssh"){let s={header:this.translate.instant("COMPILE.INST_SSH",{name:o}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"wireguard",type:"hidden",value:r.wireguard},{name:"firewall_id",type:"hidden",value:r.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.installIpobjName+" ("+r.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:r.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:r.sshPassword},{name:"deleteAction",type:"hidden",value:r.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"p-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};this.disableButtons=!0,this.inputDataService.setInputData(s);return}else{let s={wireguard:r.wireguard,firewall_id:r.firewallId,interface_name:r.installInterfaceName,deleteAction:r.deleteAction,ip_name:void 0,ssh_user:void 0,ssh_password:void 0};this.disableButtons=!0,this.manageConfig(s)}else r.installState=ni.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName}),reject:()=>{this.doPauseProcess(),this.confirmationService.close()},accept:()=>{let s=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName});this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:o,error:s}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processWireGuardOperation(),this.confirmationService.close()}})},1);else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processWireGuardOperation(t)}}manageConfig(t){return V(this,null,function*(){if(!this.operationQueue||this.operationInProcessId>=this.operationQueue.length||!this.configManageAPICall)return;let o=this.operationQueue[this.operationInProcessId],r=o.clusterId!==null&&o.clusterId!==void 0?`cluster ${o.clusterId} - firewall ${o.firewallId} (${o.firewallName})`:`firewall ${o.firewallId} (${o.firewallName})`;if(this.disableButtons=!1,!t){o.installState=ni.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:r}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processWireGuardOperation();return}if(this.actualFirewallCompileSSHInputData=t,t.btnPauseProcess){o.installState=ni.FW_PENDING,this.doPauseProcess(!0);return}clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>this.doTimeoutOp(),Ste),this.log.startDataLoad();let s=this.fwcUserService.getActualFwcUser().publicKey,a=t.ssh_user?yield this.utilService.openPGPEncrypt(t.ssh_user,s):null,l=t.ssh_password?yield this.utilService.openPGPEncrypt(t.ssh_password,s):null,c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t.wireguard,firewall:t.firewall_id,sshuser:a,sshpass:l};this.disableButtons=!0,this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,this.channel_id,c).subscribe({next:d=>{if(this.disableButtons=!1,o.installState=ni.FW_OK,this.log&&this.log.stopDataLoad(),d.data?.data?.installName){let m=`wg-quick@${d.data.data.installName.split(".")[0]}`;this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".RELOAD"),Ue.MSG_INFO),this.utilService.fwcAPICall(this.fwcFirewallService.getSystemctlInformation.bind(this.fwcFirewallService),{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:t.firewall_id,service:m,command:"reload"}).then(()=>{}).catch(()=>{this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".RELOAD_ERROR"),Ue.MSG_ERROR)})}let u=this.operationWithErrors?this.translate.instant(this.configManageTranslateKey+".COMPLETED_WITH_ERRORS"):this.translate.instant(this.configManageTranslateKey+".COMPLETED");this.addMessageToLog(u,Ue.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processWireGuardOperation():t.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ASK_DELETE"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>this.onDeleteConfigurationOrPrefix()}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.timeoutTimer)},error:d=>{this.disableButtons=!1;let u=this.utilService.isCommunicationError(d.error);u?(o.installState=ni.FW_PENDING,this.addMessageToLog(u,Ue.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(d.error.fwcErr===9e3?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(o.installState=ni.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:r,error:d.error}),Ue.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.timeoutTimer)}})})}doTimeoutOp(){clearTimeout(this.timeoutTimer),this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),Ue.MSG_WARNING))}doPauseProcess(t){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),t&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),Ue.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processWireGuardOperation()}onItemSelect(t,o){return V(this,null,function*(){if(!t)return;this.loadingData=!0,this.showDialog();let r=t._fwcObjId,s=t.obj_type;if(t.obj_type==O.OBJ_WGC_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.WG_HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let[a,l]=yield Promise.all([this.loadIPObjects(),this.loadDNSObjects()]);if(!a||!l)return;this.remoteOptions=[],this.remoteOptions.push(a),this.remoteOptions.push(l)}else this.headerTitle=this.translate.instant("VPN.CONFIG.WG_HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(r===void 0&&s!==void 0){let a=Object.assign({},t),l;if(a.obj_type==O.OBJ_WGC_CONFIG_CLI){a.options=Jt(HI).concat(Jt(zI));let c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t.vpn},d=yield this.getFirstFreeIP(c),u="",m="",g;d.data?(u=d.data.ip,m=d.data.netmask,g=d.data.id):(u=d.ip,m=d.netmask,g=d.id);let y=this.getOption(a.options,Ed.O_ADDRESS);a._ipobj_address=u,a._ipobj_netmask=m,a._ipobj_id=g,y.arg=u+m,a.wireguard=t.vpn;let v=this.getOption(a.options,"PrivateKey");v&&(v.arg=this.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY"));let S=this.getOption(a.options,"PublicKey");if(S){S.arg=this.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY");try{let I={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t.vpn},P=yield Qd(this.fwcVpnService.getWireGuardConfig(I));l=P.data.data||P.data;let L=l.public_key||"",F=this.fwcUserService.getActualFwcUser().privateKey;S.arg=yield this.utilService.openPGPDecrypt(L,F)}catch(I){console.error("Error retrieving configuration:",I)}}}else{a.options=Jt(GI);let c=this.getOption(a.options,"PrivateKey");c&&(c.arg=this.translate.instant("ITEM_PANEL.FIELDS.WGS_PRIVATE_KEY"))}this.createForm(a,!0,l),this.wireguardClientInterfaceOptions=this.formModel.controls.options.value.filter(c=>c.scope===ye.wg_client_interface),this.wireguardClientPeerOptions=this.formModel.controls.options.value.filter(c=>c.scope===ye.wg_client_peer),a.obj_type==O.OBJ_WGC_CONFIG_CLI&&!o&&setTimeout(()=>{let c=document.querySelector("button .fa-search")?.parentElement;c&&c.click()},300),this.loadingData=!1}else{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:r};this.fwcVpnService.getWireGuardConfig(a).subscribe({next:l=>V(this,null,function*(){if(l.data){let c=l.data.data?Object.assign({},l.data.data):Object.assign({},l.data);if(c.fwcloud=a.fwcloud,c.obj_type=t.obj_type,c.parent_type=t.parent_type,c.parent_name=t.parent_name,c._fwcParentConfigName=t._fwcParentConfigName,o){c.crt=t.crt,c._fwcCrtName=t._fwcCrtName,c._fwcObjId=void 0,c.node_id=t.node_id;let u=this.fwcUserService.getActualFwcUser().privateKey,m=yield this.utilService.openPGPDecrypt(c.private_key,u);if(t.obj_type==O.OBJ_WGC_CONFIG_CLI){let y=yield this.utilService.openPGPDecrypt(c.server_public_key,u),v={wireguard:a.wireguard,name:"PublicKey",arg:y,scope:ye.wg_client_peer};c.options.unshift(v)}let g={wireguard:a.wireguard,name:"PrivateKey",arg:m,scope:t.obj_type==O.OBJ_WGC_CONFIG_CLI?ye.wg_client_interface:ye.wg_server_interface};c.options.unshift(g),o&&(c.comment=null,c.options=c.options.map(y=>Fe(ee({},y),{comment:null})))}else{c._fwcCrtName=t._fwcObjName,c._fwcObjId=r;let u=this.fwcUserService.getActualFwcUser().privateKey,m=yield this.utilService.openPGPDecrypt(c.private_key,u);if(t.obj_type==O.OBJ_WGC_CONFIG_CLI){let y=yield this.utilService.openPGPDecrypt(c.server_public_key,u),v={wireguard:a.wireguard,name:"PublicKey",arg:y,scope:ye.wg_client_peer};c.options.unshift(v)}let g={wireguard:a.wireguard,name:"PrivateKey",arg:m,scope:t.obj_type==O.OBJ_WGC_CONFIG_CLI?ye.wg_client_interface:ye.wg_server_interface};c.options.unshift(g)}let d=this.getOption(c.options,Ed.O_ADDRESS);d?this.fwcVpnService.getWireGuardConfigIPObjects(a).subscribe({next:u=>V(this,null,function*(){let m=u.data.data,g=m.find(y=>y.id==d.ipobj);if(g&&Object.keys(g).length!==0){let y=(v,S,I=!0)=>{let P=v.options.find(L=>L.name==="<<vpn_network>>");if(P&&P.arg){let L,F;P.arg.includes("/")?([L,F]=P.arg.trim().split("/"),v._ipobj_address=L,v._ipobj_netmask=`/${F}`):([L,F]=P.arg.trim().split(/\s+/),v._ipobj_address=L,v._ipobj_netmask=F),o&&(d.ipobj=null)}else v._ipobj_name=S.name||"",v._ipobj_address=S.address||"",v._ipobj_netmask=S.netmask||"",v._ipobj_id=o?null:S.id||"",o?(d.arg=`${S.address}${S.netmask}`,d.ipobj=null):d.arg=`${g.address}${g.netmask}`,d.readonly=I};if(t.obj_type==O.OBJ_WGC_CONFIG_CLI)if(o){let v={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t.vpn},S=yield this.getFirstFreeIP(v),I=S?.data||S||{};y(c,{address:I.ip||"",netmask:I.netmask||""})}else y(c,g||{});else{let v=m.find(S=>S.id==this.getOption(c.options,"<<vpn_network>>").ipobj);y(c,v||{})}if(t.obj_type==O.OBJ_WGS_CONFIG_SER&&this.fwcVpnService.getWireGuardClients(a).subscribe(v=>{if(this.wireguardClients=v.data.data,this.wireguardClients&&this.wireguardClients.length>0){let S=new Map;c.options=c.options?.filter(I=>I.wireguard_cli?(S.has(I.wireguard_cli)||S.set(I.wireguard_cli,[]),S.get(I.wireguard_cli)?.push(ee({},I)),!1):!0),Promise.all(this.wireguardClients.map(I=>V(this,null,function*(){try{return[{name:"AllowedIPs",arg:I.allowedips||"",wireguard:a.wireguard,wireguard_cli:I.id,scope:ye.wg_server_peer,readonly:!0}]}catch(P){return console.error(`Error processing client ${I.id}:`,P),[]}}))).then(I=>{this.wireguardClientsOptions=I.flat()}).catch(I=>{console.error("Error in Promise.all:",I)})}}),t.obj_type==O.OBJ_WGC_CONFIG_CLI){let v=c.options.filter(S=>S.name=="remote");v.length&&(v.forEach(S=>{for(let I=0;I<m.length;I++){let P=m[I];if(S.ipobj==P.id){let L;P.type==O.OBJ_ADDRESS?L=P.address:P.type==O.OBJ_DNS&&(L=P.name),L&&(S.arg=L+" "+S.arg);break}}}),this.disabledTreeRemoteOptions=v)}this.createForm(c,o),this.wireguardClientInterfaceOptions=this.formModel.controls.options.value.filter(v=>v.scope===ye.wg_client_interface),this.wireguardClientPeerOptions=this.formModel.controls.options.value.filter(v=>v.scope===ye.wg_client_peer),this.loadingData=!1,this.recenterDialog(),this.showDialog()}}),error:u=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(u)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1}}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else l.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})),this.loadingData=!1}),error:l=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1}})}})}loadIPObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},o(s)}),t}loadDNSObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},o(s)}),t}createForm(t,o,r){return V(this,null,function*(){if(!t)return;let s=t.data?t.data.options:t.options;s.forEach(g=>{Zlt.findIndex(y=>g.name==y)!=-1&&(g.required=!0,g.readonly=!0)}),this.formModel=new ho({fwcloud:new Ee(t.fwcloud),wireguard:new Ee(t.wireguard),firewall:new Ee(t.firewall,Me.required),crt:new Ee(t.crt,Me.required),node_id:new Ee(t.node_id),comment:new Ee(t.comment),options:new tr(this.createWireGuardOptions(s))});let a=`VPN-${t.parent_name}-${t._fwcCrtName}`;if(t.obj_type==O.OBJ_WGS_CONFIG_SER){a=`LAN-VPN-${t._fwcCrtName}`;let g=t.firewall,y;t.install_name?y=t.install_name:y=yield this.getInstallFileName(t.install_dir||"/etc/wireguard",g),this.formModel.addControl("install_dir",new Ee(t.install_dir||"/etc/wireguard",[Me.required,Me.pattern(Mt.posixPathRegexp)])),this.formModel.addControl("install_name",new Ee(y,[Me.required,Me.pattern(Mt.wireGuardInstallName)]));let v=s.find(S=>S.name==="PrivateKey");if(v&&t.private_key){let S=this.fwcUserService.getActualFwcUser().privateKey;v.arg=yield this.utilService.openPGPDecrypt(t.private_key,S)}}else t.obj_type==O.OBJ_WGC_CONFIG_CLI&&(this.formModel.controls.wireguard.setValue(t.wireguard),this.formModel.addControl("_remote_options",new tr(this.createWireGuardOptions(s))));let l=t.obj_type===O.OBJ_WGC_CONFIG_CLI?t._fwcCrtName:a;l=l.substring(0,64);let c,d,u;t.obj_type===O.OBJ_WGC_CONFIG_CLI?(c=s.find(g=>g.name==="address")?.arg.split("/")||[],d=t._ipobj_address||c[0],u=t._ipobj_netmask||(c[1]?`/${c[1]}`:"")):(d=t._ipobj_address,u=t._ipobj_netmask),this.formModel.addControl("_ipobj_id",new Ee(s[0].ipobj)),this.formModel.addControl("_ipobj_name",new Ee(l,[Me.required,Me.pattern(Mt.nameRegExp)])),this.formModel.addControl("_ipobj_address",new Ee({value:d,disabled:t.obj_type==O.OBJ_WGC_CONFIG_CLI})),this.formModel.addControl("_ipobj_netmask",new Ee({value:u,disabled:t.obj_type==O.OBJ_WGC_CONFIG_CLI})),o&&this.formModel.markAsDirty();let m={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:t.wireguard};this.formModelRemote=new ho({id_obj:new Ee(void 0,[Me.required]),obj_type:new Ee(void 0,[Me.required]),remote_port:new Ee(void 0,[Me.required,Me.min(0),Me.max(65535)])}),this.formModelRemote&&t.obj_type==O.OBJ_WGC_CONFIG_CLI&&this.fwcVpnService.getWireGuardConfig(m).subscribe(g=>{if(g.data){let y=g.data.data;if(y?.options){let v=y.options.find(I=>I.name==="ListenPort");v&&this.formModelRemote.controls.remote_port.setValue(v.arg);let S=y.options.find(I=>I.name==="<<vpn_network>>");if(S){let I=S.arg?.trim();if(I){let[P,L]=I.split(" ").map(F=>F.trim());if(I.includes("/"))this.vpnNetwork=I;else if(P&&L){let F=this.appOptionsService.netmaskToCIDR(L);this.vpnNetwork=`${P}/${F}`}this.cd.detectChanges()}}}}},g=>{console.error("Error getting getWireGuardConfig:",g)}),this.object=t})}createWireGuardOptions(t){let o=[];for(let r of t){let s=r.ipobj??null,a=r.arg;r.name==="Address"&&r.ipobj&&(s=r.ipobj);let l=[];(r.name==="Endpoint"||r.name==="Address")&&l.push(Me.required),l.push(d=>Ju.wireGuardOptionValidator(r.name)(d));let c=new ho({name:new Ee(r.name,Me.required),arg:new Ee(a,l),ipobj:new Ee(s),scope:new Ee(r.scope,Me.required),comment:new Ee(r.comment),wireguard_cli:new Ee(r.wireguard_cli,r.wireguard_cli?[Me.required]:[])});r.emptyMessageKey&&c.addControl("emptyMessageKey",new Ee(r.emptyMessageKey)),o.push(c)}return o}handleValidationStatus(t){if(!t?.option?.name)return;let o=this.formModel.get("_remote_options");if(!o||!Array.isArray(o.controls))return;let r=o.controls.find(a=>a.get("name")?.value===t.option.name);if(!r)return;let s=r.get("arg");s&&(s.value!==t.value&&s.setValue(t.value,{emitEvent:!1}),s.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t.valid?s.setErrors(null):s.setErrors({invalid:!0}),s.markAsDirty(),s.markAsTouched(),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity())}findOptionGroup(t){let o=this.formModel.get("options");return o&&(o instanceof Ou?o.controls:o instanceof ol?Object.values(o.controls):[]).find(s=>s.get("name")?.value===t)||null}onCancel(t){!t&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(o=>{o.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.wireguardClients=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModel.valid&&(t.target.blur(),this.onSave(0))}onSave(t=0){return V(this,null,function*(){if(!this.object)return;let o=[];this.optionsGrids.forEach(v=>{let S=v.getOptions();o=o.concat(S)});for(let v=0;v<o.length;v++)o[v].name&&!o[v].name.length&&delete o[v];let r={},s;for(let v in this.formModel.controls)r[v]=this.formModel.controls[v].value!==null&&this.formModel.controls[v].value!==void 0?this.formModel.controls[v].value:void 0;let a=o.filter(v=>v.name&&v.name.trim().length>0);r.options=a.map(v=>({name:v.name,arg:v.arg,scope:v.scope,comment:v.comment,ipobj:v.ipobj,wireguard_cli:v.wireguard_cli})),r.options.some(v=>v.name==="PublicKey"||v.name==="PrivateKey")&&(r.options=r.options.filter(v=>v.name!=="PublicKey"&&v.name!=="PrivateKey")),r.options.forEach(v=>{if(v.wireguard_cli&&v.name==="AllowedIPs"&&v.wireguard_cli&&v.name==="AllowedIPs"&&v.arg.includes(",")){let S=v.arg.indexOf(",");v.arg=v.arg.substring(S+1).trim()}});let c=this.object.obj_type===O.OBJ_WGC_CONFIG_CLI?"Address":"<<vpn_network>>",d=r.options.find(v=>v.name===c);s={id:d&&d.ipobj?d.ipobj:void 0,type:void 0,fwcloud:r.fwcloud,name:r._ipobj_name,address:r._ipobj_address,netmask:r._ipobj_netmask,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:t};let u,m;if(this.object.obj_type==O.OBJ_WGC_CONFIG_CLI)s.type=O.OBJ_ADDRESS,s.node_type=M.OBJ_ADDRESS,u=M.FOLDER_ADDRESSES,m=Ed.O_ADDRESS;else if(this.object.obj_type==O.OBJ_WGS_CONFIG_SER){s.type=O.OBJ_NETWORK,s.node_type=M.OBJ_NETWORK,u=M.FOLDER_NETWORKS,m=Ed.O_VPN_NETWORK;let v=r.options.find(K=>K.name==="<<vpn_network>>"),S=this.formModel.controls._ipobj_address.value,I=this.formModel.controls._ipobj_netmask.value,L=/^\/?\d{1,2}$/.test(I)?I.startsWith("/")?I:"/"+I:" "+I,F=S+L;v?v.arg=F:r.options.push({name:"<<vpn_network>>",arg:F,ipobj:void 0,scope:ye.wg_server_interface})}delete r._ipobj_id,delete r._ipobj_address,delete r._ipobj_name,delete r._ipobj_netmask,delete r._remote_options;let g,y;if(this.object._fwcObjId===void 0){g=this.fwcVpnService.newWireGuardConfig.bind(this.fwcVpnService);let v=yield this.getParentId(u);if(v==-1){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1;return}this.object.obj_type==O.OBJ_WGS_CONFIG_SER?(y=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),s.node_parent=v):this.object.obj_type==O.OBJ_WGC_CONFIG_CLI&&(y=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK"))}else r.wireguard=this.object._fwcObjId,delete s.node_order,delete s.node_type,delete r.crt,g=this.fwcVpnService.updateWireGuardConfig.bind(this.fwcVpnService),this.object.obj_type==O.OBJ_WGS_CONFIG_SER?y=this.translate.instant("VPN.CONFIG.UPDATE_SERVER_CFG_OK"):y=this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(s).then(v=>{let S;v.data&&(S=v.data.insertId),this.modifyOption(r.options,m,void 0,S),this.proceedWithWireGuardConfig(r,y,g)},v=>{v.error&&v.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)}),this.savingData=!1})})}proceedWithWireGuardConfig(t,o,r){this.clearOptionsArgs(t.options),this.utilService.fwcAPICall(r,t).then(s=>{let a=s.data&&s.data.data&&s.data.data.insertId?s.data.data.insertId:t.wireguard,l={container:Ge.C_FIREWALLS_CONDENSED,_fwcObjId:a,_fwcObjType:this.object.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(l),l.container=Ge.C_FIREWALLS,this.itemSelectedService.setModifiedItem(l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(s=>{if(s.error){let a=JSON.parse(s.error.msg);if(a.errors){let c=Object.values(a.errors).flat().join(", <br>");this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}else a.data.code==="ER_DUP_ENTRY"?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.CLONE_CONFIG_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.CLONE_CONFIG_ERROR.TEXT")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a.message)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)});this.savingData=!1})}getParentId(t){let o;return o=new Promise((r,s)=>{this.fwcObjectTreeService.getNodes(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=-1;a.data&&a.data.length&&(l=a.data[0].id),r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(-1)})}),o}getClusterMasterFirewall(t){let o;return o=new Promise((r,s)=>{this.fwcFirewallService.getClusterMasterNode(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l;l=a.data,r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(void 0)})}),o}getFirstFreeIP(t){return new Promise(o=>{this.fwcVpnService.getWireGuardVPNLanNextFreeIP(t).subscribe({next:r=>{o(r.data)},error:r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),o(void 0)}})})}modifyOption(t,o,r,s){let a=t.find(l=>l.name==o);a&&(r&&(a.arg=r),s!=null&&(a.ipobj=s))}getOption(t,o){return t.find(r=>r.name==o)}clearOptionsArgs(t){t.forEach(o=>{o.ipobj!==void 0&&o.ipobj!==null&&o.name!=="Endpoint"&&o.name!=="Address"&&o.name!=="<<vpn_network>>"&&(o.arg="")})}manageNetworkIPObject(t){return new Promise((o,r)=>V(this,null,function*(){let s,l=this.formModel.get("options").controls.find(c=>c.value.name==="<<vpn_network>>");if(t.id===void 0)s=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine&&(!l||l.pristine)){o({data:void 0});return}s=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}if(t.netmask&&!t.netmask.startsWith("/"))try{let c=this.appOptionsService.netmaskToCIDR(t.netmask);t.netmask=`/${c}`}catch(c){console.error("Error converting netmask into CIDR:",c)}try{let c=yield this.utilService.fwcAPICall(s,t);o(c)}catch(c){c.error?.fwcErr===1003&&this.confirmDuplicateWireGuardOperation(c),r(c)}}))}updateIPOnGrid(t){let o=this.formModel.controls._ipobj_address.value,r="",s,a,l;if(this.object.obj_type==O.OBJ_WGC_CONFIG_CLI)o.match(Mt.ipV4Regexp)&&(l=o),s=ye.wg_client_interface,a=Ed.O_ADDRESS;else if(this.object.obj_type==O.OBJ_WGS_CONFIG_SER){let c=this.formModel.controls._ipobj_address?.value?.trim(),d=this.formModel.controls._ipobj_netmask?.value?.trim(),u=!1,m=!1;if(Wc.isValid(c)&&(u=Wc.parse(c).kind()==="ipv4"),d)if(/^\d{1,2}$/.test(d)){let g=parseInt(d,10);m=g>=0&&g<=32,d="/"+g}else if(d.startsWith("/")&&/^\d{1,2}$/.test(d.slice(1))){let g=parseInt(d.slice(1),10);m=g>=0&&g<=32}else try{m=Wc.parse(d).kind()==="ipv4"&&Wc.IPv4.parse(d).prefixLengthFromSubnetMask()!==null}catch{m=!1}u&&m&&(l=d.startsWith("/")?`${c}${d}`:`${c} ${d}`,s=ye.wg_server_interface,a=Ed.O_ADDRESS)}l&&this.optionsGrids.forEach(c=>{c.getScope()===s&&c.modifyIPOption(a,l)})}confirmDuplicateWireGuardOperation(t){let o="",r=[];if(t.data&&t.data.length){r=t.data,o="<ul>";for(let s=0;s<r.length;s++)o+="<li><strong>"+r[s].name+"</strong> ("+r[s].id+") </li>";o+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:o}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let t="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==O.OBJ_WGS_CONFIG_SER)t=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"WireGuard_Server",t+=".conf";else if(this.objectToRetrieve._fwcObjType==O.OBJ_WGC_CONFIG_CLI){let r=[];r.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),r.push(this.objectToRetrieve._fwcFwName||"FW"),r.push(this.objectToRetrieve._fwcObjName||"WireGuard_Client"),r=r.map(s=>s.replace(/[^a-z0-9\-]/gi,"_")),t=r.join("-"),t+=".WireGuard"}let o=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});(0,Ite.saveAs)(o,t)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){if(this.configOrPrefixToDelete)if(this.configOrPrefixToDelete.obj_type==O.OBJ_WGS_CONFIG_SER||this.configOrPrefixToDelete.obj_type==O.OBJ_WGC_CONFIG_CLI)if(this.alsoUninstallConfig){this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0;let t=this.utilService.createDynamicComponentRef(Pr),o=t.instance;o.setDynamicComponentRef(t),this.communicationSubscription=o.socketEventEmitter.subscribe(r=>{r=="connected"&&this.onItemManage(this.configOrPrefixToDelete,!0),this.communicationSubscription.unsubscribe()}),o.checkConnection()}else this.onDeleteConfigurationOrPrefix();else this.onDeleteConfigurationOrPrefix()}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let t,o,r,s=this.configOrPrefixToDelete;s.obj_type==O.OBJ_WGS_CONFIG_SER||s.obj_type==O.OBJ_WGC_CONFIG_CLI?(t=this.fwcVpnService.deleteWireGuardConfig.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:this.configOrPrefixToDelete._fwcObjId},r="VPN.CONFIG"):s.obj_type==O.OBJ_WIREGUARD_PREFIX&&(t=this.fwcVpnService.deleteWireGuardPrefix.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:s.id_obj},r="VPN.WIREGUARD_PREFIX"),t&&(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(r+".DELETING",{name:"WireGuard client"}),Ue.MSG_INFO),this.utilService.fwcAPICall(t,o).then(a=>{let l=Object.assign({},this.configOrPrefixToDelete);l._fwcTreeAction=Ii.DELETE_ITEM,a.data&&a.data.length&&(l.fw_status=a.data),this.itemSelectedService.setModifiedItem(l),this.log||(this.hideDialog(),this.resetProperties()),s.obj_type==O.OBJ_WGS_CONFIG_SER||s.obj_type==O.OBJ_WGC_CONFIG_CLI?(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.WG_DELETE_SUCCESS")}),this.addMessageToLog(this.translate.instant("VPN.CONFIG.WG_DELETE_SUCCESS"),Ue.MSG_OK)):this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.WIREGUARD_PREFIX.DELETE.OK")})}).catch(a=>{let l;l=this.translate.instant(r+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(a)}),this.errorMsg={type:"error",title:this.translate.instant(r+".ERRORS.DELETE_ERROR.SUMMARY"),text:l},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.log&&this.addMessageToLog(l,Ue.MSG_ERROR)}))}showRestrictions(t,o){}hideRestrictions(t){}managePrefix(t){let o,r,s,a,l,c,d,u;if(t)if(t.deletePrefixFolderAction){let m={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj};if(t.obj_type==O.OBJ_PREFIX_FOLDER)c=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),d=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),l="VPN.PREFIX_FOLDER";else return;c(m).subscribe(g=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant(l+".DELETE.ASK",{name:t._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(d,m).then(y=>{if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(l+".DELETE.OK")}),t._fwcTreeAction=Ii.DELETE_ITEM,this.itemSelectedService.setModifiedItem(t),t.container!=Ge.C_FIREWALLS_CONDENSED){let v={_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED};this.itemSelectedService.setModifiedItem(v)}}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})})}})},g=>{g.error&&g.error.restrictions?(this.dependencies=g.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(l+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(l+".DELETE.RESTR_TEXT",{name:t._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})})}else{let m,g,y={[O.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[O.OBJ_WIREGUARD_PREFIX]:[this.fwcVpnService.editWireGuardPrefix.bind(this.fwcVpnService),this.fwcVpnService.newWireGuardPrefix.bind(this.fwcVpnService)]};if(t.obj_type==O.OBJ_PREFIX_FOLDER)m=t.id_obj,l="VPN.PREFIX_FOLDER";else if(t.obj_type==O.OBJ_WIREGUARD_PREFIX)g=t.id_obj,l="VPN.WIREGUARD_PREFIX";else return;if(t.editPrefixAction)o=t._fwcObjName,r=t.id_obj,s=this.translate.instant(l+".EDIT.HEADER"),a=this.translate.instant(l+".EDIT.TEXT"),y[t.obj_type]&&y[t.obj_type][0]&&(u=y[t.obj_type][0]);else if(t.newPrefixAction)s=this.translate.instant(l+".NEW.HEADER"),a=this.translate.instant(l+".NEW.TEXT"),y[t.obj_type]&&y[t.obj_type][1]&&(u=y[t.obj_type][1]);else return;let v={header:s,helpText:a,formControls:[{name:"container",type:"hidden",value:t.container},{name:"id",type:"hidden",value:r},{name:"obj_type",type:"hidden",value:t.obj_type},{name:"ca",type:"hidden",value:m},{name:"orig_name",type:"hidden",value:o},{name:"name",label:this.translate.instant(l+".NAME"),type:"text",required:!0,value:o},{name:"wireguard",type:"hidden",value:g},{name:"translateKey",type:"hidden",value:l},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(v)}}onManagePrefix(t){if(t){if(t.name==t.orig_name)return;let o,r,s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:t.name},a;o=t.translateKey,r=t.apiCall,t.id?(s.prefix=t.id,a=this.translate.instant(o+".EDIT.OK")):(s.ca=t.ca,s.wireguard=t.wireguard,a=this.translate.instant(o+".NEW.OK")),this.utilService.fwcAPICall(r,s).then(l=>{let c=l.data&&l.data.insertId?l.data.insertId:t.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:a});let d={container:t.container,_fwcObjName:t.name,_fwcObjId:c,_fwcObjType:t.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(d),t.container!=Ge.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_OBJECTS}),this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]}))}).catch(l=>{let c,d;l.data&&(l.data.fwcErr==1003?(c=this.translate.instant(o+".ERRORS.ERROR_DUP.SUMMARY"),d=this.translate.instant(o+".ERRORS.ERROR_DUP.TEXT")):l.data.fwcErr==5001?(c=this.translate.instant("VPN.WIREGUARD_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),d=this.translate.instant("VPN.WIREGUARD_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})),d&&this.confirmationService.confirm({header:c,icon:"fa fa-exclamation-circle fwcRed iconBig",message:d,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(t){if(!t)return;this.objectToSearchWU=t;let o,r;r={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},t.obj_type==O.OBJ_WIREGUARD_PREFIX?(o=this.fwcVpnService.getWireGuardWhereUsed.bind(this.fwcVpnService),r.prefix=t._fwcObjId):t.obj_type==O.OBJ_WGC_CONFIG_CLI&&(o=this.fwcVpnService.getWireGuardConfigWhereUsed.bind(this.fwcVpnService),r.wireguard=t._fwcObjId),this.showDialog(),o&&o(r).subscribe(s=>{let a=s.data.data?Object.assign({},s.data.data):Object.assign({},s.data);a._fwcObjType=t.obj_type,this.objectToSearchWU._fwcObjectInfo=a,this.recenterDialog()},s=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)})}})}blockUnblockVPNConnection(t){let o=t._fwcObjId,r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),wireguard:o},s;this.fwcVpnService.getWireGuardConfig(r).pipe(Xn(a=>{let l=a.data.data;Array.isArray(l.options)||(l.options=[]);let c,d=[];if(l.options.forEach(u=>{d.push({arg:u.arg,comment:u.comment,ipobj:u.ipobj,name:u.name,scope:u.scope})}),t.blockVPNAction){if(s="VPN.CONFIG.INFO.BLOCK_VPN",d.find(u=>u.name==="<<disable>>"))return Dt(null);d.push({arg:"",comment:"",ipobj:null,name:"<<disable>>",scope:ye.wg_client_interface})}else if(s="VPN.CONFIG.INFO.UNBLOCK_VPN",d.find(u=>u.name==="<<disable>>"))d=d.filter(u=>u.name!=="<<disable>>");else return Dt(null);return d=d.sort((u,m)=>u.scope-m.scope),c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l.firewall,wireguard:l.id,options:d},Rn(this.utilService.fwcAPICall(this.fwcVpnService.updateWireGuardConfig.bind(this.fwcVpnService),c))})).subscribe({next:a=>{a===null||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(s+".SUMMARY"),detail:this.translate.instant(s+".TEXT")});let l=this.utilService.createDynamicComponentRef(Pr),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&(t.installAction=!0,this.onItemManage(t)),this.communicationSubscription.unsubscribe()}),c.checkConnection()},error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})}})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let t=this.formModelRemote.value,o=this.optionsGrids.find(s=>s.getScope()===ye.wg_client_peer);if(!o)return;let r=[...o.getOptions()];r.forEach(s=>{o.updateOrCreateIPOption(s,!0)}),this.fwcObjectService.getObject(t.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe({next:s=>{if(!s.data)return;let a=s.data,l="",c="";t.obj_type===O.OBJ_ADDRESS&&(l=a.address),t.obj_type===O.OBJ_DNS&&(l=a.name),l+=":"+t.remote_port,a.if_name?(a.cluster_name?c+=`Cluster '${a.cluster_name}'`:a.firewall_name?c+=`Firewall '${a.firewall_name}'`:a.host_name&&(c+=`Host '${a.host_name}'`),c+=` - IF '${a.if_name}'`):c+=a.name;let d={name:"Endpoint",scope:ye.wg_client_peer,arg:l,ipobj:t.id_obj,required:!0,readonly:!0},u=r.findIndex(m=>m.name==="Endpoint");u>=0?r[u]=d:r.push(d),r.forEach(m=>{o.updateOrCreateIPOption(m,!0)}),this.formModel.controls._remote_options=new tr(this.createWireGuardOptions(r)),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},error:s=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)})}})}onRemoteIPObjectChange(t){!t||t.obj_type!=O.OBJ_ADDRESS&&t.obj_type!=O.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(t.id_obj),this.formModelRemote.get("obj_type").setValue(t.obj_type))}updateOptions(t){let o=[],r=[...this.formModel.get("options")?.value];if(this.optionsGrids.forEach(s=>{(!t||s.getScope()==t)&&(o=o.concat(s.getOptions()))}),o.length===r.length){let s=new Set(r.map(c=>c.name)),a=new Set(o.map(c=>c.name));if(!(s.size===a.size&&[...s].every(c=>a.has(c))))for(let c=0;c<o.length;c++){let d=o[c],u=r[c];u&&(u.name,d.name)}}o.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new tr(this.createWireGuardOptions(o))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new tr(this.createWireGuardOptions(o)))),this.formModel.updateValueAndValidity())}onOptionsChange(t){if(!Array.isArray(t)){this.formModel.markAsDirty();return}let o=this.formModel.get("options"),r=this.createWireGuardOptions(t),s=o.controls.map(l=>l.value),a=r.map(l=>l.value);JSON.stringify(s)!==JSON.stringify(a)&&(o.clear(),r.forEach(l=>{o.push(l),l.markAsDirty(),l.updateValueAndValidity()}),t.some(l=>l.wireguard_cli)&&(this.wireguardClientsOptions=t.filter(l=>l.wireguard_cli)),t.some(l=>l.scope===ye.wg_client_interface)&&(this.wireguardClientInterfaceOptions=t.filter(l=>l.scope===ye.wg_client_interface)),t.some(l=>l.scope===ye.wg_client_peer)&&(this.wireguardClientPeerOptions=t.filter(l=>l.scope===ye.wg_client_peer)),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity(),this.cd.detectChanges()),setTimeout(()=>{this.recenterDialog()},0)}onOptionsDelete(t,o){t&&t.name=="remote"&&t.ipobj&&this.updateOptions(o),this.formModel.markAsDirty()}getServerPeerOptions(t){return this.wireguardClientsOptions.filter(o=>o.wireguard_cli===t||o.wireguard===t)}getClientInterfaceOptions(){return this.wireguardClientInterfaceOptions.filter(t=>t.scope===ye.wg_client_interface)}getClientPeerOptions(){return this.wireguardClientPeerOptions.filter(t=>t.scope===ye.wg_client_peer)}onShowDialog(t){this.recenterDialog()}onHideDialog(t){}doStopProcess(){this.pauseProcess=!0,this.stopProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_STOP"),Ue.MSG_ERROR)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}onClientsChanged(t){this.wireguardClients=t}allowOnlyNumbersAndDot(t){let o=/[0-9.]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}allowNumbersDotAndSlash(t){let o=/[0-9.\/]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}markFormAsDirty(){this.formModel?.pristine&&this.formModel.markAsDirty()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(dt),x(Bt),x(Ki),x(En),x(co),x(Oo),x(Ni),x($e),x(ti),x(Tt),x(dn),x(ii),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-wireguard-config-panel"]],viewQuery:function(o,r){if(o&1&&(_e(Rs,5),_e(Jat,5),_e(wo,5),_e(Qat,5),_e(R0,5)),o&2){let s;W(s=$())&&(r.treeSelector=s.first),W(s=$())&&(r.txtConfigFile=s.first),W(s=$())&&(r.log=s.first),W(s=$())&&(r.gridComponent=s.first),W(s=$())&&(r.optionsGrids=s)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},outputs:{showPeerListDialog:"showPeerListDialog"},standalone:!1,features:[Se([Ki,En,Bt]),re],decls:13,vars:14,consts:[["dlgOVConfigPanel",""],["header",""],["footer",""],["txtConfigFile",""],["treeSelector",""],["styleClass","dlgFwcDialog fwcObjectDialog dlgFwcDialog--log-resize",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],[1,"grid"],[1,"grid","grid-nogutter","fwc-log-grid"],[1,"grid","grid-nogutter","fwc-log-grid","fwc-wireguard-log-grid"],[3,"objectInfo","readOnly"],[1,"first-tabview","tabTabbedMenu","flex","flex-col","w-full","bg-(--surfaceBackgroundColor)"],[1,"divFormHeader"],[1,"divHeaderButtons"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwci-whereused","fwcOrange"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],[1,"col-12","divCentered"],[1,"col-12"],[3,"message"],[1,"fwcRestrictionsContainer"],[3,"onHideParent","onRefreshRestrictions","dependencies","readOnly"],[1,"col-12",2,"text-align","center"],["inputId","chkUninstallConfig","name","chkUninstallConfig","binary","true",3,"ngModelChange","ngModel"],["for","chkUninstallConfig"],[1,"col-12","divConfigFile"],["pInputText","","rows","15","readonly",""],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[3,"autoResize"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[3,"onHideParent","objectInfo","readOnly"],[1,"flex","flex-wrap","fwc-tabbar"],["type","button",1,"fwc-tab-button","is-active"],[1,"fa","fa-pencil","fwcOrange"],[1,"fwc-wireguard-panel-section"],[1,"fwcObjectPanel"],[1,"fwcWireguardPanel",3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","grid-nogutter"],[1,"col-12","mb-2.5","whitespace-nowrap","font-['Montserrat',sans-serif]"],[1,"col-6","grid","grid-nogutter"],[1,"p-inputgroup"],["for","crtName",1,"fwcBlue"],["pInputText","","name","crtName","type","text","readonly","",3,"value"],[1,"col-12","lg:col-6","padding-right",2,"padding-right","10px"],["id","networkData",3,"legend"],[1,"p-float-label",2,"margin-top","10px"],["pInputText","","maxlength","64","type","text","formControlName","_ipobj_name","name","_ipobj_name",3,"drop"],["for","_ipobj_name"],[1,"col-3"],["pInputText","","appAutofocus","","maxlength","45","type","text","formControlName","_ipobj_address","name","_ipobj_address",3,"drop","keypress","blur"],["for","_ipobj_address"],["pInputText","","maxlength","17","type","text","formControlName","_ipobj_netmask","name","_ipobj_netmask",3,"drop","keypress","blur"],["for","_ipobj_netmask"],["class","col-1 grid-nogutter","style","padding:0; width: 8%;",4,"ngIf"],[1,"col-12","lg:col-6",2,"padding-left","10px"],[1,"col-12","lg:col-6"],["for","parentName",1,"fwcBlue"],["pInputText","","name","parentName","type","text","readonly","",3,"value"],["for","parentConfigName",1,"fwcBlue"],["pInputText","","name","parentConfigName","type","text","readonly","",3,"value"],[1,"col-1","grid-nogutter",2,"padding","0","width","8%"],[1,"pi","pi-exclamation-circle","fwcOrange",3,"pTooltip","ngStyle"],[1,"fwc-wireguard-installation",3,"legend"],[1,"grid",2,"max-height","fit-content","width","100%"],[1,"col-6",2,"margin-top","10px"],[1,"p-float-label"],["pInputText","","type","text","formControlName","install_dir","name","install_dir",2,"font-family","monospace !important",3,"drop"],["for","install_dir"],["class","fwc-error err-no-margin",3,"ngStyle",4,"ngIf"],["pInputText","","type","text","maxlength","64","formControlName","install_name","name","install_name",2,"font-family","monospace !important",3,"drop"],["for","install_name"],[1,"fwc-error","err-no-margin",3,"ngStyle"],[3,"formGroup"],["legend","Endpoint"],[1,"grid",2,"width","100%"],[1,"col-6"],[3,"objectSelected","fwcloudId","fwTreeNodes","objectTreeNodes","selectableObjects","disabledObjects"],[1,"col-5"],["pInputText","","type","number","formControlName","remote_port","name","remote_port",3,"drop"],["for","remote_port"],[1,"col"],["type","button","styleClass","fwcButtonHeight !px-4 !py-[0.4rem] fwc-icon-center-button","icon","fa fa-plus",3,"onClick","disabled"],["class","col-12 grid grid-nogutter",4,"ngIf"],[1,"col-12","grid","grid-nogutter"],[1,"col-12","max-w-full"],[3,"optionDeleted","optionsChanged","validationStatus","options","scope"],[3,"optionDeleted","optionsChanged","validationStatus","modified","options","vpnNetwork","scope"],[1,"col-12",2,"margin-top","1rem"],["pInputText","","type","text","maxlength","255","formControlName","comment","name","comment",3,"drop"],["for","comment"],[1,"flex","w-full","flex-col","flex-nowrap"],[3,"optionDeleted","optionsChanged","validationStatus","clientsUpdated","options","scope","wireguardClients"],[1,"divLoadTemp",3,"ngStyle"],["icon","pi pi-times",3,"disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-trash",3,"onClick","disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"onClick","disabled","label"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"onClick","label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","label","disabled"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"onClick","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"disabled","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"onClick","disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"onClick","disabled","label"],["styleClass","p-button-danger","icon","pi pi-times",3,"label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"label","disabled"],["styleClass","p-button-danger","icon","pi pi-times",3,"onClick","label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"onClick","label","disabled"],["icon","pi pi-times",3,"mousedown","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(l){return w(s),C(r.onShowDialog(l))})("onHide",function(l){return w(s),C(r.onHideDialog(l))}),E(2,ult,6,6,"ng-template",null,1,ie),G(4,hlt,3,0,"div",6),G(5,flt,3,1,"div",6),G(6,ylt,2,1),G(7,vlt,5,1,"div",7),G(8,xlt,17,7,"div",8),G(9,Tlt,1,2,"sts-fwc-object-wu",9),G(10,Blt,52,26,"div",10),E(11,Xlt,7,11,"ng-template",null,2,ie),b()}o&2&&(De(Pe(13,Yat)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(4),H(r.loadingData?4:-1),p(),H(r.errorMsg?5:-1),p(),H(r.objectToDelete&&!r.loadingData&&!r.errorMsg?6:-1),p(),H(r.objectToRetrieve&&!r.loadingData&&!r.errorMsg?7:-1),p(),H(r.objectToManage&&!r.loadingData&&!r.errorMsg?8:-1),p(),H(r.objectToSearchWU&&!r.loadingData&&!r.errorMsg?9:-1),p(),H(r.object&&r.formModel&&!r.loadingData&&!r.errorMsg?10:-1))},dependencies:[$t,pt,ft,eo,Hi,pp,_i,Zn,io,Zi,to,ao,Ut,lo,cn,bt,si,qp,or,Ir,wo,y0,jh,Nn,R0,Rs,O0,It,wn],styles:[`@media (max-width: 992px){sts-fwc-wireguard-options-grid,.peerList{min-width:100%;max-width:100%}}.fwc-wireguard-panel-section{display:flex;flex-direction:column;flex:1 1 0%;padding:1rem 1rem 1.571rem!important;overflow:hidden;box-sizing:border-box;border:1px solid var(--fwcGrey2);border-bottom-right-radius:3px;border-bottom-left-radius:3px;background:var(--surfaceBackgroundColor)}.fwc-wireguard-panel-section *{max-width:100%!important;box-sizing:border-box;flex-shrink:1;overflow-wrap:break-word}.dlgFwcDialog .fwcWireguardPanel .p-inputgroup{align-items:center;width:100%}.fwc-wireguard-panel-section .fwc-icon-center-button{display:inline-flex;align-items:center;justify-content:center;text-align:center}.fwc-wireguard-panel-section .fwc-icon-center-button .p-button-icon,.fwc-wireguard-panel-section .fwc-icon-center-button .p-button-icon-left,.fwc-wireguard-panel-section .fwc-icon-center-button .p-button-icon-right{display:inline-flex;align-items:center;justify-content:center;line-height:1;margin:0!important}.fwc-wireguard-panel-section .fwc-icon-center-button .p-button-label{display:none}p-fieldset[legend=Endpoint] .p-fieldset-content{margin-top:10px}.p-tabs .p-tabs-panels{max-width:100%;width:100%;overflow:hidden;box-sizing:border-box;display:flex;flex-direction:column}.p-tabs .p-tabs-panels *{max-width:100%!important;box-sizing:border-box;flex-shrink:1;overflow-wrap:break-word}.p-tabs .p-tabs-panels table{width:100%!important;table-layout:fixed}.p-tabs .p-tabs-panels input,.p-tabs .p-tabs-panels select,.p-tabs .p-tabs-panels button{max-width:100%;min-width:0}#networkData .p-fieldset .p-fieldset-content{padding-bottom:0!important;height:80px;min-height:80px;max-height:80px}#networkData .grid{align-items:center}#networkData .grid>.col-1{display:flex;align-items:center;justify-content:center}sts-fwc-wireguard-config-panel p-fieldset.fwc-wireguard-installation .p-fieldset-content{height:80px!important;min-height:80px!important;max-height:80px!important}.p-button-icon.pi-chevron-down{margin-right:4px!important}.fwc-wireguard-log-grid{height:435px;min-height:0}
`],encapsulation:2,data:{animation:[$d]}});let i=n;return i})();var iB=Xr(Oc());var ect=()=>({width:"70vw",maxHeight:"42rem"}),Ete=()=>({"max-width":"none"}),tB=i=>({display:i}),tct=()=>["cn","rightsubnet"],ict=i=>({visibility:i}),nct=()=>({width:"1.7rem",height:"1.7rem"}),oct=()=>({width:"60vw",maxHeight:"27rem"});function rct(i,n){i&1&&(_(0,"span",19),N(1,"i",20),_(2,"span"),R(3),D(4,"translate"),b()()),i&2&&(p(3),Q(k(4,1,"VPN.CONFIG.CLIENT_LIST")))}function sct(i,n){i&1&&(_(0,"tr")(1,"th",21),R(2),D(3,"translate"),N(4,"p-sortIcon",22),b(),_(5,"th",23),R(6),D(7,"translate"),b(),_(8,"th",23),R(9),D(10,"translate"),b()()),i&2&&(p(2),Y(" ",k(3,3,"VPN.PANEL.FIELDS.CN")," "),p(4),Y(" ",k(7,5,"VPN.PANEL.FIELDS.RIGHTSOURCEIP")," "),p(3),Y(" ",k(10,7,"VPN.PANEL.FIELDS.RIGHTSUBNET")," "))}function act(i,n){if(i&1){let e=B();_(0,"tr",24),A("click",function(o){let r=w(e).$implicit;return h().showClientOptionsDialog(r.id),C(o.stopPropagation())}),_(1,"td"),R(2),b(),_(3,"td"),R(4),b(),_(5,"td",25),R(6),b()()}if(i&2){let e=n.$implicit,t=h();p(2),Y(" ",e.cn," "),p(2),Y(" ",e.rightsourceip," "),p(2),Y(" ",t.formatRightSubnets(e.rightsubnet)," ")}}function lct(i,n){if(i&1){let e=B();_(0,"div",26),N(1,"p-progressSpinner"),b(),_(2,"p-button",27),D(3,"translate"),A("onClick",function(){w(e);let o=h();return C(o.onCancel(!0))}),b()}if(i&2){let e=h();f("ngStyle",de(8,ict,e.savingData?"visible":"hidden")),p(),De(Pe(10,nct)),p(),f("label",ae(k(3,6,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function cct(i,n){if(i&1&&(_(0,"div",30),N(1,"i",20),_(2,"span"),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Ps("",k(4,2,"VPN.CONFIG.IPSEC_CLIENT_HEADER")," ",e.selectedClient==null?null:e.selectedClient.cn)}}function dct(i,n){if(i&1){let e=B();_(0,"div",29)(1,"sts-fwc-ipsec-options-grid",31),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))}),b()()}if(i&2){let e=h(2);p(),f("options",e.selectedClientOptions)("scope",e.scope)}}function pct(i,n){if(i&1){let e=B();_(0,"p-button",34),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onSave())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.selectedClient||!(e.clientOptions!=null&&e.clientOptions.length)||!e.allOptionsValid())}}function uct(i,n){if(i&1){let e=B();G(0,pct,2,5,"p-button",32),_(1,"p-button",33),D(2,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onCancel(!1))}),b()}if(i&2){let e=h(2);H(e.hasChanges?0:-1),p(),f("label",ae(k(2,3,"GLOBALS.MSG_BUTTONS.CLOSE")))}}function hct(i,n){if(i&1){let e=B();_(0,"p-dialog",28),ke("visibleChange",function(o){w(e);let r=h();return Ne(r.displayOptionsDialog,o)||(r.displayOptionsDialog=o),C(o)}),E(1,cct,5,4,"ng-template",null,0,ie),G(3,dct,2,2,"div",29),E(4,uct,3,5,"ng-template",null,4,ie),b()}if(i&2){let e=h();De(Pe(6,oct)),Ae("visible",e.displayOptionsDialog),f("modal",!0)("contentStyle",Pe(7,Ete)),p(3),H(e.selectedClientOptions&&!e.isLoading?3:-1)}}var QO=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,L,F),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcObjectTreeService=d,this.fwcVpnService=u,this.inputDataService=m,this.fwcErrorPipe=g,this.translate=y,this.confirmationService=v,this.utilService=S,this.fwcEventService=I,this.messageService=P,this.store=L,this.router=F,this.options=[],this.clientsUpdated=new te,this.optionDeleted=new te,this.optionsChanged=new te,this.validationStatus=new te,this.contextMenuStyle=[js,Hs,Gs],this.ipsecClients=[],this.scope=8,this.showPeerDialog=!1,this.selectedServerId=null,this.isExpanded=[],this.clientOptions=[],this.displayOptionsDialog=!1,this.hasChanges=!1,this.rightSourceIpCache={},this.rightSourceIpValues=[],this.originalSubnets={},this.createDialog(this.translate.instant("VPN.PANEL.IPS_TITLE"),"fwci2-ipsec",oi.IPSEC_CONFIG_PANEL)}showDialog(t,o){this.ipsecClients=t||[],this.serverId=o||null,this.ipsecClients.length>0&&(this.loadAllRightSourceIps(),this.displayDialog=!0)}showClientOptionsDialog(t){return V(this,null,function*(){let o=this.ipsecClients.find(r=>r.id===t);this.selectedClient=ee({},o),this.displayOptionsDialog=!1;try{yield this.loadClientOptions(this.serverId,o.id);let r=this.ipsecClients.findIndex(s=>s.id===o.id);if(r===-1){console.error("Client not found in ipsecClients:",o.id);return}this.selectedClientOptions=JSON.parse(JSON.stringify(this.clientOptions[r]||[])),this.displayOptionsDialog=!0}catch(r){console.error("Error loading options:",r)}})}getServerPeerOptions(t){return this.ipsecClients.find(r=>r.id===t)?.options||[]}loadClientOptions(t,o){return V(this,null,function*(){let r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t,ipsec_cli:o};try{let l=((yield this.utilService.fwcAPICall(this.fwcVpnService.getIPSecClientOptions.bind(this.fwcVpnService),r)).data?.data?.options||[]).map(m=>ee({},m)),c=l.find(m=>m.name==="rightsourceip"),d=l.find(m=>m.name==="rightsubnet"),u=this.ipsecClients.findIndex(m=>m.id===o);if(u===-1){console.error("Client not found in ipsecClients:",o);return}d&&d.arg!==""&&(this.ipsecClients[u].rightsubnet=d.arg),c&&c.arg!==""?(this.ipsecClients[u].rightsourceip=c.arg,this.rightSourceIpCache[o]=c.arg):this.ipsecClients[u].rightsourceip=this.rightSourceIpCache[o]||"",this.clientOptions[u]=l.filter(m=>m.name!=="rightsubnet"||m.arg!==""),this.displayOptionsDialog&&this.selectedClient?.id===o&&(this.selectedClientOptions=[...this.clientOptions[u]])}catch(s){throw console.error("Error loading client options:",s),s}})}reloadIPSecClients(t){return V(this,null,function*(){let o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t};try{let s=(yield Qd(this.fwcVpnService.getIPSecClients(o))).data.data;this.ipsecClients=yield Promise.all(s.map(a=>V(this,null,function*(){let l=this.ipsecClients.find(c=>c.id===a.id);return yield this.loadClientOptions(t,a.id),Fe(ee({},a),{rightsourceip:l?.rightsourceip??a.rightsourceip})}))),this.clientsUpdated.emit()}catch(r){console.error("Error reloading ipsecClients:",r)}})}formatRightSubnets(t){return t?t.split(",").map(r=>r.trim()).filter(Boolean).map(r=>`${r}, `).join("").slice(0,-2):""}loadAllRightSourceIps(){return V(this,null,function*(){this.rightSourceIpValues=yield Promise.all(this.ipsecClients.map((t,o)=>this.fetchRightSourceIp(o)))})}fetchRightSourceIp(t){return V(this,null,function*(){try{let o=this.ipsecClients[t],{rightsourceip:r}=o??{};if(r)return o.rightsourceip=r,r}catch(o){return console.error(`Error getting rightsourceip for index ${t}:`,o),""}})}onOptionsChange(t){if(!this.selectedClient)return;let o=this.ipsecClients.findIndex(r=>r.id===this.selectedClient);o!==-1&&(this.clientOptions[o]=[...t]),this.selectedClientOptions=[...t],this.hasChanges=!0}onOptionsDelete(t){if(!this.selectedClient)return;let o=this.ipsecClients.findIndex(r=>r.id===this.selectedClient);o!==-1&&(this.clientOptions[o]=this.clientOptions[o].filter(r=>!this.isSameOption(r,t)),this.selectedClientOptions=[...this.clientOptions[o]]),this.formModel&&this.formModel.markAsDirty()}isSameOption(t,o){return t.id===o.id&&t.name===o.name&&t.value===o.value}updateOptions(){this.optionsChanged.emit([...this.clientOptions])}onSave(){return V(this,null,function*(){if(!this.selectedClient||!this.ipsecClients||!this.clientOptions){this.savingData=!1;return}let t=this.ipsecClients.findIndex(c=>c.id===this.selectedClient.id);if(t===-1||!this.clientOptions[t]){this.savingData=!1;return}this.savingData=!0;let o=this.selectedClientOptions||[],r=yield Promise.all(o.filter(c=>c.name!=="rightid"&&c.name!=="rightcert").map(c=>V(this,null,function*(){return ee({name:c.name,arg:c.arg,scope:8,comment:c.comment||null},Number.isInteger(Number(c.ipobj))&&{ipobj:Number(c.ipobj)})}))),s=r.find(c=>c.name==="rightsubnet");s&&typeof s.arg=="string"&&(s.arg=s.arg.split(",").map(c=>c.trim()).filter(Boolean).join(", "));let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:this.serverId,ipsec_cli:this.selectedClient.id,options:r},l=this.fwcVpnService.updateIPSecClientOptions.bind(this.fwcVpnService);try{this.savingData=!0;let c=yield this.updateClientOptions(l,a,t);return this.hasChanges=!1,c}catch(c){c.error&&c.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}finally{this.savingData=!1,this.hasChanges=!1}})}updateClientOptions(t,o,r){return V(this,null,function*(){return new Promise((a,l)=>{this.utilService.fwcAPICall(t,o).then(c=>{this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK")}),this.savingData=!1,this.hasChanges=!1,this.displayOptionsDialog=!1,this.reloadIPSecClients(this.serverId),this.clientsUpdated.emit(this.ipsecClients),this.resetProperties(),a(c)}).catch(c=>{if(c.error){let d=JSON.parse(c.error.msg);if(d.errors){let m=Object.values(d.errors).flat().join(", <br>");this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(m)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(d.message)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)});l(c),this.savingData=!1,this.hasChanges=!1})})})}resetProperties(){this.savingData=!1,this.loadingData=!1,this.object=null,this.formModel&&this.formModel.reset()}clearOptions(){this.gridOptions=[],this.updateOptions()}onCancel(t=!1,o){this.displayOptionsDialog=!1,t&&(this.displayDialog=!1),t&&(this.hideDialog(),this.clientOptions.forEach(r=>{this.clearOptions()}),this.log&&this.log.clearMessages(),this.hasChanges=!1,this.resetProperties())}validateOption(t){if(!t.arg&&t.name!=="Table")return{valid:!1,message:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.REQUIRED")};let o=Qu.IPSecOptionValidator(t.name),r=new ys(t.arg),s=o(r);if(!s)return{valid:!0};let a={invalidIPAddress:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_IP_ADDRESS"),invalidDNS:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_DNS"),invalidEndpoint:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_ENDPOINT"),invalidID:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_ID"),invalidProposal:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_PROPOSAL"),invalidKeyExchange:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_KEY_EXCHANGE"),invalidCertPolicy:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_CERT_POLICY"),invalidDPDAction:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_DPD_ACTION"),invalidDuration:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_DURATION"),invalidBoolean:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_BOOLEAN"),invalidAutoOption:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_AUTO"),invalidCertFile:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_CERT_FILE"),invalidPSK:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_PRESHARED_KEY"),invalidSubnet:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_SUBNET"),invalidSourceIP:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_SOURCE_IP"),invalidAuthMethod:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_AUTH_METHOD"),invalidCharonDebug:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_CHARON_DEBUG"),invalidYesNo:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_YES_NO")},l=Object.keys(s)[0];return{valid:!1,message:a[l]||this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_OPTION",{option:t.name})}}allOptionsValid(){return this.selectedClientOptions?this.selectedClientOptions.every(t=>this.validateOption(t).valid):!1}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(dt),x(Bt),x(Ki),x(En),x(co),x(Oo),x(Ni),x($e),x(ti),x(Tt),x(dn),x(ii),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ipsec-client-list"]],inputs:{options:"options"},outputs:{clientsUpdated:"clientsUpdated",optionDeleted:"optionDeleted",optionsChanged:"optionsChanged",validationStatus:"validationStatus"},standalone:!1,features:[Se([Ki,En,Bt]),re],decls:29,vars:40,consts:[["header",""],["inputSearch",""],["tabVpnStatusTable",""],["body",""],["footer",""],[3,"visibleChange","visible","modal","contentStyle"],[1,"col-12","divVpnStatusMain-table"],[1,"tbrHighlighted"],[1,"p-toolbar-group-left"],[1,"fwcBlue"],[1,"fa","fa-fw","fa-desktop","fwcOrange"],[1,"p-toolbar-group-right"],[1,"mt-[5px]","flex","max-h-[1.5rem]","items-center"],["type","button","icon","fa fa-search","styleClass","p-button-success","tooltipPosition","bottom","showDelay","700",2,"height","1.5rem",3,"onClick","pTooltip"],["type","text","pInputText","",3,"ngModelChange","input","placeholder","ngStyle","ngModel"],["type","button","icon","fa fa-close","styleClass","p-button-warning","tooltipPosition","bottom","showDelay","700",3,"onClick","pTooltip"],[1,"col-12",2,"overflow","auto"],["columnResizeMode","expand","selectionMode","single",1,"optionsTable",3,"selectionChange","value","resizableColumns","selection","globalFilterFields"],["appendTo","body",3,"visible","modal","style","contentStyle"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-share-alt","text-primary",2,"margin-left","10px"],["pSortableColumn","cn","pResizableColumn","",2,"width","33.33%"],["field","cn"],["pResizableColumn","",2,"width","33.33%"],[3,"click"],[2,"max-width","60vw","overflow-wrap","break-word","word-break","break-all","white-space","normal","display","table-cell","vertical-align","top"],[1,"divLoadTemp",3,"ngStyle"],["icon","pi pi-times",3,"onClick","disabled","label"],["appendTo","body",3,"visibleChange","visible","modal","contentStyle"],[1,"max-w-[60vw]"],[1,"flex","items-center","gap-2"],[3,"optionDeleted","optionsChanged","options","scope"],["styleClass","p-button-success","icon","fa fa-save",3,"label","disabled"],["icon","pi pi-times",3,"onClick","label"],["styleClass","p-button-success","icon","fa fa-save",3,"onClick","label","disabled"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),E(1,rct,5,3,"ng-template",null,0,ie),_(3,"div",6)(4,"p-toolbar",7)(5,"div",8)(6,"span",9),N(7,"i",10),R(8),D(9,"translate"),b()(),_(10,"div",11)(11,"div",12)(12,"p-button",13),D(13,"translate"),A("onClick",function(){w(s);let l=Ze(15);return r.vpnClientsDataShowFilter=!0,C(l.focus())}),b(),_(14,"input",14,1),D(16,"translate"),ke("ngModelChange",function(l){return w(s),Ne(r.vpnClientsDataFilter,l)||(r.vpnClientsDataFilter=l),C(l)}),A("input",function(){w(s);let l=Ze(21);return C(l.filterGlobal(r.vpnClientsDataFilter,"contains"))}),b(),_(17,"p-button",15),D(18,"translate"),A("onClick",function(){w(s);let l=Ze(21);return r.vpnClientsDataShowFilter=!1,r.vpnClientsDataFilter="",C(l.reset())}),b()()()(),_(19,"div",16)(20,"p-table",17,2),ke("selectionChange",function(l){return w(s),Ne(r.vpnClientSelected,l)||(r.vpnClientSelected=l),C(l)}),E(22,sct,11,9,"ng-template",null,0,ie)(24,act,7,3,"ng-template",null,3,ie),b()()(),E(26,lct,4,11,"ng-template",null,4,ie),G(28,hct,6,8,"p-dialog",18),b()}o&2&&(De(Pe(31,ect)),Ae("visible",r.displayDialog),f("modal",!0)("contentStyle",Pe(32,Ete)),p(8),Y(" ",k(9,23,"VPN.STATUS.FIELDS.CLIENTS")),p(4),De(de(33,tB,r.vpnClientsDataShowFilter?"none":"inline")),f("pTooltip",ae(k(13,25,"VPN.STATUS.BUTTONS.SEARCH"))),p(2),f("placeholder",ae(k(16,27,"VPN.STATUS.SEARCH")))("ngStyle",de(35,tB,r.vpnClientsDataShowFilter?"inline":"none")),Ae("ngModel",r.vpnClientsDataFilter),p(3),De(de(37,tB,r.vpnClientsDataShowFilter?"inline":"none")),f("pTooltip",ae(k(18,29,"VPN.STATUS.BUTTONS.CLEAR_SEARCH"))),p(3),f("value",r.ipsecClients)("resizableColumns",!0),Ae("selection",r.vpnClientSelected),f("globalFilterFields",Pe(39,tct)),p(8),H(r.displayOptionsDialog?28:-1))},encapsulation:2,data:{animation:[$d]}});let i=n;return i})();var fct=["routesTreeSelector"],mct=["optionsTable"],gct=["nameCell"],xte=i=>({"non-interactive-dropdown":i}),Tte=i=>({"p-error":i}),Ote=i=>({"p-invalid":i}),_ct=(i,n,e,t,o,r)=>[i,n,e,t,o,r],bct=(i,n,e,t)=>[i,n,e,t],yct=(i,n)=>[i,n];function vct(i,n){i&1&&(_(0,"h5",11),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"VPN.CONFIG.IPSEC_CLIENT")," "))}function wct(i,n){i&1&&(_(0,"h5",11),R(1),D(2,"translate"),b()),i&2&&(p(),Y(" ",k(2,1,"VPN.CONFIG.IPSEC_SERVER")," "))}function Cct(i,n){i&1&&(_(0,"tr"),N(1,"th",16),_(2,"th",17),R(3),D(4,"translate"),N(5,"p-sortIcon",18),b(),_(6,"th",19),R(7),D(8,"translate"),b(),_(9,"th",19),R(10),D(11,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,3,"VPN.CONFIG.GRID_HEADER.0")," "),p(4),Q(k(8,5,"VPN.CONFIG.GRID_HEADER.1")),p(3),Q(k(11,7,"VPN.CONFIG.GRID_HEADER.2")))}function Sct(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function Ict(i,n){if(i&1&&(_(0,"div")(1,"div"),R(2),b()()),i&2){let e=n.$implicit;p(2),Q(e.label)}}function Ect(i,n){if(i&1){let e=B();_(0,"p-select",30),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3).$implicit;return Ne(r.name,o)||(r.name=o),C(o)}),A("onChange",function(o){w(e);let r=h(4);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,Sct,2,1,"ng-template",null,6,ie)(4,Ict,3,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(3).$implicit,t=h();f("options",t.availableKeywords),Ae("ngModel",e.name),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,6,"VPN.CONFIG.NO_OPS"))("ngClass",de(8,xte,t.isDefaultOption(e.name)))("disabled",e.disabled||t.isDefaultOption(e.name))}}function xct(i,n){if(i&1&&R(0),i&2){let e=h(3).$implicit;Y(" ",e.name," ")}}function Tct(i,n){if(i&1){let e=B();_(0,"td",29,5),A("click",function(o){w(e);let r=h(3);return C(r.scrollToEditorCell(o))}),_(2,"p-cellEditor"),E(3,Ect,6,10,"ng-template",null,3,ie)(5,xct,1,1,"ng-template",null,4,ie),b()()}}function Oct(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function Rct(i,n){if(i&1&&(_(0,"div")(1,"div"),R(2),b()()),i&2){let e=n.$implicit;p(2),Q(e.label)}}function Dct(i,n){if(i&1){let e=B();_(0,"p-select",30),D(1,"translate"),ke("ngModelChange",function(o){w(e);let r=h(3).$implicit;return Ne(r.name,o)||(r.name=o),C(o)}),A("onChange",function(o){w(e);let r=h(4);return C(r.onDataChanged(o))})("keydown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(4);return C(r.isEditing&&o.stopImmediatePropagation())}),E(2,Oct,2,1,"ng-template",null,6,ie)(4,Rct,3,1,"ng-template",null,7,ie),b()}if(i&2){let e=h(3).$implicit,t=h();f("options",t.availableKeywords),Ae("ngModel",e.name),f("autoDisplayFirst",!1)("emptyFilterMessage",k(1,6,"VPN.CONFIG.NO_OPS"))("ngClass",de(8,xte,t.isDefaultOption(e.name)))("disabled",e.disabled||t.isDefaultOption(e.name))}}function Pct(i,n){if(i&1&&R(0),i&2){let e=h(3).$implicit;Y(" ",e.name," ")}}function Act(i,n){if(i&1){let e=B();_(0,"td",29,5),A("click",function(o){w(e);let r=h(3);return C(r.scrollToEditorCell(o))}),_(2,"p-cellEditor"),E(3,Dct,6,10,"ng-template",null,3,ie)(5,Pct,1,1,"ng-template",null,4,ie),b()()}}function kct(i,n){if(i&1&&(_(0,"div",31)(1,"strong"),R(2),b()()),i&2){let e=h(4).$implicit;p(2),Q(e.arg)}}function Nct(i,n){if(i&1&&(_(0,"div",34)(1,"small",35),N(2,"i",36),b()()),i&2){let e=h(5).$implicit,t=h();p(2),f("pTooltip",ae(t.getValidationMessage(e)))}}function Fct(i,n){if(i&1){let e=B();_(0,"div",32)(1,"input",33),ke("ngModelChange",function(o){w(e);let r=h(5);return Ne(r.editableLeftRightSubnetText,o)||(r.editableLeftRightSubnetText=o),C(o)}),A("keydown.enter",function(){w(e);let o=h(4).$implicit,r=h();return C(r.onLeftRightSubnetCombinedChange(o))})("blur",function(){w(e);let o=h(4).$implicit,r=h();return C(r.onLeftRightSubnetCombinedChange(o))})("focus",function(){w(e);let o=h(4).$implicit,r=h();return C(r.onCellEditInit(o))})("keypress",function(o){w(e);let r=h(5);return C(r.allowNumbersDotAndSlash(o))})("keydown.arrowUp",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowLeft",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowRight",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())}),b(),G(2,Nct,3,2,"div",34),b()}if(i&2){let e=h(4).$implicit,t=h();p(),Ae("ngModel",t.editableLeftRightSubnetText),f("disabled",e.name==="rightsourceip")("ngClass",de(4,Ote,t.validateOption(e).valid===!1)),p(),H(t.isOptionValid(e)?-1:2)}}function Lct(i,n){if(i&1&&G(0,kct,3,1,"div",31)(1,Fct,3,6,"div",32),i&2){let e=h(3).$implicit;H(e.name==="rightsourceip"?0:1)}}function Mct(i,n){if(i&1&&(_(0,"div",31),R(1),b()),i&2){let e=h(4).$implicit;p(),Y(" ",e.arg," ")}}function Bct(i,n){if(i&1&&R(0),i&2){let e=h(4).$implicit;Y(" ",e.arg," ")}}function Vct(i,n){if(i&1&&(N(0,"i",38),D(1,"translate")),i&2){let e=h(4).$implicit;f("pTooltip",ae(k(1,2,e.emptyMessageKey)))}}function Uct(i,n){if(i&1&&N(0,"i",39),i&2){let e=h(4).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function jct(i,n){if(i&1&&N(0,"i",39),i&2){let e=h(4).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Gct(i,n){if(i&1){let e=B();_(0,"i",41),A("mouseenter",function(o){w(e);let r=h(4).$implicit,s=h();return C(s.showObjectInfo(r,o))})("mouseleave",function(o){w(e);let r=h(5);return C(r.clearObjectInfo(o))})("wheel",function(o){w(e);let r=h(5);return C(r.clearObjectInfo(o))}),b()}if(i&2){let e=h(4).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Hct(i,n){if(i&1&&(_(0,"div",37),G(1,Mct,2,1,"div",31)(2,Bct,1,1),G(3,Vct,2,4,"i",38)(4,Uct,1,2,"i",39)(5,jct,1,2,"i",39),G(6,Gct,1,2,"i",40),b()),i&2){let e=h(3).$implicit,t=h();p(),H(e.name==="rightsourceip"?1:2),p(2),H(!e.arg&&e.name==="leftsubnet"?3:!t.isOptionValid(e)&&e.name==="leftsubnet"&&e.arg?4:t.isOptionValid(e)?-1:5),p(3),H(e.ipobj?6:-1)}}function zct(i,n){if(i&1&&(_(0,"td",27)(1,"p-cellEditor"),E(2,Lct,2,1,"ng-template",null,3,ie)(4,Hct,7,3,"ng-template",null,4,ie),b()()),i&2){let e=h(2).$implicit,t=h();f("tooltipDisabled",t.isOptionValid(e))("ngClass",de(2,Tte,!t.isOptionValid(e)))}}function Wct(i,n){if(i&1&&(_(0,"div",31),R(1),b()),i&2){let e=h(4).$implicit;p(),Y(" ",e.arg," ")}}function $ct(i,n){if(i&1&&(_(0,"div",34)(1,"small",35),N(2,"i",36),b()()),i&2){let e=h(5).$implicit,t=h();p(2),f("pTooltip",ae(t.getValidationMessage(e)))}}function Kct(i,n){if(i&1){let e=B();_(0,"div",42)(1,"input",43),ke("ngModelChange",function(o){w(e);let r=h(4).$implicit;return Ne(r.arg,o)||(r.arg=o),C(o)}),A("ngModelChange",function(){w(e);let o=h(4).$implicit,r=h();return C(r.onArgChanged(o))})("keydown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(5);return C(r.isEditing&&o.stopImmediatePropagation())}),b(),G(2,$ct,3,2,"div",34),b()}if(i&2){let e=h(4).$implicit,t=h();p(),f("type",t.text),Ae("ngModel",e.arg),f("ngClass",de(4,Ote,t.validateOption(e).valid===!1)),p(),H(t.isOptionValid(e)?-1:2)}}function qct(i,n){if(i&1&&G(0,Wct,2,1,"div",31)(1,Kct,3,6,"div",42),i&2){let e=h(3).$implicit,t=h();H((e.name==="rightid"||e.name==="rightcert")&&t.scope===t.OptionScope.ipsec_server_client?0:1)}}function Jct(i,n){if(i&1&&(_(0,"strong"),R(1),b()),i&2){let e=h(4).$implicit;p(),Q(e.arg)}}function Qct(i,n){if(i&1&&R(0),i&2){let e=h(4).$implicit;Y(" ",e.arg," ")}}function Yct(i,n){if(i&1&&(N(0,"i",38),D(1,"translate")),i&2){let e=h(4).$implicit;f("pTooltip",ae(k(1,2,e.emptyMessageKey)))}}function Xct(i,n){if(i&1&&N(0,"i",39),i&2){let e=h(4).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function Zct(i,n){if(i&1&&N(0,"i",39),i&2){let e=h(4).$implicit,t=h();f("pTooltip",ae(t.getValidationMessage(e)))}}function edt(i,n){if(i&1&&(_(0,"div",44),G(1,Jct,2,1,"strong")(2,Qct,1,1),G(3,Yct,2,4,"i",38)(4,Xct,1,2,"i",39)(5,Zct,1,2,"i",39),b()),i&2){let e=h(3).$implicit,t=h();p(),H(e.name==="left"||e.name==="right"?1:2),p(2),H(!e.arg&&e.name==="right"?3:e.arg&&e.name==="right"&&!t.isOptionValid(e)?4:t.isOptionValid(e)?-1:5)}}function tdt(i,n){if(i&1&&(_(0,"td",27)(1,"p-cellEditor"),E(2,qct,2,1,"ng-template",null,3,ie)(4,edt,6,2,"ng-template",null,4,ie),b()()),i&2){let e=h(2).$implicit,t=h();f("tooltipDisabled",t.isOptionValid(e))("ngClass",de(2,Tte,!t.isOptionValid(e)))}}function idt(i,n){if(i&1){let e=B();_(0,"input",45),ke("ngModelChange",function(o){w(e);let r=h(2).$implicit;return Ne(r.comment,o)||(r.comment=o),C(o)}),A("ngModelChange",function(){w(e);let o=h(2).$implicit,r=h();return C(r.onArgChanged(o))})("keydown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowUp",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())})("keydown.arrowDown",function(o){w(e);let r=h(3);return C(r.isEditing&&o.stopImmediatePropagation())}),b()}if(i&2){let e=h(2).$implicit;Ae("ngModel",e.comment)}}function ndt(i,n){if(i&1&&(_(0,"div",46),R(1),b()),i&2){let e=h(2).$implicit;p(),Y(" ",e.comment," ")}}function odt(i,n){if(i&1){let e=B();_(0,"tr",20)(1,"td",21)(2,"div",22)(3,"iui-contextmenu",23),A("menuOpening",function(o){w(e);let r=h().$implicit,s=h();return C(s.contextMenuLoad(o,r))})("menuClick",function(o){w(e);let r=h().rowIndex,s=h();return C(s.contextMenuHandler(o,r))}),_(4,"div",24),N(5,"i",25),b()()()(),G(6,Tct,7,0,"td",26)(7,Act,7,0,"td",26),G(8,zct,6,4,"td",27)(9,tdt,6,4,"td",27),_(10,"td",28)(11,"p-cellEditor"),E(12,idt,1,1,"ng-template",null,3,ie)(14,ndt,2,1,"ng-template",null,4,ie),b()()()}if(i&2){let e=h(),t=e.$implicit,o=e.rowIndex,r=h();f("pReorderableRow",o),p(3),f("settings",r.contextMenu)("allowAnimation",!1)("customStyle",r.contextMenuStyle)("colorScheme",r.currentColorScheme),p(3),H(t.name==="leftsubnet"||t.name==="rightsubnet"||t.name==="rightsourceip"||t.name==="leftsourceip"&&r.scope===r.OptionScope.ipsec_server_client?6:7),p(2),H((t.name==="leftsubnet"||t.name==="rightsubnet"||t.name==="rightsourceip")&&(r.scope===r.OptionScope.ipsec_server||r.scope===r.OptionScope.ipsec_server_client||r.scope===r.OptionScope.ipsec_client)?8:9)}}function rdt(i,n){if(i&1&&G(0,odt,16,7,"tr",20),i&2){let e=n.$implicit,t=h();H(t.isSpecialOption(e.name)?-1:0)}}function sdt(i,n){if(i&1){let e=B();_(0,"sts-fwc-tree-selector",49,8),A("objectSelected",function(o){w(e);let r=h(2);return C(r.onRouteObjectSelected(o))}),b()}if(i&2){let e=h(2);f("fwcloudId",null)("hideObjectName",!0)("fwTreeNodes",bs(5,_ct,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(12,bct,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_NETWORK,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(17,yct,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_NETWORK))}}function adt(i,n){if(i&1){let e=B();_(0,"p-button",47),D(1,"translate"),A("onClick",function(o){w(e);let r=h();return C(r.onAddRoute(o))}),b(),G(2,sdt,2,20,"sts-fwc-tree-selector",48)}if(i&2){let e=h();f("label",ae(k(1,3,"VPN.CONFIG.ADD_ROUTE"))),p(2),H(e.scope===e.OptionScope.ipsec_client||e.scope===e.OptionScope.ipsec_server_client?2:-1)}}function ldt(i,n){if(i&1){let e=B();_(0,"p-button",47),D(1,"translate"),A("onClick",function(o){w(e);let r=h();return C(r.onShowPeerList(o))}),b()}i&2&&f("label",ae(k(1,2,"VPN.CONFIG.SHOW_CLIENTS")))}var D0=(()=>{let n=class n{setDynamicComponentRef(t){throw new Error("Method not implemented.")}constructor(t,o,r,s,a,l,c,d,u,m){this.refService=t,this.itemSelectedService=o,this.store=r,this.translate=s,this.utilService=a,this.fwcObjectService=l,this.fwcUserService=c,this.messageService=d,this.fwcVpnService=u,this.appOptionsService=m,this.ipsecClients=[],this.tableScrollHeight="18em",this.optionsChanged=new te,this.validationStatus=new te,this.showPeerListDialog=new te,this.clientsUpdated=new te,this.gridOptions=[],this.selectedOption=null,this.alive=!0,this.infoTooltipShown=!1,this.contextMenuReference=null,this.contextMenuStyle=[js,Hs,Gs],this.applicationRef=null,this.NodeTypes=M,this.ObjectTypes=O,this.OptionScope=ye,this.showPassword=!1,this.isEditing=!1,this.defaultServerOptionsSet=new Set([...Object.values(WI)]),this.defaultClientOptionsSet=new Set([...Object.values($I)]),this.allowedIPsValues=[],this.editableLeftRightSubnetText="",this.availableKeywords=[]}ngOnInit(){this.contextMenu={items:[{id:U.VPN_OPTION_DELETE,text:this.translate.instant("VPN.CONFIG.DELETE_OPTION"),icon:"fwcMenuIcon fwci-delete fwcRed"},{id:U.NO_MENU,text:this.translate.instant("CONTEXT.NO_OPTIONS"),visible:!1}]},this.store.pipe(Nt(()=>this.alive),Cn(Ss)).subscribe(t=>{t==="dark"?this.currentColorScheme=bi.Dark:this.currentColorScheme=bi.Light}),this.buildKeywords(this.gridOptions)}ngOnChanges(t){t.options?.currentValue&&(this.gridOptions=[...t.options.currentValue])}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){let t=this;if(setTimeout(function(){let o=t.refService.getAppRef();t.contextMenuReference=o,t.applicationRef=o},1),this.optionsTable){let o=-1;this.scope===ye.ipsec_client?o=this.gridOptions.findIndex(r=>r.name==="right"&&r.arg===""):this.scope===ye.ipsec_server&&(o=this.gridOptions.findIndex(r=>r.name==="leftsubnet"&&r.arg==="")),o!==-1&&setTimeout(()=>{let r=this.nameCells.get(o);r&&r.nativeElement&&r.nativeElement.scrollIntoView({behavior:"smooth",block:"center"})},100)}}updateOptions(){this.optionsChanged.emit([...this.gridOptions]),this.buildKeywords(this.gridOptions)}onDataChanged(t){if(t.dragIndex!==void 0&&t.dropIndex!==void 0){this.updateOptions();return}let o=t.value;if(this.defaultServerOptionsSet.has(o)||this.defaultClientOptionsSet.has(o)){console.warn("Is not possible to substitute a default option:",o);return}let r=this.gridOptions.findIndex(s=>s.name===o);r!==-1&&(this.gridOptions[r].arg="",this.updateOptions())}onArgChanged(t){let o=this.validateOption(t);o.valid||this.messageService.add({key:"gridValidation",severity:"error",summary:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.ARG_ERROR",{optionName:t.name}),detail:o.message,life:3e3}),this.validationStatus.emit({valid:o.valid,option:t}),this.updateOptions()}validateAllOptions(){let t=!0;return this.gridOptions.forEach(o=>{this.isOptionValid(o)||(t=!1)}),t}onAddOption(){let t={name:"",arg:"",comment:"",scope:this.scope};this.scope===ye.ipsec_server&&(t.ipsec_cli=this.gridOptions.every(o=>o.ipsec_cli===this.gridOptions[0].ipsec_cli)?this.gridOptions[0].ipsec_cli:null),this.gridOptions.push(t),this.updateOptions(),setTimeout(()=>{let o=this.nameCells.last?.nativeElement;o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{o.click()},50))},100)}onAddRoute(t,o){this.routesTreeSelector&&this.routesTreeSelector.showTree(t,{peer:o},!0)}onRouteObjectSelected(t){this.utilService.fwcAPICall(this.fwcObjectService.getObject.bind(this.fwcObjectService),t.id_obj,this.fwcUserService.getActualFwSelectedCloud()).then(o=>{let r=o.data.address,s;if(o.data.obj_type!==7)s=`${r}/32`;else{let l=o.data.netmask;try{let c=iB.parse(r),d;l.includes("/")?d=parseInt(l.replace("/",""),10):d=iB.parse(l).prefixLengthFromSubnetMask(),s=`${c.toString()}/${d}`}catch{s=r}}let a=this.gridOptions.find(l=>l.name==="rightsubnet");if(a){let l=a.arg.split(",").map(c=>c.trim());l.includes(s)||(l.push(`${s}`),a.arg=l.join(", "))}else{let l={name:"rightsubnet",arg:s,comment:"",scope:this.scope};this.scope===ye.ipsec_server&&(l.ipsec_cli=this.gridOptions.every(c=>c.ipsec_cli===this.gridOptions[0].ipsec_cli)?this.gridOptions[0].ipsec_cli:null),this.gridOptions.push(l)}this.updateOptions()})}getScope(){return this.scope}getOptions(){return this.gridOptions}clearOptions(){this.gridOptions=[],this.updateOptions()}modifyIPOption(t,o){let r=this.gridOptions.find(s=>s.name===t);r&&(r.arg=o,this.updateOptions())}updateOrCreateIPOption(t,o){let r=this.gridOptions.find(s=>s.name===t.name);r?(r.arg=t.arg,r.comment=t.comment):o&&this.gridOptions.push(t),this.updateOptions()}contextMenuLoad(t,o){let r=!1,s;if(this.scope===ye.ipsec_client?r=Object.values($I).includes(o.name):r=Object.values(WI).includes(o.name),s=r,s){t.detail.cancel=!0;return}this.contextMenu&&this.contextMenu.items&&this.contextMenu.items.forEach(function(a){a.id==U.VPN_OPTION_DELETE&&(a.visible=!r)})}contextMenuHandler(t,o){switch(t.detail.item.id){case U.VPN_OPTION_DELETE:this.gridOptions.splice(o,1),this.updateOptions();break}}buildKeywords(t){let o,r;switch(this.scope){case ye.ipsec_server:o=KI,r=pH;break;case ye.ipsec_client:o=qI,r=[];break;case ye.ipsec_server_client:o=uH,r=hH;break;default:o=[],r=[];break}let s=[];Array.isArray(t)?s=t:t&&Array.isArray(t.options)&&(s=t.options);let a=[...o,...r.filter(c=>!o.some(d=>d.name===c.name))].map(c=>c.name),l=s.map(c=>c.name).filter(c=>!!c);this.availableKeywords=a.map(c=>({label:c,value:c,disabled:l.includes(c)}))}scrollToEditorCell(t){let o=t.currentTarget;o&&setTimeout(()=>{o.scrollIntoView({behavior:"instant",block:"center"}),this.dropdown.show()},0)}isDefaultOption(t){return!!this.defaultServerOptionsSet[t]||!!this.defaultClientOptionsSet[t]}togglePasswordVisibility(){this.showPassword=!this.showPassword}replaceDots(t){return t.replace(/./g,"\u2022")}isOptionValid(t){return this.validateOption(t).valid}getValidationMessage(t){return this.validateOption(t).message||""}validateOption(t){if(!t.arg&&t.name!=="Table")return{valid:!1,message:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.REQUIRED")};let o=Qu.IPSecOptionValidator(t.name),r=new ys(t.arg),s=o(r);if(!s)return{valid:!0};let a={invalidIPAddress:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_IP_ADDRESS"),invalidIPPool:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_IP_POOL"),invalidDNS:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_DNS"),invalidIKEVersion:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_IKE_VERSION"),invalidAuthMethod:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_AUTH_METHOD"),invalidEncryptionAlgorithm:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_ENCRYPTION_ALGORITHM"),invalidHashAlgorithm:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_HASH_ALGORITHM"),invalidDHGroup:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_DH_GROUP"),invalidLifetime:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_LIFETIME"),invalidProtocol:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_PROTOCOL"),invalidPFSGroup:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_PFS_GROUP"),invalidYesNoOption:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_YES_NO_OPTION"),invalidPort:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_PORT"),invalidHostname:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_HOSTNAME"),invalidCidr:this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_CIDR")},l=Object.keys(s)[0];return{valid:!1,message:a[l]||this.translate.instant("GLOBALS.MSG_IPSEC_VALIDATION.INVALID_VALUE")}}isSpecialOption(t){return!!t&&/^<<.*>>$/.test(t)}onEditStart(){this.isEditing=!0}onEditEnd(){this.isEditing=!1}showObjectInfo(t,o){if(t){let r={objId:t.ipobj};r.objId!==null&&(this.infoTooltipTimer=setTimeout(()=>{this.infoTooltipShown=!0,this.itemSelectedService.setObjectInfo(r,o)},1e3))}}clearObjectInfo(t){this.infoTooltipTimer&&(clearTimeout(this.infoTooltipTimer),this.infoTooltipTimer=void 0),this.infoTooltipShown&&(this.itemSelectedService.setObjectInfo(void 0,t),this.infoTooltipShown=!1)}onShowPeerList(t){this.showPeerListDialog.emit();let o=this.utilService.createDynamicComponentRef(QO),r=o.instance;r.setDynamicComponentRef(o),r.clientsUpdated.subscribe(s=>{this.clientsUpdated.emit(s);let a=this.fwcUserService.getActualFwSelectedCloud();this.fwcVpnService.getIPSecClients({fwcloud:a,ipsec:this.gridOptions[0].ipsec}).subscribe(l=>{this.ipsecClients=l.data.data})}),r.showDialog(this.ipsecClients,this.gridOptions[0].ipsec)}normalizeIP(t){return t.trim()}normalizeIPWithCIDR(t){if(t=t.trim(),t.includes("/")){let[o,r]=t.split("/");if(o&&!o.trim().endsWith(".0")&&r)return`${o}/32`}return t}normalizeIPBase(t){return t.trim().split("/")[0]}getLeftRightSubnetFirstValue(t){let o=String(t?.arg||"").split(",").map(s=>this.normalizeIP(s).trim()).filter(Boolean);return Array.from(new Set(o))[0]||""}onCellEditInit(t){this.editableLeftRightSubnetText?.trim()||(this.editableLeftRightSubnetText=(t.arg||"").split(",").map(o=>this.normalizeIP(o)).join(", "))}onLeftRightSubnetCombinedChange(t){let a=this.editableLeftRightSubnetText.split(",").map(l=>this.normalizeIPWithCIDR(l.trim())).filter((l,c,d)=>d.indexOf(l)===c).join(", ").replace(/[\s,]+$/,"");t.arg=a,this.onArgChanged(t),setTimeout(()=>{this.editableLeftRightSubnetText=""})}allowOnlyNumbersAndDot(t){let o=/[0-9.]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}allowNumbersDotAndSlash(t){let o=/[0-9.\/, ]/,r=["Backspace","Delete","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab","Home","End"],s=String.fromCharCode(t.keyCode||t.which);return!o.test(s)&&!r.includes(t.key)?(t.preventDefault(),!1):!0}};n.\u0275fac=function(o){return new(o||n)(x(sa),x(yt),x(tt),x($e),x(Tt),x(Ki),x(dt),x(ii),x(co),x(St))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ipsec-options-grid"]],viewQuery:function(o,r){if(o&1&&(_e(fct,5),_e(Pn,5),_e(mct,5),_e(gct,5)),o&2){let s;W(s=$())&&(r.routesTreeSelector=s.first),W(s=$())&&(r.dropdown=s.first),W(s=$())&&(r.optionsTable=s.first),W(s=$())&&(r.nameCells=s)}},inputs:{scope:"scope",options:"options",leftSubnet:"leftSubnet",ipsecClients:"ipsecClients",tableScrollHeight:"tableScrollHeight"},outputs:{optionsChanged:"optionsChanged",validationStatus:"validationStatus",showPeerListDialog:"showPeerListDialog",clientsUpdated:"clientsUpdated"},standalone:!1,features:[$n],decls:15,vars:11,consts:[["optionsTable",""],["header",""],["body",""],["input",""],["output",""],["nameCell",""],["selectedItem",""],["item",""],["routesTreeSelector",""],[1,"container"],[1,"col-12"],[1,"noVertPad","fwcBlue"],["selectionMode","single",1,"optionsTable",3,"selectionChange","onEditComplete","onRowReorder","onEditInit","onEditCancel","value","scrollable","scrollHeight","selection"],[1,"divGridFooter"],["icon","fa fa-plus",3,"onClick","label"],["icon","fa fa-plus",2,"margin-left","5px",3,"label"],[1,"tdActionColumn",2,"width","1rem"],["pSortableColumn","name",2,"width","17rem"],["field","name"],[2,"width","17rem"],[1,"trOptionsGridRow",2,"max-height","32px",3,"pReorderableRow"],["pReorderableRowHandle","",1,"tdActionColumn",2,"text-align","center","vertical-align","middle !important"],[1,"context-menu-wrapper"],["contextMenuRef","contextMenuReference",3,"menuOpening","menuClick","settings","allowAnimation","customStyle","colorScheme"],[1,"clickable-area"],["pReorderableRowHandle","",1,"fa","fa-bars","fwcBlue"],["pEditableColumn","","id","name"],["pEditableColumn","","tooltipPosition","left",3,"tooltipDisabled","ngClass"],["pEditableColumn",""],["pEditableColumn","","id","name",3,"click"],["appendTo","body","filter","true",1,"fwcGridDropDown",3,"ngModelChange","onChange","keydown","keydown.arrowUp","keydown.arrowDown","options","ngModel","autoDisplayFirst","emptyFilterMessage","ngClass","disabled"],[2,"cursor","default"],[1,"leftRightSubnet-edit-container"],["pInputText","",3,"ngModelChange","keydown.enter","blur","focus","keypress","keydown.arrowUp","keydown.arrowDown","keydown.arrowLeft","keydown.arrowRight","ngModel","disabled","ngClass"],[1,"error-message"],[1,"p-error"],[1,"pi","pi-exclamation-circle",3,"pTooltip"],[1,"expandable-output"],[1,"fa","fa-question-circle","fa-lg","fwcOrange",2,"margin-top","8px",3,"pTooltip"],["tooltipPosition","left",1,"pi","pi-exclamation-circle","p-error",2,"margin-left","5px",3,"pTooltip"],["tooltipPosition","left",1,"fa","fa-lg","fa-info-circle","fwcBlue",2,"margin-left","5px",3,"pTooltip"],["tooltipPosition","left",1,"fa","fa-lg","fa-info-circle","fwcBlue",2,"margin-left","5px",3,"mouseenter","mouseleave","wheel","pTooltip"],[1,"input-with-error"],["pInputText","","maxlength","255",3,"ngModelChange","keydown","keydown.arrowUp","keydown.arrowDown","type","ngModel","ngClass"],[1,"output-with-error"],["pInputText","","type","text","maxlength","255",3,"ngModelChange","keydown","keydown.arrowUp","keydown.arrowDown","ngModel"],[1,"divWrapper"],["icon","fa fa-plus",2,"margin-left","5px",3,"onClick","label"],[3,"fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"],[3,"objectSelected","fwcloudId","hideObjectName","fwTreeNodes","objectTreeNodes","selectableObjects"]],template:function(o,r){if(o&1){let s=B();_(0,"div",9)(1,"div",10),G(2,vct,3,3,"h5",11),G(3,wct,3,3,"h5",11),_(4,"p-table",12,0),ke("selectionChange",function(l){return w(s),Ne(r.selectedOption,l)||(r.selectedOption=l),C(l)}),A("onEditComplete",function(l){return w(s),C(r.onDataChanged(l))})("onRowReorder",function(l){return w(s),C(r.onDataChanged(l))})("onEditInit",function(){return w(s),C(r.onEditStart())})("onEditCancel",function(){return w(s),C(r.onEditEnd())})("onEditComplete",function(){return w(s),C(r.onEditEnd())}),E(6,Cct,12,9,"ng-template",null,1,ie)(8,rdt,1,1,"ng-template",null,2,ie),b(),_(10,"div",13)(11,"p-button",14),D(12,"translate"),A("onClick",function(){return w(s),C(r.onAddOption())}),b(),G(13,adt,3,5)(14,ldt,2,4,"p-button",15),b()()()}o&2&&(p(2),H(r.scope===r.OptionScope.ipsec_client||r.scope===r.OptionScope.ipsec_server_client?2:-1),p(),H(r.scope===r.OptionScope.ipsec_server?3:-1),p(),f("value",r.gridOptions)("scrollable",!0)("scrollHeight",r.tableScrollHeight),Ae("selection",r.selectedOption),p(7),f("label",ae(k(12,9,"VPN.CONFIG.ADD_OPTION"))),p(2),H(r.scope==r.OptionScope.ipsec_client||r.scope==r.OptionScope.ipsec_server_client?13:r.scope===r.OptionScope.ipsec_server?14:-1))},dependencies:[$t,Hi,_i,io,Zi,cn,bt,si,go,ul,Bf,Yg,hl,Xg,Zg,Pn,Rs,It],styles:[`.container{width:100%;height:auto;display:flex;flex-wrap:wrap}.divGridFooter{margin:15px auto 10px;text-align:center}.input-button-wrapper{width:100%;min-width:var(--min-width, 38rem)}.input-button-container{display:flex;align-items:center;justify-content:space-between;gap:var(--gap, 18px);width:100%}.input-button-container input{flex:1;min-width:0;max-width:100%}.non-interactive-dropdown{pointer-events:none!important;opacity:.7!important;cursor:not-allowed!important}.password-wrapper{display:flex;align-items:center;justify-content:space-between;gap:5px}.toggle-visibility{border:none;padding:1px;background:transparent;color:var(--primary-color);cursor:pointer}.hidden-cell{visibility:hidden;pointer-events:none;cursor:default!important}.fake-input-text{flex-grow:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.context-menu-wrapper{width:100%;height:100%}.clickable-area{display:block;width:100%;height:100%;pointer-events:auto;align-content:center}.input-with-error{display:flex;gap:.25rem}.error-message{display:flex;align-items:center;gap:.5rem;margin-top:.05rem}.error-message i{font-size:.875rem}.output-with-error{display:flex;align-items:center;font-size:14px}.p-invalid{border-color:#f44336!important}.optionsTable thead th{height:32px;padding:.3rem;line-height:1.1}.trOptionsGridRow{height:32px}.p-error{color:#f44336;font-size:.75rem}tr.trOptionsGridRow:not(:first-child):hover{background:#eaeaea!important;color:#333}tr.trOptionsGridRow td{overflow:hidden;font-family:Montserrat,Arial,sans-serif;padding:.3rem;line-height:1.1;vertical-align:middle}.leftRightSubnet-edit-container{display:flex}.trOptionsGridRow input.p-inputtext{height:20px!important;max-height:20px!important;width:100%;font-size:14px}:host ::ng-deep .fwcGridDropDown .p-select-label{padding:.1rem!important}.output-with-error.expandable-output,.input-with-error input.expandable-input{white-space:pre-wrap;word-break:break-word;width:100%;max-width:48rem;overflow-wrap:break-word}td.p-editable-column .p-cell-editor>div{display:flex;flex-direction:column}
`],encapsulation:2});let i=n;return i})();var Dte=Xr(Kd()),Im=Xr(Oc());var ddt=["txtConfigFile"],pdt=["gridComponent"],udt=()=>({width:"80vw"}),hdt=(i,n)=>({obj_type:i,name:n}),nB=i=>({name:i}),fdt=()=>({visibility:"visible"}),YO=i=>({visibility:i}),mdt=(i,n,e,t,o,r)=>[i,n,e,t,o,r],gdt=(i,n,e,t)=>[i,n,e,t],_dt=(i,n)=>[i,n],bdt=()=>({height:"2.5rem"}),ydt=()=>({width:"1.7rem",height:"1.7rem"}),vdt=i=>({obj_type:i});function wdt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i"),D(3,"fwcIcon"),R(4),D(5,"translate"),D(6,"translate"),b()()),i&2){let e=h(2);p(2),j(Zs(3,3,e.objectToDelete._fwcObjType,null,"fwcOrange")),p(2),Y(" ",vi(6,9,"VPN.CONFIG.HEADER_DELETE_2",Ct(12,hdt,k(5,7,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR"),e.objectToDelete._fwcObjName))," ")}}function Cdt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.IPS_HEADER_FILE",de(4,nB,e.objectToRetrieve._fwcObjName))," ")}}function Sdt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,e.configManageTranslateKey+".FORM_HEADER",de(4,nB,e.objectToManage._fwcObjName))," ")}}function Idt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",15),R(3),D(4,"translate"),b()()),i&2){let e=h(2);p(3),Y(" ",vi(4,1,"VPN.CONFIG.HEADER_WU",de(4,nB,e.objectToSearchWU._fwcObjName))," ")}}function Edt(i,n){if(i&1&&(_(0,"div",11)(1,"h6",13),N(2,"i",14),R(3),b()()),i&2){let e=h(2);p(3),Y(" ",e.headerTitle," ")}}function xdt(i,n){if(i&1){let e=B();_(0,"div",12)(1,"p-button",16),A("onClick",function(){w(e);let o=h(2);return C(o.minimizeDialog())}),b()()}}function Tdt(i,n){if(i&1&&(G(0,wdt,7,15,"div",11),G(1,Cdt,5,6,"div",11),G(2,Sdt,5,6,"div",11),G(3,Idt,5,6,"div",11),G(4,Edt,4,1,"div",11),G(5,xdt,2,0,"div",12)),i&2){let e=h();H(e.objectToDelete?0:-1),p(),H(e.objectToRetrieve?1:-1),p(),H(e.objectToManage?2:-1),p(),H(e.objectToSearchWU?3:-1),p(),H(!e.objectToDelete&&!e.objectToRetrieve&&!e.objectToManage&&!e.objectToSearchWU?4:-1),p(),H(e.disableButtons?-1:5)}}function Odt(i,n){i&1&&(_(0,"div",6)(1,"div",17),N(2,"p-progressSpinner"),b()())}function Rdt(i,n){if(i&1&&(_(0,"div",6)(1,"div",18),N(2,"sts-fwc-message",19),b()()),i&2){let e=h();p(2),f("message",e.errorMsg)}}function Ddt(i,n){if(i&1){let e=B();_(0,"div",20),N(1,"sts-fwc-message",19),_(2,"sts-fwc-object-restrictions",21),A("onHideParent",function(){w(e);let o=h(3);return C(o.minimizeDialog(!0))})("onRefreshRestrictions",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()()}if(i&2){let e=h(3);p(),f("message",e.deleteMsg),p(),f("dependencies",e.dependencies)("readOnly",e.restrictionsReadOnly)}}function Pdt(i,n){if(i&1&&G(0,Ddt,3,3,"div",20),i&2){let e=h(2);H(e.dependencies.restrictionsError?-1:0)}}function Adt(i,n){if(i&1){let e=B();_(0,"div",22)(1,"p-checkbox",23),ke("ngModelChange",function(o){w(e);let r=h(3);return Ne(r.alsoUninstallConfig,o)||(r.alsoUninstallConfig=o),C(o)}),b(),_(2,"label",24),R(3),D(4,"translate"),b()()}if(i&2){let e=h(3);p(),Ae("ngModel",e.alsoUninstallConfig),p(2),Y("\xA0",k(4,2,"VPN.CONFIG.UNINSTALL_STRINGS.UNINSTALL_FIRST"))}}function kdt(i,n){if(i&1&&(N(0,"sts-fwc-message",19),G(1,Adt,5,4,"div",22)),i&2){let e=h(2);f("message",e.deleteMsg),p(),H(e.objectToDelete.obj_type==e.ObjectTypes.OBJ_ISS_CONFIG_SER||e.objectToDelete.obj_type==e.ObjectTypes.OBJ_ISC_CONFIG_CLI?1:-1)}}function Ndt(i,n){if(i&1&&G(0,Pdt,1,1)(1,kdt,2,2),i&2){let e=h();H(e.dependencies?0:1)}}function Fdt(i,n){if(i&1&&(_(0,"div",7)(1,"div",25)(2,"textarea",26,3),R(4),b()()()),i&2){let e=h();p(4),Q(e.configFile)}}function Ldt(i,n){if(i&1&&(_(0,"span"),N(1,"i",34),R(2,"\xA0"),_(3,"strong"),R(4),b()()),i&2){let e=h(2).$implicit;p(4),Q(e.firewallName)}}function Mdt(i,n){if(i&1&&(_(0,"span"),N(1,"span",35)(2,"i",36),R(3),b()),i&2){let e=h(2).$implicit;p(3),Y("\xA0",e.firewallName)}}function Bdt(i,n){if(i&1&&(_(0,"td"),G(1,Ldt,5,1,"span"),G(2,Mdt,4,1,"span"),b()),i&2){let e=h().$implicit;p(),H(e.isNode?-1:1),p(),H(e.isNode?2:-1)}}function Vdt(i,n){if(i&1&&(_(0,"td"),N(1,"i",36),R(2),b()),i&2){let e=h().$implicit;p(2),Y("\xA0",e.firewallName," ")}}function Udt(i,n){if(i&1&&(_(0,"tr",31),G(1,Bdt,3,2,"td"),G(2,Vdt,3,1,"td"),_(3,"td",30),N(4,"i"),b()()),i&2){let e=n.$implicit,t=h(2);f("ngClass",e.coloredBg?"bgColored":"bgNormal"),p(),H(e.clusterId!==null&&e.clusterId!==void 0?1:-1),p(),H(e.clusterId===null||e.clusterId===void 0?2:-1),p(2),j(t.FirewallOpsIcons[e.installState])}}function jdt(i,n){if(i&1&&(_(0,"div",8)(1,"div",27)(2,"div",28)(3,"table",29)(4,"thead")(5,"tr")(6,"th"),R(7),D(8,"translate"),b(),_(9,"th",30),R(10),D(11,"translate"),b()()(),_(12,"tbody"),fn(13,Udt,5,5,"tr",31,ro),b()()()(),_(15,"div",32),N(16,"sts-fwc-log",33),b()()),i&2){let e=h();p(7),Q(k(8,3,"COMPILE.FORM.NAME")),p(3),Y(" ",k(11,5,e.configManageTranslateKey+".OPERATION")," "),p(3),mn(e.operationQueue),p(3),f("autoResize",!0)}}function Gdt(i,n){if(i&1){let e=B();_(0,"sts-fwc-object-wu",37),A("onHideParent",function(){w(e);let o=h();return C(o.minimizeDialog())}),b()}if(i&2){let e=h();f("objectInfo",e.objectToSearchWU._fwcObjectInfo)("readOnly",e.restrictionsReadOnly)}}function Hdt(i,n){if(i&1&&(_(0,"div",48)(1,"label",64),R(2),D(3,"translate"),b(),N(4,"input",65),b()),i&2){let e=h(2);p(2),Q(k(3,3,e.object.parent_type==e.ObjectTypes.OBJ_FIREWALL?"GLOBALS.MSG_OBJ_TYPES.FIREWALL":"GLOBALS.MSG_OBJ_TYPES.CLUSTER")),p(2),f("value",ae(e.object.parent_name))}}function zdt(i,n){if(i&1&&(_(0,"div",48)(1,"label",66),R(2),D(3,"translate"),b(),N(4,"input",67),b()),i&2){let e=h(2);p(2),Q(k(3,3,"VPN.CONFIG.SER.IPSEC")),p(2),f("value",ae(e.object._fwcParentConfigName))}}function Wdt(i,n){if(i&1&&(_(0,"div",68),N(1,"i",69),D(2,"translate"),b()),i&2){let e=h(2);p(),f("pTooltip",ae(k(2,3,e.ipNetmaskErrorMsg)))("ngStyle",Pe(5,fdt))}}function $dt(i,n){if(i&1&&(_(0,"p",79),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,YO,(e=t.formModel.get("install_dir"))!=null&&e.valid||(e=t.formModel.get("install_dir"))!=null&&e.pristine&&((e=t.formModel.get("install_dir"))!=null&&e.untouched)?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.PANEL.ERRORS.INVALID_INSTALL_PATH")," ")}}function Kdt(i,n){if(i&1&&(_(0,"p",79),R(1),D(2,"translate"),b()),i&2){let e,t=h(3);f("ngStyle",de(4,YO,(e=t.formModel.get("install_name"))!=null&&e.valid?"hidden":"visible")),p(),Y(" ",k(2,2,"VPN.CONFIG.ERRORS.INVALID_CONFIG_FILENAME_ERROR.TEXT")," ")}}function qdt(i,n){if(i&1){let e=B();_(0,"div",62)(1,"p-fieldset",70),D(2,"translate"),_(3,"div",71)(4,"div",72)(5,"div",48)(6,"p-floatlabel",73)(7,"input",74),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(8,"label",75),R(9),D(10,"translate"),b()()(),E(11,$dt,3,6,"p",76),b(),_(12,"div",72)(13,"div",48)(14,"p-floatlabel",73)(15,"input",77),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(16,"label",78),R(17),D(18,"translate"),b()()(),E(19,Kdt,3,6,"p",76),b()()()()}if(i&2){let e,t,o=h(2);p(),f("legend",k(2,5,"VPN.PANEL.FIELDS.INST_OPTIONS")),p(8),Q(k(10,7,"VPN.PANEL.FIELDS.CONFIG_DIR")),p(2),f("ngIf",!((e=o.formModel.get("install_dir"))!=null&&e.valid||(e=o.formModel.get("install_dir"))!=null&&e.pristine&&((e=o.formModel.get("install_dir"))!=null&&e.untouched))),p(6),Q(k(18,9,"VPN.PANEL.FIELDS.CONFIG_FILE")),p(2),f("ngIf",!((t=o.formModel.get("install_name"))!=null&&t.valid))}}function Jdt(i,n){if(i&1&&(_(0,"div",88)(1,"p",79),R(2),D(3,"translate"),b()()),i&2){let e=h(3);p(),f("ngStyle",de(4,YO,e.formModelRemote!=null&&e.formModelRemote.invalid&&(e.formModelRemote!=null&&e.formModelRemote.touched)&&(e.formModelRemote!=null&&e.formModelRemote.dirty)?"visible":"hidden")),p(),Y(" ",k(3,2,"VPN.PANEL.ERRORS.INVALID_REMOTE")," ")}}function Qdt(i,n){if(i&1){let e=B();_(0,"div",63)(1,"form",80)(2,"p-fieldset",81)(3,"div",82)(4,"div",83)(5,"sts-fwc-tree-selector",84,4),A("objectSelected",function(o){w(e);let r=h(2);return C(r.onRemoteIPObjectChange(o))}),b()(),_(7,"div",85)(8,"p-button",86),A("onClick",function(){w(e);let o=h(2);return C(o.onAddRemoteOption())}),b()(),E(9,Jdt,4,6,"div",87),b()()()()}if(i&2){let e=h(2);p(),f("formGroup",e.formModelRemote),p(4),f("fwcloudId",null)("fwTreeNodes",bs(10,mdt,e.NodeTypes.FOLDER,e.NodeTypes.OBJ_FIREWALL,e.NodeTypes.OBJ_CLUSTER,e.NodeTypes.FOLDER_INTERFACES,e.NodeTypes.OBJ_IF_FW,e.NodeTypes.OBJ_ADDRESS))("objectTreeNodes",Br(17,gdt,e.NodeTypes.OBJ_ADDRESS,e.NodeTypes.OBJ_DNS,e.NodeTypes.OBJ_HOST,e.NodeTypes.OBJ_IF_HOST))("selectableObjects",Ct(22,_dt,e.ObjectTypes.OBJ_ADDRESS,e.ObjectTypes.OBJ_DNS))("disabledObjects",e.disabledTreeRemoteOptions),p(3),De(Pe(25,bdt)),f("disabled",!(e.formModelRemote!=null&&e.formModelRemote.valid)),p(),f("ngIf",(e.formModelRemote==null?null:e.formModelRemote.invalid)&&(e.formModelRemote==null?null:e.formModelRemote.touched)&&(e.formModelRemote==null?null:e.formModelRemote.dirty))}}function Ydt(i,n){if(i&1){let e=B();_(0,"div",89)(1,"sts-fwc-ipsec-options-grid",90),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))})("validationStatus",function(o){w(e);let r=h(2);return C(r.handleValidationStatus(o))}),b()(),_(2,"div",91)(3,"div",48)(4,"p-floatlabel",73)(5,"input",92),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(6,"label",93),R(7),D(8,"translate"),b()()()()}if(i&2){let e=h(2);p(),f("options",e.getClientOptions())("leftSubnet",e.leftSubnet)("scope",e.OptionScope.ipsec_client),p(6),Q(k(8,4,"ITEM_PANEL.FIELDS.COMMENTS"))}}function Xdt(i,n){if(i&1){let e=B();_(0,"div",89)(1,"div",94)(2,"sts-fwc-ipsec-options-grid",95),A("optionDeleted",function(o){w(e);let r=h(2);return C(r.onOptionsDelete(o))})("optionsChanged",function(o){w(e);let r=h(2);return C(r.onOptionsChange(o))})("validationStatus",function(o){w(e);let r=h(2);return C(r.handleValidationStatus(o))})("clientsUpdated",function(o){w(e);let r=h(2);return C(r.onClientsChanged(o))}),b()()(),_(3,"div",91)(4,"div",48)(5,"p-floatlabel",73)(6,"input",92),A("drop",function(){w(e);let o=h(2);return C(o.preventDrop())}),b(),_(7,"label",93),R(8),D(9,"translate"),b()()()()}if(i&2){let e=h(2);p(2),f("options",e.object.options||e.object.data.options)("scope",e.OptionScope.ipsec_server)("ipsecClients",e.ipsecClients),p(6),Q(k(9,4,"ITEM_PANEL.FIELDS.COMMENTS"))}}function Zdt(i,n){if(i&1){let e=B();_(0,"div",10)(1,"div",38)(2,"button",39),N(3,"i",40),_(4,"span"),R(5),D(6,"translate"),b()()(),_(7,"section",41)(8,"div",42)(9,"form",43)(10,"fieldset",44),A("keyup.enter",function(o){w(e);let r=h();return C(r.checkForm(o))})("keyup.esc",function(){w(e);let o=h();return C(o.onCancel())}),_(11,"div",45)(12,"div",46)(13,"div",45)(14,"div",47),G(15,Hdt,5,5,"div",48),G(16,zdt,5,5,"div",48),b(),_(17,"div",47)(18,"div",48)(19,"label",49),R(20),D(21,"translate"),b(),N(22,"input",50),b()()()(),_(23,"div",51)(24,"p-fieldset",52)(25,"div",6)(26,"div",27)(27,"div",48)(28,"p-floatlabel",53)(29,"input",54),A("drop",function(){w(e);let o=h();return C(o.preventDrop())}),b(),_(30,"label",55),R(31),D(32,"translate"),b()()()(),_(33,"div",56)(34,"div",48)(35,"p-floatlabel",53)(36,"input",57),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowOnlyNumbersAndDot(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(37,"label",58),R(38),D(39,"translate"),b()()()(),_(40,"div",27)(41,"div",48)(42,"p-floatlabel",53)(43,"input",59),A("drop",function(){w(e);let o=h();return C(o.preventDrop())})("keypress",function(o){w(e);let r=h();return C(r.allowNumbersDotAndSlash(o))})("blur",function(){w(e);let o=h();return C(o.updateAddressOptionFromInputs())}),b(),_(44,"label",60),R(45),D(46,"translate"),b()()()(),E(47,Wdt,3,6,"div",61),b()()(),G(48,qdt,20,11,"div",62),G(49,Qdt,10,26,"div",63),G(50,Ydt,9,6)(51,Xdt,10,6),b()()()()()()}if(i&2){let e,t=h();p(5),Q(k(6,16,"VPN.PANEL.DATA")),p(4),f("formGroup",t.formModel),p(6),H(t.object.obj_type==t.ObjectTypes.OBJ_ISS_CONFIG_SER?15:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_ISC_CONFIG_CLI?16:-1),p(4),Q(k(21,18,"VPN.CONFIG.CN")),p(2),f("value",ae(t.object._fwcCrtName)),p(2),f("legend",ae(t.fieldsetTitle)),p(7),Q(k(32,20,"ITEM_PANEL.FIELDS.NAME")),p(7),Q(k(39,22,"ITEM_PANEL.FIELDS.ADDRESS")),p(7),Q(k(46,24,"ITEM_PANEL.FIELDS.MASK")),p(2),f("ngIf",((e=t.formModel.get("_ipobj_address"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_address"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_netmask"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_netmask"))==null?null:e.invalid)||((e=t.formModel.get("_ipobj_name"))==null?null:e.touched)&&((e=t.formModel.get("_ipobj_name"))==null?null:e.invalid)),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_ISS_CONFIG_SER?48:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_ISC_CONFIG_CLI?49:-1),p(),H(t.object.obj_type==t.ObjectTypes.OBJ_ISC_CONFIG_CLI?50:t.object.obj_type==t.ObjectTypes.OBJ_ISS_CONFIG_SER?51:-1)}}function ept(i,n){if(i&1){let e=B();_(0,"p-button",100),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.reloadPanel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"POLICY_GRID.RELOAD")))("disabled",e.loadingData)}}function tpt(i,n){if(i&1){let e=B();G(0,ept,2,5,"p-button",98),_(1,"p-button",99),D(2,"translate"),D(3,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.onProcessDeleteAction())}),b()}if(i&2){let e=h(2);H(e.dependencies?0:-1),p(),f("label",ae(vi(3,6,"CONTEXT.VPN_CONFIG.DELETE_2",de(9,vdt,k(2,4,"GLOBALS.DB_OBJECT_NAMES."+e.objectToDelete._fwcObjType+"_ABBR")))))("disabled",!e.okToDelete||e.loadingData||e.savingData)}}function ipt(i,n){if(i&1){let e=B();_(0,"p-button",103),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCopyConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.CLIPBOARD.BUTTON")))("disabled",e.loadingData)}}function npt(i,n){if(i&1){let e=B();_(0,"p-button",104),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onDownloadConfigFile())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"VPN.CONFIG.DOWNLOAD.BUTTON")))("disabled",e.loadingData)}}function opt(i,n){if(i&1&&(G(0,ipt,2,5,"p-button",101),G(1,npt,2,5,"p-button",102)),i&2){let e=h(2);H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?0:-1),p(),H(!e.errorMsg&&(e.configFile!=null&&e.configFile.length)?1:-1)}}function rpt(i,n){if(i&1){let e=B();_(0,"p-button",108),D(1,"translate"),A("onClick",function(){w(e);let o=h(4);return C(o.doPauseProcess(!0))}),b()}if(i&2){let e=h(4);f("label",ae(k(1,3,"COMPILE.PAUSE")))("disabled",e.disableButtons)}}function spt(i,n){if(i&1){let e=B();_(0,"p-button",109),A("onClick",function(){w(e);let o=h(4);return C(o.doContinueProcess())}),b()}if(i&2){let e=h(4);f("disabled",e.disableButtons)("label",e.continueButtonText)}}function apt(i,n){if(i&1){let e=B();_(0,"p-button",105),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.doStopProcess())}),b(),G(2,rpt,2,5,"p-button",106)(3,spt,1,2,"p-button",107)}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.STOP"))),p(2),H(e.pauseProcess?3:2)}}function lpt(i,n){if(i&1&&G(0,apt,4,5),i&2){let e=h(2);H(e.operationInProcessId<e.operationQueue.length&&!e.stopProcess?0:-1)}}function cpt(i,n){if(i&1){let e=B();_(0,"p-button",112),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onCancel())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CANCEL")))("disabled",!e.object||e.loadingData||e.savingData)}}function dpt(i,n){if(i&1){let e=B();_(0,"p-button",113),D(1,"translate"),A("onClick",function(){w(e);let o=h(3);return C(o.onSave())}),b()}if(i&2){let e=h(3);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.SAVE")))("disabled",!e.formModel.valid||e.formModel.pristine||e.loadingData||e.savingData)}}function ppt(i,n){if(i&1&&(G(0,cpt,2,5,"p-button",110),G(1,dpt,2,5,"p-button",111)),i&2){let e=h(2);H(e.formModel.pristine?-1:0),p(),H(e.formModel.pristine?-1:1)}}function upt(i,n){if(i&1){let e=B();_(0,"p-button",114),D(1,"translate"),A("mousedown",function(){w(e);let o=h(2);return C(o.onCancel())}),b()}if(i&2){let e=h(2);f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.savingData||e.disableButtons)}}function hpt(i,n){if(i&1&&(_(0,"div",96),N(1,"p-progressSpinner"),b(),G(2,tpt,4,11),G(3,opt,2,2),G(4,lpt,1,1),G(5,ppt,2,2),G(6,upt,2,5,"p-button",97)),i&2){let e=h();f("ngStyle",de(8,YO,e.savingData?"visible":"hidden")),p(),De(Pe(10,ydt)),p(),H(e.objectToDelete?2:-1),p(),H(e.objectToRetrieve?3:-1),p(),H(e.objectToManage?4:-1),p(),H(e.object&&e.formModel?5:-1),p(),H(!e.object||!e.formModel||e.object&&e.formModel&&e.formModel.pristine?6:-1)}}var Rte=6e4,fpt=["left","right"],JRi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y,v,S,I,P,L,F){super(r,o,t,s,L,F),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.cd=s,this.fwcUserService=a,this.fwcFirewallService=l,this.fwcObjectService=c,this.fwcObjectTreeService=d,this.fwcVpnService=u,this.inputDataService=m,this.fwcErrorPipe=g,this.translate=y,this.confirmationService=v,this.utilService=S,this.fwcEventService=I,this.messageService=P,this.store=L,this.router=F,this.restrictionsReadOnly=!1,this.showPeerListDialog=new te,this.loadingData=!1,this.savingData=!1,this.ObjectTypes=O,this.OptionScope=ye,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.dependencies=null,this.FirewallOpsIcons=Id,this.operationQueue=[],this.pauseProcess=!1,this.disableButtons=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.NodeTypes=M,this.alive=!0,this.ipsecClients=[],this.ipsecClientsOptions=[],this.ipsecClientOptions=[],this.isExpanded=[],this.showPeerDialog=!1,this.selectedServerId=null,this.showPeerComponent=!1,this.clientOptions=[],this.lastValidGridValue=null,this.leftSubnet="",this.originalAddress="",this.originalNetmask="",this.allowBlurValidation=!1,this.cloneFromId=null,this.createDialog(this.translate.instant("VPN.PANEL.IPS_TITLE"),"fwci2-ipsec",oi.IPSEC_CONFIG_PANEL)}ngOnInit(){this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.store.pipe(Nt(()=>this.alive),Cn(Ua.selectDialogUuidsToReload)).subscribe(t=>{t&&t.find(o=>o===this.dialogUUID)&&this.reloadPanel()}),this.itemSelectedService.getItem().pipe(Nt(()=>this.alive)).subscribe(t=>V(this,null,function*(){if(!(t.obj_type!=O.OBJ_ISS_CONFIG_SER&&t.obj_type!=O.OBJ_ISC_CONFIG_CLI&&t.obj_type!=O.OBJ_PREFIX_FOLDER&&t.obj_type!=O.OBJ_IPSEC_PREFIX||t.statusAction||t._onlySelectInTree)){if(this.resetProperties(),t.parent_type==O.OBJ_CLUSTER){let o;if(o=yield this.getClusterMasterFirewall(t.parent_id),o)t.firewall=o.id;else{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.translate.instant("CLUSTER.ERROR_MASTER_TEXT",{name:t.parent_name})});return}}else t.firewall=t.parent_id;if(t.deleteAction)this.onItemDelete(t);else if(t.configFileAction)this.onItemGetFile(t);else if(t.installAction||t.syncCCDAction||t.uninstallAction||t.syncPendingCCDAction){let o=this.utilService.createDynamicComponentRef(Pr),r=o.instance;r.setDynamicComponentRef(o),this.communicationSubscription=r.socketEventEmitter.subscribe(s=>{s=="connected"&&this.onItemManage(t),this.communicationSubscription.unsubscribe()}),yield r.checkConnection()}else if(t.newPrefixAction||t.editPrefixAction||t.deletePrefixFolderAction)this.managePrefix(t);else if(t.whereUsedAction)this.showWhereUsed(t);else if(t.blockVPNAction||t.unblockVPNAction)this.blockUnblockVPNConnection(t);else if(Array.isArray(t._fwcChildClientNodes)&&t._fwcChildClientNodes.length){let o=[];t._fwcChildClientNodes.forEach(s=>{o.find(a=>a.id===s.id_obj)||o.push({id:s.id_obj,text:s.name})});let r={header:this.translate.instant("VPN.CONFIG.CLI_CLONE.HEADER"),helpText:this.translate.instant("VPN.CONFIG.CLI_CLONE.TEXT"),modal:!0,formControls:[{name:"clientConfId",label:this.translate.instant("VPN.CONFIG.IPS_HEADER_CLI"),type:"select",options:o,placeholder:this.translate.instant("VPN.CONFIG.CLI_CLONE.NO_CLONE"),required:!1}],onAccept:s=>{if(s)if(s.clientConfId)t._fwcObjId=s.clientConfId,this.onItemSelect(t,!0);else{let a=ee({},t);delete a._fwcChildClientNodes,this.onItemSelect(a)}}};this.inputDataService.setInputData(r)}else yield this.onItemSelect(t)}}))}ngOnDestroy(){super.ngOnDestroy()}getFirstAvailableIP(t,o){if(!Im.isValid(t))throw new Error("IP address is invalid");let r,s;if(Mt.netmaskCIDRRegexp.test(o)){let g=o.match(Mt.netmaskCIDRRegexp);if(r=parseInt(g[1],10),r<0||r>32)throw new Error("Netmask CIDR is invalid");s=this.appOptionsService.convertToStandardNetmask(r.toString())}else{if(!new RegExp(Mt.netmaskRegexp).test(o))throw new Error("Netmask decimal is invalid");r=this.appOptionsService.netmaskToCIDR(o),s=o}let l=`${t}/${r}`,d=Im.IPv4.networkAddressFromCIDR(l).octets.slice();return d[3]+=1,`${Im.fromByteArray(d).toString()}/${r}`}updateAddressOptionFromInputs(){let t=this.formModel?.get("_ipobj_address"),o=this.formModel?.get("_ipobj_netmask"),r=t?.value?.trim()||"",s=o?.value?.trim()||"",a=t?.touched,l=o?.touched;if((t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&!a&&t?.markAsTouched(),(o?.value!==this.originalNetmask||t?.value!==this.originalAddress)&&!l&&o?.markAsTouched(),!r&&!s){this.clearIPFromGrid(),this.lastValidGridValue=null,this.formModel?.updateValueAndValidity();return}let c=T0(r,s,this.translate);if(!c.valid){c.error==="invalidMask"?(this.appOptionsService.setControlError(o,"invalidMask"),this.appOptionsService.clearControlErrors(t)):c.error==="notNetworkAddress"?(this.appOptionsService.setControlError(t,"notNetworkAddress"),this.appOptionsService.setControlError(o,"notNetworkAddress")):c.error==="invalidIP"&&(this.appOptionsService.setControlError(t,"invalidIP"),this.appOptionsService.clearControlErrors(o)),this.ipNetmaskErrorMsg=c.message||"",this.formModel?.updateValueAndValidity();return}if(this.appOptionsService.clearControlErrors(t),this.appOptionsService.clearControlErrors(o),!this.lastValidGridValue||this.lastValidGridValue.ip!==r||this.lastValidGridValue.mask!==s){let g=this.getFirstAvailableIP(r,s),y=this.object?.obj_type,v=y===O.OBJ_ISC_CONFIG_CLI?ye.ipsec_client:y===O.OBJ_ISS_CONFIG_SER?ye.ipsec_server:null;if(!v)return;this.optionsGrids.forEach(S=>{S.getScope()===v&&S.modifyIPOption(va.O_LEFT,g.split("/")[0]),S.getScope()===ye.ipsec_server&&(S.modifyIPOption(va.O_LEFTSUBNET,r+s),S.getOptions().find(P=>P.name===va.O_RIGHTSUBNET&&P.scope===ye.ipsec_server)&&S.modifyIPOption(va.O_RIGHTSUBNET,r+s))}),this.lastValidGridValue={ip:r,mask:s}}if(!a&&!l)return;(t?.value!==this.originalAddress||o?.value!==this.originalNetmask)&&(a||t?.markAsTouched(),l||o?.markAsTouched()),t?.value===this.originalAddress&&o?.value===this.originalNetmask&&!t?.errors&&!o?.errors&&(this.formModel?.markAsPristine(),t?.markAsPristine(),o?.markAsPristine()),this.formModel?.updateValueAndValidity()}clearIPFromGrid(){let t=this.object?.obj_type,o=null;t===O.OBJ_ISC_CONFIG_CLI?o=ye.ipsec_client:t===O.OBJ_ISS_CONFIG_SER&&(o=ye.ipsec_server),o&&this.optionsGrids.forEach(r=>{r.getScope()===o&&r.modifyIPOption(va.O_LEFT,"")})}startTimeoutHandler(){this.timeoutTimer=setTimeout(()=>{this.eventsSubscription.unsubscribe(),this.doTimeoutOp()},Rte)}refreshTimeoutHandler(){clearTimeout(this.timeoutTimer),this.startTimeoutHandler()}reloadPanel(){if(this.objectToDelete||this.objectToSearchWU){if(this.displayDialog||this.dialogMinified){if(this.objectToDelete){let t=Object.assign({},this.objectToDelete),o=this.itemSelectedService.getActualLastMinifiedDialogId();this.resetProperties(),this.onItemDelete(t),this.dialogId==o&&(this.showDialog(),this.itemSelectedService.setLastMinifiedDialogId(void 0))}else if(this.objectToSearchWU){let t=Object.assign({},this.objectToSearchWU);this.resetProperties(),this.showWhereUsed(t)}}this.store.dispatch(an.reloadDialogFinished({dialogUuid:this.dialogUUID}))}}resetProperties(){this.savingData=!1,this.loadingData=!1,this.disableButtons=!1,this.object=this.objectToDelete=this.objectToRetrieve=this.objectToManage=this.objectToSearchWU=this.configOrPrefixToDelete=null,this.remoteOptions=[],this.errorMsg=null,this.dependencies=null,this.deleteMsg=null,this.formModel&&this.formModel.reset()}checkIPSecConfigCanBeDeleted(t){return new Promise((r,s)=>{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t._fwcObjId};this.fwcVpnService.checkIPSecConfigRestrictions(a).subscribe({next:l=>{r(!0)},error:l=>{l.error&&l.error.restrictions?r(!1):s(l)}})})}onItemDelete(t,o){if(!t)return;let r,s,a;this.objectToDelete=t,this.loadingData=!0,this.okToDelete=!1,this.alsoUninstallConfig=!1,this.deleteMsg=null,t.obj_type==O.OBJ_ISS_CONFIG_SER||t.obj_type==O.OBJ_ISC_CONFIG_CLI?(r=this.fwcVpnService.checkIPSecConfigRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t._fwcObjId},a="VPN.CONFIG"):t.obj_type==O.OBJ_IPSEC_PREFIX&&(r=this.fwcVpnService.checkIPSecPrefixRestrictions.bind(this.fwcVpnService),s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj},a="VPN.IPSEC_PREFIX"),r&&(this.showDialog(),o&&this.recenterDialog(),r(s).subscribe(l=>{this.okToDelete=!0,this.configOrPrefixToDelete=Object.assign({},t),this.deleteMsg={type:"warning",title:this.translate.instant(a+".DELETE_WARN.SUMMARY"),text:this.translate.instant(a+".DELETE_WARN.TEXT",{name:t._fwcObjName})},this.dependencies=null,this.okToDelete=!0,this.loadingData=!1},l=>{l.error&&l.error.restrictions?(this.dependencies=l.error.restrictions,this.deleteMsg={type:"error",title:this.translate.instant(a+".ERRORS.RESTR_ERROR.SUMMARY"),text:this.translate.instant(a+".ERRORS.RESTR_ERROR.TEXT",{name:t._fwcObjName})}):(this.errorMsg={type:"error",title:this.translate.instant(a+".ERRORS.DELETE_ERROR.SUMMARY"),text:this.fwcErrorPipe.transform(l)},this.dependencies={restrictionsError:!0}),this.loadingData=!1,this.recenterDialog()}))}onItemGetFile(t){if(!t)return;this.objectToRetrieve=t,this.loadingData=!0,this.showDialog();let o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t._fwcObjId};this.fwcVpnService.getIPSecConfigFile(o).subscribe({next:r=>{r.data?this.configFile=r.data.data?r.data.data.cfg:r.data.cfg:(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:r.error})},r.error&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r.error)})),this.loadingData=!1,this.recenterDialog()},error:r=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETFILE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(r)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),this.loadingData=!1}})}onItemManage(t,o){if(!t)return;let r=t.id_obj,s,a,l,c=[],d=this.fwcUserService.getActualFwSelectedCloud();this.objectToManage=t,t.installAction?(this.configManageTranslateKey="VPN.CONFIG.INSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.installIPSecConfig.bind(this.fwcVpnService)):t.uninstallAction?(this.configManageTranslateKey="VPN.CONFIG.UNINSTALL_STRINGS",this.configManageAPICall=this.fwcVpnService.uninstallIPSecConfig.bind(this.fwcVpnService)):t.syncCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_STRINGS",this.configManageAPICall=this.fwcVpnService.syncIPSecConfigCCD.bind(this.fwcVpnService)):t.syncPendingCCDAction?(this.configManageTranslateKey="VPN.CONFIG.SYNC_PENDING_STRINGS",this.configManageAPICall=this.fwcVpnService.syncIPSecConfigPendingCCD.bind(this.fwcVpnService)):this.configManageAPICall=null,this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.showDialog(),o&&this.recenterDialog(),this.channel_id=lr(),this.utilService.ioListenOnLogEvent(this.channel_id),this.startTimeoutHandler(),this.eventsSubscription=this.fwcEventService.getEvent().pipe(Nt(()=>this.displayDialog)).subscribe(u=>{this.refreshTimeoutHandler();let m=new Qr(u),g;m.payload.type===Ue.MSG_ERROR&&(g=this.utilService.isCommunicationErrorStr(m.payload.message),this.pauseProcess=!0,this.operationWithErrors=!0,this.doTimeoutOp()),g?(this.continueButtonText=this.translate.instant("COMPILE.RETRY"),this.doTimeoutOp()):(this.log.addNewMessage(m),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"))}),t.parent_type==O.OBJ_CLUSTER?(l=this.fwcFirewallService.getClusterNodes.bind(this.fwcFirewallService),a=t.parent_id,s=!0):t.parent_type==O.OBJ_FIREWALL&&(l=this.fwcFirewallService.getFirewall.bind(this.fwcFirewallService),a=t.firewall,s=!1),l&&l(a,d).subscribe(u=>V(this,null,function*(){u.data&&u.data instanceof Array?c=u.data:u.data?(c=[],c.push(u.data)):c=[],this.operationQueue=[];let m;s&&(m={ipsec:r,clusterId:a,firewallId:a,firewallName:t._fwcClusterName,installState:ni.FW_DISABLED,opInstalled:!1},this.operationQueue.push(Object.assign({},m)));let g=this.fwcUserService.getActualFwcUser().privateKey;for(let y=0;y<c.length;y++){let v=c[y],S=v.install_user,I=v.install_pass;try{S&&(S=yield this.utilService.openPGPDecrypt(S,g)),I&&(I=yield this.utilService.openPGPDecrypt(I,g))}catch{}m={clusterId:v.cluster,clusterName:t._fwcClusterName,isNode:!!v.cluster,ipsec:r,firewallId:c[y].id,firewallName:c[y].name,installState:ni.FW_PENDING,opInstalled:!1,sshUser:S,sshPassword:I,installInterface:c[y].install_interface,installInterfaceName:c[y].interface_name,installIpobj:c[y].install_ipobj,installIpobjName:c[y].ip_name,installIpobjIP:c[y].ip,installCommunication:c[y].install_communication,installProtocol:c[y].install_protocol,installApikey:c[y].install_apikey,deleteAction:t.deleteAction},this.operationQueue.push(Object.assign({},m))}this.operationInProcessId=0,this.actualFirewallCompileSSHInputData=null,this.processIPSecOperation(!0)}),u=>{u.error&&u.error.fwcErr==1002||this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1})}processIPSecOperation(t){let o;if(!this.pauseProcess&&(clearTimeout(this.timeoutTimer),this.operationQueue&&this.operationInProcessId<this.operationQueue.length)){let r=this.operationQueue[this.operationInProcessId];if(!r)return;if(this.operationWithErrors=!1,r.clusterId!==null&&r.clusterId!==void 0?o=this.translate.instant("COMPILE.INST_CLUSTER_NODE",{clusterName:r.clusterName,firewallName:r.firewallName}):o=this.translate.instant("COMPILE.INST_FW",{firewallName:r.firewallName}),r.installState==ni.FW_PENDING)if(r.installState=ni.FW_PROCESSING,t||this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".START",{name:o}),Ue.MSG_INFO),r.installInterface&&r.installIpobj)if(r.installCommunication==="ssh"){let s={header:this.translate.instant("COMPILE.INST_SSH",{name:o}),helpText:this.translate.instant("COMPILE.INST_SSH_TEXT"),modal:!1,formControls:[{name:"ipsec",type:"hidden",value:r.ipsec},{name:"firewall_id",type:"hidden",value:r.firewallId},{name:"interface_name",label:this.translate.instant("COMPILE.FIELDS.INST_IF"),icon:"fwci-interface fwcGreen",type:"text",value:r.installInterfaceName,readonly:!0,halfSized:!0},{name:"ip_name",label:this.translate.instant("COMPILE.FIELDS.INST_IP"),icon:"fwci-address fwcBlue",type:"text",value:r.installIpobjName+" ("+r.installIpobjIP+")",readonly:!0,halfSized:!0},{name:"",label:"",type:"separator"},{name:"ssh_user",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_USER"),type:"text",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_user:r.sshUser,setFocus:!0},{name:"",label:"",type:"separator"},{name:"ssh_password",label:this.translate.instant("CLUSTER.MSG_CLUSTER_EDITION.SSH_PASS"),type:"password",required:!0,value:this.actualFirewallCompileSSHInputData?this.actualFirewallCompileSSHInputData.ssh_password:r.sshPassword},{name:"deleteAction",type:"hidden",value:r.deleteAction},{name:"btnPauseProcess",label:this.translate.instant("COMPILE.PAUSE"),type:"button",icon:"fa fa-pause",class:"p-button-warning",value:0,readonly:!this.operationInProcessId}],onAccept:this.manageConfig.bind(this)};this.disableButtons=!0,this.inputDataService.setInputData(s);return}else{let s={ipsec:r.ipsec,firewall_id:r.firewallId,interface_name:r.installInterfaceName,deleteAction:r.deleteAction,ip_name:void 0,ssh_user:void 0,ssh_password:void 0};this.disableButtons=!0,this.manageConfig(s)}else r.installState=ni.FW_ERROR,setTimeout(()=>{this.confirmationService.confirm({key:"cdErrorFw",header:this.translate.instant("COMPILE.INST_SSH_ERROR"),message:this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName}),reject:()=>{this.doPauseProcess(),this.confirmationService.close()},accept:()=>{let s=this.translate.instant("COMPILE.INST_SSH_ERROR_TEXT",{name:r.firewallName||r.clusterName});this.operationWithErrors=!0,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:o,error:s}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processIPSecOperation(),this.confirmationService.close()}})},1);else this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processIPSecOperation(t)}}manageConfig(t){return V(this,null,function*(){if(!this.operationQueue||this.operationInProcessId>=this.operationQueue.length||!this.configManageAPICall)return;let o=this.operationQueue[this.operationInProcessId],r=o.clusterId!==null&&o.clusterId!==void 0?`cluster ${o.clusterId} - firewall ${o.firewallId} (${o.firewallName})`:`firewall ${o.firewallId} (${o.firewallName})`;if(this.disableButtons=!1,!t){o.installState=ni.FW_WARNING,this.addMessageToLog(this.translate.instant("COMPILE.INST_WARNING",{name:r}),Ue.MSG_ERROR),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.processIPSecOperation();return}if(this.actualFirewallCompileSSHInputData=t,t.btnPauseProcess){o.installState=ni.FW_PENDING,this.doPauseProcess(!0);return}clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(()=>this.doTimeoutOp(),Rte),this.log.startDataLoad();let s=this.fwcUserService.getActualFwcUser().publicKey,a=t.ssh_user?yield this.utilService.openPGPEncrypt(t.ssh_user,s):null,l=t.ssh_password?yield this.utilService.openPGPEncrypt(t.ssh_password,s):null,c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t.ipsec,firewall:t.firewall_id,sshuser:a,sshpass:l};(this.objectToManage?.blockVPNAction||this.objectToManage?.unblockVPNAction)&&(c.configOnly=1),this.disableButtons=!0,this.communicationAPISubscription=this.utilService.fwcAPICallObservable(this.configManageAPICall,this.channel_id,c).subscribe({next:d=>{if(this.disableButtons=!1,o.installState=ni.FW_OK,this.log&&this.log.stopDataLoad(),d.data?.data?.installName){let m="strongswan-starter";this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".RELOAD"),Ue.MSG_INFO),this.utilService.fwcAPICall(this.fwcFirewallService.getSystemctlInformation.bind(this.fwcFirewallService),{fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:t.firewall_id,service:m,command:"reload"}).then(()=>{}).catch(()=>{this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".RELOAD_ERROR"),Ue.MSG_ERROR)})}let u=this.operationWithErrors?this.translate.instant(this.configManageTranslateKey+".COMPLETED_WITH_ERRORS"):this.translate.instant(this.configManageTranslateKey+".COMPLETED");this.addMessageToLog(u,Ue.MSG_OK),this.operationInProcessId++,this.actualFirewallCompileSSHInputData=null,this.operationQueue&&this.operationInProcessId<this.operationQueue.length?this.processIPSecOperation():t.deleteAction&&(this.operationWithErrors?this.confirmationService.confirm({header:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ERROR_HEADER"),message:this.translate.instant("VPN.CONFIG.UNINSTALL_STRINGS.ASK_DELETE"),acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),rejectLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.NO"),rejectVisible:!0,accept:()=>this.onDeleteConfigurationOrPrefix()}):this.onDeleteConfigurationOrPrefix()),clearTimeout(this.timeoutTimer)},error:d=>{this.disableButtons=!1;let u=this.utilService.isCommunicationError(d.error);u?(o.installState=ni.FW_PENDING,this.addMessageToLog(u,Ue.MSG_ERROR),this.continueButtonText=this.translate.instant("COMPILE.RETRY")):(d.error.fwcErr===9e3?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_OP_RESULT.ERROR"),icon:"fa fa-exclamation-circle fwcRed iconBig",message:this.translate.instant("API_ERROR.SSH_FORBIDDEN"),rejectVisible:!1,acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.OK")}):(o.installState=ni.FW_ERROR,this.addMessageToLog(this.translate.instant(this.configManageTranslateKey+".ERROR",{name:r,error:d.error}),Ue.MSG_ERROR)),this.continueButtonText=this.translate.instant("COMPILE.CONTINUE"),this.actualFirewallCompileSSHInputData=null),this.log.stopDataLoad(),this.operationInProcessId<this.operationQueue.length-1?this.doPauseProcess():clearTimeout(this.timeoutTimer)}})})}doTimeoutOp(){clearTimeout(this.timeoutTimer),this.pauseProcess=!0,this.loadingData=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_TIMEOUT"),Ue.MSG_WARNING))}doPauseProcess(t){this.pauseProcess=!0,this.loadingData=!1,clearTimeout(this.timeoutTimer),t&&this.addMessageToLog(this.translate.instant("COMPILE.WARN_PAUSE"),Ue.MSG_WARNING)}doContinueProcess(){this.pauseProcess=!1,this.processIPSecOperation()}onItemSelect(t,o){return V(this,null,function*(){if(!t)return;this.loadingData=!0,this.showDialog();let r=t._fwcObjId,s=t.obj_type;if(t.obj_type==O.OBJ_ISC_CONFIG_CLI){this.headerTitle=this.translate.instant("VPN.CONFIG.IPS_HEADER_CLI"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.IP_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP");let a=yield this.loadIPObjects(),l=yield this.loadDNSObjects();if(!a||!l)return;this.remoteOptions=[],this.remoteOptions.push(a),this.remoteOptions.push(l)}else this.headerTitle=this.translate.instant("VPN.CONFIG.IPS_HEADER_SER"),this.fieldsetTitle=this.translate.instant("VPN.CONFIG.NETMASK_VPN"),this.ipNetmaskErrorMsg=this.translate.instant("VPN.PANEL.ERRORS.IP_NETMASK");if(r===void 0&&s!==void 0){let a=Object.assign({},t);if(a.obj_type==O.OBJ_ISC_CONFIG_CLI){a.options=Jt(qI);let l={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t.vpn},c=yield this.getFirstFreeIP(l),d="",u="",m;c.data?(d=c.data.ip,u=c.data.netmask,m=c.data.id):(d=c.ip,u=c.netmask,m=c.id);let g=this.getOption(a.options,va.O_LEFTSOURCEIP);a._ipobj_address=d,a._ipobj_netmask=u,a._ipobj_id=m,g.arg=d,a.ipsec=t.vpn}else a.options=Jt(KI);this.createForm(a,!0),this.ipsecClientOptions=this.formModel.controls.options.value.filter(l=>l.scope===ye.ipsec_client),a.obj_type==O.OBJ_ISC_CONFIG_CLI&&!o&&setTimeout(()=>{let l=document.querySelector("button .fa-search")?.parentElement;l&&l.click()},300),this.loadingData=!1}else{let a={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:r};this.fwcVpnService.getIPSecConfig(a).subscribe({next:l=>V(this,null,function*(){if(l.data){let c=l.data.data?Object.assign({},l.data.data):Object.assign({},l.data);c.fwcloud=a.fwcloud,c.obj_type=t.obj_type,c.parent_type=t.parent_type,c.parent_name=t.parent_name,c._fwcParentConfigName=t._fwcParentConfigName,o?(c.crt=t.crt,c._fwcCrtName=t._fwcCrtName,c._fwcObjId=void 0,c.node_id=t.node_id,this.cloneFromId=t._fwcObjId,o&&(c.comment=null,c.options=c.options.map(u=>Fe(ee({},u),{comment:null})))):(c._fwcCrtName=t._fwcObjName,c._fwcObjId=r);let d;t.obj_type==O.OBJ_ISC_CONFIG_CLI?d=this.getOption(c.options,va.O_LEFTSOURCEIP):d=this.getOption(c.options,va.O_LEFT),d?this.fwcVpnService.getIPSecConfigIPObjects(a).subscribe({next:u=>V(this,null,function*(){let m=u.data.data,g=m.find(y=>y.id==d.ipobj);if(g&&Object.keys(g).length!==0){let y=(v,S,I=!0)=>{let P=v.options.find(L=>L.name==="leftsubnet");if(P&&P.arg){let L,F;P.arg.includes("/")?([L,F]=P.arg.trim().split("/"),v._ipobj_address=L,v._ipobj_netmask=`/${F}`):([L,F]=P.arg.trim().split(/\s+/),v._ipobj_address=L,v._ipobj_netmask=F),o&&(d.ipobj=null)}else v._ipobj_name=S.name||"",v._ipobj_address=S.address||"",v._ipobj_netmask=S.netmask||"",v._ipobj_id=o?null:S.id||"",o?(d.arg=`${S.address}`,d.ipobj=null):d.arg=`${g.address}`,d.readonly=I};if(t.obj_type==O.OBJ_ISC_CONFIG_CLI)if(o){let v={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t.vpn},S=yield this.getFirstFreeIP(v),I=S?.data||S||{};y(c,{address:I.ip||"",netmask:I.netmask||""})}else y(c,g||{});else{let v=m.find(S=>S.id==this.getOption(c.options,"left").ipobj);y(c,v||{})}if(t.obj_type==O.OBJ_ISS_CONFIG_SER&&this.fwcVpnService.getIPSecClients(a).subscribe(v=>{if(this.ipsecClients=v.data.data,this.ipsecClients&&this.ipsecClients.length>0){let S=new Map;c.options=c.options?.filter(I=>I.ipsec_cli?(S.has(I.ipsec_cli)||S.set(I.ipsec_cli,[]),S.get(I.ipsec_cli)?.push(ee({},I)),!1):!0),Promise.all(this.ipsecClients.map(I=>V(this,null,function*(){try{let P={name:"rightsubnet",arg:I.rightsubnet||"",ipsec:a.ipsec,ipsec_cli:I.id,scope:ye.ipsec_server_client,readonly:!0};return[{name:"rightsourceip",arg:I.rightSourceIp||"",ipsec:a.ipsec,ipsec_cli:I.id,scope:ye.ipsec_server_client,readonly:!0},P]}catch(P){return console.error(`Error processing client ${I.id}:`,P),[]}}))).then(I=>{this.ipsecClientsOptions=I.flat()}).catch(I=>{console.error("Error in Promise.all:",I)})}}),t.obj_type==O.OBJ_ISC_CONFIG_CLI){let v=c.options.filter(S=>S.name=="remote");v.length&&(v.forEach(S=>{for(let I=0;I<m.length;I++){let P=m[I];if(S.ipobj==P.id){let L;P.type==O.OBJ_ADDRESS?L=P.address:P.type==O.OBJ_DNS&&(L=P.name),L&&(S.arg=L+" "+S.arg);break}}}),this.disabledTreeRemoteOptions=v)}this.createForm(c,o),this.ipsecClientOptions=this.formModel.controls.options.value.filter(v=>v.scope===ye.ipsec_client),this.loadingData=!1,this.recenterDialog(),this.showDialog()}}),error:u=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.IPOPTIONLOAD_ERROR.TEXT",{error:this.fwcErrorPipe.transform(u)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(u)}),this.loadingData=!1}}):(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.NOIPOPTION_ERROR.TEXT")},this.loadingData=!1)}else l.error&&(this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l.error)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l.error)})),this.loadingData=!1}),error:l=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.GETCONFIG_ERROR.TEXT",{error:this.fwcErrorPipe.transform(l)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)}),this.loadingData=!1}})}})}loadIPObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-ipobjects fwcBlue",value:this.translate.instant("NODE_TYPES.OIA"),items:[]},o(s)}),t}loadDNSObjects(){let t;return t=new Promise((o,r)=>{let s;s={label:"fwci-firewall fwcBlue",value:"DNS",items:[]},o(s)}),t}createForm(t,o){return V(this,null,function*(){if(!t)return;let r=t.data?t.data.options:t.options;r.forEach(m=>{fpt.findIndex(g=>m.name==g)!=-1&&(m.required=!0,m.readonly=!0)}),this.formModel=new ho({fwcloud:new Ee(t.fwcloud),ipsec:new Ee(t.ipsec),firewall:new Ee(t.firewall,Me.required),crt:new Ee(t.crt,Me.required),node_id:new Ee(t.node_id),comment:new Ee(t.comment),options:new tr(this.createIPSecOptions(r))});let s=`VPN-${t.parent_name}-${t._fwcCrtName}`;if(t.obj_type==O.OBJ_ISS_CONFIG_SER){s=`LAN-VPN-${t._fwcCrtName}`,this.formModel.addControl("install_dir",new Ee(t.install_dir||"/etc",[Me.required,Me.pattern(Mt.posixPathRegexp)])),this.formModel.addControl("install_name",new Ee(t.install_name?t.install_name:"ipsec.conf",[Me.required,Me.pattern(Mt.IPSecInstallName)]));let m=r.find(y=>y.name==="leftid");m&&(m.arg=`"CN=${t._fwcCrtName}"`);let g=r.find(y=>y.name==="leftcert");g&&(g.arg=`${t._fwcCrtName}.crt`)}else if(t.obj_type==O.OBJ_ISC_CONFIG_CLI){this.formModel.controls.ipsec.setValue(t.ipsec),this.setOptionArgValue("leftid",()=>`"CN=${t._fwcCrtName}"`),this.setOptionArgValue("leftcert",()=>`${t._fwcCrtName}.crt`),this.setOptionArgValue("rightid",()=>`"CN=${t._fwcParentConfigName}"`);let m=t._ipobj_address,g=t._ipobj_netmask,y;g&&g.startsWith("/")?y=parseInt(g.replace("/",""),10):g&&(y=this.appOptionsService.netmaskToCIDR(g));let v="";if(m&&y!==void 0)try{let S=`${m}/${y}`;v=Im.IPv4.networkAddressFromCIDR(S).toString(),this.setOptionArgValue("rightsubnet",()=>v+`/${y}`)}catch{v=""}this.formModel.addControl("_remote_options",new tr(this.createIPSecOptions(r)))}let a=t.obj_type===O.OBJ_ISC_CONFIG_CLI?t._fwcCrtName:s;a=a.substring(0,64);let l,c,d;t.obj_type===O.OBJ_ISC_CONFIG_CLI?(l=r.find(m=>m.name==="leftsourceip")?.arg.split("/")||[],c=t._ipobj_address||l[0],d=t._ipobj_netmask||(l[1]?`/${l[1]}`:"")):(c=t._ipobj_address,d=t._ipobj_netmask),this.formModel.addControl("_ipobj_id",new Ee(r[0].ipobj)),this.formModel.addControl("_ipobj_name",new Ee(a,[Me.required,Me.pattern(Mt.nameRegExp)])),this.formModel.addControl("_ipobj_address",new Ee({value:c,disabled:t.obj_type==O.OBJ_ISC_CONFIG_CLI})),this.formModel.addControl("_ipobj_netmask",new Ee({value:d,disabled:t.obj_type===O.OBJ_ISC_CONFIG_CLI})),o&&this.formModel.markAsDirty();let u={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:t.ipsec};this.formModelRemote=new ho({id_obj:new Ee(void 0,[Me.required]),obj_type:new Ee(void 0,[Me.required])}),this.object=t})}setOptionArgValue(t,o){let s=this.formModel.controls.options.controls.find(a=>a.get("name")?.value===t);if(s){let a=s.get("arg")?.value??"";s.get("arg")?.setValue(o(a))}}createIPSecOptions(t){let o=[];for(let r of t){let s=r.ipobj??null,a=r.arg;(r.name==="leftsourceip"||r.name==="left")&&r.ipobj&&(s=r.ipobj);let l=[];(r.name==="leftsourceip"||r.name==="left")&&l.push(Me.required),l.push(d=>Qu.IPSecOptionValidator(r.name)(d));let c=new ho({name:new Ee(r.name,Me.required),arg:new Ee(a,l),ipobj:new Ee(s),scope:new Ee(r.scope,Me.required),comment:new Ee(r.comment),ipsec_cli:new Ee(r.ipsec_cli,r.ipsec_cli?[Me.required]:[])});r.emptyMessageKey&&c.addControl("emptyMessageKey",new Ee(r.emptyMessageKey)),o.push(c)}return o}handleValidationStatus(t){if(!t.valid&&t.option){let o=this.findOptionGroup(t.option.name);if(o){let r=o.get("arg");r&&r.setErrors({invalid:!0})}}}findOptionGroup(t){let o=this.formModel.get("options");return o&&(o instanceof Ou?o.controls:o instanceof ol?Object.values(o.controls):[]).find(s=>s.get("name")?.value===t)||null}onCancel(t){!t&&this.formModel&&!this.formModel.pristine&&this.formModel.valid?this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("VPN.PANEL.MSG_EXIT"),accept:()=>{this.onCancel(!0)},rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES")}):(this.hideDialog(),this.optionsGrids.forEach(o=>{o.clearOptions()}),this.log&&this.log.clearMessages(),this.operationQueue=[],this.ipsecClients=[],this.operationInProcessId=void 0,this.actualFirewallCompileSSHInputData=null,this.pauseProcess=!1,this.stopProcess=!1,this.disabledTreeRemoteOptions=[],this.eventsSubscription&&this.eventsSubscription.unsubscribe(),this.objectToManage&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:this.objectToManage.container}),this.resetProperties())}checkForm(t){t&&t.target&&t.target.type!="textarea"&&this.formModel.valid&&(t.target.blur(),this.onSave(0))}onSave(t=0){return V(this,null,function*(){if(!this.object)return;let o=[];this.optionsGrids.forEach(v=>{let S=v.getOptions();o=o.concat(S)});for(let v=0;v<o.length;v++)o[v].name&&!o[v].name.length&&delete o[v];let r={},s;for(let v in this.formModel.controls)r[v]=this.formModel.controls[v].value!==null&&this.formModel.controls[v].value!==void 0?this.formModel.controls[v].value:void 0;let a=o.filter(v=>v.name&&v.name.trim().length>0);r.options=a.map(v=>({name:v.name,arg:v.arg,scope:v.scope,comment:v.comment,ipobj:v.ipobj,ipsec_cli:v.ipsec_cli})),r.options.forEach(v=>{if(v.ipsec_cli&&v.name==="rightsubnet"&&v.arg.includes(",")){let S=v.arg.indexOf(",");v.arg=v.arg.substring(S+1).trim()}});let c=this.object.obj_type===O.OBJ_ISC_CONFIG_CLI?"leftsourceip":"leftsubnet",d=r.options.find(v=>v.name===c);s={id:d&&d.ipobj?d.ipobj:void 0,type:void 0,fwcloud:r.fwcloud,name:r._ipobj_name,address:r._ipobj_address,netmask:r._ipobj_netmask,ip_version:4,node_parent:void 0,node_order:1,node_type:void 0,force:t};let u,m;this.object.obj_type==O.OBJ_ISC_CONFIG_CLI?(s.type=O.OBJ_ADDRESS,s.node_type=M.OBJ_ADDRESS,u=M.FOLDER_ADDRESSES,m=va.O_LEFTSOURCEIP):this.object.obj_type==O.OBJ_ISS_CONFIG_SER&&(s.type=O.OBJ_NETWORK,s.node_type=M.OBJ_NETWORK,u=M.FOLDER_NETWORKS,m=va.O_LEFTSUBNET),delete r._ipobj_id,delete r._ipobj_address,delete r._ipobj_name,delete r._ipobj_netmask,delete r._remote_options;let g,y;if(this.object._fwcObjId===void 0){g=this.fwcVpnService.newIPSecConfig.bind(this.fwcVpnService),this.object.obj_type===O.OBJ_ISC_CONFIG_CLI&&this.cloneFromId&&(r.clone_id=this.cloneFromId);let v=yield this.getParentId(u);if(v==-1){this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK"),detail:this.translate.instant("VPN.PANEL.NEW.ERRORS.NETWORK_PARENT_NODE")}),this.loadingData=!1;return}this.object.obj_type==O.OBJ_ISS_CONFIG_SER?(y=this.translate.instant("VPN.CONFIG.NEW_SERVER_CFG_OK"),s.node_parent=v):this.object.obj_type==O.OBJ_ISC_CONFIG_CLI&&(y=this.translate.instant("VPN.CONFIG.NEW_CLIENT_CFG_OK"))}else r.ipsec=this.object._fwcObjId,delete s.node_order,delete s.node_type,delete r.crt,g=this.fwcVpnService.updateIPSecConfig.bind(this.fwcVpnService),this.object.obj_type==O.OBJ_ISS_CONFIG_SER?y=this.translate.instant("VPN.CONFIG.UPDATE_SERVER_CFG_OK"):y=this.translate.instant("VPN.CONFIG.UPDATE_CLIENT_CFG_OK");this.savingData=!0,this.manageNetworkIPObject(s).then(v=>{let S;v.data&&(S=v.data.insertId),this.modifyOption(r.options,m,void 0,S),this.proceedWithIPSecConfig(r,y,g)},v=>{v.error&&v.error.fwcErr!=1003&&this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(v)}),this.savingData=!1})})}proceedWithIPSecConfig(t,o,r){this.clearOptionsArgs(t.options),this.utilService.fwcAPICall(r,t).then(s=>{let a=s.data&&s.data.data&&s.data.data.insertId?s.data.data.insertId:t.ipsec,l={container:Ge.C_FIREWALLS_CONDENSED,_fwcObjId:a,_fwcObjType:this.object.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(l),l.container=Ge.C_FIREWALLS,this.itemSelectedService.setModifiedItem(l),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:o}),this.savingData=!1,this.hideDialog(),this.resetProperties()}).catch(s=>{if(s.error){let a=JSON.parse(s.error.msg);if(a.errors){let c=Object.values(a.errors).flat().join(", <br>");this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(c)})}else a.data.code==="ER_DUP_ENTRY"?this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.CLONE_CONFIG_ERROR.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.CLONE_CONFIG_ERROR.TEXT")}):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a.message)})}else this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(s)});this.savingData=!1})}getParentId(t){let o;return o=new Promise((r,s)=>{this.fwcObjectTreeService.getNodes(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l=-1;a.data&&a.data.length&&(l=a.data[0].id),r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(-1)})}),o}getClusterMasterFirewall(t){let o;return o=new Promise((r,s)=>{this.fwcFirewallService.getClusterMasterNode(t,this.fwcUserService.getActualFwSelectedCloud()).subscribe(a=>{let l;l=a.data,r(l)},a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),r(void 0)})}),o}getFirstFreeIP(t){return new Promise(o=>{this.fwcVpnService.getIPSecVPNLanNextFreeIP(t).subscribe({next:r=>{o(r.data)},error:r=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(r)}),o(void 0)}})})}modifyOption(t,o,r,s){let a=t.find(l=>l.name==o);a&&(r&&(a.arg=r),s!=null&&(a.ipobj=s))}getOption(t,o){return t.find(r=>r.name==o)}clearOptionsArgs(t){t.forEach(o=>{o.ipobj!==void 0&&o.ipobj!==null&&o.name!=="leftsourceip"&&o.name!=="right"&&o.name!=="left"&&o.name!=="leftsubnet"&&(o.arg="")})}manageNetworkIPObject(t){return new Promise((o,r)=>V(this,null,function*(){let s,l=this.formModel.get("options").controls.find(c=>c.value.name===va.O_LEFTSUBNET);if(t.id===void 0)s=this.fwcObjectService.newObject.bind(this.fwcObjectService);else{if(this.formModel.controls._ipobj_address.pristine&&this.formModel.controls._ipobj_netmask.pristine&&(!l||l.pristine)){o({data:void 0});return}s=this.fwcObjectService.updateObject.bind(this.fwcObjectService)}if(t.netmask&&!t.netmask.startsWith("/"))try{let c=this.appOptionsService.netmaskToCIDR(t.netmask);t.netmask=`/${c}`}catch(c){console.error("Error converting netmask into CIDR:",c)}try{let c=yield this.utilService.fwcAPICall(s,t);o(c)}catch(c){c.error?.fwcErr===1003&&this.confirmDuplicateIPSecOperation(c),r(c)}}))}updateIPOnGrid(t){let o=this.formModel.controls._ipobj_address.value,r="",s,a,l;this.object.obj_type==O.OBJ_ISC_CONFIG_CLI?(o.match(Mt.ipV4Regexp)&&(l=o),s=ye.ipsec_client,a=va.O_LEFTSOURCEIP):this.object.obj_type==O.OBJ_ISS_CONFIG_SER&&(this.formModel.controls._ipobj_netmask&&(r=this.formModel.controls._ipobj_netmask.value),o.match(Mt.ipV4Regexp)&&(r.match(Mt.netmaskRegexp)||r.match(Mt.netmaskCIDRRegexp))&&(l=o.trim()+r.trim()),s=ye.ipsec_server,a=va.O_LEFT),l&&this.optionsGrids.forEach(c=>{c.getScope()===s&&c.modifyIPOption(a,l)})}confirmDuplicateIPSecOperation(t){let o="",r=[];if(t.data&&t.data.length){r=t.data,o="<ul>";for(let s=0;s<r.length;s++)o+="<li><strong>"+r[s].name+"</strong> ("+r[s].id+") </li>";o+="</ul>"}this.confirmationService.confirm({header:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.SUMMARY"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant("ITEM_PANEL.ERRORS.DUP_WARNING.TEXT",{objects:o}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.onSave(1)}})}onDownloadConfigFile(){let t="";if(!this.objectToRetrieve)return;if(this.objectToRetrieve._fwcObjType==O.OBJ_ISS_CONFIG_SER)t=this.objectToRetrieve._fwcObjName?this.objectToRetrieve._fwcObjName.replace(/[^a-z0-9]/gi,"_"):"IPSec_Server",t+=".conf";else if(this.objectToRetrieve._fwcObjType==O.OBJ_ISC_CONFIG_CLI){let r=[];r.push(this.fwcUserService.getActualFwcUser().selectedFwCloudName||"FWCLOUD"),r.push(this.objectToRetrieve._fwcFwName||"FW"),r.push(this.objectToRetrieve._fwcObjName||"IPSec_Client"),r=r.map(s=>s.replace(/[^a-z0-9\-]/gi,"_")),t=r.join("-"),t+=".IPSec"}let o=new Blob([this.configFile],{type:"text/plain;charset=utf-8"});(0,Dte.saveAs)(o,t)}onCopyConfigFile(){this.txtConfigFile&&(this.txtConfigFile.nativeElement.select(),document.execCommand("copy"),this.txtConfigFile.nativeElement.setSelectionRange(0,0),this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant("VPN.CONFIG.CLIPBOARD.COPIED_OK")}))}onProcessDeleteAction(){if(this.configOrPrefixToDelete)if(this.configOrPrefixToDelete.obj_type==O.OBJ_ISS_CONFIG_SER||this.configOrPrefixToDelete.obj_type==O.OBJ_ISC_CONFIG_CLI)if(this.alsoUninstallConfig){this.objectToDelete=null,this.configOrPrefixToDelete.uninstallAction=!0;let t=this.utilService.createDynamicComponentRef(Pr),o=t.instance;o.setDynamicComponentRef(t),this.communicationSubscription=o.socketEventEmitter.subscribe(r=>{r=="connected"&&this.onItemManage(this.configOrPrefixToDelete,!0),this.communicationSubscription.unsubscribe()}),o.checkConnection()}else this.onDeleteConfigurationOrPrefix();else this.onDeleteConfigurationOrPrefix()}onDeleteConfigurationOrPrefix(){if(!this.configOrPrefixToDelete)return;let t,o,r,s=this.configOrPrefixToDelete;s.obj_type==O.OBJ_ISS_CONFIG_SER||s.obj_type==O.OBJ_ISC_CONFIG_CLI?(t=this.fwcVpnService.deleteIPSecConfig.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:this.configOrPrefixToDelete._fwcObjId},r="VPN.CONFIG"):s.obj_type==O.OBJ_IPSEC_PREFIX&&(t=this.fwcVpnService.deleteIPSecPrefix.bind(this.fwcVpnService),o={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:s.id_obj},r="VPN.IPSEC_PREFIX"),t&&(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.addMessageToLog(this.translate.instant(r+".DELETING",{name:"IPSec client"}),Ue.MSG_INFO),this.utilService.fwcAPICall(t,o).then(a=>{let l=Object.assign({},this.configOrPrefixToDelete);if(l._fwcTreeAction=Ii.DELETE_ITEM,a.data&&a.data.length&&(l.fw_status=a.data),this.itemSelectedService.setModifiedItem(l),this.log||(this.hideDialog(),this.resetProperties()),s.obj_type==O.OBJ_ISC_CONFIG_CLI||s.obj_type==O.OBJ_ISS_CONFIG_SER){if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.CONFIG.IPS_DELETE_SUCCESS")}),s.obj_type==O.OBJ_ISC_CONFIG_CLI&&s.firewall){let c="strongswan-starter";this.addMessageToLog(this.translate.instant("VPN.CONFIG.INSTALL_STRINGS.RELOAD"),Ue.MSG_INFO),this.fwcFirewallService.getSystemctlInformation({fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:s.firewall,service:c,command:M3.reload}).subscribe({next:()=>{},error:()=>{this.addMessageToLog(this.translate.instant("VPN.CONFIG.INSTALL_STRINGS.RELOAD_ERROR"),Ue.MSG_ERROR)}})}this.addMessageToLog(this.translate.instant("VPN.CONFIG.IPS_DELETE_SUCCESS"),Ue.MSG_OK)}else this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.OK"),detail:this.translate.instant("VPN.IPSEC_PREFIX.DELETE.OK")})}).catch(a=>{let l;l=this.translate.instant(r+".ERRORS.DELETE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(a)}),this.errorMsg={type:"error",title:this.translate.instant(r+".ERRORS.DELETE_ERROR.SUMMARY"),text:l},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)}),this.log&&this.addMessageToLog(l,Ue.MSG_ERROR)}))}showRestrictions(t,o){}hideRestrictions(t){}managePrefix(t){let o,r,s,a,l,c,d,u;if(t)if(t.deletePrefixFolderAction){let m={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),prefix:t.id_obj};if(t.obj_type==O.OBJ_PREFIX_FOLDER)c=this.fwcVpnService.checkPrefixFolderRestrictions.bind(this.fwcVpnService),d=this.fwcVpnService.deletePrefixFolder.bind(this.fwcVpnService),l="VPN.PREFIX_FOLDER";else return;c(m).subscribe(g=>{this.confirmationService.confirm({header:this.translate.instant("GLOBALS.MSG_CONFIRM"),icon:"fa fa-question-circle fwcBlue iconBig",message:this.translate.instant(l+".DELETE.ASK",{name:t._fwcObjName}),rejectVisible:!0,rejectLabel:"No",acceptLabel:this.translate.instant("GLOBALS.MSG_OP_ASK.YES"),accept:()=>{this.utilService.fwcAPICall(d,m).then(y=>{if(this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:this.translate.instant(l+".DELETE.OK")}),t._fwcTreeAction=Ii.DELETE_ITEM,this.itemSelectedService.setModifiedItem(t),t.container!=Ge.C_FIREWALLS_CONDENSED){let v={_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED};this.itemSelectedService.setModifiedItem(v)}}).catch(y=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(y)})})}})},g=>{g.error&&g.error.restrictions?(this.dependencies=g.error.restrictions,this.confirmationService.confirm({header:this.translate.instant(l+".DELETE.RESTR_HEADER"),icon:"pi pi-exclamation-triangle fwcRed iconBig",acceptLabel:"Ok",rejectVisible:!1,message:this.translate.instant(l+".DELETE.RESTR_TEXT",{name:t._fwcObjName})})):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(g)})})}else{let m,g,y={[O.OBJ_PREFIX_FOLDER]:[this.fwcVpnService.editPrefixFolder.bind(this.fwcVpnService),this.fwcVpnService.newPrefixFolder.bind(this.fwcVpnService)],[O.OBJ_IPSEC_PREFIX]:[this.fwcVpnService.editIPSecPrefix.bind(this.fwcVpnService),this.fwcVpnService.newIPSecPrefix.bind(this.fwcVpnService)]};if(t.obj_type==O.OBJ_PREFIX_FOLDER)m=t.id_obj,l="VPN.PREFIX_FOLDER";else if(t.obj_type==O.OBJ_IPSEC_PREFIX)g=t.id_obj,l="VPN.IPSEC_PREFIX";else return;if(t.editPrefixAction)o=t._fwcObjName,r=t.id_obj,s=this.translate.instant(l+".EDIT.HEADER"),a=this.translate.instant(l+".EDIT.TEXT"),y[t.obj_type]&&y[t.obj_type][0]&&(u=y[t.obj_type][0]);else if(t.newPrefixAction)s=this.translate.instant(l+".NEW.HEADER"),a=this.translate.instant(l+".NEW.TEXT"),y[t.obj_type]&&y[t.obj_type][1]&&(u=y[t.obj_type][1]);else return;let v={header:s,helpText:a,formControls:[{name:"container",type:"hidden",value:t.container},{name:"id",type:"hidden",value:r},{name:"obj_type",type:"hidden",value:t.obj_type},{name:"ca",type:"hidden",value:m},{name:"orig_name",type:"hidden",value:o},{name:"name",label:this.translate.instant(l+".NAME"),type:"text",required:!0,value:o},{name:"ipsec",type:"hidden",value:g},{name:"translateKey",type:"hidden",value:l},{name:"apiCall",type:"hidden",value:u}],onAccept:this.onManagePrefix.bind(this)};this.inputDataService.setInputData(v)}}onManagePrefix(t){if(t){if(t.name==t.orig_name)return;let o,r,s={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),name:t.name},a;o=t.translateKey,r=t.apiCall,t.id?(s.prefix=t.id,a=this.translate.instant(o+".EDIT.OK")):(s.ca=t.ca,s.ipsec=t.ipsec,a=this.translate.instant(o+".NEW.OK")),this.utilService.fwcAPICall(r,s).then(l=>{let c=l.data&&l.data.insertId?l.data.insertId:t.id;this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant("GLOBALS.MSG_OP_RESULT.SUCCESS"),detail:a});let d={container:t.container,_fwcObjName:t.name,_fwcObjId:c,_fwcObjType:t.obj_type,_fwcTreeAction:Ii.NEW_ITEM};this.itemSelectedService.setModifiedItem(d),t.container!=Ge.C_FIREWALLS_CONDENSED&&this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_FIREWALLS_CONDENSED}),this.itemSelectedService.setModifiedItem({_fwcTreeAction:Ii.RELOAD_TREE,containerToReload:Ge.C_OBJECTS}),this.store.dispatch(an.reloadDialog({dialogUuids:[oi.ITEM_PANEL]}))}).catch(l=>{let c,d;l.data&&(l.data.fwcErr==1003?(c=this.translate.instant(o+".ERRORS.ERROR_DUP.SUMMARY"),d=this.translate.instant(o+".ERRORS.ERROR_DUP.TEXT")):l.data.fwcErr==5001?(c=this.translate.instant("VPN.IPSEC_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.SUMMARY"),d=this.translate.instant("VPN.IPSEC_PREFIX.ERRORS.ERROR_EMPTY_CONTAINER.TEXT")):this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(l)})),d&&this.confirmationService.confirm({header:c,icon:"fa fa-exclamation-circle fwcRed iconBig",message:d,rejectVisible:!1,acceptLabel:"Ok",accept:()=>{}})})}}showWhereUsed(t){if(!t)return;this.objectToSearchWU=t;let o,r;r={fwcloud:this.fwcUserService.getActualFwSelectedCloud()},t.obj_type==O.OBJ_IPSEC_PREFIX?(o=this.fwcVpnService.getIPSecWhereUsed.bind(this.fwcVpnService),r.prefix=t._fwcObjId):t.obj_type==O.OBJ_ISC_CONFIG_CLI&&(o=this.fwcVpnService.getIPSecConfigWhereUsed.bind(this.fwcVpnService),r.ipsec=t._fwcObjId),this.showDialog(),o&&o(r).subscribe(s=>{let a=s.data.data?Object.assign({},s.data.data):Object.assign({},s.data);a._fwcObjType=t.obj_type,this.objectToSearchWU._fwcObjectInfo=a,this.recenterDialog()},s=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.WHERE_USED.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(s)})}})}blockUnblockVPNConnection(t){let o=t._fwcObjId,r={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),ipsec:o},s;this.fwcVpnService.getIPSecConfig(r).pipe(Xn(a=>{let l=a.data.data;Array.isArray(l.options)||(l.options=[]);let c,d=[];if(l.options.forEach(u=>{d.push({arg:u.arg,comment:u.comment,ipobj:u.ipobj,name:u.name,scope:u.scope})}),t.blockVPNAction){if(s="VPN.CONFIG.INFO.BLOCK_VPN",d.find(u=>u.name==="<<disable>>"))return Dt(null);d.push({arg:"",comment:"",ipobj:null,name:"<<disable>>",scope:ye.ipsec_client})}else if(s="VPN.CONFIG.INFO.UNBLOCK_VPN",d.find(u=>u.name==="<<disable>>"))d=d.filter(u=>u.name!=="<<disable>>");else return Dt(null);return d=d.sort((u,m)=>u.scope-m.scope),c={fwcloud:this.fwcUserService.getActualFwSelectedCloud(),firewall:l.firewall,ipsec:l.id,options:d},Rn(this.utilService.fwcAPICall(this.fwcVpnService.updateIPSecConfig.bind(this.fwcVpnService),c))})).subscribe({next:a=>{a===null||this.messageService.add({key:"fwcToastMsgs",severity:"success",summary:this.translate.instant(s+".SUMMARY"),detail:this.translate.instant(s+".TEXT")});let l=this.utilService.createDynamicComponentRef(Pr),c=l.instance;c.setDynamicComponentRef(l),this.communicationSubscription=c.socketEventEmitter.subscribe(d=>{d=="connected"&&(t.installAction=!0,this.onItemManage(t)),this.communicationSubscription.unsubscribe()}),c.checkConnection()},error:a=>{this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.SUMMARY"),detail:this.translate.instant("VPN.CONFIG.ERRORS.BLOCK_VPN.TEXT")})}})}onAddRemoteOption(){if(!this.formModelRemote||!this.formModelRemote.valid)return;let t=this.formModelRemote.value,o=this.optionsGrids.find(a=>a.getScope()===ye.ipsec_client);if(!o)return;let r=[...o.getOptions()],s=r.find(a=>a.name==="right");s?s.ipobj=t.id_obj:r.push({name:"right",arg:"",ipobj:t.id_obj}),r.forEach(a=>{o.updateOrCreateIPOption(a,!0)}),this.fwcObjectService.getObject(t.id_obj,this.fwcUserService.getActualFwSelectedCloud()).subscribe({next:a=>{if(!a.data)return;let l=a.data,c="",d="";t.obj_type===O.OBJ_ADDRESS&&(c=l.address),t.obj_type===O.OBJ_DNS&&(c=l.name),l.if_name?(l.cluster_name?d+=`Cluster '${l.cluster_name}'`:l.firewall_name?d+=`Firewall '${l.firewall_name}'`:l.host_name&&(d+=`Host '${l.host_name}'`),d+=` - IF '${l.if_name}'`):d+=l.name;let u={name:"right",scope:ye.ipsec_client,arg:c,ipobj:t.id_obj,required:!0,readonly:!0};r=r.map(m=>m.name==="right"?u:m),r.forEach(m=>{o.updateOrCreateIPOption(m,!0)}),this.formModel.controls._remote_options=new tr(this.createIPSecOptions(r)),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity()},error:a=>{this.errorMsg={type:"error",title:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.SUMMARY"),text:this.translate.instant("VPN.CONFIG.ERRORS.ADD_REMOTE_ERROR.TEXT",{error:this.fwcErrorPipe.transform(a)})},this.messageService.add({key:"fwcToastMsgs",severity:"error",summary:"Error",detail:this.fwcErrorPipe.transform(a)})}})}onRemoteIPObjectChange(t){!t||t.obj_type!=O.OBJ_ADDRESS&&t.obj_type!=O.OBJ_DNS||(this.formModelRemote.get("id_obj").setValue(t.id_obj),this.formModelRemote.get("obj_type").setValue(t.obj_type))}updateOptions(t){let o=[],r=[...this.formModel.get("options")?.value];if(this.optionsGrids.forEach(s=>{(!t||s.getScope()==t)&&(o=o.concat(s.getOptions()))}),o.length===r.length){let s=new Set(r.map(c=>c.name)),a=new Set(o.map(c=>c.name)),l=s.size===a.size&&[...s].every(c=>a.has(c))}o.length&&(this.formModel.removeControl("options"),this.formModel.addControl("options",new tr(this.createIPSecOptions(o))),this.formModel.controls._remote_options&&(this.formModel.removeControl("_remote_options"),this.formModel.addControl("_remote_options",new tr(this.createIPSecOptions(o)))),this.formModel.updateValueAndValidity())}onOptionsChange(t){if(!Array.isArray(t)){this.formModel.markAsDirty();return}let o=this.formModel.get("options"),r=this.createIPSecOptions(t),s=o.controls.map(l=>l.value),a=r.map(l=>l.value);JSON.stringify(s)!==JSON.stringify(a)&&(o.clear(),r.forEach(l=>{o.push(l),l.markAsDirty(),l.updateValueAndValidity()}),t.some(l=>l.ipsec_cli)&&(this.ipsecClientsOptions=t.filter(l=>l.ipsec_cli)),t.some(l=>l.scope===ye.ipsec_client)&&(this.ipsecClientOptions=t.filter(l=>l.scope===ye.ipsec_client)),this.formModel.markAsDirty(),this.formModel.updateValueAndValidity(),this.cd.detectChanges()),setTimeout(()=>{this.recenterDialog()},0)}onOptionsDelete(t,o){t&&t.name=="remote"&&t.ipobj&&this.updateOptions(o),this.formModel.markAsDirty()}getServerPeerOptions(t){return this.ipsecClientsOptions.filter(o=>o.ipsec_cli===t||o.ipsec===t)}getClientOptions(){return this.ipsecClientOptions.filter(t=>t.scope===ye.ipsec_client)}onShowDialog(t){this.recenterDialog()}onHideDialog(t){}doStopProcess(){this.pauseProcess=!0,this.stopProcess=!0,this.loadingData=!1,this.disableButtons=!1,this.log&&(this.log.stopDataLoad(),this.addMessageToLog(this.translate.instant("COMPILE.WARN_STOP"),Ue.MSG_ERROR)),this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.communicationAPISubscription&&(this.communicationAPISubscription.unsubscribe(),this.communicationAPISubscription=null),this.eventsSubscription&&(this.eventsSubscription.unsubscribe(),this.eventsSubscription=null)}onClientsChanged(t){this.ipsecClients=t}allowOnlyNumbersAndDot(t){let o=/[0-9.]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}allowNumbersDotAndSlash(t){let o=/[0-9.\/]/,r=String.fromCharCode(t.keyCode||t.which);return o.test(r)?!0:(t.preventDefault(),!1)}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(We),x(dt),x(Bt),x(Ki),x(En),x(co),x(Oo),x(Ni),x($e),x(ti),x(Tt),x(dn),x(ii),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ipsec-config-panel"]],viewQuery:function(o,r){if(o&1&&(_e(Rs,5),_e(ddt,5),_e(wo,5),_e(pdt,5),_e(D0,5)),o&2){let s;W(s=$())&&(r.treeSelector=s.first),W(s=$())&&(r.txtConfigFile=s.first),W(s=$())&&(r.log=s.first),W(s=$())&&(r.gridComponent=s.first),W(s=$())&&(r.optionsGrids=s)}},inputs:{restrictionsReadOnly:"restrictionsReadOnly"},outputs:{showPeerListDialog:"showPeerListDialog"},standalone:!1,features:[Se([Ki,En,Bt]),re],decls:13,vars:14,consts:[["dlgOVConfigPanel",""],["header",""],["footer",""],["txtConfigFile",""],["treeSelector",""],["styleClass","dlgFwcDialog fwcObjectDialog dlgFwcDialog--log-resize",3,"visibleChange","onShow","onHide","visible","modal","resizable","closable"],[1,"grid"],[1,"grid","grid","grid-nogutter","fwc-log-grid"],[1,"grid","grid","grid-nogutter","fwc-log-grid","fwc-ipsec-log-grid"],[3,"objectInfo","readOnly"],[1,"first-tabview","tabTabbedMenu","flex","flex-col","w-full","bg-(--surfaceBackgroundColor)"],[1,"divFormHeader"],[1,"divHeaderButtons"],[1,"fwcWhite","fwcIconLeft"],[1,"fwci-edit","fwcOrange"],[1,"fwci-whereused","fwcOrange"],["type","button","styleClass","p-button-secondary","icon","fa fa-window-minimize",3,"onClick"],[1,"col-12","divCentered"],[1,"col-12"],[3,"message"],[1,"fwcRestrictionsContainer"],[3,"onHideParent","onRefreshRestrictions","dependencies","readOnly"],[1,"col-12",2,"text-align","center"],["inputId","chkUninstallConfig","name","chkUninstallConfig","binary","true",3,"ngModelChange","ngModel"],["for","chkUninstallConfig"],[1,"col-12","divConfigFile"],["pInputText","","rows","15","readonly",""],[1,"col-4"],[1,"divTableScroll"],[1,"tableFw","unstriped"],[1,"fwc-centered"],[3,"ngClass"],[1,"col-8"],[3,"autoResize"],[1,"fwcMenuIcon","fwci-cluster","fwcOrange"],[1,"fwcSepShort"],[1,"fwcMenuIcon","fwci-firewall","fwcBlue"],[3,"onHideParent","objectInfo","readOnly"],[1,"flex","flex-wrap","fwc-tabbar"],["type","button",1,"fwc-tab-button","is-active"],[1,"fa","fa-pencil","fwcOrange"],[1,"fwc-ipsec-panel-section"],[1,"fwcObjectPanel"],[1,"fwcIpsecPanel",3,"formGroup"],[3,"keyup.enter","keyup.esc"],[1,"grid","grid-nogutter"],[1,"col-12","mb-2.5","whitespace-nowrap","font-['Montserrat',sans-serif]"],[1,"col-6","grid","grid-nogutter"],[1,"p-inputgroup"],["for","crtName",1,"fwcBlue"],["pInputText","","name","crtName","type","text","readonly","",3,"value"],[1,"col-12","lg:col-6","padding-right",2,"padding-right","10px"],["id","networkData",3,"legend"],[1,"p-float-label",2,"margin-top","10px"],["pInputText","","maxlength","64","type","text","formControlName","_ipobj_name","name","_ipobj_name",3,"drop"],["for","_ipobj_name"],[1,"col-3"],["pInputText","","appAutofocus","","maxlength","45","type","text","formControlName","_ipobj_address","name","_ipobj_address",3,"drop","keypress","blur"],["for","_ipobj_address"],["pInputText","","maxlength","17","type","text","formControlName","_ipobj_netmask","name","_ipobj_netmask",3,"drop","keypress","blur"],["for","_ipobj_netmask"],["class","col-1 grid-nogutter","style","padding:0; width: 8%;",4,"ngIf"],[1,"col-12","lg:col-6",2,"padding-left","10px"],[1,"col-12","lg:col-6"],["for","parentName",1,"fwcBlue"],["pInputText","","name","parentName","type","text","readonly","",3,"value"],["for","parentConfigName",1,"fwcBlue"],["pInputText","","name","parentConfigName","type","text","readonly","",3,"value"],[1,"col-1","grid-nogutter",2,"padding","0","width","8%"],[1,"pi","pi-exclamation-circle","fwcOrange",3,"pTooltip","ngStyle"],[1,"fwc-ipsec-installation",3,"legend"],[1,"grid",2,"max-height","fit-content","width","100%"],[1,"col-6",2,"margin-top","10px"],[1,"p-float-label"],["pInputText","","type","text","formControlName","install_dir","name","install_dir",2,"font-family","monospace !important",3,"drop"],["for","install_dir"],["class","fwc-error err-no-margin",3,"ngStyle",4,"ngIf"],["pInputText","","type","text","maxlength","64","formControlName","install_name","name","install_name",2,"font-family","monospace !important",3,"drop"],["for","install_name"],[1,"fwc-error","err-no-margin",3,"ngStyle"],[3,"formGroup"],["legend","Right"],[1,"grid",2,"width","100%"],[1,"col-11"],[3,"objectSelected","fwcloudId","fwTreeNodes","objectTreeNodes","selectableObjects","disabledObjects"],[1,"col"],["type","button","styleClass","fwcButtonHeight !px-4 !py-[0.4rem] fwc-icon-center-button","icon","fa fa-plus",3,"onClick","disabled"],["class","col-12 grid grid-nogutter",4,"ngIf"],[1,"col-12","grid","grid-nogutter"],[1,"col-12","max-w-full"],["tableScrollHeight","13em",3,"optionDeleted","optionsChanged","validationStatus","options","leftSubnet","scope"],[1,"col-12",2,"margin-top","1rem"],["pInputText","","type","text","maxlength","255","formControlName","comment","name","comment",3,"drop"],["for","comment"],[1,"flex","w-full","flex-col","flex-nowrap"],["tableScrollHeight","13em",3,"optionDeleted","optionsChanged","validationStatus","clientsUpdated","options","scope","ipsecClients"],[1,"divLoadTemp",3,"ngStyle"],["icon","pi pi-times",3,"disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"disabled","label"],["type","button","styleClass","p-button-danger","icon","fa fa-trash",3,"onClick","disabled","label"],["type","button","styleClass","fwc-left-float","icon","fa fa-refresh",3,"onClick","disabled","label"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"label","disabled"],["styleClass","p-button-secondary","icon","fa fa-clipboard",3,"onClick","label","disabled"],["styleClass","p-button-secondary","icon","fa fa-download",3,"onClick","label","disabled"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"onClick","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"disabled","label"],["type","button","styleClass","p-button-warning","icon","fa fa-pause",3,"onClick","disabled","label"],["type","button","styleClass","p-button-success","icon","fa fa-play",3,"onClick","disabled","label"],["styleClass","p-button-danger","icon","pi pi-times",3,"label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"label","disabled"],["styleClass","p-button-danger","icon","pi pi-times",3,"onClick","label","disabled"],["styleClass","p-button-success","icon","fa fa-save",3,"onClick","label","disabled"],["icon","pi pi-times",3,"mousedown","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",5,0),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onShow",function(l){return w(s),C(r.onShowDialog(l))})("onHide",function(l){return w(s),C(r.onHideDialog(l))}),E(2,Tdt,6,6,"ng-template",null,1,ie),G(4,Odt,3,0,"div",6),G(5,Rdt,3,1,"div",6),G(6,Ndt,2,1),G(7,Fdt,5,1,"div",7),G(8,jdt,17,7,"div",8),G(9,Gdt,1,2,"sts-fwc-object-wu",9),G(10,Zdt,52,26,"div",10),E(11,hpt,7,11,"ng-template",null,2,ie),b()}o&2&&(De(Pe(13,udt)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(4),H(r.loadingData?4:-1),p(),H(r.errorMsg?5:-1),p(),H(r.objectToDelete&&!r.loadingData&&!r.errorMsg?6:-1),p(),H(r.objectToRetrieve&&!r.loadingData&&!r.errorMsg?7:-1),p(),H(r.objectToManage&&!r.loadingData&&!r.errorMsg?8:-1),p(),H(r.objectToSearchWU&&!r.loadingData&&!r.errorMsg?9:-1),p(),H(r.object&&r.formModel&&!r.loadingData&&!r.errorMsg?10:-1))},dependencies:[$t,pt,ft,eo,Hi,_i,Zn,io,Zi,to,ao,Ut,lo,cn,bt,si,qp,or,Ir,wo,y0,jh,Nn,D0,Rs,O0,It,wn],styles:[`@media (max-width: 992px){sts-fwc-wireguard-options-grid,.peerList{min-width:100%;max-width:100%}}.fwc-ipsec-panel-section{display:flex;flex-direction:column;flex:1 1 0%;padding:1rem 1rem 1.571rem!important;overflow:hidden;box-sizing:border-box;border:1px solid var(--fwcGrey2);border-bottom-right-radius:3px;border-bottom-left-radius:3px;background:var(--surfaceBackgroundColor)}.fwc-ipsec-panel-section *{max-width:100%!important;box-sizing:border-box;flex-shrink:1;overflow-wrap:break-word}.dlgFwcDialog .fwcIpsecPanel .p-inputgroup{align-items:center;width:100%}.fwc-ipsec-panel-section .fwc-icon-center-button{display:inline-flex;align-items:center;justify-content:center;text-align:center}.fwc-ipsec-panel-section .fwc-icon-center-button .p-button-icon,.fwc-ipsec-panel-section .fwc-icon-center-button .p-button-icon-left,.fwc-ipsec-panel-section .fwc-icon-center-button .p-button-icon-right{display:inline-flex;align-items:center;justify-content:center;line-height:1;margin:0!important}.fwc-ipsec-panel-section .fwc-icon-center-button .p-button-label{display:none}p-fieldset[legend=Right] .p-fieldset-content{margin-top:10px}.p-tabs .p-tabs-panels{max-width:100%;width:100%;overflow:hidden;box-sizing:border-box;display:flex;flex-direction:column}.p-tabs .p-tabs-panels *{max-width:100%!important;box-sizing:border-box;flex-shrink:1;overflow-wrap:break-word}.p-tabs .p-tabs-panels table{width:100%!important;table-layout:fixed}.p-tabs .p-tabs-panels input,.p-tabs .p-tabs-panels select,.p-tabs .p-tabs-panels button{max-width:100%;min-width:0}#networkData .p-fieldset .p-fieldset-content{padding-bottom:0!important;height:80px;min-height:80px;max-height:80px}#networkData .grid{align-items:center}#networkData .grid>.col-1{display:flex;align-items:center;justify-content:center}sts-fwc-ipsec-config-panel p-fieldset.fwc-ipsec-installation .p-fieldset-content{height:80px!important;min-height:80px!important;max-height:80px!important}.p-button-icon.pi-chevron-down{margin-right:4px!important}.fwc-ipsec-log-grid{height:435px;min-height:0}
`],encapsulation:2,data:{animation:[$d]}});let i=n;return i})();var mpt=["fwcVpnStatusComponent"],gpt=()=>({width:"90vw"});function _pt(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=h(2);p(),Y(" (",e.configObj==null?null:e.configObj.cluster_name,") ")}}function bpt(i,n){if(i&1&&R(0),i&2){let e=h(2);Y(" (",e.configObj==null?null:e.configObj.firewall_name,") ")}}function ypt(i,n){if(i&1&&(_(0,"div",5)(1,"h6",6),N(2,"i",7),R(3),D(4,"translate"),_(5,"strong"),R(6),b(),G(7,_pt,2,1,"span")(8,bpt,1,1),b()()),i&2){let e=h();p(3),Y(" ",k(4,3,"VPN.STATUS.PANEL_TITLE_FULL")," "),p(3),Y("'",e.configObj==null?null:e.configObj._fwcObjName,"'"),p(),H(e.configObj!=null&&e.configObj.cluster_id?7:8)}}function vpt(i,n){if(i&1){let e=B();_(0,"p-button",8),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.closeDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var lDi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c){super(r,o,t,a,l,c),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.translate=s,this.cd=a,this.store=l,this.router=c,this.alive=!0,this.createDialog(this.translate.instant("VPN.STATUS.PANEL_TITLE"),"fwci2-openvpn",oi.VPN_STATUS_PANEL)}ngOnInit(){this.itemSelectedService.getItem().pipe(Nt(()=>this.alive)).subscribe(t=>{[O.OBJ_OPENVPN_CONFIG_SER,O.OBJ_WGS_CONFIG_SER,O.OBJ_ISS_CONFIG_SER].includes(t.obj_type)&&t.statusAction&&(this.loadingData=!0,this.showDialog(),this.configObj=t,this.recenterDialog())})}ngOnDestroy(){super.ngOnDestroy()}closeDialog(){this.fwcVpnStatusComponent&&this.fwcVpnStatusComponent.resetProperties(),this.hideDialog()}onDialogHide(t){this.loadingData=!1}onVpnStatusLoaded(t){this.loadingData=!1,this.recenterDialog()}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x($e),x(We),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-vpn-status-panel"]],viewQuery:function(o,r){if(o&1&&_e(mpt,5),o&2){let s;W(s=$())&&(r.fwcVpnStatusComponent=s.first)}},standalone:!1,features:[re],decls:7,vars:8,consts:[["header",""],["fwcVpnStatusComponent",""],["footer",""],["styleClass","dlgFwcDialog",3,"visibleChange","onHide","visible","modal","resizable","closable"],[3,"statusLoaded","statusError","configObj"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fwcMenuIcon","fwci2-vpn-config","fwcOrange"],["icon","pi pi-times",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",3),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),A("onHide",function(l){return w(s),C(r.onDialogHide(l))}),E(1,ypt,9,5,"ng-template",null,0,ie),_(3,"sts-fwc-vpn-status",4,1),A("statusLoaded",function(l){return w(s),C(r.onVpnStatusLoaded(l))})("statusError",function(){return w(s),C(r.hideDialog())}),b(),E(5,vpt,2,5,"ng-template",null,2,ie),b()}o&2&&(De(Pe(7,gpt)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(3),f("configObj",r.configObj))},dependencies:[Ut,bt,YZ,It],encapsulation:2});let i=n;return i})();var wpt=()=>({width:"40rem",height:"20rem"});function Cpt(i,n){i&1&&(_(0,"div",6)(1,"h6",7),N(2,"i",8),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"FW.FW_MORE_INFO.MORE_INFO")," "))}function Spt(i,n){if(i&1){let e=B();_(0,"p-button",9),D(1,"translate"),A("onClick",function(){w(e);let o=h();return C(o.hideDialog())}),b()}if(i&2){let e=h();f("label",ae(k(1,3,"GLOBALS.MSG_BUTTONS.CLOSE")))("disabled",e.loadingData)}}var bDi=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g,y){super(r,o,t,m,g,y),this.itemSelectedService=t,this.appOptionsService=o,this.appDialogPanelsService=r,this.utilService=s,this.fwcUserService=a,this.fwcEventService=l,this.translate=c,this.confirmationService=d,this.fwcFirewallService=u,this.cd=m,this.store=g,this.router=y,this.loadingData=!1,this.createDialog("panel","")}ngOnInit(){}ngOnDestroy(){super.ngOnDestroy()}showFirewallPanel(t,o,r,s,a,l){this.showDialog(),this.fwc_agent_version=t,this.host_name=o,this.system_name=r,this.os_version=a,this.kernel_version=l}};n.\u0275fac=function(o){return new(o||n)(x(yt),x(St),x(kt),x(Tt),x(dt),x(dn),x($e),x(ti),x(Bt),x(We),x(tt),x(at))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-info-firewall"]],standalone:!1,features:[Se([Bt]),re],decls:40,vars:30,consts:[["header",""],["footer",""],["styleClass","dlgFwcDialog",3,"visibleChange","visible","modal","resizable","closable"],[1,"flex","flex-col","items-center"],[1,"mx-auto","text-center","p-[10px]"],[1,"col-8","w-full","mx-auto","max-w-[55vw]","md:max-w-[45vw]","lg:max-w-[37vw]","xl:max-w-[25vw]"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"pi","pi-info","fwcOrange"],["type","button","icon","pi pi-check",3,"onClick","disabled","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",2),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),E(1,Cpt,5,3,"ng-template",null,0,ie),_(3,"div",3)(4,"h3",4),R(5),D(6,"translate"),b(),_(7,"table",5)(8,"tr")(9,"th"),R(10),D(11,"translate"),b(),_(12,"td"),R(13),b()(),_(14,"tr")(15,"th"),R(16),D(17,"translate"),b(),_(18,"td"),R(19),b()(),_(20,"tr")(21,"th"),R(22),D(23,"translate"),b(),_(24,"td"),R(25),b()(),_(26,"tr")(27,"th"),R(28),D(29,"translate"),b(),_(30,"td"),R(31),b()(),_(32,"tr")(33,"th"),R(34),D(35,"translate"),b(),_(36,"td"),R(37),b()()()(),E(38,Spt,2,5,"ng-template",null,1,ie),b()}o&2&&(De(Pe(29,wpt)),Ae("visible",r.displayDialog),f("modal",!0)("resizable",!0)("closable",!1),p(5),Q(k(6,17,"FW.FW_MORE_INFO.FIREWALL_INFO")),p(5),Q(k(11,19,"FW.FW_MORE_INFO.AGENT_VERSION")),p(3),Q(r.fwc_agent_version),p(3),Q(k(17,21,"FW.FW_MORE_INFO.HOST_NAME")),p(3),Q(r.host_name),p(3),Q(k(23,23,"FW.FW_MORE_INFO.SYSTEM_NAME")),p(3),Q(r.system_name),p(3),Q(k(29,25,"FW.FW_MORE_INFO.OS_VERSION")),p(3),Q(r.os_version),p(3),Q(k(35,27,"FW.FW_MORE_INFO.KERNEL_VERSION")),p(3),Q(r.kernel_version))},dependencies:[Ut,bt,It],encapsulation:2});let i=n;return i})();var Ipt=["lastResponse"],Ept=()=>({width:"calc(850px + 2rem)"}),xpt=()=>({overflow:"hidden"}),Tpt=i=>({visibility:i,"margin-left":"1rem"}),Opt=()=>({width:"1.7rem",height:"1.7rem"});function Rpt(i,n){i&1&&(_(0,"div",22)(1,"h6",23),N(2,"i",24),R(3),D(4,"translate"),b()()),i&2&&(p(3),Y(" ",k(4,1,"CONTEXT.AI_ASSISTANT.AI_HEADER.AI_ASSISTANT")," "))}function Dpt(i,n){if(i&1&&(_(0,"span"),R(1),b()),i&2){let e=n.$implicit;p(),Q(e.label)}}function Ppt(i,n){if(i&1&&(_(0,"div")(1,"div"),R(2),b()()),i&2){let e=n.$implicit;p(2),Q(e.label)}}function Apt(i,n){if(i&1){let e=B();_(0,"p-button",25),A("onClick",function(){w(e);let o=h();return C(o.checkCompiledRules())}),b()}if(i&2){let e=h();f("disabled",!e.isPromptSelected)}}function kpt(i,n){if(i&1){let e=B();_(0,"p-button",26),A("onClick",function(){w(e);let o=h();return C(o.checkPolicyScript())}),b()}if(i&2){let e=h();f("disabled",!e.isPromptSelected)}}function Npt(i,n){if(i&1){let e=B();_(0,"p-button",29),D(1,"translate"),A("onClick",function(){w(e);let o=h(2);return C(o.handleClose())}),b()}i&2&&f("label",ae(k(1,2,"GLOBALS.MSG_BUTTONS.STOP")))}function Fpt(i,n){if(i&1){let e=B();G(0,Npt,2,4,"p-button",27),_(1,"p-button",28),A("onClick",function(){w(e);let o=h();return C(o.handleClose())}),b()}if(i&2){let e=h();H(e.loadingData?0:-1)}}var Pte=(()=>{let n=class n extends jt{constructor(t,o,r,s,a,l,c,d,u,m,g){super(t,o,r,m,s,a),this.appDialogPanelsService=t,this.appOptionsService=o,this.itemSelectedService=r,this.store=s,this.router=a,this.translate=l,this.fwcEventService=c,this.utilService=d,this.aiAssistantChatService=u,this.cd=m,this.fb=g,this.replay="",this.responses=[],this.loadingData=!1,this.firstAction=!0,this.selectedPrompt=null,this.customPrompt=null,this.messages=[],this.definedPrompts=[{id:0,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.PLACEHOLDER"),content:"",difficultyLevel:null,createdAt:null,config:null,isActive:!1},{id:1,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.0"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.0"),difficultyLevel:"beginner",createdAt:new Date,config:{temperature:1,maxTokens:1e3},isActive:!0},{id:2,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.1"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.1"),difficultyLevel:"intermediate",createdAt:new Date,config:{temperature:.9,maxTokens:900},isActive:!0},{id:3,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.2"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.2"),difficultyLevel:"intermediate",createdAt:new Date,config:{temperature:.8,maxTokens:800},isActive:!0},{id:4,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.3"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.3"),difficultyLevel:"advanced",createdAt:new Date,config:{temperature:.7,maxTokens:700},isActive:!0},{id:5,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.4"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.4"),difficultyLevel:"intermediate",createdAt:new Date,config:{temperature:.9,maxTokens:850},isActive:!0},{id:6,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.5"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.5"),difficultyLevel:"advanced",createdAt:new Date,config:{temperature:.8,maxTokens:750},isActive:!0},{id:7,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.6"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.6"),difficultyLevel:"advanced",createdAt:new Date,config:{temperature:1,maxTokens:950},isActive:!0},{id:8,title:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.7"),content:this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_CONTENT.7"),difficultyLevel:"beginner",createdAt:new Date,config:{temperature:.8,maxTokens:800},isActive:!0}],Array.isArray(this.definedPrompts)||(this.definedPrompts=[]),this.definedPrompts.length>0&&(this.selectedPrompt=this.definedPrompts[0].title||null),this.formModel=this.fb.group({selectedPrompt:this.fb.control(this.selectedPrompt||null),customPrompt:this.fb.control(null),messages:this.fb.array([]),responses:this.fb.array([])},{validators:this.validatePrompts.bind(this)})}ngOnInit(){super.ngOnInit(),this.formModel.get("selectedPrompt").valueChanges.subscribe(t=>{let o=this.formModel.get("customPrompt");t!==this.selectedPrompt&&(t?o.clearValidators():o.setValidators(Me.required),o.updateValueAndValidity(),this.selectedPrompt=t)}),this.formModel.get("customPrompt").valueChanges.subscribe(t=>{let o=this.formModel.get("selectedPrompt");t!==this.customPrompt&&(t?o.clearValidators():o.setValidators(Me.required),o.updateValueAndValidity(),this.customPrompt=t)})}validatePrompts(t){let o=t.get("selectedPrompt")?.value,r=t.get("customPrompt")?.value;return!o&&o===this.definedPrompts[0].title&&!r?{promptRequired:!0}:null}get isPromptSelected(){let t=this.formModel.get("selectedPrompt")?.value,o=this.formModel.get("customPrompt")?.value;return!!(t!=this.definedPrompts[0].title||o)}get selectablePrompts(){return[{label:"Select a prompt:",value:"Select a prompt:"},...this.definedPrompts.filter((t,o)=>o!==0).map(t=>({label:t.title,value:t.content}))]}showAIDialog(t){return V(this,null,function*(){let{fwcloud:o,firewallId:r,rulesIds:s,clusterId:a}=t;this.displayDialog=!0,this.responses=[],this.messages=[],this.loadingData=!1,this.fwcloud=o,this.firewallId=r,s&&s.length>0&&(this.rulesIds=[...s]),this.cd.detectChanges(),setTimeout(()=>{this.scrollIntoView()})})}checkPolicyScript(){this.log.startDataLoad(),this.firstAction?this.firstAction=!1:(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.log.scrollToBottom()),this.loadingData=!0;let t=[],o=this.formModel.get("selectedPrompt").value;o&&o!==this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.PLACEHOLDER")&&t.push(o);let r=this.formModel.get("customPrompt").value;r&&(r.split(`
`).forEach(a=>{t.push(a.trim())}),this.formModel.get("customPrompt").setValue(null),this.customPrompt=null);let s=t.join(`
`);this.addMessageToLog(s,Ue.MSG_INFO),this.communicationSubscription=this.utilService.fwcAPICallObservable(this.aiAssistantChatService.checkPolicyScript.bind(this.aiAssistantChatService,this.fwcloud,this.firewallId,s)).subscribe({next:a=>{if(this.responses.push(a.data),this.loadingData=!1,this.messages=[],this.responses=a.data.split(`
`),a.data==="")this.responses=[],this.log.scrollToBottom();else{for(let l of this.responses)this.addMessageToLog(l,Ue.MSG_NOTICE);this.log.scrollToBottom()}this.addMessageToLog(null,Ue.MSG_END),this.log.scrollToBottom(),this.loadingData=!1,setTimeout(()=>{this.scrollIntoView()})},error:a=>V(this,null,function*(){let l;if(typeof a?.error=="string")try{let c=JSON.parse(a.error);c?.data?.message&&(l=c.data.message)}catch{}l=l||a?.error?.data?.message||a?.error?.msg||a?.msg||a?.message||a?.error?.response||"Unknown error",this.responseError=l,this.responses.push(this.responseError),this.messages=[],this.addMessageToLog(this.responseError,Ue.MSG_ERROR),this.addMessageToLog(null,Ue.MSG_END),this.log.scrollToBottom(),this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null),this.cd.detectChanges()}),complete:()=>{this.loadingData=!1,this.cd.detectChanges()}})}checkCompiledRules(){this.log.startDataLoad(),this.firstAction?this.firstAction=!1:(this.addMessageToLog("",Ue.MSG_SEPARATOR),this.log.scrollToBottom()),this.loadingData=!0;let t=[],o=this.formModel.get("selectedPrompt").value;o&&o!==this.translate.instant("CONTEXT.AI_ASSISTANT.PROMPTS_LABELS.PLACEHOLDER")&&t.push(o);let r=this.formModel.get("customPrompt").value;r&&(r.split(`
`).forEach(a=>{t.push(a.trim())}),this.formModel.get("customPrompt").setValue(null),this.customPrompt=null);let s=t.join(`
`);this.addMessageToLog(s,Ue.MSG_INFO),this.communicationSubscription=this.utilService.fwcAPICallObservable(this.aiAssistantChatService.checkCompiledRules.bind(this.aiAssistantChatService,this.fwcloud,this.firewallId,s,this.rulesIds)).subscribe({next:a=>{if(this.responses.push(a.data),this.loadingData=!1,this.messages=[],this.responses=a.data.split(`
`),a.data==="")this.responses=[],this.log.scrollToBottom();else{for(let l of this.responses)this.addMessageToLog(l,Ue.MSG_NOTICE);this.log.scrollToBottom()}this.addMessageToLog(null,Ue.MSG_END),this.log.scrollToBottom(),setTimeout(()=>{this.scrollIntoView()})},error:a=>V(this,null,function*(){let l;if(typeof a?.error=="string")try{let c=JSON.parse(a.error);c?.data?.message&&(l=c.data.message)}catch{}l=l||a?.error?.data?.message||a?.error?.msg||a?.msg||a?.message||a?.error?.response||"Unknown error",this.responseError=l,this.responses.push(this.responseError),this.messages=[],this.addMessageToLog(this.responseError,Ue.MSG_ERROR),this.addMessageToLog(null,Ue.MSG_END),this.log.scrollToBottom(),this.loadingData=!1,this.communicationSubscription&&(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null),this.cd.detectChanges()}),complete:()=>{this.loadingData=!1,this.cd.detectChanges()}})}scrollIntoView(){this.lastResponse.nativeElement.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}clear(){let t=this.formModel.get("messages"),o=this.formModel.get("responses");for(;t.length!==0&&o.length!==0;)t.removeAt(0),o.removeAt(0);this.messages=[],this.responses=[],this.log&&this.log.clearMessages(),this.cd.detectChanges()}handleClose(){this.loadingData&&this.communicationSubscription?(this.communicationSubscription.unsubscribe(),this.communicationSubscription=null,this.loadingData=!1,this.hideDialog(),this.displayDialog=!1):(this.hideDialog(),this.displayDialog=!1)}};n.\u0275fac=function(o){return new(o||n)(x(kt),x(St),x(yt),x(tt),x(at),x($e),x(dn),x(Tt),x(Xu),x(We),x(EA))},n.\u0275cmp=oe({type:n,selectors:[["sts-fwc-ai-assistant"]],viewQuery:function(o,r){if(o&1&&(_e(Ipt,7),_e(wo,5)),o&2){let s;W(s=$())&&(r.lastResponse=s.first),W(s=$())&&(r.log=s.first)}},standalone:!1,features:[re],decls:29,vars:23,consts:[["header",""],["selectedItem",""],["item",""],["lastResponse",""],["styleClass","dlgFwcDialog fwcObjectDialog dlgFwcDialog--log-resize",3,"visibleChange","visible","modal","resizable","closable","contentStyle"],[1,"logger","fwc-log-flex"],[3,"autoResize"],[1,"message-input"],[1,"grid",2,"justify-content","center"],[3,"formGroup"],[1,"col-12"],["formControlName","selectedPrompt","appendTo","body","filter","false","name","selectedPrompt",1,"w-full",3,"options","autoDisplayFirst"],[1,"col-12",2,"margin-top","10px"],[1,"p-inputgroup"],[1,"p-float-label"],["pInputText","","type","text","maxlength","64","formControlName","customPrompt","name","customPrompt",2,"font-family","'Montserrat', sans-serif !important",3,"drop"],["for","customPrompt"],["type","button","styleClass","mr-2","id","checkCompiledRules","label","Check rules","icon","pi pi-check",3,"disabled"],["type","button","styleClass","mr-2","id","checkPolicyScript","label","Check policy script","icon","pi pi-check",3,"disabled"],[1,"divLoadTemp",3,"ngStyle"],["styleClass","p-button-danger","type","button","id","clean","label","Clear messages","icon","fas fa-trash",3,"onClick"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[1,"fa-solid","fa-robot","panel-header-icon"],["type","button","styleClass","mr-2","id","checkCompiledRules","label","Check rules","icon","pi pi-check",3,"onClick","disabled"],["type","button","styleClass","mr-2","id","checkPolicyScript","label","Check policy script","icon","pi pi-check",3,"onClick","disabled"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"label"],["type","button","icon","pi pi-check","label","Close",3,"onClick"],["type","button","styleClass","p-button-danger","icon","fa fa-xmark",3,"onClick","label"]],template:function(o,r){if(o&1){let s=B();_(0,"p-dialog",4),ke("visibleChange",function(l){return w(s),Ne(r.displayDialog,l)||(r.displayDialog=l),C(l)}),E(1,Rpt,5,3,"ng-template",null,0,ie),_(3,"div",5),N(4,"sts-fwc-log",6),b(),_(5,"div",7)(6,"div",8)(7,"form",9),we(8),_(9,"div",10)(10,"p-select",11),E(11,Dpt,2,1,"ng-template",null,1,ie)(13,Ppt,3,1,"ng-template",null,2,ie),b()(),_(15,"div",12)(16,"div",13)(17,"span",14)(18,"input",15),A("drop",function(l){return w(s),C(r.preventDrop(l))}),b(),_(19,"label",16),R(20),D(21,"translate"),b()()()(),Ce(),G(22,Apt,1,1,"p-button",17)(23,kpt,1,1,"p-button",18),_(24,"div",19),N(25,"p-progressSpinner"),b(),_(26,"p-button",20,3),A("onClick",function(){return w(s),C(r.clear())}),b()()()(),E(28,Fpt,2,1,"ng-template",21),b()}o&2&&(De(Pe(18,Ept)),Ae("visible",r.displayDialog),f("modal",!1)("resizable",!0)("closable",!1)("contentStyle",Pe(19,xpt)),p(4),f("autoResize",!0),p(3),f("formGroup",r.formModel),p(3),f("options",r.selectablePrompts)("autoDisplayFirst",!1),p(10),Y(" ",k(21,16,"CONTEXT.AI_ASSISTANT.CUSTOM_PROMPT")," "),p(2),H(r.rulesIds!=null&&!r.loadingData?22:r.rulesIds==null&&!r.loadingData?23:-1),p(2),f("ngStyle",de(20,Tpt,r.loadingData?"visible":"hidden")),p(),De(Pe(22,Opt)))},styles:[".p-select.fwcGridDropDown[_ngcontent-%COMP%]{width:100%!important}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:97%;height:100%}.message-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.logger[_ngcontent-%COMP%]{margin-top:.625rem;margin-bottom:.313rem;height:350px;width:850px}"]});let i=n;return i})();var Lpt=()=>({width:"70vw"});function Mpt(i,n){if(i&1){let e=B();_(0,"div",7)(1,"h6",8),N(2,"i",9),R(3),b()(),_(4,"div",10)(5,"button",11),A("click",function(){w(e);let o=h();return C(o.onHeaderClose())}),b()()}if(i&2){let e=h();p(2),f("ngClass",e.headerIcon),p(),Y(" ",e.headerTitle," ")}}function Bpt(i,n){if(i&1&&(_(0,"div",4),N(1,"i",12),_(2,"h6"),R(3),b(),N(4,"p",13),b()),i&2){let e=h();p(3),Q(e.dangerousRulesMsg.title),p(),f("innerHTML",e.dangerousRulesMsg.text,on)}}function Vpt(i,n){if(i&1){let e=B();_(0,"div",5)(1,"sts-fwc-object-restrictions",14),A("onHideParent",function(){w(e);let o=h();return C(o.handleMinimizeParentRequest())}),b()()}if(i&2){let e=h();p(),f("dependencies",e.dangerousRulesDependencies)("readOnly",!1)}}function Upt(i,n){if(i&1){let e=B();_(0,"div",15)(1,"button",16),D(2,"translate"),A("click",function(){w(e);let o=h();return C(o.onFooterClose())}),b()()}i&2&&(p(),f("label",ae(k(2,2,"GLOBALS.MSG_BUTTONS.CLOSE"))))}var xl=class xl extends jt{constructor(n,e,t,o,r,s,a){super(n,e,t,o,r,s),this.translate=a,this.data=null,this.dangerousRulesMsg=null,this.dangerousRulesDependencies=null,this.pauseNotified=!1,this.actionMode="firewall",this.headerTitle=this.translate.instant("COMPILE.DANGEROUS_RULES_HEADER"),this.headerIcon=xl.DEFAULT_HEADER_ICON,this.createDialog(this.headerTitle,xl.DEFAULT_DIALOG_ICON,oi.DANGEROUS_RULES_PANEL)}openWithData(n,e){this.data={firewallId:n?.firewallId,firewallName:n?.firewallName,firewallType:n?.firewallType,rules:Array.isArray(n?.rules)?n.rules.map(s=>ee({},s)):[]},this.dialogOptions=e,this.actionMode=e?.actionMode??"firewall",this.pauseNotified=!1,this.headerTitle=n?.dialogTitle||this.translate.instant("COMPILE.DANGEROUS_RULES_HEADER");let t=n?.dialogIcon,o=t||xl.DEFAULT_DIALOG_ICON,r=t||xl.DEFAULT_HEADER_ICON;this.headerIcon=r,this.title=this.headerTitle,this.icon=o,this.dangerousRulesMsg=this.createDangerousRulesMessage(),this.dangerousRulesDependencies=this.createDangerousRulesDependencies(),this.showDialog(),this.bringToFront(),this.notifyCompilationPause()}onFooterClose(){this.notifyCompilationPause(),this.dialogOptions?.onDialogClose?.("close"),this.hideDialog()}reloadRestrictions(){this.dangerousRulesDependencies=this.createDangerousRulesDependencies()}handleMinimizeParentRequest(){this.notifyCompilationPause(),this.dialogOptions?.onDialogClose?.("minimize"),this.minimizeDialog()}restoreDialog(){let n=this.dialogMinified;super.restoreDialog(),n&&(this.dialogOptions?.onDialogRestore?.(),this.requestRecompileOnRestore())}bringToFront(){setTimeout(()=>this.dialog?.moveOnTop?.(),0)}get hasDangerousRules(){return!!this.dangerousRulesDependencies&&Object.keys(this.dangerousRulesDependencies).length>0}notifyCompilationPause(){this.pauseNotified||this.actionMode!=="firewall"||(this.dialogOptions?.onCloseCompilation?.(),this.pauseNotified=!0)}onHeaderClose(){this.minimizeDialog()}requestRecompileOnRestore(){this.data&&this.dialogOptions?.onRequestRecompile?.(this.data)}createDangerousRulesMessage(){return this.data?{type:"warning",title:this.translate.instant("COMPILE.DANGEROUS_RULES_HEADER"),text:this.translate.instant("COMPILE.DANGEROUS_RULES_MSG",{firewallType:this.data.firewallType||"",name:this.data.firewallName||""})}:null}createDangerousRulesDependencies(){if(!this.data?.rules?.length)return null;let n=this.data.rules.reduce((t,o)=>{let r=this.buildWhereUsedItem(o);if(!r)return t;let s=Fe(ee({},r),{rule_id:o.id??r.rule_id,rule_order:o.ruleOrder??r.rule_order,rule_type_name:this.buildPolicyName(o),obj_type_id:O.OBJ_GEN_RULE,_fwcDangerSeverity:this.getRuleSeverity(o)});return t.push(s),t},[]);if(!n.length)return null;let e={warning:0,critical:1};return n.sort((t,o)=>{let r=(e[t._fwcDangerSeverity]??1)-(e[o._fwcDangerSeverity]??1);if(r!==0)return r;let s=Number.isFinite(t.rule_order)?t.rule_order:Number.MAX_SAFE_INTEGER,a=Number.isFinite(o.rule_order)?o.rule_order:Number.MAX_SAFE_INTEGER;return s-a}),{DangerousRules:n}}buildWhereUsedItem(n){if(!this.data?.firewallId||!n)return null;let e=Number(n.id??n.rule_id);if(!e)return null;let t=Number(n.rule_type),o=Number.isFinite(t)&&t>0?t:void 0;if(!o){let r=this.resolvePolicyNode(n);o=r?Fi[r]:void 0}return o?{rule_id:e,rule_type:o,firewall_id:this.data.firewallId,firewall_name:this.data.firewallName,cluster_id:n.cluster_id,cluster_name:n.cluster_name,rule_position_id:typeof n.rule_position_id=="number"?n.rule_position_id:void 0,rule_position_name:n.rule_position_name}:null}resolvePolicyNode(n){let e=String(n?.ruleChainType??"").toUpperCase();if(!e)return;let o=String(n?.ruleIPType??"").toUpperCase().includes("6"),r=e;r.endsWith("6")&&(o=!0,r=r.slice(0,-1));let a={INPUT:{ipv4:M.POLICY_INPUT,ipv6:M.POLICY_INPUT6},OUTPUT:{ipv4:M.POLICY_OUTPUT,ipv6:M.POLICY_OUTPUT6},FORWARD:{ipv4:M.POLICY_FORWARD,ipv6:M.POLICY_FORWARD6},SNAT:{ipv4:M.POLICY_SNAT,ipv6:M.POLICY_SNAT6},DNAT:{ipv4:M.POLICY_DNAT,ipv6:M.POLICY_DNAT6},PREROUTING:{ipv4:M.POLICY_DNAT,ipv6:M.POLICY_DNAT6},POSTROUTING:{ipv4:M.POLICY_SNAT,ipv6:M.POLICY_SNAT6},ROUTING:{ipv4:M.POLICY_ROUTING,ipv6:M.POLICY_ROUTING}}[r];return a?o?a.ipv6:a.ipv4:void 0}buildPolicyName(n){let e=String(n?.ruleChainType||"").toUpperCase(),o=String(n?.ruleIPType||"");return`${e} (${o})`}getRuleSeverity(n){return n?.critical?"critical":"warning"}};xl.DEFAULT_DIALOG_ICON="fwci-ipobjects",xl.DEFAULT_HEADER_ICON=`${xl.DEFAULT_DIALOG_ICON} fwcOrange`,xl.\u0275fac=function(e){return new(e||xl)(x(kt),x(St),x(yt),x(We),x(tt),x(at),x($e))},xl.\u0275cmp=oe({type:xl,selectors:[["app-fwc-dangerous-rules-panel"]],standalone:!1,features:[re],decls:7,vars:10,consts:[["styleClass","dlgFwcDialog dangerous-rules-dialog",3,"visibleChange","visible","modal","resizable","closable","baseZIndex"],["pTemplate","header"],[1,"dangerous-rules-panel"],[1,"dangerous-rules-panel__body"],[1,"divIconMessage"],[1,"fwcRestrictionsContainer","dangerous-rules-panel__restrictions"],["pTemplate","footer"],[1,"divFormHeader"],[1,"fwcWhite","fwcIconLeft"],[3,"ngClass"],[1,"divHeaderButtons"],["pButton","","type","button","icon","fa fa-window-minimize",1,"p-button-secondary",3,"click"],[1,"fa","fa-4x","fa-exclamation-triangle","fwcOrange"],[3,"innerHTML"],[3,"onHideParent","dependencies","readOnly"],[1,"dangerous-rules-panel__footer"],["type","button","pButton","","icon","pi pi-check",1,"p-button-primary",3,"click","label"]],template:function(e,t){e&1&&(_(0,"p-dialog",0),ke("visibleChange",function(r){return Ne(t.displayDialog,r)||(t.displayDialog=r),r}),E(1,Mpt,6,2,"ng-template",1),_(2,"div",2)(3,"div",3),G(4,Bpt,5,2,"div",4),G(5,Vpt,2,2,"div",5),b()(),E(6,Upt,3,4,"ng-template",6),b()),e&2&&(De(Pe(9,Lpt)),Ae("visible",t.displayDialog),f("modal",!0)("resizable",!0)("closable",!1)("baseZIndex",12e3),p(4),H(t.dangerousRulesMsg?4:-1),p(),H(t.hasDangerousRules?5:-1))},styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     .dangerous-rules-dialog.p-dialog{width:min(70vw,1100px)!important;max-width:1100px}[_nghost-%COMP%]     .dangerous-rules-dialog .p-dialog-content{padding:0;background:transparent}.dangerous-rules-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;border-radius:6px;overflow:hidden;box-shadow:0 8px 24px #0000001a}.dangerous-rules-panel__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:.5rem}.dangerous-rules-panel__restrictions[_ngcontent-%COMP%]{padding:1rem;border:1px solid rgba(0,0,0,.08);border-radius:6px;background:#f8fafc;max-height:60vh;overflow:auto}.dangerous-rules-panel__footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding:0 .25rem;flex-wrap:wrap}.dangerous-rules-panel__footer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{min-width:8rem}@media (max-width: 992px){[_nghost-%COMP%]     .dangerous-rules-dialog.p-dialog{width:90vw!important}.dangerous-rules-panel__body[_ngcontent-%COMP%]{padding:1.25rem}}@media (max-width: 576px){.dangerous-rules-panel__footer[_ngcontent-%COMP%]{justify-content:stretch}.dangerous-rules-panel__footer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{flex:1 1 auto}}"]});var XO=xl;var IAi=(()=>{let n=class n{};n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Ve({providers:[Ni,Of],imports:[Qe,rs,xA,Vee.forChild(),QA,cL,dL,YA,qA,Wk,na,Y1,Lf,pL,vy,uL,hL,Y1,ZA,fL,sk,Iy,kL,JM,QM,wy,e3,t3,ak,xy,Ty,i3,o3,IZ,OZ,PZ,MZ,q7,jZ,KZ,JA,ju,$6.forChild(),Qe,rs,xA,QA,cL,dL,YA,qA,Wk,na,Y1,Lf,pL,vy,uL,hL,ZA,fL,sk,Iy,kL,JM,QM,wy,e3,t3,ak,xy,Ty,i3,o3,JA]});let i=n;return i})();Mr(XO,function(){return[$t,Ut,_t,Ff,jh]},function(){return[It]});Mr(uee,function(){return[Ut,lo,wp,bt,wo,Nn]},function(){return[It]});Mr(gee,function(){return[$t,eo,Hi,_i,Zn,io,Zi,to,ao,_t,Mu,cn,bt,Ka,si,or,n3,qu]},function(){return[jb,It,wn]});Mr(_ee,function(){return[$t,Ut,Mu,bt,Iw,TZ]},function(){return[Ub,It,wn]});Mr(MO,function(){return[Gee]},[]);Mr(SO,function(){return[ft,eo,Hi,_i,Zn,io,to,ao,Ut,bt,si,Pn,Ir,Nn,Cm]},function(){return[It]});Mr(xO,function(){return[ft,eo,Hi,_i,Zn,to,ao,Ut,bt,si,Ir,Cm]},function(){return[It]});Mr(S0,function(){return[$t,ft,eo,_i,Zn,to,ao,Ut,lo,bt,Pn,wo]},function(){return[It]});Mr(WO,function(){return[ft,Ut,bt,Ka]},function(){return[It,wn]});Mr(nu,function(){return[ft,Ut,_t,Ff,Ka]},function(){return[It,wn]});Mr(zee,function(){return[ft,eo,Hi,_i,Zn,to,ao,Ut,bt,si,Pn,Ir,Nn,Cm]},function(){return[It]});Mr(Wee,function(){return[ft,eo,Hi,_i,Zn,to,ao,iy,Ut,bt,MJ,Pn,Ir,Nn,Cm]},function(){return[It]});Mr(I0,function(){return[$t,ft,Ut,lo,bt,wo]},function(){return[It]});Mr(Kee,function(){return[ft,eo,Hi,_i,Zn,to,ao,iy,Ut,bt,si,Pn,Ir,Nn,Cm]},function(){return[It]});Mr(qO,function(){return[ft,Hi,_i,Zi,Ut,lo,cn,bt,si,go,ul,Mf,hl,_0,R0]},function(){return[It]});Mr(QO,function(){return[ft,Hi,_i,Zi,Ut,lo,cn,bt,si,go,ul,Mf,hl,_0,D0]},function(){return[It]});Mr(Cm,[],function(){return[wn]});Mr(Pte,function(){return[ft,eo,Hi,_i,Zn,io,to,ao,Ut,_t,lo,bt,si,Pn,wo]},function(){return[It]});export{pi as a,Le as b,F0 as c,gR as d,Ar as e,nf as f,Dt as g,Ya as h,tie as i,nie as j,J as k,Xn as l,B0 as m,yR as n,of as o,Zo as p,vR as q,X as r,Tl as s,fie as t,Mm as u,es as v,wR as w,mie as x,gie as y,Jc as z,BB as A,yie as B,vie as C,U0 as D,xR as E,wie as F,Bo as G,Ta as H,Nt as I,kr as J,TR as K,ot as L,Xt as M,ne as N,Ve as O,he as P,be as Q,z as R,Zc as S,w as T,C as U,xe as V,IV as W,hn as X,Ci as Y,Za as Z,lt as _,ue as $,Ei as aa,wr as ba,Ine as ca,on as da,Cr as ea,OS as fa,roe as ga,BP as ha,p as ia,Nl as ja,te as ka,Ft as la,il as ma,Wo as na,x as oa,Fr as pa,oe as qa,je as ra,ht as sa,Vo as ta,re as ua,nt as va,E as wa,ce as xa,G as ya,H as za,ro as Aa,fn as Ba,mn as Ca,f as Da,_ as Ea,b as Fa,N as Ga,mi as Ha,gi as Ia,wt as Ja,we as Ka,Ce as La,ve as Ma,B as Na,Xi as Oa,A as Pa,h as Qa,ci as Ra,Ht as Sa,se as Ta,_e as Ua,W as Va,$ as Wa,_g as Xa,Rb as Ya,Ze as Za,Kt as _a,Lr as $a,De as ab,j as bb,R as cb,Q as db,Y as eb,Ps as fb,Ae as gb,Ne as hb,ke as ib,ae as jb,_s as kb,Se as lb,Mr as mb,Pe as nb,de as ob,Ct as pb,ga as qb,Br as rb,D as sb,k as tb,vi as ub,Zs as vb,ie as wb,ct as xb,In as yb,qe as zb,Ab,Tf as Bb,We as Cb,Z as Db,Je as Eb,$t as Fb,Mn as Gb,pt as Hb,ft as Ib,gt as Jb,Ale as Kb,gc as Lb,Qe as Mb,At as Nb,iA as Ob,ice as Pb,rce as Qb,Kb as Rb,As as Sb,cp as Tb,ai as Ub,a6 as Vb,Rce as Wb,Dce as Xb,Ie as Yb,dl as Zb,qpe as _b,vn as $b,hi as ac,B2t as bc,Yt as cc,nr as dc,li as ec,_d as fc,Jpe as gc,bd as hc,WA as ic,HA as jc,zA as kc,Qpe as lc,Bn as mc,Hi as nc,Ll as oc,Me as pc,_i as qc,Zn as rc,ho as sc,yA as tc,Ee as uc,Zi as vc,eo as wc,pp as xc,to as yc,V6 as zc,iy as Ac,ao as Bc,CA as Cc,SA as Dc,io as Ec,tr as Fc,rs as Gc,xA as Hc,$u as Ic,Ns as Jc,vd as Kc,s_ as Lc,Tc as Mc,Tk as Nc,at as Oc,Vl as Pc,zy as Qc,Ul as Rc,kt as Sc,JI as Tc,pUt as Uc,Oc as Vc,O as Wc,M as Xc,gr as Yc,Bk as Zc,ji as _c,Hr as $c,ra as ad,Ep as bd,_l as cd,Fi as dd,U as ed,UI as fd,jIe as gd,Go as hd,Ii as id,Ge as jd,ni as kd,Er as ld,Id as md,tH as nd,Ue as od,sn as pd,GIe as qd,f_ as rd,zf as sd,Mt as td,Wf as ud,xo as vd,oi as wd,V5t as xd,U5t as yd,j5t as zd,St as Ad,sa as Bd,Xu as Cd,IH as Dd,ry as Ed,SOt as Fd,EH as Gd,Ma as Hd,TUt as Id,ZI as Jd,FUt as Kd,Ba as Ld,dt as Md,Rg as Nd,RA as Od,$e as Pd,It as Qd,$6 as Rd,Jt as Sd,R_ as Td,Dc as Ud,dn as Vd,Bt as Wd,Wr as Xd,RE as Yd,En as Zd,DE as _d,Ki as $d,PE as ae,xr as be,a$ as ce,Yf as de,lN as ee,D_ as fe,kE as ge,cPe as he,FE as ie,NE as je,tt as ke,Cn as le,g$ as me,JPe as ne,d$t as oe,Pp as pe,_$ as qe,h$t as re,Ss as se,n2e as te,o2e as ue,r2e as ve,qi as we,s2e as xe,l2e as ye,_r as ze,an as Ae,_2e as Be,y2e as Ce,w$ as De,T$t as Ee,Ua as Fe,qn as Ge,ME as He,ch as Ie,aa as Je,co as Ke,Oo as Le,yt as Me,dh as Ne,vKt as Oe,Pg as Pe,no as Qe,fo as Re,hr as Se,U1 as Te,Dn as Ue,sl as Ve,Et as We,Di as Xe,Ng as Ye,MOt as Ze,ud as _e,vs as $e,ba as af,e8 as bf,Sr as cf,vc as df,jo as ef,qt as ff,ss as gf,$o as hf,hd as if,Vt as jf,ti as kf,ii as lf,_t as mf,Oe as nf,Tt as of,Ni as pf,Ye as qf,Gg as rf,et as sf,Xe as tf,gy as uf,yp as vf,pe as wf,Pt as xf,Ic as yf,Bl as zf,zt as Af,M8 as Bf,Hg as Cf,gd as Df,ll as Ef,j8 as Ff,ks as Gf,$8 as Hf,oo as If,Ff as Jf,bt as Kf,Lf,wp as Mf,Y1 as Nf,lo as Of,qA as Pf,si as Qf,vy as Rf,O0 as Sf,Ir as Tf,JA as Uf,Lci as Vf,gO as Wf,$d as Xf,w9 as Yf,dkt as Zf,Bi as _f,ukt as $f,Ut as ag,QA as bg,lFe as cg,iLe as dg,dL as eg,Mu as fg,YA as gg,cn as hg,na as ig,or as jg,dT as kg,hL as lg,q9 as mg,dfe as ng,ufe as og,ffe as pg,Z1 as qg,ZA as rg,qp as sg,gG as tg,Pn as ug,Iy as vg,Ey as wg,oI as xg,Qg as yg,go as zg,Mf as Ag,sk as Bg,cSe as Cg,ak as Dg,n3 as Eg,IZ as Fg,U$e as Gg,PZ as Hg,qu as Ig,q7 as Jg,Mh as Kg,jc as Lg,KZ as Mg,Bh as Ng,fO as Og,Vh as Pg,wn as Qg,edi as Rg,pdi as Sg,Sdi as Tg,Odi as Ug,y0 as Vg,jh as Wg,jt as Xg,Nn as Yg,Qr as Zg,Kd as _g,wo as $g,tee as ah,lr as bh,Pr as ch,bhi as dh,CO as eh,El as fh,EO as gh,Gh as hh,Tmi as ih,w3 as jh,cee as kh,dee as lh,Dgi as mh,zgi as nh,uee as oh,C3 as ph,gee as qh,_ee as rh,Vee as sh,J0i as th,Gee as uh,zee as vh,Wh as wh,Wee as xh,$h as yh,Kee as zh,bi as Ah,js as Bh,Gs as Ch,Hs as Dh,pte as Eh,Nw as Fh,fte as Gh,wJ as Hh,Fw as Ih,oIi as Jh,Cm as Kh,uxi as Lh,nOi as Mh,JRi as Nh,lDi as Oh,bDi as Ph,Pte as Qh,XO as Rh,IAi as Sh};
